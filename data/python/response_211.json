[{"tags": ["python", "math", "colors"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1548294417, "post_id": 54337443, "comment_id": 95493313, "body": "Although the <code>for</code> loop with <code>j</code> <i>is</i> in the inner-most part of the nested loops, I doubt it&#39;s the causing the issue. If possible, profile your script and to determine where it&#39;s <i>really</i> spending most of its time. See question <a href=\"https://stackoverflow.com/questions/582336/how-can-you-profile-a-python-script\">How can you profile a Python script?</a> for how to do that\u2014it&#39;s fairly easy."}, {"owner": {"reputation": 1, "user_id": 3478989, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524385198/picture?type=large", "display_name": "user3478989", "link": "https://stackoverflow.com/users/3478989/user3478989"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1548334940, "post_id": 54337443, "comment_id": 95509888, "body": "Thanks i will try that"}], "owner": {"reputation": 1, "user_id": 3478989, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524385198/picture?type=large", "display_name": "user3478989", "link": "https://stackoverflow.com/users/3478989/user3478989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548294559, "creation_date": 1548287522, "last_edit_date": 1548294559, "question_id": 54337443, "link": "https://stackoverflow.com/questions/54337443/slow-down-in-image-creation-math", "title": "Slow down in image creation math", "body": "<p>I have made this code to create an image like the one google have when you search color picker.</p>\n\n<p>the problem is in the for loop with j, if that part is commented out then I can click around in the image without slow down. So my question is if there some way to simplify the math or something I don't know about python that makes it slow here.</p>\n\n<pre><code> def create_palette(src, color):\n        width = 255\n        height = 255\n\n        for x in xrange(255):\n            for y in xrange(255):\n                new_color = [color[0],color[1],color[2],255.0]\n\n                x_distance = float(x)/float(width)\n                y_distance = float(y)/float(height)\n\n                for j in xrange(3):\n                    new_color[j] += float(255-new_color[apply_y]) * x_distance \n                    new_color[j] -= float(new_color[j]) * y_distance\n\n                src.set_at((x,y), new_color)\n\n        return src \n</code></pre>\n"}, {"tags": ["python", "discord", "discord.py"], "comments": [{"owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 0, "creation_date": 1548287652, "post_id": 54337435, "comment_id": 95492028, "body": "If you change the order of the functions in the file so that <code>authorize()</code> appears first, does it execute?"}, {"owner": {"reputation": 87, "user_id": 10355744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3294f128c74209f7aa44052e6f7814c4?s=128&d=identicon&r=PG&f=1", "display_name": "Epacity", "link": "https://stackoverflow.com/users/10355744/epacity"}, "reply_to_user": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 0, "creation_date": 1548287782, "post_id": 54337435, "comment_id": 95492048, "body": "@varlogtim No, same result occurs where the generate key one works and the authenticate does not."}, {"owner": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "edited": false, "score": 0, "creation_date": 1548288121, "post_id": 54337435, "comment_id": 95492109, "body": "Is it as simple as &quot;!authorize&quot; vs &quot;!activate&quot;?"}, {"owner": {"reputation": 87, "user_id": 10355744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3294f128c74209f7aa44052e6f7814c4?s=128&d=identicon&r=PG&f=1", "display_name": "Epacity", "link": "https://stackoverflow.com/users/10355744/epacity"}, "reply_to_user": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "edited": false, "score": 0, "creation_date": 1548288274, "post_id": 54337435, "comment_id": 95492144, "body": "@CraigMeier that doesn\u2019t work either."}, {"owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 0, "creation_date": 1548288427, "post_id": 54337435, "comment_id": 95492183, "body": "Link to API docs: <a href=\"https://discordpy.readthedocs.io/en/latest/api.html\" rel=\"nofollow noreferrer\">discordpy.readthedocs.io/en/latest/api.html</a> - this mentions the <code>on_message()</code> function but not any <code>authorize()</code> function"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1548291326, "post_id": 54337435, "comment_id": 95492735, "body": "You need to use the <code>commands</code> extension: <a href=\"https://discordpy.readthedocs.io/en/rewrite/ext/commands/commands.html\" rel=\"nofollow noreferrer\">discordpy.readthedocs.io/en/rewrite/ext/commands/commands.ht&zwnj;&#8203;ml</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 0, "creation_date": 1548288358, "post_id": 54337507, "comment_id": 95492160, "body": "Although, if that does work, I would probably abstract that further and have a <code>on_message()</code> function which handles reading messages and then each separate function that actually does the work, e.g., the <code>gen_password()</code> and <code>activate()</code> functions"}, {"owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "reply_to_user": {"reputation": 87, "user_id": 10355744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3294f128c74209f7aa44052e6f7814c4?s=128&d=identicon&r=PG&f=1", "display_name": "Epacity", "link": "https://stackoverflow.com/users/10355744/epacity"}, "edited": false, "score": 1, "creation_date": 1548288652, "post_id": 54337507, "comment_id": 95492223, "body": "Cool cool! You should probably split the message handling and other logic as I mentioned because this will get super message as you expand functionality."}, {"owner": {"reputation": 87, "user_id": 10355744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3294f128c74209f7aa44052e6f7814c4?s=128&d=identicon&r=PG&f=1", "display_name": "Epacity", "link": "https://stackoverflow.com/users/10355744/epacity"}, "edited": false, "score": 0, "creation_date": 1548288993, "post_id": 54337507, "comment_id": 95492302, "body": "Thanks for the suggestion, will definitely do this!"}], "tags": [], "owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "is_accepted": true, "score": 1, "last_activity_date": 1548288166, "creation_date": 1548288166, "answer_id": 54337507, "question_id": 54337435, "link": "https://stackoverflow.com/questions/54337435/discord-py-bot-events-formatted-exactly-the-same-yet-one-runs-and-one-wont-run/54337507#54337507", "title": "Discord.py bot events formatted exactly the same yet one runs and one won&#39;t run", "body": "<p>I am thinking that the code should maybe look like this:</p>\n\n<pre><code>@bot.event\nasync def on_message(message):\n    message = await bot.wait_for_message(author=message.author)\n    if message.content.startswith('!activate'):\n        global key\n        key = message.content[len('!activate'):].strip()\n        print(key)        \n    if message.content.startswith('!genlifetime password'):\n        global amount\n        amount = message.content[len('!genlifetime password'):].strip()\n        num = int(amount)\n        chars = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0']\n        for x in range(0, num):\n            authkey1 = ''\n            authkey2 = ''\n            authkey3 = ''\n            authkey4 = ''\n            for i in range(0,4):\n                authkey1 = authkey1 + chars[random.randrange(0,35)]\n            for i in range(0,4):\n                authkey2 = authkey2 + chars[random.randrange(0,35)]\n            for i in range(0,4):\n                authkey3 = authkey3 + chars[random.randrange(0,35)]\n            for i in range(0,4):\n                authkey4 = authkey4 + chars[random.randrange(0,35)]\n            authkey = authkey1 + '-' + authkey2 + '-' + authkey3 + '-' + authkey4\n            print(authkey)\n            with open(keyfile, 'a') as f:\n                f.write(authkey + ' LIFETIME \\n')\n</code></pre>\n\n<p>Although, I haven't tested this.</p>\n"}, {"tags": [], "owner": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "is_accepted": false, "score": 0, "last_activity_date": 1548288966, "creation_date": 1548288966, "answer_id": 54337615, "question_id": 54337435, "link": "https://stackoverflow.com/questions/54337435/discord-py-bot-events-formatted-exactly-the-same-yet-one-runs-and-one-wont-run/54337615#54337615", "title": "Discord.py bot events formatted exactly the same yet one runs and one won&#39;t run", "body": "<p>The <code>wait_for_message</code> calls seem superfluous: according to the docs, the <code>message</code> argument passed into the callbacks is the message you want. If you were to remove the calls to <code>wait_for_message</code> and just use the message passed in directly, it would probably work as expected.</p>\n"}], "owner": {"reputation": 87, "user_id": 10355744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3294f128c74209f7aa44052e6f7814c4?s=128&d=identicon&r=PG&f=1", "display_name": "Epacity", "link": "https://stackoverflow.com/users/10355744/epacity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 54337507, "answer_count": 2, "score": 1, "last_activity_date": 1548288966, "creation_date": 1548287429, "question_id": 54337435, "link": "https://stackoverflow.com/questions/54337435/discord-py-bot-events-formatted-exactly-the-same-yet-one-runs-and-one-wont-run", "title": "Discord.py bot events formatted exactly the same yet one runs and one won&#39;t run", "body": "<p>I've recently been experimenting with discord bots and the discord API, but I have come to a problem with bot events.  When made two events using the discord.py module, only one would work while the other one did not, yet both were formatted exactly the same.  Why is this happening and how can I fix this problem?  Here is my code:</p>\n\n<pre><code>@bot.event\nasync def on_message(message):\n    message = await bot.wait_for_message(author=message.author)\n    if message.content.startswith('!genlifetime password'):\n        global amount\n        amount = message.content[len('!genlifetime password'):].strip()\n        num = int(amount)\n        chars = ['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0']\n        for x in range(0, num):\n            authkey1 = ''\n            authkey2 = ''\n            authkey3 = ''\n            authkey4 = ''\n            for i in range(0,4):\n                authkey1 = authkey1 + chars[random.randrange(0,35)]\n            for i in range(0,4):\n                authkey2 = authkey2 + chars[random.randrange(0,35)]\n            for i in range(0,4):\n                authkey3 = authkey3 + chars[random.randrange(0,35)]\n            for i in range(0,4):\n                authkey4 = authkey4 + chars[random.randrange(0,35)]\n            authkey = authkey1 + '-' + authkey2 + '-' + authkey3 + '-' + authkey4\n            print(authkey)\n            with open(keyfile, 'a') as f:\n                f.write(authkey + ' LIFETIME \\n')\n\n@bot.event\nasync def authorize(message):\n    message = await bot.wait_for_message(author=message.author)\n    if message.content.startswith('!activate'):\n        global key\n        key = message.content[len('!activate'):].strip()\n        print(key)        \n\nbot.run(\"NTM3Mzk1NDQzNzAxNjQ1MzEz.DykoDA.x5PrEwxZ0hlY2TeCtKVlg1QsbfQ\")\n</code></pre>\n\n<p>When I run my bot and type in <code>!genlifetime password 10</code>, the bot will generate 10 keys like it is supposed to, print them in the shell, and put them in keys.txt.  However, the <code>authorize</code> event does not work at all.  If I type in !authorize key nothing happens in the shell.  The key is not printed at all.  I even tried putting a print before the <code>message = await bot.wait_for_message(author=message.author)</code> but that print would not print out either.  Both events are formatted the same way, so why does one work while the other does not?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "edited": false, "score": 0, "creation_date": 1548287582, "post_id": 54337433, "comment_id": 95492010, "body": "If you find two duplicates, say ` (14, 27, &#39;order2&#39;)` and  <code>(14, 27, &#39;order2.1&#39;)</code>, how do you know which 3rd item to use, <code>&#39;order2&#39;</code> or <code>&#39;order2.1&#39;</code>?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1548287622, "post_id": 54337433, "comment_id": 95492017, "body": "The 2nd item in the tuple doesn&#39;t matter?"}, {"owner": {"reputation": 315, "user_id": 2565385, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ab8a078fd5a70dcb70b86c704921a40?s=128&d=identicon&r=PG", "display_name": "ramd", "link": "https://stackoverflow.com/users/2565385/ramd"}, "reply_to_user": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "edited": false, "score": 1, "creation_date": 1548287654, "post_id": 54337433, "comment_id": 95492029, "body": "@JoePatten does not really matter, I can choose any one of them"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1548287697, "post_id": 54337433, "comment_id": 95492036, "body": "It&#39;s a generally <i>awful</i> idea to alter a list <i>while</i> you&#39;re iterating through it."}, {"owner": {"reputation": 315, "user_id": 2565385, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ab8a078fd5a70dcb70b86c704921a40?s=128&d=identicon&r=PG", "display_name": "ramd", "link": "https://stackoverflow.com/users/2565385/ramd"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1548287709, "post_id": 54337433, "comment_id": 95492039, "body": "@prune not really (would the solution be different if I would say yes?) and I agree/know its an <i>awfullest</i> of an idea to alter the list hence this post, looking for &quot;better/more pythonic&quot; solution."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1548287820, "post_id": 54337433, "comment_id": 95492056, "body": "Yes, the solution would be different; you&#39;d have to keep both (0, 0, &quot;a&quot;) and (0, 1, &quot;b&quot;) in that case."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1548287947, "post_id": 54337433, "comment_id": 95492074, "body": "Your given solution fails.  Try <code>a = [(14, 27, &#39;order1&#39;), (14, 27, &#39;order2&#39;), (14, 27, &#39;order2.1&#39;), (14, 27, &#39;order1&#39;), (28, 41, &#39;order3&#39;)]</code>"}, {"owner": {"reputation": 315, "user_id": 2565385, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ab8a078fd5a70dcb70b86c704921a40?s=128&d=identicon&r=PG", "display_name": "ramd", "link": "https://stackoverflow.com/users/2565385/ramd"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1548287999, "post_id": 54337433, "comment_id": 95492082, "body": "@Prune ok lets say it doesn&#39;t matter, if the 1st item matches then its dup, we will not check 2nd item."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1548288074, "post_id": 54337433, "comment_id": 95492101, "body": "Great; you have two viable answers, covering what I would have suggested.  Up-vote as appropriate, choose a &quot;best&quot; answer, and move on to your next coding need.  :-)"}], "answers": [{"tags": [], "owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "is_accepted": false, "score": 1, "last_activity_date": 1548287881, "creation_date": 1548287881, "answer_id": 54337471, "question_id": 54337433, "link": "https://stackoverflow.com/questions/54337433/remove-partially-duplicate-tuples-from-list-of-tuples/54337471#54337471", "title": "Remove partially duplicate tuples from list of tuples", "body": "<p>You can get the first element of each group in a grouped, sorted list:</p>\n\n<pre><code>from itertools import groupby\nfrom operator import itemgetter\n\na = [(0, 13, 'order1'), (14, 27, 'order2'), (14, 27, 'order2.1'), (0, 13, 'order1'), (28, 41, 'order3')]\n\nresult = [list(g)[0] for k, g in groupby(sorted(a), key=itemgetter(0))]\nprint(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 3, "last_activity_date": 1548287903, "creation_date": 1548287903, "answer_id": 54337474, "question_id": 54337433, "link": "https://stackoverflow.com/questions/54337433/remove-partially-duplicate-tuples-from-list-of-tuples/54337474#54337474", "title": "Remove partially duplicate tuples from list of tuples", "body": "<p>The usual way is keying a dict off whatever you want to dedupe by, for example:</p>\n\n<pre><code>&gt;&gt;&gt; a = [(0, 13, 'order1'), (14, 27, 'order2'), (14, 27, 'order2.1'), (0, 13, 'order1'), (28, 41, 'order3')] \n&gt;&gt;&gt; print(*{tup[:2]: tup for tup in a}.values()) \n(0, 13, 'order1') (14, 27, 'order2.1') (28, 41, 'order3')\n</code></pre>\n\n<p>This is <em>O(n)</em> time complexity, superior to <em>O(n log n)</em> groupby based approaches.</p>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1548288067, "creation_date": 1548288067, "answer_id": 54337496, "question_id": 54337433, "link": "https://stackoverflow.com/questions/54337433/remove-partially-duplicate-tuples-from-list-of-tuples/54337496#54337496", "title": "Remove partially duplicate tuples from list of tuples", "body": "<p>You should avoid modifying your list in place while iterating over it. Instead, you can use the popular <a href=\"https://docs.python.org/3/library/itertools.html#itertools-recipes\" rel=\"nofollow noreferrer\"><code>itertools</code> <code>unique_everseen</code> recipe</a>, also available in 3rd party <a href=\"https://more-itertools.readthedocs.io/en/stable/api.html#more_itertools.unique_everseen\" rel=\"nofollow noreferrer\"><code>more_itertools</code></a>. Just use <a href=\"https://docs.python.org/3/library/operator.html#operator.itemgetter\" rel=\"nofollow noreferrer\"><code>operator.itemgetter</code></a> in the <code>key</code> argument:</p>\n\n<pre><code>from more_itertools import unique_everseen\nfrom operator import itemgetter\n\nres = list(unique_everseen(L, key=itemgetter(0, 1)))\n</code></pre>\n\n<p>This solution takes O(<em>n</em>) time, but is generally <em>less</em> efficient than a dictionary-based solution, although it is arguably clearer in its intention.</p>\n"}], "owner": {"reputation": 315, "user_id": 2565385, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ab8a078fd5a70dcb70b86c704921a40?s=128&d=identicon&r=PG", "display_name": "ramd", "link": "https://stackoverflow.com/users/2565385/ramd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 320, "favorite_count": 1, "accepted_answer_id": 54337474, "answer_count": 3, "score": 2, "last_activity_date": 1601395453, "creation_date": 1548287415, "last_edit_date": 1601395453, "question_id": 54337433, "link": "https://stackoverflow.com/questions/54337433/remove-partially-duplicate-tuples-from-list-of-tuples", "title": "Remove partially duplicate tuples from list of tuples", "body": "<p>I have a list of tuples and need to delete tuples if its 1st item is matching with 1st item of other tuples in the list. 3rd item may or may not be the same, so I cannot use set (I have seen this question - <a href=\"https://stackoverflow.com/questions/35975441/grab-unique-tuples-in-python-list-irrespective-of-order\">Grab unique tuples in python list, irrespective of order</a> and this is not same as my issue)</p>\n<p>For eg if I got <code>a</code> as:</p>\n<pre><code>[(0, 13, 'order1'), (14, 27, 'order2'), (14, 27, 'order2.1'), \n (0, 13, 'order1'), (28, 41, 'order3')]\n</code></pre>\n<p>I want the output as:</p>\n<pre><code>[(14, 27, 'order2'), (0, 13, 'order1'), (28, 41, 'order3')]\n</code></pre>\n<p>I am getting the desired output using below code.</p>\n<pre><code>for e, i in enumerate(a):\n    r = [True if i[0] == k[0] and e != j else False for j, k in enumerate(a)]\n    if any(r):\n        a.pop(e)\npprint(a)\n</code></pre>\n<p>Is there a better or more pythonic way to achieve the same?</p>\n"}, {"tags": ["python", "vtk"], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 3453192, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004360830012/picture?type=large", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3453192/anthony"}, "edited": false, "score": 0, "creation_date": 1548532984, "post_id": 54363576, "comment_id": 95577470, "body": "vtkRenderer.ResetCamera() was 100% the method that I needed to be using. Thank you so much for your help - I&#39;ll pay it forward if I ever get the chance."}], "tags": [], "owner": {"reputation": 1595, "user_id": 5878054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb66b3b2529859a30f8ba5c502b393c?s=128&d=identicon&r=PG&f=1", "display_name": "mainactual", "link": "https://stackoverflow.com/users/5878054/mainactual"}, "is_accepted": true, "score": 1, "last_activity_date": 1548412765, "creation_date": 1548412765, "answer_id": 54363576, "question_id": 54337397, "link": "https://stackoverflow.com/questions/54337397/rendering-an-actor-created-within-a-vtkcommand-callback/54363576#54363576", "title": "Rendering an actor created within a vtkCommand (callback)", "body": "<p>Well, you definitely can add or remove actors inside a callback. To render the scene again immediately, simply call <code>iren.Render()</code>. </p>\n\n<p>When you start a renderer without any visible actors and without an explicitly defined camera, then <code>ResetCamera</code> is typically required. Automatic <code>ResetCamera</code> is only called once during the initialization, and this is the reason, why calling <code>foo()</code> before <code>iren.Start()</code> makes the object visible.</p>\n\n<pre><code>def foo():\n    LoadNifti()\n    ren.AddActor(actor)\n    ren.ResetCamera() # should that be necessary\n    iren.Render()\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 3453192, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004360830012/picture?type=large", "display_name": "Anthony", "link": "https://stackoverflow.com/users/3453192/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 54363576, "answer_count": 1, "score": 0, "last_activity_date": 1548412765, "creation_date": 1548287126, "last_edit_date": 1548287677, "question_id": 54337397, "link": "https://stackoverflow.com/questions/54337397/rendering-an-actor-created-within-a-vtkcommand-callback", "title": "Rendering an actor created within a vtkCommand (callback)", "body": "<p>I am attempting to write a program that displays and cycles through images of different file formats when the arrow keys are pressed. I have found that setting up my reader->mapper->actor pipeline and then starting my RenderWindowInteractor allows the actor to be rendered, but moving this code to a callback for the RenderWindowInteractor's KeyPressEvent does not allow the actor to be rendered. Are there additional steps required to set up a new actor once the event loop has started, or have I made some other mistake?</p>\n\n<pre><code>import vtk\n\n#Create the renderer that will display our actors\nren = vtk.vtkRenderer()\n\nactor = None\n\n#Maps the data from the Nifti file 'filename' onto a vtkImageSlice actor\ndef LoadNifti():\n    # load head MRI in NIFTI format\n    reader = vtk.vtkNIFTIImageReader()\n    reader.SetFileName(\"head.nii\")\n    reader.Update()\n\n    # Add an ImageSliceMapper, which maps data to an ImageSlice Actor\n    mapper = vtk.vtkImageSliceMapper()\n    #Set the slice position to the camera focal point\n    mapper.SliceAtFocalPointOn()\n    mapper.SetInputConnection(reader.GetOutputPort())\n\n    # Add an ImageSlice actor, which represents a slice as an image\n    global actor\n    actor = vtk.vtkImageSlice()\n    actor.SetMapper(mapper)\n\n#Placeholder for when I have DICOM working\ndef ShowDICOM(filename):\n    pass\n\n\n#Create a RenderWindow to display images from the Renderer\nrenWin = vtk.vtkRenderWindow()\nrenWin.AddRenderer(ren)\n\n#Wrap the RenderWindow in a RenderWindowInteractor to catch key and mouse events\niren = vtk.vtkRenderWindowInteractor()\niren.SetRenderWindow(renWin)\n\ndef foo():\n    LoadNifti()\n    ren.AddActor(actor)\n\n##Extend the default functionality of the interactor and its style with custom listeners\ndef KeyPressEvent(obj, ev):\n    foo()\n    print(\"This verifies that the callback is triggered\")\niren.AddObserver(\"KeyPressEvent\", KeyPressEvent)        \n\n#Start the program\n###########################################################################\n# WHEN foo() IS PRESENT BELOW, THE ACTOR WILL RENDER IMMEDIATELY.\n# WHEN foo() IS ABSENT BELOW, CALLING foo() BY TRIGGERING THE KeyPressEvent\n# IS NOT SUFFICIENT TO HAVE THE ACTOR RENDER.\n###########################################################################\nfoo()\n#According to the docs, the Start method will initialize iren and render renWin automatically\niren.Start()\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "geckodriver"], "comments": [{"owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 0, "creation_date": 1548289594, "post_id": 54337339, "comment_id": 95492423, "body": "If you slow down the operation rate (like how many requests you are running per minute) does it affect it?"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1548289742, "post_id": 54337339, "comment_id": 95492450, "body": "There are ways that websites can detect Selenium usage. If you google some, you&#39;ll find some explanations."}], "answers": [{"tags": [], "owner": {"reputation": 2121, "user_id": 10413416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceedf65b5c2b247ee12ed7b3420ee77d?s=128&d=identicon&r=PG&f=1", "display_name": "Infern0", "link": "https://stackoverflow.com/users/10413416/infern0"}, "is_accepted": false, "score": -1, "last_activity_date": 1548316867, "creation_date": 1548316867, "answer_id": 54341866, "question_id": 54337339, "link": "https://stackoverflow.com/questions/54337339/selenium-triggering-captcha/54341866#54341866", "title": "Selenium triggering CAPTCHA?", "body": "<p>This answer <a href=\"https://stackoverflow.com/a/53040904/10413416\">https://stackoverflow.com/a/53040904/10413416</a>\ncan give you more info how exactly browsers understand selenium is running and depending on the browser, there is algorithms that trigger check on suspicious activity.</p>\n"}], "owner": {"reputation": 11, "user_id": 10947257, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qdMxqsUsFEk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMlvQYCPg71z3ZnoXW4ts6W_aKPMA/mo/photo.jpg?sz=128", "display_name": "Bill", "link": "https://stackoverflow.com/users/10947257/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 653, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548316867, "creation_date": 1548286649, "question_id": 54337339, "link": "https://stackoverflow.com/questions/54337339/selenium-triggering-captcha", "title": "Selenium triggering CAPTCHA?", "body": "<p>I am trying to scrape this website using selenium (geckodriver) in python. The website started giving me a catpcha after a while. The captcha is triggered when I use a browser launched by selenium, even when loading my personal Firefox profile. However, it is not triggered when I use a browser I manually launch with the same profile. Any insight into what might be going on?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 6, "creation_date": 1548286622, "post_id": 54337311, "comment_id": 95491809, "body": "Are you using Python 3?  <code>print</code> was changed to be a function, but it looks like you&#39;re using code written for an older version."}], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 10958592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0qJ8.png?s=128&g=1", "display_name": "ShootingStar91", "link": "https://stackoverflow.com/users/10958592/shootingstar91"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 1, "creation_date": 1548287238, "post_id": 54337349, "comment_id": 95491948, "body": "@CristiFati Thank you, my first post here, had trouble with all the formatting, fixed it"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1548288384, "post_id": 54337349, "comment_id": 95492168, "body": "Sure. At first, I downvoted the answer for being incorrect, then I retracted the downvote."}], "tags": [], "owner": {"reputation": 26, "user_id": 10958592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q0qJ8.png?s=128&g=1", "display_name": "ShootingStar91", "link": "https://stackoverflow.com/users/10958592/shootingstar91"}, "is_accepted": true, "score": 1, "last_activity_date": 1548288521, "last_edit_date": 1548288521, "creation_date": 1548286718, "answer_id": 54337349, "question_id": 54337311, "link": "https://stackoverflow.com/questions/54337311/trying-to-import-fractions-but-its-giving-me-a-syntax-error/54337349#54337349", "title": "Trying to import fractions but it&#39;s giving me a syntax error", "body": "<p>First, could it be that you are using Python 3 and are trying to use print using the Python 2 style? Try changing that line to: </p>\n\n<pre><code>from fractions import Fraction\n\nprint(Fraction(10, 6))\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10958563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fbd3f515dabb3592e8678973728ab3d?s=128&d=identicon&r=PG&f=1", "display_name": "murray10121", "link": "https://stackoverflow.com/users/10958563/murray10121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 54337349, "answer_count": 1, "score": -2, "last_activity_date": 1548288521, "creation_date": 1548286466, "last_edit_date": 1548286573, "question_id": 54337311, "link": "https://stackoverflow.com/questions/54337311/trying-to-import-fractions-but-its-giving-me-a-syntax-error", "title": "Trying to import fractions but it&#39;s giving me a syntax error", "body": "<p>I have downloaded/installed the quicktions library into Thonny and I've tried </p>\n\n<pre><code>import fraction\nimport Fractions\nfrom fractions import Fraction\nfrom fractions import *\n</code></pre>\n\n<p>It just keeps saying (in the shell)</p>\n\n<pre><code>SyntaxError: invalid syntax \nTraceback (most recent call last):\nFile \"C:\\Users\\(my name)\\Desktop\\yy.py\", line 3\nprint Fraction(10,6)\n</code></pre>\n\n<p>I have a computer science final project due tonight and I've been stuck on this problem for 3 or 4 hours, and it's due in 5 hours. I have to make a calculator to calculate a side of a triangle using sin and it's very important I am able to use fractions, I need help I'm new to coding thank you</p>\n"}, {"tags": ["python", "sql", "django", "django-orm"], "comments": [{"owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "edited": false, "score": 0, "creation_date": 1548295642, "post_id": 54337310, "comment_id": 95493578, "body": "can you add your django models ?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10958570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5e5817ba8125426095767a1b7ae178c?s=128&d=identicon&r=PG&f=1", "display_name": "user10958570", "link": "https://stackoverflow.com/users/10958570/user10958570"}, "edited": false, "score": 1, "creation_date": 1548302125, "post_id": 54339038, "comment_id": 95494848, "body": "awesome @chiheb, thats exactly what i was looking for - thanks so much!!"}], "tags": [], "owner": {"reputation": 7745, "user_id": 3926995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2l63X.jpg?s=128&g=1", "display_name": "Chiheb Nexus", "link": "https://stackoverflow.com/users/3926995/chiheb-nexus"}, "is_accepted": true, "score": 0, "last_activity_date": 1548301873, "last_edit_date": 1548301873, "creation_date": 1548301106, "answer_id": 54339038, "question_id": 54337310, "link": "https://stackoverflow.com/questions/54337310/how-to-convert-sql-states-below-to-django-orm/54339038#54339038", "title": "How to convert SQL states below to Django ORM", "body": "<p>Suppose you have these models inside a django app called <code>horaire</code>:</p>\n\n<pre><code>class A(models.Model):\n    city = models.CharField(max_length=200, null=True, blank=True)\n    postcode = models.CharField(max_length=200, null=True, blank=True)\n    state = models.CharField(max_length=200, null=True, blank=True)\n\n\nclass B(models.Model):\n    jurs_id = models.ForeignKey(A, related_name=\"ab\", on_delete=models.DO_NOTHING)\n    rate_authority = models.CharField(max_length=200, null=True)\n    rate = models.CharField(max_length=200, null=True)\n    rate_descr = models.CharField(max_length=200, null=True)\n</code></pre>\n\n<p>In your django's shell you can do:</p>\n\n<pre><code>$&gt; from horaire.models import B\n$&gt; items = B.objects.values(\n       'jurs_id__city',\n       'jurs_id__state',\n       'jurs_id__postcode',\n       'rate_authority',\n       'rate',\n       'rate_descr'\n   ).order_by('jurs_id__state')\n$&gt; print(items.query)\nSELECT \n    \"horaire_a\".\"city\", \n    \"horaire_a\".\"state\", \n    \"horaire_a\".\"postcode\",\n    \"horaire_b\".\"rate_authority\",\n    \"horaire_b\".\"rate\",\n    \"horaire_b\".\"rate_descr\" \nFROM \"horaire_b\" \n    INNER JOIN \"horaire_a\" ON (\"horaire_b\".\"jurs_id_id\" = \"horaire_a\".\"id\") \nORDER BY \"horaire_a\".\"state\" ASC\n</code></pre>\n\n<p>OR, you can do:</p>\n\n<pre><code>$&gt; from horaire.models import A\n$&gt; items = A.objects.values(\n       'city',\n       'postcode',\n       'state',\n       'ab__rate_authority',\n       'ab__rate',\n       'ab__rate_descr'\n   ).order_by('state')\n$&gt; print(items.query)\nSELECT \n    \"horaire_a\".\"city\", \n    \"horaire_a\".\"postcode\", \n    \"horaire_a\".\"state\", \n    \"horaire_b\".\"rate_authority\", \n    \"horaire_b\".\"rate\", \n    \"horaire_b\".\"rate_descr\" \nFROM \"horaire_a\" \n    LEFT OUTER JOIN \"horaire_b\" ON (\"horaire_a\".\"id\" = \"horaire_b\".\"jurs_id_id\") \nORDER BY \"horaire_a\".\"state\" ASC\n</code></pre>\n\n<p>However as you can see, there is not any <code>ALIAS</code> in the final SQL queries and i didn't find a relative way to make it happen using <code>DJANGO ORM</code> (see this <a href=\"https://stackoverflow.com/questions/18230691/alias-name-in-query-set\">answer for more details</a>).\nBesides of this, you can alway pass a <code>Raw SQL</code> and of course you can write you custom SQL query and you can later consume the data under your applications.\nFor more informations about <code>Raw SQL in Django</code>, visit this <a href=\"https://docs.djangoproject.com/en/2.1/topics/db/sql/\" rel=\"nofollow noreferrer\">documentation link</a></p>\n"}], "owner": {"reputation": 23, "user_id": 10958570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5e5817ba8125426095767a1b7ae178c?s=128&d=identicon&r=PG&f=1", "display_name": "user10958570", "link": "https://stackoverflow.com/users/10958570/user10958570"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 1, "accepted_answer_id": 54339038, "answer_count": 1, "score": 2, "last_activity_date": 1548302687, "creation_date": 1548286453, "last_edit_date": 1548302687, "question_id": 54337310, "link": "https://stackoverflow.com/questions/54337310/how-to-convert-sql-states-below-to-django-orm", "title": "How to convert SQL states below to Django ORM", "body": "<p>Having difficult time to convert the SQL statements below to Django ORM. Any help is much appreciated.</p>\n\n<pre><code>SELECT a.state, \n       a.city, \n       a.postcode, \n       b.rate_authority, \n       b.rate, \n       b.rate_descr \nFROM   fileload_taxratemodel AS a \n       INNER JOIN fileload_taxrateresponsemodel AS b \n               ON b.jurs_id_id = a.id \nORDER  BY state ASC \n</code></pre>\n\n<p><strong>Django Models:</strong> </p>\n\n<p>Trying to pull fields from both model based on the foreign key.</p>\n\n<pre><code>class TaxRateModel(models.Model):\n\ncompany_code = models.CharField(max_length = 10)\ndocument_date = models.DateTimeField()\ncountry = models.CharField(max_length = 30, default = \"US\")\nprovince = models.CharField(max_length = 100, null= True,blank= True)\nstate = models.CharField(max_length = 100)\ncounty = models.CharField(max_length = 100,blank=True, null=True)\ncity = models.CharField(max_length = 100,blank=True, null=True)\ndistrict = models.CharField(max_length = 100, blank=True, null=True)\npostcode = models.CharField(max_length = 5, blank=True, null=True)\nrate_code = models.CharField(max_length = 30,default = \"ST\")\n</code></pre>\n\n<p>Django 2nd Model :</p>\n\n<pre><code>class TaxRateResponseModel(models.Model):\njurs_id = models.ForeignKey(TaxRateModel,on_delete=models.CASCADE,related_name='rates')\nrate_authority = models.CharField(max_length = 100, blank=True, null=True, default='')\nrate_descr = models.CharField(max_length = 100, blank=True, null=True, default ='')\nrate = models.DecimalField(max_digits= 10, decimal_places=5)\n</code></pre>\n"}, {"tags": ["python", "sonarqube", "jupyter-notebook", "sonarqube-scan"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11043441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8722682ea5d96bc274f08dca3ad1914a?s=128&d=identicon&r=PG&f=1", "display_name": "Akhil reddy pingili", "link": "https://stackoverflow.com/users/11043441/akhil-reddy-pingili"}, "is_accepted": false, "score": 1, "last_activity_date": 1584356606, "last_edit_date": 1584356606, "creation_date": 1584356194, "answer_id": 60704649, "question_id": 54337299, "link": "https://stackoverflow.com/questions/54337299/sonarpython-not-scanning-jupyter-notebook-ipynb/60704649#60704649", "title": "Sonarpython not scanning Jupyter notebook .ipynb", "body": "<p>Add ipynb in next line as shown in image below.</p>\n\n<p><img src=\"https://i.stack.imgur.com/62nzv.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 576, "user_id": 6679114, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f79fe06a22f29c07e43cec8bfe9b5da7?s=128&d=identicon&r=PG&f=1", "display_name": "K.Pil", "link": "https://stackoverflow.com/users/6679114/k-pil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1584356606, "creation_date": 1548286308, "last_edit_date": 1548291935, "question_id": 54337299, "link": "https://stackoverflow.com/questions/54337299/sonarpython-not-scanning-jupyter-notebook-ipynb", "title": "Sonarpython not scanning Jupyter notebook .ipynb", "body": "<p>I am using Sonarqube to scan my GIT repository , and have Installed a plugin called \"SonarPython\". </p>\n\n<p>It scans all python files (.py) but does not pick up any of the jupyter notebook with extension (.ipynb). </p>\n\n<p>Is this a right plugin to scan jupyter notebook ? Are there any other ways scan jupyter notebook in SonarPython </p>\n\n<p>My Sonar project file </p>\n\n<pre><code># must be unique in a given SonarQube instance\nsonar.projectKey=Python:KeyValueeeeeee\n# this is the name and version displayed in the SonarQube UI. Was mandatory prior to SonarQube 6.1.\nsonar.projectName=Myproject\nsonar.projectVersion=1.0\n\n# Path is relative to the sonar-project.properties file. Replace \"\\\" by \"/\" on Windows.\n# This property is optional if sonar.modules is set. \nsonar.sources=./\n\n# Encoding of the source code. Default is default system encoding\n#sonar.sourceEncoding=UTF-8 \n</code></pre>\n\n<p>Even added a setting on Sonarqube :</p>\n\n<p><a href=\"https://i.stack.imgur.com/zA384.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zA384.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "macos"], "comments": [{"owner": {"reputation": 3800, "user_id": 9035237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34bf4b56e66db99e1e713299fa0df413?s=128&d=identicon&r=PG&f=1", "display_name": "Geno Chen", "link": "https://stackoverflow.com/users/9035237/geno-chen"}, "edited": false, "score": 0, "creation_date": 1548286202, "post_id": 54337239, "comment_id": 95491694, "body": "Use Python 2, or try to use <code>2to3</code>."}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1548286220, "post_id": 54337239, "comment_id": 95491699, "body": "<code>has_key</code> is deprecated in Python 3. Why don&#39;t you use Python 2.7 instead?"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1548286784, "post_id": 54337239, "comment_id": 95491837, "body": "@anh-nguyen replace each check with syntax <a href=\"https://stackoverflow.com/a/1323426/1248974\"><code>key in dict</code></a>, e.g. <code>return defaults.has_key(&quot;BlockStartedDate&quot;) and not ...</code> replace with <code>return &quot;BlockStartedDate&quot; in defaults and not ...</code>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1548291842, "post_id": 54337239, "comment_id": 95492842, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1323410/should-i-use-has-key-or-in-on-python-dicts/1323426#1323426\">Should I use &#39;has_key()&#39; or &#39;in&#39; on Python dicts?</a>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1548292367, "post_id": 54337239, "comment_id": 95492939, "body": "@Selcuk: Given Python 2&#39;s end of life is less than a year away (end of life is January 1, 2020), migrating (e.g. with <code>2to3</code>) now is probably a good idea."}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1548293285, "post_id": 54337239, "comment_id": 95493127, "body": "@ShadowRanger Fair point, but it&#39;s not like Python 2.x will disappear next year, or suddenly stop interpreting that script in question."}], "answers": [{"tags": [], "owner": {"reputation": 340, "user_id": 6479865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94cb335108aa0a4b6a65984a2f602c44?s=128&d=identicon&r=PG", "display_name": "Vaibhav", "link": "https://stackoverflow.com/users/6479865/vaibhav"}, "is_accepted": false, "score": 0, "last_activity_date": 1548289751, "creation_date": 1548289751, "answer_id": 54337727, "question_id": 54337239, "link": "https://stackoverflow.com/questions/54337239/how-to-replace-has-key-in-python3/54337727#54337727", "title": "How to replace has_key in python3?", "body": "<p><strong>Replace as follows</strong></p>\n\n<p>1.</p>\n\n<pre><code>def check_if_running(username):\n\"\"\" checks if self-control is already running. \"\"\"\ndefaults = get_selfcontrol_settings(username)\nreturn \"BlockStartedDate\" in defaults and not NSDate.distantFuture().isEqualToDate_(defaults[\"BlockStartedDate\"])\n</code></pre>\n\n<p>2-4.</p>\n\n<pre><code>def check_config(config):\n\"\"\" checks whether the config file is correct \"\"\"\nif not \"username\" in config:\n    exit_with_error(\"No username specified in config.\")\nif config[\"username\"] not in get_osx_usernames():\n    exit_with_error(\n            \"Username '{username}' unknown.\\nPlease use your OSX username instead.\\n\" \\\n            \"If you have trouble finding it, just enter the command 'whoami'\\n\" \\\n            \"in your terminal.\".format(\n                    username=config[\"username\"]))\nif not \"selfcontrol-path\" in config:\n    exit_with_error(\"The setting 'selfcontrol-path' is required and must point to the location of SelfControl.\")\nif not os.path.exists(config[\"selfcontrol-path\"]):\n    exit_with_error(\n            \"The setting 'selfcontrol-path' does not point to the correct location of SelfControl. \" \\\n            \"Please make sure to use an absolute path and include the '.app' extension, \" \\\n            \"e.g. /Applications/SelfControl.app\")\nif not \"block-schedules\" in config:\n    exit_with_error(\"The setting 'block-schedules' is required.\")\nif len(config[\"block-schedules\"]) == 0:\n    exit_with_error(\"You need at least one schedule in 'block-schedules'.\")\nif config.get(\"host-blacklist\", None) is None:\n    print(\"WARNING:\")\n    msg = \"It is not recommended to directly use SelfControl's blacklist. Please use the 'host-blacklist' \" \\\n          \"setting instead.\"\n    print(msg)\n    syslog.syslog(syslog.LOG_WARNING, msg)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12197, "user_id": 4390160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZHp9yDMYiGI/AAAAAAAAAAI/AAAAAAAAEsg/B9aVO59CDXU/photo.jpg?sz=128", "display_name": "Grismar", "link": "https://stackoverflow.com/users/4390160/grismar"}, "is_accepted": false, "score": 2, "last_activity_date": 1548290356, "creation_date": 1548290356, "answer_id": 54337802, "question_id": 54337239, "link": "https://stackoverflow.com/questions/54337239/how-to-replace-has-key-in-python3/54337802#54337802", "title": "How to replace has_key in python3?", "body": "<p>A formal source for the solution is here: <a href=\"https://portingguide.readthedocs.io/en/latest/dicts.html\" rel=\"nofollow noreferrer\">https://portingguide.readthedocs.io/en/latest/dicts.html</a></p>\n\n<p>The TL;DR is this:</p>\n\n<pre><code>some_dict.has_key('some key')\n</code></pre>\n\n<p>Is now:</p>\n\n<pre><code>'some key' in some_dict\n</code></pre>\n\n<p>So, in your code:</p>\n\n<pre><code>return defaults.has_key(\"BlockStartedDate\") and not NSDate.distantFuture().isEqualToDate_(defaults[\"BlockStartedDate\"])\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>return \"BlockStartedDate\" in defaults and not NSDate.distantFuture().isEqualToDate_(defaults[\"BlockStartedDate\"])\n</code></pre>\n\n<p>Similarly, lines like:</p>\n\n<pre><code>if not config.has_key(\"selfcontrol-path\"):\n    # do something\n</code></pre>\n\n<p>Become like:</p>\n\n<pre><code>if \"selfcontrol-path\" not in config:\n    # do something\n</code></pre>\n\n<p>Note that you could also write <code>if not \"selfcontrol-path\" in config:</code> but the example given above is considered more Pythonic and should be preferred.</p>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 4, "last_activity_date": 1548292723, "creation_date": 1548292723, "answer_id": 54338065, "question_id": 54337239, "link": "https://stackoverflow.com/questions/54337239/how-to-replace-has-key-in-python3/54338065#54338065", "title": "How to replace has_key in python3?", "body": "<p>While the piecemeal solutions in the other answers will work, that approach is flawed simply because it's too easy to make a small mistake, miss a place that needs fixing, etc. The better solution is to just use <a href=\"https://docs.python.org/3/library/2to3.html\" rel=\"nofollow noreferrer\">the <code>2to3</code> converter</a>. You could fix all of your files in one fell swoop with:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ 2to3 -f has_key -w auto-selfcontrol.py\n</code></pre>\n\n<p>That only runs <a href=\"https://docs.python.org/3/library/2to3.html#2to3fixer-has_key\" rel=\"nofollow noreferrer\">the <code>has_key</code> fixer</a> which converts from <code>dict.has_key(key)</code> to <code>key in dict</code>. Sure you could make the fix yourself, but this is a case where simple programmatic fixers work just fine. You might just want to run it without <code>-f has_key</code> so it applies all the fixers at once, in case there are any other breaking changes that apply between Py2 and Py3.</p>\n\n<p><code>2to3</code> handles just about everything automatically, with the exception of Py2 <code>str</code> type changes (where it's a code logic decision on whether a given <code>str</code> literal should be <code>bytes</code> or <code>str</code> in Py3) and integer division (where <code>/</code> might need to change to <code>//</code>, based on whether the computation is logically floating point division or floor division). But for <code>has_key</code>, it's pretty reliable.</p>\n"}, {"tags": [], "owner": {"reputation": 605, "user_id": 10731862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acb4e75dee0b14ef6905f905805ab72f?s=128&d=identicon&r=PG&f=1", "display_name": "qloveshmily", "link": "https://stackoverflow.com/users/10731862/qloveshmily"}, "is_accepted": false, "score": 1, "last_activity_date": 1559118036, "creation_date": 1559118036, "answer_id": 56356052, "question_id": 54337239, "link": "https://stackoverflow.com/questions/54337239/how-to-replace-has-key-in-python3/56356052#56356052", "title": "How to replace has_key in python3?", "body": "<p>Tested in python3.7.</p>\n\n<pre><code>   tmp = {'a':1, 'b':2, 'c':3}\n   print(tmp.__contains__('a')) #True\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10870494, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213284977826073/picture?type=large", "display_name": "Anh Nguyen", "link": "https://stackoverflow.com/users/10870494/anh-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3911, "favorite_count": 0, "accepted_answer_id": 54338065, "answer_count": 4, "score": 3, "last_activity_date": 1559118036, "creation_date": 1548285886, "last_edit_date": 1548291733, "question_id": 54337239, "link": "https://stackoverflow.com/questions/54337239/how-to-replace-has-key-in-python3", "title": "How to replace has_key in python3?", "body": "<p>I try to install <a href=\"https://github.com/andreasgrill/auto-selfcontrol\" rel=\"nofollow noreferrer\">Auto-SelfControl</a> and got stuck when executing this command:</p>\n\n<pre><code>sudo /usr/bin/python auto-selfcontrol.py\n</code></pre>\n\n<p>It shows the error:</p>\n\n<blockquote>\n  <p>AttributeError: 'dict' object has no attribute 'has_key'</p>\n</blockquote>\n\n<p>I'm searching for solutions and end up with replacing <em>has_key</em> for <em>in</em> operator but as I only know the basics of python, the code is quite complex for me.</p>\n\n<p>There're 3 places where <em>has_key</em> have been used, can you help me change it so I can run with python3?</p>\n\n<p>1.</p>\n\n<pre><code>def check_if_running(username):\n\"\"\" checks if self-control is already running. \"\"\"\ndefaults = get_selfcontrol_settings(username)\nreturn defaults.has_key(\"BlockStartedDate\") and not NSDate.distantFuture().isEqualToDate_(defaults[\"BlockStartedDate\"])\n</code></pre>\n\n<p>2-4.</p>\n\n<pre><code>def check_config(config):\n\"\"\" checks whether the config file is correct \"\"\"\nif not config.has_key(\"username\"):\n    exit_with_error(\"No username specified in config.\")\nif config[\"username\"] not in get_osx_usernames():\n    exit_with_error(\n            \"Username '{username}' unknown.\\nPlease use your OSX username instead.\\n\" \\\n            \"If you have trouble finding it, just enter the command 'whoami'\\n\" \\\n            \"in your terminal.\".format(\n                    username=config[\"username\"]))\nif not config.has_key(\"selfcontrol-path\"):\n    exit_with_error(\"The setting 'selfcontrol-path' is required and must point to the location of SelfControl.\")\nif not os.path.exists(config[\"selfcontrol-path\"]):\n    exit_with_error(\n            \"The setting 'selfcontrol-path' does not point to the correct location of SelfControl. \" \\\n            \"Please make sure to use an absolute path and include the '.app' extension, \" \\\n            \"e.g. /Applications/SelfControl.app\")\nif not config.has_key(\"block-schedules\"):\n    exit_with_error(\"The setting 'block-schedules' is required.\")\nif len(config[\"block-schedules\"]) == 0:\n    exit_with_error(\"You need at least one schedule in 'block-schedules'.\")\nif config.get(\"host-blacklist\", None) is None:\n    print(\"WARNING:\")\n    msg = \"It is not recommended to directly use SelfControl's blacklist. Please use the 'host-blacklist' \" \\\n          \"setting instead.\"\n    print(msg)\n    syslog.syslog(syslog.LOG_WARNING, msg)\n</code></pre>\n"}, {"tags": ["python", "rest", "flask", "sqlalchemy", "flask-sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 7271, "user_id": 604048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3a3794db73b04bdb0e768f2f64c63369?s=128&d=identicon&r=PG", "display_name": "Andr&#233; C. Andersen", "link": "https://stackoverflow.com/users/604048/andr%c3%a9-c-andersen"}, "is_accepted": false, "score": 1, "last_activity_date": 1548285756, "creation_date": 1548285756, "answer_id": 54337211, "question_id": 54337172, "link": "https://stackoverflow.com/questions/54337172/how-two-flask-app-accessing-same-database/54337211#54337211", "title": "How two flask app accessing same database", "body": "<p>I would suggest creating one project with three top level packages. Two of them are your flask applications, and one is a common package which houses modules which are shared between them.</p>\n\n<pre><code>your_project/\n  app1/\n    __init__.py\n    app.py\n  app2/\n    __init__.py\n    app.py\n  commons/\n    __init__.py\n    models.py\n</code></pre>\n\n<p>In general, try to <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">avoid duplicating code</a>. Also, this question might be better suited over at the <a href=\"https://softwareengineering.stackexchange.com/\">Software Engineering stack exchange site</a>. It is a little too broad for SO.</p>\n"}], "owner": {"reputation": 1245, "user_id": 3445381, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/PMNYf.jpg?s=128&g=1", "display_name": "ikhsanudinhakim", "link": "https://stackoverflow.com/users/3445381/ikhsanudinhakim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "closed_date": 1548294084, "answer_count": 1, "score": -2, "last_activity_date": 1548285756, "creation_date": 1548285440, "question_id": 54337172, "link": "https://stackoverflow.com/questions/54337172/how-two-flask-app-accessing-same-database", "closed_reason": "Duplicate", "title": "How two flask app accessing same database", "body": "<p>I am going to build two flask REST API accessing same database.\nBoth 2 app have access to same table. For example I have Order table. Should i create OrderModel class on both of that 2 app or just one of them?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "cassandra", "nosql"], "comments": [{"owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 1, "creation_date": 1548286323, "post_id": 54337169, "comment_id": 95491733, "body": "If no safe methods can be found (glancing at the source it does appear that the bound values are to columns), perhaps querying for a list of table names that already exist and check that <code>self.table_name</code> is found in any of them, which should <i>hopefully</i> be safe enough (subject to table names not named in funny ways)."}, {"owner": {"reputation": 2724, "user_id": 8356801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec5421f50a55881c10b31846b28511b?s=128&d=identicon&r=PG&f=1", "display_name": "Horia", "link": "https://stackoverflow.com/users/8356801/horia"}, "edited": false, "score": 0, "creation_date": 1548305956, "post_id": 54337169, "comment_id": 95495650, "body": "Did you check this? <a href=\"https://stackoverflow.com/questions/54292761/how-to-pass-the-table-name-in-parameter-in-cassandra-python\">How to pass the table name in parameter in cassandra python</a>"}, {"owner": {"reputation": 47278, "user_id": 18627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b31b9d123bff80f00317a1df0dd00e2?s=128&d=identicon&r=PG", "display_name": "Alex Ott", "link": "https://stackoverflow.com/users/18627/alex-ott"}, "edited": false, "score": 0, "creation_date": 1548318491, "post_id": 54337169, "comment_id": 95500360, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54292761/how-to-pass-the-table-name-in-parameter-in-cassandra-python\">How to pass the table name in parameter in cassandra python</a>"}, {"owner": {"reputation": 1710, "user_id": 5278004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/OruJk.jpg?s=128&g=1", "display_name": "Wes Doyle", "link": "https://stackoverflow.com/users/5278004/wes-doyle"}, "edited": false, "score": 0, "creation_date": 1548337043, "post_id": 54337169, "comment_id": 95511257, "body": "I\u2019m specifically looking for a safe way to do this without using string formatting."}], "owner": {"reputation": 1710, "user_id": 5278004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/OruJk.jpg?s=128&g=1", "display_name": "Wes Doyle", "link": "https://stackoverflow.com/users/5278004/wes-doyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548316583, "creation_date": 1548285424, "last_edit_date": 1548316583, "question_id": 54337169, "link": "https://stackoverflow.com/questions/54337169/parametrize-cassandra-driver-table-name", "title": "Parametrize Cassandra driver table name", "body": "<p>I have an instance method that is used to construct a Cassandra query, and I'm looking for a way to more safely parametrize the table name in a query without using string formatting. For example,</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def some_method(self, table_name):\n    statement = f\"SELECT COUNT(*) FROM {self.table_name}\"\n    results = self.cassandra.session.execute(query=statement)\n    ...\n</code></pre>\n\n<p>I don't believe <code>SimpleStatement</code> or a <code>PreparedStatement</code> can be used to bind a table name.</p>\n"}, {"tags": ["python", "apache"], "comments": [{"owner": {"reputation": 9523, "user_id": 2378649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hRA41.png?s=128&g=1", "display_name": "coffeinjunky", "link": "https://stackoverflow.com/users/2378649/coffeinjunky"}, "edited": false, "score": 0, "creation_date": 1548285682, "post_id": 54337112, "comment_id": 95491563, "body": "Could you elaborate on what <code>beautify</code> means for you, and what you have tried so far?"}, {"owner": {"reputation": 3, "user_id": 7063093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/111fc10aecc77697ad77b16b78756fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Shah", "link": "https://stackoverflow.com/users/7063093/parth-shah"}, "reply_to_user": {"reputation": 9523, "user_id": 2378649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hRA41.png?s=128&g=1", "display_name": "coffeinjunky", "link": "https://stackoverflow.com/users/2378649/coffeinjunky"}, "edited": false, "score": 0, "creation_date": 1548306966, "post_id": 54337112, "comment_id": 95495897, "body": "instead of printing plain python script on browser, I want to apply some kind of css to them so it is colored properly."}, {"owner": {"reputation": 3, "user_id": 7063093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/111fc10aecc77697ad77b16b78756fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Shah", "link": "https://stackoverflow.com/users/7063093/parth-shah"}, "reply_to_user": {"reputation": 9523, "user_id": 2378649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hRA41.png?s=128&g=1", "display_name": "coffeinjunky", "link": "https://stackoverflow.com/users/2378649/coffeinjunky"}, "edited": false, "score": 0, "creation_date": 1548307468, "post_id": 54337112, "comment_id": 95496020, "body": "I have tried to use .htaccess but didnt find success"}], "owner": {"reputation": 3, "user_id": 7063093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/111fc10aecc77697ad77b16b78756fe7?s=128&d=identicon&r=PG&f=1", "display_name": "Parth Shah", "link": "https://stackoverflow.com/users/7063093/parth-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548285688, "creation_date": 1548285011, "last_edit_date": 1548285688, "question_id": 54337112, "link": "https://stackoverflow.com/questions/54337112/beautify-all-python-scripts-in-folder", "title": "beautify all python scripts in folder", "body": "<p>Requirement is to beautify all python scripts and show it.</p>\n\n<p>I have done following configuration in <code>apache2.conf</code></p>\n\n<pre><code>Alias /python_scripts /my_path/\n&lt;Directory /my_path/&gt;\n    Options Indexes FollowSymLinks MultiViews\n    AllowOverride all\n    Allow from all\n &lt;/Directory&gt;\n</code></pre>\n\n<p>In this <code>/my_path/</code>, I have all my python scripts which I can access using apache2. but while accessing through browser, I just see plain texts (code).</p>\n\n<p>I would like to beautify all python scripts.</p>\n\n<p>Is there any way, we can achieve it?</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3", "aws-lambda"], "comments": [{"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1548293564, "post_id": 54337096, "comment_id": 95493182, "body": "What is the specific error you receive? Can you show us the value for <code>i[&#39;Key&#39;]</code> that is causing the error?"}, {"owner": {"reputation": 63, "user_id": 2431858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3350d2bbd196784b98f5fb76d3fba257?s=128&d=identicon&r=PG", "display_name": "user2431858", "link": "https://stackoverflow.com/users/2431858/user2431858"}, "reply_to_user": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1548442188, "post_id": 54337096, "comment_id": 95556695, "body": "The error message is as follows: Response: {   &quot;errorMessage&quot;: &quot;Syntax error in module &#39;lambda_function&#39;: expected an indented block (lambda_function.py, line 19)&quot;,   &quot;errorType&quot;: &quot;Runtime.UserCodeSyntaxError&quot;,   &quot;stackTrace&quot;: &quot;File \\&quot;/var/task/lambda_function.py\\&quot; Line 19\\n\\t        client.download_file(BUCKET_NAME, i[&#39;Key&#39;], &#39;/tmp/{}&#39;.format(i[&#39;Key&#39;]) )\\n&quot; }"}, {"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1548469964, "post_id": 54337096, "comment_id": 95564671, "body": "The error message says &quot;expected an indented block&quot;, which means the Python code was incorrectly formatted. It has nothing to do with the <code>download_file()</code> command."}], "owner": {"reputation": 63, "user_id": 2431858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3350d2bbd196784b98f5fb76d3fba257?s=128&d=identicon&r=PG", "display_name": "user2431858", "link": "https://stackoverflow.com/users/2431858/user2431858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 854, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548293477, "creation_date": 1548284908, "last_edit_date": 1548293477, "question_id": 54337096, "link": "https://stackoverflow.com/questions/54337096/python-s3-copy-from-fails-if-key-has-spaces-in-it-how-to-search-through-file", "title": "Python s3 copy_from fails if &quot;key&quot; has spaces in it. How to search through file contents and then print file name stored in S3 using python", "body": "<p>I am trying to iterate through set of xml files stored in S3 and print file name based on file contents. The issue is file name has spaces in it so Python command:</p>\n\n<pre><code>S3.download_file(BUCKET_NAME, i['Key'], '/tmp/{}'.format(i['Key']) ) \n</code></pre>\n\n<p>gives error.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1548284882, "post_id": 54337057, "comment_id": 95491314, "body": "I think is best if you add a sample input, <code>df.head(5)</code> for example or something like that. Also how many columns have the name <code>&#39;Clicks&#39;</code>?"}], "owner": {"reputation": 9, "user_id": 10958476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aa2f3e877ec5401709987a0acd067b8?s=128&d=identicon&r=PG&f=1", "display_name": "Pfwangs", "link": "https://stackoverflow.com/users/10958476/pfwangs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1548285095, "answer_count": 0, "score": 1, "last_activity_date": 1548284628, "creation_date": 1548284628, "question_id": 54337057, "link": "https://stackoverflow.com/questions/54337057/how-to-give-duplicated-columns-distinct-names-in-pandas", "closed_reason": "Duplicate", "title": "How to give duplicated columns distinct names in Pandas", "body": "<p>I have a list of columns that all have the same name and was wondering how I give each one a distinct title. </p>\n\n<pre><code>df= pd.read_excel('SEO Data 01.15.19.xlsx','Data Dump')\ndf.columns = df.iloc[0]\ndf=df.drop(df.index[0])\ndf.rename(columns={ df.columns[1]: \".1\" })\nd={'Clicks': ['Clicks1', 'Clicks2', 'Clicks3']}\ndf.rename(columns=lambda c: d[c].pop(0) if c in d.keys() else c)\n</code></pre>\n\n<p>I wanted a new table with the new headers but instead I end up with IndexError: pop from empty list</p>\n"}, {"tags": ["python", "json", "flask"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10364045"}, "is_accepted": false, "score": 1, "last_activity_date": 1548290127, "last_edit_date": 1548290127, "creation_date": 1548286534, "answer_id": 54337320, "question_id": 54337038, "link": "https://stackoverflow.com/questions/54337038/using-json-as-a-datastore-with-flask/54337320#54337320", "title": "Using JSON as a datastore with Flask?", "body": "<p>I have something similar... and it's running on an actual production server. However there is never more than 100 users. For your use case, it's fine.</p>\n\n<p>Above my Flask routes, I have two simple functions that read/write from/to the JSON datastore.\nI would personally create a separate folder in your application named \"datastore\" and just leave it in there. Here's a simple example:</p>\n\n<pre><code>def write_json(path, json_data):\n    with open(path, 'w') as file_out:\n        json.dump(json_data, file_out)\n\n\ndef read_json(path):\n    with open(path) as file_in:\n        return json.load(file_in)\n\n\n# begin Flask views/routes\n@app.route('/user_form', methods=['POST', 'GET'])\ndef user_form():\n    path = \"/home/myapp/datastore/store.json\"\n\n\n    # input from form or wherever your new JSON is coming from...\n    # It could also be coming from a REST API etc:\n    input = request.form['data']\n    # {\"new\": \"data\"}\n\n\n    # read in existing JSON\n    existing_json = read_json(path)\n    # {\"existing\": \"json\"}\n\n\n    # add new JSON to existing JSON however you see fit\n    [(k, v)] = input.items()\n    existing_json[k] = v\n    {\"existing\": \"json\", \"new\": \"data\"}\n\n\n    # now update datastore\n    write_json(path, existing_json)\n\n\n    # could also be app.response or jsonify here etc...\n    return render_template(\"success.html\")\n</code></pre>\n\n<p>and so on...</p>\n\n<p>Just set the path variable to wherever your file is stored...</p>\n\n<p>So once your code runs and you have a value that is ready to be added to the datastore, call the read function, add your new data to the JSON object, and immediately call the write function to re-write the newly updated JSON back to the same file.</p>\n"}], "owner": {"reputation": 540, "user_id": 1004253, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PTMrt.png?s=128&g=1", "display_name": "mishap_n", "link": "https://stackoverflow.com/users/1004253/mishap-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1548290127, "creation_date": 1548284577, "question_id": 54337038, "link": "https://stackoverflow.com/questions/54337038/using-json-as-a-datastore-with-flask", "title": "Using JSON as a datastore with Flask?", "body": "<p>I have a question that I need some opinions on. I have a small JSON file, and I'm using as a datastore.</p>\n\n<pre><code>{\"stress\": [1, \"good\"], \"physical\": [6, \"ok\"], \"mood\": [8, \"good\"], \"perception\": \"neutral\", \"spoons\": 74}\n</code></pre>\n\n<p>Basically I have a webhook running in flask on a pi for an alexa service. And throughout the day this datastore is updated. ie: If you go through one intent then it updates stress to 4. This is NOT an application. This is a standalone installation piece that runs locally, in a room, and doesn't need to scale at all. </p>\n\n<p>What's the best way to do this? Should I just store this JSON file in the root folder and import it then write out to it? Should I look at something like tinyDB instead? Should I toss into Flask's static folder? </p>\n\n<p>Again, super tiny thing, doesn't need to scale. Doesn't have multiple users. I feel like something like postgres or a full db is overkill. </p>\n"}, {"tags": ["python", "pandas", "spyder"], "comments": [{"owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1548286353, "post_id": 54337023, "comment_id": 95491743, "body": "Welcome to SO! Please provide a sample data that we can reproduce, instead of images."}, {"owner": {"reputation": 83, "user_id": 10939394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VWS5u0n_lCQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaqUofyeIDKL21qosr9Kdp00XpmCA/mo/photo.jpg?sz=128", "display_name": "Alekhya varma", "link": "https://stackoverflow.com/users/10939394/alekhya-varma"}, "reply_to_user": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "edited": false, "score": 0, "creation_date": 1548286953, "post_id": 54337023, "comment_id": 95491879, "body": "Added the data file"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 10939394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VWS5u0n_lCQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaqUofyeIDKL21qosr9Kdp00XpmCA/mo/photo.jpg?sz=128", "display_name": "Alekhya varma", "link": "https://stackoverflow.com/users/10939394/alekhya-varma"}, "edited": false, "score": 0, "creation_date": 1548363461, "post_id": 54353713, "comment_id": 95525499, "body": "No Kirsh.. from the grouby data which you have shown above, I am trying to plot date and product name corresponding to its boxes"}, {"owner": {"reputation": 163, "user_id": 1099140, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d58f646e0bd9e9b757b2c879ac006379?s=128&d=identicon&r=PG", "display_name": "krish727", "link": "https://stackoverflow.com/users/1099140/krish727"}, "reply_to_user": {"reputation": 83, "user_id": 10939394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VWS5u0n_lCQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaqUofyeIDKL21qosr9Kdp00XpmCA/mo/photo.jpg?sz=128", "display_name": "Alekhya varma", "link": "https://stackoverflow.com/users/10939394/alekhya-varma"}, "edited": false, "score": 0, "creation_date": 1548432029, "post_id": 54353713, "comment_id": 95551640, "body": "do  u mean the product name counts on the x axis and the date on the y axis ?"}, {"owner": {"reputation": 83, "user_id": 10939394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VWS5u0n_lCQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaqUofyeIDKL21qosr9Kdp00XpmCA/mo/photo.jpg?sz=128", "display_name": "Alekhya varma", "link": "https://stackoverflow.com/users/10939394/alekhya-varma"}, "edited": false, "score": 0, "creation_date": 1548532953, "post_id": 54353713, "comment_id": 95577459, "body": "Yes krish , thats what i mean"}, {"owner": {"reputation": 163, "user_id": 1099140, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d58f646e0bd9e9b757b2c879ac006379?s=128&d=identicon&r=PG", "display_name": "krish727", "link": "https://stackoverflow.com/users/1099140/krish727"}, "reply_to_user": {"reputation": 83, "user_id": 10939394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VWS5u0n_lCQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaqUofyeIDKL21qosr9Kdp00XpmCA/mo/photo.jpg?sz=128", "display_name": "Alekhya varma", "link": "https://stackoverflow.com/users/10939394/alekhya-varma"}, "edited": false, "score": 0, "creation_date": 1548624253, "post_id": 54353713, "comment_id": 95597711, "body": "But you are getting multiple values for each date because of the other group by columns. So for example if u see there are 2 values for 30/5/2017 because there is Romaine and Salanova each for 1 amount. So are u wanting to plot each of these for 30/5/2017 are the total count of 2 ?"}], "tags": [], "owner": {"reputation": 163, "user_id": 1099140, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d58f646e0bd9e9b757b2c879ac006379?s=128&d=identicon&r=PG", "display_name": "krish727", "link": "https://stackoverflow.com/users/1099140/krish727"}, "is_accepted": false, "score": 0, "last_activity_date": 1548356776, "creation_date": 1548356776, "answer_id": 54353713, "question_id": 54337023, "link": "https://stackoverflow.com/questions/54337023/plotting-a-groupby-function-with-respect-to-date/54353713#54353713", "title": "Plotting a groupby function with respect to date", "body": "<p>I tried to get the group by data and here it is and I am guessing you are trying to plot Date and the last column. Is that correct ?</p>\n\n<p>Date       Produce Name   Actual Boxes<br>\n2017-05-18  Basil          2.50            1<br>\n                           3.00            1<br>\n2017-05-22  Butterhead S.  2.00            1<br>\n            Jerico         1.50            1<br>\n            RO Salanova    1.00            1<br>\n            Romaine        1.50            1<br>\n            Salanova GO    2.30            1<br>\n            Sweet Crisp    2.00            1<br>\n2017-05-30  Romaine        3.00            1<br>\n            Salanova GO    0.66            1<br></p>\n"}], "owner": {"reputation": 83, "user_id": 10939394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VWS5u0n_lCQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaqUofyeIDKL21qosr9Kdp00XpmCA/mo/photo.jpg?sz=128", "display_name": "Alekhya varma", "link": "https://stackoverflow.com/users/10939394/alekhya-varma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568345159, "creation_date": 1548284499, "last_edit_date": 1568345159, "question_id": 54337023, "link": "https://stackoverflow.com/questions/54337023/plotting-a-groupby-function-with-respect-to-date", "title": "Plotting a groupby function with respect to date", "body": "<p><img src=\"https://i.stack.imgur.com/ufd3S.png\" alt=\"Output of groupby function\"></p>\n\n<p>I am planning to plot a scatter plot, between the <code>groupby</code> function and date attribute. But I couldn't plot. Output of the <code>groupby</code> function is in the attachment.</p>\n\n<p><a href=\"https://drive.google.com/open?id=19w_DgVDoqYHUX1xHOdzsHAdNSNjyt2Wz\" rel=\"nofollow noreferrer\">Data file</a></p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\n\nD1 = pd.ExcelFile(\"C:/Users/kdandebo/Desktop/Models/Python excercise/Capstone/ProdData.xlsx\")\ndf=D1.parse(\"Calculations\")\nprint(df.info())\nprint(df.columns)\n\nF = df.head(10)\nZ = F.groupby(['Date','Produce Name','Actual Boxes'])['Produce Name'].count()\nprint(Z)\n\nplt.scatter(Z,Z['Date'])\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "loops", "while-loop"], "comments": [{"owner": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "edited": false, "score": 0, "creation_date": 1548284457, "post_id": 54336986, "comment_id": 95491192, "body": "This isn&#39;t a big issue but when you have a function that just gets an input from stdin and returns it, there&#39;s no real point of having it. Just makes it harder to follow the code..."}, {"owner": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "reply_to_user": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "edited": false, "score": 0, "creation_date": 1548284713, "post_id": 54336986, "comment_id": 95491270, "body": "@pizzastaticvoidmain  Yea, it&#39;s because there&#39;s no exit out of the loop unless you <i>want</i> to calculate the grade again."}, {"owner": {"reputation": 5, "user_id": 10562767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77b074bbb049a5a67bffeac7a409f68e?s=128&d=identicon&r=PG&f=1", "display_name": "kkx07805", "link": "https://stackoverflow.com/users/10562767/kkx07805"}, "edited": false, "score": 0, "creation_date": 1548285060, "post_id": 54336986, "comment_id": 95491366, "body": "The issue comes when you try and enter a negative number for the midterm grade."}], "answers": [{"comments": [{"owner": {"reputation": 71156, "user_id": 1190388, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5391819cc4abe0cb43587c9ef1808dbd?s=128&d=identicon&r=PG", "display_name": "hjpotter92", "link": "https://stackoverflow.com/users/1190388/hjpotter92"}, "edited": false, "score": 1, "creation_date": 1548285229, "post_id": 54337083, "comment_id": 95491413, "body": "<code>again not in (&quot;Y&quot;, &quot;N&quot;)</code>"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1548285569, "post_id": 54337083, "comment_id": 95491528, "body": "<code>while again != &quot;Y&quot; or again != &quot;N&quot;:</code> Is there a name for this specific sort of error?  It pops up in novice code fairly often."}], "tags": [], "owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "is_accepted": false, "score": 2, "last_activity_date": 1548284833, "creation_date": 1548284833, "answer_id": 54337083, "question_id": 54336986, "link": "https://stackoverflow.com/questions/54336986/loop-not-running-when-the-condition-has-been-met/54337083#54337083", "title": "Loop Not Running When the Condition Has Been Met", "body": "<p>Because you're using the <code>or</code> conditional, the loop will repeat unless <code>again</code> is equal to \"Y\" <em>and</em> is equal to \"N\", which is impossible. Using the <code>and</code> conditional should solve the problem:</p>\n\n<pre><code>def again():\n    print (\"again\")\n    again = 0\n    while again != \"Y\" and again != \"N\": #Notice the \"and\" rather than the \"or\"\n        again = input(\"Do you want to calculate the grade again? Please enter either Y or N. \")\n    if again == \"Y\":\n        main()\n</code></pre>\n\n<p>The loop will now exit if <code>again</code> does not equal \"Y\" <em>and</em> <code>again</code> does not equal \"N\", which is what you want.</p>\n"}], "owner": {"reputation": 5, "user_id": 10562767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77b074bbb049a5a67bffeac7a409f68e?s=128&d=identicon&r=PG&f=1", "display_name": "kkx07805", "link": "https://stackoverflow.com/users/10562767/kkx07805"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548289556, "creation_date": 1548284314, "last_edit_date": 1548289556, "question_id": 54336986, "link": "https://stackoverflow.com/questions/54336986/loop-not-running-when-the-condition-has-been-met", "title": "Loop Not Running When the Condition Has Been Met", "body": "<p>I am trying to implement input validation in the form on a while loop. When I enter a negative number for the midterm grade the program don't ask again. I've tried replacing the or with an and in the while again line but that still doesn't change the outcome. The input validation works for the while assessments line but not on the while again line. I believe the issue is with this piece of the code. </p>\n\n<p>Edit:\nWhen I enter a character other than N or Y the program prints the grade. The program should ask the user what grade the got on the midterm again.</p>\n\n<pre><code>def again():\n    print (\"again\")\n    again = 0\n    while again != \"Y\" or again != \"N\":\n        again = input(\"Do you want to calculate the grade again? Please enter either Y or N. \")\n    if again == \"Y\":\n        main()\n</code></pre>\n\n<p>The whole code is posted below for context.</p>\n\n<pre><code>import sys\ndef main():\n    #Get the name and # of assessments\n    named = (\"name\")\n    un = name(named)\n    tp = 0\n    s= 0\n    assessments = 0\n    while assessments &lt;= 0:\n        assessments = int(input(\"how many assessments have you completed?\"))\n\n\n    #Get the total of assessments including homework\n    for x in range(1,assessments + 1):\n        g = float(input(\"grade of assessment\"))\n        tp += g\n\n    scoree = tp / assessments\n    finalG= finals(scoree)\n    scoring(finalG)\n    p(un)\n    again()\n\n\ndef scoring(score):\n\n    if score &gt;= 97:\n        print(\"You have an A+ in the class!\")\n        print (\"Your grade as a percentage is:\", score, \"%\",sep=\"\") #Print the percentage\n        sys.exit()\n    if score &gt;= 93 and score &lt;= 96.9:\n        print(\"You have an A in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 90 and score &lt;= 92.9:\n        print(\"You have an A- in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 87 and score &lt;= 89.9:\n        print(\"You have an B+ in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 83 and score &lt;= 86.9:\n        print(\"You have an B in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 80 and score &lt;= 82.9:\n        print(\"You have an B= in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 77 and score &lt;= 79.9:\n        print(\"You have an C+ in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 73 and score &lt;= 76.9:\n        print(\"You have an C in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 70 and score &lt;= 72.9:\n        print(\"You have an C= in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 67 and score &lt;= 69.9:\n        print(\"You have an D+ in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    if score &gt;= 63 and score &lt;= 66.9:\n        print(\"You have an D in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    elif score &gt;= 60 and score &lt;= 62.9:\n        print(\"You have an D- in the class!\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n        sys.exit()\n    else: \n        print(\"You have an F\")\n        print(\"Your grade as a percentage is:\", score,\"%\",sep=\"\")\n\n\n#ask for their name with \"input\"\ndef name(names):\n    names = input(\"Could you please tell me what is your name?:\")\n    return names\n\n    #Print the grade of the student with the name of the student in the same function\ndef p(p2):\n    print(\"is your current average is\",p2)\n\n# asks if the use wants to run the program again?\ndef again():\n    print (\"again\")\n    again = 0\n    while again != \"Y\" or again != \"N\":\n        again = input(\"Do you want to calculate the grade again? Please enter either Y or N. \")\n    if again == \"Y\":\n        main()\n#ask the user their final grades and adds it to the calculation\ndef finals(fgrade):\n    mtg = 0\n    ma = input(\"Did you take your midterm? Like before please enter either Y or N\")\n    if ma == \"Y\":\n        while mtg &lt;= 0:\n            mtg = float(input(\"what is the midterm grade you got back?\"))\n        fgrade = mtg * .2 + fgrade *.8\n    return fgrade\n\n    if ma == \"N\":\n        return fgrade\nmain()\n</code></pre>\n"}, {"tags": ["python", "loops", "python-requests", "python-multiprocessing", "python-multithreading"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1548284266, "post_id": 54336959, "comment_id": 95491133, "body": "I would be careful using print statements where you plan on multithreading/ processing. The outputs may come out in a different order than you would expect. I.E. thread 3 prints before thread 1"}, {"owner": {"reputation": 1, "user_id": 10923508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9179c2fffa8f654fb40c28817adb94b5?s=128&d=identicon&r=PG&f=1", "display_name": "rhegrate", "link": "https://stackoverflow.com/users/10923508/rhegrate"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1548284399, "post_id": 54336959, "comment_id": 95491176, "body": "That&#39;s just there for testing purposes, I know that. Thanks anyway!"}], "answers": [{"tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1548284412, "creation_date": 1548284412, "answer_id": 54337006, "question_id": 54336959, "link": "https://stackoverflow.com/questions/54336959/what-should-i-use-to-speed-up-this-code-multiprocessing-vs-multithreading/54337006#54337006", "title": "What should I use to speed up this code? (Multiprocessing vs Multithreading)", "body": "<p>I would think threading would be best, it doesn't seem that you are performing large amount of computational work with each worker. Sub-processes take a decent amount of overhead to get started, and are therefore more suited for tasks requiring large amounts of computations. </p>\n"}, {"tags": [], "owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548285327, "creation_date": 1548285327, "answer_id": 54337157, "question_id": 54336959, "link": "https://stackoverflow.com/questions/54336959/what-should-i-use-to-speed-up-this-code-multiprocessing-vs-multithreading/54337157#54337157", "title": "What should I use to speed up this code? (Multiprocessing vs Multithreading)", "body": "<p>Two observations:</p>\n\n<ol>\n<li><p>You can try using the ThreadPoolExecutor or ProcessPoolExecutor from concurrent.futures library, so you can parallelize the execution.</p></li>\n<li><p>You may want to see if creating explicit requests Session and reusing the session speed this up. This may save some cost in TLS renegotiation/handshake. Note that you may need to be careful with cookies as reused sessions will share a cookie jar by default.</p></li>\n</ol>\n\n<p>Untested, quickly scratched together example:</p>\n\n<pre><code>session = requests.Session()\ndef do_request(line):\n    proxy = line.split('\\n', 1)[0]\n    r = session.get('http://www.icanhazip.com/', proxies={'http': 'http://' + proxy}, timeout=1)\n    return r.status_code\n\nwith ThreadPoolExecutor(max_workers=8) as executor, \\\n        open(\"proxies.txt\", \"r\") as f:\n    results = executor.map(do_request, f)\n    for future in results:\n        try:\n            print(future.result())\n        except (requests.exceptions.ProxyError, requests.exceptions.ConnectTimeout,\n                requests.exceptions.ReadTimeout, requests.exceptions.ConnectionError):\n            print(\"Doesn't work\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10923508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9179c2fffa8f654fb40c28817adb94b5?s=128&d=identicon&r=PG&f=1", "display_name": "rhegrate", "link": "https://stackoverflow.com/users/10923508/rhegrate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548285327, "creation_date": 1548284137, "question_id": 54336959, "link": "https://stackoverflow.com/questions/54336959/what-should-i-use-to-speed-up-this-code-multiprocessing-vs-multithreading", "title": "What should I use to speed up this code? (Multiprocessing vs Multithreading)", "body": "<p>Could you also show me how?\nThanks in advance.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>def test():\n    with open(\"proxies.txt\", \"r\") as f:\n        for line in f:\n            try:\n                proxy = line.split('\\n', 1)[0]\n                r = requests.get('http://www.icanhazip.com/', proxies={'http': 'http://' + proxy}, timeout=1)\n                print(r.status_code)\n            except (requests.exceptions.ProxyError, requests.exceptions.ConnectTimeout,\n                requests.exceptions.ReadTimeout, requests.exceptions.ConnectionError):\n                print(\"Doesn't work\")\n</code></pre>\n\n<p>Multiprocessing or multithreading should only start when the function is called.</p>\n"}, {"tags": ["python", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 0, "creation_date": 1548284848, "post_id": 54336927, "comment_id": 95491305, "body": "I don&#39;t know anything on the matter, but the <a href=\"https://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html#decomposeprojectionmatrix\" rel=\"nofollow noreferrer\">documentation</a> says: &quot;Note, there is always more than one sequence of rotations about the three principle axes that results in the same orientation of an object&quot;. Could that justify it? Does y consistently have a flipped sign?"}, {"owner": {"reputation": 399, "user_id": 7343355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679fff7ca6658b4d17ea337428b4a864?s=128&d=identicon&r=PG&f=1", "display_name": "karolyzz", "link": "https://stackoverflow.com/users/7343355/karolyzz"}, "reply_to_user": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 0, "creation_date": 1548284994, "post_id": 54336927, "comment_id": 95491345, "body": "@Jeppe that&#39;s definitely the case and yeah, y constantly has a flipped sign. Btw this is my guess too, but I&#39;m not sure if it&#39;s actually a right one. I haven&#39;t worked with Euler angles too much and I&#39;m not sure if different sequences could impact the result in this way."}], "answers": [{"tags": [], "owner": {"reputation": 727, "user_id": 4089399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a64ae49f1570c8f6b556353a73c76d0?s=128&d=identicon&r=PG&f=1", "display_name": "Easy_Israel", "link": "https://stackoverflow.com/users/4089399/easy-israel"}, "is_accepted": true, "score": 3, "last_activity_date": 1548342154, "last_edit_date": 1548342154, "creation_date": 1548339346, "answer_id": 54348663, "question_id": 54336927, "link": "https://stackoverflow.com/questions/54336927/opencv-decompose-projection-matrix-euler-angle-wrong-direction/54348663#54348663", "title": "OpenCV Decompose Projection Matrix euler angle wrong direction?", "body": "<p>I don't know exactly which permutation is your implementation to get eulerangles from matrix, but it differs from the one decomposeProjectionMatrix uses.\nthis is the reason for the different angles.</p>\n\n<p>As said before, euler angles depend always on the order. There are 12 different permutations. See <a href=\"https://en.wikipedia.org/wiki/Euler_angles\" rel=\"nofollow noreferrer\">Euler Angles</a> for more information.</p>\n\n<p><strong>decomposeProjectionMatrix from opencv uses \"XYZ\" order for its Euler Angle representation.</strong></p>\n\n<p>there are different rotation libs on pypi. I use for this example transforms3d.\nI'm setting the input parameters by hand and the rotation matrix by euler2mat function of the transforms3d package.\nI create a Rotation matrix with the XYZ-convention e.g. roll angle (X): 90\u00b0, pitch (Y): 45\u00b0 , yaw(X): 180\u00b0</p>\n\n<pre><code>from transforms3d import euler\nfrom math import pi,radians\nrotation_matrix = euler.euler2mat(radians(90), radians(45), \n    radians(180), 'sxyz')\ntvec = np.zeros(3).reshape(1,3).T\ncamera_matrix = np.array([[1500,0,320],[0,1500,256],[0,0,1]])\nprojection_matrix = camera_matrix.dot(np.hstack((rotation_matrix, tvec)))\nrot = cv2.decomposeProjectionMatrix(projection_matrix)\n</code></pre>\n\n<p>rotation_matrix (input) and rot[1] (output) are the same (but only with the correct euler-order \"sxyz\"):</p>\n\n<pre><code>array([[-7.07106781e-01, -7.07106781e-01,  7.91668771e-17],\n   [ 8.65956056e-17,  2.53632657e-17,  1.00000000e+00],\n   [-7.07106781e-01,  7.07106781e-01,  4.32978028e-17]])\n</code></pre>\n\n<p>rot[-1] is:</p>\n\n<pre><code>[[90.         ]\n [ 45.        ]\n [ 180.        ]]\n</code></pre>\n\n<p>there are some more pitfalls with 3d rotations. E.g. </p>\n\n<ul>\n<li>the coordinate reference system can vary: <a href=\"https://stackoverflow.com/questions/9081900/reference-coordinate-system-changes-between-opencv-opengl-and-android-sensor\">Reference coordinate system changes between OpenCV, OpenGL and Android Sensor</a></li>\n<li>there are active and passive rotations</li>\n<li>lefthanded and right handed coordinate systems</li>\n<li>...</li>\n</ul>\n"}], "owner": {"reputation": 399, "user_id": 7343355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/679fff7ca6658b4d17ea337428b4a864?s=128&d=identicon&r=PG&f=1", "display_name": "karolyzz", "link": "https://stackoverflow.com/users/7343355/karolyzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1386, "favorite_count": 0, "accepted_answer_id": 54348663, "answer_count": 1, "score": 0, "last_activity_date": 1587798403, "creation_date": 1548283992, "last_edit_date": 1548324859, "question_id": 54336927, "link": "https://stackoverflow.com/questions/54336927/opencv-decompose-projection-matrix-euler-angle-wrong-direction", "title": "OpenCV Decompose Projection Matrix euler angle wrong direction?", "body": "<p><strong>Situation:</strong> I'm trying to estimate head pose. I have calibrated my camera and got the camera matrix. I have a 3D model that correspond to the image points. I find the pose and get the rotation and translation vectors:</p>\n\n<p><code>_, rvec, tvec = cv2.solvePnP(model_points, image_points, camera_matrix, dist_coeffs, flags=...)</code></p>\n\n<p>I then obtain the rotation matrix from the rotation vector:</p>\n\n<p><code>rotation_matrix, _ = cv2.Rodrigues(rvec)</code></p>\n\n<p>Now, I decided to look at Euler angles. I create projection matrix as follows:</p>\n\n<p><code>projection_matrix = camera_matrix.dot(np.hstack((rotation_matrix, tvec)))</code></p>\n\n<p>So my projection matrix is now 3x4. I then get the Euler angles:</p>\n\n<p><code>angles = cv2.decomposeProjectionMatrix(projection_matrix)[-1]</code></p>\n\n<p><strong>Problem:</strong> I found an alternative way to get the Euler angles in this post (<a href=\"https://stackoverflow.com/questions/14515200/python-opencv-solvepnp-yields-wrong-translation-vector\">Python Opencv SolvePnP yields wrong translation vector</a>), which according to the author should give the same result as my angles (as it did for them):</p>\n\n<pre><code> y_rot = math.asin(rotation_matrix[2][0])\n x_rot = math.acos(rotation_matrix[2][2]/math.cos(y_rot))\n z_rot = math.acos(rotation_matrix[0][0]/math.cos(y_rot))\n y_rot_angle = y_rot *(180/3.1415)\n x_rot_angle = x_rot *(180/3.1415)\n z_rot_angle = z_rot *(180/3.1415)\n</code></pre>\n\n<p>What my angles from decompose projection matrix gives:</p>\n\n<p><code>[164.17979619  19.45087415   1.95279565]</code></p>\n\n<p>What this other solution gives:</p>\n\n<p><code>[164.18463841290048, -19.451447820154847, 1.9528532437807946]</code></p>\n\n<p>The scalar values are the same, but the y angle rotation has a different direction. I was wondering - maybe I have misunderstood something?</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 2, "creation_date": 1548284115, "post_id": 54336899, "comment_id": 95491085, "body": "There is no <a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> in this question."}], "answers": [{"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1548318076, "last_edit_date": 1548318076, "creation_date": 1548284336, "answer_id": 54336989, "question_id": 54336899, "link": "https://stackoverflow.com/questions/54336899/create-a-dictionary-from-a-text-file-which-contains-a-key-and-a-set-made-from-m/54336989#54336989", "title": "create a dictionary from a text file, which contains a key and a set made from multiple properties", "body": "<pre><code>import csv\n\nwith open(filename) as cheeses:\n    cheese_rows = csv.reader(cheeses)\n    d = {cheese_row[0]: set(cheese_row[1:]) for cheese_row in cheese_rows}\n</code></pre>\n\n<p>This will create a dictionary with keys of the first value in each row in the file, and values of a set of the rest of values in the row.</p>\n"}, {"comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1548285009, "post_id": 54337048, "comment_id": 95491351, "body": "There&#39;s a lot of irrelevant code, e.g. the error handling if the file doesn&#39;t exist, checking if <code>len(fields) &gt; 1</code>, capitalizing the cheese name, it&#39;s all a distraction and uncalled for. Data is a nondescript word, it&#39;s all data. <code>readlines</code> is inefficient, the filehandling won&#39;t close in the case of an exception, is unidiomatic, <code>print</code> will convert <code>CHEESE</code> to a string no need to call <code>str</code>, etc, etc."}, {"owner": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "edited": false, "score": 0, "creation_date": 1548285224, "post_id": 54337048, "comment_id": 95491412, "body": "I agree with Peter. I think the steps you gave were great but the code is unnecessarily verbose."}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1548285357, "post_id": 54337048, "comment_id": 95491456, "body": "@PeterWood - The &quot;irrelevant code&quot; is there as a nudge to the OP that they should think about these things when writing their own code.  I assumed, that because they asked for help with such a simple operation, that they&#39;re quite a beginner at programming and aspects such as input-data integrity and error checking need to happen."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1548318214, "post_id": 54337048, "comment_id": 95500242, "body": "Why post non-idiomatic python to a beginner? Surely they deserve better, not worse?"}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "edited": false, "score": 0, "creation_date": 1548366640, "post_id": 54337048, "comment_id": 95526836, "body": "Because non-idomatic code, in this case, is much more readable and understandable.  Each step is a single operation which can be split-out and absorbed in isolation.  Terse, idiomatic answers are great among software engineers, but not for absolute beginners."}], "tags": [], "owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "is_accepted": false, "score": 0, "last_activity_date": 1548285858, "last_edit_date": 1548285858, "creation_date": 1548284602, "answer_id": 54337048, "question_id": 54336899, "link": "https://stackoverflow.com/questions/54336899/create-a-dictionary-from-a-text-file-which-contains-a-key-and-a-set-made-from-m/54337048#54337048", "title": "create a dictionary from a text file, which contains a key and a set made from multiple properties", "body": "<ol>\n<li>Read the text in line by line.</li>\n<li>Split the fields by comma (or use the <code>csv</code> module)</li>\n<li>add them to a dictionary</li>\n</ol>\n\n<p>Giving the code:</p>\n\n<pre><code>#! /usr/bin/env python3\n\nimport sys\n\n# Empty dictionary to hold Cheese properties\nCHEESE = {}  \n\ntry:\n    fin = open(\"cheese.txt\")\nexcept:\n    sys.stderr.write(\"Failed to open input file\\n\")\n    sys.exit(1)\n\n# EDIT: more comprehensive error catching\nline_count = 0\ntry:\n    for cheese_data in fin: # or  fin.readlines():\n        line_count += 1\n        # We're expecting name,property1,property2, ... ,propertyN\n        fields = cheese_data.strip().split(',')\n        if ( len( fields ) &gt; 1 ):\n            cheese_name = fields[0].capitalize()\n            cheese_properties = fields[1:]\n            # Add item to dictionary\n            CHEESE[cheese_name] = cheese_properties\nexcept:\n    sys.stderr.write(\"Error around line %u\\n\" % (line_count))\nfinally:\n    fin.close()\n\n### ... do stuff with CHEESE dict\n\nprint(str(CHEESE))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10812692, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xjAc0QmVMTg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY0kQJyKsg0L_JJFh6ieEOhjdxjtg/mo/photo.jpg?sz=128", "display_name": "JetBlackT", "link": "https://stackoverflow.com/users/10812692/jetblackt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1548318076, "creation_date": 1548283851, "last_edit_date": 1548284047, "question_id": 54336899, "link": "https://stackoverflow.com/questions/54336899/create-a-dictionary-from-a-text-file-which-contains-a-key-and-a-set-made-from-m", "title": "create a dictionary from a text file, which contains a key and a set made from multiple properties", "body": "<p>The text file contains the names of cheeses and its properties. The number of properties is not the same for each cheese. \nAn end result is a dictionary with the names of each cheese being a key and its properties being the set linked to that key. </p>\n\n<p>Is there a different way than manually copying each set of properties into a set and assigning the correct key?</p>\n\n<pre><code>champignon de luxe garlic,soft,soft-ripened,garlicky,herbaceous,herbal,spicy,cream,creamy,natural\nbleu dauvergne,semi-soft,artisan,buttery,creamy,grassy,herbaceous,salty,spicy,tangy,strong,ivory,creamy and smooth,bloomy\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "testing"], "comments": [{"owner": {"reputation": 52185, "user_id": 1782792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e8dde1ee800b9687983617bbea3cb9b?s=128&d=identicon&r=PG&f=1", "display_name": "jdehesa", "link": "https://stackoverflow.com/users/1782792/jdehesa"}, "edited": false, "score": 1, "creation_date": 1548325821, "post_id": 54336890, "comment_id": 95504494, "body": "You could have something like <code>check_asserts = tf.placeholder_with_default(True, ())</code> and then wrap the assertions like <code>tensor = tf.cond(check_asserts, lambda: tf.contrib.framework.with_shape(shape, tensor), lambda: tf.identity(tensor))</code>... then you could pass <code>check_asserts: False</code> in the <code>feed_dict</code> to skip asserts on run."}], "answers": [{"tags": [], "owner": {"reputation": 483, "user_id": 1091722, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/96a9a12563e5be9d6a4896bee1e69e4e?s=128&d=identicon&r=PG", "display_name": "protagonist", "link": "https://stackoverflow.com/users/1091722/protagonist"}, "is_accepted": true, "score": 0, "last_activity_date": 1549064469, "last_edit_date": 1549064469, "creation_date": 1549058185, "answer_id": 54487661, "question_id": 54336890, "link": "https://stackoverflow.com/questions/54336890/globally-disable-tensorflow-asserts/54487661#54487661", "title": "Globally disable Tensorflow asserts?", "body": "<p>I ended up using something similar to @jdehesa's comment suggestion but with a branched factory function instead of a <code>tf.cond</code>.</p>\n\n<pre><code>def make_maybe_with_shape(skip_asserts):\n    if skip_asserts:  # identity\n        return lambda expected_shape, tensor: tensor\n    else:\n        return lambda expected_shape, tensor: tf.contrib.framework.with_shape(\n                expected_shape, tensor)\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 1091722, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/96a9a12563e5be9d6a4896bee1e69e4e?s=128&d=identicon&r=PG", "display_name": "protagonist", "link": "https://stackoverflow.com/users/1091722/protagonist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 54487661, "answer_count": 1, "score": 1, "last_activity_date": 1549064469, "creation_date": 1548283791, "question_id": 54336890, "link": "https://stackoverflow.com/questions/54336890/globally-disable-tensorflow-asserts", "title": "Globally disable Tensorflow asserts?", "body": "<p>Is there an option in Tensorflow that I can set to ignore all the <code>Assert</code> operations I've added to my <code>Graph</code>?</p>\n\n<p>The use case I'm thinking about is adding a bunch of Asserts using <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/framework/with_shape\" rel=\"nofollow noreferrer\"><code>tf.contrib.framework.with_shape</code></a>, and then toggling a flag in my configuration file, <code>config.fast</code> to decide whether I should skip these Asserts during training.</p>\n\n<p>Normally I'd choose whether to generate the <code>Asserts</code> in the first place based on whether <code>config.fast</code> is set, but when using <code>with_shape</code> it seems more convenient to chain this option to my Tensors without looking at my <code>config.fast</code>.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1548284456, "post_id": 54336881, "comment_id": 95491191, "body": "@coldspeed actually I get a ParseError when I try <code>read_csv</code> on the strings I have."}, {"owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1548285556, "post_id": 54336881, "comment_id": 95491524, "body": "Updated Question, Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "edited": false, "score": 0, "creation_date": 1548285708, "post_id": 54336950, "comment_id": 95491570, "body": "does this work if there are strings that contain spaces?"}, {"owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "edited": false, "score": 0, "creation_date": 1548287050, "post_id": 54336950, "comment_id": 95491898, "body": "My current problem is that I have a bunch of strings (not the DataFrames), and I wish to recover the Dataframes. <code>str(df)</code> was just an example of what my strings look like. Sorry for the confuction"}, {"owner": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "reply_to_user": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "edited": false, "score": 0, "creation_date": 1548287830, "post_id": 54336950, "comment_id": 95492060, "body": "@AsheKetchum how are the strings delimited? If unescaped delimiter can be found in the data then it seems a bit unreasonable to expect to be able to parse it  without more constraints"}, {"owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "edited": false, "score": 0, "creation_date": 1548288148, "post_id": 54336950, "comment_id": 95492116, "body": "I&#39;m still trying to figure out what the delimiter is. I tried <code>[i for i in str(df).split(&quot;\\n&quot;]</code> which kinda shows the line by line composition."}, {"owner": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "reply_to_user": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "edited": false, "score": 0, "creation_date": 1548288570, "post_id": 54336950, "comment_id": 95492209, "body": "That&#39;s the newline character, the delimiter splits columns (e.g. comma in a csv), and what I&#39;m saying is that whoever exported those strings appears to have done so without their delimiters"}, {"owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "reply_to_user": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "edited": false, "score": 0, "creation_date": 1548288788, "post_id": 54336950, "comment_id": 95492258, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/187214/discussion-between-asheketchum-and-charles-landau\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3677, "user_id": 10553976, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0OtkRHQ0PKw/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAFTLpkUFgg8Wso5q8W5jNUeEeS7Q/mo/photo.jpg?sz=128", "display_name": "Charles Landau", "link": "https://stackoverflow.com/users/10553976/charles-landau"}, "is_accepted": false, "score": 2, "last_activity_date": 1548286849, "last_edit_date": 1548286849, "creation_date": 1548284104, "answer_id": 54336950, "question_id": 54336881, "link": "https://stackoverflow.com/questions/54336881/how-to-get-back-dataframe-after-using-strdf/54336950#54336950", "title": "How to get back DataFrame after using str(df)?", "body": "<h3>New answer</h3>\n\n<p>In response to your new, edited question, the best answer I have is to use <code>to_csv</code> instead of <code>to_string</code>. <code>to_string</code> doesn't really support this use case as well as <code>to_csv</code> (and I don't see how I can save you from doing a bunch of conversions to and from StringIO instances...).</p>\n\n<pre><code>df = pd.DataFrame(columns=[\"really long name that goes on for a while\", \"another really long string\", \"c\"]*6, \n                  data=[[\"some really long data\",2,3]*6,[4,5,6]*6,[7,8,9]*6])\ns = StringIO()\ndf.to_csv(s)\n# To get the string use, `s.getvalue()`\n# Warning: will exhaust `s`\n\npd.read_csv(StringIO(s.getvalue()))\n</code></pre>\n\n<p>I hope this update helps, I'll leave my old answer for continuity.</p>\n\n<hr>\n\n<h3>Old answer</h3>\n\n<p>In a very cool twist, the answer to this will also help you read a commonly pasted format of dataframe output on stackoverflow. Consider that we can read a <code>df</code> from a string like so:</p>\n\n<pre><code>data = \"\"\"    0   20   30   40   50\n 1  5  NaN   3    5   NaN\n 2  2   3    4   NaN   4\n 3  6   1    3    1   NaN\"\"\"\n\nimport pandas as pd\nfrom io import StringIO\ndata = StringIO(data)\ndf = pd.read_csv(data, sep=\"\\\\s+\")\n</code></pre>\n\n<p>This results in the following df:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mHZnE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mHZnE.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can read the output of <code>to_string</code> the same way:</p>\n\n<pre><code>pd.read_csv(StringIO(df.to_string()), sep=\"\\\\s+\")\n</code></pre>\n\n<p>And the resulting <code>df</code> is the same.</p>\n"}, {"comments": [{"owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "edited": false, "score": 1, "creation_date": 1548292634, "post_id": 54337977, "comment_id": 95493001, "body": "Thanks! I wish I had an easy way to get number of rows :) I do have number of columns though, which with some counting and division gives me the number of rows."}, {"owner": {"reputation": 1181, "user_id": 8628758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WOsKE.jpg?s=128&g=1", "display_name": "James Dellinger", "link": "https://stackoverflow.com/users/8628758/james-dellinger"}, "reply_to_user": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "edited": false, "score": 0, "creation_date": 1548293214, "post_id": 54337977, "comment_id": 95493108, "body": "No problem. I just realized that it&#39;s possible to extract the number of rows, and updated my code to do this automatically: <code>num_rows = int(lst[lst.index(&#39;&#39;) -1][0]) + 1</code>"}], "tags": [], "owner": {"reputation": 1181, "user_id": 8628758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WOsKE.jpg?s=128&g=1", "display_name": "James Dellinger", "link": "https://stackoverflow.com/users/8628758/james-dellinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1548293171, "last_edit_date": 1548293171, "creation_date": 1548291923, "answer_id": 54337977, "question_id": 54336881, "link": "https://stackoverflow.com/questions/54336881/how-to-get-back-dataframe-after-using-strdf/54337977#54337977", "title": "How to get back DataFrame after using str(df)?", "body": "<p>Try this. Updated to include logic to automatically calculate number of rows. Basically I extract the largest value of your original dataframe's index (row number), which is inside the big string.</p>\n\n<p>If we begin with a dataframe converted to a string using the example you gave:</p>\n\n<pre><code>df = pd.DataFrame(columns=[\"really long name that goes on for a while\", \"another really long string\", \"c\"]*6, \n                  data=[[\"some really long data\",2,3]*6,[4,5,6]*6,[7,8,9]*6])\n\nstring = str(df)\n</code></pre>\n\n<ol>\n<li>First, let's extract the column names:</li>\n</ol>\n\n<pre><code>import re\nimport numpy as np\n\nlst = re.split('\\n', string)\nnum_rows = int(lst[lst.index('') -1][0]) + 1\ncol_names = []\nlst = [i for i in lst if i != '']\n\nfor i in range(0,len(lst), num_rows + 1):\n    col_names.append(lst[i])\n\nnew_col_names = []\nfor i in col_names:\n    new_col_names.append(re.split('  ', i))\n\nfinal_col_names = []\nfor i in new_col_names:\n    final_col_names += i\n\nfinal_col_names = [i for i in final_col_names if i != '']\nfinal_col_names = [i for i in final_col_names if i != '\\\\']\n</code></pre>\n\n<ol start=\"2\">\n<li>Then, let's get the data:</li>\n</ol>\n\n<pre><code>for i in col_names:\n    lst.remove(i)\n\nnew_lst = [re.split(r'\\s{2,}', i) for i in lst]\nnew_lst = [i[1:-1] for i in new_lst]\n\nnewer_lst = []\nfor i in range(num_rows):\n    sub_lst = []\n    for j in range(i,len(final_col_names), num_rows):\n        sub_lst += new_lst[j]\n    newer_lst.append(sub_lst)\n\nreshaped = np.reshape(newer_lst, (num_rows,len(final_col_names)))\n</code></pre>\n\n<ol start=\"3\">\n<li>Finally, we can create the reconstructed dataframe using the data and column names:</li>\n</ol>\n\n<pre><code>fixed_df = pd.DataFrame(data=reshaped, columns = final_col_names)\n</code></pre>\n\n<p>My code performs some loops so if your original dataframe had hundreds of thousands of rows, this approach could take a while.</p>\n"}, {"tags": [], "owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "is_accepted": true, "score": 0, "last_activity_date": 1548373921, "creation_date": 1548373921, "answer_id": 54357116, "question_id": 54336881, "link": "https://stackoverflow.com/questions/54336881/how-to-get-back-dataframe-after-using-strdf/54357116#54357116", "title": "How to get back DataFrame after using str(df)?", "body": "<p>So, not really sure how helpful this question was or will be to anyone, but I wrote a function (and a helper) to try and bring back my data that I mistakenly stored as DataFrames nested in a pd.Series. </p>\n\n<p>Here are the functions:</p>\n\n<pre><code>def insertNan(substring):\n    rows = substring.split('\\n')\n    headers = re.sub(\"  \\s+\", \"  \", rows[0].replace(\"\\\\\",\"\").strip()).split(\"  \")\n    #  The [2] below is a placeholder for the index. (Look in str(df), may appear like \"\\\\\\n1\")\n    # Notice that if your tables get past 100 rows, 2 needs to be 3, or be determined otherwise.\n    boundaries = [0] + [2] + [rows[0].find(header)+len(header) for header in headers]\n    values = []\n    for i, row in enumerate(rows):\n        values.append(row)\n        # First row is just column headers. If no headers then don't use these functions\n        if i==0:\n            continue\n        for j, bound in enumerate(boundaries[:-1]):\n            value = row[bound:boundaries[j+1]].strip()\n            if not value:\n                newstring = list(values[i])\n                newstring[boundaries[j+1]-3:boundaries[j+1]] = \"NaN\"\n                values[i] = ''.join(newstring)\n            if \"  \" in value:\n                start = values[i].find(value)\n                newvalue = re.sub(\" \\s+\", \" \", value)\n                values[i] = values[i][:start]+newvalue+values[i][start+len(value)]\n    return '\\n'.join(values)\n\ndef from_string(string):\n    string = string.replace(\"\\\\\", \"\")\n    chunks = [insertNan(i).strip() for i in string.split(\"\\n\\n\")]\n    frames = [pd.read_csv(StringIO(chunk), sep=\" \\\\s+\", engine='python') \n              for chunk in chunks]\n    return pd.concat(frames, axis=1)\n\n# Read file and loop through series. These two lines might have to be modified.\ncorrupted_results = pd.read_excel(fileio, squeeze=True)\nresults = [from_string(result for result in corrupted_results.values\n</code></pre>\n\n<p>That pretty much brought me back to the pd.Series (results) that I started with.</p>\n\n<p>Except some overly long text entries got cut off with <code>\"...\"</code>. </p>\n\n<p>So to conclude, saving data as DataFrames nested in pd.Series is probably just a bad idea. I have now decided to save a concatenated DataFrame made by concatenating the DataFrames with an added \"name\" column which allows me to separate using <code>.groupby</code> later on if needed.</p>\n\n<p>As a side note, if the DataFrames saved in the pd.Series have no header, the functions I have provided will probably not work unless modified.</p>\n\n<p>Special thanks to ColdSpeed, Charles Landau, and JamesD for their time, help and kindness!</p>\n"}], "owner": {"reputation": 893, "user_id": 7571052, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3N48C.png?s=128&g=1", "display_name": "AsheKetchum", "link": "https://stackoverflow.com/users/7571052/asheketchum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 54357116, "answer_count": 3, "score": 0, "last_activity_date": 1548373921, "creation_date": 1548283744, "last_edit_date": 1548286028, "question_id": 54336881, "link": "https://stackoverflow.com/questions/54336881/how-to-get-back-dataframe-after-using-strdf", "title": "How to get back DataFrame after using str(df)?", "body": "<p>I think I messed up trying to save a Pandas Series that contained a bunch of Pandas Dataframes. Turns out that the DataFrames were each saved as if I called <code>df.to_string()</code> on them.</p>\n\n<p>From my observations so far, my strings have extra spacing in some places, as well as extra <code>\\</code> when the DataFrame has too many columns to be displayed on the same row.</p>\n\n<p>Here is a \"more appropriate DataFrame:</p>\n\n<pre><code>df = pd.DataFrame(columns=[\"really long name that goes on for a while\", \"another really long string\", \"c\"]*6, \n                  data=[[\"some really long data\",2,3]*6,[4,5,6]*6,[7,8,9]*6])\n</code></pre>\n\n<p>The strings that I have and wish to turn into a DataFrame look like this:</p>\n\n<pre><code># str(df)\n\n'  really long name that goes on for a while  another really long string  c  \\\\\\n0                     some really long data                           2  3   \\n1                                         4                           5  6   \\n2                                         7                           8  9   \\n\\n  really long name that goes on for a while  another really long string  c  \\\\\\n0                     some really long data                           2  3   \\n1                                         4                           5  6   \\n2                                         7                           8  9   \\n\\n  really long name that goes on for a while  another really long string  c  \\\\\\n0                     some really long data                           2  3   \\n1                                         4                           5  6   \\n2                                         7                           8  9   \\n\\n  really long name that goes on for a while  another really long string  c  \\\\\\n0                     some really long data                           2  3   \\n1                                         4                           5  6   \\n2                                         7                           8  9   \\n\\n  really long name that goes on for a while  another really long string  c  \\\\\\n0                     some really long data                           2  3   \\n1                                         4                           5  6   \\n2                                         7                           8  9   \\n\\n  really long name that goes on for a while  another really long string  c  \\n0                     some really long data                           2  3  \\n1                                         4                           5  6  \\n2                                         7                           8  9  '\n</code></pre>\n\n<p>How would I revert a string like this back to a DataFrame?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django", "azure", "django-rest-framework", "azure-application-insights"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 1194172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ad93965f258c90d13ac465fccf94d6?s=128&d=identicon&r=PG", "display_name": "Shanky", "link": "https://stackoverflow.com/users/1194172/shanky"}, "edited": false, "score": 0, "creation_date": 1548295437, "post_id": 54337986, "comment_id": 95493530, "body": "What part of the Azure functions code would you like to see? I will update my question after trying the CORS library that you mentioned."}, {"owner": {"reputation": 1239, "user_id": 6284315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0ntl.jpg?s=128&g=1", "display_name": "Jrog", "link": "https://stackoverflow.com/users/6284315/jrog"}, "reply_to_user": {"reputation": 15, "user_id": 1194172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ad93965f258c90d13ac465fccf94d6?s=128&d=identicon&r=PG", "display_name": "Shanky", "link": "https://stackoverflow.com/users/1194172/shanky"}, "edited": false, "score": 0, "creation_date": 1548296005, "post_id": 54337986, "comment_id": 95493660, "body": "@Shanky the part that calls <code>django API</code>. And headers of the azure request, if you can get. I recommend this <a href=\"https://github.com/Rhumbix/django-request-logging\" rel=\"nofollow noreferrer\">library</a> for request logging"}], "tags": [], "owner": {"reputation": 1239, "user_id": 6284315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0ntl.jpg?s=128&g=1", "display_name": "Jrog", "link": "https://stackoverflow.com/users/6284315/jrog"}, "is_accepted": false, "score": 0, "last_activity_date": 1548292020, "creation_date": 1548292020, "answer_id": 54337986, "question_id": 54336878, "link": "https://stackoverflow.com/questions/54336878/django-api-throwing-a-403-error-when-called-from-azure-functions/54337986#54337986", "title": "Django API throwing a 403 error when called from Azure Functions", "body": "<p>First at all, I need your Azure function code. Please edit your question and mention that to me.</p>\n\n<p>What I can see now is probably the <code>CORS</code> problem. The problem with log.py is negligible. If there was a problem with django itself, it would return 500 errors instead of 403.</p>\n\n<p><a href=\"https://github.com/ottoyiu/django-cors-headers\" rel=\"nofollow noreferrer\">django cors library</a> will help you.</p>\n\n<p>If it wasn't a CORS problem, please log in more detail and update the questions.</p>\n\n<ul>\n<li><a href=\"https://docs.djangoproject.com/en/2.1/topics/logging/\" rel=\"nofollow noreferrer\">Django logging doc</a></li>\n<li><a href=\"https://lincolnloop.com/blog/django-logging-right-way/\" rel=\"nofollow noreferrer\">Tutorial post</a></li>\n</ul>\n\n<p>I hope your problem will be solved.</p>\n"}], "owner": {"reputation": 15, "user_id": 1194172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8ad93965f258c90d13ac465fccf94d6?s=128&d=identicon&r=PG", "display_name": "Shanky", "link": "https://stackoverflow.com/users/1194172/shanky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548292020, "creation_date": 1548283735, "question_id": 54336878, "link": "https://stackoverflow.com/questions/54336878/django-api-throwing-a-403-error-when-called-from-azure-functions", "title": "Django API throwing a 403 error when called from Azure Functions", "body": "<p>I have an instance of Azure Functions which is calling a particular endpoint of a Django API. The Django API doesn't need any authentication and I have used the <code>@csrf_exempt</code> annotator in the views.py file. It's a POST request which takes request parameters from the URL. When I call the end-point from Postman, it works fine but when the Azure Functions is making a HTTP Post call, the API throws a 403 Forbidden error. There is no explicit 403 error that is coded in the Django API. Logs on AppInsights suggest that <code>log.py line 228</code> is throwing the error. From what I understand, the relevant log.py file is present in <code>django/utils/log.py</code></p>\n\n<p>I am not able to figure out why there is a 403 error from the API. Any suggestions?<a href=\"https://i.stack.imgur.com/ijV1T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ijV1T.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "directory", "python-2.x", "cd"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1548285417, "post_id": 54336822, "comment_id": 95491476, "body": "<a href=\"https://docs.python.org/3/library/os.html#files-and-directories\" rel=\"nofollow noreferrer\"><code>os.chdir()</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548283842, "post_id": 54336848, "comment_id": 95490984, "body": "that would be changing the directory overall. what im looking for is that you would be using a raw input to determine that you would want to run this command and at the same time know what directory to refrence"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548284008, "post_id": 54336848, "comment_id": 95491050, "body": "<code>if &#39;cd&#39; in directory:</code>  <code>desired_directory = directory.split(&#39; &#39;)[1]</code>  <code>os.chdir(&#39;desired_directory&#39;)</code>"}, {"owner": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548284989, "post_id": 54336848, "comment_id": 95491343, "body": "Last question, is there an easy way to print the current directory"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548285094, "post_id": 54336848, "comment_id": 95491371, "body": "os.getcwd()... there are plenty of other functions you may be interested in at: <a href=\"https://docs.python.org/3/library/os.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/os.html</a>"}, {"owner": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548285221, "post_id": 54336848, "comment_id": 95491410, "body": "Thank you so much!"}, {"owner": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548285413, "post_id": 54336848, "comment_id": 95491474, "body": "The only problem i see with os.getcwd() is that it list the entire path, not just the current directory, shouldve specified that"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548285884, "post_id": 54336848, "comment_id": 95491614, "body": "try this: <code>full_path = os.getcwd()</code>   <code>split_path = full_path.split(&#39;\\\\&#39;)</code>   <code>current_folder = split_path[-1]</code>"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 1, "last_activity_date": 1548283536, "creation_date": 1548283536, "answer_id": 54336848, "question_id": 54336822, "link": "https://stackoverflow.com/questions/54336822/change-current-directory-and-view-available-directories/54336848#54336848", "title": "Change current directory and view available directories", "body": "<p><code>import os</code></p>\n\n<p><code>os.chdir('folder1')</code></p>\n\n<p>or </p>\n\n<p><code>os.chdir('folderinfolder1')</code></p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "edited": false, "score": 0, "creation_date": 1548284100, "post_id": 54336897, "comment_id": 95491079, "body": "Using python 2.7 IDLE for programming, not C"}], "tags": [], "owner": {"reputation": 364, "user_id": 9863715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bdpej.jpg?s=128&g=1", "display_name": "KR34T1V", "link": "https://stackoverflow.com/users/9863715/kr34t1v"}, "is_accepted": false, "score": -1, "last_activity_date": 1548283843, "creation_date": 1548283843, "answer_id": 54336897, "question_id": 54336822, "link": "https://stackoverflow.com/questions/54336822/change-current-directory-and-view-available-directories/54336897#54336897", "title": "Change current directory and view available directories", "body": "<p>I have done this except using <strong><em>C</em></strong> while creating a shell, in my case I used a library with the <strong><em>chdir</em></strong> function and it looked like this:</p>\n\n<pre><code>static void min_cmd_cd_av(char *av, char ***env)\n{\n    char    *tmp;\n\n    if (av &amp;&amp; 0 == chdir(av))\n    {\n        tmp = min_env_get_val(env, \"PWD=\");\n        min_env_set_path(env, \"OLDPWD=\", tmp);\n        free(tmp);\n        tmp = (char *)ft_memalloc(4098 * sizeof(char *));\n        getcwd(tmp, 4098);\n        min_env_set_path(env, \"PWD=\", tmp);\n        ft_strdel(&amp;tmp);\n    }\n    else\n        ft_printf(\"\\e[91mERROR: Invalid Path/Permissions\\e[96m\\n\");\n}\n\nint         min_cmd_cd(int ac, char **av, char ***env)\n{\n    char    *tmp;\n\n    if (ac &lt;= 1)\n    {\n        tmp = min_env_get_val(env, \"HOME=\");\n        if (tmp)\n        {\n            min_cmd_cd_av(tmp, env);\n            ft_strdel(&amp;tmp);\n        }\n        else\n            ft_printf(\"\\e[91mERROR: Home variable not found!\\e[96m\\n\");\n    }\n    else if (ac &gt; 1)\n    {\n        min_shell_path(&amp;av, env);\n        min_cmd_cd_av(av[1], env);\n    }\n    return (0);\n}\n</code></pre>\n\n<p>I used the shell environment to update the PWD and OLDPWD which allows you to implement that into your shell as well.</p>\n"}], "owner": {"reputation": 71, "user_id": 6739098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1hUm.jpg?s=128&g=1", "display_name": "JROS", "link": "https://stackoverflow.com/users/6739098/jros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "closed_date": 1548470592, "accepted_answer_id": 54336848, "answer_count": 2, "score": 0, "last_activity_date": 1560794257, "creation_date": 1548283379, "last_edit_date": 1560794257, "question_id": 54336822, "link": "https://stackoverflow.com/questions/54336822/change-current-directory-and-view-available-directories", "closed_reason": "Duplicate", "title": "Change current directory and view available directories", "body": "<p>This isnt a duplicate, as the original answer did not help into implementing it into my raw input command interpreter. Credit to original question/answer where due.</p>\n\n<p>So I'm working on a DOS style Operating System in python and I was wondering how or even if it is possible to execute a command that would let me switch between directories like a regular command prompt would let you do. </p>\n\n<p>Im not sure how well I'm explaining myself but basically I would have the same command as <code>cd</code> in terminal so I could read files imbedded in folders, change between folders etc. I don't need any sort of limit on how complex it is but i would prefer if it isn't too long.</p>\n\n<p>I have yet to find a clear solution to this. in a best case scenario, this is all you would need to input</p>\n\n<pre><code>cd folder1\ncd folderinfolder1\n</code></pre>\n\n<p>this would be inputted into a <code>raw input</code> or a <code>input</code> and then executed so im assuming it would require splits so it knows that before the space there is <code>cd</code> and after the space there is the filename, such as <code>folder</code>\nI am also have an issue with using <code>os.listdir</code> only showing files, and not any folders. </p>\n\n<p>it would be used like this</p>\n\n<p><code>directory=raw_input(\"enter cd followed with a directory\")</code></p>\n\n<hr>\n\n<p>This might be a bit much to ask, not even sure if it is possible</p>\n"}, {"tags": ["python", "amazon-web-services", "sockets"], "comments": [{"owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 0, "creation_date": 1548287885, "post_id": 54336807, "comment_id": 95492066, "body": "ICMP rules do not enable TCP/IP connections. You need a rule for TCP and your port number."}, {"owner": {"reputation": 21, "user_id": 10257091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2edb1bf061ac5e362f0df819a96e890a?s=128&d=identicon&r=PG&f=1", "display_name": "cssenior", "link": "https://stackoverflow.com/users/10257091/cssenior"}, "reply_to_user": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 0, "creation_date": 1548288390, "post_id": 54336807, "comment_id": 95492171, "body": "Oh whoops, makes sense. Seems my professor mentioned the wrong rule. Works as intended now, thanks @JohnHanley"}, {"owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 0, "creation_date": 1548288874, "post_id": 54336807, "comment_id": 95492273, "body": "The ICMP protocol allows the <code>ping</code> command to function."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10257091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2edb1bf061ac5e362f0df819a96e890a?s=128&d=identicon&r=PG&f=1", "display_name": "cssenior", "link": "https://stackoverflow.com/users/10257091/cssenior"}, "is_accepted": false, "score": 0, "last_activity_date": 1548288346, "creation_date": 1548288346, "answer_id": 54337533, "question_id": 54336807, "link": "https://stackoverflow.com/questions/54336807/python-socket-connection-hangs-on-different-instance-but-works-on-same-instance/54337533#54337533", "title": "Python Socket Connection Hangs On Different Instance but Works on Same Instance", "body": "<p>My issue what that I was missing a TCP rule with source allowing \"Anywhere\". I was under the impression that ICMP was the only rule I needed given my assignment, but that seems to not be the case. Thanks for the help.</p>\n"}], "owner": {"reputation": 21, "user_id": 10257091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2edb1bf061ac5e362f0df819a96e890a?s=128&d=identicon&r=PG&f=1", "display_name": "cssenior", "link": "https://stackoverflow.com/users/10257091/cssenior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548288346, "creation_date": 1548283309, "last_edit_date": 1548284781, "question_id": 54336807, "link": "https://stackoverflow.com/questions/54336807/python-socket-connection-hangs-on-different-instance-but-works-on-same-instance", "title": "Python Socket Connection Hangs On Different Instance but Works on Same Instance", "body": "<p>I'm currently using two different AWS instances to try and communicate using two python files, one a client and one a server. One instance, Server, has a copy of the server file and the client file. The other instance, Client, has only a copy of the client file.</p>\n\n<p>The problem is that when I run the client file on the Server instance, it works as intended. However, when I run the client file on the Client instance, it hangs on the socket.connect call.</p>\n\n<p>server.py</p>\n\n<pre><code>import socket\n# create a socket object\nserversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n# get local machine name. I have also used ''\nhost = socket.gethostname()\n# I use this print to set the host name in the client file.\nprint(host)\n\nport = 12000 \n\n# bind to the port\nserversocket.bind((host, port))\n\n# queue up to 5 requests\nserversocket.listen(5)\n\nwhile True:\n    # establish a connection\n    clientsocket,addr = serversocket.accept()\n    print(\"Got a connection from %s\" % str(addr))\n\n    msg='Thank you for connecting'+ \"\\r\\n\"\n    clientsocket.send(msg.encode('ascii'))\n    clientsocket.close()\n</code></pre>\n\n<p>client.py </p>\n\n<pre><code>import socket\n# create a socket object\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n# host is hard-coded to the output of the server file's gethostname() result\n# hard-coded value from server.py\nhost = '###.##.##.##'\nport = 12000\n\n# connect. This is where the code hangs when run in the terminal\ns.connect((host, port))\n\n# Receive no more than 1024 bytes\nmsg = s.recv(1024)\ns.close()\nprint (msg.decode('ascii'))\n</code></pre>\n\n<p>I've checked my security group on my AWS instances as well. Both of them have the same security group, which includes:</p>\n\n<pre><code>Custom ICMP Rule - IPv4 Echo Reply N/A 0.0.0.0/0 ICMP\nCustom ICMP Rule - IPv4 Echo Reply N/A ::/0 ICMP\n</code></pre>\n\n<p>which I believe should allow things to run properly.</p>\n\n<p>I'm unsure as to where I could be going wrong. I am certain that both client files are the same and that both servers have the same security group. I read that socket.gethostname() should return a value that is accessible from the public, so I don't think my host address is wrong. The port number is also correct. Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "django", "mezzanine"], "comments": [{"owner": {"reputation": 5066, "user_id": 5067761, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/947067565354445/picture?type=large", "display_name": "Ahtisham", "link": "https://stackoverflow.com/users/5067761/ahtisham"}, "edited": false, "score": 0, "creation_date": 1548369748, "post_id": 54336787, "comment_id": 95527900, "body": "If <code>&quot;IndustryPage&quot;</code> is a model than remove the quotes."}, {"owner": {"reputation": 163, "user_id": 948077, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f699c44daafe6874cf4f29504ce197f7?s=128&d=identicon&r=PG", "display_name": "mitnosirrag", "link": "https://stackoverflow.com/users/948077/mitnosirrag"}, "reply_to_user": {"reputation": 5066, "user_id": 5067761, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/947067565354445/picture?type=large", "display_name": "Ahtisham", "link": "https://stackoverflow.com/users/5067761/ahtisham"}, "edited": false, "score": 0, "creation_date": 1548369912, "post_id": 54336787, "comment_id": 95527945, "body": "Thanks @Ahtisham, but I have it in quotes so that I can lazy load it since it is defined later in the file."}, {"owner": {"reputation": 5066, "user_id": 5067761, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/947067565354445/picture?type=large", "display_name": "Ahtisham", "link": "https://stackoverflow.com/users/5067761/ahtisham"}, "edited": false, "score": 0, "creation_date": 1548370018, "post_id": 54336787, "comment_id": 95527981, "body": "Show us <code>CaseStudyAdmin</code> code."}, {"owner": {"reputation": 163, "user_id": 948077, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f699c44daafe6874cf4f29504ce197f7?s=128&d=identicon&r=PG", "display_name": "mitnosirrag", "link": "https://stackoverflow.com/users/948077/mitnosirrag"}, "reply_to_user": {"reputation": 5066, "user_id": 5067761, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/947067565354445/picture?type=large", "display_name": "Ahtisham", "link": "https://stackoverflow.com/users/5067761/ahtisham"}, "edited": false, "score": 0, "creation_date": 1548370510, "post_id": 54336787, "comment_id": 95528126, "body": "What you see is what is there.  The two inlines are basic models and even if I remove them it throws the same error."}], "answers": [{"tags": [], "owner": {"reputation": 198, "user_id": 11108834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p7gH3U5ey4o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN2etNLAGrkYLabHLtEjK_iLrz1wg/mo/photo.jpg?sz=128", "display_name": "J&#248;rgen Fr&#248;jk Kj&#230;rsgaard", "link": "https://stackoverflow.com/users/11108834/j%c3%b8rgen-fr%c3%b8jk-kj%c3%a6rsgaard"}, "is_accepted": true, "score": 2, "last_activity_date": 1551004117, "last_edit_date": 1551004117, "creation_date": 1551002929, "answer_id": 54850807, "question_id": 54336787, "link": "https://stackoverflow.com/questions/54336787/duplicate-fields-when-using-manytomanyfield/54850807#54850807", "title": "Duplicate fields when using ManyToManyField", "body": "<p>It seems like <code>ContentTypedAdmin</code> in <code>Mezzanine</code> adds <code>ManyToMany</code> fields in subclasses twice. I haven't investigated exactly why it happens. A possible solution is to alter the last two lines of <code>ContentTypedAdmin.__init__()</code> to:</p>\n\n<pre><code>if not hasattr(field, \"translated_field\") and field.name not in self.fieldsets[0][1][\"fields\"]:\n    self.fieldsets[0][1][\"fields\"].insert(3, field.name)\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 948077, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f699c44daafe6874cf4f29504ce197f7?s=128&d=identicon&r=PG", "display_name": "mitnosirrag", "link": "https://stackoverflow.com/users/948077/mitnosirrag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 54850807, "answer_count": 1, "score": 1, "last_activity_date": 1551004117, "creation_date": 1548283171, "last_edit_date": 1548350566, "question_id": 54336787, "link": "https://stackoverflow.com/questions/54336787/duplicate-fields-when-using-manytomanyfield", "title": "Duplicate fields when using ManyToManyField", "body": "<p>\nI upgraded from Django 1.10 to 1.11 and now two of my models which previously worked are causing errors.  They are the only two models that have a <code>ManyToManyField</code> that includes a <code>related_name</code> attribute.  I have another <code>ManyToManyField</code> without a <code>related_name</code> and it works fine.  </p>\n\n<p>The error that gets thrown is misleading: </p>\n\n<blockquote>\n  <p><code>&lt;class 'hadotcom.admin.CaseStudyAdmin'&gt;: (admin.E012) There are duplicate field(s) in 'fieldsets[0][1]'</code></p>\n</blockquote>\n\n<p>I've found other SO posts that reference that error and confirmed that none of them match my issue.</p>\n\n<p>If I comment out the entire line it passes the check.  I tried adding a <code>through</code> attribute and that didn't help.</p>\n\n<p>Sample code (using Mezzanine):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class CaseStudyPage(Page):\n  industries = models.ManyToManyField(\"IndustryPage\", blank=True, related_name=\"industry_set\", through=\"CaseStudyIndustries\")\n\nclass CaseStudyAdmin(HaPageAdmin):\n  inlines = (Foo, Bar,)\n</code></pre>\n\n<p>Happy to fill in any blanks, and thanks in advance.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 614, "user_id": 5802172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9msUA.jpg?s=128&g=1", "display_name": "Sebastian Waldbauer", "link": "https://stackoverflow.com/users/5802172/sebastian-waldbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1548283697, "creation_date": 1548283697, "answer_id": 54336870, "question_id": 54336781, "link": "https://stackoverflow.com/questions/54336781/how-to-create-2y14-blowfish-hash-with-python/54336870#54336870", "title": "How to create $2y$14 blowfish hash with python?", "body": "<p>According to the <a href=\"https://passlib.readthedocs.io/en/stable/lib/passlib.hash.bcrypt.html\" rel=\"nofollow noreferrer\">official docs</a> you could use <code>ident</code> as param.</p>\n\n<pre><code>bcrypt.using(rounds=14, ident=\"2y\").hash(\"test\")\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 10385669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b85a5c6ddceabd686f70ddd60026a4ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rene", "link": "https://stackoverflow.com/users/10385669/rene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 54336870, "answer_count": 1, "score": 2, "last_activity_date": 1548283697, "creation_date": 1548283138, "question_id": 54336781, "link": "https://stackoverflow.com/questions/54336781/how-to-create-2y14-blowfish-hash-with-python", "title": "How to create $2y$14 blowfish hash with python?", "body": "<p>I'm setting up a new Fedora 29 box and want to create BLF-CRYPT passwords from python. I would like to create $2y$ hashes, but whatever I try, it doesn't raise up above $2b$. Initially it only did $2a$. Therefore I issued:  </p>\n\n<pre><code>pip uninstall py-bcrypt\npip install passlib\npip install bcrypt\n</code></pre>\n\n<p>The passwords are created by:</p>\n\n<pre><code>from passlib.hash import bcrypt\nhashed = bcrypt.using(rounds=14).hash(\"test\")\nhash\n\n'$2b$14$9sAGvDrV0YEF3BBbofYCz.dNSaJZRDw2vfkFDY/5cwQzAxMNP4MVO'\n</code></pre>\n\n<p>How do I create $2y$ hashes?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 306, "user_id": 8132160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6092bf548e75779644df38b31a8fd39?s=128&d=identicon&r=PG&f=1", "display_name": "Rachel", "link": "https://stackoverflow.com/users/8132160/rachel"}, "edited": false, "score": 0, "creation_date": 1548284172, "post_id": 54336775, "comment_id": 95491107, "body": "When you join the list, you are creating a single string argument that is written to a single cell.  Rather than using <code>DictWriter</code>, you may want to read each dictionary value and write it if it isn&#39;t a list, then handle the list items when you find them."}], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1548286223, "creation_date": 1548286223, "answer_id": 54337289, "question_id": 54336775, "link": "https://stackoverflow.com/questions/54336775/writing-a-list-value-horizontally-using-csv-dictwriter/54337289#54337289", "title": "Writing a list value horizontally using csv.DictWriter", "body": "<h3>CSV files have delimiters, not cells</h3>\n\n<p>It's a small but important point. What you mean by \"cell\" is presumably what you see when you open the CSV file in Excel. Comma delimiters and quotation marks to separate delimiters <em>within</em> a field have special meaning with programs which read CSV files.</p>\n\n<p><code>csv.DictWriter</code> is good for structured data, i.e. one value for each field per row. Your data is inherently unstructured. If you want each row to have an arbitrary length you can achieve this via <code>csv.writer</code>:</p>\n\n<pre><code>import csv\n\ndata = {\"Age\": 28, \"Name\": \"Some Name\", \"Aliases\": [\"alias1\", \"alias2\"]}\nfieldnames = ['Age', 'Name', 'Aliases']\n\nwith open('file.csv', 'w', newline='') as fout:\n    writer = csv.writer(fout)\n    writer.writerow(fieldnames)\n    writer.writerow([data['Age'], data['Name'], *data['Aliases']])\n</code></pre>\n\n<p>Result <code>file.csv</code>:</p>\n\n<pre><code>Age,Name,Aliases\n28,Some Name,alias1,alias2\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 6037143, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2fdfb6bc13be9e0e471d29125f70612f?s=128&d=identicon&r=PG&f=1", "display_name": "user6037143", "link": "https://stackoverflow.com/users/6037143/user6037143"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 54337289, "answer_count": 1, "score": 1, "last_activity_date": 1548286223, "creation_date": 1548283105, "question_id": 54336775, "link": "https://stackoverflow.com/questions/54336775/writing-a-list-value-horizontally-using-csv-dictwriter", "title": "Writing a list value horizontally using csv.DictWriter", "body": "<p>I have a dict that I want to write to a CSV file. However, some of the keys in the dict have a list of values, I want to write each element of the list horizontally in a seperate cell.</p>\n\n<pre><code>data = {\"Age\": 28, \"Name\": \"Some Name\", \"Aliases\": [\"alias1\", \"alias2\"]}\nfieldnames = ['Age', 'Name', 'Aliases']\n\nwith open(f, 'a') as o:\n    writer = csv.DictWriter(o, fieldnames=fieldnames)\n    writer.writeheader()\n    writer.writerow(data)\n</code></pre>\n\n<p>Aliases get written as an array in a single cell which is expected. I converted list to a comma separated string <code>data[\"Aliases\"] = ', '.join(data['Aliases'])</code> but this comma separated string is also getting written to the same cell.</p>\n\n<p>Any ideas on how each element of the list can be written to a seperate cell.</p>\n"}, {"tags": ["python", "user-interface", "tkinter"], "comments": [{"owner": {"reputation": 5878, "user_id": 8172933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20c23be88780bfccade78eb5ffb64ba9?s=128&d=identicon&r=PG", "display_name": "figbeam", "link": "https://stackoverflow.com/users/8172933/figbeam"}, "edited": false, "score": 0, "creation_date": 1548287368, "post_id": 54336746, "comment_id": 95491968, "body": "Your code does not run. Please provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 4490784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9220ca49a047d7b865e915faa3734a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Dave Evans", "link": "https://stackoverflow.com/users/4490784/dave-evans"}, "is_accepted": false, "score": 0, "last_activity_date": 1548287484, "creation_date": 1548287484, "answer_id": 54337439, "question_id": 54336746, "link": "https://stackoverflow.com/questions/54336746/plot-does-not-update-after-fitting/54337439#54337439", "title": "Plot does not update after fitting", "body": "<p>To update a pyplot plot in tk, you need two things:</p>\n\n<ol>\n<li>The handle to the line object you want to update (you're changing the y data)</li>\n<li>The handle to the canvas to force a redraw</li>\n</ol>\n\n<p>I've noticed some small other typos, so I've fixed the code below. The important calls are to <code>self.h_line.set_ydata</code>, and <code>self.canvas.draw</code>:</p>\n\n<pre><code>from tkinter import *\n\nfrom scipy.optimize import curve_fit\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg, NavigationToolbar2TkAgg\n\nclass Window(Frame):\n\n    def __init__(self, master=None):\n        Frame.__init__(self, master)\n\n        self.t = np.array([30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,\n             510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020])\n        self.q = np.array([781.25,413.22,255.10,173.01,125.00,94.52,73.96,59.45,48.83,40.82,\n             34.63,29.74,25.83,22.63,20.00,17.80,15.94,14.36,13.01,11.83,10.81,\n             9.92,9.13,8.43,7.81,7.26,6.76,6.31,5.91,5.54,5.21,4.90,4.62,4.37])\n        self.popt = [0.0, 0.0]\n        self.plot_window()\n\n    def plot_window(self):\n        self.master.title(\"DCA\")\n        self.pack(side=TOP, fill=BOTH, expand=True)\n\n        self.q_model = self.func(self.t, *self.popt)\n\n        f, ax = plt.subplots()\n        self.h_points = ax.plot(self.t, self.q, 'b.') \n        self.h_line = ax.plot(self.t, self.q_model, 'r-')[0]\n\n        canvas = FigureCanvasTkAgg(f, self)\n        canvas.show()\n        canvas.get_tk_widget().pack(side=BOTTOM, fill=BOTH, expand=True)\n        self.canvas = canvas\n        toolbar = NavigationToolbar2TkAgg(canvas, self)\n        toolbar.update()\n        canvas._tkcanvas.pack(side=TOP, fill=BOTH, expand=True)\n\n        button1 = ttk.Button(self, text=\"Fit\", command=lambda: self.fit())\n        button1.pack(side=TOP, fill=BOTH, expand=True)\n\n\n    def func(self, t, a, b):\n        return a*t+b\n\n    def fit(self):\n        popt, pcov = curve_fit(f=self.func, xdata=self.t, ydata=self.q)\n        new_ydata = self.func(self.t, *popt)\n        self.h_line.set_ydata(new_ydata)\n        self.canvas.draw()\n\nroot = Tk()\napp = Window(root)\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 8222387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd52edb172f95086b4fa950982cacdca?s=128&d=identicon&r=PG&f=1", "display_name": "N. Tamimi", "link": "https://stackoverflow.com/users/8222387/n-tamimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548287484, "creation_date": 1548282909, "question_id": 54336746, "link": "https://stackoverflow.com/questions/54336746/plot-does-not-update-after-fitting", "title": "Plot does not update after fitting", "body": "<p>I just started learning GUI using tkinter. I wrote a very simple code. The code supposes to plot q and t values first. This part was successful and no problem here. Then, when I click on Fit button, it should find the best linear fit and plot. It can find the best linear fit, but it does not update the plot. I cannot find a way to update the plot.</p>\n\n<pre><code>from tkinter import *\nfrom scipy.optimize import curve_fit\n\nclass Window(Frame):\n\n    def __init__(self, master=None):\n        Frame.__init__(self, master)\n        self.master = master\n        self.t = np.array([30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,\n             510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020])\n        self.q = np.array([781.25,413.22,255.10,173.01,125.00,94.52,73.96,59.45,48.83,40.82,\n             34.63,29.74,25.83,22.63,20.00,17.80,15.94,14.36,13.01,11.83,10.81,\n             9.92,9.13,8.43,7.81,7.26,6.76,6.31,5.91,5.54,5.21,4.90,4.62,4.37])\n        self.popt = [0.0, 0.0]\n        self.plot_window()\n\n    def plot_window(self):\n        self.master.title(\"DCA\")\n        self.pack(fill=BOTH, expand=1) \n\n        self.q_model = self.func(self.t, *self.popt)\n\n        f, ax = plt.subplots()\n        ax = plt.plot(self.t, self.q, 'b.') \n        ax = plt.plot(self.t, self.q_model, 'r-')\n\n        canvas = FigureCanvasTkAgg(f, self)\n        canvas.show()\n        canvas.get_tk_widget().pack(side=tk.BOTTOM, fill=tk.BOTH, expand=True)        \n        toolbar = NavigationToolbar2TkAgg(canvas, self)\n        toolbar.update()\n        canvas._tkcanvas.pack(expand=True)\n\n        button1 = ttk.Button(self, text=\"Fit\", command=lambda: self.fit())\n        button1.pack()\n\n    def func(self, t, a, b):\n        return a*t+b\n\n    def fit(self):\n        self.popt, self.pcov = curve_fit(f=self.func, xdata=self.t, ydata=self.q)\n        print(self.popt)\n\n\nroot = Tk()\nroot.geometry(\"700x500\")\napp = Window(root)\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "edited": false, "score": 3, "creation_date": 1548282969, "post_id": 54336734, "comment_id": 95490715, "body": "What&#39;s wrong? Do you get an error?"}, {"owner": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "edited": false, "score": 1, "creation_date": 1548282978, "post_id": 54336734, "comment_id": 95490721, "body": "In all honesty, you should be telling us what&#39;s wrong. What&#39;s the error you are getting?"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1548283020, "post_id": 54336734, "comment_id": 95490743, "body": "You don&#39;t appear to have a <code>name</code> variable, and you&#39;ll want to also loop your <code>print</code> statement by the sound of the question."}, {"owner": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "edited": false, "score": 0, "creation_date": 1548283036, "post_id": 54336734, "comment_id": 95490747, "body": "You might also be ending up with multiple <code>&#39;&#39;</code> in <code>name_numbers</code> since there are multiple <code>_</code> in your text file."}, {"owner": {"reputation": 115, "user_id": 10197910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e9d323a4e25e9af9829a0fdea2d143?s=128&d=identicon&r=PG&f=1", "display_name": "GoTN", "link": "https://stackoverflow.com/users/10197910/gotn"}, "edited": false, "score": 0, "creation_date": 1548283153, "post_id": 54336734, "comment_id": 95490773, "body": "In the for-loop, you are assigning a new value to <code>numbers</code> which is your iteration variable. The line <code>numbers = split(&quot;\\n&quot;)</code> will not work. I guess you want to call <code>split</code> on a string"}, {"owner": {"reputation": 31, "user_id": 10958374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e99857bd53a2e9df4f92b982e73508?s=128&d=identicon&r=PG&f=1", "display_name": "Leslie", "link": "https://stackoverflow.com/users/10958374/leslie"}, "edited": false, "score": 0, "creation_date": 1548283401, "post_id": 54336734, "comment_id": 95490836, "body": "I don&#39;t really get an error. Just nothing happens. No prints, just: Process finished with exit code 0."}, {"owner": {"reputation": 115, "user_id": 10197910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e9d323a4e25e9af9829a0fdea2d143?s=128&d=identicon&r=PG&f=1", "display_name": "GoTN", "link": "https://stackoverflow.com/users/10197910/gotn"}, "edited": false, "score": 0, "creation_date": 1548283559, "post_id": 54336734, "comment_id": 95490888, "body": "You do not even call your function <code>averages</code>. Simply add <code>averages()</code> as the last line in your file."}, {"owner": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "edited": false, "score": 0, "creation_date": 1548283982, "post_id": 54336734, "comment_id": 95491036, "body": "You also have a random <code>split(&quot;\\n&quot;)</code> call without any string calling it."}, {"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "edited": false, "score": 0, "creation_date": 1548425263, "post_id": 54336734, "comment_id": 95547619, "body": "If any of the answers were helpful, make sure to upvote them! And if one stands out, go ahead and mark it as &quot;accepted&quot; (if you have enough reputation) so that people with the same problem in the future can easily find it."}], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "edited": false, "score": 1, "creation_date": 1548284274, "post_id": 54336956, "comment_id": 95491135, "body": "This is good. One thing I wanted to point out is that <code>1.0</code> denotes a missing grade which I&#39;m not sure if it should be counted or ignored (this would affect average). This is something for OP to address or confirm but I wanted to just leave it here."}, {"owner": {"reputation": 115, "user_id": 10197910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e9d323a4e25e9af9829a0fdea2d143?s=128&d=identicon&r=PG&f=1", "display_name": "GoTN", "link": "https://stackoverflow.com/users/10197910/gotn"}, "reply_to_user": {"reputation": 443, "user_id": 10708112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2659fbf480bf93d4a53c1fac76280b9f?s=128&d=identicon&r=PG&f=1", "display_name": "hqkhan", "link": "https://stackoverflow.com/users/10708112/hqkhan"}, "edited": false, "score": 0, "creation_date": 1548284387, "post_id": 54336956, "comment_id": 95491170, "body": "You are right. In the code above, the average is calculated without considering <code>1.0</code> as a special grade."}, {"owner": {"reputation": 31, "user_id": 10958374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e99857bd53a2e9df4f92b982e73508?s=128&d=identicon&r=PG&f=1", "display_name": "Leslie", "link": "https://stackoverflow.com/users/10958374/leslie"}, "edited": false, "score": 0, "creation_date": 1548284662, "post_id": 54336956, "comment_id": 95491250, "body": "Thank you all for the notes and comments. I think I can make it work now. And you&#39;ll probably see me again ;)"}, {"owner": {"reputation": 31, "user_id": 10958374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e99857bd53a2e9df4f92b982e73508?s=128&d=identicon&r=PG&f=1", "display_name": "Leslie", "link": "https://stackoverflow.com/users/10958374/leslie"}, "edited": false, "score": 0, "creation_date": 1548284725, "post_id": 54336956, "comment_id": 95491273, "body": "Yes 1.0 should be counted btw! But thanks for noticing."}], "tags": [], "owner": {"reputation": 115, "user_id": 10197910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e9d323a4e25e9af9829a0fdea2d143?s=128&d=identicon&r=PG&f=1", "display_name": "GoTN", "link": "https://stackoverflow.com/users/10197910/gotn"}, "is_accepted": false, "score": 0, "last_activity_date": 1548284300, "last_edit_date": 1548284300, "creation_date": 1548284130, "answer_id": 54336956, "question_id": 54336734, "link": "https://stackoverflow.com/questions/54336734/how-to-calculate-the-average-score-of-class-members-in-a-text-file/54336956#54336956", "title": "How to calculate the average score of class members in a text file?", "body": "<p>First, you are not calling your function <code>averages</code> at all. You should add that as the last line in your code, but you do not really need the function definition at all.</p>\n\n<ul>\n<li>Use the <code>with</code>-statement to open and automatically close the file.</li>\n<li>Next, you can use the <code>re</code> package to split the lines at the underscores.</li>\n<li>You have to split the list of grades (assuming that they are separated by spaces)</li>\n<li>You can use the built-in functions <code>sum</code> and <code>len</code> to calculate the sum and the number of grades.</li>\n</ul>\n\n<p>In the end, it could look something like this</p>\n\n<pre><code>import re\n\nwith open('grades1.in.txt') as grades_file:\n    for line in grades_file:\n        name, grades = re.split(\"_+\", line)\n        grades = [float(k) for k in grades.split()]\n        avg = sum(grades)/len(grades)\n        print(\"{} has an average grade of {:.2f}.\".format(name, avg))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 765, "user_id": 4893421, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/940968279257885/picture?type=large", "display_name": "kaihami", "link": "https://stackoverflow.com/users/4893421/kaihami"}, "is_accepted": false, "score": 0, "last_activity_date": 1548284530, "creation_date": 1548284530, "answer_id": 54337028, "question_id": 54336734, "link": "https://stackoverflow.com/questions/54336734/how-to-calculate-the-average-score-of-class-members-in-a-text-file/54337028#54337028", "title": "How to calculate the average score of class members in a text file?", "body": "<p>GoTN already answered your question.</p>\n\n<p>To make it clear and improve a little bit you can try:</p>\n\n<pre><code>def averages(line, number_of_grades):\n    line_parsed = line.split('_')\n\n    numbers = [float(x) for line_parsed[-1].split(' ')]\n\n    name = line_parsed[0]\n\n    # you can use number_of_grades or len(numbers)\n    # Although, if the student only has 2 grades in the file,\n    # but it was supposed to be two the average will be wrong.\n    avg = sum(numbers)/number_of_grades\n\n    print(\"{} has an average grade of {:.2f}.\".format(name, avg))\n    # or print(f'{name} has an average grade of {avg:.2f}')\n\nNUMBER_OF_GRADES = 3\n\nfiles =open('grades1.in.txt').read().splitlines()\n\nfor line in files:\n    if len(line) &gt; 0:\n        averages(line, NUMBER_OF_GRADES)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 10958374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e99857bd53a2e9df4f92b982e73508?s=128&d=identicon&r=PG&f=1", "display_name": "Leslie", "link": "https://stackoverflow.com/users/10958374/leslie"}, "edited": false, "score": 1, "creation_date": 1548285765, "post_id": 54337134, "comment_id": 95491585, "body": "You are my hero! Thanks for taking the time to explain everything so clearly and at my starters level. Also thanks for keeping the code &#39;starters&#39;."}], "tags": [], "owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "is_accepted": true, "score": 0, "last_activity_date": 1548285532, "last_edit_date": 1548285532, "creation_date": 1548285168, "answer_id": 54337134, "question_id": 54336734, "link": "https://stackoverflow.com/questions/54336734/how-to-calculate-the-average-score-of-class-members-in-a-text-file/54337134#54337134", "title": "How to calculate the average score of class members in a text file?", "body": "<p>There's a few things wrong with your code. This maybe should be migrated to <a href=\"https://codereview.stackexchange.com/\">Code Review</a>, but I'll write my answer here for now.</p>\n\n<p>I will keep this as close to your version as I can so that you see how to get from where you are to a working example without needing a ton of stuff you might not have learned yet. First let's look at yours one part at a time.</p>\n\n<pre><code>file =open('grades1.in.txt').read().split('\\n')\n</code></pre>\n\n<p>Your <code>file</code> is going to be a list of strings, where each string is a line in your input file. Note that if you have empty lines in your input, some of the lines in this list will be empty strings. This is important later.</p>\n\n<pre><code>for scores in file:\n    name_numbers = (scores.split('_'))\n</code></pre>\n\n<p>Works fine to split the name part of the line from the scores part of the line, so we'll keep it, but what are you doing with it here? Right now you are overwriting <code>name_numbers</code> with each new line in the file and never doing anything with it, so we are going to move this into your function and make better use of it.</p>\n\n<pre><code>def averages():\n</code></pre>\n\n<p>No arguments? We'll work on that.</p>\n\n<pre><code>    for numbers in file:\n</code></pre>\n\n<p>Keep in mind your <code>file</code> is a list, where each entry in the list is one line of your input file, so this <code>numbers in file</code> doesn't really make sense. I think this is where you first go wrong. You want to look at the numbers in each line after you <em>split</em> it with <code>scores.split('_')</code>, and for that we need to index the result of the split. When you split your first line, you get something like:</p>\n\n<pre><code>split_line = ['Anne Adema', '', '', '', '', '', '', '', '', '', '', '', '6.5 5.5 4.5']\n</code></pre>\n\n<p>The first element (<code>split_line[0]</code>) is the name, and the last element (<code>split_line[-1]</code>) are the numbers, but you still have to split <em>those</em> out too! To get a list of numbers, you actually have to split it and then interpret each string as a number. You can do this pretty easily with a list comprehension (best way to loop in Python) like this:</p>\n\n<pre><code>numbers = [float(n) for n in split_line[-1].split(' ')]\n</code></pre>\n\n<p>This reads something like: first split the last element of the line at spaces to get <code>['6.5', '5.5', '4.5']</code> (note they're all <em>strings</em>), and then convert each value in that list into a floating-point number, and finally save this list of floats as <code>numbers</code>. OK, moving on:</p>\n\n<pre><code>        sum=0\n        numbers = split(\"\\n\")  # already talked about this\n        for num in numbers:\n            sum = sum + int(num)\n        averages = sum/NUMBER_OF_GRADES\n</code></pre>\n\n<p><code>sum</code> is a keyword in Python, and we never want to assign something to a keyword, so something's wrong here. You can actually just call <code>sum(my_list)</code> on any list (actually any iterable) <code>my_list</code> to get the sum of all of the values in the list. To take the average, you just want to divide this sum by the <em>length</em> of the list, which you can get with <code>len(my_list)</code>.</p>\n\n<pre><code>    print ('% has an average grade of %.1') %(name, averages)\n</code></pre>\n\n<p>There are some cool newer ways to print formatted text, one of which I will show in the following, but if you are supposed to use this way then I say stick with it. That said, I couldn't get this line to work for me, so I went with something I know better.</p>\n\n<hr>\n\n<h2>Rewriting it into something that works:</h2>\n\n<pre><code>def averages(line):\n    if line is '':\n        return  # skips blank lines!\n    name_numbers = line.split('_')  # now we split our line\n    name = name_numbers[0]\n    numbers = [float(n) for n in name_numbers[-1].split(' ')]\n    average = sum(numbers) / len(numbers)\n    print('{} has an average grade of {:.2}'.format(name, average))\n</code></pre>\n\n<p>And running it on your data:</p>\n\n<pre><code>file =open('grades1.in.txt').read().split('\\n')\nfor line in file:\n    averages(line)  # call the function on each line\n# Anne Adema has an average grade of 5.5\n# Bea de Bruin has an average grade of 7.2\n# Chris Cohen has an average grade of 7.3\n# Dirk Dirksen has an average grade of 4.6\n</code></pre>\n\n<p>With the result shown in the comments below the function call. One more note, you never close your file, and in fact you never save off the file handle to close it. You can get rid of any headaches around this by using the <a href=\"http://book.pythontips.com/en/latest/context_managers.html\" rel=\"nofollow noreferrer\">context manager</a> syntax in Python:</p>\n\n<pre><code>with open('grades1.in.txt', 'r') as a_file:\n    for line in a_file:\n        averages(line)\n</code></pre>\n\n<p>This automatically handles closing the file, and will even make sure to do so if you run into an error in the middle of the block of code that executes within the context manager. You can loop through <code>a_file</code> because it basically acts as an iterable that returns the next line in the file each time it is accessed.</p>\n"}, {"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1609651936, "post_id": 54337484, "comment_id": 115886548, "body": "@eda nicole: Please stop trying to change the code in my answer so you can cheat on your homework assignment."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1548288312, "last_edit_date": 1548288312, "creation_date": 1548287964, "answer_id": 54337484, "question_id": 54336734, "link": "https://stackoverflow.com/questions/54336734/how-to-calculate-the-average-score-of-class-members-in-a-text-file/54337484#54337484", "title": "How to calculate the average score of class members in a text file?", "body": "<p>Splitting the lines up <em>is</em> somewhat involved. The code below does it by first replacing all the <code>\"_\"</code> characters with spaces, then splits the result of <em>that</em> up. Since there can be a variable number of parts making up the full name, the results of this splitting are \"sliced\" using negative indexing which counts <em>backwards</em> for the end of the sequence of values. </p>\n\n<p>That works by taking advantage of the fact that we know the last three items must be test scores, therefore everything before them must be parts comprising the name. This is the line doing that:</p>\n\n<pre><code>names, test_scores = line[:-NUMBER_OF_GRADES], line[-NUMBER_OF_GRADES:]\n</code></pre>\n\n<p>Here's the full code:</p>\n\n<pre><code>NUMBER_OF_GRADES = 3\n\nwith open('grades1.in.txt') as file:\n    for line in file:\n        line = line.replace('_', ' ').split()\n        names, test_scores = line[:-NUMBER_OF_GRADES], line[-NUMBER_OF_GRADES:]\n        name = ' '.join(names)  # Join names together.\n        test_scores = [float(score) for score in test_scores]  # Make numeric.\n        average_score = sum(test_scores) / len(test_scores)\n        print('%s has an average grade of %.1f' % (name, average_score))\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Anne Adema has an average grade of 5.5\nBea de Bruin has an average grade of 7.2\nChris Cohen has an average grade of 7.3\nDirk Dirksen has an average grade of 4.6\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10958374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e99857bd53a2e9df4f92b982e73508?s=128&d=identicon&r=PG&f=1", "display_name": "Leslie", "link": "https://stackoverflow.com/users/10958374/leslie"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4202, "favorite_count": 0, "closed_date": 1548288589, "accepted_answer_id": 54337134, "answer_count": 4, "score": 2, "last_activity_date": 1548288312, "creation_date": 1548282798, "last_edit_date": 1548285548, "question_id": 54336734, "link": "https://stackoverflow.com/questions/54336734/how-to-calculate-the-average-score-of-class-members-in-a-text-file", "closed_reason": "Duplicate", "title": "How to calculate the average score of class members in a text file?", "body": "<p>For my beginners course python I got the following assignment:</p>\n\n<p>In the input file, grades are listed for the geography tests of group 2b. There have been three tests of which the grades will be included in the half-yearly report that is given to the students before the Christmas break.\nOn each line of the input you can find the name of the student, followed by one or more under scores (\u2019_\u2019). These are succeeded by the grades for the tests, for example:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Anne Adema____________6.5 5.5 4.5\nBea de Bruin__________6.7 7.2 7.7\nChris Cohen___________6.8 7.8 7.3\nDirk Dirksen__________1.0 5.0 7.7\n</code></pre>\n\n<p>The lowest grade possible is a 1, the highest a 10. If somebody missed a test, the grade in the list is a 1.\nYour assignment is to make the report for the geography course of group 2b, which should look like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Report for group 2b\n\nAnne Adema has an average grade of 5.5\nBea de Bruin has an average grade of 7.2\nChris Cohen has an average grade of 7.3\nDirk Dirksen has an average grade of 4.6\n\nEnd of report\n</code></pre>\n\n<p>This is my python code so far:</p>\n\n<pre><code>NUMBER_OF_GRADES = 3\n\nfile =open('grades1.in.txt').read().split('\\n')\nfor scores in file:\n    name_numbers = (scores.split('_'))\n\ndef averages ():\n    for numbers in file:\n        sum=0\n        numbers = split(\"\\n\")\n        for num in numbers:\n            sum = sum + int(num)\n        averages = sum/NUMBER_OF_GRADES\n    print ('% has an average grade of %.1') %(name, averages)\n</code></pre>\n\n<p>Where does it go wrong? What am I missing? Am I not splitting the right way?</p>\n"}, {"tags": ["python", "tensorflow", "tensorflow-serving"], "answers": [{"tags": [], "owner": {"reputation": 1168, "user_id": 8593338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d52b142a7c677195e5f55a06afbe4fd6?s=128&d=identicon&r=PG&f=1", "display_name": "abcdaire", "link": "https://stackoverflow.com/users/8593338/abcdaire"}, "is_accepted": false, "score": 1, "last_activity_date": 1548288074, "creation_date": 1548288074, "answer_id": 54337498, "question_id": 54336701, "link": "https://stackoverflow.com/questions/54336701/tensorflow-signature-output-placeholder/54337498#54337498", "title": "Tensorflow signature output placeholder", "body": "<p>I might misunderstood what you are trying to do, but here you basically create a new <code>placeholder</code> for input and a new <code>placeholder</code> for output.</p>\n\n<p>What I think you should do, is once you loaded the model , you have to <strong>get</strong> the input and the output tensor of your model in the variables <code>input tensor</code> and <code>prediction_tf</code>using for example </p>\n\n<pre><code>input_tensor=loaded_graph.get_tensor_by_name('the_name_in_the_loaded_graph:0')\nprediction_tf=loaded_graph.get_tensor_by_name('the_pred_name_in_the_loaded_graph:0')\n</code></pre>\n"}], "owner": {"reputation": 3859, "user_id": 1191072, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/768517ebc5e0277492cf54a891d5aafe?s=128&d=identicon&r=PG", "display_name": "Alessandro", "link": "https://stackoverflow.com/users/1191072/alessandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548288074, "creation_date": 1548282622, "question_id": 54336701, "link": "https://stackoverflow.com/questions/54336701/tensorflow-signature-output-placeholder", "title": "Tensorflow signature output placeholder", "body": "<p>I am trying to export a Tensorflow model so that I can use it in Tensorflow Serving. This is the script that I use:</p>\n\n<pre><code>import os\nimport tensorflow as tf\n\ntrained_checkpoint_prefix = '/home/ubuntu/checkpoint'\nexport_dir = os.path.join('m', '0')\n\nloaded_graph = tf.Graph()\nconfig=tf.ConfigProto(allow_soft_placement=True)\nwith tf.Session(graph=loaded_graph, config=config) as sess:\n    # Restore from checkpoint\n    loader = tf.train.import_meta_graph(trained_checkpoint_prefix + 'file.meta')\n    loader.restore(sess, tf.train.latest_checkpoint(trained_checkpoint_prefix))\n\n    # Create SavedModelBuilder class\n    # defines where the model will be exported\n    export_path_base = \"/home/ubuntu/m\"\n    export_path = os.path.join(\n        tf.compat.as_bytes(export_path_base),\n        tf.compat.as_bytes(str(0)))\n    print('Exporting trained model to', export_path)\n    builder = tf.saved_model.builder.SavedModelBuilder(export_path)\n\n    batch_shape = (20, 256, 256, 3)\n    input_tensor = tf.placeholder(tf.float32, shape=batch_shape, name=\"X_content\")\n    predictions_tf = tf.placeholder(tf.float32, shape=batch_shape, name='Y_output')\n\n    tensor_info_input = tf.saved_model.utils.build_tensor_info(input_tensor)\n    tensor_info_output = tf.saved_model.utils.build_tensor_info(predictions_tf)\n\n    prediction_signature = (\n        tf.saved_model.signature_def_utils.build_signature_def(\n            inputs={'image': tensor_info_input},\n            outputs={'output': tensor_info_output},\n            method_name=tf.saved_model.signature_constants.PREDICT_METHOD_NAME))\n\n    builder.add_meta_graph_and_variables(\n        sess, [tf.saved_model.tag_constants.SERVING],\n        signature_def_map={\n            'style_image':\n                prediction_signature,\n        })\n\n    builder.save(as_text=True)\n</code></pre>\n\n<p>The main issue is the output signature (predictions_tf). In this case, having it set to <em>placeholder</em>, I get an error saying that it's value has to be set when the model is called from gRPC. What should I use instead?</p>\n\n<p>I have tried</p>\n\n<pre><code>predictions_tf = tf.Variable(0, dtype=tf.float32, name=\"Y_output\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>predictions_tf = tf.TensorInfo(dtype=tf.float32)\npredictions_tf.name = \"Y_output\"\npredictions_tf.dtype = tf.float32\n</code></pre>\n"}, {"tags": ["python", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 1177, "user_id": 4734515, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-LkOMfutk0Eg/AAAAAAAAAAI/AAAAAAAAAEk/N5dZ__kGZw4/photo.jpg?sz=128", "display_name": "pheeper", "link": "https://stackoverflow.com/users/4734515/pheeper"}, "edited": false, "score": 3, "creation_date": 1548351189, "post_id": 54337596, "comment_id": 95520019, "body": "Ah, so simple!  For others, like myself, who are looking to specify the color for each chart here&#39;s how I did that.  Set the palette using <code>palette = sns.husl_palette(len(ratings))</code> and then in each plot use <code>color=palette[#]</code> where # is the index number you want to use."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 4, "last_activity_date": 1548288826, "creation_date": 1548288826, "answer_id": 54337596, "question_id": 54336695, "link": "https://stackoverflow.com/questions/54336695/selecting-colors-from-seaborn-palette/54337596#54337596", "title": "Selecting colors from Seaborn palette", "body": "<p>Seaborn provides an interface to the husl space via <a href=\"https://seaborn.pydata.org/generated/seaborn.husl_palette.html#seaborn.husl_palette\" rel=\"nofollow noreferrer\"><code>husl_palette</code></a>. You may create a palette with as many colors as you have unique categories (here, \"ratings\"). Then, either index the palette or iterate over it. The latter is shown below.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport seaborn as sns; sns.set(style=\"white\")\nimport pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame({\"cost\" : np.random.randn(600),\n                   \"rating\" : np.random.choice(np.arange(1,6), size=600)})\n\nratings = np.unique(df.rating.values)\npalette = iter(sns.husl_palette(len(ratings)))\n\nf, axes = plt.subplots(ncols=len(ratings), figsize=(15, 4))\nsns.despine(left=True)\n\nfor (n, rat), ax in zip(df.groupby(\"rating\"), axes):\n\n    sns.distplot(rat[\"cost\"], kde=False, color=next(palette), ax=ax, axlabel=f\"Rating of {n}\")\n\nplt.setp(axes, yticks=[])\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZSU5X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZSU5X.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1177, "user_id": 4734515, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-LkOMfutk0Eg/AAAAAAAAAAI/AAAAAAAAAEk/N5dZ__kGZw4/photo.jpg?sz=128", "display_name": "pheeper", "link": "https://stackoverflow.com/users/4734515/pheeper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4735, "favorite_count": 0, "accepted_answer_id": 54337596, "answer_count": 1, "score": 3, "last_activity_date": 1548288826, "creation_date": 1548282601, "question_id": 54336695, "link": "https://stackoverflow.com/questions/54336695/selecting-colors-from-seaborn-palette", "title": "Selecting colors from Seaborn palette", "body": "<p>I have five distribution plots side by side and usually changed the color of each one using the color property.  However, now I want to use Seaborn's husl palette and I can't figure out how to apply a color from the palette to each chart. I'm pretty sure this is something simply I'm just over looking.</p>\n\n<pre><code># sns.set(style=\"white\", palette=\"muted\", color_codes=True)  \nsns.set(style=\"white\", palette=\"husl\", color_codes=True)\n\n# Set up the matplotlib figure\nf, axes = plt.subplots(ncols=5, figsize=(15, 4))\nsns.despine(left=True)\n\n# Rating of 1\nsns.distplot(df1[df1['rating']==1]['cost'], kde=False, color='c', ax=axes[0], axlabel=\"Rating of 1\")\n\n# Rating of 2\nsns.distplot(df1[df1['rating']==2]['cost'], kde=False, color='k', ax=axes[1], axlabel='Rating of 2')\n\n# Rating of 3\nsns.distplot(df1[df1['rating']==3]['cost'], kde=False, color=\"g\", ax=axes[2], axlabel='Rating of 3')\n\n# Rating of 4\nsns.distplot(df1[df1['rating']==4]['cost'], kde=False, color=\"m\", ax=axes[3], axlabel='Rating of 4')\n\n# Rating of 5\nsns.distplot(df1[df1['rating']==5]['cost'], kde=False, color=\"b\", ax=axes[4], axlabel='Rating of 5')\n\nplt.setp(axes, yticks=[])\nplt.tight_layout()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "edited": false, "score": 0, "creation_date": 1548282775, "post_id": 54336649, "comment_id": 95490654, "body": "This happens exactly because of the Strings. Thay cannot be summed with double numbers. It is an undefined operation hence the Nan."}, {"owner": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "reply_to_user": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "edited": false, "score": 0, "creation_date": 1548282830, "post_id": 54336649, "comment_id": 95490669, "body": "I am looking to summarize all non-string values across each column.. Is that possible?  Also, will blanks be treated as zero during the analysis?"}], "answers": [{"comments": [{"owner": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548283297, "post_id": 54336764, "comment_id": 95490804, "body": "Good insights here - I will most likely create two sheets (one to maintain the outliers vs missing data, and one to accommodate one of these strategies).  Do you have any thoughts on how to create a custom measure to find the count of entries &gt; 4.25 (as an example)?"}, {"owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "reply_to_user": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548283480, "post_id": 54336764, "comment_id": 95490864, "body": "@RCarmody Once you have your data in a pandas DataFrame you can do whatever you want... Just look at this: <a href=\"https://stackoverflow.com/questions/23833763/pandas-count-number-of-elements-in-each-column-less-than-x\" title=\"pandas count number of elements in each column less than x\">stackoverflow.com/questions/23833763/&hellip;</a>"}, {"owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "reply_to_user": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548283526, "post_id": 54336764, "comment_id": 95490873, "body": "@RCarmody if this is not what you meant, then I might have misunderstood your definition of custom measure."}, {"owner": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548283874, "post_id": 54336764, "comment_id": 95490994, "body": "Maybe I am misinterpreting this (i&#39;m relatively new to python), but I am trying to add a new column in the screenshotted table above that represents the number of responses above a certain value.  In my limited experience with the agg function, I can only see how to add pre-existing functions (&#39;mean&#39;,&#39;median&#39;,etc)."}, {"owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "reply_to_user": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548284082, "post_id": 54336764, "comment_id": 95491071, "body": "@RCarmody can you try and explain a little bit better what you want to do? Can you make an example using the data provided in the question? To my understanding you want to find, for example, the number of raws that have value &gt; x, where x is a number in R, in the column Y, where Y is the name of a column. Is this what you want to do?"}, {"owner": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548284655, "post_id": 54336764, "comment_id": 95491243, "body": "I&#39;ve added in more information into the question (below the EDIT notation).  This is an excel output of what I am hoping to do... I hope this makes sense."}, {"owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "reply_to_user": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548284873, "post_id": 54336764, "comment_id": 95491310, "body": "@RCarmody It still isn&#39;t clear for me... I am sorry... What do you mean by response? Value? or columns? But most importantly, why do you want to put everything in one and the same table? Can&#39;t you use different tables and sheets (if you want to speak excel) or not always use the DataFrame and use normal variables and other DataFrames (if you want to speak code)?"}, {"owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "reply_to_user": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "edited": false, "score": 0, "creation_date": 1548284922, "post_id": 54336764, "comment_id": 95491326, "body": "@RCarmody You can alway combine this data later, according to different parameters, between the different tables."}], "tags": [], "owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "is_accepted": false, "score": 3, "last_activity_date": 1548283019, "creation_date": 1548283019, "answer_id": 54336764, "question_id": 54336649, "link": "https://stackoverflow.com/questions/54336649/data-analysis-with-outliers/54336764#54336764", "title": "Data Analysis with Outliers", "body": "<p>This happens exactly because of the Strings. Thay cannot be summed with double numbers. It is an undefined operation hence the Nan.</p>\n\n<p>Try and cleanup the data.</p>\n\n<p>Options are:</p>\n\n<ul>\n<li>Drop the rows that contain no data or outliers if this makes sense in your statistic. (You can do that even one column at a time, computing statistics for one column at a time).</li>\n<li>Substitute those values with the mean of that column (this is one of the standard procedures in statistics).</li>\n<li>Think of a domain specific way to treat this kind of data.</li>\n</ul>\n\n<p>Anyway I would try to remove the strings from the data.</p>\n\n<p>If you cannot do that, it probably means that this data doesn't belong together with the rest because it comes from a different distribution.</p>\n"}], "owner": {"reputation": 523, "user_id": 10791217, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215038133645961/picture?type=large", "display_name": "RCarmody", "link": "https://stackoverflow.com/users/10791217/rcarmody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548284608, "creation_date": 1548282367, "last_edit_date": 1548284608, "question_id": 54336649, "link": "https://stackoverflow.com/questions/54336649/data-analysis-with-outliers", "title": "Data Analysis with Outliers", "body": "<p>My code is supposed to return statistical analysis of approx 65 columns of data (questions from a survey).  Sample data is given below, as well as the current code.  Currently, the output only shows the columns that have no strings included (for the others, they return as NaN and don't even show up in the Excel).  </p>\n\n<p>I believe the issue is resulting from some of the data points being marked with 'No Data' and some marked with 'Outlier' </p>\n\n<p>I'd like to learn a way to ignore the outlier/no data points and display statistics such as mean or median for the rest of the data.  I'd also love to learn how to incorporate conditional functions to display results such as 'count of responses > 4.25' so that I can expand on the analysis.</p>\n\n<pre><code>Q1  Q2  Q3  Q4  Q5  Q6\n4.758064516 4.709677419 4.629032258 Outlier 4.708994709 4.209677419\n4.613821138 No Data 4.259259259 4.585774059 4.255927476 Outlier\n4.136170213 4.309322034 4.272727273 4.297169811 No Data 4.29468599\n4.481558803 4.581476323 4.359495445 4.558252427 4.767926491 3.829030007\n4.468085106 4.446808511 4.425531915 4.446808511 4.423404255 4.14893617\n</code></pre>\n\n<p>Sample Desired Output (doesnt correlate to sample data):\n<a href=\"https://i.stack.imgur.com/7oXLs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7oXLs.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>import pandas as pd \nfrom pandas import ExcelWriter\n\n# Pull in Data\npath = r\"C:\\Users\\xx.xx\\desktop\\Python\\PyTest\\Pyxx.xlsx\"\nsheet = 'Adjusted Data'\ndata = pd.read_excel(path,sheet_name=sheet)\n\n#Data Analysis\nanalysis = pd.DataFrame(data.agg(['count','min','mean', 'median', 'std']), columns=data.columns).transpose()\nprint(analysis)\n\ng1 = data.groupby('INDUSTRY').median()\nprint(g1)\ng2 = data.groupby('New Zone').median()\nprint(g2)\n\n#Excel\npath2 = r\"C:\\Users\\xx.xx\\desktop\\Python\\PyTest\\Pyxx2.xlsx\"\nwriter = ExcelWriter(path2)\ng1.to_excel(writer,'x')\ng2.to_excel(writer,'y')\nanalysis.to_excel(writer,'a')\ndata.to_excel(writer,'Adjusted Data')\nwriter.save()\n</code></pre>\n\n<p><strong>EDIT</strong>\nCount how many of the responses to Q1 are > X (in this case, K1 = COUNTIF(K1:K999,TRUE))</p>\n\n<p><a href=\"https://i.stack.imgur.com/TCzp5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TCzp5.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want this the values found in K1 &amp; M1 (and so on for all of the questions) to be added to the analysis table like below:\n<a href=\"https://i.stack.imgur.com/bZrNg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bZrNg.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/bZrNg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bZrNg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "database", "google-app-engine", "google-cloud-platform", "bucket"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2725211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b732d07eee7d53b94e7c73ea85c787?s=128&d=identicon&r=PG&f=1", "display_name": "simboyd", "link": "https://stackoverflow.com/users/2725211/simboyd"}, "edited": false, "score": 0, "creation_date": 1548324656, "post_id": 54337710, "comment_id": 95503816, "body": "Thanks for the answer!"}, {"owner": {"reputation": 83, "user_id": 2725211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b732d07eee7d53b94e7c73ea85c787?s=128&d=identicon&r=PG&f=1", "display_name": "simboyd", "link": "https://stackoverflow.com/users/2725211/simboyd"}, "edited": false, "score": 0, "creation_date": 1548324695, "post_id": 54337710, "comment_id": 95503843, "body": "cloudstorage library is for python 3, right? My app uses 2.7 in standard environment :("}, {"owner": {"reputation": 4450, "user_id": 4458510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GZUMI.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4458510/alex"}, "reply_to_user": {"reputation": 83, "user_id": 2725211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b732d07eee7d53b94e7c73ea85c787?s=128&d=identicon&r=PG&f=1", "display_name": "simboyd", "link": "https://stackoverflow.com/users/2725211/simboyd"}, "edited": false, "score": 0, "creation_date": 1548347034, "post_id": 54337710, "comment_id": 95517674, "body": "I&#39;m using it with python 2.7, are you having trouble installing it?"}, {"owner": {"reputation": 83, "user_id": 2725211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b732d07eee7d53b94e7c73ea85c787?s=128&d=identicon&r=PG&f=1", "display_name": "simboyd", "link": "https://stackoverflow.com/users/2725211/simboyd"}, "edited": false, "score": 0, "creation_date": 1548349335, "post_id": 54337710, "comment_id": 95519050, "body": "Not anymore :D Thanks again!"}, {"owner": {"reputation": 894, "user_id": 8889821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AtHNL.jpg?s=128&g=1", "display_name": "Nahuel Varela", "link": "https://stackoverflow.com/users/8889821/nahuel-varela"}, "edited": false, "score": 1, "creation_date": 1548404182, "post_id": 54337710, "comment_id": 95536810, "body": "Hey! If @Alex answer solved your problem, could you upvote/accept it ? So it can help more people in the future!"}], "tags": [], "owner": {"reputation": 4450, "user_id": 4458510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GZUMI.png?s=128&g=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/4458510/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1548289610, "creation_date": 1548289610, "answer_id": 54337710, "question_id": 54336609, "link": "https://stackoverflow.com/questions/54336609/how-do-i-write-a-file-through-my-app-in-the-google-app-engine-to-the-google-clou/54337710#54337710", "title": "How do I write a file through my app in the Google App Engine to the Google Cloud Storage?", "body": "<p>Use this library: <a href=\"https://cloud.google.com/appengine/docs/standard/python/googlecloudstorageclient/functions\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/python/googlecloudstorageclient/functions</a></p>\n\n<p>So something like this</p>\n\n<pre><code>import cloudstorage\nwith cloudstorage.open('/---bucket-name---/path/within/bucket/file.html', 'w') as f:\n    f.write(content)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 2725211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b732d07eee7d53b94e7c73ea85c787?s=128&d=identicon&r=PG&f=1", "display_name": "simboyd", "link": "https://stackoverflow.com/users/2725211/simboyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 54337710, "answer_count": 1, "score": 1, "last_activity_date": 1548289610, "creation_date": 1548282178, "question_id": 54336609, "link": "https://stackoverflow.com/questions/54336609/how-do-i-write-a-file-through-my-app-in-the-google-app-engine-to-the-google-clou", "title": "How do I write a file through my app in the Google App Engine to the Google Cloud Storage?", "body": "<p>I am looking for a very simple way to create a file and write text data to it (I guess in my Google Cloud Platform bucket) through the app that I'm running in the Google App Engine. Which libraries/functions do I need to use in my code for doing this? I googled the crap out of this but I didn't find any easy ways to do it.</p>\n\n<p>I'm a newcomer to coding, so if you provide code examples I would be very grateful! Thanks in advance :)</p>\n\n<p><strong>Details</strong>:\nIn the app, I'm scraping 250 webpages on another website every time a user wants to search something there. This, of course, produces extremely heavy loads on the server, not to mention that users have to wait for up to 45 seconds to see the results. To counteract this, I thought I'd set up a cron job which would scrape those webpages every 5 minutes or so and store their contents in a file somewhere (preferably 250 different files), which would later be accessed by the app during a search query.</p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 1, "creation_date": 1548283560, "post_id": 54336601, "comment_id": 95490889, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6478845/python-split-consecutive-delimiters\">Python split consecutive delimiters</a> or <a href=\"https://stackoverflow.com/questions/2492415/how-can-i-split-by-1-or-more-occurrences-of-a-delimiter-in-python\">How can I split by 1 or more occurrences of a delimiter in Python?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5391282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/71f1209be4fb83d2e549fc745e31d7a3?s=128&d=identicon&r=PG&f=1", "display_name": "A. Black", "link": "https://stackoverflow.com/users/5391282/a-black"}, "edited": false, "score": 1, "creation_date": 1548284118, "post_id": 54336631, "comment_id": 95491088, "body": "Thank you, this solved the problem completely! This solution was easy to implement in my program and was clear to use."}], "tags": [], "owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "is_accepted": true, "score": 5, "last_activity_date": 1548282276, "creation_date": 1548282276, "answer_id": 54336631, "question_id": 54336601, "link": "https://stackoverflow.com/questions/54336601/how-to-correctly-split-with-multiple-underscores/54336631#54336631", "title": "How to correctly split with multiple underscores?", "body": "<p>You can use regexes for this. </p>\n\n<pre><code>import re\nre.split('_+', 'asd___fad')\n&gt;&gt;&gt; ['asd', 'fad']\n</code></pre>\n\n<p>Basically, this is saying \"split when you see one underscore (the underscore in <code>split</code>'s first arg) or more (the plus following that underscore)\" </p>\n"}, {"comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1548282343, "post_id": 54336637, "comment_id": 95490519, "body": "you can use regular expressions (regexes) as well, but these can be complicated to implement if you don&#39;t understand what you&#39;re doing"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1548282296, "creation_date": 1548282296, "answer_id": 54336637, "question_id": 54336601, "link": "https://stackoverflow.com/questions/54336601/how-to-correctly-split-with-multiple-underscores/54336637#54336637", "title": "How to correctly split with multiple underscores?", "body": "<p>use negative indexing. I.E. numbers = details[-1]</p>\n"}, {"tags": [], "owner": {"reputation": 1565, "user_id": 4777984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hKj3L.jpg?s=128&g=1", "display_name": "tgikal", "link": "https://stackoverflow.com/users/4777984/tgikal"}, "is_accepted": false, "score": 0, "last_activity_date": 1548339224, "last_edit_date": 1548339224, "creation_date": 1548282677, "answer_id": 54336711, "question_id": 54336601, "link": "https://stackoverflow.com/questions/54336601/how-to-correctly-split-with-multiple-underscores/54336711#54336711", "title": "How to correctly split with multiple underscores?", "body": "<p>Using just builtins:</p>\n\n<pre><code># slices input from beginning to first underscore\nwords = input[:input.find(\"_\")]\n# slices input from first underscore to the end, then replaces \"_\" with \"\".\nnumbers = input[input.find(\"_\"):].replace(\"_\", \"\")\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5391282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/71f1209be4fb83d2e549fc745e31d7a3?s=128&d=identicon&r=PG&f=1", "display_name": "A. Black", "link": "https://stackoverflow.com/users/5391282/a-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "closed_date": 1550811082, "accepted_answer_id": 54336631, "answer_count": 3, "score": 2, "last_activity_date": 1550811077, "creation_date": 1548282122, "last_edit_date": 1550811077, "question_id": 54336601, "link": "https://stackoverflow.com/questions/54336601/how-to-correctly-split-with-multiple-underscores", "closed_reason": "Duplicate", "title": "How to correctly split with multiple underscores?", "body": "<p>I was wondering how to correctly split the string when you have an unknown number of underscores.\nMy input looks like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>One Two_________1.0 2.0 3.0\nThree Four______4.0 5.0 6.0\nFive Six________7.0 8.0 9.0\n</code></pre>\n\n<p>Between words and numbers there is unknown number of underscores. I need to split this input into words and numbers. I tried using <code>split</code> in this way:</p>\n\n<pre><code>details = input.split(\"_\")\nwords = details[0]\nnumbers = details[1]\n</code></pre>\n\n<p>However, it correctly saves only words. It worked when I changed the input to have only one underscore, however I just cannot find the solution when it has multiple underscores. </p>\n"}, {"tags": ["python", "pandas", "machine-learning"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 10407349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oNxxUOVUesM/AAAAAAAAAAI/AAAAAAAABf8/YIRllh-RRTI/photo.jpg?sz=128", "display_name": "Nicola", "link": "https://stackoverflow.com/users/10407349/nicola"}, "edited": false, "score": 0, "creation_date": 1548282680, "post_id": 54336613, "comment_id": 95490616, "body": "Yeah, you&#39;re right. Thank you man! Could you tell me the difference between .describe and .describe()? They print different things..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 181, "user_id": 10407349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oNxxUOVUesM/AAAAAAAAAAI/AAAAAAAABf8/YIRllh-RRTI/photo.jpg?sz=128", "display_name": "Nicola", "link": "https://stackoverflow.com/users/10407349/nicola"}, "edited": false, "score": 1, "creation_date": 1548283621, "post_id": 54336613, "comment_id": 95490916, "body": "@Nicola <code>.describe</code> is a method, <code>.describe()</code> calls that method"}, {"owner": {"reputation": 181, "user_id": 10407349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oNxxUOVUesM/AAAAAAAAAAI/AAAAAAAABf8/YIRllh-RRTI/photo.jpg?sz=128", "display_name": "Nicola", "link": "https://stackoverflow.com/users/10407349/nicola"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1548283726, "post_id": 54336613, "comment_id": 95490953, "body": "@juanpa.arrivillaga but they print different output if i wrote cities.describe and cities.describe()"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 181, "user_id": 10407349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oNxxUOVUesM/AAAAAAAAAAI/AAAAAAAABf8/YIRllh-RRTI/photo.jpg?sz=128", "display_name": "Nicola", "link": "https://stackoverflow.com/users/10407349/nicola"}, "edited": false, "score": 1, "creation_date": 1548284827, "post_id": 54336613, "comment_id": 95491298, "body": "@Nicola yes, of course, <i>because one simply references the method and the other calls the method and evaluates the result</i>"}], "tags": [], "owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "is_accepted": true, "score": 7, "last_activity_date": 1548283921, "last_edit_date": 1548283921, "creation_date": 1548282205, "answer_id": 54336613, "question_id": 54336572, "link": "https://stackoverflow.com/questions/54336572/pandas-describe-function-doesnt-print-anything-on-pycharm/54336613#54336613", "title": "Pandas describe() function doesn&#39;t print anything on PyCharm", "body": "<p>On its own, <code>describe</code> does not print anything. It <strong>returns</strong> a dataframe.</p>\n\n<p>From its <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.describe.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><strong>Returns</strong>: summary: Series/DataFrame of summary statistics</p>\n</blockquote>\n\n<p>Unlike PyCharm, the notebook you are using is wired to automatically print the return values of statements. </p>\n\n<p>Change <code>cities.describe()</code> to <code>print(cities.describe())</code>.</p>\n"}], "owner": {"reputation": 181, "user_id": 10407349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oNxxUOVUesM/AAAAAAAAAAI/AAAAAAAABf8/YIRllh-RRTI/photo.jpg?sz=128", "display_name": "Nicola", "link": "https://stackoverflow.com/users/10407349/nicola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 0, "accepted_answer_id": 54336613, "answer_count": 1, "score": 2, "last_activity_date": 1548283921, "creation_date": 1548281936, "question_id": 54336572, "link": "https://stackoverflow.com/questions/54336572/pandas-describe-function-doesnt-print-anything-on-pycharm", "title": "Pandas describe() function doesn&#39;t print anything on PyCharm", "body": "<p>I'm studying the crash course by google, and I'm trying to run this piece of code:</p>\n\n<pre><code>import pandas as pd\n\ncity_names = pd.Series(['San Francisco', 'San Jose', 'Sacramento'])\npopulation = pd.Series([852469, 1015785, 485199])\ncities = pd.DataFrame({ 'City name': city_names, 'Population': population })\ncities['Area square miles'] = pd.Series([46.87, 176.53, 97.92])\ncities['Population density'] = cities['Population'] / cities['Area square \nmiles']\ncities['Is wide and has saint name'] = (cities['Area square miles'] &gt; 50) &amp; \ncities['City name']\\\n    .apply(lambda name: name.startswith('San'))\n\ncities.describe()\n</code></pre>\n\n<p>If I run that on the google online notebook, it prints a table with data..if I run that on my computer using pycharm, it doesn't print anything. That's should be the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YnKK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YnKK9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "utf-8", "ascii", "special-characters"], "comments": [{"owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 1, "creation_date": 1548289916, "post_id": 54336543, "comment_id": 95492484, "body": "Could you please post code that can be run? (both to get the data and how you&#39;re saving the CSV?) It looks like some of you code was cut off."}, {"owner": {"reputation": 42, "user_id": 8692836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7276a81cf8035f9b6ce085f2873e49cd?s=128&d=identicon&r=PG&f=1", "display_name": "aguay091", "link": "https://stackoverflow.com/users/8692836/aguay091"}, "reply_to_user": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 0, "creation_date": 1548337368, "post_id": 54336543, "comment_id": 95511464, "body": "whoops sorry, its correct now."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10954797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89741620525af1d1195d0f13edbe9a1a?s=128&d=identicon&r=PG&f=1", "display_name": "siddu", "link": "https://stackoverflow.com/users/10954797/siddu"}, "is_accepted": false, "score": -1, "last_activity_date": 1548293225, "creation_date": 1548293225, "answer_id": 54338123, "question_id": 54336543, "link": "https://stackoverflow.com/questions/54336543/special-character-not-encoding-pandas/54338123#54338123", "title": "Special character not encoding Pandas", "body": "<p>If you are converting the dataframe to csv, then use utf-8-sig as encoding. It may work\ndataframe.to_csv(filepath,encoding='utf-8-sig', index=False)</p>\n"}], "owner": {"reputation": 42, "user_id": 8692836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7276a81cf8035f9b6ce085f2873e49cd?s=128&d=identicon&r=PG&f=1", "display_name": "aguay091", "link": "https://stackoverflow.com/users/8692836/aguay091"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548337349, "creation_date": 1548281791, "last_edit_date": 1548337349, "question_id": 54336543, "link": "https://stackoverflow.com/questions/54336543/special-character-not-encoding-pandas", "title": "Special character not encoding Pandas", "body": "<p>I am trying to concatenate multiple fields together using Pandas. I have done this successfully before. My issue is between two columns I need to insert a ' \u00e0 ' special character. No matter what I tried this character always turns into a question mark once its exported to csv. </p>\n\n<p>I have tried opening in excel and notepad++, both do the same no matter what I tell the program the encoding is.</p>\n\n<p>The kicker is there is other special characters in my data set and in my script but they have behaved properly. </p>\n\n<p>I have tried:</p>\n\n<ul>\n<li>encoding the special character specifically to utf-8 </li>\n<li>Turning it into a variable and then encoding it to utf-8 </li>\n<li>encoding the csv when it originally is opened in pandas </li>\n<li>encoding the csv when it is written to a new file upon export</li>\n<li>populating a column with only the special\ncharacter and concatenating it with the rest of the values</li>\n</ul>\n\n<p>What I want is this:</p>\n\n<p>401 \u00c0 403 RUE THOMAS LACHUTE QUEBEC J8H 4N7</p>\n\n<p>What I get is this:</p>\n\n<p>401 ? 403 RUE THOMAS LACHUTE QUEBEC J8H 4N7</p>\n\n<pre><code>dfFromCRM.loc[((dfFromCRM['Province']=='QUEBEC') &amp; (dfFromCRM['Street Number From']!=0), \n['Address'])]= dfFromCRM['Street Number From'].map(str)  + '\u00e0' +  concatonateQuebec\n</code></pre>\n"}, {"tags": ["python", "scrapy", "web-crawler", "jupyter-notebook"], "comments": [{"owner": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "edited": false, "score": 0, "creation_date": 1548346752, "post_id": 54336524, "comment_id": 95517467, "body": "why the negative votes? , what can I do to improve?"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 9018835, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qcqCqGyp9BU/AAAAAAAAAAI/AAAAAAAAAKs/dBNVW7i1C8M/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/9018835/%d0%98%d0%b2%d0%b0%d0%bd-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%b5%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1548315345, "creation_date": 1548315345, "answer_id": 54341486, "question_id": 54336524, "link": "https://stackoverflow.com/questions/54336524/valueerrormissing-scheme-in-request-url-s-self-url-when-calling-the-spi/54341486#54341486", "title": "ValueError(&#39;Missing scheme in request url: %s&#39; % self._url) when calling the spider while modifying start_url argument", "body": "<pre><code>!scrapy runspider google_apipowered_content_scraper.py -a \"start_urls=['https://elpais.com/internacional/2019/01/23/actualidad/1548249429_996363.html']\" \n</code></pre>\n\n<p>try this</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 9018835, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qcqCqGyp9BU/AAAAAAAAAAI/AAAAAAAAAKs/dBNVW7i1C8M/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/9018835/%d0%98%d0%b2%d0%b0%d0%bd-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1548371913, "post_id": 54356777, "comment_id": 95528546, "body": "although this option can break everything))"}], "tags": [], "owner": {"reputation": 159, "user_id": 9018835, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qcqCqGyp9BU/AAAAAAAAAAI/AAAAAAAAAKs/dBNVW7i1C8M/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/9018835/%d0%98%d0%b2%d0%b0%d0%bd-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%b5%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1548371758, "creation_date": 1548371758, "answer_id": 54356777, "question_id": 54336524, "link": "https://stackoverflow.com/questions/54336524/valueerrormissing-scheme-in-request-url-s-self-url-when-calling-the-spi/54356777#54356777", "title": "ValueError(&#39;Missing scheme in request url: %s&#39; % self._url) when calling the spider while modifying start_url argument", "body": "<p>I'm sorry, but it seems to me that you cannot do this without changing Scrapy, because the Command line arguments are always passed as strings in it.</p>\n\n<pre><code>def start_requests(self):\n        cls = self.__class__\n        if method_is_overridden(cls, Spider, 'make_requests_from_url'):\n            warnings.warn(\n                \"Spider.make_requests_from_url method is deprecated; it \"\n                \"won't be called in future Scrapy releases. Please \"\n                \"override Spider.start_requests method instead (see %s.%s).\" % (\n                    cls.__module__, cls.__name__\n                ),\n            )\n             for url in self.start_urls:\n                yield self.make_requests_from_url(url)\n        else:\n            for url in self.start_urls:\n                yield Request(url, dont_filter=True)\n</code></pre>\n\n<p>This is a clipping from the Scrapys code.</p>\n\n<p>So that your argument would understand Scrapy, you need to add to Scrapy:</p>\n\n<pre><code>for url in self.start_urls:\n   yield self.make_requests_from_url(url)\n</code></pre>\n\n<p>this:</p>\n\n<pre><code>for url in self.start_urls.strip('[]').split(','))\n   yield self.make_requests_from_url(url)\n</code></pre>\n\n<p>And run Scrapy with that argument:</p>\n\n<pre><code>scrapy runspider google_apipowered_content_scraper.py -a start_urls=[https://elpais.com/internacional/2019/01/23/actualidad/1548249429_996363.html,https://www.another_url.com]\n</code></pre>\n\n<p>but I'm not sure that there is no more cycle for getting URLs from an array. Need to find.</p>\n\n<p>And here are the crutches)))</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "edited": false, "score": 0, "creation_date": 1548491335, "post_id": 54361603, "comment_id": 95567487, "body": "thank you for helping, My solution was in the direction of avoiding the problem directly by making the spider through beautifull soup, I&#180;m going to try this solution and come back , thank you never theless"}, {"owner": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "edited": false, "score": 0, "creation_date": 1548491549, "post_id": 54361603, "comment_id": 95567516, "body": "should I add that method replacing parse? or as an additional method? Could you please explain the nature of the problem and the solution  ( I want to  understand better web scraping with scrapy ). For example, what does this domain do in the code? &quot;,<a href=\"https://www.yoursitenb2.com\" rel=\"nofollow noreferrer\">yoursitenb2.com</a>  &quot;  , why that particular domain?   ,what does this part of the code do? &lt; yield self.make_requests_from_url(url) &gt; , an this &lt;     else:             for url in self.start_urls:                 yield self.make_requests_from_url(url) &gt;."}, {"owner": {"reputation": 159, "user_id": 9018835, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qcqCqGyp9BU/AAAAAAAAAAI/AAAAAAAAAKs/dBNVW7i1C8M/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/9018835/%d0%98%d0%b2%d0%b0%d0%bd-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "edited": false, "score": 0, "creation_date": 1548499447, "post_id": 54361603, "comment_id": 95568867, "body": "1. Yes, you must add this method as an additional. 2. Nature of the problem: In Python, all arguments passed through the terminal are string variables (text). And Scrapy requires an array of start_urls links as an argument for parsing. (start_urls = <b>[</b> url_1, url_2, url_3 <b>]</b>). 3. I wrote yoursitenb2.com for example only))) This means your_site_number_2.com (second link in the array)"}, {"owner": {"reputation": 159, "user_id": 9018835, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qcqCqGyp9BU/AAAAAAAAAAI/AAAAAAAAAKs/dBNVW7i1C8M/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/9018835/%d0%98%d0%b2%d0%b0%d0%bd-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "edited": false, "score": 0, "creation_date": 1548500139, "post_id": 54361603, "comment_id": 95569016, "body": "4. <code>def start_requests(self): # this method starting before parse          if self.my_start_page is not None and self.my_start_page != &#39;&#39;:             self.my_start_page = self.my_start_page.split(&#39;,&#39;)             for url in self.my_start_page:                 yield self.make_requests_from_url(url) #make request to the site before scraping and sending callback in to parse method</code> <i>This all provides a start if there are arguments in the terminal.</i>"}, {"owner": {"reputation": 159, "user_id": 9018835, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qcqCqGyp9BU/AAAAAAAAAAI/AAAAAAAAAKs/dBNVW7i1C8M/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/9018835/%d0%98%d0%b2%d0%b0%d0%bd-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "edited": false, "score": 0, "creation_date": 1548500167, "post_id": 54361603, "comment_id": 95569022, "body": "<code>else:             for url in self.start_urls:                 yield self.make_requests_from_url(url)</code>  And this code takes the start_urls if you run the scrapie from the terminal without arguments"}, {"owner": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "edited": false, "score": 0, "creation_date": 1548606510, "post_id": 54361603, "comment_id": 95592553, "body": "thank you for everything, this effectively solved my problem"}], "tags": [], "owner": {"reputation": 159, "user_id": 9018835, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qcqCqGyp9BU/AAAAAAAAAAI/AAAAAAAAAKs/dBNVW7i1C8M/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u0412\u0430\u0441\u0438\u043b\u044c\u0435\u0432", "link": "https://stackoverflow.com/users/9018835/%d0%98%d0%b2%d0%b0%d0%bd-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%b5%d0%b2"}, "is_accepted": true, "score": 1, "last_activity_date": 1548405311, "creation_date": 1548405311, "answer_id": 54361603, "question_id": 54336524, "link": "https://stackoverflow.com/questions/54336524/valueerrormissing-scheme-in-request-url-s-self-url-when-calling-the-spi/54361603#54361603", "title": "ValueError(&#39;Missing scheme in request url: %s&#39; % self._url) when calling the spider while modifying start_url argument", "body": "<p>I became very interested and I solved your problem)).\nadd this to your code:</p>\n\n<ol>\n<li><p>In class GoogleApipoweredContentScraperSpider add:</p>\n\n<p><code>my_start_page = ''</code></p></li>\n<li><p>Add method:</p>\n\n<p><code>def start_requests(self):\n        if self.my_start_page is not None and self.my_start_page != '':\n            self.my_start_page = self.my_start_page.split(',')\n            for url in self.my_start_page:\n                yield self.make_requests_from_url(url)\n        else:\n            for url in self.start_urls:\n                yield self.make_requests_from_url(url)</code></p></li>\n</ol>\n\n<p>TESTED !!! EVERYTHING IS WORKING!!!</p>\n\n<pre><code>scrapy runspider google_apipowered_content_scraper.py -a my_start_page=https://elpais.com/internacional/2019/01/23/actualidad/1548249429_996363.html,https://www.yoursitenb2.com \n</code></pre>\n\n<p>If you want to transfer one url to the start, then just remove the <code>split(',')</code> and loop. just: <code>self.make_requests_from_url(self.my_start_page)</code></p>\n"}], "owner": {"reputation": 61, "user_id": 9869300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b4ba442a53d65fba9c8e0c1b18f1094?s=128&d=identicon&r=PG&f=1", "display_name": "brandata", "link": "https://stackoverflow.com/users/9869300/brandata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 54361603, "answer_count": 3, "score": -2, "last_activity_date": 1548405311, "creation_date": 1548281711, "question_id": 54336524, "link": "https://stackoverflow.com/questions/54336524/valueerrormissing-scheme-in-request-url-s-self-url-when-calling-the-spi", "title": "ValueError(&#39;Missing scheme in request url: %s&#39; % self._url) when calling the spider while modifying start_url argument", "body": "<p>I\u00b4m working with a scraper, with scrapy through the jupyter notebook . </p>\n\n<p>This is the code of the scraper, saved in a python file </p>\n\n<pre><code>import scrapy\n\n\nfrom scrapy.selector import Selector\nfrom scrapy.http import HtmlResponse\n\nclass GoogleApipoweredContentScraperSpider(scrapy.Spider):\n    name = 'google_apipowered_content_scraper'\n\n    start_urls = ['https://doc.scrapy.org/en/latest/topics/selectors.html#topics-selectors']\n\n    def parse(self, response):\n        texta = response.xpath(\"//text()\").extract()\n        texttitle = response.xpath('//title/text()').extract()\n        yield {\"Article_title\" : texttitle, \"Content_text\" :texta}\n\n\n&lt;/blink&gt;\n</code></pre>\n\n<p>The scraper works just fine for starters when you call and execute it normaly like this. </p>\n\n<pre><code>&lt;blink&gt;\n!scrapy runspider google_apipowered_content_scraper.py\n\n&lt;/blink&gt;\n</code></pre>\n\n<p>Here is the thing,  the doc.scrapy start url was just as an example to execute, I actually plan on modifying that variable when calling ( that is where the error happens, this is the code I am using: </p>\n\n<p></p>\n\n<pre><code>!scrapy runspider google_apipowered_content_scraper.py -a \"start_urls=[https://elpais.com/internacional/2019/01/23/actualidad/1548249429_996363.html]\" \n</code></pre>\n\n<p>But it does not work, Here the error that produces: </p>\n\n<pre><code>    019-01-23 20:21:43 [scrapy.utils.log] INFO: Scrapy 1.5.1 started (bot: scrapybot)\n2019-01-23 20:21:43 [scrapy.utils.log] INFO: Versions: lxml 4.2.1.0, libxml2 2.9.8, cssselect 1.0.3, parsel 1.5.1, w3lib 1.20.0, Twisted 18.9.0, Python 3.6.5 |Anaconda, Inc.| (default, Apr 29 2018, 16:14:56) - [GCC 7.2.0], pyOpenSSL 18.0.0 (OpenSSL 1.1.0i  14 Aug 2018), cryptography 2.4.1, Platform Linux-4.15.0-43-generic-x86_64-with-debian-buster-sid\n2019-01-23 20:21:43 [scrapy.crawler] INFO: Overridden settings: {'SPIDER_LOADER_WARN_ONLY': True}\n2019-01-23 20:21:43 [scrapy.middleware] INFO: Enabled extensions:\n['scrapy.extensions.corestats.CoreStats',\n 'scrapy.extensions.telnet.TelnetConsole',\n 'scrapy.extensions.memusage.MemoryUsage',\n 'scrapy.extensions.logstats.LogStats']\n2019-01-23 20:21:43 [scrapy.middleware] INFO: Enabled downloader middlewares:\n['scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',\n 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',\n 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',\n 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',\n 'scrapy.downloadermiddlewares.retry.RetryMiddleware',\n 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',\n 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',\n 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',\n 'scrapy.downloadermiddlewares.cookies.CookiesMiddleware',\n 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',\n 'scrapy.downloadermiddlewares.stats.DownloaderStats']\n2019-01-23 20:21:43 [scrapy.middleware] INFO: Enabled spider middlewares:\n['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',\n 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',\n 'scrapy.spidermiddlewares.referer.RefererMiddleware',\n 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',\n 'scrapy.spidermiddlewares.depth.DepthMiddleware']\n2019-01-23 20:21:43 [scrapy.middleware] INFO: Enabled item pipelines:\n[]\n2019-01-23 20:21:43 [scrapy.core.engine] INFO: Spider opened\n2019-01-23 20:21:43 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)\n2019-01-23 20:21:43 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6027\n2019-01-23 20:21:43 [scrapy.core.engine] ERROR: Error while obtaining start requests\nTraceback (most recent call last):\n  File \"/home/stefano/anaconda3/lib/python3.6/site-packages/scrapy/core/engine.py\", line 127, in _next_request\n    request = next(slot.start_requests)\n  File \"/home/stefano/anaconda3/lib/python3.6/site-packages/scrapy/spiders/__init__.py\", line 83, in start_requests\n    yield Request(url, dont_filter=True)\n  File \"/home/stefano/anaconda3/lib/python3.6/site-packages/scrapy/http/request/__init__.py\", line 25, in __init__\n    self._set_url(url)\n  File \"/home/stefano/anaconda3/lib/python3.6/site-packages/scrapy/http/request/__init__.py\", line 62, in _set_url\n    raise ValueError('Missing scheme in request url: %s' % self._url)\nValueError: Missing scheme in request url: [\n2019-01-23 20:21:43 [scrapy.core.engine] INFO: Closing spider (finished)\n2019-01-23 20:21:43 [scrapy.statscollectors] INFO: Dumping Scrapy stats:\n{'finish_reason': 'finished',\n 'finish_time': datetime.datetime(2019, 1, 23, 19, 21, 43, 224181),\n 'log_count/DEBUG': 1,\n 'log_count/ERROR': 1,\n 'log_count/INFO': 7,\n 'memusage/max': 55255040,\n 'memusage/startup': 55255040,\n 'start_time': datetime.datetime(2019, 1, 23, 19, 21, 43, 219808)}\n2019-01-23 20:21:43 [scrapy.core.engine] INFO: Spider closed (finished)\n\n    &lt;/blink&gt;\n</code></pre>\n\n<p>Mainly the error seems to be related to this ValueError('Missing scheme in request url: %s' % self._url)</p>\n\n<p>I have tried writing the start_url when calling the argument, with brackets and without brackets [], I have also tried adding the webpages domain, with a coma after adding the url, and not adding it. In All cases I get the same error. </p>\n\n<p>The code should result giving back all the text inside the url, disorganized of course, but all the text. Working on this : 'Python version 3.6.5 |Anaconda version 5.2.0,jupyter notebook 5.5.0 </p>\n\n<p>I\u00b4m completely new to web scraping, I have no idea how to fix this, I\u00b4m still trying though and I keep working from this side, I have seen a lot of posts but none of them aply to a case like mine, where I\u00b4m modifying the start_url variable from jupyter notebook. Most of them make the mistake of not adding [], but that is clearly not my case.  Hope it\u00b4s fun and makes the community  smarter . Thanks in advance. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": false, "score": 1, "last_activity_date": 1548282675, "last_edit_date": 1548282675, "creation_date": 1548281985, "answer_id": 54336579, "question_id": 54336523, "link": "https://stackoverflow.com/questions/54336523/extract-a-group-of-n-numbers-from-a-string-in-a-column/54336579#54336579", "title": "Extract a group of n numbers from a string in a column", "body": "<p>You could use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.extract.html#pandas.Series.str.extract\" rel=\"nofollow noreferrer\">extract</a> with a capturing group for digits <code>(\\d+)</code>:</p>\n\n<pre><code>import pandas as pd\n\ndata = [\"AU/4347001\",\n        \"Who would have thought this would be so 4347009 difficult\",\n        \"Another with a no numbers\",\n        \"131242143\"]\n\ndf = pd.DataFrame(data=data, columns=['txt'])\nresult = df.assign(res=df.txt.str.extract('(\\d+)')).fillna('')\nprint(result)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>                                                 txt        res\n0                                         AU/4347001    4347001\n1  Who would have thought this would be so 434700...    4347009\n2                          Another with a no numbers           \n3                                          131242143  131242143\n</code></pre>\n\n<p>Note, in the example above,  the use of <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.fillna.html\" rel=\"nofollow noreferrer\">fillna</a> to fill those columns where no groups of numbers where found, in this case, with the empty string.</p>\n"}, {"tags": [], "owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "is_accepted": true, "score": 1, "last_activity_date": 1548281988, "creation_date": 1548281988, "answer_id": 54336580, "question_id": 54336523, "link": "https://stackoverflow.com/questions/54336523/extract-a-group-of-n-numbers-from-a-string-in-a-column/54336580#54336580", "title": "Extract a group of n numbers from a string in a column", "body": "<p>You can do <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.extract.html\" rel=\"nofollow noreferrer\"><code>extract</code></a>:</p>\n\n<pre><code>df =pd.DataFrame({'text':[\"Who would have thought this would be so 4347009 difficult\",\n                          \"24 is me\"]})\n\ndf['new_col'] = df['text'].str.extract(r'(\\d+)')\n\n    text                                                new_col\n0   Who would have thought this would be so 434700...   4347009\n1   24 is me                                            24\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 9146325, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lBqp4dYU2Gc/AAAAAAAAAAI/AAAAAAAAGKk/8RsLGIWQlzU/photo.jpg?sz=128", "display_name": "Leo Walker", "link": "https://stackoverflow.com/users/9146325/leo-walker"}, "is_accepted": false, "score": 1, "last_activity_date": 1548283598, "creation_date": 1548283598, "answer_id": 54336855, "question_id": 54336523, "link": "https://stackoverflow.com/questions/54336523/extract-a-group-of-n-numbers-from-a-string-in-a-column/54336855#54336855", "title": "Extract a group of n numbers from a string in a column", "body": "<p>Here's our test DataFrame: <br></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>### Create an example Pandas Dataframe\ndf = pd.DataFrame(data=['something123', 'some456thing', '789somthing', \n                        'Lots of numbers 82849585 make a long sentence'], columns = ['strings'])\n\n### Create a function for identifying, joining and then turning the string to an integer\ndef get_numbers(string):\n    return int(''.join([s for s in string if s.isdigit()]))\n\n### Now lets apply the get_numbers function to the strings column\ndf.loc[:,'strings_wo_numbers'] = df.loc[:,'strings']apply(get_numbers)\n</code></pre>\n\n<p><strong>Note: This will concatenate all numbers in the string, i.e. \"10 Olives and 5 apples\" will turn into 105 not 10, 5.</strong></p>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 0, "last_activity_date": 1548292786, "creation_date": 1548292786, "answer_id": 54338070, "question_id": 54336523, "link": "https://stackoverflow.com/questions/54336523/extract-a-group-of-n-numbers-from-a-string-in-a-column/54338070#54338070", "title": "Extract a group of n numbers from a string in a column", "body": "<p>Using <code>str.finall</code></p>\n\n<pre><code>df.text.str.findall('\\d+').str[0]\n0    4347009\n1         24\nName: text, dtype: object\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 6317688, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154211370668453/picture?type=large", "display_name": "Davide Lorino", "link": "https://stackoverflow.com/users/6317688/davide-lorino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 54336580, "answer_count": 4, "score": 0, "last_activity_date": 1548292786, "creation_date": 1548281708, "question_id": 54336523, "link": "https://stackoverflow.com/questions/54336523/extract-a-group-of-n-numbers-from-a-string-in-a-column", "title": "Extract a group of n numbers from a string in a column", "body": "<p>I have a column of strings in a pandas dataframe that contains things like: <code>\"AU/4347001\"</code> but in addition there are other strings that are less organised, like <code>\"Who would have thought this would be so 4347009 difficult\"</code></p>\n\n<p>So ultimately, there is no coherent pattern to where and how these series of digits will appear in the string. They could be at the start, in the middle, or at the end, and there's no way of knowing exactly how many other characters are surrounding the digits. </p>\n\n<p>Ideally, I would like to return another column of equal length containing only the digits.</p>\n\n<p>Is this possible? </p>\n\n<p>Any help is greatly appreciated!</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1548281256, "post_id": 54336413, "comment_id": 95490127, "body": "Whats wrong witb the syntax you tried? Is there an error?"}, {"owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "edited": false, "score": 1, "creation_date": 1548281339, "post_id": 54336413, "comment_id": 95490149, "body": "<code>df[&#39;diff_floor_temperature&#39;] = df[&#39;floor_temperature&#39;].diff()</code>?"}, {"owner": {"reputation": 1852, "user_id": 6620662, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90fe6a424ba080e9904ff3a2f7a16277?s=128&d=identicon&r=PG&f=1", "display_name": "OlavT", "link": "https://stackoverflow.com/users/6620662/olavt"}, "edited": false, "score": 0, "creation_date": 1548281565, "post_id": 54336413, "comment_id": 95490232, "body": "That was exactly what I was looking for! Perfect."}], "answers": [{"comments": [{"owner": {"reputation": 1852, "user_id": 6620662, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90fe6a424ba080e9904ff3a2f7a16277?s=128&d=identicon&r=PG&f=1", "display_name": "OlavT", "link": "https://stackoverflow.com/users/6620662/olavt"}, "edited": false, "score": 0, "creation_date": 1548282478, "post_id": 54336625, "comment_id": 95490557, "body": "Could you explain the issue with potential slicing errors?"}, {"owner": {"reputation": 36, "user_id": 9146325, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lBqp4dYU2Gc/AAAAAAAAAAI/AAAAAAAAGKk/8RsLGIWQlzU/photo.jpg?sz=128", "display_name": "Leo Walker", "link": "https://stackoverflow.com/users/9146325/leo-walker"}, "reply_to_user": {"reputation": 1852, "user_id": 6620662, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90fe6a424ba080e9904ff3a2f7a16277?s=128&d=identicon&r=PG&f=1", "display_name": "OlavT", "link": "https://stackoverflow.com/users/6620662/olavt"}, "edited": false, "score": 0, "creation_date": 1548285325, "post_id": 54336625, "comment_id": 95491446, "body": "If you&#39;re trying to make calculations on slices you could get the following warning, the documentation does a good job explaining why you should start using .loc instead of just normal brackets  A value is trying to be set on a copy of a slice from a DataFrame. Try using .loc[row_indexer,col_indexer] = value instead See the caveats in the documentation: <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/&hellip;</a>"}], "tags": [], "owner": {"reputation": 36, "user_id": 9146325, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lBqp4dYU2Gc/AAAAAAAAAAI/AAAAAAAAGKk/8RsLGIWQlzU/photo.jpg?sz=128", "display_name": "Leo Walker", "link": "https://stackoverflow.com/users/9146325/leo-walker"}, "is_accepted": true, "score": 1, "last_activity_date": 1548282253, "creation_date": 1548282253, "answer_id": 54336625, "question_id": 54336413, "link": "https://stackoverflow.com/questions/54336413/insert-new-colum-in-dataframe-with-diff-from-previous-row/54336625#54336625", "title": "Insert new colum in DataFrame with diff from previous row?", "body": "<p>Moving 0x5453's answer to the answer column but changing a couple of things to make sure that you don't get any slicing errors.</p>\n\n<p><code>df.loc[:,'diff_floor_temperature'] = df.loc[:,'floor_temperature'].diff()</code></p>\n"}], "owner": {"reputation": 1852, "user_id": 6620662, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90fe6a424ba080e9904ff3a2f7a16277?s=128&d=identicon&r=PG&f=1", "display_name": "OlavT", "link": "https://stackoverflow.com/users/6620662/olavt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 54336625, "answer_count": 1, "score": 0, "last_activity_date": 1548282253, "creation_date": 1548281139, "question_id": 54336413, "link": "https://stackoverflow.com/questions/54336413/insert-new-colum-in-dataframe-with-diff-from-previous-row", "title": "Insert new colum in DataFrame with diff from previous row?", "body": "<p>I have a Pandas DataFrame with a dataset, which is looking like this:</p>\n\n<pre><code>                           floor_temperature  power_consumption  outside_temperature\ntimestamp\n2019-01-23 00:00:00+00:00           8.300000           0.022000           -11.393333\n2019-01-23 00:10:00+00:00           8.114286           0.016000           -11.400000\n2019-01-23 00:20:00+00:00           7.950000           0.044000           -11.254545\n2019-01-23 00:30:00+00:00           7.900000           0.027500           -11.300000\n2019-01-23 00:40:00+00:00           7.840000         830.900000           -11.400000\n2019-01-23 00:50:00+00:00           8.300000         334.352000           -11.400000\n2019-01-23 01:00:00+00:00           8.580000           0.028000           -11.380000\n2019-01-23 01:10:00+00:00           8.440000           0.018000           -11.400000\n2019-01-23 01:20:00+00:00           8.360000           0.022000           -11.400000\n</code></pre>\n\n<p>I would like to insert a new row after \"floor_temperatur\", which should be named \"diff_floor_ temperature\" and it should be calculated by taking the rows \"floor_temperature\" minus the previous rows \"floor_temperature\".</p>\n\n<p>I know it should be quite easy with the .diff() function, but it would be nice with some help on the syntax.</p>\n"}, {"tags": ["python", "gtk3"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531591"}, "edited": false, "score": 0, "creation_date": 1548281550, "post_id": 54336383, "comment_id": 95490225, "body": "Your code is too small for me to help. For what I understand, the task that uses a lot of time is win = NewWindow(). Since you do not call Gtk.main() before showing the window, the self window is not refreshed. Remember that GUI need an event loop to process the GUI update requests. You might have to do the code in NewWindow in a separated thread (calling the batch and get its result) then update your GUI"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1531591"}, "edited": false, "score": 0, "creation_date": 1548283597, "post_id": 54336383, "comment_id": 95490902, "body": "A solution could be to force the refresh of the GUI by calling while Gtk.events_pending():          Gtk.main_iteration() after GtkButton.set_label"}, {"owner": {"reputation": 91, "user_id": 10409869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/shyTc.png?s=128&g=1", "display_name": "SeaDog", "link": "https://stackoverflow.com/users/10409869/seadog"}, "edited": false, "score": 0, "creation_date": 1548344009, "post_id": 54336383, "comment_id": 95515660, "body": "This worked, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 1, "creation_date": 1548351351, "post_id": 54350225, "comment_id": 95520107, "body": "You should take the time to explain why this is a solution to OPs problem, rather than just posting 2 lines of code."}], "tags": [], "owner": {"reputation": 91, "user_id": 10409869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/shyTc.png?s=128&g=1", "display_name": "SeaDog", "link": "https://stackoverflow.com/users/10409869/seadog"}, "is_accepted": true, "score": 1, "last_activity_date": 1548352864, "last_edit_date": 1548352864, "creation_date": 1548344097, "answer_id": 54350225, "question_id": 54336383, "link": "https://stackoverflow.com/questions/54336383/displaying-a-change-immediately-on-a-gtk-gui/54350225#54350225", "title": "Displaying a change immediately on a GTK GUI", "body": "<p>This is what I did:</p>\n\n<pre><code>self.button.set_label(\"Loading...\")\nwhile Gtk.events_pending():\n    Gtk.main_iteration()\nwin = NewWindow()\nwin.connect(\"destroy\", Gtk.main_quit)\nwin.show_all()\nGtk.main()\n</code></pre>\n\n<p>When clicked, the button displays \"Loading\" and does so until the new window is opened. The loop lets you update the UI during a long computation.</p>\n"}], "owner": {"reputation": 91, "user_id": 10409869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/shyTc.png?s=128&g=1", "display_name": "SeaDog", "link": "https://stackoverflow.com/users/10409869/seadog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 2, "accepted_answer_id": 54350225, "answer_count": 1, "score": 0, "last_activity_date": 1548352888, "creation_date": 1548281041, "last_edit_date": 1548352888, "question_id": 54336383, "link": "https://stackoverflow.com/questions/54336383/displaying-a-change-immediately-on-a-gtk-gui", "title": "Displaying a change immediately on a GTK GUI", "body": "<p>So I have this Gtk.Button object that basically calls a custom bash command and displays an a very large dataset in a new window. After being pressed, it can take anywhere between 3-10 seconds to display the new window. What I want to do is change the label of the button to something like \"Loading...' between the time of when the button is pressed and when the window finally pops up. However, with my current code it the label doesn't change until the window has popped up. This is essentially what I have:</p>\n\n<pre><code>    self.button.set_label(\"Loading...\")\n    self.show_all()\n    win = NewWindow()\n    win.connect(\"destroy\", Gtk.main_quit)\n    win.show_all()\n    Gtk.main()\n</code></pre>\n"}, {"tags": ["python", "database", "sqlite", "orm", "peewee"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 10841608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9fd833c06c17046fca798ab392244a?s=128&d=identicon&r=PG&f=1", "display_name": "username", "link": "https://stackoverflow.com/users/10841608/username"}, "edited": false, "score": 0, "creation_date": 1548516265, "post_id": 54371543, "comment_id": 95572946, "body": "So peewee just map its 25 types to these basic 5? Not involving additional processing?"}, {"owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "reply_to_user": {"reputation": 147, "user_id": 10841608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9fd833c06c17046fca798ab392244a?s=128&d=identicon&r=PG&f=1", "display_name": "username", "link": "https://stackoverflow.com/users/10841608/username"}, "edited": false, "score": 0, "creation_date": 1549125122, "post_id": 54371543, "comment_id": 95795461, "body": "Yes and no. Yes those are the only data types supported by the database. Peewee has special field types that let you know read and write other types, like date times, Boolean, decimal, etc."}], "tags": [], "owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "is_accepted": true, "score": 0, "last_activity_date": 1548443772, "creation_date": 1548443772, "answer_id": 54371543, "question_id": 54336378, "link": "https://stackoverflow.com/questions/54336378/what-is-exact-limits-of-peewee-field-types-with-sqlite-database-engine-used/54371543#54371543", "title": "What is exact limits of peewee field types with sqlite database engine used?", "body": "<p>Sqlite has just 5 types, text, int, real (float), blob, and null.</p>\n\n<p>Varchar, char, text, etc all are treated as TEXT. Length does not matter.</p>\n\n<p>Integer, smallint, bigint, etc are treated as INT. Sqlite uses 64-bit ints.</p>\n\n<p>Read the Sqlite documentation, it will explain this all:</p>\n\n<p><a href=\"https://www.sqlite.org/datatype3.html\" rel=\"nofollow noreferrer\">https://www.sqlite.org/datatype3.html</a></p>\n"}], "owner": {"reputation": 147, "user_id": 10841608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9fd833c06c17046fca798ab392244a?s=128&d=identicon&r=PG&f=1", "display_name": "username", "link": "https://stackoverflow.com/users/10841608/username"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 54371543, "answer_count": 1, "score": 0, "last_activity_date": 1548443772, "creation_date": 1548281003, "last_edit_date": 1548281923, "question_id": 54336378, "link": "https://stackoverflow.com/questions/54336378/what-is-exact-limits-of-peewee-field-types-with-sqlite-database-engine-used", "title": "What is exact limits of peewee field types with sqlite database engine used?", "body": "<p>I'm starting using peewee with sqlite database engine and have a lot of confusion about what field type should I use. I write now small scripts for myself, so performance is not the issue, but possible data loss due to data type limitations is.</p>\n\n<p>On the official <a href=\"http://docs.peewee-orm.com/en/latest/peewee/models.html#fields\" rel=\"nofollow noreferrer\">peewee documentation</a> there are lot of types listed though none information about them provided. I wish their limits were provided in more clear way, like <a href=\"https://www.w3schools.com/sql/sql_datatypes.asp\" rel=\"nofollow noreferrer\">w3 did</a>.</p>\n\n<p>I'm conducting various tests now and getting wierd results. Like IntegerField, BigIntegerField and SmallIntegerField actually maps in the same column type (what is the point on make them different then?). CharField maps to VARCHAR(255) but I can store large amounts of text there - is it safe or should be considered as unpredictable behaviour? FixedCharField allows to store large texts as well, but corrupting them without truncating, etc. I was investigating <a href=\"https://www.sqlite.org/datatype3.html\" rel=\"nofollow noreferrer\">sqlite documentation</a> as well, but there only 5 basic types introduced. Though I clearly see in DB browser For SQLite and in DB Browser extension for PyCharm, that peewee actually uses broader mapping (say, uses VARCHAR not introduced by sqlite) or interpret existing types on it's own way (say, allow to .save() vast variety of values in BooleanField truncating them into 0 or 1).</p>\n\n<p>At the best, I wish to know the exact limits and difference between all 25 field types when using sqlite engine. Though, it would be nice to know just the field types with the largest limits to store integer, floating point, text and arbitrary binary data - in these generalized categories - which should I choose to store the most amount of data safely?</p>\n"}, {"tags": ["python", "pandas", "csv", "dataframe", "matplotlib"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1548281123, "post_id": 54336368, "comment_id": 95490090, "body": "Have you followed any pandas tutorial? How did that application work out? What went wrong?"}], "answers": [{"tags": [], "owner": {"reputation": 34838, "user_id": 1505540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4550dc81109cd4a3f46e15eef96b1811?s=128&d=identicon&r=PG", "display_name": "lexual", "link": "https://stackoverflow.com/users/1505540/lexual"}, "is_accepted": false, "score": 0, "last_activity_date": 1548281833, "creation_date": 1548281833, "answer_id": 54336554, "question_id": 54336368, "link": "https://stackoverflow.com/questions/54336368/how-to-count-specific-column-in-excel-csv-file/54336554#54336554", "title": "How to count specific column in excel csv file?", "body": "<pre><code>df.loc[df['os_status'] == \"live\", \"age\"].value_counts().sort_index().plot(kind='bar')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1548281839, "creation_date": 1548281839, "answer_id": 54336557, "question_id": 54336368, "link": "https://stackoverflow.com/questions/54336368/how-to-count-specific-column-in-excel-csv-file/54336557#54336557", "title": "How to count specific column in excel csv file?", "body": "<p>I'm not an expert on pandas Excel module, but this sounds easily doable with the xlwings module. You would just need a loop through whatever rows are being evaulated, and then you could say <code>if sheet.range('A{}'.format(row).value == 'Alive':</code></p>\n\n<pre><code>`code to grab the name from same row`\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3658513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e312e322d02d5f8b0c1d37e1f45aed4c?s=128&d=identicon&r=PG&f=1", "display_name": "user3658513", "link": "https://stackoverflow.com/users/3658513/user3658513"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1548283978, "creation_date": 1548280961, "last_edit_date": 1548283978, "question_id": 54336368, "link": "https://stackoverflow.com/questions/54336368/how-to-count-specific-column-in-excel-csv-file", "title": "How to count specific column in excel csv file?", "body": "<p>I have a csv file. It is 6 rows x 28 columns. It has a column called OS_STATUS. It has two things in the column: Live or deceased. I need a code that can only count the number of live people and their corresponding age (age is another column) and plot a graph. I need a way to only count the live people.</p>\n\n<pre><code>import pandas as pd\nimport matplotlib as plt\nimport numpy as np\n\ncereal = pd.read_csv('C:\\\\Users\\\\farid-PC\\\\Desktop\\\\class\\\\CS7265_BIG_DATA\\\\sam1.csv')\nprint(cereal)\nx =[]\nx.append(df['os_status'])\n</code></pre>\n"}, {"tags": ["python", "pandas", "amazon-ec2"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 11205714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f32a167544649b4936719e6fc9a36ea?s=128&d=identicon&r=PG&f=1", "display_name": "Kalyanee Chendke", "link": "https://stackoverflow.com/users/11205714/kalyanee-chendke"}, "is_accepted": true, "score": 2, "last_activity_date": 1552601888, "creation_date": 1552601888, "answer_id": 55172846, "question_id": 54336364, "link": "https://stackoverflow.com/questions/54336364/pandas-np-array-column-in-aws-dlami/55172846#55172846", "title": "Pandas np.array column in AWS DLAMI", "body": "<p>Thanks for opening this issue.</p>\n\n<p>I was able replicate this issue on a v21.2 ubuntu DLAMI instance. We are using pandas version <code>0.22.0</code> on DLAMI.</p>\n\n<p>Locally on my machine I am using version pandas <code>0.24.2</code> and don't face the issue above.</p>\n\n<p>Thanks for reporting this, we will take action and fix the problem shortly.</p>\n\n<p>On your end, for now I would recommend to uninstall pandas and reinstall pandas as follows:</p>\n\n<p><code>pip uninstall pandas</code>\n<code>pip install pandas==0.24.2</code></p>\n"}], "owner": {"reputation": 113, "user_id": 5709763, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b5629621eebc2be51ac68c92d2066a27?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Halabi", "link": "https://stackoverflow.com/users/5709763/ryan-halabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 55172846, "answer_count": 1, "score": 1, "last_activity_date": 1552601888, "creation_date": 1548280947, "last_edit_date": 1548288460, "question_id": 54336364, "link": "https://stackoverflow.com/questions/54336364/pandas-np-array-column-in-aws-dlami", "title": "Pandas np.array column in AWS DLAMI", "body": "<p>I'm running into problems inserting np.arrays into a pandas dataframe column.</p>\n\n<pre><code>x = pd.DataFrame([0,1,2,3])\nx['a'] = x.apply( lambda x : np.zeros(30) ,axis=1)\n</code></pre>\n\n<p>When running this on my local machine, I have no problems and get the proper output</p>\n\n<pre><code>In [6]: x.head()\nOut[6]: \n   0                                                  a\n0  0  [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ...\n1  1  [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ...\n2  2  [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ...\n3  3  [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, ...\n</code></pre>\n\n<p>But when running this on a Deep Learning AMI (Ubuntu) Version 20.0 (ami-0f9e8c4a1305ecd22)</p>\n\n<p>I get the error message</p>\n\n<pre><code>ValueError: Shape of passed values is (4, 30), indices imply (4, 1)\n</code></pre>\n\n<p>Both machines are running Python 3.6.5.  For now my workaround is to stick the arrays in a list.</p>\n\n<pre><code>x['a'] = x.apply( lambda x : [np.zeros(30)] ,axis=1)\n</code></pre>\n\n<p>Why is my code working locally but failing on the AMI instance?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1548281002, "post_id": 54336337, "comment_id": 95490044, "body": "Why don\u2018t you just index the tuples? tuple_list[1][1] for example."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1548281046, "post_id": 54336337, "comment_id": 95490063, "body": "It works exactly how you think. What doesn&#39;t work like you think is changing them. You may want to write a question that illustrates that problem."}], "answers": [{"tags": [], "owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "is_accepted": false, "score": 2, "last_activity_date": 1548281642, "last_edit_date": 1548281642, "creation_date": 1548281077, "answer_id": 54336393, "question_id": 54336337, "link": "https://stackoverflow.com/questions/54336337/position-of-tuple-element-in-the-list/54336393#54336393", "title": "Position of tuple element in the list", "body": "<p>Just use <code>tuple_list[listindex][tupleindex]</code>, where <code>listindex</code> is the location within the list and <code>tupleindex</code> is the location within the tuple. For your example, do this:</p>\n\n<pre><code>loc = tuple_list[1][1]\n</code></pre>\n\n<p>Just be aware that tuples are immutable collections. If you want to change them, you should use lists instead. However, variables with a tuple value can still be reassigned to a new tuple. For example, this is legal:</p>\n\n<pre><code>x = ('a', 'b', 'c')\nx = (1, 2, 3)\n</code></pre>\n\n<p>but this is not:</p>\n\n<pre><code>x = ('a', 'b', 'c')\nx[0] = 1\n</code></pre>\n\n<p>See also: <a href=\"https://www.tutorialspoint.com/python/python_lists_data_structure.htm\" rel=\"nofollow noreferrer\">TutorialsPoint tutorial on lists</a> and <a href=\"https://www.tutorialspoint.com/python/python_tuples_data_structure.htm\" rel=\"nofollow noreferrer\">tuples</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 34, "user_id": 7258443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7a3084f73f9747fdeb6328e2292c66?s=128&d=identicon&r=PG&f=1", "display_name": "deleaf", "link": "https://stackoverflow.com/users/7258443/deleaf"}, "is_accepted": false, "score": 0, "last_activity_date": 1548281094, "creation_date": 1548281094, "answer_id": 54336401, "question_id": 54336337, "link": "https://stackoverflow.com/questions/54336337/position-of-tuple-element-in-the-list/54336401#54336401", "title": "Position of tuple element in the list", "body": "<p>tuples in python can be accessed like arrays, using the index of the element</p>\n"}, {"tags": [], "owner": {"reputation": 423, "user_id": 8206705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be032ba68741f45a5abf1c2c9df8b53?s=128&d=identicon&r=PG&f=1", "display_name": "H. Ross", "link": "https://stackoverflow.com/users/8206705/h-ross"}, "is_accepted": true, "score": 1, "last_activity_date": 1548281197, "creation_date": 1548281197, "answer_id": 54336421, "question_id": 54336337, "link": "https://stackoverflow.com/questions/54336337/position-of-tuple-element-in-the-list/54336421#54336421", "title": "Position of tuple element in the list", "body": "<p>Tuples have indexes same as lists, therefore you can just grab the <code>[0]</code> index of the following tuple in the list.  However, a catch is that tuples cannot be modified, therefore you must generate a new tuple for each assignment.</p>\n\n<p>For example:</p>\n\n<pre><code>tuple_list = [(a, b), (c, d), (e, f), (g, h)]\n\nfor x in range(0, len(tuple_list) - 1): # Go until second to last tuple, because we don't need to modify last tuple\n    tuple_list[x] = (tuple_list[x][0],tuple_list[x+1][0]) # Set tuple at current location to the first element of the current tuple and the first element of the next tuple\n</code></pre>\n\n<p>Will generate the desired result</p>\n"}], "owner": {"reputation": 75, "user_id": 5413675, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/65e329232e522309b53532eed7af3e59?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/5413675/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1824, "favorite_count": 0, "accepted_answer_id": 54336421, "answer_count": 3, "score": 2, "last_activity_date": 1548281642, "creation_date": 1548280787, "question_id": 54336337, "link": "https://stackoverflow.com/questions/54336337/position-of-tuple-element-in-the-list", "title": "Position of tuple element in the list", "body": "<p>I have list of tuples:</p>\n\n<pre><code>tuple_list = [(a, b), (c, d), (e, f), (g, h)]\n</code></pre>\n\n<p>How to get position of second element in tuple in second position of the list for example.</p>\n\n<p>I need it because i want to change this list the way that every second element of tuple equals to first element from next tuple. Like this:</p>\n\n<pre><code>tuple_list = [(a, c), (c, e), (e, g), (g, h)]\n</code></pre>\n"}, {"tags": ["javascript", "python", "md5", "modulo"], "comments": [{"owner": {"reputation": 20977, "user_id": 2518231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ea4d08629a1d5ce591b415bdb5cd365?s=128&d=identicon&r=PG", "display_name": "Matthew Herbst", "link": "https://stackoverflow.com/users/2518231/matthew-herbst"}, "edited": false, "score": 1, "creation_date": 1548280752, "post_id": 54336303, "comment_id": 95489927, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6974625/python-vs-javascript-floating-point-arithmetic-giving-very-different-answers-wh\">Python vs Javascript floating point arithmetic giving very different answers. What am I doing wrong?</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1548280846, "post_id": 54336303, "comment_id": 95489963, "body": "Javascript doesn&#39;t have ints."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1548280957, "post_id": 54336303, "comment_id": 95490014, "body": "Javascript has one or the other surprise when doing calculations."}], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 10958274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b748e9ebcaa940b497dd2122c6ab39d0?s=128&d=identicon&r=PG&f=1", "display_name": "rkumar", "link": "https://stackoverflow.com/users/10958274/rkumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1548281251, "creation_date": 1548281251, "answer_id": 54336431, "question_id": 54336303, "link": "https://stackoverflow.com/questions/54336303/python-vs-javascript-md5-different-for-big-numbers/54336431#54336431", "title": "Python vs Javascript MD5 different for big numbers", "body": "<p>Here is the solution I found, BigInteger can take a hex value directly instead of first converting to an int.</p>\n\n<pre><code>const portHash = BigInteger(\n    crypto\n      .createHash('md5')\n      .update('test-PR-2092')\n      .digest('hex'),\n    16\n  )\n    .mod(10000)\n    .valueOf();\n// 353\n</code></pre>\n\n<p>The answer is now the same as python.</p>\n\n<p>Here is the library: <a href=\"https://www.npmjs.com/package/big-integer\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/big-integer</a></p>\n"}], "owner": {"reputation": 15, "user_id": 10958274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b748e9ebcaa940b497dd2122c6ab39d0?s=128&d=identicon&r=PG&f=1", "display_name": "rkumar", "link": "https://stackoverflow.com/users/10958274/rkumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 54336431, "answer_count": 1, "score": -2, "last_activity_date": 1548281251, "creation_date": 1548280553, "last_edit_date": 1548281161, "question_id": 54336303, "link": "https://stackoverflow.com/questions/54336303/python-vs-javascript-md5-different-for-big-numbers", "title": "Python vs Javascript MD5 different for big numbers", "body": "<p>I have the following code in Python:</p>\n\n<pre><code>port_name = 'test-PR-2092'\nprint int(hashlib.md5(port_name).hexdigest(), 16) % 10000\n// 353\n</code></pre>\n\n<p>In Javascript, I am using the crypto library to try to do the same thing (I do not have control over the python code so I need to keep that the same):</p>\n\n<pre><code>parseInt(\n  crypto\n    .createHash('md5')\n    .update('test-PR-2092')\n    .digest('hex'),\n  16\n) % 10000\n// 4160\n</code></pre>\n\n<p>Javascript yields a much different result.</p>\n\n<p>Looking at the int's, they are very similar except that Javascript is in scientific notation. </p>\n\n<pre><code>Python: 158458604564589336383831436621974090353\nJavascript: 1.5845860456458934e+38\n</code></pre>\n\n<p>Does anyone know where this discrepancy comes from?</p>\n\n<p>Edit: Solved my own problem, and not a duplicate because no one has recommended BigInteger in any question I have seen</p>\n"}, {"tags": ["python", "encryption"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1548281515, "post_id": 54336461, "comment_id": 95490212, "body": "Incidentally, the <code>except KeyError, ValueError</code> syntax on the decryption example is also incorrect. It should be <code>except (KeyError, ValueError)</code>. On Python 2, <code>except KeyError, ValueError</code> catches <code>KeyError</code> and assigns the exception object to <code>ValueError</code>, rather than catching <code>KeyError</code> and <code>ValueError</code>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1548281388, "creation_date": 1548281388, "answer_id": 54336461, "question_id": 54336300, "link": "https://stackoverflow.com/questions/54336300/example-on-aes-ocb-encryption-not-working-properly/54336461#54336461", "title": "Example on AES OCB encryption not working properly", "body": "<p>The SyntaxError has nothing to do with <code>cipher.nonce</code> being undefined. They're using Python 2 syntax in the list comprehension. You need parentheses when performing a list comprehension over a tuple literal in Python 3:</p>\n\n<pre><code>json_v = [b64encode(x).decode('utf-8') for x in (cipher.nonce, header, ciphertext, tag)]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10952848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a663a9b12a8e091e7884cbd91c406d?s=128&d=identicon&r=PG&f=1", "display_name": "Maxbo", "link": "https://stackoverflow.com/users/10952848/maxbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548281388, "creation_date": 1548280510, "question_id": 54336300, "link": "https://stackoverflow.com/questions/54336300/example-on-aes-ocb-encryption-not-working-properly", "title": "Example on AES OCB encryption not working properly", "body": "<p>So I am making a encryption program and was hoping to find some information on AES's OCB mode and the documentation luckily had a example with it only problem is that the example doesn't actually work as intended:</p>\n\n<pre><code>import json\nfrom base64 import b64encode\nfrom Crypto.Cipher import AES\nfrom Crypto.Random import get_random_bytes\n\nheader = b\"header\"\ndata = b\"secret\"\nkey = get_random_bytes(16)\ncipher = AES.new(key, AES.MODE_OCB)\ncipher.update(header)\nciphertext, tag = cipher.encrypt_and_digest(data)\n\njson_k = [ 'nonce', 'header', 'ciphertext', 'tag' ]\njson_v = [ b64encode(x).decode('utf-8') for x in cipher.nonce, header,                                                                                                                                     \nciphertext, tag ]\nresult = json.dumps(dict(zip(json_k, json_v)))\nprint(result)\n</code></pre>\n\n<p>In the line where json_v is getting defined it tells me that \"cipher.nonce\" produces a Invalid Syntax error and I can understand why because it is defined nowhere <strong>so I was hoping that someone here might have a look over this example and fix it into a working example so I can actually understand how I use nonce properly</strong></p>\n\n<p>I will provide a link to the documentation where I found the example it's all the way at the bottom under OCB.</p>\n\n<p><a href=\"https://pycryptodome.readthedocs.io/en/latest/src/cipher/modern.html\" rel=\"nofollow noreferrer\">Link to the documentation</a></p>\n"}, {"tags": ["python", "web", "nginx", "cherrypy"], "comments": [{"owner": {"reputation": 1940, "user_id": 3339758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8Zc.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/3339758/tim"}, "edited": false, "score": 0, "creation_date": 1548290068, "post_id": 54336274, "comment_id": 95492512, "body": "You could try the same deployment on different hardware - like spin up AWS VMs of different size and see if that makes a difference."}], "answers": [{"tags": [], "owner": {"reputation": 5288, "user_id": 298371, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/246eb04589798870601ddf54de87153d?s=128&d=identicon&r=PG", "display_name": "cyraxjoe", "link": "https://stackoverflow.com/users/298371/cyraxjoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1548292470, "creation_date": 1548292470, "answer_id": 54338027, "question_id": 54336274, "link": "https://stackoverflow.com/questions/54336274/python-web-server-benchmarks-lower-than-expected/54338027#54338027", "title": "python web server benchmarks lower than expected", "body": "<p>In addition on what you mentioned, consider the automatic <a href=\"https://rushter.com/blog/python-garbage-collector/\" rel=\"nofollow noreferrer\">python garbage collector</a>.</p>\n\n<p>If you need 500 X 10 request per seconds, then the CherryPy/Cheroot threadpool (10 threads by default) will have a hard time unless you increment the thread pool size and maybe add more CPUs to run more CherryPy daemons.</p>\n\n<p>If you have 4 daemons and the default thread pool, then effectively CherryPy has 4 X 10 = 40 threads that can do work at the same time (ignoring the OS scheduler and the GIL).</p>\n\n<p>For the kind of load that you're describing an async/event based server seems more appropriate. Or you will have to be more <em>smart</em> in your nginx proxy, trying to serve anything static directly from nginx and only some request to reach CherryPy.</p>\n"}], "owner": {"reputation": 768, "user_id": 5543739, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/be7e742aa8ac8a25356e2af2bd276474?s=128&d=identicon&r=PG", "display_name": "susdu", "link": "https://stackoverflow.com/users/5543739/susdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548292470, "creation_date": 1548280371, "question_id": 54336274, "link": "https://stackoverflow.com/questions/54336274/python-web-server-benchmarks-lower-than-expected", "title": "python web server benchmarks lower than expected", "body": "<p>I have a cherrrypy application server that is sitting behind nginx (reverse proxy). Cherrypy is being run as daemon process per core (my server as 4 cores) and nginx (also configured with 4 workers) performs the load balancing on the incoming requests.</p>\n\n<p>I'm benchmarking GETing the front page of my webapp using <a href=\"https://github.com/rakyll/hey\" rel=\"nofollow noreferrer\">hey</a>. For values of 200 concurrent requests and a total of 10k requests, I reach about 400-500 rps. I need to be able to handle at least 10x that. When I look at the histogram:</p>\n\n<pre><code> Response time histogram:\n  0.014 [1] |\n  0.721 [9193]  |\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\u25a0\n  1.429 [693]   |\u25a0\u25a0\u25a0\n  2.137 [13]    |\n  2.844 [0]     |\n  3.552 [88]    |\n  4.259 [0]     |\n  4.967 [0]     |\n  5.674 [0]     |\n  6.382 [0]     |\n  7.089 [12]    |\n</code></pre>\n\n<p>It's very weird that some requests take so long (1.5-7 seconds) to process, considering there isn't any IO operations involved in the main page URL handler, just generating a static template and sending it over.</p>\n\n<p>How can I get an idea about what is my bottleneck, before I go down some rabbit hole of premature optimisation? Is the cherrypy? python itself? my hardware?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "is_accepted": true, "score": 2, "last_activity_date": 1548281527, "creation_date": 1548281527, "answer_id": 54336489, "question_id": 54336250, "link": "https://stackoverflow.com/questions/54336250/how-to-compare-two-dates-from-two-df-without-matching-index/54336489#54336489", "title": "How to compare two dates from two DF without matching index?", "body": "<p>You can do <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.merge.html\" rel=\"nofollow noreferrer\"><code>merge</code></a> :</p>\n\n<pre><code># create a new column \ndf2['Exists'] = True\n\ndf3 = pd.merge(df1,df2,on=['USERID','DATE'],how='outer').fillna(False)\n\n  USERID    DATE    Exists\n0   1   1/1/2018    True\n1   1   1/2/2018    False\n2   1   1/3/2018    False\n3   2   1/2/2018    True\n4   2   1/3/2018    False\n5   3   1/3/2018    True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7448, "user_id": 865883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/93b1d699b8b40616d823e50e096012c2?s=128&d=identicon&r=PG&f=1", "display_name": "funseiki", "link": "https://stackoverflow.com/users/865883/funseiki"}, "is_accepted": false, "score": 0, "last_activity_date": 1548281764, "creation_date": 1548281764, "answer_id": 54336538, "question_id": 54336250, "link": "https://stackoverflow.com/questions/54336250/how-to-compare-two-dates-from-two-df-without-matching-index/54336538#54336538", "title": "How to compare two dates from two DF without matching index?", "body": "<p>Looks like you're trying to do a <a href=\"https://www.w3schools.com/sql/sql_join_left.asp\" rel=\"nofollow noreferrer\">left join</a> and then displaying a new column where <code>df2</code> is null.</p>\n\n<p>Below is an example adapted from <a href=\"https://stackoverflow.com/a/40356825/865883\">this SO answer</a> as well as <a href=\"http://www.learnbymarketing.com/1100/pyspark-joins-by-example/\" rel=\"nofollow noreferrer\">this post</a>:</p>\n\n<pre><code>from pyspark.sql import functions as F\n\n# Alias the columns here, to prevent column name collision\ndf1_alias = df1.alias(\"first\")\ndf2_alias = df2.alias(\"second\")\n\n# Left join on df1.id = df2.id and df1.date = df2.date\nresult = df1_alias.join(df2_alias, (df1_alias.id == df2_alias.id) &amp; (df1_alias.date == df2_alias.date), how='left')\n\n# Create a column called 'exists' and set it to true if there's a value defined for df2\nresult = result.withColumn('exists', F.col(\"second.id\").isNotNull())\n\n# Display just df1 values and the exists column\nresult.select([F.col(\"first.id\"), F.col(\"first.name\"), F.col(\"exists\")]).show()\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 9637684, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IDontKnowAnything", "link": "https://stackoverflow.com/users/9637684/idontknowanything"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 54336489, "answer_count": 2, "score": 0, "last_activity_date": 1548281764, "creation_date": 1548280247, "question_id": 54336250, "link": "https://stackoverflow.com/questions/54336250/how-to-compare-two-dates-from-two-df-without-matching-index", "title": "How to compare two dates from two DF without matching index?", "body": "<pre><code>df1\n  USERID    DATE\n     1       1/1/2018\n     1       1/2/2018\n     1       1/3/2018\n     2       1/2/2018\n     2       1/3/2018\n     3       1/3/2018\n\ndf2\n  USERID    DATE\n     1       1/1/2018        \n     2       1/2/2018         \n     3       1/3/2018\n</code></pre>\n\n<p>I want to compare <code>date</code> from <code>df2</code> to <code>df1</code> that belongs to the same <code>USERID</code> to tell if the row in <code>df1</code> also exists in <code>df2</code></p>\n\n<pre><code>Result:\n  USERID      DATE       Exists\n     1       1/1/2018     True\n     1       1/2/2018     False\n     1       1/3/2018     False\n     2       1/2/2018     True\n     2       1/3/2018     False\n     3       1/3/2018     True\n</code></pre>\n\n<p>I want to do the equivalent of\n<code>np.where((df1['DATE'] == df2['DATE']), True, False)</code>\nbut an error returns right now <code>Can only compare identically-labeled Series objects</code></p>\n"}, {"tags": ["python", "python-3.x", "cassandra", "cql"], "answers": [{"tags": [], "owner": {"reputation": 2724, "user_id": 8356801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec5421f50a55881c10b31846b28511b?s=128&d=identicon&r=PG&f=1", "display_name": "Horia", "link": "https://stackoverflow.com/users/8356801/horia"}, "is_accepted": false, "score": 0, "last_activity_date": 1548307521, "creation_date": 1548307521, "answer_id": 54339856, "question_id": 54336249, "link": "https://stackoverflow.com/questions/54336249/how-do-i-set-caching-for-reading-rows-fast-in-cassandra-using-python/54339856#54339856", "title": "How do I set caching for reading rows fast in Cassandra using python?", "body": "<p>The correct query to run is</p>\n\n<pre><code>create table if not EXISTS my_ks.my_table ( id varchar, version int, row_hash varchar , primary KEY ((version),id)) WITH caching = {'keys': 'NONE'}\n</code></pre>\n\n<p>I recommend to try the query first in cqlsh in order to detect some mismatches, like in this case. The correct syntax for caching is</p>\n\n<pre><code>...WITH caching = {'keys': 'NONE'}\n</code></pre>\n"}], "owner": {"reputation": 723, "user_id": 10060068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f923780617cc48a77ebdcef75182b3e?s=128&d=identicon&r=PG&f=1", "display_name": "aviral sanjay", "link": "https://stackoverflow.com/users/10060068/aviral-sanjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548307521, "creation_date": 1548280217, "question_id": 54336249, "link": "https://stackoverflow.com/questions/54336249/how-do-i-set-caching-for-reading-rows-fast-in-cassandra-using-python", "title": "How do I set caching for reading rows fast in Cassandra using python?", "body": "<p>My code for creating table is:</p>\n\n<pre><code>c_sql = \"CREATE TABLE IF NOT EXISTS {} (id varchar, version int, row_hash varchar, PRIMARY KEY((version), id)) WITH caching ('keys' : 'NONE')\".format(\n            self.table_name\n        )\n</code></pre>\n\n<p>My aim is to decreasing read(select query) time which is currently 100k rows / 20 secs. Hence, I want to have a caching system as suggested in <a href=\"https://stackoverflow.com/a/54317785/10060068\">this answer</a>. However, I could only find one syntax of doing so and it is yielding errors.\nThe error is:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"getting_started.py\", line 420, in &lt;module&gt;\n    example1.create_table_and_set_version('five_hundred_rows')\n  File \"getting_started.py\", line 116, in create_table_and_set_version\n    self.session.execute(c_sql)\n  File \"cassandra/cluster.py\", line 2171, in cassandra.cluster.Session.execute\n  File \"cassandra/cluster.py\", line 4062, in cassandra.cluster.ResponseFuture.result\ncassandra.protocol.SyntaxException: &lt;Error from server: code=2000 [Syntax error in CQL query] message=\"line 1:130 no viable alternative at input '(' (...version), id)) WITH [caching] (...)\"&gt;\n</code></pre>\n"}, {"tags": ["python", "opencv", "openni", "orbbec"], "comments": [{"owner": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 0, "creation_date": 1548286471, "post_id": 54336237, "comment_id": 95491773, "body": "What is the shape and dtype of <code>img</code> right before the <code>cv2.imshow(...)</code>?"}, {"owner": {"reputation": 2275, "user_id": 2393559, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/WXyOv.png?s=128&g=1", "display_name": "Matthias G&#252;ntert", "link": "https://stackoverflow.com/users/2393559/matthias-g%c3%bcntert"}, "reply_to_user": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 0, "creation_date": 1548355576, "post_id": 54336237, "comment_id": 95522029, "body": "Thanks for replying. The shape of <code>img</code> is <code>{tuple} (480, 640, 3)</code> and dtype is <code>{dtype} uint16</code>"}, {"owner": {"reputation": 2275, "user_id": 2393559, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/WXyOv.png?s=128&g=1", "display_name": "Matthias G&#252;ntert", "link": "https://stackoverflow.com/users/2393559/matthias-g%c3%bcntert"}, "reply_to_user": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 0, "creation_date": 1548356412, "post_id": 54336237, "comment_id": 95522384, "body": "I have found the following which may seem related: <a href=\"https://github.com/opencv/opencv/issues/13216\" rel=\"nofollow noreferrer\">github.com/opencv/opencv/issues/13216</a>"}, {"owner": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 1, "creation_date": 1548360203, "post_id": 54336237, "comment_id": 95524066, "body": "Looks like this is the case. I asked, because I tried in my machine (Ubuntu, OpenCV 4.0) with <code>np.uint16</code> and it worked. Maybe Windows build is messed up. Which version are you using? Maybe you should jump into this issue and report the bug if you cannot find the solution over there."}, {"owner": {"reputation": 2275, "user_id": 2393559, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/WXyOv.png?s=128&g=1", "display_name": "Matthias G&#252;ntert", "link": "https://stackoverflow.com/users/2393559/matthias-g%c3%bcntert"}, "reply_to_user": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 0, "creation_date": 1548361422, "post_id": 54336237, "comment_id": 95524604, "body": "Thanks again. Opened up an issue, see my updated question"}, {"owner": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 1, "creation_date": 1548361883, "post_id": 54336237, "comment_id": 95524803, "body": "If I were you, I would see if the error happens when you try to run <code>cv2.imshow(&#39;test&#39;, np.ones((50, 50), dtype=np.uint16)); cv2.waitKey()</code>, because this probably has nothing to do with the <code>openni</code> and adding this requirement on the sample code only decreases the probability of someone testing your code."}, {"owner": {"reputation": 2275, "user_id": 2393559, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/WXyOv.png?s=128&g=1", "display_name": "Matthias G&#252;ntert", "link": "https://stackoverflow.com/users/2393559/matthias-g%c3%bcntert"}, "reply_to_user": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 1, "creation_date": 1548364086, "post_id": 54336237, "comment_id": 95525761, "body": "Yields the same assertion error... so opnni can be ruled out."}, {"owner": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "edited": false, "score": 0, "creation_date": 1548364909, "post_id": 54336237, "comment_id": 95526122, "body": "I recommend you to update the sample code on the issue in order to simplify for those who might be willing to reproduce the error"}], "answers": [{"tags": [], "owner": {"reputation": 5436, "user_id": 3161139, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/EePWR.jpg?s=128&g=1", "display_name": "Antonin GAVREL", "link": "https://stackoverflow.com/users/3161139/antonin-gavrel"}, "is_accepted": false, "score": 0, "last_activity_date": 1585544363, "creation_date": 1585544363, "answer_id": 60924321, "question_id": 54336237, "link": "https://stackoverflow.com/questions/54336237/openni-and-opencv-cv2-imshow-crashes-with-error-215assertion-failed-dst/60924321#60924321", "title": "OpenNI and OpenCV: cv2.imshow() crashes with error: (-215:Assertion failed) dst.data == (uchar*)dst_ptr in function &#39;cvShowImage&#39;", "body": "<p>Have you tried:</p>\n\n<pre><code>frame.get_buffer_as_uint32()\nimg = np.frombuffer(frame_data, dtype=np.uint32)\n</code></pre>\n\n<p>In opencv4 for some reason imshow will not work if you do not use specific dtype</p>\n"}], "owner": {"reputation": 2275, "user_id": 2393559, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/WXyOv.png?s=128&g=1", "display_name": "Matthias G&#252;ntert", "link": "https://stackoverflow.com/users/2393559/matthias-g%c3%bcntert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2522, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1585544363, "creation_date": 1548280154, "last_edit_date": 1548365074, "question_id": 54336237, "link": "https://stackoverflow.com/questions/54336237/openni-and-opencv-cv2-imshow-crashes-with-error-215assertion-failed-dst", "title": "OpenNI and OpenCV: cv2.imshow() crashes with error: (-215:Assertion failed) dst.data == (uchar*)dst_ptr in function &#39;cvShowImage&#39;", "body": "<p>I am trying to receive a depth image from an Orbbec Astra Pro camera connected to a Windows 10 machine. I have therfor installed <code>opencv-python 4.0.0.21</code> and <code>primesense 2.2.0.30.post5</code> which seems to be latest stable python packages available. </p>\n\n<p>This is the code snippet I am experimenting with: </p>\n\n<pre><code>import numpy as np\nimport cv2\nfrom primesense import openni2\nfrom primesense import _openni2 as c_api\n\nopenni2.initialize(\"./OpenNI-Windows-x64-2.3/Redist\")    \n\nif openni2.is_initialized():\n    print('openni2 ready')\nelse:\n    print('openni2 not ready')\n\ndev = openni2.Device.open_any()\n\ndepth_stream = dev.create_depth_stream()\ndepth_stream.set_video_mode(c_api.OniVideoMode(pixelFormat = c_api.OniPixelFormat.ONI_PIXEL_FORMAT_DEPTH_100_UM, resolutionX = 640, resolutionY = 480, fps = 30))\ndepth_stream.start()\n\nwhile(True):\n    frame = depth_stream.read_frame()\n    frame_data = frame.get_buffer_as_uint16()\n    img = np.frombuffer(frame_data, dtype=np.uint16)\n    img.shape = (1, 480, 640)\n    img = np.concatenate((img, img, img), axis=0)\n    img = np.swapaxes(img, 0, 2)\n    img = np.swapaxes(img, 0, 1)\n\n    cv2.imshow(\"image\", img)\n    cv2.waitKey(34)\n\ndepth_stream.stop()\nopenni2.unload()\n</code></pre>\n\n<p>However when <code>cv2.imshow()</code> is getting called I am receiving:</p>\n\n<blockquote>\n  <p>cv2.error: OpenCV(4.0.0)\n  C:\\projects\\opencv-python\\opencv\\modules\\highgui\\src\\window_w32.cpp:1230:\n  error: (-215:Assertion failed) dst.data == (uchar*)dst_ptr in function\n  'cvShowImage'</p>\n</blockquote>\n\n<p>I have no idea on how to convert an OpenNI frame to an OpenCV mat data structure and why <code>cv2.imshow()</code> refuses to show an image. OpenNI seems to correctly initialize, at least it prints <code>openni2 ready</code>... What am I doing wrong here? </p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>This seems to be a bug which I have reported here <a href=\"https://github.com/skvark/opencv-python/issues/167\" rel=\"nofollow noreferrer\">https://github.com/skvark/opencv-python/issues/167</a></p>\n\n<hr>\n\n<p><strong>Solution (kind of)</strong></p>\n\n<p>Downgrading OpenCV version to the latest 3.x release made it work! </p>\n\n<p><code>pip install --upgrade opencv-python==3.4.5.20</code> </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1548280659, "post_id": 54336231, "comment_id": 95489887, "body": "There is no red in your example."}, {"owner": {"reputation": 573, "user_id": 7748514, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Dy0VE.png?s=128&g=1", "display_name": "Liquidity", "link": "https://stackoverflow.com/users/7748514/liquidity"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1548280712, "post_id": 54336231, "comment_id": 95489910, "body": "Oops! Fixed it, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 7748514, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Dy0VE.png?s=128&g=1", "display_name": "Liquidity", "link": "https://stackoverflow.com/users/7748514/liquidity"}, "edited": false, "score": 0, "creation_date": 1548281152, "post_id": 54336334, "comment_id": 95490096, "body": "This works, but could you put in a little more information about the <code>lambda x: &#39;&#47;&#39;.join(sorted(x))</code> portion? I&#39;d like to have a better breakdown of what&#39;s going on so I can apply it elsewhere. :)"}, {"owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "reply_to_user": {"reputation": 573, "user_id": 7748514, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Dy0VE.png?s=128&g=1", "display_name": "Liquidity", "link": "https://stackoverflow.com/users/7748514/liquidity"}, "edited": false, "score": 0, "creation_date": 1548281488, "post_id": 54336334, "comment_id": 95490202, "body": "I have added a bit more explanation on <code>lambda x: &#39;&#47;&#39;.join(sorted(x))</code>, hope that makes sense."}], "tags": [], "owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "is_accepted": true, "score": 1, "last_activity_date": 1548281361, "last_edit_date": 1548281361, "creation_date": 1548280775, "answer_id": 54336334, "question_id": 54336231, "link": "https://stackoverflow.com/questions/54336231/df-groupby-one-column-count-values-in-another-column/54336334#54336334", "title": "df.groupby one column, count values in another column", "body": "<p>You group by <code>'col2'</code> and use <code>'/'.join(sorted(x))</code> to get the possible color combinations. The <code>'/'.join(sorted(x))</code> will take all values in a group, and join them together into one string. So if <code>'black'</code> and <code>'white'</code> are in a group, it will join them together into the string <code>'black/white'</code>. Also, I sort the values so it isn't possible to get <code>'black/white'</code> in one group, and <code>'white/black'</code> in another. This lambda function is applied to each group. Then use <code>Counter</code> to store counts in dictionary.</p>\n\n<pre><code>from collections import Counter\n\nCounter(dftest.groupby('col2')['col1'].apply(lambda x: '/'.join(sorted(x))))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'black/black': 2, 'black/brown': 1, 'green/red': 1}\n</code></pre>\n\n<p>Or alternately, you could use <code>value_counts</code> instead of using <code>Counter</code>. It will output a series:</p>\n\n<pre><code>dftest.groupby('col2')['col1'].apply(lambda x: '/'.join(sorted(x))).value_counts()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>black/black    2\ngreen/red      1\nblack/brown    1\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 7748514, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Dy0VE.png?s=128&g=1", "display_name": "Liquidity", "link": "https://stackoverflow.com/users/7748514/liquidity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "accepted_answer_id": 54336334, "answer_count": 1, "score": 0, "last_activity_date": 1548281887, "creation_date": 1548280130, "last_edit_date": 1548281887, "question_id": 54336231, "link": "https://stackoverflow.com/questions/54336231/df-groupby-one-column-count-values-in-another-column", "title": "df.groupby one column, count values in another column", "body": "<p>I have a dataframe in this format (with many more rows, hundreds of different values in <code>col2</code>):</p>\n\n<pre><code>dftest = pd.DataFrame(\n    {'col1': ['black', 'black', 'brown', 'black', 'green', 'red', 'black', 'black'],\n     'col2': ['cat', 'cat', 'dog', 'dog', 'snake', 'snake', 'bird', 'bird']})\n</code></pre>\n\n<p>I know I can group all the animal entries in <code>col2</code> together with</p>\n\n<pre><code>grouped = dftest.groupby('col2')\n</code></pre>\n\n<p>I want to use <code>grouped</code> df to count the combinations of colors in <code>col1</code>, grouped by the values in <code>col2</code>. </p>\n\n<p>For example, both the <code>cat</code> and <code>bird</code> grouping have <code>black/black</code> in <code>col1</code>, so <code>black/black = 2</code>. Only the snake has <code>red/green</code>, so <code>red/green  = 1</code>. Desired output:</p>\n\n<pre><code>black/black = 2\nblack/brown = 1\ngreen/red = 1\n</code></pre>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1548281721, "post_id": 54336217, "comment_id": 95490286, "body": "This has absolutely nothing do do with Flask. It&#39;s front-end."}, {"owner": {"reputation": 73, "user_id": 10957970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0efd6e9519f1a1e4171996d2b085404a?s=128&d=identicon&r=PG&f=1", "display_name": "ABS2019", "link": "https://stackoverflow.com/users/10957970/abs2019"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1548314444, "post_id": 54336217, "comment_id": 95498440, "body": "Ah ok! I am a naive in this domain, didn&#39;t realize that. Any idea on that direction."}], "owner": {"reputation": 73, "user_id": 10957970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0efd6e9519f1a1e4171996d2b085404a?s=128&d=identicon&r=PG&f=1", "display_name": "ABS2019", "link": "https://stackoverflow.com/users/10957970/abs2019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548280707, "creation_date": 1548280087, "last_edit_date": 1548280707, "question_id": 54336217, "link": "https://stackoverflow.com/questions/54336217/flask-display-dropdowns-based-on-the-selection-on-other-dropdown", "title": "Flask display dropdowns based on the selection on other dropdown", "body": "<p>I am new to flask and honestly don't know where to start for the given problem. I have a dropdown list, when I select the number from the list the program should display other drop down lists. For example, if I choose 1 it will show Option 1: dropdown, and if I choose 2 it will show both Option 1: and Option 2: dropdown (See the picture). There may be other ways to do it, but I need it in Flask.</p>\n\n<p>Picture</p>\n\n<p><img src=\"https://i.stack.imgur.com/nwjkt.png\" alt=\"\"></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 133, "user_id": 3487073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61138b3e0a7edeb1f10129a98a3a3c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Aman", "link": "https://stackoverflow.com/users/3487073/aman"}, "edited": false, "score": 0, "creation_date": 1548280067, "post_id": 54336193, "comment_id": 95489647, "body": "Please provide the content of your Warnings.txt."}, {"owner": {"reputation": 23, "user_id": 9296529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244b8fdadb2adf330d8f7075bb05d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Mooles", "link": "https://stackoverflow.com/users/9296529/mooles"}, "edited": false, "score": 1, "creation_date": 1548280354, "post_id": 54336193, "comment_id": 95489756, "body": "Aight it is a duplicate. I just couldn&#39;t find what I was looking for cheers who ever pointed it out"}], "owner": {"reputation": 23, "user_id": 9296529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2244b8fdadb2adf330d8f7075bb05d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Mooles", "link": "https://stackoverflow.com/users/9296529/mooles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1548281592, "answer_count": 0, "score": 0, "last_activity_date": 1548281556, "creation_date": 1548279971, "last_edit_date": 1548281556, "question_id": 54336193, "link": "https://stackoverflow.com/questions/54336193/why-is-my-for-loop-skipping-over-the-1st-3rd-5th-items-in-my-text-file", "closed_reason": "Duplicate", "title": "Why is my for loop skipping over the 1st, 3rd, 5th items in my text file?", "body": "<p>I'm working on a system that reads in a username and a warnings number from a text file every time the program is launched. My issue is that when I add the the username and warnings to a list with the username and warnings being nested inside I'm met by the list skipping the 1st, 3rd etc items within the text file. Also if anyone can provide a way of removing a comma from someone's username it would be much appreciated! </p>\n\n<pre><code>with open(\"Warnings.txt\", \"r\") as f:\nfor line in f:\n    lineRead = f.readline()\n    print (lineRead)\n    lineRead = lineRead.split()\n    ReadWarnings.append(lineRead)\nprint (ReadWarnings)\nf.close()\n\nOutput\n[['Narod', '2'], []]\nExpected output:\n[['Noxious', '1'], ['Narod', '2'], ['Fred', '1']]\n</code></pre>\n\n<p>EDIT:</p>\n\n<p><code>Warnings.txt contents\n Noxious, 1\n Narod, 2\n Member2, 1</code></p>\n"}, {"tags": ["python", "python-3.x", "discord", "discord.py"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1548285610, "post_id": 54336181, "comment_id": 95491540, "body": "What is <code>My_channels</code>?  Is it a list?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10873241"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1548286662, "post_id": 54336181, "comment_id": 95491818, "body": "Yes <code>My_channels=[]</code>"}], "owner": {"user_type": "does_not_exist", "display_name": "user10873241"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "closed_date": 1548286825, "answer_count": 0, "score": 1, "last_activity_date": 1548286635, "creation_date": 1548279895, "last_edit_date": 1548286635, "question_id": 54336181, "link": "https://stackoverflow.com/questions/54336181/how-to-undo-get-something-on-channel-delete", "closed_reason": "Duplicate", "title": "How to undo `get_something` on channel delete", "body": "<p>So i have this script, when a channel is created, it adds on in <code>My_channels</code> with the <code>get_My_channels</code> on <code>on_channel_create</code>, but i don't know how to remove it from <code>My_channels</code> when a channel with that name is deleted using <code>on_channel_delete</code> so when a message get's sent to that channel, it won't give me an error that it's an unavailable channel</p>\n\n<pre><code>#When channel is created it works\nMy_channels=[]\n@client.event\nasync def on_channel_create(GlobalChat):\n    await get_My_channels() #&lt; That line adds the created channel to My_channels if the channel has the name 'GlobalChat'\n</code></pre>\n\n<h1>But now when channel is deleted is where the error comes</h1>\n\n<pre><code>@client.event\nasync def on_channel_delete(GlobalChat):\n    await \"\"\"This is the part it should remove it from My_channels()\"\"\"\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1548279946, "post_id": 54336136, "comment_id": 95489601, "body": "Please add a small sample input and the corresponding expected output"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "edited": false, "score": 0, "creation_date": 1548294809, "post_id": 54336738, "comment_id": 95493385, "body": "Thanks that worked perfectly! This approach is different than others I have seen so it was helpful and informative."}, {"owner": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "edited": false, "score": 0, "creation_date": 1549325438, "post_id": 54336738, "comment_id": 95854501, "body": "Follow up question. This method made is so that all nan values in a given column were replaced by the same values. Is there a method so that each each row of a column is treated independently and a new random sample is taken to fill each individual nan value?"}], "tags": [], "owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "is_accepted": false, "score": 1, "last_activity_date": 1548282836, "creation_date": 1548282836, "answer_id": 54336738, "question_id": 54336136, "link": "https://stackoverflow.com/questions/54336136/random-number-from-column/54336738#54336738", "title": "Random number from column", "body": "<p>You can do:</p>\n\n<pre><code># sample data\ndf =pd.DataFrame({'a':[1,2,None,18,20,None],\n                  'b': [22,33,44,None,100,32]})\n\n# fill missing with a random value from that column\nfor col in df.columns:\n    df[col].fillna(df[col].dropna().sample().values[0], inplace=True)\n\n      a      b\n0   1.0     22.0\n1   2.0     33.0\n2   20.0    44.0\n3   18.0    100.0\n4   20.0    100.0\n5   20.0    32.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "edited": false, "score": 0, "creation_date": 1548294867, "post_id": 54337976, "comment_id": 95493395, "body": "This worked and it using the same .apply function I was trying to use originally. I was getting errors when trying to iterate through columns using the for loop. Thank you for the insight!"}, {"owner": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "edited": false, "score": 0, "creation_date": 1548295766, "post_id": 54337976, "comment_id": 95493600, "body": "One more question, is &quot;s&quot; referencing data frame df? Will the variable also reference the data frame? For example in:         speeds_df.apply(lambda sp: sp.fillna(0))  Will sp reference data frame speeds_df?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "edited": false, "score": 0, "creation_date": 1548296489, "post_id": 54337976, "comment_id": 95493756, "body": "I&#39;ve used <code>s</code> to stand for &quot;series&quot;, it represents each column, you can choose any letter you like though."}, {"owner": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "edited": false, "score": 0, "creation_date": 1549325444, "post_id": 54337976, "comment_id": 95854504, "body": "Follow up question. This method made is so that all nan values in a given column were replaced by the same values. Is there a method so that each each row of a column is treated independently and a new random sample is taken to fill each individual nan value?"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "edited": false, "score": 0, "creation_date": 1549357020, "post_id": 54337976, "comment_id": 95862879, "body": "@Dee, Probably, but that&#39;s a <a href=\"https://stackoverflow.com/questions/ask\">new question</a> which you should ask separately. If an answer here solves your original problem, do accept it (tick on left) so other users know."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1548291917, "creation_date": 1548291917, "answer_id": 54337976, "question_id": 54336136, "link": "https://stackoverflow.com/questions/54336136/random-number-from-column/54337976#54337976", "title": "Random number from column", "body": "<p>You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html\" rel=\"nofollow noreferrer\"><code>pd.DataFrame.apply</code></a> with <a href=\"https://docs.scipy.org/doc/numpy-1.15.1/reference/generated/numpy.random.choice.html\" rel=\"nofollow noreferrer\"><code>np.random.choice</code></a>:</p>\n\n<pre><code>df = df.apply(lambda s: s.fillna(np.random.choice(s.dropna())))\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6249593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90efe4f99e392e9572893f9b25eabeef?s=128&d=identicon&r=PG&f=1", "display_name": "JustHereChillin", "link": "https://stackoverflow.com/users/6249593/justherechillin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548291917, "creation_date": 1548279721, "last_edit_date": 1548279785, "question_id": 54336136, "link": "https://stackoverflow.com/questions/54336136/random-number-from-column", "title": "Random number from column", "body": "<p>The goal is to fill the nan values in a column with a random number chosen from that same column. </p>\n\n<p>I can do this one column as a time but when iterating through all the columns in the data frame I get a variety of errors. When I use \"random.choice\" I get letters rather than column values.</p>\n\n<pre><code> df1 = df_na\n df2 = df_nan.dropna()\n\n for i in range(5):\n    for j in range(len(df1)):\n        if np.isnan(df1.iloc[j,i]):\n           df1.iloc[j,i] = np.random.choice(df2.columns[i])\n\n df1\n</code></pre>\n\n<p>Any suggestions on how to move forward?</p>\n"}, {"tags": ["python", "email", "automation", "pywin32"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "edited": false, "score": 0, "creation_date": 1548281242, "post_id": 54336417, "comment_id": 95490121, "body": "Thanks but with this function the connection to Outlook doesn t work that&#39;s why I had to use win32."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "edited": false, "score": 0, "creation_date": 1548281252, "post_id": 54336417, "comment_id": 95490125, "body": "if your email code already works, then I would suggest just wrapping it in a function that can easily be called repeatably"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "edited": false, "score": 0, "creation_date": 1548281424, "post_id": 54336417, "comment_id": 95490178, "body": "I believe that smtp for outlook is: <code>smtp-mail.outlook.com</code> and port 587. In case you mistyped it as just &quot;smtp.outlook.com&quot; or something similar"}, {"owner": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "edited": false, "score": 0, "creation_date": 1548282464, "post_id": 54336417, "comment_id": 95490554, "body": "Do you mean by wrapping my current email code, looping in my data frame?"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "edited": false, "score": 0, "creation_date": 1548282714, "post_id": 54336417, "comment_id": 95490633, "body": "I would think you can wrap <code>mail = outlook.CreateItem(0) mail.To = recipients mail.Subject = &#39;Automatic Email &#39; mail.Body = &#39;body&#39; mail.HTMLBody = &#39;Hello, this is a test &lt;&#47;h2&gt;&#39; mail.Send()</code> into a function that takes an e-mail as an argument"}, {"owner": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "edited": false, "score": 0, "creation_date": 1548283672, "post_id": 54336417, "comment_id": 95490932, "body": "Like create a function **send_mail? **"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "edited": false, "score": 0, "creation_date": 1548283817, "post_id": 54336417, "comment_id": 95490968, "body": "yeah that would be the easiest approach in my opinion. I don&#39;t believe you can specify an iterable for the recipient field of an smtp message"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1548281166, "creation_date": 1548281166, "answer_id": 54336417, "question_id": 54336095, "link": "https://stackoverflow.com/questions/54336095/python-email-send-to-multiple-recipients/54336417#54336417", "title": "Python Email Send to Multiple Recipients", "body": "<p>I would make a function to send a message, and then just put a for loop that says <code>for email in email_list: send_email(your_subject, your_message, email)</code></p>\n\n<pre><code>import smtplib\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\n\ndef send_email(subject, message, recipient):\n    smtp_obj = smtplib.SMTP('smtp.mail.yahoo.com', 587)\n    smtp_obj.starttls()\n    smtp_obj.ehlo()\n    smtp_obj.login('your_username_here', 'your_password_here')\n    msg = MIMEMultipart()\n    msg['From'] = 'your_email_here'\n    msg['To'] = recipient\n    msg['Subject'] = subject\n    msg.attach(MIMEText(message, 'plain'))\n    smtp_obj.sendmail(msg['From'], msg['To'], msg.as_string())\n    smtp_obj.quit()\n</code></pre>\n\n<p>this is my function for sending e_mail through yahoo, but it can be adapted by logging into the appropriate smtp server for your provider (I would guess outlook from your code)</p>\n"}], "owner": {"reputation": 5, "user_id": 9170569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f072f7d91c4fa55485c324f2215306e4?s=128&d=identicon&r=PG&f=1", "display_name": "Antoine Legrand", "link": "https://stackoverflow.com/users/9170569/antoine-legrand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1357, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548281166, "creation_date": 1548279567, "question_id": 54336095, "link": "https://stackoverflow.com/questions/54336095/python-email-send-to-multiple-recipients", "title": "Python Email Send to Multiple Recipients", "body": "<p>My code doesn't have a problem. In my list of recipients, I have 10 emails adress. \nDo you know to send an email to every singles address email of this list? </p>\n\n<p>Message error:</p>\n\n<p>pywintypes.com_error: (-2147352567, 'Exception occurred.', (4096, 'Microsoft Out\nlook', 'Outlook does not recognize one or more names. ', None, 0, -2147467259),\nNone)</p>\n\n<pre><code>import win32com.client as win32\nimport pandas as pd\n\nxls = pd.ExcelFile(path)\ndfs = xls.parse(sheet_name=\"details\", header = None)\nrecipients = dfs[21]\n\noutlook = win32.Dispatch('outlook.application')\nmail = outlook.CreateItem(0)\nmail.To = recipients\nmail.Subject = 'Automatic Email '\nmail.Body = 'body'\nmail.HTMLBody = 'Hello, this is a test &lt;/h2&gt;'\nmail.Send()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 10865070, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-t4YZ81RPRmw/AAAAAAAAAAI/AAAAAAAAACU/ghmQ1Rt4fsM/photo.jpg?sz=128", "display_name": "Owen", "link": "https://stackoverflow.com/users/10865070/owen"}, "is_accepted": true, "score": 1, "last_activity_date": 1548282334, "last_edit_date": 1548282334, "creation_date": 1548281332, "answer_id": 54336450, "question_id": 54336065, "link": "https://stackoverflow.com/questions/54336065/how-to-reduce-command-with-replace-and-problems-in-create-function/54336450#54336450", "title": "How to reduce command with .replace and problems in create function", "body": "<p>The function you created (<code>change_columns(df)</code>), looks like it is trying to perform the replace on all the columns.  If this was your intention, you don't need any special function or chained method calls.  All you need is:</p>\n\n<pre><code>dados_trabalho = dados_trabalho.replace({0: \"Sim\", 1 : \"N\u00e3o\"})\n</code></pre>\n\n<p>In order to only replace the 0's and 1's from some of the columns, you will need to tell the function which columns you want to perform the replacement on.  For example:</p>\n\n<pre><code>import pandas\n\ndef change_columns(df, cols):\n    for col_name in cols:\n        df = df.replace({col_name: {0:'yes', 1:'no'}})\n    return df\n\n# create sample data\ndf = pandas.DataFrame([[0, 0, 1, 0, 1, 1], [1, 0, 1, 0, 1, 0]])\nprint('Starting DataFrame:')\nprint(df)\n\n# define columns to do the replacement\ncolumns_to_replace = [0, 2, 3]\n# perform the replacement\ndf = change_columns(df, columns_to_replace)\n\n# see the result\nprint('After processing DataFrame: ')\nprint(df)\n</code></pre>\n\n<p>Running the code above should produce the result:</p>\n\n<pre><code>Starting DataFrame:\n   0  1  2  3  4  5\n0  0  0  1  0  1  1\n1  1  0  1  0  1  0\nAfter processing DataFrame:\n     0  1   2    3  4  5\n0  yes  0  no  yes  1  1\n1   no  0  no  yes  1  0\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10956877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2451542611537081/picture?type=large", "display_name": "Pedro Henrique", "link": "https://stackoverflow.com/users/10956877/pedro-henrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 54336450, "answer_count": 1, "score": 1, "last_activity_date": 1548282334, "creation_date": 1548279470, "last_edit_date": 1548280122, "question_id": 54336065, "link": "https://stackoverflow.com/questions/54336065/how-to-reduce-command-with-replace-and-problems-in-create-function", "title": "How to reduce command with .replace and problems in create function", "body": "<p>I have a dataframe in which I would like to replace the 0, 1 encoding with 'yes' and 'no' in some columns that I've selected. Some df columns have this encoding and so I wrote the following command:</p>\n\n<pre><code>dados_trabalho = dados_trabalho.replace({\"ASSINTOM\": {0: \"Sim\", 1 : \"N\u00e3o\"}}).replace({\"DOR ATIPICA\": {0: \"Sim\", 1 : \"N\u00e3o\"}}).replace({\"IAM\": {0: \"Sim\", 1 : \"N\u00e3o\"}}).replace({\"HAS\": {0: \"Sim\", 1 : \"N\u00e3o\"}}).replace({\"DM\": {0: \"Sim\", 1 : \"N\u00e3o\"}}).replace({\"DISPLIP\": {0: \"Sim\", 1 : \"N\u00e3o\"}}).replace({\"DOR TIPICA\": {0: \"Sim\", 1 : \"N\u00e3o\"}})\n</code></pre>\n\n<p>It runs correctly and replaces the columns identified by the new encoding, but I would like to know if there is a way to summarize this formula so that the script does not get huge.</p>\n\n<p>I tried to create the function:</p>\n\n<pre><code>def change_columns (df):\n    c = df.columns\n    df = df.replace ({c: {0: \"Yes\", 1: \"No\"}})\n</code></pre>\n\n<p>The problem is when I enter the dataframe in this function the following error occurs:</p>\n\n<pre><code>change_columns (df)\n\nTypeError Traceback (most recent call last)\n&lt;ipython-input-141-43eb9316b19b&gt; in &lt;module&gt;\n----&gt; 1 change_columns (df)\n\n&lt;ipython-input-140-9fbbd4e9e293&gt; in change_columns (df)\n      1 def change_columns (df):\n      2 c = df.columns\n----&gt; 3 df = df.replace ({c: {0: \"Yes\", 1: \"No\"}})\n\n/usr/lib/python3/dist-packages/pandas/core/indexes/base.py in __hash __ (self)\n   2060\n   2061 def __hash __ (self):\n-&gt; 2062 raise TypeError (\"unhashable type:% r\"% type (self) .__ name__)\n   2063\n   2064 def __setitem __ (self, key, value):\n\nTypeError: unhashable type: 'Index'\n</code></pre>\n\n<p>I'm starting with Python and so I think I'm forgetting something.</p>\n\n<p>I changed a few things in the code and it worked. But the problem is that it applies the function in all df columns. How do I apply the function only on the columns I want and not for all columns?</p>\n\n<pre><code>def change_columns(df):\n    for i in df.columns:\n        df = df.replace({i: {0: \"Sim\", 1 : \"N\u00e3o\"}})\n    return df\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 6515110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e193c4680357926dfc7ddef10ca51f96?s=128&d=identicon&r=PG&f=1", "display_name": "Statmonger", "link": "https://stackoverflow.com/users/6515110/statmonger"}, "edited": false, "score": 0, "creation_date": 1548357857, "post_id": 54353936, "comment_id": 95523027, "body": "yes! each txt file needs to be in it&#39;s own separate df."}], "tags": [], "owner": {"reputation": 163, "user_id": 1099140, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d58f646e0bd9e9b757b2c879ac006379?s=128&d=identicon&r=PG", "display_name": "krish727", "link": "https://stackoverflow.com/users/1099140/krish727"}, "is_accepted": false, "score": -1, "last_activity_date": 1548357776, "creation_date": 1548357776, "answer_id": 54353936, "question_id": 54336060, "link": "https://stackoverflow.com/questions/54336060/how-can-i-write-a-loop-to-write-multiple-txt-tables-into-their-own-dataframes-in/54353936#54353936", "title": "How can I write a loop to write multiple txt tables into their own dataframes in python?", "body": "<p>I think you are basically asking how to programatically convert the file names with spaces into a variable name with spaces replaced by underscore and put that in a loop for all the files that you are looking to get data frames for, correct ?</p>\n"}], "owner": {"reputation": 329, "user_id": 6515110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e193c4680357926dfc7ddef10ca51f96?s=128&d=identicon&r=PG&f=1", "display_name": "Statmonger", "link": "https://stackoverflow.com/users/6515110/statmonger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571735388, "creation_date": 1548279453, "last_edit_date": 1571735388, "question_id": 54336060, "link": "https://stackoverflow.com/questions/54336060/how-can-i-write-a-loop-to-write-multiple-txt-tables-into-their-own-dataframes-in", "title": "How can I write a loop to write multiple txt tables into their own dataframes in python?", "body": "<p>I would like to essentially turn the following syntax into a loop to go through all the txt files in one folder. I need the df names to be the same as the txt files names except for the spaces need to be turned into _ and the names need to be lower cased. </p>\n\n<pre><code>abilities_file = pd.read_table(path+'Abilities file.txt', delim_whitespace=True, error_bad_lines=False, low_memory=False)\n</code></pre>\n\n<p>This is how I would do it file by file... (which is so ugly) </p>\n\n<pre><code>abilities_file = pd.read_table(path+'Abilities File.txt', delim_whitespace=True, error_bad_lines=False, low_memory=False)\nalternate_titles = pd.read_table(path+'Alternate Titles.txt', delim_whitespace=True, error_bad_lines=False, low_memory=False)\ncareer_changers_matrix = pd.read_table(path+'Career Changers Matrix.txt', delim_whitespace=True, error_bad_lines=False, low_memory=False)\n</code></pre>\n"}, {"tags": ["python", "html", "python-3.x", "web-scraping"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1548280484, "post_id": 54336022, "comment_id": 95489817, "body": "You&#39;re not looking through the source, you&#39;re looking through the DOM. If you want to view the source, right click and select View Page Source (instead of Inspect). The DOM is constructed by JavaScript which Beautiful Soup doesn&#39;t run."}], "answers": [{"comments": [{"owner": {"reputation": 62, "user_id": 10958133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-78QoMXGFaTg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbJH6T8RLHvIuatiHsujk1EnEgEnA/mo/photo.jpg?sz=128", "display_name": "Kyung Lee", "link": "https://stackoverflow.com/users/10958133/kyung-lee"}, "edited": false, "score": 0, "creation_date": 1548280525, "post_id": 54336226, "comment_id": 95489834, "body": "Thanks for the help! How were you able to find the source for the data?"}, {"owner": {"reputation": 16, "user_id": 4778611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e17be8afc7b57e6d895fecbfbc30eb?s=128&d=identicon&r=PG&f=1", "display_name": "webdevtool", "link": "https://stackoverflow.com/users/4778611/webdevtool"}, "reply_to_user": {"reputation": 62, "user_id": 10958133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-78QoMXGFaTg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbJH6T8RLHvIuatiHsujk1EnEgEnA/mo/photo.jpg?sz=128", "display_name": "Kyung Lee", "link": "https://stackoverflow.com/users/10958133/kyung-lee"}, "edited": false, "score": 0, "creation_date": 1548283421, "post_id": 54336226, "comment_id": 95490841, "body": "In Chrome, once you have the developer sidebar open, switch from Elements tab to Network. Then I filtered on XHR (Ajax type requests) and started reading the filenames.   I can&#39;t figure out how to get inline images in comments (maybe image markdown only works in posts and answers?) but here&#39;s a link to a screengrab of the part of the inspector I am talking about: <a href=\"https://pbs.twimg.com/media/DxoU6F_WoAAKkib.jpg:large\" rel=\"nofollow noreferrer\">pbs.twimg.com/media/DxoU6F_WoAAKkib.jpg:large</a>"}], "tags": [], "owner": {"reputation": 16, "user_id": 4778611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e17be8afc7b57e6d895fecbfbc30eb?s=128&d=identicon&r=PG&f=1", "display_name": "webdevtool", "link": "https://stackoverflow.com/users/4778611/webdevtool"}, "is_accepted": true, "score": 0, "last_activity_date": 1548280108, "creation_date": 1548280108, "answer_id": 54336226, "question_id": 54336022, "link": "https://stackoverflow.com/questions/54336022/page-html-source-different-from-the-source-i-see-from-inspect/54336226#54336226", "title": "Page HTML source different from the source I see from &quot;Inspect&quot;", "body": "<p>They are loading that data via Ajax after the empty tbody section of the DOM loads.</p>\n\n<p>What you see in the inspector is the rendered page in RAM as it exists in that moment. </p>\n\n<p>The data itself is loaded from here:\n<a href=\"https://spot-bid-advisor.s3.amazonaws.com/spot-advisor-data.json\" rel=\"nofollow noreferrer\">https://spot-bid-advisor.s3.amazonaws.com/spot-advisor-data.json</a></p>\n\n<p>Maybe that is a safer source anyway, as JSON data is easily parsed, and HTML scrapes are easily broken.</p>\n"}, {"tags": [], "owner": {"reputation": 2209, "user_id": 88056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad4dc48a2044368d6b349c942ef2c4be?s=128&d=identicon&r=PG", "display_name": "Powertieke", "link": "https://stackoverflow.com/users/88056/powertieke"}, "is_accepted": false, "score": 0, "last_activity_date": 1548280624, "last_edit_date": 1548280624, "creation_date": 1548280137, "answer_id": 54336234, "question_id": 54336022, "link": "https://stackoverflow.com/questions/54336022/page-html-source-different-from-the-source-i-see-from-inspect/54336234#54336234", "title": "Page HTML source different from the source I see from &quot;Inspect&quot;", "body": "<p>There is a difference between the source of a page and the effective rendered elements. The default view of the 'inspect' window of Chrome shows you the structure of the page the way it is <strong>at that moment</strong>, after any dom manipulation done by javascripts.</p>\n\n<p>If you click at the 'sources' tab you will see that the source matches what python is downloading.\n<a href=\"https://i.stack.imgur.com/chN9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/chN9Q.png\" alt=\"enter image description here\"></a></p>\n\n<p>The data you are looking for is coming from somewhere else (as user webdevtool suggested). Pulling the json data from there ( <a href=\"https://spot-bid-advisor.s3.amazonaws.com/spot-advisor-data.json\" rel=\"nofollow noreferrer\">https://spot-bid-advisor.s3.amazonaws.com/spot-advisor-data.json</a> ) would probably be more reliable and easier to process.</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 10957692, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fl_BE4G83No/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYySO5InZrduwYIWNR4bAItawJxcg/mo/photo.jpg?sz=128", "display_name": "Katxi Porreta", "link": "https://stackoverflow.com/users/10957692/katxi-porreta"}, "is_accepted": false, "score": 0, "last_activity_date": 1548280925, "creation_date": 1548280925, "answer_id": 54336358, "question_id": 54336022, "link": "https://stackoverflow.com/questions/54336022/page-html-source-different-from-the-source-i-see-from-inspect/54336358#54336358", "title": "Page HTML source different from the source I see from &quot;Inspect&quot;", "body": "<p>that is probably because of some client-side javascript rendering that the BeautifulSoup doesn't execute so the table remains empty.</p>\n\n<p>But I looked up the Network tab in the Chrome Developer Tools and found the data your are trying to scrape. \nyou can download directly the json file from here </p>\n\n<p><a href=\"https://spot-bid-advisor.s3.amazonaws.com/spot-advisor-data.json\" rel=\"nofollow noreferrer\">https://spot-bid-advisor.s3.amazonaws.com/spot-advisor-data.json</a></p>\n"}], "owner": {"reputation": 62, "user_id": 10958133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-78QoMXGFaTg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbJH6T8RLHvIuatiHsujk1EnEgEnA/mo/photo.jpg?sz=128", "display_name": "Kyung Lee", "link": "https://stackoverflow.com/users/10958133/kyung-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 54336226, "answer_count": 3, "score": 1, "last_activity_date": 1548280925, "creation_date": 1548279283, "question_id": 54336022, "link": "https://stackoverflow.com/questions/54336022/page-html-source-different-from-the-source-i-see-from-inspect", "title": "Page HTML source different from the source I see from &quot;Inspect&quot;", "body": "<p>I am trying to scrape the savings over on-demand and frequency of interruption information in the table in <a href=\"https://aws.amazon.com/ec2/spot/instance-advisor/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/ec2/spot/instance-advisor/</a> with Python.</p>\n\n<p>By clicking 'Inspect' on my web browser (I am using Chrome) and looking through the source, I found that all the data in the table is stored between &lt; tbody > and &lt; /tbody > tags.</p>\n\n<p>However, in my code, when I do</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nsource = requests.get('https://aws.amazon.com/ec2/spot/instance-advisor/')\nsoup = BeautifulSoup(source.text, 'lxml')\nprint(soup.prettify())\n</code></pre>\n\n<p>I see that there is nothing in between &lt; tbody > and &lt; /tbody >.</p>\n\n<p>What is causing this difference and how can I download the full contents of the webpage in Python?</p>\n\n<p>Any help would be greatly appreciated! :)</p>\n"}, {"tags": ["python", "setup.py", "pypi"], "owner": {"reputation": 1103, "user_id": 3716533, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8USWA.jpg?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/3716533/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1548282446, "creation_date": 1548279263, "last_edit_date": 1548282446, "question_id": 54336016, "link": "https://stackoverflow.com/questions/54336016/python-setup-py-cant-find-package-in-company-pypi", "title": "python setup.py can&#39;t find package in company pypi", "body": "<p>I'm trying to get <code>python setup.py install</code> and its brethren (<em>not</em> requirements.txt) to find a package in a local company pypi repository run from artifactory.</p>\n\n<p>I've read <a href=\"https://www.python.org/dev/peps/pep-0508/#examples\" rel=\"nofollow noreferrer\">https://www.python.org/dev/peps/pep-0508/#examples</a> and I <em>think</em> what I need is a URL based lookup as described there. (I played a bit with <code>dependency_links</code> before figuring out that it seems that has been removed in favor of the PEP-508 approach.)</p>\n\n<p>I can get to my package in a browser at</p>\n\n<pre><code>http://artifactory.mycompany.com/artifactory/api/pypi/pypi/simple/my_package/\n</code></pre>\n\n<p>and if I use</p>\n\n<pre><code>pip install --index https://artifactory.mycompany.com/artifactory/api/pypi/pypi/simple/ my_package\n</code></pre>\n\n<p>(or if I set <code>index-url</code> in ~/.pip/pip.conf) it installs successfully.</p>\n\n<p>But I can't figure out a working syntax in the <code>install_requires</code> list for <code>setup.py</code>.</p>\n\n<p>I <em>think</em> it should be something like</p>\n\n<pre><code>my_package@https://artifactory.mycompany.com/artifactory/api/pypi/pypi/simple/\nmy_package@https://artifactory.mycompany.com/artifactory/api/pypi/pypi/simple/my_package\nmy_package@https://artifactory.mycompany.com/artifactory/api/pypi/pypi/simple/my_package/some-wheel-or-something.n.m.o\n</code></pre>\n\n<p>Help?</p>\n"}, {"tags": ["java", "python", "pycharm"], "answers": [{"tags": [], "owner": {"reputation": 6179, "user_id": 1691980, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/979c4577100103dc214bf0b1a9da657d?s=128&d=identicon&r=PG", "display_name": "Bruno Caceiro", "link": "https://stackoverflow.com/users/1691980/bruno-caceiro"}, "is_accepted": false, "score": 0, "last_activity_date": 1548279863, "creation_date": 1548279863, "answer_id": 54336170, "question_id": 54335966, "link": "https://stackoverflow.com/questions/54335966/how-can-i-solve-the-launching-error-that-appers-after-the-installation-of-pychar/54336170#54336170", "title": "How can i solve the launching error that appers after the installation of pycharm?", "body": "<p>From the <a href=\"https://www.jetbrains.com/help/pycharm/install-and-set-up-pycharm.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n\n<blockquote>\n  <p>JRE for 32-bit systems is not bundled with PyCharm. If you are using a\n  32-bit version of Windows, select the Download and install JRE x86 by\n  Jetbrains checkbox in the installation wizard to automatically\n  download and install JRE.</p>\n</blockquote>\n\n<p>So, when installing in the Wizard you have to specify to download Java JREx86</p>\n"}], "owner": {"reputation": 11, "user_id": 10958140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd54b98604c8a7ce30ffd517edd9bf5d?s=128&d=identicon&r=PG&f=1", "display_name": "JonnyJoe", "link": "https://stackoverflow.com/users/10958140/jonnyjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548279863, "creation_date": 1548279067, "question_id": 54335966, "link": "https://stackoverflow.com/questions/54335966/how-can-i-solve-the-launching-error-that-appers-after-the-installation-of-pychar", "title": "How can i solve the launching error that appers after the installation of pycharm?", "body": "<p>i have a problem, when i'm trying to run pycharm it appears a lunching Error:</p>\n\n<p>\" Failed to load JVM DLL\\ bin\\server\\jvm.dll\nIf you already have a 32-bit JDK installed, define a JAVA_HOME variable in.   Computer > System Properties > System settings > Enviroment Variables. \"</p>\n\n<p>Problem is that i don't have any JDK installed on my computer and as far as i know it's not required to have it to install pycharm...\n(I have a 32bit windows 7)</p>\n"}, {"tags": ["python", "django", "python-3.x", "pycharm", "yaml"], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 9200210, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6GRxmrow0mw/AAAAAAAAAAI/AAAAAAAAAlE/QXdBsCoix78/photo.jpg?sz=128", "display_name": "Arne Huang", "link": "https://stackoverflow.com/users/9200210/arne-huang"}, "is_accepted": true, "score": 2, "last_activity_date": 1548279133, "creation_date": 1548279133, "answer_id": 54335989, "question_id": 54335953, "link": "https://stackoverflow.com/questions/54335953/how-do-i-install-the-yaml-package-for-my-pycharm-python-project/54335989#54335989", "title": "How do I install the yaml package for my PyCharm Python project?", "body": "<p>I think you're looking for pyyaml</p>\n\n<p><a href=\"https://pypi.org/project/PyYAML/\" rel=\"nofollow noreferrer\">https://pypi.org/project/PyYAML/</a></p>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 9412271, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-q-BdxXJ3D04/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oEWEgUy3gZ-AOXhRvLfGZBRWctQA/mo/photo.jpg?sz=128", "display_name": "Aman Raheja", "link": "https://stackoverflow.com/users/9412271/aman-raheja"}, "is_accepted": false, "score": 0, "last_activity_date": 1582203275, "creation_date": 1582203275, "answer_id": 60320438, "question_id": 54335953, "link": "https://stackoverflow.com/questions/54335953/how-do-i-install-the-yaml-package-for-my-pycharm-python-project/60320438#60320438", "title": "How do I install the yaml package for my PyCharm Python project?", "body": "<p>If you want to install any module through Pycharm not terminal. Refer the screenshot for this:-</p>\n\n<p><a href=\"https://i.stack.imgur.com/F2eDH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2eDH.png\" alt=\"For example, you need to install numpy\"></a></p>\n"}], "owner": {"reputation": 16802, "user_id": 1235929, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/9f460ae7deb6fa19034c810a53b9fbac?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/1235929/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4314, "favorite_count": 0, "accepted_answer_id": 54335989, "answer_count": 2, "score": 0, "last_activity_date": 1582203275, "creation_date": 1548279001, "question_id": 54335953, "link": "https://stackoverflow.com/questions/54335953/how-do-i-install-the-yaml-package-for-my-pycharm-python-project", "title": "How do I install the yaml package for my PyCharm Python project?", "body": "<p>I'm using PyCharm 2018.2.4 with Python 3.7.  I want to run some seed data so in the Python management console, I tried running my yaml file, which ended in this error</p>\n\n<pre><code>manage.py@mainpage_project &gt; loaddata seed_data\nbash -cl \"/Users/davea/Documents/workspace/mainpage_project/venv/bin/python /Applications/PyCharm.app/Contents/helpers/pycharm/django_manage.py loaddata seed_data /Users/davea/Documents/workspace/mainpage_project\"\nTracking file by folder pattern:  migrations\n/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/psycopg2/__init__.py:144: UserWarning: The psycopg2 wheel package will be renamed from release 2.8; in order to keep installing from binary please use \"pip install psycopg2-binary\" instead. For details see: &lt;http://initd.org/psycopg/docs/install.html#binary-install-from-pypi&gt;.\n  \"\"\")\nTraceback (most recent call last):\n  File \"/Applications/PyCharm.app/Contents/helpers/pycharm/django_manage.py\", line 52, in &lt;module&gt;\n    run_command()\n  File \"/Applications/PyCharm.app/Contents/helpers/pycharm/django_manage.py\", line 46, in run_command\n    run_module(manage_file, None, '__main__', True)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py\", line 205, in run_module\n    return _run_module_code(code, init_globals, run_name, mod_spec)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py\", line 96, in _run_module_code\n    mod_name, mod_spec, pkg_name, script_name)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/Users/davea/Documents/workspace/mainpage_project/manage.py\", line 15, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/management/__init__.py\", line 381, in execute_from_command_line\n    utility.execute()\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/management/__init__.py\", line 375, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/management/base.py\", line 316, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/management/base.py\", line 353, in execute\n    output = self.handle(*args, **options)\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/management/commands/loaddata.py\", line 72, in handle\n    self.loaddata(fixture_labels)\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/management/commands/loaddata.py\", line 113, in loaddata\n    self.load_label(fixture_label)\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/management/commands/loaddata.py\", line 165, in load_label\n    ser_fmt, fixture, using=self.using, ignorenonexistent=self.ignore,\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/serializers/__init__.py\", line 140, in deserialize\n    return d(stream_or_string, **options)\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/serializers/__init__.py\", line 50, in __call__\n    raise self.exception\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/serializers/__init__.py\", line 70, in register_serializer\n    module = importlib.import_module(serializer_module)\n  File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/importlib/__init__.py\", line 127, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 1006, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 983, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 967, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 677, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 728, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 219, in _call_with_frames_removed\n  File \"/Users/davea/Documents/workspace/mainpage_project/venv/lib/python3.7/site-packages/django/core/serializers/pyyaml.py\", line 11, in &lt;module&gt;\n    import yaml\nModuleNotFoundError: No module named 'yaml'\n\nso then I opened up my Project Interpreter page, selected the \"yaml\" module and clicked \"Install\".  However it didn't install and instead gave me this error ...\n</code></pre>\n\n<p>Collecting yaml</p>\n\n<pre><code>  Could not find a version that satisfies the requirement yaml (from versions: )\nNo matching distribution found for yaml\n</code></pre>\n\n<p>How do I install Yaml for PyCharm?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1548279316, "post_id": 54335885, "comment_id": 95489330, "body": "That appears to be the border of <code>self.canvas</code> (which is not shown in the code you posted), being partially overlapped by the Labels.  I&#39;m not sure why you even have a <code>self.canvas</code>, as nothing Canvas-like is being done with it - it might as well be a Frame."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1548280695, "post_id": 54335885, "comment_id": 95489905, "body": "Sounds related: <a href=\"https://stackoverflow.com/questions/30457568/white-border-around-label-with-an-image\">White border around Label with an image?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1548283316, "creation_date": 1548283316, "answer_id": 54336809, "question_id": 54335885, "link": "https://stackoverflow.com/questions/54335885/what-causes-this-white-border-around-tkinter-label-widgets/54336809#54336809", "title": "What causes this white border around tkinter label widgets?", "body": "<p>There isn't enough code in your question for others to run it, so I added my own and was able to reproduce the problem after a lot of trial and error. I think the border is being caused by not specify <code>borderwidth=0, highlightthickness=0</code> everywhere it's needed, so I added it around the <code>Frame</code> subclass and the main <code>Canvas</code> it contains.</p>\n\n<p>Here's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LH0w2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LH0w2.png\" alt=\"screenshot of script running with no white border shown\"></a></p>\n\n<p>And here's the code used:</p>\n\n<pre><code>from tkinter import *\n\n\nclass Foo(Frame):\n    def __init__(self, *args):\n        super(Foo, self).__init__(*args, bg='#727272', borderwidth=0,\n                                  highlightthickness=0)\n        self.pack()\n        self.canvas = Canvas(self, borderwidth=0, bg='#727272', highlightthickness=0)\n        self.canvas.pack()\n        self.letters = list('ABCDEFHI')\n        self.size = 768\n        self.colour1 = '#7C1900'\n        self.colour2 = '#FFDFC4'\n\n    def createGrid(self):\n        colour = True\n        self.grid_list = []\n        for rows in range(8):\n            label = Label(self.canvas, text='{}'.format(rows+1), bg='#727272',\n                          highlightthickness=0)\n            label.grid(row=rows, column=0)\n            row_list = []\n            self.grid_list.append(row_list)\n            colour = not colour\n            for columns in range(8):\n                label = Label(self.canvas, text='{}'.format(self.letters[columns]),\n                              bg='#727272', fg='white', highlightthickness=0, height=2)\n                label.grid(row=8, column=columns+1)\n                if colour:\n                    grid_piece = Canvas(self.canvas, width=self.size / 8,\n                                        height=self.size / 8, bg=self.colour1,\n                                        highlightthickness=0,\n                                        highlightbackground='#727272')\n                    grid_piece.grid(row=rows, column=columns+1, padx=0, pady=0)\n                else:\n                    grid_piece = Canvas(self.canvas, width=self.size / 8,\n                                        height=self.size / 8, bg=self.colour2,\n                                        highlightthickness=0)\n                    grid_piece.grid(row=rows, column=columns+1)\n                colour = not colour\n                row_list.append(grid_piece)\n\nroot = Tk()\nfoo = Foo()\nfoo.createGrid()\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10775249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df44d72f32421398660ff08fc8b6ca97?s=128&d=identicon&r=PG&f=1", "display_name": "SpicyAnt", "link": "https://stackoverflow.com/users/10775249/spicyant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548283316, "creation_date": 1548278720, "last_edit_date": 1548278771, "question_id": 54335885, "link": "https://stackoverflow.com/questions/54335885/what-causes-this-white-border-around-tkinter-label-widgets", "title": "What causes this white border around tkinter label widgets?", "body": "<p>I am creating a chess board and after creating Canvas widgets for each of the chess board pieces. I have put labels around the board however the show up with this weird white border than i have no idea how to remove. </p>\n\n<pre><code>def createGrid(self):\n    colour = True\n    self.grid_list = []\n    for rows in range(8):\n        label = Label(self.canvas, text='{}'.format(rows+1), bg='#727272', highlightthickness=0)\n        label.grid(row=rows, column=0)\n        row_list = []\n        self.grid_list.append(row_list)\n        colour = not colour\n        for columns in range(8):\n            label = Label(self.canvas, text='{}'.format(self.letters[columns]), bg='#727272',\n                          fg='white', highlightthickness=0, height = 2)\n            label.grid(row=8, column=columns+1)\n            if colour:\n                grid_piece = Canvas(self.canvas, width=self.size / 8, height=self.size / 8, bg=self.colour1,\n                                    highlightthickness=0, highlightbackground='#727272')\n                grid_piece.grid(row=rows, column=columns+1, padx = 0, pady = 0)\n            else:\n                grid_piece = Canvas(self.canvas, width=self.size / 8, height=self.size / 8, bg=self.colour2,\n                                    highlightthickness = 0)\n                grid_piece.grid(row=rows, column=columns+1)\n            colour = not colour\n            row_list.append(grid_piece)\n</code></pre>\n\n<p>Board with weird borders</p>\n\n<p><img src=\"https://i.stack.imgur.com/KPzj2.png\" alt=\"\"></p>\n"}, {"tags": ["python", "windows", "bash", "shell", "ubuntu"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1548278853, "post_id": 54335876, "comment_id": 95489111, "body": "Use the <a href=\"https://docs.python.org/3/library/subprocess.html\" rel=\"nofollow noreferrer\">subprocess module</a>. If you run into difficulty, post another question showing the code you tried."}, {"owner": {"reputation": 14931, "user_id": 624869, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d253a59ca9d41509957700a5e277c93d?s=128&d=identicon&r=PG", "display_name": "JDS", "link": "https://stackoverflow.com/users/624869/jds"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1548279116, "post_id": 54335876, "comment_id": 95489239, "body": "Would appreciate a quick answer with the syntax to get this going, thanks"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1548280432, "post_id": 54335876, "comment_id": 95489788, "body": "Run <code>sys.executable</code> if it should be locked into the current version or virtual environment. Otherwise if it should use some other version or installation of Python, add a shebang to the script and, in Unix, make it executable via <code>chmod +x my_side_script.py</code>. Then you can run it directly. In Windows you&#39;ll either have to explicitly run the script using py.exe (if 3.x is installed) or python.exe, or use <code>shell=True</code> to have CMD run it using the .py file association. The py.exe launcher supports Windows paths in shebangs as well as virtual Unix paths (e.g. <code>#!&#47;usr&#47;bin&#47;python</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 14931, "user_id": 624869, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d253a59ca9d41509957700a5e277c93d?s=128&d=identicon&r=PG", "display_name": "JDS", "link": "https://stackoverflow.com/users/624869/jds"}, "edited": false, "score": 0, "creation_date": 1548279927, "post_id": 54336146, "comment_id": 95489595, "body": "I&#39;m looking to literally call &quot;python2 my_side_script.py --options asdf&quot; from within my main.py python script. How can this be done?"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 2, "creation_date": 1548281115, "post_id": 54336146, "comment_id": 95490085, "body": "Note that the OP needs Windows support as well, which has no <code>python2</code> command. I don&#39;t know if all Unix (Linux, BSD, macOS, etc) systems even have <code>python2</code>. Anyway, to use the current Python interpreter in Windows, run &quot;python.exe&quot; (it&#39;s in the application directory, which is always checked first). More generally, use an executable script with a shebang, and on Windows run it with <code>shell=True</code> (and hope, a lot of hope)."}, {"owner": {"reputation": 14931, "user_id": 624869, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d253a59ca9d41509957700a5e277c93d?s=128&d=identicon&r=PG", "display_name": "JDS", "link": "https://stackoverflow.com/users/624869/jds"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1548281505, "post_id": 54336146, "comment_id": 95490208, "body": "@eryksun sounds good. I can do a quick if check to see if windows or not."}, {"owner": {"reputation": 1306, "user_id": 8539533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meFoo.jpg?s=128&g=1", "display_name": "khuynh", "link": "https://stackoverflow.com/users/8539533/khuynh"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1548281518, "post_id": 54336146, "comment_id": 95490214, "body": "right, @eryksun. This solution assumes that OP&#39;s path is setup to include his desired python interpreter and should work on both windows and ubuntu. making his script an executable is also an option if OP doesn&#39;t want to add <code>python2</code> to the path."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1548281814, "post_id": 54336146, "comment_id": 95490313, "body": "@khuynh, subprocess uses <code>CreateProcess</code> in Windows. When searching for an executable the application directory is <i>always</i> checked first, so python.exe (or just <code>python</code>, since CreateProcess will add &quot;.EXE&quot; for us) for the current interpreter can always be found in Windows, even if <code>PATH</code> is empty. In Unix it depends on <code>PATH</code>, but Unix dumps most commands in one or two directories, so it&#39;s not an issue."}, {"owner": {"reputation": 1306, "user_id": 8539533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meFoo.jpg?s=128&g=1", "display_name": "khuynh", "link": "https://stackoverflow.com/users/8539533/khuynh"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1548282116, "post_id": 54336146, "comment_id": 95490428, "body": "thanks @eryksun, I didn&#39;t know that. I&#39;ll update my answer to include this info when I get a chance to test with windows."}], "tags": [], "owner": {"reputation": 1306, "user_id": 8539533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meFoo.jpg?s=128&g=1", "display_name": "khuynh", "link": "https://stackoverflow.com/users/8539533/khuynh"}, "is_accepted": true, "score": 3, "last_activity_date": 1548280775, "last_edit_date": 1548280775, "creation_date": 1548279775, "answer_id": 54336146, "question_id": 54335876, "link": "https://stackoverflow.com/questions/54335876/from-python-script-how-to-run-other-python-script/54336146#54336146", "title": "From Python script how to run other Python script?", "body": "<p>You could import the script in your main file.</p>\n\n<p>Suppose you have two files: myscript.py and main.py</p>\n\n<pre><code># myscript.py\nprint('this is my script!')\n</code></pre>\n\n<pre><code># main.py\nprint('this is my main file')\nimport myscript\nprint('end')\n</code></pre>\n\n<p>The output if you run <code>main.py</code> would be:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>this is my main file\nthis is my script\nend\n</code></pre>\n\n<p><strong>EDIT:</strong> If you literally just want to call <code>python2 my_side_script.py --options asdf</code>, you could use the <code>subprocess</code> python module:</p>\n\n<pre><code>import subprocess\n\nstdout = subprocess.check_output(['python2', 'my_side_script.py', '--options', 'asdf'])\n\nprint(stdout)      # will print any output from your sidescript\n</code></pre>\n"}], "owner": {"reputation": 14931, "user_id": 624869, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d253a59ca9d41509957700a5e277c93d?s=128&d=identicon&r=PG", "display_name": "JDS", "link": "https://stackoverflow.com/users/624869/jds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 54336146, "answer_count": 1, "score": 0, "last_activity_date": 1605918469, "creation_date": 1548278683, "last_edit_date": 1605918469, "question_id": 54335876, "link": "https://stackoverflow.com/questions/54335876/from-python-script-how-to-run-other-python-script", "title": "From Python script how to run other Python script?", "body": "<p>In my main Python script, I want to call another python script to run, as follows:</p>\n<p><code>python2 ~/script_location/my_side_script.py \\ --input-dir folder1/in_folder \\ --output-dir folder1/out_folder/ \\ --image-ext jpg \\</code></p>\n<p>From inside my Python script, how exactly can I do this?</p>\n<p>I will be using both Windows and Ubuntu, but primarily the latter. Ideally would like to be able to do on both.</p>\n"}, {"tags": ["python", "string", "performance", "bioinformatics", "biopython"], "comments": [{"owner": {"reputation": 348, "user_id": 4499795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb1f069e2b69ae9cdb8216ab6b7e9fe?s=128&d=identicon&r=PG&f=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/4499795/louis"}, "edited": false, "score": 0, "creation_date": 1548279738, "post_id": 54335869, "comment_id": 95489512, "body": "Have you try string.count()? It returns the number of (non-overlapping) occurrences of substring."}], "answers": [{"tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": false, "score": 2, "last_activity_date": 1548279721, "creation_date": 1548279721, "answer_id": 54336135, "question_id": 54335869, "link": "https://stackoverflow.com/questions/54335869/fastest-way-to-count-instances-of-substrings-in-string-python3-6/54336135#54336135", "title": "Fastest way to count instances of substrings in string Python3.6", "body": "<p>Of course Python is fully able to perform these string searches. But instead of re-inventing all the wheels you will need, one screw at a time, you would be better of using a more specialized tool inside Python to deal with your problem - it looks like the BioPython project is the most activelly maintained and complete to deal with this sort of problem.</p>\n\n<p>Short post with an example resembling your problem:\n<a href=\"https://dodona.ugent.be/nl/exercises/1377336647/\" rel=\"nofollow noreferrer\">https://dodona.ugent.be/nl/exercises/1377336647/</a></p>\n\n<p>Link to the BioPython project documentation: <a href=\"https://biopython.org/wiki/Documentation\" rel=\"nofollow noreferrer\">https://biopython.org/wiki/Documentation</a></p>\n\n<p>(if the problem were simply overlapping strings, then the 3rd party \"regex\" module would be a way to go - <a href=\"https://pypi.org/project/regex/\" rel=\"nofollow noreferrer\">https://pypi.org/project/regex/</a> - as the built-in regex engine in Python's <code>re</code> module can't deal with overlapping sequence either)</p>\n"}, {"comments": [{"owner": {"reputation": 174, "user_id": 10958093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EPASDnRpi7o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZyiOkfp3ziX8Lbgbaz2V8fp8vohA/mo/photo.jpg?sz=128", "display_name": "DanStu", "link": "https://stackoverflow.com/users/10958093/danstu"}, "edited": false, "score": 0, "creation_date": 1548304113, "post_id": 54336244, "comment_id": 95495229, "body": "Great, thanks for the suggestion! I hadn&#39;t looked into Biopython yet, but that&#39;s exactly what I was looking for."}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1548339070, "post_id": 54336244, "comment_id": 95512529, "body": "Actually, once you are using extensions such as BioPython, performance is alright - what you can do is the algorithmic kernel in pure Python."}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "reply_to_user": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 1, "creation_date": 1548339454, "post_id": 54336244, "comment_id": 95512807, "body": "@jsbueno I wrote the Biopython implementation, it is pure Python, decent and useful I hope- my point is this is slow compared to say C- obvious I know, but method developers doing serious large scale k-mer analyses like this normally wouldn&#39;t choose Python for this (but it depends on their exact use case of course)"}, {"owner": {"reputation": 174, "user_id": 10958093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EPASDnRpi7o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZyiOkfp3ziX8Lbgbaz2V8fp8vohA/mo/photo.jpg?sz=128", "display_name": "DanStu", "link": "https://stackoverflow.com/users/10958093/danstu"}, "edited": false, "score": 2, "creation_date": 1548361355, "post_id": 54336244, "comment_id": 95524570, "body": "@Chris_Rands your code is certainly useful - it gets me above 100kb/s (compared to roughly 100kb/min before) when using 6-mers, which is more than fast enough for my purposes since I&#39;m not working with eukaryotic sequences."}], "tags": [], "owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "is_accepted": true, "score": 7, "last_activity_date": 1548280194, "creation_date": 1548280194, "answer_id": 54336244, "question_id": 54335869, "link": "https://stackoverflow.com/questions/54335869/fastest-way-to-count-instances-of-substrings-in-string-python3-6/54336244#54336244", "title": "Fastest way to count instances of substrings in string Python3.6", "body": "<p>For counting overlapping substrings of DNA, you can use Biopython:</p>\n\n<pre><code>&gt;&gt;&gt; from Bio.Seq import Seq\n&gt;&gt;&gt; Seq('AAA').count_overlap('AA')\n2\n</code></pre>\n\n<p>Disclaimer: I wrote this method, see commit <a href=\"https://github.com/biopython/biopython/commit/97709cc7a4b8591e794b442796d41e4f7b855a0f\" rel=\"noreferrer\"><code>97709cc</code></a>.</p>\n\n<p>However, if you're looking for really high performance, Python probably isn't the right language choice (although an extension like Cython could help).</p>\n"}], "owner": {"reputation": 174, "user_id": 10958093, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EPASDnRpi7o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZyiOkfp3ziX8Lbgbaz2V8fp8vohA/mo/photo.jpg?sz=128", "display_name": "DanStu", "link": "https://stackoverflow.com/users/10958093/danstu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 1, "accepted_answer_id": 54336244, "answer_count": 2, "score": 4, "last_activity_date": 1548436374, "creation_date": 1548278647, "last_edit_date": 1548436374, "question_id": 54335869, "link": "https://stackoverflow.com/questions/54335869/fastest-way-to-count-instances-of-substrings-in-string-python3-6", "title": "Fastest way to count instances of substrings in string Python3.6", "body": "<p>I have been working on a program which requires the counting of sub-strings (up to 4000 sub-strings of 2-6 characters located in a list) inside a main string (~400,000 characters). I understand this is similar to the question asked at <a href=\"https://stackoverflow.com/questions/27307631/counting-sub-strings-in-a-string\">Counting substrings in a string</a>, however, this solution does not work for me. Since my sub-strings are DNA sequences, many of my sub-strings are repetitive instances of a single character (e.g. 'AA'); therefore, 'AAA' will be interpreted as a single instance of 'AA' rather than two instances if i split the string by 'AA'. My current solution is using nested loops, but I'm hoping there is a faster way as this code takes 5+ minutes for a single main string. Thanks in advance!</p>\n\n<pre><code>def getKmers(self, kmer):\n    self.kmer_dict = {}\n    kmer_tuples = list(product(['A', 'C', 'G', 'T'], repeat = kmer))\n    kmer_list = []\n    for x in range(len(kmer_tuples)):\n        new_kmer = ''\n        for y in range(kmer):\n            new_kmer += kmer_tuples[x][y]\n        kmer_list.append(new_kmer)\n    for x in range(len(kmer_list)):\n        self.kmer_dict[kmer_list[x]] = 0\n    for x in range(len(self.sequence)-kmer):\n        for substr in kmer_list:\n            if self.sequence[x:x+kmer] == substr:\n                self.kmer_dict[substr] += 1\n                break\n    return self.kmer_dict\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1548279525, "post_id": 54335862, "comment_id": 95489424, "body": "<code>df.groupby([&#39;col1&#39;,&#39;col2&#39;]).agg(lambda x:x.value_counts().index[0])</code>"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1548279752, "post_id": 54335862, "comment_id": 95489520, "body": "<a href=\"https://stackoverflow.com/questions/16330831/most-efficient-way-to-find-mode-in-numpy-array\" title=\"most efficient way to find mode in numpy array\">stackoverflow.com/questions/16330831/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 520, "user_id": 2715948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c94d8d5c4cbd9ea054863e91009a09?s=128&d=identicon&r=PG&f=1", "display_name": "fuwiak", "link": "https://stackoverflow.com/users/2715948/fuwiak"}, "is_accepted": false, "score": 0, "last_activity_date": 1548279030, "creation_date": 1548279030, "answer_id": 54335955, "question_id": 54335862, "link": "https://stackoverflow.com/questions/54335862/is-there-any-aggregate-list-function-for-categorical-data-in-python/54335955#54335955", "title": "Is there any aggregate list function for categorical data in python", "body": "<pre><code>import pandas as pd\n\ndf = pd.DataFrame(data=yours_dataset)\ndf.describe() # top, frequency etc, max, min etc\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10621151, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b4YELSTnFRM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDt1Jw2tjcx5ITHyV_y2M3SOqer8Q/mo/photo.jpg?sz=128", "display_name": "FK IE", "link": "https://stackoverflow.com/users/10621151/fk-ie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1548281235, "creation_date": 1548278635, "last_edit_date": 1548281235, "question_id": 54335862, "link": "https://stackoverflow.com/questions/54335862/is-there-any-aggregate-list-function-for-categorical-data-in-python", "title": "Is there any aggregate list function for categorical data in python", "body": "<p>I have a dataset with a lot of categorical data. I'm trying to reshape my dataframe by using groupby and pivot_table.I have find a list of aggregated function for numerical values such as:</p>\n\n<pre><code>'count','mean','max', 'sum'\n</code></pre>\n\n<p>I wanted to know if there is any equivalent for categorical values (<code>Top, frequency</code> etc). expect using the function <code>.describe()</code></p>\n"}, {"tags": ["python", "postgresql", "orm", "sqlalchemy", "flask-sqlalchemy"], "owner": {"reputation": 9858, "user_id": 973380, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/b760f503c84d1bf47322f401066c753f?s=128&d=identicon&r=PG", "display_name": "fiatjaf", "link": "https://stackoverflow.com/users/973380/fiatjaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1548577694, "creation_date": 1548278565, "last_edit_date": 1548577694, "question_id": 54335848, "link": "https://stackoverflow.com/questions/54335848/how-can-i-declare-a-postgres-function-on-sqlalchemy", "title": "How can I declare a Postgres function on SQLAlchemy?", "body": "<p>I'm using Flask-SQLAlchemy and I have table/models structured like </p>\n\n<pre><code>class TableName (db.Model):\n    columnname = db.Column(db.String)\n</code></pre>\n\n<p>How can I insert a Postgres custom function there so SQLAlchemy knows about it?</p>\n\n<p>I mean a function like</p>\n\n<pre><code>create function canonicalize (text) returns text as $$\n  select $1;\n$$ language sql;\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 1181, "user_id": 8628758, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WOsKE.jpg?s=128&g=1", "display_name": "James Dellinger", "link": "https://stackoverflow.com/users/8628758/james-dellinger"}, "is_accepted": true, "score": 0, "last_activity_date": 1548313358, "last_edit_date": 1548313358, "creation_date": 1548312544, "answer_id": 54340826, "question_id": 54335846, "link": "https://stackoverflow.com/questions/54335846/dataframe-manipulation-using-iterrows-with-a-subset/54340826#54340826", "title": "dataframe manipulation using iterrows with a subset", "body": "<p>It looks like your algorithm is attempting to calculate the rolling sums of <code>Initial amount</code> for each <code>ID</code>, and then calculate the value of each row for <code>new_output</code> in part based on how an <code>ID</code>'s current period <code>Balance</code> compares to previous period's rolling balance for that same <code>ID</code>.</p>\n\n<p>If we start with your sample dataframe:</p>\n\n<pre><code>df = pd.DataFrame(\n{\"ID\" : [1,1,1,2,3,3,3],\n \"Initial amount\": [7650,25500,56395,13000,10700,12000,27000],\n\"Balance\": [43388,43388,43388,2617,19250,19250,19250], \"desired_output\": [7650,25500,10238,2617,10720,8530,0]})\n</code></pre>\n\n<p>We'll need to first create temporary columns to store ID counts (what you referred to above as <code>len(subset)</code>) and then the rolling balance for each ID.</p>\n\n<pre><code>val_cts = pd.DataFrame(df['ID'].value_counts().reset_index().rename({'ID': 'ID Count', 'index': 'ID'}, axis=1))\ndf = df.merge(val_cts, left_on='ID', right_on='ID')\ndf['rolling_balance'] = df.groupby(['ID'])['Initial amount'].cumsum()\n</code></pre>\n\n<p>We'll also create a column to contain the <code>new_output</code>: </p>\n\n<p><code>df['new_output'] = 0</code></p>\n\n<p>At this point the <code>df</code> looks like this:</p>\n\n<pre><code>    ID  Initial amount  Balance desired_output  ID Count    rolling_balance   new_output\n0   1   7650            43388             7650         3               7650            0\n1   1   25500           43388            25500         3              33150            0\n2   1   56395           43388            10238         3              89545            0\n3   2   13000            2617             2617         1              13000            0\n4   3   10700           19250            10720         3              10700            0\n5   3   12000           19250             8530         3              22700            0\n6   3   27000           19250                0         3              49700            0\n</code></pre>\n\n<p>Now for the meat: I wrote a function which I believe encapsulates the algorithm you were trying to implement with your if-statements:</p>\n\n<pre><code>def calc_output(count, init_amt, bal, cur_roll_bal, prev_roll_bal):\n    if count == 1:\n        return init_amt if bal &gt; init_amt else bal\n    else:\n        if bal &gt; init_amt:\n            return init_amt if bal &gt; cur_roll_bal else bal - prev_roll_bal\n        else:\n            return bal-prev_roll_bal if bal-prev_roll_bal &gt; 0 else 0\n</code></pre>\n\n<p>Apply the above algorithm to each row:</p>\n\n<pre><code>for i,row in df.iterrows():\n    # Make sure not at first row belonging to an 'ID'\n    if i &gt; 0 and df.iloc[i-1]['ID'] == row['ID']:\n        prev_idx = i-1\n    else:\n        prev_idx = i\n    row['new_output'] = calc_output(row['ID Count'], row['Initial amount'], row['Balance'], row['rolling_balance'], df.iloc[prev_idx]['rolling_balance'])\n</code></pre>\n\n<p>Then drop the columns we used in our calculation: <code>df = df.drop(['ID Count', 'rolling_balance'], axis=1)</code></p>\n\n<p>Then the dataframe looks like this:</p>\n\n<pre><code>    ID  Initial amount  Balance  desired_output  new_output\n0   1             7650    43388            7650        7650\n1   1            25500    43388           25500       25500\n2   1            56395    43388           10238       10238\n3   2            13000     2617            2617        2617\n4   3            10700    19250           10720       10700\n5   3            12000    19250            8530        8550\n6   3            27000    19250               0           0\n</code></pre>\n\n<p>My <code>new_output</code> value in the 4th row is 20 less, and the <code>new_output</code> value in the 5th row is 20 greater than their corresponding <code>desired_output</code> values, but I'm hoping that this is due to the fact that those values were initially incorrectly entered into your example dataframe above.</p>\n"}], "owner": {"reputation": 267, "user_id": 10883088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbcbf023e01013155c3c1c3c5bc77ea?s=128&d=identicon&r=PG&f=1", "display_name": "dko512", "link": "https://stackoverflow.com/users/10883088/dko512"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 54340826, "answer_count": 1, "score": 0, "last_activity_date": 1548313358, "creation_date": 1548278557, "last_edit_date": 1548307031, "question_id": 54335846, "link": "https://stackoverflow.com/questions/54335846/dataframe-manipulation-using-iterrows-with-a-subset", "title": "dataframe manipulation using iterrows with a subset", "body": "<p>I'm trying to manipulate this dataframe given their ID's,initial amount and  balance, \nthis is my desired dataframe, with desired_output being the the column i make:</p>\n\n<pre><code>df = pd.DataFrame(\n{\"ID\" : [1,1,1,2,3,3,3],\n \"Initial amount\": [7650,25500,56395,13000,10700,12000,27000],\n\"Balance\": [43388,43388,43388,2617,19250,19250,19250], \"desired_output\": [7650,25500,10238,2617,10720,8530,0]})\n</code></pre>\n\n<p>This is my current code:</p>\n\n<pre><code>unique_ids = list(df[\"ID\"].unique())\nnew_output = []\nfor i,row in df.iterrows():\n    this_adv = row[\"ID\"]\n    subset = df.loc[df[\"ID\"] == this_adv,:]\n    if len(subset) == 1:\n        this_output = np.where(row[\"Balance\"] &gt;= row[\"Initial amount\"], row[\"Initial amount\"], row[\"Balance\"])\n        new_output.append(this_output)\n    else:\n        if len(subset) &gt;= 1:\n            if len(subset) == 1:\n                this_output = np.where(row[\"Balance\"] &gt;= row[\"Initial amount\"], row[\"Initial amount\"], row[\"Balance\"])\n                new_output.append(this_output)\n            elif row[\"Balance\"] - sum(new_output) &gt;= row[\"Initial amount\"]:\n                this_output = row[\"Initial amount\"]\n                new_output.append(this_output)\n            else:\n                this_output = row[\"Balance\"] - sum(new_output)\n                new_output.append(this_output)\n\nnew_df = pd.DataFrame({\"new_output\" : new_output})\nfinal_df = pd.concat([df,new_df], axis = 1)\n</code></pre>\n\n<p>Essentially what I want to do is if there is only 1 unique ID (len(subset) == 1) then use the first if statement.  Anything else that has more than 1 ID  (len(subset) >= 1) use the other if statements.  I'm not getting the output that I want, how would you guys approach this?</p>\n\n<p>Thanks! any suggestions are appreciated.</p>\n"}, {"tags": ["python", "machine-learning", "deep-learning", "computer-vision", "conv-neural-network"], "answers": [{"comments": [{"owner": {"reputation": 1034, "user_id": 920085, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iRByx.jpg?s=128&g=1", "display_name": "krinker", "link": "https://stackoverflow.com/users/920085/krinker"}, "edited": false, "score": 0, "creation_date": 1548341736, "post_id": 54336183, "comment_id": 95514143, "body": "Thank you for the link! I will have to review some of the mentioned research to see if I can make it work for my problem. From the first glance, I might be able to tune Visual and Textual Question Answering approach for my purpose... we shall see. :)"}], "tags": [], "owner": {"reputation": 769, "user_id": 1650630, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/kjCDJ.jpg?s=128&g=1", "display_name": "Adria Ciurana", "link": "https://stackoverflow.com/users/1650630/adria-ciurana"}, "is_accepted": false, "score": 1, "last_activity_date": 1548279911, "creation_date": 1548279911, "answer_id": 54336183, "question_id": 54335799, "link": "https://stackoverflow.com/questions/54335799/adding-text-search-to-content-based-image-retrieval-convnet/54336183#54336183", "title": "Adding text search to content based image retrieval (convnet)", "body": "<p>I have not found the original paper, but maybe you might find it interesting: <a href=\"https://www.slideshare.net/xavigiro/multimodal-deep-learning-d4l4-deep-learning-for-speech-and-language-upc-2017\" rel=\"nofollow noreferrer\">https://www.slideshare.net/xavigiro/multimodal-deep-learning-d4l4-deep-learning-for-speech-and-language-upc-2017</a></p>\n\n<p>It is about looking for a vector space where both images and text are (multimodal embedding). In this way you can find text similar to a images, images referring to a text, or use the tuple text / image to find similar images.</p>\n\n<p>I think maybe this idea is an interesting point to start from.</p>\n"}], "owner": {"reputation": 1034, "user_id": 920085, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/iRByx.jpg?s=128&g=1", "display_name": "krinker", "link": "https://stackoverflow.com/users/920085/krinker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548279911, "creation_date": 1548278335, "question_id": 54335799, "link": "https://stackoverflow.com/questions/54335799/adding-text-search-to-content-based-image-retrieval-convnet", "title": "Adding text search to content based image retrieval (convnet)", "body": "<p>I've implemented CBIR app by using standard ConvNet approach:</p>\n\n<ol>\n<li>Use Transfer Learning to extract features from the data set of images</li>\n<li>Cluster extracted features via knn</li>\n<li>Given search image, extract its features</li>\n<li>Give top 10 images that are close to the image in hand in knn network</li>\n</ol>\n\n<p>I am getting good results, but I want to further improve them by adding text search as well. For instance, when my image is the steering wheel of the car, the close results will be any circular objects that resemble a steering wheel for instance bike wheel. What would be the best possible way to input text say \"car part\" to produce only steering wheels similar to the search image.</p>\n\n<p>I am unable to find a good way to combine ConvNet with text search model to construct improved knn network.</p>\n\n<p>My other idea is to use ElasticSearch in order to do text search, something that ElasticSearch is good at. For instance, I would do a CBIR search described previously and out of the return results, I can look up their description and then use ElasticSearch on the subset of the hits to produce the results. Maybe tag images with classes and allow user to de/select groups of images of interest.</p>\n\n<p>I don't want to do text search before image search as some of the images are poorly described so text search would miss them.</p>\n\n<p>Any thoughts or ideas will be appreciated!</p>\n"}, {"tags": ["python", "scipy", "gamma-function"], "answers": [{"comments": [{"owner": {"reputation": 629, "user_id": 6037395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBV3X.jpg?s=128&g=1", "display_name": "zyy", "link": "https://stackoverflow.com/users/6037395/zyy"}, "edited": false, "score": 0, "creation_date": 1548279649, "post_id": 54335974, "comment_id": 95489473, "body": "It works great! The only thing is, how do I make sure the function <code>beta</code> is returning imaginary with <code>j</code> instead of <code>I</code>? It seems hard to manipulate the result."}, {"owner": {"reputation": 142, "user_id": 10923857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34d0bbd201d9b8aa373fb7209aa646?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas B.", "link": "https://stackoverflow.com/users/10923857/jonas-b"}, "reply_to_user": {"reputation": 629, "user_id": 6037395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBV3X.jpg?s=128&g=1", "display_name": "zyy", "link": "https://stackoverflow.com/users/6037395/zyy"}, "edited": false, "score": 1, "creation_date": 1548279809, "post_id": 54335974, "comment_id": 95489541, "body": "simple: cast to str via <code>s = str(beta..))</code> and do a <code>s.replace(&quot;I&quot;, &quot;j&quot;)</code>. Dirty but works. Alternatively just <code>complex(beta(...))</code> this converts to python complex type."}], "tags": [], "owner": {"reputation": 142, "user_id": 10923857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c34d0bbd201d9b8aa373fb7209aa646?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas B.", "link": "https://stackoverflow.com/users/10923857/jonas-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1548279090, "creation_date": 1548279090, "answer_id": 54335974, "question_id": 54335790, "link": "https://stackoverflow.com/questions/54335790/how-do-i-get-the-value-of-gamma-function-in-python-for-large-complex-argument/54335974#54335974", "title": "How do I get the value of gamma function in Python for large complex argument?", "body": "<p>I don't know about scipy, but you could use <a href=\"https://sympy.org/\" rel=\"nofollow noreferrer\">sympy</a> for the evaluation of the beta function. It supports complex arguments. <a href=\"https://docs.sympy.org/latest/modules/functions/special.html#sympy.functions.special.beta_functions.beta\" rel=\"nofollow noreferrer\">This</a> documentation might help you with that.</p>\n\n<p>So your code would roughly look like this if I understood you correctly:</p>\n\n<pre><code>from sympy.functions.special.beta_functions import beta\nimport numpy\nradius = 165\nphi = (3.0 * numpy.pi) / 4.0\nn = 1.9 + numpy.exp(phi * 1j) * radius\n\nprint(beta(n, 0.5))\n</code></pre>\n\n<p><strong>>>> 0.0534468376932947 - 0.127743871500741*I</strong></p>\n"}], "owner": {"reputation": 629, "user_id": 6037395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBV3X.jpg?s=128&g=1", "display_name": "zyy", "link": "https://stackoverflow.com/users/6037395/zyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 54335974, "answer_count": 1, "score": 1, "last_activity_date": 1555372042, "creation_date": 1548278283, "last_edit_date": 1555372042, "question_id": 54335790, "link": "https://stackoverflow.com/questions/54335790/how-do-i-get-the-value-of-gamma-function-in-python-for-large-complex-argument", "title": "How do I get the value of gamma function in Python for large complex argument?", "body": "<p>I am trying to compute the value of <em>Beta</em> function for complex argument. The method <code>scipy.special.beta</code> does not accept complex argument, so I defined instead</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>beta = lambda a, b: (gamma(a) * gamma(b)) / gamma(a + b)\n</code></pre>\n\n<p>It works fine for small values, however, for large values, it would return <code>nan</code>. So I digged into the behaviour of <em>Gamma</em> function</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from scipy.special import gamma\nimport numpy\nradius = 165\nphi = (3.0 * numpy.pi) / 4.0\nn = 1.9 + numpy.exp(phi * 1j) * radius\nprint gamma(n)\n</code></pre>\n\n<p>A <code>0j</code> will be returned and clearly the value is too small to be printed.</p>\n\n<p>However, though the value of the <em>Gamma</em> function is super small, the value of the corresponding <em>Beta</em> function is not quite. So it still makes sense to do the calculation. But I could not figure out a way.</p>\n\n<p>I tried <code>math.gamma</code>, but it would not accept complex argument. I tried the method provided in this <a href=\"https://stackoverflow.com/a/32507888/6037395\">answer</a>, it would return <code>-0j</code> for</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>n = 1.9 + numpy.exp(phi * 1j) * radius\nnumpy.exp(numpy.log(gamma(n)) + numpy.log(gamma(0.5)) - numpy.log(gamma(n + 0.5)))\n</code></pre>\n\n<p>where I was trying to compute <em>beta(n, 0.5)</em>.</p>\n\n<p>Could someone please help me on this issue? Thanks in advance!</p>\n"}, {"tags": ["python", "virtualenv", "python-venv"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1548279107, "post_id": 54335764, "comment_id": 95489236, "body": "&quot;because in general developers include a lot of foreign files or code or libraries to not reinvent the wheel&quot; - the fact that your code uses the contents of the venv doesn&#39;t mean you should <i>physically insert</i> your code into the venv. You&#39;ve used plenty of things without physically inserting yourself into them, haven&#39;t you?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1548279393, "post_id": 54335764, "comment_id": 95489368, "body": "The virtual environment folder is analogous to <code>&#47;usr&#47;lib&#47;python</code>; it stores files that are imported by, but not <i>part</i> of, your code. You don&#39;t store your project files in <code>&#47;usr&#47;lib&#47;python</code>; don&#39;t store them in your virtual environment either. Also: why put the venv folder under source control? It&#39;s a derived artifact, created as necessary from something like <code>requirements.txt</code> which <i>can</i> (and should) be under source control."}], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 4133384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a494b3542eab71d190b1adf204c4f64?s=128&d=identicon&r=PG&f=1", "display_name": "evilive", "link": "https://stackoverflow.com/users/4133384/evilive"}, "edited": false, "score": 1, "creation_date": 1548365817, "post_id": 54335904, "comment_id": 95526482, "body": "Thanks, the argument with &quot;non purely python packages&quot; got me somehow ;) And I even wanted to take a closer look at docker anyway :)"}], "tags": [], "owner": {"reputation": 461, "user_id": 4356506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8368ff96dbdb44928059bc3ce89b0c55?s=128&d=identicon&r=PG", "display_name": "0e1val", "link": "https://stackoverflow.com/users/4356506/0e1val"}, "is_accepted": true, "score": 2, "last_activity_date": 1548278791, "creation_date": 1548278791, "answer_id": 54335904, "question_id": 54335764, "link": "https://stackoverflow.com/questions/54335764/why-shouldnt-i-place-my-project-files-within-my-venv-folder/54335904#54335904", "title": "Why shouldn&#39;t I place my project files within my venv folder?", "body": "<p>code that your code depends on(which is not necessarily python by the way, many packages actually wrap c and c++ code) is sometimes built differently for different hardware and operating systems, once a package is installed it means that it was built for a specific runtime and the environment is bound to the type of system it was installed on.</p>\n\n<p>if you want to \"freeze\" the state of your application dependencies, a best practice is to use a <a href=\"https://pip.pypa.io/en/stable/user_guide/#requirements-files\" rel=\"nofollow noreferrer\">requirements</a> file which easily enables dependency resolution.\nAdditionally, you can enforce usage of <a href=\"https://stackoverflow.com/questions/1093322/how-do-i-check-what-version-of-python-is-running-my-script\">specific python interpreters</a></p>\n\n<p>if you want to ship an application with assurance it will operate exactly the same way on different systems, I suggest looking at <a href=\"https://www.docker.com/resources/what-container\" rel=\"nofollow noreferrer\">containers</a></p>\n"}], "owner": {"reputation": 858, "user_id": 4133384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a494b3542eab71d190b1adf204c4f64?s=128&d=identicon&r=PG&f=1", "display_name": "evilive", "link": "https://stackoverflow.com/users/4133384/evilive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1804, "favorite_count": 0, "closed_date": 1548319104, "accepted_answer_id": 54335904, "answer_count": 1, "score": 2, "last_activity_date": 1548278791, "creation_date": 1548278140, "last_edit_date": 1548278703, "question_id": 54335764, "link": "https://stackoverflow.com/questions/54335764/why-shouldnt-i-place-my-project-files-within-my-venv-folder", "closed_reason": "Opinion-based", "title": "Why shouldn&#39;t I place my project files within my venv folder?", "body": "<p>the most common answer to this Question <a href=\"https://stackoverflow.com/questions/51499950/where-do-i-put-my-python-files-in-the-venv-folder\">Where do I put my python files in the venv folder?</a> says, that you shouldn't place your own files within the venv directory. </p>\n\n<p>The strongest argument is just not to mix up your own files with foreign files, which is quite weird, because in general developers include a lot of foreign files or code or libraries to not reinvent the wheel. So I think this isn't a real good point.</p>\n\n<p>The other argument is </p>\n\n<blockquote>\n  <p>It provides an isolated environment wherein you can download a different version of python packages and run it for your project. Hence, do not put anything inside your virtual environment. Keep it clean.</p>\n</blockquote>\n\n<p>I think it is on the contrary the <em>best</em> thing to put your code within the venv:</p>\n\n<ul>\n<li>I create my venvs with <code>--copies</code>, so my venv-dir physically contains all the stuff, which is needed to run my actual project code. A python installation is not <em>that</em> big at all.</li>\n<li>The venv contains <em>exactly</em> the packages (be it downloaded, or self-written general packaged code) in <em>exactly</em> the testet applicable version for the actual project code. Which might or might not fit to other project code as well, but this doesn't matter because everything is just there/optimized/installed for <em>this</em> project.</li>\n<li>The whole venv directory is under version control, so i might basically uninstall a package even via subversion instead of pip.</li>\n<li>I could even deploy the whole venv including the project code via svn to another machine (if its \"similar enough\" of course...) and directly have all i need in one place.</li>\n</ul>\n\n<p>Finally the main argument: My project code will only ever run if the specific venv is loaded, because the general installation doesn't \"know\" the installed packages within.  </p>\n\n<p>So: What is so bad about a <code>source</code> folder within my venv folder if the project code can't run without it anyway?</p>\n"}, {"tags": ["python", "flask", "bcrypt"], "comments": [{"owner": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 0, "creation_date": 1548278448, "post_id": 54335757, "comment_id": 95488936, "body": "Try returning the value of both <code>bcrypt.hashpw(password, hashed)</code> and <code>(hashed)</code> and see their difference. In <code>signup()</code>, where do you generate the hash?"}, {"owner": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 0, "creation_date": 1548280646, "post_id": 54335757, "comment_id": 95489884, "body": "Does it actually fail and return &quot;no&quot;? Have you checked that it doesn&#39;t return an Exception-message? I tried running your code by generating the hash with <code>hashed = bcrypt.hashpw(password.encode(&#39;utf8&#39;), bcrypt.gensalt())</code>, and it works."}, {"owner": {"reputation": 225, "user_id": 9779317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566cb300673802c8e3c3c59a178305d5?s=128&d=identicon&r=PG&f=1", "display_name": "kentonpalmer", "link": "https://stackoverflow.com/users/9779317/kentonpalmer"}, "reply_to_user": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 0, "creation_date": 1548281678, "post_id": 54335757, "comment_id": 95490271, "body": "Hi thanks a ton for the reply. I did run it just by taking URL and entering it on safari, and I do get the return message &#39;no&#39;. The return of crypt.hashpw(password, hashed) is : &quot;b&#39;$2b$12$oD607B1ej5qXM/mFcPVdueoNoOExCqr.NF7FOvVCHQ9ZhBTh1K&zwnj;&#8203;qwu&#39;&quot; and the return for just hashed is &quot;b&#39;$2b$12$oD607B1ej5qXM/mFcPVdueX8R5zeWNfL39d2oNPuoM3KdUfP8M&zwnj;&#8203;cvO&#39;&quot;"}, {"owner": {"reputation": 225, "user_id": 9779317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566cb300673802c8e3c3c59a178305d5?s=128&d=identicon&r=PG&f=1", "display_name": "kentonpalmer", "link": "https://stackoverflow.com/users/9779317/kentonpalmer"}, "reply_to_user": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 0, "creation_date": 1548282022, "post_id": 54335757, "comment_id": 95490391, "body": "so (hashed) is right as it just returns the database hash, but for some reason the crypt.hashpw isn&#39;t working right, the password I enter is proper, so I&#39;m wondering if changing the format of the password is what is causing this with str() and .encode()"}, {"owner": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 0, "creation_date": 1548283412, "post_id": 54335757, "comment_id": 95490839, "body": "Yes, try verifying that the password is sent and handled exactly the same way in the two methods. Also, you insert into the DB regardless if the user already exists. Perhaps ensure you don&#39;t have another user with the same username, but different password (clear the DB perhaps?). A debugger might be of more help otherwise."}, {"owner": {"reputation": 225, "user_id": 9779317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566cb300673802c8e3c3c59a178305d5?s=128&d=identicon&r=PG&f=1", "display_name": "kentonpalmer", "link": "https://stackoverflow.com/users/9779317/kentonpalmer"}, "reply_to_user": {"reputation": 1256, "user_id": 3717691, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e31f2eebcaa93d53b27abaf149df957?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe", "link": "https://stackoverflow.com/users/3717691/jeppe"}, "edited": false, "score": 1, "creation_date": 1548285726, "post_id": 54335757, "comment_id": 95491572, "body": "thanks a lot I found out that it wasn&#39;t the code that was wrong it was that I was calling the URL with fetch in react native and inserting data differently than the way I was calling the hash URL to check passwords. For my trials I set the data with react, then tested the hash over a URL in safari. When I switched both to react native it worked, so you were right it was an error with making sure the password was send and handled the exact same way. Thank you!"}], "owner": {"reputation": 225, "user_id": 9779317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566cb300673802c8e3c3c59a178305d5?s=128&d=identicon&r=PG&f=1", "display_name": "kentonpalmer", "link": "https://stackoverflow.com/users/9779317/kentonpalmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 503, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548285915, "creation_date": 1548278094, "last_edit_date": 1548285915, "question_id": 54335757, "link": "https://stackoverflow.com/questions/54335757/why-does-bcrypt-keep-failing-with-mysql-and-how-do-i-retrieve-the-hash", "title": "Why does Bcrypt keep failing with MySQL, and how do I retrieve the hash?", "body": "<p>I am trying to take a password from React Native into Flask via URL and then insert it into MySQL. I then retrieve it from DB and test it against the password. I've tried every combination of making the hash and password strings and encoded utf8 but I only ever get false, please let me know what's wrong. </p>\n\n<p>my get password method that hashes and inserts into DB</p>\n\n<pre><code>@app.route('/signup', methods=['GET'])\ndef signup():\n    password = str(request.args.get('password')).encode('utf8')\n    username = str(request.args.get('username')).encode('utf8')\n        c.execute(\"\"\"INSERT INTO profiles \n                      (username, password\n                           )\n                      VALUES \n                      (%s, %s)\"\"\", ## gender true==male &amp;&amp; false==female\n                      (username, hashed\n                       )\n                    )\n        con.commit()\n</code></pre>\n\n<p>I get a row in mysql looking like this (varchar256)</p>\n\n<pre><code>+--------------------------------------------------------------+\n| password                                                     |\n+--------------------------------------------------------------+\n| $2b$12$oD607B1ej5qXM/mFcPVdueX8R5zeWNfL39d2oNPuoM3KdUfP8McvO |\n+--------------------------------------------------------------+\n</code></pre>\n\n<p>my retrieve password method</p>\n\n<pre><code>@app.route('/check_hash', methods=['GET'])\ndef check_hash():\n\n    try:\n        username = request.args.get('username')   \n        password = str(request.args.get('password')).encode(\"utf8\")\n\n        c.execute('select password from profiles where userID = ' + '\"'          + str(username) +'\"')\n\n        hashed = (c.fetchone()[0]).encode('utf8')\n\n        if bcrypt.hashpw(password, hashed) == (hashed):          \n            return json.dumps('success')\n        else:        \n            return json.dumps('no')\n\n    except Exception as e:\n        return str(e)\n</code></pre>\n\n<p>Failed every time with false when expected is true</p>\n"}, {"tags": ["python", "python-3.x", "keyword"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1548278623, "post_id": 54335750, "comment_id": 95489015, "body": "And this is why <code>AttributeDict</code> is usually <a href=\"https://stackoverflow.com/questions/16279212/how-to-use-dot-notation-for-dict-in-python/16279578#comment23318936_16279450\">a bad idea</a>. They&#39;re smearing the lines between &quot;data&quot; and &quot;code&quot;."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1548280278, "post_id": 54335750, "comment_id": 95489727, "body": "Instance and class attributes are subject to the same naming conventions as variables.  In a sense, variables are attributes of the module."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 10866491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4834106769de6e19bd5bdd605b4241e?s=128&d=identicon&r=PG&f=1", "display_name": "python_crypto_questions", "link": "https://stackoverflow.com/users/10866491/python-crypto-questions"}, "edited": false, "score": 0, "creation_date": 1548278672, "post_id": 54335803, "comment_id": 95489032, "body": "Is it typically recommended to use indexing everywhere in the program?"}, {"owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "reply_to_user": {"reputation": 171, "user_id": 10866491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4834106769de6e19bd5bdd605b4241e?s=128&d=identicon&r=PG&f=1", "display_name": "python_crypto_questions", "link": "https://stackoverflow.com/users/10866491/python-crypto-questions"}, "edited": false, "score": 0, "creation_date": 1548280915, "post_id": 54335803, "comment_id": 95489996, "body": "@python_crypto_questions it&#39;s not recommended to give attributes the same name as keywords in the first place. It&#39;s recommended to just use the <code>obj.attribute</code> syntax."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1548278349, "creation_date": 1548278349, "answer_id": 54335803, "question_id": 54335750, "link": "https://stackoverflow.com/questions/54335750/how-can-i-access-attributes-that-have-the-same-name-as-reserved-keywords/54335803#54335803", "title": "how can I access attributes that have the same name as reserved keywords?", "body": "<p>While it's possible to use <code>getattr</code> to access such attributes:</p>\n\n<pre><code>val = getattr(ad, 'from')\n</code></pre>\n\n<p>this is more cumbersome than the <code>ad['from']</code> syntax your AttributeDict supports, and does not satisfy your desire for dotted notation.</p>\n\n<p>There is currently no option to access such attributes with dotted notation. Just stick with indexing. It handles reserved names, names with spaces/hyphens/etc. in them, and names that collide with existing methods (assuming a reasonable AttributeDict implementation). Even if you used <code>getattr</code>, <code>getattr(ad, 'get')</code> would still probably return the AttributeDict's <code>get</code> method instead of the value for a <code>'get'</code> key.</p>\n"}], "owner": {"reputation": 171, "user_id": 10866491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4834106769de6e19bd5bdd605b4241e?s=128&d=identicon&r=PG&f=1", "display_name": "python_crypto_questions", "link": "https://stackoverflow.com/users/10866491/python-crypto-questions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 54335803, "answer_count": 1, "score": 5, "last_activity_date": 1548278433, "creation_date": 1548278083, "last_edit_date": 1548278433, "question_id": 54335750, "link": "https://stackoverflow.com/questions/54335750/how-can-i-access-attributes-that-have-the-same-name-as-reserved-keywords", "title": "how can I access attributes that have the same name as reserved keywords?", "body": "<p>I am calling an API that is returning an <code>AttributeDict</code> that has a number of attributes, such as <code>to</code> and <code>from</code>.</p>\n\n<p>To access these attributes, I am using dot notation. For example, I use <code>object.to</code> and that works fine.</p>\n\n<p>When I try to use <code>object.from</code>, I get an error that says <code>SyntaxError: invalid syntax</code>. I assume this is because <a href=\"https://www.programiz.com/python-programming/keyword-list\" rel=\"noreferrer\"><code>from</code> is a keyword in Python</a>. </p>\n\n<p>If this is the case, is it possible to access <code>from</code> with a dot? For now, I am using <code>object[\"from\"]</code>, which is working, but does not match the rest of my code.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "is_accepted": true, "score": 0, "last_activity_date": 1548278695, "creation_date": 1548278695, "answer_id": 54335881, "question_id": 54335721, "link": "https://stackoverflow.com/questions/54335721/renaming-multi-index-column-after-reading-an-html-page/54335881#54335881", "title": "Renaming multi-index column after reading an HTML page", "body": "<p>solved it using this, <code>df.columns = ['ccc','dd','cccs','dd','ddd', 'dddd']</code></p>\n"}], "owner": {"reputation": 173, "user_id": 9507545, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Northern Shadow", "link": "https://stackoverflow.com/users/9507545/northern-shadow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 54335881, "answer_count": 1, "score": 0, "last_activity_date": 1548278695, "creation_date": 1548277949, "question_id": 54335721, "link": "https://stackoverflow.com/questions/54335721/renaming-multi-index-column-after-reading-an-html-page", "title": "Renaming multi-index column after reading an HTML page", "body": "<p>I am reading a table from this <a href=\"https://www.nratrafficdata.ie/c2/tfhourdirection.asp?sgid=ZvyVmXU8jBt9PJE$c7UXt6&amp;spid=NRA_000000001081&amp;reportdate=2018-12-01&amp;enddate=2018-12-01\" rel=\"nofollow noreferrer\">webpage</a>, which contains multiple Html tables, after successfully reading them , i want to renmae them. I have tried many options but i doesn't work plus the response is multindexed and tried almost everything like df.rename etc.\nI am adding the code and response below, can somebody help ? </p>\n\n<p>Code:</p>\n\n<pre><code>import uuid\nimport pandas as pd\n\nclass traffic():\n   def __init__(self):\n       ssl._create_default_https_context = ssl._create_unverified_context\n       global homePage\n       global downloadDir\n       global filname\n       pd.set_option('display.max_rows', 500)\n       pd.set_option('display.max_columns', 500)\n       pd.set_option('display.width', 1000)\n       downloadDir = \"C:\\\\Users\\\\user\\\\PycharmProjects\\\\digitalOcean\\\\venv\\\\testDara\\\\\"\n       uFileName = str(uuid.uuid4())\n       filname = downloadDir + uFileName + \".csv\"\n       dailyUrl = \"https://www.nratrafficdata.ie/c2/tfhourdirection.asp?sgid=ZvyVmXU8jBt9PJE$c7UXt6&amp;spid=NRA_000000001081&amp;reportdate=2018-12-01&amp;enddate=2018-12-01\"\n       iDf = pd.read_html(dailyUrl, index_col=False)\n       df = iDf[0]\n       #dff = df.rename({'1':'one', '2':'two'}, axis='columns', inplace=True)\n       print(df)\n\nif __name__ == '__main__':\n   objCall = traffic()```\n\nExample response:\n\ncheck this [1]: https://pasteboard.co/HXPrTVw.png \"response\"\n\n\n\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "logistic-regression", "ensemble-learning"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 3601140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c755b4161c5a7338a37e5f274bfaa1d?s=128&d=identicon&r=PG&f=1", "display_name": "user3601140", "link": "https://stackoverflow.com/users/3601140/user3601140"}, "edited": false, "score": 0, "creation_date": 1548320994, "post_id": 54338620, "comment_id": 95501601, "body": "Thanks Maxime, I will definitely give it a shot. Couple of further questions, how do the weights work? Does w1=1 means all bads from training set will be selected in each bagging sample? How does w0 = y0/y1 work? How many/what proportion of goods in each bagging sample?"}, {"owner": {"reputation": 3213, "user_id": 10956606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b72e8de2912e894bba967bf023e1826?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeKan", "link": "https://stackoverflow.com/users/10956606/maximekan"}, "reply_to_user": {"reputation": 67, "user_id": 3601140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c755b4161c5a7338a37e5f274bfaa1d?s=128&d=identicon&r=PG&f=1", "display_name": "user3601140", "link": "https://stackoverflow.com/users/3601140/user3601140"}, "edited": false, "score": 0, "creation_date": 1548339427, "post_id": 54338620, "comment_id": 95512785, "body": "Suppose you have y0 = 100 and y1 = 200. Let w0 and w1 be the weights of each class. We have to have y0.w0 = y1.w1. Let us arbitrarily set w1 =1 (you can choose any other number as a matter of fact), and then you have w0 = y1/y0.  This means that for each estimator, the random sample (using bootstrap) will be drawn from from your total data using these weights.   If you want, you can add max_features = 0.5 to the BaggingClassifier function, which will limit to 50% the size of each subsample. But using the weights, it will ensure each subsample has the right distribution"}, {"owner": {"reputation": 67, "user_id": 3601140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c755b4161c5a7338a37e5f274bfaa1d?s=128&d=identicon&r=PG&f=1", "display_name": "user3601140", "link": "https://stackoverflow.com/users/3601140/user3601140"}, "edited": false, "score": 0, "creation_date": 1548348192, "post_id": 54338620, "comment_id": 95518350, "body": "Thanks Maxime for the explanation."}], "tags": [], "owner": {"reputation": 3213, "user_id": 10956606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b72e8de2912e894bba967bf023e1826?s=128&d=identicon&r=PG&f=1", "display_name": "MaximeKan", "link": "https://stackoverflow.com/users/10956606/maximekan"}, "is_accepted": true, "score": 2, "last_activity_date": 1548297493, "creation_date": 1548297493, "answer_id": 54338620, "question_id": 54335684, "link": "https://stackoverflow.com/questions/54335684/is-there-a-way-to-ensemble-multiple-logistic-regression-equations-into-one/54338620#54338620", "title": "Is there a way to ensemble multiple logistic regression equations into one?", "body": "<p>I think you should use scikit-learn's BaggingClassifier. In short, it fits several classifiers on random subsamples of your data and then has them voting to perform the classification. This meta-estimator will elegantly prevent you from writing a for loop. As for the sampling (which is your original motivation to write the loop I believe), you can adjust weights in the model.fit() method. </p>\n\n<pre><code>import numpy as np\nfrom sklearn.ensemble import BaggingClassifier\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn import datasets\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import balanced_accuracy_score\n\nbreast_cancer = datasets.load_breast_cancer()\nX = breast_cancer.data\ny = breast_cancer.target\nX_train, X_test, y_train, y_test = train_test_split(X,y)\n</code></pre>\n\n<p>As you can see, the dataset is imbalanced (after all, it's medical data):</p>\n\n<pre><code>len(y_train[y_train == 0]),len(y_train[y_train == 1]) # 163, 263\n</code></pre>\n\n<p>Therefore, let us add sample weights</p>\n\n<pre><code>y0 = len(y_train[y_train == 0])\ny1 = len(y_train[y_train == 1])\n\nw0 = y1/y0\nw1 = 1\n\nsample_weights = np.zeros(len(y_train))\nsample_weights[y_train == 0] = w0\nsample_weights[y_train == 1] = w1\n</code></pre>\n\n<p>Now the BaggingClassifier:</p>\n\n<pre><code>model = BaggingClassifier(LogisticRegression(solver = 'liblinear'), \n                      n_estimators=10, \n                      bootstrap = True, random_state = 2019)\nmodel.fit(X,y,sample_weights)\nbalanced_accuracy_score(y_test,model.predict(X_test)) # 94.2%\n</code></pre>\n\n<p>Note that if I don't fit with the sample weights, I get only 92.1% balanced accuracy (balanced accuracy = average recall, which is very handy for imbalanced problems)</p>\n"}], "owner": {"reputation": 67, "user_id": 3601140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c755b4161c5a7338a37e5f274bfaa1d?s=128&d=identicon&r=PG&f=1", "display_name": "user3601140", "link": "https://stackoverflow.com/users/3601140/user3601140"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 54338620, "answer_count": 1, "score": 1, "last_activity_date": 1548297493, "creation_date": 1548277751, "last_edit_date": 1548280627, "question_id": 54335684, "link": "https://stackoverflow.com/questions/54335684/is-there-a-way-to-ensemble-multiple-logistic-regression-equations-into-one", "title": "Is there a way to ensemble multiple logistic regression equations into one?", "body": "<p>I am working on a binary classification problem where the response rate (bads) is less than 1%. The predictors include a set of nominal categorical and continuous variables.</p>\n\n<p>Initially, I experimented with an oversampling technique (SMOTE) to balance the two classes. Logistic regression performed on the oversampled dataset results in good overall accuracy but a very very high false positive rate.</p>\n\n<p>I am now planning to do undersampling and run multiple logistic regression models. The basic python code I am working on is as follows. Need guidance in ensembling results of these multiple logistic regression models into one.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn import preprocessing\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\n#Set i for the number of equations required\nfor i in range(10):\n   #Create a sample of goods, good is pandas df containing goods\n   sample_good=good.sample(n=300,replace=True)\n\n   #Create a sample of bads, bad is pandas df containing bads. There are \n   #only 100 bads in the dataset\n   sample_bad=bad.sample(n=100,replace=True)\n\n   #Append the good and bad sample\n   sample=sample_good.append(sample_bad)\n\n   X = sample.loc[:, sample.columns != 'y']\n   y = sample.loc[:, sample.columns == 'y']\n\n   from sklearn.linear_model import LogisticRegression\n   from sklearn import metrics\n   X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, \n   random_state=0)\n   logreg = LogisticRegression()\n   logreg.fit(X_train, y_train)\n   y_pred = logreg.predict(X_test)\n   print('Accuracy of logistic regression classifier on test set: \n   {:.2f}'.format(logreg.score(X_test, y_test)))\n</code></pre>\n\n<p>The above for loop runs 10 times and build 10 different models. Need guidance on ensembling these 10 models into one model. I have read about available techniques like bagging etc. In this case, the sample I create needs to have all the bads each time due to very low response rate. </p>\n"}, {"tags": ["python", "pandas", "list", "word-cloud"], "answers": [{"comments": [{"owner": {"reputation": 865, "user_id": 8321427, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-ONb_mSwNHKw/AAAAAAAAAAI/AAAAAAAAAhY/TDOgxKaK7lU/photo.jpg?sz=128", "display_name": "Reinaldo Chaves", "link": "https://stackoverflow.com/users/8321427/reinaldo-chaves"}, "edited": false, "score": 0, "creation_date": 1548278067, "post_id": 54335728, "comment_id": 95488770, "body": "Thank you very much. But I had this error with this command: TypeError: sequence item 0: expected str instance, list found"}, {"owner": {"reputation": 865, "user_id": 8321427, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-ONb_mSwNHKw/AAAAAAAAAAI/AAAAAAAAAhY/TDOgxKaK7lU/photo.jpg?sz=128", "display_name": "Reinaldo Chaves", "link": "https://stackoverflow.com/users/8321427/reinaldo-chaves"}, "edited": false, "score": 0, "creation_date": 1548278632, "post_id": 54335728, "comment_id": 95489017, "body": "I did it that way. First I created values -&gt;  values = &#39;,&#39;.join(str(v) for v in proposicoes[&#39;ementa_token&#39;])"}, {"owner": {"reputation": 865, "user_id": 8321427, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-ONb_mSwNHKw/AAAAAAAAAAI/AAAAAAAAAhY/TDOgxKaK7lU/photo.jpg?sz=128", "display_name": "Reinaldo Chaves", "link": "https://stackoverflow.com/users/8321427/reinaldo-chaves"}, "edited": false, "score": 0, "creation_date": 1548278684, "post_id": 54335728, "comment_id": 95489040, "body": "So I did the generate with values: wordcloud = WordCloud(width=800, height=400).generate(values)"}, {"owner": {"reputation": 865, "user_id": 8321427, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-ONb_mSwNHKw/AAAAAAAAAAI/AAAAAAAAAhY/TDOgxKaK7lU/photo.jpg?sz=128", "display_name": "Reinaldo Chaves", "link": "https://stackoverflow.com/users/8321427/reinaldo-chaves"}, "edited": false, "score": 0, "creation_date": 1548278725, "post_id": 54335728, "comment_id": 95489060, "body": "The way I did it now worked. Thanks again, I&#39;ll test with your suggestions now"}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 1, "last_activity_date": 1548278640, "last_edit_date": 1548278640, "creation_date": 1548277981, "answer_id": 54335728, "question_id": 54335660, "link": "https://stackoverflow.com/questions/54335660/how-to-make-a-cloud-of-words-in-dataframe-with-lists/54335728#54335728", "title": "How to make a cloud of words in dataframe with lists?", "body": "<p>The TypeError is quite clear, WordCloud expects a string not a Series. Combine the lists in the columns and then join,</p>\n\n<pre><code>wordcloud = WordCloud(width=800, height=400).generate(' '.join(proposicoes['ementa_token'].sum())\n</code></pre>\n\n<p>Option 2:</p>\n\n<pre><code>data = ' '.join(np.concatenate(df.col2))\nwordcloud = WordCloud(width=800, height=400).generate(' '.join(data)\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 8321427, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-ONb_mSwNHKw/AAAAAAAAAAI/AAAAAAAAAhY/TDOgxKaK7lU/photo.jpg?sz=128", "display_name": "Reinaldo Chaves", "link": "https://stackoverflow.com/users/8321427/reinaldo-chaves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2193, "favorite_count": 0, "accepted_answer_id": 54335728, "answer_count": 1, "score": 1, "last_activity_date": 1548278640, "creation_date": 1548277614, "question_id": 54335660, "link": "https://stackoverflow.com/questions/54335660/how-to-make-a-cloud-of-words-in-dataframe-with-lists", "title": "How to make a cloud of words in dataframe with lists?", "body": "<p>In Python 3 and pandas I have this dataframe \"proposicoes\" with a column with a list of words. The column is named \"ementa_token\"</p>\n\n<p>I want to make a cloud of words from the column \"ementa_token\". Each line has a list of words:</p>\n\n<pre><code>proposicoes[proposicoes['id'] == '465465']['ementa_token'].iloc[0]\n['Comunica',\n 'Excelent\u00edssimo',\n 'Senhor',\n 'Presidente',\n 'Rep\u00fablica',\n 'san\u00e7\u00e3o',\n 'projeto',\n 'lei',\n 'Institui',\n 'Fundo',\n 'Nacional',\n 'Idoso',\n 'autoriza',\n 'deduzir',\n 'imposto',\n 'renda',\n 'devido',\n 'pessoas',\n 'f\u00edsicas',\n 'jur\u00eddicas',\n 'doa\u00e7\u00f5es',\n 'efetuadas',\n 'Fundos',\n 'Municipais',\n 'Estaduais',\n 'Nacional',\n 'Idoso',\n 'altera',\n 'Lei',\n 'n\u00ba',\n '9250',\n '26',\n 'dezembro',\n '1995',\n 'restitui',\n 'arquivo',\n 'Congresso',\n 'Nacional',\n 'dois',\n 'aut\u00f3grafos',\n 'texto',\n 'ora',\n 'convertido',\n 'Lei',\n 'n\u00ba',\n '12213',\n '20',\n 'janeiro',\n '2010']\n</code></pre>\n\n<p>I tried this way:</p>\n\n<pre><code>from wordcloud import WordCloud\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nwordcloud = WordCloud(width=800, height=400).generate(proposicoes['ementa_token'])\nplt.figure( figsize=(30,20) )\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.show()\n</code></pre>\n\n<p>I had this error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-18-c072e91a9fe7&gt; in &lt;module&gt;\n----&gt; 1 wordcloud = WordCloud(width=800, height=400).generate(proposicoes['ementa_token'])\n      2 plt.figure( figsize=(30,20) )\n      3 plt.imshow(wordcloud)\n      4 plt.axis(\"off\")\n      5 plt.show()\n\nc:\\users\\reinaldo\\documents\\code\\palavras\\lib\\site-packages\\wordcloud\\wordcloud.py in generate(self, text)\n    603         self\n    604         \"\"\"\n--&gt; 605         return self.generate_from_text(text)\n    606 \n    607     def _check_generated(self):\n\nc:\\users\\reinaldo\\documents\\code\\palavras\\lib\\site-packages\\wordcloud\\wordcloud.py in generate_from_text(self, text)\n    584         self\n    585         \"\"\"\n--&gt; 586         words = self.process_text(text)\n    587         self.generate_from_frequencies(words)\n    588         return self\n\nc:\\users\\reinaldo\\documents\\code\\palavras\\lib\\site-packages\\wordcloud\\wordcloud.py in process_text(self, text)\n    551         regexp = self.regexp if self.regexp is not None else r\"\\w[\\w']+\"\n    552 \n--&gt; 553         words = re.findall(regexp, text, flags)\n    554         # remove stopwords\n    555         words = [word for word in words if word.lower() not in stopwords]\n\nc:\\users\\reinaldo\\documents\\code\\palavras\\lib\\re.py in findall(pattern, string, flags)\n    221 \n    222     Empty matches are included in the result.\"\"\"\n--&gt; 223     return _compile(pattern, flags).findall(string)\n    224 \n    225 def finditer(pattern, string, flags=0):\n\nTypeError: expected string or bytes-like object\n</code></pre>\n\n<p>Does this mean that the code is not reading the words in the lists of each line? Please, does anyone know how to do it?</p>\n"}, {"tags": ["python", "equality"], "comments": [{"owner": {"reputation": 46350, "user_id": 246616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/deb5db496ae1d5e7dbdcaa38f3c9b31b?s=128&d=identicon&r=PG", "display_name": "mVChr", "link": "https://stackoverflow.com/users/246616/mvchr"}, "edited": false, "score": 4, "creation_date": 1548277550, "post_id": 54335614, "comment_id": 95488547, "body": "You can&#39;t compare floats directly due to floating point error. See: <a href=\"https://stackoverflow.com/questions/5595425/what-is-the-best-way-to-compare-floats-for-almost-equality-in-python\" title=\"what is the best way to compare floats for almost equality in python\">stackoverflow.com/questions/5595425/&hellip;</a>"}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 0, "creation_date": 1548277587, "post_id": 54335614, "comment_id": 95488563, "body": "Could also be a duplicate for <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\" title=\"is floating point math broken\">stackoverflow.com/questions/588004/&hellip;</a>."}, {"owner": {"reputation": 2822, "user_id": 1281548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9T0M7.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/1281548/adam"}, "edited": false, "score": 0, "creation_date": 1548277627, "post_id": 54335614, "comment_id": 95488577, "body": "This is to do with how computers deal with what&#39;s called <a href=\"https://docs.python.org/2/tutorial/floatingpoint.html\" rel=\"nofollow noreferrer\">floating point arithmetic</a>."}], "answers": [{"tags": [], "owner": {"reputation": 2081, "user_id": 10378715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/025e4d277ba1617761f48d7e79b5557a?s=128&d=identicon&r=PG", "display_name": "Shane Fontaine", "link": "https://stackoverflow.com/users/10378715/shane-fontaine"}, "is_accepted": false, "score": 0, "last_activity_date": 1548277606, "creation_date": 1548277606, "answer_id": 54335658, "question_id": 54335614, "link": "https://stackoverflow.com/questions/54335614/equality-check-in-python/54335658#54335658", "title": "equality check in python", "body": "<p>You are running into floating point errors. The output of <code>x</code>, <code>y</code>, and <code>z</code> are:</p>\n\n<pre><code>&gt;&gt;&gt; x\n0.3333333333333286\n&gt;&gt;&gt; y\n0.3333333333333333\n&gt;&gt;&gt; z\n0.33333333333333326\n</code></pre>\n\n<p>You can see that they are clearly not equal.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/5595425/what-is-the-best-way-to-compare-floats-for-almost-equality-in-python\">here</a> for information about floating point errors.</p>\n"}], "owner": {"reputation": 702, "user_id": 2840697, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/831a2d6e5200fe22ab220918bfe43cb6?s=128&d=identicon&r=PG&f=1", "display_name": "user98235", "link": "https://stackoverflow.com/users/2840697/user98235"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1548277543, "answer_count": 1, "score": 0, "last_activity_date": 1548277606, "creation_date": 1548277398, "question_id": 54335614, "link": "https://stackoverflow.com/questions/54335614/equality-check-in-python", "closed_reason": "Duplicate", "title": "equality check in python", "body": "<pre><code>x=(100+1.0/3)-100\ny=1.0/3\nz=1+1.0/3-1\n</code></pre>\n\n<p>x, y, z clearly have the same values mathematically, but </p>\n\n<pre><code>print(x==y)\nprint(x==z)\nprint(y==z)\n</code></pre>\n\n<p>generate False values for all. </p>\n\n<p>Is there any way to make them equal to each other in python? I'm not quite sure why they're not considered same. I'm aware that rounding off would be the cause of it, but I'm not sure why that happens in different ways for x, y, z.</p>\n"}, {"tags": ["python", "pyspark", "jupyter-notebook", "ipython", "jupyter"], "comments": [{"owner": {"reputation": 15138, "user_id": 10886420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOSxh.png?s=128&g=1", "display_name": "Szymon Maszke", "link": "https://stackoverflow.com/users/10886420/szymon-maszke"}, "edited": false, "score": 0, "creation_date": 1549824223, "post_id": 54335569, "comment_id": 96032360, "body": "Reason might be more prosaic; I suppose spark is quite heavy hence it takes a lot of time to parse dependencies. If the amount of returned suggestions is too big (or it takes too much time), the process might be killed, you may want to check that."}, {"owner": {"reputation": 985, "user_id": 2256986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wshj2.png?s=128&g=1", "display_name": "Vitali Melamud", "link": "https://stackoverflow.com/users/2256986/vitali-melamud"}, "reply_to_user": {"reputation": 15138, "user_id": 10886420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOSxh.png?s=128&g=1", "display_name": "Szymon Maszke", "link": "https://stackoverflow.com/users/10886420/szymon-maszke"}, "edited": false, "score": 0, "creation_date": 1549827836, "post_id": 54335569, "comment_id": 96033416, "body": "thanks for the suggestion! how can i check this?  btw - when I run a= spark.read. and later run a. &lt;tab&gt; I get all the suggestions i was hoping for"}, {"owner": {"reputation": 15138, "user_id": 10886420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOSxh.png?s=128&g=1", "display_name": "Szymon Maszke", "link": "https://stackoverflow.com/users/10886420/szymon-maszke"}, "edited": false, "score": 0, "creation_date": 1549832316, "post_id": 54335569, "comment_id": 96034621, "body": "You may observe resource usage and get the process responsible for completion, I assume CPU usage would sky-rocket during parsing of the library. What you&#39;ve written above may indicate that&#39;s actually the case, maybe someone else will be able to pin-point the issue further."}], "answers": [{"tags": [], "owner": {"reputation": 1309, "user_id": 7011287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GiDNR.jpg?s=128&g=1", "display_name": "Wenmin Wu", "link": "https://stackoverflow.com/users/7011287/wenmin-wu"}, "is_accepted": true, "score": 2, "last_activity_date": 1568678826, "creation_date": 1568678826, "answer_id": 57965759, "question_id": 54335569, "link": "https://stackoverflow.com/questions/54335569/jupyter-pyspark-autocomplete/57965759#57965759", "title": "Jupyter + PySpark autocomplete", "body": "<p>I developed a Jupyter Notebook Extension based on TabNine which provides code auto-completion based on Deep Learning. Of course it also supports <code>Pyspark</code>. Here's the Github link of my work: <a href=\"https://github.com/wenmin-wu/jupyter-tabnine\" rel=\"nofollow noreferrer\">jupyter-tabnine</a>.</p>\n\n<p>It's available on <a href=\"https://pypi.org/project/jupyter-tabnine/\" rel=\"nofollow noreferrer\">pypi index</a> now.  Simply issue following commands, then enjoy it:)</p>\n\n<pre><code>pip3 install jupyter-tabnine\njupyter nbextension install --py jupyter_tabnine\njupyter nbextension enable --py jupyter_tabnine\njupyter serverextension enable --py jupyter_tabnine\n</code></pre>\n\n<p><img src=\"https://raw.githubusercontent.com/wenmin-wu/jupyter-tabnine/master/images/demo.gif\" alt=\"demo\"></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 10700322, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WVoKexL2KwI/AAAAAAAAAAI/AAAAAAAAQe0/YdV8FHN9OSU/photo.jpg?sz=128", "display_name": "Gabe", "link": "https://stackoverflow.com/users/10700322/gabe"}, "is_accepted": false, "score": 0, "last_activity_date": 1575889025, "creation_date": 1575889025, "answer_id": 59247388, "question_id": 54335569, "link": "https://stackoverflow.com/questions/54335569/jupyter-pyspark-autocomplete/59247388#59247388", "title": "Jupyter + PySpark autocomplete", "body": "<p>This can be done by manually importing or setting the .env variable for python.</p>\n\n<ol>\n<li>In a python session / Notebook.</li>\n</ol>\n\n<pre><code>import rlcompleter, readline\nreadline.parse_and_bind(\"tab: complete\")\n</code></pre>\n\n<ol start=\"2\">\n<li>To Enable it on PySpark startup - my case.</li>\n</ol>\n\n<p><em>.bash_profile</em></p>\n\n<pre><code>export PYTHONSTARTUP=\"$HOME/.pythonrc\"\n</code></pre>\n\n<p><em>.pythonrc</em></p>\n\n<pre><code>import rlcompleter, readline\nreadline.parse_and_bind(\"tab: complete\")\n</code></pre>\n"}], "owner": {"reputation": 985, "user_id": 2256986, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wshj2.png?s=128&g=1", "display_name": "Vitali Melamud", "link": "https://stackoverflow.com/users/2256986/vitali-melamud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "accepted_answer_id": 57965759, "answer_count": 2, "score": 2, "last_activity_date": 1575889025, "creation_date": 1548277255, "last_edit_date": 1549823226, "question_id": 54335569, "link": "https://stackoverflow.com/questions/54335569/jupyter-pyspark-autocomplete", "title": "Jupyter + PySpark autocomplete", "body": "<p>Sorry for the newbie Jupyter quesion - </p>\n\n<p>I've installed Jupyter &amp; PySpark using this manual - \n<a href=\"https://blog.sicara.com/get-started-pyspark-jupyter-guide-tutorial-ae2fe84f594f\" rel=\"nofollow noreferrer\">https://blog.sicara.com/get-started-pyspark-jupyter-guide-tutorial-ae2fe84f594f</a></p>\n\n<p>All seems to work but I don't have autocomplete for some \"nested\" functions</p>\n\n<p>For example - running \"spark\" -> I get spark session</p>\n\n<p>When I press tab after \"spark.\" -> I get the list of possible suggestions such as \"read\"</p>\n\n<p>But pressing tab after spark.read. don't show anything. Though I would expect to show options such as \"csv\", \"parquat\" etc...</p>\n\n<p>Important note - running \"spark.read.csv(\"1.txt\")\" works</p>\n\n<p>Also - tried applying suggestions from <a href=\"https://stackoverflow.com/questions/2603798/ipython-tab-autocomplete-does-not-work-on-imported-module\">`ipython` tab autocomplete does not work on imported module</a> but it didn't work</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "node.js", "github"], "comments": [{"owner": {"reputation": 25, "user_id": 4751515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1029636bc6416f6970a74fe54e33ae?s=128&d=identicon&r=PG", "display_name": "Howie Lynch", "link": "https://stackoverflow.com/users/4751515/howie-lynch"}, "edited": false, "score": 0, "creation_date": 1548277143, "post_id": 54335532, "comment_id": 95488396, "body": "any ideas, or documentation to help would be great , thanks"}, {"owner": {"reputation": 1595, "user_id": 2833401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b67fff2ead312f1bb4a802cc87ebe52?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Peterson", "link": "https://stackoverflow.com/users/2833401/shaun-peterson"}, "edited": false, "score": 0, "creation_date": 1548277595, "post_id": 54335532, "comment_id": 95488567, "body": "What happens when you run this code? do you get errors? please provide more details about what is not working so that others can assist you, at the moment it is not clear what your actual problem is."}, {"owner": {"reputation": 25, "user_id": 4751515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1029636bc6416f6970a74fe54e33ae?s=128&d=identicon&r=PG", "display_name": "Howie Lynch", "link": "https://stackoverflow.com/users/4751515/howie-lynch"}, "reply_to_user": {"reputation": 1595, "user_id": 2833401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b67fff2ead312f1bb4a802cc87ebe52?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Peterson", "link": "https://stackoverflow.com/users/2833401/shaun-peterson"}, "edited": false, "score": 0, "creation_date": 1548278385, "post_id": 54335532, "comment_id": 95488909, "body": "riginal exception was: Traceback (most recent call last):   File &quot;node.py&quot;, line 34, in &lt;module&gt;     process = subprocess.Popen(buildCommand.split(), stdout=subprocess.PIPE)   File &quot;/usr/lib/python3.6/subprocess.py&quot;, line 709, in <b>init</b>     restore_signals, start_new_session)   File &quot;/usr/lib/python3.6/subprocess.py&quot;, line 1344, in _execute_child     raise child_exception_type(errno_num, err_msg, err_filename) FileNotFoundError: [Errno 2] No such file or directory: &#39;build/npm/express-ibm/npm&#39;: &#39;build/npm/express-ibm/npm&#39;"}, {"owner": {"reputation": 25, "user_id": 4751515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1029636bc6416f6970a74fe54e33ae?s=128&d=identicon&r=PG", "display_name": "Howie Lynch", "link": "https://stackoverflow.com/users/4751515/howie-lynch"}, "reply_to_user": {"reputation": 1595, "user_id": 2833401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b67fff2ead312f1bb4a802cc87ebe52?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun Peterson", "link": "https://stackoverflow.com/users/2833401/shaun-peterson"}, "edited": false, "score": 0, "creation_date": 1548278470, "post_id": 54335532, "comment_id": 95488950, "body": "This is the error i get. It s to do with the build command. The repo downloads to build/npm as if i go to the location i can run it from this location."}], "answers": [{"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 0, "last_activity_date": 1548278748, "creation_date": 1548278748, "answer_id": 54335891, "question_id": 54335532, "link": "https://stackoverflow.com/questions/54335532/python-script-to-run-a-node-application-and-to-output-dependencies/54335891#54335891", "title": "python script to run a node application and to output dependencies", "body": "<p>The path 'build/npm/express-ibm/npm' does not exist.</p>\n\n<p>You need to give a full path</p>\n\n<pre><code>exe_path = os.path.join('/the/path/to', 'build/npm/express-ibm/npm')\n</code></pre>\n\n<p>And use it in <code>subprocess.Popen</code> (or <code>subprocess.run</code> which is better)</p>\n"}], "owner": {"reputation": 25, "user_id": 4751515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1029636bc6416f6970a74fe54e33ae?s=128&d=identicon&r=PG", "display_name": "Howie Lynch", "link": "https://stackoverflow.com/users/4751515/howie-lynch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548278748, "creation_date": 1548277093, "last_edit_date": 1548278617, "question_id": 54335532, "link": "https://stackoverflow.com/questions/54335532/python-script-to-run-a-node-application-and-to-output-dependencies", "title": "python script to run a node application and to output dependencies", "body": "<p>I am trying to write a python script that will download a Node GitHub repository. once downloaded it will use build command to build the app, and then also to output the dependencies of this node project. </p>\n\n<pre><code>import json\nimport pymongo\nimport requests\nimport os\nimport subprocess\nfrom git import Repo\n\nfrom pymongo import MongoClient\nclient = MongoClient('mongodb://localhost:27017')\ndb = client['ibm_test']\ncollection_dep = db['dep']\n\n\nheaders = {'Authorization': 'token '}\nr = requests.get('https://github.com/app.git', headers=headers)\n#if(r.ok):\n#    repoItem = package.json.loads(r.text or r.content)\n#if  repoItem['language'] == 'JavaScript':\n\nHTTPS_REMOTE_URL = 'https//git.url'\nDEST_NAME = 'build/npm'\ncloned_repo = Repo.clone_from(HTTPS_REMOTE_URL, DEST_NAME)\nbuildCommand = \"build/npm/express-ibm/npm run-script devstart -b build/npm/express-ibm/package.json\"\nprocess = subprocess.Popen(buildCommand.split(), stdout=subprocess.PIPE)\noutput, error = process.communicate()\nprint(output)\nprint(error)\n    # depo = subprocess.run(cmd)\n     #depo = subprocess.check_output(['ls','-l'])\n     #depo = os.system(\"gradle dependencies\")\n    # depo = os.system('path gradle *./graldew dependencies*')\n    # collection_dep.insert(depo)\nf= open(\"npm.json\",\"w+\")\n#print(depo)\nprint(\"end\")\nclient.close()\n</code></pre>\n\n<p><strong>EDIT:</strong> add exception trace back.</p>\n\n<p>Original exception was:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"node.py\", line 34, in &lt;module&gt;\n    process = subprocess.Popen(buildCommand.split(), stdout=subprocess.PIPE)\nFile \"/usr/lib/python3.6/subprocess.py\", line 709, in init\n    restore_signals, start_new_session)\nFile \"/usr/lib/python3.6/subprocess.py\", line 1344, in _execute_child\n    raise child_exception_type(errno_num, err_msg, err_filename)\nFileNotFoundError: [Errno 2] No such file or directory: 'build/npm/express-ibm/npm'\n</code></pre>\n"}, {"tags": ["python", "multithreading", "multiprocessing", "jupyter-notebook"], "comments": [{"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1548279223, "post_id": 54335524, "comment_id": 95489290, "body": "Can&#39;t reproduce your error, got a pickling error. What OS/Python version are you running?"}, {"owner": {"reputation": 1132, "user_id": 2241241, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DEZDz.jpg?s=128&g=1", "display_name": "fbence", "link": "https://stackoverflow.com/users/2241241/fbence"}, "reply_to_user": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1548280063, "post_id": 54335524, "comment_id": 95489646, "body": "<code>jupyter --version</code> is <code>4.4.0</code> and <code>import sys; sys.version</code> is <code>&#39;3.7.0 (default, Oct 15 2018, 10:26:13) \\n[GCC 7.3.0]&#39;</code>"}, {"owner": {"reputation": 1132, "user_id": 2241241, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DEZDz.jpg?s=128&g=1", "display_name": "fbence", "link": "https://stackoverflow.com/users/2241241/fbence"}, "reply_to_user": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "edited": false, "score": 0, "creation_date": 1548280237, "post_id": 54335524, "comment_id": 95489712, "body": "OS is an Ubuntu 18.04"}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 1, "creation_date": 1548280846, "post_id": 54335524, "comment_id": 95489964, "body": "Processes don&#39;t share state the way threads do. When you progress as an argument to Process, it gets copied by the newly created processes. Each process will have it&#39;s own progress bar and the one you care about, the one in the master process, will never receive updates."}, {"owner": {"reputation": 1132, "user_id": 2241241, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DEZDz.jpg?s=128&g=1", "display_name": "fbence", "link": "https://stackoverflow.com/users/2241241/fbence"}, "edited": false, "score": 0, "creation_date": 1548283439, "post_id": 54335524, "comment_id": 95490850, "body": "Why would then adding a single print statement inside the process alter the behaviour of the progress bar? This is what I kind of fail to see."}], "owner": {"reputation": 1132, "user_id": 2241241, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/DEZDz.jpg?s=128&g=1", "display_name": "fbence", "link": "https://stackoverflow.com/users/2241241/fbence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1675, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548280145, "creation_date": 1548277075, "last_edit_date": 1548280145, "question_id": 54335524, "link": "https://stackoverflow.com/questions/54335524/multiprocessing-vs-threading-in-jupyter-notebook", "title": "multiprocessing vs threading in jupyter notebook", "body": "<p>I trying to test the example at <a href=\"https://ipywidgets.readthedocs.io/en/stable/examples/Widget%20Asynchronous.html\" rel=\"nofollow noreferrer\">here</a> changing it from threading to multiprocessing.</p>\n\n<p>Running this (the original example) in jupyter notebook, will display a progress bar that fills up in some time.</p>\n\n<pre><code>import threading\nfrom IPython.display import display\nimport ipywidgets as widgets\nimport time\nprogress = widgets.FloatProgress(value=0.0, min=0.0, max=1.0)\n\ndef work(progress):\n    total = 100\n    for i in range(total):\n        time.sleep(0.2)\n        progress.value = float(i+1)/total\n\nthread = threading.Thread(target=work, args=(progress,))\ndisplay(progress)\nthread.start()\n</code></pre>\n\n<p>If I change the code to multiprocessing, the progress bar appears, but does not fill up:</p>\n\n<pre><code>import multiprocessing as mp\nfrom IPython.display import display\nimport ipywidgets as widgets\nimport time\nprogress = widgets.FloatProgress(value=0.0, min=0.0, max=1.0)\n\ndef work(progress):\n    total = 100\n    for i in range(total):\n        time.sleep(0.2)\n        progress.value = float(i+1)/total\n\np = mp.Process(target = work, args=(progress,))\ndisplay(progress)\np.start()\n</code></pre>\n\n<p>If I modify the above by adding a <code>print(i)</code> in the workers loop, the progress bar magically starts to fill up.</p>\n\n<pre><code>import multiprocessing as mp\nfrom IPython.display import display\nimport ipywidgets as widgets\nimport time\nprogress = widgets.FloatProgress(value=0.0, min=0.0, max=1.0)\n\ndef work(progress):\n    total = 100\n    for i in range(total):\n        print(i)\n        time.sleep(0.2)\n        progress.value = float(i+1)/total\n\np = mp.Process(target = work, args=(progress,))\ndisplay(progress)\np.start()\n</code></pre>\n\n<p>Is this a bug or is there something fundamental I am not getting here?</p>\n\n<h2>Edit (system info)</h2>\n\n<p>OS is Ubuntu 18.04</p>\n\n<pre><code>$jupyter --version \n4.4.0\n</code></pre>\n\n<pre><code>import sys; sys.version \n3.7.0 (default, Oct 15 2018, 10:26:13) \\n[GCC 7.3.0]\n</code></pre>\n"}, {"tags": ["python", "pandas", "scikit-learn", "confusion-matrix"], "comments": [{"owner": {"reputation": 2375, "user_id": 10651567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PGs0l3ZCTi4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA-mLZfp63rgDQJ9b6NSPqtSR0agQ/mo/photo.jpg?sz=128", "display_name": "keineahnung2345", "link": "https://stackoverflow.com/users/10651567/keineahnung2345"}, "edited": false, "score": 1, "creation_date": 1548291487, "post_id": 54335509, "comment_id": 95492775, "body": "Please paste the content of y_test and preds here."}, {"owner": {"reputation": 41, "user_id": 9582072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Khouloud Ben Ali Hassen", "link": "https://stackoverflow.com/users/9582072/khouloud-ben-ali-hassen"}, "reply_to_user": {"reputation": 2375, "user_id": 10651567, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PGs0l3ZCTi4/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA-mLZfp63rgDQJ9b6NSPqtSR0agQ/mo/photo.jpg?sz=128", "display_name": "keineahnung2345", "link": "https://stackoverflow.com/users/10651567/keineahnung2345"}, "edited": false, "score": 0, "creation_date": 1548330909, "post_id": 54335509, "comment_id": 95507508, "body": "df = pd.read_csv(&#39;db.csv&#39;)/ y_true=df[&#39;Target&#39;]/ df_data=df.drop(&#39;Target&#39;,1)/                                                                        X_train, X_test, y_train, y_test = train_test_split(df_data, y_true, test_size=0.3, random_state=42)/                                                                                                   preds = alg.predict(X_test)"}], "owner": {"reputation": 41, "user_id": 9582072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Khouloud Ben Ali Hassen", "link": "https://stackoverflow.com/users/9582072/khouloud-ben-ali-hassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548293895, "creation_date": 1548277016, "last_edit_date": 1548293895, "question_id": 54335509, "link": "https://stackoverflow.com/questions/54335509/confusion-matrix-valueerror-shape-of-passed-values-is-3-3-indices-imply-2", "title": "confusion_matrix, ValueError: Shape of passed values is (3, 3), indices imply (2, 2)", "body": "<p>I used the code below in order to visualize the confusion matrix in python, it throws an exception:&nbsp;&nbsp;</p>\n\n<blockquote>\n  <p>ValueError: Shape of passed values is (3, 3), indices imply (2, 2)</p>\n</blockquote>\n\n<pre><code>if_cm=confusion_matrix(y_test, preds)\nimport seaborn as sns\ndf_cm = pd.DataFrame(if_cm, ['True Normal','True Anomaly'],['Pred Normal','Pred Anomaly'])\npyplot.figure(figsize = (8,4))\nsns.set(font_scale=1.4)#for label size\nsns.heatmap(df_cm, annot=True,annot_kws={\"size\": 16},fmt='g')# font size\npyplot.show()\n</code></pre>\n"}, {"tags": ["python", "image", "pygame", "collision-detection", "collision"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10939414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ClcQ8wlkUz0/AAAAAAAAAAI/AAAAAAAAPhg/QRFO7IatkKo/photo.jpg?sz=128", "display_name": "Patrick Behan", "link": "https://stackoverflow.com/users/10939414/patrick-behan"}, "edited": false, "score": 0, "creation_date": 1548282794, "post_id": 54335804, "comment_id": 95490659, "body": "Did you try this code? Is it working? When I tried it, it didn&#39;t seem to work. If it works for you, could you post a patebin link?"}, {"owner": {"reputation": 12260, "user_id": 1730895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6abb0b52473d614852289b49ccf3c3c?s=128&d=identicon&r=PG", "display_name": "Kingsley", "link": "https://stackoverflow.com/users/1730895/kingsley"}, "edited": false, "score": 0, "creation_date": 1548288166, "post_id": 54335804, "comment_id": 95492122, "body": "Is it possible to collide with more than one fish at a time?  If not, there&#39;s no need to check for further collisions, and the code can be made a little faster."}, {"owner": {"reputation": 695, "user_id": 7343313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OB1ru.png?s=128&g=1", "display_name": "jonyfries", "link": "https://stackoverflow.com/users/7343313/jonyfries"}, "edited": false, "score": 0, "creation_date": 1548349089, "post_id": 54335804, "comment_id": 95518897, "body": "Are you getting an error or re the fish simply not disappearing?"}], "tags": [], "owner": {"reputation": 695, "user_id": 7343313, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OB1ru.png?s=128&g=1", "display_name": "jonyfries", "link": "https://stackoverflow.com/users/7343313/jonyfries"}, "is_accepted": false, "score": 1, "last_activity_date": 1548278355, "creation_date": 1548278355, "answer_id": 54335804, "question_id": 54335460, "link": "https://stackoverflow.com/questions/54335460/pygame-delete-image-after-collision-and-score-counter/54335804#54335804", "title": "Pygame delete image after collision and score counter", "body": "<p>So for your particular problem you need a way to check if each element (fish) has been hit. Since you're not using object oriented programming you'll need to simply create a variable for each one and set it to true when they're hit.</p>\n\n<p>Then before blitting them to the screen you can check to see if it the value is true.</p>\n\n<p>So before the main loop you'd need to have:</p>\n\n<pre><code>fish_1_hit = False\nfish_2_hit = False\nfish_3_hit = False\nfish_4_hit = False\n</code></pre>\n\n<p>Then within the main loop you'd add</p>\n\n<pre><code>if dolphin1Rect.colliderect(fish1Rect):\n    fish_1_hit = True\nif dolphin1Rect.colliderect(fish2Rect):\n    fish_2_hit = True\nif dolphin1Rect.colliderect(fish3Rect):\n    fish_3_hit = True\nif dolphin1Rect.colliderect(fish4Rect):\n    fish_4_hit = True\n\nif dolphin2Rect.colliderect(fish1Rect):\n    fish_1_hit = True\nif dolphin2Rect.colliderect(fish2Rect):\n    fish_2_hit = True\nif dolphin2Rect.colliderect(fish3Rect):\n    fish_3_hit = True\nif dolphin2Rect.colliderect(fish4Rect):\n    fish_4_hit = True\n</code></pre>\n\n<p>finally change the draw function so that you check if the fish is hit before drawing it:</p>\n\n<pre><code># fish\nif not fish_1_hit:\n    screen.blit(fish, (fishX, fishY))\nif not fish_2_hit:\n    screen.blit(fish, (fishX2, fishY))\nif not fish_3_hit:\n    screen.blit(fish, (fishX3, fishY2))\nif not fish_4_hit:\n    screen.blit(fish, (fishX4, fishY2))\n</code></pre>\n\n<p>I would recommend that you look into using lists to hold related entities (such as the fish) and object oriented programming (OOP) for any future projects as making anything with more than just a handful of entities is going to be very challenging with the methodology that you're using.</p>\n"}], "owner": {"reputation": 11, "user_id": 10939414, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ClcQ8wlkUz0/AAAAAAAAAAI/AAAAAAAAPhg/QRFO7IatkKo/photo.jpg?sz=128", "display_name": "Patrick Behan", "link": "https://stackoverflow.com/users/10939414/patrick-behan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548278355, "creation_date": 1548276793, "question_id": 54335460, "link": "https://stackoverflow.com/questions/54335460/pygame-delete-image-after-collision-and-score-counter", "title": "Pygame delete image after collision and score counter", "body": "<p>I have a game where there are two dolphins that you control with the A &amp; D keys. You must dodge the boats, and pick up every fish. How do I remove an image after a collision? For the fish, I want it so the game will go to OVERSTATE if you DO NOT hit a fish (it goes past the dolphin). If you DO hit a fish, remove the image, add 1 to the score and continue the game. Any help is appreciated! </p>\n\n<p>Images and SFX: <a href=\"https://mega.nz/fm/zHohiSJD\" rel=\"nofollow noreferrer\">https://mega.nz/fm/zHohiSJD</a></p>\n\n<pre><code># import modules\nimport pygame\nimport random\nimport os\n\n# positions the game tab to the top left portion of the monitor\nos.environ['SDL_VIDEO_WINDOW_POS'] = \"%d, %d\" % (0, 20)\n\n# initializes pygame\npygame.init()\n\n# set the caption\npygame.display.set_caption(\"Biomagnification\")\n\nSIZE = W, H = 400, 700  # determining the screen size of the game\nscreen = pygame.display.set_mode(SIZE)  # creating a display surface\nclock = pygame.time.Clock()  # creating a clock\n\n# RGB colours\nRED = (255, 0, 0)\nGREEN = (0, 255, 0)\nBLUE = (0, 0, 255)\nBACKGROUND = (94, 194, 222)\nSTRIPE = (60, 160, 190)\nWHITE = (255, 255, 255)\nBLACK = (0, 0, 0)\nGREY = (80, 80, 80)\n\n# states\nMENUSTATE = 0\nINFOSTATE = 1\nGAMESTATE = 2\nOVERSTATE = 3\n\n# variables for dolphin movement\nx1 = 30  # desired X position for the left dolphin/hitbox\nx2 = 330  # desired X position for the right dolphin/hitbox\nlane1 = 30\nlane2 = 130\nlane3 = 230\nlane4 = 330\ny = 530  # desired y value of the hitbox\nwidth, height = (40, 64)  # width and height of the hitbox\n\ntoggle1 = 0  # toggle for left dolphin\ntoggle2 = 0  # toggle for right dolphin\n\ntarget_x1 = 30\ntarget_x2 = 330\nvel_x = 10  # speed at which the dolphins move\n\n# fonts\nmenuFont = pygame.font.SysFont('impact', 60)\ntitleFont = pygame.font.SysFont('Impact', 40)\ntextFont = pygame.font.SysFont('Calibri', 16)\ntext2Font = pygame.font.SysFont('Calibri', 20)\n\n\n# method to blit text, taken from my university assignment 2\ndef blit_text(surface, string, pos, font, color=pygame.Color('black')):\n    words = [word.split(' ') for word in string.splitlines()]  # 2D array where each row is a list of words.\n    space = font.size(' ')[0]  # The width of a space.\n    max_width, max_height = surface.get_size()\n    x, y = pos\n    for line in words:\n        for word in line:\n            word_surface = font.render(word, 0, color)\n            word_width, word_height = word_surface.get_size()\n            if x + word_width &gt;= max_width:\n                x = pos[0]  # Reset the x.\n                y += word_height  # Start on new row.\n            surface.blit(word_surface, (x, y))\n            x += word_width + space\n        x = pos[0]  # Reset the x.\n        y += word_height  # Start on new row.\n\n\ndef drawScene():  # used for drawing the background of the game\n    screen.fill(BACKGROUND)  # fills the background with the colour ((94, 194, 222)\n    pygame.draw.polygon(screen, STRIPE,\n                        ((200, 700), (300, 700), (400, 600), (400, 500)))  # draws the different coloured stripes\n    pygame.draw.polygon(screen, STRIPE, ((0, 700), (100, 700), (400, 400), (400, 300)))\n    pygame.draw.polygon(screen, STRIPE, ((0, 500), (0, 600), (400, 200), (400, 100)))\n    pygame.draw.polygon(screen, STRIPE, ((0, 300), (0, 400), (400, 0), (300, 0)))\n    pygame.draw.polygon(screen, STRIPE, ((0, 100), (0, 200), (200, 0), (100, 0)))\n    pygame.draw.line(screen, WHITE, (100, 0), (100, 700), 2)  # draws the white separating lines in the background\n    pygame.draw.line(screen, WHITE, (200, 0), (200, 700), 6)\n    pygame.draw.line(screen, WHITE, (300, 0), (300, 700), 2)\n\n\ndef drawMenu(button, mouseX, mouseY):  # draws the menu screen\n    st = MENUSTATE\n    screen.fill(BACKGROUND)\n    pygame.draw.polygon(screen, STRIPE, ((300, 700), (400, 700), (400, 600)))  # draws the different coloured stripes\n    pygame.draw.polygon(screen, STRIPE, ((0, 100), (0, 0), (100, 0)))\n    string = \"biomagnification\"\n    blit_text(screen, string, (52, 80), titleFont, BLACK)\n    playRect = pygame.Rect(W // 3, (H // 4) + 30, W // 3, H // 10)\n    pygame.draw.rect(screen, STRIPE, playRect)\n    string = \"play\"\n    blit_text(screen, string, (146, 200), menuFont, BLACK)\n    infoRect = pygame.Rect(W // 3, (H // 2.5) + 30, W // 3, H // 10)\n    pygame.draw.rect(screen, STRIPE, infoRect)\n    string = \"info\"\n    blit_text(screen, string, (152, 307), menuFont, BLACK)\n    quitRect = pygame.Rect(W // 3, (H // 1.81) + 30, W // 3, H // 10)\n    pygame.draw.rect(screen, STRIPE, quitRect)\n    string = \"quit\"\n    blit_text(screen, string, (148, 410), menuFont, BLACK)\n    if button == 1:\n        if playRect.collidepoint(mouseX, mouseY) == True:\n            st = GAMESTATE\n            boatY = -100\n            boatY2 = -450\n            fishY = -800\n            fishY2 = -1150\n        elif infoRect.collidepoint(mouseX, mouseY) == True:\n            st = INFOSTATE\n        elif quitRect.collidepoint(mouseX, mouseY) == True:\n            pygame.quit()\n    pygame.display.update()\n    return st\n\n\ndef drawInfo(button, mouseX, mouseY):  # draws the info screen\n    st = INFOSTATE\n    screen.fill(BACKGROUND)\n    pygame.draw.polygon(screen, STRIPE, ((300, 700), (400, 700), (400, 600)))  # draws the different coloured stripes\n    pygame.draw.polygon(screen, STRIPE, ((0, 100), (0, 0), (100, 0)))\n    string = \"biomagnification:\"\n    blit_text(screen, string, (50, 80), titleFont, BLACK)\n    textRect = pygame.Rect(0, (H // 4) + 30, W, H // 3)\n    pygame.draw.rect(screen, STRIPE, textRect)\n    string = \"the process by which a compound increases its concentration in the tissues of organisms as it travels up the food chain.\"\n    blit_text(screen, string, (20, 135), textFont, BLACK)\n    string = \"Magnesium, an element commonly found in E-Waste increases its concentration in tissue as it travels up the food chain.\"\n    blit_text(screen, string, (20, 230), textFont, BLACK)\n    string = \"Score is measured in PPM (parts per million) of Mg.\"\n    blit_text(screen, string, (20, 300), textFont, BLACK)\n    string = \"\u2022 Eat fish to increase your PPM of Mg!\"\n    blit_text(screen, string, (20, 340), text2Font, BLACK)\n    string = \"\u2022 Dodge fishing boats!\"\n    blit_text(screen, string, (20, 380), text2Font, BLACK)\n    text2Rect = pygame.Rect(0, (H // 1.65) + 30, W, H // 5)\n    pygame.draw.rect(screen, STRIPE, text2Rect)\n    string = \"Controls\"\n    blit_text(screen, string, (165, 465), text2Font, BLACK)\n    string = \"A - Switch Left Lane\"\n    blit_text(screen, string, (130, 505), textFont, BLACK)\n    string = \"D - Switch Right Lane\"\n    blit_text(screen, string, (130, 530), textFont, BLACK)\n    string = \"ESC - Close Game\"\n    blit_text(screen, string, (130, 555), textFont, BLACK)\n    backRect = pygame.Rect(W // 3, 612, W // 3, H // 10)\n    pygame.draw.rect(screen, STRIPE, backRect)\n    string = \"back\"\n    blit_text(screen, string, (139, 610), menuFont, BLACK)\n    if button == 1:\n        if backRect.collidepoint(mouseX, mouseY) == True:\n            st = MENUSTATE\n    pygame.display.update()\n    return st\n\ndef drawOver(button, mouseX, mouseY):\n    st = OVERSTATE\n    screen.fill(BACKGROUND)\n    pygame.draw.polygon(screen, STRIPE, ((300, 700), (400, 700), (400, 600)))  # draws the different coloured stripes\n    pygame.draw.polygon(screen, STRIPE, ((0, 100), (0, 0), (100, 0)))\n    string = \"biomagnification\"\n    blit_text(screen, string, (48, 80), titleFont, BLACK)\n    textRect = pygame.Rect(0, (H // 4) + 30, W, H // 3)\n    pygame.draw.rect(screen, STRIPE, textRect)\n    string = \"GAME OVER\"\n    blit_text(screen, string, (70, 230), menuFont, BLACK)\n    pygame.display.update()\n    return st\n\n# images\nboat = pygame.image.load(\"boat.png\").convert_alpha()\nmainsheet = pygame.image.load(\"mainsheetSmall.png\").convert()\nfish1 = pygame.image.load(\"fishBlue.png\").convert_alpha()\nfish2 = pygame.image.load(\"fishOrange.png\").convert_alpha()\n\nsheetSize = mainsheet.get_size()  # gets the size of the spritesheet\nhoriz_cells = 36  # number of horizontal frames/cells in the spritesheet\nvert_cells = 1  # number of vertical frames/cells in the spritesheet\ncell_width = int(sheetSize[0] / horiz_cells)  # determining the width of each cell\ncell_height = int(sheetSize[1] / vert_cells)  # determing the height of each cell\n\ncellList = []  # creates a list for all the cells\nfor vert in range(0, sheetSize[1], cell_height):\n    for horz in range(0, sheetSize[0], cell_width):\n        surface = pygame.Surface((cell_width, cell_height))\n        surface.blit(mainsheet, (0, 0),\n                     (horz, vert, cell_width, cell_height))\n        colorkey = surface.get_at((0, 0))  # gets the colour at O, 0 (white)\n        surface.set_colorkey(colorkey)  # removes all the white from the spritesheet, making the background transparent\n        cellList.append(surface)  # appends to the list of cells (cellList)\n\ncellPosition = 0  # determines which frame is playing. Starts at 0\n\nspeed = 4  # speed for all downward falling objects\n\n# 1st pair of boats\nboatX = random.choice([lane1, lane2, lane3, lane4])\nif boatX == lane1:\n    boatX2 = random.choice([lane3, lane4])\nelif boatX == lane2:\n    boatX2 = random.choice([lane3, lane4])\nelse:\n    boatX2 = random.choice([lane1, lane2])\nboatY = -100\n\n# 2nd pair of boats\nboatX3 = random.choice([lane1, lane2, lane3, lane4])\nif boatX3 == lane1:\n    boatX4 = random.choice([lane3, lane4])\nelif boatX3 == lane2:\n    boatX4 = random.choice([lane3, lane4])\nelse:\n    boatX4 = random.choice([lane1, lane2])\nboatY2 = -450\n\n# 1st pair of fish\nfish = random.choice([fish1, fish2])\nfishX = random.choice([lane1, lane2, lane3, lane4])\nif fishX == lane1:\n    fishX2 = random.choice([lane3, lane4])\nelif fishX == lane2:\n    fishX2 = random.choice([lane3, lane4])\nelse:\n    fishX2 = random.choice([lane1, lane2])\nfishY = -800\n\n# 2nd pair of fish\nfishX3 = random.choice([lane1, lane2, lane3, lane4])\nif fishX3 == lane1:\n    fishX4 = random.choice([lane3, lane4])\nelif fishX3 == lane2:\n    fishX4 = random.choice([lane3, lane4])\nelse:\n    fishX4 = random.choice([lane1, lane2])\nfishY2 = -1150\n</code></pre>\n\n<p>collisions for boat and fish can be found here</p>\n\n<pre><code>def drawGame(button):\n    st = GAMESTATE\n    dolphin1Rect = pygame.Rect((x1, y), (width, height))  # hitbox of left dolphin\n    pygame.draw.rect(screen, GREEN, (x1, y, width, height))\n    dolphin2Rect = pygame.Rect((x2, y), (width, height))  # hitbox of right dolphin\n    pygame.draw.rect(screen, GREEN, (x2, y, width, height))\n\n    boat1Rect = pygame.Rect((boatX + 3, boatY + 14), (34, 81))\n    # pygame.draw.rect(screen, GREEN, boat1Rect)\n    boat2Rect = pygame.Rect((boatX2 + 3, boatY + 14, 34, 81))\n    # pygame.draw.rect(screen, GREEN, boat2Rect)\n    boat3Rect = pygame.Rect((boatX3 + 3, boatY2 + 14, 34, 81))\n    # pygame.draw.rect(screen, GREEN, boat3Rect)\n    boat4Rect = pygame.Rect((boatX4 + 3, boatY2 + 14, 34, 81))\n    # pygame.draw.rect(screen, GREEN, boat4Rect)\n\n    fish1Rect = pygame.Rect((fishX, fishY), (40, 40))\n    pygame.draw.rect(screen, GREEN, fish1Rect)\n    fish2Rect = pygame.Rect((fishX2, fishY, 40, 40))\n    pygame.draw.rect(screen, GREEN, fish2Rect)\n    fish3Rect = pygame.Rect((fishX3, fishY2, 40, 40))\n    pygame.draw.rect(screen, GREEN, fish3Rect)\n    fish4Rect = pygame.Rect((fishX4, fishY2, 40, 40))\n    pygame.draw.rect(screen, GREEN, fish4Rect)\n    drawScene()\n\n    # dolphins\n    screen.blit(cellList[cellPosition], (x1 + 4, y - 1))\n    screen.blit(cellList[cellPosition], (x2 + 4, y - 1))\n\n    # boats\n    screen.blit(boat, (boatX, boatY))\n    screen.blit(boat, (boatX2, boatY))\n    screen.blit(boat, (boatX3, boatY2))\n    screen.blit(boat, (boatX4, boatY2))\n\n    # fish\n    screen.blit(fish, (fishX, fishY))\n    screen.blit(fish, (fishX2, fishY))\n    screen.blit(fish, (fishX3, fishY2))\n    screen.blit(fish, (fishX4, fishY2))\n\n    # collision testing\n\n    boatList = [boat1Rect, boat2Rect, boat3Rect, boat4Rect]\n    if pygame.Rect.collidelist(dolphin1Rect, boatList) &gt; -1:\n        st = MENUSTATE\n    if pygame.Rect.collidelist(dolphin2Rect, boatList) &gt; -1:\n        st = MENUSTATE\n    button = 0\n    pygame.display.update()\n    return st\n\n\n# main loop\nrunning = True\nstate = OVERSTATE  # sets the default state as MENUSTATE\nbutton = mx = my = 0  # initializes mouse\nwhile running:\n    clock.tick(60)  # makes the game tick 60 frames per second\n    button = 0\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running = False\n        if event.type == pygame.MOUSEBUTTONDOWN:\n            mx, my = pygame.mouse.get_pos()\n            button = pygame.mouse.get_pressed()[0]\n\n        if event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_ESCAPE:  # detects if the user presses the ESC key\n                pygame.quit()\n            elif event.key == pygame.K_a:  # detects if the user presses the A key\n                pygame.mixer.music.load('percussiveHit.mp3')\n                pygame.mixer.music.play()\n                toggle1 += 1  # adds 1 to toggle1\n                if toggle1 % 2 == 1:  # if toggle1 mod 2 equals 1\n                    target_x1 += 100  # add 100 to the target position\n                else:\n                    target_x1 -= 100  # if toggle1 mod 2 does not equal 1, subtract 100 from the target position making it the original of 30\n            elif event.key == pygame.K_d:  # detects if the user presses the D key\n                pygame.mixer.music.load('percussiveHit.mp3')\n                pygame.mixer.music.play()\n                toggle2 += 1  # adds 1 to toggle2\n                if toggle2 % 2 == 1:  # if toggle2 mod 2 equals 1\n                    target_x2 -= 100  # subtract 100 the to target position\n                else:\n                    target_x2 += 100  # if toggle2 mod 2 does not equal 1, add 100 to the target position making it the original of 330\n    if state == GAMESTATE:\n        if x1 &lt; target_x1:\n            x1 = min(x1 + vel_x, target_x1)\n        else:\n            x1 = max(x1 - vel_x, target_x1)\n\n        if x2 &lt; target_x2:\n            x2 = min(x2 + vel_x, target_x2)\n        else:\n            x2 = max(x2 - vel_x, target_x2)\n\n        if cellPosition &lt; len(cellList) - 1:  # if the current pos is less tan cellList, add one\n            cellPosition += 1\n        else:\n            cellPosition = 0  # else, reset the cell pos to 0, the default\n\n        boatY += speed\n        if boatY &gt; H + 625:\n            boatX = random.choice([lane1, lane2, lane3, lane4])  # choose a random lane\n            if boatX == lane1:\n                boatX2 = random.choice([lane3, lane4])  # choose a lane on the other side\n            elif boatX == lane2:\n                boatX2 = random.choice([lane3, lane4])  # choose a lane on the other side\n            else:\n                boatX2 = random.choice([lane1, lane2])  # choose a lane on the other side\n            boatY = -100\n\n        boatY2 += speed\n        if boatY2 &gt; H + 100:\n            boatX3 = random.choice([lane1, lane2, lane3, lane4])  # choose a random lane\n            if boatX3 == lane1:\n                boatX4 = random.choice([lane3, lane4])  # choose a lane on the other side\n            elif boatX3 == lane2:\n                boatX4 = random.choice([lane3, lane4])  # choose a lane on the other side\n            else:\n                boatX4 = random.choice([lane1, lane2])  # choose a lane on the other side\n            boatY2 = -625\n\n        fishY += speed\n        if fishY &gt; H + 275:\n            fishX = random.choice([lane1, lane2, lane3, lane4])  # choose a random lane\n            if fishX == lane1:\n                fishX2 = random.choice([lane3, lane4])  # choose a lane on the other side\n            elif fishX == lane2:\n                fishX2 = random.choice([lane3, lane4])  # choose a lane on the other side\n            else:\n                fishX2 = random.choice([lane1, lane2])  # choose a lane on the other side\n            fishY = -450\n\n        fishY2 += speed\n        if fishY2 &gt; H + 450:\n            fishX3 = random.choice([lane1, lane2, lane3, lane4])  # choose a random lane\n            if fishX3 == lane1:\n                fishX4 = random.choice([lane3, lane4])  # choose a lane on the other side\n            elif fishX3 == lane2:\n                fishX4 = random.choice([lane3, lane4])  # choose a lane on the other side\n            else:\n                fishX4 = random.choice([lane1, lane2])  # choose a lane on the other side\n            fishY2 = -275\n            if speed &lt; 11:\n                speed *= 1.1\n\n    if state == MENUSTATE:\n        state = drawMenu(button, mx, my)\n        button = 0\n    elif state == GAMESTATE:\n        state = drawGame(button)\n        pygame.display.update()\n        button = 0\n    elif state == INFOSTATE:\n        state = drawInfo(button, mx, my)\n    elif state == OVERSTATE:\n        state = drawOver(button, mx, my)\n    else:\n        running = False\n    print(state)\n</code></pre>\n"}, {"tags": ["python", "python-3.6", "swig", "python-unicode", "quickfix"], "answers": [{"tags": [], "owner": {"reputation": 888, "user_id": 1795357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f85b0ef93603bc344ed36172ee2d98a?s=128&d=identicon&r=PG", "display_name": "ajoseps", "link": "https://stackoverflow.com/users/1795357/ajoseps"}, "is_accepted": false, "score": 0, "last_activity_date": 1548280034, "creation_date": 1548280034, "answer_id": 54336205, "question_id": 54335429, "link": "https://stackoverflow.com/questions/54335429/python-quickfix-getstring-has-coredump-or-unicode-encode-error-for-strings/54336205#54336205", "title": "Python Quickfix GetString() has Coredump OR Unicode Encode Error for strings &gt;= 16 Characters", "body": "<p>The way I was accessing the fields was incorrect. This is the correct way:</p>\n\n<pre><code>def fromApp(self, message, session_id):\n    msg_type = fix.MsgType()\n    message.getHeader().getField(msg_type)\n    if msg_type.getString() is fix.MsgType_QuoteRequest:\n        quote_req_id = fix.QuoteReqID()\n        message.getField(quote_req_id)\n        print(quote_req_id.getValue())\n</code></pre>\n"}], "owner": {"reputation": 888, "user_id": 1795357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f85b0ef93603bc344ed36172ee2d98a?s=128&d=identicon&r=PG", "display_name": "ajoseps", "link": "https://stackoverflow.com/users/1795357/ajoseps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548280034, "creation_date": 1548276674, "question_id": 54335429, "link": "https://stackoverflow.com/questions/54335429/python-quickfix-getstring-has-coredump-or-unicode-encode-error-for-strings", "title": "Python Quickfix GetString() has Coredump OR Unicode Encode Error for strings &gt;= 16 Characters", "body": "<p>The following snippet of code (in a class derived from quickfix.Application) coredumps/SIGSEGV when retrieving the QuoteReqID as a String. I've played around with the size of the QuoteReqID and noticed that string fields with values &lt; 16 characters are processed just fine, but string fields with values above that limit are not, which lead to the eventual SIGSEGV or UnicodeEncodeError. It seems like this is an issue with the SWIG layer that Quickfix uses, and specifically with python3. I just wanted to see if I am doing something wrong, or if there is already a workaround.</p>\n\n<pre><code>import quickfix as fix\n\n...\n\ndef fromApp(self, message, session_id):\n    msg_type = fix.MsgType()\n    message.getHeader().getField(msg_type)\n    if msg_type.getString() is fix.MsgType_QuoteRequest:\n        quote_req_id_field = message.getField(fix.QuoteReqID())\n        quote_req_id = quote_req_id_field.getString()\n        print(quote_req_id)\n</code></pre>\n\n<p>I cannot seem to duplicate the conditions required for the coredump vs the UnicodeEncodeError. When the UnicodeEncodeError does occur this is what it looks like in the FIX Logs:</p>\n\n<pre><code>15 Characters\nOriginal String=samplequotereqs\n131=samplequotereqs\n\n16 Characters\nOriginal String=samplequotereqs\n131=        otereqs1\n</code></pre>\n\n<p>In the second example it's not spaces preceding the 'otereqs1' but rather the a white clear vertical unicode block character which I think is U+25AF. </p>\n"}, {"tags": ["python", "django", "sqlalchemy", "django-sorcery"], "answers": [{"comments": [{"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "edited": false, "score": 0, "creation_date": 1549660670, "post_id": 54545718, "comment_id": 95997049, "body": "thanks! I think I had a typo in my INSTALLED_APPS, I&#39;ll see if fixing that helps."}, {"owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "edited": false, "score": 0, "creation_date": 1549660708, "post_id": 54545718, "comment_id": 95997063, "body": "any chance there&#39;s an easy way to plug django-sorcery models into django admin? so I can edit tables etc..."}, {"owner": {"reputation": 23769, "user_id": 485844, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/94e8e6d4f0459c0db646ea8a84ace2b5?s=128&d=identicon&r=PG", "display_name": "miki725", "link": "https://stackoverflow.com/users/485844/miki725"}, "reply_to_user": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "edited": false, "score": 0, "creation_date": 1549735607, "post_id": 54545718, "comment_id": 96013087, "body": "not at this time. I started some work for admin support but its at early stages. eventually hope to get it running <a href=\"https://github.com/shosca/django-sorcery/pull/109\" rel=\"nofollow noreferrer\">github.com/shosca/django-sorcery/pull/109</a>"}], "tags": [], "owner": {"reputation": 23769, "user_id": 485844, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/94e8e6d4f0459c0db646ea8a84ace2b5?s=128&d=identicon&r=PG", "display_name": "miki725", "link": "https://stackoverflow.com/users/485844/miki725"}, "is_accepted": true, "score": 2, "last_activity_date": 1549419026, "creation_date": 1549419026, "answer_id": 54545718, "question_id": 54335419, "link": "https://stackoverflow.com/questions/54335419/django-sorcery-isnt-autogenerating-migrations/54545718#54545718", "title": "django-sorcery isn&#39;t autogenerating migrations", "body": "<p>the missing template was actually resolved in a recent release so would recommend to give that a try.</p>\n\n<p>as for the models not being picked up, couple of ideas which might be useful</p>\n\n<ul>\n<li>model needs to be a sorcerified model. in order words it needs to subclass <code>db.Model</code>:</li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code>from django_sorcery.db import databases\ndb = databases.get(\"default\")\nclass MyModel(db.Model):\n    ...\n</code></pre>\n\n<ul>\n<li><p>model needs to be defined inside one of <code>INSTALLED_APPS</code>. internally sorcery uses <a href=\"https://github.com/django/django/blob/c8720e7696ca41f3262d5369365cc1bd72a216ca/django/apps/registry.py#L243\" rel=\"nofollow noreferrer\"><code>get_containing_app_config</code></a> to get the corresponding django app for a model since sqlalchemy model is not natively registered within a django app</p></li>\n<li><p>by default nothing else is required hence no need for a traditional <code>env.py</code>. some basic customizations are allowed in apps <code>AppConfig</code>:</p>\n\n<ul>\n<li><code>version_table</code> - defaults to <code>alembic_version_{app.label}</code></li>\n<li><code>version_table_schema</code></li>\n</ul>\n\n<p>if not sufficient there are couple of <a href=\"https://github.com/shosca/django-sorcery/blob/master/django_sorcery/db/signals.py#L96-L99\" rel=\"nofollow noreferrer\">signals</a> which can be used to hook into alembic config creation for customization</p></li>\n</ul>\n\n<p>that should make the migration command work. repo ships with a <a href=\"https://github.com/shosca/django-sorcery/tree/master/test_site\" rel=\"nofollow noreferrer\"><code>test_site</code></a> which contains a canonical <code>polls</code> app for testing. you can experiment with it and alembic migrations:</p>\n\n<pre><code>$ cd test_site\n$ ./manage.py sorcery revision -m 'initial migration' -r 0001 --autogenerate polls\n$ cat polls/migrations/0001_initial_migration.py\n...\ndef upgrade():\n    # ### commands auto generated by Alembic - please adjust! ###\n    op.create_table('question',\n    sa.Column('pk', sa.Integer(), autoincrement=True, nullable=False),\n    sa.Column('question_text', sa.String(length=200), nullable=True),\n    sa.Column('pub_date', sa.DateTime(), nullable=True),\n    sa.PrimaryKeyConstraint('pk')\n    )\n    op.create_table('choice',\n    sa.Column('pk', sa.Integer(), autoincrement=True, nullable=False),\n    sa.Column('choice_text', sa.String(length=200), nullable=True),\n    sa.Column('votes', sa.Integer(), nullable=True),\n    sa.Column('question_pk', sa.Integer(), nullable=True),\n    sa.ForeignKeyConstraint(['question_pk'], ['question.pk'], ),\n    sa.PrimaryKeyConstraint('pk')\n    )\n    # ### end Alembic commands ###\n...\n</code></pre>\n\n<p>disclaimer: Im one of the maintainers of django-sorcery. thanks for trying it! if you run into any bugs feel free to open issues. lots of stuff is not very well documented yet as we are building out features but hopefully over time docs and stability will improve.</p>\n"}], "owner": {"reputation": 35385, "user_id": 173773, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e09251f97ace7198ecf804f79b602885?s=128&d=identicon&r=PG", "display_name": "blueberryfields", "link": "https://stackoverflow.com/users/173773/blueberryfields"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 54545718, "answer_count": 1, "score": 1, "last_activity_date": 1549419026, "creation_date": 1548276638, "question_id": 54335419, "link": "https://stackoverflow.com/questions/54335419/django-sorcery-isnt-autogenerating-migrations", "title": "django-sorcery isn&#39;t autogenerating migrations", "body": "<p>I'm playing around with the <a href=\"https://github.com/shosca/django-sorcery\" rel=\"nofollow noreferrer\">django-sorcery</a> library, and I've been trying to generate some migrations:</p>\n\n<pre><code>django-admin sorcery revision -m \"Second revision\" --autogenerate -v 1 my_app\n</code></pre>\n\n<p>When I first ran the command, I saw an error message: </p>\n\n<pre><code>FileNotFoundError: [Errno 2] No such file or directory: [... snip ...]python3.7/site-packages/django_sorcery/db/alembic/script.py.mako\n</code></pre>\n\n<p>Not sure why the template is missing from the pip package, I added it back in by hand.</p>\n\n<p>Now, the command just generates empty migration files, even though I specify the --autogenerate flag.</p>\n\n<p>Should I be throwing an env.py file somewhere? is this command actually supposed to work yet? Help appreciated.</p>\n"}, {"tags": ["python", "django", "django-forms", "django-testing"], "answers": [{"tags": [], "owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "is_accepted": true, "score": 0, "last_activity_date": 1548283783, "last_edit_date": 1548283783, "creation_date": 1548282369, "answer_id": 54336651, "question_id": 54335384, "link": "https://stackoverflow.com/questions/54335384/django-testcase-on-form-validation-fails-even-tough-input-is-valid/54336651#54336651", "title": "Django TestCase on form validation fails even tough input is valid", "body": "<p>Try this in your test:</p>\n\n<pre><code>form = SnippetForm({\n        'title': 'Test snippet title',\n        'programming_language': 1, #ProgrammingLanguage.objects.get(pk=1),\n        'code': 'code here',\n        'explanation': 'explanation here',\n        'tags': Tag.objects.all()\n    })\n</code></pre>\n\n<p>When using a form for a model that has a primary key as one of its fields, you bound the form to data using the pk value for such field, not the model instance. </p>\n\n<p>This is what <code>FormView</code> does under the hood. And that's why your test is failing while the view works ok.</p>\n\n<p>also be sure you have a programming language which <code>pk</code> is 1.</p>\n"}], "owner": {"reputation": 496, "user_id": 7612540, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8ba99fee81417d9884fbf3d6c7a11697?s=128&d=identicon&r=PG&f=1", "display_name": "MushroomMauLa", "link": "https://stackoverflow.com/users/7612540/mushroommaula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 54336651, "answer_count": 1, "score": 1, "last_activity_date": 1548283783, "creation_date": 1548276439, "question_id": 54335384, "link": "https://stackoverflow.com/questions/54335384/django-testcase-on-form-validation-fails-even-tough-input-is-valid", "title": "Django TestCase on form validation fails even tough input is valid", "body": "<p>As in the title described I've got a form which validates correctly when I am using the <code>FormView</code>. However as I started writting tests today\n the same input fails in the TestCase  and I get the following error:</p>\n\n<pre><code>{'programming_language': ['Select a valid choice. That choice is not one of the available choices.']}\n</code></pre>\n\n<p>These are the models, forms, views and the test I am using</p>\n\n<pre><code># models.py\nfrom django.db import models\n\n\nclass Tag(models.Model):\n\n    name = models.CharField(max_length=40, unique=True)\n\nclass ProgrammingLanguage(models.Model):\n\n    name = models.CharField(max_length=40, unique=True)\n\nclass Snippet(models.Model):\n\n    title = models.CharField(max_length=40)\n    programming_language = models.ForeignKey(ProgrammingLanguage, on_delete=models.CASCADE)\n    creation_date = models.DateTimeField(auto_now_add=True)\n    explanation = models.TextField()\n    code = models.TextField()\n    tags = models.ManyToManyField(Tag)\n\n\n# forms.py  \nfrom django import forms\nfrom django.utils.translation import gettext_lazy as _\n\nfrom .models import Snippet\n\nclass SnippetForm(forms.ModelForm):\n\n    class Meta:\n        model = Snippet\n        exclude = [\"creation_date\"]\n\n# views.py\nfrom django.urls import reverse_lazy\nfrom django.views import generic\nfrom .models import Snippet\nfrom .forms import SnippetForm\n\nclass SnippetFormView(generic.FormView):\n    template_name = \"snippets/snippet_form.html\"\n    form_class = SnippetForm\n    success_url = reverse_lazy(\"snippets\")\n\n    def form_valid(self, form):\n        # for testing purposes\n        print(form.cleaned_data)\n        form.save()\n        return super().form_valid(form)\n\n# test_forms.py\nfrom django.test import TestCase\n\nfrom snippets.forms import SnippetForm\nfrom snippets.models import ProgrammingLanguage, Tag, Snippet\n\nclass SnippetFormTestCase(TestCase):\n\n    @classmethod\n    def setUpTestData(cls):\n        ProgrammingLanguage.objects.create(name=\"Javascript\")\n        Tag.objects.create(name=\"website\")\n\n    def test_forms(self):\n        form = SnippetForm({\n            'title': 'Test snippet title',\n            'programming_language': ProgrammingLanguage.objects.get(pk=1),\n            'code': 'code here',\n            'explanation': 'explanation here',\n            'tags': Tag.objects.all()\n        })\n        # calling is valid to get cleaned_data and original data \n        form.is_valid()\n        print(form.data)\n        print(form.cleaned_data)\n        self.assertEqual(form.errors, {})\n</code></pre>\n\n<p>This is the <code>cleaned_data</code> I get in the view:</p>\n\n<pre><code>{'title': 'Test snippet title', 'programming_language': &lt;ProgrammingLanguage: Javascript&gt;, 'explanation': 'explanation here', 'code': 'code here', 'tags': &lt;QuerySet [&lt;Tag: website&gt;]&gt;}\n</code></pre>\n\n<p>And this is the data and the cleaned_data I get during the test:</p>\n\n<pre><code># data\n{'title': 'Test snippet title', 'programming_language': &lt;ProgrammingLanguage: Javascript&gt;, 'code': 'code here', 'explanation': 'explanation here', 'tags': &lt;QuerySet [&lt;Tag: website&gt;]&gt;}\n# cleaned_data\n{'title': 'Test snippet title', 'explanation': 'explanation here', 'code': 'code here', 'tags': &lt;QuerySet [&lt;Tag: website&gt;]&gt;}\n</code></pre>\n\n<p>Why is the ProgrammingLanguage an invalid choice during the test, but valid while using the website?</p>\n"}, {"tags": ["python", "postgresql", "security", "psycopg2"], "answers": [{"tags": [], "owner": {"reputation": 348, "user_id": 4499795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bb1f069e2b69ae9cdb8216ab6b7e9fe?s=128&d=identicon&r=PG&f=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/4499795/louis"}, "is_accepted": false, "score": 0, "last_activity_date": 1548276720, "creation_date": 1548276720, "answer_id": 54335441, "question_id": 54335362, "link": "https://stackoverflow.com/questions/54335362/how-to-improve-security-with-psycopg2-connection/54335441#54335441", "title": "How to improve security with psycopg2 connection?", "body": "<p>One possible way is to store your key chain in a permission-controlled directory, and make your script read that credential file to extract username and password. This way you could mask the credential from whom could view the script but have no permission to the directory.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 10412040, "user_type": "registered", "profile_image": "https://graph.facebook.com/2053242631386641/picture?type=large", "display_name": "NbaRo", "link": "https://stackoverflow.com/users/10412040/nbaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1548278237, "last_edit_date": 1548278237, "creation_date": 1548277192, "answer_id": 54335551, "question_id": 54335362, "link": "https://stackoverflow.com/questions/54335362/how-to-improve-security-with-psycopg2-connection/54335551#54335551", "title": "How to improve security with psycopg2 connection?", "body": "<p>Put it in a variable, store it in a module/package, them in your script write :</p>\n\n<pre><code>from *libname* import sqlpassword\n\nconn = psycopg2.connect('dbname=name user=user password=sqlpassword')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 4952801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-mNEKcW7BiKY/AAAAAAAAAAI/AAAAAAAAAFI/gd4a-6vD_YM/photo.jpg?sz=128", "display_name": "BobyCloud", "link": "https://stackoverflow.com/users/4952801/bobycloud"}, "is_accepted": false, "score": 0, "last_activity_date": 1548277837, "creation_date": 1548277837, "answer_id": 54335694, "question_id": 54335362, "link": "https://stackoverflow.com/questions/54335362/how-to-improve-security-with-psycopg2-connection/54335694#54335694", "title": "How to improve security with psycopg2 connection?", "body": "<p><br></p>\n\n<p>You have to store your postgresql credentials and dont hard code them in .py scripts. To do this, I suggest you to use <code>django-decouple</code> module. <br>\nWith this module, You can store your database credentials in a <code>.env</code> file like this <br></p>\n\n<pre><code>DB_NAME=DB_NAME\nDB_USER=DB_USER\nDB_PASSWORD=DB_PASS\nDB_HOST=localhost\nDB_PORT=5432\n</code></pre>\n\n<p>and then you can use it in your python or django project as simple as drinking a cup of tea :) <br></p>\n\n<p><strong>Related links :</strong> <br>\ndjang-decouple official page <br>\n<a href=\"https://pypi.org/project/django-decouple/\" rel=\"nofollow noreferrer\">https://pypi.org/project/django-decouple/</a> <br>\nnice and simple tutorial to learn how to use django-decouple <br>\n<a href=\"https://simpleisbetterthancomplex.com/2015/11/26/package-of-the-week-python-decouple.html\" rel=\"nofollow noreferrer\">https://simpleisbetterthancomplex.com/2015/11/26/package-of-the-week-python-decouple.html</a></p>\n\n<p>Best regards.</p>\n"}, {"tags": [], "owner": {"reputation": 716, "user_id": 6655562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515ad6c0ed020a56e428cc42210873e7?s=128&d=identicon&r=PG&f=1", "display_name": "Jie", "link": "https://stackoverflow.com/users/6655562/jie"}, "is_accepted": false, "score": 1, "last_activity_date": 1565983991, "creation_date": 1565983991, "answer_id": 57530175, "question_id": 54335362, "link": "https://stackoverflow.com/questions/54335362/how-to-improve-security-with-psycopg2-connection/57530175#57530175", "title": "How to improve security with psycopg2 connection?", "body": "<p>AWS and Databricks have secret management tools letting you to store your password as a secret. </p>\n"}], "owner": {"reputation": 59, "user_id": 5526456, "user_type": "registered", "profile_image": "https://graph.facebook.com/1241725565920975/picture?type=large", "display_name": "Joe G", "link": "https://stackoverflow.com/users/5526456/joe-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1565984526, "creation_date": 1548276338, "last_edit_date": 1565984526, "question_id": 54335362, "link": "https://stackoverflow.com/questions/54335362/how-to-improve-security-with-psycopg2-connection", "title": "How to improve security with psycopg2 connection?", "body": "<p>I have a PostgreSQL database and I have a script that uses data in the db to update a website. In the script I have the following code:</p>\n\n<pre><code>conn = psycopg2.connect('dbname=name user=user password=password')\n</code></pre>\n\n<p>Is there a better or more secure way to connect to the db without exposing my password in the script?</p>\n\n<p>I have the same issue in Django with the settings.py file.</p>\n"}, {"tags": ["python", "python-2.7", "vlc", "libvlc"], "answers": [{"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": true, "score": 1, "last_activity_date": 1548277970, "creation_date": 1548277970, "answer_id": 54335725, "question_id": 54335351, "link": "https://stackoverflow.com/questions/54335351/using-vlc-to-play-pause-an-audio-track-inside-of-separate-functions/54335725#54335725", "title": "Using VLC to play/pause an audio track inside of separate functions", "body": "<p>I think that you don't need to re-create the <code>MediaPlayer</code> once it is created.</p>\n\n<p>One way to do that could be:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># The player\np = None\n\n\ndef cmd_init(stream_url):\n    global p\n    p = vlc.MediaPlayer(stream_url)\n\n\ndef cmd_sr(stream_url):\n    p.play()\n\n\ndef cmd_pause():\n    sendMessage(s, \"Tried to pause\")\n    p.pause()\n</code></pre>\n\n<p>But, using a global variable (here: <em>p</em>) is not very elegant. The best practice is to use a class:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class MyPlayer(object):\n    def __init__(self, stream_url):\n        self.player = vlc.MediaPlayer(stream_url)\n\n    def play(self):\n        self.player.play()\n\n    def pause(self):\n        sendMessage(s, \"Tried to pause\")\n        self.player.pause()\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 8680609, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lf1PgSpWmk8/AAAAAAAAAAI/AAAAAAAABdQ/zqYmUmZRgdI/photo.jpg?sz=128", "display_name": "rxbots", "link": "https://stackoverflow.com/users/8680609/rxbots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 54335725, "answer_count": 1, "score": 0, "last_activity_date": 1548277970, "creation_date": 1548276304, "question_id": 54335351, "link": "https://stackoverflow.com/questions/54335351/using-vlc-to-play-pause-an-audio-track-inside-of-separate-functions", "title": "Using VLC to play/pause an audio track inside of separate functions", "body": "<p>I have one function (cmd_sr) that plays an audio track using the VLC-python lib. </p>\n\n<p>I'm aiming to have different functions to pause, stop, change tracks, etc. But if I try to pause the track in a different function there's no change. It works fine if I add the p.pause() into the cmd_sr function.</p>\n\n<p>Is there a way to embed the cmd_pause() function inside of the cmd_sr(), or somehow allow it to be accessed or paused by any function?</p>\n\n<pre><code>def cmd_sr(stream_url):\n    global p\n    p = vlc.MediaPlayer(stream_url)\n    p.play()\ndef cmd_pause():\n    print(stream_url)\n    p = vlc.MediaPlayer(stream_url)\n    sendMessage(s, \"Tried to pause\")\n    p.pause()\n</code></pre>\n"}, {"tags": ["python", "pandas", "scikit-learn", "k-means"], "comments": [{"owner": {"reputation": 1594, "user_id": 2391370, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7356a0c14524580872e815a4d5b2b269?s=128&d=identicon&r=PG", "display_name": "Tammo Heeren", "link": "https://stackoverflow.com/users/2391370/tammo-heeren"}, "edited": false, "score": 0, "creation_date": 1548276579, "post_id": 54335346, "comment_id": 95488198, "body": "Please include all necessary imports. At what point do you get a <code>MemoryError</code>?"}, {"owner": {"reputation": 209, "user_id": 9034014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1560f433119b30ac1b15fb5d47ea1f?s=128&d=identicon&r=PG&f=1", "display_name": "Gerasimos ", "link": "https://stackoverflow.com/users/9034014/gerasimos"}, "reply_to_user": {"reputation": 1594, "user_id": 2391370, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7356a0c14524580872e815a4d5b2b269?s=128&d=identicon&r=PG", "display_name": "Tammo Heeren", "link": "https://stackoverflow.com/users/2391370/tammo-heeren"}, "edited": false, "score": 0, "creation_date": 1548278267, "post_id": 54335346, "comment_id": 95488858, "body": "@TammoHeeren Update: I am getting the error in <code>dummies = pd.get_dummies(data[col], prefix=col)</code> (EC2)."}], "owner": {"reputation": 209, "user_id": 9034014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f1560f433119b30ac1b15fb5d47ea1f?s=128&d=identicon&r=PG&f=1", "display_name": "Gerasimos ", "link": "https://stackoverflow.com/users/9034014/gerasimos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548277037, "creation_date": 1548276290, "last_edit_date": 1548277037, "question_id": 54335346, "link": "https://stackoverflow.com/questions/54335346/how-to-preprocess-a-large-pandas-dataframe-in-python-for-k-means", "title": "How to preprocess a large pandas dataframe in Python for k-means", "body": "<p>I want to find the value of 'k' in k-means algorithm using the elbow method. I am using python and pandas. My .csv file is about 500MB(containing almost 1M rows). The problem is that because of <code>MinMaxScaler</code> everything is converted to <code>float64</code> and thus I get a <code>MemoryError</code> (tried to read a few rows and it worked).</p>\n\n<p>So far I tried to run it localy(MacBook Pro - 16GB DDR4) and on EC2 instance (free Tier) both as a python and pyspark file (in all cases I got a <code>MemoryError</code>). As concerning the pyspark (since I am not an expert) I created a <code>SparkSession</code> and created a <code>main</code> and a <code>if __name__==__main__</code>.</p>\n\n<pre><code>import pandas as pd\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn.cluster import KMeans\nimport matplotlib.pyplot as plt\ndata = pd.read_csv('prosepexergasia.csv',low_memory = False)\n\ncategorical_features = ['vendor_name', 'ship_from', 'market', \n'category_cl' ]\ncontinuous_features = ['price']\n\nfor col in categorical_features:\n    dummies = pd.get_dummies(data[col], prefix=col)\n    data = pd.concat([data, dummies], axis=1)\n    data.drop(col, axis=1, inplace=True)\n\nmms = MinMaxScaler()\nmms.fit(data)\ndata_transformed = mms.transform(data)\n\nSum_of_squared_distances = []\nK = range(1,15)\nfor k in K:\n    km = KMeans(n_clusters=k)\n    km = km.fit(data_transformed)\n    Sum_of_squared_distances.append(km.inertia_) \n</code></pre>\n\n<p>My question is how can I resolve this issue? Should I just launch a \"larger\" EC2 instance (with more memory) and run it as pandas dataframe? Can I distribute the job in python? Should I focus on pySpark? Thank you in advance!</p>\n"}, {"tags": ["python", "oop"], "comments": [{"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 3, "creation_date": 1548276499, "post_id": 54335333, "comment_id": 95488158, "body": "Call the super\u2019s <code>__init__</code> <i>after</i> you\u2019ve set the attribute\u2026!?"}, {"owner": {"reputation": 3389, "user_id": 2037826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LK68l.jpg?s=128&g=1", "display_name": "daveruinseverything", "link": "https://stackoverflow.com/users/2037826/daveruinseverything"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 1, "creation_date": 1548276620, "post_id": 54335333, "comment_id": 95488210, "body": "@deceze has already given you the right answer so I won&#39;t repeat it. Separate feedback though, you should use UpperCamelCase for your class names: <code>MuscleCell</code>, not <code>Muscle_cell</code>. :)"}, {"owner": {"reputation": 461, "user_id": 4356506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8368ff96dbdb44928059bc3ce89b0c55?s=128&d=identicon&r=PG", "display_name": "0e1val", "link": "https://stackoverflow.com/users/4356506/0e1val"}, "edited": false, "score": 0, "creation_date": 1548276757, "post_id": 54335333, "comment_id": 95488252, "body": "You can call the parent class init after setting the specific name: <code>class Muscle_cell(Cell):     def __init__(self, strength=&#39;huge&#39;):         self.strength = &#39;huge&#39;         super().__init__() </code>"}, {"owner": {"reputation": 1, "user_id": 10957859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15578d58f4250080b5a97f3d5d396953?s=128&d=identicon&r=PG&f=1", "display_name": "mtytgat", "link": "https://stackoverflow.com/users/10957859/mtytgat"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1548313141, "post_id": 54335333, "comment_id": 95497878, "body": "@deceze thanks for the suggestion, but note that I want to also use the name attribute in the super&#39;s init after it was created by the subclass. In my example it&#39;s     print(self.name) but in reality it&#39;s a much more complicated method that should be executed once the name is known. And I can&#39;t execute the complete super&#39;s init AFTER setting the name, because then the name can&#39;t be constructed because it needs the some_essential_property"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1548317859, "post_id": 54335333, "comment_id": 95500087, "body": "Then you have a logical conundrum you can&#39;t really unravel. A depends on B which depends on A. \ud83e\udd37\u200d\u2642\ufe0f You <i>could</i> simply make it a class attribute, which is available before <code>__init__</code>, but whether that works for you or not I don&#39;t know."}], "answers": [{"tags": [], "owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "is_accepted": false, "score": 1, "last_activity_date": 1548276730, "creation_date": 1548276730, "answer_id": 54335443, "question_id": 54335333, "link": "https://stackoverflow.com/questions/54335333/how-to-execute-part-of-init-after-init-of-subclass-in-python/54335443#54335443", "title": "How to execute part of &quot;__init__&quot; after __init__ of subclass in python?", "body": "<p>A superclass should not depend on a subclass, there are other (more OOP ways) to do what you want in Python.</p>\n\n<pre><code>import abc\n\nclass Cell(object):\n    def __init__(self, some_essential_property=1):\n        self.some_essential_property = some_essential_property\n\n    @property\n    def name(self):\n        return self.make_name()\n\n    @abc.abstractmethod\n    def make_name(self):\n        pass\n\nclass Muscle_cell(Cell):\n    def __init__(self, strength='huge'):\n        super().__init__()\n        self.strength = 'huge'\n\n    def make_name(self):\n        return 'muscle_with_' + self.strength + '_strength_and_' + str(self.some_essential_property)\n\nM1 = Muscle_cell()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10957859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15578d58f4250080b5a97f3d5d396953?s=128&d=identicon&r=PG&f=1", "display_name": "mtytgat", "link": "https://stackoverflow.com/users/10957859/mtytgat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1548276730, "creation_date": 1548276226, "last_edit_date": 1548276401, "question_id": 54335333, "link": "https://stackoverflow.com/questions/54335333/how-to-execute-part-of-init-after-init-of-subclass-in-python", "title": "How to execute part of &quot;__init__&quot; after __init__ of subclass in python?", "body": "<p>I have a problem in Python, which I feel should theoretically be possible to solve, but perhaps not in practice. I have a class which has a lot of different subclasses. Each object of the objects of the subclasses get a name based on some properties that are unique to the subclass. After that name is defined, I want for each of them to execute the same method, but based on that name. So I'd like to put that in the <code>__init__</code> of the parent class, but that bit should be executed AFTER execution of the subclass' <code>__init__</code>. I suppose I could call some method from the parent class in each of the subclasses' <code>__init__</code> at the end, but then I would be copying code and that doesn't feel right to me.\nSo I was wondering if there's a more elegant solution.</p>\n\n<pre><code>class Cell(object):\n    def __init__(self, some_essential_property=1):\n        self.some_essential_property = some_essential_property\n        # New execute subclass __init__, so that it can make the name\n        # Then:\n        self.name = self.make_name()\n        print(self.name)\n\n    def make_name(self):\n        return 'no_special_name'\n\nclass Muscle_cell(Cell):\n    def __init__(self, strength='huge'):\n        super().__init__()\n        self.strength = 'huge'\n\n    def make_name(self):\n        return 'muscle_with_' + self.strength + '_strength_and_' + str(self.some_essential_property)\n\nM1 = Muscle_cell()\n</code></pre>\n\n<p>This will raise an error because strength isn't known as an attribute yet. That's why I'd like to execute certain lines immediately after the subclass <code>__init__</code>.</p>\n"}, {"tags": ["python", "python-2.7", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 7205, "user_id": 9288200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1c4dc5d3f7433e18f4aa04319ebaec?s=128&d=identicon&r=PG&f=1", "display_name": "Ondrej K.", "link": "https://stackoverflow.com/users/9288200/ondrej-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1548277248, "last_edit_date": 1548277248, "creation_date": 1548276936, "answer_id": 54335492, "question_id": 54335324, "link": "https://stackoverflow.com/questions/54335324/write-zip-file-from-post-request-to-file/54335492#54335492", "title": "Write zip file from post request to file", "body": "<p><code>ZipFile</code> instance should have <code>.fp</code> attribute which in your case would be referring to the <code>StringIO.StringIO</code> holding your content (in general it should be the file-like object underlying content of <code>ZipFile</code>), hence:</p>\n\n<pre><code>zip.fp.seek(0)  # To make sure the read for write start from the beginning\nwith open('outfile.zip', 'wb') as outfile:\n    outfile.write(zip.fp.read())\n</code></pre>\n\n<p>Should do the trick. ;)</p>\n"}], "owner": {"reputation": 190, "user_id": 1337199, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aaef836f88199b32d26729d5289f5689?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1337199/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 54335492, "answer_count": 1, "score": 0, "last_activity_date": 1548277248, "creation_date": 1548276172, "question_id": 54335324, "link": "https://stackoverflow.com/questions/54335324/write-zip-file-from-post-request-to-file", "title": "Write zip file from post request to file", "body": "<p>Python 2.7</p>\n\n<p>I have the following function:</p>\n\n<pre><code>def download(args):\n    payload = {'foo': args.foo,\n               'bar': args.bar, 'baz': args.baz}\n    try:\n      r = requests.post(URL, data=payload, verify='chain.crt')\n    except requests.ConnectionError:\n      raise\n    if r.status_code == requests.codes.ok:\n      if r.content is not None:\n        with closing(r), zipfile.ZipFile(StringIO.StringIO(r.content)) as zip:\n          zip.printdir()\n      # Save file as file name provided by argparse: args.filename\n      # here\n      else:\n        return False\n</code></pre>\n\n<p>This script does a post on a page that will return a zip file. I can get the file but I can't for the life of me figure out how to write the in memory zip file to an actual file on the filesystem. I've been searching all day but it seems to be a well kept secret. </p>\n"}, {"tags": ["python", "django", "django-models", "django-2.1"], "answers": [{"comments": [{"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1548277489, "post_id": 54335470, "comment_id": 95488528, "body": "I&#39;ll definitely look into this, but as I said this was an identical issue when it was a single application project too. For clarity, when I would register <code>User</code> it is done so above <code>admin.site.site_header</code>. IF I&#39;m understanding you correctly. You may also be saying that my loop is causing it to intermittently unregister? EDIT: I think I understand you now, let me try it out."}, {"owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "reply_to_user": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 1, "creation_date": 1548277849, "post_id": 54335470, "comment_id": 95488680, "body": "Yes, if the <code>User</code> model is imported by <code>stores.model</code> it will definitely unregistered in your loop, since this <code>isinstance(User, ModelBase)</code> is true. Try using <code>get_models</code> function to implement your loop."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1548277988, "post_id": 54335470, "comment_id": 95488728, "body": "Got it, that makes perfect sense, I wasn&#39;t thinking about that. Are you certain on the locations of <code>get_app</code> and <code>get_models</code>? Can&#39;t find them in <code>django.db.models</code>."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1548278132, "post_id": 54335470, "comment_id": 95488794, "body": "<code>from django.apps.app import get_app, get_models</code> is the location for 1.7+. Thanks for your help, I&#39;ll accept this after a day or 2 if the issue doesn&#39;t present itself!"}, {"owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "reply_to_user": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1548278208, "post_id": 54335470, "comment_id": 95488829, "body": "Ok, glad to help."}, {"owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 0, "creation_date": 1548278863, "post_id": 54335470, "comment_id": 95489120, "body": "Do you know where these are in Django 2.0+? All everyone is saying is that its been deprecated but I can&#39;t find anywhere where this was replaced? Is it just gone then, and if so I&#39;ll have to specify my version in the question to find a solution compatible."}, {"owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "reply_to_user": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 1, "creation_date": 1548279025, "post_id": 54335470, "comment_id": 95489192, "body": "in Django 2 is a method of <code>AppConfig</code>"}, {"owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "reply_to_user": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "edited": false, "score": 1, "creation_date": 1548279310, "post_id": 54335470, "comment_id": 95489329, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/187202/discussion-between-raydel-miranda-and-codespent\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 12459, "user_id": 2890724, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/or6PX.jpg?s=128&g=1", "display_name": "Raydel Miranda", "link": "https://stackoverflow.com/users/2890724/raydel-miranda"}, "is_accepted": true, "score": 1, "last_activity_date": 1548279294, "last_edit_date": 1548279294, "creation_date": 1548276839, "answer_id": 54335470, "question_id": 54335309, "link": "https://stackoverflow.com/questions/54335309/django-users-inconsistently-registered-to-admin/54335470#54335470", "title": "Django - Users inconsistently registered to Admin", "body": "<p>If <code>stores.models</code> imports <code>User</code> it will be listed in <code>dir(models)</code> and since <code>ModelBase</code> is the Django metaclass for all Django models:</p>\n\n<pre><code>isinstance(User, ModelBase)   # Is True\n</code></pre>\n\n<p>So, the <code>User</code> model is not there because you are unregistering it.</p>\n\n<p>You could use:</p>\n\n<pre><code>from django.apps import apps\n\nstores_app_config = apps.get_app_config('stores')\n\nfor model in stores_app_config.get_models():\n    # process models from stores app here.\n</code></pre>\n\n<p>Proposed reading: <a href=\"https://realpython.com/python-metaclasses/\" rel=\"nofollow noreferrer\">Python metaclasses.</a></p>\n"}], "owner": {"reputation": 1214, "user_id": 3674263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uYfWy.jpg?s=128&g=1", "display_name": "CodeSpent", "link": "https://stackoverflow.com/users/3674263/codespent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 54335470, "answer_count": 1, "score": 0, "last_activity_date": 1548279294, "creation_date": 1548276096, "last_edit_date": 1548278920, "question_id": 54335309, "link": "https://stackoverflow.com/questions/54335309/django-users-inconsistently-registered-to-admin", "title": "Django - Users inconsistently registered to Admin", "body": "<p>This is the default User model, nothing custom, no modifications to Auth in any way. I am using Django 2.1.</p>\n\n<p><strong>Depot/Admin.py</strong></p>\n\n<pre><code>import depot.models as models\nfrom django.contrib import admin\nfrom django.db.models.base import ModelBase\nfrom django.contrib.auth.models import User\n\nadmin.site.site_header = \"DSG IT Database\"\nfor model_name in dir(models):\n    model = getattr(models, model_name)\n    if isinstance(model, ModelBase):\n        if model in admin.site._registry: \n            admin.site.unregister(model)\n        else:\n            admin.site.register(model)\n</code></pre>\n\n<p><strong>Stores/Admin.py</strong></p>\n\n<pre><code>import stores.models as models\nfrom django.contrib import admin\nfrom django.db.models.base import ModelBase\nfrom django.contrib.auth.models import User\n\nadmin.site.site_header = \"DSG IT Database\"\nfor model_name in dir(models):\n    model = getattr(models, model_name)\n    if isinstance(model, ModelBase):\n        if model in admin.site._registry: \n            admin.site.unregister(model)\n        else:\n            admin.site.register(model)\n</code></pre>\n\n<p>I do understand these are <em>sort of</em> redundant, but that isn't the problem because this was an issue when this was a single application project as well.</p>\n\n<p><a href=\"https://i.stack.imgur.com/QHT3s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QHT3s.png\" alt=\"enter image description here\"></a></p>\n\n<p>What is happening is that <code>Users</code> is just completely missing from the admin site. I can register it again with <code>admin.site.register(User)</code>, but then later down the road (seemingly randomly) I'll get an error that <code>User</code> is already registered. Then I <code>unregister</code> the model, and it'll work for a while then at some point Users will just disappear again and the only way to make it work again is by registering it again.</p>\n\n<p>I can't find where I need to be to debug this. I'm assuming somewhere the model is being registered but only under certain conditions I'm unsure of. Has anyone had an issue similar to this?</p>\n\n<p>Please feel free to ask me to include any information you feel will help diagnose!</p>\n"}, {"tags": ["python", "python-2.7", "tkinter", "ioerror"], "comments": [{"owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "edited": false, "score": 3, "creation_date": 1548276071, "post_id": 54335284, "comment_id": 95488001, "body": "Are you completely, absolutely, totally, 100% positive that the image exists in the CWD?"}, {"owner": {"reputation": 7264, "user_id": 3134251, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/053ef2ca2163afe33977f37371043067?s=128&d=identicon&r=PG&f=1", "display_name": "Lafexlos", "link": "https://stackoverflow.com/users/3134251/lafexlos"}, "edited": false, "score": 0, "creation_date": 1548276516, "post_id": 54335284, "comment_id": 95488165, "body": "Just to be on the safe side, can you print <code>os.getcwd()</code> and make sure output matches the path of image?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1548280433, "post_id": 54335284, "comment_id": 95489789, "body": "This sort of error is never going to lie to you. You gave it an invalid path to a file. Since you don&#39;t supply a directory, it&#39;s going to look in the <i>current working directory</i> which may not be the same as the directory where the script is."}, {"owner": {"reputation": 5, "user_id": 10359516, "user_type": "registered", "profile_image": "https://graph.facebook.com/2235490259812548/picture?type=large", "display_name": "Dominik Bayer", "link": "https://stackoverflow.com/users/10359516/dominik-bayer"}, "edited": false, "score": 0, "creation_date": 1548359355, "post_id": 54335284, "comment_id": 95523718, "body": "Even if I give it the exact directory by manually typing it in or using os.getcwd, it gives me one of the Errors."}], "owner": {"reputation": 5, "user_id": 10359516, "user_type": "registered", "profile_image": "https://graph.facebook.com/2235490259812548/picture?type=large", "display_name": "Dominik Bayer", "link": "https://stackoverflow.com/users/10359516/dominik-bayer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548281997, "creation_date": 1548276001, "last_edit_date": 1548281997, "question_id": 54335284, "link": "https://stackoverflow.com/questions/54335284/can-not-show-image-with-tkinter-ioerror", "title": "Can not show image with tkinter (IOError)", "body": "<p>So I try to show an image in a window by using tkinter. Somehow I always get an <strong><code>IOError</code></strong>:</p>\n\n<pre><code>IOError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\domin\\\\Desktop\\\\NEu\\\\Download.jpg'\n</code></pre>\n\n<p>or </p>\n\n<pre><code>IOError: [Errno 2] No such file or directory: 'Download.jpg'\n</code></pre>\n\n<p>The code I am using is from the thread (User: josav09): \n<a href=\"https://stackoverflow.com/questions/10133856/how-to-add-an-image-in-tkinter\">How to add an image in Tkinter?</a></p>\n\n<p>I tried using the Imagename and using the direct path. But nothing works.\nThe script and image are in the same folder and the path is the correct one. </p>\n\n<p>Where is my mistake?</p>\n\n<p>Code:</p>\n\n<pre><code>from tkinter import *\nfrom PIL import ImageTk, Image\nimport os\n\nroot = Tk()\nimg = ImageTk.PhotoImage(Image.open(\"Download.jpg\"))\npanel = Label(root, image = img)\npanel.pack(side = \"bottom\", fill = \"both\", expand = \"yes\")\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 1, "last_activity_date": 1548276883, "last_edit_date": 1548276883, "creation_date": 1548276378, "answer_id": 54335371, "question_id": 54335282, "link": "https://stackoverflow.com/questions/54335282/sum-of-tuples-in-python-using-zip/54335371#54335371", "title": "Sum of tuples in python using zip()", "body": "<p>using basic <code>for</code> loop</p>\n\n<pre><code>import operator\nd={ 'ABX': [(1, 9216)],\n  'ABD': [(4, 15360)],\n  'ABY': [(9, 11264), (10, 1024), (14, 451584)],\n  'ABR': [(18, 738304), (9, 369664)]}\n</code></pre>\n\n<p>Now updating the dictionary with summed values</p>\n\n<pre><code>for k,v in d.items():\n    sum_tup =(0,0)\n    for i in v:\n         sum_tup=tuple(map(operator.add, sum_tup, i))\n    d[k]=sum_tup\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{'ABD': (4, 15360),\n 'ABR': (27, 1107968),\n 'ABX': (1, 9216),\n 'ABY': (33, 463872)}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 161, "user_id": 1320130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/503e9145af11dcba29eb8d86b88be7d5?s=128&d=identicon&r=PG", "display_name": "snow04", "link": "https://stackoverflow.com/users/1320130/snow04"}, "edited": false, "score": 0, "creation_date": 1548285008, "post_id": 54335407, "comment_id": 95491350, "body": "Glad to be of help. Can you mark this answer as accepted if you find it to be correct? (Click on the grey check mark next to the answer.)"}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 4, "last_activity_date": 1548285049, "last_edit_date": 1548285049, "creation_date": 1548276564, "answer_id": 54335407, "question_id": 54335282, "link": "https://stackoverflow.com/questions/54335282/sum-of-tuples-in-python-using-zip/54335407#54335407", "title": "Sum of tuples in python using zip()", "body": "<p>You can use a dict comprehension with each value produced from a sum of a generator expression:</p>\n\n<pre><code>{k: tuple(sum(t) for t in zip(*l)) for k, l in dict0.items()}\n</code></pre>\n\n<p>This returns:</p>\n\n<pre><code>{'ABX': (1, 9), 'ABD': (4, 1), 'ABY': (21, 4), 'ABR': (16, 5)}\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 1320130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/503e9145af11dcba29eb8d86b88be7d5?s=128&d=identicon&r=PG", "display_name": "snow04", "link": "https://stackoverflow.com/users/1320130/snow04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 54335407, "answer_count": 2, "score": -1, "last_activity_date": 1548285049, "creation_date": 1548275994, "last_edit_date": 1548276601, "question_id": 54335282, "link": "https://stackoverflow.com/questions/54335282/sum-of-tuples-in-python-using-zip", "title": "Sum of tuples in python using zip()", "body": "<pre><code>  'ABX': [(1, 9)],\n  'ABD': [(4, 1)],\n  'ABY': [(9, 1), (10, 1), (2, 2)],\n  'ABR': [(8, 2), (8, 3)]}\n</code></pre>\n\n<p>Above is the sample python dictionary,  I wanted to get output such that tuple elements in the dictionary should be added and make it has single tuple. Below is the required output  </p>\n\n<pre><code>  'ABX': [(1, 1)],\n  'ABD': [(4, 1)],\n  'ABY': [(21, 4)],\n  'ABR': [(16, 5)]}\n   }\n</code></pre>\n\n<p>I tried with below code for element (ABR) in dict0 in python shell </p>\n\n<pre><code>    &gt;&gt;&gt;test = [sum(x) for x in zip([ i for i in dict['ABR'])]\n    Traceback (most recent call last):\n    File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n    TypeError: unsupported operand type(s) for +: 'int' and 'tuple'\n</code></pre>\n\n<pre><code>[ i for i in dict['ABR'] ]\n</code></pre>\n\n<p>this gives a tuple , how can I iterate in zip() ?\nAny other solution would be very use full </p>\n"}, {"tags": ["python", "regex", "backend"], "comments": [{"owner": {"reputation": 2103, "user_id": 7554868, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_q0V6XZcS5c/AAAAAAAAAAI/AAAAAAAABeM/Bmdf1MpnjTQ/photo.jpg?sz=128", "display_name": "Jammy Dodger", "link": "https://stackoverflow.com/users/7554868/jammy-dodger"}, "edited": false, "score": 0, "creation_date": 1548276283, "post_id": 54335273, "comment_id": 95488067, "body": "Have you used a site like <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">RegExr</a> to make sure that your expression is actually matching?"}, {"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1548277645, "post_id": 54335273, "comment_id": 95488585, "body": "Szia! I am a bit confused on the formatting. Is &quot;Kategoriak:&quot; a key in the dictionary or part of the string?"}, {"owner": {"reputation": 45, "user_id": 10781323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4767a12dbaa99dd13823f2540311b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vanj", "link": "https://stackoverflow.com/users/10781323/vanj"}, "edited": false, "score": 0, "creation_date": 1548277845, "post_id": 54335273, "comment_id": 95488676, "body": "He :) &#39;Kategoriak&#39; is part of the string."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10781323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4767a12dbaa99dd13823f2540311b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vanj", "link": "https://stackoverflow.com/users/10781323/vanj"}, "edited": false, "score": 0, "creation_date": 1548280680, "post_id": 54335785, "comment_id": 95489899, "body": "Thank you for your answer. The thing is, I have several texts, and the only constant is &#39;Kateg&#243;ri&#225;k:&#39; and &#39;Pseuda_kateg&#243;ri&#225;k:&#39;. So I&#39;m not sure how can I write a generic regex to work across several texts that follow the format I mentioned in the question. Thanks!"}, {"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "reply_to_user": {"reputation": 45, "user_id": 10781323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4767a12dbaa99dd13823f2540311b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vanj", "link": "https://stackoverflow.com/users/10781323/vanj"}, "edited": false, "score": 0, "creation_date": 1548281937, "post_id": 54335785, "comment_id": 95490360, "body": "@Dan could you provide a string example that illustrates your comment?"}], "tags": [], "owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1548278599, "last_edit_date": 1548278599, "creation_date": 1548278264, "answer_id": 54335785, "question_id": 54335273, "link": "https://stackoverflow.com/questions/54335273/python-regex-find-matches-over-slighlty-similar-texts-and-return-a-dictionary/54335785#54335785", "title": "Python Regex: Find matches over slighlty similar texts and return a dictionary (or a list of dictionaries)", "body": "<p>If you want the numbers that follow \"faj\" and \"alfaj\" and you want all values in the string to be returned then <code>re.findall</code> finds all elements in a string that match the regex expression of the first group. </p>\n\n<pre><code>import re\n\ns1 = \"Kateg\u00f3ri\u00e1k:Faj1 (alfaj:12345.1) Pseuda_kateg\u00f3ri\u00e1k:Faj2 (alfaj:678910.11)\"\ns2 = \"kateg\u00f3ri\u00e1k:Faj3 (alfaj:121314.15)Pseuda_kateg\u00f3ri\u00e1k:Faj4 (alfaj:161718.19)Faj5 (alfaj:20212223.24)\"\n\ndef find_elements(s):\n    elements = {'nev':None,\n                'alnev':None}\n    elements['alnev'] =  re.findall(\"alfaj:([\\d\\.]+)\",s)\n    elements['nev'] = re.findall(\"Faj(\\d)\",s)\n    return(elements)\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>In [18]: [find_elements(s) for s in  [s1,s2]]\nOut[18]:\n[{'alnev': ['12345.1', '678910.11'], 'nev': ['1', '2']},\n {'alnev': ['121314.15', '161718.19', '20212223.24'], 'nev': ['3', '4', '5']}]\n</code></pre>\n\n<p>As an aside: A dictionary can hold anything, from a single value, to other dictionaries, lists, data frames - you name it. So you can assign a list to a key dictionary.</p>\n"}], "owner": {"reputation": 45, "user_id": 10781323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4767a12dbaa99dd13823f2540311b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vanj", "link": "https://stackoverflow.com/users/10781323/vanj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548280722, "creation_date": 1548275963, "last_edit_date": 1548280722, "question_id": 54335273, "link": "https://stackoverflow.com/questions/54335273/python-regex-find-matches-over-slighlty-similar-texts-and-return-a-dictionary", "title": "Python Regex: Find matches over slighlty similar texts and return a dictionary (or a list of dictionaries)", "body": "<p>I'm trying to find the matches in several documents and return them as a dictionary (or a list of dictionaries). The documents are in two formats:</p>\n\n<p>Some have two categories with one element each:</p>\n\n<pre><code>\"Kateg\u00f3ri\u00e1k:Faj1 (alfaj:12345.1)\nPseuda_kateg\u00f3ri\u00e1k:Faj2 (alfaj:678910.11)\"\n</code></pre>\n\n<p>And others have two categories and more elements within:</p>\n\n<pre><code>\"kateg\u00f3ri\u00e1k:Faj3 (alfaj:121314.15)Pseuda_kateg\u00f3ri\u00e1k:Faj4 (alfaj:161718.19)Faj5 (alfaj:20212223.24)\"\n</code></pre>\n\n<p>I'writeing to right an expression that will find all the 'faj', 'alfaj' elements. Here is the code I tried so far, but it doesn't work:</p>\n\n<pre><code>def find_elements(text):\n    elements = {'nev':None,\n                'alnev':None, \n                }\n    p = re.compile(r'((Kategoriak)(:)(.*?)(w+\\W))')\n    m = re.search(m, text)\n    elements['nev'] = m.group(2)\n    elements['alnev'] = m.group(4)\n  return elements\n</code></pre>\n\n<p>My regular expression does not find the results. Additionally, I did not get there yet, but after I find all the elements how do I deal with the fact that the documents with more than one element will return two values to the same key? How do I update my dictionary?</p>\n"}, {"tags": ["python", "scikit-learn", "tfidfvectorizer"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9937436"}, "edited": false, "score": 0, "creation_date": 1548327367, "post_id": 54338182, "comment_id": 95505480, "body": "Ah I see. get_features outputs in the same order as as the order of columns in the tfidf matrix? Actually I don&#39;t understand the output of just single (not with toarray). I has rows like  (0,99) 0.045  So last column is the weight I think, but what is the tuple about?  Thanks!"}, {"owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "edited": false, "score": 0, "creation_date": 1548333356, "post_id": 54338182, "comment_id": 95508901, "body": "The output of single is just the object nformation: &lt;1x7 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;\twith 7 stored elements in Compressed Sparse Row format&gt;. It might be worth running the code again to verify this. I can&#39;t reproduce the  (0,99) 0.045 you have commented on."}, {"owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "edited": false, "score": 0, "creation_date": 1548333685, "post_id": 54338182, "comment_id": 95509084, "body": "Actually, print(single) outputs the same information as  single.toarray() but in a slightly different format - an index tuple (row, column) and the respective weight for each feature: print(single)   (0, 6)        0.3779644730092272   (0, 5)        0.3779644730092272   (0, 4)        0.3779644730092272   (0, 3)        0.3779644730092272   (0, 2)        0.3779644730092272   (0, 1)        0.3779644730092272   (0, 0)        0.3779644730092272"}, {"owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "edited": false, "score": 0, "creation_date": 1548337639, "post_id": 54338182, "comment_id": 95511617, "body": "Pandas and the tfidf objects have a multitude of methods for processing the data but without a detailed description of what you are aiming for it is not possible to help you. Please consider posting another question."}, {"owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "edited": false, "score": 0, "creation_date": 1548341220, "post_id": 54338182, "comment_id": 95513825, "body": "What do you mean - what is idf_?"}, {"owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "edited": false, "score": 0, "creation_date": 1548341816, "post_id": 54338182, "comment_id": 95514199, "body": "Probably. Please avoid further questions that are out of the scope of your original question."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9937436"}, "edited": false, "score": 0, "creation_date": 1548342046, "post_id": 54338182, "comment_id": 95514333, "body": "Last need. Do you know how I can multiply the matrix/vector single with another vector like idf_ elementwise?"}, {"owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "edited": false, "score": 0, "creation_date": 1548343253, "post_id": 54338182, "comment_id": 95515135, "body": "single.toarray() * singleTFIDF.idf_"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9937436"}, "edited": false, "score": 0, "creation_date": 1548343359, "post_id": 54338182, "comment_id": 95515217, "body": "Yes, but I use then the dot product for cosine similiarity. And this just uses single as input... numpy.dot does not work with single.toarray()."}, {"owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "edited": false, "score": 0, "creation_date": 1548345107, "post_id": 54338182, "comment_id": 95516419, "body": "My previous answer shows you how to calculate the cosine similarity."}], "tags": [], "owner": {"reputation": 3244, "user_id": 9053588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCHbD.png?s=128&g=1", "display_name": "KRKirov", "link": "https://stackoverflow.com/users/9053588/krkirov"}, "is_accepted": true, "score": 4, "last_activity_date": 1548293741, "creation_date": 1548293741, "answer_id": 54338182, "question_id": 54335229, "link": "https://stackoverflow.com/questions/54335229/difference-between-vocabulary-and-get-features-of-tfidfvectorizer/54338182#54338182", "title": "Difference between vocabulary and get_features() of TfidfVectorizer?", "body": "<p>The attribute <em>vocabulary_</em> outputs a dictionary in which all ngrams are the dictionary keys and the respective values are the column positions of each ngram (feature) in the tfidf matrix. The method <em>get_feature_names()</em> outputs a list in which the ngrams appear according to the column position of each feature. You can therefore use either to determine which tfidf column corresponds to which feature. In the example below, the tfidf matrix is easily converted to a pandas data frame using the output of get_feature_names() to name the columns. Also note that all values have been given an equal weight and that the sum of the squares of all weights is equal to one.</p>\n\n<pre><code>singleTFIDF.vocabulary_\nOut[41]: \n{'this': 5,\n 'is': 1,\n 'simple': 3,\n 'example': 0,\n 'this is': 6,\n 'is simple': 2,\n 'simple example': 4}\n\nsingleTFIDF.get_feature_names()\nOut[42]: ['example', 'is', 'is simple', 'simple', 'simple example', 'this', 'this is']\n\nimport pandas as pd\ndf = pd.DataFrame(single.toarray(), columns=singleTFIDF.get_feature_names())\n\ndf\nOut[48]: \n    example        is  is simple    simple  simple example      this   this is\n0  0.377964  0.377964   0.377964  0.377964        0.377964  0.377964  0.377964\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9937436"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2926, "favorite_count": 2, "accepted_answer_id": 54338182, "answer_count": 1, "score": 1, "last_activity_date": 1548293741, "creation_date": 1548275753, "question_id": 54335229, "link": "https://stackoverflow.com/questions/54335229/difference-between-vocabulary-and-get-features-of-tfidfvectorizer", "title": "Difference between vocabulary and get_features() of TfidfVectorizer?", "body": "<p>I have</p>\n\n<pre><code>from sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.metrics.pairwise import cosine_similarity\n\n# Train the vectorizer\ntext=\"this is a simple example\"\nsingleTFIDF = TfidfVectorizer(ngram_range=(1,2)).fit([text])\nsingleTFIDF.vocabulary_ # show the word-matrix position pairs\n\n# Analyse the training string - text\nsingle=singleTFIDF.transform([text])\nsingle.toarray()  \n</code></pre>\n\n<p>I would like to associate for each value in single the according feature.\nWhat is now the structure of single? How could you map the position of a value in single to the feature? </p>\n\n<p>How can I interpret the indices of vocabulary and get_features()? Are they related? Both have the features with indices according to the documentation. That is confusing?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 1, "creation_date": 1548275832, "post_id": 54335208, "comment_id": 95487895, "body": "<code>but the other calls return nothing</code> What do you mean? They return <code>total</code>."}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 1, "creation_date": 1548275863, "post_id": 54335208, "comment_id": 95487913, "body": "why do you think the other calls dont return anything? theres a return <code>total</code>."}, {"owner": {"reputation": 13, "user_id": 10957836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3811625b379fe884b46cdd629b783?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Andrews", "link": "https://stackoverflow.com/users/10957836/steve-andrews"}, "edited": false, "score": 0, "creation_date": 1548276402, "post_id": 54335208, "comment_id": 95488117, "body": "I guess that is what I don&#39;t understand. the recursive call total = &quot;some code&quot; looks like an assignment. I guess I&#39;m having trouble with the syntax."}, {"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1548276779, "post_id": 54335208, "comment_id": 95488264, "body": "Ah i see. Well, first things first, youre absolutely correct that total=&quot;some code&quot; looks like assignment, because IT IS. However, on the right hand side, there is a function that is being called, and must be evaluated before this total gets a value assigned. You can think of it like a &quot;evaluation&quot; of an answer coming from the function. Each evaluation calls the function (which happens to be the same function in this code) onto a lower level stack, and just waits for the completion of evaluation."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10957836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3811625b379fe884b46cdd629b783?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Andrews", "link": "https://stackoverflow.com/users/10957836/steve-andrews"}, "edited": false, "score": 0, "creation_date": 1548277298, "post_id": 54335423, "comment_id": 95488453, "body": "Thank you, I thinking about what the calls produced on the way to the base case, not what happens on the return trip."}, {"owner": {"reputation": 1034, "user_id": 6280433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245a781c8e21350a17c5e0919cb0431f?s=128&d=identicon&r=PG&f=1", "display_name": "Arpit Svt", "link": "https://stackoverflow.com/users/6280433/arpit-svt"}, "reply_to_user": {"reputation": 13, "user_id": 10957836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3811625b379fe884b46cdd629b783?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Andrews", "link": "https://stackoverflow.com/users/10957836/steve-andrews"}, "edited": false, "score": 0, "creation_date": 1548277380, "post_id": 54335423, "comment_id": 95488483, "body": "Please accept the answer if you think it helped you."}, {"owner": {"reputation": 13, "user_id": 10957836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3811625b379fe884b46cdd629b783?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Andrews", "link": "https://stackoverflow.com/users/10957836/steve-andrews"}, "edited": false, "score": 0, "creation_date": 1548278131, "post_id": 54335423, "comment_id": 95488793, "body": "How do I do that? I&#39;m new here."}], "tags": [], "owner": {"reputation": 1034, "user_id": 6280433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245a781c8e21350a17c5e0919cb0431f?s=128&d=identicon&r=PG&f=1", "display_name": "Arpit Svt", "link": "https://stackoverflow.com/users/6280433/arpit-svt"}, "is_accepted": true, "score": 2, "last_activity_date": 1548277095, "last_edit_date": 1548277095, "creation_date": 1548276644, "answer_id": 54335423, "question_id": 54335208, "link": "https://stackoverflow.com/questions/54335208/python-why-do-recursive-calls-increment-a-variable-even-though-there-is-no-ret/54335423#54335423", "title": "Python - why do recursive calls increment a variable even though there is no return value?", "body": "<p>Dry run of your code for <code>multiplication(3, 10)</code> will look like this.</p>\n\n<pre><code>     Num1 Num2 total  Return\n\n1st:   3   10\n\n2nd:   2   10\n\n3rd:   1   10          10(returned to the 2nd)\n\n2nd:   2   10    20    20(returned to the 1st)\n\n1st:   3   10    20    30(returned to the output)\n</code></pre>\n\n<p>As you can see from the dry run that the value of <code>Num2</code> is never changed.</p>\n"}], "owner": {"reputation": 13, "user_id": 10957836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe3811625b379fe884b46cdd629b783?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Andrews", "link": "https://stackoverflow.com/users/10957836/steve-andrews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 54335423, "answer_count": 1, "score": 1, "last_activity_date": 1548277095, "creation_date": 1548275627, "last_edit_date": 1548276764, "question_id": 54335208, "link": "https://stackoverflow.com/questions/54335208/python-why-do-recursive-calls-increment-a-variable-even-though-there-is-no-ret", "title": "Python - why do recursive calls increment a variable even though there is no return value?", "body": "<p>Why does this work?</p>\n\n<p>This is a recursive function to multiply positive numbers by addition.</p>\n\n<pre><code>def multiplication(num1, num2):\n  if num1 == 0 or num2 == 0:\n    return 0\n  print(num1, \" \", num2)\n  if num1 == 1:\n    return num2\n  total = num2 + multiplication(num1-1, num2)\n  return total\n</code></pre>\n\n<p>I understand the the function will call itself num1 - 1 times. What I don't understand is why the variable total is incremented by the value of num2 each time the function returns. The last time the function is called it returns num2 (first off the call stack) makes sense but the other calls return nothing and the value of num2 is never changed. It seems like total should be set to None not += num2.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1548287139, "post_id": 54335164, "comment_id": 95491921, "body": "Wrap the transaction in a try/except block and see if an error is being returned"}, {"owner": {"reputation": 31, "user_id": 8761740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f00cc43e37b863ef75b82ac3754f5c?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Mills", "link": "https://stackoverflow.com/users/8761740/benjamin-mills"}, "reply_to_user": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1548329468, "post_id": 54335164, "comment_id": 95506720, "body": "Hi. Sorry for this. How would I do this?"}, {"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1548358891, "post_id": 54335164, "comment_id": 95523482, "body": "Here&#39;s an example: <a href=\"https://stackoverflow.com/questions/30996401/error-handling-in-python-mysql\" title=\"error handling in python mysql\">stackoverflow.com/questions/30996401/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 8761740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f00cc43e37b863ef75b82ac3754f5c?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Mills", "link": "https://stackoverflow.com/users/8761740/benjamin-mills"}, "reply_to_user": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1548765595, "post_id": 54335164, "comment_id": 95652185, "body": "Hmm, that didn&#39;t seem to do anything."}, {"owner": {"reputation": 31, "user_id": 8761740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f00cc43e37b863ef75b82ac3754f5c?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Mills", "link": "https://stackoverflow.com/users/8761740/benjamin-mills"}, "reply_to_user": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1548789114, "post_id": 54335164, "comment_id": 95666298, "body": "@Steve tried the try statement. Breaking the connection to the db brought back errors as expected. Running the query with the db connection resolved did not return any errors."}, {"owner": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1548790855, "post_id": 54335164, "comment_id": 95667103, "body": "Well, that&#39;s progress of a sort. If you comment out the transaction cursor and run the select cursor only, does that work (assuming there is data in the devices table)?"}, {"owner": {"reputation": 31, "user_id": 8761740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f00cc43e37b863ef75b82ac3754f5c?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Mills", "link": "https://stackoverflow.com/users/8761740/benjamin-mills"}, "reply_to_user": {"reputation": 1677, "user_id": 525690, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/1l6Nj.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/525690/steve"}, "edited": false, "score": 0, "creation_date": 1548792079, "post_id": 54335164, "comment_id": 95667597, "body": "@Steve Something I did notice when running the commands outside of the transaction though is that it seemed to perform the delete from data before the insert all from data to archive. Tried commenting out the START TRANSACTION and that seemed to do the same as before."}], "owner": {"reputation": 31, "user_id": 8761740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f00cc43e37b863ef75b82ac3754f5c?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Mills", "link": "https://stackoverflow.com/users/8761740/benjamin-mills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548275453, "creation_date": 1548275453, "question_id": 54335164, "link": "https://stackoverflow.com/questions/54335164/python-mysql-multi-query", "title": "Python MySQL multi query", "body": "<p>I'm not sure if this is something small that I just cannot see. I'm new to all this SQL in Python and can't see why the transaction is not running in my database. Hope you can help!</p>\n\n<pre><code>#requires mysql.connector\nimport mysql.connector\n#make the sql connection\nmydb = mysql.connector.connect(\n  host=\"localhost\",\n  user=\"root\",\n  passwd=\"\",\n  db=\"networks\"\n)\n\n\n#create our cursor element\ncursor=mydb.cursor()\n\n#lets loop through the table\n#run our query to move data in the db to the archive\ncursor.execute(\"\"\"START TRANSACTION;\nINSERT INTO archive select * from data where cdate  &lt; (NOW() - INTERVAL 1 MONTH);\nDELETE FROM archive WHERE cdate &lt; (NOW() - INTERVAL 6 MONTH);\nDELETE FROM data;\nCOMMIT;\n\"\"\", multi=True)\n\n#select all from devices\ncursor.execute(\"SELECT * FROM devices\")\n#do something with this query\nfor row in cursor.fetchall():\n  #Line for testing output from SQL table\n  print(\"Connecting to \"+row[1])\n  #here is where we run our SSH Code\n  #code from here will re-populate the data table\n\n#make sure we close everything\nmydb.commit()\n\ncursor.close()\nmydb.close()\n</code></pre>\n"}, {"tags": ["python", "pytorch"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1548280501, "post_id": 54335454, "comment_id": 95489824, "body": "If I do something like: ins = Griddataset      for i , sample in enumerate(ins):     print(i)      it goes on for a long time past what len(ins) is."}, {"owner": {"reputation": 8089, "user_id": 4280242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba7a603c8ad4ad09007c9360bc2f51ba?s=128&d=identicon&r=PG&f=1", "display_name": "Jatentaki", "link": "https://stackoverflow.com/users/4280242/jatentaki"}, "reply_to_user": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1548280949, "post_id": 54335454, "comment_id": 95490012, "body": "This is because <code>enumerate</code> calls <code>__iter__</code> under the hood, which has a default implementation for objects with <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__getitem__\" rel=\"nofollow noreferrer\"><code>__getitem__</code></a> defined. You can avoid this by adding <code>if idx &gt;= len(self): raise IndexError()</code> at the beginning of <code>__getitem__</code>."}, {"owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1548281877, "post_id": 54335454, "comment_id": 95490337, "body": "Alright that works!   So I want to now concatenate each separate x and y value, and r value with the z tensor. So I&#39;d have batches of this:  item = z.cat(x).cat(y).cat(r)  Would look like: [0.234,0.167,1,2,5] Where the first two numbers would be the z vector, the next two would be the corresponding x and y values and the last would be r. I&#39;d want a batch of these total vectors which would give me a 3D matrix with z staying constant and x,y and r varying along the first two dimensions. How would I do this?"}, {"owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1548282106, "post_id": 54335454, "comment_id": 95490420, "body": "To clarify why I want to do this, I want to run this total vector through a forward pass of a neural network which then gives me one pixel intensity value. I want to use batches so I can run multiple total vectors through this network at once."}, {"owner": {"reputation": 8089, "user_id": 4280242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba7a603c8ad4ad09007c9360bc2f51ba?s=128&d=identicon&r=PG&f=1", "display_name": "Jatentaki", "link": "https://stackoverflow.com/users/4280242/jatentaki"}, "reply_to_user": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1548282906, "post_id": 54335454, "comment_id": 95490702, "body": "Regarding <code>r</code>, you can calculate this on the fly (<code>x_chunk ** 2 + y_chunk **2</code>). For <code>z</code> - I don&#39;t understand how you want to concatenate it. <code>z</code> is of length 8. How do you pick the two values which are supposed to go with each of the 1000 values in x and y?"}, {"owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1548293193, "post_id": 54335454, "comment_id": 95493101, "body": "all of the z values need to be added to each list of x and y values. for example, one vector in a batch needs to be: vector[i][j] = [z1,z2,z3,z4,z5,z6,z7,z8,x[i],y[j],r[i][j]]"}], "tags": [], "owner": {"reputation": 8089, "user_id": 4280242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba7a603c8ad4ad09007c9360bc2f51ba?s=128&d=identicon&r=PG&f=1", "display_name": "Jatentaki", "link": "https://stackoverflow.com/users/4280242/jatentaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1548276779, "creation_date": 1548276779, "answer_id": 54335454, "question_id": 54335125, "link": "https://stackoverflow.com/questions/54335125/how-do-i-use-pytorch-dataloader-to-output-small-2d-chunks-of-a-larger-2d-grid-of/54335454#54335454", "title": "How do I use Pytorch DataLoader to output small 2D chunks of a larger 2D grid of x and y values?", "body": "<p>I let myself remove most of the extraneous parts of your code, such as <code>z</code> and <code>r</code>. A minimal data loader which returns consecutive areas of a 2d grid, as you defined it, is below</p>\n\n<pre><code>import torch\n\nclass GridDataset:\n    def __init__(self):\n        self.chunk_size = 250\n\n        self.x = torch.arange(500)\n        self.y = torch.arange(500)\n\n    def chunks_x(self):\n        return self.x.size(0) // self.chunk_size\n\n    def chunks_y(self):\n        return self.y.size(0) // self.chunk_size\n\n    def __len__(self):\n        return self.chunks_x() * self.chunks_y()\n\n    def __getitem__(self, idx):\n        # integer division to get the id along the first axis\n        x_idx = idx // self.chunks_x()\n        # modulo division to get the id along the other axis\n        y_idx = idx % self.chunks_x()\n\n        cs = self.chunk_size # to make lines shorter\n\n        # grab the actual slices using the computed values of x_idx and y_idx\n        x_chunk = self.x[cs * x_idx:cs * (1+x_idx)]\n        y_chunk = self.y[cs * y_idx:cs * (1+y_idx)]\n\n        return x_chunk, y_chunk\n</code></pre>\n\n<p>Note that I do not exactly understand the purpose of the concatenation in your <code>__getitem__</code> - I just return two tensors with the chunks from <code>x</code> and <code>y</code>. Please let me know if that approach solves your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "is_accepted": false, "score": 0, "last_activity_date": 1548293710, "creation_date": 1548293710, "answer_id": 54338178, "question_id": 54335125, "link": "https://stackoverflow.com/questions/54335125/how-do-i-use-pytorch-dataloader-to-output-small-2d-chunks-of-a-larger-2d-grid-of/54338178#54338178", "title": "How do I use Pytorch DataLoader to output small 2D chunks of a larger 2D grid of x and y values?", "body": "<p>Here's what I've come up with so far...</p>\n\n<pre><code>class GridDataset:\n    def __init__(self):\n        self.chunk_size = 5\n\n        self.x = torch.arange(100)\n        self.y = torch.arange(100)\n        self.z = torch.tensor([0.22,0.22,0.45,0.788,0.013])\n\n    def chunks_x(self):\n        return self.x.size(0) // self.chunk_size\n\n    def chunks_y(self):\n        return self.y.size(0) // self.chunk_size\n\n    def __len__(self):\n        return self.chunks_x() * self.chunks_y()\n\n    def __getitem__(self, idx):\n        if idx &gt;= len(self): raise IndexError()\n        # integer division to get the id along the first axis\n        x_idx = idx // self.chunks_x()\n        # modulo division to get the id along the other axis\n        y_idx = idx % self.chunks_x()\n\n        cs = self.chunk_size # to make lines shorter\n\n        # grab the actual slices using the computed values of x_idx and y_idx\n        x_chunk = self.x[cs * x_idx:cs * (1+x_idx)]\n        y_chunk = self.y[cs * y_idx:cs * (1+y_idx)]\n        print(x_chunk.shape)\n\n        x_chunk = x_chunk.unsqueeze(dim=1).double()\n        y_chunk = y_chunk.unsqueeze(dim=1).double()\n\n        xytotal = torch.cat((x_chunk,y_chunk),dim=1)\n        r = torch.sqrt(x_chunk**2 + y_chunk**2).float()\n        new = torch.zeros((len(xytotal),len(xytotal[0]) + len(self.z)))\n        for i in range(len(xytotal)):\n          new[i] = torch.cat((xytotal[i].double(),self.z.double()))\n        new = torch.cat((new,r),dim=1)\n\n\n        return new\n</code></pre>\n\n<p>If I display one value it outputs:</p>\n\n<pre><code>torch.Size([5])\ntensor([[0.0000, 5.0000, 0.2200, 0.2200, 0.4500, 0.7880, 0.0130, 5.0000],\n        [1.0000, 6.0000, 0.2200, 0.2200, 0.4500, 0.7880, 0.0130, 6.0828],\n        [2.0000, 7.0000, 0.2200, 0.2200, 0.4500, 0.7880, 0.0130, 7.2801],\n        [3.0000, 8.0000, 0.2200, 0.2200, 0.4500, 0.7880, 0.0130, 8.5440],\n        [4.0000, 9.0000, 0.2200, 0.2200, 0.4500, 0.7880, 0.0130, 9.8489]])\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 339, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548293710, "creation_date": 1548275286, "question_id": 54335125, "link": "https://stackoverflow.com/questions/54335125/how-do-i-use-pytorch-dataloader-to-output-small-2d-chunks-of-a-larger-2d-grid-of", "title": "How do I use Pytorch DataLoader to output small 2D chunks of a larger 2D grid of x and y values?", "body": "<p>I'm trying to output \"chunks\" of x and y values that are smaller parts of a larger grid.</p>\n\n<p>So for example, I want a first batch to have x values from 0-250 and y values from 0-250. Then the next batch would be x = 0-250 and y = 250-500. The another batch would be x = 250-500 and y = 250-500. And lastly, x = 250-500 and y = 0-250.</p>\n\n<p>So every call to grab a batch with the DataLoader class would grab a small 2D chunk of a larger 2D grid.</p>\n\n<p>This is what I have so far..</p>\n\n<pre><code>class inputDataset(Dataset):\n\n  def __init__(self):\n    self.z = \n    torch.Tensor([0.234,0.123,0.831,0.456,0.910,0.356,0.276,0.081])\n    self.xmax = 1000\n    self.xmin = 0\n    self.ymax = 1000\n    self.ymin = 0\n\n    self.x = torch.linspace(self.xmin,self.xmax-1,self.xmax)\n    self.y = torch.linspace(self.ymin,self.ymax-1,self.ymax)\n    self.r = torch.sqrt(torch.mul(self.x,self.x) + /\n    torch.mul(self.y,self.y))\n\n\n  def __len__(self):\n    return self.xmax**2 *  (len(self.z) + 3)\n\n  def __getitem__(self, idx):\n\n    out = /\n    torch.cat((torch.cat((self.z,self.x[idx].unsqueeze(dim=0)/\n    )),torch.cat((self.y[idx].unsqueeze(dim=0)/\n    ,self.r[idx].unsqueeze(dim=0)))))\n\n    return out\n</code></pre>\n\n<p>Right now I can get x and y to output but they are the same numbers and not chunks.</p>\n"}, {"tags": ["python", "xml", "minidom"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6182403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VtPc3g83lBo/AAAAAAAAAAI/AAAAAAAAANc/U4_HYQFsWxo/photo.jpg?sz=128", "display_name": "tep", "link": "https://stackoverflow.com/users/6182403/tep"}, "edited": false, "score": 0, "creation_date": 1548279901, "post_id": 54335697, "comment_id": 95489583, "body": "I&#39;m up for xml.etree.ElementTree. How do I parse the username though? I managed to get the &#39;location&#39; by using &quot;for child in root: \tprint(child.tag, child.attrib)&quot; but am unsure how to drill further down to get the &#39;username&#39;"}, {"owner": {"reputation": 35, "user_id": 6182403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VtPc3g83lBo/AAAAAAAAAAI/AAAAAAAAANc/U4_HYQFsWxo/photo.jpg?sz=128", "display_name": "tep", "link": "https://stackoverflow.com/users/6182403/tep"}, "edited": false, "score": 0, "creation_date": 1548285343, "post_id": 54335697, "comment_id": 95491451, "body": "That did it! Thanks so much!"}, {"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "reply_to_user": {"reputation": 35, "user_id": 6182403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VtPc3g83lBo/AAAAAAAAAAI/AAAAAAAAANc/U4_HYQFsWxo/photo.jpg?sz=128", "display_name": "tep", "link": "https://stackoverflow.com/users/6182403/tep"}, "edited": false, "score": 1, "creation_date": 1548338844, "post_id": 54335697, "comment_id": 95512395, "body": "<code>ET</code> has the advantage of allowing you to use XPath, glad it helped."}, {"owner": {"reputation": 35, "user_id": 6182403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VtPc3g83lBo/AAAAAAAAAAI/AAAAAAAAANc/U4_HYQFsWxo/photo.jpg?sz=128", "display_name": "tep", "link": "https://stackoverflow.com/users/6182403/tep"}, "edited": false, "score": 0, "creation_date": 1548352147, "post_id": 54335697, "comment_id": 95520485, "body": "related question - Can I then use that value as a variable later in a script?  If i add a line &#39;s_username = (username[0].text)&#39;"}, {"owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "reply_to_user": {"reputation": 35, "user_id": 6182403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VtPc3g83lBo/AAAAAAAAAAI/AAAAAAAAANc/U4_HYQFsWxo/photo.jpg?sz=128", "display_name": "tep", "link": "https://stackoverflow.com/users/6182403/tep"}, "edited": false, "score": 0, "creation_date": 1548352291, "post_id": 54335697, "comment_id": 95520569, "body": "Of course, is just a <code>str</code>, nothing special bout it"}], "tags": [], "owner": {"reputation": 3467, "user_id": 3393308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3f30f7c191e8d556c70c951fe3d9af?s=128&d=identicon&r=PG", "display_name": "yorodm", "link": "https://stackoverflow.com/users/3393308/yorodm"}, "is_accepted": true, "score": 0, "last_activity_date": 1548280385, "last_edit_date": 1548280385, "creation_date": 1548277840, "answer_id": 54335697, "question_id": 54335076, "link": "https://stackoverflow.com/questions/54335076/how-to-read-data-from-xml-file-in-python-using-minidom/54335697#54335697", "title": "How to read data from xml file in python using minidom", "body": "<p>From the top of my head:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import xml.dom.minidom as minidom\ndoc = minidom.parse('/tmp/tes.xml')\nlocation = doc.getElementsByTagName('location')[0]\n# If I recall carriage return and spaces are text nodes so we\n# need to skip those\nusername = list(filter(lambda x: x.nodeType == minidom.Node.ELEMENT_NODE, location.childNodes))\nprint(username[0].firstChild.nodeValue)\n</code></pre>\n\n<p>You're assuming that <code>username</code> is an attribute of <code>location</code> and it's not. It's a child node and it contains another child note which is the text. Minidom is quite cumbersome, so unless you <strong>really</strong> have to work with it (security reasons comes to mind) I'll advice you to use <code>xml.etree.ElementTree</code></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Op requested an example using ET:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import xml.etree.ElementTree as ET\nsample = \"\"\"\n&lt;computer&gt;\n&lt;location&gt;\n&lt;username&gt;FirsLast&lt;/username&gt;\n&lt;/location&gt;\n&lt;/computer&gt;\n\"\"\"\ndoc = ET.fromstring(sample)\nusername = doc.findall('./location/username')\nprint(username[0].text)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6182403, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VtPc3g83lBo/AAAAAAAAAAI/AAAAAAAAANc/U4_HYQFsWxo/photo.jpg?sz=128", "display_name": "tep", "link": "https://stackoverflow.com/users/6182403/tep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "accepted_answer_id": 54335697, "answer_count": 1, "score": 0, "last_activity_date": 1548280385, "creation_date": 1548275008, "last_edit_date": 1548276761, "question_id": 54335076, "link": "https://stackoverflow.com/questions/54335076/how-to-read-data-from-xml-file-in-python-using-minidom", "title": "How to read data from xml file in python using minidom", "body": "<p>What is the best (re: easiest) way to read a value from an xml file using python? I'm a novice, and have tried to play around with minidom, but am not sure of how to format the script.</p>\n\n<p>The XML in /tmp/text.xml:</p>\n\n<pre><code>&lt;computer&gt;\n&lt;location&gt;\n&lt;username&gt;FirsLast&lt;/username&gt;\n&lt;/location&gt;\n&lt;/computer&gt;\n</code></pre>\n\n<p>I want to parse the username and use it as a variable.</p>\n\n<p>Here's what I've tried: </p>\n\n<pre><code>#!/usr/bin/python\n\nimport xml.dom.minidom as minidom\n\ndoc = minidom.parse('/tmp/text.xml')\nlocation = doc.getElementsByTagName('location')[0]\nusername = location.getAttribute('username')\n\nprint(username)\n</code></pre>\n\n<p>I don't get any results at all. I'd expect to see <code>FirsLast</code>.</p>\n"}]