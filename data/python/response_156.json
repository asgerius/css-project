[{"tags": ["python", "loops", "if-statement"], "comments": [{"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1515023890, "post_id": 48086841, "comment_id": 83148626, "body": "It only contains 2 print statements.. why would you expect it to print out 4 things?"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 4, "creation_date": 1515024003, "post_id": 48086841, "comment_id": 83148660, "body": "This is not the <code>if-loop</code> you are looking for ...."}, {"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1515024227, "post_id": 48086841, "comment_id": 83148719, "body": "There is no loop Fabio - <code>for</code> and <code>while</code> are used for creating loops"}, {"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 1, "creation_date": 1515024304, "post_id": 48086841, "comment_id": 83148739, "body": "<a href=\"https://www.learnpython.org/en/Loops\" rel=\"nofollow noreferrer\">Have a read of this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9170434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f489d9f46630b5da5c160a3c74484e8?s=128&d=identicon&r=PG&f=1", "display_name": "F&#225;bio de Abreu", "link": "https://stackoverflow.com/users/9170434/f%c3%a1bio-de-abreu"}, "edited": false, "score": 0, "creation_date": 1515024292, "post_id": 48086873, "comment_id": 83148736, "body": "You are right tried with while and had my first expected outputs.Thanks"}, {"owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "reply_to_user": {"reputation": 11, "user_id": 9170434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f489d9f46630b5da5c160a3c74484e8?s=128&d=identicon&r=PG&f=1", "display_name": "F&#225;bio de Abreu", "link": "https://stackoverflow.com/users/9170434/f%c3%a1bio-de-abreu"}, "edited": false, "score": 2, "creation_date": 1515025073, "post_id": 48086873, "comment_id": 83148938, "body": "@F&#225;biodeAbreu, If this answer solved your question you should mark it as <i>&quot;chosen&quot;</i> by clicking the tick under the votes counter (left of the answer). It will tell other users who reach this question that the solution works, it will give you rep. points, it&#39;ll give the person who answered rep. points... Everybody happy! <b>:-)</b> See: <a href=\"https://meta.stackexchange.com/q/5234\">meta.stackexchange.com/q/5234</a>"}], "tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": true, "score": 5, "last_activity_date": 1515023968, "creation_date": 1515023968, "answer_id": 48086873, "question_id": 48086841, "link": "https://stackoverflow.com/questions/48086841/did-not-understand-the-outputs/48086873#48086873", "title": "Did not understand the outputs", "body": "<p>You seem to have confused <code>if</code> and <code>while</code>. <code>if</code> only runs at most once. <code>while</code> will run any number of times until the condition is false.</p>\n\n<pre><code>while num &gt; 2:\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "is_accepted": false, "score": 1, "last_activity_date": 1515024177, "creation_date": 1515024177, "answer_id": 48086905, "question_id": 48086841, "link": "https://stackoverflow.com/questions/48086841/did-not-understand-the-outputs/48086905#48086905", "title": "Did not understand the outputs", "body": "<p>Your <code>if</code> should be a <code>while</code> if you want the result to be as you expected:</p>\n\n<pre><code>while num &gt; 2:\n    print(num)\n    num -= 1\nprint(num)\n\n&gt; 5\n&gt; 4\n&gt; 3\n&gt; 2 \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9170434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f489d9f46630b5da5c160a3c74484e8?s=128&d=identicon&r=PG&f=1", "display_name": "F&#225;bio de Abreu", "link": "https://stackoverflow.com/users/9170434/f%c3%a1bio-de-abreu"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1515046845, "accepted_answer_id": 48086873, "answer_count": 2, "score": -8, "last_activity_date": 1515031616, "creation_date": 1515023819, "last_edit_date": 1515031616, "question_id": 48086841, "link": "https://stackoverflow.com/questions/48086841/did-not-understand-the-outputs", "closed_reason": "Not suitable for this site", "title": "Did not understand the outputs", "body": "<p><strong>My code:</strong></p>\n\n<pre><code>num = 5\nif num &gt; 2:  \n    print(num)\n    num -= 1\nprint(num)\n</code></pre>\n\n<p><strong>Expected output:</strong></p>\n\n<pre><code>5,4,3,2\n</code></pre>\n\n<p><strong>Actual output:</strong></p>\n\n<pre><code>5,4\n</code></pre>\n\n<p><strong>Question:</strong> Why do I receive the actual output and not the expected output?</p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-endpoints"], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 399302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fOJy4.gif?s=128&g=1", "display_name": "Neurus", "link": "https://stackoverflow.com/users/399302/neurus"}, "edited": false, "score": 0, "creation_date": 1515182037, "post_id": 48101577, "comment_id": 83217292, "body": "Thanks - the documentation is not very clear, I thought the key was not needed for service to service authentication ..."}], "tags": [], "owner": {"reputation": 622, "user_id": 7999894, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7LEDK89P3Gw/AAAAAAAAAAI/AAAAAAAAAgs/1wqSsuuRoWc/photo.jpg?sz=128", "display_name": "Rose Davidson", "link": "https://stackoverflow.com/users/7999894/rose-davidson"}, "is_accepted": true, "score": 2, "last_activity_date": 1515091149, "creation_date": 1515091149, "answer_id": 48101577, "question_id": 48086835, "link": "https://stackoverflow.com/questions/48086835/authenticating-to-endpoints-std-env-with-default-gae-service-account-is-giving/48101577#48101577", "title": "Authenticating to Endpoints (Std env) with default GAE service account is giving &quot;401 Method does not allow callers without established identity&quot;", "body": "<p>When <code>api_key_required</code> is true, you have to provide an API key in the request <em>in addition to</em> any JWTs.</p>\n"}], "owner": {"reputation": 467, "user_id": 399302, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fOJy4.gif?s=128&g=1", "display_name": "Neurus", "link": "https://stackoverflow.com/users/399302/neurus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 48101577, "answer_count": 1, "score": 0, "last_activity_date": 1515091149, "creation_date": 1515023766, "last_edit_date": 1515024170, "question_id": 48086835, "link": "https://stackoverflow.com/questions/48086835/authenticating-to-endpoints-std-env-with-default-gae-service-account-is-giving", "title": "Authenticating to Endpoints (Std env) with default GAE service account is giving &quot;401 Method does not allow callers without established identity&quot;", "body": "<p>I'm trying to create a Google Cloud Endpoints in an AppEngine Standard environment service with 2 methods of authentication: apiKey and default GAE service account.</p>\n\n<ul>\n<li>apiKey authentication is for external systems to be able to query the API</li>\n<li>default GAE authentication is for other services (formerly known as \"modules\") within the same AppEngine app (XXXX) to connect to the endpoint (e.g. service1-dot-XXXX.appspot.com to make requests to an endpoint in api-dot-XXXX.appspot.com)</li>\n</ul>\n\n<p>The apiKey authentication works just fine, but the \"<a href=\"https://github.com/GoogleCloudPlatform/python-docs-samples/blob/f21866f68a99b4ec43868b0924006b7b50312187/endpoints/getting-started/clients/service_to_service_gae_default/main.py\" rel=\"nofollow noreferrer\">service_to_service_gae</a>\" authentication gives:</p>\n\n<pre><code>401 Method does not allow callers without established identity. Please use an API key or other form of API consumer identity to call this API.\n</code></pre>\n\n<p>I am decorating the endpoint with:</p>\n\n<pre><code>@endpoints.api(\n    name='widgets',\n    version='v1',\n    base_path='/api/',\n    api_key_required=True,\n    allowed_client_ids=['XXXX@appspot.gserviceaccount.com'])\n\nclass WidgetsApi(remote.Service):\n... \n</code></pre>\n\n<p>And calling the API with this code based on the <a href=\"https://github.com/GoogleCloudPlatform/python-docs-samples/blob/f21866f68a99b4ec43868b0924006b7b50312187/endpoints/getting-started/clients/service_to_service_gae_default/main.py\" rel=\"nofollow noreferrer\">sample client from github</a></p>\n\n<pre><code>SERVICE_ACCOUNT_EMAIL = 'XXXX@appspot.gserviceaccount.com'\ndef generate_jwt():\n  \"\"\"Generates a signed JSON Web Token using the Google App Engine default\n  service account.\"\"\"\n  now = int(time.time())\n\n  header_json = json.dumps({\n      \"typ\": \"JWT\",\n      \"alg\": \"RS256\"})\n\n  payload_json = json.dumps({\n      \"iat\": now,\n      # expires after one hour.\n      \"exp\": now + 3600,\n      # iss is the service account email.\n      \"iss\": SERVICE_ACCOUNT_EMAIL,\n      \"sub\": SERVICE_ACCOUNT_EMAIL,\n      \"email\": SERVICE_ACCOUNT_EMAIL,\n      \"aud\": 'https://api-dot-XXXX.appspot.com',\n  })\n\n  header_and_payload = '{}.{}'.format(\n      base64.urlsafe_b64encode(header_json),\n      base64.urlsafe_b64encode(payload_json))\n  (key_name, signature) = app_identity.sign_blob(header_and_payload)\n  signed_jwt = '{}.{}'.format(\n      header_and_payload,\n      base64.urlsafe_b64encode(signature))\n  return signed_jwt\n\ndef make_request(signed_jwt):\n  \"\"\"Makes a request to the auth info endpoint for Google JWTs.\"\"\"    \n  headers = {'Authorization': 'Bearer {}'.format(signed_jwt)}\n  conn = httplib.HTTPSConnection('api-dot-XXXX.appspot.com')\n  url = '/api/widgets/v1/list'\n  conn.request(\"POST\", url, urllib.urlencode({'search': ''}), headers)\n  res = conn.getresponse()\n  conn.close()\n  return res.read()\n</code></pre>\n\n<p>Am I forgetting something in the endpoint decorator or any other configuration? Or maybe the endpoint decorator accepts only one method of authentication? \nI would thing making a call from service to service within the same GAE std instance would be straight forward. The <a href=\"https://github.com/GoogleCloudPlatform/python-docs-samples/blob/f21866f68a99b4ec43868b0924006b7b50312187/endpoints/getting-started/clients/service_to_service_gae_default/main.py\" rel=\"nofollow noreferrer\">sample client</a> is kind of confusing (at least for me) e.g. <a href=\"https://github.com/GoogleCloudPlatform/python-docs-samples/blob/f21866f68a99b4ec43868b0924006b7b50312187/endpoints/getting-started/clients/service_to_service_gae_default/main.py#L67\" rel=\"nofollow noreferrer\">make_request</a> makes a request ('/auth/info/googlejwt') to get the jwt token, but when do you call the actual endpoint?</p>\n\n<p>Thanks in advance, happy New Year!!!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1515023773, "post_id": 48086824, "comment_id": 83148597, "body": "Strings aren&#39;t numbers and don&#39;t compare like numbers. (Would you expect &quot;two&quot; to come before &quot;three&quot; in the dictionary?)"}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1515023786, "post_id": 48086824, "comment_id": 83148602, "body": "how do you compare &quot;abc&quot; &gt; &quot;cdeFG&quot; ?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1515024870, "post_id": 48086824, "comment_id": 83148880, "body": "If you were to put the strings <code>27 Down</code> and <code>8 Mile</code> in order, what order would you put them?"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1515023783, "creation_date": 1515023783, "answer_id": 48086838, "question_id": 48086824, "link": "https://stackoverflow.com/questions/48086824/why-using-or-on-string-give-different-ansers/48086838#48086838", "title": "why using &lt; or &gt; on string give different ansers", "body": "<p>When you compare strings, it compares them lexicographically, character by character. Since <code>\"2\"</code> is not greater than <code>\"8\"</code>, <code>\"27\" &gt; \"8.0\"</code> is false.</p>\n\n<p>If you want to compare them numerically, you have to convert them to numbers.</p>\n\n<pre><code>float(\"27\") &gt; float(\"8.0\")\n</code></pre>\n\n<p>will give you <code>True</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7311590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea900259c5f301910cc54b5301fafe5?s=128&d=identicon&r=PG&f=1", "display_name": "Stev", "link": "https://stackoverflow.com/users/7311590/stev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1515023783, "creation_date": 1515023644, "question_id": 48086824, "link": "https://stackoverflow.com/questions/48086824/why-using-or-on-string-give-different-ansers", "title": "why using &lt; or &gt; on string give different ansers", "body": "<p><code>\"27\" &gt; \"8.0\"</code></p>\n\n<p>is giving me False ?</p>\n\n<p>am using a string to compare. could anyone please explain ?<br>\nI tried to understand but I coundnt</p>\n"}, {"tags": ["python", "itertools"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 3, "last_activity_date": 1515023816, "creation_date": 1515023816, "answer_id": 48086840, "question_id": 48086820, "link": "https://stackoverflow.com/questions/48086820/concatenate-multiple-lists-of-lists-in-python/48086840#48086840", "title": "Concatenate multiple lists of lists in python", "body": "<p>A combination of <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow noreferrer\"><code>zip()</code></a> and <a href=\"https://docs.python.org/3/library/itertools.html#itertools.chain\" rel=\"nofollow noreferrer\"><code>itertools.chain()</code></a> would do it:</p>\n\n<pre><code>In [1]: from itertools import chain\n\nIn [2]: [list(chain(*lists)) for lists in zip(*a)]\nOut[2]: [[0, 1, 2, 3, 4, 5], [10, 11, 12, 13, 14, 15]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3653, "user_id": 6520041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-y2Mls6eJLA0/AAAAAAAAAAI/AAAAAAAAAAA/_V6LCP-xzt8/photo.jpg?sz=128", "display_name": "FatihAkici", "link": "https://stackoverflow.com/users/6520041/fatihakici"}, "is_accepted": false, "score": 1, "last_activity_date": 1515035154, "creation_date": 1515035154, "answer_id": 48088108, "question_id": 48086820, "link": "https://stackoverflow.com/questions/48086820/concatenate-multiple-lists-of-lists-in-python/48088108#48088108", "title": "Concatenate multiple lists of lists in python", "body": "<p>The <code>reduce</code> function is the perfect fit for this kind of problems:</p>\n\n<pre><code>[reduce((lambda x,y: x[i]+y[i]), a) for i,_ in enumerate(a)]\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[[0, 1, 2, 3, 4, 5], [10, 11, 12, 13, 14, 15]]\n</code></pre>\n\n<p>This code reads: For each index <code>i</code>, collect all the <code>i</code>th items of the elements of <code>a</code> together.</p>\n"}], "owner": {"reputation": 322, "user_id": 2608793, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GdxX2.jpg?s=128&g=1", "display_name": "cgreen", "link": "https://stackoverflow.com/users/2608793/cgreen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "accepted_answer_id": 48086840, "answer_count": 2, "score": 3, "last_activity_date": 1515035154, "creation_date": 1515023606, "last_edit_date": 1515023986, "question_id": 48086820, "link": "https://stackoverflow.com/questions/48086820/concatenate-multiple-lists-of-lists-in-python", "title": "Concatenate multiple lists of lists in python", "body": "<p>I have a list of multiple list-of-lists in python:</p>\n\n<pre><code>a = [[[0,1,2], [10,11,12]],\n     [[3,4,5], [13,14,15]]]\n</code></pre>\n\n<p>And I would like to merge all the first lists together, the second lists together, and so forth:</p>\n\n<pre><code>final = [[0,1,2,3,4,5],\n         [10,11,12,13,14,15]]\n</code></pre>\n\n<p>The furthest I've got is to try to unzip the outer lists:</p>\n\n<pre><code>zip(*a) = [([0,1,2], [3,4,5]), \n           ([10,11,12], [13,14,15])]\n</code></pre>\n\n<p>I suppose one could loop through these and then chain each together, but that seems wasteful. What's a pythonic way to fix this?</p>\n\n<p><strong>NOTE</strong>: \nThere might be more than two sublists in each \"row\".</p>\n"}, {"tags": ["python", "python-2.7", "stackexchange-api"], "answers": [{"comments": [{"owner": {"reputation": 634, "user_id": 1868436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/F3MXS.jpg?s=128&g=1", "display_name": "Santino", "link": "https://stackoverflow.com/users/1868436/santino"}, "edited": false, "score": 0, "creation_date": 1515650368, "post_id": 48086925, "comment_id": 83382270, "body": "Hi I tried your above suggestion, unfortunately no luck. This is my code:"}, {"owner": {"reputation": 634, "user_id": 1868436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/F3MXS.jpg?s=128&g=1", "display_name": "Santino", "link": "https://stackoverflow.com/users/1868436/santino"}, "edited": false, "score": 0, "creation_date": 1515650440, "post_id": 48086925, "comment_id": 83382301, "body": "` answers = SITE.fetch(&#39;answers/&#39; + str(11227809) + &#39;/answers&#39;, min=2, sort=&#39;votes&#39;) #pprint.pprint(answers) answer_id_list = [] for answer in answers: #answ_title = answer[&#39;title&#39;] answer_id_list.append(answer[&#39;answer_id&#39;]) print answer `"}, {"owner": {"reputation": 634, "user_id": 1868436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/F3MXS.jpg?s=128&g=1", "display_name": "Santino", "link": "https://stackoverflow.com/users/1868436/santino"}, "edited": false, "score": 0, "creation_date": 1515650483, "post_id": 48086925, "comment_id": 83382318, "body": "Get a <code>no method</code> exception. Not sure what that means."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 634, "user_id": 1868436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/F3MXS.jpg?s=128&g=1", "display_name": "Santino", "link": "https://stackoverflow.com/users/1868436/santino"}, "edited": false, "score": 0, "creation_date": 1515687948, "post_id": 48086925, "comment_id": 83404524, "body": "The error seems pretty self-explanatory, you (or something internal to one of the functions you called) tried to call a method that doesn&#39;t exist. What line got that error?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 634, "user_id": 1868436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/F3MXS.jpg?s=128&g=1", "display_name": "Santino", "link": "https://stackoverflow.com/users/1868436/santino"}, "edited": false, "score": 0, "creation_date": 1515688123, "post_id": 48086925, "comment_id": 83404645, "body": "<a href=\"http://api.stackexchange.com/docs/answers-on-questions#order=desc&amp;min=2&amp;sort=votes&amp;ids=11227809&amp;filter=default&amp;site=stackoverflow&amp;run=true\">api.stackexchange.com/docs/&hellip;</a> shows that the URL should work"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 634, "user_id": 1868436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/F3MXS.jpg?s=128&g=1", "display_name": "Santino", "link": "https://stackoverflow.com/users/1868436/santino"}, "edited": false, "score": 0, "creation_date": 1515688186, "post_id": 48086925, "comment_id": 83404697, "body": "It should be <code>for answer in answers[&#39;items&#39;]:</code>"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1515024314, "creation_date": 1515024314, "answer_id": 48086925, "question_id": 48086812, "link": "https://stackoverflow.com/questions/48086812/stackexchange-api-fetch-answers-to-a-specific-stack-post/48086925#48086925", "title": "Stackexchange API: fetch answers to a specific stack post", "body": "<p>You're using the question ID as the answer ID, but these IDs are totally unrelated.</p>\n\n<p>Use the <a href=\"http://api.stackexchange.com/docs/answers-on-questions\"><code>questions/{ids}/answers</code></a> endpoint.</p>\n\n<pre><code>answers = SITE.fetch('answers/' + str(quest_id) + '/answers', min=10, sort='votes')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1346, "user_id": 6413199, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3eaa45fa73cb0e5ea80106856ddb23de?s=128&d=identicon&r=PG&f=1", "display_name": "Shashishekhar Hasabnis", "link": "https://stackoverflow.com/users/6413199/shashishekhar-hasabnis"}, "is_accepted": true, "score": 4, "last_activity_date": 1544630757, "creation_date": 1544630757, "answer_id": 53746966, "question_id": 48086812, "link": "https://stackoverflow.com/questions/48086812/stackexchange-api-fetch-answers-to-a-specific-stack-post/53746966#53746966", "title": "Stackexchange API: fetch answers to a specific stack post", "body": "<p>I have modified your code to get the top voted answer like this.</p>\n\n<pre><code>for quest in questions['items']:\n    if 'title' not in quest or quest['is_answered'] == False:\n        continue\n    title = quest['title'] \n    print('Question :- {0}'.format(title))\n    question_id = quest['question_id']\n    print('Question ID :- {0}'.format(question_id))\n    top_answer = SITE.fetch('questions/' + str(question_id) + '/answers', order = 'desc', sort='votes')\n    print(top_answer)\n</code></pre>\n\n<p>If you want to get the accepted answer for the question you can get it this way:-</p>\n\n<pre><code>accepted_answer_id = quest['accepted_answer_id']\nprint('Accepted Answer ID :- {0}'.format(accepted_answer_id))\n</code></pre>\n\n<p>Stackoverflow uses this id as example below to genarate the url to that answer like this:-</p>\n\n<pre><code>answer = \"https://stackoverflow.com/a/\" + str(accepted_answer_id)\nprint(answer)\n</code></pre>\n\n<p>Hope this helps you !</p>\n"}], "owner": {"reputation": 634, "user_id": 1868436, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/F3MXS.jpg?s=128&g=1", "display_name": "Santino", "link": "https://stackoverflow.com/users/1868436/santino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1554, "favorite_count": 1, "accepted_answer_id": 53746966, "answer_count": 2, "score": 2, "last_activity_date": 1544630757, "creation_date": 1515023503, "question_id": 48086812, "link": "https://stackoverflow.com/questions/48086812/stackexchange-api-fetch-answers-to-a-specific-stack-post", "title": "Stackexchange API: fetch answers to a specific stack post", "body": "<p>I am using the <a href=\"http://stackapi.readthedocs.io/\" rel=\"nofollow noreferrer\">stackAPI</a> Python wrapper to interface with the stackexchange api. I am trying to fetch the top most popular questions above a vote count threshold; and for each of those questions the top  answers above a certain vote count.</p>\n\n<pre><code>  SITE = StackAPI(\"stackoverflow\")\n  SITE.max_pages=2\n  SITE.page_size=100\n  questions = SITE.fetch('questions', min=10, sort='votes')\n  for quest in questions['items']:\n    if 'title' not in quest: continue\n    quest_id = quest['question_id']\n    title = quest['title']\n    tags = []\n    if 'tags' in quest:\n      tags = quest['tags']\n    #body = quest['body']\n    body = \"\"\n    if 'body' in quest:\n      body = quest['body']\n\n    answers = SITE.fetch('answers', id=[quest_id],min=10, sort='votes')\n    for answer in answers['items']:\n         _stuck here_\n</code></pre>\n\n<p>This is where I am stuck, how to fetch answers for the above question_id\nthis query is returning some random answer_ids. How do fetch the <code>question-&lt; answers</code></p>\n"}, {"tags": ["python", "exception-handling", "static-analysis"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 2, "creation_date": 1515023250, "post_id": 48086708, "comment_id": 83148470, "body": "&quot;it&#39;s bad practice to use catch-all handlers&quot; <b>to ignore exceptions</b>. Our web service has an <code>except: log_exception(); attempt_recovery()</code> which wraps the main loop. <code>except: pass</code> is bad. The important bit is to log the exception and check those logs so you can write a better except case if something falls through the cracks."}, {"owner": {"reputation": 1844, "user_id": 4844024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9de342e1ce408f4874eac3f019efb33?s=128&d=identicon&r=PG&f=1", "display_name": "mad.meesh", "link": "https://stackoverflow.com/users/4844024/mad-meesh"}, "edited": false, "score": 1, "creation_date": 1515023278, "post_id": 48086708, "comment_id": 83148473, "body": "wait so you\u2019re not using, as you say, a \u2018catch all\u2019 handler? seems like that might be what you need here since, as you say, it isn\u2019t easy getting a list of all the known exceptions. handling each one in a unique fashion, sounds like a nightmare."}, {"owner": {"reputation": 4755, "user_id": 18665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXnTw.gif?s=128&g=1", "display_name": "jwpfox", "link": "https://stackoverflow.com/users/18665/jwpfox"}, "edited": false, "score": 0, "creation_date": 1515023321, "post_id": 48086708, "comment_id": 83148482, "body": "&quot;I understand that it&#39;s bad practice to use catch-all handlers, so I haven&#39;t been doing that.&quot; Where did you get this idea from? Is that rule you are imposing on yourself hurting you? Yes it is. Then why are you enforcing it on yourself?"}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "edited": false, "score": 0, "creation_date": 1515023400, "post_id": 48086708, "comment_id": 83148499, "body": "It is nearly impossible to say without understanding the task at hand... If you are doing some kind of numerical processing, this is called anomaly detection. The general idea is that as data comes in you develop a sense of the sample mean and standard deviation, and if new values come in that fall too far outside of this threshold you ignore or delete them in your processing."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1515023568, "post_id": 48086708, "comment_id": 83148544, "body": "This isn&#39;t even possible in Java, let alone Python."}, {"owner": {"reputation": 893, "user_id": 2989201, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/30b3b3ac46c10ca1d4a0ce11f099319d?s=128&d=identicon&r=PG&f=1", "display_name": "zplizzi", "link": "https://stackoverflow.com/users/2989201/zplizzi"}, "edited": false, "score": 0, "creation_date": 1515025553, "post_id": 48086708, "comment_id": 83149059, "body": "Well, in some situations I really wouldn&#39;t want to use a catch all handler. For example, if I&#39;m writing a function that will be used in other code, I wouldn&#39;t want it to catch the <code>KeyboardInterrupt</code> exception. I would much rather specifically catch the exceptions raised by eg. the library functions I&#39;m using. I agree that catch-all might make sense at the top level, though."}], "answers": [{"comments": [{"owner": {"reputation": 893, "user_id": 2989201, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/30b3b3ac46c10ca1d4a0ce11f099319d?s=128&d=identicon&r=PG&f=1", "display_name": "zplizzi", "link": "https://stackoverflow.com/users/2989201/zplizzi"}, "edited": false, "score": 2, "creation_date": 1515026718, "post_id": 48086804, "comment_id": 83149300, "body": "Thanks! Hadn&#39;t heard of mutation testing, that is super cool. I would still prefer a static analysis tool, though. I would prefer to be told &quot;your code definitely handles all exceptions that may be raised&quot; versus &quot;your code doesn&#39;t break in all the situations you thought to test (or which could be caught via mutation testing)&quot;. I think it&#39;s a fundamental difference - one approach checks that you are handling all possibilities somehow, and the other checks that you&#39;re handling some possibilities (but ensures you handle them correctly). Ideally both approaches would be combined."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1515024537, "last_edit_date": 1515024537, "creation_date": 1515023467, "answer_id": 48086804, "question_id": 48086708, "link": "https://stackoverflow.com/questions/48086708/python-statically-detect-unhandled-exceptions/48086804#48086804", "title": "Python: statically detect unhandled exceptions", "body": "<p>Great question.</p>\n\n<p>You can try approaching the problem statically (by, for instance, introducing a custom <code>flake8</code> rule?), but, I think, <strong>it's a problem of testing and test coverage scope</strong>. I would approach the problem by adding more \"negative path\"/\"error handling\" checks/tests to the places where third-party packages are used, introducing mock side effects whenever needed and monitoring coverage reports at the same time.</p>\n\n<p>I would also look into <a href=\"https://en.wikipedia.org/wiki/Mutation_testing\" rel=\"nofollow noreferrer\">Mutation Testing</a> idea (check out <a href=\"http://cosmic-ray.readthedocs.io/en/latest/installation.html\" rel=\"nofollow noreferrer\">Cosmic Ray</a> Python package). I am not sure if mutants can be configured to also throw exceptions, but see if it could be helpful.</p>\n"}, {"comments": [{"owner": {"reputation": 893, "user_id": 2989201, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/30b3b3ac46c10ca1d4a0ce11f099319d?s=128&d=identicon&r=PG&f=1", "display_name": "zplizzi", "link": "https://stackoverflow.com/users/2989201/zplizzi"}, "edited": false, "score": 0, "creation_date": 1515025737, "post_id": 48086852, "comment_id": 83149098, "body": "I totally agree - see the comment I added on the question for why I might not want a catch-all, but instead would prefer to specifically catch individual exceptions in code that isn&#39;t top-level."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 893, "user_id": 2989201, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/30b3b3ac46c10ca1d4a0ce11f099319d?s=128&d=identicon&r=PG&f=1", "display_name": "zplizzi", "link": "https://stackoverflow.com/users/2989201/zplizzi"}, "edited": false, "score": 0, "creation_date": 1515055570, "post_id": 48086852, "comment_id": 83157411, "body": "@zplizzi You can still catch all exceptions, inspect the exception, and raise any exceptions you explicitly don&#39;t want to catch. You could also <a href=\"https://docs.python.org/2/library/exceptions.html#exceptions.StandardError\" rel=\"nofollow noreferrer\"><code>except StandardError:</code></a>, although that probably won&#39;t catch third party library exceptions."}], "tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": false, "score": 2, "last_activity_date": 1515023870, "creation_date": 1515023870, "answer_id": 48086852, "question_id": 48086708, "link": "https://stackoverflow.com/questions/48086708/python-statically-detect-unhandled-exceptions/48086852#48086852", "title": "Python: statically detect unhandled exceptions", "body": "<p>\"it's bad practice to use catch-all handlers\" <strong>to ignore exceptions</strong>:</p>\n\n<p>Our web service has an except which wraps the main loop.</p>\n\n<pre><code>except: \n    log_exception()\n    attempt_recovery() \n</code></pre>\n\n<p>This is good, as it <strong>notifies us</strong> (necessary) of the unexpected error and then <strong>tries to recover</strong> (not necessary). We can then go look at those logs and figure out what went wrong so we can prevent it from hitting our general exception again.</p>\n\n<hr>\n\n<p>This is what you want to <strong>avoid</strong>:</p>\n\n<pre><code>except:\n    pass\n</code></pre>\n\n<p>Because it <strong>ignores the error</strong>... then you don't know an error happened and your data may be corrupted/invalid/gone/stolen by bears. Your server may be up/down/on fire. We have no idea because we ignored the exception.</p>\n\n<hr>\n\n<p>Python doesn't require registering of what exceptions might be thrown, so there are no checks for all exceptions a module might throw, but most will give you some idea of what you should be ready to handle in the docs. Depending on your service, when it gets an unhandled exception, you might want to:</p>\n\n<ul>\n<li>Log it and crash</li>\n<li>Log it and attempt to continue</li>\n<li>Log it and restart</li>\n</ul>\n\n<p>Notice a trend? The action changes, but you never want to ignore it.</p>\n"}, {"tags": [], "owner": {"reputation": 3653, "user_id": 6520041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-y2Mls6eJLA0/AAAAAAAAAAI/AAAAAAAAAAA/_V6LCP-xzt8/photo.jpg?sz=128", "display_name": "FatihAkici", "link": "https://stackoverflow.com/users/6520041/fatihakici"}, "is_accepted": false, "score": 0, "last_activity_date": 1515040347, "creation_date": 1515040347, "answer_id": 48088706, "question_id": 48086708, "link": "https://stackoverflow.com/questions/48086708/python-statically-detect-unhandled-exceptions/48088706#48088706", "title": "Python: statically detect unhandled exceptions", "body": "<p>Instead of trying to handle all exceptions, which is very hard as you described, why don't you catch all, but exclude some, for example the <code>KeyboardInterrupt</code> you mentioned in the comments?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27030716/python-how-to-exclude-exceptions-from-catch-all#27030766\">This may help</a></p>\n"}], "owner": {"reputation": 893, "user_id": 2989201, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/30b3b3ac46c10ca1d4a0ce11f099319d?s=128&d=identicon&r=PG&f=1", "display_name": "zplizzi", "link": "https://stackoverflow.com/users/2989201/zplizzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 2, "answer_count": 3, "score": 7, "last_activity_date": 1515040347, "creation_date": 1515022876, "question_id": 48086708, "link": "https://stackoverflow.com/questions/48086708/python-statically-detect-unhandled-exceptions", "title": "Python: statically detect unhandled exceptions", "body": "<p>I'm trying to write a highly-reliable piece of code in Python. The most common issue I run into is that after running for a while, some edge case will occur and raise an exception that I haven't handled. This most often happens when using external libraries - without reading the source code, I don't know of an easy way to get a list of all exceptions that might be raised when using a specific library function, so it's hard to know what to handle. I understand that it's bad practice to use catch-all handlers, so I haven't been doing that.</p>\n\n<p>Is there a good solution for this? It seems like it should be possible for a static analysis tool to check that all exceptions are handled, but I haven't found one. Does this exist? If not, why? (is it impossible? a bad idea? etc) I especially would like it to analyze imported code for the reason explained above. </p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 1844, "user_id": 4844024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9de342e1ce408f4874eac3f019efb33?s=128&d=identicon&r=PG&f=1", "display_name": "mad.meesh", "link": "https://stackoverflow.com/users/4844024/mad-meesh"}, "edited": false, "score": 0, "creation_date": 1515022897, "post_id": 48086648, "comment_id": 83148390, "body": "this error means <code>e</code> an object of type <code>Event</code> does not have the property of <code>button</code>, therefore since i do not know pygame from memory, check the documentation, as it should tell you how to get that property from type <code>Event</code> (if even possible at all)."}, {"owner": {"reputation": 1844, "user_id": 4844024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9de342e1ce408f4874eac3f019efb33?s=128&d=identicon&r=PG&f=1", "display_name": "mad.meesh", "link": "https://stackoverflow.com/users/4844024/mad-meesh"}, "edited": false, "score": 0, "creation_date": 1515023142, "post_id": 48086648, "comment_id": 83148446, "body": "i looked it up (on my phone, sorry) and i did not see a button property for type <code>Event</code>... you are already doing the correct thing by checking the <code>e.type==</code> now just find the key code for <code>1</code>"}, {"owner": {"reputation": 4755, "user_id": 18665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXnTw.gif?s=128&g=1", "display_name": "jwpfox", "link": "https://stackoverflow.com/users/18665/jwpfox"}, "edited": false, "score": 0, "creation_date": 1515023965, "post_id": 48086648, "comment_id": 83148645, "body": "Is there a reason you aren&#39;t using the built in <code>mouse</code> methods? <a href=\"https://www.pygame.org/docs/ref/mouse.html\" rel=\"nofollow noreferrer\">pygame.org/docs/ref/mouse.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": true, "score": 0, "last_activity_date": 1515023917, "creation_date": 1515023917, "answer_id": 48086866, "question_id": 48086648, "link": "https://stackoverflow.com/questions/48086648/pygame-e-button-not-working/48086866#48086866", "title": "pygame e.button not working", "body": "<p>That just happens because the last two lines are not indented correctly. Only mouse events like <code>pygame.MOUSEBUTTONDOWN</code> have a <code>button</code> attribute, so you'll get that error if for example a <code>KEYDOWN</code> event (or any other event type) gets added to the event queue. Try this version:</p>\n\n<pre><code>running=True\nwhile running:\n    for e in event.get():\n        print(e)\n        if e.type==QUIT:\n            running=False\n        if e.type==MOUSEBUTTONDOWN:\n            pic=screen.copy()\n            if e.button==1:\n                smx,smy= e.pos \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8858577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a4e24beed27698e0d228bfd687ce4b?s=128&d=identicon&r=PG&f=1", "display_name": "Kirara", "link": "https://stackoverflow.com/users/8858577/kirara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 48086866, "answer_count": 1, "score": 1, "last_activity_date": 1515023917, "creation_date": 1515022492, "last_edit_date": 1515023600, "question_id": 48086648, "link": "https://stackoverflow.com/questions/48086648/pygame-e-button-not-working", "title": "pygame e.button not working", "body": "<p>I'm trying to capture the position of the mouse when it is first clicked.</p>\n\n<p>I am getting this error:</p>\n\n<pre><code>AttributeError:'Event' object has no attribute 'button'\n</code></pre>\n\n<p><strong>Question:</strong> What does this mean and how do I fix it?</p>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>running=True\nwhile running:\n    for e in event.get():\n        print(e)\n        if e.type==QUIT:\n            running=False\n        if e.type==MOUSEBUTTONDOWN:\n            pic=screen.copy()\n        if e.button==1:\n            smx,smy= e.pos \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list"], "comments": [{"owner": {"reputation": 703, "user_id": 8787505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zY7CD.jpg?s=128&g=1", "display_name": "1313e", "link": "https://stackoverflow.com/users/8787505/1313e"}, "edited": false, "score": 0, "creation_date": 1515030079, "post_id": 48086626, "comment_id": 83150017, "body": "I get the feeling that this is an exercise that teaches you that you can redefine already existing functions."}], "answers": [{"comments": [{"owner": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "edited": false, "score": 0, "creation_date": 1515022735, "post_id": 48086638, "comment_id": 83148358, "body": "This answer does not satisfy the conditions of the question asked."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "edited": false, "score": 0, "creation_date": 1515022830, "post_id": 48086638, "comment_id": 83148374, "body": "in what way does it not satisfy the condition?"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "edited": false, "score": 0, "creation_date": 1515022859, "post_id": 48086638, "comment_id": 83148381, "body": "<code>I need to print out each element of &#39;mylist&#39; on a new line. However, I am not allowed to use loops (as in &#39;for i in mylist...&#39;) and I can&#39;t say:</code> &lt;--- does exactly that.-"}, {"owner": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "edited": false, "score": 0, "creation_date": 1515023011, "post_id": 48086638, "comment_id": 83148418, "body": "My question states: &quot;No, I have to somehow create/prepare &#39;mylist&#39; in such a way that the desired print output is achieved based on the following command: print(mylist)&quot;"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "edited": false, "score": 3, "creation_date": 1515023101, "post_id": 48086638, "comment_id": 83148439, "body": "then do something simple as <code>mylist=&quot;\\n&quot;.join(mylist)</code>. We can&#39;t teach you basic python if you ask about list handling..."}], "tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": false, "score": 2, "last_activity_date": 1515022432, "creation_date": 1515022432, "answer_id": 48086638, "question_id": 48086626, "link": "https://stackoverflow.com/questions/48086626/python-3-how-to-create-a-list-to-print-its-every-element-on-a-new-line-withou/48086638#48086638", "title": "Python 3: How to create a list to print its every element on a new line - without loops or sep = &quot;\\n&quot;", "body": "<p>Really simple:</p>\n\n<pre><code>print (\"\\n\".join(mylist))\n</code></pre>\n\n<p>The method <code>str.join</code> uses the string to join an iterable.</p>\n"}, {"comments": [{"owner": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "edited": false, "score": 0, "creation_date": 1515022942, "post_id": 48086689, "comment_id": 83148398, "body": "No, as I stated in my question, it has to print as desired based JUST on: print(mylist)"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 2, "creation_date": 1515023061, "post_id": 48086689, "comment_id": 83148428, "body": "No, you did <i>not</i> state your question like that. You said you needed to preformat your list. And that&#39;s a flexible term."}], "tags": [], "owner": {"reputation": 1, "user_id": 8243236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/976b5090790148714ae62aacf61c14c5?s=128&d=identicon&r=PG&f=1", "display_name": "Reu", "link": "https://stackoverflow.com/users/8243236/reu"}, "is_accepted": false, "score": -2, "last_activity_date": 1515022775, "creation_date": 1515022775, "answer_id": 48086689, "question_id": 48086626, "link": "https://stackoverflow.com/questions/48086626/python-3-how-to-create-a-list-to-print-its-every-element-on-a-new-line-withou/48086689#48086689", "title": "Python 3: How to create a list to print its every element on a new line - without loops or sep = &quot;\\n&quot;", "body": "<p>You can print each element separated too on a new line such as: </p>\n\n<pre><code>print(mylist[0]), print(mylist[1])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 3, "creation_date": 1515023027, "post_id": 48086710, "comment_id": 83148421, "body": "That does not fulfill the conditions of your own question, because your question was about printing the list."}, {"owner": {"reputation": 703, "user_id": 8787505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zY7CD.jpg?s=128&g=1", "display_name": "1313e", "link": "https://stackoverflow.com/users/8787505/1313e"}, "edited": false, "score": 0, "creation_date": 1515030245, "post_id": 48086710, "comment_id": 83150047, "body": "Also, you were not allowed to use <code>&#39;\\n&#39;</code> as a separation, right?"}], "tags": [], "owner": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "is_accepted": false, "score": -7, "last_activity_date": 1515022881, "creation_date": 1515022881, "answer_id": 48086710, "question_id": 48086626, "link": "https://stackoverflow.com/questions/48086626/python-3-how-to-create-a-list-to-print-its-every-element-on-a-new-line-withou/48086710#48086710", "title": "Python 3: How to create a list to print its every element on a new line - without loops or sep = &quot;\\n&quot;", "body": "<p>I found the solution.</p>\n\n<p>'mylist' shouldn't be a list, it should be created as a string like this - then it prints as desired:</p>\n\n<pre><code>mylist = 'AB\\nCD\\nEF'\nprint(mylist)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 1, "last_activity_date": 1515086558, "last_edit_date": 1515086558, "creation_date": 1515023866, "answer_id": 48086851, "question_id": 48086626, "link": "https://stackoverflow.com/questions/48086626/python-3-how-to-create-a-list-to-print-its-every-element-on-a-new-line-withou/48086851#48086851", "title": "Python 3: How to create a list to print its every element on a new line - without loops or sep = &quot;\\n&quot;", "body": "<p>The standard <code>list</code> type has a number of built-in behaviors, including a representation with brackets around the list and commas between (<code>repr</code>s of) the items. There's no way to get the behavior you desire, from the statement you specify (<code>print(mylist)</code>), <em>and</em> use the standard <code>list</code> type.</p>\n\n<p>You may define a class <code>MyList</code> whose <code>__str__()</code> method generates the desired format:</p>\n\n<pre><code>class MyList(list):\n    def __str__(self):\n       return \"\\n\".join(self)\n\nmylist = MyList(['AB', 'CD', 'EF'])\n\nprint(mylist)\n</code></pre>\n\n<p>Or you may redefine <code>print()</code>:</p>\n\n<pre><code>def print(*args, print=print, **kwargs):\n    if type(args[0]) is list and len(args) == 1:\n        args = [\"\\n\".join(args[0])]\n    print(*args, **kwargs)\n</code></pre>\n\n<p>Either way is just hiding the code away somewhere else in order to stick to some arbitrary rule about what you're allowed to write. If you're going to do that, in a class is probably the more acceptable spot to put it.</p>\n"}], "owner": {"reputation": 1472, "user_id": 3245256, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2d0358a02c42afeea4b4bb3920e6337b?s=128&d=identicon&r=PG&f=1", "display_name": "user3245256", "link": "https://stackoverflow.com/users/3245256/user3245256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 4, "score": -12, "last_activity_date": 1515086558, "creation_date": 1515022351, "last_edit_date": 1515023266, "question_id": 48086626, "link": "https://stackoverflow.com/questions/48086626/python-3-how-to-create-a-list-to-print-its-every-element-on-a-new-line-withou", "title": "Python 3: How to create a list to print its every element on a new line - without loops or sep = &quot;\\n&quot;", "body": "<p>Let's say I have a list 'mylist'. For example, I prepared it like this:</p>\n\n<pre><code>mylist = ['AB', 'CD', 'EF']\n</code></pre>\n\n<p>I need to print out each element of 'mylist' on a new line.\nHowever, I am not allowed to use loops (as in 'for i in mylist...') and I can't say:</p>\n\n<pre><code>print(*mylist, sep = \"\\n\")\n</code></pre>\n\n<p>Although the last command gives exactly the output I need.</p>\n\n<p>No, I have to somehow create/prepare 'mylist' in such a way that the desired print output is achieved based on the following command:</p>\n\n<pre><code>print(mylist)\n</code></pre>\n\n<p>Is it even possible?\nNotice, it's not a duplicate post - it's more about how to format the list to begin with, not about printing per se.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 5, "creation_date": 1515022232, "post_id": 48086608, "comment_id": 83148215, "body": "This sounds like a really bad idea. Just call <code>float</code>."}, {"owner": {"reputation": 1844, "user_id": 4844024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9de342e1ce408f4874eac3f019efb33?s=128&d=identicon&r=PG&f=1", "display_name": "mad.meesh", "link": "https://stackoverflow.com/users/4844024/mad-meesh"}, "edited": false, "score": 1, "creation_date": 1515022327, "post_id": 48086608, "comment_id": 83148246, "body": "do you have have a method to override? why not just define a function that does the coercion as a member function so you can then do: <code>p.max()</code> ?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1515022355, "post_id": 48086608, "comment_id": 83148257, "body": "Also, <code>___le__</code> has an extra <code>_</code>, and you should check the type of the other operand in your operator overloads (and return <code>NotImplemented</code> for unsupported other operands)."}, {"owner": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "edited": false, "score": 0, "creation_date": 1515024534, "post_id": 48086608, "comment_id": 83148801, "body": "I&#39;m curious. Why you do need this weird behavior?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1515025491, "post_id": 48086608, "comment_id": 83149045, "body": "<code>max</code> is going to give the maximum of the objects you feed to it, it isn&#39;t going to do an automatic conversion - that&#39;s not its job."}, {"owner": {"reputation": 710, "user_id": 1440784, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cpRIG.jpg?s=128&g=1", "display_name": "MBeale", "link": "https://stackoverflow.com/users/1440784/mbeale"}, "edited": false, "score": 0, "creation_date": 1515111196, "post_id": 48086608, "comment_id": 83186517, "body": "sounds like <code>float(max(p))</code> is the best solution.  I wanted to avoid calling the <code>float</code> on a list of Points for purely aesthetic reasons."}], "answers": [{"tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 1, "last_activity_date": 1515024136, "creation_date": 1515024136, "answer_id": 48086899, "question_id": 48086608, "link": "https://stackoverflow.com/questions/48086608/can-max-be-coerced-to-return-only-a-float/48086899#48086899", "title": "Can max be coerced to return only a float", "body": "<p>According to the <a href=\"https://docs.python.org/3/library/functions.html#max\" rel=\"nofollow noreferrer\">documentation</a>, you can use any iterable: for instance you can iterate the values like this:</p>\n\n<pre><code>points = [Point(1, 23.33), Point(2, 12.3)]\nm = max(p._value for p in points)\n</code></pre>\n\n<p>Or iterate using <code>float</code>:</p>\n\n<pre><code>m = max(float(p) for p in points)\n</code></pre>\n"}], "owner": {"reputation": 710, "user_id": 1440784, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/cpRIG.jpg?s=128&g=1", "display_name": "MBeale", "link": "https://stackoverflow.com/users/1440784/mbeale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515024136, "creation_date": 1515022116, "question_id": 48086608, "link": "https://stackoverflow.com/questions/48086608/can-max-be-coerced-to-return-only-a-float", "title": "Can max be coerced to return only a float", "body": "<p>I have a class that has two attributes (index and value).  I want to be able to call max and return only the value(which is a float).</p>\n\n<pre><code>p = [Point(1, 23.33), Point(2, 12.3)]\nmax(p)\n#&lt;Point object at 0x1052d4eb8&gt; \n# I would like to see 23.33\n# float(max(p)) returns the float but I want to be able to use the max function by it self\n</code></pre>\n\n<p>Is there a method in the data model that I can override to force <code>max</code> to return just the float?  The entire class below.</p>\n\n<p>Python 3.6</p>\n\n<pre><code>class Point:                                                                                                                                                                                                                                                                                                                \n      \"\"\" a set of data indexed by time \"\"\"                                                                                                                                                                                                                                                                                   \n      def __init__(self, index, value):                                                                                                                                                                                                                                                                                       \n          self._index = index                                                                                                                                                                                                                                                                                                 \n          self._value = value                                                                                                                                                                                                                                                                                                 \n\n      def __float__(self):                                                                                                                                                                                                                                                                                                    \n          return float(self._value)                                                                                                                                                                                                                                                                                           \n\n      def __add__(self, other):                                                                                                                                                                                                                                                                                               \n          return float(self._value) + other                                                                                                                                                                                                                                                                                   \n\n      def __radd__(self, other):                                                                                                                                                                                                                                                                                              \n          return self.__add__(other)                                                                                                                                                                                                                                                                                          \n\n      def __lt__(self, other):                                                                                                                                                                                                                                                                                                \n          return self._value &lt; float(other)                                                                                                                                                                                                                                                                                   \n\n      def ___le__(self, other):                                                                                                                                                                                                                                                                                               \n          return self._value &lt;= float(other)                                                                                                                                                                                                                                                                                  \n\n      def __eq__(self, other):                                                                                                                                                                                                                                                                                                \n          return self._value == float(other)                                                                                                                                                                                                                                                                                  \n\n      def __ne__(self, other):                                                                                                                                                                                                                                                                                                \n          return self._value != float(other)                                                                                                                                                                                                                                                                                  \n\n      def __gt__(self, other):                                                                                                                                                                                                                                                                                                \n          return self._value &gt; float(other)                                                                                                                                                                                                                                                                                   \n\n      def __ge__(self, other):                                                                                                                                                                                                                                                                                                \n          return self._value &gt;= float(other) \n</code></pre>\n"}, {"tags": ["python", "multidimensional-array"], "comments": [{"owner": {"reputation": 2583, "user_id": 1366439, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/afa5ebac19b12e5d6a7c7340cad5acb5?s=128&d=identicon&r=PG", "display_name": "CBredlow", "link": "https://stackoverflow.com/users/1366439/cbredlow"}, "edited": false, "score": 2, "creation_date": 1515022209, "post_id": 48086602, "comment_id": 83148201, "body": "What have you tried so far? This could be done with a for loop based on your input value."}], "answers": [{"tags": [], "owner": {"reputation": 1549, "user_id": 6084948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e5d032c08808069ed37e38ff8e81e4?s=128&d=identicon&r=PG", "display_name": "briancaffey", "link": "https://stackoverflow.com/users/6084948/briancaffey"}, "is_accepted": false, "score": 0, "last_activity_date": 1515022714, "creation_date": 1515022714, "answer_id": 48086680, "question_id": 48086602, "link": "https://stackoverflow.com/questions/48086602/build-a-multidimensional-list-from-an-integer/48086680#48086680", "title": "Build a multidimensional list from an integer", "body": "<p>You could use list comprehension:</p>\n\n<pre><code>def multdimensional_list(i):\n    link = 'https://hooks.com/catch/123'\n    return [[n,link] for n in range(1, i+1)]\n</code></pre>\n\n<p><code>multidimensional_list(3)</code> returns:</p>\n\n<pre><code>[[1, 'https://hooks.com/catch/123'],\n [2, 'https://hooks.com/catch/123'],\n [3, 'https://hooks.com/catch/123']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 551, "user_id": 1993178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FvkIh.png?s=128&g=1", "display_name": "csakon", "link": "https://stackoverflow.com/users/1993178/csakon"}, "edited": false, "score": 0, "creation_date": 1515192813, "post_id": 48086681, "comment_id": 83221606, "body": "To add to this, I needed this to start at 1, so this worked perfectly: hooks = [[i,&#39;<a href=\"https://hooks.com/catch/123&#39;]\" rel=\"nofollow noreferrer\">hooks.com/catch/123&#39;]</a> for i in range(1,10)]"}], "tags": [], "owner": {"reputation": 561, "user_id": 4747870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/930598120304608/picture?type=large", "display_name": "Joonatan Samuel", "link": "https://stackoverflow.com/users/4747870/joonatan-samuel"}, "is_accepted": true, "score": 1, "last_activity_date": 1515022718, "creation_date": 1515022718, "answer_id": 48086681, "question_id": 48086602, "link": "https://stackoverflow.com/questions/48086602/build-a-multidimensional-list-from-an-integer/48086681#48086681", "title": "Build a multidimensional list from an integer", "body": "<p>This</p>\n\n<pre><code>hooks = [[i,'https://hooks.com/catch/123'] for i in range(10)]\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>[[0, 'https://hooks.com/catch/123'],\n [1, 'https://hooks.com/catch/123'],\n [2, 'https://hooks.com/catch/123'],\n [3, 'https://hooks.com/catch/123'],\n [4, 'https://hooks.com/catch/123'],\n [5, 'https://hooks.com/catch/123'],\n [6, 'https://hooks.com/catch/123'],\n [7, 'https://hooks.com/catch/123'],\n [8, 'https://hooks.com/catch/123'],\n [9, 'https://hooks.com/catch/123']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1515023121, "creation_date": 1515023121, "answer_id": 48086752, "question_id": 48086602, "link": "https://stackoverflow.com/questions/48086602/build-a-multidimensional-list-from-an-integer/48086752#48086752", "title": "Build a multidimensional list from an integer", "body": "<p>This works too:</p>\n\n<pre><code>url = 'https://hooks.com/catch/123'\nnumber = 3\n\noutlist = list(map(lambda i: [i+1,url], range(number)))\nprint(outlist)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[1, 'https://hooks.com/catch/123'], [2, 'https://hooks.com/catch/123'], [3, 'https://hooks.com/catch/123']]\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 1993178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FvkIh.png?s=128&g=1", "display_name": "csakon", "link": "https://stackoverflow.com/users/1993178/csakon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 48086681, "answer_count": 3, "score": -2, "last_activity_date": 1515023121, "creation_date": 1515022078, "question_id": 48086602, "link": "https://stackoverflow.com/questions/48086602/build-a-multidimensional-list-from-an-integer", "title": "Build a multidimensional list from an integer", "body": "<p>I need to create a simple multidimensional list in order to trigger an integration in another system. If I have the number 3, I want to output the following:</p>\n\n<pre><code>[[1,'https://hooks.com/catch/123'],[2,'https://hooks.com/catch/123'],[3,'https://hooks.com/catch/123']]\n</code></pre>\n\n<p>Same URL for each, I just need to send a list for each number I have. If the number is 7, I need 7 lists in a nested list.</p>\n"}, {"tags": ["python", "python-sphinx", "autodoc"], "answers": [{"comments": [{"owner": {"reputation": 2496, "user_id": 487464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pl50g.jpg?s=128&g=1", "display_name": "Bryce Guinta", "link": "https://stackoverflow.com/users/487464/bryce-guinta"}, "edited": false, "score": 0, "creation_date": 1515025737, "post_id": 48086725, "comment_id": 83149099, "body": "The Module Index isn&#39;t appearing anymore. I think it was a caching issue with :ref:<code>modindex</code> in <code>docs&#47;_build&#47;doctrees</code> from a separate sphinx project."}], "tags": [], "owner": {"reputation": 66, "user_id": 6346040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc14df368260f5dd3207b5b4fa83be6?s=128&d=identicon&r=PG&f=1", "display_name": "plonker13", "link": "https://stackoverflow.com/users/6346040/plonker13"}, "is_accepted": true, "score": 4, "last_activity_date": 1515025025, "last_edit_date": 1515025025, "creation_date": 1515022970, "answer_id": 48086725, "question_id": 48086587, "link": "https://stackoverflow.com/questions/48086587/how-do-i-stop-the-index-and-python-module-index-from-appearing-using-sphinx/48086725#48086725", "title": "How do I stop the &quot;Index&quot; and &quot;Python Module Index&quot; from appearing using sphinx autodoc?", "body": "<p>You should be able to remove this under index.rst. See if there is a line:</p>\n\n<pre><code>* :ref:`modindex`\n</code></pre>\n"}], "owner": {"reputation": 2496, "user_id": 487464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pl50g.jpg?s=128&g=1", "display_name": "Bryce Guinta", "link": "https://stackoverflow.com/users/487464/bryce-guinta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 909, "favorite_count": 0, "accepted_answer_id": 48086725, "answer_count": 1, "score": 2, "last_activity_date": 1515025240, "creation_date": 1515021982, "last_edit_date": 1515025240, "question_id": 48086587, "link": "https://stackoverflow.com/questions/48086587/how-do-i-stop-the-index-and-python-module-index-from-appearing-using-sphinx", "title": "How do I stop the &quot;Index&quot; and &quot;Python Module Index&quot; from appearing using sphinx autodoc?", "body": "<p>I'm using sphinx autodoc for retrieving class and module docstrings. </p>\n\n<p>When I use autodoc sphinx automatically generates an ugly page called <code>Python Module Index</code>. </p>\n\n<p>I can only disable this page if I add <code>:noindex:</code> to every single <code>autoclass</code> and <code>automodule</code>.</p>\n\n<p><strong>Question:</strong>\nIs there a way to globally insert <code>:noindex</code> into these ReStructured Text directives?</p>\n\n<hr>\n\n<p>My <code>index.rst</code> for reference:</p>\n\n<pre><code>.. toctree::\n   :maxdepth: 5\n   :glob:\n\n   README\n   CHANGELOG\n   DEV-README\n</code></pre>\n"}, {"tags": ["python", "numpy", "array-broadcasting"], "comments": [{"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1515022151, "post_id": 48086586, "comment_id": 83148186, "body": "is this to be done recursively or just once?"}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "reply_to_user": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1515022260, "post_id": 48086586, "comment_id": 83148223, "body": "Just a single time. If it were done recursively it would fill the whole space with 1&#39;s, no?"}, {"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1515022342, "post_id": 48086586, "comment_id": 83148252, "body": "Given [x, y, 1], if any of [x+- 1, y+-1, 1] is not included, add it?"}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "reply_to_user": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1515022390, "post_id": 48086586, "comment_id": 83148262, "body": "Yes. This is correct."}, {"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1515022471, "post_id": 48086586, "comment_id": 83148278, "body": "Are the resulting elements unique?"}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "reply_to_user": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1515022579, "post_id": 48086586, "comment_id": 83148313, "body": "Yes the elements in the base array are unique"}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1515023596, "post_id": 48086586, "comment_id": 83148554, "body": "You want to do a morphological dilation with a 3x3 square kernel on (homogeneous) pixel coordinates. Are you using OpenCV or scikit-image? Both have morphological operations that you could easily do this with---the only difference being you&#39;d do it on the <i>image</i>, not the coordinates, but you could still just do that and use <code>np.where()</code> to get the coordinates. Or of course you could write your own function to dilate. But this seems like an easier operation to do on an image/2d array than the list of coordinates (just requires a single pass through the image). Any reason not to?"}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "edited": false, "score": 1, "creation_date": 1515023792, "post_id": 48086586, "comment_id": 83148604, "body": "I understand the image processing applications of dilation, the issue is that I&#39;m dealing with a point cloud and not an image. There are no 0&#39;s to fill values where there are not 1&#39;s. It would be computationally intractable to turn the large arrays I am dealing with into an image grid."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1515024483, "post_id": 48086586, "comment_id": 83148784, "body": "The first line of my comment was mostly for others to see, I figured you knew what you were doing :). But sounds good re: size of the arrays. Just curious, what do you need such a large array of homogeneous coordinates for? Just a transformation of a big set of point cloud? You could do connected components on the points <i>first</i> to segment into groups, and then just expand the groups by one pixel. If you don&#39;t want to add elements that already exist and then filter like you&#39;re doing, you need to do something like connected components first."}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "edited": false, "score": 0, "creation_date": 1515024730, "post_id": 48086586, "comment_id": 83148846, "body": "Yeah I want to target track objects as this pointcloud evolves using connected components analysis, and the first big challenge to this is creating a dilation mask that operates on pointclouds instead of an image"}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1515025740, "post_id": 48086586, "comment_id": 83149100, "body": "Typically dilation is expressed in terms of intersections with a shifted version of the image, which is exactly what you&#39;re doing. One thing to think about here is that <code>np.append()</code> is a very slow function, because it needs to create new arrays each time and you&#39;re creating larger and larger arrays each time. Small changes that could at least speed up your current implementation: find the union between each append step, so that you&#39;re appending slightly smaller arrays, and maybe strip the homogeneous 1 row beforehand."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1515025958, "post_id": 48086586, "comment_id": 83149154, "body": "Oh also your current implementation has an issue. You&#39;re appending to the array each time, so the next line, you&#39;re appending shifted pixels to the pixels you <i>already</i> appended. IOW if you had a single coordinate (x, y), then the first line will add (x, y+1), so now the next line is operating on two pixels instead of just the original array."}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "edited": false, "score": 0, "creation_date": 1515026050, "post_id": 48086586, "comment_id": 83149169, "body": "Ah sorry. I dont have the code infront of me. It&#39;s actually not doing that. I&#39;m assigning each step to a new variable then concatenating at the end."}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1515030180, "post_id": 48086586, "comment_id": 83150032, "body": "Just how large are your grids?"}, {"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "edited": false, "score": 0, "creation_date": 1515031236, "post_id": 48086586, "comment_id": 83150272, "body": "2000*4000 in a simple 2d case. Once I move to 3d more like 2000*4000*200."}], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "edited": false, "score": 0, "creation_date": 1515039725, "post_id": 48088529, "comment_id": 83151878, "body": "This worked much faster than my code. Is the second line coords=... turning a point cloud into an image?"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "reply_to_user": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "edited": false, "score": 0, "creation_date": 1515040051, "post_id": 48088529, "comment_id": 83151955, "body": "@IanCampbellMoore It&#39;s just translating random numbers from <code>range(2000*4000*200)</code> to grid coordinates, so it is actually creating the point cloud."}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 2, "last_activity_date": 1515039201, "last_edit_date": 1515039201, "creation_date": 1515038868, "answer_id": 48088529, "question_id": 48086586, "link": "https://stackoverflow.com/questions/48086586/how-to-dilate-a-numpy-array/48088529#48088529", "title": "How to dilate a numpy array", "body": "<p><code>2000 x 4000 x 200</code> is just doable with a lookup table. At just below a million coordinates I get a speedup by a factor of ~5 compared to the <code>np.unique</code> approach.</p>\n\n<pre><code>lookup table:  2.18715, np.unique: 11.40247\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>import numpy as np\nfrom numpy.lib.stride_tricks import as_strided\nfrom time import time\n\ncoords = np.unique(np.random.randint(0, 2000*4000*200, (1000000,)))\ncoords = np.c_[coords // (4000*200), (coords // 200) % 4000, coords % 200]\n\nt = [time()]\n\nws = np.empty((2002, 4002, 202), dtype=np.uint8)\nws = as_strided(ws, (2000, 4000, 200, 3, 3, 3), 2 * ws.strides)\n\nws[tuple(coords.T)] = np.arange(27).reshape(3, 3, 3)\nunq = ws[tuple(coords.T)] == np.arange(27).reshape(3, 3, 3)\nresult = (coords[:, None, None, None, :] + np.moveaxis(np.indices((3, 3, 3)) - 1, 0, -1))[unq]\ndel ws\n\nt.append(time())\n\nresult2 = np.unique((coords[:, None, None, None, :] + np.moveaxis(np.indices((3, 3, 3)) - 1, 0, -1)).reshape(-1, 3), axis = 0)\n\nt.append(time())\n\nprint('lookup table: {:8.5f}, np.unique: {:8.5f}'.format(*np.diff(t)))\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 8099495, "user_type": "registered", "accept_rate": 93, "profile_image": "https://graph.facebook.com/10212524408045791/picture?type=large", "display_name": "Ian Campbell Moore", "link": "https://stackoverflow.com/users/8099495/ian-campbell-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3659, "favorite_count": 1, "accepted_answer_id": 48088529, "answer_count": 1, "score": 2, "last_activity_date": 1515039201, "creation_date": 1515021980, "question_id": 48086586, "link": "https://stackoverflow.com/questions/48086586/how-to-dilate-a-numpy-array", "title": "How to dilate a numpy array", "body": "<p>I have a numpy array of points with shape <code>(1000,3)</code> \nwhere axis 1 takes on values <code>[x,y,1]</code></p>\n\n<p>The points are at discrete values on a grid so an example array looks like:</p>\n\n<pre><code>array=([1,2,1],[4,5,1],[2,3,1],...,[xN,yN,1])\n</code></pre>\n\n<p>I would like to dilate this 2d array, and by this I mean, for each <code>[x,y,1]</code> coordinate in the array, if <code>[x\u00b11,y\u00b11,1]</code> is not in the array append it to the array.</p>\n\n<p>currently I'm doing this with the following code:</p>\n\n<pre><code>np.append(array, [array[:,0],array[:,1]+1,1])\nnp.append(array, [array[:,0]+1,array[:,1],1])\nnp.append(array, [array[:,0]+1,array[:,1]+1,1])\nnp.append(array, [array[:,0]-1,array[:,1],1])\nnp.append(array, [array[:,0],array[:,1]-1,1])\nnp.append(array, [array[:,0]-1,array[:,1]-1,1])\nnp.append(array, [array[:,0]+1,array[:,1]-1,1])\nnp.append(array, [array[:,0]-1,array[:,1]+1,1])\n</code></pre>\n\n<p>then I am using <code>np.unique(array)</code> to reduce down to unqiue elements. This method works, but it is too slow to run on large arrays with more than 100000 points, and it doesn't feel like a smooth solution. There must be a way to do this without duplicating so many points then having to find all unique instances. Is there a different (read:faster) way to do what I am doing?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 2, "creation_date": 1515022139, "post_id": 48086568, "comment_id": 83148181, "body": "Why do you think that being able to write something in one line makes it more pythonic?"}, {"owner": {"reputation": 377, "user_id": 7944058, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/99826eba7e7fd7963989adcfaa738606?s=128&d=identicon&r=PG&f=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/7944058/casey"}, "reply_to_user": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1515022519, "post_id": 48086568, "comment_id": 83148296, "body": "@poke that&#39;s a good question: In this case it&#39;s more about doing the initialization all at once (in one line) rather than breaking it up.  It feels more accurate to have one statement (in one line) that says: this is my list."}], "answers": [{"comments": [{"owner": {"reputation": 953, "user_id": 8272888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bRUzh.jpg?s=128&g=1", "display_name": "sam-pyt", "link": "https://stackoverflow.com/users/8272888/sam-pyt"}, "edited": false, "score": 0, "creation_date": 1515022258, "post_id": 48086596, "comment_id": 83148222, "body": "didn&#39;t see that"}], "tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 12, "last_activity_date": 1515022289, "last_edit_date": 1515022289, "creation_date": 1515022043, "answer_id": 48086596, "question_id": 48086568, "link": "https://stackoverflow.com/questions/48086568/how-to-initialize-a-list-and-extend-it-with-another-list-in-one-line/48086596#48086596", "title": "How to initialize a list and extend it with another list in one line?", "body": "<p>You can use unpacking inside the list literal</p>\n\n<pre><code>myList = [0, 1, *remoteList]\n</code></pre>\n\n<p>This is part of the <a href=\"https://docs.python.org/3/whatsnew/3.5.html#pep-448-additional-unpacking-generalizations\" rel=\"noreferrer\">unpacking generalizations</a> made available in Python 3.5</p>\n"}, {"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 8, "last_activity_date": 1515022595, "last_edit_date": 1515022595, "creation_date": 1515022109, "answer_id": 48086605, "question_id": 48086568, "link": "https://stackoverflow.com/questions/48086568/how-to-initialize-a-list-and-extend-it-with-another-list-in-one-line/48086605#48086605", "title": "How to initialize a list and extend it with another list in one line?", "body": "<p>Are not you just asking about the <code>+</code> <em>list concatenation</em> operation:</p>\n\n<pre><code>In [1]: remoteList = [2, 3, 4]\n\nIn [2]: myList = [0, 1] + remoteList\n\nIn [3]: myList\nOut[3]: [0, 1, 2, 3, 4]\n</code></pre>\n\n<p>Works for both Python 2 and 3.</p>\n\n<hr>\n\n<p>There are some slight differences between \"extend\" and \"plus\":</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/3653298/771848\">Concatenating two lists - difference between &#39;+=&#39; and extend()</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1515022136, "creation_date": 1515022136, "answer_id": 48086610, "question_id": 48086568, "link": "https://stackoverflow.com/questions/48086568/how-to-initialize-a-list-and-extend-it-with-another-list-in-one-line/48086610#48086610", "title": "How to initialize a list and extend it with another list in one line?", "body": "<pre><code>a = [2,3,4]\nb = [1,2] + a  # will add the other list\nprint( b)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1, 2, 2, 3, 4]\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 7944058, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/99826eba7e7fd7963989adcfaa738606?s=128&d=identicon&r=PG&f=1", "display_name": "Casey", "link": "https://stackoverflow.com/users/7944058/casey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2023, "favorite_count": 0, "closed_date": 1515022892, "accepted_answer_id": 48086605, "answer_count": 3, "score": 8, "last_activity_date": 1515022595, "creation_date": 1515021867, "question_id": 48086568, "link": "https://stackoverflow.com/questions/48086568/how-to-initialize-a-list-and-extend-it-with-another-list-in-one-line", "closed_reason": "Duplicate", "title": "How to initialize a list and extend it with another list in one line?", "body": "<p>This sounds like a super easy question, so I'm surprised that searching didn't yield any results:  I want to initialize a list of constants and extend it with a list from another source.</p>\n\n<p>This works:</p>\n\n<pre><code>remoteList = [2, 3, 4]\nmyList = [0,1]\nmyList.extend(remoteList)\n</code></pre>\n\n<p>Which means it gives the expected results:</p>\n\n<pre><code>myList\n[0, 1, 2, 3, 4]\n</code></pre>\n\n<p>However, doing the list initialization in one line doesn't work, myList is left undefined:</p>\n\n<pre><code>remoteList = [2, 3, 4]\nmyList = [0,1].extend(remoteList)\n</code></pre>\n\n<p>Is there a way to initialize the list and extend it with another list (in a pythonic way) in one line?  Why doesn't my one line example work, or at least produce some sort of list?</p>\n"}, {"tags": ["python", "linux", "loops", "while-loop", "boolean"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1515022579, "post_id": 48086515, "comment_id": 83148312, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. Your posted code fails with several syntax errors."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1515022101, "creation_date": 1515022101, "answer_id": 48086604, "question_id": 48086515, "link": "https://stackoverflow.com/questions/48086515/how-to-loop-over-the-entire-python-script-and-and-each-time-change-order-ran/48086604#48086604", "title": "How to loop over the entire python script and and each time change order ran", "body": "<p>You've tied yourself into a knot with a double-infinite loop.  You set two variables (Loop and V1, both poor names), and never use either to control the loop.  Try this: simply <code>break</code> the loop when you're done.</p>\n\n<pre><code>while True:\n    print(\"Checked for vulnerability\")\n    if my_file.is_file():\n        print('Virus is still there')\n        time.sleep(6)\n        os.system(\"rm /home/levi/Desktop/Trojan\")\n    else:\n        print('Virus removed')\n        break\n\nprint('Did this work')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 703, "user_id": 8787505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zY7CD.jpg?s=128&g=1", "display_name": "1313e", "link": "https://stackoverflow.com/users/8787505/1313e"}, "is_accepted": false, "score": 1, "last_activity_date": 1515031254, "creation_date": 1515031254, "answer_id": 48087684, "question_id": 48086515, "link": "https://stackoverflow.com/questions/48086515/how-to-loop-over-the-entire-python-script-and-and-each-time-change-order-ran/48087684#48087684", "title": "How to loop over the entire python script and and each time change order ran", "body": "<p>You have two infinite loops, which can only be ended by a <code>break</code> statement. You do have a <code>break</code> statement in your code, but only one. A <code>break</code> statement will only break out of the most inner loop that it is in, in this case, your inner <code>while</code> loop. The outer <code>while</code> loop therefore will never end.\nAlthough there are better ways of writing your code (like Prune has pointed out), I will give a suggestion that follows closely to your original code:</p>\n\n<pre><code>V1 = True\nwhile V1 is True:\n    print(\"Checked for vulnerability\")\n    if my_file.is_file():\n        print('Virus is still there')\n        time.sleep(6)\n        os.system(\"rm /home/levi/Desktop/Trojan\")\n    else:\n        print('Virus removed')\n        V1 = False\n\nprint('Did this work')\n</code></pre>\n\n<p>I still removed the outer <code>while</code>-loop, since it serves no purpose in any way.\nUnless, of course, you were going to add more to the outer loop than just an other loop, then you should re-add it. In that case however, you should define your code in the following way:</p>\n\n<pre><code>loop = True\nV1 = True\nwhile loop is True:\n    while V1 is True:\n        print(\"Checked for vulnerability\")\n        if my_file.is_file():\n            print('Virus is still there')\n            time.sleep(6)\n            os.system(\"rm /home/levi/Desktop/Trojan\")\n        else:\n            print('Virus removed')\n            V1 = False\n    # do something else here after ending the inner while loop\n\nprint('Did this work')\n</code></pre>\n\n<p>This ensures that the inner <code>while</code> loop is only ever executed once, no matter how many times the outer loop iterates.</p>\n"}], "owner": {"reputation": 45, "user_id": 9170343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fbmBz.jpg?s=128&g=1", "display_name": "lavarockman", "link": "https://stackoverflow.com/users/9170343/lavarockman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 48086604, "answer_count": 2, "score": -2, "last_activity_date": 1515031254, "creation_date": 1515021472, "last_edit_date": 1515022504, "question_id": 48086515, "link": "https://stackoverflow.com/questions/48086515/how-to-loop-over-the-entire-python-script-and-and-each-time-change-order-ran", "title": "How to loop over the entire python script and and each time change order ran", "body": "<p>I'm trying to create a script to run in the background of a Linux system. I want it to check if certain conditions have been met; once they have, skip that section of code and not check anymore. </p>\n\n<pre><code>Loop = True\nwhile True:\n  V1 = None\n  while True:\n    print(\"Checked for vulnerability\")\n    if my_file.is_file():\n        print('Virus is still there')\n        time.sleep(6)\n        os.system(\"rm /home/levi/Desktop/Trojan\")\n    else:\n        print('Virus removed')\n        V1 = False\n        break\n\n  print('Did this work')\n</code></pre>\n\n<p>I need to check V1: if <code>True</code>, then execute the loop.  When it loops around, set the value to <code>False</code> and end the script -- but it gets stuck in the else statement and never ends. I never see \"did this work.\"</p>\n"}, {"tags": ["python", "django", "django-models", "django-taggit"], "comments": [{"owner": {"reputation": 2777, "user_id": 4584672, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8c705d52d6bf6a9ad4276e709072765?s=128&d=identicon&r=PG&f=1", "display_name": "jackotonye", "link": "https://stackoverflow.com/users/4584672/jackotonye"}, "edited": false, "score": 0, "creation_date": 1515028557, "post_id": 48086513, "comment_id": 83149682, "body": "Your best bet is to override the form initial values take a look at <a href=\"https://docs.djangoproject.com/en/2.0/ref/forms/api/#django.forms.Form.get_initial_for_field\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.0/ref/forms/api/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3051, "user_id": 1261774, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f94b335a5baf10505aad066202122651?s=128&d=identicon&r=PG", "display_name": "user1261774", "link": "https://stackoverflow.com/users/1261774/user1261774"}, "is_accepted": true, "score": 10, "last_activity_date": 1600789459, "last_edit_date": 1600789459, "creation_date": 1515208272, "answer_id": 48123917, "question_id": 48086513, "link": "https://stackoverflow.com/questions/48086513/django-taggit-display-existing-tags-on-the-django-admin-add-record-page/48123917#48123917", "title": "django-taggit - display existing tags on the django-admin add record page", "body": "<p>I will answer my own question.</p>\n<p>I don't think that adding the tags to the new vlog page is possible - that is not possible for my level of coding experience.</p>\n<p>However, after more investigation, I stumbled to an obscure post about <a href=\"https://bitbucket.org/fabian/django-taggit-autosuggest\" rel=\"nofollow noreferrer\">django-taggit-autosuggest</a>.</p>\n<p>Follow the docs to install and set up the django-taggit-autosuggest.</p>\n<p>Instead of listing all the existing tags in the help. The autosuggest option displays all the existing tags with the related letters, as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/2FB3x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2FB3x.png\" alt=\"enter image description here\" /></a></p>\n<p>And again:</p>\n<p><a href=\"https://i.stack.imgur.com/2ixxw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ixxw.png\" alt=\"enter image description here\" /></a></p>\n<p>I hope that this helps someone.</p>\n"}], "owner": {"reputation": 3051, "user_id": 1261774, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f94b335a5baf10505aad066202122651?s=128&d=identicon&r=PG", "display_name": "user1261774", "link": "https://stackoverflow.com/users/1261774/user1261774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1360, "favorite_count": 2, "accepted_answer_id": 48123917, "answer_count": 1, "score": 4, "last_activity_date": 1600789459, "creation_date": 1515021441, "question_id": 48086513, "link": "https://stackoverflow.com/questions/48086513/django-taggit-display-existing-tags-on-the-django-admin-add-record-page", "title": "django-taggit - display existing tags on the django-admin add record page", "body": "<p>I have created a test vlog application using django/python and <a href=\"https://github.com/alex/django-taggit\" rel=\"nofollow noreferrer\">django-taggit</a>.</p>\n\n<p>The vlog and tags are working as they should.</p>\n\n<p>However, I want to list all the existing tags in the django-admin interface for new and updated vlog entries - similar to displaying the tags as a filter on the django-admin list page.</p>\n\n<p>This will make the selection of new or existing tags for each new or updating vlog entry that much easier.</p>\n\n<p>Here is what I mean by adding the tags as <code>help-text</code> on the tags input field:</p>\n\n<p>My models.py code:</p>\n\n<pre><code>class VlogDetails(models.Model):\n    ....\n    vlog_video_image_url = models.URLField(null=False, blank=False, max_length=250, unique=True, help_text='http://img.youtube.com/vi/You_Tube_URL/0.jpg')\n    ....\n    tags = TaggableManager(help_text='List all the available tags here.')\n</code></pre>\n\n<p>Here is the django-admin input form interface:</p>\n\n<p><a href=\"https://i.stack.imgur.com/voCjW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/voCjW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is it possible to display the existing tags in another manner on the new / edit django-admin page?</p>\n\n<p>I have already listed the existing / existing tags on the django-admin list page as a filter as shown below. This filter display does not display on the new / update input forms.</p>\n\n<p>django-admin filter code:</p>\n\n<pre><code>class VlogDetailsAdmin(BaseDetailsAdmin):\n....\n    list_filter = [\n        'vlog_date_published',\n        'tags',\n        'vlog_timestamp_added',\n        'vlog_timestamp_updated'\n    ]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5QmnI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5QmnI.png\" alt=\"![enter image description here\"></a></p>\n\n<p>I have tried several things but none work and I cannot find any related ideas in the docs. Any suggestion would be appreciated. Thanks.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1515021386, "post_id": 48086482, "comment_id": 83147978, "body": "Have you tried typing in the exact title of this question into the stackoverflow search box? That returns a lot of things, some of which have examples."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515021483, "post_id": 48086482, "comment_id": 83148014, "body": "See <a href=\"http://effbot.org/tkinterbook/grid.htm#Tkinter.Grid.grid_forget-method\" rel=\"nofollow noreferrer\"><code>grid_forget</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1515021711, "post_id": 48086512, "comment_id": 83148070, "body": "Your code is a bit unclear. Your function is called <code>delete</code> but it doesn&#39;t actually delete anything, it just removes it from view."}, {"owner": {"reputation": 1, "user_id": 9170253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec3f49b9c5c6d19d5620d030d8a0ac6?s=128&d=identicon&r=PG&f=1", "display_name": "Will M", "link": "https://stackoverflow.com/users/9170253/will-m"}, "edited": false, "score": 0, "creation_date": 1515021743, "post_id": 48086512, "comment_id": 83148082, "body": "Ok, great that was it. Thanks for your help."}], "tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": false, "score": 0, "last_activity_date": 1515021429, "creation_date": 1515021429, "answer_id": 48086512, "question_id": 48086482, "link": "https://stackoverflow.com/questions/48086482/removing-forgetting-widgets-on-tkinter/48086512#48086512", "title": "Removing/forgetting widgets on tkinter", "body": "<p>To do that you will have to use 2 lines to define and layout the widget (which is good practice anyway). </p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\n\ndef delete():\n    label.grid_forget()\n\nwindow = Tk()\nwindow.title(\"Window\")\nwindow.configure(background='#e4e5ff')\n\nlabel = ttk.Label(window, text='text')\nlabel.grid(column=1, row=0)\n\nbtn = ttk.Button(window, text='text',command = delete)\nbtn.grid(column=2,row=0)\n\nwindow.mainloop()\n</code></pre>\n\n<p>However, I suspect this is an XY problem. Are you trying to delete it in order to replace it with another Label? If so, you need to update the current label, not delete it and replace it. </p>\n\n<pre><code>def delete():\n    label.config(text='new_text')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9170253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cec3f49b9c5c6d19d5620d030d8a0ac6?s=128&d=identicon&r=PG&f=1", "display_name": "Will M", "link": "https://stackoverflow.com/users/9170253/will-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1916, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515028468, "creation_date": 1515021206, "last_edit_date": 1515028468, "question_id": 48086482, "link": "https://stackoverflow.com/questions/48086482/removing-forgetting-widgets-on-tkinter", "title": "Removing/forgetting widgets on tkinter", "body": "<p>I'm new to the Tkinter module (and quite new to python) I can't for the life of me figure out how to use the remove or forget methods to hide widgets in a grid. I can't seem to find relevant examples online and the tutorial documents have given me everything but the syntax. Below is the code I've been using to try and figure it out. Apologies if this overly trivial...</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\n\n\ndef delete():\n    #where I would like to delete the label 'label'\n\nwindow = Tk()\nwindow.title(\"Window\")\nwindow.configure(background='#e4e5ff')\n\nlabel = ttk.Label(window, text='text').grid(column=1, row=0)\n\nttk.Button(window, text='text',command = delete).grid(column=2,row=0)\n\nwindow.mainloop()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "pandas-groupby"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1515023229, "post_id": 48086457, "comment_id": 83148465, "body": "BTW , you have <code>campaign_4</code> here"}], "answers": [{"comments": [{"owner": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "edited": false, "score": 0, "creation_date": 1515023191, "post_id": 48086669, "comment_id": 83148457, "body": "value_counts() just gives 1 corresponding to the event_names."}], "tags": [], "owner": {"reputation": 37, "user_id": 8316379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53910759fc2ec8f4df531f39b84916df?s=128&d=identicon&r=PG&f=1", "display_name": "XyledMonkey", "link": "https://stackoverflow.com/users/8316379/xyledmonkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1515023838, "last_edit_date": 1515023838, "creation_date": 1515022635, "answer_id": 48086669, "question_id": 48086457, "link": "https://stackoverflow.com/questions/48086457/combine-rows-in-a-dataframe-add-the-value-as-a-column/48086669#48086669", "title": "Combine rows in a DataFrame &amp; add the value as a column", "body": "<p>pd.crosstab() and pd.pivot() should do the trick. </p>\n\n<pre><code>#df is your input dataframe\nreplacement = {'hv_users_w':'hv_users', 'hv_users_r':'hv_users','registration':'registration'}\ndf.event_name = df.event_name.map(replacement)\ndf1 = pd.crosstab(df.campaign_name, df.event_name)    \ndf2 = pd.pivot_table(df, index = 'campaign_name')\noutput = pd.concat([df1,df2], axis = 1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "edited": false, "score": 0, "creation_date": 1515023457, "post_id": 48086741, "comment_id": 83148516, "body": "This nearly does the trick! However, the &quot;hv_users_r&quot; &amp; &quot;hv_users_w&quot; get created as different columns. Is it possible to combine these 2 as a single column?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "edited": false, "score": 0, "creation_date": 1515023705, "post_id": 48086741, "comment_id": 83148582, "body": "@rishabh yeah , I combined it .... did you see <code>df.assign(event_name=df[&#39;event_name&#39;].apply(lambda x:&quot;_&quot;.join(x.split(&quot;_&quot;, 2)[:2])))</code>, is to combine them :-)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1515023784, "last_edit_date": 1515023784, "creation_date": 1515023074, "answer_id": 48086741, "question_id": 48086457, "link": "https://stackoverflow.com/questions/48086457/combine-rows-in-a-dataframe-add-the-value-as-a-column/48086741#48086741", "title": "Combine rows in a DataFrame &amp; add the value as a column", "body": "<p>You can using <code>split</code> + <code>join</code>, then <code>groupby</code>+<code>unstack</code></p>\n\n<pre><code>df.assign(event_name=df['event_name'].apply(lambda x:\"_\".join(x.split(\"_\", 2)[:2]))).\\\n    groupby(['ampaign_name','campaign_id','clicks','installs','event_name'])['conversions'].sum().\\\n      unstack(fill_value=0).reset_index()\nOut[302]: \nevent_name ampaign_name  campaign_id  clicks  installs  hv_users  registration\n0            campaign_1         1234     100         5         2             1\n1            campaign_2         2345     500        10         2             3\n2            campaign_3         3456    1000        50         0            10\n3            campaign_4         3456    1000        50        40             0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "edited": false, "score": 0, "creation_date": 1515031203, "post_id": 48086978, "comment_id": 83150262, "body": "Hi Babu, the only thing missing here is, the transform operation has to be applied on registration column as well. Otherwise this gives me the correct answer."}, {"owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "reply_to_user": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "edited": false, "score": 0, "creation_date": 1515036206, "post_id": 48086978, "comment_id": 83151223, "body": "Sounds good.  I did notice that the other registration entries need to be filled out with transform.  head(1) implicitly drops the others and so I left out the transform.  Glad I was able to help."}], "tags": [], "owner": {"reputation": 216, "user_id": 8792491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6014ca4293352e6f850b0c31139bd5be?s=128&d=identicon&r=PG&f=1", "display_name": "Babu Arunachalam", "link": "https://stackoverflow.com/users/8792491/babu-arunachalam"}, "is_accepted": true, "score": 1, "last_activity_date": 1515024720, "creation_date": 1515024720, "answer_id": 48086978, "question_id": 48086457, "link": "https://stackoverflow.com/questions/48086457/combine-rows-in-a-dataframe-add-the-value-as-a-column/48086978#48086978", "title": "Combine rows in a DataFrame &amp; add the value as a column", "body": "<pre><code>df['hv_users'] = df.conversions.where(df.event_name.str.match(r'hv_users_[r|w]'), 0)\ndf['registrations'] = df.conversions.where(df.event_name == 'registration', 0)\ndf.hv_users = df.groupby('campaign_id').hv_users.transform(sum)\ndf = df.groupby('campaign_id').head(1).drop('event_name', axis=1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 0, "last_activity_date": 1515030209, "creation_date": 1515030209, "answer_id": 48087583, "question_id": 48086457, "link": "https://stackoverflow.com/questions/48086457/combine-rows-in-a-dataframe-add-the-value-as-a-column/48087583#48087583", "title": "Combine rows in a DataFrame &amp; add the value as a column", "body": "<p>Try using pivot_table</p>\n\n<pre><code>df.loc[df['event_name'].str.contains('_'), 'event_name'] = df.loc[df['event_name'].str.contains('_'), 'event_name'].str.extract('(.*_.*)_.*', expand = False)\nnew_df = df.pivot_table(index=['campaign_name', 'campaign_id','clicks', 'installs'], columns='event_name', values = 'conversions',aggfunc='sum',fill_value=0).reset_index().rename_axis(None, axis=1)\n\n    campaign_name   campaign_id clicks  installs    hv_users    registration\n0   campaign_1      1234        100     5           2           1\n1   campaign_2      2345        500     10          2           3\n2   campaign_3      3456        1000    50          0           10\n3   campaign_4      3456        1000    50          40          0\n</code></pre>\n"}], "owner": {"reputation": 1119, "user_id": 977716, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4b3bbdfde50144d6742d58de31400891?s=128&d=identicon&r=PG", "display_name": "rishabh", "link": "https://stackoverflow.com/users/977716/rishabh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 48086978, "answer_count": 4, "score": 1, "last_activity_date": 1515030209, "creation_date": 1515021037, "last_edit_date": 1515021890, "question_id": 48086457, "link": "https://stackoverflow.com/questions/48086457/combine-rows-in-a-dataframe-add-the-value-as-a-column", "title": "Combine rows in a DataFrame &amp; add the value as a column", "body": "<p>My Dataframe looks like this:</p>\n\n<pre><code>campaign_name  campaign_id    event_name  clicks  installs  conversions\n   campaign_1         1234  registration     100         5            1\n   campaign_1         1234    hv_users_r     100         5            2\n   campaign_2         2345  registration     500        10            3\n   campaign_2         2345    hv_users_w     500        10            2\n   campaign_3         3456  registration    1000        50           10\n   campaign_4         3456    hv_users_r    1000        50           15\n   campaign_4         3456    hv_users_w    1000        50           25\n</code></pre>\n\n<p>I want to categorize all the \"event names\" into 2 new columns, where 1st new columns represents \"registration\", and the 2nd new column represents \"hv_users\", which will the sum of all rows having event-names of \"hv_users_r\" &amp; \"hv_users_w\".</p>\n\n<p>To keep this simple - \"registration\" column will have rows which only have event_name as \"registration\". All non \"registration\" event_names would go into the new column \"hv_users\".</p>\n\n<p>This is my expected new Dataframe:</p>\n\n<pre><code>campaign_name  campaign_id  clicks installs  registrations  hv_users\n   campaign_1         1234     100        5              1         2\n   campaign_2         2345     500       10              3         2\n   campaign_3         3456    1000       50             10        40  \n</code></pre>\n\n<p>Can someone please give me directions on how to go from the input DataFrame to the output DataFrame?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 5133, "user_id": 154762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d07d8564c1726ca28a6b99e560f0ec7?s=128&d=identicon&r=PG", "display_name": "solarc", "link": "https://stackoverflow.com/users/154762/solarc"}, "edited": false, "score": 2, "creation_date": 1515020549, "post_id": 48086375, "comment_id": 83147738, "body": "You can use the modulo <code>%</code> operator."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1515020646, "post_id": 48086375, "comment_id": 83147779, "body": "Look into the <code>datetime</code> package; you&#39;ll find a lot of useful formatting and conversion methods there."}, {"owner": {"reputation": 4755, "user_id": 18665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXnTw.gif?s=128&g=1", "display_name": "jwpfox", "link": "https://stackoverflow.com/users/18665/jwpfox"}, "edited": false, "score": 0, "creation_date": 1515021083, "post_id": 48086375, "comment_id": 83147898, "body": "Temporal stuff is hard. Unless this is homework or similar it is a bad idea to try and reinvent anything to do with dates and times when there are existing tools out there that have been debugged over many years."}, {"owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "reply_to_user": {"reputation": 5133, "user_id": 154762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d07d8564c1726ca28a6b99e560f0ec7?s=128&d=identicon&r=PG", "display_name": "solarc", "link": "https://stackoverflow.com/users/154762/solarc"}, "edited": false, "score": 1, "creation_date": 1515021209, "post_id": 48086375, "comment_id": 83147931, "body": "As @solarc points out, the issue is that if <code>minutes</code> goes over 60, you want to keep it contained in <code>0..59</code>, right? so <code>minutes=60</code> should become <code>minutes=0</code>, <code>minutes=61</code> should be <code>minutes=1</code> and so on... And who does that? The modulo operator (<code>minutes % 60</code>) Check this: <a href=\"https://stackoverflow.com/questions/40084887/python-using-modulo-to-get-the-remainder-from-changing-secs-to-hrs-and-minute\" title=\"python using modulo to get the remainder from changing secs to hrs and minute\">stackoverflow.com/questions/40084887/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 40, "user_id": 8749315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b92f841023e3310e45a4ba71931597fd?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond", "link": "https://stackoverflow.com/users/8749315/raymond"}, "edited": false, "score": 0, "creation_date": 1515026858, "post_id": 48086566, "comment_id": 83149327, "body": "Thx however it did not like - as per error &#39;seconds, nextElap = divmod... Specifically &#39;seconds&#39; as Invalid Syntax"}], "tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": true, "score": 1, "last_activity_date": 1515021843, "creation_date": 1515021843, "answer_id": 48086566, "question_id": 48086375, "link": "https://stackoverflow.com/questions/48086375/how-can-i-limit-clock-counter-to-two-digit-and-turn-over-at-60-as-an-example-t/48086566#48086566", "title": "How Can I Limit Clock Counter to Two Digit and Turn over at 60 as an example - Tkinter", "body": "<p>The neatest way to solve this problem is using the <code>divmod</code> function:</p>\n\n<pre><code>def SetTime(self, nextElap):\n    days, nextElap = divmod(nextElap, 60*60*24)\n    hours, nextElap = divmod(nextElap, 60*60)\n    minutes, nextElap = divmod(nextElap, 60)\n    seconds, nextElap = divmod(nextElap, 1)\n    miliSeconds = int(nextElap * 1000)\n    self.timestr.set('%02d:%02d:%02d:%02d:%02d' % (days, hours, minutes, seconds, miliSeconds))\n</code></pre>\n"}], "owner": {"reputation": 40, "user_id": 8749315, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b92f841023e3310e45a4ba71931597fd?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond", "link": "https://stackoverflow.com/users/8749315/raymond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 48086566, "answer_count": 1, "score": 0, "last_activity_date": 1515021843, "creation_date": 1515020390, "last_edit_date": 1515020671, "question_id": 48086375, "link": "https://stackoverflow.com/questions/48086375/how-can-i-limit-clock-counter-to-two-digit-and-turn-over-at-60-as-an-example-t", "title": "How Can I Limit Clock Counter to Two Digit and Turn over at 60 as an example - Tkinter", "body": "<p>My issue is, though I can get the <code>milliSeconds</code> to rollover at <code>99</code>, the <code>minutes</code> continue to increment past <code>60</code> and <code>hours</code> past <code>24</code> - as shown below. I would like to correct the <code>minute</code> and <code>hour</code> count more importantly as the script will not run past two days.</p>\n\n<p>format should be <code>dd : hh: mm : ml</code></p>\n\n<p>however I goes over the two digit  <code>01:25:1556:99</code></p>\n\n<p>Here is the Class Definition:</p>\n\n<pre><code>class StopWatch(Frame):\n# Initialize the Main Function of the Stopwatch\ndef __init__(self, parent=None, **kw):\n    Frame.__init__(self, parent, kw)\n    self.startTime = 0.0\n    self.nextTime = 0.0\n    self.onRunning = 0\n    self.timestr = StringVar()\n    self.MakeWidget()\n\ndef Updater(self):\n    self.nextTime = time.time() - self.startTime\n    self.SetTime(self.nextTime)\n    self.timer = self.after(50, self.Updater)\n\ndef SetTime(self, nextElap):\n    days = int(nextElap  / 60 /60 / 24.0)\n    hours = int(nextElap / 60 / 60.0 )\n    minutes = int((nextElap / 60.0 )\n    seconds = int(nextElap - minutes * 60.0)\n    miliSeconds = int((nextElap - minutes * 60.0 - seconds) * 100)\n    self.timestr.set('%02d:%02d:%02d:%02d:%02d' % (days, hours, minutes, seconds, miliSeconds))\n\n   def Start(self):\n    if not self.onRunning:\n        self.startTime = time.time() - self.nextTime\n        self.Updater()\n        self.onRunning = 1\n</code></pre>\n"}, {"tags": ["python", "parsing", "beautifulsoup", "scrapy"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 2, "creation_date": 1515037107, "post_id": 48086330, "comment_id": 83151371, "body": "scrapy doc: <a href=\"https://doc.scrapy.org/en/latest/topics/selectors.html\" rel=\"nofollow noreferrer\">Selectors</a> - and you don&#39;t need BeautifulSoup."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 8980454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e9469a92742fbee6c520879830d1fbf?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/8980454/anthony"}, "edited": false, "score": 0, "creation_date": 1516201827, "post_id": 48086389, "comment_id": 83593235, "body": "when I pass response.body through the to create a BeautifulSoup object I get an error &quot;NameError: name &#39;response&#39; is not defined.&quot; I assumed that response was a sequence of urls that could be called through any commands to pull data from lists. I am new to Python and I am working from assumptions based in R logics which is obviously flawed."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 4, "last_activity_date": 1515020515, "creation_date": 1515020515, "answer_id": 48086389, "question_id": 48086330, "link": "https://stackoverflow.com/questions/48086330/leveraging-beautifulsoup-within-scrapy/48086389#48086389", "title": "Leveraging Beautifulsoup within Scrapy", "body": "<p>At the very least, you can just pass the HTML source contained in the <code>response.body</code> directly to <code>BeautifulSoup</code> to parse:</p>\n\n<pre><code>soup = BeautifulSoup(response.body, \"lxml\") \n</code></pre>\n\n<p>Note though, while this would work and you can use <code>soup</code> to HTML parse the desired data, you are not using a huge part of Scrapy - <a href=\"https://docs.scrapy.org/en/latest/topics/selectors.html\" rel=\"nofollow noreferrer\"><code>Scrapy</code> selectors</a>, the use of selectors in <a href=\"https://docs.scrapy.org/en/latest/topics/loaders.html\" rel=\"nofollow noreferrer\">Item Loaders</a> etc. If I were you, I'd just make myself comfortable with the powers of Scrapy's way of extracting the data out of HTML.</p>\n"}], "owner": {"reputation": 101, "user_id": 8980454, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5e9469a92742fbee6c520879830d1fbf?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/8980454/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3409, "favorite_count": 3, "accepted_answer_id": 48086389, "answer_count": 1, "score": 2, "last_activity_date": 1515020515, "creation_date": 1515020096, "question_id": 48086330, "link": "https://stackoverflow.com/questions/48086330/leveraging-beautifulsoup-within-scrapy", "title": "Leveraging Beautifulsoup within Scrapy", "body": "<p>I have created a simple crawler with <code>Scrapy</code> that starts at a given link and follows all links within a given <code>DEPTH_LIMIT</code> that is adjusted each time I run the spider because of the project parameters. The script prints response URLs for the sake of simplicity.</p>\n\n<pre><code>import scrapy\nfrom scrapy.spiders import CrawlSpider, Rule\nfrom scrapy.linkextractors import LinkExtractor\nfrom NONPROF.items import NonprofItem\nfrom scrapy.http import Request\nimport re\n\nclass Nonprof(CrawlSpider):\n    name = \"my_scraper\"\n    allowed_domains = [\"stackoverflow.com\"]\n    start_urls = [\"https://stackoverflow.com\"]\n\n    rules = [\n        Rule(LinkExtractor(\n            allow=['.*']),\n             callback='parse_item',\n             follow=True)\n        ]\n\n    def parse_item (self, response):\n        print (response.url)\n</code></pre>\n\n<p>My current objective is to parse all visible text within a given depth from the starting url and use that data for topic modelling. I have done something similar in the past using <code>BeautifulSoup</code>, but I would like to leverage the following parsing language within my crawler. </p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport bs4 as bs\nimport urllib.request\n\ndef tag_visible(element):\n    if element.parent.name in ['style', 'script', 'head', 'title', 'meta', '[document]']:\n        return False\n    elif isinstance(element,bs.element.Comment):\n        return False\n    return True\n\n\ndef text_from_html(body):\n    soup = BeautifulSoup(html, 'lxml')\n    texts = soup.findAll(text=True)\n    visible_texts = filter(tag_visible, texts)  \n    return u\" \".join(t.strip() for t in visible_texts)\n\nhtml = urllib.request.urlopen('https://stackoverflow.com').read()\nprint(text_from_html(html))\n</code></pre>\n\n<p>My difficulties in integrating the two is the logic behind a <code>BeautifulSoup</code> object and the <code>Response</code> from <code>Scrapy</code>.</p>\n\n<p>Any input is appreciated.</p>\n"}, {"tags": ["python", "object", "duplicates"], "answers": [{"comments": [{"owner": {"reputation": 793, "user_id": 4023639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ae7123735893bcaa02daacdd7bb2d991?s=128&d=identicon&r=PG", "display_name": "user32147", "link": "https://stackoverflow.com/users/4023639/user32147"}, "edited": false, "score": 0, "creation_date": 1515021525, "post_id": 48086444, "comment_id": 83148025, "body": "I am sorry - I have edited my question. All 3 sets are being updated if the current object is determined to be unique"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "reply_to_user": {"reputation": 793, "user_id": 4023639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ae7123735893bcaa02daacdd7bb2d991?s=128&d=identicon&r=PG", "display_name": "user32147", "link": "https://stackoverflow.com/users/4023639/user32147"}, "edited": false, "score": 0, "creation_date": 1515022636, "post_id": 48086444, "comment_id": 83148332, "body": "@user32147 I have added: &quot;This means that <code>(1, 2, 4)</code> will never be added to <code>uniqueObjects_allAtts</code> and will never increment <code>numDupRemoved_allAtts</code> regardless how often it appears.&quot; which should explain the problem."}, {"owner": {"reputation": 793, "user_id": 4023639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ae7123735893bcaa02daacdd7bb2d991?s=128&d=identicon&r=PG", "display_name": "user32147", "link": "https://stackoverflow.com/users/4023639/user32147"}, "edited": false, "score": 0, "creation_date": 1515079083, "post_id": 48086444, "comment_id": 83171453, "body": "According to your example, the first object, (1, 2, 3) will be included in uniqueObjects sets. When the second object, <code>(1, 2, 4)</code> is read in, since the first two attributes are identical to the first object that is in the uniqueObjects sets, <code>elif thisObject_sub1 in uniqueObjects_att1Att2Only</code> will be triggered and <code>numDupRemoved_att1Att2Only</code> will increment by 1, as intended."}, {"owner": {"reputation": 793, "user_id": 4023639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ae7123735893bcaa02daacdd7bb2d991?s=128&d=identicon&r=PG", "display_name": "user32147", "link": "https://stackoverflow.com/users/4023639/user32147"}, "edited": false, "score": 0, "creation_date": 1515079193, "post_id": 48086444, "comment_id": 83171527, "body": "I am confused as to why <code>numDupRemoved</code> from the first variant is different from <code>numDupRemoved_allAtts</code> from the second variant."}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "reply_to_user": {"reputation": 793, "user_id": 4023639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ae7123735893bcaa02daacdd7bb2d991?s=128&d=identicon&r=PG", "display_name": "user32147", "link": "https://stackoverflow.com/users/4023639/user32147"}, "edited": false, "score": 0, "creation_date": 1515094727, "post_id": 48086444, "comment_id": 83180022, "body": "@user32147 After <code>(1,2,3)</code> was seen and recorded in the sets, <code>(1,2,4)</code> is equal in first two attributes so it will not be recorded in any set in the second variant while of course it will be recorded in the first because it isn&#39;t fully equal. This means in the second variant it never counts for <code>numDupRemoved_allAtts</code> regardless how often it appears."}], "tags": [], "owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "is_accepted": false, "score": 1, "last_activity_date": 1515022915, "last_edit_date": 1515022915, "creation_date": 1515020964, "answer_id": 48086444, "question_id": 48086323, "link": "https://stackoverflow.com/questions/48086323/python-duplicate-object-removal-by-subset-of-its-attributes-or-individual-attrib/48086444#48086444", "title": "Python duplicate object removal by subset of its attributes or individual attribute", "body": "<p>Example: If first processed object has attributes <code>(1, 2, 3)</code> and next has <code>(1, 2, 4)</code> then in the first variant, both are added as unique (and recognized later).</p>\n\n<p>In the second variant, the first object would be recorded in <code>uniqueObjects_att1Att2Only</code> (and the other sets). When the second object now arrives the</p>\n\n<pre><code>if thisObject_sub1 in uniqueObjects_att1Att2Only or thisObject_sub2 in uniqueObjects_att3Only:\n</code></pre>\n\n<p>is true and the <code>else</code> part with recording to <code>uniqueObjects_allAtts</code> isn't executed. This means that <code>(1, 2, 4)</code> will never be added to <code>uniqueObjects_allAtts</code> and will never increment <code>numDupRemoved_allAtts</code> regardless how often it appears.</p>\n\n<p><strong>Solution</strong>: Let the duplicate detection for each set happen independently one after another.</p>\n\n<p>For recording of <code>totalNumDupRemoved</code> create a flag which is set to <code>True</code> when one of the duplicate detections triggers and increment <code>totalNumDupRemoved</code> if the flag is true.</p>\n"}], "owner": {"reputation": 793, "user_id": 4023639, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ae7123735893bcaa02daacdd7bb2d991?s=128&d=identicon&r=PG", "display_name": "user32147", "link": "https://stackoverflow.com/users/4023639/user32147"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1515022915, "creation_date": 1515020059, "last_edit_date": 1515021432, "question_id": 48086323, "link": "https://stackoverflow.com/questions/48086323/python-duplicate-object-removal-by-subset-of-its-attributes-or-individual-attrib", "title": "Python duplicate object removal by subset of its attributes or individual attribute", "body": "<p>I have a program which reads in python object one by one (this is fixed) and will need to remove duplicate objects. Program will output a list of unique objects.</p>\n\n<p>Psuedo-code is similar to this:</p>\n\n<pre><code>1. Create an empty list to store unique object and return at the end\n2. Read in a single object\n3. If the identical object is not in the list, add to the list\n4. Repeat 2 and 3 until no more objects to read, then terminate and return the list (and the number of duplicate objects that were removed).\n</code></pre>\n\n<p>Actual code uses set operation to check for duplicates:</p>\n\n<pre><code>#!/usr/bin/python\nimport MyObject\nimport pickle\n\nnumDupRemoved = 0\nuniqueObjects = set() \n\nwith open(inputFile, 'rb') as fileIn:\n    while 1:\n        try:\n            thisObject = pickle.load(fileIn)\n            if thisObject in uniqueObjects:\n                numDupRemoved += 1\n                continue\n            else:\n                uniqueObjects.add(thisObject)\n        except EOFError:\n            break\n    print(\"Number of duplicate objects removed: %d\" %numDupRemoved)\nreturn list(uniqueObjects)\n</code></pre>\n\n<p>(simplified) object looks like this (note that all values are integers, so we don't need to worry about floating point precision errors) :      </p>\n\n<pre><code>#!/usr/bin/python\nclass MyObject:\n    def __init__(self, attr1, attr2, attr3):\n        self.attribute1 = attr1  # List of ints\n        self.attribute2 = attr2  # List of lists (each list is a list of ints)\n        self.attribute3 = attr3  # List of ints\n\n    def __eq__(self, other):\n        if isinstance(other, self__class__):\n            return (self.attribute1, self.attribute2, self.attribute3) == (other.attribute1, other.attribute2, other.attribute3)\n\n    def __hash__(self):\n        return self.generateHash()\n\n    def generateHash(self):\n        # Convert lists to tuples \n        attribute1_tuple = tuple(self.attribute1)\n\n        # Since attribute2 is list of list, convert to tuple of tuple\n        attribute2_tuple = []\n        for sublist in self.attribute2:\n            attribute2_tuple.append(tuple(sublist))\n        attribute2_tuple = tuple(attribute2_tuple)\n\n        attribute3_tuple = tuple(self.attribute3)\n\n        return hash((attribute1_tuple, attribute2_tuple, attribute3_tuple))\n</code></pre>\n\n<p>However, I now need to keep track of duplicates by individual attribute or subset of attributes of MyObject. That is, if the previous code was only removing duplicates in the darker blue region of the diagram below (where two objects are considered duplicate is all 3 attributes are identical), we would like to now:\n1. Remove duplicate by subset of attribute (attribute 1 and 2) AND/OR individual attribute (attribute 3)\n2. Be able to track 3 disjoint regions of the diagram</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Kyql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Kyql.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have created two more objects to do this:</p>\n\n<pre><code>#!/usr/bin/python\nclass MyObject_sub1:\n    def __init__(self, attr1, attr2):\n        self.attribute1 = attr1  # List of ints\n        self.attribute2 = attr2  # List of lists (each list is a list of ints)\n\n    def __eq__(self, other):\n        if isinstance(other, self__class__):\n            return (self.attribute1, self.attribute2) == (other.attribute1, other.attribute2)\n\n    def __hash__(self):\n        return self.generateHash()\n\n    def generateHash(self):\n        # Convert lists to tuples \n        attribute1_tuple = tuple(self.attribute1)\n\n        # Since attribute2 is list of list, convert to tuple of tuple\n        attribute2_tuple = []\n        for sublist in self.attribute2:\n            attribute2_tuple.append(tuple(sublist))\n        attribute2_tuple = tuple(attribute2_tuple)\n\n        return hash((attribute1_tuple, attribute2_tuple))\n</code></pre>\n\n<p>and</p>\n\n<pre><code>#!/usr/bin/python\nclass MyObject_sub2:\n    def __init__(self, attr3):\n        self.attribute3 = attr3  # List of ints\n\n    def __eq__(self, other):\n        if isinstance(other, self__class__):\n            return (self.attribute3) == (other.attribute3)\n\n    def __hash__(self):\n        return hash(tuple(self.attribute3))\n</code></pre>\n\n<p>Duplicate removal code is updated as below:</p>\n\n<pre><code>#!/usr/bin/python\nimport MyObject\nimport MyObject_sub1\nimport MyObject_sub2\nimport pickle\n\n# counters \ntotalNumDupRemoved = 0\nnumDupRemoved_att1Att2Only = 0\nnumDupRemoved_allAtts = 0\nnumDupRemoved_att3Only = 0\n\n# sets for duplicate removal purposes\nuniqueObjects_att1Att2Only = set()\nuniqueObjects_allAtts = set() # Intersection part in the diagram\nuniqueObjects_att3Only = set()\n\n\nwith open(inputFile, 'rb') as fileIn:\n    while 1:\n        try:\n            thisObject = pickle.load(fileIn)\n            # I will omit how thisObject_sub1 (MyObject_sub1) and thisObject_sub2 (MyObject_sub2) are created for brevity\n\n            if thisObject_sub1 in uniqueObjects_att1Att2Only or thisObject_sub2 in uniqueObjects_att3Only:\n                totalNumDupRemoved += 1\n                if thisObject in uniqueObjects_allAtts:\n                    numDupRemoved_allAtts += 1\n                elif thisObject_sub1 in uniqueObjects_att1Att2Only:\n                    numDupRemoved_att1Att2Only += 1\n                else:\n                    numDupRemoved_att3Only += 1\n                continue\n            else:\n                uniqueObjects_att1Att2Only.add(thisObject_sub1)\n                uniqueObjects_allAtts.add(thisObject) # Intersection part in the diagram\n                uniqueObjects_att3Only.add(thisObject_sub2)\n        except EOFError:\n            break\n    print(\"Total number of duplicates removed: %d\" %totalNumDupRemoved)\n    print(\"Number of duplicates where all attributes are identical: %d\" %numDupRemoved_allAtts)\n    print(\"Number of duplicates where attributes 1 and 2 are identical: %d\" %numDupRemoved_att1Att2Only)\n    print(\"Number of duplicates where only attribute 3 are identical: %d\" %numDupRemoved_att3Only)\nreturn list(uniqueObjects_allAtts)\n</code></pre>\n\n<p>What's been driving me insane is that \"numDupRemoved_allAtts\" from the second program do not match with \"numDupRemoved\" from the first program.</p>\n\n<p>For example, both programs read over the same file containing about 80,000 total objects and outputs were vastly different:</p>\n\n<h1>First program output</h1>\n\n<p>Number of duplicate objects removed: 47,742 (which should be the intersecting part of the diagram)</p>\n\n<h1>Second program output</h1>\n\n<p>Total number of duplicates removed: 66,648</p>\n\n<p>Number of duplicates where all attributes are identical: 18,137 (intersection of diagram)</p>\n\n<p>Number of duplicates where attributes 1 and 2 are identical: 46,121 (left disjoint set of diagram)</p>\n\n<p>Number of duplicates where only attribute 3 are identical: 2,390 (right disjoint set of diagram)</p>\n\n<p>Note that before I tried using multiple python objects (MyObject_sub1 and MyObject_sub2) and set operations, I have tried using tuple equality (checking equality of tuple of individual or subset of attributes) for duplicate checking as well, but the numbers still didn't match up.</p>\n\n<p>Am I missing some fundamental python concepts here? What would be causing this error?\nAny help would be greatly appreicated</p>\n"}, {"tags": ["python", "mysql", "django", "orm", "django-queryset"], "comments": [{"owner": {"reputation": 2777, "user_id": 4584672, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8c705d52d6bf6a9ad4276e709072765?s=128&d=identicon&r=PG&f=1", "display_name": "jackotonye", "link": "https://stackoverflow.com/users/4584672/jackotonye"}, "edited": false, "score": 0, "creation_date": 1515029042, "post_id": 48086283, "comment_id": 83149794, "body": "Take a look at <a href=\"https://stackoverflow.com/questions/37599943/django-orm-group-by-one-column-and-return-other\" title=\"django orm group by one column and return other\">stackoverflow.com/questions/37599943/&hellip;</a> and <a href=\"https://simpleisbetterthancomplex.com/tutorial/2016/12/06/how-to-create-group-by-queries.html\" rel=\"nofollow noreferrer\">simpleisbetterthancomplex.com/tutorial/2016/12/06/&hellip;</a>"}, {"owner": {"reputation": 43, "user_id": 7859002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a00f17e522896293a9390dba642b92e?s=128&d=identicon&r=PG&f=1", "display_name": "user7859002", "link": "https://stackoverflow.com/users/7859002/user7859002"}, "reply_to_user": {"reputation": 2777, "user_id": 4584672, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8c705d52d6bf6a9ad4276e709072765?s=128&d=identicon&r=PG&f=1", "display_name": "jackotonye", "link": "https://stackoverflow.com/users/4584672/jackotonye"}, "edited": false, "score": 0, "creation_date": 1515082972, "post_id": 48086283, "comment_id": 83173832, "body": "Thanks for the links. I had already read that tutorial posted, but unfortunately it doesn&#39;t cover my use case, and I had used it to get as far as I did. As for the other question... their example code (regardless of their issue with the type being returned) doesn&#39;t seem to produce the SQL query that they need, and reflects my first example shown in the question (i.e. without the other selected values). A related question is (<a href=\"https://stackoverflow.com/questions/17888558/django-orm-grouped-aggregates-with-different-select-clauses\" title=\"django orm grouped aggregates with different select clauses\">stackoverflow.com/questions/17888558/&hellip;</a>) but I still can&#39;t seem to figure it out."}], "answers": [{"tags": [], "owner": {"reputation": 4530, "user_id": 1701240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525a094ce482e8b404cc199764c8816c?s=128&d=identicon&r=PG", "display_name": "Endre Both", "link": "https://stackoverflow.com/users/1701240/endre-both"}, "is_accepted": false, "score": 0, "last_activity_date": 1553460738, "creation_date": 1553460738, "answer_id": 55328454, "question_id": 48086283, "link": "https://stackoverflow.com/questions/48086283/django-orm-how-to-perform-complex-group-by-with-values-annotate-values/55328454#55328454", "title": "Django ORM - How to perform complex GROUP BY with values().annotate().values()", "body": "<p>What you seem to want is to calculate max values but to return all rows without any grouping. This is what <a href=\"https://docs.djangoproject.com/en/2.1/releases/2.0/#window-expressions\" rel=\"nofollow noreferrer\">Window</a> functions are for (available from Django 2.0):</p>\n\n<pre><code>models = MyModel.objects.annotate(max=Window(\n    expression=Max('y'),\n    partition_by=[F('group_category'), F('group_number')],))\n</code></pre>\n\n<p>But why doesn't your approach with <code>GROUP BY</code> work? </p>\n\n<p>In the original query, the reason Django (and the database; the SQL you quoted would throw a syntax error) insists on grouping by <code>x</code> is that if you group by <code>category</code> and <code>number</code>, you may have several <code>x</code> values for one grouped row of <code>category</code> and <code>number</code>. Which one should the DB select? It cannot make that choice for you. </p>\n\n<p>If <code>x</code> is not important, you could leave it out. If it is important but always has the same value for a group of <code>category</code> and <code>number</code>, then grouping the query by <code>x</code> doesn't hurt you. If there are different  <code>x</code> values <em>and</em> they are important, you need to make up your mind about which one to select (and tell the DB accordingly). The same goes for <code>y</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 7859002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a00f17e522896293a9390dba642b92e?s=128&d=identicon&r=PG&f=1", "display_name": "user7859002", "link": "https://stackoverflow.com/users/7859002/user7859002"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 216, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553460738, "creation_date": 1515019705, "last_edit_date": 1515098784, "question_id": 48086283, "link": "https://stackoverflow.com/questions/48086283/django-orm-how-to-perform-complex-group-by-with-values-annotate-values", "title": "Django ORM - How to perform complex GROUP BY with values().annotate().values()", "body": "<p>I'm trying to convert as much raw SQL to use the Django ORM as I can, and I've run into a snag. I'm trying to perform a query similar to this one:</p>\n\n<pre><code>SELECT table.x,\n      MAX(table.y) AS y,\n      table.group_category,\n      table.group_number,\nFROM table\nGROUP BY table.group_category, table.group_number\n</code></pre>\n\n<p>So far, what I've been trying has been some permutation of this:</p>\n\n<pre><code>q = MyModel.objects\\\n    .filter(**filter_kwargs)\\\n    .values('group_category', 'group_number')\\\n    .annotate(y=Max('y'))\\\n    .values('x','y','group_category','group_number')\n</code></pre>\n\n<p>However, this doesn't seem to work. If I exclude the last <code>values()</code>, it produces the following (roughly):</p>\n\n<pre><code>SELECT MAX(table.y) AS y,\n      table.group_category,\n      table.group_number,\nFROM table\nGROUP BY table.group_category, table.group_number\n</code></pre>\n\n<p>It doesn't select <code>table.x</code>. But if I include the last <code>values()</code>...</p>\n\n<pre><code>SELECT table.x,\n      MAX(table.y) AS y,\n      table.group_category,\n      table.group_number,\nFROM table\nGROUP BY x, y, table.group_category, table.group_number\n</code></pre>\n\n<p>It groups by <code>x, y</code>. So what clearly seems to be happening is that the all of the values are replaced and annotate uses whatever values the QuerySet is given (because it's evaluated lazily?). The <a href=\"https://docs.djangoproject.com/en/2.0/topics/db/aggregation/#values\" rel=\"nofollow noreferrer\">docs on aggregation and values</a> seem to suggest that doing the two values functions in this order would have the desired effect, and I found <a href=\"https://splbio.wordpress.com/2013/10/28/some-nitty-gritty-django-orm-queries-multiple-group-by/\" rel=\"nofollow noreferrer\">a writeup</a> (from 2013) that also suggests this. Am I doing something wrong? Is this still possible in the Django ORM? Is there any way for me to do this without using <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/querysets/#extra\" rel=\"nofollow noreferrer\">extra()</a> or raw SQL? I tried to keep this example as simple as possible for demonstration purposes, but my actual problem involves a JOIN. Could that be complicating it? </p>\n\n<hr>\n\n<h2>UPDATE 1</h2>\n\n<p>I was able to <em>kinda</em> figure it out, however, it still doesn't produce the best version (above) of the SQL query that I want. In order to get the results I needed, I instead perform a query to get <code>MAX(table.y)</code>, and then use that as a subquery using <code>__in</code> against the subquery's value. The subquery does the grouping.</p>\n\n<pre><code>filtered = MyModel.objects.filter(**filter_kwargs)\n\nsubq = filtered\\\n    .values('group_category', 'group_number')\\\n    .annotate(y=Max('y'))\\\n    .values_list('y', flat=True)\n\nq = filtered\\\n    .filter(y__in=subq)\\\n    .values('x','y','group_category','group_number')\n</code></pre>\n\n<p>As I said, that <em>works</em> as in it gets me the results I need. The problem is that it's <em>much slower</em> than just having SELECTs different than the GROUP BYs, because it creates a relatively bulky subquery. I'm not marking this as the answer just yet because it still doesn't produce a query that matches what I really want. Instead, it looks something like this:</p>\n\n<pre><code>SELECT table.x,\n      table.y,\n      table.group_category,\n      table.group_number,\nFROM table\nWHERE y IN \n    (SELECT MAX(U0.y) AS y\n    FROM table U0\n    GROUP BY U0.group_category, U0.group_number)\n</code></pre>\n\n<p>Furthermore, it doesn't look like I can even use <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/querysets/#extra\" rel=\"nofollow noreferrer\">extra()</a> because it will similarly only add columns to the SELECT clause that are already part of the QuerySet, i.e. <code>values()</code>. </p>\n\n<hr>\n\n<h2>UPDATE 2</h2>\n\n<p>It turns out that my messy workaround does not work, because it gets the MAX of all the y (1 row) and returns it, rather than grouping them together by group_category and group_number and using the <code>MAX</code> of their <code>y</code>'s, so I'm back to the drawing board. </p>\n"}, {"tags": ["python", "windows", "vlc", "conda"], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 6590883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ecbcee724103ae92ab27c1aeb6db8b?s=128&d=identicon&r=PG&f=1", "display_name": "DancingGenie", "link": "https://stackoverflow.com/users/6590883/dancinggenie"}, "reply_to_user": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "edited": false, "score": 0, "creation_date": 1527869244, "post_id": 50536032, "comment_id": 88305220, "body": "On their main site, click on down arrow on their big yellow download button. Here&#39;s direct link <a href=\"http://people.videolan.org/~jb/Builds/ARM/vlc-4.0.0-dev-20180508-aarch64.zip\" rel=\"nofollow noreferrer\">64bit download VLC</a>"}], "tags": [], "owner": {"reputation": 58, "user_id": 6590883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ecbcee724103ae92ab27c1aeb6db8b?s=128&d=identicon&r=PG&f=1", "display_name": "DancingGenie", "link": "https://stackoverflow.com/users/6590883/dancinggenie"}, "is_accepted": false, "score": 0, "last_activity_date": 1527278090, "creation_date": 1527278090, "answer_id": 50536032, "question_id": 48086279, "link": "https://stackoverflow.com/questions/48086279/vlc-and-python-architecture-comatibility-issue/50536032#50536032", "title": "VLC and Python architecture comatibility issue", "body": "<p>Currently your 32bit VLC works with your 32bit python (which happens to be 2.7)</p>\n\n<p>Uninstall your 32bit VLC, and download 64bit VLC. It'll work with 64bit python (which happens to be 3.4) now.</p>\n"}], "owner": {"reputation": 5959, "user_id": 3558644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QzHDA.jpg?s=128&g=1", "display_name": "Joe T. Boka", "link": "https://stackoverflow.com/users/3558644/joe-t-boka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 602, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584239452, "creation_date": 1515019680, "last_edit_date": 1584239452, "question_id": 48086279, "link": "https://stackoverflow.com/questions/48086279/vlc-and-python-architecture-comatibility-issue", "title": "VLC and Python architecture comatibility issue", "body": "<p>When I open <code>vlc.py</code> with the python 2.7 interpreter it works, but when I open it with the python 3.4 interpreter it doesn't work. I get the below error.</p>\n\n<p>I am pretty sure the issue is that the architecture is different for my python 3.4 (64bit in conda) and python 2.7 (32bit not in conda), so <code>vlc.py</code> will only work with my python 2.7. </p>\n\n<p>I understand that when the Python version and VLC are compatible, <em>i.e. 32bit Python architecture</em>, it works fine. But, I can't create this architecture in my conda because my conda root is 64bits. Even if I create a new environment in conda and install Python 2 there, the root will still be 64bit. I tried this and it doesn't work.</p>\n\n<p>For some reason, VLC only seems to work when the platform architecture is 32bit. I just can't wrap my head around this issue.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Acer\\Desktop\\VLC Player\\Main.py\", line 28, in &lt;module&gt;\n    import vlc\n  File \"C:\\Users\\Acer\\Desktop\\VLC Player\\vlc.py\", line 175, in &lt;module&gt;\n    dll, plugin_path  = find_lib()\n  File \"C:\\Users\\Acer\\Desktop\\VLC Player\\vlc.py\", line 152, in find_lib\n    dll = ctypes.CDLL('libvlc.dll')\n  File \"C:\\Users\\Acer\\Miniconda3\\envs\\updated\\lib\\ctypes\\__init__.py\", line 347, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: [WinError 126] The specified module could not be found\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql"], "comments": [{"owner": {"reputation": 135, "user_id": 4691204, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0fJSJ6FR40/AAAAAAAAAAI/AAAAAAAAFL4/41h9_3Sj5jg/photo.jpg?sz=128", "display_name": "anmaxvl", "link": "https://stackoverflow.com/users/4691204/anmaxvl"}, "edited": false, "score": 0, "creation_date": 1515021621, "post_id": 48086277, "comment_id": 83148041, "body": "is your postgresql running?"}, {"owner": {"reputation": 2777, "user_id": 4584672, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8c705d52d6bf6a9ad4276e709072765?s=128&d=identicon&r=PG&f=1", "display_name": "jackotonye", "link": "https://stackoverflow.com/users/4584672/jackotonye"}, "edited": false, "score": 0, "creation_date": 1515029280, "post_id": 48086277, "comment_id": 83149851, "body": "Check this post to restart Postgres service <a href=\"https://stackoverflow.com/questions/36629963/how-to-start-postgresql-on-windows\" title=\"how to start postgresql on windows\">stackoverflow.com/questions/36629963/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 9169966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b3c3e33df8599b4e4a7a799ba76716?s=128&d=identicon&r=PG&f=1", "display_name": "Anonimo", "link": "https://stackoverflow.com/users/9169966/anonimo"}, "edited": false, "score": 0, "creation_date": 1515034002, "post_id": 48086277, "comment_id": 83150815, "body": "Yes, postgresql running"}, {"owner": {"reputation": 1, "user_id": 9169966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b3c3e33df8599b4e4a7a799ba76716?s=128&d=identicon&r=PG&f=1", "display_name": "Anonimo", "link": "https://stackoverflow.com/users/9169966/anonimo"}, "edited": false, "score": 0, "creation_date": 1515156171, "post_id": 48086277, "comment_id": 83203466, "body": "problem solved XD"}], "owner": {"reputation": 1, "user_id": 9169966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b3c3e33df8599b4e4a7a799ba76716?s=128&d=identicon&r=PG&f=1", "display_name": "Anonimo", "link": "https://stackoverflow.com/users/9169966/anonimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515019671, "creation_date": 1515019671, "question_id": 48086277, "link": "https://stackoverflow.com/questions/48086277/django-conn-connetdsn-connetion-factory-async-async-django-db-utils-operati", "title": "Django conn= connet(dsn, connetion_factory, async=async) django.db.utils.OperationalError psycopg2", "body": "<p>I am working on the connection of postgresql 9.5 and Django 1.11 in wimdows 7, \nbut it throws me an error </p>\n\n<ol>\n<li>install python 3.4.2, add path</li>\n<li>install postgresql 9.5.10, add path</li>\n<li>install virtualenv version 15.1.0</li>\n<li>create virtualenv myenv</li>\n<li>run Scripts\\myenv\\activate</li>\n<li>install psycopg2-2.6.2.win32-py3.4-pg9.5.3-release.exe, add folder psycopg2 in C:\\proyectos\\myenv\\Lib\\site-packages </li>\n<li>install Django 1.11</li>\n<li>create project Django => django-admin.py startproject redsocial</li>\n<li>in the folder redsocial => django-admin.py startapp goodpeople</li>\n<li>in Sublime text3</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>INSTALLED_APPS = [\r\n    'django.contrib.admin',\r\n    'django.contrib.auth',\r\n    'django.contrib.contenttypes',\r\n    'django.contrib.sessions',\r\n    'django.contrib.messages',\r\n    'django.contrib.staticfiles',\r\n    'goodpeople',\r\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>DATABASES = {\r\n  'default': {\r\n        'ENGINE': 'django.db.backends.postgresql_psycopg2',\r\n        'NAME': 'goodpeople',\r\n        'USER': 'postgresql',\r\n        'PASSWORD': 'postgresl',\r\n        'HOST': 'localhost',\r\n        'PORT': '5432',\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#!/usr/bin/env python\r\nimport os\r\nimport sys\r\n\r\nif __name__ == \"__main__\":\r\n    os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"redsocial.settings\")\r\n    try:\r\n        from django.core.management import execute_from_command_line\r\n    except ImportError:\r\n        # The above import may fail for some other reason. Ensure that the\r\n        # issue is really that Django is missing to avoid masking other\r\n        # exceptions on Python 2.\r\n        try:\r\n            import django\r\n        except ImportError:\r\n            raise ImportError(\r\n                \"Couldn't import Django. Are you sure it's installed and \"\r\n                \"available on your PYTHONPATH environment variable? Did you \"\r\n                \"forget to activate a virtual environment?\"\r\n            )\r\n        raise\r\n    execute_from_command_line(sys.argv)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"11\">\n<li>python manage.py migrate, python manage.py test, python manage.py runserver </li>\n</ol>\n\n\n\n<p><a href=\"https://i.stack.imgur.com/09b7C.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/JJUfq.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/e9GHy.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>same result of three</p>\n\n<p><a href=\"https://i.stack.imgur.com/odY71.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>I appreciate the slightest help</p>\n"}, {"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1515019603, "post_id": 48086236, "comment_id": 83147449, "body": "I guess that <code>Date, TimeIn, TimeOut</code> and so on are variables in Python? If so the variable names can&#39;t be enclosed in the string and send to Sqlite as they are"}, {"owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "edited": false, "score": 2, "creation_date": 1515019879, "post_id": 48086236, "comment_id": 83147535, "body": "You&#39;re hardcoding what looks like variable names into the string, so when you do <code>&quot;INSERT INTO... (Date)&quot;</code> you&#39;re inserting the string <code>&quot;Date&quot;</code>, not the value of your <code>Date</code> variable. I think your <code>&#39;&#39;&#39;</code> have <i>gone too far</i> <b>:-)</b>"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1515020009, "post_id": 48086236, "comment_id": 83147566, "body": "Moreover, use <code>?</code> as parameter substitution for Sqlite instead of <code>%s</code>"}, {"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1515041280, "post_id": 48086236, "comment_id": 83152203, "body": "@Michael Butscher the variables names are as you thought... such as &quot;Date, TimeIn, TimeOut&quot;. I have then set as StringVar() in this fashion: Date=StringVar() - converting any input through the textbox to a StringVar(). Should I or would it be better if I use something like Date = Date instead? I did not think to try that."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515025895, "post_id": 48086397, "comment_id": 83149140, "body": "I have tried that exactly a number of time but it has not been working. I just ran it again and I am getting the following error message:   File &quot;C:\\Users\\Home\\Documents\\Thonny Workshop\\SSRB\\New SSRB-4.py&quot;, line 63, in Submit     Province, Driver, Pass1, Pass2, Pass3, Delivery, Contact, EntryBy, PIYES, PINO, PIFound, PIDoneBy, VIYES, VINO, VIFound, VIDoneBy)) sqlite3.InterfaceError: Error binding parameter 0 - probably unsupported type.  Could you shed some light on the error?"}, {"owner": {"reputation": 432, "user_id": 1985875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYGmH.jpg?s=128&g=1", "display_name": "rask004", "link": "https://stackoverflow.com/users/1985875/rask004"}, "reply_to_user": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515113933, "post_id": 48086397, "comment_id": 83187250, "body": "Saw other comments regarding <code>Date.get()</code>. Sqlite only accepts &quot;primitives&quot; for parameter values - integers, floats, strings, booleans. An <i>unsupported type</i> error means a value is something else, which sqlite cannot parse."}, {"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515120430, "post_id": 48086397, "comment_id": 83188752, "body": "I declared the variables as follows: date = Entry(window3, font=(&#39;arial&#39;,12), textvariable= date, bg = &#39;aliceblue&#39;,bd=2, insertwidth=2)  Then I declared the textvariable as: date=StringVar()  Then this variable was attempted to be used in the INSERT string for the db.  However it did not work out the way it should have and I am a bit confused why it was such a chore. (still very new to coding python)"}, {"owner": {"reputation": 432, "user_id": 1985875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYGmH.jpg?s=128&g=1", "display_name": "rask004", "link": "https://stackoverflow.com/users/1985875/rask004"}, "reply_to_user": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515186498, "post_id": 48086397, "comment_id": 83219195, "body": "Sqlite itself can only interpret integers, floats, strings, booleans and strings / integers representing timestamps. The sqlite3 module tries to map supplied variables to these types, but it needs to know how to do this. It would not know how to map an <code>Entry</code> object, in general. Either there is a way to <i>register</i> the Entry class, so it knows how to map such objects, or you convert the Entry instance to a value already recognised ( hence, the <code>Date.get()</code> invokation )."}, {"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515203772, "post_id": 48086397, "comment_id": 83224090, "body": "I am following what you have said, or I believe I do however looking at my above comment showing my flow does it not then take what is held in the entry box named &quot;date=Entry(...&quot;  then become a declared or known string by stating &quot;date=StringVar()&quot; whereby the value of the entry would be then assigned to the StringVar() &quot;date&quot; using the entry in textvariable=date?"}, {"owner": {"reputation": 432, "user_id": 1985875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYGmH.jpg?s=128&g=1", "display_name": "rask004", "link": "https://stackoverflow.com/users/1985875/rask004"}, "reply_to_user": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515228472, "post_id": 48086397, "comment_id": 83228060, "body": "At this point I recommend editing your question, and explain what each parameter is (or what it represents)."}], "tags": [], "owner": {"reputation": 432, "user_id": 1985875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYGmH.jpg?s=128&g=1", "display_name": "rask004", "link": "https://stackoverflow.com/users/1985875/rask004"}, "is_accepted": false, "score": 0, "last_activity_date": 1515113627, "last_edit_date": 1515113627, "creation_date": 1515020616, "answer_id": 48086397, "question_id": 48086236, "link": "https://stackoverflow.com/questions/48086236/inserting-variable-stored-data-into-sqlite3-python-3/48086397#48086397", "title": "Inserting variable stored data into SQLite3 - Python 3", "body": "<p>See the <strong>execute</strong> function description in the <a href=\"https://docs.python.org/3/library/sqlite3.html#cursor-objects\" rel=\"nofollow noreferrer\">sqlite documentation</a>.</p>\n\n<p>Statement variables should be in a second argument to <strong>execute(...)</strong>, a tuple containing all the parameters.</p>\n\n<p>Replace the <code>%s</code> in the statement string with <code>?</code> as per the documentation specifications, for sanity.</p>\n\n<p>You need code like this:</p>\n\n<pre><code>def Submit():\n    conn = sqlite3.connect('SSRB.db')\n    conn.execute('''\n    INSERT INTO ssrb (date, time_in, time_out, company, plate, province, driver, pass1, \n    pass2, pass3, deliver, contact, entry_by, pi_yes, pi_no,  pi_violations, pi_done_by, \n    vi_yes, vi_no, vi_violations, vi_done_by)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)''', \n    (Date, TimeIn, TimeOut, Company, Plate, Province, Driver, Pass1, Pass2, Pass3, \n    Delivery, Contact, EntryBy, PIYES, PINO, PIFound, PIDoneBy, VIYES, VINO, VIFound, \n    VIDoneBy))\n    connect.commit()\n    connect.close()\n</code></pre>\n\n<p><em>Addendum 1</em>: Variables in the parameters tuple should be primitives (integers, floats etc). </p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515024361, "post_id": 48086475, "comment_id": 83148752, "body": "I appreciate the insight and I had tried it the way you have posted before asking here using both the ? instead of the %s and I also moved up the &#39; &#39; &#39; to the end of the ? statement. I have just modified it again and give it a try but it is still not inserting the data to the db.  I have checked the table column names and the variable names over and over again to make sure there are no errors or mismatches and they are all proper.  Could there be something else that is wrong?"}, {"owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "reply_to_user": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515024904, "post_id": 48086475, "comment_id": 83148889, "body": "If your field names are in the same order as in your table try omit them completely, i. e. use <code>INSERT INTO ssrb VALUES (?, ?, ...)</code>."}, {"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515028186, "post_id": 48086475, "comment_id": 83149609, "body": "#MarianD I have given this a try and it does not write to the data either.  I am wondering if it might be how I have the variables collecting the input data, but I don&#39;t think it should mater as long as the variable is not flushed prior to inserting to the DB.  Each variable is collecting the user input in separate def routines, would this cause this problem of not writing?  I am using labels with frames to run in the main window3. When the program runs everything appears properly. Is there a way to have the variable display what it contains so I can check to see if the data is there?"}, {"owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "reply_to_user": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515030201, "post_id": 48086475, "comment_id": 83150039, "body": "There may be problem with the scope of variables - the variable in the inner scope (your function definition) with the same name is <i>different</i> (= newly created) from variable in the outer scope <i>if you try changing its value (e.g. by assign to it)</i>. Try perform your commands from Python interpreter with (in advance) manually assigning values to your variables."}, {"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515045917, "post_id": 48086475, "comment_id": 83153548, "body": "@MarionD I am not sure I follow you on your comment regarding the scope of the variables. I&#39;m still quite new to python programming. Here is what I&#39;ve done. Defined a routine for a user to enter the data into the entry box as follows: date = Entry(window3, font=(&#39;arial&#39;,12), textvariable= Date, bg = &#39;aliceblue&#39;,bd=2, insertwidth=2)  I then have the textvariable declared as Date=StringVar()  I then have the INSERT INTO DB.  This should work as I understand it but the variable Date=StringVar() doesn&#39;t seem to hold the data from the entry box for it to load to the DB."}, {"owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "reply_to_user": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515078158, "post_id": 48086475, "comment_id": 83170906, "body": "Did you try what I recommended in my previous comment? - Example about an issue with scopes: <code>a = 7; def get_a(): a = 5</code> Then after executing the command <code>a = get_a()</code> the value of the variable <code>a</code> will be still <code>7</code>, i. e. unchanged."}, {"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515108065, "post_id": 48086475, "comment_id": 83185680, "body": "@MarionD I did that to verify the data in the variable is correct and it does show that what ever is entered into the text box is being stored in the variable. The issue now is to find out why it is not inserting into the tables in the data base. I have looked up the error it give and there is a lot of different threads on why this occurs but nothing that makes sense in my situation yet. I am still experimenting with various ways to try to fix the problem but any suggestions from the members here are always welcome to help me learn. This insert issue has to be something simple!"}, {"owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515109856, "post_id": 48086475, "comment_id": 83186167, "body": "@MarionD I have managed to correct the problem by experimenting with variations of the insert command lines.  In the line that states the VALUES and the variables:  VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&#39;&#39;&#39;, (date, timeIn, timeOut)...) I had to make the change to it to state the following:  VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)&#39;&#39;&#39;, (date.get(), (timeIn.get()), (timeOut.get())...)  I have no understanding of why I had to do it this way but it is the only way I managed to get it to insert the data into the db."}, {"owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "reply_to_user": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "edited": false, "score": 0, "creation_date": 1515111740, "post_id": 48086475, "comment_id": 83186660, "body": "It&#39;s exactly what I said - you assigned <code>date.get()</code> etc. to <i>local</i> variables of functions while <i>outer</i> variables (which you used in your <code>.execute()\u02db</code> method) were unmodified. Now you used them directly so there is not such problem. - Please consider accept my answer (click on the check mark) and / or upvote my answer if it was useful for you."}], "tags": [], "owner": {"reputation": 9511, "user_id": 7023590, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/82052fbf0815ce82c4eded8fd941be14?s=128&d=identicon&r=PG&f=1", "display_name": "MarianD", "link": "https://stackoverflow.com/users/7023590/mariand"}, "is_accepted": false, "score": 0, "last_activity_date": 1515022690, "last_edit_date": 1515022690, "creation_date": 1515021161, "answer_id": 48086475, "question_id": 48086236, "link": "https://stackoverflow.com/questions/48086236/inserting-variable-stored-data-into-sqlite3-python-3/48086475#48086475", "title": "Inserting variable stored data into SQLite3 - Python 3", "body": "<p>Instead of</p>\n\n<pre><code>connect.execute('''\nINSERT INTO ssrb (date, time_in, time_out, company, plate, province, driver, pass1,\n pass2, pass3, deliver, contact, entry_by, pi_yes, pi_no, pi_violations, pi_done_by,\n vi_yes, vi_no, vi_violations, vi_done_by)\nVALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,\n %s), (Date, TimeIn, TimeOut, Company, Plate, Province, Driver, Pass1, Pass2, Pass3,\n Delivery, Contact, EntryBy, PIYES, PINO, PIFound, PIDoneBy, VIYES, VINO,\nVIFound, VIDoneBy)\n''')\n</code></pre>\n\n<p>use</p>\n\n<pre><code>connect.execute('''\nINSERT INTO ssrb (date, time_in, time_out, company, plate, province, driver, pass1,\n pass2, pass3, deliver, contact, entry_by, pi_yes, pi_no, pi_violations, pi_done_by,\n vi_yes, vi_no, vi_violations, vi_done_by)\nVALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,\n ?)''', (Date, TimeIn, TimeOut, Company, Plate, Province, Driver, Pass1, Pass2, Pass3,\n Delivery, Contact, EntryBy, PIYES, PINO, PIFound, PIDoneBy, VIYES, VINO,\nVIFound, VIDoneBy)\n)\n</code></pre>\n\n<p>They are 2 differences:</p>\n\n<ol>\n<li>Symbol <code>?</code> instead of <code>%s</code> as it is not a Python's syntax for the string's <code>.format()</code> method (or older <code>%</code> notation) but the <em>DB-API\u2019s parameter substitution symbol</em>.</li>\n<li>Ending <code>'''</code> are moved up - where the <code>INSERT INTO</code> (parametrized) statement <em>really</em> ends.<br>\n(The substitution itself is performed by the <code>.execute()</code> method by its <em>2<sup>nd</sup> parameter</em> - a tuple provided by you.)</li>\n</ol>\n"}], "owner": {"reputation": 53, "user_id": 9096654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KHuIg.jpg?s=128&g=1", "display_name": "DT2000", "link": "https://stackoverflow.com/users/9096654/dt2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 609, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1515113627, "creation_date": 1515019382, "last_edit_date": 1515019668, "question_id": 48086236, "link": "https://stackoverflow.com/questions/48086236/inserting-variable-stored-data-into-sqlite3-python-3", "title": "Inserting variable stored data into SQLite3 - Python 3", "body": "<p>I have been reading information on how to insert data into a database using data stored in a variable.  I have not been able to get my data to load to my database and I am not sure why.</p>\n\n<p>The program is written to check for an existing DB and if it does not exist than it creates it along with the tables and columns required, that all works fine.</p>\n\n<p>I have tried to follow the methods from the various tutorials I have been reading but I must be missing something or doing something incorrectly.</p>\n\n<p>The database and table creates properly (I did not include that part of the code, it is executed at the start of the program).  Further into my program code I am using the following routine to enter the user input data by clicking of the \"Submit\" button</p>\n\n<p>Button routine:</p>\n\n<pre><code>submit = Button(\n    window3, \n    font=('arial',12,'bold'), text='Submit', \n    width=12, height=1, bg='aliceblue', \n    fg='steel blue', command = Submit\n)\n</code></pre>\n\n<p>My Submit Routine:</p>\n\n<pre><code>def Submit():\n    connect = sqlite3.connect('SSRB.db')\n    connect.execute('''\n    INSERT INTO ssrb (date, time_in, time_out, company, plate, province, driver, pass1,\n     pass2, pass3, deliver, contact, entry_by, pi_yes, pi_no, pi_violations, pi_done_by,\n     vi_yes, vi_no, vi_violations, vi_done_by)\n    VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,\n     %s), (Date, TimeIn, TimeOut, Company, Plate, Province, Driver, Pass1, Pass2, Pass3,\n     Delivery, Contact, EntryBy, PIYES, PINO, PIFound, PIDoneBy, VIYES, VINO,\n    VIFound, VIDoneBy)\n    ''')\n    connect.commit()\n    connect.close()\n</code></pre>\n\n<p>The columns in the table are listed after the INSERT, the %s is placed after the VALUES and the variables holding the user input is listed last.</p>\n\n<p>I am not seeing where I am going wrong... can someone please point out what I am doing incorrectly?</p>\n\n<p>Much thanks as always.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 1, "creation_date": 1515019390, "post_id": 48086214, "comment_id": 83147387, "body": "What do you mean &quot;actual&quot; value? And how is the code you posted behaving any differently than how you would expect?"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 2, "creation_date": 1515019625, "post_id": 48086214, "comment_id": 83147458, "body": "Are you using both Python 2 and Python 3? You have tagged both, which somewhat defeats the purpose of tagging a version."}, {"owner": {"reputation": 2743, "user_id": 478949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/aVoqS.jpg?s=128&g=1", "display_name": "Marcus Ottosson", "link": "https://stackoverflow.com/users/478949/marcus-ottosson"}, "reply_to_user": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1515019644, "post_id": 48086214, "comment_id": 83147464, "body": "@SilvioMayolo I&#39;m not exactly sure; as I said, the binding picks up the value passed to the class, &quot;transform&quot;, even though I can&#39;t seem to find that value anywhere myself."}, {"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1515019742, "post_id": 48086214, "comment_id": 83147498, "body": "We can&#39;t help you very well without seeing the code from the binding then. Would you be able to create an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> using Boost.Python to show us this behavior?"}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1515019749, "post_id": 48086214, "comment_id": 83147503, "body": "I haven&#39;t downvoted but you could&#39;ve shown which code &quot;gets the actual value&quot;. That would make the question answerable instead of relying on guessing what did happen."}, {"owner": {"reputation": 2743, "user_id": 478949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/aVoqS.jpg?s=128&g=1", "display_name": "Marcus Ottosson", "link": "https://stackoverflow.com/users/478949/marcus-ottosson"}, "edited": false, "score": 0, "creation_date": 1515020063, "post_id": 48086214, "comment_id": 83147587, "body": "Thanks for the comments! I&#39;ve clarified the question somewhat. The involvement of a binding was for context and not relevant to the solution I am looking for."}, {"owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 1, "creation_date": 1515020137, "post_id": 48086214, "comment_id": 83147618, "body": "After your edits, I&#39;m inclined to believe that the answer posted by @user2357112 is the one you&#39;re looking for."}, {"owner": {"reputation": 2743, "user_id": 478949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/aVoqS.jpg?s=128&g=1", "display_name": "Marcus Ottosson", "link": "https://stackoverflow.com/users/478949/marcus-ottosson"}, "reply_to_user": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "edited": false, "score": 0, "creation_date": 1515020197, "post_id": 48086214, "comment_id": 83147631, "body": "Indeed it is, thanks @SilvioMayolo"}], "answers": [{"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 2, "last_activity_date": 1515019554, "creation_date": 1515019554, "answer_id": 48086260, "question_id": 48086214, "link": "https://stackoverflow.com/questions/48086214/actual-value-of-a-subclassed-str/48086260#48086260", "title": "Actual value of a subclassed str", "body": "<p>C++-Functions use the internal string buffers, and probable won't call <code>__str__</code> or <code>__repr__</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2743, "user_id": 478949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/aVoqS.jpg?s=128&g=1", "display_name": "Marcus Ottosson", "link": "https://stackoverflow.com/users/478949/marcus-ottosson"}, "edited": false, "score": 0, "creation_date": 1515020113, "post_id": 48086263, "comment_id": 83147605, "body": "For context, the original question involved passing this subclass to a Boost Python binding."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1515019562, "creation_date": 1515019562, "answer_id": 48086263, "question_id": 48086214, "link": "https://stackoverflow.com/questions/48086214/actual-value-of-a-subclassed-str/48086263#48086263", "title": "Actual value of a subclassed str", "body": "<p>You cannot edit the value. You can retrieve it as a regular string with</p>\n\n<pre><code>str.__str__(string)\n</code></pre>\n\n<p>using the overridden <code>__str__</code> method directly.</p>\n\n<p>The C++ binding is most likely reading the string through the Python C API, which goes directly to the underlying storage in the structure your object inherits from <code>str</code>, bypassing the methods you wrote.</p>\n\n<p>As for what you should do, you should get out of this whole situation with subclassing <code>str</code> and overriding <code>__str__</code>. The right way to do that will depend on why you even got yourself into this situation in the first place.</p>\n"}, {"comments": [{"owner": {"reputation": 2743, "user_id": 478949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/aVoqS.jpg?s=128&g=1", "display_name": "Marcus Ottosson", "link": "https://stackoverflow.com/users/478949/marcus-ottosson"}, "edited": false, "score": 0, "creation_date": 1515020396, "post_id": 48086346, "comment_id": 83147687, "body": "&quot;Even that won&#39;t do it completely&quot; - This is what I figured. My next question was going to be, &quot;how do I override what comes out of <code>str.__str__(string)</code>&quot; But it looks like I&#39;m out of luck. Thanks @kindall"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 2, "last_activity_date": 1515086420, "last_edit_date": 1515086420, "creation_date": 1515020192, "answer_id": 48086346, "question_id": 48086214, "link": "https://stackoverflow.com/questions/48086214/actual-value-of-a-subclassed-str/48086346#48086346", "title": "Actual value of a subclassed str", "body": "<p>To answer your question about how you change a string's actual value, you don't. Strings are immutable. The string value itself is <code>self</code> but you can certainly obfuscate that, as you're trying to do. Still, you can always get to it with <code>str.__str__(string)</code>.</p>\n\n<p>To make a \"mutable\" string (one thatpretends to have some other value than its initialized value), you must override more than just the <code>__str__</code> method. That only comes into play when the object is printed, used in interpolation via <code>%s</code> or the like, or when <code>str()</code> is explicitly called. Python is not inclined to constantly call <code>str()</code> on objects when they are putatively strings already.</p>\n\n<p>To get some semblance of the behavior you want, you must also override all the methods that allow the string to participate in expressions, such as <code>__add__</code> and <code>__mul__</code>. To get the string to behave like \"mesh\" when you add it to another string, for example, override <code>__add__(self, other)</code> to return <code>\"mesh\" + other</code>.</p>\n\n<p>Even that won't do it completely, because there are plenty of contexts that don't involve a special method, such as <code>getattr()</code> of an object or accessing <code>dict[key]</code>. These will use the string's original value, which, as already established, you can't change. You can of course redefine <code>getattr()</code> and <code>dict</code> to address these cases, but that way lies madness...</p>\n"}, {"comments": [{"owner": {"reputation": 2743, "user_id": 478949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/aVoqS.jpg?s=128&g=1", "display_name": "Marcus Ottosson", "link": "https://stackoverflow.com/users/478949/marcus-ottosson"}, "edited": false, "score": 0, "creation_date": 1515020308, "post_id": 48086348, "comment_id": 83147658, "body": "Thanks for this @MSiefert; I&#39;ve excluded the notion of Boost from the original question for clarity, but this information is very useful to me nonetheless."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 2, "last_activity_date": 1515020196, "creation_date": 1515020196, "answer_id": 48086348, "question_id": 48086214, "link": "https://stackoverflow.com/questions/48086214/actual-value-of-a-subclassed-str/48086348#48086348", "title": "Actual value of a subclassed str", "body": "<p>There are several ways to get the \"real string\". For example using ordinary Python:</p>\n\n<pre><code>&gt;&gt;&gt; s = Str('transform')\n&gt;&gt;&gt; str.__str__(s)\n'transform'\n\n&gt;&gt;&gt; super(Str, s).__str__()\n'transform'\n</code></pre>\n\n<p>However it seems more likely that <code>Boost</code> actually uses a C-API function like <a href=\"https://docs.python.org/c-api/unicode.html#c.PyUnicode_AsUTF8AndSize\" rel=\"nofollow noreferrer\"><code>PyUnicode_AsUTF8AndSize</code></a> (or similar functions) that will also return the \"original\" string instead of going through your overridden <code>__str__</code> and/or <code>__repr__</code> methods.</p>\n\n<p>Very likely there is no way to avoid that just by overriding <code>__str__</code> and <code>__repr__</code>. You have to check how the relevant Boost functions extract the string-representation (or which fallbacks they use if that's not possible). That way you can try to avoid the unwanted branches.</p>\n"}], "owner": {"reputation": 2743, "user_id": 478949, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/aVoqS.jpg?s=128&g=1", "display_name": "Marcus Ottosson", "link": "https://stackoverflow.com/users/478949/marcus-ottosson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 48086263, "answer_count": 4, "score": 1, "last_activity_date": 1515086420, "creation_date": 1515019259, "last_edit_date": 1515020016, "question_id": 48086214, "link": "https://stackoverflow.com/questions/48086214/actual-value-of-a-subclassed-str", "title": "Actual value of a subclassed str", "body": "<p>How can I read the inputted value <code>\"transform\"</code> from the instance of this subclass?</p>\n\n<pre><code>class Str(str):\n    def __repr__(self):\n        return \"mesh\"\n\n    def __str__(self):\n        return \"mesh\"\n\nstring = Str(\"transform\")\nprint(string)\n# mesh\nprint(repr(string))\n# mesh\n</code></pre>\n"}, {"tags": ["python", "django", "algolia", "django-1.11"], "answers": [{"comments": [{"owner": {"reputation": 231, "user_id": 8149252, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0Q0xfDr6SJM/AAAAAAAAAAI/AAAAAAAAABQ/yx4zmzEuJ2k/photo.jpg?sz=128", "display_name": "Raphi", "link": "https://stackoverflow.com/users/8149252/raphi"}, "edited": false, "score": 0, "creation_date": 1515059053, "post_id": 48086591, "comment_id": 83159326, "body": "Hey thanks for the follow up! Don&#39;t hesitate to post your issue in <a href=\"https://github.com/algolia/algoliasearch-django/issues\" rel=\"nofollow noreferrer\">github.com/algolia/algoliasearch-django/issues</a>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7179686"}, "is_accepted": false, "score": 1, "last_activity_date": 1515022008, "creation_date": 1515022008, "answer_id": 48086591, "question_id": 48086182, "link": "https://stackoverflow.com/questions/48086182/persisted-data-with-django-and-algolia-search-model-indexing/48086591#48086591", "title": "Persisted data with Django and Algolia search model indexing", "body": "<p>Ok, so this one was slightly more complex as I was using websockets. When a message is sent and persisted to the database we can also do the following within the relevant \"consumer\" method (really, consumers.py is the websocket equivalent of the views.py file so I should have known this!)</p>\n\n<p>The following lines of code worked:</p>\n\n<pre><code>client = algoliasearch.Client(settings.ALGOLIA['APPLICATION_ID'], settings.ALGOLIA['API_KEY'])\nindex = client.init_index('Room Index')\nres = index.partial_update_objects([{\"last_activity\": naturaltime(datetime.datetime.now()), \"objectID\": your_object_id]}])\n</code></pre>\n\n<p>The trick for anyone listening would be to designate the your_object_id from what value of the message is passed in from the client side to the consumer.</p>\n\n<p>Don't forget to add:</p>\n\n<pre><code>import datetime\nfrom django.conf import settings\nfrom django.contrib.humanize.templatetags.humanize import naturaltime\n</code></pre>\n\n<p>At the top of the consumers.py file!</p>\n\n<p>I also found the python specific incremental updates documentation from Algolia extremely useful:\n    I <a href=\"https://www.algolia.com/doc/tutorials/indexing/synchronization/incremental-updates/\" rel=\"nofollow noreferrer\">https://www.algolia.com/doc/tutorials/indexing/synchronization/incremental-updates/</a></p>\n\n<p>To render the updated time in \"real time\" - use which ever front-end tool floats your boat, I used jQuery but Vue.js or React.js would work equally well.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7179686"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1515022008, "creation_date": 1515019015, "question_id": 48086182, "link": "https://stackoverflow.com/questions/48086182/persisted-data-with-django-and-algolia-search-model-indexing", "title": "Persisted data with Django and Algolia search model indexing", "body": "<p>This is a curious one for Django+Algolia. I'm using the Algolia specific Django package:</p>\n\n<pre><code>$ pip install algoliasearch-django\n</code></pre>\n\n<p>I have the following model schema:</p>\n\n<pre><code>import os\nimport datetime\n\nfrom channels import Group\n\nfrom django.db import models\nfrom django.conf import settings\nfrom django.utils.six import python_2_unicode_compatible\nfrom django.utils.translation import ugettext_lazy as _\nfrom django.core.files.storage import FileSystemStorage\nfrom django.contrib.humanize.templatetags.humanize import naturaltime\n\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\nSITE_UPLOAD_LOC = FileSystemStorage(location=os.path.join(BASE_DIR, 'uploads/site'))\nUSER_UPLOAD_LOC = FileSystemStorage(location=os.path.join(BASE_DIR, 'uploads/user'))\n\n@python_2_unicode_compatible\nclass Room(models.Model):\n    \"\"\"\n    This model class sets up the room that people can chat within - much like a forum topic.\n    \"\"\"\n    title = models.CharField(max_length=255)\n    staff = models.BooleanField(default=False)\n    slug = models.SlugField(max_length=250, default='')\n    banner = models.ImageField(storage=USER_UPLOAD_LOC, null=True, blank=True)\n\n    def last_activity(self):\n        \"\"\"\n        For date and time values show how many seconds, minutes, or hours ago a message\n        was sent (i.e., persised to the database) compared to current timestamp return representing string.\n        \"\"\"\n        last_persisted_message = Messages.objects.filter(where=self.slug).order_by('-sent_at').first()\n        if last_persisted_message is not None:\n            # First we can store \"last persisted message\" time in ISO format (could be useful for sitemap.xml generation; SEO tasks etc)\n            last_persisted_message_iso = last_persisted_message.sent_at.isoformat()\n            # Use the natural time package form contrib.humanize to convert our datetime to a string.\n            last_persisted_message = naturaltime(last_persisted_message.sent_at)\n            return last_persisted_message\n        else:\n            return \"No activity to report\"\n</code></pre>\n\n<p>Which is indexed as:</p>\n\n<pre><code>from algoliasearch_django import AlgoliaIndex\n\nclass RoomIndex(AlgoliaIndex):\n    fields = ('title', 'last_activity')\n\n    settings = {\n        'searchableAttributes': ['title'],\n        'attributesForFaceting': ['title', 'last_activity'],\n        'hitsPerPage': 15,\n    }\n\n    index_name = 'Room Index'\n</code></pre>\n\n<p>Essentially, to bring the 'last_activity' value to the front end it needs to pass through the index which is updated as far as I can tell with running:</p>\n\n<pre><code>$ python manage.py algolia_reindex\n</code></pre>\n\n<p>However, the last activity comes from the last time (converted to humanized django naturaltime, e.g. '3 days ago' etc etc) a Message was sent within a websocket connection - persisted to the database. All of this functionality works except that to update I need to run the algolia_reindex command.</p>\n\n<p>Rather unsure as to how this could potentially be done a little more simultaneously...?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1515018966, "post_id": 48086131, "comment_id": 83147241, "body": "<code>if len(working_list) != 1</code> ... im pretty sure thats not what you want... note you *really dont even have to check if the <code>working_list</code> has numbers at all..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1515019120, "post_id": 48086131, "comment_id": 83147291, "body": "so, you just need to do <code>total = sum(int(x) for line in working_file for x in re.findall(&#39;[0-9]+&#39;, line))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 9070325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02155816e2a9dd09d7d6778a683cb3d2?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse R", "link": "https://stackoverflow.com/users/9070325/jesse-r"}, "edited": false, "score": 0, "creation_date": 1515019095, "post_id": 48086177, "comment_id": 83147280, "body": "Oh wow! Silly error on my part I don&#39;t know how I didn&#39;t see that! Thank you!!"}], "tags": [], "owner": {"reputation": 928, "user_id": 2128799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m23IO.png?s=128&g=1", "display_name": "Dash Winterson", "link": "https://stackoverflow.com/users/2128799/dash-winterson"}, "is_accepted": true, "score": 5, "last_activity_date": 1515019575, "last_edit_date": 1515019575, "creation_date": 1515018990, "answer_id": 48086177, "question_id": 48086131, "link": "https://stackoverflow.com/questions/48086131/regular-expression-for-finding-numbers-in-a-line-python/48086177#48086177", "title": "Regular Expression for Finding Numbers in a Line (Python)", "body": "<p>You're only validating lines that have ONLY one number, so a line with two numbers will be skipped because of <code>if len(working_list) != 1: continue</code>, that basically says \"if there isn't EXACTLY one number on this line then skip\", you may have meant something like <code>if len(working_list) &lt; 1: continue</code></p>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 2128799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m23IO.png?s=128&g=1", "display_name": "Dash Winterson", "link": "https://stackoverflow.com/users/2128799/dash-winterson"}, "is_accepted": false, "score": 0, "last_activity_date": 1571089748, "creation_date": 1571089748, "answer_id": 58384479, "question_id": 48086131, "link": "https://stackoverflow.com/questions/48086131/regular-expression-for-finding-numbers-in-a-line-python/58384479#58384479", "title": "Regular Expression for Finding Numbers in a Line (Python)", "body": "<p>I would do it like:</p>\n\n<pre><code>import re\n\ndigits_re = re.compile(r'(\\d+(\\.\\d+)?)') \nwith open(\"sample.txt\", 'r') as fh:\n  numbers = [float(match[0]) for match in digits_re.findall(fh.read())]\nprint(sum(numbers))\n</code></pre>\n\n<p>or like you're doing with ints just </p>\n\n<pre><code>import re\n\ndigits_re = re.compile(r'(\\d+)') \nwith open(\"sample.txt\", 'r') as fh:\n  numbers = [int(match[0]) for match in digits_re.findall(fh.read())]\nprint(sum(numbers))\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 9070325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02155816e2a9dd09d7d6778a683cb3d2?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse R", "link": "https://stackoverflow.com/users/9070325/jesse-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 48086177, "answer_count": 2, "score": 1, "last_activity_date": 1571089748, "creation_date": 1515018690, "last_edit_date": 1515019510, "question_id": 48086131, "link": "https://stackoverflow.com/questions/48086131/regular-expression-for-finding-numbers-in-a-line-python", "title": "Regular Expression for Finding Numbers in a Line (Python)", "body": "<p>I'm just learning about regular expressions and I need to read in a text file and find every instance of a number and find the sum of all the numbers. </p>\n\n<pre><code>import re\n\nsum = 0\nlist_of_numbers = list()\nworking_file = open(\"sample.txt\", 'r')\nfor line in working_file:\n    line = line.rstrip()\n    working_list = re.findall('[0-9]+', line)\n    if len(working_list) != 1:\n        continue\n    print(working_list)\n    for number in working_list:\n        num = int(number)\n        list_of_numbers.append(num)\nfor number in list_of_numbers:\n    sum += number\nprint(sum)\n</code></pre>\n\n<p>I put the <code>print(working_list)</code> in order to try and debug it and see if all the numbers are getting found correctly and I've seen, by manually scanning the text file, that some numbers are being skipped while others are not. I'm confused as to why as I thought my regular expression guaranteed that any string with any amount of digits will be added to the list.</p>\n\n<p><a href=\"http://py4e-data.dr-chuck.net/regex_sum_42.txt\" rel=\"nofollow noreferrer\">Here is the file</a>.</p>\n"}, {"tags": ["python", "image", "image-processing"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1515018918, "post_id": 48086085, "comment_id": 83147226, "body": "Use integer division <code>len(x)&#47;&#47;5</code>"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1515018924, "post_id": 48086085, "comment_id": 83147230, "body": "The error message is telling you that <code>k</code> isn&#39;t an integer. Likely it&#39;s because you&#39;re using <code>&#47;</code> for division instead of <code>&#47;&#47;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 1, "last_activity_date": 1515019187, "creation_date": 1515019187, "answer_id": 48086201, "question_id": 48086085, "link": "https://stackoverflow.com/questions/48086085/how-to-solve-error-cant-multiply-sequence-by-non-int-of-type-float/48086201#48086201", "title": "How to solve error &quot; can&#39;t multiply sequence by non-int of type &#39;float&#39; &quot;?", "body": "<p>The second argument to <code>random.sample</code> is the number of selections to make, and it <em>must</em> be an integer. You're using a division to create that number; in Python 2 this would be an integer division if both numbers were integers, but in Python 3 it always returns a <code>float</code>. The integer division <code>//</code> should be used instead:</p>\n\n<pre><code>sample_index = random.sample(range(len(x)), len(x) // 5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 928, "user_id": 2128799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m23IO.png?s=128&g=1", "display_name": "Dash Winterson", "link": "https://stackoverflow.com/users/2128799/dash-winterson"}, "is_accepted": false, "score": 0, "last_activity_date": 1515019193, "creation_date": 1515019193, "answer_id": 48086203, "question_id": 48086085, "link": "https://stackoverflow.com/questions/48086085/how-to-solve-error-cant-multiply-sequence-by-non-int-of-type-float/48086203#48086203", "title": "How to solve error &quot; can&#39;t multiply sequence by non-int of type &#39;float&#39; &quot;?", "body": "<p>use integer division <code>random.sample(range(len(x)), len(x)//5)</code></p>\n"}], "owner": {"reputation": 19, "user_id": 8287102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c465bea3b051988dbfb4bbdfc824289?s=128&d=identicon&r=PG&f=1", "display_name": "Oppir", "link": "https://stackoverflow.com/users/8287102/oppir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1515019193, "creation_date": 1515018421, "last_edit_date": 1515018792, "question_id": 48086085, "link": "https://stackoverflow.com/questions/48086085/how-to-solve-error-cant-multiply-sequence-by-non-int-of-type-float", "title": "How to solve error &quot; can&#39;t multiply sequence by non-int of type &#39;float&#39; &quot;?", "body": "<p>i have tried to create indices on my python, when i try to run it, i get error like this :\n<img src=\"https://i.stack.imgur.com/hy5hR.png\" alt=\"error\"><br>\nit is point to ward my root python where i installed it. and i don't know why it show error like this</p>\n\n<pre><code>result = [None] * k\n</code></pre>\n\n<p>i have already tried to implement code from <a href=\"https://github.com/timgrossmann/InstaPy/issues/507\" rel=\"nofollow noreferrer\">https://github.com/timgrossmann/InstaPy/issues/507</a>, but it still show the same error.</p>\n\n<p>For somebody who can help me i really appreciate it. Thanks</p>\n"}, {"tags": ["python", "dictionary", "key", "defaultdict"], "answers": [{"tags": [], "owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1515018588, "creation_date": 1515018588, "answer_id": 48086115, "question_id": 48086081, "link": "https://stackoverflow.com/questions/48086081/error-changing-dictionary-keys/48086115#48086115", "title": "Error Changing Dictionary Keys", "body": "<p>Just use a dict comprehension for this:</p>\n\n<pre><code>new_dict = {split_tabs(key)[0]: value for key, value in old_dict.iteritems()}\n</code></pre>\n\n<p>Trying to modify a dictionary while iterating over it is not a good idea in general. </p>\n"}, {"tags": [], "owner": {"reputation": 414, "user_id": 6669864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zqzj7.jpg?s=128&g=1", "display_name": "Aaron Klein", "link": "https://stackoverflow.com/users/6669864/aaron-klein"}, "is_accepted": false, "score": 0, "last_activity_date": 1515023115, "creation_date": 1515023115, "answer_id": 48086751, "question_id": 48086081, "link": "https://stackoverflow.com/questions/48086081/error-changing-dictionary-keys/48086751#48086751", "title": "Error Changing Dictionary Keys", "body": "<p>If you use <code>.items()</code> instead of <code>.iteritems()</code>, you won't have that problem, because that will just return a list that is disconnected from the dictionary. In python 3 it would be 'list(new_dict.items())`.</p>\n\n<p>Also if there's any possibility that the dictionary values are mutable, you'll have to use <code>copy.deepcopy(old_dict)</code> instead of just <code>old_dict.copy()</code>.</p>\n"}], "owner": {"reputation": 147, "user_id": 8117081, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67834cef504e240477d9ac2656e7c7e5?s=128&d=identicon&r=PG&f=1", "display_name": "Alureon", "link": "https://stackoverflow.com/users/8117081/alureon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 48086115, "answer_count": 2, "score": 0, "last_activity_date": 1515023115, "creation_date": 1515018404, "question_id": 48086081, "link": "https://stackoverflow.com/questions/48086081/error-changing-dictionary-keys", "title": "Error Changing Dictionary Keys", "body": "<p>I've two defaultdicts I eventually want to merge, but first I need to make their keys match. According to some threads I've seen here, I can use pop() to replace keys in a dictionary. But that only updates the existing dictionary, whereas I want to create a new dictionary with the new keys. So something like:</p>\n\n<p>existing_dict_one -> new_dict_one</p>\n\n<p>This is what I've so far:</p>\n\n<pre><code>def split_tabs(x):\n    \"\"\"\n    Function to split tab-separated strings, used to break up the keys that are separated by tabs.\n    \"\"\"\n    return x.split('\\t')\n\n\ndef create_dict(old_dict):\n    \"\"\"\n    Function to create a new defaultdict from an existing defaultdict, just with\n    different keys.\n    \"\"\"\n    new_dict = old_dict.copy()  # Create a copy of old_dict to house the new keys, but with the same values.\n    for key, value in new_dict.iteritems():\n        umi = split_tabs(key)[0]  # Change key to be UMI, which is the 0th index of the tab-delimited key.\n        # new_key = key.replace(key, umi)\n        new_dict[umi] = new_dict.pop(key)\n    return new_dict\n</code></pre>\n\n<p>However, I'm getting the following error</p>\n\n<pre><code>RuntimeError: dictionary changed size during iteration\n</code></pre>\n\n<p>and I don't know how to fix it. Does anyone know how to correct it? I'd like to use the variable \"umi\" as the new key.</p>\n\n<p>I'd like to post the variable \"key\" and dictionary \"old_dict\" I'm using for testing this code, but it's messy and takes up a lot of space. So <a href=\"https://pastebin.com/WtMtEuNh\" rel=\"nofollow noreferrer\">here's</a> a pastebin link that contains them instead.</p>\n\n<p>Note that \"umi\" comes from variable \"key\" which is separated by tabs. So I split \"key\" and get the first object as \"umi\".</p>\n"}, {"tags": ["python", "python-3.x", "performance", "function", "pandas"], "comments": [{"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 2, "creation_date": 1515018587, "post_id": 48086073, "comment_id": 83147128, "body": "Please do not use screenshots for code or data related stuff."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1515019189, "post_id": 48086073, "comment_id": 83147315, "body": "All questions seeking debugging help must provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In particular, you <i>must</i> post code in the question itself as <i>formatted text</i>, not screenshots, and <i>especially</i> not links to screen shots."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1515019269, "post_id": 48086073, "comment_id": 83147344, "body": "Please take some time to familiarize yourself with the guidelines at <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 11, "user_id": 8425773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9823e924cf340d438a6a2793bb2f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8425773/sam"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1515022932, "post_id": 48086073, "comment_id": 83148394, "body": "@juanpa.arrivillaga Thank you for the reminder. I edited my questions."}], "owner": {"reputation": 11, "user_id": 8425773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9823e924cf340d438a6a2793bb2f0b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/8425773/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515025585, "creation_date": 1515018374, "last_edit_date": 1515025585, "question_id": 48086073, "link": "https://stackoverflow.com/questions/48086073/python3-function-with-pandas-dataframe-input-runs-slower-then-1st-time-and-faste", "title": "Python3 function with pandas dataframe input runs slower then 1st time and faster the 2nd time", "body": "<p>I built 2 functions major_check_with_dataframe and major_check_with_list, and I wanted to see which one runs faster. I'm puzzled by their run time.</p>\n\n<pre><code>import numpy as np\nDTYPE_FLOAT = np.float\nimport anapyfunc.major\nimport pandas as pd\nfrom testpython.timer import timer\n\n# wrapper function\ndef major_check(**kwargs):\n    #return major_check_with_list(**kwargs)\n    return major_check_with_dataframe(**kwargs)\n\n# functions to be timed\ndef major_check_with_dataframe(df, s_major_single_hi_percent, s_major_single_lo_percent):\n    ...\n\ndef major_check_with_list(source_list, s_major_single_hi_percent, s_major_single_lo_percent):\n    ...\n\n# main function starts here\nt = timer.Timer(verbose = True, run = False)\nt.set_name(name = 'major check timer')\n\na = np.random.choice(101, 2500)\nb = np.random.choice(101, 2500)\nc = np.random.choice(101, 2500)\n\ns_major_single_hi_percent = 70 \ns_major_single_lo_percent = 10\n\ndd = {'a' : a, 'b' : b , 'c' : c}\ndf = pd.DataFrame(dd)\n\n# axis 0 = tick\n# axis 1 = input arrays\n\nt.set_name(name = 'major_check_with_dataframe')\nt.start()\nret1 = anapyfunc.major.major_check_with_dataframe(\n                                  df = df, \n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                 )\nt.stop_reset()\n\nt.set_name(name = 'major_check_with_list')\nt.start()\nret2 = anapyfunc.major.major_check_with_list(\n                                source_list = [a, b, c,],\n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                )\nt.stop_reset()\n\n\nt.set_name(name = 'major_check')\nt.start()\nret3 = anapyfunc.major.major_check(\n                                  #source_list = [a, b, c,],\n                                  df = df, \n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                 )\nt.stop_reset()\n</code></pre>\n\n<p>Output when major_check calls major_check_with_dataframe</p>\n\n<pre><code>major_check_with_dataframe elapsed time: 94.261000 ms\nmajor_check_with_list elapsed time: 2.316000 ms\nmajor_check elapsed time: 3.055000 ms\n</code></pre>\n\n<p>Output when major_check calls major_check_with_list</p>\n\n<pre><code>major_check_with_dataframe elapsed time: 95.042000 ms\nmajor_check_with_list elapsed time: 2.240000 ms\nmajor_check elapsed time: 2.240000 ms\n</code></pre>\n\n<p>I found that if I run major_check_with_dataframe the 2nd time, its run time is reduced to nearly the same as running through major_check wrapper function.</p>\n\n<pre><code>t.set_name(name = 'major_check_with_dataframe')\nt.start()\nret1 = anapyfunc.major.major_check_with_dataframe(\n                                  df = df, \n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                 )\nt.stop_reset()\n\nt.set_name(name = 'major_check_with_list')\nt.start()\nret2 = anapyfunc.major.major_check_with_list(\n                                source_list = [a, b, c,],\n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                )\nt.stop_reset()\n\n\nt.set_name(name = 'major_check')\nt.start()\nret3 = anapyfunc.major.major_check(\n                                  #source_list = [a, b, c,],\n                                  df = df, \n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                 )\nt.stop_reset()\n\nt.set_name(name = 'major_check_with_dataframe')\nt.start()\nret1 = anapyfunc.major.major_check_with_dataframe(\n                                  df = df, \n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                 )\nt.stop_reset()\n\nt.set_name(name = 'major_check')\nt.start()\nret3 = anapyfunc.major.major_check(\n                                  #source_list = [a, b, c,],\n                                  df = df, \n                                  s_major_single_hi_percent = s_major_single_hi_percent,\n                                  s_major_single_lo_percent = s_major_single_lo_percent,\n                                 )\nt.stop_reset()\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>major_check_with_dataframe elapsed time: 95.608000 ms\nmajor_check_with_list elapsed time: 2.350000 ms\nmajor_check elapsed time: 3.048000 ms\nmajor_check_with_dataframe elapsed time: 2.569000 ms\nmajor_check elapsed time: 2.520000 ms\n</code></pre>\n\n<p>Can it be some kind of memory cache effect?\nThis behavior is the same even if I put the functions in a class, use the class object to run the function once, and delete/garbage collect it after each run.</p>\n\n<p>All functions correctly return expected values.\nWhat am I missing here?\nThe version I'm using are:</p>\n\n<p>Python 3.4.3 (default, Nov 17 2016, 01:08:31) </p>\n\n<p>pandas 0.21.0</p>\n"}, {"tags": ["python", "sql-server"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 4, "creation_date": 1515018347, "post_id": 48086032, "comment_id": 83147048, "body": "That&#39;s an &quot;L&quot; not a &quot;1&quot;"}, {"owner": {"reputation": 8699, "user_id": 1726083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/757452f7cd7ba2347c667ef9298ceadb?s=128&d=identicon&r=PG", "display_name": "Daniel Farrell", "link": "https://stackoverflow.com/users/1726083/daniel-farrell"}, "edited": false, "score": 0, "creation_date": 1515018503, "post_id": 48086032, "comment_id": 83147103, "body": "Without the query we can&#39;t really figure out why the L is a problem though"}, {"owner": {"reputation": 941, "user_id": 4329778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GJuNX.jpg?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/4329778/stephen"}, "edited": false, "score": 0, "creation_date": 1515018627, "post_id": 48086032, "comment_id": 83147144, "body": "Maybe it&#39;s an encoding issue with your file?"}, {"owner": {"reputation": 323, "user_id": 8636837, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SQWVD.jpg?s=128&g=1", "display_name": "indiri", "link": "https://stackoverflow.com/users/8636837/indiri"}, "edited": false, "score": 0, "creation_date": 1515018886, "post_id": 48086032, "comment_id": 83147219, "body": "Does your query statement have a ; at the end?  SQL Server doesn&#39;t require it but when run from python as a file it might.  You should add the actual query file contents"}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1515020249, "post_id": 48086032, "comment_id": 83147645, "body": "Hi all; I feel like whether it&#39;s an L or 1 shouldn&#39;t matter right? :( because it does run in sql server so the actual query syntax shouldn&#39;t be the problem."}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 323, "user_id": 8636837, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SQWVD.jpg?s=128&g=1", "display_name": "indiri", "link": "https://stackoverflow.com/users/8636837/indiri"}, "edited": false, "score": 0, "creation_date": 1515020269, "post_id": 48086032, "comment_id": 83147651, "body": "@indiri I tried with &quot;;&quot; but it&#39;s having the same error..."}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 941, "user_id": 4329778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GJuNX.jpg?s=128&g=1", "display_name": "Stephen", "link": "https://stackoverflow.com/users/4329778/stephen"}, "edited": false, "score": 0, "creation_date": 1515020331, "post_id": 48086032, "comment_id": 83147666, "body": "@StephenLightcap what do you mean by that? and how can i fix it?"}, {"owner": {"reputation": 1300, "user_id": 8834780, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4c8a7117094cbd60927cb19e9b4986b2?s=128&d=identicon&r=PG&f=1", "display_name": "user8834780", "link": "https://stackoverflow.com/users/8834780/user8834780"}, "edited": false, "score": 0, "creation_date": 1515020441, "post_id": 48086032, "comment_id": 83147700, "body": "Need the actual query to help here"}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 1300, "user_id": 8834780, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4c8a7117094cbd60927cb19e9b4986b2?s=128&d=identicon&r=PG&f=1", "display_name": "user8834780", "link": "https://stackoverflow.com/users/8834780/user8834780"}, "edited": false, "score": 0, "creation_date": 1515020629, "post_id": 48086032, "comment_id": 83147774, "body": "@user8834780 hi, thanks for trying to help! but may i understand why the query must be shared? since the query does run, that means the problem is not within the query, right?"}, {"owner": {"reputation": 1300, "user_id": 8834780, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4c8a7117094cbd60927cb19e9b4986b2?s=128&d=identicon&r=PG&f=1", "display_name": "user8834780", "link": "https://stackoverflow.com/users/8834780/user8834780"}, "edited": false, "score": 1, "creation_date": 1515020696, "post_id": 48086032, "comment_id": 83147796, "body": "Nope, ODBC acts differently then sql server studio- there are a bunch of bugs such as necessity to quote reserved keywords that pyodbc has, which sql server is able to avoid"}, {"owner": {"reputation": 323, "user_id": 8636837, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SQWVD.jpg?s=128&g=1", "display_name": "indiri", "link": "https://stackoverflow.com/users/8636837/indiri"}, "edited": false, "score": 1, "creation_date": 1515021297, "post_id": 48086032, "comment_id": 83147953, "body": "The two different environments can have different requirements. Before posting the query you can change table names and columns if that concerns you but do not change any punctuation so we can accurately see the issue.  The more you leave the better, though, as the column names may be the issue if they are reserved words as the person before me said."}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1515024484, "post_id": 48086032, "comment_id": 83148785, "body": "Thank you for being patient with me! I see... I&#39;ll add one sample query now :)"}, {"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "reply_to_user": {"reputation": 1300, "user_id": 8834780, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/4c8a7117094cbd60927cb19e9b4986b2?s=128&d=identicon&r=PG&f=1", "display_name": "user8834780", "link": "https://stackoverflow.com/users/8834780/user8834780"}, "edited": false, "score": 0, "creation_date": 1515024852, "post_id": 48086032, "comment_id": 83148878, "body": "@user8834780 and indiri Thank you for the expalanation! I&#39;ve added some sample queries that I used but got the above error code with. Thank you so much!"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1515035737, "post_id": 48086032, "comment_id": 83151128, "body": "Please post the <b>exact</b> query you are attempting. The <i>sample query</i> you posted cannot have raised that specific error which emphasizes the character <code>l</code>."}], "owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515027759, "creation_date": 1515018143, "last_edit_date": 1515027759, "question_id": 48086032, "link": "https://stackoverflow.com/questions/48086032/query-runs-in-sql-server-studio-but-not-when-called-via-python-pyodbc", "title": "query runs in sql server studio but not when called via python pyodbc", "body": "<p>I have a query that I can successfully run in the Microsoft SQL Server Management Studio app. It outputs data as I expected. </p>\n\n<p>However, when I try to run the script via Python, it'll always throw an error. </p>\n\n<p>I first created a generic sql reader function:</p>\n\n<pre><code>def sql_reader_single(qry_file, server_name, database):\n    server = db.connect(str('DRIVER={SQL Server};\n                        SERVER='+server_name+';\n                        DATABASE='+database+';'))\n    qry = open(qry_file, 'r').read()\n    data = pd.read_sql(qry, server)\n\nreturn data\n</code></pre>\n\n<p>then I tried calling the above function to read my sql script:</p>\n\n<pre><code>dir = 'C:/Users/Documents/qry'\nQryFile = os.path.join(dir, 'qry clean no comment.sql')\nData = sp.sql_reader_single(qry_file=QryFile, server_name='server1', database='db2')\n</code></pre>\n\n<p>And when I call the read.sql() function, I'd always get the following error:</p>\n\n<pre><code> ': ('42000', \"[42000] [Microsoft][ODBC SQL Server Driver][SQL Server]Incorrect syntax near 'l'. (102) (SQLExecDirectW)\")\n</code></pre>\n\n<p><em>'1' is the last character in my query script.</em> \nSo the error message is saying I have syntax error near the last character of my script.</p>\n\n<p>Since the query does run successfully in SQL server studio, that eliminates the hypothesis that my query is in wrong syntax, which is what the error message suggests. </p>\n\n<p>Here's a sample query that I tried running but would get the above error code:</p>\n\n<pre><code>SELECT  distinct \n                      [ShipmentId]\n                     ,shipmentstatus\n                  FROM shipmentstatus\n</code></pre>\n\n<p>I also looked into many other links via Google search, but I am not getting any helpful tips. Any help is appreciated!</p>\n"}, {"tags": ["python", "tensorflow", "keras", "tensorflow-gpu"], "comments": [{"owner": {"reputation": 13381, "user_id": 1531463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVFg1.jpg?s=128&g=1", "display_name": "Yu-Yang", "link": "https://stackoverflow.com/users/1531463/yu-yang"}, "edited": false, "score": 2, "creation_date": 1515037971, "post_id": 48086014, "comment_id": 83151513, "body": "You can still use <code>CuDNNLSTM</code> layers for training, but on your prediction server, they have to be replaced with <code>LSTM</code>. You can try to use <code>save_weights</code> (instead of <code>save_model</code>) on the GPU machine and <code>load_weights</code> on the CPU machine."}, {"owner": {"reputation": 315, "user_id": 694958, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/58fce3584fb08c5276aced4ab0dd0373?s=128&d=identicon&r=PG", "display_name": "lhdgriver", "link": "https://stackoverflow.com/users/694958/lhdgriver"}, "reply_to_user": {"reputation": 13381, "user_id": 1531463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QVFg1.jpg?s=128&g=1", "display_name": "Yu-Yang", "link": "https://stackoverflow.com/users/1531463/yu-yang"}, "edited": false, "score": 0, "creation_date": 1531016723, "post_id": 48086014, "comment_id": 89436614, "body": "There seems no work around, @Yu-Yang&#39;s solution works"}], "answers": [{"comments": [{"owner": {"reputation": 33471, "user_id": 1420279, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c799e8b3d14c4f149ce71455109f17eb?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1420279/antimony"}, "edited": false, "score": 1, "creation_date": 1551244822, "post_id": 48087047, "comment_id": 96565141, "body": "Replacing CuDNNLSTM layers with LSTM layers won&#39;t give the right results because the format is different."}, {"owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1579117391, "post_id": 48087047, "comment_id": 105662916, "body": "Yes, you can. Checkout <a href=\"https://stackoverflow.com/a/59758489/4913143\">this answer</a>"}], "tags": [], "owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "is_accepted": true, "score": 5, "last_activity_date": 1515025410, "creation_date": 1515025410, "answer_id": 48087047, "question_id": 48086014, "link": "https://stackoverflow.com/questions/48086014/keras-model-with-cudnnlstm-layers-doesnt-work-on-production-server/48087047#48087047", "title": "Keras Model With CuDNNLSTM Layers Doesn&#39;t Work on Production Server", "body": "<p>No, you can't, CuDNN requires the use of a CUDA GPU. You have to replace your CuDNNLSTM layers with standard LSTM ones.</p>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1579117294, "post_id": 56121756, "comment_id": 105662871, "body": "it doesn&#39;t solve the issue. without GPU it will be still the same. Checkout <a href=\"https://stackoverflow.com/a/59758489/4913143\">this answer</a>"}], "tags": [], "owner": {"reputation": 122, "user_id": 9463758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/650f8643c99fbd1f4ffa670e40879c1a?s=128&d=identicon&r=PG", "display_name": "Vahab", "link": "https://stackoverflow.com/users/9463758/vahab"}, "is_accepted": false, "score": -2, "last_activity_date": 1557797473, "last_edit_date": 1557797473, "creation_date": 1557796443, "answer_id": 56121756, "question_id": 48086014, "link": "https://stackoverflow.com/questions/48086014/keras-model-with-cudnnlstm-layers-doesnt-work-on-production-server/56121756#56121756", "title": "Keras Model With CuDNNLSTM Layers Doesn&#39;t Work on Production Server", "body": "<p>try</p>\n\n<pre><code>pip install tensorflow-gpu\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "edited": false, "score": 0, "creation_date": 1579117359, "post_id": 59594569, "comment_id": 105662901, "body": "need to change also the <code>reccurrent_activation</code> checkout <a href=\"https://stackoverflow.com/a/59758489/4913143\">this answer</a>"}], "tags": [], "owner": {"reputation": 64, "user_id": 10292503, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fQRk0Jj4unM/AAAAAAAAAAI/AAAAAAAAA2A/jVQUBh2huFI/photo.jpg?sz=128", "display_name": "Derek Pankaew", "link": "https://stackoverflow.com/users/10292503/derek-pankaew"}, "is_accepted": false, "score": 0, "last_activity_date": 1578169747, "creation_date": 1578169747, "answer_id": 59594569, "question_id": 48086014, "link": "https://stackoverflow.com/questions/48086014/keras-model-with-cudnnlstm-layers-doesnt-work-on-production-server/59594569#59594569", "title": "Keras Model With CuDNNLSTM Layers Doesn&#39;t Work on Production Server", "body": "<p>You definitely <strong>can</strong> train on CuDNNLSTM, then run inference on LSTM.</p>\n\n<p>The trick is to change your layer architecture from CuDNNLSTM to LSTM in your .json file, before loading your h5 file. The 2x bias in the CuDNNLSTM weights will automatically convert when you load your h5 file, but Keras <strong>won't</strong> automatically change your .json file for you.</p>\n\n<p>In other words, just open up your saved .json model, change all instances of CuDNNLSTM to LSTM, save the .json file, then load your .h5 file. You should then be able to run inference with the model.</p>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 1914616, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9aaf37a03214ba18e7874e90d2a41dfb?s=128&d=identicon&r=PG", "display_name": "HaiWang", "link": "https://stackoverflow.com/users/1914616/haiwang"}, "edited": false, "score": 0, "creation_date": 1589278477, "post_id": 59758489, "comment_id": 109223018, "body": "amazing method. load weights from gpu model to a cpu empty model, it works for me."}], "tags": [], "owner": {"reputation": 907, "user_id": 4913143, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/10206877151395113/picture?type=large", "display_name": "Rodrigo Laguna", "link": "https://stackoverflow.com/users/4913143/rodrigo-laguna"}, "is_accepted": false, "score": 2, "last_activity_date": 1579117118, "creation_date": 1579117118, "answer_id": 59758489, "question_id": 48086014, "link": "https://stackoverflow.com/questions/48086014/keras-model-with-cudnnlstm-layers-doesnt-work-on-production-server/59758489#59758489", "title": "Keras Model With CuDNNLSTM Layers Doesn&#39;t Work on Production Server", "body": "<p><strong>short answer:</strong>\nYes, you can. </p>\n\n<p>Just need to re create your architecture with LSTM layer instead of CuDNNLSTM.</p>\n\n<p>Your code should be the following:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>x = LSTM(128, return_sequences=True, recurrent_activation='sigmoid')(inputs)\nx = Dropout(0.2)(x)\nx = LSTM(128, return_sequences=False, recurrent_activation='sigmoid')(x)\nx = Dropout(0.2)(x)\npredictions = Dense(1, activation='tanh')(x)\nmodel = Model(inputs=inputs, outputs=predictions)\n</code></pre>\n\n<p>and then</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>model.load_weights(path_to_your_weights_file)\n</code></pre>\n\n<p>Notice the <code>recurrent_activation='sigmoid'</code>. This is very important.</p>\n\n<p><strong>Long explanation:</strong></p>\n\n<p>LSTM and CuDNNLSTM are compatible eacth other, so you can load the weigths from one to another with no problem. However, their default values for the activation function are slightly different. Some times it leads to small differences between one and the other, but it may lead to very big ones, as reported <a href=\"https://github.com/keras-team/keras/issues/9463\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>[The activation values] for CuDNNLSTM [...] are hard-coded in CuDNN and cannot be changed from Keras. They correspond to activation='tanh' and recurrent_activation='sigmoid' (slightly different than default hard_sigmoid in [LSTM] Keras). <a href=\"https://github.com/keras-team/keras/issues/8860#issuecomment-358627597\" rel=\"nofollow noreferrer\">ref</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4699741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00509eb66477c71ff924fa0cfe1b85c9?s=128&d=identicon&r=PG&f=1", "display_name": "HeistMaster", "link": "https://stackoverflow.com/users/4699741/heistmaster"}, "is_accepted": false, "score": 1, "last_activity_date": 1584965995, "creation_date": 1584965995, "answer_id": 60813446, "question_id": 48086014, "link": "https://stackoverflow.com/questions/48086014/keras-model-with-cudnnlstm-layers-doesnt-work-on-production-server/60813446#60813446", "title": "Keras Model With CuDNNLSTM Layers Doesn&#39;t Work on Production Server", "body": "<p>The easiest way to solve this would be to\n   <strong>Replace the CuDNN layers with regular keras layer,\n   ie. convert CudNNLSTM to LSTM ,etc</strong>\n<br><br> If using Google Colab go to Runtime>Change Runtime Settings and set the accelerator to <strong>GPU</strong></p>\n"}], "owner": {"reputation": 669, "user_id": 1385975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/981b12d03ab88a85631a356f07169da1?s=128&d=identicon&r=PG", "display_name": "amba88", "link": "https://stackoverflow.com/users/1385975/amba88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9670, "favorite_count": 1, "accepted_answer_id": 48087047, "answer_count": 5, "score": 4, "last_activity_date": 1584965995, "creation_date": 1515018038, "last_edit_date": 1515040308, "question_id": 48086014, "link": "https://stackoverflow.com/questions/48086014/keras-model-with-cudnnlstm-layers-doesnt-work-on-production-server", "title": "Keras Model With CuDNNLSTM Layers Doesn&#39;t Work on Production Server", "body": "<p>I have used an AWS p3 instance to train the following model using GPU acceleration:</p>\n\n<pre><code>x = CuDNNLSTM(128, return_sequences=True)(inputs)\nx = Dropout(0.2)(x)\nx = CuDNNLSTM(128, return_sequences=False)(x)\nx = Dropout(0.2)(x)\npredictions = Dense(1, activation='tanh')(x)\nmodel = Model(inputs=inputs, outputs=predictions)\n</code></pre>\n\n<p>After training I saved the model with Keras' <code>save_model</code> function and moved it to a separate production server that doesn't have a GPU.</p>\n\n<p>When I attempt to predict using the model on the production server it fails with the following error:</p>\n\n<blockquote>\n  <p>No OpKernel was registered to support Op 'CudnnRNN' with these attrs.  Registered devices: [CPU], Registered kernels:\n    </p>\n</blockquote>\n\n<p>I'm guessing this is because the production server doesn't have GPU support, but I was hoping this wouldn't be a problem. Is there any way I can use this model on a production server without a GPU?</p>\n"}, {"tags": ["python", "beautifulsoup", "python-requests", "html-parsing"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 8816168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1592830817447917/picture?type=large", "display_name": "Cristian Favaro Carri&#231;o", "link": "https://stackoverflow.com/users/8816168/cristian-favaro-carri%c3%a7o"}, "edited": false, "score": 0, "creation_date": 1515030796, "post_id": 48086059, "comment_id": 83150175, "body": "Both were great! Thank you! But I think the second answer is a more safety way... With that, I can correct the entire html, right? I think i can use it as a function to correct futures problems."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 2, "last_activity_date": 1515018293, "creation_date": 1515018293, "answer_id": 48086059, "question_id": 48085980, "link": "https://stackoverflow.com/questions/48085980/how-to-get-information-from-broken-key-arguments-bs4-and-requestspython/48086059#48086059", "title": "How to get information from broken key arguments - BS4 and Requests(Python)", "body": "<p>That is just a non-well-formed HTML which <code>BeautifulSoup</code> is still capable of parsing. It's just that <code>attribute4=\"Domestic Total\"</code> is never true since it's not the space that is between <code>Domestic</code> and <code>Total</code> but rather a newline character.</p>\n\n<p><strong>One way</strong> is to workaround with the <code>find()</code> method, using <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-function\" rel=\"nofollow noreferrer\">a function</a> for the <code>attribute4</code> attribute value, split and re-join which would effectively remove all newlines and replace them with spaces:</p>\n\n<pre><code>In [19]: soup.find(\"m1_attribute_group2\", attribute4=lambda x: x and \" \".join(x.split()) == \"Domestic Total\")\nOut[19]: \n&lt;m1_attribute_group2 attribute4=\"Domestic\n    Total\"&gt;\n&lt;cell cell_value4=\"314.35\"&gt;&lt;/cell&gt;\n&lt;/m1_attribute_group2&gt;\n</code></pre>\n\n<p>You can then generalize it as:</p>\n\n<pre><code>def filter_attribute(attr_value):\n   def f(attr):\n      return attr and \" \".join(attr.split()) == attr_value\n   return f\n</code></pre>\n\n<p>And use:</p>\n\n<pre><code>In [23]: soup.find(\"m1_attribute_group2\", attribute4=filter_attribute(\"Domestic Total\"))\nOut[23]: \n&lt;m1_attribute_group2 attribute4=\"Domestic\n    Total\"&gt;\n&lt;cell cell_value4=\"314.35\"&gt;&lt;/cell&gt;\n&lt;/m1_attribute_group2&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Another approach</strong> would be to use <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#a-regular-expression\" rel=\"nofollow noreferrer\">a regular expression</a> and <code>\\s+</code> as a delimiter between the words, where <code>\\s+</code> means \"one or more space characters including newline\":</p>\n\n<pre><code>In [24]: soup.find(\"m1_attribute_group2\", attribute4=re.compile(r\"Domestic\\s+Total\"))\nOut[24]: \n&lt;m1_attribute_group2 attribute4=\"Domestic\n    Total\"&gt;\n&lt;cell cell_value4=\"314.35\"&gt;&lt;/cell&gt;\n&lt;/m1_attribute_group2&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 8816168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1592830817447917/picture?type=large", "display_name": "Cristian Favaro Carri&#231;o", "link": "https://stackoverflow.com/users/8816168/cristian-favaro-carri%c3%a7o"}, "edited": false, "score": 0, "creation_date": 1515029836, "post_id": 48086145, "comment_id": 83149964, "body": "Thanks, man! I&#39;m trying both right now. I&#39;ll keep you posted. But I think this second approach it better. I think is a good way to do with every html before work with it, isn`t it?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 125, "user_id": 8816168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1592830817447917/picture?type=large", "display_name": "Cristian Favaro Carri&#231;o", "link": "https://stackoverflow.com/users/8816168/cristian-favaro-carri%c3%a7o"}, "edited": false, "score": 0, "creation_date": 1515030471, "post_id": 48086145, "comment_id": 83150103, "body": "@CristianFavaroCarri&#231;o in my experience, this particular case (with newlines in the attribute values) is quite rare. I would only apply if needed. Thanks."}, {"owner": {"reputation": 125, "user_id": 8816168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1592830817447917/picture?type=large", "display_name": "Cristian Favaro Carri&#231;o", "link": "https://stackoverflow.com/users/8816168/cristian-favaro-carri%c3%a7o"}, "edited": false, "score": 0, "creation_date": 1515030609, "post_id": 48086145, "comment_id": 83150135, "body": "This worked pretty well! Thank you very much! But I have to confess that I couldn&#39;t understand the code. Got to study more. Is this regex?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 125, "user_id": 8816168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1592830817447917/picture?type=large", "display_name": "Cristian Favaro Carri&#231;o", "link": "https://stackoverflow.com/users/8816168/cristian-favaro-carri%c3%a7o"}, "edited": false, "score": 0, "creation_date": 1515033189, "post_id": 48086145, "comment_id": 83150660, "body": "@CristianFavaroCarri&#231;o nope, this is just basic string replacement. Going over all the tags and replacing the newlines in attribute values. Thanks."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 0, "last_activity_date": 1515018792, "creation_date": 1515018792, "answer_id": 48086145, "question_id": 48085980, "link": "https://stackoverflow.com/questions/48085980/how-to-get-information-from-broken-key-arguments-bs4-and-requestspython/48086145#48086145", "title": "How to get information from broken key arguments - BS4 and Requests(Python)", "body": "<p>A more conservative approach would be to not even try to workaround the problem but <strong>pre-process the HTML to get rid of the newlines in the element attributes</strong>. Coincidentally, this is exactly <a href=\"https://stackoverflow.com/a/47879227/771848\">the problem we've recently solved here</a>:</p>\n\n<pre><code>In [25]: for tag in soup():\n    ...:     tag.attrs = {\n    ...:         attr: [\" \".join(attr_value.replace(\"\\n\", \" \").split()) for attr_value in value] \n    ...:               if isinstance(value, list)\n    ...:               else \" \".join(value.replace(\"\\n\", \" \").split())\n    ...:         for attr, value in tag.attrs.items()\n    ...:     }\n    ...:     \n\nIn [26]: soup.find(\"m1_attribute_group2\", {\"attribute4\":\"Domestic Total\"})\nOut[26]: \n&lt;m1_attribute_group2 attribute4=\"Domestic Total\"&gt;\n&lt;cell cell_value4=\"314.35\"&gt;&lt;/cell&gt;\n&lt;/m1_attribute_group2&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 0, "creation_date": 1515046969, "post_id": 48086216, "comment_id": 83153879, "body": "Try this as well if I didn&#39;t misunderstand your requirement."}], "tags": [], "owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "is_accepted": false, "score": 0, "last_activity_date": 1515069800, "last_edit_date": 1515069800, "creation_date": 1515019269, "answer_id": 48086216, "question_id": 48085980, "link": "https://stackoverflow.com/questions/48085980/how-to-get-information-from-broken-key-arguments-bs4-and-requestspython/48086216#48086216", "title": "How to get information from broken key arguments - BS4 and Requests(Python)", "body": "<p>Apart from what sir alecxe has already shown, you can do something like below as well if your requirement is to find any attribute correlated to it's earlier pair:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nsoup = BeautifulSoup(content,\"lxml\")\nfor item in soup.select(\"m1_region_group2 m1_attribute_group2\"):\n    post = ' '.join(item['attribute4'].split())\n    if \"Beginning Stocks\" in post:  #try to see if it misses any attribute\n        val = item.find_next(\"cell\")['cell_value4']\n        print(val)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>77.73\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 8816168, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1592830817447917/picture?type=large", "display_name": "Cristian Favaro Carri&#231;o", "link": "https://stackoverflow.com/users/8816168/cristian-favaro-carri%c3%a7o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "accepted_answer_id": 48086145, "answer_count": 3, "score": 1, "last_activity_date": 1515069800, "creation_date": 1515017859, "last_edit_date": 1515018619, "question_id": 48085980, "link": "https://stackoverflow.com/questions/48085980/how-to-get-information-from-broken-key-arguments-bs4-and-requestspython", "title": "How to get information from broken key arguments - BS4 and Requests(Python)", "body": "<p>I'm trying to get some information from an HTML page like this one using python, Requests and BeautifulSoup. </p>\n\n<p>My issue is that I cant get the key arguments (like \"Beginning Stocks\" and \"Domestic Crush\") with the BeautifulSoup because they have a wrong \"enter\" broking the name. </p>\n\n<p>It's weird because at the website they are not \"broke\".\nI've never seen this before. </p>\n\n<pre><code>    &lt;m1_region_group2 region4=\"World  2/\"&gt;\n        &lt;m1_attribute_group2_collection&gt;\n            &lt;m1_attribute_group2 attribute4=\"Beginning\n    Stocks\"&gt;\n                &lt;cell cell_value4=\"77.73\"&gt;&lt;/cell&gt;\n            &lt;/m1_attribute_group2&gt;\n            &lt;m1_attribute_group2 attribute4=\"Production\"&gt;\n                &lt;cell cell_value4=\"313.77\"&gt;&lt;/cell&gt;\n            &lt;/m1_attribute_group2&gt;\n            &lt;m1_attribute_group2 attribute4=\"Imports\"&gt;\n                &lt;cell cell_value4=\"133.33\"&gt;&lt;/cell&gt;\n            &lt;/m1_attribute_group2&gt;\n            &lt;m1_attribute_group2 attribute4=\"Domestic\n    Crush\"&gt;\n                &lt;cell cell_value4=\"275.36\"&gt;&lt;/cell&gt;\n            &lt;/m1_attribute_group2&gt;\n            &lt;m1_attribute_group2 attribute4=\"Domestic\n    Total\"&gt;\n                &lt;cell cell_value4=\"314.35\"&gt;&lt;/cell&gt;\n            &lt;/m1_attribute_group2&gt;\n            &lt;m1_attribute_group2 attribute4=\"Exports\"&gt;\n                &lt;cell cell_value4=\"132.55\"&gt;&lt;/cell&gt;\n            &lt;/m1_attribute_group2&gt;\n            &lt;m1_attribute_group2 attribute4=\"Ending\n    Stocks\"&gt;\n                &lt;cell cell_value4=\"77.92\"&gt;&lt;/cell&gt;\n            &lt;/m1_attribute_group2&gt;\n        &lt;/m1_attribute_group2_collection&gt;\n    &lt;/m1_region_group2&gt;\n</code></pre>\n\n<p>The 'Imports\" and \"production\" arguments works well. For exemple:</p>\n\n<pre><code>    x.find(\"m1_attribute_group2\", {\"attribute4\":\"Imports\"}).find(\"cell\")[\"cell_value4\"]\n</code></pre>\n\n<p>It returns '133.33'.</p>\n\n<p>But when I try to get Domestic Total the result is \"None\", like BS couldn't find the argument. </p>\n\n<pre><code>   z = x.find(\"m1_attribute_group2\", {\"attribute4\":\"Domestic Total\"})\n</code></pre>\n\n<p>Does anyone know what is going on? \nHow can I fix it? </p>\n\n<p>Mac OS Hight Sierra / Python3.6</p>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1515018026, "post_id": 48085979, "comment_id": 83146901, "body": "What is &quot;do something&quot;?  In Python you often don&#39;t need to do this at all because you can do something better instead (for instance something like <code>itertools.combinations</code>).  But it depends what you&#39;re actually doing in the loop."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1515019928, "post_id": 48085979, "comment_id": 83147546, "body": "Please not, that Python for-loops do not work like Java/C-style for-loops. Most of the time it can replace a c-style loop, but not always (at least, cleanly). They work like java for-each loops. Take a look at <a href=\"https://stackoverflow.com/a/47348171/5014455\">this answer</a> to a related question."}], "answers": [{"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": true, "score": 4, "last_activity_date": 1515018135, "creation_date": 1515018135, "answer_id": 48086031, "question_id": 48085979, "link": "https://stackoverflow.com/questions/48085979/nested-loops-where-inner-loop-variable-depends-on-outer-loop-variable-python/48086031#48086031", "title": "Nested loops where inner loop variable depends on outer loop variable, Python", "body": "<pre><code>for i in range(0, n):\n    for j in range(i, n):\n        #do something\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 703, "user_id": 8787505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zY7CD.jpg?s=128&g=1", "display_name": "1313e", "link": "https://stackoverflow.com/users/8787505/1313e"}, "edited": false, "score": 0, "creation_date": 1515018638, "post_id": 48086036, "comment_id": 83147149, "body": "Yes, this is in my opinion closest to the what the OP wants while also staying Pythonic."}], "tags": [], "owner": {"reputation": 2932, "user_id": 5770658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e3e0c78a33e4620eb8436e182535e2?s=128&d=identicon&r=PG&f=1", "display_name": "internet_user", "link": "https://stackoverflow.com/users/5770658/internet-user"}, "is_accepted": false, "score": 3, "last_activity_date": 1515018188, "creation_date": 1515018188, "answer_id": 48086036, "question_id": 48085979, "link": "https://stackoverflow.com/questions/48085979/nested-loops-where-inner-loop-variable-depends-on-outer-loop-variable-python/48086036#48086036", "title": "Nested loops where inner loop variable depends on outer loop variable, Python", "body": "<p>In general, the Python equivalent of a <code>for(i = a;i &lt; b;i++)</code> loop is <code>for i in range(a, b)</code>. Applying this to your problem, you get</p>\n\n<pre><code>for i in range(0, n): # usually just range(n), but for consistency\n  for j in range(i, n):\n    # stuff\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1515018273, "post_id": 48086049, "comment_id": 83147023, "body": "You can, but that&#39;s not very pythonic."}], "tags": [], "owner": {"reputation": 885, "user_id": 1251220, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef0b83959c5ad0bf18f1dcd57c678792?s=128&d=identicon&r=PG", "display_name": "Walid Da.", "link": "https://stackoverflow.com/users/1251220/walid-da"}, "is_accepted": false, "score": -2, "last_activity_date": 1515018323, "last_edit_date": 1515018323, "creation_date": 1515018243, "answer_id": 48086049, "question_id": 48085979, "link": "https://stackoverflow.com/questions/48085979/nested-loops-where-inner-loop-variable-depends-on-outer-loop-variable-python/48086049#48086049", "title": "Nested loops where inner loop variable depends on outer loop variable, Python", "body": "<p>You can do it as the following:</p>\n\n<pre><code>i = 0\nwhile i &lt; n:\n     j = i\n     while j &lt; n:\n          # something\n           j += 1\n      i += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 2, "last_activity_date": 1515019557, "creation_date": 1515019557, "answer_id": 48086261, "question_id": 48085979, "link": "https://stackoverflow.com/questions/48085979/nested-loops-where-inner-loop-variable-depends-on-outer-loop-variable-python/48086261#48086261", "title": "Nested loops where inner loop variable depends on outer loop variable, Python", "body": "<p>In your added comment, you say you want to \"compare elements at index i and j\".  In general it is not Pythonic to use <code>for</code> loops to loop over an <em>index</em>.  Instead, just loop over the elements.  This can be done for instance with <code>itertools.combinations</code> in some circumstances.  Don't do this:</p>\n\n<pre><code>for i in range(len(some_list)):\n    for j in range(i+1, len(some_list)):\n        compare(some_list[i], some_list[j])\n</code></pre>\n\n<p>Instead, do this:</p>\n\n<pre><code>for item1, item2 in itertools.combinations(some_list, 2):\n    compare(item1, item2)\n</code></pre>\n\n<p>Whether you can do this in your specific case depends on what you're doing.  But the point is that in Python, before trying to write a loop over indices, you should first think whether you can just write a loop over the elements, and eliminate the indices altogether from your code.</p>\n"}], "owner": {"reputation": 5988, "user_id": 2077201, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/BiYVI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2077201/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1450, "favorite_count": 0, "accepted_answer_id": 48086031, "answer_count": 4, "score": -2, "last_activity_date": 1515019557, "creation_date": 1515017857, "last_edit_date": 1515018321, "question_id": 48085979, "link": "https://stackoverflow.com/questions/48085979/nested-loops-where-inner-loop-variable-depends-on-outer-loop-variable-python", "title": "Nested loops where inner loop variable depends on outer loop variable, Python", "body": "<p>In Java, if I want to create nested loops where the inner loop variable depends on the outer loop variable (e.g. in typical bubble sort implementations), I can do something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for(int i=0; i &lt; n; i++){\n     for(int j=i; j &lt; n; j++){\n         // Do something, e.g compare elements at index i and j\n     }\n}\n</code></pre>\n\n<p>What's the most \"Pythonic\" way to accomplish this in Python? I'm having trouble when I try to set the inner loop variable to the outer loop variable. For example, this doesn't work:</p>\n\n<pre><code>for i in range(n):\n     for j=i in range(n):\n         # Do something, e.g compare elements at index i and j\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1515017973, "post_id": 48085956, "comment_id": 83146877, "body": "map, merge, join"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1515018331, "post_id": 48085956, "comment_id": 83147043, "body": "Use IntervalIndex if it is not already so (pd.cut returns IntervalIndex but you are using private functions so I am not sure)."}], "answers": [{"comments": [{"owner": {"reputation": 3887, "user_id": 7914637, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x_BhuHcC8Ww/AAAAAAAAAAI/AAAAAAAAABg/hiPWIjRXbhI/photo.jpg?sz=128", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7914637/alexander"}, "edited": false, "score": 0, "creation_date": 1515041001, "post_id": 48086121, "comment_id": 83152149, "body": "While the code snippet may solve the question it is better to provide some description that discloses issue cause and proposed solution."}], "tags": [], "owner": {"reputation": 1825, "user_id": 3922132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h5dMq.jpg?s=128&g=1", "display_name": "AidanGawronski", "link": "https://stackoverflow.com/users/3922132/aidangawronski"}, "is_accepted": false, "score": 0, "last_activity_date": 1515018609, "creation_date": 1515018609, "answer_id": 48086121, "question_id": 48085956, "link": "https://stackoverflow.com/questions/48085956/how-to-assign-a-number-to-a-value-falling-in-a-certain-bin/48086121#48086121", "title": "How to assign a number to a value falling in a certain bin", "body": "<pre><code>result['assigned'] = np.where(result = '[0, 78.3]', 1, 0)\nresult['assigned'] = np.where(result = '(78.3, 156.6]', 2, result['assigned'])\nresult['assigned'] = np.where(result = '(156.6, 234.9]', 3, result['assigned'])\n...\n</code></pre>\n"}], "owner": {"reputation": 3843, "user_id": 2735009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/38a795fbd4a70b92d3ea5596dc8beb6e?s=128&d=identicon&r=PG&f=1", "display_name": "Patthebug", "link": "https://stackoverflow.com/users/2735009/patthebug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515018609, "creation_date": 1515017706, "question_id": 48085956, "link": "https://stackoverflow.com/questions/48085956/how-to-assign-a-number-to-a-value-falling-in-a-certain-bin", "title": "How to assign a number to a value falling in a certain bin", "body": "<p>I have a continuous variable and I am trying to create 10 bins on this variable. This variable has more than 50% zero values so I create bins that are uneven in size using the following code:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport pandas.core.algorithms as algos\nfrom pandas import Series\nbins = algos.quantile(np.unique(df['highlight']), np.linspace(0, 1, 11))\nresult = pd.tools.tile._bins_to_cuts(df['highlight'], bins, include_lowest=True)\nresult.value_counts()\n\n[0, 78.3]         2152235\n(78.3, 156.6]       93257\n(156.6, 234.9]      37539\n(234.9, 313.2]      17740\n(313.2, 391.5]      11781\n(391.5, 478.8]       8334\n(478.8, 577.2]       7503\n(577.2, 711.4]       6216\n(711.4, 890.4]       6184\n(890.4, 4972]        5539\nName: highlight, dtype: int64\n</code></pre>\n\n<p>As we can see I have the different bins created, now I just want to assign a number to each bin and therefore to the values in the variable. I eventually want the values replaced by the bin number in the same variable.</p>\n\n<p>For example: </p>\n\n<p>A value of 38 will get bin #1</p>\n\n<p>A value of 97 will get bin #2</p>\n\n<p>and so on..</p>\n\n<p>How do I do that? </p>\n"}, {"tags": ["python", "windows", "multiprocessing"], "comments": [{"owner": {"reputation": 1487, "user_id": 3901060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f386743bd29ff8c0ab6e1637938a795?s=128&d=identicon&r=PG&f=1", "display_name": "FamousJameous", "link": "https://stackoverflow.com/users/3901060/famousjameous"}, "edited": false, "score": 1, "creation_date": 1515017726, "post_id": 48085929, "comment_id": 83146788, "body": "Related: <a href=\"https://stackoverflow.com/q/14124588/3901060\">stackoverflow.com/q/14124588/3901060</a>"}, {"owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "edited": false, "score": 0, "creation_date": 1515017761, "post_id": 48085929, "comment_id": 83146798, "body": "Can you use threads and hold 4GB in your system? (this are two questions, actually) Because one thing that comes to mind is using threads that do share memory (as opposed to processes where you&#39;re forced to feed each 4GB dataset to each process)"}, {"owner": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "edited": false, "score": 1, "creation_date": 1515017837, "post_id": 48085929, "comment_id": 83146825, "body": "I&#39;d rather split the set into chunks and do the lookup for a single number in different processes (for each chunk) at the same time."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1515018037, "post_id": 48085929, "comment_id": 83146906, "body": "Use a <a href=\"https://pypi.python.org/pypi/bloom-filter/1.3\" rel=\"nofollow noreferrer\">Bloom filter</a>? Bloom filters can have false positives, so use this data structure to produce a candidate list, then pass this (presumably much shorter) list through the traditional set in a single process to remove the false positives."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1515018106, "post_id": 48085929, "comment_id": 83146954, "body": "@kindall Still with a bloom filter, you need to share it (and duplicate in RAM) to the different processes, right? Maybe I missed something, but how does such a filter solve the share-variable-to-different-process problem? Thanks for pointing a bloom filter by the way."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "edited": false, "score": 0, "creation_date": 1515018204, "post_id": 48085929, "comment_id": 83146999, "body": "@BorrajaX: no, with threads, it will still only 1 core of my 4-core CPU, which is a shame."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1515019630, "post_id": 48085929, "comment_id": 83147459, "body": "It&#39;s true that you&#39;d still need to share a Bloom filter among processes, but it should be much smaller."}], "answers": [{"comments": [{"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1515019441, "post_id": 48086147, "comment_id": 83147400, "body": "It seems to work, however <a href=\"https://pythonhosted.org/joblib/parallel.html\" rel=\"nofollow noreferrer\">this leads</a> to a probelm: <code>Under Windows, it is important to protect the main loop of code to avoid recursive spawning of subprocesses when using joblib.Parallel. In other words, you should be writing code like this: [...] No code should run outside of the \u201cif __name__ == \u2018__main__\u2019\u201d blocks, only imports and definitions.</code>."}, {"owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "reply_to_user": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1515019647, "post_id": 48086147, "comment_id": 83147466, "body": "@Basj Perhaps I have missed something. Aside from the definition of <code>S</code> what exactly is running outside of the main loop?"}, {"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 0, "creation_date": 1515031080, "post_id": 48086147, "comment_id": 83150234, "body": "@Grr: The code is reasonable. However, on Windows, each process will need to independently create a new 4GB <code>S</code>, because each <code>Process</code> instance loads that main.py file. There&#39;s no <code>fork</code> so no chance to share one big copy-on-write <code>S</code> across the four subprocesses. (<code>S</code> won&#39;t exist in the sub-processes, in the second version where <code>S</code> is set under <code>if __name__ == &#39;__main__&#39;:</code>.)"}], "tags": [], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "is_accepted": false, "score": 0, "last_activity_date": 1515020255, "last_edit_date": 1515020255, "creation_date": 1515018812, "answer_id": 48086147, "question_id": 48085929, "link": "https://stackoverflow.com/questions/48085929/test-if-a-number-is-member-of-a-4gb-set-in-each-process-without-duplicating-se/48086147#48086147", "title": "Test if a number is member of a 4GB set, in each process, without duplicating set", "body": "<p>What about using <a href=\"https://pythonhosted.org/joblib/generated/joblib.Parallel.html\" rel=\"nofollow noreferrer\"><code>joblib.Parallel</code></a>?</p>\n\n<pre><code>S = set(range(50000000)  # ~ 3.5 Gb\n\ndef somefunc():\n    a = randint(0, 100)           # simplified example\n    print a in S\n    return \n\ndef main():\n    out = Parallel(n_jobs=4, verbose=1)(\n        delayed(somefunc)() for i in range(50))\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>I may be out of my league here, but this doesn't duplicate the set. In testing this out the memory used by Python3.6 for this script never breaches 4 Gb.</p>\n\n<p>Alternatively you could just use S as a global variable without passing it to <code>somefunc</code>:</p>\n\n<pre><code>from multiprocessing import Process\nfrom random import randint\n\ndef somefunc():\n    a = randint(0, 100)\n    print(a in S)\n    return\n\ndef main():  # here it's a 4 GB set in my real program\n\n    for i in range(4):\n       t = Process(target=somefunc)\n       t.start()\n    t.join()\n\nif __name__ == '__main__':\n    S = set(range(50000000))\n    main()\n</code></pre>\n\n<p>As far as I can tell from testing both of these methods produce the correct output and neither duplicate <code>S</code>.</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515020255, "creation_date": 1515017521, "last_edit_date": 1515019407, "question_id": 48085929, "link": "https://stackoverflow.com/questions/48085929/test-if-a-number-is-member-of-a-4gb-set-in-each-process-without-duplicating-se", "title": "Test if a number is member of a 4GB set, in each process, without duplicating set", "body": "<p>For each of the 4 processes of my parallelized big-computation job, I would like to test if some number is member of a big 4GB set <code>S</code>.</p>\n\n<p>When using this method, the problem is that <code>t = Process(target=somefunc,args=(S,))</code> passes the 4GB of data to each process, and this is too big for my computer (4*4 = 16 GB)!</p>\n\n<p>How to use <code>S</code> as a global variable in this multiprocessing job, instead of \nhaving to pass (and duplicate) <code>S</code> to each process?</p>\n\n<pre><code>from multiprocessing import Process\nfrom random import randint\n\ndef somefunc(S):\n    a = randint(0, 100)           # simplified example\n    print a in S\n    return \n\ndef main():\n    S = set([1, 2, 7, 19, 13])   # here it's a 4 GB set in my real program\n\n    for i in range(4):\n       t = Process(target=somefunc,args=(S,))\n       t.start()\n    t.join()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Note: I've already thought about using a database + client/server (or even just SQlite), but I really want to use the speed of set/dict lookup, which is faster (in order of magnitude) than database call.</p>\n"}, {"tags": ["python", "html", "scrapy", "screen-scraping", "parsel"], "comments": [{"owner": {"reputation": 22094, "user_id": 975755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ecf9886ca862ed6fad3de7ed1a9e1?s=128&d=identicon&r=PG", "display_name": "stranac", "link": "https://stackoverflow.com/users/975755/stranac"}, "edited": false, "score": 0, "creation_date": 1515112683, "post_id": 48085924, "comment_id": 83186915, "body": "You shouldn&#39;t literally have <code>file:&#47;&#47;URI</code> there... here&#39;s a link explaining what a file URI is: <a href=\"https://en.wikipedia.org/wiki/File_URI_scheme\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/File_URI_scheme</a> You should use one matching your local file"}, {"owner": {"reputation": 29, "user_id": 8936043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TihTMeyhnFY/AAAAAAAAAAI/AAAAAAAAAAU/BKLw1mLypq8/photo.jpg?sz=128", "display_name": "Natasha Ting", "link": "https://stackoverflow.com/users/8936043/natasha-ting"}, "reply_to_user": {"reputation": 22094, "user_id": 975755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ecf9886ca862ed6fad3de7ed1a9e1?s=128&d=identicon&r=PG", "display_name": "stranac", "link": "https://stackoverflow.com/users/975755/stranac"}, "edited": false, "score": 0, "creation_date": 1515191821, "post_id": 48085924, "comment_id": 83221261, "body": "yeah...I put the correct file structure in my codes, and when tested with scrapy shell, it worked."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 8936043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TihTMeyhnFY/AAAAAAAAAAI/AAAAAAAAAAU/BKLw1mLypq8/photo.jpg?sz=128", "display_name": "Natasha Ting", "link": "https://stackoverflow.com/users/8936043/natasha-ting"}, "edited": false, "score": 0, "creation_date": 1515086102, "post_id": 48086616, "comment_id": 83175702, "body": "I wanted to use parsel specifically because I already have that .html file in my spider project, so it will bypass that 404 or other url crawling error. I&#39;m not sure how to point to it, though."}, {"owner": {"reputation": 22094, "user_id": 975755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ecf9886ca862ed6fad3de7ed1a9e1?s=128&d=identicon&r=PG", "display_name": "stranac", "link": "https://stackoverflow.com/users/975755/stranac"}, "reply_to_user": {"reputation": 29, "user_id": 8936043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TihTMeyhnFY/AAAAAAAAAAI/AAAAAAAAAAU/BKLw1mLypq8/photo.jpg?sz=128", "display_name": "Natasha Ting", "link": "https://stackoverflow.com/users/8936043/natasha-ting"}, "edited": false, "score": 0, "creation_date": 1515092074, "post_id": 48086616, "comment_id": 83178689, "body": "Scrapy will have no problem parsing a local file, just give it a file:// URI"}, {"owner": {"reputation": 29, "user_id": 8936043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TihTMeyhnFY/AAAAAAAAAAI/AAAAAAAAAAU/BKLw1mLypq8/photo.jpg?sz=128", "display_name": "Natasha Ting", "link": "https://stackoverflow.com/users/8936043/natasha-ting"}, "edited": false, "score": 0, "creation_date": 1515102370, "post_id": 48086616, "comment_id": 83183630, "body": "Thank you, your answer addressed the initial concern of using parsel in Scrapy. Was wondering if you can take a look at my most recent update to the question, though, as when I try <code>file:&#47;&#47;URI</code> , it is still not working. I suspect it&#39;s my spider code..."}, {"owner": {"reputation": 22094, "user_id": 975755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ecf9886ca862ed6fad3de7ed1a9e1?s=128&d=identicon&r=PG", "display_name": "stranac", "link": "https://stackoverflow.com/users/975755/stranac"}, "reply_to_user": {"reputation": 29, "user_id": 8936043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TihTMeyhnFY/AAAAAAAAAAI/AAAAAAAAAAU/BKLw1mLypq8/photo.jpg?sz=128", "display_name": "Natasha Ting", "link": "https://stackoverflow.com/users/8936043/natasha-ting"}, "edited": false, "score": 0, "creation_date": 1515104714, "post_id": 48086616, "comment_id": 83184567, "body": "Update your question with the current code, and I&#39;ll take a look."}], "tags": [], "owner": {"reputation": 22094, "user_id": 975755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c53ecf9886ca862ed6fad3de7ed1a9e1?s=128&d=identicon&r=PG", "display_name": "stranac", "link": "https://stackoverflow.com/users/975755/stranac"}, "is_accepted": true, "score": 1, "last_activity_date": 1515022186, "creation_date": 1515022186, "answer_id": 48086616, "question_id": 48085924, "link": "https://stackoverflow.com/questions/48085924/using-parsel-in-scrapy-project/48086616#48086616", "title": "Using parsel in Scrapy project", "body": "<p>Scrapy already uses parsel selectors by default, so there is no need for you to even import it - <code>response.xpath()</code> and <code>response.css()</code> use the methods of the underlying parsel selector.<br>\nKnowing that, you can just remove the 4 lines importing <code>Selector</code> and creating an instance of it.</p>\n\n<p>The real problem seems to be the 404, which simply means the document you were trying to access wasn't found.<br>\nMy first guess would be that you have a typo in your <code>start_urls</code>. If that's not the case, you'll need to share the actual url you're trying to scrape.</p>\n\n<p>The 400 error is just scrapy trying and failing to access the robots.txt file.\nYou could disable the <code>RobotsTxtMiddleware</code> to stop this from happening, but there is no real benefit, it will cause you no problems and can be ignored.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 8936043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TihTMeyhnFY/AAAAAAAAAAI/AAAAAAAAAAU/BKLw1mLypq8/photo.jpg?sz=128", "display_name": "Natasha Ting", "link": "https://stackoverflow.com/users/8936043/natasha-ting"}, "edited": false, "score": 0, "creation_date": 1515086477, "post_id": 48089949, "comment_id": 83175926, "body": "Was hoping not to have to change the middleware configuration (at my level of understanding I think it&#39;ll cause me problems that I can&#39;t solve in future projects). Since I already have the full .html file, maybe I don&#39;t have to use <code>scrapy crawl</code> at all? Updated the question to reflect what I&#39;m trying to do."}], "tags": [], "owner": {"reputation": 332, "user_id": 6891192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Atyt3.jpg?s=128&g=1", "display_name": "K. Andy wang", "link": "https://stackoverflow.com/users/6891192/k-andy-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1515048020, "creation_date": 1515048020, "answer_id": 48089949, "question_id": 48085924, "link": "https://stackoverflow.com/questions/48085924/using-parsel-in-scrapy-project/48089949#48089949", "title": "Using parsel in Scrapy project", "body": "<p>If you worked fine when running a standalone script file or working well within scrapy shell,one possible cause is blocked by spider middleware,\nwhen running by <code>scrapy crawl</code>command,the <a href=\"https://doc.scrapy.org/en/latest/topics/settings.html#std:setting-SPIDER_MIDDLEWARES_BASE\" rel=\"nofollow noreferrer\">default middleware list</a> would be involved the running process.</p>\n\n<p>You can ref details at <a href=\"https://stackoverflow.com/questions/48030717/scrapy-404-error-http-status-code-is-not-handled-or-not-allowed/48031332#48031332\">Scrapy 404 error: HTTP status code is not handled or not allowed</a></p>\n\n<p>If this issue is not this case,you'll may share your real url that you are scraping for further investigation</p>\n\n<p>Thanks.</p>\n"}], "owner": {"reputation": 29, "user_id": 8936043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TihTMeyhnFY/AAAAAAAAAAI/AAAAAAAAAAU/BKLw1mLypq8/photo.jpg?sz=128", "display_name": "Natasha Ting", "link": "https://stackoverflow.com/users/8936043/natasha-ting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 1, "accepted_answer_id": 48086616, "answer_count": 2, "score": -1, "last_activity_date": 1515109049, "creation_date": 1515017499, "last_edit_date": 1515109049, "question_id": 48085924, "link": "https://stackoverflow.com/questions/48085924/using-parsel-in-scrapy-project", "title": "Using parsel in Scrapy project", "body": "<p>I'm trying to use the parsel library to scrape elements from a html file in a Scrapy project. This is my spider codes, named <code>123Spider</code> :</p>\n\n<pre><code>import scrapy \n\nimport requests\n\nclass 123Spider(scrapy.Spider):\n\n    name = \"123Spider\"\n    start_url = [\n    'file://URI'\n]\n\n    def parse(self, response):\n\n        for commentSelector in response.css(\"div._li\"):\n            yield {\n                'comment': commentSelector.css('#js_ajn &gt; p').extract(),\n        }\n</code></pre>\n\n<p>when I run <code>scrapy crawl 123Spider -o output.json</code> from command line, it exports an empty JSON file. Terminal shows this process: </p>\n\n<pre><code>2018-01-03 14:44:20 [scrapy.core.engine] DEBUG: Crawled (400) &lt;GET  https://raw.githubusercontent.com/robots.txt&gt; (referer: None)\n2018-01-03 14:44:20 [scrapy.core.engine] DEBUG: Crawled (404) &lt;GET https://raw.githubusercontent.com/xxx.html&gt; (referer: None)\n2018-01-03 14:44:20 [scrapy.spidermiddlewares.httperror] INFO: Ignoring response &lt;404 https://raw.githubusercontent.com/xxx.html&gt;: HTTP status code is not handled or not allowed\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li>Why is Error 404 &amp; 400 returned crawling the .html file? It worked fine both when I run a pure parsel .py file, as well as within scrapy shell. (the html file is >10MB)</li>\n<li>How to correctly nestle parsel elements within my 123Spider class?</li>\n</ol>\n\n<p>Searched existing questions but none match my scenario. </p>\n\n<p><strong>Update:</strong>\nThe aim is to parse a .html file that already exists in my spider project structure. However when crawling <code>file://URI</code>, terminal shows no pages crawled. There's no typo in my URI, tested with scrapy shell. </p>\n\n<pre><code>2018-01-04 14:40:14 [scrapy.core.engine] INFO: Spider opened\n2018-01-04 14:40:14 [scrapy.extensions.logstats] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)\n2018-01-04 14:40:14 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6023\n2018-01-04 14:40:14 [scrapy.core.engine] INFO: Closing spider (finished)\n2018-01-04 14:40:14 [scrapy.statscollectors] INFO: Dumping Scrapy stats:\n{'finish_reason': 'finished',\n'finish_time': datetime.datetime(2018, 1, 4, 21, 40, 14, 392659),\n'log_count/DEBUG': 1,\n'log_count/INFO': 7,\n'memusage/max': 55623680,\n'memusage/startup': 55619584,\n'start_time': datetime.datetime(2018, 1, 4, 21, 40, 14, 374933)}\n2018-01-04 14:40:14 [scrapy.core.engine] INFO: Spider closed (finished)\n</code></pre>\n"}, {"tags": ["python", "linux", "bash", "python-2.7", "shell"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1515017387, "post_id": 48085844, "comment_id": 83146669, "body": "Just extract the parts of the string with substring operations, and then connect them with <code>-</code> and <code>:</code>."}, {"owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "edited": false, "score": 0, "creation_date": 1515017431, "post_id": 48085844, "comment_id": 83146681, "body": "<code>datetime.strftime</code> and <code>datetime.strptime</code> FTW <a href=\"https://docs.python.org/2/library/datetime.html#strftime-strptime-behavior\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1515017432, "post_id": 48085844, "comment_id": 83146683, "body": "Maybe you didn&#39;t notice that it&#39;s just a human-readable time without those punctuation characters."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1515017446, "post_id": 48085844, "comment_id": 83146690, "body": "Welcome to Stack Overflow! StackOverflow expects you to <a href=\"http://meta.stackoverflow.com/questions/261592\">try to solve your own problem first</a>, and we also <a href=\"https://softwareengineering.meta.stackexchange.com/questions/6166\">don&#39;t answer homework questions</a>. Please update your question to show what you have already tried in a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. For further information, please see <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask good questions</a>, and take the <a href=\"http://stackoverflow.com/tour\">tour of the site</a> :)"}, {"owner": {"reputation": 5, "user_id": 9170205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d076c2764767d47ccc86f7ae4e224c2c?s=128&d=identicon&r=PG&f=1", "display_name": "alfred", "link": "https://stackoverflow.com/users/9170205/alfred"}, "edited": false, "score": 0, "creation_date": 1515017572, "post_id": 48085844, "comment_id": 83146728, "body": "i imported the time and used strftime but it didn&#39;t work in converting it."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1515018368, "post_id": 48085844, "comment_id": 83147053, "body": "Define &quot;didn&#39;t work&quot;, show your code and any error messages."}], "answers": [{"tags": [], "owner": {"reputation": 2390, "user_id": 3700264, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/524978076/picture?type=large", "display_name": "JSimonsen", "link": "https://stackoverflow.com/users/3700264/jsimonsen"}, "is_accepted": false, "score": 2, "last_activity_date": 1515018398, "creation_date": 1515018398, "answer_id": 48086079, "question_id": 48085844, "link": "https://stackoverflow.com/questions/48085844/shell-scipt-or-python-script-to-convert-the-time-into-human-readable-format/48086079#48086079", "title": "Shell scipt or python script to convert the time into human readable format", "body": "<p>Here is a very simple not complicated at all way to accomplish this. </p>\n\n<pre><code>time = \"20170103154828\"\n\nfirst = time[:4] + '-' + time[4:]\nsecond = first[:7] + '-' + first[7:]\nthird = second[:10] + ' ' + second[10:]\n\nhour = third[:13] + ':' + third[13:]\nfinal = hour[:16] + ':' + hour[16:]\nprint(final)\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>2017-01-03 15:48:28\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 9170205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d076c2764767d47ccc86f7ae4e224c2c?s=128&d=identicon&r=PG&f=1", "display_name": "alfred", "link": "https://stackoverflow.com/users/9170205/alfred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1515018398, "creation_date": 1515017149, "last_edit_date": 1515017501, "question_id": 48085844, "link": "https://stackoverflow.com/questions/48085844/shell-scipt-or-python-script-to-convert-the-time-into-human-readable-format", "title": "Shell scipt or python script to convert the time into human readable format", "body": "<p>I have a time in the format like <strong>20170103154828 pwcg12.apache.web 39558809870</strong> from a log but i would like to see it in the human readable format <strong>2017-01-03 15:48:28 pwcg12.apache.web 39558809870</strong> . Since it is not a epoch time and generated by the server , so applying epoch conversion will not work on this. Any help would be appreciated.</p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 5, "creation_date": 1515017254, "post_id": 48085839, "comment_id": 83146610, "body": "there&#39;s a difference between <code>something.get</code> and <code>something.get()</code>"}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 1, "creation_date": 1515017454, "post_id": 48085839, "comment_id": 83146693, "body": "I don&#39;t think that your title is helping to understand your problem better the last commenter is actually solving your problem."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515018151, "post_id": 48085839, "comment_id": 83146971, "body": "There has to be a duplicate for this."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515019522, "post_id": 48085839, "comment_id": 83147423, "body": "Also, I&#39;d switch to <code>import tkinter as tk</code> from <code>from tkinter import *</code> while refining."}], "answers": [{"comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 2, "creation_date": 1515017353, "post_id": 48085863, "comment_id": 83146653, "body": "And also replace <code>bed_high_temperature = IntVar</code> with <code>bed_high_temperature = IntVar()</code>."}], "tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": false, "score": 1, "last_activity_date": 1515017238, "creation_date": 1515017238, "answer_id": 48085863, "question_id": 48085839, "link": "https://stackoverflow.com/questions/48085839/im-not-geting-it/48085863#48085863", "title": "I&#39;m not get()&#39;ing it", "body": "<p>Replace:</p>\n\n<pre><code>print(bed_high_temperature.get)\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>print(bed_high_temperature.get())\n</code></pre>\n\n<p><code>object.method</code> refers to the reference of that <code>method</code> as an attribute whereas <code>object.method()</code> is the actual call of that <code>method</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 8441637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887ab023e112c96dea88da5b8dfbacda?s=128&d=identicon&r=PG&f=1", "display_name": "smashed_", "link": "https://stackoverflow.com/users/8441637/smashed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "closed_date": 1515043288, "answer_count": 1, "score": -2, "last_activity_date": 1515017238, "creation_date": 1515017121, "question_id": 48085839, "link": "https://stackoverflow.com/questions/48085839/im-not-geting-it", "closed_reason": "Not suitable for this site", "title": "I&#39;m not get()&#39;ing it", "body": "<p>I have already made this program I am currently writing, but I'm making it easier to read, better for future improvements, etc... </p>\n\n<p>So, I technically shouldn't be running into any problems, but I am! </p>\n\n<p>Condensed code is as follows:</p>\n\n<pre><code>bed_high_temperature = IntVar\n\ndef Custom_start():\n    print(bed_high_temperature.get)\n\nbed_high_temperature_entry = Entry(bread_window, textvariable=bed_high_temperature, font=labelfont1, width=entry_width)\nbed_high_temperature_entry.grid(column=2, row=2, pady=pady_space_entry, padx=padx_space_entry)\n\nstart_button = Button(bread_window, text=\"Start\", font=buttonfont2, command=Custom_start).grid(column=2, row=5, pady=pady_space_entry)\n</code></pre>\n\n<p>Now I have about 10 variables total that im keeping track of. The output is the following for this program:</p>\n\n<pre><code>&lt;function IntVar.get at 0x057ED7C8&gt;\n</code></pre>\n\n<p>I do have other windows of this program that use the same names for variables, which makes code easier for me down the line, but since typing this question I have changed variable names around and i still get the same output!</p>\n\n<p>Whats going on here?</p>\n"}, {"tags": ["python", "list", "loops", "tuples", "iteration"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1515017253, "post_id": 48085830, "comment_id": 83146609, "body": "Shouldn&#39;t the last item in your output start with a <code>T</code>?"}, {"owner": {"reputation": 1298, "user_id": 6305204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/jGfSZ.png?s=128&g=1", "display_name": "con--", "link": "https://stackoverflow.com/users/6305204/con"}, "edited": false, "score": 0, "creation_date": 1515017815, "post_id": 48085830, "comment_id": 83146815, "body": "To make sure the output is unique you could use a set. Make sure you don&#39;t include the strings nested in lists as you have in the format above, because lists are unhashable so you can&#39;t add them to a set. Using set(&quot;1C5e1Dc9CP&quot;, &quot;xC5e1Dc9CP&quot; ... ) instead of ([&quot;1C5e1Dc9CP&quot;], [&quot;xC5e1Dc9CP&quot;]...) would work I think."}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1515017903, "post_id": 48085830, "comment_id": 83146851, "body": "As long as each sub-list has no duplicates, no combination drawn from them should get duplicated."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1515018160, "post_id": 48085830, "comment_id": 83146974, "body": "<code>x18</code> &amp; <code>t18</code> have a duplicate <code>J</code>. Does it need to handle duplicates?"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1515018278, "post_id": 48085830, "comment_id": 83147024, "body": "Your &quot;iteration with indices&quot; explicitly generates the same string twice, and the order needs to be explained."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1515019091, "post_id": 48085830, "comment_id": 83147279, "body": "I can generate the desired output in a formulaic manner with or without duplicates, but without clarification it&#39;s unclear which will solve the question."}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1515066849, "post_id": 48085830, "comment_id": 83163934, "body": "@ScottHunter you are right. It schould start with a T.  &#39;ve edited."}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1515067064, "post_id": 48085830, "comment_id": 83164090, "body": "@TemporalWolf you are right. I&#39;ve corrected it. Each char in any list of x11... x20 is unique."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515077308, "post_id": 48086273, "comment_id": 83170409, "body": "nice work. But I want to iterate about all indicies."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515091234, "post_id": 48086273, "comment_id": 83178299, "body": "@Kris this generates exactly your expected output. If that isn&#39;t what you are looking for, please edit your question with revised information. I don&#39;t understand what you mean about iterate about all indices."}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515095761, "post_id": 48086273, "comment_id": 83180570, "body": "yes it did the ouput but without ...          [&quot;T6DzTqaI6C&quot;]) and all other combinations between it. Sorry that I can&#39;t explain it so bad. But there have to been much more combinations. I post some more outputs on my question. I&#39; ll try to explain it more exact. Thank you for your advice."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515096110, "post_id": 48086273, "comment_id": 83180722, "body": "@Kris Is the order of the output relevant, or do you just need all combinations as described?"}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515096391, "post_id": 48086273, "comment_id": 83180849, "body": "full = [ [x11,x12,x13,x14,x15,x16,x17,x18,x19,x20], [x11,x12,x13,x14,x15,x16,x17,x18,x19,x20], ....]"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515096507, "post_id": 48086273, "comment_id": 83180897, "body": "Does it matter that <code>&#39;1C5e1Dc9CP&#39;</code> comes before <code>&quot;T6DzTqaI6C&quot;</code> or is the final list order unimportant?"}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515096800, "post_id": 48086273, "comment_id": 83181042, "body": "the order of each tuple in full have to be like this. full = [  [x11[0],x12[0],x13[0],x14[0],x15[0],x16[0],x17[0],x18[0],x19&zwnj;&#8203;[0],x20[0]],... [x11[n],x12[n],x13[n],x14[n],x15[n],x16[n],x17[n],x18[n],x19&zwnj;&#8203;[n],x20[n]] ], but order in sublist isn&#39;t important, it is only important that all combination will be in full and unique. I&#39;ve posted some more combinations above, maybe it helps."}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515096839, "post_id": 48086273, "comment_id": 83181067, "body": "Does it matter that &#39;1C5e1Dc9CP&#39; comes before &quot;T6DzTqaI6C&quot; or is the final list order unimportant? It is unimportant,"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515097025, "post_id": 48086273, "comment_id": 83181170, "body": "@Kris tl;dr is you want <code>itertools.product()</code>"}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515099204, "post_id": 48086273, "comment_id": 83182210, "body": "<code>itertools.product(x11,...,x22)</code> looks good. but with more sublists thread will be terminated."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515100525, "post_id": 48086273, "comment_id": 83182810, "body": "because the output is huge. It&#39;s already 1.6m elements."}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515109826, "post_id": 48086273, "comment_id": 83186156, "body": "<code>keylist=tuple(itertools.islice(itertools.product(*keylist), 50000))</code> this is a workaround. How can I put outputs in multiple files? So that when 1st 50000 finished write in 1.csv and begin from 50001 to 100000 write to 2.csv and so on."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515110955, "post_id": 48086273, "comment_id": 83186465, "body": "@Kris I added a function to chunk the output. You can then treat each chunk as a list."}, {"owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "edited": false, "score": 0, "creation_date": 1515256068, "post_id": 48086273, "comment_id": 83235444, "body": "Awesome. That&#39;s exactly what it supposed to do. Thank you very much!"}], "tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": false, "score": 1, "last_activity_date": 1515110911, "last_edit_date": 1515110911, "creation_date": 1515019637, "answer_id": 48086273, "question_id": 48085830, "link": "https://stackoverflow.com/questions/48085830/python-how-to-loop-itereate-list-in-lists-or-tuples-special-unique-output/48086273#48086273", "title": "Python: How to loop/itereate list in lists or tuples - special unique output?", "body": "<p>To get the full <em>product</em> of the lists, you want:</p>\n\n<pre><code>list(itertools.product(*tuple1))\n</code></pre>\n\n<p>which with your inputs will be 1.6M elements:</p>\n\n<pre><code>['1C5e1Dc9CP', '1C5e1Dc9CF', '1C5e1Dc9CC', '1C5e1Dc9OP', '1C5e1Dc9OF', \n '1C5e1Dc9OC', '1C5e1Dc9DP', '1C5e1Dc9DF', '1C5e1Dc9DC', '1C5e1Dc90P' ...]\n</code></pre>\n\n<p>To chunk this, write a chunking function:</p>\n\n<pre><code>def chunker(gen, size):\n    while True:\n        lst = []\n        for _ in range(size):\n            lst.append(next(gen))\n        yield lst\n\nproduct_generator = itertools.product(*tuple1)\nchunks = chunker(product_generator, 50000)\n</code></pre>\n\n<p>then you get each chunk via</p>\n\n<pre><code>chunk = next(chunks)\n</code></pre>\n\n<hr>\n\n<p><strong>Below</strong> is the previous answer, which does not generate a complete product of the lists:</p>\n\n<p>This generates a list and works correctly with duplicates for arbitrary lists where you want to iterate a single element across the whole base.</p>\n\n<pre><code>full = []\nfor piece_index in range(len(tuple1)):\n    for inner_index in range(0 if piece_index == 0 else 1, len(tuple1[piece_index])):\n        line = \"\"\n        for index in range(len(tuple1)):\n            line += tuple1[index][inner_index if piece_index == index else 0]\n        full.append(line)\n</code></pre>\n\n<p>This works by going list by list, element by element, and building a string around that element. It also skips the first element in every list except the first, as that is just a duplicate of the first element. </p>\n\n<ul>\n<li><code>piece_index</code> keep track of which sublist we're currently working on. </li>\n<li><code>inner_index</code> keeps track of which element in that sublist we're currently building a string about</li>\n<li><code>index</code> is which character in that string built around <code>tuple1[piece_index][inner_index]</code> we're currently on.</li>\n</ul>\n\n<p>Result:</p>\n\n<pre><code>['1C5e1Dc9CP', 'xC5e1Dc9CP', 'tC5e1Dc9CP', 'fC5e1Dc9CP', 'TC5e1Dc9CP', \n '1D5e1Dc9CP', '165e1Dc9CP', \n '1C9e1Dc9CP', '1CJe1Dc9CP', '1CDe1Dc9CP', \n '1C5a1Dc9CP', '1C5o1Dc9CP', '1C5x1Dc9CP', '1C5f1Dc9CP', '1C5z1Dc9CP', \n '1C5exDc9CP', '1C5e7Dc9CP', '1C5efDc9CP', '1C5eTDc9CP', \n '1C5e1Oc9CP', '1C5e10c9CP', '1C5e1Bc9CP', '1C5e18c9CP', '1C5e1Qc9CP', '1C5e1qc9CP', \n '1C5e1Da9CP', \n '1C5e1DcJCP', '1C5e1Dc7CP', '1C5e1DcfCP', '1C5e1DcICP', '1C5e1DcJCP', \n '1C5e1Dc9OP', '1C5e1Dc9DP', '1C5e1Dc90P', '1C5e1Dc96P', \n '1C5e1Dc9CF', '1C5e1Dc9CC']\n</code></pre>\n\n<p>If you want them as a tuple of  1 element lists, <code>full.append([line])</code> and adding a <code>full = tuple(full)</code> after the loops will make that change.</p>\n\n<p>It's worth noting this <strong>does</strong> contain a duplicate (<code>'1C5e1DcJCP'</code>), as your source lists contain a duplicate: <code>t18 = (\"9\", \"J\", \"7\", \"f\", \"I\", \"J\")</code></p>\n"}], "owner": {"reputation": 1, "user_id": 8620549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b220e156e4170ba28675429812dc4615?s=128&d=identicon&r=PG", "display_name": "Kris", "link": "https://stackoverflow.com/users/8620549/kris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 1, "closed_date": 1515043276, "answer_count": 1, "score": -2, "last_activity_date": 1515110911, "creation_date": 1515017084, "last_edit_date": 1515096251, "question_id": 48085830, "link": "https://stackoverflow.com/questions/48085830/python-how-to-loop-itereate-list-in-lists-or-tuples-special-unique-output", "closed_reason": "Needs details or clarity", "title": "Python: How to loop/itereate list in lists or tuples - special unique output?", "body": "<p>I need help</p>\n\n<p>Here are my lists and tuples. I don't know which one is better for solution, so I print both here. </p>\n\n<p>I show my problem here only using lists.</p>\n\n<pre><code>x11 = [\"1\", \"x\", \"t\", \"f\", \"T\"]\nx12 = [\"C\", \"D\", \"6\"]\nx13 = [\"5\", \"9\", \"J\", \"D\"]\nx14 = [\"e\", \"a\", \"o\", \"x\", \"f\", \"z\"]\nx15 = [\"1\", \"x\", \"7\", \"f\", \"T\"]\nx16 = [\"D\", \"O\", \"0\", \"B\", \"8\", \"Q\", \"q\"]\nx17 = [\"c\", \"a\"]\nx18 = [\"9\", \"J\", \"7\", \"f\", \"I\"]\nx19 = [\"C\", \"O\", \"D\", \"0\", \"6\"]\nx20 = [\"P\", \"F\", \"C\"]\n\nxlist1 = [x11,x12,x13,x14,x15,x16,x17,x18,x19,x20]\n\nt11 = (\"1\", \"x\", \"t\", \"f\", \"T\")\nt12 = (\"C\", \"D\", \"6\")\nt13 = (\"5\", \"9\", \"J\", \"D\")\nt14 = (\"e\", \"a\", \"o\", \"x\", \"f\", \"z\")\nt15 = (\"1\", \"x\", \"7\", \"f\", \"T\")\nt16 = (\"D\", \"O\", \"0\", \"B\", \"8\", \"Q\", \"q\")\nt17 = (\"c\", \"a\")\nt18 = (\"9\", \"J\", \"7\", \"f\", \"I\")\nt19 = (\"C\", \"O\", \"D\", \"0\", \"6\")\nt20 = (\"P\", \"F\", \"C\")\n\ntuple1 = (t11,t12,t13,t14,t15,t16,t17,t18,t19,t20)\n</code></pre>\n\n<p>I want iterate/loop on xlist1/tuple1 to get a new list/tuple in a special format. \nThe target output-list/-tuple should be unique.</p>\n\n<pre><code>output = ([\"1C5e1Dc9CP\"],[\"xC5e1Dc9CP\"],[\"tC5e1Dc9CP\"],[\"FC5e1Dc9CP\"],[\"TC5e1Dc9CP\"],\n         [\"1D5e1Dc9CP\"],[\"165e1Dc9CP\"],\n         [\"1C9e1Dc9CP\"],[\"1CJe1Dc9CP\"],[\"1CDe1Dc9CP\"],\n         [\"1C5a1Dc9CP\"],[\"1C5o1Dc9CP\"],[\"1C5x1Dc9CP\"],[\"1C5f1Dc9CP\"],[\"1C5z1Dc9CP\"],\n         ...\n         [\"T6DzTqaI6C\"])\n</code></pre>\n\n<p>Iterate about all indicies:</p>\n\n<pre><code>'1D5e1Dc9CP'    '1D5e1Dc9CP'    '1D9e1Dc9CP'    '1DJe1Dc9CP'    '1DDe1Dc9CP'    '1D5a1Dc9CP'    '1D5o1Dc9CP'    '1D5x1Dc9CP'    '1D5f1Dc9CP'    '1D5z1Dc9CP'    '1D5exDc9CP'    '1D5e7Dc9CP'    '1D5efDc9CP'    '1D5eTDc9CP'    '1D5e1Oc9CP'    '1D5e10c9CP'    '1D5e1Bc9CP'    '1D5e18c9CP'    '1D5e1Qc9CP'    '1D5e1qc9CP'    '1D5e1Da9CP'    '1D5e1DcJCP'    '1D5e1Dc7CP'    '1D5e1DcfCP'    '1D5e1DcICP'    '1D5e1Dc9OP'    '1D5e1Dc9DP'    '1D5e1Dc90P'    '1D5e1Dc96P'    '1D5e1Dc9CF'    '1D5e1Dc9CC'\n'xD5exDc9CP'    'x65exDc9CP'    'xC9exDc9CP'    'xCJe1Dc9CP'    'xCDe1Dc9CP'    'xC5a1Dc9CP'    'xC5o1Dc9CP'    'xC5x1Dc9CP'    'xC5f1Dc9CP'    'xC5z1Dc9CP'    'xC5exDc9CP'    'xC5e7Dc9CP'    'xC5efDc9CP'    'xC5eTDc9CP'    'xC5e1Oc9CP'    'xC5e10c9CP'    'xC5e1Bc9CP'    'xC5e18c9CP'    'xC5e1Qc9CP'    'xC5e1Qc9CP'    'xC5e1Da9CP'    'xC5e1DcJCP'    'xC5e1Dc7CP'    'xC5e1DcfCP'    'xC5e1DcICP'    'xC5e1Dc9OP'    'xC5e1Dc9DP'    'xC5e1Dc90P'    'xC5e1Dc96P'    'xC5e1Dc9CF'    'xC5e1Dc9CC'\n'TC5e1Dc9CP'    'TCJe1Dc9CP'    'TCDe1Dc9CP'    'TC5a1Dc9CP'    'TC5o1Dc9CP'    'TC5x1Dc9CP'    'TC5f1Dc9CP'    'TC5z1Dc9CP'    'TC5exDc9CP'    'TC5e7Dc9CP'    'TC5efDc9CP'    'TC5eTDc9CP'    'TC5e1Oc9CP'    'TC5e10c9CP'    'TC5e1Bc9CP'    'TC5e18c9CP'    'TC5e1Qc9CP'    'TC5e1qc9CP'    'TC5e1Da9CP'    'TC5e1DcJCP'    'TC5e1Dc7CP'    'TC5e1DcfCP'    'TC5e1DcICP'    'TC5e1Dc9OP'    'TC5e1Dc9DP'    'TC5e1Dc90P'    'TC5e1Dc96P'    'TC5e1Dc9CF'    'TC5e1Dc9CC'        \n'TD5e1Dc9CP'    'TDJe1Dc9CP'    'TDDe1Dc9CP'    'TD5a1Dc9CP'    'TD5o1Dc9CP'    'TD5x1Dc9CP'    'TD5f1Dc9CP'    'TD5z1Dc9CP'    'TD5exDc9CP'    'TD5e7Dc9CP'    'TD5efDc9CP'    'TD5eTDc9CP'    'TD5e1Oc9CP'    'TD5e10c9CP'    'TD5e1Bc9CP'    'TD5e18c9CP'    'TD5e1Qc9CP'    'TD5e1qc9CP'    'TD5e1Da9CP'    'TD5e1DcJCP'    'TD5e1Dc7CP'    'TD5e1DcfCP'    'TD5e1DcICP'    'TD5e1Dc9OP'    'TD5e1Dc9DP'    'TD5e1Dc90P'    'TD5e1Dc96P'    'TD5e1Dc9CF'    'TD5e1Dc9CC'        \n'T65e1Dc9CP'    'T6Je1Dc9CP'    'T6De1Dc9CP'    'T65a1Dc9CP'    'T65o1Dc9CP'    'T65x1Dc9CP'    'T65f1Dc9CP'    'T65z1Dc9CP'    'T65exDc9CP'    'T65e7Dc9CP'    'T65efDc9CP'    'T65eT6c9CP'    'T65e1Oc9CP'    'T65e10c9CP'    'T65e1Bc9CP'    'T65e18c9CP'    'T65e1Qc9CP'    'T65e1qc9CP'    'T65e1Da9CP'    'T65e1DcJCP'    'T65e1Dc7CP'    'T65e1DcfCP'    'T65e1DcICP'    'T65e1Dc9OP'    'T65e1Dc9DP'    'T65e1Dc90P'    'T65e1Dc96P'    'T65e1Dc9CF'    'T65e1Dc9CC'        \n</code></pre>\n\n<p>Here I show the iteration algorithm with inidicies: </p>\n\n<pre><code>output = ([x11[0]+x12[0]+x13[0]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1C5e1Dc9CP\n          [x11[1]+x12[0]+x13[0]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # xC5e1Dc9CP \n          [x11[2]+x12[0]+x13[0]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # tC5e1Dc9CP\n          [x11[3]+x12[0]+x13[0]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # FC5e1Dc9CP\n          [x11[4]+x12[0]+x13[0]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # TC5e1Dc9CP\n\n          [x11[0]+x12[1]+x13[0]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1D5e1Dc9CP\n          [x11[0]+x12[1]+x13[0]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 165e1Dc9CP\n\n          [x11[0]+x12[0]+x13[1]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1C9e1Dc9CP\n          [x11[0]+x12[0]+x13[2]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1CJe1Dc9CP\n          [x11[0]+x12[0]+x13[3]+x14[0]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1CDe1Dc9CP\n\n          [x11[0]+x12[1]+x13[0]+x14[1]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1C5a1Dc9CP\n          [x11[0]+x12[1]+x13[0]+x14[2]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1C5o1Dc9CP\n          [x11[0]+x12[1]+x13[0]+x14[3]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1C5x1Dc9CP\n          [x11[0]+x12[1]+x13[0]+x14[4]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1C5f1Dc9CP\n          [x11[0]+x12[1]+x13[0]+x14[5]+x15[0]+x16[0]+x17[0]+x18[0]+x19[0]+x20[0]], \n         # 1C5z1Dc9CP\n          ...\n          [x11[4]+x12[2]+x13[3]+x14[5]+x15[4]+x16[6]+x17[1]+x18[5]+x19[4]+x20[2]]) \n         # T6DzTqaI6C\n</code></pre>\n\n<p>So, it is import that output-tuple/list are unique and have all the same length <code>== 10 chars</code>, (<code>len(xlist1)</code>) and always the direction\nfrom x11 .. x20.</p>\n\n<p>I've tried thinks like, but it doesn't solve it...</p>\n\n<pre><code>combs = functools.reduce(lambda x, y: list(itertools.combinations(xlist1, y)) + x, range(len(xlist1)+1), [])\nfor c in combs:\n    print (\"Combination:\", c)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>combs = list(itertools.combinations(tuple1, r=x))\npermutations = list(itertools.permutations(xlist1, r=None)) # terminal killed it :/\n</code></pre>\n\n<p>Does anyone have  suggestions, ideas or solutions? </p>\n"}, {"tags": ["python", "image", "checkbox", "tkinter", "label"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 2, "creation_date": 1515016960, "post_id": 48085771, "comment_id": 83146501, "body": "<i>&quot; Unfortunately, this cannot be done with basic Checkbutton(..., image= , text= ) as setting the image suppresses the text.&quot;</i> - read up on the <code>compound</code> option."}, {"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1515017221, "post_id": 48085771, "comment_id": 83146599, "body": "@Bryan Doh - well, that was easy -- the answer is yours if you want it!"}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515017877, "post_id": 48085771, "comment_id": 83146835, "body": "Also, a bad workaround would be to define a new class inheriting from frame including checkbutton + label + label."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515020172, "post_id": 48085771, "comment_id": 83147626, "body": "This question could use better titling."}], "answers": [{"comments": [{"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1515091772, "post_id": 48101478, "comment_id": 83178557, "body": "Yeah, it was kind of a trivial question, but in my defense the <code>tkinter</code> docs showing in Google results  are surprisingly not helpful.  E.g., the same book you link to, in the <a href=\"http://effbot.org/tkinterbook/checkbutton.htm#reference\" rel=\"nofollow noreferrer\">Checkbutton</a> page, doesn&#39;t list the non-default arguments to the option.  The entry <code>help(Checkbutton)</code> is too long to read in my IDE -- trying to figure out how to paginate it."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "reply_to_user": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 0, "creation_date": 1515092465, "post_id": 48101478, "comment_id": 83178888, "body": "@C8H10N4O2 Yeah, I&#39;ve read label&#39;s explanation on <code>compound</code> instead."}], "tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": true, "score": 1, "last_activity_date": 1515090992, "last_edit_date": 1515090992, "creation_date": 1515090679, "answer_id": 48101478, "question_id": 48085771, "link": "https://stackoverflow.com/questions/48085771/how-to-create-checkbuttons-with-labeled-images/48101478#48101478", "title": "How to create Checkbuttons with labeled images?", "body": "<blockquote>\n  <p><em>I would like to have the labels (\"Cat\", \"Dog\", \"Unicorn\") either underneath or to the side of the images.</em></p>\n</blockquote>\n\n<p>As suggested in <a href=\"https://stackoverflow.com/questions/48085771/label-an-arbitrary-number-of-tkinter-widgets#comment83146501_48085771\">Bryan's comment</a>, this can simply be done by configuring <code>compound</code> option of <code>Checkbutton</code>.</p>\n\n<p>Simply replace:</p>\n\n<pre><code>cb = Checkbutton(root, text=labels[i], image = images[i])\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>cb = Checkbutton(root, text=labels[i], image = images[i], compound='left')\n</code></pre>\n\n<p>or simply set <a href=\"http://effbot.org/tkinterbook/label.htm#Tkinter.Label.config-method\" rel=\"nofollow noreferrer\">compound option</a> to <em>an element</em> of <code>['bottom', 'center', 'left', 'right', 'top']</code> which is by default <code>None</code>:</p>\n\n<pre><code>cb['compound'] = 'top'\n</code></pre>\n\n<hr>\n\n<p>Below example produces a simple example for most windows users:</p>\n\n<pre><code>import tkinter as tk\nfrom PIL import Image, ImageTk\n\nroot = tk.Tk()\n\nmypath = r\"C:\\Users\\Public\\Pictures\\Sample Pictures\\Koala.jpg\"\nimg = Image.open(mypath)\nglb_img = ImageTk.PhotoImage(img)\ntk.Checkbutton(root, text=\"Koala\", image=glb_img, compound='top').pack()\n\nroot.mainloop()\n</code></pre>\n\n<hr>\n\n<p>Also it's worth noting that importing <code>PIL</code> is redundant for <code>.png</code> format, one could simply use either <code>tk.PhotoImage(data=image_data)</code> or <code>tk.PhotoImage(file=image_file)</code>.</p>\n"}], "owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 0, "accepted_answer_id": 48101478, "answer_count": 1, "score": 1, "last_activity_date": 1515090992, "creation_date": 1515016813, "last_edit_date": 1515090910, "question_id": 48085771, "link": "https://stackoverflow.com/questions/48085771/how-to-create-checkbuttons-with-labeled-images", "title": "How to create Checkbuttons with labeled images?", "body": "<p>I am just getting started with <code>tkinter</code> widgets and am trying to create Checkbuttons with both images and text labels.  Unfortunately, this cannot be done with basic <code>Checkbutton(..., image= , text= )</code> as setting the <code>image</code> suppresses the <code>text</code>.</p>\n\n<p>Here's a silly yet reproducible example of what I'm trying to do.</p>\n\n<pre><code>from tkinter import Tk, Frame, Checkbutton, Label\nfrom PIL import ImageTk, Image\nimport requests\n\ndef getImgFromUrl(url): # using solution from : https://stackoverflow.com/a/18369957/2573061\n   try:\n       r = requests.get(url, stream=True)\n       pilImage = Image.open(r.raw)\n       phoImage = ImageTk.PhotoImage(pilImage)\n       return phoImage\n   except Exception as e:\n       print('Error ' + repr(e) )\n       return None\n\n\nclass AnimalPicker(Frame):\n    def __init__(self):\n        super().__init__()\n        self.initUI()        \n\n    def initUI(self):\n        self.master.title(\"Animal Picker\")\n\n\ndef main(): \n    root = Tk()\n    root.geometry(\"250x450+300+300\")\n    app = AnimalPicker()\n\n    imageUrls = ['http://icons.iconarchive.com/icons/martin-berube/flat-animal/64/dachshund-icon.png',\n             'http://icons.iconarchive.com/icons/iconka/meow/64/cat-walk-icon.png',\n             'http://icons.iconarchive.com/icons/sonya/swarm/64/Unicorn-icon.png']\n\n    labels = ['Dog','Cat','Unicorn']\n\n    images = [getImgFromUrl(x) for x in imageUrls]\n\n    for i in range(len(images)):\n        cb = Checkbutton(root, text=labels[i], image = images[i])\n        cb.pack(anchor = 'w', padx=5,pady=5) \n    root.mainloop()  \n\nif __name__ == '__main__':\n    main()   \n</code></pre>\n\n<p>Gives us:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jDPlJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jDPlJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I would like to have the labels (\"Cat\", \"Dog\", \"Unicorn\") either underneath or to the side of the images.</p>\n\n<p>It's also important that the solution work for an arbitrary number of Checkbuttons, as in the <code>for</code> loop above.</p>\n\n<p>Should I be using Grid and stacking these Checkbuttons next to Labels?  I've managed to avoid learning it so far.  Or is it easy to do with Pack?</p>\n"}, {"tags": ["python", "file", "memory", "pickle", "disk"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1515017643, "post_id": 48085752, "comment_id": 83146750, "body": "How do you thing, one billion of numbers fit in 8KB?"}], "answers": [{"comments": [{"owner": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "edited": false, "score": 0, "creation_date": 1515018789, "post_id": 48085790, "comment_id": 83147197, "body": "@StefanPochmann uhm yep, in Python it&#39;s a bit more complicated. Objects are <code>PyObjects</code> having a reference counter and a type which points to the actual type, e.g. <code>PyIntObject</code> (a structural subtype), which again holds the actual value and another reference count etc. all this is well explained on the linked pages or in the Python docs."}], "tags": [], "owner": {"reputation": 20694, "user_id": 531222, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/9bec8a835a986f86131125137da13a83?s=128&d=identicon&r=PG&f=1", "display_name": "tamasgal", "link": "https://stackoverflow.com/users/531222/tamasgal"}, "is_accepted": true, "score": 2, "last_activity_date": 1515017223, "last_edit_date": 1515017223, "creation_date": 1515016923, "answer_id": 48085790, "question_id": 48085752, "link": "https://stackoverflow.com/questions/48085752/python-size-of-object-in-memory-vs-on-disk/48085790#48085790", "title": "Python - size of object in memory vs. on disk", "body": "<blockquote>\n  <p>I am guessing in memory numbers are not accurate.</p>\n</blockquote>\n\n<p>Well, this would not explain 6 orders of magnitude in size, right? ;)</p>\n\n<p><code>test</code> is a Python <code>list</code> instance. <code>getsizeof</code> will tell you the size of \"a pointer\", which is 64bit on your system together with some other attributes. But you will need to do a bit more to get all the stuff which is attached to this instance, inspecting each element (lists have no strict types in Python, so you can't simply do <code>size_of_element * len(list)</code> etc.).</p>\n\n<p>Here is one resource: <a href=\"https://code.tutsplus.com/tutorials/understand-how-much-memory-your-python-objects-use--cms-25609\" rel=\"nofollow noreferrer\">https://code.tutsplus.com/tutorials/understand-how-much-memory-your-python-objects-use--cms-25609</a></p>\n\n<p>Here is another one: <a href=\"https://stackoverflow.com/questions/449560/how-do-i-determine-the-size-of-an-object-in-python\">How do I determine the size of an object in Python?</a></p>\n"}], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 48085790, "answer_count": 1, "score": 0, "last_activity_date": 1515017223, "creation_date": 1515016739, "question_id": 48085752, "link": "https://stackoverflow.com/questions/48085752/python-size-of-object-in-memory-vs-on-disk", "title": "Python - size of object in memory vs. on disk", "body": "<p>Here is my example:</p>\n\n<pre><code>import numpy as np\ntest = [np.random.choice(range(1, 1000), 1000000) for el in range(1,1000)]\n</code></pre>\n\n<p>this object takes in memory:</p>\n\n<pre><code>print(sys.getsizeof(test)/1024/1024/1024)\n8.404254913330078e-06\n</code></pre>\n\n<p>something like 8 KB</p>\n\n<p>When I write it to disk </p>\n\n<pre><code>import pickle\nfile_path = './test.pickle'\nwith open(file_path, 'wb') as f:\n    pickle.dump(test, f)\n</code></pre>\n\n<p>it take almost 8GB from <code>ls -l</code> command</p>\n\n<p>Could somebody clarify why it take so little space in memory and some much on disk? I am guessing in memory numbers are not accurate.</p>\n"}, {"tags": ["python", "request"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1515016690, "post_id": 48085692, "comment_id": 83146390, "body": "&quot;Is there an easy way to trigger a specific form using python &amp; request ?&quot; Yes"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1515017030, "post_id": 48085692, "comment_id": 83146529, "body": "Are you asking how to <i>submit</i> a form, or how to <i>process</i> a form submission?"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1515016892, "creation_date": 1515016892, "answer_id": 48085783, "question_id": 48085692, "link": "https://stackoverflow.com/questions/48085692/python-request-send-post-with-id/48085783#48085783", "title": "Python &amp; request : send post with id?", "body": "<p>I'd go with some more advanced tools like <a href=\"https://github.com/python-mechanize/mechanize\" rel=\"nofollow noreferrer\"><code>mechanize</code></a> or <a href=\"https://github.com/MechanicalSoup/MechanicalSoup\" rel=\"nofollow noreferrer\"><code>MechanicalSoup</code></a>. The latter is actually based on <code>requests</code> internally (I assume you meant <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow noreferrer\"><code>requests</code></a> package by \"request\"). Both of these tools allow to \"select a desired form\" and then submit it specifying the required parameters. </p>\n\n<p>For instance, submitting the <code>order</code> form with <code>MechanicalSoup</code> would look something like this:</p>\n\n<pre><code>import mechanicalsoup\n\nbrowser = mechanicalsoup.StatefulBrowser()\nbrowser.open(\"https://yourwebsite.com\")\n\n# Fill-in the order form\nbrowser.select_form('#order')\nbrowser[\"value\"] = \"100\"\nbrowser.submit_selected()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 150, "user_id": 7196883, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207985960680745/picture?type=large", "display_name": "Seppe Mari&#235;n", "link": "https://stackoverflow.com/users/7196883/seppe-mari%c3%abn"}, "is_accepted": false, "score": -1, "last_activity_date": 1515017440, "creation_date": 1515017440, "answer_id": 48085910, "question_id": 48085692, "link": "https://stackoverflow.com/questions/48085692/python-request-send-post-with-id/48085910#48085910", "title": "Python &amp; request : send post with id?", "body": "<p>Try something like this: (prob need to make some modifications but it will be close to what you want this example is for login form):</p>\n\n<p>install lxml</p>\n\n<pre><code>import requests\nfrom lxml import html\n\npayload = {\n\"username\": \"&lt;USER NAME&gt;\", \n\"password\": \"&lt;PASSWORD&gt;\", \n\"csrfmiddlewaretoken\": \"&lt;CSRF_TOKEN&gt;\"\n}\n\nsessionReq = requests.session()\n\nlogin_url = \"https://example.be/account/login.php\"\nresult = sessionReq.get(login_url)\n\ntree = html.fromstring(result.text)\nauthenticity_token = list(set(tree.xpath(\"//input[@name='csrfmiddlewaretoken']/@value\")))[0]\n\nresult = sessionReq.post(login_url,data = payload, headers = dict(referer = login_url)\nurl = 'https://bitbucket.org/dashboard/overview'\n</code></pre>\n\n<p>I hope this helps you :)</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4152777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67cd63513a01429bc3d2076c82b7a81?s=128&d=identicon&r=PG&f=1", "display_name": "ekristina", "link": "https://stackoverflow.com/users/4152777/ekristina"}, "is_accepted": false, "score": 0, "last_activity_date": 1515017837, "creation_date": 1515017837, "answer_id": 48085976, "question_id": 48085692, "link": "https://stackoverflow.com/questions/48085692/python-request-send-post-with-id/48085976#48085976", "title": "Python &amp; request : send post with id?", "body": "<p>You have to look at the DevTools Network tab while posting a form.\nEvery form will have different request url and post parameters. Generally, what you will need to do with <code>requests</code> is something like that:</p>\n\n<pre><code>    req = requests.post('https://mywebsite.com/pageB', \n                         data = {'fieldB':'value_you_want_to_submit'})\n</code></pre>\n\n<p>But better first investigate it with DevTools.</p>\n"}], "owner": {"reputation": 111, "user_id": 3923073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7e2c1bda32ca776d792b62ba9bcd6b8?s=128&d=identicon&r=PG&f=1", "display_name": "user3923073", "link": "https://stackoverflow.com/users/3923073/user3923073"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1817, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1515017837, "creation_date": 1515016499, "question_id": 48085692, "link": "https://stackoverflow.com/questions/48085692/python-request-send-post-with-id", "title": "Python &amp; request : send post with id?", "body": "<p>I would like to submit a form on a webpage.</p>\n\n<p>The page has however several forms :</p>\n\n<pre><code>&lt;form method=\"post\" action=\"https://mywebsite.com/pageA\" id=\"order\" class=\"order ajaxForm\"&gt;\n&lt;input type=\"text\" class=\"decimal\" name=\"value\" id=\"fieldA\" value=\"0\" /&gt;\n&lt;/label&gt;\n&lt;/form&gt;\n\n&lt;form method=\"post\" action=\"https://mywebsite.com/pageB\" id=\"previousorder\" class=\"order ajaxForm\"&gt;\n&lt;input type=\"text\" class=\"decimal\" name=\"value\" id=\"fieldB\" value=\"0\" /&gt;\n&lt;/label&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Is there an easy way to trigger a specific form using python &amp; request ?</p>\n"}, {"tags": ["python", "file", "dictionary", "io", "simplify"], "comments": [{"owner": {"reputation": 2583, "user_id": 1366439, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/afa5ebac19b12e5d6a7c7340cad5acb5?s=128&d=identicon&r=PG", "display_name": "CBredlow", "link": "https://stackoverflow.com/users/1366439/cbredlow"}, "edited": false, "score": 2, "creation_date": 1515016480, "post_id": 48085644, "comment_id": 83146293, "body": "I really hope this is for some homework thing, because storing passwords like that is a very, very, VERY bad idea"}, {"owner": {"reputation": 2285, "user_id": 310019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fa69a5e1da2f87ac30b62293208d55a?s=128&d=identicon&r=PG", "display_name": "Miles Erickson", "link": "https://stackoverflow.com/users/310019/miles-erickson"}, "edited": false, "score": 2, "creation_date": 1515016531, "post_id": 48085644, "comment_id": 83146317, "body": "As mentioned by CBredlow, passwords are <i>never</i> to be stored as plaintext. Even storing an unsalted hash of a password is fraught with peril, but it&#39;s a good place to start."}, {"owner": {"reputation": 2583, "user_id": 1366439, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/afa5ebac19b12e5d6a7c7340cad5acb5?s=128&d=identicon&r=PG", "display_name": "CBredlow", "link": "https://stackoverflow.com/users/1366439/cbredlow"}, "edited": false, "score": 0, "creation_date": 1515016601, "post_id": 48085644, "comment_id": 83146351, "body": "I mean, if you&#39;re choosing to do this, why not store them as some sort of dictionary/tuples in the text file and read them in."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1515016672, "post_id": 48085644, "comment_id": 83146383, "body": "<i>doesn&#39;t really work how I thought it would</i> Please explain what you want it to do, and what it&#39;s doing instead.  Don&#39;t just tell us &quot;it isn&#39;t working&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 1113, "user_id": 1788774, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/acwQG.jpg?s=128&g=1", "display_name": "excalibur1491", "link": "https://stackoverflow.com/users/1788774/excalibur1491"}, "is_accepted": false, "score": 1, "last_activity_date": 1515021295, "last_edit_date": 1515021295, "creation_date": 1515017037, "answer_id": 48085818, "question_id": 48085644, "link": "https://stackoverflow.com/questions/48085644/python-reading-back-usernames-and-passwords-into-a-program-to-authenticate/48085818#48085818", "title": "Python- Reading back usernames and passwords into a program to authenticate", "body": "<p>Assuming that variables <code>user</code> and <code>passwd</code> have the username and password provided by the user, then just read the file in two lines:</p>\n\n<pre><code>file_contents = []\nwith open(\"UsernamesAndPasswords.txt\",\"r\") as f:  #use \"with\", it will auotamtically close the file\n    file_contents = f.readlines()\nusernames = file_contents[0::2]  #step by 2, take all elements starting at index 0\npasswords = file_contents[1::2]  #step by 2, take all elements starting at index 1\nfound_at_index = -1\nfor i in range(0,len(usernames)):\n    if user == usernames[i] and passwd == passwrods[i]:\n        found_at_index = i\n        break\nif found_at_index &gt;= 0 :\n     #do whatever you want, there is match\nelse:\n     #I don't know what you wanted to do in this case\n</code></pre>\n\n<p>Please read this for the <a href=\"https://docs.python.org/2/reference/compound_stmts.html#with\" rel=\"nofollow noreferrer\">with</a> keyword and <a href=\"https://docs.python.org/3/tutorial/inputoutput.html\" rel=\"nofollow noreferrer\">this</a> for how to read a file nicelly. </p>\n\n<p>Also <a href=\"https://www.pythoncentral.io/how-to-slice-listsarrays-and-tuples-in-python/\" rel=\"nofollow noreferrer\">this</a> about the <code>[::]</code> syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8853618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/920e4ca2bc4f1ae61308d934523aeb34?s=128&d=identicon&r=PG&f=1", "display_name": "CaMMelo", "link": "https://stackoverflow.com/users/8853618/cammelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1515017049, "creation_date": 1515017049, "answer_id": 48085822, "question_id": 48085644, "link": "https://stackoverflow.com/questions/48085644/python-reading-back-usernames-and-passwords-into-a-program-to-authenticate/48085822#48085822", "title": "Python- Reading back usernames and passwords into a program to authenticate", "body": "<p>You could create a dictionary with the user names and passwords like this:</p>\n\n<pre><code>dict = {\n    'user-name': 'password-hashing',\n    'another-user': 'another-password'\n}\n</code></pre>\n\n<p>after you've done it you can save this dict in a json file, and load its content when the user asks for login.</p>\n\n<p>the docs for handling json files with python: <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/json.html</a></p>\n\n<p>obs.: it will look simpler, but its not the best way of doing this king of thing</p>\n"}], "owner": {"reputation": 1, "user_id": 8816009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f18af5b87e69f9ab2b5f65fd38b812?s=128&d=identicon&r=PG&f=1", "display_name": "James Duxbury", "link": "https://stackoverflow.com/users/8816009/james-duxbury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1515021295, "creation_date": 1515016297, "last_edit_date": 1515018948, "question_id": 48085644, "link": "https://stackoverflow.com/questions/48085644/python-reading-back-usernames-and-passwords-into-a-program-to-authenticate", "title": "Python- Reading back usernames and passwords into a program to authenticate", "body": "<p>I am currently writing a program in Python that asks if you have a log in. If no, they proceed to create a username and password. If yes, they log in and their details are checked against a text file. The text file looks like this (Username then password):</p>\n\n<pre><code>whitehallj27\nEXpass%20\nUsername2\nEXPASSWORD%%%\njames_27\npassword1234\n</code></pre>\n\n<p>I am trying to figure out a way of programming this as simply as possible. It seems to work, but isn't nearly as simple and doesn't really work how I thought it would. Here is the code snippet:</p>\n\n<pre><code>logins={}\nusernames_passwords=open(\"UsernamesAndPasswords.txt\",\"r\")\ncount=0\nfor line in usernames_passwords:\n    count=count+1\ncount=count/2    \nusernames_passwords.close()\nusernames_passwords=open(\"UsernamesAndPasswords.txt\",\"r\")\n\ntry:\n    for x in range(count):\n        username=usernames_passwords.readline()\n        password=usernames_passwords.readline()\n        logins[username]=password\nexcept TypeError:\n    count=int(count+0.5)\n    for x in range(count):\n        username=usernames_passwords.readline()\n        password=usernames_passwords.readline()\n        logins[username]=password\n\nusernames_passwords.close()\nprint(logins)\n</code></pre>\n\n<p>Also, how would I go about authenticating the username and password to check it's correct.</p>\n\n<p>Many thanks,\nJames Duxbury</p>\n"}, {"tags": ["python", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1515016886, "post_id": 48085607, "comment_id": 83146465, "body": "it depends on how you are relating an <code>item</code> to a <code>domain</code>, does it have a field that indicates to which domain it belongs? something like <code>item = {&#39;domain&#39;: &#39;www.example2.com&#39;}</code>?"}, {"owner": {"reputation": 51, "user_id": 3797806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7dc5c6a9c7e3d9c374581e1467ad26?s=128&d=identicon&r=PG&f=1", "display_name": "user3797806", "link": "https://stackoverflow.com/users/3797806/user3797806"}, "reply_to_user": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1515043170, "post_id": 48085607, "comment_id": 83152664, "body": "Currently it does nothing like that. Assuming I do this part, how can I achieve the desired logic?"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 3797806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7dc5c6a9c7e3d9c374581e1467ad26?s=128&d=identicon&r=PG&f=1", "display_name": "user3797806", "link": "https://stackoverflow.com/users/3797806/user3797806"}, "edited": false, "score": 1, "creation_date": 1515060886, "post_id": 48091638, "comment_id": 83160427, "body": "Hi @Tom&#225;\u0161 Linhart , thanks for the suggestion. This is close to what I want. But I am not trying to filter the requests after reaching the limit. I want the spider to stop sending requests to that domain..and once the limits to all the domains have reached, the spider stops."}], "tags": [], "owner": {"reputation": 8101, "user_id": 5832540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sy8es.jpg?s=128&g=1", "display_name": "Tom&#225;\u0161 Linhart", "link": "https://stackoverflow.com/users/5832540/tom%c3%a1%c5%a1-linhart"}, "is_accepted": false, "score": 3, "last_activity_date": 1515055709, "creation_date": 1515055709, "answer_id": 48091638, "question_id": 48085607, "link": "https://stackoverflow.com/questions/48085607/how-can-i-limit-the-number-of-items-scraped-per-domain-in-scrapy/48091638#48091638", "title": "How can I limit the number of items scraped per domain in scrapy?", "body": "<p>See this toy example:</p>\n\n<pre><code>from __future__ import print_function\n\nimport collections\ntry:\n    from urllib.urlparse import urlsplit\nexcept ImportError:\n    from urlparse import urlsplit\n\nfrom scrapy.linkextractors import LinkExtractor\nfrom scrapy.spiders import CrawlSpider, Rule\n\n\nclass MySpider(CrawlSpider):\n    name = 'myspider'\n    start_urls = ['http://quotes.toscrape.com/',\n                  'http://webscraper.io/test-sites']\n    allowed_domains = ['quotes.toscrape.com', 'webscraper.io']\n\n    scraped_count = collections.defaultdict(int)\n    limit = 10\n\n    rules = [Rule(LinkExtractor(allow=()), callback='parse_page',\n                  follow=True, process_request='process_request')]\n\n    def parse_page(self, response):\n        yield {\n            'url': response.url\n        }\n\n    def process_request(self, request):\n        url = urlsplit(request.url)[1]\n        if self.scraped_count[url] &lt; self.limit:\n            self.scraped_count[url] += 1\n            return request\n        else:\n            print('Limit reached for {}'.format(url))\n</code></pre>\n\n<p>It keeps track of the number of items scraped per domain in attribute <code>scraped_count</code>. Attribute <code>limit</code> holds the limit per domain. The logic is put inside the <code>process_request</code> method that's passed as an argument to <a href=\"https://doc.scrapy.org/en/latest/topics/spiders.html#scrapy.spiders.Rule\" rel=\"nofollow noreferrer\"><code>Rule</code></a> and that gets called for every request extracted by that rule (see the documentation). When you are over the limit, request gets filtered, otherwise it's returned unchanged and gets processed.</p>\n\n<p>If you need something more sophisticated or applicable to multiple spiders, I'd suggest you extend <a href=\"https://github.com/scrapy/scrapy/blob/master/scrapy/extensions/closespider.py\" rel=\"nofollow noreferrer\"><code>CloseSpider</code></a> extension class, implement the logic there and replace the default class in the <code>settings.py</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 3797806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7dc5c6a9c7e3d9c374581e1467ad26?s=128&d=identicon&r=PG&f=1", "display_name": "user3797806", "link": "https://stackoverflow.com/users/3797806/user3797806"}, "edited": false, "score": 0, "creation_date": 1515061572, "post_id": 48093043, "comment_id": 83160879, "body": "Hi parik...I am able to set limit for the number of items scraped by the spider. I want to set a limit on the number of items &quot;per domain&quot; in my start_urls."}, {"owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "reply_to_user": {"reputation": 51, "user_id": 3797806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7dc5c6a9c7e3d9c374581e1467ad26?s=128&d=identicon&r=PG&f=1", "display_name": "user3797806", "link": "https://stackoverflow.com/users/3797806/user3797806"}, "edited": false, "score": 0, "creation_date": 1515076451, "post_id": 48093043, "comment_id": 83169895, "body": "if you want that  spider to stop sending requests to that domain, you can count the item of each domain and put them in one variable or dict, before sending a request, you can have a condition if the number of items are less than the number that you want"}, {"owner": {"reputation": 51, "user_id": 3797806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7dc5c6a9c7e3d9c374581e1467ad26?s=128&d=identicon&r=PG&f=1", "display_name": "user3797806", "link": "https://stackoverflow.com/users/3797806/user3797806"}, "edited": false, "score": 1, "creation_date": 1515089653, "post_id": 48093043, "comment_id": 83177551, "body": "This is what @Tom&#225;\u0161 Linhart&#39;s solution is about..I am looking for a more sophisticated way of making scrapy understand to not generate more requests rather than me stopping the requests"}], "tags": [], "owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "is_accepted": false, "score": 1, "last_activity_date": 1515060847, "creation_date": 1515060847, "answer_id": 48093043, "question_id": 48085607, "link": "https://stackoverflow.com/questions/48085607/how-can-i-limit-the-number-of-items-scraped-per-domain-in-scrapy/48093043#48093043", "title": "How can I limit the number of items scraped per domain in scrapy?", "body": "<p>You can use <strong><a href=\"https://doc.scrapy.org/en/latest/topics/extensions.html#closespider-itemcount\" rel=\"nofollow noreferrer\">CLOSESPIDER_ITEMCOUNT</a></strong> </p>\n\n<blockquote>\n  <p>An integer which specifies a number of items. If the spider scrapes\n  more than that amount and those items are passed by the item pipeline,\n  the spider will be closed with the reason closespider_itemcount.\n  Requests which are currently in the downloader queue (up to\n  CONCURRENT_REQUESTS requests) are still processed. If zero (or non\n  set), spiders won\u2019t be closed by number of passed items.</p>\n</blockquote>\n"}], "owner": {"reputation": 51, "user_id": 3797806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7dc5c6a9c7e3d9c374581e1467ad26?s=128&d=identicon&r=PG&f=1", "display_name": "user3797806", "link": "https://stackoverflow.com/users/3797806/user3797806"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2465, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1515060847, "creation_date": 1515016123, "question_id": 48085607, "link": "https://stackoverflow.com/questions/48085607/how-can-i-limit-the-number-of-items-scraped-per-domain-in-scrapy", "title": "How can I limit the number of items scraped per domain in scrapy?", "body": "<p>I am working on scraping items from across a number of websites(using scrapy for the same).\nThe items I am trying to scrape are not always well defined and might be within texts. So I am using string matches to recognize items. However, this also yields some unwanted information along with my required data and my scraper takes a long time scraping unwanted information.\nTo avoid this, I have put an upper limit on the number of items scraped. By using an \"if\" condition, I am raising a CloseSpider() exception on reaching the upper limit.\nThis approach worked fine until I had only one domain to scrape. How do I extend it for multiple domains.</p>\n\n<pre><code>class CustomSpider(CrawlSpider):\nname = \"myspider\"\nstart_urls = ['https://www.example1.com/']\nallowed_domains = ['www.example1.com']\nrules = [Rule(LinkExtractor(allow=()), callback='parse_info', follow = True)]\n\ndef parse_info(self, response):\n    scrape_count = self.crawler.stats.get_value('item_scraped_count')\n    if scrape_count == 20:\n        raise CloseSpider(\"Limit Reached\")\n</code></pre>\n\n<p>My question is, how to extend this code for the following scenario:</p>\n\n<pre><code>class CustomSpider(CrawlSpider):\nname = \"myspider\"\nstart_urls = ['https://www.example1.com/', 'https://www.example2.com/']\nallowed_domains = ['www.example1.com', 'www.example2.com/']\nrules = [Rule(LinkExtractor(allow=()), callback='parse_info', follow = True)]\n\ndef parse_info(self, response):\n</code></pre>\n\nsuggest change in logic here\n\n<pre><code>    scrape_count = self.crawler.stats.get_value('item_scraped_count')\n    if scrape_count == 20:\n        raise CloseSpider(\"Limit Reached\")\n</code></pre>\n"}, {"tags": ["python", "tkinter", "global"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 1, "creation_date": 1515016205, "post_id": 48085597, "comment_id": 83146175, "body": "Add the <code>global aantal_munten</code> line to be the 1st one of <code>Munt1</code> and <code>Munt2</code>. Also, you can delete the same line from its current position."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515017492, "post_id": 48085597, "comment_id": 83146708, "body": "Please provide <a href=\"https://stackoverflow.com/help/mcve\">a Minimal, Complete, and Verifiable example</a>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9168866"}, "is_accepted": false, "score": 1, "last_activity_date": 1515017963, "last_edit_date": 1515017963, "creation_date": 1515016613, "answer_id": 48085727, "question_id": 48085597, "link": "https://stackoverflow.com/questions/48085597/cant-get-my-functions-munt2-and-munt1-to-subtract-my-global-variable-aantal-m/48085727#48085727", "title": "Cant get my functions (Munt2 and Munt1) to subtract my global variable (aantal_munten)", "body": "<pre><code>def Munt1():\n    global aantal_munten\n    eenMunt = 1\n    aantal_munten -= eenMunt\n\ndef Munt2():\n    global aantal_munten\n    tweeMunt = 2\n    aantal_munten -= tweeMunt\n</code></pre>\n\n<p>I just added the <code>global aantal_munten</code> line and checked it, and it's working perfectly now. </p>\n"}], "owner": {"reputation": 1, "user_id": 9025423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T06SS.jpg?s=128&g=1", "display_name": "Jordy Rutten", "link": "https://stackoverflow.com/users/9025423/jordy-rutten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1515017963, "creation_date": 1515016081, "question_id": 48085597, "link": "https://stackoverflow.com/questions/48085597/cant-get-my-functions-munt2-and-munt1-to-subtract-my-global-variable-aantal-m", "title": "Cant get my functions (Munt2 and Munt1) to subtract my global variable (aantal_munten)", "body": "<p>I have a problem with my code (trying to make the NIM game with a Tkinter GUI). Anyhow i cant get my functions (Munt1, Munt2) to subtract to my global (aantal_munten). And i dont know how to fix it. Can someone point me in the right direction? Also the TKinter gui is still a bit new for me so if you have any tips or tricks for me they are well appreciated!</p>\n\n<pre><code>import tkinter\nimport random\n\ndef toonStartscherm():\n    keuzescherm.pack_forget()\n    spelerscherm.pack_forget()\n    startscherm.pack()\n\ndef toonKeuzescherm():\n    keuzescherm.pack()\n    startscherm.pack_forget()\n    spelerscherm.pack_forget()\n\ndef spelOptie1():\n    keuzescherm.pack_forget()\n    startscherm.pack_forget()\n    spelerscherm.pack()\n\ndef randomSpeler():\n    beginnende_speler = random.choice(['1', '2'])\n    speler = beginnende_speler\n    if speler == '1':\n        speler = '2'\n    else:\n        speler = '1'\n    return str(speler)\n\ndef Munt1():\n    eenMunt = 1\n    aantal_munten -= eenMunt\n\ndef Munt2():\n    tweeMunt = 2\n    aantal_munten -= tweeMunt\nnim_spel = tkinter.Tk()\n\nglobal aantal_munten\naantal_munten = 7\n\nstartscherm = tkinter.Frame(master=nim_spel)\nstartscherm.pack()\nstart_welkom = tkinter.Label(startscherm, text= 'Welkom bij het NIM spel! \\nHieronder volgende de spelregels.')\nstart_welkom.pack()\nstart_uitleg = tkinter.Label(startscherm, text= 'Het spel NIM start met 7 munten, elke speler mag \u00e9\u00e9n of twee munten pakken. \\n De speler die de laatste munt pakt verliest!')\nstart_uitleg.pack() # zet uitleg automatisch in venster\ndoorgaan_knop = tkinter.Button(startscherm, text = 'Ik snap de regels!', fg = 'green', command = toonKeuzescherm) # maakt knop en laat stoppen\ndoorgaan_knop.pack(side = 'bottom')\n\nkeuzescherm = tkinter.Frame(master=nim_spel)\nkeuzescherm.pack()\nkeuze_opties = tkinter.Label(keuzescherm, text='Het NIM spel kan op twee manieren gespeeld worden. \\n Optie 1: Tegen elkaar \\n Optie 2: Tegen de computer')\nkeuze_opties.pack() # zet opties automatisch in venster\nkeuze_vraag = tkinter.Label(keuzescherm, text='Voor welke optie kies je?')\nkeuze_vraag.pack()\noptie_1 = tkinter.Button(keuzescherm, text = 'Optie 1', fg = 'green', command = spelOptie1) # maakt knop en laat stoppen\noptie_1.pack(side = 'left')\noptie_2 = tkinter.Button(keuzescherm, text = 'Optie 2', fg = 'red', command = keuzescherm.quit) # maakt knop en laat stoppen\noptie_2.pack(side = 'right')\n\nspelerscherm = tkinter.Frame(master=nim_spel)\nspelerscherm.pack()\nbeurt_speler = tkinter.Label(spelerscherm, text='Speler ' + (randomSpeler()) + ' is aan de beurt!')\nbeurt_speler.pack()\nmunten_over = tkinter.Label(spelerscherm, text='Er zijn nog ' + (str(aantal_munten)) + ' aantal munten over, hoeveel pak je er?')\nmunten_over.pack()\npak_1_munt = tkinter.Button(spelerscherm, text = '1 munt', fg = 'blue', command = Munt1)\npak_1_munt.pack(side = 'left')\npak_2_munt = tkinter.Button(spelerscherm, text = '2 munten', fg = 'blue', command = Munt2)\npak_2_munt.pack(side = 'right')\n\ntoonStartscherm()\nnim_spel.mainloop()\n</code></pre>\n"}, {"tags": ["python", "pandas", "apply"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 6905678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a09dc19427106bf0bbe0534716a872ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Noirre", "link": "https://stackoverflow.com/users/6905678/joseph-noirre"}, "edited": false, "score": 0, "creation_date": 1515017656, "post_id": 48085619, "comment_id": 83146755, "body": "I&#39;m getting <code>ValueError: too many values to unpack (expected 3)</code>"}, {"owner": {"reputation": 1825, "user_id": 3922132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h5dMq.jpg?s=128&g=1", "display_name": "AidanGawronski", "link": "https://stackoverflow.com/users/3922132/aidangawronski"}, "reply_to_user": {"reputation": 327, "user_id": 6905678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a09dc19427106bf0bbe0534716a872ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Noirre", "link": "https://stackoverflow.com/users/6905678/joseph-noirre"}, "edited": false, "score": 0, "creation_date": 1515017819, "post_id": 48085619, "comment_id": 83146818, "body": "Did you change the return value of the function to a tuple? (In you answer it was a list)"}, {"owner": {"reputation": 327, "user_id": 6905678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a09dc19427106bf0bbe0534716a872ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Noirre", "link": "https://stackoverflow.com/users/6905678/joseph-noirre"}, "edited": false, "score": 0, "creation_date": 1515017880, "post_id": 48085619, "comment_id": 83146838, "body": "Yes, I did     <code>return (description, city, country)</code> .  I think it might be because some of the <code>city</code> values returned have commas in them."}, {"owner": {"reputation": 1825, "user_id": 3922132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h5dMq.jpg?s=128&g=1", "display_name": "AidanGawronski", "link": "https://stackoverflow.com/users/3922132/aidangawronski"}, "reply_to_user": {"reputation": 327, "user_id": 6905678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a09dc19427106bf0bbe0534716a872ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Noirre", "link": "https://stackoverflow.com/users/6905678/joseph-noirre"}, "edited": false, "score": 0, "creation_date": 1515018045, "post_id": 48085619, "comment_id": 83146909, "body": "What do you get if you do: suspect[&#39;ip_address&#39;].apply(returnIP)[0]"}], "tags": [], "owner": {"reputation": 1825, "user_id": 3922132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h5dMq.jpg?s=128&g=1", "display_name": "AidanGawronski", "link": "https://stackoverflow.com/users/3922132/aidangawronski"}, "is_accepted": false, "score": 2, "last_activity_date": 1515016160, "creation_date": 1515016160, "answer_id": 48085619, "question_id": 48085579, "link": "https://stackoverflow.com/questions/48085579/pandas-dataframe-apply-function-over-column-creating-multiple-columns/48085619#48085619", "title": "pandas dataframe apply function over column creating multiple columns", "body": "<pre><code>from ipwhois import IPWhois\n\ndef returnIP(ip) :\n    obj = IPWhois(str(ip))\n    result = obj.lookup_whois()\n\n    description = result[\"nets\"][len(result[\"nets\"]) - 1 ][\"description\"]\n    city = result[\"nets\"][len(result[\"nets\"]) - 1 ][\"city\"]\n    country = result[\"nets\"][len(result[\"nets\"]) - 1 ][\"country\"]\n\n    return (description, city, country)\n\n\nsuspect['description'], suspect['city'], suspect['country'] = \\\nsuspect['ip_address'].apply(returnIP)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 6905678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a09dc19427106bf0bbe0534716a872ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Noirre", "link": "https://stackoverflow.com/users/6905678/joseph-noirre"}, "is_accepted": false, "score": 0, "last_activity_date": 1515076175, "creation_date": 1515076175, "answer_id": 48097382, "question_id": 48085579, "link": "https://stackoverflow.com/questions/48085579/pandas-dataframe-apply-function-over-column-creating-multiple-columns/48097382#48097382", "title": "pandas dataframe apply function over column creating multiple columns", "body": "<p>I was able to solve it with another stackoverflow solution</p>\n\n<pre><code>for n,col in enumerate(cols):\n    suspect[col] = suspect['ipwhois'].apply(lambda ipwhois: ipwhois[n])\n</code></pre>\n\n<p>If there's a more elegant way to solve this, please share!</p>\n"}], "owner": {"reputation": 327, "user_id": 6905678, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a09dc19427106bf0bbe0534716a872ae?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph Noirre", "link": "https://stackoverflow.com/users/6905678/joseph-noirre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1515076175, "creation_date": 1515015968, "question_id": 48085579, "link": "https://stackoverflow.com/questions/48085579/pandas-dataframe-apply-function-over-column-creating-multiple-columns", "title": "pandas dataframe apply function over column creating multiple columns", "body": "<p>I have the pandas df below, with a few columns, one of which is <code>ip_addresses</code></p>\n\n<pre><code>    df.head()\n           my_id   someother_id  created_at        ip_address     state\n308074     309115   2859690   2014-09-26 22:55:20   67.000.000.000  rejected\n308757     309798   2859690   2014-09-30 04:16:56   173.000.000.000  approved\n309576     310619   2859690   2014-10-02 20:13:12   173.000.000.000  approved\n310347     311390   2859690   2014-10-05 04:16:01   173.000.000.000 approved\n311784     312827   2859690   2014-10-10 06:38:39   69.000.000.000  approved\n</code></pre>\n\n<p>For each ip_address I'm trying to return the <code>description, city, country</code></p>\n\n<p>I wrote a function below and tried to apply it</p>\n\n<pre><code>from ipwhois import IPWhois\n\n\ndef returnIP(ip) :\n    obj = IPWhois(str(ip))\n    result = obj.lookup_whois()\n\n    description = result[\"nets\"][len(result[\"nets\"]) - 1 ][\"description\"]\n    city = result[\"nets\"][len(result[\"nets\"]) - 1 ][\"city\"]\n    country = result[\"nets\"][len(result[\"nets\"]) - 1 ][\"country\"]\n\n    return [description, city, country]\n\n# --- \n\nsuspect['ipwhois'] = suspect['ip_address'].apply(returnIP)\n</code></pre>\n\n<p>My problem is that this returns a list, I want three separate columns.  </p>\n\n<p>Any help is greatly appreciated.  I'm new to Pandas/Python so if there's a better way to write the function and use Pandas would be very helpful.    </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1515016051, "post_id": 48085578, "comment_id": 83146118, "body": "Would you care to also share the error with us?"}, {"owner": {"reputation": 746, "user_id": 5306132, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PTiRAB237_A/AAAAAAAAAAI/AAAAAAAAAQM/JAWG4One1Bo/photo.jpg?sz=128", "display_name": "Stavros Avramidis", "link": "https://stackoverflow.com/users/5306132/stavros-avramidis"}, "edited": false, "score": 0, "creation_date": 1515016059, "post_id": 48085578, "comment_id": 83146125, "body": "the error you get??"}, {"owner": {"reputation": 1877, "user_id": 4784537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bbfFs.jpg?s=128&g=1", "display_name": "Ahmad Al-Kurdi", "link": "https://stackoverflow.com/users/4784537/ahmad-al-kurdi"}, "edited": false, "score": 0, "creation_date": 1515016425, "post_id": 48085578, "comment_id": 83146275, "body": "what is the error that you have"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1515016597, "post_id": 48085578, "comment_id": 83146346, "body": "Might be a Python 2.x vs. 3.x issue."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1515020107, "post_id": 48085578, "comment_id": 83147601, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}], "answers": [{"tags": [], "owner": {"reputation": 431, "user_id": 8807968, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-n3JPOuspzRQ/AAAAAAAAAAI/AAAAAAAAAXI/Cdxxi3FWPkY/photo.jpg?sz=128", "display_name": "Rohan", "link": "https://stackoverflow.com/users/8807968/rohan"}, "is_accepted": false, "score": 0, "last_activity_date": 1515016352, "creation_date": 1515016352, "answer_id": 48085659, "question_id": 48085578, "link": "https://stackoverflow.com/questions/48085578/python-on-visual-studio-error/48085659#48085659", "title": "Python on Visual Studio Error", "body": "<p>In visual studio and most other editors, they are updated to the most recent python, also meaning that you have to place parentheses after the print statement.\nFor example:</p>\n\n<pre><code>print(\"hello\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 9782476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/89GVi.jpg?s=128&g=1", "display_name": "Aldo RVV", "link": "https://stackoverflow.com/users/9782476/aldo-rvv"}, "is_accepted": false, "score": 0, "last_activity_date": 1526267167, "creation_date": 1526267167, "answer_id": 50322618, "question_id": 48085578, "link": "https://stackoverflow.com/questions/48085578/python-on-visual-studio-error/50322618#50322618", "title": "Python on Visual Studio Error", "body": "<p>Visual Studio runs Python 3.x.x, so, you have to write the print sentences on this way:</p>\n\n<pre><code>print('String to print')\n</code></pre>\n\n<p>Because in Python 3 print is a function, not a reserved word like in Python 2.</p>\n"}], "owner": {"reputation": 1, "user_id": 9170152, "user_type": "registered", "profile_image": "https://graph.facebook.com/1920525631596897/picture?type=large", "display_name": "Can Djevdet", "link": "https://stackoverflow.com/users/9170152/can-djevdet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1526267167, "creation_date": 1515015967, "last_edit_date": 1515016228, "question_id": 48085578, "link": "https://stackoverflow.com/questions/48085578/python-on-visual-studio-error", "title": "Python on Visual Studio Error", "body": "<p>Can somebody help me identify the error here? I am using Python on Visual Studio, and I have copied the code from another source. When I paste the code into a playground like Ideone.com, the program runs without issue. Only when I paste  into visual studio do I get an error. The error is in the last two lines of code that begin with \"print\". This is probably a huge noob question, but I am a beginner. Help!</p>\n\n<pre><code>import hashlib as hasher\nimport datetime as date\n\n# Define what a Snakecoin block is\nclass Block:\n  def __init__(self, index, timestamp, data, previous_hash):\n    self.index = index\n    self.timestamp = timestamp\n    self.data = data\n    self.previous_hash = previous_hash\n    self.hash = self.hash_block()\n\n  def hash_block(self):\n    sha = hasher.sha256()\n    sha.update(str(self.index) + str(self.timestamp) + str(self.data) + str(self.previous_hash))\n    return sha.hexdigest()\n\n# Generate genesis block\ndef create_genesis_block():\n  # Manually construct a block with\n  # index zero and arbitrary previous hash\n  return Block(0, date.datetime.now(), \"Genesis Block\", \"0\")\n\n# Generate all later blocks in the blockchain\ndef next_block(last_block):\n  this_index = last_block.index + 1\n  this_timestamp = date.datetime.now()\n  this_data = \"Hey! I'm block \" + str(this_index)\n  this_hash = last_block.hash\n  return Block(this_index, this_timestamp, this_data, this_hash)\n\n# Create the blockchain and add the genesis block\nblockchain = [create_genesis_block()]\nprevious_block = blockchain[0]\n\n# How many blocks should we add to the chain\n# after the genesis block\nnum_of_blocks_to_add = 20\n\n# Add blocks to the chain\nfor i in range(0, num_of_blocks_to_add):\n  block_to_add = next_block(previous_block)\n  blockchain.append(block_to_add)\n  previous_block = block_to_add\n  # Tell everyone about it!\n  print \"Block #{} has been added to the blockchain!\".format(block_to_add.index)\n  print \"Hash: {}\\n\".format(block_to_add.hash) \n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 135, "user_id": 4691204, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0fJSJ6FR40/AAAAAAAAAAI/AAAAAAAAFL4/41h9_3Sj5jg/photo.jpg?sz=128", "display_name": "anmaxvl", "link": "https://stackoverflow.com/users/4691204/anmaxvl"}, "edited": false, "score": 0, "creation_date": 1515016367, "post_id": 48085553, "comment_id": 83146239, "body": "can you provide the error log? It is not very clear from your description."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "reply_to_user": {"reputation": 135, "user_id": 4691204, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0fJSJ6FR40/AAAAAAAAAAI/AAAAAAAAFL4/41h9_3Sj5jg/photo.jpg?sz=128", "display_name": "anmaxvl", "link": "https://stackoverflow.com/users/4691204/anmaxvl"}, "edited": false, "score": 0, "creation_date": 1515016463, "post_id": 48085553, "comment_id": 83146290, "body": "on the browser I&#39;m getting &#39;Houses&#39; object has no attribute &#39;get&#39; error"}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "reply_to_user": {"reputation": 135, "user_id": 4691204, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0fJSJ6FR40/AAAAAAAAAAI/AAAAAAAAFL4/41h9_3Sj5jg/photo.jpg?sz=128", "display_name": "anmaxvl", "link": "https://stackoverflow.com/users/4691204/anmaxvl"}, "edited": false, "score": 0, "creation_date": 1515016522, "post_id": 48085553, "comment_id": 83146314, "body": "I want to show &#39;houses&#39; data  on the houses.html file .."}, {"owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "edited": false, "score": 1, "creation_date": 1515016675, "post_id": 48085553, "comment_id": 83146386, "body": "<code>return</code> on the <code>houses_list()</code> is missing <code>request</code> parameter, url is referencing <code>Houses</code> instead of <code>houses_list</code> and in the template for loop it should have been <code>{{ house.house_name }}</code> etc not <code>{{ Houses.house_name }}</code>."}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1515017066, "post_id": 48085553, "comment_id": 83146535, "body": "I&#39;m getting the same error could you please write the code maybe I could write wrong.."}, {"owner": {"reputation": 135, "user_id": 4691204, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z0fJSJ6FR40/AAAAAAAAAAI/AAAAAAAAFL4/41h9_3Sj5jg/photo.jpg?sz=128", "display_name": "anmaxvl", "link": "https://stackoverflow.com/users/4691204/anmaxvl"}, "edited": false, "score": 0, "creation_date": 1515017671, "post_id": 48085553, "comment_id": 83146764, "body": "Take a look at this: <a href=\"https://docs.djangoproject.com/en/2.0/topics/http/shortcuts/#example\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.0/topics/http/shortcuts/#example</a> and this: <a href=\"https://docs.djangoproject.com/en/2.0/topics/http/urls/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.0/topics/http/urls</a>"}, {"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1515018040, "post_id": 48085553, "comment_id": 83146907, "body": "I tried that but still nothing changed"}], "answers": [{"tags": [], "owner": {"reputation": 225, "user_id": 8171079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b67f26cce7b292a3f459c9235ba57f76?s=128&d=identicon&r=PG", "display_name": "user8171079", "link": "https://stackoverflow.com/users/8171079/user8171079"}, "is_accepted": false, "score": 0, "last_activity_date": 1515019259, "last_edit_date": 1515019259, "creation_date": 1515016559, "answer_id": 48085709, "question_id": 48085553, "link": "https://stackoverflow.com/questions/48085553/django-getting-error-about-views-py/48085709#48085709", "title": "django getting error about views.py", "body": "<p>You are trying to get attributes from the Houses class in your template. Replace Houses with house, which is the current Houses object returned by the for loop. `\n</p>\n\n<pre><code>&lt;h1&gt;House list&lt;/h1&gt;\n\n&lt;div class=\"house\"&gt;\n\n    {% for house in houses %}\n\n        &lt;div class=\"house\"&gt;\n\n        &lt;h2&gt;&lt;a href=\"#\"&gt;{{house.house_name}}&lt;/a&gt;&lt;/h2&gt; \n\n        &lt;p&gt;{{house.owner}}&lt;/p&gt;\n\n        &lt;p&gt;{{house.genre}}&lt;/p&gt; \n\n&lt;/div&gt;\n\n    {% endfor %}  \n\n&lt;/div&gt; \n</code></pre>\n\n<p></p>\n\n<p><strong>EDIT</strong>\nAs Borut mentioned, your <code>render</code> call in <code>houses_list</code> is missing the <code>request</code>, i.e.</p>\n\n<pre><code>return render(request, ...)\n</code></pre>\n\n<p>Also, your <code>urlpatterns</code> is referencing <code>Houses</code> model instead of the <code>houses_list</code> view, i.e. it should be <code>views.houses_list</code> instead of <code>views.Houses</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "edited": false, "score": 0, "creation_date": 1515018829, "post_id": 48086044, "comment_id": 83147208, "body": "Thank you very much friend.I was getting crazy soon:) Thanks a lot points from me for you well done ."}], "tags": [], "owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "is_accepted": true, "score": 0, "last_activity_date": 1515018219, "creation_date": 1515018219, "answer_id": 48086044, "question_id": 48085553, "link": "https://stackoverflow.com/questions/48085553/django-getting-error-about-views-py/48086044#48086044", "title": "django getting error about views.py", "body": "<p>Here is code with fixed bugs:</p>\n\n<p>The bug in urls was causing AttributeError. Fix code to:</p>\n\n<pre><code>urlpatterns= [\n    path('', views.houses_list, name='Houses'),\n]\n</code></pre>\n\n<p><strong>Remember that urls must point to views.</strong> But after you fix this, the next error will be in the views.py, because <code>render()</code> is missing <code>request</code> argument. Change to:</p>\n\n<pre><code>def houses_list(request):\n    house = Houses.objects.all().order_by('owner')\n    return render(request, 'Houses.html',{'houses':house})\n</code></pre>\n\n<p>The bug in the template would just render empty. Fix to:</p>\n\n<pre><code>{% for house in houses %}\n&lt;div class=\"house\"&gt;\n    &lt;h2&gt;&lt;a href=\"#\"&gt;{{house.house_name}}&lt;/a&gt;&lt;/h2&gt; \n    &lt;p&gt;{{house.owner}}&lt;/p&gt;\n    &lt;p&gt;{{house.genre}}&lt;/p&gt; \n&lt;/div&gt;\n{% endfor %}  \n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9156653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc905a5f7f5e75a67f380a49beeecd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Fatih TEKE", "link": "https://stackoverflow.com/users/9156653/fatih-teke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 1, "accepted_answer_id": 48086044, "answer_count": 2, "score": -1, "last_activity_date": 1515019259, "creation_date": 1515015849, "last_edit_date": 1515016345, "question_id": 48085553, "link": "https://stackoverflow.com/questions/48085553/django-getting-error-about-views-py", "title": "django getting error about views.py", "body": "<p>This is my <code>views.py</code></p>\n\n<pre><code>from django.shortcuts import render\nfrom . models import Houses\n\n\ndef houses_list(request):\n    house = Houses.objects.all().order_by('owner')\n    return render('Houses.html',{'houses':house})\n</code></pre>\n\n<p>this my <code>models.py</code></p>\n\n<pre><code>from django.db import models\n\n\nclass Houses(models.Model):\n    owner = models.CharField(max_length=250)\n    house_name  = models.CharField(max_length=500)\n    country = models.CharField(max_length=500)\n    genre = models.CharField(max_length=100)\n\n    def __str__(self):\n        return self.house_name \n\n\nclass house(models.Model):\n    houses = models.ForeignKey(Houses, on_delete=models.CASCADE)\n    file_type = models.CharField(max_length=10)\n    house_title = models.CharField(max_length=250)\n</code></pre>\n\n<p>this my <code>url.py</code></p>\n\n<pre><code>from django.urls import path \nfrom . import views\n\n\nurlpatterns= [\n    path('', views.Houses, name='Houses'),\n]\n</code></pre>\n\n<p>this my html file</p>\n\n<pre><code>{% load static %}\n\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset = \"utf-8\"&gt;\n      &lt;title&gt;Houses&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;House list&lt;/h1&gt;\n    &lt;div class=\"house\"&gt;\n        {% for house in houses %}\n            &lt;div class=\"house\"&gt;\n            &lt;h2&gt;&lt;a href=\"#\"&gt;{{Houses.house_name}}&lt;/a&gt;&lt;/h2&gt; \n            &lt;p&gt;{{Houses.owner}}&lt;/p&gt;\n            &lt;p&gt;{{Houses.genre}}&lt;/p&gt; \n    &lt;/div&gt;\n        {% endfor %}  \n    &lt;/div&gt; \n  &lt;/body&gt;\n&lt;/html&gt;        \n</code></pre>\n\n<p>I'm tring to get the data from my database but on the web getting attribute no object error.But I can see the all objects on the admin page do you have any idea what I'm doing wrong?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1515015814, "post_id": 48085512, "comment_id": 83146020, "body": "<code>list[1] = list[1] + list[2]; del list[2]</code>"}, {"owner": {"reputation": 2202, "user_id": 3179169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff0167d99069678064f633be190b386?s=128&d=identicon&r=PG&f=1", "display_name": "clinomaniac", "link": "https://stackoverflow.com/users/3179169/clinomaniac"}, "edited": false, "score": 1, "creation_date": 1515015816, "post_id": 48085512, "comment_id": 83146022, "body": "What have you tried to do so far? Do you need to join all non alphabetical characters or just those 2?"}, {"owner": {"reputation": 1228, "user_id": 4709524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wGrTV.jpg?s=128&g=1", "display_name": "beasy", "link": "https://stackoverflow.com/users/4709524/beasy"}, "edited": false, "score": 0, "creation_date": 1515015926, "post_id": 48085512, "comment_id": 83146065, "body": "it looks like what you want to do is remove a list element. What elements did you mean you want to &quot;join?&quot;"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1515016018, "post_id": 48085512, "comment_id": 83146100, "body": "Joining the two strings, as well as removing a list element, are both basic language operations that are well documented.  Where are you stuck?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1515017893, "post_id": 48085512, "comment_id": 83146846, "body": "This has an interesting solution <a href=\"https://repl.it/repls/StupendousSandyAfricanfisheagle\" rel=\"nofollow noreferrer\">in Haskell</a> that generalizes well."}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 4, "last_activity_date": 1515016274, "last_edit_date": 1515016274, "creation_date": 1515015934, "answer_id": 48085570, "question_id": 48085512, "link": "https://stackoverflow.com/questions/48085512/how-to-join-two-items-in-a-python-list/48085570#48085570", "title": "How to join two items in a Python list?", "body": "<p>You can use unpacking in Python3:</p>\n\n<pre><code>l = ['h', 'e', \"'\", 'l', 'l', 'o']\na, *b, c, d, e = l\nnew_l = [a, ''.join(b), c, d, e]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['h', \"e'\", 'l', 'l', 'o']\n</code></pre>\n\n<p>Since Python2 does not support list unpacking (<code>*</code>), you can use list slicing:</p>\n\n<pre><code>l = ['h', 'e', \"'\", 'l', 'l', 'o']\nnew_l = l[:1]+[''.join(l[1:3])]+l[3:]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['h', \"e'\", 'l', 'l', 'o']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "is_accepted": true, "score": 1, "last_activity_date": 1515016070, "creation_date": 1515016070, "answer_id": 48085592, "question_id": 48085512, "link": "https://stackoverflow.com/questions/48085512/how-to-join-two-items-in-a-python-list/48085592#48085592", "title": "How to join two items in a Python list?", "body": "<p>You could define your own function and use <code>.pop</code> to remove the second element:</p>\n\n<pre><code>def merge(myList, a, b):\n    myList[a] = myList[a] + myList.pop(b)\n    return myList\n\n&gt;&gt;&gt; merge(['h', 'e', \"'\", 'l', 'l', 'o'], 1, 2)\n['h', \"e'\", 'l', 'l', 'o']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "is_accepted": false, "score": 2, "last_activity_date": 1515016185, "creation_date": 1515016185, "answer_id": 48085626, "question_id": 48085512, "link": "https://stackoverflow.com/questions/48085512/how-to-join-two-items-in-a-python-list/48085626#48085626", "title": "How to join two items in a Python list?", "body": "<p>As John Gordon stated in comments, the simplest way to do it would probably be like so:</p>\n\n<pre><code>l = list(\"he'llo\")\nl[1] += l[2]\ndel l[2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1276, "user_id": 7690520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a53c07df414d1798ba0d8a84413a209?s=128&d=identicon&r=PG&f=1", "display_name": "Artier", "link": "https://stackoverflow.com/users/7690520/artier"}, "is_accepted": false, "score": 1, "last_activity_date": 1515016697, "creation_date": 1515016697, "answer_id": 48085745, "question_id": 48085512, "link": "https://stackoverflow.com/questions/48085512/how-to-join-two-items-in-a-python-list/48085745#48085745", "title": "How to join two items in a Python list?", "body": "<p>Try this</p>\n\n<pre><code>&gt;&gt;&gt; li=list(\"He'llo\")\n&gt;&gt;&gt; li[2:4]=[''.join(li[2:4])]\n&gt;&gt;&gt; li\n['H', 'e', \"'l\", 'l', 'o']\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9158931"}, "is_accepted": false, "score": 1, "last_activity_date": 1515036021, "creation_date": 1515036021, "answer_id": 48088203, "question_id": 48085512, "link": "https://stackoverflow.com/questions/48085512/how-to-join-two-items-in-a-python-list/48088203#48088203", "title": "How to join two items in a Python list?", "body": "<p>You can filter the result what you want :</p>\n\n<p><strong>Never use list as variable name :</strong></p>\n\n<pre><code>list_1 = ['h', 'e', \"'\", 'l', 'l', 'o']\n\nprint(list(filter(lambda x:x!=\"'\",list_1)))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>['h', 'e', 'l', 'l', 'o']\n</code></pre>\n\n<p>if you want to join then :</p>\n\n<pre><code>print(\"\".join(list(filter(lambda x:x!=\"'\",list_1))))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>hello\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9153145, "user_type": "registered", "profile_image": "https://graph.facebook.com/543793405988375/picture?type=large", "display_name": "workonfire", "link": "https://stackoverflow.com/users/9153145/workonfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 1, "accepted_answer_id": 48085592, "answer_count": 5, "score": 0, "last_activity_date": 1515036021, "creation_date": 1515015641, "last_edit_date": 1515015834, "question_id": 48085512, "link": "https://stackoverflow.com/questions/48085512/how-to-join-two-items-in-a-python-list", "title": "How to join two items in a Python list?", "body": "<p>I have this:</p>\n\n<pre><code>list = ['h', 'e', \"'\", 'l', 'l', 'o']\n</code></pre>\n\n<p>And I want to have this:</p>\n\n<pre><code>list = ['h', \"e'\", 'l', 'l', 'o']\n</code></pre>\n\n<p>I want to join only two list elements. How can I do that?</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1515015885, "post_id": 48085507, "comment_id": 83146054, "body": "What do you think <code>map</code> returns? Are you sure?"}], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 5230528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D1CA1.jpg?s=128&g=1", "display_name": "Pixeluz", "link": "https://stackoverflow.com/users/5230528/pixeluz"}, "edited": false, "score": 0, "creation_date": 1515016165, "post_id": 48085571, "comment_id": 83146163, "body": "Thank you! I did not know that, and yes I&#39;ve been working only with Python 2.7 before. This solves my problem."}], "tags": [], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "is_accepted": true, "score": 2, "last_activity_date": 1515015936, "creation_date": 1515015936, "answer_id": 48085571, "question_id": 48085507, "link": "https://stackoverflow.com/questions/48085507/converting-a-numpy-array-to-integer-with-astypeint-does-not-work-on-python-3-6/48085571#48085571", "title": "Converting a numpy array to integer with astype(int) does not work on Python 3.6", "body": "<p>You are passing a map object into the array and trying to convert it. Take a look at the array once it has been created. It looks like this:</p>\n\n<pre><code>array(&lt;map object at 0x127680cf8&gt;, dtype=object)\n</code></pre>\n\n<p>Try using <code>list(map(...))</code> instead.</p>\n\n<pre><code>def load_data(infile):\n    text_file = open(infile,'r')\n    text = text_file.readlines()\n    text = list(map(str.strip,text))\n    return text\nlabels = load_data('labels.txt')\nlabels_encoded = np.array(labels)\nlabels_encoded = labels_encoded.astype(int)\nlabels_encoded\narray([1, 0, 1, 0])\n</code></pre>\n\n<p>If you are just making the jump from 2.7 you should note that <code>map</code> no longer returns a list but an iterable.</p>\n"}, {"tags": [], "owner": {"reputation": 703, "user_id": 5379091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IODS9.jpg?s=128&g=1", "display_name": "Jackssn", "link": "https://stackoverflow.com/users/5379091/jackssn"}, "is_accepted": false, "score": 0, "last_activity_date": 1603994103, "creation_date": 1603994103, "answer_id": 64596696, "question_id": 48085507, "link": "https://stackoverflow.com/questions/48085507/converting-a-numpy-array-to-integer-with-astypeint-does-not-work-on-python-3-6/64596696#64596696", "title": "Converting a numpy array to integer with astype(int) does not work on Python 3.6", "body": "<p>I had same problem. My code did not work:</p>\n<pre><code>train_size = np.ceil(len(dataset) * 0.8).astype(int)\nprint(type(train_size))  # --&gt; numpy.int32\n</code></pre>\n<p>But this works great:</p>\n<pre><code>train_size = int(np.ceil(len(dataset) * 0.8))\nprint(type(train_size))  # --&gt; int\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 5230528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D1CA1.jpg?s=128&g=1", "display_name": "Pixeluz", "link": "https://stackoverflow.com/users/5230528/pixeluz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1427, "favorite_count": 0, "accepted_answer_id": 48085571, "answer_count": 2, "score": 1, "last_activity_date": 1603994103, "creation_date": 1515015561, "last_edit_date": 1515097941, "question_id": 48085507, "link": "https://stackoverflow.com/questions/48085507/converting-a-numpy-array-to-integer-with-astypeint-does-not-work-on-python-3-6", "title": "Converting a numpy array to integer with astype(int) does not work on Python 3.6", "body": "<p>I have a large text file with labels 0 or 1 in each line like this:</p>\n\n<pre><code>1\n0\n0\n1\n...\n</code></pre>\n\n<p>I load it, convert it into a numpy array, and then I want to convert the array into <code>dtype=int64</code> (as I assume these are strings). I do it like this:</p>\n\n<pre><code>def load_data(infile):\n    text_file = open(infile,'r')\n    text = text_file.readlines()\n    text = map(str.strip,text)\n    return text\nlabels = load_data('labels.txt')\nlabels_encoded = np.array(labels)\nlabels_encoded = labels_encoded.astype(int)\n</code></pre>\n\n<p>It works fine in Python 2.7, and I can work on the array later with my code, but for now I'm stuck with Python 3.6 and when I ran my code, I get an error:</p>\n\n<pre><code>Traceback (most recent call last):\n   File \"dText.py\", line 77, in &lt;module&gt;\n   labels_encoded = labels_encoded.astype(int)\nTypeError: int() argument must be a string, a bytes-like object or a number, not 'map'\n</code></pre>\n\n<p>Can anyone help me figure out what is going on here and how to get it to work on Python 3.6? I also tried:</p>\n\n<pre><code>labels_encoded = np.int_(labels_encoded)\n</code></pre>\n\n<p>but I got the same error. I'm using numpy version 1.13.3. Thanks.</p>\n"}, {"tags": ["python", "python-3.x", "unicode", "tkinter", "tkinter-canvas"], "comments": [{"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 2, "creation_date": 1515015745, "post_id": 48085420, "comment_id": 83145995, "body": "Please provide <a href=\"https://stackoverflow.com/help/mcve\">a Minimal, <i>Complete</i>, and Verifiable example</a>. In its current state, the code you&#39;ve provided is incomplete to reproduce that error."}, {"owner": {"reputation": 175, "user_id": 9170038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHd5E.jpg?s=128&g=1", "display_name": "Gary R.", "link": "https://stackoverflow.com/users/9170038/gary-r"}, "reply_to_user": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 1, "creation_date": 1515016974, "post_id": 48085420, "comment_id": 83146506, "body": "I&#39;ve added the code, @Nae. Sorry about that."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 1, "creation_date": 1515017589, "post_id": 48085420, "comment_id": 83146737, "body": "I can&#39;t reproduce the same error still. Only that mousewheel does nothing w/o any errors."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1515017598, "post_id": 48085420, "comment_id": 83146740, "body": "What do you get with <code>print(repr(event.delta))</code> or <code>print(type(event.delta))</code>?"}, {"owner": {"reputation": 175, "user_id": 9170038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHd5E.jpg?s=128&g=1", "display_name": "Gary R.", "link": "https://stackoverflow.com/users/9170038/gary-r"}, "edited": false, "score": 0, "creation_date": 1515018286, "post_id": 48085420, "comment_id": 83147026, "body": "The first &quot;tick&quot; of the mouse wheel works fine, displaying 1 or -1 depending on the direction of movement (I didn&#39;t notice this before, as I was just spinning the wheel). The second movement of the mouse wheel causes the Unicode error as shown, no matter what the &quot;print()&quot; contains. I tried it with just <code>print(&quot;on_mousewheel&quot;)</code> (not referencing event.delta at all), and it fails with the Unicode error immediately."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1515018495, "post_id": 48085420, "comment_id": 83147098, "body": "@GaryR. this is extremely strange. I can&#39;t reproduce this either, so I&#39;m just shooting in the dark here: Try binding to the canvas instead of the root window: <code>canvas.bind(&quot;&lt;MouseWheel&gt;&quot;,on_mousewheel)</code>"}, {"owner": {"reputation": 175, "user_id": 9170038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHd5E.jpg?s=128&g=1", "display_name": "Gary R.", "link": "https://stackoverflow.com/users/9170038/gary-r"}, "reply_to_user": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1515019544, "post_id": 48085420, "comment_id": 83147429, "body": "@Novel, binding it to the canvas doesn&#39;t help, even when not referencing event.delta. Is this a Mac problem, perhaps? I&#39;m using the tkinter library that automatically installed with Python 3.6, so it wouldn&#39;t be a version mismatch."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1515020042, "post_id": 48085420, "comment_id": 83147577, "body": "Another shot in the dark: Add <code>return &quot;break&quot;</code> to the on_mousewheel function."}, {"owner": {"reputation": 175, "user_id": 9170038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHd5E.jpg?s=128&g=1", "display_name": "Gary R.", "link": "https://stackoverflow.com/users/9170038/gary-r"}, "edited": false, "score": 2, "creation_date": 1515020749, "post_id": 48085420, "comment_id": 83147807, "body": "Adding <code>return &quot;break&quot;</code> doesn&#39;t change anything. Strangely, though, if I add the <code>return &quot;break&quot;</code> and remove the <code>print(event.delta)</code>, then I get the Unicode error the first time I attempt to scroll down, but not until the second time I attempt to scroll up. This is confusing the heck out of me."}, {"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515022663, "post_id": 48085420, "comment_id": 83148337, "body": "Can you provide the actual error message from this very code snippet that you&#39;ve provided?"}, {"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1515030042, "post_id": 48085420, "comment_id": 83150008, "body": "The code works as shown on Python 3.6 with Windows 10 as well and returns an integer value (-120 or 120 in my case).  What does <code>print(ascii(event.delta))</code> display?"}, {"owner": {"reputation": 175, "user_id": 9170038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHd5E.jpg?s=128&g=1", "display_name": "Gary R.", "link": "https://stackoverflow.com/users/9170038/gary-r"}, "edited": false, "score": 0, "creation_date": 1515091276, "post_id": 48085420, "comment_id": 83178318, "body": "Thank you all for the help and suggestions, but I&#39;ve given up on tkinter and switched to wxPython, which seems to be working <i>much</i> more smoothly for me."}, {"owner": {"reputation": 762, "user_id": 1470028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cPQyc.png?s=128&g=1", "display_name": "felixbade", "link": "https://stackoverflow.com/users/1470028/felixbade"}, "edited": false, "score": 2, "creation_date": 1528114430, "post_id": 48085420, "comment_id": 88370068, "body": "I got the same error by accident and I can also reproduce the error with the code provided. Python 3.6.5 on a macOS 10.13.4. Seems like a bug in the tkinter library."}, {"owner": {"reputation": 175, "user_id": 9170038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHd5E.jpg?s=128&g=1", "display_name": "Gary R.", "link": "https://stackoverflow.com/users/9170038/gary-r"}, "edited": false, "score": 0, "creation_date": 1530323989, "post_id": 48085420, "comment_id": 89209284, "body": "Thank you, felixblade! I&#39;m glad to hear it was reproducible for someone else."}, {"owner": {"reputation": 595, "user_id": 2426364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab086711e114f83a8f506ff75c1a995?s=128&d=identicon&r=PG", "display_name": "Benedetto Abbenanti", "link": "https://stackoverflow.com/users/2426364/benedetto-abbenanti"}, "edited": false, "score": 0, "creation_date": 1540165056, "post_id": 48085420, "comment_id": 92751023, "body": "It&#39;s so strange. I have the same problem here and don&#39;t know how to solve.."}], "answers": [{"tags": [], "owner": {"reputation": 595, "user_id": 2426364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab086711e114f83a8f506ff75c1a995?s=128&d=identicon&r=PG", "display_name": "Benedetto Abbenanti", "link": "https://stackoverflow.com/users/2426364/benedetto-abbenanti"}, "is_accepted": false, "score": 0, "last_activity_date": 1540168205, "creation_date": 1540168205, "answer_id": 52921092, "question_id": 48085420, "link": "https://stackoverflow.com/questions/48085420/python-3-unicode-codec-error-binding-mousewheel-in-tkinter/52921092#52921092", "title": "Python 3 unicode codec error binding mousewheel in tkinter", "body": "<p>I found some references online useful to grasp the problem, it seems to happen on an older version of ActiveTcl (8.5.x).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16995969/inertial-scrolling-in-mac-os-x-with-tkinter-and-python\">Inertial scrolling in Mac OS X with Tkinter and Python</a></p>\n\n<p><a href=\"https://github.com/nltk/nltk/issues/696\" rel=\"nofollow noreferrer\">nltk/nltk on Github - OS X: downloader GUI crashes in Python 3 when mouse wheel is used for scrolling</a></p>\n\n<p>The <strong>solution</strong> is to <em>upgrade</em> your version of <em>ActiveTlc</em> to <code>&gt;=8.6</code> and you can do this in two ways:</p>\n\n<ul>\n<li>manually</li>\n<li>installing the latest version of Python 3.7.1 via the binary package on <a href=\"https://www.python.org/downloads/release/python-371/\" rel=\"nofollow noreferrer\">Python Release 3.7.1</a></li>\n</ul>\n"}], "owner": {"reputation": 175, "user_id": 9170038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHd5E.jpg?s=128&g=1", "display_name": "Gary R.", "link": "https://stackoverflow.com/users/9170038/gary-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1540168205, "creation_date": 1515015154, "last_edit_date": 1515016930, "question_id": 48085420, "link": "https://stackoverflow.com/questions/48085420/python-3-unicode-codec-error-binding-mousewheel-in-tkinter", "title": "Python 3 unicode codec error binding mousewheel in tkinter", "body": "<p>Using Python 3.6/tkinter on MacOS, I created a frame within a canvas and bound a scrollbar to it. This all works fine. The problem is when I try to snag MouseWheel events when the cursor is in the scrollable frame. I set up a binding:</p>\n\n<pre><code>main_window.bind(\"&lt;MouseWheel&gt;\",on_mousewheel)\n</code></pre>\n\n<p>and created a short dummy event handler:</p>\n\n<pre><code>def on_mousewheel(event):\n    print(event.delta)\n</code></pre>\n\n<p>Every time I use the scroll wheel, Python responds with:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/Gary/IPPS/opendb.py\", line 160, in &lt;module&gt;\n    main_window.mainloop()\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/tkinter/__init__.py\", line 1277, in mainloop\n    self.tk.mainloop(n)\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 0: invalid start byte\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>from tkinter import *\n\ndef on_main_window_resize(event):\n    canvas.configure(scrollregion=canvas.bbox('all'))\n\ndef on_mousewheel(event):\n    print(event.delta)\n\nmain_window = Tk()\nmain_window.bind(\"&lt;MouseWheel&gt;\",on_mousewheel)\ncanvas = Canvas(main_window, width=500, height=500)\ncanvas.pack(side=LEFT, fill=BOTH, expand=YES)\ncust_scroll = Scrollbar(main_window, orient=VERTICAL, command=canvas.yview)\ncust_scroll.pack(side=RIGHT, fill=Y, expand=NO)\ncust_list = Frame(canvas)\ncanvas['yscrollcommand'] = cust_scroll.set\ncanvas.bind('&lt;Configure&gt;', on_main_window_resize)\ncanvas.create_window((0,0), window=cust_list, anchor=NW)\nmain_window.grid_columnconfigure(0, weight=1)\nmain_window.grid_rowconfigure(0, weight=1)\n\nmemberbuttons = list();\nfor member in range(1,20):\n    memberbutton = Button(cust_list, text=\"BUTTON\", justify=LEFT, pady=2)\n    memberbutton.pack(side=TOP, fill=X)\nmain_window.mainloop()\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["java", "python", "x86", "pycharm"], "comments": [{"owner": {"reputation": 1889, "user_id": 8709389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/064b7d4b7436a223fcb2d23c0f4bfaeb?s=128&d=identicon&r=PG&f=1", "display_name": "zhh", "link": "https://stackoverflow.com/users/8709389/zhh"}, "edited": false, "score": 0, "creation_date": 1515033818, "post_id": 48085395, "comment_id": 83150781, "body": "It&#39;s in your installation location. Where did you install PyCharm?"}, {"owner": {"reputation": 523, "user_id": 9134510, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B0hpxcEXfQk/AAAAAAAAAAI/AAAAAAAAArs/Us-9kzjwP4g/photo.jpg?sz=128", "display_name": "Alex Cuadr&#243;n", "link": "https://stackoverflow.com/users/9134510/alex-cuadr%c3%b3n"}, "reply_to_user": {"reputation": 1889, "user_id": 8709389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/064b7d4b7436a223fcb2d23c0f4bfaeb?s=128&d=identicon&r=PG&f=1", "display_name": "zhh", "link": "https://stackoverflow.com/users/8709389/zhh"}, "edited": false, "score": 0, "creation_date": 1515050999, "post_id": 48085395, "comment_id": 83155445, "body": "@zhh It has been installed here: C:\\Program Files\\JetBrains\\PyCharm 2017.3. I have to move them into C:\\Users\\alexc\\.PyCharm2017.3?"}, {"owner": {"reputation": 1889, "user_id": 8709389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/064b7d4b7436a223fcb2d23c0f4bfaeb?s=128&d=identicon&r=PG&f=1", "display_name": "zhh", "link": "https://stackoverflow.com/users/8709389/zhh"}, "edited": false, "score": 0, "creation_date": 1515054464, "post_id": 48085395, "comment_id": 83156932, "body": "No, you don&#39;t need to move them. In C:\\Program Files\\JetBrains\\PyCharm 2017.3\\ there should be a folder named bin\\, in this folder there is a 32bit version and a 64bit version."}, {"owner": {"reputation": 523, "user_id": 9134510, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B0hpxcEXfQk/AAAAAAAAAAI/AAAAAAAAArs/Us-9kzjwP4g/photo.jpg?sz=128", "display_name": "Alex Cuadr&#243;n", "link": "https://stackoverflow.com/users/9134510/alex-cuadr%c3%b3n"}, "reply_to_user": {"reputation": 1889, "user_id": 8709389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/064b7d4b7436a223fcb2d23c0f4bfaeb?s=128&d=identicon&r=PG&f=1", "display_name": "zhh", "link": "https://stackoverflow.com/users/8709389/zhh"}, "edited": false, "score": 0, "creation_date": 1515054667, "post_id": 48085395, "comment_id": 83157011, "body": "@zhh So, I should copy the files inside the 32bit folder and copy them into the PyCharm path you&#39;ve said before?"}, {"owner": {"reputation": 1889, "user_id": 8709389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/064b7d4b7436a223fcb2d23c0f4bfaeb?s=128&d=identicon&r=PG&f=1", "display_name": "zhh", "link": "https://stackoverflow.com/users/8709389/zhh"}, "edited": false, "score": 0, "creation_date": 1515054789, "post_id": 48085395, "comment_id": 83157069, "body": "No, you don&#39;t need to do anything after installing PyCharm. Just go to the installation folder and find bin\\ and choose the 32-bit version executable file."}, {"owner": {"reputation": 523, "user_id": 9134510, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B0hpxcEXfQk/AAAAAAAAAAI/AAAAAAAAArs/Us-9kzjwP4g/photo.jpg?sz=128", "display_name": "Alex Cuadr&#243;n", "link": "https://stackoverflow.com/users/9134510/alex-cuadr%c3%b3n"}, "reply_to_user": {"reputation": 1889, "user_id": 8709389, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/064b7d4b7436a223fcb2d23c0f4bfaeb?s=128&d=identicon&r=PG&f=1", "display_name": "zhh", "link": "https://stackoverflow.com/users/8709389/zhh"}, "edited": false, "score": 0, "creation_date": 1515083055, "post_id": 48085395, "comment_id": 83173880, "body": "@zhh I&#39;ve tried that and doesn&#39;t work. I think It&#39;s due to the lack of the files I&#39;ve mentioned before."}], "owner": {"reputation": 523, "user_id": 9134510, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B0hpxcEXfQk/AAAAAAAAAAI/AAAAAAAAArs/Us-9kzjwP4g/photo.jpg?sz=128", "display_name": "Alex Cuadr&#243;n", "link": "https://stackoverflow.com/users/9134510/alex-cuadr%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5044, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1515015799, "creation_date": 1515015037, "last_edit_date": 1515015799, "question_id": 48085395, "link": "https://stackoverflow.com/questions/48085395/pycharm-doesnt-open-in-32-bits-os-windows", "title": "PyCharm doesn&#39;t open in 32 bits OS (Windows)", "body": "<p>I'm in an old <a href=\"https://www.notebookcheck.net/Review-Asus-Transformer-Book-T100TA-C1-GR-Convertible.106219.0.html\" rel=\"nofollow noreferrer\">laptop computer</a> (Windows 10 in it) which has java 1.8 version installed. I've also installed PyCharm in the computer(2017.3.2). However, when I execute it, it appears in the task manager for a while (but nothing apparently seems to open). Finally it dissapears from there.</p>\n\n<p>I'd been searching in all JetBrains folders and I found out that inside PyCharm path (<code>C:\\Users\\alexc\\.PyCharm2017.3</code>) there's only one folder (system, which is empty) while there should be (according to other users examples) two folders and inside system there should be other folders.</p>\n\n<p>Anyone knows where could I download those files? Thanks in advance.</p>\n"}, {"tags": ["javascript", "python", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 1591667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05276b68992143f7c2fd8b3459725ec5?s=128&d=identicon&r=PG", "display_name": "KDB", "link": "https://stackoverflow.com/users/1591667/kdb"}, "is_accepted": true, "score": 3, "last_activity_date": 1515016615, "creation_date": 1515016615, "answer_id": 48085729, "question_id": 48085374, "link": "https://stackoverflow.com/questions/48085374/plotly-how-to-remove-the-rangeslider/48085729#48085729", "title": "Plotly - How to remove the rangeslider", "body": "<p>I found the solution..</p>\n\n<p>Following code hides the rangeslider graph on the bottom of candle stick chart..</p>\n\n<p>xaxis : {fixedrange: true, rangeslider: {visible: false}}</p>\n"}], "owner": {"reputation": 123, "user_id": 1591667, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05276b68992143f7c2fd8b3459725ec5?s=128&d=identicon&r=PG", "display_name": "KDB", "link": "https://stackoverflow.com/users/1591667/kdb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1804, "favorite_count": 0, "accepted_answer_id": 48085729, "answer_count": 1, "score": 1, "last_activity_date": 1597360488, "creation_date": 1515014889, "question_id": 48085374, "link": "https://stackoverflow.com/questions/48085374/plotly-how-to-remove-the-rangeslider", "title": "Plotly - How to remove the rangeslider", "body": "<p>By default, candlestick and ohlc charts display a rangeslider. </p>\n\n<p>It seems like there's no parameter to change the setting. So I've looked at javascript code in html file but was not able to find a clue to remove it.</p>\n\n<p>Can someone explain how to remove the rangeslider from candlestick chart?</p>\n"}, {"tags": ["python", "csv", "encoding", "utf-8", "export-to-csv"], "comments": [{"owner": {"reputation": 1864, "user_id": 5441799, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/E408y.jpg?s=128&g=1", "display_name": "Bricky", "link": "https://stackoverflow.com/users/5441799/bricky"}, "edited": false, "score": 1, "creation_date": 1515014809, "post_id": 48085319, "comment_id": 83145586, "body": "which version of python are you using? utf-8 should be default for python 3"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 2, "creation_date": 1515015541, "post_id": 48085319, "comment_id": 83145898, "body": "The <code>\\ufeff</code> is a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">Byte Order Mark</a> that can often be found on Windows UTF-8 files, and it might be confusing <code>csv</code>. Try using <code>utf-8-sig</code> for the encoding."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "reply_to_user": {"reputation": 1864, "user_id": 5441799, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/E408y.jpg?s=128&g=1", "display_name": "Bricky", "link": "https://stackoverflow.com/users/5441799/bricky"}, "edited": false, "score": 0, "creation_date": 1515017704, "post_id": 48085319, "comment_id": 83146774, "body": "@Bricky It must be Python 3, since Python 2 cannot return <code>&#39;\\ufeff&#39;</code> (a character beyond U+FF in a <code>u</code>-less string). However, I challenge your claim that utf-8 is the &quot;default for Python 3&quot;: for opening files, the default encoding is locale-dependent. The default encoding for <i>source code</i> is UTF-8, but that&#39;s irrelevant to the current question."}], "answers": [{"comments": [{"owner": {"reputation": 461, "user_id": 98424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fca2aa753b72dfdc1c9a10fe98aad9ce?s=128&d=identicon&r=PG", "display_name": "Rodney Richardson", "link": "https://stackoverflow.com/users/98424/rodney-richardson"}, "edited": false, "score": 0, "creation_date": 1605781811, "post_id": 48085864, "comment_id": 114759692, "body": "Thank you. I couldn&#39;t work out how to remove the BOM, and I&#39;d never heard of &#39;utf-8-sig&#39; encoding!"}], "tags": [], "owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "is_accepted": false, "score": 5, "last_activity_date": 1515017239, "creation_date": 1515017239, "answer_id": 48085864, "question_id": 48085319, "link": "https://stackoverflow.com/questions/48085319/python-reading-and-writing-csv-files-with-utf-8-encoding/48085864#48085864", "title": "Python - Reading and writing csv files with utf-8 encoding", "body": "<p>You report three separate problems.\nThis is a bit of a guess into the blue, because there's not enough information to be sure, but you should try the following:</p>\n\n<ol>\n<li><p>input encoding: As suggested in comments, try \"utf-8-sig\". This will remove the <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">Byte Order Mark</a> (BOM) from your input.</p></li>\n<li><p>double quotes: Among the <code>csv</code> parameters, you specify <code>quoting=csv.QUOTE_NONE</code>. This tells the <code>csv</code> library that the CSV table was written without using quotes (for escaping characters that could otherwise be mistaken for field or row separators). However, this is apparently not true, since the input <em>has</em> quotes around each field. Try <code>csv.QUOTE_MINIMAL</code> (the default) or <code>csv.QUOTE_ALL</code> instead.</p></li>\n<li><p>output encoding: You say the output contains \"weird symbols\". I suspect that the output is actually alright, but you are using a tool which doesn't properly display UTF-8 text by default: many Windows applications (such as Excel) still prefer UTF-16 and localised 8-bit encodings like <a href=\"https://en.wikipedia.org/wiki/Windows-1255\" rel=\"noreferrer\">CP-1255</a>. Like for problem 1, you should try the codec \"utf-8-sig\": the BOM is understood as an encoding hint by many viewers/editors.</p></li>\n</ol>\n"}], "owner": {"reputation": 71, "user_id": 7318153, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210474159042638/picture?type=large", "display_name": "Yuval Buium", "link": "https://stackoverflow.com/users/7318153/yuval-buium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6961, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1515017239, "creation_date": 1515014642, "question_id": 48085319, "link": "https://stackoverflow.com/questions/48085319/python-reading-and-writing-csv-files-with-utf-8-encoding", "title": "Python - Reading and writing csv files with utf-8 encoding", "body": "<p>I'm trying to read a csv file the its header contains foreign characters and I'm having a lot of problems with this.</p>\n\n<p>first of all, I'm reading the file with a simple csv.reader </p>\n\n<pre><code>filename = 'C:\\\\Users\\\\yuval\\\\Desktop\\\\\u05d1\u05d9\u05ea \u05e1\u05e4\u05e8\\\\\u05e2\u05d1\u05d5\u05d3\u05d2\\\\new\\\\resources\\\\mk'+ str(mkNum) + 'Data.csv'\nraw_data = open(filename, 'rt', encoding=\"utf8\")\nreader = csv.reader(raw_data, delimiter=',', quoting=csv.QUOTE_NONE)\nx = list(reader)\nheader = x[0]\ndata = np.array(x[1:]).astype('float')\n</code></pre>\n\n<p>The var header should be an array that contains the file headers, but the array it returns to me is </p>\n\n<pre><code>['\\ufeff\"dayPart\"', '\"length\"', '\"ifPhoto\"', '\"ifVideo\"', '\"ifAlbum\"', '\"\u05dc\u05d0\"', '\"\u05d4\u05d5\u05d0\"', '\"\u05d1\u05db\u05dc\"', '\"\u05d0\u05d5\u05ea\u05dd\"', '\"\u05d6\u05d4\"', '\"\u05d4\u05dd\"', '\"\u05db\u05d3\u05d9\"', '\"\u05d0\u05ea\"', '\"\u05d9\u05e9\"', '\"\u05dc\u05d9\"', '\"\u05d4\u05d9\u05d0\"', '\"\u05d0\u05e0\u05d9\"', '\"\u05e8\u05e7\"', '\"\u05dc\u05d4\u05dd\"', '\"\u05e2\u05dc\"', '\"\u05e2\u05dd\"', '\"\u05e9\u05dc\"', '\"\u05d4\u05de\u05d3\u05d9\u05e0\u05d4\"', '\"\u05db\u05dc\"', '\"\u05d2\u05dd\"', '\"\u05d4\u05d6\u05d4\"', '\"\u05d0\u05dd\"', '\"\u05d9\u05e9\u05e8\u05d0\u05dc\"', '\"\u05dc\u05db\u05dc\"', '\"\u05de\u05d9\"', '\"\u05dc\"', '\"\u05d0\u05de\u05e1\u05dc\u05dd\"', '\"\u05dc\u05e0\u05d5\"', '\"\u05d0\u05d1\u05dc\"', '\"\u05d6\u05d5\"', '\"\u05d0\u05d9\u05df\"', '\"\u05e9\u05d1\u05ea\"', '\"\u05e9\u05dc\u05d5\u05dd\"', '\"\u05db\"', '\"\u05e9\u05dc\u05e0\u05d5\"', '\"\u05d4\u05d9\u05d5\u05dd\"', '\"\u05d5\u05de\u05d1\u05d5\u05e8\u05da\"', '\"\u05d7\"', '\"\u05d3\u05d5\u05d3\u05d9\"', '\"\u05e8\"', '\"\u05d4\u05e4\u05e0\u05d9\u05dd\"', '\"\u05de\u05d4\"', '\"\u05db\u05d9\"', '\"\u05d4\"', '\"\u05d0\u05d7\u05d3\"', '\"\u05d5\u05dc\u05d0\"', '\"\u05d9\u05d5\u05ea\u05e8\"']\n</code></pre>\n\n<p>and I don't know why it adds the \\ufeff in the first object and double quotation marks.</p>\n\n<p>After that, I need to write to another csv file and use foreign characters in the header as well. I was trying to do this like that, but it wrote the characters as weird symbols.</p>\n\n<pre><code>with open('C:\\\\Users\\\\yuval\\\\Desktop\\\\\u05d1\u05d9\u05ea \u05e1\u05e4\u05e8\\\\\u05e2\u05d1\u05d5\u05d3\u05d2\\\\new\\\\variance reduction 1\\\\mk'+ str(mkNum) + 'Data.csv', 'w', newline='', encoding='utf8') as csvFile:\n    csvWriter = csv.writer(csvFile, delimiter=',')\n    csvWriter.writerow(newHeader)\n</code></pre>\n\n<p>Does any one know how to fix this problem and work with utf8 encoding in the csv file's header?</p>\n"}, {"tags": ["python", "django", "pdb"], "answers": [{"tags": [], "owner": {"reputation": 2777, "user_id": 4584672, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8c705d52d6bf6a9ad4276e709072765?s=128&d=identicon&r=PG&f=1", "display_name": "jackotonye", "link": "https://stackoverflow.com/users/4584672/jackotonye"}, "is_accepted": true, "score": 1, "last_activity_date": 1515030363, "creation_date": 1515030363, "answer_id": 48087602, "question_id": 48085313, "link": "https://stackoverflow.com/questions/48085313/running-django-pdb-in-post-mortem-mode-for-a-test-command/48087602#48087602", "title": "Running django-pdb in post mortem mode for a test command", "body": "<p><a href=\"https://docs.djangoproject.com/en/2.0/topics/testing/overview/#running-tests\" rel=\"nofollow noreferrer\">Django Running Test</a> you'll need to have the hstore extension enabled. Also running command \noptions should be after the <code>test</code> command i.e.</p>\n\n<p><code>python manage.py test --pm lucy_web.tests.notifications</code></p>\n\n<pre><code>from django.contrib.postgres.operations import HStoreExtension\n\nclass Migration(migrations.Migration):\n...\n\n    operations = [\n        HStoreExtension(),\n        ...\n    ]\n</code></pre>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 48087602, "answer_count": 1, "score": 1, "last_activity_date": 1515030363, "creation_date": 1515014597, "question_id": 48085313, "link": "https://stackoverflow.com/questions/48085313/running-django-pdb-in-post-mortem-mode-for-a-test-command", "title": "Running django-pdb in post mortem mode for a test command", "body": "<p>I'm trying to run a test suite using <code>python manage.py test</code>, but I run into an error which ends like this:</p>\n\n<pre><code>    return self.cursor.execute(sql)\ndjango.db.utils.ProgrammingError: type \"hstore\" does not exist\nLINE 1: ..., \"options\" varchar(255)[] NOT NULL, \"conditions\" hstore NOT...\n</code></pre>\n\n<p>I'd like to drop into the debugger at this point in order to see the full <code>sql</code> statement. To this end, I've run <code>pip install django-pdb</code> and added the following lines to my <code>settings.py</code> (as per the <a href=\"https://github.com/HassenPy/django-pdb\" rel=\"nofollow noreferrer\">instructions</a>):</p>\n\n<pre><code># Order is important and depends on your Django version.\n# With Django 1.7+ put it towards the beginning, otherwise towards the end.\nINSTALLED_APPS = (\n    ...\n    'django_pdb',\n    ...\n)\n\n# Make sure to add PdbMiddleware after all other middleware.\n# PdbMiddleware only activates when settings.DEBUG is True.\nMIDDLEWARE_CLASSES = (\n    ...\n    'django_pdb.middleware.PdbMiddleware',\n)\n</code></pre>\n\n<p>Then I try to re-run the test with the <code>--pm</code> option:</p>\n\n<pre><code>python manage.py test lucy_web.tests.notifications --pm\n</code></pre>\n\n<p>However, this is not recognized:</p>\n\n<pre><code>manage.py test: error: unrecognized arguments: --pm\n</code></pre>\n\n<p>I've also tried to run this command with <code>--ipdb</code> instead of <code>--pm</code>, but it seems to not work: I simply get an error message without dropping into the debugger. Any ideas what the issue might be? Is post mortem debugging perhaps not supported for <code>test</code> commands?</p>\n"}, {"tags": ["python", "function", "variables", "scope", "overriding"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1515015505, "post_id": 48085291, "comment_id": 83145884, "body": "You changed only the local copy of the score; you never changed <code>score</code> in your main program."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7898109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e22695ae242713d5a86108fd832b14?s=128&d=identicon&r=PG&f=1", "display_name": "Kabira Suleman", "link": "https://stackoverflow.com/users/7898109/kabira-suleman"}, "edited": false, "score": 0, "creation_date": 1515016763, "post_id": 48085455, "comment_id": 83146420, "body": "TypeError: unsupported operand type(s) for +=: &#39;int&#39; and &#39;NoneType&#39;"}, {"owner": {"reputation": 1143, "user_id": 8759952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d8e784fa5cd3e5a2dfe13b405fc1de1?s=128&d=identicon&r=PG&f=1", "display_name": "Liora Haydont", "link": "https://stackoverflow.com/users/8759952/liora-haydont"}, "reply_to_user": {"reputation": 33, "user_id": 7898109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e22695ae242713d5a86108fd832b14?s=128&d=identicon&r=PG&f=1", "display_name": "Kabira Suleman", "link": "https://stackoverflow.com/users/7898109/kabira-suleman"}, "edited": false, "score": 0, "creation_date": 1515016880, "post_id": 48085455, "comment_id": 83146462, "body": "Did you forget the <code>return aScore</code> at the end of the 2 function?"}], "tags": [], "owner": {"reputation": 1143, "user_id": 8759952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d8e784fa5cd3e5a2dfe13b405fc1de1?s=128&d=identicon&r=PG&f=1", "display_name": "Liora Haydont", "link": "https://stackoverflow.com/users/8759952/liora-haydont"}, "is_accepted": true, "score": 0, "last_activity_date": 1515015340, "creation_date": 1515015340, "answer_id": 48085455, "question_id": 48085291, "link": "https://stackoverflow.com/questions/48085291/how-to-increase-value-of-a-variable-integer-in-python/48085455#48085455", "title": "how to increase value of a variable integer in python", "body": "<p>When you send the score to the function:</p>\n\n<pre><code>upper_score(password, score)\n</code></pre>\n\n<p>you are actually sending a copy of the score. In your example it recieves <code>score</code> which has a value of 0, and creates a new variable <code>aScore</code> with also a value of 0, so when you change <code>aScore</code> you don't actually change <code>score</code>.\n(Be careful, even if they had the same name they still wouldn't be the same variables.)</p>\n\n<p>There are a few ways to do what you are trying to do. \nThe simpler way would be to simply make the function return <code>aScore</code> and there you can add it to your <code>score</code>.</p>\n\n<pre><code>def upper_score(test_string, aScore):\n  if re.match(a, test_string):\n    aScore = increase_score(5, aScore)\n    print (aScore)\n    print(\"UPPERCASE\")\n  else:\n     print(\"The password needs capital letters for a higher score\")\n  return aScore\n\n\ndef lower_score(test_string, aScore):\n    if re.match(b, test_string):\n      aScore = increase_score(5, aScore)\n      print (aScore)\n      print(\"LOWERCASE\")\n    else:\n      print(\"The password needs lowercase letters for a higher score\")\n    return aScore\n\npassword = input(\"Enter a password to check\")\nscore += upper_score(password, score)\nscore += lower_score(password, score)\nprint(\"total score: \" + score)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7898109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e22695ae242713d5a86108fd832b14?s=128&d=identicon&r=PG&f=1", "display_name": "Kabira Suleman", "link": "https://stackoverflow.com/users/7898109/kabira-suleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1136, "favorite_count": 0, "closed_date": 1515015475, "accepted_answer_id": 48085455, "answer_count": 1, "score": -1, "last_activity_date": 1515015340, "creation_date": 1515014477, "question_id": 48085291, "link": "https://stackoverflow.com/questions/48085291/how-to-increase-value-of-a-variable-integer-in-python", "closed_reason": "Duplicate", "title": "how to increase value of a variable integer in python", "body": "<pre><code>import re\nscore = 0\n\ncapital_letters = r'[A-Z]'\na = re.compile(capital_letters)\n\nlowercase_letters = r'[a-z]'\nb = re.compile(lowercase_letters)\n\ndef increase_score (aValue, aScore):\n  aScore += aValue\n   return aScore\n\ndef upper_score(test_string, aScore):\n  if re.match(a, test_string):\n    aScore = increase_score(5, aScore)\n    print (aScore)\n    print(\"UPPERCASE\")\n  else:\n     print(\"The password needs capital letters for a higher score\")\n\n\ndef lower_score(test_string, aScore):\n    if re.match(b, test_string):\n      aScore = increase_score(5, aScore)\n  print (aScore)\n  print(\"LOWERCASE\")\nelse:\n  print(\"The password needs lowercase letters for a higher score\")\n\npassword = input(\"Enter a password to check\")\nupper_score(password, score)\nlower_score(password, score)\n</code></pre>\n\n<p>If I input all upper case letters I get this output:</p>\n\n<pre><code>5\nUPPERCASE\n</code></pre>\n\n<p>The password needs lowercase letters for a higher score\nIf I input all lower case letters I get this output:</p>\n\n<pre><code>The password needs capital letters for a higher score \n5 \nLOWERCASE\n</code></pre>\n\n<p>When i mix upper case annd lowercase i get this output:</p>\n\n<pre><code> 5\n UPPERCASE\n 5\n LOWERCASE\n</code></pre>\n\n<p>Even though there are both uppercase and lowercase letters the score is still 5 instead of 10.</p>\n\n<p>I want the score to be cumulative and build ontop of each other.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 2, "last_activity_date": 1515014655, "creation_date": 1515014655, "answer_id": 48085321, "question_id": 48085285, "link": "https://stackoverflow.com/questions/48085285/create-a-list-of-strings-representing-binary-values-with-a-fixed-length/48085321#48085321", "title": "create a list of strings representing binary values, with a fixed length", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\"><code>itertools.product</code></a> to accomplish this</p>\n\n<pre><code>from itertools import product \n\ndef bitstrings(n):\n    return [''.join(bits) for bits in product('01', repeat=n)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 2, "last_activity_date": 1515014974, "last_edit_date": 1515014974, "creation_date": 1515014667, "answer_id": 48085326, "question_id": 48085285, "link": "https://stackoverflow.com/questions/48085285/create-a-list-of-strings-representing-binary-values-with-a-fixed-length/48085326#48085326", "title": "create a list of strings representing binary values, with a fixed length", "body": "<p>You could use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\"><code>itertools.product</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import product\n&gt;&gt;&gt; [''.join(bs) for bs in product('01', repeat=2)]\n['00', '01', '10', '11']\n&gt;&gt;&gt; [''.join(bs) for bs in product('01', repeat=3)]\n['000', '001', '010', '011', '100', '101', '110', '111']\n</code></pre>\n\n<p>You could also specify the total string length directly in <code>format</code>:</p>\n\n<pre><code>&gt;&gt;&gt; n = 2\n&gt;&gt;&gt; [format(i, '0%ib' % n) for i in range(2**n)]\n['00', '01', '10', '11']\n&gt;&gt;&gt; n = 3\n&gt;&gt;&gt; [format(i, '0%ib' % n) for i in range(2**n)]\n['000', '001', '010', '011', '100', '101', '110', '111']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "is_accepted": true, "score": 1, "last_activity_date": 1515015244, "last_edit_date": 1515015244, "creation_date": 1515014669, "answer_id": 48085327, "question_id": 48085285, "link": "https://stackoverflow.com/questions/48085285/create-a-list-of-strings-representing-binary-values-with-a-fixed-length/48085327#48085327", "title": "create a list of strings representing binary values, with a fixed length", "body": "<p>All you need to do for a list comprehension is bring up the last line and make it a list:</p>\n\n<pre><code>&gt;&gt;&gt; bits = 2\n&gt;&gt;&gt; l = [format(i, 'b').zfill(bits) for i in range(2**bits)]\n&gt;&gt;&gt; l\n['00', '01', '10', '11']\n</code></pre>\n\n<p>So </p>\n\n<pre><code>for block1:\n    block2\n</code></pre>\n\n<p>is</p>\n\n<pre><code>[block2 for block1]\n</code></pre>\n\n<p>Alternatively, you could use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\"><code>itertools.product</code></a>, and map <code>''.join</code> to make them into the right format:</p>\n\n<pre><code>&gt;&gt;&gt; import itertools as it\n&gt;&gt;&gt; list(map(''.join, it.product('01', repeat=bits)))\n['00', '01', '10', '11']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 3137717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2kLzw.jpg?s=128&g=1", "display_name": "AcesOfGlory", "link": "https://stackoverflow.com/users/3137717/acesofglory"}, "is_accepted": false, "score": 0, "last_activity_date": 1515014979, "creation_date": 1515014979, "answer_id": 48085387, "question_id": 48085285, "link": "https://stackoverflow.com/questions/48085285/create-a-list-of-strings-representing-binary-values-with-a-fixed-length/48085387#48085387", "title": "create a list of strings representing binary values, with a fixed length", "body": "<p>You can do this without using any imports and can use list comprehension to make it one line. I suggest using <code>&lt;&lt;</code> instead of <code>**</code> because it's <em>much</em> faster when dealing with binary numbers since it deals with the number in binary and then shifts it (1 &lt;&lt; n is the same as 2**n) by <code>n</code>.</p>\n\n<pre><code>def bitstring(bits):\n    return [\"{:0{}b}\".format(i, bits) for i in range(1 &lt;&lt; bits)]\n\nprint(bitstring(2))\n</code></pre>\n\n<p>will return </p>\n\n<blockquote>\n  <p>['00', '01', '10', '11']</p>\n</blockquote>\n"}], "owner": {"reputation": 31, "user_id": 9154139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c64010e5c29355e48e4d449fdb76374?s=128&d=identicon&r=PG&f=1", "display_name": "Jos", "link": "https://stackoverflow.com/users/9154139/jos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 48085327, "answer_count": 4, "score": 1, "last_activity_date": 1515015244, "creation_date": 1515014451, "last_edit_date": 1515014619, "question_id": 48085285, "link": "https://stackoverflow.com/questions/48085285/create-a-list-of-strings-representing-binary-values-with-a-fixed-length", "title": "create a list of strings representing binary values, with a fixed length", "body": "<p>I need a list of strings representing binary values, with a fixed length, thus with leading zeros. for example:</p>\n\n<pre><code>my_list = [\"00\", \"01\", \"10\", \"11\"]\n</code></pre>\n\n<p>I want to be able to generate the list given the number of bits. I've come up with a code, but I'm not sure if this is the best way to do it and wonder if it's possible to do the same with a one-liner?</p>\n\n<pre><code>bits = 2\nmy_list = []\nfor i in range(2**bits):\n    my_list.append(format(i, '0b').zfill(bits))\n</code></pre>\n"}, {"tags": ["python", "ubuntu", "cron", "sni"], "comments": [{"owner": {"reputation": 2600, "user_id": 4940826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e3585ec184399307633434c4660c91?s=128&d=identicon&r=PG&f=1", "display_name": "Mandraenke", "link": "https://stackoverflow.com/users/4940826/mandraenke"}, "edited": false, "score": 1, "creation_date": 1515016137, "post_id": 48085269, "comment_id": 83146152, "body": "are both interpreters on your path? maybe cron uses the false one"}, {"owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "reply_to_user": {"reputation": 2600, "user_id": 4940826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e3585ec184399307633434c4660c91?s=128&d=identicon&r=PG&f=1", "display_name": "Mandraenke", "link": "https://stackoverflow.com/users/4940826/mandraenke"}, "edited": false, "score": 0, "creation_date": 1515016480, "post_id": 48085269, "comment_id": 83146295, "body": "@Mandraenke - I think this is it; <code>python2.7 myscript.py</code> works, but <code>python myscript.py</code> doesn&#39;t. I&#39;m totally a Windows person, so I just need to figure out how to update my path; thanks for the tip. So related to my Python installation, and not Python or the sites themselves."}], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "edited": false, "score": 0, "creation_date": 1515018784, "post_id": 48085920, "comment_id": 83147195, "body": "Brilliant answer - thank you! Incidentally for <code>$ type python2.7</code> I got <code>python2.7 is hashed (&#47;usr&#47;local&#47;bin&#47;python2.7)</code> - no idea what hashed means in this context, but using that path as recommended worked."}], "tags": [], "owner": {"reputation": 2600, "user_id": 4940826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e3585ec184399307633434c4660c91?s=128&d=identicon&r=PG&f=1", "display_name": "Mandraenke", "link": "https://stackoverflow.com/users/4940826/mandraenke"}, "is_accepted": true, "score": 3, "last_activity_date": 1515017486, "creation_date": 1515017486, "answer_id": 48085920, "question_id": 48085269, "link": "https://stackoverflow.com/questions/48085269/python-sslerror-on-ubuntu-but-only-when-run-from-a-cron/48085920#48085920", "title": "Python SSLError on Ubuntu, but only when run from a CRON", "body": "<p>As I can format here better now as an answer:</p>\n\n<p>If might be that cron simply picks the wrong interpreter in your case. A simple solution is to provide the full path to it, you can find it with: </p>\n\n<pre><code>md@gw1:~$ type python2.7\npython2.7 is /usr/bin/python2.7\nmd@gw1:~$\n</code></pre>\n\n<p>Now use inside your crontab:</p>\n\n<pre><code>0 12 * * * /usr/bin/python2.7 your_script.py\n</code></pre>\n\n<p>Alternatively use a so called shebang:</p>\n\n<pre><code>md@gw1:~$ cat your_script.py\n#!/usr/bin/python2.7\n\nprint \"hello\"\n\nmd@gw1:~$ chmod +x your_script.py\nmd@gw1:~$ ./your_script.py\nhello\nmd@gw1:~$\n</code></pre>\n\n<p>The first line in your_script.py and the chmod made it executeble and will use the correct interpreter. </p>\n"}, {"tags": [], "owner": {"reputation": 1245, "user_id": 6082084, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SZQB7iItTlU/AAAAAAAAAAI/AAAAAAAAABQ/2-qFCUyZ47o/photo.jpg?sz=128", "display_name": "\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u0414\u043e\u0440\u043e\u0433\u043e\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/6082084/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%94%d0%be%d1%80%d0%be%d0%b3%d0%be%d0%bd%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1600957251, "creation_date": 1600957251, "answer_id": 64048487, "question_id": 48085269, "link": "https://stackoverflow.com/questions/48085269/python-sslerror-on-ubuntu-but-only-when-run-from-a-cron/64048487#64048487", "title": "Python SSLError on Ubuntu, but only when run from a CRON", "body": "<p>In my case service was trying to fetch large json and save it to db.\nI've tried to rewrite the code from using node's https module to requests and etc.</p>\n<p>But the real reason was as described by @Mandraenke above.\nAs I've installed nvm - <strong>cron job probably used an incorrect node version</strong>.</p>\n<p>So, I've shown the current version with <code>type node</code> and in the job replaced</p>\n<p><code>0 4 * * * node my-script.js</code> with</p>\n<p><code>0 4 * * * /home/my-user/.nvm/versions/node/v12.14.1/bin/node my-script.js</code></p>\n"}], "owner": {"reputation": 563, "user_id": 202807, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/4d3f88dffd497c6a04897095499af9eb?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/202807/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 48085920, "answer_count": 2, "score": 4, "last_activity_date": 1600957251, "creation_date": 1515014388, "last_edit_date": 1515015352, "question_id": 48085269, "link": "https://stackoverflow.com/questions/48085269/python-sslerror-on-ubuntu-but-only-when-run-from-a-cron", "title": "Python SSLError on Ubuntu, but only when run from a CRON", "body": "<p>I have a Python script using requests module. It works on my desktop (Windows), and works when I run it manually on my VM (Ubuntu 14.04 / python 2.7.14).\nHowever, when the exact same command is scheduled as a CRON job on the same VM, it's failing.</p>\n\n<p>The offending line seems to be:</p>\n\n<pre><code>index_response = requests.get(my_https_URL, verify=False)\n</code></pre>\n\n<p>The (slightly redacted) response is:</p>\n\n<pre><code>(&lt;class 'requests.exceptions.SSLError'&gt;, SSLError(MaxRetryError(\"HTTPSConnectionPool(host=my_https_URL, port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '_ssl.c:510: error:14077410:SSL routines:SSL23_GET_SERVER_HELLO:sslv3 alert handshake failure'),))\",),), &lt;traceback object at 0x7f3d877ce5f0&gt;)\n</code></pre>\n\n<p>HTTP URLs don't seem to be affected, and indeed some HTTPS URLs <em>are</em> working... (I think it's domains requiring SNI which are not working).</p>\n\n<p>I've tried adding <code>verify=False</code>, and even running the CRON script as sudo, but no update.\nIt originally failed when I was running it manually, but I then installed python2.7.14 (in addition to python 2.7.6), which resolved the manual issue. To add some further complexity, the script is being triggered by another one using <code>exec</code> (the test runner runs various tests scripts including this one) - could this be related?</p>\n\n<p>I didn't have this problem in urllib2, but would prefer not to move back from requests to urllib2 if I can help it...</p>\n"}, {"tags": ["python", "sleep", "shutdown"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1515014265, "post_id": 48085236, "comment_id": 83145399, "body": "This isn&#39;t really a programming question. But the answer is <code>&quot;shutdown &#47;h&quot;</code> for hibernation."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1515014304, "post_id": 48085236, "comment_id": 83145411, "body": "<code>shutdown &#47;?</code> in the command line to see the available options."}], "answers": [{"comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1515015121, "post_id": 48085274, "comment_id": 83145724, "body": "Why would you post an answer if you know it&#39;s a duplicate of another question o.o?"}, {"owner": {"reputation": 43, "user_id": 1763968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ccebe8a312e27a39f2d0150afd63b?s=128&d=identicon&r=PG", "display_name": "Odd822", "link": "https://stackoverflow.com/users/1763968/odd822"}, "reply_to_user": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1515015204, "post_id": 48085274, "comment_id": 83145757, "body": "@MooingRawr Sorry, new-ish to using Stack Overflow so I wasn&#39;t aware I could flag something as a duplicate until after I answered. Would it be better to delete my response?"}], "tags": [], "owner": {"reputation": 43, "user_id": 1763968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ccebe8a312e27a39f2d0150afd63b?s=128&d=identicon&r=PG", "display_name": "Odd822", "link": "https://stackoverflow.com/users/1763968/odd822"}, "is_accepted": false, "score": 1, "last_activity_date": 1515014409, "creation_date": 1515014409, "answer_id": 48085274, "question_id": 48085236, "link": "https://stackoverflow.com/questions/48085236/python-how-to-sleep-or-hibernation-computer/48085274#48085274", "title": "Python - how to sleep or hibernation computer", "body": "<pre><code>import os\nos.system(\"shutdown.exe /h\")\n</code></pre>\n\n<p>Taken from <a href=\"https://stackoverflow.com/questions/7517496/suspend-hibernate-pc-with-python\">Suspend / Hibernate pc with python</a></p>\n\n<p>(If someone can mark this question as a duplicate, that would be appreciated)</p>\n"}], "owner": {"reputation": 91, "user_id": 8583775, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/8c329c938ffdf388d816da1b95cab4f6?s=128&d=identicon&r=PG&f=1", "display_name": "F.Fipoo", "link": "https://stackoverflow.com/users/8583775/f-fipoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1264, "favorite_count": 0, "closed_date": 1515015185, "answer_count": 1, "score": -2, "last_activity_date": 1515014409, "creation_date": 1515014167, "question_id": 48085236, "link": "https://stackoverflow.com/questions/48085236/python-how-to-sleep-or-hibernation-computer", "closed_reason": "Duplicate", "title": "Python - how to sleep or hibernation computer", "body": "<p>How to put to sleep or hibernation computer? \nI know i can shutdown with os.system(\"shutdown\") but i dont want complete system shutdown. \nIt is possible to to this?</p>\n"}, {"tags": ["python", "django", "url", "views", "blogs"], "comments": [{"owner": {"reputation": 1536, "user_id": 6005145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-8d0SktavI-o/AAAAAAAAAAI/AAAAAAAAAxU/Zrxn56xszBE/photo.jpg?sz=128", "display_name": "schrodigerscatcuriosity", "link": "https://stackoverflow.com/users/6005145/schrodigerscatcuriosity"}, "edited": false, "score": 1, "creation_date": 1515018584, "post_id": 48085228, "comment_id": 83147125, "body": "Do you have any code on pages /urls /views?"}, {"owner": {"reputation": 373, "user_id": 4572811, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5ba8d34d1f595e1dec0487fee8d669d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/4572811/sebastian"}, "reply_to_user": {"reputation": 1536, "user_id": 6005145, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-8d0SktavI-o/AAAAAAAAAAI/AAAAAAAAAxU/Zrxn56xszBE/photo.jpg?sz=128", "display_name": "schrodigerscatcuriosity", "link": "https://stackoverflow.com/users/6005145/schrodigerscatcuriosity"}, "edited": false, "score": 0, "creation_date": 1515244086, "post_id": 48085228, "comment_id": 83231903, "body": "I decided to rebuild the pages and blog application because the current blog structure is not suited to achieve the modularity I want. I&#39;ll upload my new version shortly."}], "owner": {"reputation": 373, "user_id": 4572811, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5ba8d34d1f595e1dec0487fee8d669d9?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/4572811/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 711, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1515014129, "creation_date": 1515014129, "question_id": 48085228, "link": "https://stackoverflow.com/questions/48085228/django-displaying-blog-posts-on-different-pages", "title": "Django displaying blog posts on different pages", "body": "<p>I'm rather new to Django and I've been following a tutorial on building a simple blog application. My application works fine so far (using Django 1.8.6). Here are my urls.py, views.py and models.py:</p>\n\n<p>urls.py    </p>\n\n<pre><code>urlpatterns = [\n    url('admin/', admin.site.urls),\n    url(r'^blog/', include('blog.urls', namespace='blog', app_name='blog')),\n</code></pre>\n\n<p>blog/urls.py</p>\n\n<pre><code>urlpatterns = [\n   url(r'^$', views.post_list, name='post_list'),\n   url(r'^(?P&lt;year&gt;\\d{4})/(?P&lt;month&gt;\\d{2})/(?P&lt;day&gt;\\d{2})/'\\\n       r'(?P&lt;post&gt;[-\\w]+)/$',\n       views.post_detail,\n       name='post_detail'),\n    url(r'^tag/(?P&lt;tag_slug&gt;[-\\w]+)/$', views.post_list,\n       name='post_list_by_tag'),    \n]\n</code></pre>\n\n<p>blog/views.py</p>\n\n<pre><code>def post_list(request, tag_slug=None):\n    object_list = Post.published.all()\n    tag = None\n    if tag_slug:\n        tag = get_object_or_404(Tag, slug=tag_slug) \n        object_list = object_list.filter(tags__in=[tag])\n    return render(request,\n                 'blog/post/list.html',\n                 {\n                 'posts': posts,\n                 'tag': tag\n                 })\n\n\ndef post_detail(request, year, month, day, post):\n   post = get_object_or_404(Post, slug=post,\n                                  status='published',\n                                  publish__year=year,\n                                  publish__month=month,\n                                  publish__day=day)\n   post_tags_ids = post.tags.values_list('id', flat=True)\n   similar_posts = Post.published.filter(tags__in=post_tags_ids)\\\n                                 .exclude(id=post.id)\n   similar_posts = similar_posts.annotate(same_tags=Count('tags'))\\\n                               .order_by('-same_tags','-publish')[:4]\n   return render(request,\n                 'blog/post/detail.html',\n                 {'post': post,\n                 'similar_posts': similar_posts})\n</code></pre>\n\n<p>blog/models.py</p>\n\n<pre><code>class Post(models.Model):\n    STATUS_CHOICES = (\n       ('draft', 'Draft'),\n       ('published', 'Published'),\n    )\n    title = models.CharField(max_length=250)\n    slug = models.SlugField(max_length=250,\n                           unique_for_date='publish')\n    author = models.ForeignKey(User,\n                              related_name='blog_posts', on_delete=models.CASCADE)\n    body = models.TextField()\n    publish = models.DateTimeField(default=timezone.now)\n    created = models.DateTimeField(auto_now_add=True)\n    updated = models.DateTimeField(auto_now=True)\n    status = models.CharField(max_length=10,\n                             choices=STATUS_CHOICES,\n                             default='published')\n    tags = TaggableManager()\n\n    class Meta:\n       ordering = ('-publish',)\n    def __str__(self):\n       return self.title\n\n    def get_absolute_url(self):\n           return reverse('blog:post_detail',\n                          args=[self.publish.year,\n                                self.publish.strftime('%m'),\n                                self.publish.strftime('%d'),\n                                self.slug])\n\n\n    objects = models.Manager() # The default manager.\n    published = PublishedManager() # Our custom manager.\n</code></pre>\n\n<p>Now I would like to create 4 pages and each blog post should be displayed on one of those pages based on author's choice. I would like to have a custom template for my pages that allows me to add other main page content above the blog posts. My idea was to create a \"pages\" application with a template that is extended by the blog template. In the blog model I would implement a \"pagedisplay\" field where the author in the cms can select the page on which he wants the post displayed.\nSo in essence instead of displaying all posts on the www.example.com/blog page and linking to them from there, I would like to distribute them over multiple pages based on choice by the author.\nIn the end, the url should look somewhat like this for individual posts.   </p>\n\n<pre><code> www.example.com/page2/2017/12/30/post1/\n</code></pre>\n\n<p>Whereas </p>\n\n<pre><code> www.example.com/page2 \n</code></pre>\n\n<p>should display a list of the recent posts published on that page.\nIn my understanding, this means in my urlpatterns I first need to access the pages.urls.py and then have . \nI'm struggling with how to properly construct urls to individual posts from the pages/urls.py and pages/views.py and how to correctly render these urls in the templates. Any suggestions on this issue or whether I should take a completely different approach are highly appreciated.</p>\n"}, {"tags": ["python", "json", "django"], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 4754444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dd259a7d4facbfdfe5b945519583f1f?s=128&d=identicon&r=PG", "display_name": "Atanas Atanasov", "link": "https://stackoverflow.com/users/4754444/atanas-atanasov"}, "is_accepted": true, "score": 1, "last_activity_date": 1515143510, "creation_date": 1515143510, "answer_id": 48110391, "question_id": 48085215, "link": "https://stackoverflow.com/questions/48085215/how-to-make-my-json-work-with-a-gijgo-grid-in-django-python/48110391#48110391", "title": "How to make my JSON work with a Gijgo grid in Django/Python?", "body": "<p>You can use the .render() method in order to modify your server response to javascript array that is usable by the gijgo grid. You can see an example at <a href=\"http://gijgo.com/grid/methods/render\" rel=\"nofollow noreferrer\">http://gijgo.com/grid/methods/render</a></p>\n\n<p>You can also use <a href=\"http://gijgo.com/grid/configuration/mapping.dataField\" rel=\"nofollow noreferrer\">http://gijgo.com/grid/configuration/mapping.dataField</a> and <a href=\"http://gijgo.com/grid/configuration/mapping.totalRecordsField\" rel=\"nofollow noreferrer\">http://gijgo.com/grid/configuration/mapping.totalRecordsField</a> if you modify the response on the server and want to return the info in custom field names.</p>\n"}], "owner": {"reputation": 343, "user_id": 8973609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138cdbfefdc7718a3f70d415d416eee5?s=128&d=identicon&r=PG&f=1", "display_name": "konichiwa", "link": "https://stackoverflow.com/users/8973609/konichiwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 48110391, "answer_count": 1, "score": 0, "last_activity_date": 1515143510, "creation_date": 1515014074, "question_id": 48085215, "link": "https://stackoverflow.com/questions/48085215/how-to-make-my-json-work-with-a-gijgo-grid-in-django-python", "title": "How to make my JSON work with a Gijgo grid in Django/Python?", "body": "<p>I tried the code below to be able to show my database records in a <a href=\"http://gijgo.com/grid/configuration\" rel=\"nofollow noreferrer\">Gijgo</a> grid. Unfortunately it doesn't work, because Gijgo by default expects JSON data without keys.</p>\n\n<p>As far as I know there are two options to solve this problem:</p>\n\n<ul>\n<li>Get rid of the keys (<code>model</code>, <code>pk</code>, <code>fields</code>) in JSON, which is accepted by Gijgo</li>\n<li>Configure Gijgo to understand my JSON structure (couldn't find any information about this approach)</li>\n</ul>\n\n<p>Any idea how I can solve this problem?</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>demand = Demand.objects.filter(week__number=request.GET[\"weeknumber\"], week__year=request.GET[\"weekyear\"])\nresponse = serializers.serialize(\"json\", demand)\nreturn HttpResponse(response, content_type='application/json')\n\n[{\"model\": \"demand\", \"pk\": 4, \"fields\": {\"week\": 3, \"model\": 1, \"product\": 3, \"type\": 7, \"build\": 1, \"sdna\": 1234, \"rcna\": 234234, \"sdeu\": 3333, \"rceu\": 433, \"ssd\": 53, \"src\": 63, \"notes\": \"fafd\"}}]\n</code></pre>\n"}, {"tags": ["python", "file", "stream", "sys"], "comments": [{"owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "edited": false, "score": 0, "creation_date": 1515014536, "post_id": 48085211, "comment_id": 83145483, "body": "Does <code>readfq(open(sys.argv[1]))</code> work?"}, {"owner": {"reputation": 73, "user_id": 5650705, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Yifangt", "link": "https://stackoverflow.com/users/5650705/yifangt"}, "reply_to_user": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "edited": false, "score": 0, "creation_date": 1547589912, "post_id": 48085211, "comment_id": 95241679, "body": "Thanks! I&#39;m feeling embarrassed to have asked this question."}], "owner": {"reputation": 73, "user_id": 5650705, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Yifangt", "link": "https://stackoverflow.com/users/5650705/yifangt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "closed_date": 1515015688, "answer_count": 0, "score": 0, "last_activity_date": 1515017363, "creation_date": 1515014059, "last_edit_date": 1515017363, "question_id": 48085211, "link": "https://stackoverflow.com/questions/48085211/how-to-convert-this-python-function-to-take-sys-argv1-instead-of-sys-stdin", "closed_reason": "Duplicate", "title": "How to convert this python function to take sys.argv[1] instead of sys.stdin?", "body": "<p>I have some confusion to differentiate the two options: <strong>sys.argv[1]</strong> and <strong>sys.stdin</strong> in my implementation. The python function is to read <a href=\"https://github.com/lh3/readfq\" rel=\"nofollow noreferrer\">[fastq]</a>files:</p>\n\n<pre><code>#!/usr/bin/python \n\ndef readfq(fp):                                         # this is a generator function\n    last = None                                         # this is a buffer keeping the last unprocessed line\n    while True:                                         # mimic closure; is it a bad idea?\n        if not last:                                    # the first record or a record following a fastq\n            for l in fp:                                # search for the start of the next record\n                if l[0] in '&gt;@':                        # fasta/q header line\n                    last = l[:-1]                       # save this line\n                    break\n        if not last: break\n        name, seqs, last = last[1:].partition(\" \")[0], [], None\n        for l in fp:                                    # read the sequence\n            if l[0] in '@+&gt;':                           # This has a trick to skip the + row.\n                last = l[:-1]                           # remember the sentenial variable last\n                break\n            seqs.append(l[:-1])                         # Append the sequence to seqs which is a list.\n\n        if not last or last[0] != '+':                  # this is a fasta record\n            yield name, ''.join(seqs), None             # yield a fasta record\n            if not last: break\n        else:                                           # this is a fastq record\n            seq, leng, seqs = ''.join(seqs), 0, []\n            for l in fp:                                # read the quality\n                seqs.append(l[:-1])\n                leng += len(l) - 1\n                if leng &gt;= len(seq):                    # have read enough quality\n                    last = None\n                    yield name, seq, ''.join(seqs);     # yield a fastq record\n                    break\n            if last:                                    # reach EOF before reading enough quality\n                yield name, seq, None                   # yield a fasta record instead\n                break\n\n# Following is the tester\nif __name__ == \"__main__\":\n    import sys\n    n, slen, qlen = 0, 0, 0\n    for name, seq, qual in readfq(sys.stdin):           #Original line\n#   **for name, seq, qual in readfq(sys.argv[1]):**        #This is what I want, but did not work.\n        n += 1\n        slen += len(seq)\n        qlen += qual and len(qual) or 0\n        print(seq)\nprint (n, '\\t', slen, '\\t', qlen)\n</code></pre>\n\n<p>I must have missed important parts to understand <strong>sys.stdin</strong> as <strong>stream</strong> and <strong>sys.argv[1]</strong> as <strong>file object</strong>, because the code does not work. </p>\n\n<p>Closely related <a href=\"https://stackoverflow.com/questions/1744989/read-from-file-or-stdin?noredirect=1&amp;lq=1\">post</a> discussed about the using of <strong>stdin</strong> or <strong>argv[1]</strong> from command line as <strong>argument parsing</strong>, but my question is more about the difference between the contents of the two. More specifically, my this question is more about file stream(?), I think.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 942, "user_id": 2012809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IF0o7.png?s=128&g=1", "display_name": "Omni", "link": "https://stackoverflow.com/users/2012809/omni"}, "edited": false, "score": 1, "creation_date": 1515014115, "post_id": 48085171, "comment_id": 83145343, "body": "Have you profiled your code? Are there certain bottlenecks? What about parallelization. Is your algorithm splittable to N independent jobs? Then you could perhaps use AWS or another cloud computation service to access 200-300 nodes (thus reach the desired speedup)."}, {"owner": {"reputation": 557, "user_id": 389832, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VQULB.jpg?s=128&g=1", "display_name": "Katianie", "link": "https://stackoverflow.com/users/389832/katianie"}, "edited": false, "score": 1, "creation_date": 1515014526, "post_id": 48085171, "comment_id": 83145478, "body": "Cant access the pictures. This sounds like a linear algebra problem related to compressing images by using a type of averaging. Take a look at this: <a href=\"http://aix1.uottawa.ca/~jkhoury/haar.htm\" rel=\"nofollow noreferrer\">aix1.uottawa.ca/~jkhoury/haar.htm</a>"}, {"owner": {"reputation": 649, "user_id": 8210505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88e5db7b746aa7ef0b62d8ad43367854?s=128&d=identicon&r=PG&f=1", "display_name": "asheets", "link": "https://stackoverflow.com/users/8210505/asheets"}, "edited": false, "score": 0, "creation_date": 1515014566, "post_id": 48085171, "comment_id": 83145494, "body": "I have profiled it  with low-resolution (using time.clock() to time different blocks) and taken care of any bottlenecks that I could detect. My understanding is that this is a CPU bound task and using a python module for parallelization would actually reduce performance. I&#39;ll start looking unto cloud computation right now, thanks for suggestion!"}, {"owner": {"reputation": 649, "user_id": 8210505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88e5db7b746aa7ef0b62d8ad43367854?s=128&d=identicon&r=PG&f=1", "display_name": "asheets", "link": "https://stackoverflow.com/users/8210505/asheets"}, "reply_to_user": {"reputation": 557, "user_id": 389832, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VQULB.jpg?s=128&g=1", "display_name": "Katianie", "link": "https://stackoverflow.com/users/389832/katianie"}, "edited": false, "score": 0, "creation_date": 1515014837, "post_id": 48085171, "comment_id": 83145594, "body": "@Katianie This is interesting and very helpful for some other parts of my code! Here though, the averaging is already done, and the function above is assessing each already averaged zone"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1515015606, "post_id": 48085171, "comment_id": 83145929, "body": "<a href=\"https://meta.stackexchange.com/questions/129598/which-computer-science-programming-stack-exchange-do-i-post-in\">Where to post</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515016415, "post_id": 48085171, "comment_id": 83146268, "body": "CodeReview.stackexchange.com would probably be the best place to post."}], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 8210505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88e5db7b746aa7ef0b62d8ad43367854?s=128&d=identicon&r=PG&f=1", "display_name": "asheets", "link": "https://stackoverflow.com/users/8210505/asheets"}, "edited": false, "score": 0, "creation_date": 1515030294, "post_id": 48087454, "comment_id": 83150059, "body": "Your output looks like a huge improvement! Thank you! I&#39;m trying to work my way through it now and test it against my data. I&#39;ve changed the links to be available on google drive if you&#39;re interested"}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 1, "last_activity_date": 1515167941, "last_edit_date": 1515167941, "creation_date": 1515028979, "answer_id": 48087454, "question_id": 48085171, "link": "https://stackoverflow.com/questions/48085171/optimizing-a-complex-algorithm/48087454#48087454", "title": "Optimizing a complex algorithm", "body": "<p>Here is an optimized version of most of your logic (I underestimated the amount of work that would be...). I skipped the <code>&gt;200</code> branch and am using fake data because I couldn't access your link. When I switch off your <code>&gt;200</code> branch your and my code appear to give the same result but mine is quite a bit faster on the fake example.</p>\n\n<p>Sample output:</p>\n\n<pre><code>original\n26.056154000000003\noptimized\n0.763613000000003\nequal\nTrue\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>import numpy as np\nfrom numpy.lib.stride_tricks import as_strided\n\ndef mockdata(m, n, k):\n    colors = np.random.random((m, n, 3))\n    i, j = np.ogrid[:m, :n]\n    labels = np.round(k*k * (np.sin(0.05 * i) + np.sin(0.05 * j)**2)).astype(int) % k\n    return colors, labels\n\nDIAG_NEIGHBORS = True\nMAXIMUMCONTRAST = 443.405\n\ndef textureRemover2(pix, labeledPix, ratio=1.0):\n    start = time.clock()\n    pix, labeledPix = pix.copy(), labeledPix.copy()\n    pixf, labeledPixf = pix.reshape(-1, 3), labeledPix.ravel()\n    m, n = labeledPix.shape\n    s, t = labeledPix.strides\n    # find all sizes in O(n)\n    sizes = np.bincount(labeledPixf)\n    n_ids = len(sizes)\n    # make index for quick access to labeled areas\n    lblidx = np.split(np.argsort(labeledPixf), np.cumsum(sizes[:-1]))\n    lblidx[0] = None\n    # find all mean colors in O(n)\n    regionMeans = np.transpose([np.bincount(labeledPix.ravel(), px)\n                                / np.maximum(sizes, 1)\n                                for px in pix.reshape(-1, 3).T])\n    # find all neighbors in O(n)\n    horz = set(frozenset(p) for bl in as_strided(labeledPix, (m,n-1,2), (s,t,t))\n               for p in bl)\n    vert = set(frozenset(p) for bl in as_strided(labeledPix, (m-1,n,2), (s,t,s))\n               for p in bl)\n    nb = horz|vert\n    if DIAG_NEIGHBORS:\n        dwnrgt = set(frozenset(p) for bl in as_strided(\n            labeledPix, (m-1,n-1,2), (s,t,s+t)) for p in bl)\n        dwnlft = set(frozenset(p) for bl in as_strided(\n            labeledPix[::-1], (m-1,n-1,2), (-s,t,t-s)) for p in bl)\n        nb = nb|dwnrgt|dwnlft\n    nb = {p for p in nb if len(p) == 2 and not 0 in p}\n    nb_dict = {}\n    for a, b in nb:\n        nb_dict.setdefault(a, set()).add(b)\n        nb_dict.setdefault(b, set()).add(a)\n\n    maxSize = labeledPix.size - sizes[0]\n\n    for id_ in range(1, n_ids):\n        nbs = list(nb_dict.get(id_, set()))\n        if not nbs:\n            continue\n        d = regionMeans[id_] - regionMeans[nbs]\n        d = np.einsum('ij,ij-&gt;i', d, d)\n        mnd = np.argmin(d)\n        if d[mnd] &lt; ((ratio - sizes[id_]/maxSize) * MAXIMUMCONTRAST)**2:\n            mn = nbs[mnd]\n            lrg, sml = (id_, mn) if sizes[id_] &gt;= sizes[mn] else (mn, id_)\n            sizes[lrg], sizes[sml] = sizes[lrg] + sizes[sml], 0\n            for nb in nb_dict[sml]:\n                nb_dict[nb].remove(sml)\n                nb_dict[nb].add(lrg)\n            nb_dict[lrg].update(nb_dict[sml])\n            nb_dict[lrg].remove(lrg)\n            nb_dict[sml] = set()\n            pixf[lblidx[sml]] = regionMeans[lrg]\n            labeledPixf[lblidx[sml]] = lrg\n            lblidx[lrg], lblidx[sml] = np.r_[lblidx[lrg],lblidx[sml]], None\n    print(time.clock() - start)\n    return pix\n\nfrom scipy.ndimage.morphology import binary_dilation\nimport time\n\nSTRUCTEL = np.ones((3,3), int) if DIAG_NEIGHBORS else np.array([[0,1,0],[1,1,1],[0,1,0]], int)\n\ndef getNeighbors(labeledPix, regionID):\n    nb = set(labeledPix[binary_dilation(labeledPix == regionID, structure=STRUCTEL)])\n    nb.remove(regionID)\n    return sorted(nb)\n\nnumpy = np\n\ndef textureRemover(pix, labeledPix, ratio = 1.0):\n    pix, labeledPix = pix.copy(), labeledPix.copy()\n    numElements = numpy.amax(labeledPix)\n    maxSize = numpy.count_nonzero(labeledPix)\n    MAXIMUMCONTRAST = 443.405\n\n    start = time.clock()\n    for regionID in range(numElements):        \n        regionID += 1\n        if regionID not in labeledPix:\n            continue\n\n        #print(regionID)\n        #print((regionID / numElements) * 100, '%')\n\n        neighborIDs = getNeighbors(labeledPix, regionID)\n        if 0 in neighborIDs:\n            neighborIDs.remove(0) #remove white value\n        regionMask = labeledPix == regionID\n\n        region = pix[regionMask]\n\n        size = numpy.count_nonzero(regionMask)\n        contrastMin = (ratio - (size / maxSize)) * MAXIMUMCONTRAST \n        regionMean = region.mean(axis = 0)\n\n        if len(neighborIDs) &gt; 20000:\n            contrast = numpy.zeros(labeledPix.shape)\n            contrast[labeledPix!=0] = numpy.sqrt(numpy.sum((regionMean - pix[labeledPix!=0])**2, axis = -1))\n\n            significantMask = (contrast &lt; contrastMin)\n            significantContrasts = list(numpy.unique(contrast[significantMask]))\n\n            significantNeighbors = {}\n            for significantContrast in significantContrasts:\n                minContrast = min(significantContrasts)\n                if labeledPix[contrast == minContrast][0] in neighborIDs:\n                    significantNeighbors[minContrast] = labeledPix[contrast == minContrast][0]\n                else:\n                    significantContrasts.pop(significantContrasts.index(minContrast))\n\n        else:\n            significantNeighbors = {}\n            for neighborID in neighborIDs:\n                neighborMask = labeledPix == neighborID\n                neighbor = pix[neighborMask]\n                neighborMean = neighbor.mean(axis = 0)\n                contrast = numpy.sqrt(numpy.sum((regionMean - neighborMean)**2, axis = -1))\n                if contrast &lt; contrastMin:\n                    significantNeighbors[contrast] = neighborID\n\n        if significantNeighbors:\n            contrasts = significantNeighbors.keys()            \n            minContrast = min(contrasts)\n\n            minNeighbor = significantNeighbors[minContrast]\n            neighborMask = labeledPix == minNeighbor\n            neighborSize = numpy.count_nonzero(neighborMask)\n\n            if neighborSize &lt;= size:\n                labeledPix[neighborMask] = regionID\n                pix[neighborMask] = regionMean\n\n            else:\n                labeledPix[regionMask] = minNeighbor\n                pix[regionMask] = pix[neighborMask].mean(axis = 0)\n\n    print(time.clock() - start)\n    return pix\n\ndata = mockdata(200, 200, 1000)\nprint('original')\nres0 = textureRemover(*data)\nprint('optimized')\nres2 = textureRemover2(*data)\nprint('equal')\nprint(np.allclose(res0, res2))\n</code></pre>\n"}], "owner": {"reputation": 649, "user_id": 8210505, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/88e5db7b746aa7ef0b62d8ad43367854?s=128&d=identicon&r=PG&f=1", "display_name": "asheets", "link": "https://stackoverflow.com/users/8210505/asheets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 48087454, "answer_count": 1, "score": 0, "last_activity_date": 1515167941, "creation_date": 1515013816, "last_edit_date": 1515018658, "question_id": 48085171, "link": "https://stackoverflow.com/questions/48085171/optimizing-a-complex-algorithm", "title": "Optimizing a complex algorithm", "body": "<p>I know this is not an ideal place for questions of this scope, but I'm not sure where else to ask this or how to break it down. I've been working on a function for the past couple weeks, that runs, but for it to be feasible for my purposes, I need to speed it up 200-300x. </p>\n\n<p>I have an image array, where all pixels of similar color have been averaged and set to that average value. Then I have a 2D array of the same height and width, which labels each unique and non-contiguous feature of the image. </p>\n\n<p>Using these I need to assess the size of each feature and its level of contrast to each of its neighbors. These values are used in an equation and if the output of that equation is below a certain threshold, that feature is merged with its most similar neighbor. </p>\n\n<p>I've uploaded the image and the feature label array (printed with <code>numpy.savetext()</code>) to OneDrive and attached links</p>\n\n<p>code:</p>\n\n<pre><code>def textureRemover(pix, labeledPix, ratio = 1.0):\n    numElements = numpy.amax(labeledPix)\n    maxSize = numpy.count_nonzero(labeledPix)\n    MAXIMUMCONTRAST = 443.405\n\n    for regionID in range(numElements):        \n        start = time.clock()\n        regionID += 1\n        if regionID not in labeledPix:\n            continue\n\n        #print(regionID)\n        #print((regionID / numElements) * 100, '%')\n\n        neighborIDs = getNeighbors(labeledPix, regionID)\n        if 0 in neighborIDs:\n            neighborIDs.remove(0) #remove white value\n        regionMask = labeledPix == regionID\n\n        region = pix[regionMask]\n\n        size = numpy.count_nonzero(regionMask)\n        contrastMin = (ratio - (size / maxSize)) * MAXIMUMCONTRAST \n        regionMean = region.mean(axis = 0)\n\n        if len(neighborIDs) &gt; 200:\n            contrast = numpy.zeros(labeledPix.shape)\n            contrast[labeledPix!=0] = numpy.sqrt(numpy.sum((regionMean - pix[labeledPix!=0])**2, axis = -1))\n\n            significantMask = (contrast &lt; contrastMin)\n            significantContrasts = list(numpy.unique(contrast[significantMask]))\n\n            significantNeighbors = {}\n            for significantContrast in significantContrasts:\n                minContrast = min(significantContrasts)\n                if labeledPix[contrast == minContrast][0] in neighborIDs:\n                    significantNeighbors[minContrast] = labeledPix[contrast == minContrast][0]\n                else:\n                    significantContrasts.pop(significantContrasts.index(minContrast))\n\n        else:\n            significantNeighbors = {}\n            for neighborID in neighborIDs:\n                neighborMask = labeledPix == neighborID\n                neighbor = pix[neighborMask]\n                neighborMean = neighbor.mean(axis = 0)\n                contrast = numpy.sqrt(numpy.sum((regionMean - neighborMean)**2, axis = -1))\n                if contrast &lt; contrastMin:\n                    significantNeighbors[contrast] = neighborID\n\n        if significantNeighbors:\n            contrasts = significantNeighbors.keys()            \n            minContrast = min(contrasts)\n\n            minNeighbor = significantNeighbors[minContrast]\n            neighborMask = labeledPix == minNeighbor\n            neighborSize = numpy.count_nonzero(neighborMask)\n\n            if neighborSize &lt;= size:\n                labeledPix[neighborMask] = regionID\n                pix[neighborMask] = regionMean\n\n            else:\n                labeledPix[regionMask] = minNeighbor\n                pix[regionMask] = pix[neighborMask].mean(axis = 0)\n\n        print(time.clock() - start)\n    return pix\n</code></pre>\n\n<p><a href=\"https://drive.google.com/open?id=19ovRBuaiPW8jhphfUHknPwhWK04tAA2u\" rel=\"nofollow noreferrer\">pix</a></p>\n\n<p><a href=\"https://drive.google.com/open?id=1Eh1HefYpXTUF78yk81T9HONwtwl6uJhS\" rel=\"nofollow noreferrer\">labeledPix</a></p>\n\n<p>I know I'm asking for a lot of help, but I've been stuck on this for a few weeks and am unsure what else I can do. Any help will be greatly appreciated!</p>\n"}, {"tags": ["python", "jupyter-notebook", "geopandas", "folium"], "answers": [{"comments": [{"owner": {"reputation": 222, "user_id": 7481094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eybdj.jpg?s=128&g=1", "display_name": "Philipp Doerner", "link": "https://stackoverflow.com/users/7481094/philipp-doerner"}, "edited": false, "score": 0, "creation_date": 1593020126, "post_id": 49419357, "comment_id": 110636022, "body": "I have tried it myself and can confirm this works. Why on earth this doesn&#39;t just work directly is a mystery."}], "tags": [], "owner": {"reputation": 184, "user_id": 6142595, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-rnQKLDETSb4/AAAAAAAAAAI/AAAAAAAAARE/Sk7nIuHLTto/photo.jpg?sz=128", "display_name": "Trae Wallace", "link": "https://stackoverflow.com/users/6142595/trae-wallace"}, "is_accepted": false, "score": 4, "last_activity_date": 1521684418, "last_edit_date": 1521684418, "creation_date": 1521684084, "answer_id": 49419357, "question_id": 48085110, "link": "https://stackoverflow.com/questions/48085110/no-module-named-folium-plugins-python-3-6/49419357#49419357", "title": "No module named &#39;folium.plugins&#39;, Python 3.6", "body": "<p>I have no idea why this works, but I was having the same problem and finally solved it with</p>\n\n<pre><code>import folium.plugins as plugins\n\ncluster = folium.FeatureGroup(name='cluster')\ncluster.add_child(plugins.MarkerCluster(locations=coords, popups=popups)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9158997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c7354175586003c2b0053fa7c4d5804?s=128&d=identicon&r=PG&f=1", "display_name": "pandababy", "link": "https://stackoverflow.com/users/9158997/pandababy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3593, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1521684418, "creation_date": 1515013480, "question_id": 48085110, "link": "https://stackoverflow.com/questions/48085110/no-module-named-folium-plugins-python-3-6", "title": "No module named &#39;folium.plugins&#39;, Python 3.6", "body": "<p>I am trying to import folium into a Jupyter notebook I'm working on and I cannot seem to solve the import issues with the Folium library. Has anyone else solved this problem?</p>\n\n<p>After encountering an error installing folium, I used the solution provided in this thread to install the module: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/44617159/python-3-6-module-cannot-be-found-folium/48084827#48084827\">Python 3.6 Module cannot be found: Folium</a></p>\n\n<p>Short summary: clone from github, install using the commandline.</p>\n\n<p>This worked, but instead I encountered the following error further down the line when trying to import folium into my notebook:</p>\n\n<p>Input:</p>\n\n<pre><code>import pandas as pd\nimport geopandas as gpd\nimport numpy as np\nfrom geopandas.tools import sjoin\nimport folium\nfrom folium.plugins import MarkerCluster\nfrom folium.element import IFrame\nimport shapely\nfrom shapely.geometry import Point\nimport unicodedata\nimport pysal as ps\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>ModuleNotFoundError                       Traceback (most recent call \nlast)\n&lt;ipython-input-162-0ae99a5c599e&gt; in &lt;module&gt;()\n      4 from geopandas.tools import sjoin\n      5 import folium\n----&gt; 6 from folium.plugins import MarkerCluster\n      7 from folium.element import IFrame\n      8 import shapely\n\nModuleNotFoundError: No module named 'folium.plugins'\n</code></pre>\n"}, {"tags": ["python", "xpath"], "answers": [{"comments": [{"owner": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "edited": false, "score": 0, "creation_date": 1515072974, "post_id": 48095388, "comment_id": 83167674, "body": "thanks \\ obrigado :) Corrected a few things in your code and submitting it as  an answer."}, {"owner": {"reputation": 13, "user_id": 9169281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e427f2751fe2d99666bb4c8b6915fd?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Altran", "link": "https://stackoverflow.com/users/9169281/andre-altran"}, "reply_to_user": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "edited": false, "score": 0, "creation_date": 1515077622, "post_id": 48095388, "comment_id": 83170586, "body": "no problem. off topic, what are you using this for?"}, {"owner": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "edited": false, "score": 0, "creation_date": 1515078248, "post_id": 48095388, "comment_id": 83170976, "body": "parse live score webpage to get daily alerts (by email) on the matches i am interested in :), not a big deal."}, {"owner": {"reputation": 13, "user_id": 9169281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e427f2751fe2d99666bb4c8b6915fd?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Altran", "link": "https://stackoverflow.com/users/9169281/andre-altran"}, "reply_to_user": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "edited": false, "score": 0, "creation_date": 1515078492, "post_id": 48095388, "comment_id": 83171125, "body": "what is PyVirtualDisplay used for, i am curious because you never know when you will need something like this."}, {"owner": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "edited": false, "score": 0, "creation_date": 1515078883, "post_id": 48095388, "comment_id": 83171343, "body": "using  PyVirtualDisplay because I ran web scraping scripts on the cloud (using a paid service). Use it very often for personal projects to not have a machine &quot;always on&quot;."}, {"owner": {"reputation": 13, "user_id": 9169281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e427f2751fe2d99666bb4c8b6915fd?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Altran", "link": "https://stackoverflow.com/users/9169281/andre-altran"}, "reply_to_user": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "edited": false, "score": 0, "creation_date": 1515145901, "post_id": 48095388, "comment_id": 83197535, "body": "that is very interesting, can you point me in the direction of some examples?"}], "tags": [], "owner": {"reputation": 13, "user_id": 9169281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e427f2751fe2d99666bb4c8b6915fd?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Altran", "link": "https://stackoverflow.com/users/9169281/andre-altran"}, "is_accepted": false, "score": 0, "last_activity_date": 1515069030, "creation_date": 1515069030, "answer_id": 48095388, "question_id": 48085095, "link": "https://stackoverflow.com/questions/48085095/parsing-with-xpath-two-different-classes-inside-another/48095388#48095388", "title": "Parsing with xpath two different classes inside another", "body": "<p>i am going to reply with pseudocode. TUGA!</p>\n\n<pre><code>//cicle all dl elements\nfor litag in browser.find_elements_by_xpath('//dl\"]'):\n    //assuming the dl have allways the same order,first time then clubs\n    //first print the time and then the name\n    if(litag.get_attribute(class)==\"lsTime\")\n         time= litag.text\n         print(time)\n    if(litag.get_attribute(class)==\"lsTNames\"):\n         clubs= litag2.text\n         print(clubs)\n</code></pre>\n\n<p>just check what is the function to get attribute from and selenium element in the language that you are using.</p>\n"}, {"tags": [], "owner": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "is_accepted": false, "score": 0, "last_activity_date": 1515073000, "creation_date": 1515073000, "answer_id": 48096522, "question_id": 48085095, "link": "https://stackoverflow.com/questions/48085095/parsing-with-xpath-two-different-classes-inside-another/48096522#48096522", "title": "Parsing with xpath two different classes inside another", "body": "<p>Solution:</p>\n\n<pre><code>from pyvirtualdisplay import Display\nfrom selenium import webdriver\nimport time\n\nwith Display():\n    browser = webdriver.Firefox()\n    try:\n       browser.get(url_link_mob)\n       time.sleep(2)\n       for litag in browser.find_elements_by_xpath('//dl'):\n           if litag.get_attribute(\"class\") == \"lsTime\":\n               match_time = litag.text\n               print(match_time)\n           if litag.get_attribute(\"class\") == \"lsTNames\":\n               teams = litag.text\n               print(teams)\n\n    finally:\n        browser.quit()\n</code></pre>\n"}], "owner": {"reputation": 904, "user_id": 4519709, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c6b1f82af788e90e52773d9007bae416?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo", "link": "https://stackoverflow.com/users/4519709/gonzalo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1515073000, "creation_date": 1515013420, "question_id": 48085095, "link": "https://stackoverflow.com/questions/48085095/parsing-with-xpath-two-different-classes-inside-another", "title": "Parsing with xpath two different classes inside another", "body": "<p>I am trying to parse the following html using xpath to retrieve the lsTime and lsTmames to be shown as:</p>\n\n<pre><code>21:30\nBenfica\nSporting\n</code></pre>\n\n<p>Note that the html has many more data so i will use  a loop.</p>\n\n<p>html:</p>\n\n<pre><code>&lt;li class=\"\"&gt;\n                            &lt;dl class=\"lsTime\"&gt;&lt;dd&gt;21:30&lt;/dd&gt;&lt;/dl&gt;\n                            &lt;dl class=\"lsTNames\"&gt;\n                                &lt;dd&gt;Benfica&lt;/dd&gt;\n                                &lt;dd&gt;Sporting CP&lt;/dd&gt;\n                            &lt;/dl&gt;\n                            &lt;dl class=\"lsScore\"&gt;\n                                &lt;dd&gt;&lt;/dd&gt;\n                                &lt;dd&gt;&lt;/dd&gt;\n                            &lt;/dl&gt;\n                        &lt;/li&gt;\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>            with Display():\n                browser = webdriver.Firefox()\n                try:\n                   browser.get(url_link_mob)\n                   time.sleep(2)\n                   for litag in browser.find_elements_by_xpath('//dl[@class=\"lsTime\"]'):\n                       time= litag.text\n                       print(time)\nfor litag2 in browser.find_elements_by_xpath('//dl[@class=\"lsTNames\"]'):\n                       clubs= litag2.text\n                       print(clubs)    \n                finally:\n                    browser.quit()\n</code></pre>\n\n<p>If I use the code above  the data won't be displayed as I want because the times for all games will be separate the clubs. How could I parse first the time and then the clubs for each game as shwon in my example? \nThank you.</p>\n"}, {"tags": ["python", "opencv", "cv2"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 5904807, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/914e837b087ddc4e4a78ec613e10b7ae?s=128&d=identicon&r=PG&f=1", "display_name": "seabass09", "link": "https://stackoverflow.com/users/5904807/seabass09"}, "edited": false, "score": 0, "creation_date": 1515017119, "post_id": 48085158, "comment_id": 83146560, "body": "Thank you so much for your help. Could I ask you one more thing? How would I edit the code so that the frames from each video save in their own folders i.e one folder per video, to store the two corresponding frames?"}, {"owner": {"reputation": 746, "user_id": 5306132, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PTiRAB237_A/AAAAAAAAAAI/AAAAAAAAAQM/JAWG4One1Bo/photo.jpg?sz=128", "display_name": "Stavros Avramidis", "link": "https://stackoverflow.com/users/5306132/stavros-avramidis"}, "reply_to_user": {"reputation": 79, "user_id": 5904807, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/914e837b087ddc4e4a78ec613e10b7ae?s=128&d=identicon&r=PG&f=1", "display_name": "seabass09", "link": "https://stackoverflow.com/users/5904807/seabass09"}, "edited": false, "score": 0, "creation_date": 1515064348, "post_id": 48085158, "comment_id": 83162472, "body": "oh that&#39;s an easy one replace<code>&#39;.&#47;data&#47;frame&#39; + str(currentFrame) + &#39;.jpg&#39;</code> with <code>&#39;.&#39;+os.path(file)+&#39;&#47;data&#47;frame&#39; + str(currentFrame) + &#39;.jpg&#39;</code>"}], "tags": [], "owner": {"reputation": 746, "user_id": 5306132, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh4.googleusercontent.com/-PTiRAB237_A/AAAAAAAAAAI/AAAAAAAAAQM/JAWG4One1Bo/photo.jpg?sz=128", "display_name": "Stavros Avramidis", "link": "https://stackoverflow.com/users/5306132/stavros-avramidis"}, "is_accepted": true, "score": 2, "last_activity_date": 1520178706, "last_edit_date": 1520178706, "creation_date": 1515013754, "answer_id": 48085158, "question_id": 48085005, "link": "https://stackoverflow.com/questions/48085005/how-do-i-run-my-python-cv2-code-on-all-video-files-in-a-folder/48085158#48085158", "title": "How do I run my Python cv2 code on all video files in a folder?", "body": "<p>Just make it  function ad call it in a for loop for every video </p>\n\n<pre><code>import cv2\nimport numpy as np\nimport os\n\ndef frame_capture(file):\n  # Playing video from file:\n  cap = cv2.VideoCapture(file)\n\n  try:\n      if not os.path.exists('data'):\n          os.makedirs('data')\n  except OSError:\n      print('Error: Creating directory of data')\n\n  currentFrame = 0\n\n  while(True):\n      # Capture frame by frame\n      ret, frame = cap.read()\n\n      # Only take the first frame and tenth frame\n      if currentFrame == 0:\n          # Saves image of the current frame in jpg file\n          name = './data/frame' + str(currentFrame) + '.jpg'\n          print ('Creating...' + name)\n          cv2.imwrite(name, frame)\n\n      if currentFrame == 5:\n          name = './data/frame' + str(currentFrame) + '.jpg'\n          print ('Creating...' + name)\n          cv2.imwrite(name, frame)\n\n      # To stop duplicate images\n      currentFrame += 1\n\n  cap.release()\n  cv2.destroyAllWindows()\n</code></pre>\n\n<p>for the loop:</p>\n\n<pre><code>import os\nfor file in os.listdir(\"/mydir\"):\n    if file.endswith(\".m4v\"):\n        path=os.path.join(\"/mydir\", file))\n        frame_capture(path)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 1, "creation_date": 1544870452, "post_id": 53789669, "comment_id": 94434157, "body": "That&#39;s hardly surprising - the code reads the whole video despite needing only the first 5 frames! Try exiting the loop after frame 5."}], "tags": [], "owner": {"reputation": 81, "user_id": 7279705, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b0366703d243ca2d047964d267d0777?s=128&d=identicon&r=PG&f=1", "display_name": "Cur123", "link": "https://stackoverflow.com/users/7279705/cur123"}, "is_accepted": false, "score": 0, "last_activity_date": 1544868562, "last_edit_date": 1544868562, "creation_date": 1544849951, "answer_id": 53789669, "question_id": 48085005, "link": "https://stackoverflow.com/questions/48085005/how-do-i-run-my-python-cv2-code-on-all-video-files-in-a-folder/53789669#53789669", "title": "How do I run my Python cv2 code on all video files in a folder?", "body": "<p>The selected answer was great but it ran for like more than a hour for me, so I created directory and set it as my working one in a step before this code and then added a 'break' after the last if statement in the above code. That did the trick!</p>\n\n<pre><code>    import cv2\n    import numpy as np\n    import os\n\n    def frame_capture(file):\n        # Playing video from file:\n       cap = cv2.VideoCapture(file)\n\n      currentFrame = 0\n\n      while(True):\n          # Capture frame by frame\n          ret, frame = cap.read()\n\n            # Only take the tenth frame\n\n          if currentFrame == 5:\n              name = './data/frame' + str(currentFrame) + '.jpg'\n              print ('Creating...' + name)\n              cv2.imwrite(name, frame)\n              break\n\n              # To stop duplicate images\n          currentFrame += 1\n\n      cap.release()\n      cv2.destroyAllWindows()\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5904807, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/914e837b087ddc4e4a78ec613e10b7ae?s=128&d=identicon&r=PG&f=1", "display_name": "seabass09", "link": "https://stackoverflow.com/users/5904807/seabass09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5055, "favorite_count": 1, "accepted_answer_id": 48085158, "answer_count": 2, "score": -1, "last_activity_date": 1563038214, "creation_date": 1515012942, "question_id": 48085005, "link": "https://stackoverflow.com/questions/48085005/how-do-i-run-my-python-cv2-code-on-all-video-files-in-a-folder", "title": "How do I run my Python cv2 code on all video files in a folder?", "body": "<p>I have written some python code for extracting two frames from a video file using cv2. I have tested my code and it works for one video file.</p>\n\n<p>However, I have a folder with hundreds of video files and I would like to extract two frames from all the videos in that folder. Is there a method of doing this for all the files in a folder? Perhaps using the os module or something similar?</p>\n\n<p>My code is below for reference:</p>\n\n<pre><code>    import cv2\n    import numpy as np\n    import os\n\n    # Playing video from file:\n    cap = cv2.VideoCapture('/Users/batuhanyildirim/Desktop/UCF-\n    101/BenchPress/v_benchPress_g25_c07_mp4.m4v')\n\n    try:\n        if not os.path.exists('data'):\n            os.makedirs('data')\n    except OSError:\n        print('Error: Creating directory of data')\n\n    currentFrame = 0\n\n    while(True):\n        # Capture frame by frame\n        ret, frame = cap.read()\n\n        # Only take the first frame and tenth frame\n        if currentFrame == 0:\n            # Saves image of the current frame in jpg file\n            name = './data/frame' + str(currentFrame) + '.jpg'\n            print ('Creating...' + name)\n            cv2.imwrite(name, frame)\n\n        if currentFrame == 5:\n            name = './data/frame' + str(currentFrame) + '.jpg'\n            print ('Creating...' + name)\n            cv2.imwrite(name, frame)\n\n        # To stop duplicate images\n        currentFrame += 1\n\n    cap.release()\n    cv2.destroyAllWindows()\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 386, "user_id": 9154178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c20967d2814d6e2e693bc48b28bf09?s=128&d=identicon&r=PG&f=1", "display_name": "scrbbL", "link": "https://stackoverflow.com/users/9154178/scrbbl"}, "edited": false, "score": 0, "creation_date": 1515013290, "post_id": 48085001, "comment_id": 83144991, "body": "What type is mysprite?"}, {"owner": {"reputation": 33, "user_id": 4010601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6040f5836fa70534cc9ae4c53a679286?s=128&d=identicon&r=PG&f=1", "display_name": "Noah M", "link": "https://stackoverflow.com/users/4010601/noah-m"}, "reply_to_user": {"reputation": 386, "user_id": 9154178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7c20967d2814d6e2e693bc48b28bf09?s=128&d=identicon&r=PG&f=1", "display_name": "scrbbL", "link": "https://stackoverflow.com/users/9154178/scrbbl"}, "edited": false, "score": 0, "creation_date": 1515013529, "post_id": 48085001, "comment_id": 83145091, "body": "^I am using codesters tbh so I am not too sure. pretty sure it&#39;s just a basic sprite"}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1515013688, "post_id": 48085001, "comment_id": 83145162, "body": "Please post a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete and verifiable example</a> and try to elaborate the question. Your goals are a bit unclear."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1515013933, "post_id": 48085001, "comment_id": 83145275, "body": "To indent your code correctly here, you can just select it and press Ctrl+K or the <code>{}</code> button (that will add four extra spaces before each line)."}, {"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1515018247, "post_id": 48085001, "comment_id": 83147014, "body": "If you just want to check if the x or y position of your sprite is past the point, do something like: <code>if mysprite.get_position()[0] &gt; -100:</code>. You can&#39;t just <a href=\"https://stackoverflow.com/q/5292303/6220679\">compare some tuples</a>."}], "answers": [{"tags": [], "owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "is_accepted": false, "score": 0, "last_activity_date": 1515021964, "last_edit_date": 1515021964, "creation_date": 1515021406, "answer_id": 48086509, "question_id": 48085001, "link": "https://stackoverflow.com/questions/48085001/trying-to-compare-where-my-sprite-is-in-pygame-to-end-the-game/48086509#48086509", "title": "Trying to compare where my sprite is in pygame to end the game", "body": "<p>The <code>Sprite</code> class on <a href=\"https://www.codesters.com\" rel=\"nofollow noreferrer\">codesters</a> appears to have <code>get_x</code> and <code>get_y</code> methods. You should be able implement your position check using something like this:</p>\n\n<pre><code>if my_sprite.get_y() &gt; -100:\n    my_sprite.say(\"I win!\")\n</code></pre>\n\n<p>I was able to get an output console by clicking on the console button:</p>\n\n<p><img src=\"https://i.stack.imgur.com/K3KS6.png\" alt=\"the console button\"></p>\n\n<p>I added the following code to get a list of <code>Sprite</code> attributes and methods:</p>\n\n<pre><code>for entry in dir(sprite):\n    print entry\n</code></pre>\n\n<p>I did not see <code>get_position</code> in the output.</p>\n"}], "owner": {"reputation": 33, "user_id": 4010601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6040f5836fa70534cc9ae4c53a679286?s=128&d=identicon&r=PG&f=1", "display_name": "Noah M", "link": "https://stackoverflow.com/users/4010601/noah-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515021964, "creation_date": 1515012933, "last_edit_date": 1515016597, "question_id": 48085001, "link": "https://stackoverflow.com/questions/48085001/trying-to-compare-where-my-sprite-is-in-pygame-to-end-the-game", "title": "Trying to compare where my sprite is in pygame to end the game", "body": "<p>Hi I am making a game where the sprite I control has to get past another sprite moving back and forth. I am trying to make an if statement that says if the sprite I control is past a certain point, i win the game</p>\n\n<p>writing something like</p>\n\n<pre><code>if mysprite.get_position() &gt; (-100, 10):\n    mysprite.say(\"I win!\")\n</code></pre>\n\n<p>does not seem to work. I'm trying to figure out how to compare where its position is on the grid. thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1515013038, "post_id": 48084973, "comment_id": 83144875, "body": "A set can only contain unique elements. So <code>len(set(x))</code> tells you the size of the set of unique elements of <code>x</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515013238, "post_id": 48084973, "comment_id": 83144965, "body": "What do you mean by &quot;it worked anyway&quot;? <code>set(input) == size</code> won&#39;t tell you if the number of unique items in <code>input</code> is equal to <code>size</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1515013316, "post_id": 48084973, "comment_id": 83145003, "body": "Do you really remove <code>len</code>, or did you mean to say that you removed <code>set</code>?"}, {"owner": {"reputation": 25, "user_id": 9169963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--EQjthcDPdY/AAAAAAAAAAI/AAAAAAAAAE0/Kdp-m4LNSTk/photo.jpg?sz=128", "display_name": "Nishie", "link": "https://stackoverflow.com/users/9169963/nishie"}, "edited": false, "score": 0, "creation_date": 1515015468, "post_id": 48084973, "comment_id": 83145868, "body": "You&#39;re right Barmar, it was probably a coincidence that happened when I tested it. And since I didn&#39;t really understand why, I mistook it as working, but it was in fact wrong :)"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9169963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--EQjthcDPdY/AAAAAAAAAAI/AAAAAAAAAE0/Kdp-m4LNSTk/photo.jpg?sz=128", "display_name": "Nishie", "link": "https://stackoverflow.com/users/9169963/nishie"}, "edited": false, "score": 1, "creation_date": 1515015247, "post_id": 48085045, "comment_id": 83145777, "body": "Hey! Thank you so much for the explanation! Went on python idle to test these and fully understand how it works now! Thanks!"}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 6, "last_activity_date": 1515013155, "creation_date": 1515013155, "answer_id": 48085045, "question_id": 48084973, "link": "https://stackoverflow.com/questions/48084973/explanation-for-lenset/48085045#48085045", "title": "Explanation for len(set())", "body": "<p>A <a href=\"https://docs.python.org/2/library/sets.html\" rel=\"noreferrer\"><strong><code>set</code></strong></a> is a datastructure for:</p>\n\n<blockquote>\n  <p>constructing and manipulating unordered collections of <strong>unique</strong> elements.</p>\n</blockquote>\n\n<p>These collections have to be <em>hashable</em> as well. But we are lucky: strings and characters are hashable.</p>\n\n<p>The point is that if we construct a set form <code>set(['1','4','1','5','2'])</code>, it will thus construct a collection of <em>unique</em> elements. So adding <code>'1'</code> twice here, does not makes any difference, the result is <code>set(['1', '4', '5', '2'])</code>  (or more conveniently written <code>{'1', '4', '5', '2'}</code>). With <code>len(..)</code> we obtain the <em>size</em> of a collection. So the size of that set is the number of <em>unique</em> characters of the input.</p>\n\n<p>So if we write <code>len(set(some_string))</code> we will first turn a string into a set. This is possible since a string is an <em>iterable</em> of the characters. So Python sees a string as an ordered collection of characters. <code>'abc'</code>, is a collection of <code>'a'</code>, <code>'b'</code>, and <code>'c'</code>. So every digit is seen as an element and added to the set.</p>\n\n<p>But adding the same digit a second time, has no effect. So that means that we end up with a set where every digit is added once. By then calculating the <code>len(..)</code> we obtain the number of <em>unique</em> digits. We can then compare that number with a given number.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 9169963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--EQjthcDPdY/AAAAAAAAAAI/AAAAAAAAAE0/Kdp-m4LNSTk/photo.jpg?sz=128", "display_name": "Nishie", "link": "https://stackoverflow.com/users/9169963/nishie"}, "edited": false, "score": 0, "creation_date": 1515015313, "post_id": 48085172, "comment_id": 83145808, "body": "Thank you for the explanation! After testing a bit on Python Idle over the answers given here I fully understood how it works! Thanks!"}], "tags": [], "owner": {"reputation": 11, "user_id": 8453282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0135774682a94d5ac40e77c28f849919?s=128&d=identicon&r=PG&f=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/8453282/wes"}, "is_accepted": false, "score": 1, "last_activity_date": 1515013816, "creation_date": 1515013816, "answer_id": 48085172, "question_id": 48084973, "link": "https://stackoverflow.com/questions/48084973/explanation-for-lenset/48085172#48085172", "title": "Explanation for len(set())", "body": "<p>In Python, every input is a string, which can be converted to a list of characters. When a list is converted to a set, it keeps the unique elements. </p>\n\n<p>So, when your code turns the string of digits into a set, it only keeps the unique digits. Then, when you find the length, it returns the number of unique digits. </p>\n"}], "owner": {"reputation": 25, "user_id": 9169963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--EQjthcDPdY/AAAAAAAAAAI/AAAAAAAAAE0/Kdp-m4LNSTk/photo.jpg?sz=128", "display_name": "Nishie", "link": "https://stackoverflow.com/users/9169963/nishie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8017, "favorite_count": 1, "accepted_answer_id": 48085045, "answer_count": 2, "score": 2, "last_activity_date": 1515013816, "creation_date": 1515012788, "last_edit_date": 1515013462, "question_id": 48084973, "link": "https://stackoverflow.com/questions/48084973/explanation-for-lenset", "title": "Explanation for len(set())", "body": "<p>Quick question, I was coding a small program in Python and was looking for a way to make a condition to only allow the input of 4 numbers if that input has the same len that I want and to make sure that all the numbers in it are unique.\nAfter searching for a bit on the web I found several people giving the same solution, it was <code>len(set(input)) == size</code> (size of my number) in my case.</p>\n\n<p>It works well, but I fail to understand how it really works and I want to know.\nI've also tried removing the <code>len</code> from that and it worked anyway so I have little clue what are the effects of each thing in this small piece of code.</p>\n\n<p>So even though it allows me to create a condition that makes sure each of the 4 numbers are unique I would love it if someone could explain to me how it works.</p>\n\n<p>Thanks in advance.</p>\n\n<p>PS: If anyone wonders what it is I'm practicing by making my own version of Cows &amp; Bulls. So given a random number using random.sample the user then has to try to guess what the number is. The conditions I mentioned were used upon the user's input.</p>\n"}, {"tags": ["python", "excel", "python-3.x", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "is_accepted": true, "score": 2, "last_activity_date": 1515013717, "creation_date": 1515013717, "answer_id": 48085151, "question_id": 48084971, "link": "https://stackoverflow.com/questions/48084971/search-for-specific-string-in-multiple-excel-files/48085151#48085151", "title": "Search for specific string in multiple excel files", "body": "<p>You should read through <a href=\"https://pandas.pydata.org/pandas-docs/stable/text.html#testing-for-strings-that-match-or-contain-a-pattern\" rel=\"nofollow noreferrer\">Pandas - Working with Text Data</a> specifically the section on strings that match or contain a pattern.</p>\n\n<p>Unfortunately you cannot search a DataFrame with the string methods common to core Python. Instead you would use a StringMethod, like so:</p>\n\n<pre><code>out = False\nfor col in df.columns:\n    if df[col].str.contains('@').any():\n        out = 'True'\n        break\nprint(out)\n</code></pre>\n\n<p>Also, I don't believe it is necessary to use <code>open</code> when using <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_excel.html\" rel=\"nofollow noreferrer\"><code>pd.read_excel</code></a>. E.g </p>\n\n<pre><code>df = pd.read_excel(open('test.xlsx','rb'), sheetname=0)\n</code></pre>\n\n<p>Can be rewritten:</p>\n\n<pre><code>df = pd.read_excel('test.xlsx', sheetname=0)\n</code></pre>\n\n<p>As far as iterating over files in a folder take a look at the builtin module <a href=\"https://docs.python.org/3/library/glob.html\" rel=\"nofollow noreferrer\">glob</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1483, "user_id": 1495850, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/kczLz.jpg?s=128&g=1", "display_name": "Bidstrup", "link": "https://stackoverflow.com/users/1495850/bidstrup"}, "edited": false, "score": 0, "creation_date": 1515138029, "post_id": 48099707, "comment_id": 83193457, "body": "Beginner questions: what the r&#39; stand do? and &#39;excel_file_folder_path&#39; should that be &#39;./foldername&#39;?"}, {"owner": {"reputation": 1483, "user_id": 1495850, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/kczLz.jpg?s=128&g=1", "display_name": "Bidstrup", "link": "https://stackoverflow.com/users/1495850/bidstrup"}, "edited": false, "score": 0, "creation_date": 1515138520, "post_id": 48099707, "comment_id": 83193687, "body": "Dosnt seems like this is working, it can find the files, but it dosnt find any @&#39;s when the xlsx file contains it."}], "tags": [], "owner": {"reputation": 115, "user_id": 7175548, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5NFLlfHD8HM/AAAAAAAAAAI/AAAAAAAAADM/yKm89pewaZc/photo.jpg?sz=128", "display_name": "Ninjasoup", "link": "https://stackoverflow.com/users/7175548/ninjasoup"}, "is_accepted": false, "score": 1, "last_activity_date": 1515083885, "creation_date": 1515083885, "answer_id": 48099707, "question_id": 48084971, "link": "https://stackoverflow.com/questions/48084971/search-for-specific-string-in-multiple-excel-files/48099707#48099707", "title": "Search for specific string in multiple excel files", "body": "<p>This an answer without using pandas</p>\n\n<pre><code>import logging\n\nLOG_FILENAME = r'file_output_location_path\\log.txt'\nlogging.basicConfig(filename=LOG_FILENAME,\n                    level=logging.WARNING,\n                    format='%(asctime)s %(message)s'\n                    )\n\n\nsource_folder = r'excel_file_folder_path'\n\ndef containsString():\n    for somefile in os.listdir(source_folder):\n        if'@' in somefile:\n            logging.warning(somefile)\n</code></pre>\n"}], "owner": {"reputation": 1483, "user_id": 1495850, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/kczLz.jpg?s=128&g=1", "display_name": "Bidstrup", "link": "https://stackoverflow.com/users/1495850/bidstrup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1748, "favorite_count": 0, "accepted_answer_id": 48085151, "answer_count": 2, "score": 0, "last_activity_date": 1515083885, "creation_date": 1515012784, "last_edit_date": 1515013831, "question_id": 48084971, "link": "https://stackoverflow.com/questions/48084971/search-for-specific-string-in-multiple-excel-files", "title": "Search for specific string in multiple excel files", "body": "<p>I'm new to python, so bear with me on this one.\nI want to make a script that searches within all excel files in a specific folder, to see if they contain an '@' sign. If it finds a match it should write to a log.txt files with the name of the excel file. I don't have the name of the excel files in advance.</p>\n\n<p>So far I'm stuck at just read in one file, and return true if it finds the string. What I got is</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_excel(open('test.xlsx','rb'), sheetname=0)\nprint(df)\n\nif '@' in df:\n    print(\"true\")\nelse:\n    print(\"false\")\n</code></pre>\n\n<p>This returns the content of sheet1 in the excel file correctly, but the search to find a match, doesn't seem to work. Any ideas? Maybe Im doing it all wrong.</p>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 1, "creation_date": 1515015905, "post_id": 48084954, "comment_id": 83146061, "body": "what is your question? And what library do you use to interact with your gpu?"}, {"owner": {"reputation": 13, "user_id": 2388941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214f34237f4d1dd6bd2410057cc0205c?s=128&d=identicon&r=PG", "display_name": "choosp", "link": "https://stackoverflow.com/users/2388941/choosp"}, "reply_to_user": {"reputation": 9105, "user_id": 119861, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/O2tUa.png?s=128&g=1", "display_name": "hansaplast", "link": "https://stackoverflow.com/users/119861/hansaplast"}, "edited": false, "score": 0, "creation_date": 1515017351, "post_id": 48084954, "comment_id": 83146652, "body": "I need a code to load the next portion of my data from disk on memory while the current portion is being processed. I&#39;m using Keras with Tensorflow backend which trains my network on gpu."}], "owner": {"reputation": 13, "user_id": 2388941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214f34237f4d1dd6bd2410057cc0205c?s=128&d=identicon&r=PG", "display_name": "choosp", "link": "https://stackoverflow.com/users/2388941/choosp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515012733, "creation_date": 1515012733, "question_id": 48084954, "link": "https://stackoverflow.com/questions/48084954/a-python-code-to-load-next-portion-of-data-on-memory-while-processing", "title": "a python code to load next portion of data on memory while processing", "body": "<p>I'm running a CNN on my GPU and each time I load a portion of my dataset to an array as an input to my network. But after each time my process on that portion is finished the GPU must be idle for another portion to be loaded from disk.\nI need a code like this :</p>\n\n<pre><code>thread1: #loading the data\n   array1=load_data_portion(filename,next_portion)\nthread2: #process on gpu\n   if thread 1 is finished:\n      array2 = array1\n      run thread1 #(load next portion as my current portion in being processed)\n      process array2\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1515012748, "post_id": 48084938, "comment_id": 83144736, "body": "&quot;Body or arguments&quot;?"}, {"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 4, "creation_date": 1515012778, "post_id": 48084938, "comment_id": 83144747, "body": "You may have luck with the <code>inspect</code> module: <a href=\"https://docs.python.org/3/library/inspect.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/inspect.html</a> But normally you don&#39;t need to do this. What are you trying to do?"}, {"owner": {"reputation": 3, "user_id": 8116665, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/801134563ab7520c0a040fec354e8d5d?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Rickers", "link": "https://stackoverflow.com/users/8116665/zach-rickers"}, "edited": false, "score": 0, "creation_date": 1515084224, "post_id": 48084938, "comment_id": 83174585, "body": "Say I create my own function.                                                                                    def my_function(arg):                                                                                                                            <b>x + arg = something                                                                                                        return something</b>                                                                              How do I review the bold text."}, {"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 1, "creation_date": 1515198756, "post_id": 48084938, "comment_id": 83223119, "body": "@ZachRickers The <code>inspect</code> module is your best bet. Are you trying to automate reviewing someone else&#39;s code? If you are doing this in your own code or package? If so, there is probably a better way for the overall problem you&#39;re trying to solve."}, {"owner": {"reputation": 3, "user_id": 8116665, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/801134563ab7520c0a040fec354e8d5d?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Rickers", "link": "https://stackoverflow.com/users/8116665/zach-rickers"}, "edited": false, "score": 0, "creation_date": 1515434469, "post_id": 48084938, "comment_id": 83290292, "body": "I&#39;m using datacamp.com and sometimes they have functions that they have been made in previous exercises.  I would just like to be able to review the body of the code without having to dig in previous exercises.  I know R has a function <b>body(function)</b> which reviews the body of the function.  Does python have something similar.  Which function in inspect would you use?  Thanks"}, {"owner": {"reputation": 2938, "user_id": 433202, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L0FCw.jpg?s=128&g=1", "display_name": "djhoese", "link": "https://stackoverflow.com/users/433202/djhoese"}, "edited": false, "score": 0, "creation_date": 1515695087, "post_id": 48084938, "comment_id": 83408765, "body": "@ZachRickers Try <code>inspect.getsource(function)</code> for a string of the function code. Otherwise look at the documentation I linked to and try some simple tests in ipython. Also please tag me if you comment again otherwise I don&#39;t get notifications for your replies."}], "owner": {"reputation": 3, "user_id": 8116665, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/801134563ab7520c0a040fec354e8d5d?s=128&d=identicon&r=PG&f=1", "display_name": "Zach Rickers", "link": "https://stackoverflow.com/users/8116665/zach-rickers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515012651, "creation_date": 1515012651, "question_id": 48084938, "link": "https://stackoverflow.com/questions/48084938/how-do-you-look-at-the-body-of-a-user-made-function-in-python", "title": "How do you look at the body of a user made function in python?", "body": "<p>What command do you use to look at the body or arguments of a user made function in python?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django", "django-authentication"], "answers": [{"comments": [{"owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "edited": false, "score": 0, "creation_date": 1515013611, "post_id": 48085027, "comment_id": 83145126, "body": "That&#39;s the for <code>password_change_done</code> vs <code>password_reset_complete.</code> I&#39;m trying to figure out the difference between <code>password_reset_done</code> vs <code>password_reset_complete</code>."}, {"owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "edited": false, "score": 0, "creation_date": 1515013760, "post_id": 48085027, "comment_id": 83145198, "body": "Thanks. It was the right idea. It pointed me in the right direction to figure it out!"}, {"owner": {"reputation": 931, "user_id": 4011315, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Vlu6f.png?s=128&g=1", "display_name": "Gjert", "link": "https://stackoverflow.com/users/4011315/gjert"}, "edited": false, "score": 0, "creation_date": 1528971819, "post_id": 48085027, "comment_id": 88713046, "body": "@dahrens Do you know if its possible to have the reset views on the same URL? I dont like the fact that I end up with <code>password-reset&#47;</code>, <code>password-reset&#47;done&#47;</code>, <code>password-reset&#47;confirm&#47;</code> and <code>password-reset&#47;complete</code>. Instead if would like <code>password-reset&#47;&lt;key&gt;&#47;</code> with an optional key parameter. Also, you know why they decided to do it like this, instead of playing around with HTTP methods and request parameters in a single view?"}], "tags": [], "owner": {"reputation": 3594, "user_id": 5992118, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/21UQh.png?s=128&g=1", "display_name": "dahrens", "link": "https://stackoverflow.com/users/5992118/dahrens"}, "is_accepted": true, "score": 1, "last_activity_date": 1515013824, "last_edit_date": 1515013824, "creation_date": 1515013080, "answer_id": 48085027, "question_id": 48084928, "link": "https://stackoverflow.com/questions/48084928/difference-between-reset-done-and-reset-complete-in-django-2-0-authentication-vi/48085027#48085027", "title": "Difference Between Reset Done and reset Complete in Django 2.0 Authentication Views", "body": "<p>Good question. This is how they look like:</p>\n\n<pre><code>class PasswordResetCompleteView(PasswordContextMixin, TemplateView):\n    template_name = 'registration/password_reset_complete.html'\n    title = _('Password reset complete')\n\n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['login_url'] = resolve_url(settings.LOGIN_URL)\n    return context\n\nclass PasswordResetDoneView(PasswordContextMixin, TemplateView):\n    template_name = 'registration/password_reset_done.html'\n    title = _('Password reset sent')\n</code></pre>\n\n<p>The main difference is that <code>PasswordResetCompleteView</code> passes the <code>LOGIN_URL</code> to your template context.</p>\n"}, {"tags": [], "owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "is_accepted": false, "score": 4, "last_activity_date": 1515013763, "creation_date": 1515013763, "answer_id": 48085161, "question_id": 48084928, "link": "https://stackoverflow.com/questions/48084928/difference-between-reset-done-and-reset-complete-in-django-2-0-authentication-vi/48085161#48085161", "title": "Difference Between Reset Done and reset Complete in Django 2.0 Authentication Views", "body": "<p><code>password_reset_done</code> shows a success message when email is sent (after email is entered in <code>password_reset</code>). <code>password_reset_complete</code> shows a success message when password is successfully changed.</p>\n\n<p>If you look at the <a href=\"https://github.com/django/django/blob/stable/2.0.x/django/contrib/auth/views.py\" rel=\"nofollow noreferrer\">source code</a> for these views, there is a comment explaining the process. Lines 237 - 242:</p>\n\n<pre><code># 4 views for password reset:\n# - password_reset sends the mail\n# - password_reset_done shows a success message for the above\n# - password_reset_confirm checks the link the user clicked and\n#   prompts for a new password\n# - password_reset_complete shows a success message for the above\n</code></pre>\n"}], "owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 48085027, "answer_count": 2, "score": 3, "last_activity_date": 1515013824, "creation_date": 1515012590, "question_id": 48084928, "link": "https://stackoverflow.com/questions/48084928/difference-between-reset-done-and-reset-complete-in-django-2-0-authentication-vi", "title": "Difference Between Reset Done and reset Complete in Django 2.0 Authentication Views", "body": "<p>I'm looking at implementing user authentication to a Django project. I'm reading through the <a href=\"https://docs.djangoproject.com/en/2.0/topics/auth/default/#module-django.contrib.auth.views\" rel=\"nofollow noreferrer\">documentation</a>. It mostly seems straightforward, but there's one thing that I don't understand.  </p>\n\n<p>Apparently the authentication includes eight views:</p>\n\n<pre><code>accounts/login/ [name='login']\naccounts/logout/ [name='logout']\naccounts/password_change/ [name='password_change']\naccounts/password_change/done/ [name='password_change_done']\naccounts/password_reset/ [name='password_reset']\naccounts/password_reset/done/ [name='password_reset_done']\naccounts/reset/&lt;uidb64&gt;/&lt;token&gt;/ [name='password_reset_confirm']\naccounts/reset/done/ [name='password_reset_complete']\n</code></pre>\n\n<p>When implementing a password reset I assume that what I want to do implement <code>accounts/password_reset/</code>, which forwards the user an email. Then, I need to implement <code>accounts/reset/&lt;uidb64&gt;/&lt;token&gt;/</code>, which is where the user is directed to via the email. What I'm not clear on is what that should do when the user has updated their password successfully.  </p>\n\n<p>What's the difference between <code>accounts/reset/done/</code> (or <code>password_resest_complete</code>) and <code>accounts/password_reset/done/</code> (or <code>password_reset_done</code>)?</p>\n"}, {"tags": ["python", "python-2.7", "unit-testing", "testing", "mocking"], "answers": [{"comments": [{"owner": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515014656, "post_id": 48085210, "comment_id": 83145525, "body": "Hmmm. Neither one seems to accomplish it for me. In the second example I assume that <code>dependent</code> as used in the <code>with</code> statement was supposed to be <code>dependent_class</code>?"}, {"owner": {"reputation": 2443, "user_id": 8676953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8efd48f03abc1e44f6e8f73fc951ba?s=128&d=identicon&r=PG&f=1", "display_name": "de1", "link": "https://stackoverflow.com/users/8676953/de1"}, "reply_to_user": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515014844, "post_id": 48085210, "comment_id": 83145598, "body": "Yes, that&#39;s fixed. Not sure why it wouldn&#39;t work. It basically replaced <code>DependentClass</code> within the <code>DependentClass</code> module (for the duration of the context)."}, {"owner": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515014877, "post_id": 48085210, "comment_id": 83145614, "body": "My check consists of simple print statements in the <code>__init__()</code> methods of each class. One prints &quot;REAL&quot; the other prints &quot;MOCK.&quot; With both approaches you showed I get &quot;REAL.&quot;"}, {"owner": {"reputation": 2443, "user_id": 8676953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8efd48f03abc1e44f6e8f73fc951ba?s=128&d=identicon&r=PG&f=1", "display_name": "de1", "link": "https://stackoverflow.com/users/8676953/de1"}, "reply_to_user": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515014971, "post_id": 48085210, "comment_id": 83145652, "body": "Are you sure you are instantiating <code>DependentClass</code> and in this case <code>MainClass</code> within the with statement?"}, {"owner": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515015259, "post_id": 48085210, "comment_id": 83145782, "body": "I am instantiating <code>MainClass</code> inside the with statement. <code>DependentClass</code> is being instantiated within <code>MainClass</code>&#39;s <code>__init__()</code> in a different file. I think that the problem might be that the namespace change does not carry over to the other file. Maybe the example wasn&#39;t clear. Each mention of <code>something.py</code> was an indication of a separate source file."}, {"owner": {"reputation": 2443, "user_id": 8676953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8efd48f03abc1e44f6e8f73fc951ba?s=128&d=identicon&r=PG&f=1", "display_name": "de1", "link": "https://stackoverflow.com/users/8676953/de1"}, "reply_to_user": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515015381, "post_id": 48085210, "comment_id": 83145832, "body": "I added another option. I suspect it&#39;s the way you are importing the DependentClass which would resolve it before it is being patched."}, {"owner": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515016151, "post_id": 48085210, "comment_id": 83146157, "body": "Please see the edits to the OP. There are actually three files each with a different class. I tried modifying your third example accordingly (<code>main_class</code> replaced with <code>DependentDependentClass</code>). No exceptions are being raised but I&#39;m still seeing &quot;REAL&quot;. I&#39;m doing this inside a Flask app, I hope that isn&#39;t messing with my context somehow."}, {"owner": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515017371, "post_id": 48085210, "comment_id": 83146663, "body": "Actually, I think it worked! I&#39;ll posted my &quot;aha&quot; moment for clarity in the OP. Thank you, so much, @de1!!!"}, {"owner": {"reputation": 2443, "user_id": 8676953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8efd48f03abc1e44f6e8f73fc951ba?s=128&d=identicon&r=PG&f=1", "display_name": "de1", "link": "https://stackoverflow.com/users/8676953/de1"}, "reply_to_user": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "edited": false, "score": 0, "creation_date": 1515017495, "post_id": 48085210, "comment_id": 83146712, "body": "I think it would have saved time if you posted a complete simple example including imports that you are actually testing ;-)"}], "tags": [], "owner": {"reputation": 2443, "user_id": 8676953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8efd48f03abc1e44f6e8f73fc951ba?s=128&d=identicon&r=PG&f=1", "display_name": "de1", "link": "https://stackoverflow.com/users/8676953/de1"}, "is_accepted": true, "score": 1, "last_activity_date": 1515017717, "last_edit_date": 1515017717, "creation_date": 1515014035, "answer_id": 48085210, "question_id": 48084891, "link": "https://stackoverflow.com/questions/48084891/how-to-mock-python-classes-when-nested-several-dependencies-deep/48085210#48085210", "title": "How to mock Python classes when nested several dependencies deep", "body": "<p>The <a href=\"https://docs.python.org/3/library/unittest.mock.html\" rel=\"nofollow noreferrer\">mock module</a> does indeed seem to be a good fit in this case. You can specify the mock (your mock) to use when calling the various <code>patch</code> methods.</p>\n\n<p>If you are importing only the class rather than the module you can patch the imported DependentDependentClass in DependentClass:</p>\n\n<pre><code>import .DependentClass as dependent_class\nfrom .DependentDependentClass import MockDependentDependentClass\n\nwith patch.object(dependent_class, 'DependentDependentClass', MockDependentDependentClass):\n  # do something while class is patched\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>with patch('yourmodule.DependentClass.DependentDependentClass', MockDependentDependentClass):\n  # do something while class is patched\n</code></pre>\n\n<p>or the following will only work if you are accessing the class via a module or import it after it is being patched:</p>\n\n<pre><code>with patch('yourmodule.DependentDependentClass.DependentDependentClass', MockDependentDependentClass):\n  # do something while class is patched\n</code></pre>\n\n<p>Just bare in mind what object is being patched, when.</p>\n\n<p>Note: you might find it less confusing naming your files in lower case, slightly different to the embedded class(es).</p>\n\n<p>Note 2: If you need to mock a dependency of a dependency of the module under test then it might suggest that you are not testing at the right level.</p>\n"}], "owner": {"reputation": 1185, "user_id": 4628504, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRw1v.png?s=128&g=1", "display_name": "John Carrell", "link": "https://stackoverflow.com/users/4628504/john-carrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 48085210, "answer_count": 1, "score": 1, "last_activity_date": 1515019209, "creation_date": 1515012427, "last_edit_date": 1515019209, "question_id": 48084891, "link": "https://stackoverflow.com/questions/48084891/how-to-mock-python-classes-when-nested-several-dependencies-deep", "title": "How to mock Python classes when nested several dependencies deep", "body": "<p>If I have the following architecture...</p>\n\n<p><strong>Please note the edits below. It occurred to me (after some recent refactoring) that there are actually three classes in three different files. Sorry that the file/class names are getting ridiculous. I assure you those are not the real names. :)</strong></p>\n\n<pre><code>main_class.py\n\nclass MainClass(object):\n    def do_some_stuff(self):\n        dependent_class = DependentClass()\n\n\n\ndependent_class.py\n\nclass DependentClass(object):\n    def __init__():\n        dependent_dependent_class = DependentDependentClass()\n        dependent_dependent_class.do_dependent_stuff()\n\n\n\ndependent_dependent_class.py\n\nclass DependentDependentClass(object):\n    def do_dependent_stuff(self):\n        print \"I'm gonna do production stuff that I want to mock\"\n        print \"Like access a database or interact with a remote server\"\n\nclass MockDependentDependentClass(object):\n    def do_dependent_stuff(self):\n        print \"Respond as if the production stuff was all successful.\"\n</code></pre>\n\n<p>and I want to call <code>main_class.do_some_stuff</code> during testing but, during its execution, I want instances of <code>DependentDependentClass</code> replaced with <code>MockDependentDependentClass</code> how can I do that pythonically using best practices.</p>\n\n<p>Currently, the best thing I could come up with is to conditionally instantiate one class or the other based on the presence/value of an environment variable. It certainly works but is pretty dirty.</p>\n\n<p>I spent some time reading about the unittest.mock and mock.patch functions and they seem like they might be able to help but each description that I could wrap my head around seemed to be a little different than my actual use case.</p>\n\n<p>The key is that I don't want to define mock return values or attributes but that I want the namespace changed, globally, I guess, such that when my application thinks it is instantiating DependentClass it is actually instantiating MockDependentClass.</p>\n\n<p>The fact that I can't find any examples of anyone doing exactly this means one of two things:</p>\n\n<ol>\n<li>It's because I'm doing it in a very dumb/naive way.</li>\n<li>I'm doing something so genius no else has ever encountered it.</li>\n</ol>\n\n<p>... I assume it's number 1...</p>\n\n<p>Full disclosure, unit testing is not something with which I am skilled. It's an effort that my internal tools development team is trying to catch up to step our game up a bit. It's possible that I'm not thinking about testing correctly.</p>\n\n<p>Any thoughts would be most welcome. Thank you, in advance!</p>\n\n<p><strong>SOLUTION!!!</strong></p>\n\n<p>Thanks to @de1 for the help. Given my <em>clever</em> architecture shown above the following accomplishes what I want.</p>\n\n<p><strong>The following code is located in <code>main_class.py</code></strong></p>\n\n<pre><code>import dependent_class\nfrom dependent_dependent_class import MockDependentDependentClass\n\nwith patch.object(dependent_class, \"DependentDependentClass\", MockDependentDependentClass):\n    main_class = MainClass()\n    main_class.do_some_stuff()\n</code></pre>\n\n<p>The code seems to (and hell if I know how it's doing this) manipulate the namespace within the module <code>dependent_class</code> so that, while inside the <code>with</code> block (that's a context manager for anyone who is hung up on that part) anything referring to the class object <code>DependentDependentClass</code> will actually be referencing <code>MockDependentDependentClass</code>.</p>\n"}, {"tags": ["python", "algorithm", "list", "recursion", "minimum"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 4, "creation_date": 1515012445, "post_id": 48084884, "comment_id": 83144587, "body": "Not again: <i>recursion</i> is a bad idea for things that have no <i>recursive</i> structure. If you want to calculate the minimum element of a <i>tree</i> fine, but not a list. As to why it does not work? Because you work with floating points after a while, use <code>(l+p)&#47;&#47;2</code> instead of <code>(l+p)&#47;2</code>."}, {"owner": {"reputation": 1747, "user_id": 3726902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kV59z.png?s=128&g=1", "display_name": "Miket25", "link": "https://stackoverflow.com/users/3726902/miket25"}, "edited": false, "score": 1, "creation_date": 1515012548, "post_id": 48084884, "comment_id": 83144635, "body": "What are <code>l</code>,<code>a</code>, and <code>p</code>? What ever they are, <code>l == p</code> may not be a suitable base case to stop the recursion."}, {"owner": {"reputation": 1840, "user_id": 1917721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/TgopK.png?s=128&g=1", "display_name": "HFBrowning", "link": "https://stackoverflow.com/users/1917721/hfbrowning"}, "edited": false, "score": 1, "creation_date": 1515012633, "post_id": 48084884, "comment_id": 83144676, "body": "Unless you&#39;re trying to experiment and learn about recursion, you really should just use <code>min(my_list)</code> and be done with it"}], "answers": [{"comments": [{"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "edited": false, "score": 0, "creation_date": 1515013408, "post_id": 48084949, "comment_id": 83145043, "body": "I think this kind of methods are called divide and conquer"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 2, "last_activity_date": 1515013479, "last_edit_date": 1515013479, "creation_date": 1515012719, "answer_id": 48084949, "question_id": 48084884, "link": "https://stackoverflow.com/questions/48084884/finding-minimum-element-in-a-list-recursively-python/48084949#48084949", "title": "Finding minimum element in a list (recursively) - Python", "body": "<p>Your recursive strategy mentioned is similar a binary search, and it is most effected when traversing a tree to find a generic value as the tree is assumed to be structured in a sorted manner for maximum transversal efficiency. If you are truly intent on solving the problem with recursion, however, you can iterate over the list itself:</p>\n\n<pre><code>def minimum(l, val):\n  if not l[1:]:\n     return val\n  return minimum(l[1:], l[0] if l[0] &lt; val else val)\n\nl = [34, 23, 2, 4, 18]\nprint(minimum(l, l[0]))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "is_accepted": false, "score": 2, "last_activity_date": 1515014898, "last_edit_date": 1515014898, "creation_date": 1515013441, "answer_id": 48085101, "question_id": 48084884, "link": "https://stackoverflow.com/questions/48084884/finding-minimum-element-in-a-list-recursively-python/48085101#48085101", "title": "Finding minimum element in a list (recursively) - Python", "body": "<p>In the end, I believe this is just an example on how to iterate through a list using recursion rather than using a loop and used for learning purposes. You can continuously split the list into halves until you get a list of length <code>1</code>, which is when you surface the element. If you're doing this for learning purposes, I suggest you add <code>print()</code> statements to see what your list is doing.</p>\n\n<pre><code>def minimum(lst):\n    if len(lst) == 1:\n        return lst[0]\n    else:\n        m1 = minimum(lst[0:len(lst) / 2])\n        m2 = minimum(lst[len(lst) / 2:])\n        if m1 &lt; m2:\n            return m1\n        else:\n            return m2\n\n\nif __name__ == \"__main__\":\n    print(minimum([3, 4, 1, 2, 5]))\n    print(minimum([3, 2, 1, 0]))\n</code></pre>\n\n<p>But as @HFBrowning mentioned in a comment, in real life  you should just use <a href=\"https://docs.python.org/2/library/functions.html#min\" rel=\"nofollow noreferrer\"><code>min(lst)</code></a> and be done with it.</p>\n\n<p>And as @PatrickHaugh mentioned in a comment to this answer, the division must return an <em>integer</em>. Which means, if you're running this on Python 3, you should change the <code>len(lst) / 2</code> to <code>len(lst) // 2</code> (see the double <code>/</code>?)</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 9437991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c70e36e75e467bc5feebe0a7c33a8c9a?s=128&d=identicon&r=PG&f=1", "display_name": "KingKong BigBong", "link": "https://stackoverflow.com/users/9437991/kingkong-bigbong"}, "is_accepted": false, "score": 0, "last_activity_date": 1520169073, "creation_date": 1520169073, "answer_id": 49095777, "question_id": 48084884, "link": "https://stackoverflow.com/questions/48084884/finding-minimum-element-in-a-list-recursively-python/49095777#49095777", "title": "Finding minimum element in a list (recursively) - Python", "body": "<pre><code>def RecursiveMin(L):\nif len(L)==2:\n    if L[0]&lt;L[1]:\n        return L[0]\n    else:\n        return L[1]\nelse:\n    X= RecursiveMin(L[1:])\n    if L[0]&lt;X:\n        return L[0]\n    else:\n        return X\n</code></pre>\n\n<p>This formula will give you the smallest value in list.</p>\n\n<pre><code>L=[99,45,78,34,67,2,34,88]\nRecursiveMin(L)\n&gt;&gt;&gt; 2\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 6899325, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a44dda00ee9413a3d305436b9fe3b26c?s=128&d=identicon&r=PG&f=1", "display_name": "Pawe\u0142", "link": "https://stackoverflow.com/users/6899325/pawe%c5%82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2316, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1520169073, "creation_date": 1515012401, "question_id": 48084884, "link": "https://stackoverflow.com/questions/48084884/finding-minimum-element-in-a-list-recursively-python", "title": "Finding minimum element in a list (recursively) - Python", "body": "<p>I'm trying to find the minimum value in a list of integers using recursion. The main idea is that if the list is only one element long, this element is my minimum. \nElse, I divide the list onto two smaller lists of the same size, look for minimum value in both of them and then compare which one is smaller.\nThe code looks like this:</p>\n\n<pre><code>def minimum(a,l,p):\n    if l == p:\n        return a[l]\n    else:\n        m1 = minimum(a,l, (l+p)/2)\n        m2 = minimum(a, (l+p)/2 + 1, p)\n        if m1 &lt; m2:\n            return m1\n        else:\n            return m2\n</code></pre>\n\n<p>It doesn't seem to be difficult, however when I tried to run this function for a sample list, I got the following error: \"<em>RecursionError: maximum recursion depth exceeded in comparison</em>\".\nIs something wrong with the algorithm or maybe I should look somewhere else for the reason fo this problem? </p>\n"}, {"tags": ["python", "pandas", "sorting", "sum", "grouping"], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1515012688, "post_id": 48084913, "comment_id": 83144700, "body": "Total_Dispatched_Trips , base on the data he provided , this column dtype should be str"}, {"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 1, "creation_date": 1515013507, "post_id": 48084913, "comment_id": 83145081, "body": "Is <code>pd.to_numeric(&#39;1,109&#39;,errors=&#39;coerce&#39;)</code> supposed to return <code>1109</code>? From what I can see, it returns <code>nan</code>."}, {"owner": {"reputation": 3, "user_id": 9169908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d57ca9817ae0cefc2da1b931228e357?s=128&d=identicon&r=PG&f=1", "display_name": "P. Faske", "link": "https://stackoverflow.com/users/9169908/p-faske"}, "edited": false, "score": 1, "creation_date": 1515013922, "post_id": 48084913, "comment_id": 83145270, "body": "@\u2115\u0298\u0298\u1e06\u1e3d\u1e18 After running your code my a majority of the values for &quot;numeric_trip&quot; are &quot;NaN&quot;. What&#39;s the reason for this?"}, {"owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "edited": false, "score": 0, "creation_date": 1515014005, "post_id": 48084913, "comment_id": 83145300, "body": "try again now pls"}, {"owner": {"reputation": 3, "user_id": 9169908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d57ca9817ae0cefc2da1b931228e357?s=128&d=identicon&r=PG&f=1", "display_name": "P. Faske", "link": "https://stackoverflow.com/users/9169908/p-faske"}, "edited": false, "score": 0, "creation_date": 1515014334, "post_id": 48084913, "comment_id": 83145424, "body": "@\u2115\u0298\u0298\u1e06\u1e3d\u1e18 I get the following error when running your updated code: AttributeError: &#39;Series&#39; object has no attribute &#39;applymap&#39;"}, {"owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "edited": false, "score": 0, "creation_date": 1515014402, "post_id": 48084913, "comment_id": 83145448, "body": "change applymap with apply"}, {"owner": {"reputation": 3, "user_id": 9169908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d57ca9817ae0cefc2da1b931228e357?s=128&d=identicon&r=PG&f=1", "display_name": "P. Faske", "link": "https://stackoverflow.com/users/9169908/p-faske"}, "edited": false, "score": 0, "creation_date": 1515014609, "post_id": 48084913, "comment_id": 83145510, "body": "@\u2115\u0298\u0298\u1e06\u1e3d\u1e18 it now gives me the error: ValueError: could not convert string to float: &#39;1,109&#39;  I tried using: df.Total_Dispatched_Trips.str.replace(&quot;,&quot;,&quot;.&quot;) but that did not help"}, {"owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "edited": false, "score": 0, "creation_date": 1515014840, "post_id": 48084913, "comment_id": 83145596, "body": "<code>pd.to_numeric(df.Total_Dispatched_Trips.str.replace(&quot;,&quot;,&quot;.&quot;)&zwnj;&#8203;, errors = &#39;coerce&#39;)</code> should work too"}, {"owner": {"reputation": 3, "user_id": 9169908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d57ca9817ae0cefc2da1b931228e357?s=128&d=identicon&r=PG&f=1", "display_name": "P. Faske", "link": "https://stackoverflow.com/users/9169908/p-faske"}, "edited": false, "score": 0, "creation_date": 1515015916, "post_id": 48084913, "comment_id": 83146063, "body": "@\u2115\u0298\u0298\u1e06\u1e3d\u1e18 I still get &quot;Could not convert string to float&quot; errors for some reason."}], "tags": [], "owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "is_accepted": true, "score": 1, "last_activity_date": 1515014759, "last_edit_date": 1515014759, "creation_date": 1515012518, "answer_id": 48084913, "question_id": 48084878, "link": "https://stackoverflow.com/questions/48084878/sum-values-in-column-3-related-to-unique-values-in-column-2-and-1/48084913#48084913", "title": "Sum values in column 3 related to unique values in column 2 and 1", "body": "<p>okidoki here is it, borrowing on <a href=\"https://stackoverflow.com/questions/22137723/convert-number-strings-with-commas-in-pandas-dataframe-to-float\">Convert number strings with commas in pandas DataFrame to float</a></p>\n\n<pre><code>import locale\nfrom locale import atof\nlocale.setlocale(locale.LC_NUMERIC, '')\n\ndf['numeric_trip'] = pd.to_numeric(df.Total_Dispatched_trips.apply(atof), errors = 'coerce')\ndf.groupby(['Year', 'Week_number']).numeric_trip.sum()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9169908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d57ca9817ae0cefc2da1b931228e357?s=128&d=identicon&r=PG&f=1", "display_name": "P. Faske", "link": "https://stackoverflow.com/users/9169908/p-faske"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 48084913, "answer_count": 1, "score": 0, "last_activity_date": 1515046400, "creation_date": 1515012375, "question_id": 48084878, "link": "https://stackoverflow.com/questions/48084878/sum-values-in-column-3-related-to-unique-values-in-column-2-and-1", "title": "Sum values in column 3 related to unique values in column 2 and 1", "body": "<p>I'm working in Python and I have a Pandas DataFrame of Uber data from New York City. A part of the DataFrame looks like this:</p>\n\n<pre><code>    Year Week_Number    Total_Dispatched_Trips      \n    2015    51          1,109\n    2015    5           54,380\n    2015    50          8,989\n    2015    51          1,025\n    2015    21          10,195\n    2015    38          51,957\n    2015    43          266,465\n    2015    29          66,139\n    2015    40          74,321\n    2015    39          3\n    2015    50          854\n</code></pre>\n\n<p>As it is right now, the same week appears multiple times for each year. I want to sum the values for \"Total_Dispatched_Trips\" for every week for each year. I want each week to appear only once per year. (So week 51 can't appear multiple times for year 2015 etc.). How do I do this? My dataset is over 3k rows, so I would prefer not to do this manually. </p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["python", "numpy", "tensorflow", "lstm", "rnn"], "comments": [{"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515012748, "post_id": 48084798, "comment_id": 83144735, "body": "Have you considered that maybe your dataset is just huge? You&#39;ve got 65524 columns and 130 rows. That&#39;s 8518120 items. If every item was a single bit large, then your dataset would be just over a mb large... Factor in overhead and the fact that your data is bigger than one bit, and you&#39;ve got a significant memory hog."}, {"owner": {"reputation": 521, "user_id": 8893169, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e959a133a6da70ff0c1e0df013b71df6?s=128&d=identicon&r=PG&f=1", "display_name": "Sayed Gouda", "link": "https://stackoverflow.com/users/8893169/sayed-gouda"}, "reply_to_user": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515012919, "post_id": 48084798, "comment_id": 83144827, "body": "@JakobLovern thanks for answer, so you think [corei7 and 6 mb ram can not handle this]"}, {"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515013085, "post_id": 48084798, "comment_id": 83144897, "body": "Yeah, probably not. I&#39;d suggest keeping most of the data on disk and grabbing for little bits at a time to edit on them."}, {"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 1, "creation_date": 1515013167, "post_id": 48084798, "comment_id": 83144936, "body": "also, you... only have 6 mb of ram? mb, right? like, not gb? What kind of dinosaur did you dig up that has so little ram?"}, {"owner": {"reputation": 521, "user_id": 8893169, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e959a133a6da70ff0c1e0df013b71df6?s=128&d=identicon&r=PG&f=1", "display_name": "Sayed Gouda", "link": "https://stackoverflow.com/users/8893169/sayed-gouda"}, "reply_to_user": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 1, "creation_date": 1515013235, "post_id": 48084798, "comment_id": 83144962, "body": "@JakobLovern HAHAHA SORRY FOR THE MISTAKE, its 6 gb"}, {"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 1, "creation_date": 1515013279, "post_id": 48084798, "comment_id": 83144985, "body": "I was a little worried, there. Anyways, what type of stuff are you storing in each cell?"}, {"owner": {"reputation": 521, "user_id": 8893169, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e959a133a6da70ff0c1e0df013b71df6?s=128&d=identicon&r=PG&f=1", "display_name": "Sayed Gouda", "link": "https://stackoverflow.com/users/8893169/sayed-gouda"}, "reply_to_user": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515013507, "post_id": 48084798, "comment_id": 83145080, "body": "@JakobLovern dinosaur"}, {"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 1, "creation_date": 1515014719, "post_id": 48084798, "comment_id": 83145554, "body": "Do you still get the error when you try your code on a smaller dataset? If so, then it&#39;s a memory leak. If not, then you&#39;ve simply got too large of a dataset and you should consider compartmentalizing it. Specifically, if this neural network works like a normal one, just pull data cell by cell from disk to train your AI. Though... You might need some serious low-level hackery to pull off a stunt like that."}, {"owner": {"reputation": 521, "user_id": 8893169, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e959a133a6da70ff0c1e0df013b71df6?s=128&d=identicon&r=PG&f=1", "display_name": "Sayed Gouda", "link": "https://stackoverflow.com/users/8893169/sayed-gouda"}, "reply_to_user": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515018451, "post_id": 48084798, "comment_id": 83147086, "body": "@JakobLovern you were right it was about the dataset size. after using a smaller dataset i have another issue. i edit the post and add the new error"}, {"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 1, "creation_date": 1515027690, "post_id": 48084798, "comment_id": 83149514, "body": "Ok, so that&#39;s a different problem from the memory error. For the sake of future people with questions, I&#39;d like it if you would rollback your edits and phrase your question to focus on the memoryerror, then debug your code and post again as a new question. I&#39;ll post an answer to this question so it can get out of the unanswered queue."}], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "is_accepted": true, "score": 3, "last_activity_date": 1515029096, "creation_date": 1515029096, "answer_id": 48087468, "question_id": 48084798, "link": "https://stackoverflow.com/questions/48084798/rnn-python-numpy-memoryerror/48087468#48087468", "title": "RNN python numpy MemoryError", "body": "<p><em>Note: this question was solved in comments through careful debugging.</em></p>\n\n<p>Memory errors, in my experience, come from one of three places:</p>\n\n<ul>\n<li>really freaking huge datasets</li>\n<li>Sho-bhlzim, dark eater of souls and left socks</li>\n<li>Memory leaks</li>\n</ul>\n\n<p>All of these have a solution, if you don't mind getting your hands dirty.</p>\n\n<h2>Memory Leaks</h2>\n\n<p>These are caused by a section of code that doesn't close properly. One example is fork bombs:</p>\n\n<pre><code>import os\nwhile True:\n  os.fork\n</code></pre>\n\n<p>The canonical example, to me, was in TI-Basic. Doing</p>\n\n<pre><code>:Lbl A\n:If True\n:Then\n:Goto A\n:End\n</code></pre>\n\n<p>Would open up a frame on the stack at the If statement, then go straight to the Lbl without closing it again via the End statement. <sub>yes, I know that's not quite accurate, but it's close enough.</sub></p>\n\n<p>Anyways, opening files and not closing them can also crash your stack. Lots of stuff can.</p>\n\n<p>To Fix: Find it, kill it. Nothing else you can do. Also maybe some flow rewriting.</p>\n\n<h2>Sho-bhlzim, eater of souls</h2>\n\n<p>You'll need a Buddhist monk, a catholic priest, four goats, a pentagram, a pentacle, six candles made of earwax, and six pages of the necronomicon. Doesn't matter which six. Good? Now read them and do whatever the mad visions say to do.</p>\n\n<h2>Huge Datasets</h2>\n\n<p>These are actually pretty easy to test for. First, does your dataset LOOK huge? Is there a number on there that's bigger than 2^15? Yeah, you're probably best off here to begin with. Second, if you try a similar, but much smaller example dataset, does the error go away? Then you've got too big of a dataset.</p>\n\n<p>Now, how do you fix this? Grab your trusty earwax candle and... Eww, why do you still have that? Throw it away! Ok, so you'll need to take the dataset and break it into a lot of little pieces. In the question, it was an AI that was being trained, so each (relatively small) piece of training data could be its own file. This kind of jigsawificstion can get pretty screwy, though, so you'll want to see if you can rewrite your code to use less memory first.</p>\n\n<p>In the end, memory errors are caused by, unsurprisingly, not having enough memory. Optimizations that increase memory at the expense of speed are valuable in this endeavor. </p>\n"}], "owner": {"reputation": 521, "user_id": 8893169, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e959a133a6da70ff0c1e0df013b71df6?s=128&d=identicon&r=PG&f=1", "display_name": "Sayed Gouda", "link": "https://stackoverflow.com/users/8893169/sayed-gouda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 48087468, "answer_count": 1, "score": 1, "last_activity_date": 1515062265, "creation_date": 1515011988, "last_edit_date": 1515062265, "question_id": 48084798, "link": "https://stackoverflow.com/questions/48084798/rnn-python-numpy-memoryerror", "title": "RNN python numpy MemoryError", "body": "<p>The purpose of this code is creating a recurrent neural network (RNN) to predict the future values of forex market movement.</p>\n\n<p>The data set shape is (65524, 130) and the dtype is \u2018object\u2019.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>from sklearn.preprocessing import MinMaxScaler\nfrom keras.layers.core import Dense, Activation, Dropout\nfrom keras.layers.recurrent import LSTM\nfrom keras.models import Sequential\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\ndf = pd.read_csv(r\"E:\\Tutorial\\FinalDF.csv\", parse_dates=[0], index_col=[0], low_memory=False, dtype='unicode')\nsequence_length = 500\nn_features = len(df.columns)\nval_ratio = 0.1\nn_epochs = 3000\nbatch_size = 50\n\ndata = df.as_matrix()\ndata_processed = []\nfor index in range(len(data) - sequence_length):\n    data_processed.append(data[index: index + sequence_length])\ndata_processed = np.array(data_processed)\n\nval_split = round((1 - val_ratio) * data_processed.shape[0])\ntrain = data_processed[:, int(val_split), :]\nval = data_processed[int(val_split):, :]\n\nprint('Training data: {}'.format(train.shape))\nprint('Validation data: {}'.format(val.shape))\n\n\n\ntrain_samples, train_nx, train_ny = train.shape\nval_samples, val_nx, val_ny = val.shape\n\ntrain = train.reshape((train_samples, train_nx * train_ny))\nval = val.reshape((val_samples, val_nx * val_ny))\n\npreprocessor = MinMaxScaler().fit(train)\ntrain = preprocessor.transform(train)\nval = preprocessor.transform(val)\n\ntrain = train.reshape((train_samples, train_nx, train_ny))\nval = val.reshape((val_samples, val_nx, val_ny))\n\nX_train = train[:, : -1]\ny_train = train[:, -1][:, -1]\nX_val = val[:, : -1]\ny_val = val[:, -1][:, -1]\n\nX_train = np.reshape(X_train, (X_train.shape[0], X_train.shape[1], n_features))\nX_val = np.reshape(X_val, (X_val.shape[0], X_val.shape[1], n_features))\n\nmodel = Sequential()\nmodel.add(LSTM(input_shape=(X_train.shape[1:]), units=100, return_sequences=True))\nmodel.add(Dropout(0.5))\nmodel.add(LSTM(100, return_sequences=False))\nmodel.add(Dropout(0.25))\nmodel.add(Dense(units=1))\nmodel.add(Activation(\"relu\"))\n\nmodel.compile(loss='mean_squared_error', optimizer='adam', metrics=['mae', 'mse', 'accuracy'])\n\nhistory = model.fit(\n    X_train,\n    y_train,\n    batch_size=batch_size,\n    epochs=n_epochs,\n    verbose=2)\n\npreds_val = model.predict(X_val)\ndiff = []\nfor i in range(len(y_val)):\n    pred = preds_val[i][0]\n    diff.append(y_val[i] - pred)\n\nreal_min = preprocessor.data_min_[104]\nreal_max = preprocessor.data_max_[104]\nprint(preprocessor.data_min_[:1])\nprint(preprocessor.data_max_[:1])\n\npreds_real = preds_val * (real_max - real_min) + real_min\ny_val_real = y_val * (real_max - real_min) + real_min\n\nplt.plot(preds_real, label='Predictions')\nplt.plot(y_val_real, label='Actual values')\nplt.xlabel('test')\nplt.legend(loc=0)\nplt.show()\nprint(model.summary())\n</code></pre>\n\n<p>Here is the error:</p>\n\n<p>Using TensorFlow backend.</p>\n\n<p>Traceback (most recent call last):</p>\n\n<p>File \"E:/Tutorial/new.py\", line 20, in </p>\n\n<p>data_processed = np.array(data_processed)</p>\n\n<p>MemoryError</p>\n"}, {"tags": ["python", "for-loop", "replace", "filter"], "answers": [{"tags": [], "owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "is_accepted": false, "score": 0, "last_activity_date": 1515021206, "last_edit_date": 1515021206, "creation_date": 1515015330, "answer_id": 48085452, "question_id": 48084789, "link": "https://stackoverflow.com/questions/48084789/replacing-cell-of-a-dataframe-in-a-loop/48085452#48085452", "title": "Replacing cell of a dataframe in a loop", "body": "<p>The problem seems to be of two fold: first find the index of the last row and then replace it at (last_row_idx, \"year\").</p>\n\n<p>Try this </p>\n\n<pre><code>for i, g in df.sort_values(\"year\").groupby(\"Univers\", sort=False):\n    last_row_idx = g.tail(1).index.item()  # first task: find index\n    g.at[last_row_idx, \"year\"] = 2018      # replace\n    g.to_csv('{}.xls'.format(i))\n</code></pre>\n\n<p>Alternatively, one can also use <code>g.set_value(last_row_idx, \"year\", 2018)</code> to set value at a particular cell.  </p>\n\n<h3>Reference</h3>\n\n<p><a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_value.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_value.html</a></p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.at.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.at.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13842088/set-value-for-particular-cell-in-pandas-dataframe\">Set value for particular cell in pandas DataFrame</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/41217310/get-index-of-a-row-of-a-pandas-dataframe-as-an-integer\">Get index of a row of a pandas dataframe as an integer</a></p>\n"}], "owner": {"reputation": 353, "user_id": 7978013, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b50a2eefa63abde5c518cd920d33d71?s=128&d=identicon&r=PG", "display_name": "Newbie", "link": "https://stackoverflow.com/users/7978013/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515021206, "creation_date": 1515011948, "question_id": 48084789, "link": "https://stackoverflow.com/questions/48084789/replacing-cell-of-a-dataframe-in-a-loop", "title": "Replacing cell of a dataframe in a loop", "body": "<p>I was working on this question <a href=\"https://stackoverflow.com/questions/48066677/filter-item-iteration-in-dataframe-with-for-or-any-other/48066870?noredirect=1#comment83143275_48066870\">filter iteration using FOR</a>. I wonder how to replace the last cell of <code>year</code> column in each csv file generated. Lets say I want to replace the last cell (of column <code>year</code>) of each cvs file by current year (2018). I did the following code:</p>\n\n<pre><code>for i, g in df.sort_values(\"year\").groupby(\"Univers\", sort=False):\n    for y in g.iloc[-1, g.columns.get_loc('year')]:\n        y = 2018\n    g.to_csv('{}.xls'.format(i))\n</code></pre>\n\n<p>But I get the same column with any changes. Any ideas how to do this?</p>\n"}, {"tags": ["python", "checkbox", "tkinter"], "comments": [{"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 1, "creation_date": 1515011976, "post_id": 48084772, "comment_id": 83144369, "body": "The error message is pretty straightforward; your variable that you&#39;re using for the list indicies is a string, and it needs to be cast to an int first. I haven&#39;t really looked through your code, but just off the top of my head, it might be the <code>goal</code> variable that&#39;s giving you the issues."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8866025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72edb65be5acb9f4db545d11771b4fc7?s=128&d=identicon&r=PG&f=1", "display_name": "Justin2405", "link": "https://stackoverflow.com/users/8866025/justin2405"}, "edited": false, "score": 0, "creation_date": 1515047521, "post_id": 48084896, "comment_id": 83154093, "body": "Worked like a charm! Thank you!"}, {"owner": {"reputation": 10639, "user_id": 1431750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5557aad9ff70c36cfac418f511bdea98?s=128&d=identicon&r=PG", "display_name": "aneroid", "link": "https://stackoverflow.com/users/1431750/aneroid"}, "reply_to_user": {"reputation": 13, "user_id": 8866025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72edb65be5acb9f4db545d11771b4fc7?s=128&d=identicon&r=PG&f=1", "display_name": "Justin2405", "link": "https://stackoverflow.com/users/8866025/justin2405"}, "edited": false, "score": 0, "creation_date": 1515047724, "post_id": 48084896, "comment_id": 83154172, "body": "Glad it worked out. See <a href=\"http://meta.stackexchange.com/a/5235/193893\">How does accepting an answer work?</a> &amp; <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 13, "user_id": 8866025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72edb65be5acb9f4db545d11771b4fc7?s=128&d=identicon&r=PG&f=1", "display_name": "Justin2405", "link": "https://stackoverflow.com/users/8866025/justin2405"}, "edited": false, "score": 0, "creation_date": 1515048282, "post_id": 48084896, "comment_id": 83154376, "body": "Thanks! Quick follow-up, when I do it this way is there still a way for me to check the status of each checkbox? The ultimate goal here is to not only have these created, but when one is checked to have a total amount increased by 1."}, {"owner": {"reputation": 10639, "user_id": 1431750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5557aad9ff70c36cfac418f511bdea98?s=128&d=identicon&r=PG", "display_name": "aneroid", "link": "https://stackoverflow.com/users/1431750/aneroid"}, "reply_to_user": {"reputation": 13, "user_id": 8866025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72edb65be5acb9f4db545d11771b4fc7?s=128&d=identicon&r=PG&f=1", "display_name": "Justin2405", "link": "https://stackoverflow.com/users/8866025/justin2405"}, "edited": false, "score": 0, "creation_date": 1515048590, "post_id": 48084896, "comment_id": 83154469, "body": "If you want to count checkboxes, use <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate()</code></a> like this: <code>for i, goal in enumerate(pg, start=1)</code>. Then <code>i</code> has running index, which starts at <code>0</code> (I&#39;ve done <code>start=1</code> since you want a count)."}], "tags": [], "owner": {"reputation": 10639, "user_id": 1431750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5557aad9ff70c36cfac418f511bdea98?s=128&d=identicon&r=PG", "display_name": "aneroid", "link": "https://stackoverflow.com/users/1431750/aneroid"}, "is_accepted": true, "score": 2, "last_activity_date": 1515012456, "creation_date": 1515012456, "answer_id": 48084896, "question_id": 48084772, "link": "https://stackoverflow.com/questions/48084772/how-to-create-checkboxes-from-list/48084896#48084896", "title": "How to create Checkboxes from list", "body": "<p>The loop <code>for goal in pg:</code> will already give you each goal text in the variable <code>goal</code>:</p>\n\n<pre><code>&gt;&gt;&gt; pg = [\"goal1\",\"goal2\"]\n&gt;&gt;&gt; for goal in pg:\n...   print goal\n...\ngoal1\ngoal2\n</code></pre>\n\n<p>When you do <code>pg[goal]</code>, that's trying to lookup the index <code>\"goal1\"</code> in a list, which is an error. So text is already <code>goal</code> (which you have) and variable just needs to be a new variable.</p>\n\n<pre><code>for goal in pg:\n    l = Checkbutton(self.LabelFramep, text=goal, variable=Variable())\n    l.pack()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "is_accepted": false, "score": 0, "last_activity_date": 1515016599, "creation_date": 1515016599, "answer_id": 48085720, "question_id": 48084772, "link": "https://stackoverflow.com/questions/48084772/how-to-create-checkboxes-from-list/48085720#48085720", "title": "How to create Checkboxes from list", "body": "<p>Below example produces the simplest class I can think of that creates <a href=\"http://effbot.org/tkinterbook/checkbutton.htm\" rel=\"nofollow noreferrer\">check buttons</a> off of a list:</p>\n\n<pre><code>import tkinter as tk\n\nclass CheckbuttonList(tk.LabelFrame):\n    def __init__(self, master, text=None, list_of_cb=None):\n        super().__init__(master)\n\n        self['text'] = text\n        self.list_of_cb = list_of_cb\n        self.cb_values = dict()\n        self.check_buttons = dict()\n\n        if self.list_of_cb:\n            for item in list_of_cb:\n                self.cb_values[item] = tk.BooleanVar()\n                self.check_buttons[item] = tk.Checkbutton(self, text=item)\n                self.check_buttons[item].config(onvalue=True, offvalue=False,\n                                            variable=self.cb_values[item])\n                self.check_buttons[item].pack()\n\n\n\nif __name__ == '__main__':\n\n    root = tk.Tk()\n\n    my_list = [\"item1\", \"item2\", \"item3\"]\n\n    my_cbs = CheckbuttonList(root, \"My Checkbox List\", my_list)\n    my_cbs.pack()\n\n    root.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8866025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72edb65be5acb9f4db545d11771b4fc7?s=128&d=identicon&r=PG&f=1", "display_name": "Justin2405", "link": "https://stackoverflow.com/users/8866025/justin2405"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1849, "favorite_count": 0, "accepted_answer_id": 48084896, "answer_count": 2, "score": 1, "last_activity_date": 1515016599, "creation_date": 1515011871, "last_edit_date": 1515013903, "question_id": 48084772, "link": "https://stackoverflow.com/questions/48084772/how-to-create-checkboxes-from-list", "title": "How to create Checkboxes from list", "body": "<p>I'm trying to make a very basic program right now that will show a window, and group of Checkboxs vertically in a labelframe. I want the Checkboxes to automatically generate based on the contents of a list. I found an entry from someone on here with a similar desire and copied his code, but I'm getting the error: \"TypeError: list indices must be integers or slices, not str\"</p>\n\n<p>I'm new to Python, tried everything to correct this but coming up short. Any help would be great! Full code below:</p>\n\n<pre><code>from tkinter import *\n\n#list to be used to make Checkboxes\npg = [\"goal1\",\"goal2\"]\n\n\nclass yeargoals:\nglobal pg\ndef __init__(self,master):\n    self.master = master\n    master.title(\"This Year's Goals\")\n\n    #Makes the label Fram I want the Checkboxes to go in\n    self.LabelFramep= LabelFrame()\n    self.LabelFramep.configure(width=210)\n\n    #Makes the Checkboxs from the list above\n    for goal in pg:\n        pg[goal] = Variable()\n        l = Checkbutton(self.LabelFramep, text=goal, variable=pg[goal])\n        l.pack()\n\n\nroot = Tk()\nWindow = yeargoals(root)\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "google-api", "gspread"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7380376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3Kxp.jpg?s=128&g=1", "display_name": "maxpearl", "link": "https://stackoverflow.com/users/7380376/maxpearl"}, "edited": false, "score": 0, "creation_date": 1515018172, "post_id": 48084792, "comment_id": 83146985, "body": "Nope. What I meant was instead of: sheet.insert(row,index) where row is [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;], to insert {&quot;name&quot; : &quot;one&quot;, &quot;address&quot; : &quot;two&quot;, &quot;phone&quot;: &quot;three&quot;} where the keys are the column headers."}], "tags": [], "owner": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "is_accepted": false, "score": 0, "last_activity_date": 1515011959, "creation_date": 1515011959, "answer_id": 48084792, "question_id": 48084747, "link": "https://stackoverflow.com/questions/48084747/write-row-in-google-sheet-using-a-dict/48084792#48084792", "title": "Write row in google sheet using a dict", "body": "<p>Do you mean something like this?</p>\n\n<pre><code>kwargs = {'row': [my_list_of_data], 'index': some_integer}\nsheet.insert(**kwargs)\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7380376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3Kxp.jpg?s=128&g=1", "display_name": "maxpearl", "link": "https://stackoverflow.com/users/7380376/maxpearl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 837, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515018274, "creation_date": 1515011758, "last_edit_date": 1515018274, "question_id": 48084747, "link": "https://stackoverflow.com/questions/48084747/write-row-in-google-sheet-using-a-dict", "title": "Write row in google sheet using a dict", "body": "<p>The documentation on inserting a row using gspread indicates it needs a list:</p>\n\n<pre><code>sheet.insert_row(row, index)\n</code></pre>\n\n<p>where row is a list, and index is the sheet row number.\nBut you can read a google spreadsheet into a list of dicts using get_all_records(). Is it possible to write to the sheet using a dict?</p>\n"}, {"tags": ["python", "django", "model", "django-queryset"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1515011561, "post_id": 48084630, "comment_id": 83144200, "body": "Use a OneToOneField in <code>B</code>, follow it and use the reverse relationship to <code>C</code> from there."}, {"owner": {"reputation": 43, "user_id": 5753322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1138aa38f205cca4290b188ce47c125?s=128&d=identicon&r=PG&f=1", "display_name": "SamWill", "link": "https://stackoverflow.com/users/5753322/samwill"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1515012836, "post_id": 48084630, "comment_id": 83144777, "body": "@KlausD. does that get me a combined list of both B and C? Just added an example to my question"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1515013095, "post_id": 48084630, "comment_id": 83144906, "body": "Well, Django&#39;s ORM does not return tables. You will get single objects or lists of objects from a relationship."}, {"owner": {"reputation": 43, "user_id": 5753322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1138aa38f205cca4290b188ce47c125?s=128&d=identicon&r=PG&f=1", "display_name": "SamWill", "link": "https://stackoverflow.com/users/5753322/samwill"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1515014565, "post_id": 48084630, "comment_id": 83145493, "body": "Right, but is there a way to get a list of objects representing that combined list? If not, what impact will changing the ForeignKey to a OneToOneField have, because adding a new OneToOneField would be redundant, wouldn&#39;t it? @KlausD."}], "owner": {"reputation": 43, "user_id": 5753322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1138aa38f205cca4290b188ce47c125?s=128&d=identicon&r=PG&f=1", "display_name": "SamWill", "link": "https://stackoverflow.com/users/5753322/samwill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515076459, "creation_date": 1515011128, "last_edit_date": 1515076459, "question_id": 48084630, "link": "https://stackoverflow.com/questions/48084630/django-get-a-list-of-joins-between-two-models-based-on-a-third-model", "title": "django - get a list of joins between two models based on a third model", "body": "<p>I have three models that are set up like so:</p>\n\n<pre><code>class A(models.Model):\n    name = models.CharField(max_length=200)\n\nclass B(models.Model):\n    name = models.CharField(max_length=200)\n    a = models.ForeignKey(to=A, null=True, blank=True)\n\nclass C(models.Model):\n    name = models.CharField(max_length=200)\n    a = models.ForeignKey(to=A, null=True, blank=True)\n</code></pre>\n\n<p>The B-to-A relationship is one-one and the C-to-A relationship is many-one. I have a template where I want to show a list of all B.name, and for each B.name, have a list of C.name where C.a = B.a. What's the simplest way to do that? </p>\n\n<p>I know I can just get the list of Bs and the list of Cs, and for each B get B.a and search the list of Cs for the matching C.a, but is there a cleaner way to just get a queryset that combines both?</p>\n\n<hr>\n\n<p>example:  </p>\n\n<p>The <strong>A</strong> database looks like<br>\n| id | name  |<br>\n|----|-------|<br>\n| 1  | one   |<br>\n| 2  | two   |<br>\n| 3  | three |   </p>\n\n<p>The <strong>B</strong> database looks like<br>\n| id | name  | A |<br>\n|----|-------|---|<br>\n| 1  | one   | 1 |<br>\n| 2  | two   | 2 |<br>\n| 3  | three | 3 |  </p>\n\n<p>And the <strong>C</strong> database looks like<br>\n| id | name  | A |<br>\n|----|-------|---|<br>\n| 1  | oneC   | 1 |<br>\n| 2  | twoC   | 1 |<br>\n| 3  | threeC | 1 |<br>\n| 4  | fourC  | 2 |<br>\n| 5  | fiveC  | 2 |<br>\n| 6  | sixC   | 2 |<br>\n| 7  | sevenC | 3 |<br>\n| 8  | eightC | 3 |<br>\n| 9  | nineC  | 3 |  </p>\n\n<p>What I want returned is an object somehow representing the following<br>\n| B.name | C.name |<br>\n|--------|-------|<br>\n|  one   | oneC  |<br>\n|  one   | twoC  |<br>\n|  one   | threeC|<br>\n|  ...   | etc.. |</p>\n"}, {"tags": ["python", "psycopg2"], "comments": [{"owner": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 1, "creation_date": 1515011218, "post_id": 48084586, "comment_id": 83144063, "body": "<code>(user)</code> should be <code>(user,)</code>. Note the extra comma, since the parameter should be a tuple."}, {"owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "reply_to_user": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1515011368, "post_id": 48084586, "comment_id": 83144134, "body": "What if I use cur.execute(SQL,ARG)? How should SQL be written?"}, {"owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "reply_to_user": {"reputation": 2688, "user_id": 2718295, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7a0108422b842227a6b9cc92a5c114a5?s=128&d=identicon&r=PG", "display_name": "cowbert", "link": "https://stackoverflow.com/users/2718295/cowbert"}, "edited": false, "score": 0, "creation_date": 1515011439, "post_id": 48084586, "comment_id": 83144153, "body": "Please answer the question, so I can vote!"}], "owner": {"reputation": 1181, "user_id": 2876994, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2fad5cb13abf4dd5c102e86078ed439?s=128&d=identicon&r=PG&f=1", "display_name": "TMoraes", "link": "https://stackoverflow.com/users/2876994/tmoraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515010915, "creation_date": 1515010915, "question_id": 48084586, "link": "https://stackoverflow.com/questions/48084586/passing-argument-psycopg2", "title": "Passing argument psycopg2", "body": "<p>I'm trying passing parameters to SQL query, however, I don't know if I'm making this correct. </p>\n\n<pre><code>def getUser(user):\n conn = databaseConnection()\n cur = conn.cursor()\n conn.set_client_encoding('LATIN1')\n rows = cur.execute(\"SELECT * FROM mk_pessoas WHERE nome_razaosocial= %s\",(user))\n rows = cur.fetchall()\n return rows\n</code></pre>\n\n<p>Call this function:</p>\n\n<pre><code>row = getUser('brian')\nprint row\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>TypeError: not all arguments converted during string formatting\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 7576271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f63dc2ae95852741769cd20cd1709b30?s=128&d=identicon&r=PG&f=1", "display_name": "Thomasedv", "link": "https://stackoverflow.com/users/7576271/thomasedv"}, "edited": false, "score": 0, "creation_date": 1515042929, "post_id": 48087050, "comment_id": 83152607, "body": "Thanks you so much. I had already subclassed it, but for god know why, you actually need to set current cell to be selected before calling the edit. The function i used to do the selection, apparently didn&#39;t work for this purpose either..."}], "tags": [], "owner": {"reputation": 1868, "user_id": 6594646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2c94510c243614d5cf2bfdb9b868c4?s=128&d=identicon&r=PG&f=1", "display_name": "MalloyDelacroix", "link": "https://stackoverflow.com/users/6594646/malloydelacroix"}, "is_accepted": true, "score": 1, "last_activity_date": 1515031185, "last_edit_date": 1515031185, "creation_date": 1515025455, "answer_id": 48087050, "question_id": 48084565, "link": "https://stackoverflow.com/questions/48084565/qtablewidget-stop-editing-of-qtablewidgetitem/48087050#48087050", "title": "QTableWidget, Stop editing of QTableWidgetItem", "body": "<p>You need to capture the key press event from the QTableWidget.  To do this you will need to subclass the QTableWidget and implement the change row function from within.</p>\n\n<pre><code>self.table = CustomTableWidget()\n... # Populate widget with QTableWidgetItems\n\nclass CustomTableWidget(QtWidgets.QTableWidget):\n\n    def __init__(self):\n        super().__init__()\n\n    def keyPressEvent(self, event):\n        key = event.key()\n        if key == QtCore.Qt.Key_Return:\n            self.select_next_row()\n\n    def select_next_row(self):\n        self.setCurrentCell(self.currentRow() + 1, self.currentColumn())\n        self.edit(self.currentIndex())\n</code></pre>\n"}], "owner": {"reputation": 300, "user_id": 7576271, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f63dc2ae95852741769cd20cd1709b30?s=128&d=identicon&r=PG&f=1", "display_name": "Thomasedv", "link": "https://stackoverflow.com/users/7576271/thomasedv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 48087050, "answer_count": 1, "score": 0, "last_activity_date": 1515031185, "creation_date": 1515010810, "question_id": 48084565, "link": "https://stackoverflow.com/questions/48084565/qtablewidget-stop-editing-of-qtablewidgetitem", "title": "QTableWidget, Stop editing of QTableWidgetItem", "body": "<p>I have a QTableWidget with lots of items. I wanted to make it so that when i press the <code>Return</code> key (Same as <code>Qt.Key_Return</code>) while editing a cell, it will select and edit the next cell. However, if i call the <code>nextrow</code> function, it will not do anything, if i'm already editing a <code>QTableWidgetItem</code> already. It does work when nothing is being edited, and it will edit the selected row. </p>\n\n<pre><code>self.table = QTablewidget()\n... # Populate widget with QTableWidgetItems\n\ndef nextrow(self, row)\n    column = 1\n    self.table.editItem(self.table.item(row, column))\n</code></pre>\n\n<p>I see no way to actually disable that edit mode, and it completely ignores everything from setting the text to something, disabling the edit permission, because i'm already editing it. And as far as i looked, i couldn't find any method to do it either. </p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 10223, "user_id": 7032856, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh6.googleusercontent.com/-v2P-pqI1pww/AAAAAAAAAAI/AAAAAAAAABg/BHOFSOpQ0BM/photo.jpg?sz=128", "display_name": "Nae", "link": "https://stackoverflow.com/users/7032856/nae"}, "edited": false, "score": 0, "creation_date": 1515012059, "post_id": 48084555, "comment_id": 83144408, "body": "<a href=\"https://stackoverflow.com/q/16639125/7032856\">stackoverflow.com/q/16639125/7032856</a>"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1515012506, "post_id": 48084555, "comment_id": 83144617, "body": "your title asks about changing the color of a <i>frame</i>, but the first sentence asks about setting the color of the <i>window</i>. Which are you asking about?"}], "answers": [{"tags": [], "owner": {"reputation": 857, "user_id": 8692914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60e6b98c0348cc70952db1aedf455d0?s=128&d=identicon&r=PG&f=1", "display_name": "omeanwell", "link": "https://stackoverflow.com/users/8692914/omeanwell"}, "is_accepted": false, "score": 1, "last_activity_date": 1515011566, "last_edit_date": 1515011566, "creation_date": 1515010901, "answer_id": 48084582, "question_id": 48084555, "link": "https://stackoverflow.com/questions/48084555/how-do-i-change-the-background-color-of-a-frame-in-tkinter/48084582#48084582", "title": "How do i change the background color of a frame in tkinter?", "body": "<pre><code>self.master.configure(background='black')\n</code></pre>\n\n<p>Should do the job.</p>\n\n<p>You make a variable called <code>self.bg</code> which stores the background color, however dont set it. Replace <code>self.bg</code> with the above code and change black to reflect the desired color.</p>\n\n<p>e.g. <code>self.master.configure(background=bg)</code></p>\n\n<p>The resulting code would be</p>\n\n<pre><code>from tkinter import *\nclass Window(Frame):\n    def __init__(self, master=None, bg = \"#a6a6a6\"):\n        Frame.__init__(self, master)\n        self.master = master\n        self.master.configure(background='black')\n\nroot = Tk()\nroot.geometry(\"400x300\")\napp = Window(root)\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7845876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d475b840fa5670112456d27c2a89de88?s=128&d=identicon&r=PG&f=1", "display_name": "Kuke", "link": "https://stackoverflow.com/users/7845876/kuke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6225, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1515011566, "creation_date": 1515010772, "question_id": 48084555, "link": "https://stackoverflow.com/questions/48084555/how-do-i-change-the-background-color-of-a-frame-in-tkinter", "title": "How do i change the background color of a frame in tkinter?", "body": "<p>I am trying to change the background of the window of my gui. Can someone explain why this don't work.</p>\n\n<p>I am using python version 3.6.3</p>\n\n<pre><code>    from tkinter import *\n\n\nclass Window(Frame):\n\n    #Initialize the Window\n    def __init__(self, master=None, bg = \"#a6a6a6\"):\n\n        # Parameters that you want to send through the window\n        Frame.__init__(self, master)\n\n        self.master = master\n        self.bg = bg\n\n\nroot = Tk()\nroot.geometry(\"400x300\")\n\napp = Window(root)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "split", "conditional", "rounding", "nan"], "comments": [{"owner": {"reputation": 2400, "user_id": 4794459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ke4f2.jpg?s=128&g=1", "display_name": "Omar Einea", "link": "https://stackoverflow.com/users/4794459/omar-einea"}, "edited": false, "score": 0, "creation_date": 1515011035, "post_id": 48084547, "comment_id": 83143999, "body": "you can directly do this in step 1: <code>df_adhoc_3[&#39;CI80_lowerbound&#39;], df_adhoc_3[&#39;CI80_upperbound&#39;] = df_adhoc_3[&#39;CI_80&#39;]</code>"}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "reply_to_user": {"reputation": 2400, "user_id": 4794459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ke4f2.jpg?s=128&g=1", "display_name": "Omar Einea", "link": "https://stackoverflow.com/users/4794459/omar-einea"}, "edited": false, "score": 0, "creation_date": 1515011163, "post_id": 48084547, "comment_id": 83144038, "body": "&quot;ValueError: too many values to unpack (expected 2)&quot; when I try your code above"}, {"owner": {"reputation": 2400, "user_id": 4794459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ke4f2.jpg?s=128&g=1", "display_name": "Omar Einea", "link": "https://stackoverflow.com/users/4794459/omar-einea"}, "edited": false, "score": 0, "creation_date": 1515011233, "post_id": 48084547, "comment_id": 83144069, "body": "can you print <code>df_adhoc_3</code> and show the output?"}], "answers": [{"tags": [], "owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "is_accepted": false, "score": 0, "last_activity_date": 1515012320, "creation_date": 1515012320, "answer_id": 48084870, "question_id": 48084547, "link": "https://stackoverflow.com/questions/48084547/python-dataframe-split-column-into-two-columns-based-on-then-reformat-resul/48084870#48084870", "title": "Python Dataframe: Split Column Into Two Columns Based on (,) THEN Reformat Resulting Values", "body": "<p>Split is for taking portions of a string. Note that in a tuple, the comma and parentheses aren't actually part of the tuple, they're just part of how the tuple is formatted when it's displayed.  (Similarly, in the list <code>[1,2,3]</code>, there are no commas in the list, the commas are displayed just to separate the actual entries.) When you have a container such as a list or a tuple, you should use indexing. So:</p>\n\n<pre><code>def clean(data):\n    lb,ub = data\n    try:\n       lb= int(round(lb))\n       ub= int(round(ub))\n    except:\n       pass\n    if lb &lt; 0 :\n       lb =np.nan\n    return(lb,ub) \ndf_adhoc_3['CI80_lowerbound'],df_adhoc_3['CI80_lowerbound']=\ndf_adhoc_3['CI80'].apply(clean)\n</code></pre>\n\n<p>Notes:</p>\n\n<p>I'm not aware of a <code>n/a</code> in Python. If you want the string 'n/a', obviously you can replace the line <code>lb=np.nan</code> with <code>lb = 'n/a'</code>.</p>\n\n<p>If both lb and ub are <code>nan</code>, then the try block will fail, and it will just return their original values (which is <code>nan</code>). It's not entirely clear what you want to do if only one is <code>nan</code>, or if there are other types of bad data, so you'll have to adjust if you want other behavior.</p>\n\n<p>You didn't say, but I assumed that you want the numbers cast as integers after rounding.</p>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515012836, "creation_date": 1515010754, "question_id": 48084547, "link": "https://stackoverflow.com/questions/48084547/python-dataframe-split-column-into-two-columns-based-on-then-reformat-resul", "title": "Python Dataframe: Split Column Into Two Columns Based on (,) THEN Reformat Resulting Values", "body": "<p>I have the following python data frame with one column --> CI_80.  I want to create \"CI80_lb\" and \"CI80_ub\" from \"CI_80\" column.          </p>\n\n<pre><code>CI_80                                       CI80_lb CI80_ub\n(12.963511423826183, 15.49103403071927)     13      15\n(12.287835227023837, 14.312164772976164)    12      14\n(-6.4272594546429325, 27.427259454642932)   n/a     27\n(nan, nan)                                  nan     nan\n(-19.369658165550526, 30.77319897730662)    n/a     31\n</code></pre>\n\n<p>Below is the logic I want to implement: </p>\n\n<p>Step 1: Split CI_80 into two additional columns splitting on the comma (,)</p>\n\n<p>a. below is the code I tried but it error out</p>\n\n<pre><code>df_adhoc_3['CI80_lowerbound'], df_adhoc_3['CI80_upperbound'] = zip(*df_adhoc_3['CI_80'].map(lambda x: x.split(',')))\n</code></pre>\n\n<p><em>AttributeError: 'tuple' object has no attribute 'split'</em></p>\n\n<p>Step 2: Round the numbers in the two created columns from the split </p>\n\n<p>Step 3: If CI80_lb is negative have the column value equal to n/a</p>\n\n<p>Step 4: If CI_80 equals (nan, nan) make the two created columns equal nan</p>\n\n<p>Step 5: Remove parenthesis in columns </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1515010586, "post_id": 48084482, "comment_id": 83143827, "body": "So what <i>does</i> it print? You should, at the very least, get <code>[]</code> printed."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1515010615, "post_id": 48084482, "comment_id": 83143838, "body": "<code>b</code> will <i>never</i> be equal to <code>&#39;&#39;</code>; it&#39;ll be equal to <code>&#39;\\n&#39;</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1515010837, "post_id": 48084535, "comment_id": 83143928, "body": "or <code>b.rstrip()</code>"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 0, "last_activity_date": 1515010871, "last_edit_date": 1515010871, "creation_date": 1515010667, "answer_id": 48084535, "question_id": 48084482, "link": "https://stackoverflow.com/questions/48084482/print-dummy-is-not-printing-anything-is-it-empty/48084535#48084535", "title": "print (dummy) is not printing anything. is it empty?", "body": "<p>You are not handling the line separator. All but perhaps the last <code>line</code> string will end in a <code>\\n</code> newline character. This makes <code>b</code> equal to <code>'\\n'</code>, not the empty string.</p>\n\n<p>You should strip whitespace from <code>b</code> first:</p>\n\n<pre><code>for line in file_object:\n    a, b = line.split(',')\n    if not b.strip():\n        dummy.append(a)\n</code></pre>\n\n<p>The <a href=\"https://docs.python.org/3/library/stdtypes.html#str.strip\" rel=\"nofollow noreferrer\"><code>str.strip()</code> method</a> returns a new string with all whitespace (newlines included) from the start and end removed. You could also apply it to the <code>line</code> first, before splitting:</p>\n\n<pre><code>a, b = line.strip().split(',')\n</code></pre>\n\n<p>but then you would leave whitespace after the comma in place, as well as remove whitespace at the start of the value assigned to <code>a</code>.</p>\n\n<p>You should really use the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\"><code>csv</code> module</a> to read comma-separated data:</p>\n\n<pre><code>def pathway(file):\n    dummy = []\n\n    with open(file) as file_object:\n        reader = csv.reader(file_object)\n        for row in reader:\n            if len(row) == 1:\n                dummy.append(row[0])\n\n    print(dummy)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5398204, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4TCnqogFesg/AAAAAAAAAAI/AAAAAAAAAIs/e-24-8cXG_s/photo.jpg?sz=128", "display_name": "Arko Das", "link": "https://stackoverflow.com/users/5398204/arko-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "closed_date": 1515010806, "accepted_answer_id": 48084535, "answer_count": 1, "score": -2, "last_activity_date": 1515010871, "creation_date": 1515010383, "last_edit_date": 1515010529, "question_id": 48084482, "link": "https://stackoverflow.com/questions/48084482/print-dummy-is-not-printing-anything-is-it-empty", "closed_reason": "Duplicate", "title": "print (dummy) is not printing anything. is it empty?", "body": "<p><code>pathway.txt</code> contains lines like this (below)</p>\n\n<pre><code>a,\nb,0\nc,8\nd,\n</code></pre>\n\n<p><code>dummy</code> should print <code>[a,d]</code></p>\n\n<pre><code>#!/usr/bin/python3.6\ndef pathway(file):\n    dict={}\n    dummy=[]\n    file_object=open(file, \"r+\")\n    for line in file_object:\n        a, b = line.split(',')\n        if b == '':\n            dummy.append(a)\n    print (dummy)\n\npathway(\"pathway.txt\")\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 632, "user_id": 2965673, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e9605225083416e8dd3da79c71189df0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2965673/adam"}, "is_accepted": false, "score": 0, "last_activity_date": 1515011507, "creation_date": 1515011507, "answer_id": 48084692, "question_id": 48084451, "link": "https://stackoverflow.com/questions/48084451/creating-new-pandas-columns-with-original-value-plus-random-number-in-error-rang/48084692#48084692", "title": "Creating new pandas columns with original value plus random number in error range", "body": "<p>Numpy can handle arrays for you.  So, you can do it like this:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\na=pd.DataFrame([10,20,15,30],columns=['INTENSITY'])\na['theor_err']=np.sqrt(np.abs(a.INTENSITY))\na['sample']=np.random.uniform(-a['theor_err'],a['theor_err'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "is_accepted": false, "score": 0, "last_activity_date": 1515012562, "last_edit_date": 1515012562, "creation_date": 1515012113, "answer_id": 48084823, "question_id": 48084451, "link": "https://stackoverflow.com/questions/48084451/creating-new-pandas-columns-with-original-value-plus-random-number-in-error-rang/48084823#48084823", "title": "Creating new pandas columns with original value plus random number in error range", "body": "<p>Suppose you want to generate 6 samples. You can try to code below. You can tune the number of samples you want by setting the value <code>k</code>.</p>\n\n<pre><code>df = pd.DataFrame([[1],[2],[3],[4],[-5]], columns=[\"intensity\"])\nk = 6\nsample_names = [\"sample\" + str(i+1) for i in range(k)]\ndf[\"err\"] = np.sqrt(np.abs((df[\"intensity\"])))\ndf[sample_names] = pd.DataFrame(\n              df[\"err\"].map(lambda x: np.random.uniform(-x, x, k)).values.tolist())\ndf.loc[:,sample_names] = df.loc[:,sample_names].add(df.intensity, axis=0)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9pIfO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9pIfO.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 41, "user_id": 6439235, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/cf2c093624b3291b697b8feae0498f33?s=128&d=identicon&r=PG&f=1", "display_name": "menrva", "link": "https://stackoverflow.com/users/6439235/menrva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1515012562, "creation_date": 1515010186, "question_id": 48084451, "link": "https://stackoverflow.com/questions/48084451/creating-new-pandas-columns-with-original-value-plus-random-number-in-error-rang", "title": "Creating new pandas columns with original value plus random number in error range", "body": "<p>I have a pandas dataframe which has a column 'INTENSITY' and a numpy array of same length containing the error for each intensity. I would like to generate columns with randomly generated numbers in the error range.</p>\n\n<p>So far I use two nested for loops to create the new columns but I feel like this is inefficient:</p>\n\n<pre><code>theor_err = [ sqrt(abs(x)) for x in theor_df[str(INTENSITY)] ]\ntheor_err = np.asarray(theor_err)\n\nfor nr_sample in range(2):\n    sample = np.zeros(len(theor_df[str(INTENSITY)]))\n    for i, error in enumerate(theor_err):\n        sample[i] = theor_df[str(INTENSITY)][i] + random.uniform(-error, error)\n        theor_df['gen_{}'.format(nr_sample)] = Series(sample, index=theor_df.index)\ntheor_df.head()\n</code></pre>\n\n<p>Is there a more efficient way of approaching a problem like this?</p>\n"}, {"tags": ["python", "docker"], "comments": [{"owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "edited": false, "score": 2, "creation_date": 1515010122, "post_id": 48084417, "comment_id": 83143640, "body": "Please post your docker file."}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 5639712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/537518938b29f95cfbabcf9c97bbe9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/5639712/marco"}, "is_accepted": false, "score": 0, "last_activity_date": 1515011799, "creation_date": 1515011799, "answer_id": 48084755, "question_id": 48084417, "link": "https://stackoverflow.com/questions/48084417/execute-python-script-using-docker/48084755#48084755", "title": "execute python script using docker", "body": "<p>If you see your command line <code>docker run --volume=$(pwd):/workspace kakadadroid/python27-talib:latest python home/Elise/technical_indicator</code> it could have many causes. Try the following:</p>\n\n<ol>\n<li><p>Your file path it's not correct. It should be <code>/home/Elise/technical_indicator.py</code> instead of <code>home/Elise/technical_indicator.py</code>. You've forgotten the <code>/</code> at the start of path specification.</p></li>\n<li><p>The volume does not exist.</p></li>\n</ol>\n\n<p>If the volume exists, the solution would be:</p>\n\n<p><code>docker run --volume=$(pwd):/workspace kakadadroid/python27-talib:latest python /home/Elise/technical_indicator</code></p>\n\n<p>Note: You should add your Dockerfile to let us understand better your problem.</p>\n\n<p>Regards :)</p>\n"}], "owner": {"reputation": 1, "user_id": 9169843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38fb400858b98c960a0f0453ab82b200?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel Bernieri", "link": "https://stackoverflow.com/users/9169843/emmanuel-bernieri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 478, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1515011799, "creation_date": 1515010037, "question_id": 48084417, "link": "https://stackoverflow.com/questions/48084417/execute-python-script-using-docker", "title": "execute python script using docker", "body": "<p>I have a problem with docker. I have a docker image </p>\n\n<p><a href=\"https://i.stack.imgur.com/Z21JB.png\" rel=\"nofollow noreferrer\">docker images</a></p>\n\n<p>and I want to execute a simple python script on the kakadadroid/python27-talib image. The script is located in /home/Elise/technical_indicator.py.</p>\n\n<p>but when I try: </p>\n\n<pre><code>docker run --volume=$(pwd):/workspace kakadadroid/python27-talib:latest python home/Elise/technical_indicator\n</code></pre>\n\n<p>I have the following error: </p>\n\n<pre><code>python: can't open file 'home/Elise/technical_indicator.py': [Errno 2] No such file or directory\n</code></pre>\n\n<p>Can someone help me. I'm not an expert in docker. </p>\n\n<p>Kind regards </p>\n\n<p>Emmanuel </p>\n"}, {"tags": ["python", "python-3.x", "loops", "time", "infinite-loop"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 8008668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51acb846f5b81f2a5fab92401cf81b12?s=128&d=identicon&r=PG&f=1", "display_name": "Poke", "link": "https://stackoverflow.com/users/8008668/poke"}, "is_accepted": false, "score": 1, "last_activity_date": 1519088459, "last_edit_date": 1519088459, "creation_date": 1519081872, "answer_id": 48875545, "question_id": 48084397, "link": "https://stackoverflow.com/questions/48084397/python-ending-a-time-based-loop-after-x-seconds/48875545#48875545", "title": "Python: Ending a Time-Based Loop after X Seconds", "body": "<p>I think I see why it is going forever.</p>\n\n<p>While attempting to import <code>pyautogui</code> raised an <code>ImportError</code> for me, I did import the <code>threading</code> module.</p>\n\n<p>Here's the docstring from threading.timer:</p>\n\n<pre><code>Call a function after a specified number of seconds:\n\nt = Timer(30.0, f, args=None, kwargs=None)\nt.start()\nt.cancel()     # stop the timer's action if it's still waiting\n</code></pre>\n\n<p>so the problem is (probably) that a single call to your autoclick function causes it to loop infinitely a THAT point, not in the <code>while</code> loop.</p>\n\n<p>So, I'd recommend replacing your <code>autoclick</code> function with this:</p>\n\n<pre><code>def click():\n    pyautogui.click(1230, 618)\n\ndef autoclick():\n    threading.Timer(0.1, click).start()\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>def autoclick():\n    threading.Timer(0.1, pyautogui.click, args=(1230, 618))\n</code></pre>\n\n<p>Aside: Where did you get the <code>pyautogui</code> module?</p>\n\n<p>Nevermind; also, pip is a much more powerful tool than I realized.</p>\n"}], "owner": {"reputation": 1, "user_id": 9169438, "user_type": "registered", "profile_image": "https://graph.facebook.com/1893921460635272/picture?type=large", "display_name": "Freddy", "link": "https://stackoverflow.com/users/9169438/freddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1519088459, "creation_date": 1515009885, "question_id": 48084397, "link": "https://stackoverflow.com/questions/48084397/python-ending-a-time-based-loop-after-x-seconds", "title": "Python: Ending a Time-Based Loop after X Seconds", "body": "<p>My Code is supposed to LeftMouse lick every \"y\" seconds on a set position on the screen which is working fine:</p>\n\n<pre><code>import pyautogui\n\ndef autoclick():\n threading.Timer(0.1, autoclick).start()\n pyautogui.click(1230, 618)\n</code></pre>\n\n<p>Problem comes with ending the loop. </p>\n\n<p>Im asking for a time:</p>\n\n<pre><code>ScriptTime = int(input(\"Type the time in Seconds the Script should run: \"))\n</code></pre>\n\n<p>and then tried to tie \"ScripTime\" to a counter to end \"autoclick ()\"</p>\n\n<pre><code>import time\n\nt_end = time.time() + 1 * ScriptTime\nwhile time.time() &lt; t_end:\n    autoclick()\n</code></pre>\n\n<p>Im guessing it hast to do with the usage of modules \"Threading\" and \"Time\", and those not communicating well. But I started Python yesterday, so help would be appreciated.</p>\n\n<p>(There are no Errors put out durring execution, it just goes on forever and doesn't stop, and since my Mouse is locked, clicking on the screen, I can X out NOR use CTRL+C or ALT+F4, since im in a different window during execution.)</p>\n"}, {"tags": ["python", "plot", "geopandas"], "comments": [{"owner": {"reputation": 5550, "user_id": 7389608, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QKeuI.jpg?s=128&g=1", "display_name": "giser_yugang", "link": "https://stackoverflow.com/users/7389608/giser-yugang"}, "edited": false, "score": 0, "creation_date": 1515394012, "post_id": 48084364, "comment_id": 83268913, "body": "It&#39;s not very clear what you mean.Do you want to rely on name or do you want to cancel name\uff1f"}], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 3082951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFxAA.jpg?s=128&g=1", "display_name": "doppelhorst", "link": "https://stackoverflow.com/users/3082951/doppelhorst"}, "is_accepted": false, "score": 0, "last_activity_date": 1524169583, "last_edit_date": 1524169583, "creation_date": 1524169267, "answer_id": 49929601, "question_id": 48084364, "link": "https://stackoverflow.com/questions/48084364/geopandas-plot-with-label/49929601#49929601", "title": "Geopandas Plot with label", "body": "<p>You could add a column with a numeric equivalent and define your own cmap. You can use 0 and 1 for A and B or 0, 0.5 and 1 for A, B and C and so on.</p>\n\n<pre><code>from shapely.geometry import Point, LineString\nimport geopandas\nfrom matplotlib.colors import LinearSegmentedColormap\nfrom matplotlib import pyplot as plt\n\n\nline1 = LineString([\n    Point(0, 0), Point(0, 1), Point(1, 1), Point(1, 2),\n    Point(3, 3), Point(5, 6),])\n\nline2 = LineString([\n    Point(5, 3), Point(5, 5), Point(9, 5), Point(10, 7),\n    Point(11, 8), Point(12, 12),])\n\nline3 = LineString([\n    Point(9, 10), Point(10, 14), Point(11, 12), Point(12, 15),])\n\ngdf = geopandas.GeoDataFrame(\n    data={'name': ['A', 'B', 'A']},\n    geometry=[line1, line2, line3]\n)\n\nmy_cmap = LinearSegmentedColormap.from_list(\n    'mycmap', [(0, 'red'), (1, '#000000')])\n\ngdf['num'] = gdf['name'].replace({'A': 0, 'B': 1})\n\ngdf.plot(cmap=my_cmap, column='num')\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 931, "user_id": 7086216, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/GKDAl.jpg?s=128&g=1", "display_name": "james", "link": "https://stackoverflow.com/users/7086216/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1435, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1524169583, "creation_date": 1515009771, "last_edit_date": 1515009885, "question_id": 48084364, "link": "https://stackoverflow.com/questions/48084364/geopandas-plot-with-label", "title": "Geopandas Plot with label", "body": "<p>I have a geopandas file:</p>\n\n<pre><code>from shapely.geometry import Point, LineString\nimport geopandas\n\nline1 = LineString([\n    Point(0, 0),\n    Point(0, 1),\n    Point(1, 1),\n    Point(1, 2),\n    Point(3, 3),\n    Point(5, 6),\n])\n\nline2 = LineString([\n    Point(5, 3),\n    Point(5, 5),\n    Point(9, 5),\n    Point(10, 7),\n    Point(11, 8),\n    Point(12, 12),\n])\n\nline3 = LineString([\n    Point(9, 10),\n    Point(10, 14),\n    Point(11, 12),\n    Point(12, 15),\n])\n\ngdf = geopandas.GeoDataFrame(\n    data={'name': ['A', 'B', 'A']},\n    geometry=[line1, line2, line3]\n)\n</code></pre>\n\n<p>Now, I would like to plot it, but depending on the name \"A\", \"B\" ist should either be plotted in red or in black. My real dataset is much much larger. Therefore, a efficient solution would be highly appreciated. Thanks!</p>\n"}, {"tags": ["python", "pandas", "generator"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 7, "creation_date": 1515009861, "post_id": 48084356, "comment_id": 83143528, "body": "df[&#39;Rate&#39;]=df.Fee/df.Costs"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1515010836, "post_id": 48084356, "comment_id": 83143926, "body": "You wouldn&#39;t use a generator here or generally with pandas/numpy"}, {"owner": {"reputation": 2296, "user_id": 5839618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ed391cd9b92ad37a5242cb69715593d?s=128&d=identicon&r=PG&f=1", "display_name": "3novak", "link": "https://stackoverflow.com/users/5839618/3novak"}, "edited": false, "score": 0, "creation_date": 1515010982, "post_id": 48084356, "comment_id": 83143979, "body": "As the other comments point out, take advantage of the vectorized operations in pandas rather than employing loops."}, {"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515011656, "post_id": 48084356, "comment_id": 83144239, "body": "Correct me if I&#39;m wrong, but those are... iterators, aren&#39;t they?"}, {"owner": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515011764, "post_id": 48084356, "comment_id": 83144279, "body": "Also, what <code>type</code> of object is <code>df</code>?"}, {"owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "reply_to_user": {"reputation": 718, "user_id": 8954291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2f9b470c0fb1d87f1deaae64096aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Lovern", "link": "https://stackoverflow.com/users/8954291/jakob-lovern"}, "edited": false, "score": 0, "creation_date": 1515012034, "post_id": 48084356, "comment_id": 83144396, "body": "@JakobLovern: It&#39;s a <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html\" rel=\"nofollow noreferrer\"><code>pandas.DataFrame</code></a>."}, {"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "edited": false, "score": 0, "creation_date": 1515012039, "post_id": 48084356, "comment_id": 83144400, "body": "The question says to multiply a cell by another cell. <code>df.Fee &#47; df.Costs</code> should be <code>df.Fee * df.Costs</code>"}, {"owner": {"reputation": 176, "user_id": 8770431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zGtO.jpg?s=128&g=1", "display_name": "Ama Aje My Fren", "link": "https://stackoverflow.com/users/8770431/ama-aje-my-fren"}, "edited": false, "score": 0, "creation_date": 1572025690, "post_id": 48084356, "comment_id": 103445438, "body": "The first line of your question is:  <b><i>I&#39;m learning to use generators but don&#39;t quite understand how they work.</i></b>  I am also learning generators and I have found that probably the sweetest place to learn them is from <a href=\"http://www.dabeaz.com/generators/\" rel=\"nofollow noreferrer\">this talk</a> given by <a href=\"http://dabeaz.com/\" rel=\"nofollow noreferrer\">David Beazly</a>. The actual slides start <a href=\"https://speakerdeck.com/dabeaz/generator-tricks-for-systems-programmers-version-3-dot-0\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33202, "user_id": 987185, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e4c92f75eac948cee7e7e8913f9aa379?s=128&d=identicon&r=PG", "display_name": "musically_ut", "link": "https://stackoverflow.com/users/987185/musically-ut"}, "is_accepted": false, "score": 1, "last_activity_date": 1515011867, "creation_date": 1515011867, "answer_id": 48084771, "question_id": 48084356, "link": "https://stackoverflow.com/questions/48084356/how-to-use-generators-in-pandas/48084771#48084771", "title": "How to use generators in Pandas", "body": "<p>You do not need generators for what you are trying to do; that can be easily achieved by:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df['Rate'] = df.Fee / df.Costs\n</code></pre>\n\n<p>However, for completeness, here is the generator way:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>rate = [x / y for x, y in df[['Fee', 'Costs']].values]\n</code></pre>\n\n<p><code>df[['Fee', 'Costs']]</code> extracts the relevant columns and <code>.values</code> converts that data-frame into an <code>num_rows x 2</code> <code>numpy</code> array which you are write an iterator for.</p>\n\n<p>You may have to use the generator syntax when you want to do something more complicated with the data, e.g. passing it to an arbitrary function <code>f(fee, cost)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "is_accepted": true, "score": 4, "last_activity_date": 1515012605, "last_edit_date": 1515012605, "creation_date": 1515012047, "answer_id": 48084814, "question_id": 48084356, "link": "https://stackoverflow.com/questions/48084356/how-to-use-generators-in-pandas/48084814#48084814", "title": "How to use generators in Pandas", "body": "<p>The succinct answer is \"You don't\". Or as the Pandas documentation puts it:</p>\n\n<blockquote>\n  <p>When doing data analysis, as with raw NumPy arrays looping through Series value-by-value is usually not necessary. Series can also be passed into most NumPy methods expecting an ndarray.</p>\n</blockquote>\n\n<p>This also applies to DataFrames and many other structures that leverage <code>ndarray</code>. For more insight I would really recommend learning more about how pandas/NumPy/SciPy work internally. </p>\n\n<p>Regarding this particular topic I would point you to <a href=\"https://pandas.pydata.org/pandas-docs/stable/dsintro.html#data-alignment-and-arithmetic\" rel=\"nofollow noreferrer\">Pandas - Intro to Data Structures - Data Alignment and Arithmetic</a> and <a href=\"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow noreferrer\">NumPy - Broadcasting</a></p>\n\n<p>Behind the scenes these packages use a lot of C code to optimize operations. While generators/iterators are great they will never be able to match such optimized code. For example, given your problem example here is a simple test.</p>\n\n<pre><code>np.all((df.Fee / df.Costs).values == np.array([x / y for x, y in df[['Fee', 'Costs']].values]))\nTrue\n\n%timeit (df.Fee / df.Costs).values\n78.5 \u00b5s \u00b1 1.88 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10000 loops each)\n\n%timeit np.array([x / y for x, y in df[['Fee', 'Costs']].values])\n331 \u00b5s \u00b1 12.1 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n</code></pre>\n\n<p>As you can see the built in method of division used internally by Pandas is ~ 5x faster. And that is on a terribly small sample size.</p>\n"}], "owner": {"reputation": 189, "user_id": 8264382, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-gzggJflShW8/AAAAAAAAAAI/AAAAAAAADdA/ThPvuEcpQEk/photo.jpg?sz=128", "display_name": "Iwan", "link": "https://stackoverflow.com/users/8264382/iwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3338, "favorite_count": 1, "accepted_answer_id": 48084814, "answer_count": 2, "score": 3, "last_activity_date": 1515012605, "creation_date": 1515009744, "last_edit_date": 1515011540, "question_id": 48084356, "link": "https://stackoverflow.com/questions/48084356/how-to-use-generators-in-pandas", "title": "How to use generators in Pandas", "body": "<p>I'm learning to use generators but don't quite understand how they work.</p>\n\n<p>What I want to do is iterate over rows and multiply a cell by another cell in each row, then create a new column with the results.</p>\n\n<pre><code>rate = (df['Fee'][i] for df['Fee'] in df / df['Costs'][i] for df['Costs'] in df * 100)\n\ndf['rate']=df.iterrows(rate)\n</code></pre>\n\n<p>So above, I've tried to make a generator which calculates what the percentage the fee is from the costs.</p>\n\n<p>I realise this would be much easier with a for loop but I wanted to learn how a generator would be used in this instance.</p>\n\n<p>Example dataframe below.</p>\n\n<pre><code>          Industry  Expr1        Fee        Costs\n      Food &amp; Drink   June   9970.320    116171.15\n    Music Industry   June   7255.534    131492.59\n     Manufacturing   June   5278.960    171315.01\n    Music Industry   June   6120.596    143688.78\nTelecommunications  April   4123.986     78733.09\n</code></pre>\n"}, {"tags": ["python", "optimization", "parallel-processing"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1515012257, "post_id": 48084341, "comment_id": 83144489, "body": "The OS <i>distributes</i> the processes to the various CPUs. How can you tell that only one CPU is being used?"}, {"owner": {"reputation": 632, "user_id": 8533290, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58c74449d366d5ff3a834241419ad346?s=128&d=identicon&r=PG&f=1", "display_name": "Hennich", "link": "https://stackoverflow.com/users/8533290/hennich"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1515063912, "post_id": 48084341, "comment_id": 83162230, "body": "@wwii That is what <code>htop</code> shows."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1515160836, "post_id": 48084341, "comment_id": 83206146, "body": "If you would use the IPM-based-solver with a good (BLAS) setup, your solving would probably be parallelized in it&#39;s core (which is usually better than on the outer layer like you try to do). It&#39;s also hard to tell what the differences between those instances are and if there is not something more clever (usually there is; solving many LPs from scratch isn&#39;t clever in many cases)?. So maybe you want to add more specifics."}], "owner": {"reputation": 632, "user_id": 8533290, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58c74449d366d5ff3a834241419ad346?s=128&d=identicon&r=PG&f=1", "display_name": "Hennich", "link": "https://stackoverflow.com/users/8533290/hennich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1515169782, "creation_date": 1515009680, "last_edit_date": 1515169782, "question_id": 48084341, "link": "https://stackoverflow.com/questions/48084341/python-solve-lps-in-parallel", "title": "Python solve LPs in parallel", "body": "<p>I have a list of LPs which I want to solve in parallel.\nSo far I have tried both <code>multiprocessing</code> and <code>joblib</code>. But both use only 1 CPU (out of 8).</p>\n\n<h2>My code</h2>\n\n<pre><code>import subprocess\nfrom multiprocessing import Pool, cpu_count\nfrom scipy.optimize import linprog\nimport numpy as np\nfrom joblib import Parallel, delayed\n\ndef is_in_convex_hull(arg):\n  A,v = arg\n  res = linprog(np.zeros(A.shape[1]),A_eq = A,b_eq = v)\n  return res['success']\n\ndef convex_hull_LP(A):\n  pool = Pool(processes = cpu_count())\n  res = pool.map(is_in_convex_hull,[(np.delete(A,i,axis=1),A[:,i]) for i in range(A.shape[1])])\n  pool.close()\n  pool.join()\n  return [i for i in range(A.shape[1]) if not res[i]]\n</code></pre>\n\n<p>Now in IPyton I run</p>\n\n<pre><code>A = np.random.randint(0,60,size = (40,300))\n%time l1 = convex_hull_LP(A)\n%time l2 = Parallel(n_jobs=8)(delayed(is_in_convex_hull)((np.delete(A,i,axis=1),A[:,i])) for i in range(A.shape[1]))\n</code></pre>\n\n<p>which both result in about 7 seconds, but using only a single CPU, although 8 different process-IDs are shown.</p>\n\n<h2>Other Threads</h2>\n\n<ul>\n<li>With the answer from <a href=\"https://stackoverflow.com/questions/21348746/python-multiprocessing-pool-doesnt-use-100-of-each-cpu\">Python multiprocessing.Pool() doesn&#39;t use 100% of each CPU</a> I got 100% on all, but I think an LP is complicated enough, to be the bottleneck.</li>\n<li>I couldn't make sense of <a href=\"https://stackoverflow.com/questions/36871586/multiprocess-in-python-uses-only-one-process\">Multiprocess in python uses only one process</a></li>\n</ul>\n\n<h2>My Questions</h2>\n\n<ul>\n<li>How can I split the jobs over all available CPUs?</li>\n<li>Or is it even possible to run this on the GPU?</li>\n</ul>\n"}, {"tags": ["python", "performance", "julia"], "comments": [{"owner": {"reputation": 15648, "user_id": 1544203, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0649583d75adfd14d9473c89f356e173?s=128&d=identicon&r=PG", "display_name": "Chris Rackauckas", "link": "https://stackoverflow.com/users/1544203/chris-rackauckas"}, "edited": false, "score": 8, "creation_date": 1515010920, "post_id": 48084325, "comment_id": 83143952, "body": "Put it in a function."}, {"owner": {"reputation": 1907, "user_id": 1782955, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e6c3fb2d67a884dcb7c870d739d8b01d?s=128&d=identicon&r=PG", "display_name": "Liso", "link": "https://stackoverflow.com/users/1782955/liso"}, "edited": false, "score": 3, "creation_date": 1515011784, "post_id": 48084325, "comment_id": 83144288, "body": "to understand what Chris meant you could look at <a href=\"https://docs.julialang.org/en/stable/manual/performance-tips.html#man-performance-tips-1\" rel=\"nofollow noreferrer\">doc</a>."}, {"owner": {"reputation": 6763, "user_id": 2374329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f18d6d5e99a58a6a1ce1a7854662175a?s=128&d=identicon&r=PG", "display_name": "SalchiPapa", "link": "https://stackoverflow.com/users/2374329/salchipapa"}, "edited": false, "score": 1, "creation_date": 1515019320, "post_id": 48084325, "comment_id": 83147357, "body": "Julia also have a <code>startswith</code>; <code>startswith(ln, &#39;@&#39;)</code> is the same as: <code>ln[1] == &#39;@&#39;</code>"}, {"owner": {"reputation": 947, "user_id": 4536078, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-t6boBQqf1QA/AAAAAAAAAAI/AAAAAAAAAOM/uVZysttP3zc/photo.jpg?sz=128", "display_name": "Kevin L Keys", "link": "https://stackoverflow.com/users/4536078/kevin-l-keys"}, "edited": false, "score": 0, "creation_date": 1515193879, "post_id": 48084325, "comment_id": 83221910, "body": "note to @Gatozee: if Simon&#39;s answer below helps you, then please accept it!"}, {"owner": {"reputation": 81, "user_id": 4394873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0069a7a582e91a26f9465d5e22faf120?s=128&d=identicon&r=PG&f=1", "display_name": "Gatozee", "link": "https://stackoverflow.com/users/4394873/gatozee"}, "edited": false, "score": 0, "creation_date": 1515197209, "post_id": 48084325, "comment_id": 83222781, "body": "Thanks for all the suggestions. I tried to put things in a function as @Simon Byme does, but that didn&#39;t help. Then I tested with only &quot;seq = split(ln)[10]&quot; in the loop and nothing else. It turns out the single operation takes about half of the total time. I suspect Julia&#39;s string is not efficient, maybe because it needs to deal with Unicode. Is there a string type that can only process ASCII? In my case, I have no need for Unicode."}, {"owner": {"reputation": 3206, "user_id": 2874779, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sFWvB.png?s=128&g=1", "display_name": "catastrophic-failure", "link": "https://stackoverflow.com/users/2874779/catastrophic-failure"}, "edited": false, "score": 0, "creation_date": 1516099564, "post_id": 48084325, "comment_id": 83542291, "body": "Consider reformulating and posting this question to <a href=\"https://codereview.stackexchange.com/\">CodeReview</a>, which I think is a better site for this kind of question."}], "answers": [{"tags": [], "owner": {"reputation": 7214, "user_id": 392585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ac7b1da0f2e9107b5020f88023a15e5?s=128&d=identicon&r=PG", "display_name": "Simon Byrne", "link": "https://stackoverflow.com/users/392585/simon-byrne"}, "is_accepted": false, "score": 1, "last_activity_date": 1515176049, "creation_date": 1515176049, "answer_id": 48119113, "question_id": 48084325, "link": "https://stackoverflow.com/questions/48084325/how-would-you-improve-this-julia-code/48119113#48119113", "title": "How would you improve this Julia code?", "body": "<p>The suggestions from the comments give:</p>\n\n<pre><code>function foo()\n    seqs = Set{String}()\n    for ln in eachline(STDIN)\n        if startswith(ln, '@')\n            println(ln)\n            continue\n        end\n        seq = split(ln)[10]\n        if !(seq in seqs)\n            println(ln)\n            push!(seqs,seq)\n        end\n    end\n    return seqs\nend\n</code></pre>\n\n<p>A possibly faster variant which relies on the fact that <code>Set</code> is internally just a <code>Dict</code>:</p>\n\n<pre><code>function foo()\n    seqs = Set{String}()\n    for ln in eachline(STDIN)\n        if startswith(ln, '@')\n            println(ln)\n            continue\n        end\n        seq = split(ln)[10]\n        get!(seqs.dict, seq) do\n            println(ln)\n            nothing\n        end\n    end\n    return seqs\nend\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4394873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0069a7a582e91a26f9465d5e22faf120?s=128&d=identicon&r=PG&f=1", "display_name": "Gatozee", "link": "https://stackoverflow.com/users/4394873/gatozee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1515176049, "creation_date": 1515009609, "question_id": 48084325, "link": "https://stackoverflow.com/questions/48084325/how-would-you-improve-this-julia-code", "title": "How would you improve this Julia code?", "body": "<pre><code>seqs = Set{String}()\nfor ln in eachline(STDIN)\n    if ln[1] == '@'\n        println(ln)\n        continue\n    end\n    seq = split(ln)[10]\n    if !(seq in seqs)\n        println(ln)\n        push!(seqs,seq)\n    end\nend\n</code></pre>\n\n<p>It is much slower (5x) than the Python version below, why is that? Note: <strong>seq</strong> contains only ASCII letters.</p>\n\n<pre><code>import sys\n\nseqs = set()\nfor ln in sys.stdin:\n    if ln.startswith('@'):\n        print ln,\n        continue\n    seq = ln.split()[9]\n    if not seq in seqs:\n        print ln,\n        seqs.add(seq)\n</code></pre>\n"}, {"tags": ["python", "pandas", "sorting"], "comments": [{"owner": {"reputation": 2187, "user_id": 687647, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RnuWl.jpg?s=128&g=1", "display_name": "Software Prophets", "link": "https://stackoverflow.com/users/687647/software-prophets"}, "edited": false, "score": 0, "creation_date": 1515009904, "post_id": 48084262, "comment_id": 83143545, "body": "Are you required to use Pandas or will any collection be fine?"}, {"owner": {"reputation": 189, "user_id": 4490230, "user_type": "registered", "profile_image": "https://graph.facebook.com/654845073/picture?type=large", "display_name": "Pawel", "link": "https://stackoverflow.com/users/4490230/pawel"}, "reply_to_user": {"reputation": 2187, "user_id": 687647, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RnuWl.jpg?s=128&g=1", "display_name": "Software Prophets", "link": "https://stackoverflow.com/users/687647/software-prophets"}, "edited": false, "score": 0, "creation_date": 1515012058, "post_id": 48084262, "comment_id": 83144407, "body": "Pandas is not required.  If it makes any difference, &quot;Site information is coming in as a csv."}], "answers": [{"tags": [], "owner": {"reputation": 2187, "user_id": 687647, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RnuWl.jpg?s=128&g=1", "display_name": "Software Prophets", "link": "https://stackoverflow.com/users/687647/software-prophets"}, "is_accepted": true, "score": 0, "last_activity_date": 1515737796, "last_edit_date": 1515737796, "creation_date": 1515017205, "answer_id": 48085853, "question_id": 48084262, "link": "https://stackoverflow.com/questions/48084262/sort-a-list-based-on-values-from-dataframe/48085853#48085853", "title": "Sort a list based on values from dataframe", "body": "<p>I like your use of Pandas, but it isn't the most Pythonic as it uses data structures that are a superset of Python. Nevertheless, I think we can improve on what you have. I will show an improved version and I will show a completely native Python way to do it. Either is fine I suppose? </p>\n\n<p>The strictly Python version is best for people who do know Pandas as there's a large learning curve associated with that.</p>\n\n<p><strong>Common</strong></p>\n\n<p>For both examples, let's assume a function like this:</p>\n\n<pre><code>def trim_filenames(filename):\n    return filename[0:4]\n</code></pre>\n\n<p>I use this in both examples.</p>\n\n<p><strong>Improvements</strong></p>\n\n<pre><code># Load the DataFrame and give it a proper index (I added some data)\nkey_info = pd.DataFrame(index=['2020','5050','4040','4040','6000','7000','1010','3030'], data={'key_name':['Name_C','Name_D','Name_E','Name_E','Name_F','Name_G','Name_A','Name_B'], 'key_value' :[1,2,3,4,5,6,7,8]})\n# Eliminate duplicates and sort in one step\nkey_info = key_info.groupby(key_info.index).first()\n\nfilenames = ['1010_Filename','2020_Filename','3030_Filename','5050_Filename','4040_Filename']\nnames_df = pd.DataFrame({'filename': filenames})\n# Let's give this an index too so we can match on the index (not the function call)\nnames_df.index=names_df.filename.transform(trim_filenames)\ncombined = pd.concat([key_info,names_df], axis=1)\n</code></pre>\n\n<p>combined matches by index, but there are some keys with no filenames. It looks like this now:</p>\n\n<pre><code>     key_name  key_value       filename\n1010   Name_A          7  1010_Filename\n2020   Name_C          1  2020_Filename\n3030   Name_B          8  3030_Filename\n4040   Name_E          3  4040_Filename\n5050   Name_D          2  5050_Filename\n6000   Name_F          5            NaN\n7000   Name_G          6            NaN\n</code></pre>\n\n<p>Now we drop the NaN columns and create the list of filenames:</p>\n\n<pre><code>combined.filename.dropna().values.tolist()\n['1010_Filename', '2020_Filename', '3030_Filename', '4040_Filename', '5050_Filename']\n</code></pre>\n\n<p><strong>Python Only Version</strong> (no framework)</p>\n\n<pre><code>key_info = {'2020' : {'key_name':'Name_C', 'key_value':1},'5050' : {'key_name':'Name_D', 'key_value':2},'4040' : {'key_name':'Name_E', 'key_value':3},'4040' : {'key_name':'Name_E', 'key_value':4},'6000' : {'key_name':'Name_F', 'key_value':5},'7000' : {'key_name':'Name_G', 'key_value':6},'1010' : {'key_name':'Name_A', 'key_value':7},'3030' : {'key_name':'Name_B', 'key_value':8}}\nfilenames = ['1010_Filename','2020_Filename','3030_Filename','5050_Filename','4040_Filename']\n\n# Let's get a dictionary of filenames that is keyed by the same key as in key_info:\nhashed_filenames = {}\nfor filename in filenames:\n  # Note here I'm using the function again\n  hashed_filenames[trim_filenames(filename)] = filename\n\n# We'll store the new filenames in new_filenames:\nnew_filenames = []\n\n# sort the key info and loop it\nfor key in sorted(key_info.keys()):\n  # for each key, if the key matches in the hashed_filenames, then add it to the list\n  if key in hashed_filenames:\n    new_filenames.append(hashed_filenames[key])\n</code></pre>\n\n<p><strong>Summary</strong></p>\n\n<p>Both solutions are concise, and I like Pandas, but I like better something that is immediately readable by anyone that knows Python. The Python only solution (of course, they are both Python) is the one you should go with, in my opinion.</p>\n"}, {"tags": [], "owner": {"reputation": 1825, "user_id": 3922132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h5dMq.jpg?s=128&g=1", "display_name": "AidanGawronski", "link": "https://stackoverflow.com/users/3922132/aidangawronski"}, "is_accepted": false, "score": 0, "last_activity_date": 1515017654, "creation_date": 1515017654, "answer_id": 48085948, "question_id": 48084262, "link": "https://stackoverflow.com/questions/48084262/sort-a-list-based-on-values-from-dataframe/48085948#48085948", "title": "Sort a list based on values from dataframe", "body": "<pre><code>out_list = []\nfor x in key_info.key_id:\n    for f in filenames:\n        if str(x) in f:\n            out_list.append(f)\n\n\nout_list\n['1010_Filename', '3030_Filename', '2020_Filename', '5050_Filename', '4040_Filename']\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 4490230, "user_type": "registered", "profile_image": "https://graph.facebook.com/654845073/picture?type=large", "display_name": "Pawel", "link": "https://stackoverflow.com/users/4490230/pawel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 48085853, "answer_count": 2, "score": 0, "last_activity_date": 1515737796, "creation_date": 1515009328, "question_id": 48084262, "link": "https://stackoverflow.com/questions/48084262/sort-a-list-based-on-values-from-dataframe", "title": "Sort a list based on values from dataframe", "body": "<p>Is my approach here the right way to do it in Python?  As I'm new to Python, I appreciate any feedback you can provide, especially if I'm way off here.</p>\n\n<p>My task is to order a list of file names based on values from a dataset.  Specifically, these are file names that I need to sort based on site information.  The resulting list is the order in which the reports will be printed.</p>\n\n<p><strong>Site Information</strong></p>\n\n<pre><code>key_info = pd.DataFrame({\n    'key_id': ['1010','3030','2020','5050','4040','4040']\n    , 'key_name': ['Name_A','Name_B','Name_C','Name_D','Name_E','Name_E']\n    , 'key_value': [1,2,3,4,5,6]\n})\nkey_info = key_info[['key_id','key_name']].drop_duplicates()\nkey_info['key_id'] = key_info.key_id.astype('str').astype('int64')\n</code></pre>\n\n<p><strong>Filenames</strong></p>\n\n<p>These are the file names I need to sort.  In this example, I sort by just the key_id, but I assume I could easily add a column to site information and sort it by that as well.</p>\n\n<pre><code>filenames = ['1010_Filename','2020_Filename','3030_Filename','5050_Filename','4040_Filename']\n</code></pre>\n\n<p><strong>Sorting</strong></p>\n\n<p>The resulting \"filenames\" is the final sorted list.</p>\n\n<pre><code>names_df = pd.DataFrame({'filename': filenames})\nnames_df['key_id'] = names_df.filename.str[:4].astype('str').astype('int64')\n\nmerged_df = pd.merge(key_info, names_df, on='key_id', how='right')\nmerged_df = merged_df.sort_values('key_id')\n\nfilenames = merged_df['filename'].tolist()\n</code></pre>\n\n<p>I'm looking for any solutions that might be better or more Pythonic.  Or, if there is a more appropriate place to post \"code review\" questions.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1515009220, "post_id": 48084224, "comment_id": 83143235, "body": "Are these lists sorted/grouped by first element?"}, {"owner": {"reputation": 39, "user_id": 8003114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9f46b4812da8f51c00e7bedce2558?s=128&d=identicon&r=PG", "display_name": "Giacomo Cerretini", "link": "https://stackoverflow.com/users/8003114/giacomo-cerretini"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1515009410, "post_id": 48084224, "comment_id": 83143335, "body": "yes, they are sorted by first element"}, {"owner": {"reputation": 2338, "user_id": 3080953, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe6bc2a51d294b0d1d65fa203e496c7a?s=128&d=identicon&r=PG&f=1", "display_name": "c2huc2hu", "link": "https://stackoverflow.com/users/3080953/c2huc2hu"}, "edited": false, "score": 0, "creation_date": 1515009470, "post_id": 48084224, "comment_id": 83143365, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3749512/python-group-by\">Python group by</a>"}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1515009424, "creation_date": 1515009424, "answer_id": 48084284, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python/48084284#48084284", "title": "Join n-lists that have the first equal value in Python", "body": "<p>You can use <code>itertools.groupby</code>:</p>\n\n<pre><code>import itertools\ns = [\n ['time', 'free'],\n ['time', 'first'],\n ['visit', 'last'],\n ['city', 'small'],\n ['city', 'entire'],\n ['world', 'surreal'],\n ['world', 'amazing'],\n]\nnew_data = [[[a]+[b for c, b in list(b)]][0] for a, b in itertools.groupby(sorted(s, key=lambda x:x[0]), key=lambda x:x[0])]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['city', 'small', 'entire'], ['time', 'free', 'first'], ['visit', 'last'], ['world', 'surreal', 'amazing']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1515010155, "post_id": 48084359, "comment_id": 83143648, "body": "Downvoter, please let me know if there&#39;s something lacking with this answer. I&#39;d love to fix it. Thanks!"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 1, "creation_date": 1515010293, "post_id": 48084359, "comment_id": 83143710, "body": "I don&#39;t see the reason for downvoting -- <code>groupby</code> is the way to go here. +1."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 1, "last_activity_date": 1515009748, "creation_date": 1515009748, "answer_id": 48084359, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python/48084359#48084359", "title": "Join n-lists that have the first equal value in Python", "body": "<p>Since your sub-lists are grouped by the first element, your solution simplifies, using <code>itertools.groupby</code>.</p>\n\n<pre><code>r = [[i] + [y[1] for y in g] for i, g in itertools.groupby(l, key=lambda x: x[0])]\n</code></pre>\n\n<p></p>\n\n<pre><code>print(r)\n[['time', 'free', 'first'],\n ['visit', 'last'],\n ['city', 'small', 'entire'],\n ['world', 'surreal', 'amazing']]\n</code></pre>\n\n<p>Where <code>l</code> is your list. What we're doing here is </p>\n\n<ol>\n<li>grouping by the first element</li>\n<li>for each group, extract the second element from each row and form a list. </li>\n</ol>\n\n<p>The loop equivalent of this would be -</p>\n\n<pre><code>r = []\nfor for i, g in itertools.groupby(l, key=lambda x: x[0]):\n    i = [i]                 # converting the string key to a list\n    j = [y[1] for y in g]   # extracting the second element from the `grouper` object\n\n    r.append(i + j)         # concatenating `i` and `j` and adding it to our result\n</code></pre>\n\n<hr>\n\n<p>For kicks, here's the pandas equivalent of this function. The idiom is the same - split + apply + combine.</p>\n\n<pre><code>v = pd.DataFrame(l, columns=['A', 'B'])\\\n           .groupby('A', sort=False).B.apply(list)\n\nr = pd.DataFrame(v.tolist(), index=v.index).reset_index().values.tolist()\n</code></pre>\n\n<p></p>\n\n<pre><code>print(r)\n[['time', 'free', 'first'],\n ['visit', 'last', None],\n ['city', 'small', 'entire'],\n ['world', 'surreal', 'amazing']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 9128282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed0ce853a50f7b4c83eab6bd4f374de?s=128&d=identicon&r=PG&f=1", "display_name": "honorius", "link": "https://stackoverflow.com/users/9128282/honorius"}, "is_accepted": false, "score": 1, "last_activity_date": 1515010026, "creation_date": 1515010026, "answer_id": 48084416, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python/48084416#48084416", "title": "Join n-lists that have the first equal value in Python", "body": "<p>There are many ways to do it, using <code>dict</code> is by its design good one, also easily readable:</p>\n\n<pre><code>l = [\n    ['time', 'free'],\n    ['time', 'first'],\n    ['visit', 'last'],\n    ['city', 'small'],\n    ['city', 'entire'],\n    ['world', 'surreal'],\n    ['world', 'amazing'],\n]\n\nd = dict()\nfor item in l:\n    try:\n        d[item[0]] += item[1:]\n    except KeyError:\n        d[item[0]] = item[1:]\n\nresult = [[key] + value for key, value in d.items()]\nprint(result)  # [['time', 'free', 'first'], ['visit', 'last'], ['city', 'small', 'entire'], ['world', 'surreal', 'amazing']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "edited": false, "score": 1, "creation_date": 1515010394, "post_id": 48084425, "comment_id": 83143753, "body": "Nice, but I prefer the <code>setdefault</code> version: <a href=\"https://stackoverflow.com/a/48084433/842935\">stackoverflow.com/a/48084433/842935</a>"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 1, "creation_date": 1515010453, "post_id": 48084425, "comment_id": 83143773, "body": "You could simplify the <code>if...else</code> to: <code>d.setdefault(key, []).append(value)</code>."}], "tags": [], "owner": {"reputation": 2400, "user_id": 4794459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ke4f2.jpg?s=128&g=1", "display_name": "Omar Einea", "link": "https://stackoverflow.com/users/4794459/omar-einea"}, "is_accepted": false, "score": 0, "last_activity_date": 1515010068, "creation_date": 1515010068, "answer_id": 48084425, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python/48084425#48084425", "title": "Join n-lists that have the first equal value in Python", "body": "<p>Not the best way, but no libraries used:</p>\n\n<pre><code>l = [...] # Your list\nd = {}\n\nfor key, value in l:\n    if key in d:\n        d[key].append(value)\n    else:\n        d[key] = [value]\n\nprint([[key] + value for key, value in d.items()])\n</code></pre>\n\n<p>This basically stores the first item as the dictionary key, and the second item in the list is appended to a list in the correspondent key (first item).</p>\n\n<p>Then the last line flattens the dictionary and prints it.</p>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 1, "last_activity_date": 1515010995, "last_edit_date": 1515010995, "creation_date": 1515010084, "answer_id": 48084433, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python/48084433#48084433", "title": "Join n-lists that have the first equal value in Python", "body": "<p>Here is a solution using OrderedDict preserving order:</p>\n\n<pre><code>from collections import OrderedDict\n\nl = [\n  ['time', 'free'],\n  ['time', 'first'],\n  ['visit', 'last'],\n  ['city', 'small'],\n  ['city', 'entire'],\n  ['world', 'surreal'],\n  ['world', 'amazing'],\n]\n\nd = OrderedDict()\n\nfor k,v in l:\n    d.setdefault(k, []).append(v)\n\noutput = [[k]+v for k,v in d.items()]\n</code></pre>\n\n<hr>\n\n<p>And using pandas (simply because :))</p>\n\n<pre><code>import pandas as pd\n\nl = [\n  ['time', 'free'],\n  ['time', 'first'],\n  ['visit', 'last'],\n  ['city', 'small'],\n  ['city', 'entire'],\n  ['world', 'surreal'],\n  ['world', 'amazing'],\n]\n\noutput = [[k]+v for k,v in pd.DataFrame(l).groupby(0)[1].apply(list).to_dict().items()]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": true, "score": 0, "last_activity_date": 1515010802, "last_edit_date": 1515010802, "creation_date": 1515010457, "answer_id": 48084495, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python/48084495#48084495", "title": "Join n-lists that have the first equal value in Python", "body": "<p>Simple loop solution, start a new group as necessary:</p>\n\n<pre><code>groups = []\nfor a, b in items:\n    if not groups or a != groups[-1][0]:\n        groups.append([a])\n    groups[-1].append(b)\n</code></pre>\n\n<p>And a dict solution inspired by the others (this might \"shuffle\" the result list unless you use CPython 3.6+ or another Python that keeps dicts in insertion order):</p>\n\n<pre><code>d = {}\nfor a, b in items:\n    d.setdefault(a, [a]).append(b)\ngroups = list(d.values())\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9158931"}, "is_accepted": false, "score": 0, "last_activity_date": 1515035648, "last_edit_date": 1515035648, "creation_date": 1515035339, "answer_id": 48088129, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python/48088129#48088129", "title": "Join n-lists that have the first equal value in Python", "body": "<p>You can try this :</p>\n\n<pre><code>data=[\n  ['time', 'free'],\n  ['time', 'first'],\n  ['visit', 'last'],\n  ['city', 'small'],\n  ['city', 'entire'],\n  ['world', 'surreal'],\n  ['world', 'amazing'],\n]\n\n\ngroup={}\n\nfor i in data:\n    if i[0] not in group:\n        group[i[0]]=i\n    else:\n        group[i[0]].extend([i[1]])\n\nprint(group.values())\n</code></pre>\n\n<p>If order doesn't matter then you can try this :</p>\n\n<pre><code>data=[\n  ['time', 'free'],\n  ['time', 'first'],\n  ['visit', 'last'],\n  ['city', 'small'],\n  ['city', 'entire'],\n  ['world', 'surreal'],\n  ['world', 'amazing'],\n]\n\n\ngroup={}\n\nfor i in data:\n    if i[0] not in group:\n        group[i[0]]=i\n    else:\n        group[i[0]].extend(i)\n\nprint(list(map(lambda x:set(group[x]),group.keys())))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[{'surreal', 'amazing', 'world'}, {'entire', 'small', 'city'}, {'free', 'time', 'first'}, {'last', 'visit'}]\n</code></pre>\n\n<p>Default dict version:</p>\n"}], "owner": {"reputation": 39, "user_id": 8003114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f9f46b4812da8f51c00e7bedce2558?s=128&d=identicon&r=PG", "display_name": "Giacomo Cerretini", "link": "https://stackoverflow.com/users/8003114/giacomo-cerretini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 1, "accepted_answer_id": 48084495, "answer_count": 7, "score": -2, "last_activity_date": 1515035648, "creation_date": 1515009149, "question_id": 48084224, "link": "https://stackoverflow.com/questions/48084224/join-n-lists-that-have-the-first-equal-value-in-python", "title": "Join n-lists that have the first equal value in Python", "body": "<p>I should join all the lists that have the first value in common in one and only list that contains, that value (without repeating) plus all the others:</p>\n\n<pre><code>[\n  ['time', 'free'],\n  ['time', 'first'],\n  ['visit', 'last'],\n  ['city', 'small'],\n  ['city', 'entire'],\n  ['world', 'surreal'],\n  ['world', 'amazing'],\n]\n</code></pre>\n\n<p>I would like to have something like this:</p>\n\n<pre><code>[\n  ['time','free','first'],\n  ['visit','last'],\n  ['city','small', 'entire'],\n  ['world','surreal', 'amazing'],\n]\n</code></pre>\n\n<p>if possible I would not use modules because it is a univeristary project.\nThanks in advance</p>\n"}, {"tags": ["python", "pandas", "validation", "dataframe", "pandas-groupby"], "comments": [{"owner": {"reputation": 1731, "user_id": 6509519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEcoP.jpg?s=128&g=1", "display_name": "Ian Thompson", "link": "https://stackoverflow.com/users/6509519/ian-thompson"}, "edited": false, "score": 0, "creation_date": 1515020270, "post_id": 48084196, "comment_id": 83147652, "body": "Why are you using <code>np.asmatrix()</code> twice on the same thing?"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 6014243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6Fav_z5MMNI/AAAAAAAAAAI/AAAAAAAAACg/73zZm2GU6kQ/photo.jpg?sz=128", "display_name": "Rodi", "link": "https://stackoverflow.com/users/6014243/rodi"}, "edited": false, "score": 0, "creation_date": 1515072248, "post_id": 48086379, "comment_id": 83167180, "body": "Not exactly, however your indexing solution has helped me understand DataFrames a little better! All I needed was np.asmatrix(groupedData.item(1))[1,3]"}], "tags": [], "owner": {"reputation": 1731, "user_id": 6509519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEcoP.jpg?s=128&g=1", "display_name": "Ian Thompson", "link": "https://stackoverflow.com/users/6509519/ian-thompson"}, "is_accepted": true, "score": 0, "last_activity_date": 1515033281, "last_edit_date": 1515033281, "creation_date": 1515020449, "answer_id": 48086379, "question_id": 48084196, "link": "https://stackoverflow.com/questions/48084196/getting-value-from-groupby-matrix/48086379#48086379", "title": "Getting value from groupby matrix", "body": "<p>Is this what you're looking for?</p>\n\n<pre><code># make data\ndf = pd.DataFrame({\n    'datetime' : [pd.to_datetime('2001-01-08')] * 6,\n    'customerID' : ['01217544', '00102292', '01443141', '01439274', '01724790', '02013275'],\n    2 : ['E', 'D', 'C', 'J', 'D', 'D'],\n    3 : ['E', 'F', 'E', 'E', 'F', 'E'],\n    'product_subclass' : [530112, 560102, 500538, 100401, 100202, 110217],\n    'productID' : [4710094020568, 4710032502811, 2250078000251, 4710043001211, 4710047512065, 4710892632017],\n    6 : [1, 1, 1, 1, 1, 2],\n    7 : [51, 115, 69, 409, 15, 370],\n    8 : [66, 128, 78, 450, 18, 398]\n})\n\n# set index as 'datetime' and 'customerID'\ndf = df.set_index([\n    'datetime',\n    'customerID'\n]).sort_index()\n\n# cross section on 2001-01-08 and customerID = 00102292\ndf.xs(['20010108', '00102292'])['productID']\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8cmPs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8cmPs.png\" alt=\"output\"></a></p>\n"}], "owner": {"reputation": 112, "user_id": 6014243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6Fav_z5MMNI/AAAAAAAAAAI/AAAAAAAAACg/73zZm2GU6kQ/photo.jpg?sz=128", "display_name": "Rodi", "link": "https://stackoverflow.com/users/6014243/rodi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 48086379, "answer_count": 1, "score": 0, "last_activity_date": 1515033281, "creation_date": 1515009012, "last_edit_date": 1515012486, "question_id": 48084196, "link": "https://stackoverflow.com/questions/48084196/getting-value-from-groupby-matrix", "title": "Getting value from groupby matrix", "body": "<p>I currently have a dataset that looks like this.</p>\n\n<pre><code>DateTime, CustomerID, 2, 3, Product Subclass, ProductID, 6, 7, 8\n2001-01-08 00:00:00;01217544  ;E ;E ;530112;4710094020568;1;51;66\n2001-01-08 00:00:00;00102292  ;D ;F ;560102;4710032502811;1;115;128\n2001-01-08 00:00:00;01443141  ;C ;E ;500538;2250078000251;1;69;78\n2001-01-08 00:00:00;01439274  ;J ;E ;100401;4710043001211;1;409;450\n2001-01-08 00:00:00;01724790  ;D ;F ;100202;4710047512065;1;15;18\n2001-01-08 00:00:00;02013275  ;J ;E ;110217;4710892632017;2;370;398\n</code></pre>\n\n<p>I have split this data into smaller matrices, one matrix per date and customer. I would like to extract the productID from each of those matrices and create a transactional dataset for each day per customer, with rows of productID's for each transaction.</p>\n\n<p>However, I am currently stuck on getting the productID from my smaller matrices. I am able to split the data with the groupby function. However, this yields 1x1 blocks with text where I can't seem to retrieve the ProductID from. How can I get the ProductID from my created groups so that I can put them together in one column, in a new array?</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\n'''DateTime, CustomerID, Product Subclass, ProductID'''\nD01 = pd.read_csv('Data/D01.txt', sep=';', header=0, names=['DateTime','CustomerID','ProductSubclass', 'ProductID'], usecols=(0,1,4,5))\ngroupedData = np.asmatrix(D01.groupby(['DateTime','CustomerID']))\n\nprint np.asmatrix(groupedData)\n</code></pre>\n\n<p>My current output for one transaction</p>\n\n<pre><code>[('2001-01-31 00:00:00', 2174006)\n                     DateTime  CustomerID  ProductSubclass      ProductID\n214244  2001-01-31 00:00:00     2174006           100208  4710144202227\n214468  2001-01-31 00:00:00     2174006           500111  4718433614799\n214819  2001-01-31 00:00:00     2174006           100110  4901550332077\n215420  2001-01-31 00:00:00     2174006           500303  4710367807421]]\n</code></pre>\n\n<p>Desired output</p>\n\n<pre><code> ...   \n(4710144202227, 4718433614799, 4901550332077, 4710367807421)\n ...\n</code></pre>\n"}, {"tags": ["python", "binary-search-tree"], "comments": [{"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1515010227, "post_id": 48084192, "comment_id": 83143677, "body": "<a href=\"https://gist.github.com/jakemmarsh/8273963\" rel=\"nofollow noreferrer\">gist.github.com/jakemmarsh/8273963</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "is_accepted": false, "score": 0, "last_activity_date": 1515018434, "creation_date": 1515018434, "answer_id": 48086088, "question_id": 48084192, "link": "https://stackoverflow.com/questions/48084192/bst-node-insertion-failing-in-python-implementation/48086088#48086088", "title": "BST node insertion failing in python implementation", "body": "<p>You did not connect the nodes at all. See the code below. When a node is created, it is not connected to any other nodes. </p>\n\n<pre><code>def insertbst(root, val):\n   if root == None:\n      root = Node(val)\n      return \n</code></pre>\n\n<p>You can connect two node by </p>\n\n<pre><code>node_A.left = node_B\n# generates\n    node_A\n    /\nnode_B\n\nnode_A.right = node_B   \n# generates\n    node_A\n          \\\n          node_B\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 4336040, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6a385d10a48f7f60822d156ed06d52ae?s=128&d=identicon&r=PG&f=1", "display_name": "Manu", "link": "https://stackoverflow.com/users/4336040/manu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515018434, "creation_date": 1515008971, "question_id": 48084192, "link": "https://stackoverflow.com/questions/48084192/bst-node-insertion-failing-in-python-implementation", "title": "BST node insertion failing in python implementation", "body": "<p>The resulting BST does not get updated on insertion of new values. For children nodes who are empty, this code finds the appropriate position but fails to update the inserted value. Any insight, please. Thanks.</p>\n\n<pre><code>class Node:\n  def __init__(self, val):\n    self.val = val\n    self.left = self.right = None\n\ndef insertbst(root, val):\n    if root == None:\n       root = Node(val)\n       return \n    if val &lt;= root.val:\n      insertbst(root.left, val)\n    elif val &gt; root.val:\n      insertbst(root.right, val)\n\ndef display(root):\n  if root == None: return\n  display(root.left)\n  print root.val\n  display(root.right)  \n\nif __name__ == \"__main__\":\n  root = Node(100)\n  insertbst(root, 20)\n  insertbst(root, 500)\n  insertbst(root, 10)\n  insertbst(root, 30)\n</code></pre>\n\n<p>insertbst(root, 40)\n  display(root)</p>\n"}, {"tags": ["python", "regex", "function", "if-statement", "overriding"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1515008846, "post_id": 48084139, "comment_id": 83143044, "body": "What are <code>a</code> and <code>b</code>?  Where is the code that calls these functions?"}, {"owner": {"reputation": 655, "user_id": 6408619, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/T4Gfx.jpg?s=128&g=1", "display_name": "Octo", "link": "https://stackoverflow.com/users/6408619/octo"}, "edited": false, "score": 1, "creation_date": 1515008900, "post_id": 48084139, "comment_id": 83143070, "body": "You don&#39;t seem to have included all the necessary code for us to understand the problem"}, {"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "edited": false, "score": 0, "creation_date": 1515009002, "post_id": 48084139, "comment_id": 83143124, "body": "increase_score(5, aScore) ????"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1515009041, "post_id": 48084139, "comment_id": 83143151, "body": "Please reduce your program to the smallest possible <b>complete</b> program that demonstrate the error. Please include any input along with the actual and expected output of the program. Please include the full text of any error messages. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more information."}, {"owner": {"reputation": 33, "user_id": 7898109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e22695ae242713d5a86108fd832b14?s=128&d=identicon&r=PG&f=1", "display_name": "Kabira Suleman", "link": "https://stackoverflow.com/users/7898109/kabira-suleman"}, "edited": false, "score": 0, "creation_date": 1515009177, "post_id": 48084139, "comment_id": 83143219, "body": "Im sorry for the missing code, I have now put any missing code into the question"}, {"owner": {"reputation": 33, "user_id": 7898109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e22695ae242713d5a86108fd832b14?s=128&d=identicon&r=PG&f=1", "display_name": "Kabira Suleman", "link": "https://stackoverflow.com/users/7898109/kabira-suleman"}, "edited": false, "score": 0, "creation_date": 1515009957, "post_id": 48084139, "comment_id": 83143579, "body": "hopefully this looks better now"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7898109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e22695ae242713d5a86108fd832b14?s=128&d=identicon&r=PG&f=1", "display_name": "Kabira Suleman", "link": "https://stackoverflow.com/users/7898109/kabira-suleman"}, "edited": false, "score": 0, "creation_date": 1515009935, "post_id": 48084314, "comment_id": 83143562, "body": "thank you this solved my second issue :D  im still having the issue that the total score is 5 and not 10, however :("}], "tags": [], "owner": {"reputation": 2757, "user_id": 5308259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5628c03fe452a8420fc130408101e057?s=128&d=identicon&r=PG&f=1", "display_name": "Psytho", "link": "https://stackoverflow.com/users/5308259/psytho"}, "is_accepted": true, "score": 0, "last_activity_date": 1515009561, "creation_date": 1515009561, "answer_id": 48084314, "question_id": 48084139, "link": "https://stackoverflow.com/questions/48084139/my-two-python-functions-are-overriding-each-other/48084314#48084314", "title": "my two python functions are overriding each other?", "body": "<p><code>re.match</code> looks for the characters at the BEGINNING of the given string. Use <code>re.search</code> instead. </p>\n\n<p>See also <a href=\"https://docs.python.org/3.5/library/re.html#search-vs-match\" rel=\"nofollow noreferrer\">search() vs. match()</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 19159, "user_id": 3600709, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/731c8c4c0029d3414563333de16b8977?s=128&d=identicon&r=PG&f=1", "display_name": "ctwheels", "link": "https://stackoverflow.com/users/3600709/ctwheels"}, "is_accepted": false, "score": 1, "last_activity_date": 1515010227, "creation_date": 1515010227, "answer_id": 48084459, "question_id": 48084139, "link": "https://stackoverflow.com/questions/48084139/my-two-python-functions-are-overriding-each-other/48084459#48084459", "title": "my two python functions are overriding each other?", "body": "<h2>Brief</h2>\n\n<p>You don't even need regex for this. Python has <a href=\"https://docs.python.org/3/library/stdtypes.html#str.isupper\" rel=\"nofollow noreferrer\"><code>isupper()</code></a> and <a href=\"https://docs.python.org/3/library/stdtypes.html#str.islower\" rel=\"nofollow noreferrer\"><code>islower()</code></a> functions available.</p>\n\n<hr>\n\n<h2>Code</h2>\n\n<p><a href=\"https://ideone.com/tsia7M\" rel=\"nofollow noreferrer\">See code in use here</a></p>\n\n<pre><code>passwords = [\n    \"all lowercase letters\",\n    \"ALL UPPERCASE LETTERS\",\n    \"Mixed lowercase and UPPERCASE letters\"\n]\n\ndef lower_score(string, weight):\n    if any(s.islower() for s in string):\n        print \"Contains: LOWERCASE\"\n        return weight\n    else:\n        print \"Message: The password needs lowercase letters for a higher score\"\n    return 0\n\ndef upper_score(string, weight):\n    if any(s.isupper() for s in string):\n        print \"Contains: UPPERCASE\"\n        return weight\n    else:\n        print \"Message: The password needs capital letters for a higher score\"\n    return 0\n\nfor password in passwords:\n    print \"Password: \" + password\n    score = 0\n    score += lower_score(password, 5)\n    score += upper_score(password, 5)\n    print \"Score: \" + str(score) + \"\\n\"\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7898109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36e22695ae242713d5a86108fd832b14?s=128&d=identicon&r=PG&f=1", "display_name": "Kabira Suleman", "link": "https://stackoverflow.com/users/7898109/kabira-suleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1515043492, "accepted_answer_id": 48084314, "answer_count": 2, "score": -2, "last_activity_date": 1515010227, "creation_date": 1515008763, "last_edit_date": 1515009693, "question_id": 48084139, "link": "https://stackoverflow.com/questions/48084139/my-two-python-functions-are-overriding-each-other", "closed_reason": "Needs details or clarity", "title": "my two python functions are overriding each other?", "body": "<pre><code>import re\nscore = 0\n\ncapital_letters = r'[A-Z]'\na = re.compile(capital_letters)\n\nlowercase_letters = r'[a-z]'\nb = re.compile(lowercase_letters)\n\ndef increase_score (aValue, aScore):\n  aScore += aValue\n  return aScore\n\ndef upper_score(test_string, aScore):\n  if re.match(a, test_string):\n    aScore = increase_score(5, aScore)\n    print (aScore)\n    print(\"UPPERCASE\")\n  else:\n    print(\"The password needs capital letters for a higher score\")\n\n\ndef lower_score(test_string, aScore):\n    if re.match(b, test_string):\n      aScore = increase_score(5, aScore)\n  print (aScore)\n  print(\"LOWERCASE\")\nelse:\n  print(\"The password needs lowercase letters for a higher score\")\n\npassword = input(\"Enter a password to check\")\nupper_score(password, score)\nlower_score(password, score)\n</code></pre>\n\n<p>If I input all upper case letters I get this output:</p>\n\n<pre><code>5\nUPPERCASE\nThe password needs lowercase letters for a higher score\n</code></pre>\n\n<p>If I input all lower case letters I get this output:</p>\n\n<p>The password needs capital letters for a higher score\n   5\n   LOWERCASE</p>\n\n<p>These results I am happy with.</p>\n\n<p>THE PROBLEM IS when I combine uppercase and lowercase letters I get this result:</p>\n\n<pre><code>The password needs capital letters for a higher score\n5\nLOWERCASE\n</code></pre>\n\n<p>1) Even though there are both uppercase and lowercase letters the score is still 5 instead of 10.  </p>\n\n<p>2) The regex for uppercase letters stops working even though there are uppercase letters in the string.  </p>\n\n<p>Thank you!!! I hope I explained this well.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 10985, "user_id": 2177413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46a9aa1e9d825b6af32f4cb2b1b341fc?s=128&d=identicon&r=PG", "display_name": "swatchai", "link": "https://stackoverflow.com/users/2177413/swatchai"}, "edited": false, "score": 0, "creation_date": 1515039757, "post_id": 48084138, "comment_id": 83151886, "body": "Implementing numpy&#39;s &quot;mask&quot; array should help."}], "answers": [{"tags": [], "owner": {"reputation": 4949, "user_id": 2191652, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3cfa80e86236c34a19d11dfa54262d40?s=128&d=identicon&r=PG", "display_name": "mcExchange", "link": "https://stackoverflow.com/users/2191652/mcexchange"}, "is_accepted": false, "score": 0, "last_activity_date": 1515075941, "creation_date": 1515075941, "answer_id": 48097322, "question_id": 48084138, "link": "https://stackoverflow.com/questions/48084138/python-how-to-plot-3d-grid-similar-to-matlabs-pcshow/48097322#48097322", "title": "Python: How to plot 3D grid similar to Matlab&#39;s `pcshow`?", "body": "<p>Here is some python solution:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\nX, Y, Z = np.meshgrid(np.arange(data.shape[0]), np.arange(data.shape[1]), np.arange(data.shape[2]))\n[x, y, z] = (np.reshape(X, (-1)), np.reshape(Y, (-1)), np.reshape(Z, (-1)))\nidx = (data != 0) \nidx = np.reshape(idx, (-1))\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nscat = ax.scatter(x[idx], y[idx], z[idx], c=np.reshape(data,(-1))[idx], cmap='jet', marker=\"s\")\n\n# Some additional formatting\nax.set_xlabel('X', fontsize=9)\nax.set_ylabel('Y', fontsize=9)\nax.set_zlabel('Z', fontsize=9)\n\n# Setting camera angle\naz = 150\nel = 30\nax.view_init(elev=el, azim=az)\nfig.colorbar(scat, shrink=0.5, aspect=5)\n</code></pre>\n"}], "owner": {"reputation": 4949, "user_id": 2191652, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3cfa80e86236c34a19d11dfa54262d40?s=128&d=identicon&r=PG", "display_name": "mcExchange", "link": "https://stackoverflow.com/users/2191652/mcexchange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 681, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1515075941, "creation_date": 1515008758, "question_id": 48084138, "link": "https://stackoverflow.com/questions/48084138/python-how-to-plot-3d-grid-similar-to-matlabs-pcshow", "title": "Python: How to plot 3D grid similar to Matlab&#39;s `pcshow`?", "body": "<p>I'm trying to plot a cubic 3D scene-grid stored in a 3D matrix <code>data</code> which contains indices (eg [0..10]) which indicate in which color the voxel is plotted, where 0 is the \"empty\" label. In Matlab I use the following code:  </p>\n\n<pre><code>[X,Y,Z] = meshgrid(1:size(data,1),1:size(data,2),1:size(data,3));\nxyz=[X(:) Y(:) Z(:)];\nidx = data~=0;   % Ignore labels 0 -&gt; they specify empty voxels\npcshow(xyz(idx,:),data(idx),'MarkerSize',1000)\n</code></pre>\n\n<p>Are there similar functions in python?</p>\n\n<p>This <a href=\"https://stackoverflow.com/a/1986020/2191652\">stackoverflow-answer</a> is close but it lacks the possibility to pass the <code>data</code> matrix. A hack would be to loop over all labels, but I'm looking for a more elegant solution.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1515008889, "post_id": 48084114, "comment_id": 83143058, "body": "So you want <code>2x2</code> matrix of <code>3x3</code> matrices here?"}, {"owner": {"reputation": 301, "user_id": 8062316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/844cdb76e5b5ab4984ac0abd5525141a?s=128&d=identicon&r=PG&f=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/8062316/kingle"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1515008978, "post_id": 48084114, "comment_id": 83143109, "body": "I wanted to get all possible 3x3 matrices from a bigger matrix."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1515009022, "post_id": 48084114, "comment_id": 83143134, "body": "Yes but for this example there are four such submatrices? Or can there be submatrices where we for instance ignore the third row?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1515009060, "post_id": 48084114, "comment_id": 83143156, "body": "@WillemVanOnsem Imagine a convolving filter of size 3x3 going over this array. You&#39;d have 4 windows, 4 different overlapping regions."}, {"owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "edited": false, "score": 0, "creation_date": 1515009077, "post_id": 48084114, "comment_id": 83143165, "body": "Are your input matrices (<code>m</code>) always going to be of same <code>width</code> than <code>height</code>? ( 4x4, 5x5...) or can you have 4x2?"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1515009123, "post_id": 48084114, "comment_id": 83143188, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05: yes that was my initial idea as well. But &quot;submatrix&quot; is vague in the sense that <code>[[1,9],[0,6]]</code> is sometimes also considered a 2x2 submatrix of <code>m</code>. The first one scales linear with the number of elements in the matrix, the latter exponential."}, {"owner": {"reputation": 301, "user_id": 8062316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/844cdb76e5b5ab4984ac0abd5525141a?s=128&d=identicon&r=PG&f=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/8062316/kingle"}, "edited": false, "score": 0, "creation_date": 1515009166, "post_id": 48084114, "comment_id": 83143209, "body": "The smallest matrix will always be 3x3 but bigger ones can be 4x3, 4x4, 5x4, etc. All the way up to 10x10. The submatrix has to be 3x3."}], "answers": [{"tags": [], "owner": {"reputation": 547, "user_id": 4955133, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/86cbc56bf6db8c370d9c9ea06050c0bd?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/4955133/jake"}, "is_accepted": false, "score": 1, "last_activity_date": 1515010005, "last_edit_date": 1515010005, "creation_date": 1515009643, "answer_id": 48084330, "question_id": 48084114, "link": "https://stackoverflow.com/questions/48084114/how-can-i-slice-each-3x3-submatrix-from-an-arbitrary-size-matrix/48084330#48084330", "title": "How can I slice each 3x3 submatrix from an arbitrary size matrix?", "body": "<p>I would recommend using <code>numpy</code> for this. </p>\n\n<p>Numpy arrays have a function shape which would be helpful.</p>\n\n<p>to convert <code>m</code> to <code>numpy.array</code></p>\n\n<pre><code>import numpy as np\nnp_m = np.array([np.array(row) for row in m])\n</code></pre>\n\n<p>if <code>np_m</code> is converted to a numpy array then</p>\n\n<pre><code>row, col = np_m.shape \n</code></pre>\n\n<p>then you could iterate through each index and exclude; the first row, first col, last row and last column. </p>\n\n<pre><code>list_of_s = []\nfor r in range(1, row-1):\n    for c in range(1, col-1):\n        s_new = np_m[r-1:r+1][c-1:c+1]\n        list_of_s.append(s_new)\n</code></pre>\n\n<p><code>list_of_s</code> is a list (non numpy array) of all 3x3 matrices (as numpy arrays) contained within <code>m</code></p>\n"}, {"tags": [], "owner": {"reputation": 1189, "user_id": 798171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/164e4434009274dfdc0ef809d696079e?s=128&d=identicon&r=PG", "display_name": "meggar", "link": "https://stackoverflow.com/users/798171/meggar"}, "is_accepted": false, "score": 2, "last_activity_date": 1515009776, "creation_date": 1515009776, "answer_id": 48084366, "question_id": 48084114, "link": "https://stackoverflow.com/questions/48084114/how-can-i-slice-each-3x3-submatrix-from-an-arbitrary-size-matrix/48084366#48084366", "title": "How can I slice each 3x3 submatrix from an arbitrary size matrix?", "body": "<pre><code>[[m[i][j:j+3], m[i+1][j:j+3], m[i+2][j:j+3]] for j in range(len(m[0])-2) for i in range(len(m)-2)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14111, "user_id": 289011, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fabc4413849953957908f8690c2c24c?s=128&d=identicon&r=PG", "display_name": "BorrajaX", "link": "https://stackoverflow.com/users/289011/borrajax"}, "is_accepted": true, "score": 2, "last_activity_date": 1515012147, "last_edit_date": 1515012147, "creation_date": 1515010923, "answer_id": 48084590, "question_id": 48084114, "link": "https://stackoverflow.com/questions/48084114/how-can-i-slice-each-3x3-submatrix-from-an-arbitrary-size-matrix/48084590#48084590", "title": "How can I slice each 3x3 submatrix from an arbitrary size matrix?", "body": "<p>Matrices are a bit confusing from a human point of view (erm... at least for <em>this human</em> who's answering <strong>:-P</strong>): when you do <code>m[1][2]</code>, the first <code>1</code> determines the <em>height</em> (the Y axis, if you may) rather than the <em>width</em> while the subsequent <code>2</code> determines the <em>width</em> (the X axis) which is not what we humans are used to. </p>\n\n<p>With that in mind, you could do something like this (note that I changed the sample input <code>m</code> to a 6x5 matrix, just to make sure that a more generic case would work properly).</p>\n\n<pre><code>m = [[1, 5, 9, 2, 4, 7],\n     [0, 4, 6, 1, 5, 7],\n     [6, 1, 8, 8, 6, 8],\n     [4, 7, 3, 5, 7, 9],\n     [8, 9, 6, 3, 1, 1],\n     ]\n\nslice_x = 3\nslice_y = 3\n\n\ndef test_slice():\n    width = len(m[0])\n    height = len(m)\n    slices = []\n    for i in range(0, height - slice_y + 1):\n        for j in range(0, width - slice_x + 1):\n            slices.append(\n                [\n                    [m[a][b] for b in range(j, j + slice_x)]\n                    for a in range(i, i + slice_y)\n                ]\n            )\n    return slices\n\n\nif __name__ == \"__main__\":\n    slices = test_slice()\n    for sl in slices:\n        for row in sl:\n            print(row)\n        print('------')\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>[1, 5, 9]\n[0, 4, 6]\n[6, 1, 8]\n------\n[5, 9, 2]\n[4, 6, 1]\n[1, 8, 8]\n------\n[9, 2, 4]\n[6, 1, 5]\n[8, 8, 6]\n------\n[2, 4, 7]\n[1, 5, 7]\n[8, 6, 8]\n------\n[0, 4, 6]\n[6, 1, 8]\n[4, 7, 3]\n------\n[4, 6, 1]\n[1, 8, 8]\n[7, 3, 5]\n------\n[6, 1, 5]\n[8, 8, 6]\n[3, 5, 7]\n------\n[1, 5, 7]\n[8, 6, 8]\n[5, 7, 9]\n------\n[6, 1, 8]\n[4, 7, 3]\n[8, 9, 6]\n------\n[1, 8, 8]\n[7, 3, 5]\n[9, 6, 3]\n------\n[8, 8, 6]\n[3, 5, 7]\n[6, 3, 1]\n------\n[8, 6, 8]\n[5, 7, 9]\n[3, 1, 1]\n------\n</code></pre>\n\n<p>I believe this would work as long as your <code>slice_x</code> and <code>slice_y</code> are smaller than the <code>width</code> and the <code>height</code> respectively. Play with the values of <code>slice_x</code> and <code>slice_y</code>, and make sure it does what you want.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 15485344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efaff8882f4c142ebe22d6b76a7c0d6d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas C.", "link": "https://stackoverflow.com/users/15485344/thomas-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1616753007, "last_edit_date": 1616753007, "creation_date": 1616752669, "answer_id": 66814665, "question_id": 48084114, "link": "https://stackoverflow.com/questions/48084114/how-can-i-slice-each-3x3-submatrix-from-an-arbitrary-size-matrix/66814665#66814665", "title": "How can I slice each 3x3 submatrix from an arbitrary size matrix?", "body": "<p>I have been looking to the same question. I was not satisfied with the proposition as it involve big for loops. Therefore the computing time will be probably expensible as the dimention of the matrix (image increase). I came up with a solution using convolution. Therefore my loop have the dimension of the size of the sub-image. We could probably do better but here is the function. I hope it can help you :</p>\n<pre><code>import scipy\nimport numpy as np\n\ndef split_mat(mat,dim):\n    '''\n    Split one image in sub-image of dimension dim x dim\n    '''\n    \n    for i in range(dim):\n        for j in range(dim):\n            kernel=np.zeros([dim,dim])\n            kernel[i,j]=1\n            tmp=scipy.signal.convolve2d(mat,kernel,mode='valid').flatten()\n            if i+j==0:\n                nb_img=len(tmp)\n                res=np.zeros([int(dim**2),nb_img])\n            \n            res[i*dim+j,:]=tmp\n            \n    return res.reshape([dim,dim,nb_img])[::-1,::-1,:]\n</code></pre>\n<p>You can test it like this :</p>\n<pre><code>mat=np.random.random([100,100])\ndim=5\nsp_mat=split_mat(mat,dim)\n# The extracted matrix number i is visible by :\nsp_mat[:,:,i]\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 8062316, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/844cdb76e5b5ab4984ac0abd5525141a?s=128&d=identicon&r=PG&f=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/8062316/kingle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2623, "favorite_count": 0, "accepted_answer_id": 48084590, "answer_count": 4, "score": 3, "last_activity_date": 1616753007, "creation_date": 1515008651, "last_edit_date": 1515009306, "question_id": 48084114, "link": "https://stackoverflow.com/questions/48084114/how-can-i-slice-each-3x3-submatrix-from-an-arbitrary-size-matrix", "title": "How can I slice each 3x3 submatrix from an arbitrary size matrix?", "body": "<p>I want to find each 3x3 submatrix from a bigger matrix. I'm stuck on how to slice each matrix without knowing the size of that matrix. If I know it is a 4x4 matrix, I can slice each submatrix one by one:</p>\n\n<pre><code>m = [[1, 5, 9, 2], \n     [0, 4, 6, 1], \n     [6, 1, 8, 8], \n     [4, 7, 3, 5]]\n\ns1 = [m[0][:3], m[1][:3], m[2][:3]]\n\ns1 = [[1, 5, 9], \n      [0, 4, 6], \n      [6, 1, 8]]\n</code></pre>\n\n<p>That is only the first 3x3 submatrix out of 4. The matrix can be 3x3, 4x3, 4x4, etc. all the way up to 10x10. Doing it manually for each is definitely out of the question. Is there a way for me to slice each 3x3 submatrix without knowing the size of the bigger matrix?</p>\n"}]