[{"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 4039, "user_id": 4480692, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/992c374f9cc688d0704d0f36eed4dd26?s=128&d=identicon&r=PG&f=1", "display_name": "Curt F.", "link": "https://stackoverflow.com/users/4480692/curt-f"}, "edited": false, "score": 0, "creation_date": 1436402897, "post_id": 31305889, "comment_id": 50601986, "body": "I&#39;m confused about exactly what output you want.  If the output 50 &amp;times; 50 matrix is M, what is the formula you expect for <code>M[i, j]</code>?"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 4039, "user_id": 4480692, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/992c374f9cc688d0704d0f36eed4dd26?s=128&d=identicon&r=PG&f=1", "display_name": "Curt F.", "link": "https://stackoverflow.com/users/4480692/curt-f"}, "edited": false, "score": 0, "creation_date": 1436402981, "post_id": 31305889, "comment_id": 50602009, "body": "<code>x0</code> evaluated at <code>y0</code> to <code>y49</code>, then <code>x1</code> evaluated at <code>y0</code> to <code>y49</code>, etc."}, {"owner": {"reputation": 4039, "user_id": 4480692, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/992c374f9cc688d0704d0f36eed4dd26?s=128&d=identicon&r=PG&f=1", "display_name": "Curt F.", "link": "https://stackoverflow.com/users/4480692/curt-f"}, "edited": false, "score": 0, "creation_date": 1436403004, "post_id": 31305889, "comment_id": 50602016, "body": "I think <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.apply_along_axis.html\" rel=\"nofollow noreferrer\">numpy.apply_along_axis()</a> is something that may interest you."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 4039, "user_id": 4480692, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/992c374f9cc688d0704d0f36eed4dd26?s=128&d=identicon&r=PG&f=1", "display_name": "Curt F.", "link": "https://stackoverflow.com/users/4480692/curt-f"}, "edited": false, "score": 0, "creation_date": 1436403061, "post_id": 31305889, "comment_id": 50602027, "body": "So it should be a 50 by 50 matrix, where each matrix entry is an (x,y) pair evaluated in the function."}, {"owner": {"reputation": 4039, "user_id": 4480692, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/992c374f9cc688d0704d0f36eed4dd26?s=128&d=identicon&r=PG&f=1", "display_name": "Curt F.", "link": "https://stackoverflow.com/users/4480692/curt-f"}, "edited": false, "score": 0, "creation_date": 1436403201, "post_id": 31305889, "comment_id": 50602049, "body": "So <code>M[i, j] = f(x[i], y[j])</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1121588"}, "edited": false, "score": 2, "creation_date": 1436405044, "post_id": 31305889, "comment_id": 50602493, "body": "this is deja vu  and has been answered in its alternate incarnation    <a href=\"http://stackoverflow.com/questions/31304733/contour-plot-typeerror-length-of-y-must-be-number-of-rows-in-z\" title=\"contour plot typeerror length of y must be number of rows in z\">stackoverflow.com/questions/31304733/&hellip;</a>"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436408556, "post_id": 31305889, "comment_id": 50603332, "body": "@DanPatterson Unfortunately my function is far far more complicated than above (I haven&#39;t posted it because it&#39;s an entire file). So, technically, this is a separate question. <code>np.meshgrid()</code> will lead to broadcasting errors."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1436411754, "post_id": 31305889, "comment_id": 50604071, "body": "You Tried <code>np.meshgrid</code> and it did not work?"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1436412218, "post_id": 31305889, "comment_id": 50604189, "body": "@wwii It&#39;s confusing, but yes. The function I am using is not the above function, but something far more complicated/too long to post. However, it does take two arguments and return a single output."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1436589868, "post_id": 31305889, "comment_id": 50689452, "body": "The edited question, with more detailed <code>func</code> is helpful.  But you should indicate where the <code>ValueError</code> occurs.  People like to give negative votes for omitting that kind of information.  See my 2nd answer."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1436796929, "post_id": 31305889, "comment_id": 50748356, "body": "@hpaulj I understand, thanks. Next time I&#39;ll try to include that."}], "answers": [{"tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": -1, "last_activity_date": 1436400860, "last_edit_date": 1436400860, "creation_date": 1436400750, "answer_id": 31306013, "question_id": 31305889, "link": "https://stackoverflow.com/questions/31305889/reshaping-numpy-array-without-using-two-for-loops/31306013#31306013", "title": "Reshaping numpy array without using two for loops", "body": "<p>You're on the right track with your list comprehension, you just need to add in an extra level of iteration:</p>\n\n<pre><code>np.array([[func(i,j) for i in x] for j in y])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": false, "score": 0, "last_activity_date": 1436416480, "last_edit_date": 1495542227, "creation_date": 1436416155, "answer_id": 31308150, "question_id": 31305889, "link": "https://stackoverflow.com/questions/31305889/reshaping-numpy-array-without-using-two-for-loops/31308150#31308150", "title": "Reshaping numpy array without using two for loops", "body": "<p>I think there is a better way, it is right on the tip of my tongue, but as an interim measure:</p>\n\n<p>You are operating on 1x2 windows of a meshgrid.  You can use <code>as_strided</code> from <code>numpy.lib.stride_tricks</code> to rearrange the <code>meshgrid</code> into two-element windows, then apply your function to the resultant array.  I like to use a generic nd solution, <a href=\"http://www.johnvinyard.com/blog/?p=268\" rel=\"nofollow noreferrer\"><code>sliding_windows</code></a> (<a href=\"http://www.johnvinyard.com/blog/?p=268\" rel=\"nofollow noreferrer\">http://www.johnvinyard.com/blog/?p=268</a>) (Not mine) to transform the array.</p>\n\n<pre><code>import numpy as np\na = np.array([1,2,3])\nb = np.array([.1, .2, .3])\nz= np.array(np.meshgrid(a,b))\ndef foo((x,y)):\n    return x+y\n\n&gt;&gt;&gt; z.shape\n(2, 3, 3)\n&gt;&gt;&gt; t = sliding_window(z, (2,1,1))\n&gt;&gt;&gt; t\narray([[ 1. ,  0.1],\n       [ 2. ,  0.1],\n       [ 3. ,  0.1],\n       [ 1. ,  0.2],\n       [ 2. ,  0.2],\n       [ 3. ,  0.2],\n       [ 1. ,  0.3],\n       [ 2. ,  0.3],\n       [ 3. ,  0.3]])\n&gt;&gt;&gt; v = np.apply_along_axis(foo, 1, t)\n&gt;&gt;&gt; v\narray([ 1.1,  2.1,  3.1,  1.2,  2.2,  3.2,  1.3,  2.3,  3.3])\n&gt;&gt;&gt; v.reshape((len(a), len(b)))\narray([[ 1.1,  2.1,  3.1],\n       [ 1.2,  2.2,  3.2],\n       [ 1.3,  2.3,  3.3]])\n&gt;&gt;&gt;\n</code></pre>\n\n<p>This should be somewhat faster.</p>\n\n<p>You may need to modify your function's <em>argument signature</em>.</p>\n\n<p>If the link to the <code>johnvinyard.com blog</code> breaks, I've posted the the <code>sliding_window</code> implementation in other SO answers - <a href=\"https://stackoverflow.com/a/22749434/2823755\">https://stackoverflow.com/a/22749434/2823755</a></p>\n\n<p>Search around and you'll find many other <em>tricky</em> <code>as_strided</code> solutions. </p>\n"}, {"comments": [{"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436447097, "post_id": 31308593, "comment_id": 50623868, "body": "Thank you for the comprehensive answer. It looks like I&#39;m stuck with two for loops, unless I somehow change the meshgrid"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 1, "creation_date": 1436461768, "post_id": 31308593, "comment_id": 50634501, "body": "<code>meshgrid</code> easily converts your <code>x</code> and <code>y</code> into <code>(50,50)</code> arrays, but it&#39;s up to your code to combine them into the desired output.  <code>numpy</code> functions and operators do this rapidly for some common operations, like <code>+</code>,<code>*</code>, and all the <code>ufunc</code> functions.  But the trick is to express your function in those terms."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436462784, "post_id": 31308593, "comment_id": 50635083, "body": "I think my function above is basically a <code>ufunc</code>  I&#39;m afraid I&#39;m somehow confusing myself. We have (in essence) 50 matrices shaped (4000,4000). The function then does matrix multiplication, and results in 50 values, one for each matrix, i.e.` func(x1,y1), func(x2,y2), func(x3,y3), etc.`  I am trying to figure out how to create an output of shape (50,50), such that <code>func(x1,y1), func(x1,y2), func(x1,y3),... func(x2,y1), func(x2,y2), func(x2,y3),... func(x3,y1), func(x3,y2), func(x3,y3),....</code>  I think meshgrid is the correct way to do this...somehow"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 3, "last_activity_date": 1436419787, "last_edit_date": 1436419787, "creation_date": 1436418454, "answer_id": 31308593, "question_id": 31305889, "link": "https://stackoverflow.com/questions/31305889/reshaping-numpy-array-without-using-two-for-loops/31308593#31308593", "title": "Reshaping numpy array without using two for loops", "body": "<p><code>reshape</code> in <code>numpy</code> as different meaning.  When you start with a <code>(100,)</code> and change it to <code>(5,20)</code> or <code>(10,10)</code> 2d arrays, that is 'reshape<code>.  There is a</code>numpy` function to do that.</p>\n\n<p>You want to take 2 1d array, and use those to generate a 2d array from a function.  This is like taking an outer product of the 2, passing all combinations of their values through your function.</p>\n\n<p>Some sort of double loop is one way of doing this, whether it is with an explicit loop, or list comprehension.  But speeding this up depends on that function.</p>\n\n<p>For at <code>x**2+y**2</code> example, it can be 'vectorized' quite easily:</p>\n\n<pre><code>In [40]: x=np.linspace(1e10,1e12,num=10)\nIn [45]: y=np.linspace(1e5,1e7,num=5)\nIn [46]: z = x[:,None]**2 + y[None,:]**2\nIn [47]: z.shape\nOut[47]: (10, 5)\n</code></pre>\n\n<p>This takes advantage of <code>numpy</code> broadcasting.  With the <code>None</code>, <code>x</code> is reshaped to <code>(10,1)</code> and <code>y</code> to <code>(1,5)</code>, and the <code>+</code> takes an <code>outer</code> sum.</p>\n\n<p><code>X,Y=np.meshgrid(x,y,indexing='ij')</code> produces two <code>(10,5)</code> arrays that can be used the same way.  Look at is doc for other parameters.</p>\n\n<p>So if your more complex function can be written in a way that takes 2d arrays like this, it is easy to 'vectorize'.</p>\n\n<p>But if that function must take 2 scalars, and return another scalar, then you are stuck with some sort of double loop.</p>\n\n<p>A list comprehension form of the double loop is:</p>\n\n<pre><code>np.array([[x1**2+y1**2 for y1 in y] for x1 in x])\n</code></pre>\n\n<p>Another is:</p>\n\n<pre><code>z=np.empty((10,5))\nfor i in range(10):\n   for j in range(5):\n      z[i,j] = x[i]**2 + y[j]**2\n</code></pre>\n\n<p>This double loop can be sped up somewhat by using <code>np.vectorize</code>.  This takes a user defined function, and returns one that can take broadcastable arrays:</p>\n\n<pre><code>In [65]: vprod=np.vectorize(lambda x,y: x**2+y**2)\n\nIn [66]: vprod(x[:,None],y[None,:]).shape\nOut[66]: (10, 5)\n</code></pre>\n\n<p>Test that I've done in the past show that <code>vectorize</code> can improve on the list comprehension route by something like 20%, but the improvement is nothing like writing your function to work with 2d arrays in the first place.</p>\n\n<p>By the way, this sort of 'vectorization' question has been asked many times on SO numpy.  Beyond these broad examples, we can't help you without knowning more about that more complicated function.  As long as it is a black box that takes scalars, the best we can help you with is <code>np.vectorize</code>.  And you still need to understand broadcasting (with or without <code>meshgrid</code> help).</p>\n"}, {"comments": [{"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436796600, "post_id": 31353427, "comment_id": 50748121, "body": "Thanks for the response. The <code>ValueError</code> occurs with the inclusion of the grid. I&#39;m not sure why you get an error with your function---I do not. In your function above, <code>matrix1</code> multiplies x shaped <code>(50,)</code> and with <code>normalized_matrix</code> shaped <code>(4000,4000)</code>. The resulting <code>matrix1</code> is of shape <code>(50,4000,4000)</code>. There&#39;s no problem when I run the code."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436797061, "post_id": 31353427, "comment_id": 50748454, "body": "Ah, I understand what you are saying now. x is expanded to <code>(50, 1, 1)</code>, which works. Using the grid creates an input shaped <code>(50,50)</code>, which doesn&#39;t."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1436589668, "last_edit_date": 1436589668, "creation_date": 1436589062, "answer_id": 31353427, "question_id": 31305889, "link": "https://stackoverflow.com/questions/31305889/reshaping-numpy-array-without-using-two-for-loops/31353427#31353427", "title": "Reshaping numpy array without using two for loops", "body": "<p>In response to your edited question:</p>\n\n<pre><code>normalized_matrix\nprint normalized_matrix.shape #output (4000,4000)\n\ndata_vector = datarr\nprint datarr.shape #output (4000,)\n\ndef func(x, y):\n    matrix1 = x [:, None, None] * normalized_matrix[None, :, :]\n    matrix2 = y[:, None, None] * id_mat[None, :, :]\n    total_matrix = matrix1 + matrix2\n    # transpose(datavector) * matrix * datavector\n    # by matrix multiplication, equals single value\n    # return  np.array([ np.dot(datarr.T,  np.dot(total_matrix, datarr))])\n    return np.einsum('j,ijk,k-&gt;i',datarr,total_matrix,datarr)\n</code></pre>\n\n<p>Since <code>datarr</code> is shape <code>(4000,)</code>, transpose does nothing.  I believe you want the result of the 2 <code>dots</code> to be shape <code>(50,)</code>.  I'm suggesting using <code>einsum</code>.  But it can be done with <code>tensordot</code>, or I think even <code>np.dot(np.dot(total_matrix, datarr),datarr)</code>.  Test the expression with smaller arrays, focusing on getting the shapes right.</p>\n\n<pre><code>x = np.linspace(1e10, 1e12, num=50) # 50 values\ny = np.linspace(1e5, 1e7, num=50)   # 50 values\nz = func(x,y)\n\n# X, Y = np.meshgrid(x,y)\n# z = func(X, Y)\n</code></pre>\n\n<p><code>X,Y</code> is wrong.  <code>func</code> takes <code>x</code> and <code>y</code> that are <code>1d</code>.  Notice how you expand the dimensions with <code>[:, None, None]</code>.  Also you aren't creating a 2d array from an <code>outer</code> combination of <code>x</code> and <code>y</code>.  None of your arrays in <code>func</code> is <code>(50,50)</code> or <code>(50,50,...)</code>.  The higher dimensions are provided by <code>nomalied_matrix</code> and <code>id_mat</code>.</p>\n\n<p>When showing us the <code>ValueError</code> you should also indicate where in your code that occurred.  Otherwise we have to guess, or recreate the code ourselves.</p>\n\n<p>In fact when I run my edited <code>func(X,Y)</code>, I get this error:</p>\n\n<pre><code>----&gt; 2         matrix1 = x [:, None, None] * normalized_matrix[None, :, :]\n      3         matrix2 = y[:, None, None] * id_mat[None, :, :]\n      4         total_matrix = matrix1 + matrix2\n      5         # transpose(datavector) * matrix * datavector\n\nValueError: operands could not be broadcast together with shapes (50,1,1,50) (1,400,400) \n</code></pre>\n\n<p>See, the error occurs right at the start.  <code>normalized_matrix</code> is expanded to <code>(1,400,400)</code>  [I'm using smaller examples].  The <code>(50,50)</code> <code>X</code> is expanded to <code>(50,1,1,50)</code>.  <code>x</code> expands to <code>(50,1,1)</code>, which broadcasts just fine.</p>\n"}, {"comments": [{"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436797818, "post_id": 31359092, "comment_id": 50749000, "body": "Thanks. I understand now why there&#39;s a broadcasting error.   Now, to figure out how to figure out how to create a matrix of outputs, <code>(x1,y1), (x1,y2), (x1,y3),... (x2,y1), (x2,y2), ....</code>"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "reply_to_user": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436803826, "post_id": 31359092, "comment_id": 50753275, "body": "@ShanZhengYang see my other answer below - using <code>numpy.meshgrid</code> and a <i>sliding window</i> function based on <code>numpy.lib.stride_tricks.as_strided</code>."}], "tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": false, "score": 0, "last_activity_date": 1436630921, "creation_date": 1436630921, "answer_id": 31359092, "question_id": 31305889, "link": "https://stackoverflow.com/questions/31305889/reshaping-numpy-array-without-using-two-for-loops/31359092#31359092", "title": "Reshaping numpy array without using two for loops", "body": "<p>To address the edit and the broadcasting error in the edit:</p>\n\n<p>Inside your function you are adding dimensions to arrays to try to get them to broadcast.</p>\n\n<pre><code>    matrix1 = x [:, None, None] * normalized_matrix[None, :, :]\n</code></pre>\n\n<p>This expression looks like you want to broadcast a 1d array with a 2d array.</p>\n\n<p>The results of your meshgrid are two 2d arrays:</p>\n\n<pre><code>X,Y = np.meshgrid(x,y)\n\n&gt;&gt;&gt; X.shape, Y.shape\n((50, 50), (50, 50))\n&gt;&gt;&gt;\n</code></pre>\n\n<p>When you try to use <code>X</code> in in your <em>broadcasting expression</em> the dimensions don't line up, that is what causes the <code>ValueError</code> - refer to the <a href=\"http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html#general-broadcasting-rules\" rel=\"nofollow\">General Broadcasting Rules</a>:</p>\n\n<pre><code>&gt;&gt;&gt; x1 = X[:, np.newaxis, np.newaxis]\n&gt;&gt;&gt; nm = normalized_matrix[np.newaxis, :, :]\n&gt;&gt;&gt; x1.shape\n(50, 1, 1, 50)\n&gt;&gt;&gt; nm.shape\n(1, 4000, 4000)\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 0, "accepted_answer_id": 31308593, "answer_count": 5, "score": -4, "last_activity_date": 1436630921, "creation_date": 1436399993, "last_edit_date": 1436432436, "question_id": 31305889, "link": "https://stackoverflow.com/questions/31305889/reshaping-numpy-array-without-using-two-for-loops", "title": "Reshaping numpy array without using two for loops", "body": "<p>I have two numpy arrays</p>\n\n<pre><code>import numpy as np\nx = np.linspace(1e10, 1e12, num=50) # 50 values\ny = np.linspace(1e5, 1e7, num=50)   # 50 values\nx.shape # output is (50,)\ny.shape # output is (50,)\n</code></pre>\n\n<p>I would like to create a function which returns an array shaped <code>(50,50)</code> such that the first x value <code>x0</code> is evaluated for all y values, etc. </p>\n\n<p>The current function I am using is fairly complicated, so let's use an easier example. Let's say the function is</p>\n\n<pre><code>def func(x,y):\n    return x**2 + y**2\n</code></pre>\n\n<p>How do I shape this to be a <code>(50,50)</code> array? At the moment, it will output 50 values. Would you use a for loop inside an array? </p>\n\n<p>Something like:</p>\n\n<pre><code>np.array([[func(x,y) for i in x] for j in y)\n</code></pre>\n\n<p>but without using two for loops. This takes forever to run.</p>\n\n<hr>\n\n<p>EDIT: It has been requested I share my \"complicated\" function. Here it goes:</p>\n\n<p>There is a data vector which is a 1D numpy array of 4000 measurements. There is also a \"normalized_matrix\", which is shaped (4000,4000)---it is nothing special, just a matrix with entry values  of integers between 0 and 1, e.g. 0.5567878. These are the two \"given\" inputs. </p>\n\n<p>My function returns the matrix multiplication product of transpose(datavector) * matrix * datavector, which is a single value. </p>\n\n<p>Now, as you can see in the code, I have initialized two arrays, x and y, which pass through a series of \"x parameters\" and \"y parameters\". That is, what does <code>func(x,y)</code> return for value <code>x1</code> and value <code>y1</code>, i.e. <code>func(x1,y1)</code>? </p>\n\n<p>The shape of <code>matrix1</code> is (50, 4000, 4000). The shape of <code>matrix2</code> is (50, 4000, 4000). Ditto for <code>total_matrix</code>.</p>\n\n<p><code>normalized_matrix</code> is shape (4000,4000) and <code>id_mat</code> is shaped (4000,4000).  </p>\n\n<pre><code>normalized_matrix\nprint normalized_matrix.shape #output (4000,4000)\n\ndata_vector = datarr\nprint datarr.shape #output (4000,)\n\ndef func(x, y):\n    matrix1 = x [:, None, None] * normalized_matrix[None, :, :]\n    matrix2 = y[:, None, None] * id_mat[None, :, :]\n    total_matrix = matrix1 + matrix2\n    # transpose(datavector) * matrix * datavector\n    # by matrix multiplication, equals single value\n    return  np.array([ np.dot(datarr.T,  np.dot(total_matrix, datarr) )  ])\n</code></pre>\n\n<p>If I try to use <code>np.meshgrid()</code>, that is, if I try</p>\n\n<pre><code>x = np.linspace(1e10, 1e12, num=50) # 50 values\ny = np.linspace(1e5, 1e7, num=50)   # 50 values\n\nX, Y = np.meshgrid(x,y)\n\nz = func(X, Y)\n</code></pre>\n\n<p>I get the following value error: <code>ValueError: operands could not be broadcast together with shapes (50,1,1,50) (1,4000,4000)</code>. </p>\n"}, {"tags": ["python", "mongodb", "flask"], "comments": [{"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1436410740, "post_id": 31305830, "comment_id": 50603851, "body": "You are probably getting a circular import. Do you import from <code>manage.py</code> inside <code>__init__.py</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 1123975, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/dc4ee75e7a1141472aead5c8f0d08486?s=128&d=identicon&r=PG&f=1", "display_name": "user1123975", "link": "https://stackoverflow.com/users/1123975/user1123975"}, "edited": false, "score": 0, "creation_date": 1436400957, "post_id": 31305861, "comment_id": 50601511, "body": "What if I had <code>models</code> file in the same directory under tumblelog and I wanted to import it in python interpreter? I get the same error when I use <code>from tumblelog.models import *</code>"}, {"owner": {"reputation": 66, "user_id": 4982232, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206362847177409/picture?type=large", "display_name": "ricknroll", "link": "https://stackoverflow.com/users/4982232/ricknroll"}, "reply_to_user": {"reputation": 145, "user_id": 1123975, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/dc4ee75e7a1141472aead5c8f0d08486?s=128&d=identicon&r=PG&f=1", "display_name": "user1123975", "link": "https://stackoverflow.com/users/1123975/user1123975"}, "edited": false, "score": 0, "creation_date": 1436401787, "post_id": 31305861, "comment_id": 50601738, "body": "If it is models.py, you should be able to call it with <code>import models</code> or <code>from  models import *</code>"}], "tags": [], "owner": {"reputation": 66, "user_id": 4982232, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206362847177409/picture?type=large", "display_name": "ricknroll", "link": "https://stackoverflow.com/users/4982232/ricknroll"}, "is_accepted": false, "score": 2, "last_activity_date": 1436400191, "last_edit_date": 1436400191, "creation_date": 1436399834, "answer_id": 31305861, "question_id": 31305830, "link": "https://stackoverflow.com/questions/31305830/issue-importing-object-within-the-same-directory/31305861#31305861", "title": "Issue importing object within the same directory", "body": "<p>you will have to import from the module not the directory.</p>\n\n<p>your code has to be:</p>\n\n<pre><code>from __init__ import app\n</code></pre>\n\n<p>this will create a pyc file.\nthe \"from\" expression declares that file, the \"import\" declares the function being imported.</p>\n\n<p>alternatively, if you want to import all functions you could write</p>\n\n<pre><code>import __init__\n</code></pre>\n\n<p>and then write</p>\n\n<pre><code>__init__.app()\n</code></pre>\n\n<p>to use it</p>\n\n<p>or import everything without having to retype the module all the time:</p>\n\n<pre><code>from __init__ import *\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 1123975, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/dc4ee75e7a1141472aead5c8f0d08486?s=128&d=identicon&r=PG&f=1", "display_name": "user1123975", "link": "https://stackoverflow.com/users/1123975/user1123975"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1436400191, "creation_date": 1436399627, "question_id": 31305830, "link": "https://stackoverflow.com/questions/31305830/issue-importing-object-within-the-same-directory", "title": "Issue importing object within the same directory", "body": "<p>Let's assume I have this  directory structure:</p>\n\n<pre><code>tumblelog/\n  __init__.py\n  manage.py\n</code></pre>\n\n<p>When I try to import app from <code>__init__.py</code> in <code>manage.py</code> with this statement: </p>\n\n<pre><code>from tumblelog import app\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>ImportError: No module named tumblelog\n</code></pre>\n"}, {"tags": ["python", "excel", "matplotlib", "graph", "xlrd"], "comments": [{"owner": {"reputation": 102532, "user_id": 248823, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6605deca5924e84df1a4847f607b87c6?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/248823/marcin"}, "edited": false, "score": 0, "creation_date": 1436399979, "post_id": 31305809, "comment_id": 50601272, "body": "En example of how your excel file (or a dummy version) of it would be good, so that we can see how the date is organized."}], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 5054433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d7b1df9e595c69875da7ba71de675f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rima", "link": "https://stackoverflow.com/users/5054433/rima"}, "edited": false, "score": 0, "creation_date": 1436404421, "post_id": 31305979, "comment_id": 50602359, "body": "Hello, Thanks that really helps. My data looks basically like you said except sometimes there are gaps like"}, {"owner": {"reputation": 271, "user_id": 5054433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d7b1df9e595c69875da7ba71de675f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rima", "link": "https://stackoverflow.com/users/5054433/rima"}, "edited": false, "score": 0, "creation_date": 1436405149, "post_id": 31305979, "comment_id": 50602521, "body": "x   y  pos yerr  neg yerr 1   2        3            4 3    2      -               5 0    9      4              6  and I think maybe that might be causing the error I keep receiving.   TypeError: unsupported operand type(s) for -: &#39;unicode&#39; and &#39;unicode&#39;"}, {"owner": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "reply_to_user": {"reputation": 271, "user_id": 5054433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d7b1df9e595c69875da7ba71de675f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rima", "link": "https://stackoverflow.com/users/5054433/rima"}, "edited": false, "score": 0, "creation_date": 1436457352, "post_id": 31305979, "comment_id": 50631733, "body": "Updated the answer, you&#39;ll need to provide more things such as the traceback if you still have problems."}, {"owner": {"reputation": 271, "user_id": 5054433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d7b1df9e595c69875da7ba71de675f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rima", "link": "https://stackoverflow.com/users/5054433/rima"}, "edited": false, "score": 0, "creation_date": 1436544693, "post_id": 31305979, "comment_id": 50674767, "body": "Hello, thanks for the response. I provided the traceback above since I kept getting the error"}, {"owner": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "reply_to_user": {"reputation": 271, "user_id": 5054433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d7b1df9e595c69875da7ba71de675f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rima", "link": "https://stackoverflow.com/users/5054433/rima"}, "edited": false, "score": 0, "creation_date": 1436544953, "post_id": 31305979, "comment_id": 50674918, "body": "Looks like it&#39;s not making floats out of the values loaded. Interesting that I had no problems. Try the edited version (ie., try casting the values to floats). This is why you get the traceback, as <code>u&#39;1&#39; - u&#39;1&#39;</code> does not do anything for strings/unicode."}, {"owner": {"reputation": 406, "user_id": 3712532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3bc20e85962e082e6dcc79119b8238d?s=128&d=identicon&r=PG", "display_name": "irowe", "link": "https://stackoverflow.com/users/3712532/irowe"}, "edited": false, "score": 0, "creation_date": 1596651277, "post_id": 31305979, "comment_id": 111882796, "body": "I may be misreading this, but I think you meant to put <code>nrows</code> where you put <code>ncols</code>"}], "tags": [], "owner": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "is_accepted": false, "score": 5, "last_activity_date": 1436544997, "last_edit_date": 1436544997, "creation_date": 1436400545, "answer_id": 31305979, "question_id": 31305809, "link": "https://stackoverflow.com/questions/31305809/using-data-from-an-excel-sheet-to-graph-in-python/31305979#31305979", "title": "Using data from an excel sheet to graph in python", "body": "<p>I have made a few assumptions. Assuming your data is like this:</p>\n\n<pre><code>x y yerr_positive yerr_negative\n1 1 0.1 0.2\n2 2 0.1 0.2\n3 3 0.1 0.2\n4 4 0.1 0.2\n</code></pre>\n\n<p>I have also modified how you load the data slightly so that you load each column into its own array, eg.:</p>\n\n<pre><code>x = [first_sheet.cell_value(i, 0) for i in range(first_sheet.ncols)]\n</code></pre>\n\n<p>you can have positive+negative errors for one value using errorbar by passing an array of the form:</p>\n\n<pre><code>yerr = [y_error_negative, y_error_positive]\n</code></pre>\n\n<p>where <code>y_error_negative</code> and <code>y_error_positive</code>, are arrays that have the same length as <code>y</code>.</p>\n\n<p>You should then have the following:</p>\n\n<pre><code>import xlrd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfile_location = \"C:/Users/Rima/Desktop/apjl731data.xlsx\"\nworkbook = xlrd.open_workbook(file_location)\nfirst_sheet = workbook.sheet_by_index(0)\n\nx = [first_sheet.cell_value(i, 0) for i in range(first_sheet.ncols)]\ny = [first_sheet.cell_value(i, 1) for i in range(first_sheet.ncols)]\nyerr_pos = [first_sheet.cell_value(i, 2) for i in range(first_sheet.ncols)]\nyerr_neg = [first_sheet.cell_value(i, 3) for i in range(first_sheet.ncols)]\n\nyerr = [yerr_neg, yerr_pos]\n\nplt.errorbar(x,y,yerr,fmt='r^')\n\nplt.axis([0,5,0,5])\nplt.show()\n</code></pre>\n\n<p>which gives this:\n<img src=\"https://i.stack.imgur.com/o5VZo.jpg\" alt=\"enter image description here\"></p>\n\n<p>It's a bit more difficult to answer without more details.</p>\n\n<p>EDIT:</p>\n\n<p>If you have '-' in the data, there are plenty of ways to ignore it. So, a quick hack with the way I outlined above, you could re-check the x-values:</p>\n\n<pre><code>x y yerr_positive yerr_negative\n1 1 0.1 0.2\n- 2 0.1 0.2\n3 3 0.1 0.2\n4 4 0.1 0.2\n</code></pre>\n\n<p>You would then remove the '-' and replace with 0, for example,</p>\n\n<pre><code>x = [float(i) if i != '-' else 0 for i in x]\n</code></pre>\n\n<p>Another way would be to loop over the values when loading them, and do an <code>value if value.isdigit() else 0</code>, without having two list comprehensions.</p>\n\n<p>Or, you can ignore it completely like you said:</p>\n\n<pre><code>x = [float(i) for i in x if i!= '-']\n</code></pre>\n\n<p>It would be nicer not to waste your metallicity data if you could have some generic upper limit on the virgo infall distance. If you keep getting TypeErrors, give some more information.</p>\n"}], "owner": {"reputation": 271, "user_id": 5054433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d7b1df9e595c69875da7ba71de675f7?s=128&d=identicon&r=PG&f=1", "display_name": "Rima", "link": "https://stackoverflow.com/users/5054433/rima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48181, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1601568618, "creation_date": 1436399502, "last_edit_date": 1436482406, "question_id": 31305809, "link": "https://stackoverflow.com/questions/31305809/using-data-from-an-excel-sheet-to-graph-in-python", "title": "Using data from an excel sheet to graph in python", "body": "<p>So I have lot of data currently in excel spreadsheets. I need to graph this through python. I know how to read data from an excel file using xlrd and I know how to graph in python using matplotlib. Basically my data looks has columns of x coordinates, y coordinates, and positive and negative y errors. I need a way for for that data to be imported from the spreadsheet and become points and error bars on a graph. To be honest I'm very new at python and have no idea why my code isn't working. </p>\n\n<pre><code>import xlrd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfile_location = \"C:/Users/Rima/Desktop/apjl731data.xlsx\"\nworkbook = xlrd.open_workbook(file_location)\nfirst_sheet = workbook.sheet_by_index(0)\nfor col in range(first_sheet.ncols):\n    x = first_sheet.cell_value(0,col)\n    y = first_sheet.cell_value(1,col)\n    yerr = first_sheet.cell_value(2,col)\nplt.errorbar(x,y,yerr,fmt='r^')\nplt.show()\n</code></pre>\n\n<p>I haven't found how to do this online, only how to make the graphs in excel using python. I'm sure my code is probably missing a lot to make if work but I'm not really sure what. Also for the yerr, in order to get a different error value on the top and bottom of a data point I've been passing it as an array like\n     yerr = np.array([])\nwith different values for the errors for each point. I have no idea how to import the data since my positive errors and negative errors are in different columns on the spreadsheet. If anyone know how to import the data please help since it would make my life easier since I wouldn't have to hand type 50 data point. \nThank you!</p>\n\n<p>Edit: \nAn example of my data would be</p>\n\n<p><code>log(O/H)+12     positive error  negative error  virgo infall distance\n8.56            0.05          0.05           4.61\n8.59            0.03          0.03           -\n8.54            0.04          0.06           2.97297\n8.94            0.13          0.12           8.24493</code></p>\n\n<p>I do have gaps in my data which is mark with a -, I don't know if that would cause an error when trying to plot. So I probably need a way to skip those lines. \nThanks again.</p>\n\n<p>Edit 2: \nI am still having an error so here is the traceback. <img src=\"https://i.stack.imgur.com/1qv6i.png\" alt=\"enter image description here\"></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "django", "python-2.7", "google-app-engine"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 4133952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66994a4e189842ca66c4b3f4b75f6fe?s=128&d=identicon&r=PG", "display_name": "Pete LoGiudice", "link": "https://stackoverflow.com/users/4133952/pete-logiudice"}, "is_accepted": false, "score": 1, "last_activity_date": 1436402591, "last_edit_date": 1495541646, "creation_date": 1436402591, "answer_id": 31306261, "question_id": 31305792, "link": "https://stackoverflow.com/questions/31305792/django-attempting-to-load-binary-data-as-string/31306261#31306261", "title": "Django attempting to load binary data as String", "body": "<p>It seems that you are either having a decode unicode problem or that the .png file you are trying to read is possibly corrupt.  Have you tried a different .png file in place of the problem one to rule that out?</p>\n\n<p>This answer <a href=\"https://stackoverflow.com/a/6190499/4133952\">Similar issue with unicode answered here</a> may help. </p>\n"}], "owner": {"reputation": 1, "user_id": 4616571, "user_type": "registered", "profile_image": "https://graph.facebook.com/227869130716679/picture?type=large", "display_name": "Michael C", "link": "https://stackoverflow.com/users/4616571/michael-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1436402591, "creation_date": 1436399369, "last_edit_date": 1436399520, "question_id": 31305792, "link": "https://stackoverflow.com/questions/31305792/django-attempting-to-load-binary-data-as-string", "title": "Django attempting to load binary data as String", "body": "<p>When accessing my django site, it is attempting to load a PNG image as a string. What is causing this error? The exact error and traceback is as follows: </p>\n\n<pre><code>UnicodeDecodeError at /home/\n'utf8' codec can't decode byte 0x89 in position 0: invalid start byte\nRequest Method: GET\nRequest URL:    http://localhost:8080/home/\nDjango Version: 1.5.5\nException Type: UnicodeDecodeError\nException Value:    \n'utf8' codec can't decode byte 0x89 in position 0: invalid start byte\nException Location: /usr/lib/python2.7/encodings/utf_8.py in decode, line 16\nPython Executable:  /home/michael/bin/python\nPython Version: 2.7.9\nPython Path:    \n['/home/michael/code/schoolapp/projectSchoolApp',\n '/home/michael/code/schoolapp/projectSchoolApp/djangoappengine/lib',\n '/home/michael/code/appengine/google_appengine',\n '/home/michael/code/appengine/google_appengine',\n '/usr/lib/python2.7',\n '/usr/lib/python2.7/lib-dynload',\n '/home/michael/code/appengine/google_appengine/lib/protorpc-1.0',\n '/home/michael/code/appengine/google_appengine/lib/webapp2-2.3',\n '/home/michael/code/appengine/google_appengine/lib/webob-1.1.1',\n '/home/michael/code/appengine/google_appengine/lib/yaml-3.10',\n '/home/michael/code/schoolapp/projectSchoolApp/apps',\n '/home/michael/code/schoolapp/projectSchoolApp/libs']\nServer time:    Wed, 8 Jul 2015 23:17:18 +0000\nUnicode error hint\n\nThe string that could not be encoded/decoded was: \ufffdPNG\n&lt;br /&gt;\nTraceback Switch to copy-and-paste view\n\n/home/michael/code/schoolapp/projectSchoolApp/django/core/handlers/base.py in get_response\n                        response = callback(request, *callback_args, **callback_kwargs) ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/apps/site_pages/views.py in landing_page\n        logged_user = get_logged_user(request)\n ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/libs/helpers.py in get_logged_user\n        profile_info['school'] = profile.school\n ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/django/db/models/fields/related.py in __get__\n                rel_obj = qs.get(**params) ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/django/db/models/query.py in get\n        num = len(clone) ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/django/db/models/query.py in __len__\n                self._result_cache = list(self.iterator()) ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/django/db/models/query.py in iterator\n        for row in compiler.results_iter(): ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/djangotoolbox/db/basecompiler.py in results_iter\n            yield self._make_result(entity, fields) ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/djangotoolbox/db/basecompiler.py in _make_result\n                value = self.ops.value_from_db(value, field) ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/djangotoolbox/db/base.py in value_from_db\n        return self._value_from_db(value, *self._convert_as(field)) ...\n\u25b6 Local vars\n/home/michael/code/schoolapp/projectSchoolApp/djangoappengine/db/base.py in _value_from_db\n                value = value.decode('utf-8') ...\n\u25b6 Local vars\n/usr/lib/python2.7/encodings/utf_8.py in decode\n    return codecs.utf_8_decode(input, errors, True) ...\n\u25b6 Local vars\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 3258, "user_id": 1418224, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7feecc0d2234310c68ee0f57e2abae55?s=128&d=identicon&r=PG", "display_name": "Plug4", "link": "https://stackoverflow.com/users/1418224/plug4"}, "edited": false, "score": 0, "creation_date": 1436401492, "post_id": 31305958, "comment_id": 50601648, "body": "Wow that&#39;s great. I added an update to my question. Can your method also be use to solve my new problem? This time I have a dataframe where the 1 show up more than once in the first column. Sorry for being such a pain!"}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "reply_to_user": {"reputation": 3258, "user_id": 1418224, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7feecc0d2234310c68ee0f57e2abae55?s=128&d=identicon&r=PG", "display_name": "Plug4", "link": "https://stackoverflow.com/users/1418224/plug4"}, "edited": false, "score": 0, "creation_date": 1436402145, "post_id": 31305958, "comment_id": 50601819, "body": "@Plug4 Yes. We can just first divide the full dataset using <code>groupby</code>, and then apply the above procedure within each group. I&#39;ve updated the code. The <code>NaN</code> at the bottom is because the 2nd group just 29 rows whereas 1st group has 71 rows."}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 3, "last_activity_date": 1436402001, "last_edit_date": 1436402001, "creation_date": 1436400402, "answer_id": 31305958, "question_id": 31305769, "link": "https://stackoverflow.com/questions/31305769/python-pandas-generating-downward-filling-variables-in-dataframe/31305958#31305958", "title": "Python: Pandas generating downward filling variables in DataFrame", "body": "<p>To my best knowledge, there is no ready-available function to do this. But we can use the following trick to do something similar.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n# your data\n# ========================================\ndf = pd.DataFrame(0, index=pd.date_range('2015-01-01', periods=100, freq='D'), columns=['col'])\ndf.iloc[[0, 71], 0] = 1\n\ngrouped = df.groupby(df.col.cumsum())\n\ngrouped.get_group(1)\n\nOut[275]: \n            col\n2015-01-01    1\n2015-01-02    0\n2015-01-03    0\n2015-01-04    0\n2015-01-05    0\n2015-01-06    0\n2015-01-07    0\n2015-01-08    0\n...         ...\n2015-03-05    0\n2015-03-06    0\n2015-03-07    0\n2015-03-08    0\n2015-03-09    0\n2015-03-10    0\n2015-03-11    0\n2015-03-12    0\n\n[71 rows x 1 columns]\n\ngrouped.get_group(2)\n\nOut[276]: \n            col\n2015-03-13    1\n2015-03-14    0\n2015-03-15    0\n2015-03-16    0\n2015-03-17    0\n2015-03-18    0\n2015-03-19    0\n2015-03-20    0\n...         ...\n2015-04-03    0\n2015-04-04    0\n2015-04-05    0\n2015-04-06    0\n2015-04-07    0\n2015-04-08    0\n2015-04-09    0\n2015-04-10    0\n\n[29 rows x 1 columns]\n\n# processing\n# ==================================\n\ndef func(group):\n    group['temp'] = 0\n    group.temp.iloc[2 ** np.arange(int(np.log2(len(group))) + 1) - 1] = 1\n    group['new_col'] = group.temp.cumsum()\n    return pd.get_dummies(group.new_col)\n\n\ngrouped.apply(func)\n\nOut[281]: \n            1  2  3  4  5   6   7\n2015-01-01  1  0  0  0  0   0   0\n2015-01-02  0  1  0  0  0   0   0\n2015-01-03  0  1  0  0  0   0   0\n2015-01-04  0  0  1  0  0   0   0\n2015-01-05  0  0  1  0  0   0   0\n2015-01-06  0  0  1  0  0   0   0\n2015-01-07  0  0  1  0  0   0   0\n2015-01-08  0  0  0  1  0   0   0\n...        .. .. .. .. ..  ..  ..\n2015-04-03  0  0  0  0  1 NaN NaN\n2015-04-04  0  0  0  0  1 NaN NaN\n2015-04-05  0  0  0  0  1 NaN NaN\n2015-04-06  0  0  0  0  1 NaN NaN\n2015-04-07  0  0  0  0  1 NaN NaN\n2015-04-08  0  0  0  0  1 NaN NaN\n2015-04-09  0  0  0  0  1 NaN NaN\n2015-04-10  0  0  0  0  1 NaN NaN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1867, "user_id": 3046539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcd78f63e02552d725edf368b4a6b45?s=128&d=identicon&r=PG&f=1", "display_name": "kennes", "link": "https://stackoverflow.com/users/3046539/kennes"}, "is_accepted": false, "score": 2, "last_activity_date": 1436453658, "last_edit_date": 1436453658, "creation_date": 1436401924, "answer_id": 31306177, "question_id": 31305769, "link": "https://stackoverflow.com/questions/31305769/python-pandas-generating-downward-filling-variables-in-dataframe/31306177#31306177", "title": "Python: Pandas generating downward filling variables in DataFrame", "body": "<p>I think it's easier to specify the number of times 2 is squared. </p>\n\n<p>I wrote a function to do this:</p>\n\n<pre><code>def square(d,m):\n\n    # m is 2^m, d is DataFrame\n\n    r = 0\n\n    for item in range(1,m+1):\n\n        r += int(pow(2,item))\n        d['S{}'.format(item)] = 0\n        d.ix[(r - int(pow(2,item))+1):r+1, 'S{}'.format(item)] = 1\n\n    return d\n\nOutput:\n\nIn [71]: data\nOut[71]: \n            S\n2011-01-26  1\n2011-01-27  0\n2011-01-28  0\n2011-01-29  0\n2011-01-30  0\n2011-01-31  0\n2011-02-01  0\n2011-02-02  0\n2011-02-03  0\n2011-02-04  0\n2011-02-05  0\n2011-02-06  0\n2011-02-07  0\n2011-02-08  0\n2011-02-09  0\n\nIn [72]: square(data,3)\nOut[72]: \n            S  S1  S2  S3\n2011-01-26  1   0   0   0\n2011-01-27  0   1   0   0\n2011-01-28  0   1   0   0\n2011-01-29  0   0   1   0\n2011-01-30  0   0   1   0\n2011-01-31  0   0   1   0\n2011-02-01  0   0   1   0\n2011-02-02  0   0   0   1\n2011-02-03  0   0   0   1\n2011-02-04  0   0   0   1\n2011-02-05  0   0   0   1\n2011-02-06  0   0   0   1\n2011-02-07  0   0   0   1\n2011-02-08  0   0   0   1\n2011-02-09  0   0   0   1\n</code></pre>\n\n<p><strong>UPDATED</strong>:</p>\n\n<pre><code>def square(d,m,chunk): \n\n    # chunk is number of rows your operating on\n\n    r = 0\n\n    for item in range(d.S.count()/chunk):\n\n        for item in range(1,m+1):\n\n            r += int(pow(2,item))\n\n            if 'S{}'.format(item) in d.columns:\n                d.ix[(r - int(pow(2,item))+1):r+1, 'S{}'.format(item)] = 1\n            else:\n                d['S{}'.format(item)] = 0\n                d.ix[(r - int(pow(2,item))+1):r+1, 'S{}'.format(item)] = 1\n        r = 0\n\n        r += chunk\n\n    return d\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>In [99]: data = pd.read_clipboard()\n\nIn [100]: data\nOut[100]: \n            S\n2011-01-26  1\n2011-01-27  0\n2011-01-28  0\n2011-01-29  0\n2011-01-30  0\n2011-01-31  0\n2011-02-01  0\n2011-02-02  0\n2011-02-03  0\n2011-02-04  0\n2011-02-05  0\n2011-02-06  0\n2011-02-07  0\n2011-02-08  0\n2011-02-09  0\n2011-04-26  1\n2011-04-27  0\n2011-04-28  0\n2011-04-29  0\n2011-04-30  0\n2011-04-31  0\n2011-05-01  0\n2011-05-02  0\n2011-05-03  0\n2011-05-04  0\n2011-05-05  0\n2011-05-06  0\n2011-05-07  0\n2011-05-08  0\n2011-05-09  0\n\nIn [101]: square(data,3,15)\nOut[101]: \n            S  S1  S2  S3\n2011-01-26  1   0   0   0\n2011-01-27  0   1   0   0\n2011-01-28  0   1   0   0\n2011-01-29  0   0   1   0\n2011-01-30  0   0   1   0\n2011-01-31  0   0   1   0\n2011-02-01  0   0   1   0\n2011-02-02  0   0   0   1\n2011-02-03  0   0   0   1\n2011-02-04  0   0   0   1\n2011-02-05  0   0   0   1\n2011-02-06  0   0   0   1\n2011-02-07  0   0   0   1\n2011-02-08  0   0   0   1\n2011-02-09  0   0   0   1\n2011-04-26  1   0   0   0\n2011-04-27  0   1   0   0\n2011-04-28  0   1   0   0\n2011-04-29  0   0   1   0\n2011-04-30  0   0   1   0\n2011-04-31  0   0   1   0\n2011-05-01  0   0   1   0\n2011-05-02  0   0   0   1\n2011-05-03  0   0   0   1\n2011-05-04  0   0   0   1\n2011-05-05  0   0   0   1\n2011-05-06  0   0   0   1\n2011-05-07  0   0   0   1\n2011-05-08  0   0   0   1\n2011-05-09  0   0   0   1\n</code></pre>\n"}], "owner": {"reputation": 3258, "user_id": 1418224, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7feecc0d2234310c68ee0f57e2abae55?s=128&d=identicon&r=PG", "display_name": "Plug4", "link": "https://stackoverflow.com/users/1418224/plug4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 31305958, "answer_count": 2, "score": 2, "last_activity_date": 1436453658, "creation_date": 1436399152, "last_edit_date": 1436401386, "question_id": 31305769, "link": "https://stackoverflow.com/questions/31305769/python-pandas-generating-downward-filling-variables-in-dataframe", "title": "Python: Pandas generating downward filling variables in DataFrame", "body": "<p>I have the following DataFrame <code>df</code>:</p>\n\n<pre><code>                S   \n2011-01-26      1\n2011-01-27      0\n2011-01-28      0\n2011-01-29      0\n2011-01-30      0\n2011-01-31      0\n2011-02-01      0\n2011-02-02      0\n2011-02-03      0\n2011-02-04      0\n2011-02-05      0\n2011-02-06      0\n2011-02-07      0\n2011-02-08      0\n2011-02-09      0\n</code></pre>\n\n<p>I am trying to generate the following DataFrame from <code>df</code>:</p>\n\n<pre><code>                S  S1 S2 S3   \n2011-01-26      1  0  0  0\n2011-01-27      0  1  0  0\n2011-01-28      0  1  0  0\n2011-01-29      0  0  1  0\n2011-01-30      0  0  1  0\n2011-01-31      0  0  1  0\n2011-02-01      0  0  1  0\n2011-02-02      0  0  0  1\n2011-02-03      0  0  0  1\n2011-02-04      0  0  0  1\n2011-02-05      0  0  0  1\n2011-02-06      0  0  0  1\n2011-02-07      0  0  0  1\n2011-02-08      0  0  0  1\n2011-02-09      0  0  0  1\n</code></pre>\n\n<p>You can see that the number of <code>1</code> in each columns increases downward by a multiple of 2. Is there in Pandas a function, like <code>fillna</code> for which I can specify to fill downwards for <em>x</em> rows?</p>\n\n<p><strong>UPDATE</strong>\nIn fact, I have a more complicated task.</p>\n\n<p>If this is my <code>df</code>:</p>\n\n<pre><code>                S   \n2011-01-26      1\n2011-01-27      0\n2011-01-28      0\n2011-01-29      0\n2011-01-30      0\n2011-01-31      0\n2011-02-01      0\n2011-02-02      0\n2011-02-03      0\n2011-02-04      0\n2011-02-05      0\n2011-02-06      0\n2011-02-07      0\n2011-02-08      0\n2011-02-09      0\n...         (all zeros)\n                    S   \n2011-04-26      1\n2011-04-27      0\n2011-04-28      0\n2011-04-29      0\n2011-04-30      0\n2011-04-31      0\n2011-05-01      0\n2011-05-02      0\n2011-05-03      0\n2011-05-04      0\n2011-05-05      0\n2011-05-06      0\n2011-05-07      0\n2011-05-08      0\n2011-05-09      0\n</code></pre>\n\n<p>and I need this:</p>\n\n<pre><code>                S  S1 S2 S3   \n2011-01-26      1  0  0  0\n2011-01-27      0  1  0  0\n2011-01-28      0  1  0  0\n2011-01-29      0  0  1  0\n2011-01-30      0  0  1  0\n2011-01-31      0  0  1  0\n2011-02-01      0  0  1  0\n2011-02-02      0  0  0  1\n2011-02-03      0  0  0  1\n2011-02-04      0  0  0  1\n2011-02-05      0  0  0  1\n2011-02-06      0  0  0  1\n2011-02-07      0  0  0  1\n2011-02-08      0  0  0  1\n2011-02-09      0  0  0  1\nall zeros every where\n                    S  S1 S2 S3   \n2011-04-26      1  0  0  0\n2011-04-27      0  1  0  0\n2011-04-28      0  1  0  0\n2011-04-29      0  0  1  0\n2011-04-30      0  0  1  0\n2011-04-31      0  0  1  0\n2011-05-01      0  0  1  0\n2011-05-02      0  0  0  1\n2011-05-03      0  0  0  1\n2011-05-04      0  0  0  1\n2011-05-05      0  0  0  1\n2011-05-06      0  0  0  1\n2011-05-07      0  0  0  1\n2011-05-08      0  0  0  1\n2011-05-09      0  0  0  1\n</code></pre>\n"}, {"tags": ["python", "email"], "comments": [{"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 0, "creation_date": 1436399880, "post_id": 31305754, "comment_id": 50601243, "body": "What is the actual <i>junk text</i> you are referring to?"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436400227, "post_id": 31305754, "comment_id": 50601330, "body": "Is your e-mail a multipart message? I.e. does it have an attachment or image or custom background or unusual font or something like that"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436401687, "post_id": 31305754, "comment_id": 50601707, "body": "Did you use m.get_payload(decode=True)???"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436447398, "post_id": 31306668, "comment_id": 50624070, "body": "Thanks, I&#39;ll try the decode=true but I think it&#39;s both that and the missing handling of multiparty that&#39;s giving me trouble!"}, {"owner": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436887276, "post_id": 31306668, "comment_id": 50794706, "body": "I have tried to use the decode=True but every time it only produces a none and never anything of value"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436908204, "post_id": 31306668, "comment_id": 50807438, "body": "See if msg.is_multipart()==True because if it is, then msg.get_payload(0) will give you everything in 0 part. Did you try my code? If my code gives you odd results as well, then something big is off. From which mailer are the messages you&#39;re trying to read? Will you put some of your code here?"}, {"owner": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436911453, "post_id": 31306668, "comment_id": 50808874, "body": "I think the issue is that the mailers are all different, I&#39;ll post what I have!"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436914809, "post_id": 31306668, "comment_id": 50810128, "body": "I edited my code. Found some time and added comments, so, now it makes a little more sense. Your code, essentially, should produce OK output, although it is not done as you did it. See my code, entering nested multipart is done recursively. First save yourself one email, not multipart, to play with normal get_payload(decode=True), then this function call recursively on all parts."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436914916, "post_id": 31306668, "comment_id": 50810171, "body": "If you wish, you can easily change my code not to use message_from_file(), and use message_from_bytes() or *_string(). Or you can push StringIO() with your message to it."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436915706, "post_id": 31306668, "comment_id": 50810404, "body": "Or maybe it will not. You used a for loop over get_payload() and inside it body = ... What means that body will be None for part which is nNone, if that&#39;s something implemented. E.g. for last part. Why didn&#39;t you use for subsubpart in subpart.walk()? In any case don&#39;t do it that way. Use recursion! Different mailers shouldn&#39;t be a problem. E-mail&#39;s are pretty standardized, although some discrepancies between Mac OS X Mail and others may occur around attachments."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1436915916, "post_id": 31306668, "comment_id": 50810468, "body": "Which version of Python are you using?"}, {"owner": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1437064139, "post_id": 31306668, "comment_id": 50886258, "body": "I am using python 3, I figure it out based on your recommendations and its working fine now! (I struggled with the from_bytes/from_string for a while)"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "edited": false, "score": 0, "creation_date": 1437068967, "post_id": 31306668, "comment_id": 50888924, "body": "Excellent! Sorry if / confused you. Python 2 has message_from_string(), Python&#39;s 3 equivalent is message_from_bytes(). That is what I ment."}], "tags": [], "owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "is_accepted": false, "score": 0, "last_activity_date": 1436918907, "last_edit_date": 1436918907, "creation_date": 1436405627, "answer_id": 31306668, "question_id": 31305754, "link": "https://stackoverflow.com/questions/31305754/accessing-only-the-body-of-an-email-using-python/31306668#31306668", "title": "Accessing only the body of an email using python", "body": "<pre><code>\n\nfrom email import message_from_file\nimport os\n\n# Path to directory where attachments will be stored:\npath = \"./msgfiles\"\n\n# To have attachments extracted into memory, change behaviour of 2 following functions:\n\ndef file_exists (f):\n    \"\"\"Checks whether extracted file was extracted before.\"\"\"\n    return os.path.exists(os.path.join(path, f))\n\ndef save_file (fn, cont):\n    \"\"\"Saves cont to a file fn\"\"\"\n    file = open(os.path.join(path, fn), \"wb\")\n    file.write(cont)\n    file.close()\n\ndef construct_name (id, fn):\n    \"\"\"Constructs a file name out of messages ID and packed file name\"\"\"\n    id = id.split(\".\")\n    id = id[0]+id[1]\n    return id+\".\"+fn\n\ndef disqo (s):\n    \"\"\"Removes double or single quotations.\"\"\"\n    s = s.strip()\n    if s.startswith(\"'\") and s.endswith(\"'\"): return s[1:-1]\n    if s.startswith('\"') and s.endswith('\"'): return s[1:-1]\n    return s\n\ndef disgra (s):\n    \"\"\"Removes &lt; and &gt; from HTML-like tag or e-mail address or e-mail ID.\"\"\"\n    s = s.strip()\n    if s.startswith(\"&lt;\") and s.endswith(\"&gt;\"): return s[1:-1]\n    return s\n\ndef pullout (m, key):\n    \"\"\"Extracts content from an e-mail message.\n    This works for multipart and nested multipart messages too.\n    m   -- email.Message() or mailbox.Message()\n    key -- Initial message ID (some string)\n    Returns tuple(Text, Html, Files, Parts)\n    Text  -- All text from all parts.\n    Html  -- All HTMLs from all parts\n    Files -- Dictionary mapping extracted file to message ID it belongs to.\n    Parts -- Number of parts in original message.\n    \"\"\"\n    Html = \"\"\n    Text = \"\"\n    Files = {}\n    Parts = 0\n    if not m.is_multipart():\n        if m.get_filename(): # It's an attachment\n            fn = m.get_filename()\n            cfn = construct_name(key, fn)\n            Files[fn] = (cfn, None)\n            if file_exists(cfn): return Text, Html, Files, 1\n            save_file(cfn, m.get_payload(decode=True))\n            return Text, Html, Files, 1\n        # Not an attachment!\n        # See where this belongs. Text, Html or some other data:\n        cp = m.get_content_type()\n        if cp==\"text/plain\": Text += m.get_payload(decode=True)\n        elif cp==\"text/html\": Html += m.get_payload(decode=True)\n        else:\n            # Something else!\n            # Extract a message ID and a file name if there is one:\n            # This is some packed file and name is contained in content-type header\n            # instead of content-disposition header explicitly\n            cp = m.get(\"content-type\")\n            try: id = disgra(m.get(\"content-id\"))\n            except: id = None\n            # Find file name:\n            o = cp.find(\"name=\")\n            if o==-1: return Text, Html, Files, 1\n            ox = cp.find(\";\", o)\n            if ox==-1: ox = None\n            o += 5; fn = cp[o:ox]\n            fn = disqo(fn)\n            cfn = construct_name(key, fn)\n            Files[fn] = (cfn, id)\n            if file_exists(cfn): return Text, Html, Files, 1\n            save_file(cfn, m.get_payload(decode=True))\n        return Text, Html, Files, 1\n    # This IS a multipart message.\n    # So, we iterate over it and call pullout() recursively for each part.\n    y = 0\n    while 1:\n        # If we cannot get the payload, it means we hit the end:\n        try:\n            pl = m.get_payload(y)\n        except: break\n        # pl is a new Message object which goes back to pullout\n        t, h, f, p = pullout(pl, key)\n        Text += t; Html += h; Files.update(f); Parts += p\n        y += 1\n    return Text, Html, Files, Parts\n\ndef extract (msgfile, key):\n    \"\"\"Extracts all data from e-mail, including From, To, etc., and returns it as a dictionary.\n    msgfile -- A file-like readable object\n    key     -- Some ID string for that particular Message. Can be a file name or anything.\n    Returns dict()\n    Keys: from, to, subject, date, text, html, parts[, files]\n    Key files will be present only when message contained binary files.\n    For more see __doc__ for pullout() and caption() functions.\n    \"\"\"\n    m = message_from_file(msgfile)\n    From, To, Subject, Date = caption(m)\n    Text, Html, Files, Parts = pullout(m, key)\n    Text = Text.strip(); Html = Html.strip()\n    msg = {\"subject\": Subject, \"from\": From, \"to\": To, \"date\": Date,\n        \"text\": Text, \"html\": Html, \"parts\": Parts}\n    if Files: msg[\"files\"] = Files\n    return msg\n\ndef caption (origin):\n    \"\"\"Extracts: To, From, Subject and Date from email.Message() or mailbox.Message()\n    origin -- Message() object\n    Returns tuple(From, To, Subject, Date)\n    If message doesn't contain one/more of them, the empty strings will be returned.\n    \"\"\"\n    Date = \"\"\n    if origin.has_key(\"date\"): Date = origin[\"date\"].strip()\n    From = \"\"\n    if origin.has_key(\"from\"): From = origin[\"from\"].strip()\n    To = \"\"\n    if origin.has_key(\"to\"): To = origin[\"to\"].strip()\n    Subject = \"\"\n    if origin.has_key(\"subject\"): Subject = origin[\"subject\"].strip()\n    return From, To, Subject, Date\n\n</code></pre>\n\n<pre><code>Usage:\nf = open(\"message.eml\", \"rb\")\nprint extract(f, f.name)\nf.close()\n</code></pre>\n\n<p>I programmed this for my mailgroup using mailbox, that is why it is so convoluted. It never failed me. Never any junk. If message is multipart, output dictionary will contain a key \"files\" (a sub dict) with all filenames of extracted other files that were not text or html. That was a way of extracting attachments and other binary data. You may change it in pullout(), or just change the behaviour of file_exists() and save_file(). construct_name() constructs a filename out of message id and multipart message filename, if there is one. Maybe there are some errors here, because it is intended to work with mailbox.Message, not with email.Message. But this is all I have at the moment, and cannot tell you more, until you provide us with more info. Maybe you just forgot decode=True and are getting some rfc822 junky crappy end of file.</p>\n"}], "owner": {"reputation": 1, "user_id": 5096197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b31c5824364c2e70ba8b37c3b7f62805?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5096197/connor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 788, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436918907, "creation_date": 1436399109, "last_edit_date": 1436911735, "question_id": 31305754, "link": "https://stackoverflow.com/questions/31305754/accessing-only-the-body-of-an-email-using-python", "title": "Accessing only the body of an email using python", "body": "<p>I am trying to access only the body of an email and have managed to get this using the email module and the email.getpayload() function. The only issue is that there seems to be 'junk text' that shows up and it seems to be in a different format, amount and content depending on who sends the email. Is there a way to access only the true body of an email? thanks!</p>\n\n<p>This is what I have:</p>\n\n<pre><code>msg = email.message_from_bytes(data[0][1])\n    body = ''\n    if msg.is_multipart():\n        for part in msg.walk():\n            if part.is_multipart():\n                for subpart in part.get_payload():\n                    if subpart.is_multipart():\n                        for subsubpart in subpart.get_payload():\n                            body = body +     str(subsubpart.get_payload(decode=True)) + '\\n'\n                    else:\n                        body = body + str(subpart.get_payload(decode=True)) + '\\n'\n            else:\n                body = body + str(part.get_payload(decode=True)) + '\\n'\n\n    else:\n        body = body + str(msg.get_payload(decode=True)) + '\\n'\n</code></pre>\n"}, {"tags": ["python", "nltk", "pickle"], "comments": [{"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436406919, "post_id": 31305741, "comment_id": 50602938, "body": "I advice you to use cPickle instead. You can just &quot;import cPickle as pickle&quot;. Then, I also advice to use separate files for each class, or store them into a dictionary which you will pickle. Once they are loaded separately they are references and you can do whatever you want with them very fast. Your question is a little bit vague, so please clarify a bit more."}, {"owner": {"reputation": 27, "user_id": 5033932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b9e06a828a9c1e2284cb4fad7039a97?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad  Zaki", "link": "https://stackoverflow.com/users/5033932/ahmad-zaki"}, "reply_to_user": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436407777, "post_id": 31305741, "comment_id": 50603166, "body": "act the coding in my question is not from the same file. I pick snipped code from them and combine to show the pickle and load data. I have 2 file that I use pickle. I want to load from the 2 file simultaneously in another as in my second part of coding. Did i clarify what im trying to do with this?"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436409369, "post_id": 31305741, "comment_id": 50603534, "body": "Maybe you can call pickle.load() on same file multiple times, but then the mode for writing file in which you will dump have to be &quot;wb+&quot;, not &quot;wb&quot;. Even if pickle does not object to multiple loads, I stil don&#39;t really get what do you wish to achieve with this."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436409587, "post_id": 31305741, "comment_id": 50603582, "body": "This code loads twice from same file, and dums twice into same file. I just realized, &quot;wb+&quot; was a mistake, if you are doing it at the same time. Sorry. My brain is fuzzy. But, this will not intersect your classes if this is what you want. Anyway, when you say class, you mean object or real class?"}, {"owner": {"reputation": 27, "user_id": 5033932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b9e06a828a9c1e2284cb4fad7039a97?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad  Zaki", "link": "https://stackoverflow.com/users/5033932/ahmad-zaki"}, "reply_to_user": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436411019, "post_id": 31305741, "comment_id": 50603919, "body": "what i mean is act class not object. In my code you can l see I try to open two different pickle which come from different class. First is &#39;testClassify.pickle&#39; and the second is &#39;data.pickle&#39;. So my question is can I open and load different pickle data coming from different class. Im doing this in another different class, a new class to test classify. So, that&#39;s why i just load the pickle in the second part of the coding in my question."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436413485, "post_id": 31305741, "comment_id": 50604488, "body": "Then you have a problem. You cannot pickle classes or functions. Pickle is a serialized shallow copy of an object or data structure. Instantiate your classes, do some magic with those objects, pickle/unpickle them, and you will be fine."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436413515, "post_id": 31305741, "comment_id": 50604498, "body": "&#184;When you pickle class or function, you get just a note to use class which must already exist as such. When you pickle an object, you get a note to use class which must already exist as a template, it gets instantiated and filled with data stored in a pickle. Did you saw your dumped files? If you&#39;re trying to store a class in them, they&#39;ll be just one line. Or Python 3 knows some more pickling magic than 2."}, {"owner": {"reputation": 27, "user_id": 5033932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b9e06a828a9c1e2284cb4fad7039a97?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad  Zaki", "link": "https://stackoverflow.com/users/5033932/ahmad-zaki"}, "reply_to_user": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436420738, "post_id": 31305741, "comment_id": 50606758, "body": "I did not store class in the pickle. featureList and final are a list, classifier is an object, key_word is a String data type data. I did not get any error when I try to pickle from 2 different class, just that the second time I try open and load different pickle. I cant obtained the data. So from your opinion, I can load from 2 different pickle at the same time if the data type is right?"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436480330, "post_id": 31305741, "comment_id": 50644436, "body": "As I said, dumping more objects (never mind which) in series to the same file might work in theory, loading as well. Maybe not just like you imagined (directly), perhaps you will have to know some dirty tricks to fool the picle module. The thing is that each dump produces completely new pickle. I will try it tonight and let you know."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436480379, "post_id": 31305741, "comment_id": 50644454, "body": "But in the general, the answer is no. You pickle each object in a new file, and load each from different files. Or you put all you want to pickle inside a dictionary and pickle it. When you unpickle, you get the dictionary with all objects at the same time. Then, you take from it all you need, and put data where you need."}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "edited": false, "score": 0, "creation_date": 1436480430, "post_id": 31305741, "comment_id": 50644465, "body": "Or you use pickle.loads() and pickle.dumps() to get your objects pickled as strings and then construct your output file as you wish, so that you can store multiple pickles and load them from it. You can do wanders. Eg. store your pickles in a ZIP archive. They will be on the same place if that is what you want. There is definitely no need to classify all dataon on every run."}], "owner": {"reputation": 27, "user_id": 5033932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b9e06a828a9c1e2284cb4fad7039a97?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmad  Zaki", "link": "https://stackoverflow.com/users/5033932/ahmad-zaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436412152, "creation_date": 1436399015, "last_edit_date": 1436412152, "question_id": 31305741, "link": "https://stackoverflow.com/questions/31305741/load-data-using-pickle-from-2-different-class", "title": "Load data using pickle from 2 different class", "body": "<p>I am new to python and i learned about pickle to pass data between classes. I have 2 different class, the first one is classifier class where i want to train and classify all my data set. The data set is quite large which contains 50k of tweets and I classify using nltk naive bayes classsifier. I have another data from different class that i pickle and i want to load it in the same class.</p>\n\n<p>I had try to load data from other class into the classifier class. Then i pickle all the data together with the classifier. I manage to do this but I want to avoid having to classify my data set every time I run my system.</p>\n\n<p>This is how I load data from the other class and pickle it back together with the classifier.</p>\n\n<pre><code>#This is the snipped coding in my first class\nk = open('key_word1.pickle','wb')\npickle.dump(key_word,k)\npickle.dump(final,k)\n#print(key_word)\nk.close()\n\n\n\n#This is snipped coding in my second class\nimport pickle\nj = open('key_word1.pickle','rb')\nkey_word = pickle.load(j)\nfinal = pickle.load(j)\n#print(key_word)\n#print(final)\nj.close()\n\nf = open('data.pickle', 'wb')\npickle.dump(featureList, f)\npickle.dump(classifier, f)\npickle.dump(key_word, f)\npickle.dump(final, f)\n#print(classifier)\nf.close()\n\n#this is snipped coding in my third class\n#i load pickle from second class that have combine with first class pickle\nf = open('data.pickle', 'rb')\nfeatureList = pickle.load(f)\ndata = pickle.load(f)\nkey_word = pickle.load(f)\nfinal = pickle.load(f)\nf.close()\n</code></pre>\n\n<p>Can I do something like this instead to avoid my data having to go through the second class every time I run my system? I have try it and i think can only load from one pickle at a time and the other load pickle will be ignored. Or maybe I done something wrong in my coding.</p>\n\n<pre><code>#I try to load from first class and second class at the same time\n\nimport pickle\nj = open('key_word1.pickle','rb')\nkey_word = pickle.load(j)\nfinal = pickle.load(j)\n#print(key_word)\n#print(final)\nj.close()\n\n\nf = open('data.pickle', 'rb')\nfeatureList = pickle.load(f)\ndata = pickle.load(f)\nf.close()\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy", "sparse-matrix", "matrix-multiplication"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436399679, "post_id": 31305686, "comment_id": 50601185, "body": "Could you turn this into an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> by giving some example parameters (<code>x0, theta, T, m</code>)? It would also be helpful if you chained together the relevant function calls in a short script to make it easier to for others to replicate."}, {"owner": {"reputation": 357, "user_id": 4183053, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb565c952af3b94c361800c1427508cf?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4183053/james"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436400186, "post_id": 31305686, "comment_id": 50601321, "body": "Hey, cheers for the reply. I have edited with my example parameters, but theta, T and m havent even been introduced into the problem yet as i realised i was getting this error before. x0 is just the domain [0,1] divided non-uniformly"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436401389, "post_id": 31305686, "comment_id": 50601617, "body": "I can&#39;t reproduce what you&#39;re seeing - I get  a vector of length <code>(6,)</code> for <code>Iteration</code>. Please could you edit your code to show all your import statements."}, {"owner": {"reputation": 357, "user_id": 4183053, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb565c952af3b94c361800c1427508cf?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4183053/james"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436402585, "post_id": 31305686, "comment_id": 50601915, "body": "Done, that is now all of the code in my file"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1436403345, "post_id": 31305686, "comment_id": 50602087, "body": "By the way, for me <code>np.dot(Mass - Stiffness,U0)</code> raises a <code>ValueError: setting an array element with a sequence.</code> For my versions of numpy (1.9.2) and scipy (0.15.1) <code>np.dot</code> doesn&#39;t properly support sparse arrays. That line can be replaced by <code>(Mass - Stiffness).dot(U0)</code> or <code>(Mass - Stiffness) * U0</code>, in which case I get a <code>(6,)</code> vector as I mentioned above."}, {"owner": {"reputation": 357, "user_id": 4183053, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb565c952af3b94c361800c1427508cf?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4183053/james"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436403502, "post_id": 31305686, "comment_id": 50602129, "body": "Ahh that was it! Thank you SO much. Annoying i didnt realise that"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436403816, "post_id": 31305686, "comment_id": 50602211, "body": "You didn&#39;t mention <i>anything</i> about a <code>ValueError</code> in your question! If that was the problem then you should have said so, rather than wasting my time trying to replicate a totally different issue."}, {"owner": {"reputation": 357, "user_id": 4183053, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb565c952af3b94c361800c1427508cf?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4183053/james"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436404129, "post_id": 31305686, "comment_id": 50602298, "body": "It didn&#39;t say Value error at all, the whole terminal output i pasted at the top of the screen. But i just changed it to the .dot(U) and it worked. Sorry anyway :)"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436404384, "post_id": 31305686, "comment_id": 50602348, "body": "Then either the code you&#39;re running differs from what&#39;s above, or there&#39;s some difference between your Python environment and mine, because I definitely can&#39;t reproduce the output you showed in your question."}], "owner": {"reputation": 357, "user_id": 4183053, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fb565c952af3b94c361800c1427508cf?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/4183053/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436402530, "creation_date": 1436398642, "last_edit_date": 1436402530, "question_id": 31305686, "link": "https://stackoverflow.com/questions/31305686/python-matrix-multiplication-error", "title": "Python: Matrix multiplication error", "body": "<p>I found two matrices (Mass and Stiffness) using the <code>scipy.sparse.diags</code> function and took one away from the other (Mass - Stiffness). When trying to multiply this new matrix by a vector <code>U0</code> I am getting the following </p>\n\n<pre><code>[ &lt;6x6 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\nwith 16 stored elements in Compressed Sparse Row format&gt;\n &lt;6x6 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\nwith 16 stored elements in Compressed Sparse Row format&gt;\n &lt;6x6 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\nwith 16 stored elements in Compressed Sparse Row format&gt;\n &lt;6x6 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\nwith 16 stored elements in Compressed Sparse Row format&gt;\n &lt;6x6 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\nwith 16 stored elements in Compressed Sparse Row format&gt;\n &lt;6x6 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\nwith 16 stored elements in Compressed Sparse Row format&gt;]\n</code></pre>\n\n<p>I don't really understand this result - am I getting an 1D array of 6 matrices? If so, why am I getting this and not a simple vector?</p>\n\n<p>The following is the code for creating the mass / stiffness matrix, finding <code>U0</code> and then the dot product</p>\n\n<pre><code>import numpy as np\nimport math\nimport scipy\nfrom scipy.sparse import diags\nimport scipy.sparse.linalg\nimport matplotlib\nimport matplotlib.pyplot as plt\n\n\ndef Mass_Matrix(x0):\n    \"\"\"Finds the Mass matrix for any non uniform mesh x0\"\"\"\n    x0 = np.array(x0)\n    N = len(x0) - 1\n    h = x0[1:] - x0[:-1]\n    a = np.zeros(N+1)\n    a[0] = 1\n    for j in range(1,N):\n        a[j] = h[j-1]/3 + h[j]/3\n    a[N] = 1\n    b = h/6\n    b[0] = 0\n    c = h/6\n    c[-1] = 0\n    data = [a.tolist(), b.tolist(), c.tolist()]\n    Positions = [0,1,-1]\n    Mass_Matrix = diags(data, Positions, (N+1,N+1))\n\n    return Mass_Matrix\n\ndef Poisson_Stiffness(x0):\n    \"\"\"Finds the Poisson equation stiffness matrix with any nonuniform mesh x0\"\"\"\n    x0 = np.array(x0)\n    N = len(x0) - 1 # The amount of elements; x0, x1, ..., xN\n    h = x0[1:] - x0[:-1]\n    a = np.zeros(N+1)\n    a[0] = 1/h[0]\n    a[1:-1] = 1/h[1:] + 1/h[:-1]\n    a[-1] = 1/h[-1]\n    a[N] = 1/h[N-1]\n    b = -1/h\n    c = -1/h\n    data = [a.tolist(), b.tolist(), c.tolist()]\n    Positions = [0, 1, -1]\n    Stiffness_Matrix = diags(data, Positions, (N+1,N+1))\n\n    return Stiffness_Matrix\n\ndef Nodal_Quadrature_f(x0):\n    \"\"\"Finds the Nodal Quadrature Approximation of sin(pi x)\"\"\"\n    x0 = np.array(x0)\n    h = x0[1:] - x0[:-1]\n    N = len(x0) - 1\n    approx = np.zeros(len(x0))\n    for i in range(1,N):\n        approx[i] = math.sin(math.pi*x0[i])\n        approx[i] = (approx[i]*h[i-1] + approx[i]*h[i])/2\n\n    return approx\n\ndef Initial_U(x0): \n    \"\"\"Finds the initial U0\"\"\"\n    x0 = np.array(x0)\n    h = x0[1:] - x0[:-1]\n    N = len(x0) - 1\n    Mass = Mass_Matrix(x0)\n    u0phi = Nodal_Quadrature_f(x0)\n    U0 = scipy.sparse.linalg.spsolve(Mass, u0phi)\n\n    return U0\n\ndef timestepping(x0,theta,T,m):\n\n    x0 = np.array(x0)\n    h = x0[1:] - x0[:-1]\n    N = len(x0) - 1\n    dt = T/m\n    U0 = np.array(Initial_U(x0))\n    Mass = Mass_Matrix(x0)\n    Stiffness = Poisson_Stiffness(x0)\n    Iteration =  np.dot(Mass - Stiffness,U0)\n\n    print Iteration\n</code></pre>\n\n<p>I will appreciate any help as I've been stuck on this for a few hours now.</p>\n\n<p>EDIT: Some added information</p>\n\n<p>the 6x6 matrix from the top is recieved after i call \ntimestepping([0,0.2,0.5,0.6,0.9,1], 1, 1, 5) </p>\n\n<p>i.e. x0 is just a partition of the doman 0 to 1. Theta, T and m are all irrelevant as i havent added it into the function yet.</p>\n"}, {"tags": ["python", "arrays", "numpy", "concatenation"], "comments": [{"owner": {"reputation": 8002, "user_id": 2121597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o31zM.png?s=128&g=1", "display_name": "farenorth", "link": "https://stackoverflow.com/users/2121597/farenorth"}, "edited": false, "score": 0, "creation_date": 1436408083, "post_id": 31305622, "comment_id": 50603238, "body": "You have not clearly explained what is going wrong."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1436413344, "post_id": 31305622, "comment_id": 50604453, "body": "What&#39;s the shape of the larger arrays.  All <code>vstack</code> does is make sure the inputs are all 2d, i.e by passing them through <code>atleast_2d(_m)</code>."}, {"owner": {"reputation": 3, "user_id": 5071612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493ea1ba9a3bf0470f28e38e4c7f2009?s=128&d=identicon&r=PG&f=1", "display_name": "Trogdor", "link": "https://stackoverflow.com/users/5071612/trogdor"}, "edited": false, "score": 0, "creation_date": 1436460812, "post_id": 31305622, "comment_id": 50633926, "body": "hpaulj, the larger arrays are 1d, unless there is something I am completely missing.  I added more example code that includes the larger arrays as well, let me know if there is other clarification needed."}], "owner": {"reputation": 3, "user_id": 5071612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/493ea1ba9a3bf0470f28e38e4c7f2009?s=128&d=identicon&r=PG&f=1", "display_name": "Trogdor", "link": "https://stackoverflow.com/users/5071612/trogdor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 469, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436460612, "creation_date": 1436398331, "last_edit_date": 1495541645, "question_id": 31305622, "link": "https://stackoverflow.com/questions/31305622/why-does-numpy-concatenate-work-along-axis-1-for-small-one-dimensional-arrays-b", "title": "Why does numpy.concatenate work along axis=1 for small one dimensional arrays, but not larger ones?", "body": "<p>I couldn't get my 4 arrays of year, day of year, hour, and minute to concatenate the way I wanted, so I decided to test several variations on shorter arrays than my data.</p>\n\n<p>I found that it worked using method \"t\" from my test code:</p>\n\n<pre><code>import numpy as np\n\na=np.array([[1, 2, 3, 4, 5, 6]])\nb=np.array([[11, 12, 13, 14, 15, 16]])\nc=np.array([[21, 22, 23, 24, 25, 26]])\nd=np.array([[31, 32, 33, 34, 35, 36]])\n\nprint a\nprint b\nprint c\nprint d\n\nq=np.concatenate((a, b, c, d), axis=0)\n#concatenation along 1st axis\nprint q\n\nt=np.concatenate((a.T, b.T, c.T, d.T), axis=1)\n#transpose each array before concatenation along 2nd axis\nprint t\n\nx=np.concatenate((a, b, c, d), axis=1)\n#concatenation along 2nd axis\nprint x\n</code></pre>\n\n<p>But when I tried this with the larger arrays it behaved the same as method \"q\".  </p>\n\n<p>I found an alternative approach of using vstack <a href=\"https://stackoverflow.com/questions/14482696/concatenate-two-one-dimensional-to-two-columns-array\">over here</a> that did what I wanted, but I am trying to figure out why concatenation sometimes works for this, but not always.</p>\n\n<p>Thanks for any insights.</p>\n\n<p>Also, here are the outputs of the code:</p>\n\n<p><strong>q:</strong></p>\n\n<pre><code>[[ 1  2  3  4  5  6]    \n [11 12 13 14 15 16]    \n [21 22 23 24 25 26]\n [31 32 33 34 35 36]]\n</code></pre>\n\n<p><strong>t:</strong></p>\n\n<pre><code>[[ 1 11 21 31]\n [ 2 12 22 32]\n [ 3 13 23 33]\n [ 4 14 24 34]\n [ 5 15 25 35]\n [ 6 16 26 36]]\n</code></pre>\n\n<p><strong>x:</strong></p>\n\n<pre><code>[[ 1  2  3  4  5  6 11 12 13 14 15 16 21 22 23 24 25 26 31 32 33 34 35 36]]\n</code></pre>\n\n<p><strong>EDIT:</strong> I added method t to the end of a section of the code that was already fixed with vstack, so you can compare how vstack will work with this data but not concatenate.  Again, to clarify, I found a workaround already, but I don't know why the concatenate method doesn't seem to be consistent.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import numpy as np\n\n\nBAO10m=np.genfromtxt('BAO_010_2015176.dat', delimiter=\",\", usecols=range(0-6), dtype=[('h', int), ('year', int), ('day', int), ('time', int), ('temp', float)])\n#10 meter weather readings at BAO tower site for June 25, 2015\n\nhourBAO=BAO10m['time']/100\nminuteBAO=BAO10m['time']%100\n#print hourBAO\n#print minuteBAO\n#time arrays\n\ndayBAO=BAO10m['day']\nyearBAO=BAO10m['year']\n#date arrays\n\ndatetimeBAO=np.vstack((yearBAO, dayBAO, hourBAO, minuteBAO))\n#t=np.concatenate((a.T, b.T, c.T, d.T), axis=1)  &lt;this gave desired results in simple tests\n#not working for this data, use vstack instead, with transposition after stack\nprint datetimeBAO\ntest=np.transpose(datetimeBAO)\n#rotate array\nprint test\n#this prints something that can be used for datetime\n\nt=np.concatenate((yearBAO.T, dayBAO.T, hourBAO.T, minuteBAO.T), axis=1)\nprint t\n#this prints a 1D array of all the year values, then all the day values, etc...\n#but this method worked for shorter 1D arrays\n</code></pre>\n\n<p>The file I used can be found at <a href=\"ftp://ftp1.esrl.noaa.gov/psd3/bao/Tower/Processed/daily/\" rel=\"nofollow noreferrer\">this site.</a></p>\n"}, {"tags": ["python", "unicode"], "answers": [{"tags": [], "owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "is_accepted": false, "score": 2, "last_activity_date": 1436398964, "creation_date": 1436398964, "answer_id": 31305728, "question_id": 31305616, "link": "https://stackoverflow.com/questions/31305616/how-to-add-unicode-character-before-a-string-python/31305728#31305728", "title": "How to add unicode character before a string? [Python]", "body": "<p><code>unicode(your_string)</code> does just what you need, i believe.</p>\n\n<pre><code>&gt;&gt;&gt; unicode(\"Hello world\"!)\nu\"Hello world!\"\n&gt;&gt;&gt; print (unicode(\"Hello world\"!))\n\"Hello world!\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 11, "last_activity_date": 1436398970, "creation_date": 1436398970, "answer_id": 31305731, "question_id": 31305616, "link": "https://stackoverflow.com/questions/31305616/how-to-add-unicode-character-before-a-string-python/31305731#31305731", "title": "How to add unicode character before a string? [Python]", "body": "<p>You could decode:</p>\n\n<pre><code>lst = ['blahblah', 'boy', 'cool']\n\nfor word in lst:\n    print(type(word.decode(\"utf-8\")))\n</code></pre>\n\n<p>Or use the unicode function:</p>\n\n<pre><code>unicode(word,encoding=\"utf-8\"))\n</code></pre>\n\n<p>Or str.format:</p>\n\n<pre><code>for word in lst:\n    print(type(u\"{}\".format(word)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1436398979, "creation_date": 1436398979, "answer_id": 31305736, "question_id": 31305616, "link": "https://stackoverflow.com/questions/31305616/how-to-add-unicode-character-before-a-string-python/31305736#31305736", "title": "How to add unicode character before a string? [Python]", "body": "<p>The <code>u</code> prefix can only be used for literals. To convert an existing string to a <a href=\"https://docs.python.org/2/howto/unicode.html#the-unicode-type\" rel=\"nofollow\">unicode object</a>, use the <a href=\"https://docs.python.org/2/library/functions.html#unicode\" rel=\"nofollow\"><code>unicode()</code> constructor</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "is_accepted": false, "score": 1, "last_activity_date": 1436407609, "creation_date": 1436407609, "answer_id": 31306927, "question_id": 31305616, "link": "https://stackoverflow.com/questions/31305616/how-to-add-unicode-character-before-a-string-python/31306927#31306927", "title": "How to add unicode character before a string? [Python]", "body": "<p>Yes, format() will work, but sometimes will not. Older versions of Python even doesn't have it.\nI recommend:</p>\n\n<pre><code>utext = u\"%s\" % text\n</code></pre>\n\n<p>Which will do the same thing, as unicode.format()\nIf you don't like to use unicode() function. But obviously, you do. :D</p>\n"}], "owner": {"reputation": 376, "user_id": 4398724, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/94968fb03f6a8988d1c55ec828ae1b65?s=128&d=identicon&r=PG&f=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4398724/tai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6380, "favorite_count": 2, "accepted_answer_id": 31305731, "answer_count": 4, "score": 7, "last_activity_date": 1436407609, "creation_date": 1436398299, "question_id": 31305616, "link": "https://stackoverflow.com/questions/31305616/how-to-add-unicode-character-before-a-string-python", "title": "How to add unicode character before a string? [Python]", "body": "<p>I want to be able to add a 'u' to a referenced string variable. I need to do this because when I am in a for loop, i can only access the string by a variable name.</p>\n\n<p>Is there a way to do this?</p>\n\n<pre><code>&gt;&gt;&gt; word = 'blahblah'\n&gt;&gt;&gt; list = ['blahblah', 'boy', 'cool']\n&gt;&gt;&gt; import marisa_trie\n&gt;&gt;&gt; trie = marisa_trie.Trie(list)\n&gt;&gt;&gt; word in trie\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: Argument 'key' has incorrect type (expected unicode, got str)\n&gt;&gt;&gt; 'blahblah' in trie\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: Argument 'key' has incorrect type (expected unicode, got str)\n&gt;&gt;&gt; u'blahblah' in trie\nTrue\n&gt;&gt;&gt; u\"blahblah\" in trie\nTrue\n&gt;&gt;&gt; u(word) in trie\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'u' is not defined\n&gt;&gt;&gt; uword in trie\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'uword' is not defined\n&gt;&gt;&gt; u+word in trie\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nNameError: name 'u' is not defined\n&gt;&gt;&gt; word.u in trie\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'str' object has no attribute 'u'\n</code></pre>\n"}, {"tags": ["python", "lambda"], "comments": [{"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1436398181, "post_id": 31305564, "comment_id": 50600740, "body": "How do you want to sort your list?"}, {"owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "reply_to_user": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1436398414, "post_id": 31305564, "comment_id": 50600817, "body": "sorted list : [[1,3],[2,6],[8,10],[15,18]]"}, {"owner": {"reputation": 28666, "user_id": 754991, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/345fd2a0955fbab272da7ee594cbe7c1?s=128&d=identicon&r=PG", "display_name": "JBernardo", "link": "https://stackoverflow.com/users/754991/jbernardo"}, "edited": false, "score": 0, "creation_date": 1436398519, "post_id": 31305564, "comment_id": 50600847, "body": "<code>key=operator.itemgetter(0)</code>"}, {"owner": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "edited": false, "score": 1, "creation_date": 1436398876, "post_id": 31305564, "comment_id": 50600941, "body": "Good answers to the question have been posted below. I&#39;d also like to note that the line <code>if intervals == [] : return return [] </code> is unnecessary because <code>[].sort() == []</code> so the empty list will be returned even without that line."}], "answers": [{"tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": false, "score": 2, "last_activity_date": 1436398620, "last_edit_date": 1436398620, "creation_date": 1436398142, "answer_id": 31305585, "question_id": 31305564, "link": "https://stackoverflow.com/questions/31305564/understanding-lambdas-sort-function-in-python/31305585#31305585", "title": "Understanding lambda&#39;s sort function in python", "body": "<p>You should use:</p>\n\n<pre><code>intervals.sort(key = lambda x:x[0])\n</code></pre>\n\n<p><code>lambda</code> is a fast-way of making functions. For example,</p>\n\n<pre><code>def getFirst(x):\n   return x[0]\n</code></pre>\n\n<p>is equal to:</p>\n\n<pre><code>getFirst = lambda x: x[0]\n</code></pre>\n\n<p>I guess you should read the <a href=\"https://docs.python.org/2/tutorial/controlflow.html#lambda-expressions\" rel=\"nofollow\">official documentation</a>.</p>\n\n<p><strong>PS:</strong> Be aware that you are making <strong>in place</strong> sorting. You can also use <code>sorted(a, key=lambda x:x[0])</code> which returns another copy of sorted array, if you want otherwise.</p>\n"}, {"tags": [], "owner": {"reputation": 2021, "user_id": 3636636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/483f63f301825435fbe3b02d657da737?s=128&d=identicon&r=PG&f=1", "display_name": "user3636636", "link": "https://stackoverflow.com/users/3636636/user3636636"}, "is_accepted": false, "score": 0, "last_activity_date": 1436398472, "last_edit_date": 1495541042, "creation_date": 1436398472, "answer_id": 31305650, "question_id": 31305564, "link": "https://stackoverflow.com/questions/31305564/understanding-lambdas-sort-function-in-python/31305650#31305650", "title": "Understanding lambda&#39;s sort function in python", "body": "<p>The use of <code>lambda</code> creates an anonymous function where <code>x</code> is the parameter. <code>Key</code> is basically assigning the result from this function as the basis for the sort. A much more in depth answer can be found <a href=\"https://stackoverflow.com/questions/8966538/syntax-behind-sortedkey-lambda\">here</a></p>\n\n<p>But it looks like you are looking for something like this:</p>\n\n<pre><code>intervals.sort(key = lambda x:x[0])\n</code></pre>\n\n<p>Where <code>x[0]</code> is obviously the first element of each list.</p>\n"}, {"tags": [], "owner": {"reputation": 9902, "user_id": 1960027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z89Jo.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/1960027/simon"}, "is_accepted": false, "score": 0, "last_activity_date": 1436398685, "creation_date": 1436398685, "answer_id": 31305694, "question_id": 31305564, "link": "https://stackoverflow.com/questions/31305564/understanding-lambdas-sort-function-in-python/31305694#31305694", "title": "Understanding lambda&#39;s sort function in python", "body": "<p>It isn't actually necessary to use a lambda function to sort a list of lists. Take the following example:</p>\n\n<pre><code>a = [[1,3],[8,10],[15,18],[2,6],[2,5]]\nprint (sorted(a))\n</code></pre>\n\n<p>... this gives the output:</p>\n\n<pre><code>[[1, 3], [2, 5], [2, 6], [8, 10], [15, 18]]\n</code></pre>\n\n<p>... thus it not only sorts on the first element of each sub-list but uses the subsequent elements as keys if the first elements of two sublists are equal.</p>\n"}, {"tags": [], "owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "is_accepted": true, "score": 5, "last_activity_date": 1436401719, "last_edit_date": 1436401719, "creation_date": 1436399121, "answer_id": 31305758, "question_id": 31305564, "link": "https://stackoverflow.com/questions/31305564/understanding-lambdas-sort-function-in-python/31305758#31305758", "title": "Understanding lambda&#39;s sort function in python", "body": "<p>The reason for your error message is that you are <code>sort</code>ing based on an attribute that is not for <code>list</code> (<code>start</code> is not an <code>attribute</code> of a <code>list')</code>, so quick fix is, either to use the <code>sort</code> method of <code>list</code> or use built-in method <code>sorted</code>:</p>\n\n<p>1 - Using <code>sort</code> method of <code>list</code>:</p>\n\n<pre><code>intervals.sort(key = lambda l:l[0])\n</code></pre>\n\n<p>2 - Using built-in method <code>sorted</code>:</p>\n\n<pre><code>intervals = sorted(intervals, key=lambda l:l[0])\n</code></pre>\n\n<p>Reading more about sorting list in this <a href=\"https://wiki.python.org/moin/HowTo/Sorting\" rel=\"nofollow\">wiki</a> post, very interesting.</p>\n"}], "owner": {"reputation": 670, "user_id": 2403672, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5a0521b2f427ae0c78a3c4c175f12421?s=128&d=identicon&r=PG", "display_name": "deep", "link": "https://stackoverflow.com/users/2403672/deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10085, "favorite_count": 0, "accepted_answer_id": 31305758, "answer_count": 4, "score": 1, "last_activity_date": 1436401745, "creation_date": 1436398029, "last_edit_date": 1436401745, "question_id": 31305564, "link": "https://stackoverflow.com/questions/31305564/understanding-lambdas-sort-function-in-python", "title": "Understanding lambda&#39;s sort function in python", "body": "<p>I am trying to sort the list of lists in python. I have written the following code:</p>\n\n<pre><code>def sort(intervals):\n    if intervals == [] : return []  \n    intervals.sort(key = lambda x:x.start)\n    return intervals\n\na = [[1,3],[8,10],[15,18],[2,6]]\nprint(sort(a))\n</code></pre>\n\n<p>I am getting the following error:</p>\n\n<pre><code>AttributeError: 'list' object has no attribute 'start'\n</code></pre>\n\n<p>Please can someone explain lambda function for sort and some details about the above error. Thank you!!        </p>\n"}, {"tags": ["python", "sockets", "struct", "swig", "ctypes"], "comments": [{"owner": {"reputation": 28666, "user_id": 754991, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/345fd2a0955fbab272da7ee594cbe7c1?s=128&d=identicon&r=PG", "display_name": "JBernardo", "link": "https://stackoverflow.com/users/754991/jbernardo"}, "edited": false, "score": 0, "creation_date": 1436398307, "post_id": 31305548, "comment_id": 50600784, "body": "<a href=\"https://cffi.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">cffi</a>"}, {"owner": {"reputation": 105, "user_id": 4996664, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c776ccf8767acc5e6125a563994bcb04?s=128&d=identicon&r=PG&f=1", "display_name": "EagerIntern ", "link": "https://stackoverflow.com/users/4996664/eagerintern"}, "reply_to_user": {"reputation": 28666, "user_id": 754991, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/345fd2a0955fbab272da7ee594cbe7c1?s=128&d=identicon&r=PG", "display_name": "JBernardo", "link": "https://stackoverflow.com/users/754991/jbernardo"}, "edited": false, "score": 0, "creation_date": 1436456705, "post_id": 31305548, "comment_id": 50631314, "body": "thanks JBernardo, that looks helpful.  Is there an easy way to access the byte representation?"}, {"owner": {"reputation": 1704, "user_id": 2206057, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/99e2529cce2788552ed56014f036901a?s=128&d=identicon&r=PG", "display_name": "Hei", "link": "https://stackoverflow.com/users/2206057/hei"}, "edited": false, "score": 0, "creation_date": 1521628163, "post_id": 31305548, "comment_id": 85808666, "body": "I am looking for a solution as well.  Mind sharing your finding?"}], "owner": {"reputation": 105, "user_id": 4996664, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c776ccf8767acc5e6125a563994bcb04?s=128&d=identicon&r=PG&f=1", "display_name": "EagerIntern ", "link": "https://stackoverflow.com/users/4996664/eagerintern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 651, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1436397874, "creation_date": 1436397874, "question_id": 31305548, "link": "https://stackoverflow.com/questions/31305548/converting-a-c-struct-into-python-to-be-sent-through-a-socket", "title": "Converting a C struct into Python to be sent through a socket", "body": "<p>I'm currently updating an old, large piece of software written in C that sends a struct through a socket to a server.  The updated software will be written in Python, which means I now need to send the same information in the same byte layout as the C struct in Python.  I'm aware of the Python package struct, and would like to use it. The problem is, the struct is absolutely huge.  To give you an idea, here's a snipet:</p>\n\n<pre><code>// this is the struct that I wish to send \n\ntypedef struct\n{\n    struct st_command_header header;\n\n    union {\n        char buffer[32];\n        struct set_360_camera_message camera_msg;\n        struct u_olcd_msg olcd_msg;\n    };   \n\n} struct_to_be_set stc;\n\n\n// supporting structs\n\nstruct st_command_header\n{\n  union  u_all_types len;\n  union  u_all_types cmd;\n  union  u_all_types cmd_counter;\n  union  u_all_types items;\n} __attribute__((packed));\n\nstruct u_olcd_msg\n{  \n  // over 100 lines of fields to fill\n}\n\n// all the other structs necessary\n</code></pre>\n\n<p>As I understand it, the struct python package requires you manually pack the struct, which would be very difficult given the size of the struct and number of union statements.  Ideally, I'd like some way to utilize the existing code by generating the struct in C but somehow transferring over the bytes to my Python code for the socket.  Is there a way to do this?  I have looked into ctypes and swig, but I didn't see an easy way to get the byte representation from the C code.  </p>\n"}, {"tags": ["python", "setuptools", "distutils"], "answers": [{"comments": [{"owner": {"reputation": 4011, "user_id": 3083138, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/49aa5e800a75588e6bd1b0e73209312b?s=128&d=identicon&r=PG", "display_name": "stachyra", "link": "https://stackoverflow.com/users/3083138/stachyra"}, "edited": false, "score": 0, "creation_date": 1436408795, "post_id": 31305865, "comment_id": 50603389, "body": "I&#39;m not sure I understand your answer. It sounds like you&#39;re saying: 1.) Put all of my code inside a subdirectory called <code>pkg</code>, together with an <code>__init__.py</code> file, 2.) rewrite <code>myscript.py</code> as a function within that package, 3.) reference the <code>myscript()</code> function as an entry point in the call to <code>setup()</code>, 4.) setuptools will install the package in my site_packages area and also auto-generate a script to go in <code>&#47;usr&#47;local&#47;bin</code>. That may fix the problem, but is there no way to write a <code>setup.py</code> file that simply works with the project structure that I already have right now?"}, {"owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "reply_to_user": {"reputation": 4011, "user_id": 3083138, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/49aa5e800a75588e6bd1b0e73209312b?s=128&d=identicon&r=PG", "display_name": "stachyra", "link": "https://stackoverflow.com/users/3083138/stachyra"}, "edited": false, "score": 0, "creation_date": 1436409065, "post_id": 31305865, "comment_id": 50603466, "body": "Yes, basically I am saying 1, 2, 3, 4. This is the best practice of Python community and the recommended way to do it. For more information please refer to <a href=\"https://packaging.python.org/en/latest/distributing.html\" rel=\"nofollow noreferrer\">packaging.python.org/en/latest/distributing.html</a>"}, {"owner": {"reputation": 4011, "user_id": 3083138, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/49aa5e800a75588e6bd1b0e73209312b?s=128&d=identicon&r=PG", "display_name": "stachyra", "link": "https://stackoverflow.com/users/3083138/stachyra"}, "edited": false, "score": 0, "creation_date": 1436409997, "post_id": 31305865, "comment_id": 50603671, "body": "O.K., thanks, I took a look at the information in the link and it seems that you are correct."}], "tags": [], "owner": {"reputation": 68601, "user_id": 315168, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fbcd3f115ce33ea2380f5a2dae0cf6d2?s=128&d=identicon&r=PG", "display_name": "Mikko Ohtamaa", "link": "https://stackoverflow.com/users/315168/mikko-ohtamaa"}, "is_accepted": true, "score": 1, "last_activity_date": 1436399844, "last_edit_date": 1495541363, "creation_date": 1436399844, "answer_id": 31305865, "question_id": 31305507, "link": "https://stackoverflow.com/questions/31305507/how-do-i-use-setuptools-or-distutils-to-distribute-a-script-as-opposed-to-a-pyth/31305865#31305865", "title": "How do I use setuptools or distutils to distribute a script as opposed to a Python package?", "body": "<p>You should use setuptools entry points and <code>pip install pkg</code> will create a <code>bin/</code> script for you. When you do a system-wide package installation the script will go to <code>/usr/bin</code> or <code>/usr/local/bin</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/782984/315168\">About entry points</a></p>\n"}], "owner": {"reputation": 4011, "user_id": 3083138, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/49aa5e800a75588e6bd1b0e73209312b?s=128&d=identicon&r=PG", "display_name": "stachyra", "link": "https://stackoverflow.com/users/3083138/stachyra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 1, "accepted_answer_id": 31305865, "answer_count": 1, "score": 3, "last_activity_date": 1436399844, "creation_date": 1436397600, "question_id": 31305507, "link": "https://stackoverflow.com/questions/31305507/how-do-i-use-setuptools-or-distutils-to-distribute-a-script-as-opposed-to-a-pyth", "title": "How do I use setuptools or distutils to distribute a script as opposed to a Python package?", "body": "<p>In the past, most tutorials that I've seen of <code>distutils</code> or <code>setuptools</code> seem geared toward distributing so-called \"Python packages\"; i.e., collections of closely related Python modules, which are ultimately intended to be imported together as a unit into something else.</p>\n\n<p>I have something slightly different: a large command line script.  The script currently lives in a Python project with a structure that looks similar to this:</p>\n\n<pre><code>git_repo/\n    .gitignore\n    README.rst\n    src/\n        myscript.py\n        sub_module1.py\n        sub_module2.py\n        sub_module3.py\n    test/\n        test_sub_module1.py\n        test_sub_module2.py\n        test_sub_module3.py\n</code></pre>\n\n<p>Inside of the <code>myscript.py</code> file, the first several lines look like this:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport sub_module1\nimport sub_module2\nimport sub_module3\n\n# Go do a bunch of stuff...\n# etc...\n</code></pre>\n\n<p>The code contained in the various submodules is mostly stuff that I couldn't imagine ever wanting to re-use in another project; those pieces are all fairly specific to the main application, <code>myscript.py</code>.  In addition, the material inside of each <code>submodule.py</code> file is also not all that closely related between one submodule and another.  Collectively, I don't think that it would be particularly natural or logical to group them together into a sub-package with its own <code>__init__.py</code> file.  In fact, the only reason I even have these submodule files in the first place is simply to help organize the main script more cleanly; doing it that way results in the top-level <code>myscript.py</code> file coming out to, say, 100 lines, rather than all piled together into a single massive 1000 line scroll.</p>\n\n<p>Within my <code>git_repo/src</code> directory, I can execute this script by typing it out at the command line, e.g.:</p>\n\n<pre><code>./myscript.py --opt1 &lt;value_1&gt; --opt2 &lt;value_2&gt; --opt3 &lt;value_3&gt; ...\n</code></pre>\n\n<p>My question: since this project is a command line script and not an importable package, how should I call the <code>setuptools</code> <code>setup()</code> function in that case?  How do I select the input parameters to <code>setup()</code> in order to let it know that it should treat <code>myscript.py</code> as an executable script (meaning, for example, that it knows to do <code>chmod 755 myscript.py</code> during installation), while also making clear that the accompanying <code>submodule.py</code> files, although not scripts themselves, are nevertheless required dependencies which should be installed adjacent to <code>myscript.py</code> within the same directory?  What is the correct form of the <code>setup</code> function in that case?</p>\n"}, {"tags": ["javascript", "python", "random", "mersenne-twister"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1436399992, "post_id": 31305484, "comment_id": 50601277, "body": "Since you have the source code to at least one of them, translate it into Python and if you do it right, the numbers produced should be the same."}], "answers": [{"comments": [{"owner": {"reputation": 4627, "user_id": 1741346, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5iv4J.png?s=128&g=1", "display_name": "Pikamander2", "link": "https://stackoverflow.com/users/1741346/pikamander2"}, "edited": false, "score": 0, "creation_date": 1436430859, "post_id": 31305652, "comment_id": 50612565, "body": "Using <code>Math.seedrandom(123); document.write(Math.random());</code>, I got <code>0.047035554534303387</code>. Am I doing it wrong?"}], "tags": [], "owner": {"reputation": 3300, "user_id": 2909095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WpMeK.jpg?s=128&g=1", "display_name": "Nitsew", "link": "https://stackoverflow.com/users/2909095/nitsew"}, "is_accepted": false, "score": 1, "last_activity_date": 1436398481, "creation_date": 1436398481, "answer_id": 31305652, "question_id": 31305484, "link": "https://stackoverflow.com/questions/31305484/how-can-i-generate-the-same-random-number-in-javascript-and-python/31305652#31305652", "title": "How can I generate the same random number in JavaScript and Python?", "body": "<p>This library/plugin worked for me when I compared the Python output to the JavaScript output.</p>\n\n<p><a href=\"https://github.com/davidbau/seedrandom\" rel=\"nofollow\">https://github.com/davidbau/seedrandom</a></p>\n"}, {"tags": [], "owner": {"reputation": 720, "user_id": 1608467, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/66ce946a7677bdbd5bca63d857511b85?s=128&d=identicon&r=PG", "display_name": "fbparis", "link": "https://stackoverflow.com/users/1608467/fbparis"}, "is_accepted": false, "score": 0, "last_activity_date": 1512876973, "creation_date": 1512876973, "answer_id": 47735632, "question_id": 31305484, "link": "https://stackoverflow.com/questions/31305484/how-can-i-generate-the-same-random-number-in-javascript-and-python/47735632#47735632", "title": "How can I generate the same random number in JavaScript and Python?", "body": "<p>If you don't need a cryptographically secure pseudorandom number generator, you could use something like this, using the decimals of sinus function.</p>\n\n<p>In python:</p>\n\n<pre><code>import math\ndef simple_random(precision=10000):\n    i = 1\n    while 1:\n        x = math.sin(i) * precision\n        yield x - math.floor(x)\n        i += 1\n</code></pre>\n\n<p>In Javascript:</p>\n\n<pre><code>var i = 1;\nfunction simple_random(precision=10000) {\n    x = Math.sin(i++) * precision;\n    return x - Math.floor(x);\n}\n</code></pre>\n\n<p>If you want to vary seeds, you could use something like sin(a * i + b) rather than sin(i) or a * sin(i + b), it's up to you to find something good enough.</p>\n"}], "owner": {"reputation": 4627, "user_id": 1741346, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/5iv4J.png?s=128&g=1", "display_name": "Pikamander2", "link": "https://stackoverflow.com/users/1741346/pikamander2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1834, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1512876973, "creation_date": 1436397475, "last_edit_date": 1443203651, "question_id": 31305484, "link": "https://stackoverflow.com/questions/31305484/how-can-i-generate-the-same-random-number-in-javascript-and-python", "title": "How can I generate the same random number in JavaScript and Python?", "body": "<p>In Python, if I use this code:</p>\n\n<pre><code>import random\nrandom.seed(123)\nprint(random.random())\n</code></pre>\n\n<p>The first random number will always be <code>0.052363598850944326</code>, since I'm giving it the same seed every time I run the program.</p>\n\n<p>JavaScript doesn't have a built-in way to use seeds. I've tried out a JavaScript script called <a href=\"https://gist.github.com/banksean/300494\" rel=\"nofollow\">mersenne-twister.js</a>, since that's the type of PRNG that Python uses. But even if I use the same seed, I get a different result than I do in Python.</p>\n\n<pre><code>var m = new MersenneTwister(123);\nm.genrand_int32();\n</code></pre>\n\n<p>That code will always return <code>0.6964691872708499</code> the first time that it's run.</p>\n\n<p>How can I use a given seed to get the same random number in both Python and JavaScript?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1436397729, "post_id": 31305476, "comment_id": 50600623, "body": "Seems that you have a integer variable with name <code>sum</code> in your code.for getting ride of that change that name or use <code>del sum</code> to delete that shallow copy of <code>sum</code> function!"}], "answers": [{"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1436402409, "post_id": 31305521, "comment_id": 50601879, "body": "I was testing some code snippets from the web and didn&#39;t even realize I clobbered my builtins.  Thanks."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1436402483, "post_id": 31305521, "comment_id": 50601894, "body": "No worries, it happens quite often."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 5, "last_activity_date": 1436397687, "creation_date": 1436397687, "answer_id": 31305521, "question_id": 31305476, "link": "https://stackoverflow.com/questions/31305476/error-summing-values-in-a-dictionary/31305521#31305521", "title": "Error summing values in a dictionary", "body": "<p>You have named a variable <code>sum</code> in your code which points to an int so you are actually trying to call that not the <code>sum</code> function.  Just add a <code>del sum</code> then try the code again. \nA good example of why you should not shadow builtin function names.</p>\n\n<pre><code>In [24]: sum = 4    \nIn [25]: sum((1,2))\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-25-a2ca1bd9c959&gt; in &lt;module&gt;()\n----&gt; 1 sum((1,2))\n\nTypeError: 'int' object is not callable  \nIn [26]: del sum\nIn [27]: sum((1,2))\nOut[27]: 3\n</code></pre>\n"}], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 31305521, "answer_count": 1, "score": 1, "last_activity_date": 1436397717, "creation_date": 1436397443, "question_id": 31305476, "link": "https://stackoverflow.com/questions/31305476/error-summing-values-in-a-dictionary", "title": "Error summing values in a dictionary", "body": "<p>I get the following error when trying to sum the values from a dictionary.  I expect to get the sum (i.e. 15), but an error is thrown instead.</p>\n\n<p>Is this a bug?</p>\n\n<p>IPython QtConsole 3.1.0\nPython 2.7.10 |Continuum Analytics, Inc.| (default, May 28 2015, 17:04:42) </p>\n\n<pre><code>d = {'1': 1, '2': 2 , '3': 3, '4': 4, '5': 5}\n\n&gt;&gt;&gt; sum(d.values())\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-36-4babd535f17a&gt; in &lt;module&gt;()\n----&gt; 1 sum(d.values())\n\nTypeError: 'int' object is not callable\n</code></pre>\n"}, {"tags": ["javascript", "python", "d3.js", "matplotlib", "jenkins"], "comments": [{"owner": {"reputation": 100748, "user_id": 1172002, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jtcer.jpg?s=128&g=1", "display_name": "Lars Kotthoff", "link": "https://stackoverflow.com/users/1172002/lars-kotthoff"}, "edited": false, "score": 0, "creation_date": 1436397940, "post_id": 31305460, "comment_id": 50600668, "body": "This is a pretty open-ended question. I&#39;m assuming that you&#39;ve found out how to make a bar chart with D3. Then all you need to do is insert the data into the generated HTML/JS."}, {"owner": {"reputation": 10567, "user_id": 4680533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tee8v.jpg?s=128&g=1", "display_name": "Ed Smith", "link": "https://stackoverflow.com/users/4680533/ed-smith"}, "edited": false, "score": 0, "creation_date": 1436428641, "post_id": 31305460, "comment_id": 50611079, "body": "Check out mpld3, I think this may do something similar to what you need? <a href=\"http://mpld3.github.io/index.html\" rel=\"nofollow noreferrer\">mpld3.github.io/index.html</a>. Also d3py but this look less well supported."}], "answers": [{"tags": [], "owner": {"reputation": 10567, "user_id": 4680533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tee8v.jpg?s=128&g=1", "display_name": "Ed Smith", "link": "https://stackoverflow.com/users/4680533/ed-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1436431398, "last_edit_date": 1436431398, "creation_date": 1436429671, "answer_id": 31311796, "question_id": 31305460, "link": "https://stackoverflow.com/questions/31305460/plotting-a-bar-chart-from-data-in-a-python-dictionary/31311796#31311796", "title": "Plotting a bar chart from data in a python dictionary", "body": "<p>As a minimal example for an html format bar chart generated from a python <code>matplotlib</code> and <code>mpld3</code>, you have,</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport mpld3\n\nfig, ax = plt.subplots(1,1)\nN = 10\nbar = ax.bar(range(N),np.random.normal(size=N))\nmpld3.save_html(fig,'./out.html')\n</code></pre>\n\n<p>and then use <code>out.html</code> or call <code>mpld3.fig_to_html(fig)</code> to generate the code or <code>mpld3.fig_to_dict</code> to output a json-serializable dictionary representation of the figure.</p>\n"}], "owner": {"reputation": 19646, "user_id": 494074, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/741e480d426fabd85825861bd6481ccd?s=128&d=identicon&r=PG", "display_name": "Ankur Agarwal", "link": "https://stackoverflow.com/users/494074/ankur-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 31311796, "answer_count": 1, "score": 0, "last_activity_date": 1436431398, "creation_date": 1436397332, "question_id": 31305460, "link": "https://stackoverflow.com/questions/31305460/plotting-a-bar-chart-from-data-in-a-python-dictionary", "title": "Plotting a bar chart from data in a python dictionary", "body": "<p>I have a dictionary in my python script that contains data I want to create a bar chart with. </p>\n\n<p>I used matplotlib and was able to generate the bar chart image and save it. However that was not good enough because I want to send that bar chart out as an email and I cannot embed the bar chart image in my email's html body. I know I can use the <code>&lt;img&gt;</code> tag but the issue is that the email body is populated in Jenkins as part of a pre-send script and externally generated images cannot be sent out that way. </p>\n\n<p>I am thinking of using D3.js to generate visualizations with the dictionary data. I need help with where and how to start and glue python and js together. </p>\n\n<p>FYI, currently I am using HTML package in python to generate html using python code. This allows me to generate html tables very easily but html has not tags for bar chart etc hence the issue. </p>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1436397443, "post_id": 31305427, "comment_id": 50600539, "body": "Sounds like you&#39;re looking for <a href=\"https://docs.python.org/3.4/library/decimal.html\" rel=\"nofollow noreferrer\"><code>decimal</code></a>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1436400254, "post_id": 31305427, "comment_id": 50601341, "body": "Another alternative would be to use the <a href=\"http://mpmath.org\" rel=\"nofollow noreferrer\">mpmath</a> module."}, {"owner": {"reputation": 1093, "user_id": 2477241, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fad0d4bd4a1ef7f90f80e66a3a2da6?s=128&d=identicon&r=PG", "display_name": "Ayush Mishra", "link": "https://stackoverflow.com/users/2477241/ayush-mishra"}, "edited": false, "score": 0, "creation_date": 1436433008, "post_id": 31305427, "comment_id": 50613857, "body": "a and b both are LONG INT."}], "answers": [{"tags": [], "owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "is_accepted": false, "score": 2, "last_activity_date": 1436398489, "last_edit_date": 1436398489, "creation_date": 1436398150, "answer_id": 31305587, "question_id": 31305427, "link": "https://stackoverflow.com/questions/31305427/float-division-of-big-numbers-in-python/31305587#31305587", "title": "Float division of big numbers in python", "body": "<p>You could use the <code>decimal</code> module:</p>\n\n<pre><code>from decimal import localcontext, Decimal\n\ndef foo(a, b):\n    with localcontext() as ctx:\n        ctx.prec = 10   # Sets precision to 10 places temporarily\n        c = Decimal(a) / Decimal(b) # Not sure if this is precise if a and b are floats, \n                                    # str(a) and str(b) instead'd ensure precision i think.\n    return float(c)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "is_accepted": false, "score": 2, "last_activity_date": 1436398304, "creation_date": 1436398304, "answer_id": 31305617, "question_id": 31305427, "link": "https://stackoverflow.com/questions/31305427/float-division-of-big-numbers-in-python/31305617#31305617", "title": "Float division of big numbers in python", "body": "<p>The <code>decimal</code> module should work. As seen in TigerhawkT3's link, you can choose the number of decimal places your quotient should be.</p>\n\n<pre><code>from decimal import *\ngetcontext().prec = 6\na = float(raw_input('The first number:'))       #Can be int() if needed\nb = float(raw_input('The second number:'))\nc = Decimal(a) / Decimal(b)\nprint float(c)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 7363451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1fc89c3d6817d5cded363019700b697?s=128&d=identicon&r=PG", "display_name": "ironmann350", "link": "https://stackoverflow.com/users/7363451/ironmann350"}, "is_accepted": false, "score": 1, "last_activity_date": 1483307823, "creation_date": 1483307823, "answer_id": 41419398, "question_id": 31305427, "link": "https://stackoverflow.com/questions/31305427/float-division-of-big-numbers-in-python/41419398#41419398", "title": "Float division of big numbers in python", "body": "<p>you can calculate any type of length float number with this function</p>\n\n<pre><code>def longdiv(divisor,divident):\n    quotient,remainder=divmod(divisor,divident)\n    return (str(quotient)+str(remainder*1.0/divident)[1:])\n</code></pre>\n"}], "owner": {"reputation": 1093, "user_id": 2477241, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fad0d4bd4a1ef7f90f80e66a3a2da6?s=128&d=identicon&r=PG", "display_name": "Ayush Mishra", "link": "https://stackoverflow.com/users/2477241/ayush-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1483307823, "creation_date": 1436397112, "last_edit_date": 1436397408, "question_id": 31305427, "link": "https://stackoverflow.com/questions/31305427/float-division-of-big-numbers-in-python", "title": "Float division of big numbers in python", "body": "<p>I have two big numbers <code>a</code> and <code>b</code> of length around 10000, such that <code>a &lt;= b</code>.\nNow, I have to find <code>c = a / b</code>, upto 10 places of decimal, how do I do it without loosing precision?</p>\n"}, {"tags": ["python", "python-2.7", "stdout"], "comments": [{"owner": {"reputation": 14280, "user_id": 3213868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c996b05d00dac2362ca4804e78f564e?s=128&d=identicon&r=PG&f=1", "display_name": "ooga", "link": "https://stackoverflow.com/users/3213868/ooga"}, "edited": false, "score": 0, "creation_date": 1436398236, "post_id": 31305390, "comment_id": 50600768, "body": "In the code you display there&#39;s an extra space before the newline."}, {"owner": {"reputation": 37, "user_id": 4938907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pn_QKnOSewA/AAAAAAAAAAI/AAAAAAAAAEo/1kBOWEI7ICw/photo.jpg?sz=128", "display_name": "alamo1836", "link": "https://stackoverflow.com/users/4938907/alamo1836"}, "reply_to_user": {"reputation": 14280, "user_id": 3213868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c996b05d00dac2362ca4804e78f564e?s=128&d=identicon&r=PG&f=1", "display_name": "ooga", "link": "https://stackoverflow.com/users/3213868/ooga"}, "edited": false, "score": 0, "creation_date": 1436398563, "post_id": 31305390, "comment_id": 50600854, "body": "I&#39;m glad you mentioned that (I should have originally), because I&#39;ve actually tried with and without that extra space and, without the extra space, it gives me a 97/100 instead of 98/100. It makes no sense, as it seems to prefer it. Could it be the &quot;\\n&quot;, or more generally, how I&#39;m printing?"}, {"owner": {"reputation": 14280, "user_id": 3213868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c996b05d00dac2362ca4804e78f564e?s=128&d=identicon&r=PG&f=1", "display_name": "ooga", "link": "https://stackoverflow.com/users/3213868/ooga"}, "edited": false, "score": 0, "creation_date": 1436398918, "post_id": 31305390, "comment_id": 50600959, "body": "The instructions are unclear. The challenge is apparently to read the question-writer&#39;s mind about how to deal with spaces. The only arbitrary thing I might try is to compress multiple spaces in the line. I&#39;m pulling that out of a hat (or somewhere), but it&#39;s the only thing I can think of."}, {"owner": {"reputation": 37, "user_id": 4938907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pn_QKnOSewA/AAAAAAAAAAI/AAAAAAAAAEo/1kBOWEI7ICw/photo.jpg?sz=128", "display_name": "alamo1836", "link": "https://stackoverflow.com/users/4938907/alamo1836"}, "reply_to_user": {"reputation": 14280, "user_id": 3213868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c996b05d00dac2362ca4804e78f564e?s=128&d=identicon&r=PG&f=1", "display_name": "ooga", "link": "https://stackoverflow.com/users/3213868/ooga"}, "edited": false, "score": 0, "creation_date": 1436450941, "post_id": 31305390, "comment_id": 50627001, "body": "Understood @ooga, I really appreciate you taking a look; I&#39;ll just leave it at this then!"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4938907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pn_QKnOSewA/AAAAAAAAAAI/AAAAAAAAAEo/1kBOWEI7ICw/photo.jpg?sz=128", "display_name": "alamo1836", "link": "https://stackoverflow.com/users/4938907/alamo1836"}, "edited": false, "score": 0, "creation_date": 1436465619, "post_id": 31321986, "comment_id": 50636725, "body": "Wow, that&#39;s awesome; thanks so much @Incognos ! So it looks like you&#39;ve cleaned it up with how you open and loop (no double-check with if/elif; NICE!), while also using .format() to add in the necessary string. Any conceptual critique you&#39;d be willing to provide a newbie? Thanks again!"}, {"owner": {"reputation": 1897, "user_id": 2399138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5cf132b224ff188a0075bec534bb5a?s=128&d=identicon&r=PG", "display_name": "Incognos", "link": "https://stackoverflow.com/users/2399138/incognos"}, "reply_to_user": {"reputation": 37, "user_id": 4938907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pn_QKnOSewA/AAAAAAAAAAI/AAAAAAAAAEo/1kBOWEI7ICw/photo.jpg?sz=128", "display_name": "alamo1836", "link": "https://stackoverflow.com/users/4938907/alamo1836"}, "edited": false, "score": 0, "creation_date": 1436467413, "post_id": 31321986, "comment_id": 50637811, "body": "not sure about conceptual critiques, but constructively, I would say that I refined the above over multiple iteration. Meaning, my experience with coding, help me reduce it to this. I think your code is good for a self professed newbie. Keep at it and you will be answering the questions :)"}, {"owner": {"reputation": 37, "user_id": 4938907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pn_QKnOSewA/AAAAAAAAAAI/AAAAAAAAAEo/1kBOWEI7ICw/photo.jpg?sz=128", "display_name": "alamo1836", "link": "https://stackoverflow.com/users/4938907/alamo1836"}, "edited": false, "score": 0, "creation_date": 1436472910, "post_id": 31321986, "comment_id": 50640842, "body": "I really appreciate that :) Thanks again for your help!"}], "tags": [], "owner": {"reputation": 1897, "user_id": 2399138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5cf132b224ff188a0075bec534bb5a?s=128&d=identicon&r=PG", "display_name": "Incognos", "link": "https://stackoverflow.com/users/2399138/incognos"}, "is_accepted": true, "score": 3, "last_activity_date": 1436467305, "last_edit_date": 1436467305, "creation_date": 1436455903, "answer_id": 31321986, "question_id": 31305390, "link": "https://stackoverflow.com/questions/31305390/parsing-printing-depending-on-char-length-in-python-only-98-on-codeeval/31321986#31321986", "title": "Parsing/Printing depending on char length in Python; only 98% on CodeEval", "body": "<p>Try the following code (100% on Code Eval):</p>\n\n<pre><code>import sys\n\nwith open(sys.argv[1], 'r') as in_f:\n    for line in in_f:\n        line = line.strip()\n        if len(line) &gt; 55:\n            line = \"{0}... &lt;Read More&gt;\".format(line[:40].rsplit(\" \", 1)[0].rstrip())\n        sys.stdout.write(\"{0}\\n\".format(line))\n</code></pre>\n\n<p>I used this file:</p>\n\n<pre><code>Tom exhibited.\nAmy Lawrence was proud and glad, and she tried to make Tom see it in her face - but he wouldn't look.\nTom was tugging at a button-hole and looking sheepish.\nTwo thousand verses is a great many - very, very great many.\nTom's mouth watered for the apple, but he stuck to his work.\n</code></pre>\n\n<p>and got the following output:</p>\n\n<pre><code>Tom exhibited.\nAmy Lawrence was proud and glad, and... &lt;Read More&gt;\nTom was tugging at a button-hole and looking sheepish.\nTwo thousand verses is a great many -... &lt;Read More&gt;\nTom's mouth watered for the apple, but... &lt;Read More&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/8GUgL.png\" alt=\"Code Eval Score\"></p>\n"}], "owner": {"reputation": 37, "user_id": 4938907, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Pn_QKnOSewA/AAAAAAAAAAI/AAAAAAAAAEo/1kBOWEI7ICw/photo.jpg?sz=128", "display_name": "alamo1836", "link": "https://stackoverflow.com/users/4938907/alamo1836"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 31321986, "answer_count": 1, "score": 1, "last_activity_date": 1436467305, "creation_date": 1436396918, "last_edit_date": 1436455217, "question_id": 31305390, "link": "https://stackoverflow.com/questions/31305390/parsing-printing-depending-on-char-length-in-python-only-98-on-codeeval", "title": "Parsing/Printing depending on char length in Python; only 98% on CodeEval", "body": "<p>So I'm working through a CodeEval problem right now, and, for some reason, I can't get past a 98/100 score.</p>\n\n<p>Here's a link to the challenge on CodeEval:</p>\n\n<p><a href=\"https://www.codeeval.com/open_challenges/167/\" rel=\"nofollow\">https://www.codeeval.com/open_challenges/167/</a></p>\n\n<p>Here's my code:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nimport sys\n\nzeefile = open(sys.argv[1])\n\nfor line in zeefile:\n    if len(line) &lt;= 55:\n       sys.stdout.write(line)\n    elif len(line) &gt; 55:\n        line = line[:40].rsplit(\" \", 1)[0]\n        sys.stdout.write(line)\n        sys.stdout.write('... &lt;Read More&gt; \\n')\n</code></pre>\n\n<p>I've beaten my head against this wall for a several hours, even with a few devs far more talented than I'll ever be.</p>\n\n<p>We're perplexed, to say the least. Ultimately, it's not a big deal, but I'd like to know if there's something being missed here so I can learn from it.</p>\n\n<p>I've checked the code over and over, I've checked the input, I've checked the output...I can't find any inconsistency, or anything that suggests I'm missing that last 2% of a successful solution.</p>\n\n<p>Any idea what we're missing as to why this isn't coming back as a 100% legit solution to the problem? I'm hoping some fresh eyes and sharp minds can help me out on this one! Thank you very much!</p>\n"}, {"tags": ["python", "django", "django-jsonfield"], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 3301260, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/al2Ou.jpg?s=128&g=1", "display_name": "mou55", "link": "https://stackoverflow.com/users/3301260/mou55"}, "edited": false, "score": 1, "creation_date": 1436403284, "post_id": 31305709, "comment_id": 50602074, "body": "same thing,  it returns 0 result"}], "tags": [], "owner": {"reputation": 7151, "user_id": 1761827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SIjha.png?s=128&g=1", "display_name": "zxzak", "link": "https://stackoverflow.com/users/1761827/zxzak"}, "is_accepted": false, "score": -1, "last_activity_date": 1436398838, "creation_date": 1436398838, "answer_id": 31305709, "question_id": 31305340, "link": "https://stackoverflow.com/questions/31305340/query-by-empty-jsonfield-in-django/31305709#31305709", "title": "Query by empty JsonField in django", "body": "<p>Try <code>MyModel.objects.filter(myjsonfield='[]')</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 158, "user_id": 6058482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AaRmn.jpg?s=128&g=1", "display_name": "James Bellaby", "link": "https://stackoverflow.com/users/6058482/james-bellaby"}, "edited": false, "score": 1, "creation_date": 1609161502, "post_id": 37578853, "comment_id": 115762645, "body": "No it shouldn&#39;t. JSON can be a list or a dict at root level. In Django having it as default={} doesn&#39;t return in order of entry. Having it as a list allows some order to it."}, {"owner": {"reputation": 359, "user_id": 3533874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8d6a314a0327fd3ad31f73dcc14f6a?s=128&d=identicon&r=PG", "display_name": "TheZeke", "link": "https://stackoverflow.com/users/3533874/thezeke"}, "edited": false, "score": 0, "creation_date": 1614896500, "post_id": 37578853, "comment_id": 117533226, "body": "It can be either.  <code>default=dict</code> or <code>default=list</code> since JSON can be either a dict or a list.  Don&#39;t set it to actual value of {} or [] and don&#39;t actually call the function (eg. <code>dict()</code>) though.  Set it to the name of the function that produces the value.  It will be called when it needs to set a default."}], "tags": [], "owner": {"reputation": 232, "user_id": 5915968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/642be438451fa164c6133b0a4d164388?s=128&d=identicon&r=PG", "display_name": "e.barojas", "link": "https://stackoverflow.com/users/5915968/e-barojas"}, "is_accepted": false, "score": 0, "last_activity_date": 1464815494, "creation_date": 1464815494, "answer_id": 37578853, "question_id": 31305340, "link": "https://stackoverflow.com/questions/31305340/query-by-empty-jsonfield-in-django/37578853#37578853", "title": "Query by empty JsonField in django", "body": "<p>JSONfield should be <code>default={}</code> i.e., a dictionary, not a list.</p>\n"}, {"tags": [], "owner": {"reputation": 359, "user_id": 3533874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e8d6a314a0327fd3ad31f73dcc14f6a?s=128&d=identicon&r=PG", "display_name": "TheZeke", "link": "https://stackoverflow.com/users/3533874/thezeke"}, "is_accepted": false, "score": 1, "last_activity_date": 1614896416, "creation_date": 1614896416, "answer_id": 66483910, "question_id": 31305340, "link": "https://stackoverflow.com/questions/31305340/query-by-empty-jsonfield-in-django/66483910#66483910", "title": "Query by empty JsonField in django", "body": "<p>Use the dunder <code>__exact</code> for this.  The <code>__isnull=True</code> does not work because the JSONField is technically not null.</p>\n<p><strong>MyModel entries where <code>myjsonfield</code> is empty:</strong></p>\n<p><code>MyModel.objects.include(myjsonfield__exact=[])</code></p>\n<p><strong>MyModel entries where <code>myjsonfield</code> is <em>not</em> empty:</strong></p>\n<p><code>MyModel.objects.exclude(myjsonfield__exact=[])</code></p>\n<p><a href=\"https://docs.djangoproject.com/en/3.1/ref/models/querysets/#std:fieldlookup-exact\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/3.1/ref/models/querysets/#std:fieldlookup-exact</a></p>\n<p>I believe if you've set the <code>default=dict</code> in your model then you should use <code>{}</code> (eg: <code>myjsonfield__exact={}</code>) instead of <code>[]</code> but I haven't tested this.</p>\n"}], "owner": {"reputation": 490, "user_id": 3301260, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/al2Ou.jpg?s=128&g=1", "display_name": "mou55", "link": "https://stackoverflow.com/users/3301260/mou55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1455, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1614896416, "creation_date": 1436396675, "last_edit_date": 1436570965, "question_id": 31305340, "link": "https://stackoverflow.com/questions/31305340/query-by-empty-jsonfield-in-django", "title": "Query by empty JsonField in django", "body": "<p>I need to query a model by a <code>JsonField</code>, I want to get all records that have empty value ([]):</p>\n\n<p>I used <code>MyModel.objects.filter(myjsonfield=[])</code> but it's not working, it returns 0 result though there's records having <code>myjsonfield=[]</code></p>\n"}, {"tags": ["python", "openpyxl"], "comments": [{"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436427313, "post_id": 31305309, "comment_id": 50610294, "body": "What does your code look like so far. This looks pretty straightforward. Series for A5:D5, A9:D9, A10:D10 with B1:D4 for the axis, right?"}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436454747, "post_id": 31305309, "comment_id": 50629928, "body": "Correct, how is the axis set?"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436458464, "post_id": 31305309, "comment_id": 50632415, "body": "The x-axis is also sometimes referred to as the &quot;category axis&quot;, though this really only makes sense for bar charts. Unfortunately, it involves a hard dependency between each data point in a series and the relevant point on the axis.  This in openpyxl 2.3 <code>chart.set_categories(cats)</code> is used to set this. <code>cats</code> being a reference to the cells that will make up the axis (B1:D1 in your case)."}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436459008, "post_id": 31305309, "comment_id": 50632730, "body": "@CharlieClark I&#39;ve updated my question with attempted code to match your response. I&#39;m getting errors. Can you guide me to the right direction?"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436459428, "post_id": 31305309, "comment_id": 50633016, "body": "Looks like you&#39;re mixing 2.2 and 2.3 syntax - they&#39;re mutually exclusive because 2.3 is a complete rewrite. It&#39;s going to be easier to continue this discussion on the mailing list with code and files."}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436459540, "post_id": 31305309, "comment_id": 50633083, "body": "Ok. Where is that so we can continue? I&#39;m stressing out over this flaw in my code."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436459643, "post_id": 31305309, "comment_id": 50633137, "body": "It&#39;s linked to from the docs."}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1436459958, "post_id": 31305309, "comment_id": 50633343, "body": "great, I&#39;ve added a discussion on the openpyxl users group."}], "owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1740, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1436459985, "creation_date": 1436396479, "last_edit_date": 1436459985, "question_id": 31305309, "link": "https://stackoverflow.com/questions/31305309/possible-to-set-the-x-values-used-in-openpyxl", "title": "Possible to set the x values used in OpenPyxl?", "body": "<p><img src=\"https://i.stack.imgur.com/xuIOM.png\" alt=\"enter image description here\"></p>\n\n<p>I'm trying to achieve the following in openypxl. \nI want to use the delay times as the values for the xaxis. I can get the proper series added into the chart fine, but am having issues with the delay. The graph is representing my desired output. Is this possible?</p>\n\n<pre><code>chart_object= charts.LineChart()\nx_axis= charts.Reference(overall_stats_sheet, (11,2), (11, 5))\nchart_object.set_categories(x_axis)\n</code></pre>\n\n<p>Continuing this discussion here:\n<a href=\"https://groups.google.com/forum/#!topic/openpyxl-users/PGL9-9K-Xok\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/openpyxl-users/PGL9-9K-Xok</a></p>\n"}, {"tags": ["python", "string", "file", "io"], "comments": [{"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1436396629, "post_id": 31305302, "comment_id": 50600277, "body": "And your question is?"}, {"owner": {"reputation": 1680, "user_id": 3308509, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4d433ab89756d37ac8d09cbffe6621d2?s=128&d=identicon&r=PG&f=1", "display_name": "Malonge", "link": "https://stackoverflow.com/users/3308509/malonge"}, "edited": false, "score": 0, "creation_date": 1436396892, "post_id": 31305302, "comment_id": 50600359, "body": "Shouldn&#39;t triple quotes only be used for docstrings?"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 2939685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/503f448c541f18bd1fe67d42d9181104?s=128&d=identicon&r=PG&f=1", "display_name": "user2939685", "link": "https://stackoverflow.com/users/2939685/user2939685"}, "edited": false, "score": 0, "creation_date": 1436396967, "post_id": 31305351, "comment_id": 50600375, "body": "It doesnt work for some reason... my txt file just has just a list of words it works fine when I have them in my program but if i try doing it using file it gives error"}, {"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "reply_to_user": {"reputation": 27, "user_id": 2939685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/503f448c541f18bd1fe67d42d9181104?s=128&d=identicon&r=PG&f=1", "display_name": "user2939685", "link": "https://stackoverflow.com/users/2939685/user2939685"}, "edited": false, "score": 0, "creation_date": 1436397286, "post_id": 31305351, "comment_id": 50600487, "body": "@user2939685 It should work. What is the error you are getting? However, I think you should go with Padraic&#39;s answer, which is more elegant."}, {"owner": {"reputation": 27, "user_id": 2939685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/503f448c541f18bd1fe67d42d9181104?s=128&d=identicon&r=PG&f=1", "display_name": "user2939685", "link": "https://stackoverflow.com/users/2939685/user2939685"}, "edited": false, "score": 0, "creation_date": 1436397471, "post_id": 31305351, "comment_id": 50600546, "body": "when I am printing the two they are printed like this which means there is some problem...[&#39;alabama&#39;, &#39;alberta&#39;, &#39;alaska&#39;, &#39;arizona&#39;, &#39;arkansas&#39;, &#39;bob&#39;, &#39;tom&#39;, &#39;ted&#39;, &#39;william&#39;]              Alabama             Alberta             Alaska             Arizona             Arkansas             Bob             Tom             Ted             William"}, {"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "reply_to_user": {"reputation": 27, "user_id": 2939685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/503f448c541f18bd1fe67d42d9181104?s=128&d=identicon&r=PG&f=1", "display_name": "user2939685", "link": "https://stackoverflow.com/users/2939685/user2939685"}, "edited": false, "score": 0, "creation_date": 1436397675, "post_id": 31305351, "comment_id": 50600608, "body": "I didn&#39;t get what is the problem? Can you please update the original question with the expected input/output?"}, {"owner": {"reputation": 27, "user_id": 2939685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/503f448c541f18bd1fe67d42d9181104?s=128&d=identicon&r=PG&f=1", "display_name": "user2939685", "link": "https://stackoverflow.com/users/2939685/user2939685"}, "edited": false, "score": 0, "creation_date": 1436398133, "post_id": 31305351, "comment_id": 50600721, "body": "the code work if i replace data with state_list in the last for loop where i am inserting the items."}], "tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": false, "score": 1, "last_activity_date": 1436397748, "last_edit_date": 1436397748, "creation_date": 1436396712, "answer_id": 31305351, "question_id": 31305302, "link": "https://stackoverflow.com/questions/31305302/reading-data-in-python/31305351#31305351", "title": "Reading data in python?", "body": "<p>Please just read <a href=\"https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow\">Reading and writing files</a>.</p>\n\n<pre><code>with open('dictionary_file.txt', 'r') as f:\n   lines = f.readlines()\n\nstates_list = [w.strip().lower() for w in lines if w]\n</code></pre>\n\n<p><strong>Edit</strong>: I realized there is no need to use <code>readlines()</code> here. Just use @Padraic's answer.</p>\n"}, {"comments": [{"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 0, "creation_date": 1436397103, "post_id": 31305380, "comment_id": 50600416, "body": "I guess the last paragraph is for me. :P"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 0, "creation_date": 1436397286, "post_id": 31305380, "comment_id": 50600488, "body": "@Sait, I always say it, nothing personal! So many people starting out always call readlines or read and then either split read into a list of lines or iterate over readlines  doing work they could do just iterating over the file object."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1436397170, "last_edit_date": 1436397170, "creation_date": 1436396856, "answer_id": 31305380, "question_id": 31305302, "link": "https://stackoverflow.com/questions/31305302/reading-data-in-python/31305380#31305380", "title": "Reading data in python?", "body": "<p>Just replace splitlines with a <a href=\"https://docs.python.org/2/library/stdtypes.html#file-objects\" rel=\"nofollow\">file object</a> and iterate over that:</p>\n\n<pre><code>with open('dictionary_file.txt','r') as f:\n   lines  =[w.strip().lower() for w in f if w]\n</code></pre>\n\n<p>There is never any need to read a whole file into memory unless you actually need the data at once, a file object is iterable and will give you each line as you iterate.</p>\n\n<p>On a side note, you need  <code>if w</code> in your splitlines code as you add a newline before your lines and after, start your string at a quote and end it at a quote and you won't get any empty strings:</p>\n\n<pre><code>states = \"\"\"Alabama\n    Alberta\n    Alaska\n    Arizona\n    Arkansas\n    Bob\n    Tom\n    Ted\n    William\"\"\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 4133952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f66994a4e189842ca66c4b3f4b75f6fe?s=128&d=identicon&r=PG", "display_name": "Pete LoGiudice", "link": "https://stackoverflow.com/users/4133952/pete-logiudice"}, "is_accepted": true, "score": -1, "last_activity_date": 1436397555, "creation_date": 1436397555, "answer_id": 31305496, "question_id": 31305302, "link": "https://stackoverflow.com/questions/31305302/reading-data-in-python/31305496#31305496", "title": "Reading data in python?", "body": "<p>Adding <code>.split('\\n')</code> will resolve it.</p>\n\n<pre><code>file1 = open('dictionary_file.txt','r')\ndata = file1.read().split('\\n')\nfile1.close()\nfor i in data:\n    print i\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 2939685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/503f448c541f18bd1fe67d42d9181104?s=128&d=identicon&r=PG&f=1", "display_name": "user2939685", "link": "https://stackoverflow.com/users/2939685/user2939685"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 31305496, "answer_count": 3, "score": -2, "last_activity_date": 1436397991, "creation_date": 1436396459, "last_edit_date": 1436397991, "question_id": 31305302, "link": "https://stackoverflow.com/questions/31305302/reading-data-in-python", "title": "Reading data in python?", "body": "<p>I am trying to read data in Python one way I do it is like this </p>\n\n<pre><code>states = \"\"\"\n        Alabama\n        Alberta\n        Alaska\n        Arizona\n        Arkansas\n        Bob\n        Tom\n        Ted\n        William\n        \"\"\"\nstates_list = [w.strip().lower() for w in states.splitlines() if w]\n</code></pre>\n\n<p>Now if I am trying to read similar data from a file its not working. I do it like this </p>\n\n<pre><code>file1 = open('dictionary_file.txt','r')\ndata = file1.read()\nfile1.close()\n</code></pre>\n\n<p>and then iterate over items in the data</p>\n\n<p>Here is the entire code, the related part is at the end.</p>\n\n<pre><code>def _get_child_branches(tree):\n\"\"\"\nThis method return all the branches of the tree\n\"\"\"\nreturn tree[1:]\n\n\ndef _get_child_branch(tree, c):\n\"\"\"\nThis method returns the specific branch of the tree given the character\n\"\"\"\nfor branch in _get_child_branches(tree):\n    if branch[0] == c:\n        return branch\n\nreturn None\n\n\ndef _retrive_branch(k, tree):\n\"\"\"\nThis method is used for getting the branch for a given word\n\"\"\"\nif not k:\n    return None\n\nfor c in k:\n    child_branch = _get_child_branch(tree, c)\n    if not child_branch:\n        return None\n    tree = child_branch\n\nreturn tree\n\n\ndef _is_tree_bucket(bucket):\nif len(bucket) != 2:\n    return False\n\nreturn type(bucket[1]) is tuple\n\n\ndef _get_bucket_key(bucket):\nif not _is_tree_bucket(bucket):\n    return None\n\nreturn bucket[1][0]\n\n\ndef has_key(k, tree):\n\"\"\"\nTo check if the tree containes the keyword\n\"\"\"\nreturn _retrive_branch(k, tree) is not None\n\n\ndef retree_val(k, tree):\nkey_tuple = _retrive_branch(k, tree)\nif not key_tuple:\n    return None\n\nreturn key_tuple[1]\n\n\ndef insert_key(key, v, tree):\n\"\"\"\nInsert a (key, value) pair into tree\n\"\"\"\nif not key or has_key(key, tree):\n    return\n\nfor char in key:\n    branch = _get_child_branch(tree, char)\n    if not branch:\n        new_branch = [char]\n        tree.append(new_branch)\n        tree = new_branch\n    else:\n        tree = branch\ntree.append((key, v))\n\n\ndef start_with_prefix(prefix, tree):\n\"\"\"\nFind words start with prefix\n\"\"\"\nbranch = _retrive_branch(prefix, tree)\nif not branch:\n    return []\n\nprefix_list = []\nq = branch[1:]\nwhile q:\n    curr_branch = q.pop(0)\n    if _is_tree_bucket(curr_branch):\n        prefix_list.append(_get_bucket_key(curr_branch))\n    else:\n        q.extend(curr_branch[1:])\n\nreturn prefix_list\n\n\n\n\n\n\nif __name__ == \"__main__\":\ntree = [[]]\nfile1 = open('dictionary_file.txt','r')\ndata = file1.read().split('\\n')\nfile1.close()\nstates = \"\"\"\n        Alabama\n        Alberta\n        Alaska\n        Arizona\n        Arkansas\n        Bob\n        Tom\n        Ted\n        William\"\"\"\nstates_list = [w.strip().lower() for w in states.splitlines() if w]\nprint(states_list)\nprint(states)\nfor state in data:\n    insert_key(state, True, tree)\n\n\nprint start_with_prefix(\"a\", tree)\n</code></pre>\n"}, {"tags": ["python", "windows"], "answers": [{"tags": [], "owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "is_accepted": false, "score": 0, "last_activity_date": 1436582816, "creation_date": 1436582816, "answer_id": 31352907, "question_id": 31305300, "link": "https://stackoverflow.com/questions/31305300/new-to-python-3-4-3-trying-to-pip-install-basic-libraries-and-receiving-this/31352907#31352907", "title": "New to Python (3.4.3), trying to pip install basic libraries and receiving this message", "body": "<p>For numpy and other such libraries, these are difficult to build on Windows because they need to be compiled during installation. Setting up a proper build environment is difficult on Windows.</p>\n\n<p>You have a few choices:</p>\n\n<ol>\n<li><p>Download a build of Python that includes these libraries. A popular package of Python that includes numpy (and other scientific libraries) is <a href=\"https://store.continuum.io/cshop/anaconda/\" rel=\"nofollow\">Anaconda</a>. The <a href=\"http://www.scipy.org/install.html\" rel=\"nofollow\">scipy download page</a> lists some more options for you.</p></li>\n<li><p>Download pre-compiled binaries for Windows. These are available as standard Windows installers. For example <a href=\"http://sourceforge.net/projects/numpy/files/NumPy/1.9.2/\" rel=\"nofollow\">here is a link</a> to the downloads for numpy 1.9 (you can download the Windows installer from there).</p></li>\n<li><p>A list of pre-compiled Python modules for Windows is <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow\">available here</a>. I suggest you bookmark that page and when you have trouble installing something on Windows, chances are it will be listed there.</p></li>\n</ol>\n\n<p>If you are downloading packages, make sure you download for the right version of Python. If there are two versions (a 64 bit and a 32 bit) available, <strong>this refers to the version of <em>Python</em> not Windows</strong> that you have installed.</p>\n"}], "owner": {"reputation": 1, "user_id": 5096125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e491435c1a175de602c032b498f23329?s=128&d=identicon&r=PG&f=1", "display_name": "Svivvty", "link": "https://stackoverflow.com/users/5096125/svivvty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436582816, "creation_date": 1436396456, "last_edit_date": 1436581567, "question_id": 31305300, "link": "https://stackoverflow.com/questions/31305300/new-to-python-3-4-3-trying-to-pip-install-basic-libraries-and-receiving-this", "title": "New to Python (3.4.3), trying to pip install basic libraries and receiving this message", "body": "<p><code>Command \"C:\\Python34\\python.exe -c \"import setuptools, tokenize;__file__='C:\\\\Users\\\\Jamey\\\\AppData\\\\Local\\\\Temp\\\\pip-build-4xxi4hts\\\\numpy\\\\setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record C:\\Users\\Jamey\\AppData\\Local\\Temp\\pip-l8qukpar-record\\install-record.txt --single-version-externally-managed --compile\" failedwith error code 1 in C:\\Users\\Jamey\\AppData\\Local\\Temp\\pip-build-4xxi4hts\\numpy</code></p>\n\n<p>It has a lot of errors, do I need to add some basic libaries before installing more advance ones? Also tells me I need Microsoft Visual C++ 10.0</p>\n"}, {"tags": ["python", "django", "rest", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 37103, "user_id": 348796, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/V0yoz.png?s=128&g=1", "display_name": "Rafa de King", "link": "https://stackoverflow.com/users/348796/rafa-de-king"}, "edited": false, "score": 0, "creation_date": 1436426397, "post_id": 31307397, "comment_id": 50609762, "body": "This is one of the best answers I ever got on Stack Overflow. I learnt a lot. Thanks!"}], "tags": [], "owner": {"reputation": 1597, "user_id": 1889075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54e674097ba1ddd56acb465223af03d?s=128&d=identicon&r=PG", "display_name": "soooooot", "link": "https://stackoverflow.com/users/1889075/soooooot"}, "is_accepted": true, "score": 1, "last_activity_date": 1436411067, "creation_date": 1436411067, "answer_id": 31307397, "question_id": 31305251, "link": "https://stackoverflow.com/questions/31305251/attributeerror-when-serializing-relationship-with-through-table/31307397#31307397", "title": "AttributeError when serializing relationship with &#39;through&#39; table", "body": "<p>the simplest way to change that is change the source of your steps in <code>RecipeSerializer</code></p>\n\n<pre><code>class RecipeSerializer(serializers.HyperlinkedModelSerializer):\n\n    steps = StepInfoSerializer(many=True, read_only=True, source='stepinfo_set')\n</code></pre>\n\n<p>now I will make an explanation about that.</p>\n\n<p>first, only in the Django world.</p>\n\n<p>for example, <code>rec</code> is an instance object of <code>Recipe</code> Model.</p>\n\n<p>Get the difference of the two statement.</p>\n\n<pre><code>rec.steps.all()\nrec.stepinfo_set.all()\n</code></pre>\n\n<p><code>rec.steps.all()</code> will returns an array of <code>Step</code> object instance, make sure it's the <strong>target model of ManyToManyField</strong>, not the <strong>through</strong> model.</p>\n\n<p>if you want to access <strong>through</strong> model, you need to visit from the <code>related_name</code> of the <code>ForeignKey</code> refer to current model in the Through Model (<code>StepInfo</code> Model). </p>\n\n<p>later, I will add an example with related_name.</p>\n\n<p>since in your <code>StepInfo</code> does not specify the <code>related_name</code>, so django will automatically give you a default related_name <code>stepinfo_set</code>. (this name is that one in the first snippet).</p>\n\n<p>so will return back to how to get through instances. just <code>rec.setpinfo_set.all()</code>.</p>\n\n<p>All right, in the end, I suggest you add the related_name to your ForeignKey in your Through Models.</p>\n\n<pre><code>class StepInfo(BaseModel):\n\n    recipe = models.ForeignKey('Recipe', related_name='stepinfos')\n    step = models.ForeignKey(Step, related_name='stepinfos')\n    step_number = models.IntegerField()\n\nclass RecipeSerializer(serializers.HyperlinkedModelSerializer):\n\n    steps = StepInfoSerializer(many=True, read_only=True, source='stepinfos')\n</code></pre>\n"}], "owner": {"reputation": 37103, "user_id": 348796, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/V0yoz.png?s=128&g=1", "display_name": "Rafa de King", "link": "https://stackoverflow.com/users/348796/rafa-de-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 31307397, "answer_count": 1, "score": 0, "last_activity_date": 1436411067, "creation_date": 1436396179, "question_id": 31305251, "link": "https://stackoverflow.com/questions/31305251/attributeerror-when-serializing-relationship-with-through-table", "title": "AttributeError when serializing relationship with &#39;through&#39; table", "body": "<p>I'm trying to make <strong>Django Rest Framework</strong> return me a to-many relationship constructed with <code>through</code> keyword. However, I'm getting an error and have no idea what's wrong.</p>\n\n<p>The error I'm getting is:</p>\n\n<blockquote>\n  <p>Got AttributeError when attempting to get a value for field\n  <code>step_number</code> on serializer <code>StepInfoSerializer</code>. The serializer field\n  might be named incorrectly and not match any attribute or key on the\n  <code>Step</code> instance. Original exception text was: 'Step' object has no\n  attribute 'step_number'.</p>\n</blockquote>\n\n<p>Here is my model:</p>\n\n<pre><code>class Step(BaseModel):\n\n    description = models.TextField(null=False, blank=False)\n\nclass StepInfo(BaseModel):\n\n    recipe = models.ForeignKey('Recipe')\n    step = models.ForeignKey(Step)\n    step_number = models.IntegerField()\n\nclass Recipe(BaseModel):\n\n    title = models.CharField(max_length=100)\n    steps = models.ManyToManyField(Step, through='StepInfo')\n</code></pre>\n\n<p>And implementation of serializers:</p>\n\n<pre><code>class StepInfoSerializer(serializers.HyperlinkedModelSerializer):\n\n    description = serializers.CharField(source=\"step.description\")\n\n    class Meta:\n        model = StepInfo\n        fields = ('id',\n                  'step_number',\n                  'description')\n\n\nclass RecipeSerializer(serializers.HyperlinkedModelSerializer):\n\n    steps = StepInfoSerializer(many=True, read_only=True)\n\n    class Meta:\n        model = Recipe\n        fields = ('id',\n                  'steps')\n</code></pre>\n\n<p>Can anyone cast some light on this problem? I'd really appreciate!\nThanks!</p>\n"}, {"tags": ["python", "mechanize"], "owner": {"reputation": 11, "user_id": 5096104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342897a2373623f3169482fd7c8c43de?s=128&d=identicon&r=PG&f=1", "display_name": "NoBauscien", "link": "https://stackoverflow.com/users/5096104/nobauscien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436396104, "creation_date": 1436396104, "question_id": 31305235, "link": "https://stackoverflow.com/questions/31305235/mechanize-http-error-400-bad-request-what-am-i-doing-wrong", "title": "Mechanize HTTP Error 400: Bad Request what am I doing wrong", "body": "<p>I'm currently trying upload a file to a specific webpage with mechanize and let it process the file and download it again.\nBut I got currently no clue, why the page is still throwing a 400 Bad Request error.\nI set the user-agent, accept headers, redirects, so I got no idea why it isn't working.</p>\n\n<p>My current code:</p>\n\n<pre><code>import mechanize\nimport cookielib\ncj = cookielib.LWPCookieJar()\n\nbr = mechanize.Browser()\nbr.addheaders = [('User-agent', 'Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.0.1) Gecko/2008071615 Fedora/3.0.1-1.fc9 Firefox/3.0.1'), \n                    ('accept', 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'),\n                    ('accept-language', 'de,en-US;q=0.7,en;q=0.3'), \n                    ('accept-encoding', '')]\nbr.set_handle_robots(False)\nbr.set_cookiejar(cj)\nbr.set_handle_equiv(True)\nbr.set_handle_redirect(True)\nbr.set_handle_referer(True)\nbr.set_handle_robots(False)\nbr.set_handle_refresh(mechanize._http.HTTPRefreshProcessor(), max_time=1)           \n\nfilename = \"spinner-metre.png\"\nurl = 'http://waifu2x.udp.jp/'\nbr.open(url)\nbr.select_form(nr=0)\nbr.form.add_file(open(filename), 'text/plain', filename)\nbr.form.set_value(['2'],name='noise')\nbr.form.set_value(['2'],name='scale')\n\nbr.submit()\nprint br.read()\n</code></pre>\n\n<p>What am I doing wrong and how could I possibly fix this?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 26457, "user_id": 624829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95e50fdfbe4cb4f3715d82a2e7e46cb8?s=128&d=identicon&r=PG", "display_name": "Boud", "link": "https://stackoverflow.com/users/624829/boud"}, "edited": false, "score": 0, "creation_date": 1436396526, "post_id": 31305232, "comment_id": 50600242, "body": "isempty doesn&#39;t exist on a Series. And you are not looping through the cells of the series here. What is the content of your df?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1436429118, "post_id": 31305232, "comment_id": 50611384, "body": "Can you post the output from <code>df.info()</code> are you sure your dtypes are numeric and not strings?"}], "answers": [{"tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 1, "last_activity_date": 1436397543, "creation_date": 1436397543, "answer_id": 31305494, "question_id": 31305232, "link": "https://stackoverflow.com/questions/31305232/how-to-check-if-pandas-dataframe-cell-contains-zeros/31305494#31305494", "title": "how to check if pandas dataframe cell contains zeros", "body": "<p>I think you want to filter your dataframe before performing your loop (note that you have to enclose your boolean conditions in brackets inside the indexer):</p>\n\n<pre><code>df_filtered = df[(df.cost != 0) &amp; (df.new_cost != 0)]\n</code></pre>\n"}], "owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2743, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1436397543, "creation_date": 1436396091, "last_edit_date": 1436397299, "question_id": 31305232, "link": "https://stackoverflow.com/questions/31305232/how-to-check-if-pandas-dataframe-cell-contains-zeros", "title": "how to check if pandas dataframe cell contains zeros", "body": "<p>I am doing a for loop to go thorugh a series in my dataframe. I want to say that if both cells are zero, skip. I have to skip because i want to plot the output but when they 2 cells 'cost' and 'new_cost' is zero, it will give me an error:</p>\n\n<p>data:</p>\n\n<pre><code>cost   new_cost\n100.00  25.00\n0.00     0.00\n3.00    10.00\n</code></pre>\n\n<p><code>TypeError: Empty 'Series': no numeric data to plot</code></p>\n\n<p>This is mycode:</p>\n\n<pre><code>if df.cost.isempty and df.new_cost.isempty:\n    continue\nelse:\n  .\n</code></pre>\n\n<p>This also didnt work:     </p>\n\n<pre><code>if df[df.cost==0.00] and df[df.new_cost==0.00]:\n    continue\nelse:\n</code></pre>\n\n<p>But now i am getting <code>ValueError: The truth value of a DataFrame is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code></p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436399886, "post_id": 31305642, "comment_id": 50601245, "body": "oh thank god thank you soooooooo much Tigerhawk thank you soooo much"}, {"owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436400355, "post_id": 31305642, "comment_id": 50601373, "body": "Hey i dont suppose you&#39;d know how to resize the text box entry? if possible that is thanks heaps works now."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436400888, "post_id": 31305642, "comment_id": 50601498, "body": "You can choose the width in characters with the <code>width</code> keyword, e.g. <code>e1 = Entry(canvas, width=10)</code>. If you want more than one line and more options, you&#39;ll have to go with a <code>Text</code> widget instead of <code>Entry</code>."}, {"owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436401513, "post_id": 31305642, "comment_id": 50601655, "body": "thank you so much TigerHawk you the best also sorry to bother again dont suppose youd know how to resize the text?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436401760, "post_id": 31305642, "comment_id": 50601730, "body": "With the <code>font</code> keyword, e.g. <code>e1 = Entry(canvas, width=10, font=&#39;Helvetica 20&#39;)</code>."}, {"owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436401979, "post_id": 31305642, "comment_id": 50601776, "body": "thank you soooo much TigerHawk works thank you sooooo much this is better than google :-)"}, {"owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436405770, "post_id": 31305642, "comment_id": 50602658, "body": "TigerHawk your my only hope i need your help"}, {"owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436409862, "post_id": 31305642, "comment_id": 50603641, "body": "I&#39;m trying to make a little program where it helps someone improve on their basic addition and subtraction, so i need help on the part where its bout the userinput == answer and displays correct but its just not working how do i post my program it to long?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436410708, "post_id": 31305642, "comment_id": 50603839, "body": "Try to troubleshoot it yourself first. Use any error messages it produces to track down the source of problems. If you can&#39;t figure it out on your own (with research), edit your code down to the smallest program that still demonstrates the problem (the code in this question is a good example) and ask a new question."}, {"owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "edited": false, "score": 0, "creation_date": 1436411677, "post_id": 31305642, "comment_id": 50604055, "body": "Thank you for your help ill re ask the question and include my program thank you so much for your help."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1436398439, "creation_date": 1436398439, "answer_id": 31305642, "question_id": 31305230, "link": "https://stackoverflow.com/questions/31305230/entry-widget-doesnt-work/31305642#31305642", "title": "Entry widget doesn&#39;t work", "body": "<p>The position of the created window has to be passed as the first two arguments, not as keyword arguments.</p>\n\n<pre><code>canvas.create_window(100, 100, window=e1)\n</code></pre>\n\n<p>Also, the <code>Entry</code> widget doesn't need to be packed when used in this manner, so the <code>e1.pack()</code> line should be removed entirely.</p>\n"}], "owner": {"reputation": 19, "user_id": 5096097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MijsY.jpg?s=128&g=1", "display_name": "JAA FEEEL", "link": "https://stackoverflow.com/users/5096097/jaa-feeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 31305642, "answer_count": 1, "score": 0, "last_activity_date": 1436465772, "creation_date": 1436396069, "last_edit_date": 1436465772, "question_id": 31305230, "link": "https://stackoverflow.com/questions/31305230/entry-widget-doesnt-work", "title": "Entry widget doesn&#39;t work", "body": "<p>I'm fairly new to python and I need help with this problem. How do I get a user to input something on canvas? I've tried taking out the <code>x=</code> and <code>y=</code> but it doesn't work... after I run the module it says \"Non-Keyword arg after Keyword arg\". Please help.</p>\n\n<pre><code>from tkinter import*   \ndef main():     \n   global window     \n   global tkinter     \n   global canvas     \n   window = Tk()     \n   canvas = Canvas(window, width=400, height=300, bg='blue')    \n   e1 = Entry(canvas)     \n   canvas.create_window(window=e1, x=100,y=100)      \n   e1.pack()      \n   canvas.pack()     \n   window.mainloop() \nmain()\n</code></pre>\n"}, {"tags": ["android", "python", "wifi", "appium"], "comments": [{"owner": {"reputation": 161, "user_id": 4297566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc64271d67d2beca13470b62be2254bb?s=128&d=identicon&r=PG&f=1", "display_name": "Ying Ma", "link": "https://stackoverflow.com/users/4297566/ying-ma"}, "edited": false, "score": 1, "creation_date": 1436464130, "post_id": 31305213, "comment_id": 50635938, "body": "I didn&#39;t find a way to get/set network settings via Appium. Use an alternative way:                                                                                   <code>adb shell am start -a android.intent.action.MAIN -n com.android.settings&#47;.wifi.WifiSettings  &lt;br&#47;&gt;                                                                                                                      adb shell input keyevent 19 &amp; adb shell input keyevent 23</code>"}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 2795894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TVDX8.jpg?s=128&g=1", "display_name": "Fayez Alrafeea", "link": "https://stackoverflow.com/users/2795894/fayez-alrafeea"}, "is_accepted": false, "score": 0, "last_activity_date": 1463052738, "creation_date": 1463052738, "answer_id": 37185639, "question_id": 31305213, "link": "https://stackoverflow.com/questions/31305213/how-to-get-set-network-connection-through-appium-for-an-android-device/37185639#37185639", "title": "How to get/set network connection through Appium for an android device", "body": "<p>You can get/change network connection settings through <code>AndroidDriver</code>. However, it works only for Android version less than 5.</p>\n\n<pre><code>AppiumDriver&lt;WebElement&gt; driver = new AndroidDriver&lt;WebElement&gt;(new URL(\"...\"), caps);\nNetworkConnectionSetting networkConnection = new NetworkConnectionSetting(false, true, false);  // airplane mode, wiif, data\n\nnetworkConnection.setData(true);  // enable mobile data\nnetworkConnection.setWifi(false); // close wifi\n\n((AndroidDriver&lt;WebElement&gt;)driver).setNetworkConnection(networkConnection);\nnetworkConnection = ((AndroidDriver&lt;WebElement&gt;)driver).getNetworkConnection();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4599, "user_id": 8330162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDyyg.jpg?s=128&g=1", "display_name": "B--rian", "link": "https://stackoverflow.com/users/8330162/b-rian"}, "edited": false, "score": 2, "creation_date": 1565095330, "post_id": 57375905, "comment_id": 101237056, "body": "Welcome to SO! Please edit your answer so that it has some introduction which relates to the question plus some explanation how it works/ helps. Code-only answers are usually not too helpful, your code does not even comments inside."}], "tags": [], "owner": {"reputation": 9, "user_id": 5944412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce535216f7b277cfc515bc84851f7b72?s=128&d=identicon&r=PG&f=1", "display_name": "Bipin Kumar Chaurasia", "link": "https://stackoverflow.com/users/5944412/bipin-kumar-chaurasia"}, "is_accepted": false, "score": -1, "last_activity_date": 1565103082, "last_edit_date": 1565103082, "creation_date": 1565093916, "answer_id": 57375905, "question_id": 31305213, "link": "https://stackoverflow.com/questions/31305213/how-to-get-set-network-connection-through-appium-for-an-android-device/57375905#57375905", "title": "How to get/set network connection through Appium for an android device", "body": "<p>The following code may fix your problem.</p>\n\n<pre><code>NetworkConnectionSetting ncs = new NetworkConnectionSetting(false, true, false);\ndriver.setNetworkConnection(ncs);\nSystem.out.println(ncs.toString());\n\nncs.setWifi(false);\ndriver.setNetworkConnection(ncs);\nSystem.out.println(ncs.toString());\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 4297566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc64271d67d2beca13470b62be2254bb?s=128&d=identicon&r=PG&f=1", "display_name": "Ying Ma", "link": "https://stackoverflow.com/users/4297566/ying-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2365, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1565103082, "creation_date": 1436395932, "last_edit_date": 1438159836, "question_id": 31305213, "link": "https://stackoverflow.com/questions/31305213/how-to-get-set-network-connection-through-appium-for-an-android-device", "title": "How to get/set network connection through Appium for an android device", "body": "<p>I try to use Appium to test my android device:\nThe basic work I need to do is to get the network connection status.\nEnvironment: [Appium Server v 1.4.0 on Windows 7 + Python Client 0.16]</p>\n\n<pre><code>from appium import webdriver\n\ndesired_caps = {}\ndesired_caps['platformName'] = 'Android'\ndesired_caps['platformVersion'] = '4.4'\ndesired_caps['deviceName'] = 'SamSung Galaxy Note4'\ndesired_caps['browserName'] = 'Chrome'\n\n\ndriver = webdriver.Remote('http://localhost:4723/wd/hub', desired_caps)\ndriver.get('http://google.com')\nprint driver.contexts\nprint driver.network_connection\ntime.sleep(5)\ndriver.quit()\n</code></pre>\n\n<p>However, when I run the script, I just got the below output:</p>\n\n<pre><code>&gt; [u'NATIVE_APP', u'WEBVIEW_1'] Traceback (most recent call last):  \n&gt; File \"D:/PycharmProjects/Work/hello/Work_YM/Appium/sample_1.py\", line\n&gt; 15, in &lt;module&gt;\n&gt;     print driver.network_connection()   File \"C:\\Python27\\lib\\site-packages\\appium\\webdriver\\webdriver.py\", line\n&gt; 601, in network_connection\n&gt;     return self.execute(Command.GET_NETWORK_CONNECTION, {})['value']   File\n&gt; \"C:\\Python27\\lib\\site-packages\\selenium\\webdriver\\remote\\webdriver.py\",\n&gt; line 195, in execute\n&gt;     self.error_handler.check_response(response)   File \"C:\\Python27\\lib\\site-packages\\appium\\webdriver\\errorhandler.py\", line\n&gt; 29, in check_response\n&gt;     raise wde selenium.common.exceptions.WebDriverException: Message: \"unknown command:\n&gt; session/31fe15845b2580877c1900c31d8f688d/network_connection\"\n</code></pre>\n\n<p>It seems the network_connection(which is a property of webDriver) doesn't work, anyone can give some help?\nThanks!</p>\n"}, {"tags": ["python", "multithreading", "python-multithreading"], "answers": [{"comments": [{"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1436404231, "post_id": 31305269, "comment_id": 50602323, "body": "Shouldn&#39;t you be checking if <code>thread</code> is the <code>current thread</code> as to avoid <code>deadlock</code> situation?"}, {"owner": {"reputation": 1956, "user_id": 3926499, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bf2c46207a53ace905fa2294c5acfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Donnald", "link": "https://stackoverflow.com/users/3926499/jason-donnald"}, "edited": false, "score": 0, "creation_date": 1436408277, "post_id": 31305269, "comment_id": 50603275, "body": "@KhalilAmmour-\u062e\u0644\u064a\u0644\u0639\u0645\u0648\u0631what kind of deadlock are you mentioning about?"}, {"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1436415804, "post_id": 31305269, "comment_id": 50605134, "body": "From Python Docs:  &gt;join() raises a RuntimeError if an attempt is made to join the current thread as that would cause a deadlock."}, {"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "reply_to_user": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1436416039, "post_id": 31305269, "comment_id": 50605200, "body": "@KhalilAmmour-\u062e\u0644\u064a\u0644\u0639\u0645\u0648\u0631, I actually didn&#39;t know this way was not <code>thread-safe</code>. Can you please add the <i>right</i> way of doing it as another answer? Thanks."}, {"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1436416669, "post_id": 31305269, "comment_id": 50605358, "body": "@Sait Posted as answer"}], "tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": false, "score": 4, "last_activity_date": 1436396260, "creation_date": 1436396260, "answer_id": 31305269, "question_id": 31305164, "link": "https://stackoverflow.com/questions/31305164/how-to-wait-for-dynamically-started-multiple-threads-in-python-to-finish/31305269#31305269", "title": "how to wait for dynamically started multiple threads in python to finish", "body": "<p>Why don't you keep them in a list?</p>\n\n<pre><code>threads = []\n\nfor val in range(0,max_val):\n    thread1 = threading.Thread(target=func9, args=(val,))\n    thread1.start()\n    threads.append(thread1)\n\nfor thread in threads:\n    thread.join()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "is_accepted": false, "score": 1, "last_activity_date": 1436416609, "creation_date": 1436416609, "answer_id": 31308226, "question_id": 31305164, "link": "https://stackoverflow.com/questions/31305164/how-to-wait-for-dynamically-started-multiple-threads-in-python-to-finish/31308226#31308226", "title": "how to wait for dynamically started multiple threads in python to finish", "body": "<p>Referring to Python <a href=\"https://docs.python.org/2/library/threading.html#threading.Thread.join\" rel=\"nofollow\">Docs</a>:</p>\n\n<blockquote>\n  <p>join() raises a RuntimeError if an attempt is made to join the current\n  thread as that would cause a deadlock. It is also an error to join() a\n  thread before it has been started and attempts to do so raises the\n  same exception.</p>\n</blockquote>\n\n<p>You can do it this way without even saving them to a list (Example taken from <a href=\"http://pymotw.com/2/threading/#enumerating-all-threads\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>main_thread = threading.currentThread()\nfor t in threading.enumerate():\n    if t is main_thread:\n        continue\n    t.join()\n</code></pre>\n\n<p><code>enumerate()</code> returns a list of active Thread instances</p>\n"}], "owner": {"reputation": 1956, "user_id": 3926499, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bf2c46207a53ace905fa2294c5acfcc3?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Donnald", "link": "https://stackoverflow.com/users/3926499/jason-donnald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1436416609, "creation_date": 1436395675, "question_id": 31305164, "link": "https://stackoverflow.com/questions/31305164/how-to-wait-for-dynamically-started-multiple-threads-in-python-to-finish", "title": "how to wait for dynamically started multiple threads in python to finish", "body": "<p>I am using <code>threading</code> in python to spawn multiple threads dynamically. This is how I am spawning the threads:</p>\n\n<pre><code>def func(max_val):\n\n    for val in range(0,max_val):\n        thread1 = threading.Thread(target=func9, args=(val,))\n        thread1.start()\n\n    print 'Ended all threads' #this should get printed once all the threads have ended\n    # bunch of other code after this\n    .\n    .\n    .\n\n\nif __name__ == '__main__':\n    ret = func()\n</code></pre>\n\n<p>What I want that once all the threads have been spawned then process should wait till all the threads have ended and then proceed with next line in code. I know that we use <code>thread1.join()</code> to wait for a thread but if I place this inside the <code>for</code> loop then it will wait for 1st thread to end before spawning the next thread. I don't want it to wait for one thread to end before starting the next thread. It should spawn all the threads simultaneously and then wait for all of them to end before executing next line in code (like the <code>print</code> in <code>func()</code> above should be executed once all the threads have ended).</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["python", "qt", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "is_accepted": true, "score": 2, "last_activity_date": 1436398544, "last_edit_date": 1436398544, "creation_date": 1436396783, "answer_id": 31305361, "question_id": 31305154, "link": "https://stackoverflow.com/questions/31305154/pyqt-qmovie-will-not-loop-gif/31305361#31305361", "title": "PyQt QMovie will not loop GIF", "body": "<p>Actually the <strong>gif</strong> was saved before with the Looping Option <strong>play once</strong>. So changing it to \"<strong>Forever</strong>\" did the trick.</p>\n\n<p><img src=\"https://i.stack.imgur.com/jtt82.png\" alt=\"Photoshop Gif export with Forever Option\"></p>\n"}], "owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2481, "favorite_count": 1, "accepted_answer_id": 31305361, "answer_count": 1, "score": 0, "last_activity_date": 1436398544, "creation_date": 1436395607, "question_id": 31305154, "link": "https://stackoverflow.com/questions/31305154/pyqt-qmovie-will-not-loop-gif", "title": "PyQt QMovie will not loop GIF", "body": "<p>I have a working example of playing a <strong>gif</strong>, but it isn't looping the GIF. Even i changed <strong>movie.setCacheMode(QMovie.CacheAll)</strong></p>\n\n<p>Any Idea?\n<img src=\"https://i.stack.imgur.com/IgCgU.gif\" alt=\"enter image description here\"> -->Animated Gif</p>\n\n<pre><code>from PyQt4 import QtCore, QtGui\nfrom PyQt4.QtGui import *\nfrom PyQt4.QtCore import *\n\nimport sys\n\nclass ImagePlayer(QWidget):\n    def __init__(self, filename, title, parent=None):\n        QWidget.__init__(self, parent)\n\n        # Load the file into a QMovie\n        self.movie = QMovie(filename, QByteArray(), self)\n\n        size = self.movie.scaledSize()\n        self.setGeometry(200, 200, size.width(), size.height())\n        self.setWindowTitle(title)\n\n        self.movie_screen = QLabel()\n        # Make label fit the gif\n        self.movie_screen.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding)\n        self.movie_screen.setAlignment(Qt.AlignCenter)\n\n        # Create the layout\n        main_layout = QVBoxLayout()\n        main_layout.addWidget(self.movie_screen)\n\n        self.setLayout(main_layout)\n\n        # Add the QMovie object to the label\n        self.movie.setCacheMode(QMovie.CacheAll)\n        self.movie.setSpeed(100)\n        self.movie_screen.setMovie(self.movie)\n        self.movie.start()\n        self.movie.loopCount()\n\n\nif __name__ == \"__main__\":\n    gif = \"dotGreen.gif\"\n    app = QApplication(sys.argv)\n    player = ImagePlayer(gif, \"was\")\n    player.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 4175920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/KGDmG.jpg?s=128&g=1", "display_name": "Empario", "link": "https://stackoverflow.com/users/4175920/empario"}, "edited": false, "score": 0, "creation_date": 1436397369, "post_id": 31305165, "comment_id": 50600514, "body": "How can it be done? I have tried: data = pickle.dumps(f, t) but it did not work."}, {"owner": {"reputation": 3324, "user_id": 1660501, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Yl1I3.jpg?s=128&g=1", "display_name": "Samuel O&#39;Malley", "link": "https://stackoverflow.com/users/1660501/samuel-omalley"}, "reply_to_user": {"reputation": 392, "user_id": 4175920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/KGDmG.jpg?s=128&g=1", "display_name": "Empario", "link": "https://stackoverflow.com/users/4175920/empario"}, "edited": false, "score": 0, "creation_date": 1436397473, "post_id": 31305165, "comment_id": 50600548, "body": "Are you trying to dump the tuple <code>(f,t)</code>? Try <code>pickle.dumps((f,t))</code>."}, {"owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1509051389, "post_id": 31305165, "comment_id": 80875151, "body": "what are f and t?"}, {"owner": {"reputation": 3324, "user_id": 1660501, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Yl1I3.jpg?s=128&g=1", "display_name": "Samuel O&#39;Malley", "link": "https://stackoverflow.com/users/1660501/samuel-omalley"}, "reply_to_user": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1509324766, "post_id": 31305165, "comment_id": 80960177, "body": "@TrevorHickey - they are just the variables from the question. The problem is that <code>pickle.dumps</code> accepts one argument, but the op wanted to pass it a tuple with two items in it but was missing the extra brackets."}], "tags": [], "owner": {"reputation": 3324, "user_id": 1660501, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Yl1I3.jpg?s=128&g=1", "display_name": "Samuel O&#39;Malley", "link": "https://stackoverflow.com/users/1660501/samuel-omalley"}, "is_accepted": true, "score": 1, "last_activity_date": 1436397531, "last_edit_date": 1436397531, "creation_date": 1436395683, "answer_id": 31305165, "question_id": 31305152, "link": "https://stackoverflow.com/questions/31305152/python-pickle-dump-without-a-file/31305165#31305165", "title": "Python - pickle.dump() without a file", "body": "<p>You can use <code>pickle.dumps((f, t))</code> to dump to a string instead</p>\n"}], "owner": {"reputation": 392, "user_id": 4175920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/KGDmG.jpg?s=128&g=1", "display_name": "Empario", "link": "https://stackoverflow.com/users/4175920/empario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 0, "closed_date": 1436395712, "accepted_answer_id": 31305165, "answer_count": 1, "score": 1, "last_activity_date": 1436397531, "creation_date": 1436395591, "last_edit_date": 1436397265, "question_id": 31305152, "link": "https://stackoverflow.com/questions/31305152/python-pickle-dump-without-a-file", "closed_reason": "Duplicate", "title": "Python - pickle.dump() without a file", "body": "<p>This is the code I have:</p>\n\n<pre><code>with open(testify, 'w') as fh:\n    pickle.dump((f,t), fh)\n</code></pre>\n\n<p>I need the data in my code without dumping it to a file because it needs to be send to remote location.</p>\n\n<p>I have tried:</p>\n\n<pre><code>data = pickle.dumps(f, t)\n</code></pre>\n\n<p>but it did not work.\nHow can this be done?</p>\n"}, {"tags": ["python", "regex"], "answers": [{"tags": [], "owner": {"reputation": 1128, "user_id": 5045738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qaIAHMHChvQ/AAAAAAAAAAI/AAAAAAAAABc/HaAvc-Vpqc4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5045738/james"}, "is_accepted": false, "score": 1, "last_activity_date": 1436395790, "creation_date": 1436395790, "answer_id": 31305186, "question_id": 31305039, "link": "https://stackoverflow.com/questions/31305039/match-second-number-that-follows-a-given-pattern/31305186#31305186", "title": "Match second number that follows a given pattern", "body": "<p>You could make it slightly cleaner by putting the desired value into a group.</p>\n\n<pre><code>&gt;&gt;&gt; re.search(\"code \\d+ (\\d+)\",s).group(1)\n'13'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "is_accepted": false, "score": 1, "last_activity_date": 1436395844, "creation_date": 1436395844, "answer_id": 31305193, "question_id": 31305039, "link": "https://stackoverflow.com/questions/31305039/match-second-number-that-follows-a-given-pattern/31305193#31305193", "title": "Match second number that follows a given pattern", "body": "<pre><code>re.search(\"code \\d+ (\\d+)\", s).group(1) \n</code></pre>\n\n<p>should work. \nThe () brackets identify which group you want to capture.\nGroup 0 is the whole text and the following are the groups numbered in sequence.</p>\n"}, {"tags": [], "owner": {"reputation": 5236, "user_id": 1913990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab871420257b4167142acf11b0923cb?s=128&d=identicon&r=PG", "display_name": "cmd", "link": "https://stackoverflow.com/users/1913990/cmd"}, "is_accepted": true, "score": 3, "last_activity_date": 1436395930, "creation_date": 1436395930, "answer_id": 31305212, "question_id": 31305039, "link": "https://stackoverflow.com/questions/31305039/match-second-number-that-follows-a-given-pattern/31305212#31305212", "title": "Match second number that follows a given pattern", "body": "<p>you could skip <code>re</code> all together</p>\n\n<pre><code>&gt;&gt;&gt; a = s.split()\n&gt;&gt;&gt; a[a.index('code') + 2]\n'13'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3679, "user_id": 2487336, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6eae2a9fe7257a46c91f0515087e2940?s=128&d=identicon&r=PG", "display_name": "xgord", "link": "https://stackoverflow.com/users/2487336/xgord"}, "is_accepted": false, "score": 1, "last_activity_date": 1436400132, "last_edit_date": 1436400132, "creation_date": 1436397974, "answer_id": 31305559, "question_id": 31305039, "link": "https://stackoverflow.com/questions/31305039/match-second-number-that-follows-a-given-pattern/31305559#31305559", "title": "Match second number that follows a given pattern", "body": "<p>This is a little shorter than the <code>re.search</code> solutions:</p>\n\n<pre><code>re.findall('code \\d+ (\\d+)', s)\n</code></pre>\n\n<p>It will return back only what matches the group defined in the <code>()</code></p>\n"}], "owner": {"reputation": 14929, "user_id": 2051137, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1sIMq.jpg?s=128&g=1", "display_name": "Remi.b", "link": "https://stackoverflow.com/users/2051137/remi-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 31305212, "answer_count": 4, "score": 3, "last_activity_date": 1436400132, "creation_date": 1436394976, "last_edit_date": 1436395762, "question_id": 31305039, "link": "https://stackoverflow.com/questions/31305039/match-second-number-that-follows-a-given-pattern", "title": "Match second number that follows a given pattern", "body": "<p>I have strings of this kind</p>\n\n<pre><code>hello 45 blabla 12 100 code 45 13 093bb \n</code></pre>\n\n<p>I'd like to match the second number that follows the keyword <code>code</code> (with Python). In this example <code>\"13\"</code> should be returned.</p>\n\n<hr>\n\n<p>Here is the solution I found</p>\n\n<pre><code>s = \"hello 45 blabla 12 100 code 45 13 093bb \"\nre.search(\"code \\d+ \\d+\",s).group(0).split(\" \")[-1]\n# '13'\n</code></pre>\n\n<p>It works but there are probably better solutions. I have tried using lookbehind but I run into the issue that python doesn't tolerate lookbehind of underfined length (and I don't know the number of digits in the first number that follows <code>code</code>). I tried that</p>\n\n<pre><code>re.search(\"(?&lt;=code \\d+)\\d+\",s).group(0)\n#\u00a0raise error, v # invalid expression\n# sre_constants.error: look-behind requires fixed-width pattern\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1436395302, "post_id": 31305026, "comment_id": 50599790, "body": "I did a quick test in python and found out why it is always returning true. Whenever I convert (m /n) into an int it will always give me c which will always be 0 so everything will be True. In that case, I have no idea how to make a function to try and find a multiple."}, {"owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1436395504, "post_id": 31305026, "comment_id": 50599873, "body": "Even when using floats it will always return True because in the variable d I am always converting it into an integer so c and d will always be the same number that equals 0 correct?"}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1436395558, "post_id": 31305026, "comment_id": 50599893, "body": "Did you try to adapt the solution from the above link?"}, {"owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1436395690, "post_id": 31305026, "comment_id": 50599953, "body": "Vaultah I looked at the example and it uses while loops which I have not learned and can not use yet. It gives me a hint at the modulus operator though."}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1436395755, "post_id": 31305026, "comment_id": 50599972, "body": "The top answer: &quot;You do this using the modulus operator, %&quot;. It does not even mention any loops. You <i>don&#39;t need</i> any loops."}, {"owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "reply_to_user": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1436395867, "post_id": 31305026, "comment_id": 50600019, "body": "So what is the difference between finding a multiple of a number and finding a factor of a number syntactically?"}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "edited": false, "score": 0, "creation_date": 1436395994, "post_id": 31305026, "comment_id": 50600064, "body": "@RandyGoldsmith Note that <code>is_multiple(12.0, 7)</code> will work fine. That&#39;s because you force <code>m &#47; n</code> to do <i>float</i> divison. So changing <code>c = float(m) &#47; n</code> will do the trick. That&#39;s one way to do that. BTW: you can remove all those ifs and do simple <code>return c-d == 0</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1436396151, "post_id": 31305026, "comment_id": 50600116, "body": "When you divide an int by an int, it always returns an int. You need to convert <code>m</code> or <code>n</code> to floats before dividing."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1436396188, "post_id": 31305026, "comment_id": 50600124, "body": "You also shouldn&#39;t use <code>elif</code> when the second condition is just the opposite of the first condition. Just use <code>else</code>."}, {"owner": {"reputation": 1002, "user_id": 4905637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5ce2af8214323986fb6f7568482e48?s=128&d=identicon&r=PG&f=1", "display_name": "Dleep", "link": "https://stackoverflow.com/users/4905637/dleep"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1436396193, "post_id": 31305026, "comment_id": 50600126, "body": "@Barmar <code>m</code> or <code>n</code>, just one of them will suffice"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "edited": false, "score": 0, "creation_date": 1436397460, "post_id": 31305280, "comment_id": 50600541, "body": "You also answered the next problem in my book that asks &quot;how could you use the function is_factor inside the function is_multiple. It is still a little confusing but I get it enough. They seem like they are inverses of each other but this does answer all my questions. Very helpful again thanks"}], "tags": [], "owner": {"reputation": 1128, "user_id": 5045738, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qaIAHMHChvQ/AAAAAAAAAAI/AAAAAAAAABc/HaAvc-Vpqc4/photo.jpg?sz=128", "display_name": "James", "link": "https://stackoverflow.com/users/5045738/james"}, "is_accepted": true, "score": 0, "last_activity_date": 1436396326, "creation_date": 1436396326, "answer_id": 31305280, "question_id": 31305026, "link": "https://stackoverflow.com/questions/31305026/finding-a-multiple-function-keeps-returning-true-and-is-there-a-simpler-way-to-w/31305280#31305280", "title": "Finding a multiple function keeps returning true and is there a simpler way to write this function in python", "body": "<p>Your <code>is_factor</code> looks correct.  You could simplify it to</p>\n\n<pre><code>def is_factor(f, n):\n    return n % f == 0\n</code></pre>\n\n<p>If you want to check if <code>x</code> is a multiple of <code>y</code>, this is the same as saying <code>y</code> is a factor of <code>x</code>.  Thus, you can do</p>\n\n<pre><code>def is_multiple(m, n):\n    return is_factor(n, m)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "edited": false, "score": 0, "creation_date": 1436397226, "post_id": 31305318, "comment_id": 50600469, "body": "Thank you, that&#39;s very helpful"}], "tags": [], "owner": {"reputation": 136, "user_id": 5094773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba1180d1e755e1fb803650bdf0c51de?s=128&d=identicon&r=PG&f=1", "display_name": "AJ Uppal", "link": "https://stackoverflow.com/users/5094773/aj-uppal"}, "is_accepted": false, "score": 1, "last_activity_date": 1436396905, "last_edit_date": 1436396905, "creation_date": 1436396523, "answer_id": 31305318, "question_id": 31305026, "link": "https://stackoverflow.com/questions/31305026/finding-a-multiple-function-keeps-returning-true-and-is-there-a-simpler-way-to-w/31305318#31305318", "title": "Finding a multiple function keeps returning true and is there a simpler way to write this function in python", "body": "<p>When you divide in <a href=\"/questions/tagged/python-2.x\" class=\"post-tag\" title=\"show questions tagged &#39;python-2.x&#39;\" rel=\"tag\">python-2.x</a>, the division is rounded. Instead, import <code>division</code> from <code>__future__</code> at the top of your file:</p>\n\n<pre><code>from __future__ import division\ndef is_multiple(m, n):\n    \"\"\"\n      &gt;&gt;&gt; is_multiple(12, 3)\n      True\n      &gt;&gt;&gt; is_multiple(12, 4)\n      True\n      &gt;&gt;&gt; is_multiple(12, 5)\n      False\n      &gt;&gt;&gt; is_multiple(12, 6)\n      True\n      &gt;&gt;&gt; is_multiple(12, 7)\n      False\n    \"\"\"\n    c = m / n\n    d = int(m / n)\n    if (c-d)== 0:\n        return True\n    elif (c-d)!= 0:\n        return False\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; 12/5 == 12/6\nTrue\n&gt;&gt;&gt; 12/6\n2\n&gt;&gt;&gt; 12/5\n2\n&gt;&gt;&gt; from __future__ import division #To allow for unrounded division\n&gt;&gt;&gt; 12/5 == 12/6\nFalse\n&gt;&gt;&gt; 12/5\n2.4\n&gt;&gt;&gt; 12/6\n2.0\n</code></pre>\n\n<h2>You could also use modulo <code>%</code>:</h2>\n\n<p>Modulo <code>%</code> divided the two numbers, and returns the remainder:</p>\n\n<pre><code>&gt;&gt;&gt; 12 % 7 #12 divided y 7 is 1 remainder 5, the 5 is returned\n5\n&gt;&gt;&gt; 12 % 6 #12 divided y 7 is 2 remainder 0, the 0 is returned\n0\n&gt;&gt;&gt; 12 % 5 #12 divided y 5 is 2 remainder 1, the 1 is returned\n2\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Thus, whenever the remainder is <code>0</code>, the second number goes into the first one perfectly, which simplifies your function to:</p>\n\n<pre><code>def is_multiple(m, n):\n    return m % n == 0\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 4617257, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/685d8a3944c90ffa284095d8e826011d?s=128&d=identicon&r=PG&f=1", "display_name": "Randy Goldsmith", "link": "https://stackoverflow.com/users/4617257/randy-goldsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "closed_date": 1436449957, "accepted_answer_id": 31305280, "answer_count": 2, "score": 0, "last_activity_date": 1436396988, "creation_date": 1436394930, "last_edit_date": 1436396988, "question_id": 31305026, "link": "https://stackoverflow.com/questions/31305026/finding-a-multiple-function-keeps-returning-true-and-is-there-a-simpler-way-to-w", "closed_reason": "Duplicate", "title": "Finding a multiple function keeps returning true and is there a simpler way to write this function in python", "body": "<pre><code>def is_multiple(m, n):\n    \"\"\"\n      &gt;&gt;&gt; is_multiple(12, 3)\n      True\n      &gt;&gt;&gt; is_multiple(12, 4)\n      True\n      &gt;&gt;&gt; is_multiple(12, 5)\n      False\n      &gt;&gt;&gt; is_multiple(12, 6)\n      True\n      &gt;&gt;&gt; is_multiple(12, 7)\n      False\n    \"\"\"\n\n    c = m / n\n    d = int(m / n)\n    if (c-d)== 0:\n        return True\n    elif (c-d)!= 0:\n        return False\n</code></pre>\n\n<p>I am trying to make a function that decides if m is a multiple of n. I can only use what I have learned which is functions, if/else, if/elif/else statements, Boolean expressions and simple things like that. I have not gotten to for, while, do/while expressions yet. My code keeps returning True for everything which it is false in two cases. So why does it keep returning True, and also is there a more simpler way to write a function for finding a multiple of a number?</p>\n\n<p>Updated code:</p>\n\n<pre><code>def is_factor(f,n):\n    \"\"\"\n      &gt;&gt;&gt; is_factor(3, 12)\n      True\n      &gt;&gt;&gt; is_factor(5, 12)\n      False\n      &gt;&gt;&gt; is_factor(7, 14)\n      True\n      &gt;&gt;&gt; is_factor(2, 14)\n      True\n      &gt;&gt;&gt; is_factor(7, 15)\n      False\n    \"\"\"\n    if n % f == 0:\n        return True\n    else:\n        return False\n</code></pre>\n\n<p>So that code can be used to find a multiple of a number also?</p>\n\n<p>Correct updated code that produces correct result:</p>\n\n<pre><code>def is_multiple(m, n):\n    \"\"\"\n      &gt;&gt;&gt; is_multiple(12, 3)\n      True\n      &gt;&gt;&gt; is_multiple(12, 4)\n      True\n      &gt;&gt;&gt; is_multiple(12, 5)\n      False\n      &gt;&gt;&gt; is_multiple(12, 6)\n      True\n      &gt;&gt;&gt; is_multiple(12, 7)\n      False\n    \"\"\"\n\n    c = float (m) / n\n    d = m / n\n    if (c-d)== 0:\n        return True\n    else:\n        return False\n</code></pre>\n"}, {"tags": ["python", "json", "python-requests"], "comments": [{"owner": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "edited": false, "score": 0, "creation_date": 1436395021, "post_id": 31304977, "comment_id": 50599673, "body": "The boolean false is capitalized in Python: <code>False</code>"}], "answers": [{"tags": [], "owner": {"reputation": 455, "user_id": 1354719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/938442a14511a00576988a3cee1a1aea?s=128&d=identicon&r=PG", "display_name": "EL45", "link": "https://stackoverflow.com/users/1354719/el45"}, "is_accepted": true, "score": 0, "last_activity_date": 1436394992, "creation_date": 1436394992, "answer_id": 31305043, "question_id": 31304977, "link": "https://stackoverflow.com/questions/31304977/api-doesnt-accept-requests-put-http-call-json-formatting/31305043#31305043", "title": "API doesn&#39;t accept requests.put HTTP call, JSON formatting", "body": "<p>Try changing <code>body = json.dumps({\"on\": \"false\"})</code> to <code>body = json.dumps({\"on\": False})</code></p>\n\n<p>Notice capitalization on <code>False</code> in python.</p>\n"}, {"tags": [], "owner": {"reputation": 2259, "user_id": 3646530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/668f24062be0d0ff0f30e04af21a2d30?s=128&d=identicon&r=PG&f=1", "display_name": "ashwinjv", "link": "https://stackoverflow.com/users/3646530/ashwinjv"}, "is_accepted": false, "score": 0, "last_activity_date": 1436395074, "creation_date": 1436395074, "answer_id": 31305060, "question_id": 31304977, "link": "https://stackoverflow.com/questions/31304977/api-doesnt-accept-requests-put-http-call-json-formatting/31305060#31305060", "title": "API doesn&#39;t accept requests.put HTTP call, JSON formatting", "body": "<p>The API might be looking for a json bool as the value for the key <code>on</code>. If that is the case then <code>json.dumps({\"on\":False})</code> converts the python bool <code>False</code> to json bool <code>false</code> in the string. </p>\n\n<p>PS: This is also how you would convert python's <code>None</code> to json's <code>null</code> and other json specific keywords.</p>\n"}], "owner": {"reputation": 3, "user_id": 3749667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c87e3108768b787af85673d7d5443132?s=128&d=identicon&r=PG&f=1", "display_name": "user3749667", "link": "https://stackoverflow.com/users/3749667/user3749667"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 31305043, "answer_count": 2, "score": 0, "last_activity_date": 1436395074, "creation_date": 1436394737, "question_id": 31304977, "link": "https://stackoverflow.com/questions/31304977/api-doesnt-accept-requests-put-http-call-json-formatting", "title": "API doesn&#39;t accept requests.put HTTP call, JSON formatting", "body": "<p>I'm trying to make a HTTP call using the Requests HTTP library for Python.</p>\n\n<p>I have this code:</p>\n\n<pre><code>import requests\nimport json\n\nbody = json.dumps({\"on\": \"false\"})\nurl = \"http://192.168.100.100/api/0000/lights/4/state\"\nr = requests.put(url=url, data=body)\n</code></pre>\n\n<p>However, the API responds with</p>\n\n<pre><code>\"error\": {\n            \"type\": 7,\n            \"address\": \"/lights/4/state/on\",\n            \"description\": \"invalid value,  true }, for parameter, on\"\n</code></pre>\n\n<p>I'm not entirely sure what the problem is, but it could be that the BODY is getting formatted wrong; r.request.body says</p>\n\n<pre><code>{\"on\": \"false\"}\n</code></pre>\n\n<p>when it should be</p>\n\n<pre><code>{\"on\": false}\n</code></pre>\n\n<p>If I take off the quotes from the code I get</p>\n\n<pre><code>NameError: name 'false' is not defined\n</code></pre>\n\n<p>The call works when done in a browser, so I know the value is correct for this parameter. How can I correctly send this call?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1436395933, "post_id": 31304956, "comment_id": 50600047, "body": "It seems impossible for the code you posted to give the error you say it does (I am not at a computer where I can check). Part of the problem is that you are using <code>top</code> before it is defined, since it is defined as a local variable in a function that hasn&#39;t been called yet."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1436396604, "post_id": 31304956, "comment_id": 50600258, "body": "@Bryan I saw the same thing. This code needed quite a bit of rearrangement."}, {"owner": {"reputation": 111, "user_id": 5042179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/T9Wcu.jpg?s=128&g=1", "display_name": "Mickey", "link": "https://stackoverflow.com/users/5042179/mickey"}, "edited": false, "score": 0, "creation_date": 1436396823, "post_id": 31304956, "comment_id": 50600340, "body": "What if instead I define <code>top</code> before I implement it in the command <code>newwin</code> and just use <code>.destroy</code> to keep it hidden? I&#39;ll try that"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1436397065, "post_id": 31304956, "comment_id": 50600403, "body": "If you <code>destroy()</code> it you can&#39;t do anything with it, so that&#39;s not the right way to go."}, {"owner": {"reputation": 111, "user_id": 5042179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/T9Wcu.jpg?s=128&g=1", "display_name": "Mickey", "link": "https://stackoverflow.com/users/5042179/mickey"}, "edited": false, "score": 0, "creation_date": 1436397091, "post_id": 31304956, "comment_id": 50600411, "body": "Yeah, I tried and it didn&#39;t work. How else can I keep the window hidden other than <code>.destroy()</code>?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1436397195, "post_id": 31304956, "comment_id": 50600453, "body": "That would be <code>withdraw()</code>, but it&#39;s also not what you need here."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1436463632, "post_id": 31305294, "comment_id": 50635600, "body": "And if the OP does want populate as a separate function, then a test to see if top exists should be added.  They would add &quot;self.top=None&quot; to &quot;<b>init</b>&quot; and &quot;if self.top:&quot; to populate()  I wish there was a way to let beginners know that Tkinter is much simpler with classes."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1436396417, "creation_date": 1436396417, "answer_id": 31305294, "question_id": 31304956, "link": "https://stackoverflow.com/questions/31304956/not-able-to-include-widgets-in-a-toplevel-container-in-tkinter/31305294#31305294", "title": "Not able to include widgets in a Toplevel container in Tkinter", "body": "<p>The problem is that local variables are not visible to wider scopes. Therefore, the <code>top</code> reference does not exist as far as the rest of the program is concerned. The easiest option is to put all of that window's logic into the function that creates it.</p>\n\n<pre><code>from Tkinter import *\n\nroot = Tk()\nroot.wm_title(\"First Window\")\n\ndef new_win():\n    top = Toplevel()\n    top.wm_title(\"Second Window\")\n    praise = Label(top, text=\"Good Work!\")\n    praise.grid()\n\nnew_win_button = Button(root, text=\"Click Me!\", command=new_win)\nnew_win_button.pack()\n\nroot.mainloop()\n</code></pre>\n\n<p>You could also go to an OO approach and simply save references to all relevant objects within the application:</p>\n\n<pre><code>from Tkinter import *\n\nclass App(object):\n    def __init__(self, parent):\n        self.parent = parent\n        parent.wm_title(\"First Window\")\n        self.new_win_button = Button(root, text=\"Click Me!\", command=self.new_win)\n        self.new_win_button.pack()\n        self.populate_button = Button(root, text=\"Populate\", command=self.populate)\n        self.populate_button.pack()\n    def new_win(self):\n        self.top = Toplevel()\n        self.top.wm_title(\"Second Window\")\n    def populate(self):\n        self.praise = Label(self.top, text=\"Good Work!\")\n        self.praise.grid()\n\nroot = Tk()\napp = App(root)\nroot.mainloop()\n</code></pre>\n\n<p>I've also cleaned up your variable names so that they don't look like class names (e.g. <code>MyClass</code> vs. <code>my_label</code>).</p>\n"}], "owner": {"reputation": 111, "user_id": 5042179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/T9Wcu.jpg?s=128&g=1", "display_name": "Mickey", "link": "https://stackoverflow.com/users/5042179/mickey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1439, "favorite_count": 0, "accepted_answer_id": 31305294, "answer_count": 1, "score": 1, "last_activity_date": 1436404374, "creation_date": 1436394657, "last_edit_date": 1436404374, "question_id": 31304956, "link": "https://stackoverflow.com/questions/31304956/not-able-to-include-widgets-in-a-toplevel-container-in-tkinter", "title": "Not able to include widgets in a Toplevel container in Tkinter", "body": "<p>I have code using <code>Tkinter</code> that opens one window, then (after clicking a button) opens a <code>Toplevel</code> container. I'm trying to put an <code>Label</code> widget into this additional window, but keep getting an error saying \"can't invoke label command: application has been destroyed.\"</p>\n\n<p>How can I keep my <code>root.Tk()</code> window open to avoid this error? </p>\n\n<p>Here's what my code looks like:</p>\n\n<pre><code>import Tkinter\nfrom Tkinter import *\n\nroot = Tk()\nroot.wm_title(\"First Window\")\n\n\nNewWin = Button(root, text=\"Click Me!\", command=newwin)\nNewWin.pack()\n\n\ndef newwin():\n    top = Toplevel()\n    top.wm_title(\"Second Window\")\n\nPraise = Label(top, text=\"Good Work!\")\nPraise.grid()\n\n\nroot.mainloop()\n</code></pre>\n\n<p>Up until the label I try to install in the second window, the code works. How can I keep both windows up and running?</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "urllib"], "comments": [{"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1436394822, "post_id": 31304932, "comment_id": 50599610, "body": "Use <code>print(date)</code> before <code>print(date[-1])</code> to see if 20150707 is the last element."}, {"owner": {"reputation": 1863, "user_id": 1615532, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/QJAyv.jpg?s=128&g=1", "display_name": "ng150716", "link": "https://stackoverflow.com/users/1615532/ng150716"}, "reply_to_user": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1436395124, "post_id": 31304932, "comment_id": 50599718, "body": "I just tried that and no 20150707  isn&#39;t that last element, which would explain why it isn&#39;t returning it as the last element, but I&#39;m not sure why it isn&#39;t being append it to the list even tough it is in the text file."}], "answers": [{"tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": true, "score": 2, "last_activity_date": 1436395209, "creation_date": 1436395209, "answer_id": 31305090, "question_id": 31304932, "link": "https://stackoverflow.com/questions/31304932/1-returns-second-to-last-item-in-python-list/31305090#31305090", "title": "-1 returns second to last item in python list", "body": "<p>Since <strong>you are not correctly closing the file</strong> after you finish writing, you might end up with having this problem, or other potential problems.</p>\n\n<p><strong>Don't open and append to the file in the loop.</strong></p>\n\n<p>Consider using this, instead:</p>\n\n<pre><code>with open('temp.txt', 'w') as f:\n   for item in iterable:\n       f.write('hello')\n\nwith open('temp.txt', 'r') as f:\n   for line in f:\n       print(line)\n</code></pre>\n"}], "owner": {"reputation": 1863, "user_id": 1615532, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/QJAyv.jpg?s=128&g=1", "display_name": "ng150716", "link": "https://stackoverflow.com/users/1615532/ng150716"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 809, "favorite_count": 0, "accepted_answer_id": 31305090, "answer_count": 1, "score": 2, "last_activity_date": 1436395209, "creation_date": 1436394540, "question_id": 31304932, "link": "https://stackoverflow.com/questions/31304932/1-returns-second-to-last-item-in-python-list", "title": "-1 returns second to last item in python list", "body": "<p>I am using Python 3.4 to write a script that pull data from <a href=\"http://chartapi.finance.yahoo.com/instrument/1.0/GOOG/chartdata;type=quote;range=1y/csv\" rel=\"nofollow\">Yahoo Finance's ChartAPI page</a> by using urllib to pull the data and store it in a text file and numpy to unpack it. However, when ever I try to access the last element in a list by using [-1] I end up with the second to last element instead of the last element.</p>\n\n<p>Here is my relevant code:</p>\n\n<pre><code>import urllib.request\nimport numpy as np\n\ndef n_year_data(symbol):\n    tempFile = 'temp.txt'\n    open(tempFile,'w+') # to clear any previous content\n\n    yahooChartApi = 'http://chartapi.finance.yahoo.com/instrument/1.0/'+symbol+'/chartdata;type=quote;range=1y/csv'\n    with urllib.request.urlopen(yahooChartApi) as f:\n        sourceCode = f.read().decode('utf-8')\n    splitSource = sourceCode.split('\\n')\n\n    for eachLine in splitSource:\n        splitLine = eachLine.split(',') \n        if len(splitLine) == 6: \n            if 'values' not in eachLine:\n                saveFile = open(tempFile,'a')\n                linetoWrite = eachLine+'\\n'\n                saveFile.write(linetoWrite)\n\n    date, close, high, low, openPrice, volume = np.loadtxt(tempFile, delimiter=',', unpack=True)\n\n    print(date[-1])\n\nn_year_data(\"GOOG\")\n</code></pre>\n\n<p>The code above should return the last date, 20150707. However it returns 20150706 the date before the last date. Furthermore when I look at my text file, all the dates are there and as they should be. Thanks in advance for help, or advice. </p>\n"}, {"tags": ["python", "datetime", "timezone", "pytz"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1436396845, "post_id": 31304890, "comment_id": 50600346, "body": "The API for datetime time zones is busted, because it doesn&#39;t give the timezone object the opportunity to adjust itself."}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 4, "last_activity_date": 1573186009, "last_edit_date": 1573186009, "creation_date": 1436396222, "answer_id": 31305261, "question_id": 31304890, "link": "https://stackoverflow.com/questions/31304890/wrong-aware-datetime-with-pytz-and-america-chicago/31305261#31305261", "title": "Wrong aware-datetime with pytz and &#39;America/Chicago&#39;", "body": "<p>There are  issues with some timezones and pytz which using localise will fix:</p>\n\n<pre><code>import pytz\nimport datetime\nd = datetime.datetime(2015,7,7,15,30)\ndt = pytz.timezone('America/Chicago').localize(d)\n\nprint(dt)\n2015-07-07 15:30:00-05:00\n</code></pre>\n\n<p><a href=\"http://pytz.sourceforge.net/\" rel=\"nofollow noreferrer\">Unfortunately using the tzinfo argument of the standard datetime constructors \u2018\u2019does not work\u2019\u2019 with pytz for many timezones.</a></p>\n"}], "owner": {"reputation": 4236, "user_id": 845169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3718c925b7c61b722e2b9a12f8f3f69e?s=128&d=identicon&r=PG&f=1", "display_name": "leonsas", "link": "https://stackoverflow.com/users/845169/leonsas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1259, "favorite_count": 0, "closed_date": 1436407968, "accepted_answer_id": 31305261, "answer_count": 1, "score": 1, "last_activity_date": 1573186009, "creation_date": 1436394334, "question_id": 31304890, "link": "https://stackoverflow.com/questions/31304890/wrong-aware-datetime-with-pytz-and-america-chicago", "closed_reason": "Duplicate", "title": "Wrong aware-datetime with pytz and &#39;America/Chicago&#39;", "body": "<pre><code>In [57]: datetime.datetime(2015,7,7,15,30,tzinfo=pytz.timezone('America/Chicago'))\nOut[57]: datetime.datetime(2015, 7, 7, 15, 30, tzinfo=&lt;DstTzInfo 'America/Chicago' CST-1 day, 18:00:00 STD&gt;)\n</code></pre>\n\n<p>Notice the offset, it is saying UTC-6 (e.g -(24-18) ) while the correct offset for Chicago on 2015-7-7 is UTC-5.</p>\n\n<p>Am I missing something here?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1436394478, "post_id": 31304883, "comment_id": 50599481, "body": "<code>pd.combine()</code> might work. btw, you want to combine based on <code>value3</code> and <code>value4</code> as the keys, and to update the numbers in <code>value1</code> and <code>value2</code>, right?"}], "answers": [{"comments": [{"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436396606, "post_id": 31305147, "comment_id": 50600259, "body": "I got this error when I tried it <code>Exception: cannot handle a non-unique multi-index!</code>. Also, would this work only if the two files are ordered similarly? So for example if <code>value1</code> is listed at (1,3,5,6,2,4) in either of those files, would it still get executed the same way?"}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "reply_to_user": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436396711, "post_id": 31305147, "comment_id": 50600300, "body": "@Leb does your original dataframe has <code>ID</code> as the index?"}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "reply_to_user": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436397392, "post_id": 31305147, "comment_id": 50600522, "body": "@Leb Can you try the modified code? basically, I try to <code>reset_index()</code> first to make sure that your multi-level index only have <code>value3, value4</code>"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436397823, "post_id": 31305147, "comment_id": 50600635, "body": "The error is resulting from <code>data_df.update(main_df[[&#39;value1&#39;, &#39;value2&#39;]])</code> according to the Traceback. I did update the code and still got the same error."}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "reply_to_user": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436397912, "post_id": 31305147, "comment_id": 50600659, "body": "@Leb Is it possible for you to upload your sample csv data file via a dropbox share link? So that I can reproduce the same error you saw and try to solve it."}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "reply_to_user": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1436398006, "post_id": 31305147, "comment_id": 50600689, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/82759/discussion-between-leb-and-jianxun-li\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1436399278, "last_edit_date": 1436399278, "creation_date": 1436395556, "answer_id": 31305147, "question_id": 31304883, "link": "https://stackoverflow.com/questions/31304883/comparing-and-replacing-values-inside-dataframes/31305147#31305147", "title": "Comparing and replacing values inside DataFrames", "body": "<p>Try the following code which uses <code>update()</code> function.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\nmain_df = pd.read_csv('/home/Jian/Downloads/main.txt', sep='|')\ndata_df = pd.read_csv('/home/Jian/Downloads/data.csv')\n\nOut[229]: \n      ID      LAT     LONG                        CITY STATE                 TIME\n0  12345      NaN      NaN           Cape Hinchinbrook    AK  2015-06-27 21:03:19\n1  12346      NaN      NaN              Delenia Island    AK  2015-06-27 21:03:19\n2  12347  29.7401 -95.4636                     Houston    TX  2015-06-27 21:03:19\n3  12348  41.7132 -83.7032                    Sylvania    OH  2015-06-27 21:03:19\n4  12349      NaN      NaN                  Alaskaland    AK  2015-06-27 21:03:19\n5  12350      NaN      NaN  Badger Road Baptist Church    AK  2015-06-27 21:03:19\n\nmain_df_part = main_df[['PRIM_LAT_DEC', 'PRIM_LONG_DEC','FEATURE_NAME', 'STATE_ALPHA']]\nmain_df_part.columns = ['LAT', 'LONG', 'CITY', 'STATE']\nmain_df_part = main_df_part.set_index(['CITY', 'STATE'])\n\nOut[230]: \n                                      LAT      LONG\nCITY                       STATE                   \nPacific Ocean              CA     39.3103 -123.8447\nCape Hinchinbrook          AK     60.2347 -146.6417\nDelenia Island             AK     60.3394 -148.1383\nAlaskaland                 AK     64.8394 -147.7700\nBadger Road Baptist Church AK     64.8167 -147.5661\nBarnes Creek               AK     65.0014 -147.2939\nBarnette Magnet School     AK     64.8383 -147.7300\nBentley Park               AK     64.8364 -147.6942\n\ndata_df = data_df.set_index(['CITY', 'STATE'])\n\nOut[233]: \n                                     ID      LAT     LONG                 TIME\nCITY                       STATE                                              \nCape Hinchinbrook          AK     12345      NaN      NaN  2015-06-27 21:03:19\nDelenia Island             AK     12346      NaN      NaN  2015-06-27 21:03:19\nHouston                    TX     12347  29.7401 -95.4636  2015-06-27 21:03:19\nSylvania                   OH     12348  41.7132 -83.7032  2015-06-27 21:03:19\nAlaskaland                 AK     12349      NaN      NaN  2015-06-27 21:03:19\nBadger Road Baptist Church AK     12350      NaN      NaN  2015-06-27 21:03:19\n\n\ndata_df.update(main_df_part)\n\nOut[235]: \n                                     ID      LAT      LONG                 TIME\nCITY                       STATE                                               \nCape Hinchinbrook          AK     12345  60.2347 -146.6417  2015-06-27 21:03:19\nDelenia Island             AK     12346  60.3394 -148.1383  2015-06-27 21:03:19\nHouston                    TX     12347  29.7401  -95.4636  2015-06-27 21:03:19\nSylvania                   OH     12348  41.7132  -83.7032  2015-06-27 21:03:19\nAlaskaland                 AK     12349  64.8394 -147.7700  2015-06-27 21:03:19\nBadger Road Baptist Church AK     12350  64.8167 -147.5661  2015-06-27 21:03:19\n</code></pre>\n"}], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 31305147, "answer_count": 1, "score": 0, "last_activity_date": 1436399278, "creation_date": 1436394309, "question_id": 31304883, "link": "https://stackoverflow.com/questions/31304883/comparing-and-replacing-values-inside-dataframes", "title": "Comparing and replacing values inside DataFrames", "body": "<p>I have two lists, one being the main list used as the \"key\" and the other is the one being updated due to missing information.</p>\n\n<p>main_df:</p>\n\n<pre><code>+---------+--------+--------+--------+--------+\n| ID      | value1 | value2 | value3 | value4 |\n+=========+========+========+========+========+\n| 9845213 | 1      | 11     | a      | aa     |\n+---------+--------+--------+--------+--------+\n| 545167  | 2      | 22     | b      | bb     |\n+---------+--------+--------+--------+--------+\n| 132498  | 3      | 33     | c      | cc     |\n+---------+--------+--------+--------+--------+\n| 89465   | 4      | 44     | d      | dd     |\n+---------+--------+--------+--------+--------+\n| 871564  | 5      | 55     | e      | ee     |\n+---------+--------+--------+--------+--------+\n| 646879  | 6      | 66     | f      | ff     |\n+---------+--------+--------+--------+--------+\n...\n</code></pre>\n\n<p>data_df:</p>\n\n<pre><code>+----------+--------+--------+--------+--------+--------+\n| ID       | value1 | value2 | value3 | value4 | value5 |\n+==========+========+========+========+========+========+\n| 4968712  | NaN    | NaN    | a      | aa     | a1     |\n+----------+--------+--------+--------+--------+--------+\n| 21347987 | 2      | 22     | b      | bb     | b2     |\n+----------+--------+--------+--------+--------+--------+\n| 4168512  | NaN    | NaN    | c      | cc     | c3     |\n+----------+--------+--------+--------+--------+--------+\n| 31468612 | 4      | 44     | d      | dd     | d4     |\n+----------+--------+--------+--------+--------+--------+\n| 9543213  | 5      | 55     | e      | ee     | e5     |\n+----------+--------+--------+--------+--------+--------+\n| 324798   | NaN    | NaN    | f      | ff     | f6     |\n+----------+--------+--------+--------+--------+--------+\n</code></pre>\n\n<p>What I'm trying to do is use <code>value3</code> and <code>value4</code> from the <code>main_df</code> in order to update only <code>values1</code> and <code>values2</code> in <code>data_df</code>.</p>\n\n<p>None of the <a href=\"http://pandas.pydata.org/pandas-docs/stable/merging.html\" rel=\"nofollow\">Merge, join, and concatenate</a> would work for me since I need to keep the two files separate. </p>\n\n<p>I tried using the <a href=\"http://pandas.pydata.org/pandas-docs/stable/missing_data.html\" rel=\"nofollow\">Working with missing data</a> and <code>.replace()</code> but I'm not sure how to properly extract the values needed from <code>main_df</code> to replace <code>NaN</code> values in <code>data_df</code>.</p>\n"}, {"tags": ["python", "json", "xml", "python-2.7"], "answers": [{"comments": [{"owner": {"reputation": 5874, "user_id": 3094531, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/LkqS1.png?s=128&g=1", "display_name": "Logan Wayne", "link": "https://stackoverflow.com/users/3094531/logan-wayne"}, "edited": false, "score": 0, "creation_date": 1436401535, "post_id": 31304896, "comment_id": 50601663, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes."}, {"owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "reply_to_user": {"reputation": 5874, "user_id": 3094531, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/LkqS1.png?s=128&g=1", "display_name": "Logan Wayne", "link": "https://stackoverflow.com/users/3094531/logan-wayne"}, "edited": false, "score": 0, "creation_date": 1436420173, "post_id": 31304896, "comment_id": 50606551, "body": "I have adjusted the answer."}], "tags": [], "owner": {"reputation": 17248, "user_id": 1400869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eTsCt.jpg?s=128&g=1", "display_name": "D.R.", "link": "https://stackoverflow.com/users/1400869/d-r"}, "is_accepted": false, "score": -1, "last_activity_date": 1436420149, "last_edit_date": 1436420149, "creation_date": 1436394377, "answer_id": 31304896, "question_id": 31304861, "link": "https://stackoverflow.com/questions/31304861/how-to-read-field-from-json-encoding-of-xml-message/31304896#31304896", "title": "How to read field from JSON encoding of XML message", "body": "<p>Yes, there is. See <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow\">https://docs.python.org/2/library/json.html</a> \"Decoding JSON\".</p>\n\n<p>(I'm really tempted to simply ask \"what have you tried yourself to reach the goal\"...)</p>\n\n<p>Edit: as requested by the first comment, here the essential code instead of a link-only answer:</p>\n\n<pre><code>import json;\n\nresponseJson = json.loads(response)\nresponseJson['movies_search']['error']['errorMessage']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "is_accepted": true, "score": 0, "last_activity_date": 1436398264, "creation_date": 1436398264, "answer_id": 31305608, "question_id": 31304861, "link": "https://stackoverflow.com/questions/31304861/how-to-read-field-from-json-encoding-of-xml-message/31305608#31305608", "title": "How to read field from JSON encoding of XML message", "body": "<p>The following Python script,</p>\n\n<pre><code>import json\nrespStr = \"\"\"\n{  \n   \"movies_search\":{  \n      \"@xmlns\":\"http://www.ourmoviest.com/mv\",\n      \"@xmlns:xsi\":\"http://www.w3.org/2001/XMLSchema-instance\",\n      \"@xsi:schemaLocation\":\"http://www.ourmoviest.com/mv mv.xsd \",\n      \"error\":{  \n         \"errorMessage\":\"We cannot proceed search\",\n         \"statusCode\":\"00004\"\n      }\n   }\n}\n\"\"\"\nrespObj = json.loads(respStr)\nprint respObj['movies_search']['error']['errorMessage']\n</code></pre>\n\n<p>will print the <code>errorMessage</code> string,</p>\n\n<pre><code>We cannot proceed search\n</code></pre>\n\n<p>as requested.</p>\n"}], "owner": {"reputation": 195, "user_id": 5096036, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed4d607460553d4827090e9717305e30?s=128&d=identicon&r=PG&f=1", "display_name": "PyNaobie", "link": "https://stackoverflow.com/users/5096036/pynaobie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 31305608, "answer_count": 2, "score": 1, "last_activity_date": 1436420149, "creation_date": 1436394205, "last_edit_date": 1436398454, "question_id": 31304861, "link": "https://stackoverflow.com/questions/31304861/how-to-read-field-from-json-encoding-of-xml-message", "title": "How to read field from JSON encoding of XML message", "body": "<p>Is there a way I can get the <code>errorMessage</code> tag from this response using some code in python?</p>\n\n<pre><code>{  \n   \"movies_search\":{  \n      \"@xmlns\":\"http://www.ourmoviest.com/mv\",\n      \"@xmlns:xsi\":\"http://www.w3.org/2001/XMLSchema-instance\",\n      \"@xsi:schemaLocation\":\"http://www.ourmoviest.com/mv mv.xsd \",\n      \"error\":{  \n         \"errorMessage\":\"We cannot proceed search\",\n         \"statusCode\":\"00004\"\n      }\n   }\n}\n</code></pre>\n"}, {"tags": ["python", "numpy", "multiprocessing", "python-multiprocessing"], "comments": [{"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1436394490, "post_id": 31304849, "comment_id": 50599487, "body": "What happens if you run the file form the command line?"}, {"owner": {"reputation": 569, "user_id": 3357979, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/69d38a7b3afce1b70368b8797c8abf27?s=128&d=identicon&r=PG&f=1", "display_name": "user3357979", "link": "https://stackoverflow.com/users/3357979/user3357979"}, "reply_to_user": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1436395451, "post_id": 31304849, "comment_id": 50599852, "body": "Seems to run without errors when I run from command line.  However, it seems like everything is being run 4 times.  Instead of just allowing parallel processes for the one function it is running everything multiple times, whether it&#39;s within the &#39;main(arg)&#39; or not."}], "owner": {"reputation": 569, "user_id": 3357979, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/69d38a7b3afce1b70368b8797c8abf27?s=128&d=identicon&r=PG&f=1", "display_name": "user3357979", "link": "https://stackoverflow.com/users/3357979/user3357979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436394112, "creation_date": 1436394112, "question_id": 31304849, "link": "https://stackoverflow.com/questions/31304849/python-multiprocessing-with-numpy-array-and-sat-solver", "title": "Python multiprocessing with numpy array and SAT solver", "body": "<p>I've looked around the forum and can't seem to find anything that helps.  I'm trying to parallelize some processes but cannot seem to get it to work.</p>\n\n<pre><code>from multiprocessing import *\nfrom numpy import *\n\nx=array([1,2,3,4,5])\n\ndef SATSolver(args):\n    #many_calculations\n    return result\n\ndef main(arg):\n    new_args=append(x,arg)\n    return SATSolver(new_args)\n\ny=array([8,9,10,11])\n\nif __name__ == '__main__':\n    pool=Pool()\n    results=pool.map(main,y)\n    print(results)\n</code></pre>\n\n<p>The SATSolver function is where the bulk of the work happens.  Basically, I have an array x and a second array y.  I want to add append each value in y to x individually, and then run this new set through my SATSolver function.  I would like to use the multiprocessing module so this can run in parallel.  </p>\n\n<p>Whenever I try and run this, I don't get an error, but a new interactive window pops up and says \"Could not load the file from <em>filepath</em>\\-c.  Do you want to create a new file?\"</p>\n\n<p>Everything works perfectly when it's run without multiprocessing.</p>\n\n<p>Any ideas on how to make this work?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "twisted", "deferred", "asynchronous-messaging-protocol"], "answers": [{"tags": [], "owner": {"reputation": 29455, "user_id": 13564, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e1554622707bedd9202884900430b838?s=128&d=identicon&r=PG", "display_name": "Glyph", "link": "https://stackoverflow.com/users/13564/glyph"}, "is_accepted": true, "score": 2, "last_activity_date": 1436396545, "creation_date": 1436396545, "answer_id": 31305323, "question_id": 31304788, "link": "https://stackoverflow.com/questions/31304788/how-should-a-twisted-amp-deferred-be-cancelled/31305323#31305323", "title": "How should a Twisted AMP Deferred be cancelled?", "body": "<p>No.  There is no way, presently, to cancel an AMP request.</p>\n\n<p>You can't cancel AMP requests because there is no way defined in AMP at the wire-protocol level to send a message to the remote server telling it to stop processing.  This would be an interesting feature-addition for AMP, but if it were to be added, you would not add it by allowing users to pass in their own cancellers; rather, AMP itself would have to create a cancellation function that sent a \"cancel\" command.</p>\n\n<p>Finally, adding this feature would have to be done very carefully because once a request is sent, there's no guarantee that it would not have been fully processed; chances are usually good that by the time the cancellation request is received and processed by the remote end, the remote end has already finished processing and sent a reply.  So AMP should implement asynchronous cancellation.</p>\n"}], "owner": {"reputation": 1365, "user_id": 3238702, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/o0WOd.jpg?s=128&g=1", "display_name": "matthewatabet", "link": "https://stackoverflow.com/users/3238702/matthewatabet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 31305323, "answer_count": 1, "score": 1, "last_activity_date": 1436396545, "creation_date": 1436393759, "last_edit_date": 1436394065, "question_id": 31304788, "link": "https://stackoverflow.com/questions/31304788/how-should-a-twisted-amp-deferred-be-cancelled", "title": "How should a Twisted AMP Deferred be cancelled?", "body": "<p>I have a Twisted client/server application where a client asks multiple servers for additional work to be done using AMP. The first server to respond to the client wins -- the other outstanding client requests should be cancelled.</p>\n\n<p><code>Deferred</code> objects support <code>cancel()</code> and a cancellor function may be passed to the <code>Deferred</code>'s constructor. However, AMP's <code>sendRemote()</code> api doesn't support passing a cancellor function. Additionally, I'd want the cancellor function to not only stop the local request from processing upon completion but also remove the request from the remote server.</p>\n\n<p>AMP's <code>BoxDispatcher</code> does have a <code>stopReceivingBoxes</code> method, but that causes all deferreds to error out (not quite what I want).</p>\n\n<p>Is there a way to cancel AMP requests?</p>\n"}, {"tags": ["python", "python-3.x", "xml-parsing"], "comments": [{"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436393962, "post_id": 31304776, "comment_id": 50599308, "body": "don&#39;t use builtin names (<code>input</code>) for variable names"}], "answers": [{"tags": [], "owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "is_accepted": false, "score": 0, "last_activity_date": 1436394705, "creation_date": 1436394705, "answer_id": 31304967, "question_id": 31304776, "link": "https://stackoverflow.com/questions/31304776/retrieve-value-of-nested-tag-and-store-it-in-nested-dictionary/31304967#31304967", "title": "Retrieve value of nested tag and store it in nested dictionary", "body": "<p>In short you need:</p>\n\n<pre><code>tree.findall('dog')[0].findall('sound')[0].text\n</code></pre>\n\n<p>Here is a rundown:</p>\n\n<pre><code>&gt;&gt;&gt; import xml.etree.ElementTree as ET\n&gt;&gt;&gt; tree = ET.fromstring(s)\n&gt;&gt;&gt; tree.findall('dog')[0].findall('sound')[0].text\n'woof'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1436397880, "post_id": 31304971, "comment_id": 50600654, "body": "I&#39;m getting <code>AttributeError: &#39;NoneType&#39; object has no attribute &#39;text&#39;</code>"}, {"owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1436397954, "post_id": 31304971, "comment_id": 50600674, "body": "for <code>inputValues[element.tag] = {&quot;host&quot;: host_tag.text}</code>"}, {"owner": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "reply_to_user": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1436429771, "post_id": 31304971, "comment_id": 50611819, "body": "Oh, this probably means, you searched for the &quot;host&quot; tag on the wrong level of your xml, so that <code>host_tag</code> is now None. From your code I can see, that the structure is: root &gt; db refs &gt; rest (host, db name, etc.). You need to ensure, that you search for &quot;host&quot; on the last level. Please show the code of your new approach, so we find the problem. The <code>For</code> in your snippet makes no syntactic sense. You need a for loop over the root element like in my answer."}, {"owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1436465916, "post_id": 31304971, "comment_id": 50636892, "body": "I posted the attempt to the original question as it was too long for a comment. I also updated the example animal xml as the xml file I am actually using may be structurally more complex. Thanks."}, {"owner": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "reply_to_user": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "edited": false, "score": 0, "creation_date": 1436609434, "post_id": 31304971, "comment_id": 50693621, "body": "@Celeritas I updated my answer to fit your case. I hope, it works for you now!"}], "tags": [], "owner": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "is_accepted": false, "score": 1, "last_activity_date": 1436609383, "last_edit_date": 1436609383, "creation_date": 1436394717, "answer_id": 31304971, "question_id": 31304776, "link": "https://stackoverflow.com/questions/31304776/retrieve-value-of-nested-tag-and-store-it-in-nested-dictionary/31304971#31304971", "title": "Retrieve value of nested tag and store it in nested dictionary", "body": "<p><strong>Edited to fit your adjusted example</strong> </p>\n\n<p>Your example can be solved like this:</p>\n\n<pre><code>root = ET.fromstring(\"&lt;animal&gt; &lt;lastmodified_date&gt;4/6/2015&lt;/lastmodified_date&gt;&lt;data&gt;some junk goes here&lt;/data&gt;&lt;dog&gt;&lt;sound&gt;woof&lt;/sound&gt;&lt;hastail&gt;yes&lt;/hastail&gt;&lt;/dog&gt;&lt;cat&gt;&lt;sound&gt;meow&lt;/sound&gt;&lt;hastail&gt;yes&lt;/hastail&gt;&lt;/cat&gt;&lt;/animal&gt;\")\n\nmydic = {}\nfor element in root:\n    if element.tag in ('lastmodified_date', 'data'):\n        mydic[element.tag] = element.text\n    else:  # here come the elements describing animals\n        mydic[element.tag] = {}\n        for animal_element in element:  # \"sound\" and \"hastail\" in undefined order\n            mydic[element.tag][animal_element.tag] = animal_element.text\n</code></pre>\n\n<p>This generates following dictionary:</p>\n\n<pre><code>{'lastmodified_date': '4/6/2015', 'data': 'some junk goes here', 'dog': {'hastail': 'yes', 'sound': 'woof'}, 'cat': {'hastail': 'yes', 'sound': 'meow'}}\n</code></pre>\n\n<p>Basically, you don't need to explicitly say that you want to extract a \"sound\" and a \"hastail\" from an animal. You just say: I want all sub-elements of an animal. But if you want to consider missing tags as an error, you'd have to explicitly check for them:</p>\n\n<pre><code>else:  # here come the elements describing animals\n    mydic[element.tag] = {}\n    try:\n        sound = element.find(\"sound\")\n        mydic[element.tag][sound.tag] = sound.text\n    except:\n        # do some error handling\n</code></pre>\n\n<p>You can solve your problem in this manner too. Chaining <code>findAll</code> and <code>find</code> calls might sound intuitive, but findAll just returns a list of found elements on which searching works different. So instead, just iterate over all elements. </p>\n"}], "owner": {"reputation": 12893, "user_id": 1279820, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/CJFmh.png?s=128&g=1", "display_name": "Celeritas", "link": "https://stackoverflow.com/users/1279820/celeritas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436609383, "creation_date": 1436393664, "last_edit_date": 1436468550, "question_id": 31304776, "link": "https://stackoverflow.com/questions/31304776/retrieve-value-of-nested-tag-and-store-it-in-nested-dictionary", "title": "Retrieve value of nested tag and store it in nested dictionary", "body": "<p>I\u2019m trying to store values from between XML tags into a list and it\u2019s not working. I\u2019m having trouble wrapping my head around this. The following code gives\n<code>AttributeError: 'list' object has no attribute 'find'</code></p>\n\n<p>Here is the code:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n    tree = ET.parse(\u2018//storage1//harison/dev/gis/cocalig.xml\u2019)\n    root = tree.getroot()\ninput['merchandise_db'] = {'host': root.findall('cali_merchandise_db_ref').find('host').text, 'db_name': root.findall('cali_merchandise_db_ref').cali_merchandise_db_ref.find('db_name').text, 'schema': root.findall('cali_merchandise_db_ref').cali_merchandise_db_ref.find('schema').text, 'user': root.findall('cali_merchandise_db_ref').cali_merchandise_db_ref.find('user').text, 'pwd': root.findall('cali_merchandise_db_ref').cali_merchandise_db_ref.find('password').text}\n\ninput['incident_db'] = {'host': root.findall('incident_db_ref').incident_db_ref.find('host').text, 'db_name': root.findall('incident_db_ref').incident_db_ref.find('db_name').text, 'schema': root.findall('incident_db_ref').incident_db_ref.find('schema').text, 'user': root.findall('incident_db_ref').incident_db_ref.find('user').text, 'pwd': root.findall('incident_db_ref').incident_db_ref.find('password').text}\n\ninput['projection_db'] = {'host': root.findall('cali_projection_db_ref').incident_db_ref.find('host').text, 'db_name': root.findall('cali_projection_db_ref').incident_db_ref.find('db_name').text, 'schema': root.findall('cali_projection_db_ref').incident_db_ref.find('schema').text, 'user': root.findall('cali_projection_db_ref').incident_db_ref.find('user').text, 'pwd': root.findall('cali_projection_db_ref').incident_db_ref.find('password').text}\n</code></pre>\n\n<p>I understand why the code gives the error but not sure how to fix it. Before when I just outputted the value to the screen I iterated using <code>#for cali_merchandise_db_ref in root.findall('cali_merchandise_db_ref'): and</code>cali_merchandise_db_ref.find(\u2018xyz\u2019).text`</p>\n\n<p><strong>TL;DR</strong><br>\nGiven the xml file</p>\n\n<pre><code>&lt;animal&gt;\n &lt;lastmodified_date&gt;4/6/2015&lt;/lastmodified_date&gt;\n &lt;data&gt;some junk goes here&lt;/data&gt;\n &lt;dog&gt;\n   &lt;sound&gt;woof&lt;/sound&gt;\n   &lt;hastail&gt;yes&lt;/hastail&gt;\n &lt;/dog&gt;\n &lt;cat&gt;\n   &lt;sound&gt;meow&lt;/sound&gt;\n   &lt;hastail&gt;yes&lt;/hastail&gt;\n &lt;/cat&gt;\n&lt;/animal&gt;\n</code></pre>\n\n<p>How do you get</p>\n\n<pre><code>input['dog']['sound'] = 'woof'\ninput['cat']['sound'] = 'meow'\ninput['dog']['hastail'] = 'yes'\ninput['cat']['hastail'] = 'yes'\n</code></pre>\n\n<p><strong>Failed attempt #2:</strong></p>\n\n<pre><code>&gt;&gt;&gt; import xml.etree.ElementTree as ET\n&gt;&gt;&gt; with open (\"cocalig.xml\", \"r\") as myfile:\n...     data=myfile.read().replace('\\n', '')\n...\n&gt;&gt;&gt; root = ET.fromstring(data)\n&gt;&gt;&gt; mydic = {}\n&gt;&gt;&gt; for element in root:\n...     host_tag = element.find(\"host\")\n...     mydic[element.tag] = {\"host\": host_tag.text}\n...\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 3, in &lt;module&gt;\nAttributeError: 'NoneType' object has no attribute 'text'\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": ["python", "heroku", "flask", "redis"], "answers": [{"tags": [], "owner": {"reputation": 1890, "user_id": 3402934, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3c5736546cacf6e489b0676d0ba7265f?s=128&d=identicon&r=PG", "display_name": "MadRabbit", "link": "https://stackoverflow.com/users/3402934/madrabbit"}, "is_accepted": true, "score": 3, "last_activity_date": 1436393497, "creation_date": 1436393497, "answer_id": 31304740, "question_id": 31304739, "link": "https://stackoverflow.com/questions/31304739/how-to-execute-function-after-returning-flask-response-hosted-on-heroku/31304740#31304740", "title": "How to execute function after returning Flask response (hosted on Heroku)?", "body": "<p>So what I've figured out is that that it's extremely easy to do and even easier on heroku the problem is the documentation is quite scattered around and for someone who's just discovering job queues it may be overwhelming.</p>\n\n<p>For this example I'm going to use <strong><em>Reddis To Go addon on Heroku</em></strong> so the first thing you have to do is <strong><em>install it from your dashboard.</em></strong> After that you set up your flask app too look something like this:</p>\n\n<pre><code>from flask import Flask\nfrom rq import Queue\nfrom redis import Redis\nimport os\nimport urllib.parse as urlparse\n\napp = Flask(__name__)\n\ndef function_to_queue():\n    return \"finished\"\n# Tell RQ what Redis connection to use and parse url from the global variable that was added by the addon\nredis_url = os.getenv('REDISTOGO_URL')\nurlparse.uses_netloc.append('redis')\nurl = urlparse.urlparse(redis_url)\nconn = Redis(host=url.hostname, port=url.port, db=0, password=url.password)\nq = Queue(connection=conn)  #no args implies the default queue\n\n@app.route('/')\ndef hello():\n    ob = q.enqueue(function_to_queue) #Add previously defined function to queue\n    return \"k?\"\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n\n<p>Next you have to create python script called <code>run-worker.py</code> with the code below:</p>\n\n<pre><code>import os\nimport urllib.parse as urlparse\nfrom redis import Redis\nfrom rq import Worker, Queue, Connection\n\nlisten = ['high', 'default', 'low']\n\nredis_url = os.getenv('REDISTOGO_URL')\nif not redis_url:\n    raise RuntimeError('Set up Redis To Go first.')\n\nurlparse.uses_netloc.append('redis')\nurl = urlparse.urlparse(redis_url)\nconn = Redis(host=url.hostname, port=url.port, db=0, password=url.password)\n\nwith Connection(conn):\n    worker = Worker(map(Queue, listen))\n    worker.work()\n</code></pre>\n\n<p>Now just modify your Procfile on heroku to look like this:</p>\n\n<pre><code>web: gunicorn hello:app --log-file -\nworker: python -u run-worker.py\n</code></pre>\n\n<p>Deploy this, make sure you have both worker and the app started... annnd you're done. Hope this helps others understanding job queueing faster.</p>\n"}, {"tags": [], "owner": {"reputation": 470, "user_id": 5925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HprkV.jpg?s=128&g=1", "display_name": "Jop Knoppers", "link": "https://stackoverflow.com/users/5925257/jop-knoppers"}, "is_accepted": false, "score": 0, "last_activity_date": 1526028562, "creation_date": 1526028562, "answer_id": 50288500, "question_id": 31304739, "link": "https://stackoverflow.com/questions/31304739/how-to-execute-function-after-returning-flask-response-hosted-on-heroku/50288500#50288500", "title": "How to execute function after returning Flask response (hosted on Heroku)?", "body": "<p>This might be a little to late for you. But for other who have the same problem this might be an easy solution:</p>\n\n<p>import queue\n    import threading\n    import time\n    from flask import Flask\n    from flask import jsonify\n    from flask_restful import Resource, Api</p>\n\n<pre><code>def putting_thread(q):\n    while True:\n        x = q.get()\n        time.sleep(5)\n        print(x)\n\nclass make:\n    def nieuw(self, queue):\n        app = Flask(__name__)\n        api = Api(app)\n\n        api.add_resource(instructor, '/&lt;action&gt;', resource_class_kwargs={'queue': queue})\n\n        return app\n\nclass instructor(Resource):\n    def __init__(self, queue):\n        self.queue = queue\n\n    def get(self, action = False):\n        self.queue.put(action)\n        return jsonify(\n            status=0\n        )\n\nq = queue.Queue()\nt = threading.Thread(target = putting_thread, args = (q,), daemon = True)\nt.start()\n\nif __name__ == '__main__':\n    app = make().nieuw(q)\n    app.run(host='127.0.0.1', port=8081, debug=True)\n</code></pre>\n\n<p>You can test it with: <a href=\"http://127.0.0.1:8081/sometesttext\" rel=\"nofollow noreferrer\">http://127.0.0.1:8081/sometesttext</a></p>\n"}], "owner": {"reputation": 1890, "user_id": 3402934, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3c5736546cacf6e489b0676d0ba7265f?s=128&d=identicon&r=PG", "display_name": "MadRabbit", "link": "https://stackoverflow.com/users/3402934/madrabbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1653, "favorite_count": 2, "accepted_answer_id": 31304740, "answer_count": 2, "score": 3, "last_activity_date": 1526028562, "creation_date": 1436393497, "question_id": 31304739, "link": "https://stackoverflow.com/questions/31304739/how-to-execute-function-after-returning-flask-response-hosted-on-heroku", "title": "How to execute function after returning Flask response (hosted on Heroku)?", "body": "<p>While I've heared I need to use something called \"job queue\" I'm new to this and I've had hard time setting it all up. How do I execute function after returning a response in flask? Could you walk me through the process?</p>\n"}, {"tags": ["python", "arrays", "numpy", "plot"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1121588"}, "edited": false, "score": 0, "creation_date": 1436395313, "post_id": 31304733, "comment_id": 50599795, "body": "func, plt are not defined is code missing  this? import matplotlib.pyplot as plt"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436395583, "post_id": 31304733, "comment_id": 50599910, "body": "@DanPatterson I corrected the <code>plt</code> issue. The function is rather complicated---for discussion, it takes two inputs and returns an output."}], "answers": [{"comments": [{"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436396480, "post_id": 31304898, "comment_id": 50600224, "body": "How can I reshape the z-axis to create an array shaped (20,20)? At the moment, <code>func(x,y)</code> outputs 20 values, and x is 20 values."}, {"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "reply_to_user": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436398502, "post_id": 31304898, "comment_id": 50600844, "body": "@ShanZhengYang: If you function only outputs 20 values, then it doesn&#39;t make sense to do a contour plot.  We don&#39;t know your function, we don&#39;t know what you want to plot to look like.  All you&#39;ve said is &quot;contour&quot;, so I&#39;m telling you what you need to make a contour."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436398644, "post_id": 31304898, "comment_id": 50600879, "body": "I have three dimensions of data: an x parameter, a y parameter, and a function with two arguments, x and y. What do you recommend as a plot?"}, {"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "reply_to_user": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436398844, "post_id": 31304898, "comment_id": 50600933, "body": "I don&#39;t have enough information.  Since you write <code>f(x,y)</code>, when you say &quot;20 values&quot;, do you mean 20 for each (x,y) pair?  A common thing is to have, say, 20 x values, and 20 y values, and then for each (x,y) pair you get 1 f(x,y), giving you 400=20x20 values.  That you could make a contour plot from."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436399090, "post_id": 31304898, "comment_id": 50601016, "body": "Ah, yes, that&#39;s what I mean.  Let&#39;s say the function is something simple, like <code>x**2 + y**2</code>. How would you create a contour plot of that such that the dimensions are correct?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1121588"}, "edited": false, "score": 0, "creation_date": 1436399550, "post_id": 31304898, "comment_id": 50601138, "body": "x = np.logspace(1, 2, num=20)  yields x in the range 10 to 100, yours are very large and confusing...can you explain"}, {"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "reply_to_user": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1436400918, "post_id": 31304898, "comment_id": 50601504, "body": "@ShanZhengYang: What do you mean by first?  I create it before I use it.  That&#39;s all that&#39;s needed.  But the point is, I get a contour plot from the function call which is what you need.  Anyway, I&#39;m tired of this.  This works, take it or leave it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1121588"}, "edited": false, "score": 0, "creation_date": 1436401675, "post_id": 31304898, "comment_id": 50601704, "body": "@Tom   Nice it works.  the need for logspace is a bit confusing since the range in values make it look linear.  If other people want, the can replace your x and np.logspace with    x = np.logspace(3, 4, num=20)  (repeat for y) to see amore pronounced affect with a more appropriate range for log data.  Nice job on catching np.meshgrid"}], "tags": [], "owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "is_accepted": true, "score": 1, "last_activity_date": 1436400581, "last_edit_date": 1436400581, "creation_date": 1436394381, "answer_id": 31304898, "question_id": 31304733, "link": "https://stackoverflow.com/questions/31304733/contour-plot-typeerror-length-of-y-must-be-number-of-rows-in-z/31304898#31304898", "title": "Contour plot, TypeError: Length of y must be number of rows in z", "body": "<p>From <a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.contour\" rel=\"nofollow noreferrer\">the docs for <code>contour</code></a>: \"<strong>X and Y</strong> must both be 2-D with the same shape as Z, or they <strong>must both be 1-D such that len(X) is the number of columns in Z and len(Y) is the number of rows in Z.</strong>\"  (This is the version for 1D X and Y.)</p>\n\n<p>Your basic problem here is that <code>Z</code> needs to be rectangular, so probably 20x20 in your case.  That is, think of a contour plot as putting levels on something like an image.</p>\n\n<p>As best I can figure it out, here's a working version that's along the lines of what you want:</p>\n\n<p><img src=\"https://i.stack.imgur.com/fpFya.png\" alt=\"enter image description here\"></p>\n\n<pre><code>import pylab as pb    \nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef f(x, y):\n    return np.log(x**2 + y**2)\n\nx = np.logspace( np.log10(5e4), np.log10(8e4), num=20) \ny = np.logspace(np.log10(5e4), np.log10(9e4), num=20)\nX, Y = np.meshgrid(x, y)\n\nz = f(X, Y)\nprint x\nprint y\nprint min(z.flat), max(z.flat), min(x), max(x), min(y), max(y)\n\nplt.figure()\nCS = plt.contour(x, y, z)\nplt.clabel(CS, inline=1, fontsize=10)\n\npb.show()\n</code></pre>\n\n<p>I think the key that you're not using <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.meshgrid.html\" rel=\"nofollow noreferrer\"><code>meshgrid</code></a> (although there are other means of getting this too).</p>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1546, "favorite_count": 0, "accepted_answer_id": 31304898, "answer_count": 1, "score": 0, "last_activity_date": 1436400581, "creation_date": 1436393469, "last_edit_date": 1436395527, "question_id": 31304733, "link": "https://stackoverflow.com/questions/31304733/contour-plot-typeerror-length-of-y-must-be-number-of-rows-in-z", "title": "Contour plot, TypeError: Length of y must be number of rows in z", "body": "<p>I have created a function with two arguments, <code>func(x,y)</code>. I would now like to plot this as a 2D contour plot, first as <code>func(x,y)</code> vs. <code>x</code>, and then <code>func(x,y)</code> vs. <code>y</code>. </p>\n\n<p>I set my numpy array for x-values as 20 values from <code>5e4</code> to <code>8e4</code>, and the y-values as 20 values from <code>1e10</code> to <code>1e12</code>. My function <code>func(x,y)</code> then takes these two arrays as arguments. </p>\n\n<p>So, I set up my plot as follows:</p>\n\n<pre><code>import matplotlib\nimport matplotlib.pyplot as plt \nimport numpy as np\nimport matplotlib.cm as cm\nimport matplotlib.mlab as mlab\n\nmatplotlib.rcParams['xtick.direction'] = 'out'\nmatplotlib.rcParams['ytick.direction'] = 'out'\n\nx = np.logspace( 5e4, 8e4, num=20) \ny = np.logspace(1e10, 1e12, num=20)\nz = np.asarray([ func(x, y), x ])\nplt.figure()\nCS = plt.contour(x, y, z)\nplt.clabel(CS, inline=1, fontsize=10)\n</code></pre>\n\n<p>The shapes for my numpy arrays are:</p>\n\n<pre><code>print x.shape\nprint y.shape\nprint z.shape\n</code></pre>\n\n<p>which outputs </p>\n\n<pre><code>(20,)\n(20,)\n(2, 20)\n</code></pre>\n\n<p>My error is </p>\n\n<pre><code>TypeError: Length of y must be number of rows in z.\n</code></pre>\n\n<p>Why would that be? The dimensions look correct.</p>\n"}, {"tags": ["python", "import", "module", "frameworks"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 5, "creation_date": 1436393277, "post_id": 31304687, "comment_id": 50599060, "body": "Maybe try <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}, {"owner": {"reputation": 1, "user_id": 2369700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmZEz.png?s=128&g=1", "display_name": "xobust", "link": "https://stackoverflow.com/users/2369700/xobust"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1436393481, "post_id": 31304687, "comment_id": 50599142, "body": "As I said, the senior developer working closes to me couldn&#39;t think of a better way at the moment, that&#39;s why I&#39;m asking. I could ask some dev with python knowledge from another part of the company though."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1436393769, "post_id": 31304687, "comment_id": 50599244, "body": "It&#39;s another site, more suited to critiquing working code."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1436394298, "post_id": 31304687, "comment_id": 50599414, "body": "how are you able to call <code>action(self, params):</code> ? Is it just a placeholder?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1436399011, "post_id": 31304687, "comment_id": 50600985, "body": "You can add code to the <code>__init__.py</code> file to automatically import thes other modules and optionally their contents in the directory. See this <a href=\"http://stackoverflow.com/a/5135444/355230\">answer</a> and this <a href=\"http://stackoverflow.com/a/14428820/355230\">other one</a> of mine."}, {"owner": {"reputation": 1, "user_id": 2369700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmZEz.png?s=128&g=1", "display_name": "xobust", "link": "https://stackoverflow.com/users/2369700/xobust"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1436419531, "post_id": 31304687, "comment_id": 50606281, "body": "@PeterWood Sorry, didn&#39;t realize that, will try it :)"}, {"owner": {"reputation": 1, "user_id": 2369700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmZEz.png?s=128&g=1", "display_name": "xobust", "link": "https://stackoverflow.com/users/2369700/xobust"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1436419537, "post_id": 31304687, "comment_id": 50606287, "body": "@Pynchia I wrote down the code from memory so its just a placeholder"}, {"owner": {"reputation": 1, "user_id": 2369700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmZEz.png?s=128&g=1", "display_name": "xobust", "link": "https://stackoverflow.com/users/2369700/xobust"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1436419541, "post_id": 31304687, "comment_id": 50606289, "body": "@martineau Thanks for pointing me in the right direction."}], "owner": {"reputation": 1, "user_id": 2369700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmZEz.png?s=128&g=1", "display_name": "xobust", "link": "https://stackoverflow.com/users/2369700/xobust"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436393282, "creation_date": 1436393210, "last_edit_date": 1436393282, "question_id": 31304687, "link": "https://stackoverflow.com/questions/31304687/best-way-to-register-all-classes-in-a-folder-in-python", "title": "best way to register all classes in a folder in python", "body": "<p>I am working as a summer intern at a fairly large company, me and another intern has been tasked with writing a background service from scratch in python(with given specifications). I can't say that I am a Python expert but I try to write as good code as possible and follow good practice. To the describe the service in a easy way it receives messages from a buss (amqp atm) and matches them against a patterns and preform actions depending on the pattern, all this is configurable from a json file.</p>\n\n<p>To get down to the point, the service is suppose to be general and therefore a developer should be able to add different inputs and outputs classes. This is the structure I have right now.</p>\n\n<ul>\n<li>service.py</li>\n<li>input \n\n<ul>\n<li>__init__.py (Includes all .py files in the __all__ variable)</li>\n<li>base.py</li>\n<li>amqp.py</li>\n</ul></li>\n</ul>\n\n<p>service.py</p>\n\n<pre><code>from input import *\nimport input\n#use input.base.sources\n</code></pre>\n\n<p>input\\base.py</p>\n\n<pre><code>sources = {}\ndef register_input(cls):\n   sources[cls.input_name] = cls\n   return cls\n\nclass InputBase(object):\n    action(self, params):\n...\n</code></pre>\n\n<p>input\\amqp.py</p>\n\n<pre><code>@register_input\nclass AmqpInterface(InputBase):\n    input_name = \"amqp\"\n    action(self, params):\n...\n</code></pre>\n\n<p>This works, but it doesn't look very nice and it also creates problems with include orders. Neither I nor the senior developer could think of a more pythonic way of solving this. \nDo you have any ideas how to solve this problem in a more elegant way?</p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 8048, "user_id": 2658948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFeL8.jpg?s=128&g=1", "display_name": "dstudeba", "link": "https://stackoverflow.com/users/2658948/dstudeba"}, "edited": false, "score": 0, "creation_date": 1436393841, "post_id": 31304636, "comment_id": 50599273, "body": "It looks like it is getting confused with the version of pip/python you had installed with canopy.  What happens if you go into the new install of python, find pip, and then run it with the explicit path instead of just calling the <code>pip</code> command?"}, {"owner": {"reputation": 11, "user_id": 5095973, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207401623946617/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/5095973/chris"}, "reply_to_user": {"reputation": 8048, "user_id": 2658948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFeL8.jpg?s=128&g=1", "display_name": "dstudeba", "link": "https://stackoverflow.com/users/2658948/dstudeba"}, "edited": false, "score": 0, "creation_date": 1436455064, "post_id": 31304636, "comment_id": 50630177, "body": "You&#39;re exactly right, the files left over from my canopy install were interfering with the install. Easy fix, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5095973, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207401623946617/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/5095973/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1436455099, "creation_date": 1436455099, "answer_id": 31321671, "question_id": 31304636, "link": "https://stackoverflow.com/questions/31304636/installing-modules-with-pip-failed-to-parse-cpython-sys-version/31321671#31321671", "title": "Installing modules with pip, &quot;failed to parse CPython sys.version&quot;", "body": "<p>I went through my computer and located the old install of Canopy. Once I removed the previous install of python, the issue was resolved.</p>\n"}], "owner": {"reputation": 11, "user_id": 5095973, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207401623946617/picture?type=large", "display_name": "Chris", "link": "https://stackoverflow.com/users/5095973/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436455099, "creation_date": 1436392958, "question_id": 31304636, "link": "https://stackoverflow.com/questions/31304636/installing-modules-with-pip-failed-to-parse-cpython-sys-version", "title": "Installing modules with pip, &quot;failed to parse CPython sys.version&quot;", "body": "<p>this is my first post, so if I'm leaving out any key information or my formatting is off, please let me know.</p>\n\n<p>I'm reinstalling python on my PC, and I haven't used it since I was getting started in Enthought Canopy. I have since uninstalled canopy, and recently reinstalled python 2.7.10. I'm trying to install numpy, scipy, and a handful of similar science based packages, using the following in cmd:</p>\n\n<pre><code>pip install numpy\n</code></pre>\n\n<p>I get the following traceback:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"c:\\users\\chris\\appdata\\local\\enthought\\canopy\\user\\scripts\\pip-script.py\", line 8, in &lt;module&gt;\nfrom pip import main\nFile \"C:\\Python27\\lib\\site-packages\\pip\\__init__.py\", line 17, in &lt;module&gt;\nfrom pip.commands import get_summaries, get_similar_commands\nFile \"C:\\Python27\\lib\\site-packages\\pip\\commands\\__init__.py\", line 6, in &lt;module&gt;\nfrom pip.commands.completion import CompletionCommand\nFile \"C:\\Python27\\lib\\site-packages\\pip\\commands\\completion.py\", line 4, in &lt;module&gt;\nfrom pip.basecommand import Command\nFile \"C:\\Python27\\lib\\site-packages\\pip\\basecommand.py\", line 20, in &lt;module&gt;\nfrom pip.req import InstallRequirement, parse_requirements\nFile \"C:\\Python27\\lib\\site-packages\\pip\\req\\__init__.py\", line 3, in &lt;module&gt;\nfrom .req_install import InstallRequirement\nFile \"C:\\Python27\\lib\\site-packages\\pip\\req\\req_install.py\", line 17, in &lt;module&gt;\nfrom pip._vendor.distlib.markers import interpret as markers_interpret\nFile \"C:\\Python27\\lib\\site-packages\\pip\\_vendor\\__init__.py\", line 72, in load_module\n__import__(name)\nFile \"C:\\Python27\\lib\\site-packages\\pip\\_vendor\\distlib\\markers.py\", line 20, in &lt;module&gt;\nclass Evaluator(object):\nFile \"C:\\Python27\\lib\\site-packages\\pip\\_vendor\\distlib\\markers.py\", line 48, in Evaluator\n'platform_python_implementation': python_implementation(),\nFile \"C:\\Python27\\Lib\\platform.py\", line 1498, in python_implementation\nreturn _sys_version()[0]\nFile \"C:\\Python27\\Lib\\platform.py\", line 1463, in _sys_version\nrepr(sys_version))\nValueError: failed to parse CPython sys.version: '2.7.6 |CUSTOM| (default, Jun  4 2014, 16:30:34) [MSC v.1500 64 bit (AMD64)]'\n</code></pre>\n\n<p>I'm not sure why it's telling me my version is 2.7.6, or why it says I'm running on an AMD64 system (I'm on an x64 device). Any idea what might be going on?</p>\n\n<p>I saw a post of a <a href=\"https://stackoverflow.com/questions/19105255/praw-failed-to-parse-cpython-sys-version-when-creating-reddit-object\">similar problem</a>, but the suggested resolution (setting the sys.version string manually) didn't help, whenever I attempted to install, it reset itself to the one displayed above.</p>\n\n<p>Again, any help is appreciated. Cheers!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12035, "user_id": 603094, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/325af9a946cb4337c6640f0e95044be1?s=128&d=identicon&r=PG", "display_name": "kirelagin", "link": "https://stackoverflow.com/users/603094/kirelagin"}, "edited": false, "score": 0, "creation_date": 1436393334, "post_id": 31304627, "comment_id": 50599080, "body": "That\u2019s strange, I can\u2019t reproduce that. I don\u2019t know, what happens if you press Enter again?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 1, "creation_date": 1436393346, "post_id": 31304627, "comment_id": 50599086, "body": "cannot reproduce your effect. Perhaps you&#39;ve forgotten some closing paren in one of your tests."}, {"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 1, "creation_date": 1436394961, "post_id": 31304627, "comment_id": 50599651, "body": "Probably <code>recvfrom</code> is just blocking."}, {"owner": {"reputation": 109, "user_id": 4381340, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c775c6a60cbe58ff48ad1344bd6e0fff?s=128&d=identicon&r=PG&f=1", "display_name": "zahedae", "link": "https://stackoverflow.com/users/4381340/zahedae"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1436395234, "post_id": 31304627, "comment_id": 50599761, "body": "@Daniel I pasted my own code here."}, {"owner": {"reputation": 109, "user_id": 4381340, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c775c6a60cbe58ff48ad1344bd6e0fff?s=128&d=identicon&r=PG&f=1", "display_name": "zahedae", "link": "https://stackoverflow.com/users/4381340/zahedae"}, "reply_to_user": {"reputation": 12035, "user_id": 603094, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/325af9a946cb4337c6640f0e95044be1?s=128&d=identicon&r=PG", "display_name": "kirelagin", "link": "https://stackoverflow.com/users/603094/kirelagin"}, "edited": false, "score": 0, "creation_date": 1436395278, "post_id": 31304627, "comment_id": 50599783, "body": "@kirelagin I actually pressed Enter more then 20 times. It just gives me empty new line. (without 3 dots.)"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1436395313, "post_id": 31304627, "comment_id": 50599794, "body": "If there&#39;s nothing to print, the <code>while</code> loop will continue indefinitely without giving you a prompt."}, {"owner": {"reputation": 109, "user_id": 4381340, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c775c6a60cbe58ff48ad1344bd6e0fff?s=128&d=identicon&r=PG&f=1", "display_name": "zahedae", "link": "https://stackoverflow.com/users/4381340/zahedae"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1436395578, "post_id": 31304627, "comment_id": 50599906, "body": "@TigerhawkT3 it is possible that I have no output, I will make sure to try same script with output. I will inform you."}, {"owner": {"reputation": 12035, "user_id": 603094, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/325af9a946cb4337c6640f0e95044be1?s=128&d=identicon&r=PG", "display_name": "kirelagin", "link": "https://stackoverflow.com/users/603094/kirelagin"}, "reply_to_user": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1436460583, "post_id": 31304627, "comment_id": 50633758, "body": "@zahedae Then I have to agree with @cdonts, probably <code>recvfrom</code> is blocking."}], "owner": {"reputation": 109, "user_id": 4381340, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c775c6a60cbe58ff48ad1344bd6e0fff?s=128&d=identicon&r=PG&f=1", "display_name": "zahedae", "link": "https://stackoverflow.com/users/4381340/zahedae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436392934, "creation_date": 1436392934, "question_id": 31304627, "link": "https://stackoverflow.com/questions/31304627/python-console-double-enter-doesnt-work-everytime-to-start-the-loop", "title": "Python console double enter doesn&#39;t work everytime to start the loop", "body": "<p>After the loop is done I use double enter to start it. It works for this example:</p>\n\n<pre><code>&gt;&gt;&gt; for i in range(0,100):\n...     print i\n</code></pre>\n\n<p>But I can't double enter when it comes to this one (a code sample I am studying for pentesting.). It just starts a new line with no triple dots.</p>\n\n<pre><code>&gt;&gt;&gt; import socket\n&gt;&gt;&gt; sniff = socket.socket(socket.AF_PACKET, socket.SOCK_RAW, 3)\n&gt;&gt;&gt; sniff.bind((\"eth0\", 0x0003))\n&gt;&gt;&gt; ap_list =[]\n&gt;&gt;&gt; while True :\n...     fm = sniff.recvfrom(6000)\n...     fm= fm1[0]\n...     if fm[26] == \"\\x80\" :\n...             if fm[36:42] not in ap_list:\n...                     ap_list.append(fm[36:42])\n...                     a =  ord(fm[63])\n...                     print \"SSID -&gt; \",fm[64:64 +a],\"-- BSSID -&gt;\", \\\n... fm[36:42].encode('hex'),\"-- Channel -&gt; \", ord(fm[64 +a+12])\n</code></pre>\n\n<p>Edit: I'm using Linux(Xubuntu 14.04).</p>\n"}, {"tags": ["python", "npm", "atom-editor", "traceback", "nuclide-editor"], "comments": [{"owner": {"reputation": 40587, "user_id": 368697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c475e54af82ab6d5ee5bffea9b948c14?s=128&d=identicon&r=PG", "display_name": "Ross Allen", "link": "https://stackoverflow.com/users/368697/ross-allen"}, "edited": false, "score": 1, "creation_date": 1436746241, "post_id": 31304593, "comment_id": 50726712, "body": "Can you open a GitHub Issue for this? <a href=\"https://github.com/facebook/nuclide\" rel=\"nofollow noreferrer\">github.com/facebook/nuclide</a> The team more closely monitors GitHub Issues than StackOverflow at the moment."}, {"owner": {"reputation": 45, "user_id": 1736212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec31b4fa9da03228fdde5eac3748b572?s=128&d=identicon&r=PG", "display_name": "Michaela", "link": "https://stackoverflow.com/users/1736212/michaela"}, "reply_to_user": {"reputation": 40587, "user_id": 368697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c475e54af82ab6d5ee5bffea9b948c14?s=128&d=identicon&r=PG", "display_name": "Ross Allen", "link": "https://stackoverflow.com/users/368697/ross-allen"}, "edited": false, "score": 0, "creation_date": 1436889548, "post_id": 31304593, "comment_id": 50796399, "body": "@ssorallen Yeah I added it here: <a href=\"https://github.com/facebook/nuclide/issues/130\" rel=\"nofollow noreferrer\">github.com/facebook/nuclide/issues/130</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 1736212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec31b4fa9da03228fdde5eac3748b572?s=128&d=identicon&r=PG", "display_name": "Michaela", "link": "https://stackoverflow.com/users/1736212/michaela"}, "is_accepted": true, "score": 1, "last_activity_date": 1437063403, "last_edit_date": 1495535363, "creation_date": 1437063403, "answer_id": 31459490, "question_id": 31304593, "link": "https://stackoverflow.com/questions/31304593/remote-server-setup-nuclide-start-server-command-doesnt-work/31459490#31459490", "title": "Remote server setup: nuclide-start-server command doesn&#39;t work", "body": "<p>Found the answer to this problem from this post --> <a href=\"https://stackoverflow.com/questions/7446187/no-module-named-pkg-resources\">No module named pkg_resources</a>: </p>\n\n<p>I encountered the same ImportError today while trying to use pip. Somehow the setuptools package had been deleted in my Python environment.</p>\n\n<p>To fix the issue, run the setup script for setuptools:</p>\n\n<p><code>wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py -O - | python</code></p>\n\n<p>If you have any version of distribute, or any setuptools below 0.6, you will have to uninstall it first.*</p>\n\n<p>See <a href=\"https://pypi.python.org/pypi/setuptools/0.9.8#installation-instructions\" rel=\"nofollow noreferrer\">Installation</a> Instructions for further details.</p>\n\n<p>FYI: You might need to put a sudo after the pipe. I did. Or put the entire command in quotes, with sudo in the beginning.  </p>\n"}], "owner": {"reputation": 45, "user_id": 1736212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec31b4fa9da03228fdde5eac3748b572?s=128&d=identicon&r=PG", "display_name": "Michaela", "link": "https://stackoverflow.com/users/1736212/michaela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2207, "favorite_count": 1, "accepted_answer_id": 31459490, "answer_count": 1, "score": 1, "last_activity_date": 1484848211, "creation_date": 1436392778, "last_edit_date": 1484848211, "question_id": 31304593, "link": "https://stackoverflow.com/questions/31304593/remote-server-setup-nuclide-start-server-command-doesnt-work", "title": "Remote server setup: nuclide-start-server command doesn&#39;t work", "body": "<p>I'm not able to connect remotely using atom's new nuclide package. I ran <code>npm install -g nuclide-server</code> and followed the the trouble shooting instructions from the nuclide docs <a href=\"http://nuclide.io/docs/remote/\" rel=\"nofollow\">http://nuclide.io/docs/remote/</a> but I keep getting errors. When I run <code>nuclide-start-server</code> on my server, I end up this error:</p>\n\n<pre><code>Traceback (most recent call last):\n File \"scripts/nuclide_server_manager.py\", line 25, in &lt;module&gt;\n    from nuclide_server import LOG_FILE\n  File \"/usr/local/lib/node_modules/nuclide-server/scripts/nuclide_server.py\", line 18, in &lt;module&gt;\nimport utils File \"/usr/local/lib/node_modules/nuclide server/scripts/utils.py\", line 16, in &lt;module&gt; from pkg_resources import resource_string\n</code></pre>\n\n<p>In atom when I try to connect, I get this error which is pretty much summarized above:</p>\n\n<pre><code>Bad stdout from remote server: SYNSYN SYNSYN\n\nstderr:bash: cannot set terminal process group (-1): Invalid argument bash:no job control in this shell Traceback (most recent call last): \nFile \"scripts/nuclide_server_manager.py\", line 25, in from nuclide_server import LOG_FILE File \"/usr/local/lib/node_modules/nuclide-server/scripts/nuclide_server.py\", line 18, in import utils \nFile \"/usr/local/lib/node_modules/nuclide-server/scripts/utils.py\", line 16, in from pkg_resources import resource_string ImportError: No module named pkg_resources\n</code></pre>\n\n<p>Any help is greatly appreciated. Thanks. </p>\n"}, {"tags": ["python", "c++", "boost-python"], "comments": [{"owner": {"reputation": 854, "user_id": 4202532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nwoqalcVgfk/AAAAAAAAAAI/AAAAAAAAAEM/fFK7c7T2Dx8/photo.jpg?sz=128", "display_name": "Elvis Oric", "link": "https://stackoverflow.com/users/4202532/elvis-oric"}, "edited": false, "score": 0, "creation_date": 1436393281, "post_id": 31304553, "comment_id": 50599061, "body": "Check this similar question  :  <a href=\"http://stackoverflow.com/questions/5810101/undefined-boost-python-symbol-boostpythondetailinit-module\" title=\"undefined boost python symbol boostpythondetailinit module\">stackoverflow.com/questions/5810101/&hellip;</a>"}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "reply_to_user": {"reputation": 854, "user_id": 4202532, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nwoqalcVgfk/AAAAAAAAAAI/AAAAAAAAAEM/fFK7c7T2Dx8/photo.jpg?sz=128", "display_name": "Elvis Oric", "link": "https://stackoverflow.com/users/4202532/elvis-oric"}, "edited": false, "score": 0, "creation_date": 1436427491, "post_id": 31304553, "comment_id": 50610415, "body": "Sorry, though that looks similar, I don&#39;t think it&#39;s quite the same problem. The solution in that case seems to have been to install the python-dev package, but I have that installed already."}], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436531286, "post_id": 31330681, "comment_id": 50665490, "body": "Many thanks. Yes, it looks like the source file must be after the CFLAGS (-I options) but before the linker flags (-L and -l). Unfortunately, that&#39;s not what the AC_LINK_IFELSE autoconf macro generates. Googling led me to someone else who had a similar problem, but not with boost: <a href=\"http://lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00005.html\" rel=\"nofollow noreferrer\">lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00005.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436531315, "post_id": 31330681, "comment_id": 50665513, "body": "So I&#39;m going to investigate if the use of LDFLAGS in the boost autoconf macros is the problem: <a href=\"http://lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00009.html\" rel=\"nofollow noreferrer\">lists.gnu.org/archive/html/bug-autoconf/2013-10/msg00009.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436532227, "post_id": 31330681, "comment_id": 50666168, "body": "Interestingly (because it&#39;s you), jhbuild seems to set LDFLAGS to provide the &quot;-L/opt/gnome&quot; prefix. Maybe it should use LIBS?"}, {"owner": {"reputation": 36091, "user_id": 721283, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d9b7698c26959f57c0e3814005b8b52?s=128&d=identicon&r=PG", "display_name": "James Henstridge", "link": "https://stackoverflow.com/users/721283/james-henstridge"}, "reply_to_user": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 0, "creation_date": 1436592075, "post_id": 31330681, "comment_id": 50689820, "body": "It&#39;s been a while since I&#39;ve had to deal with autoconf/automake, but IIRC they split <code>LDFLAGS</code> / <code>LIBS</code> exactly for this purpose: you want the libraries at the end of the command line, and other flags earlier."}, {"owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "edited": false, "score": 1, "creation_date": 1436779990, "post_id": 31330681, "comment_id": 50737809, "body": "For anybody else having exactly the same problem with AX_BOOST_PYTHON(): This is how I fixed it: <a href=\"https://git.gnome.org/browse/glom/commit/?id=8eb81378e85a6ff6b4f51f307a423b0ad2f690b9\" rel=\"nofollow noreferrer\">git.gnome.org/browse/glom/commit/&hellip;</a> . I filed a bug about AX_PYTHON_DEVEL, so if they fix it there then the change to AX_BOOST_PYTHON might not be necessary in the future: <a href=\"https://savannah.gnu.org/patch/?8701\" rel=\"nofollow noreferrer\">savannah.gnu.org/patch/?8701</a>"}], "tags": [], "owner": {"reputation": 36091, "user_id": 721283, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9d9b7698c26959f57c0e3814005b8b52?s=128&d=identicon&r=PG", "display_name": "James Henstridge", "link": "https://stackoverflow.com/users/721283/james-henstridge"}, "is_accepted": true, "score": 1, "last_activity_date": 1436493762, "last_edit_date": 1436493762, "creation_date": 1436489066, "answer_id": 31330681, "question_id": 31304553, "link": "https://stackoverflow.com/questions/31304553/linker-error-with-libboost-python-py34-on-ubuntu-15-04/31330681#31330681", "title": "Linker error with libboost_python-py34 on Ubuntu 15.04", "body": "<p>The first thing that stuck out to me in your compiler invocation is that you've listed the libraries before the source file that uses them on the command line.</p>\n\n<p>This will usually work anyway with shared libraries, but isn't strictly correct.  For instance, it'll break if you're using static libraris, since only the objects from the archive needed to satisfy symbols from things earlier in the command line are included.  But it seems to make a difference here, even though we're using shared libraries:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ g++ -o conftest -Wall -I/usr/include/python3.4m -I/usr/include/x86_64-linux-gnu/python3.4m  -L/usr/lib/x86_64-linux-gnu -lboost_python-py34 -lpython3.4m conftest.cc\n/tmp/ccj8Znlk.o: In function `PyInit_test':\nconftest.cc:(.text+0x7e): undefined reference to `boost::python::detail::init_module(PyModuleDef&amp;, void (*)())'\ncollect2: error: ld returned 1 exit status\n$ g++ -o conftest -Wall -I/usr/include/python3.4m -I/usr/include/x86_64-linux-gnu/python3.4m  -L/usr/lib/x86_64-linux-gnu conftest.cc -lboost_python-py34 -lpython3.4m\n$ ldd conftest | grep python\n    libboost_python-py34.so.1.55.0 =&gt; /usr/lib/x86_64-linux-gnu/libboost_python-py34.so.1.55.0 (0x00007f6291003000)\n    libpython3.4m.so.1.0 =&gt; /usr/lib/x86_64-linux-gnu/libpython3.4m.so.1.0 (0x00007f62909c2000)\n</code></pre>\n\n<p>The second <code>g++</code> invocation succeeds and produces a correctly linked executable.</p>\n"}], "owner": {"reputation": 2015, "user_id": 1123654, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/eb90c999e943427f375acc5e9d94dd5a?s=128&d=identicon&r=PG", "display_name": "murrayc", "link": "https://stackoverflow.com/users/1123654/murrayc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "accepted_answer_id": 31330681, "answer_count": 1, "score": 1, "last_activity_date": 1436493762, "creation_date": 1436392570, "last_edit_date": 1436427678, "question_id": 31304553, "link": "https://stackoverflow.com/questions/31304553/linker-error-with-libboost-python-py34-on-ubuntu-15-04", "title": "Linker error with libboost_python-py34 on Ubuntu 15.04", "body": "<p>I must be making some simple mistake trying to use boost-python on Ubuntu Linux 15.04 (Vivid Vervet), with the libboost-python1.55-dev package installed.</p>\n\n<p>I'm trying to build a simple test file like so:</p>\n\n<pre><code>$ g++ -o conftest -Wall -I/usr/include/python3.4m -I/usr/include/x86_64-linux-gnu/python3.4m  -L/usr/lib/x86_64-linux-gnu -lboost_python-py34 -lpython3.4m conftest.cc\n</code></pre>\n\n<p>But that gives me this linker error:</p>\n\n<pre><code>/tmp/ccxkW5XR.o: In function `PyInit_test':\nconftest.cc:(.text+0x7e): undefined reference to `boost::python::detail::init_module(PyModuleDef&amp;, void (*)())'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>But that symbol really does seem to exist:</p>\n\n<pre><code>$ nm -D --demangle /usr/lib/x86_64-linux-gnu/libboost_python-py34.so | grep \"init_module\"\n0000000000033ac0 T boost::python::detail::init_module(PyModuleDef&amp;, void (*)())\n</code></pre>\n\n<p>This is the very simple test code that I'm building,  based on a config test used by the AX_BOOST_PYTHON autoconf macro:</p>\n\n<pre><code>#include &lt;boost/python/module.hpp&gt;\n\nBOOST_PYTHON_MODULE(test) { throw \"Boost::Python test.\"; }\n\nint\nmain ()\n{\n  return 0;\n}\n</code></pre>\n\n<p>Can anyone see what I'm doing wrong?</p>\n"}, {"tags": ["python", "pandas", "hover", "pivot-table", "ordereddictionary"], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436392347, "creation_date": 1436392347, "question_id": 31304499, "link": "https://stackoverflow.com/questions/31304499/organize-data-that-is-callable-to-hovertool", "title": "Organize Data that is Callable to Hovertool", "body": "<p>I'm confused how to make the hover tool call the two main variables of my stacked bar plot. </p>\n\n<p>My pivot_table is below. The company names are the first column, and the months are along the top row. The number is the Number of Calls in that month from each customer.  </p>\n\n<pre><code>pivot_table.head(2)\nOut[4]: \nMonth                              1   2   3   4   5   6   7   8   9   10  11  CompanyName                                                                     \nCompany1     17  30  29  39  15  27  23  12  36  21  18   \nCompany2   4  11  13  22  34  27  16  18  29  31  17   \n\nMonth                              12  \nCompanyName                            \nCompany1     15  \nCompany2     14  \n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code># get the months\nJan = pivot_table[1].astype(float).values\nFeb = pivot_table[2].astype(float).values\nMar = pivot_table[3].astype(float).values\nApr = pivot_table[4].astype(float).values\nMay = pivot_table[5].astype(float).values\nJun = pivot_table[6].astype(float).values\nJul = pivot_table[7].astype(float).values\nAug = pivot_table[8].astype(float).values\nSep = pivot_table[9].astype(float).values\nOct = pivot_table[10].astype(float).values\nNov = pivot_table[11].astype(float).values\nDec = pivot_table[12].astype(float).values\n# build a dict containing the grouped data\n\nmonths = OrderedDict([('Jan', Jan), ('Feb', Feb), ('Mar', Mar), ('Apr',Apr), ('May',May), ('Jun',Jun),('Jul',Jul), ('Aug',Aug), ('Sep',Sep),('Oct',Oct),('Nov',Nov),('Dec',Dec)])\n\n\n\n\nhover = HoverTool(\n    tooltips = [\n        (\"Month\", \"@months\"),\n        (\"Number of Calls\", \"\"),\n        ]\n)\noutput_file(\"stacked_bar.html\")\nbar = Bar(months, Companies, title=\"Stacked bars\", legend = \"top_right\", width = 1200, height=900, stacked=True)\nbar.add_tools(hover)\n\nshow(bar)\n</code></pre>\n\n<p>The part where I'm not sure how to call the variables is this:</p>\n\n<pre><code>hover = HoverTool(\n    tooltips = [\n        (\"Month\", \"\"),\n        (\"Number of Calls\", \"\"),\n        ]\n)\n</code></pre>\n\n<p>I've tried making a big list for the Number of Calls part this way: <code>NumberCalls = pivot_table.stack().astype(int).tolist()</code> I know Bar doesn't support ColumnDataSource, which is what I've used before. I've tried calling \"@months\" but it's an Ordereddict so it's not calling right. Bonus if there is a way to get the months in a loop rather than one by one!</p>\n"}, {"tags": ["python", "qemu"], "comments": [{"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1436402114, "post_id": 31304494, "comment_id": 50601814, "body": "there is no need for the screenshot. Include the circled <i>text</i> into your question as text instead."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "edited": false, "score": 0, "creation_date": 1436464315, "post_id": 31304660, "comment_id": 50636021, "body": "Thanks for your info. I am doing something like this, but still I can not communicate to stdin:p = Popen([r&quot;/home/bitblaze/temu-1.0/tracecap/temu&quot;,&quot;-snapshot&quot;,&zwnj;&#8203;&quot;-monitor&quot;,&quot;stdio&quot;,&quot;&zwnj;&#8203;-m&quot;,&quot;1024&quot;, &quot;/home/hossein/windowsxp.qcow&quot;],stdout=PIPE, stdin=PIPE) stdout_data = p.communicate(input=&#39;load_plugin /home/bitblaze/temu-1.0/tracecap/tracecap.so&#39;)[0] print(stdout_data)"}, {"owner": {"reputation": 20003, "user_id": 10335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/af44f496fec83ffbb8283b4c7122b246?s=128&d=identicon&r=PG", "display_name": "neves", "link": "https://stackoverflow.com/users/10335/neves"}, "reply_to_user": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "edited": false, "score": 0, "creation_date": 1436472636, "post_id": 31304660, "comment_id": 50640700, "body": "@user2942756: try to communicate through stdin outside of Python. So you can debug where is the problem. To do it try at the command line: echo &lt;text to stdin&gt; | temu &lt;parameter to read input from stdin&gt;"}], "tags": [], "owner": {"reputation": 20003, "user_id": 10335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/af44f496fec83ffbb8283b4c7122b246?s=128&d=identicon&r=PG", "display_name": "neves", "link": "https://stackoverflow.com/users/10335/neves"}, "is_accepted": false, "score": 1, "last_activity_date": 1436393552, "last_edit_date": 1436393552, "creation_date": 1436393076, "answer_id": 31304660, "question_id": 31304494, "link": "https://stackoverflow.com/questions/31304494/automation-of-processes-by-python/31304660#31304660", "title": "automation of processes by python", "body": "<p>Don't forget that Python has <em>batteries included</em>. Take a look of the <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\">Suprocess module</a> in the standard lib. There a lot of pitfalls managing processes, and the module take care of them all. </p>\n\n<p>You probably want to start a qemu process and send the next commands writing to its standard input (stdin). Subprocess module will allow you to do it. See that qemu has <a href=\"http://wiki.qemu.org/download/qemu-doc.html\" rel=\"nofollow\">command line options</a> to connect to stdi: <code>-chardev stdio ,id=id</code></p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "edited": false, "score": 0, "creation_date": 1436469503, "post_id": 31304865, "comment_id": 50638950, "body": "@user2942756, what is being outputted?"}, {"owner": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "edited": false, "score": 0, "creation_date": 1436469820, "post_id": 31304865, "comment_id": 50639120, "body": "nothing. It is only show this line: QEMU 0.9.1 monitor - type &#39;help&#39; for more information. Then wait for a long time and do not do any thing. It seems it can not write to qemu stdin"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "edited": false, "score": 0, "creation_date": 1436469911, "post_id": 31304865, "comment_id": 50639178, "body": "@user2942756, it should be able to, if you run the first command from a shell what output do you see immediately?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "edited": false, "score": 0, "creation_date": 1436470093, "post_id": 31304865, "comment_id": 50639303, "body": "Actually are you not running the command <code>general&#47;trace...</code> that you do not have circled? Is that not meant to be the first command to stdin?"}, {"owner": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "edited": false, "score": 0, "creation_date": 1436470370, "post_id": 31304865, "comment_id": 50639472, "body": "it is loaded automatically because I used loadvm command option. That is why I have not circled it"}, {"owner": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436470457, "post_id": 31304865, "comment_id": 50639518, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/82866/discussion-between-user2942756-and-padraic-cunningham\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1436398608, "last_edit_date": 1436398608, "creation_date": 1436394223, "answer_id": 31304865, "question_id": 31304494, "link": "https://stackoverflow.com/questions/31304494/automation-of-processes-by-python/31304865#31304865", "title": "automation of processes by python", "body": "<p>First thing that came to mind was <a href=\"https://github.com/pexpect/pexpect\" rel=\"nofollow\">pexpect</a>, a quick search on google turned up this blog post <a href=\"http://dummdida.tumblr.com/post/82368744933/automatically-testing-vms-using-pexpect-and-qemu\" rel=\"nofollow\"> automatically-testing-vms-using-pexpect-and-qemu</a> which seems to be pretty much along the lines of what you are doing:</p>\n\n<pre><code>import pexpect\n\nimage = \"fedora-20.img\"\nuser = \"root\"\npassword = \"changeme\"\n\n# Define the qemu cmd to run\n# The important bit is to redirect the serial to stdio\ncmd = \"qemu-kvm\"\ncmd += \" -m 1024 -serial stdio -net user -net nic\"\ncmd += \" -snapshot -hda %s\" % image\ncmd += \" -watchdog-action poweroff\"\n\n# Spawn the qemu process and log to stdout\nchild = pexpect.spawn(cmd)\nchild.logfile = sys.stdout\n\n# Now wait for the login\nchild.expect('(?i)login:')\n\n# And login with the credentials from above\nchild.sendline(user)\nchild.expect('(?i)password:')\nchild.sendline(password)\nchild.expect('# ')\n\n# Now shutdown the machine and end the process\nif child.isalive():\n    child.sendline('init 0')\n    child.close()\n\nif child.isalive():\n    print('Child did not exit gracefully.')\nelse:\n    print('Child exited gracefully.')\n</code></pre>\n\n<p>You could do it with <code>subprocess.Popen</code> also, checking the stdout for the <code>(qemu)</code> lines and writing to stdin. Something roughly like this:</p>\n\n<pre><code>from subprocess import Popen,PIPE\n\n# pass initial command as list of individual args\np = Popen([\"./tracecap/temu\",\"-monitor\",.....],stdout=PIPE, stdin=PIPE)\n# store all the next arguments to pass\nargs = iter([arg1,arg2,arg3])\n# iterate over stdout so we can check where we are\nfor line in iter(p.stdout.readline,\"\"):\n    # if (qemu) is at the prompt, enter a command\n    if line.startswith(\"(qemu)\"):\n        arg = next(args,\"\") \n        # if we have used all args break\n        if not arg:\n            break\n        # else we write the arg with a newline\n        p.stdin.write(arg+\"\\n\")\n    print(line)# just use to see the output\n</code></pre>\n\n<p>Where <code>args</code> contains all the next commands.</p>\n"}], "owner": {"reputation": 173, "user_id": 2942756, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f5c49739a8eb48303c89de09ec9cb788?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2942756/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 1, "accepted_answer_id": 31304865, "answer_count": 2, "score": 3, "last_activity_date": 1436398608, "creation_date": 1436392312, "last_edit_date": 1436393169, "question_id": 31304494, "link": "https://stackoverflow.com/questions/31304494/automation-of-processes-by-python", "title": "automation of processes by python", "body": "<p>I'm trying to write a python script that start a process and do some operations atferward. \nThe commands that I want to automate by script are circled as red in the picture.\nThe problem is that after performing first command, qemu environment will be run and the other commands should be executed on the qemu environment. So I want to know how can I do these commands by an script in python? Because as I know I can do the first command but I do not know how can I do those commands when I am going to qemu environment.</p>\n\n<p><img src=\"https://i.stack.imgur.com/vxuch.jpg\" alt=\"enter image description here\"></p>\n\n<p>Could you help me how can I do this process?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1897, "user_id": 2399138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5cf132b224ff188a0075bec534bb5a?s=128&d=identicon&r=PG", "display_name": "Incognos", "link": "https://stackoverflow.com/users/2399138/incognos"}, "edited": false, "score": 0, "creation_date": 1436479628, "post_id": 31304491, "comment_id": 50644181, "body": "Your code and comments are not very clear as to what you are attempting to accomplish. especially when you say <code>not being able to use counters</code> - could you please expand on your question?"}, {"owner": {"reputation": 55264, "user_id": 1258041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241?s=128&d=identicon&r=PG", "display_name": "Lev Levitsky", "link": "https://stackoverflow.com/users/1258041/lev-levitsky"}, "edited": false, "score": 0, "creation_date": 1436480393, "post_id": 31304491, "comment_id": 50644456, "body": "It looks like this question is not really about HTML parsing, more about Python <code>for</code> loops, is that correct? Also, you <i>can</i> use counters in loops (the pythonic way to do so is using <a href=\"https://docs.python.org/3.4/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate</code></a>), but maybe all you really need is <a href=\"https://docs.python.org/3.4/library/functions.html#zip\" rel=\"nofollow noreferrer\"><code>zip</code></a>?"}, {"owner": {"reputation": 75, "user_id": 1964561, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8dcce312b7715f10b3707cb8d3f99edb?s=128&d=identicon&r=PG", "display_name": "jer99", "link": "https://stackoverflow.com/users/1964561/jer99"}, "edited": false, "score": 0, "creation_date": 1436541001, "post_id": 31304491, "comment_id": 50672426, "body": "Sorry about the confusion. Yes, the problem has to do with loops but perhaps the answer is the way that I&#39;m doing it initially - that&#39;s why the HTML.   I have a list that has all the cell contents for each row. I also have a list that has the headers.  I want to make sure that if the page adds a header or subtracts a header, I just want the first 4 cells for each row. If they delete one header (column=3) I would need to only take 3 cells. My cell list currently has 64 elements. How do I differentiate - or is my initial scraping and getting all cells in a list the wrong approach?"}], "owner": {"reputation": 75, "user_id": 1964561, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8dcce312b7715f10b3707cb8d3f99edb?s=128&d=identicon&r=PG", "display_name": "jer99", "link": "https://stackoverflow.com/users/1964561/jer99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 681, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436478196, "creation_date": 1436392308, "last_edit_date": 1436478196, "question_id": 31304491, "link": "https://stackoverflow.com/questions/31304491/python-looping-through-each-row-of-html-table-based-on-headers", "title": "Python : looping through each row of html table based on headers", "body": "<p>I'm new to python(3.4) and have parsed an html table into headings[ ] , rows[ ] and cells [ ]\nI wish to store each of these into a table (MySQL) eventually with the field names being the items in the headings[ ]</p>\n\n<p>There are 4 headings(\"data0\",\"data1\",\"data2\",\"data3\")\nThere are 6 rows</p>\n\n<p>The code to get there is very rudimentary using BeautifulSoup:</p>\n\n<pre><code>soup = BeautifulSoup(r.text)\ntable = soup.find(\"table\")\ncells = []\nrows = table.findAll('tr')\nheadings = [th.get_text().strip() for th in table.findAll(\"th\")]\nfor row in rows:\n    for cell in row.findAll('td')\n    cells .append(cell.get_text().strip())\n</code></pre>\n\n<p>I'm used to doing CASE statements, or, heaven forbid, a number of IF statements. I would normally place them under the \nfor cell in row.findAll('td')  . But I would be working with a counter and be doing something like:</p>\n\n<pre><code>for row = 0 to len(rows)\n    for cell = 0 to len(headings)\n         select case cell\n    case = 0 \n      (save cell contents to field called headings[0]\n    case = 1\n      (save cell contents to field called headings[1]       \n...\n</code></pre>\n\n<p>I'm not too worried about the saving part (yet) but I cant wrap my head around not being able to use counters.\nI realize this is way beginner, but I should would appreciate any insight (and so would my brain)</p>\n"}, {"tags": ["python", "image-processing", "matplotlib"], "comments": [{"owner": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "edited": false, "score": 1, "creation_date": 1436392728, "post_id": 31304483, "comment_id": 50598825, "body": "Oh, you forgot a <code>=</code> in the second <code>hist()</code>  call. There is <code>range(0, 256)</code> instead of <code>range=(0, 256)</code>"}, {"owner": {"reputation": 133, "user_id": 3117182, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Djnro.png?s=128&g=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/3117182/mustafa"}, "reply_to_user": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "edited": false, "score": 0, "creation_date": 1436392975, "post_id": 31304483, "comment_id": 50598934, "body": "I&#39;ve fixed it, thank you. That just outputs a &#39;too many values to unpack&#39;. It doesn&#39;t affect the problem with histogram"}, {"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 2, "creation_date": 1436393046, "post_id": 31304483, "comment_id": 50598968, "body": "Maybe the values are only between 0 and 1."}, {"owner": {"reputation": 133, "user_id": 3117182, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Djnro.png?s=128&g=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/3117182/mustafa"}, "edited": false, "score": 0, "creation_date": 1436393689, "post_id": 31304483, "comment_id": 50599210, "body": "I don&#39;t think so. I used the same algorithm with many gray scale images, and the output does not change."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1436395250, "post_id": 31304483, "comment_id": 50599768, "body": "I&#39;d check out the suggestion from @User, it fits the symptoms perfectly. The output values from <code>equalize_hist</code> appear to be floating point numbers in the range <code>[0.0, 1.0)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3117182, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Djnro.png?s=128&g=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/3117182/mustafa"}, "edited": false, "score": 0, "creation_date": 1436400551, "post_id": 31305100, "comment_id": 50601430, "body": "Thank you so much Mr Fooz. It&#39;s working perfectly fine"}], "tags": [], "owner": {"reputation": 94918, "user_id": 25050, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ec78954391f88681b2a5b97ef958d08?s=128&d=identicon&r=PG", "display_name": "Mr Fooz", "link": "https://stackoverflow.com/users/25050/mr-fooz"}, "is_accepted": true, "score": 4, "last_activity_date": 1436395262, "creation_date": 1436395262, "answer_id": 31305100, "question_id": 31304483, "link": "https://stackoverflow.com/questions/31304483/how-to-plot-the-equalized-histogram-of-an-image-with-python/31305100#31305100", "title": "How to plot the equalized histogram of an image with Python?", "body": "<p>It looks like it's converting the image from <code>uint8</code> format (integer values between 0 and 255 inclusive) to a <code>float32</code> or <code>float64</code> format (floating point values between 0 and 1 inclusive).  Try <code>eq = np.asarray(equalize_hist(img) * 255, dtype='uint8')</code>.</p>\n"}], "owner": {"reputation": 133, "user_id": 3117182, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Djnro.png?s=128&g=1", "display_name": "Mustafa", "link": "https://stackoverflow.com/users/3117182/mustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2734, "favorite_count": 0, "accepted_answer_id": 31305100, "answer_count": 1, "score": 0, "last_activity_date": 1436426231, "creation_date": 1436392281, "last_edit_date": 1495539831, "question_id": 31304483, "link": "https://stackoverflow.com/questions/31304483/how-to-plot-the-equalized-histogram-of-an-image-with-python", "title": "How to plot the equalized histogram of an image with Python?", "body": "<p>So this is my code. The variable img is the original image. The variable eq is the equalized image.</p>\n\n<pre><code>from matplotlib.pyplot import imread, imshow, show, subplot, title, get_cmap, hist\nfrom skimage.exposure import equalize_hist\n\n\nimg = imread('images/city.tif')\neq = equalize_hist(img)\n\nsubplot(221); imshow(img, cmap=get_cmap('gray')); title('Original')\nsubplot(222); hist(img.flatten(), 256, range=(0,256)); title('Histogram of      origianl')\nsubplot(223); imshow(eq, cmap=get_cmap('gray'));  title('Histogram Equalized')\nsubplot(224); hist(eq.flatten(), 256, range=(0,256));\n\nshow()\n</code></pre>\n\n<p>Now when I run, the code, I get the histogram of the original just fine. But the histogram of the equalized is incorrect. This is all of my output</p>\n\n<p><img src=\"https://i.stack.imgur.com/DLXmW.png\" alt=\"enter image description here\"></p>\n\n<p>What am I doing wrong ?!?! </p>\n\n<p>EDIT: The builtin matlab commands from <a href=\"https://stackoverflow.com/a/31305100/1320237\">the answer</a> works fine for the particular image</p>\n\n<p><img src=\"https://i.stack.imgur.com/wlvVa.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "pyqt4", "qpixmap"], "comments": [{"owner": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "edited": false, "score": 2, "creation_date": 1436395665, "post_id": 31304430, "comment_id": 50599943, "body": "How do you know, they are not being read? Have you verified that <code>filename</code> is not empty?  As a sidenote: You don&#39;t need <code>elif filename != &quot;&quot;: ... else: pass</code>, since the elif path is always True if <code>filename == &quot;&quot;</code> is False."}, {"owner": {"reputation": 47, "user_id": 4941877, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ae8dceb32bfd2a093b041df57434d25?s=128&d=identicon&r=PG&f=1", "display_name": "theCHemist90", "link": "https://stackoverflow.com/users/4941877/thechemist90"}, "reply_to_user": {"reputation": 2736, "user_id": 1174343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Cx7yr.jpg?s=128&g=1", "display_name": "x squared", "link": "https://stackoverflow.com/users/1174343/x-squared"}, "edited": false, "score": 0, "creation_date": 1436451423, "post_id": 31304430, "comment_id": 50627379, "body": "Thank you, x squared. I know they are not being read because the image is not being inserted into self.canvas1, whereas in the other instances of these lines further down the code, the images (green and red) are being inserted when I run the program. In addition, my yellow image does changes when I write its correspoinding lines before filename... and after def run(self): I hope this makes sense."}], "owner": {"reputation": 47, "user_id": 4941877, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ae8dceb32bfd2a093b041df57434d25?s=128&d=identicon&r=PG&f=1", "display_name": "theCHemist90", "link": "https://stackoverflow.com/users/4941877/thechemist90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436431933, "creation_date": 1436392132, "last_edit_date": 1436431933, "question_id": 31304430, "link": "https://stackoverflow.com/questions/31304430/qpixmap-line-being-skipped", "title": "QPixmap Line Being Skipped", "body": "<p>I have the following piece of code:</p>\n\n<pre><code>def run(self):\n        filename = QtGui.QFileDialog.getSaveFileName(self, \"Save file\", \"\", \".inp\")\n        if filename == \"\":\n            pass\n        elif filename != \"\":\n            nfile = open(filename, 'w')\n            self.pixmap1 = QtGui.QPixmap('yellow.jpg')\n            self.canvas1.setPixmap(self.pixmap1)\n            self.cursor.movePosition(self.cursor.Start, self.cursor.MoveAnchor)\n            self.cursor.movePosition(self.cursor.End, self.cursor.KeepAnchor)\n            text = self.cursor.selection()\n            text1 = text.toPlainText()\n            nfile.write(text1)\n            nfile.close()\n            fileInfo = QtCore.QFileInfo(filename)\n            name = fileInfo.baseName()\n\n            import os\n            os.system(\"rungms {}.inp 13-64 {} {} {}.out\".format(name, self.cores_val, self.clusters_val, name))\n\n            from itertools import islice\n            import sys\n\n            with open(\"{}.out\".format(name)) as searchfile:\n                for line in searchfile:\n                    if 'TERMINATED NORMALLY' in line:\n                        self.pixmap1 = QtGui.QPixmap('green.jpg')\n                        self.canvas1.setPixmap(self.pixmap1)\n                    elif 'job aborted' in line:\n                        self.pixmap1 = QtGui.QPixmap('red.jpg')\n                        self.canvas1.setPixmap(self.pixmap1)\n                    else:\n                        pass\n        else:\n            pass\n</code></pre>\n\n<p>My problem is that the two lines involving <code>QPixmap('yellow.jpg')</code> are not being read after saving my file. However, if I move these two lines in between the first and second lines of the code (i.e. before filename = QtGui...), then they do work.</p>\n\n<p>Can someone explain to me why this is the case?</p>\n"}, {"tags": ["python", "pandas", "ipython", "anaconda"], "answers": [{"comments": [{"owner": {"reputation": 2539, "user_id": 4677278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1cb766e72045dedd3adaf4353479fa26?s=128&d=identicon&r=PG&f=1", "display_name": "ytk", "link": "https://stackoverflow.com/users/4677278/ytk"}, "edited": false, "score": 1, "creation_date": 1436416767, "post_id": 31304602, "comment_id": 50605389, "body": "Thanks for the info! I just updated my canopy modules and set my PYTHONPATH to include anaconda and it worked."}, {"owner": {"reputation": 990, "user_id": 3629596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fsHl6.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3629596/tom"}, "reply_to_user": {"reputation": 2539, "user_id": 4677278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1cb766e72045dedd3adaf4353479fa26?s=128&d=identicon&r=PG&f=1", "display_name": "ytk", "link": "https://stackoverflow.com/users/4677278/ytk"}, "edited": false, "score": 0, "creation_date": 1436428435, "post_id": 31304602, "comment_id": 50610968, "body": "I am glad to hear! :)"}], "tags": [], "owner": {"reputation": 990, "user_id": 3629596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fsHl6.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3629596/tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1436392800, "last_edit_date": 1495535449, "creation_date": 1436392800, "answer_id": 31304602, "question_id": 31304416, "link": "https://stackoverflow.com/questions/31304416/ipython-notebook-error-when-trying-to-load-matplotlib/31304602#31304602", "title": "iPython notebook error when trying to load matplotlib", "body": "<p>You can read about a similar issue <a href=\"https://stackoverflow.com/questions/26238004/ipython-notebook-throws-importerror-ipython-doesnt\">here</a> and <a href=\"https://stackoverflow.com/a/15622021/1766755\">here</a>.</p>\n\n<p>The main problem is with importing scimath:\n\"ImportError: cannot import name scimath\"</p>\n\n<p>You can try to import scimath.</p>\n\n<p>A better solution would be to set your PYTHONPATH var, which provides the python interpreter with additional directories look in for python packages/modules. You can read more about setting PYTHONPATH variable <a href=\"https://stackoverflow.com/questions/3701646/how-to-add-to-the-pythonpath-in-windows-7\">here</a>.</p>\n"}], "owner": {"reputation": 2539, "user_id": 4677278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1cb766e72045dedd3adaf4353479fa26?s=128&d=identicon&r=PG&f=1", "display_name": "ytk", "link": "https://stackoverflow.com/users/4677278/ytk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5455, "favorite_count": 1, "accepted_answer_id": 31304602, "answer_count": 1, "score": 2, "last_activity_date": 1537336190, "creation_date": 1436392084, "question_id": 31304416, "link": "https://stackoverflow.com/questions/31304416/ipython-notebook-error-when-trying-to-load-matplotlib", "title": "iPython notebook error when trying to load matplotlib", "body": "<p>I'm trying to learn pandas by watching this video: <a href=\"https://www.youtube.com/watch?v=5JnMutdy6Fw\" rel=\"nofollow\">https://www.youtube.com/watch?v=5JnMutdy6Fw</a>. I downloaded the notebooks (<a href=\"https://github.com/brandon-rhodes/pycon-pandas-tutorial/\" rel=\"nofollow\">https://github.com/brandon-rhodes/pycon-pandas-tutorial/</a>), and loaded up Exercises-1. The first block</p>\n\n<pre><code>%matplotlib inline\nimport pandas as pd\n</code></pre>\n\n<p>is giving me this error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n&lt;ipython-input-10-5761ac74df30&gt; in &lt;module&gt;()\n----&gt; 1 get_ipython().magic(u'matplotlib inline')\n      2 import pandas as pd\n\n/Users/***/anaconda/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in magic(self, arg_s)\n   2305         magic_name, _, magic_arg_s = arg_s.partition(' ')\n   2306         magic_name = magic_name.lstrip(prefilter.ESC_MAGIC)\n-&gt; 2307         return self.run_line_magic(magic_name, magic_arg_s)\n   2308 \n   2309     #-------------------------------------------------------------------------\n\n/Users/***/anaconda/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in run_line_magic(self, magic_name, line)\n   2226                 kwargs['local_ns'] = sys._getframe(stack_depth).f_locals\n   2227             with self.builtin_trap:\n-&gt; 2228                 result = fn(*args,**kwargs)\n   2229             return result\n   2230 \n\n/Users/***/anaconda/lib/python2.7/site-packages/IPython/core/magics/pylab.pyc in matplotlib(self, line)\n\n/Users/***/anaconda/lib/python2.7/site-packages/IPython/core/magic.pyc in &lt;lambda&gt;(f, *a, **k)\n    191     # but it's overkill for just that one bit of state.\n    192     def magic_deco(arg):\n--&gt; 193         call = lambda f, *a, **k: f(*a, **k)\n    194 \n    195         if callable(arg):\n\n/Users/***/anaconda/lib/python2.7/site-packages/IPython/core/magics/pylab.pyc in matplotlib(self, line)\n     86         \"\"\"\n     87         args = magic_arguments.parse_argstring(self.matplotlib, line)\n---&gt; 88         gui, backend = self.shell.enable_matplotlib(args.gui)\n     89         self._show_matplotlib_backend(args.gui, backend)\n     90 \n\n/Users/***/anaconda/lib/python2.7/site-packages/IPython/core/interactiveshell.pyc in enable_matplotlib(self, gui)\n   3087         \"\"\"\n   3088         from IPython.core import pylabtools as pt\n-&gt; 3089         gui, backend = pt.find_gui_and_backend(gui, self.pylab_gui_select)\n   3090 \n   3091         if gui != 'inline':\n\n/Users/***/anaconda/lib/python2.7/site-packages/IPython/core/pylabtools.pyc in find_gui_and_backend(gui, gui_select)\n    237     \"\"\"\n    238 \n--&gt; 239     import matplotlib\n    240 \n    241     if gui and gui != 'auto':\n\n/Users/***/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/__init__.py in &lt;module&gt;()\n    178 # cbook must import matplotlib only within function\n    179 # definitions, so it is safe to import from it here.\n--&gt; 180 from matplotlib.cbook import is_string_like\n    181 from matplotlib.compat import subprocess\n    182 \n\n/Users/***/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/matplotlib/cbook.py in &lt;module&gt;()\n     31 from weakref import ref, WeakKeyDictionary\n     32 \n---&gt; 33 import numpy as np\n     34 import numpy.ma as ma\n     35 \n\n/Users/***/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/numpy/__init__.py in &lt;module&gt;()\n    183         return loader(*packages, **options)\n    184 \n--&gt; 185     from . import add_newdocs\n    186     __all__ = ['add_newdocs',\n    187                'ModuleDeprecationWarning',\n\n/Users/***/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/numpy/add_newdocs.py in &lt;module&gt;()\n     11 from __future__ import division, absolute_import, print_function\n     12 \n---&gt; 13 from numpy.lib import add_newdoc\n     14 \n     15 ###############################################################################\n\n/Users/***/Library/Enthought/Canopy_64bit/User/lib/python2.7/site-packages/numpy/lib/__init__.py in &lt;module&gt;()\n     15 from .ufunclike import *\n     16 \n---&gt; 17 from . import scimath as emath\n     18 from .polynomial import *\n     19 #import convertcode\n\nImportError: cannot import name scimath\n</code></pre>\n\n<p>Can someone tell me what's happening and how I can fix it?</p>\n"}, {"tags": ["php", "python", "process", "callback"], "comments": [{"owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "edited": false, "score": 0, "creation_date": 1436392135, "post_id": 31304402, "comment_id": 50598542, "body": "I&#39;m not sure about php, but if you&#39;re doing a lot of python you might just switch this page to use a python web framework instead of php."}, {"owner": {"reputation": 13, "user_id": 3443725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42788c0ae25a3f47e1c14673c71c41c1?s=128&d=identicon&r=PG&f=1", "display_name": "bmacrae7", "link": "https://stackoverflow.com/users/3443725/bmacrae7"}, "reply_to_user": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "edited": false, "score": 0, "creation_date": 1436451120, "post_id": 31304402, "comment_id": 50627143, "body": "I thought about this, however, I have an entire PHP system already developed that has extensive analysis tools built in. It would be a lot more work to convert the entire system to PHP"}, {"owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "edited": false, "score": 0, "creation_date": 1436457776, "post_id": 31304402, "comment_id": 50632024, "body": "Can you spawn it in the background and have it write to some sort of log file then have your php script parse that log file to check its progress?  Of course you&#39;ll need some way of tracking what that file is named and cleaning it up."}, {"owner": {"reputation": 13, "user_id": 3443725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42788c0ae25a3f47e1c14673c71c41c1?s=128&d=identicon&r=PG&f=1", "display_name": "bmacrae7", "link": "https://stackoverflow.com/users/3443725/bmacrae7"}, "reply_to_user": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "edited": false, "score": 0, "creation_date": 1436458544, "post_id": 31304402, "comment_id": 50632462, "body": "Thats a possibility. I will try that and let you know. Thanks!!"}], "owner": {"reputation": 13, "user_id": 3443725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42788c0ae25a3f47e1c14673c71c41c1?s=128&d=identicon&r=PG&f=1", "display_name": "bmacrae7", "link": "https://stackoverflow.com/users/3443725/bmacrae7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436440119, "creation_date": 1436392025, "question_id": 31304402, "link": "https://stackoverflow.com/questions/31304402/call-python-in-background-from-php-and-get-output", "title": "Call Python in background from PHP and get output", "body": "<p>I am calling a long-running Python script from inside PHP using the exec command. This works, and I can get output using the $output parameter to the exec command. However, the PHP page starts a loading bar while this exec command is running and I can't update the UI in the meantime. Basically, I am trying to create a loading bar for this Python scripts execution, that needs to update. It doesn't need to update based on the actual loading time, just something to keep the user occupied, so they know something is happening. </p>\n\n<p>How can I start this Python process, and get all of the output, but still have the PHP page able to do other things at the same time?</p>\n"}, {"tags": ["python", "shell"], "comments": [{"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "edited": false, "score": 0, "creation_date": 1436392543, "post_id": 31304394, "comment_id": 50598730, "body": "What shell are you using? Is it bash?"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 4705958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0500daadc8383f2fc6c7350c0807d28e?s=128&d=identicon&r=PG&f=1", "display_name": "BioInformatician", "link": "https://stackoverflow.com/users/4705958/bioinformatician"}, "edited": false, "score": 0, "creation_date": 1436565551, "post_id": 31304594, "comment_id": 50684920, "body": "Thanks a lot. One more thing is possible if I do : file_read=dir1/${i}*.txt"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 97, "user_id": 4705958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0500daadc8383f2fc6c7350c0807d28e?s=128&d=identicon&r=PG&f=1", "display_name": "BioInformatician", "link": "https://stackoverflow.com/users/4705958/bioinformatician"}, "edited": false, "score": 0, "creation_date": 1436777602, "post_id": 31304594, "comment_id": 50736402, "body": "You can&#39;t assign the result of a glob expansion to a variable like that but you could use an array: <code>file_read=( dir1&#47;${i}*.txt )</code> then you can access each file like <code>&quot;${file_read[0]}&quot;</code>, <code>&quot;${file_read[1]}&quot;</code>, etc."}, {"owner": {"reputation": 97, "user_id": 4705958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0500daadc8383f2fc6c7350c0807d28e?s=128&d=identicon&r=PG&f=1", "display_name": "BioInformatician", "link": "https://stackoverflow.com/users/4705958/bioinformatician"}, "edited": false, "score": 0, "creation_date": 1436908748, "post_id": 31304594, "comment_id": 50807695, "body": "thanks a lot once again. I want to include a part of a code to check that the number of file_read is 4 or has to be 4 with an extension ,txt and for file_ filtr I want also to check the number of files to be 4 and the extension .tsv"}, {"owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "reply_to_user": {"reputation": 97, "user_id": 4705958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0500daadc8383f2fc6c7350c0807d28e?s=128&d=identicon&r=PG&f=1", "display_name": "BioInformatician", "link": "https://stackoverflow.com/users/4705958/bioinformatician"}, "edited": false, "score": 0, "creation_date": 1436910115, "post_id": 31304594, "comment_id": 50808305, "body": "It&#39;s not really clear what your exact requirements are from that comment but in any case, it&#39;s best not to keep changing your question. If your original problem is solved, you should accept this answer. You should have a go at solving your new problem yourself and if you get stuck, consider asking another question."}], "tags": [], "owner": {"reputation": 64845, "user_id": 2088135, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YB10Q.jpg?s=128&g=1", "display_name": "Tom Fenech", "link": "https://stackoverflow.com/users/2088135/tom-fenech"}, "is_accepted": false, "score": 2, "last_activity_date": 1436393561, "last_edit_date": 1436393561, "creation_date": 1436392779, "answer_id": 31304594, "question_id": 31304394, "link": "https://stackoverflow.com/questions/31304394/shell-script-to-run-a-python-code-with-two-different-folders-of-the-same-numbere/31304594#31304594", "title": "Shell Script to Run a python code with two different folders of The Same Numbered Files", "body": "<p>If you have bash, you could use a script like this:</p>\n\n<pre><code>#!/bin/bash \n\nfor i in {001..650}; do\n    file_read=dir1/${i}file_read.txt\n    file_filtr=dir2/${i}filtr.tsv\n    if [[ -f $file_read ]] &amp;&amp; [[ -f $file_filtr ]]; then\n        python my_python_prog.py \"$file_read\" \"$file_filtr\"\n    fi\ndone\n</code></pre>\n\n<p>This loops through all numbers from <code>000</code> to <code>650</code>, checks that both of the two files exists and executes the python command if they do.</p>\n\n<p>If you don't have bash, you can achieve the same thing by making a few changes:</p>\n\n<pre><code>#!/bin/sh\n\nwhile (( ++i &lt;= 650 )); do\n    n=$(printf '%03d' \"$i\")\n    file_read=dir1/${n}file_read.txt\n    file_filtr=dir2/${n}filtr.tsv\n    if [ -f \"$file_read\" ] &amp;&amp; [ -f \"$file_filtr\" ]; then\n        python my_python_prog.py \"$file_read\" \"$file_filtr\"\n    fi\ndone\n</code></pre>\n\n<p>Alternatively, you could modify your python script, perform the loop within it, and use <code>os.path.isfile()</code> to verify that both files exist. The advantage of this approach would be that you don't call your script 650 times.</p>\n"}], "owner": {"reputation": 97, "user_id": 4705958, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0500daadc8383f2fc6c7350c0807d28e?s=128&d=identicon&r=PG&f=1", "display_name": "BioInformatician", "link": "https://stackoverflow.com/users/4705958/bioinformatician"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436393561, "creation_date": 1436392006, "question_id": 31304394, "link": "https://stackoverflow.com/questions/31304394/shell-script-to-run-a-python-code-with-two-different-folders-of-the-same-numbere", "title": "Shell Script to Run a python code with two different folders of The Same Numbered Files", "body": "<p>I have two folders and each contains files that has same numbering systems which is part of the file name. \nFor example, </p>\n\n<p>Folder 1 has:</p>\n\n<pre><code>  001file_read.txt, 002file_read.txt, until 650file_read.txt\n</code></pre>\n\n<p>Folder 2 has:</p>\n\n<pre><code>  001filtr.tsv, 002filtr.tsv, until 650filtr.tsv\n</code></pre>\n\n<p>I want to run a python code using shell script which basically runs like the following:</p>\n\n<pre><code> python my_python_prog.py 001file_read.txt  001filtr.tsv\n</code></pre>\n\n<p>The problem is because I have a huge number of files of both folders. I want to find a way to run the command only once where it will automatically run file001 from folder1 to file001 to folder2 and file002 from folder1 to file002 from folder2 and so on until file650 of both folders. How can I do that using shell script?</p>\n\n<p>Thanks a lot for your help in advance,</p>\n"}, {"tags": ["python", "numpy", "regression", "least-squares", "poisson"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5526261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5f5f7e049fa3cf2bbde81ad99243d6f?s=128&d=identicon&r=PG&f=1", "display_name": "Aetienne Sardon", "link": "https://stackoverflow.com/users/5526261/aetienne-sardon"}, "is_accepted": false, "score": 1, "last_activity_date": 1467275280, "creation_date": 1467275280, "answer_id": 38117756, "question_id": 31304386, "link": "https://stackoverflow.com/questions/31304386/python-numpy-poisson-regression-producing-bad-numbers/38117756#38117756", "title": "Python Numpy Poisson regression producing bad numbers", "body": "<p>If you assume the response Y has a Poisson distribution, then the expected value of Y is equal to the model parameter mu, i.e. E[Y]=mu. </p>\n\n<p>Now in a Poisson regression you model the log of the expected counts as a linear combination of unknown parameters, i.e. log( E[Y] ) = X * beta. This is a generalized linear model, where  the parameters beta are not necessarily all positive. </p>\n\n<p>In order to obtain your fitted scores you need to take the exponential again, i.e. E[Y] = exp(X * beta). </p>\n\n<pre><code>import numpy\n\nY = numpy.array([2,0.001, 2,1,1,1])\nX = numpy.matrix([ [1,0,0,0,0,0,0,-1], [0,-1,0,0,0,0,1,0], [0,0,1,0,0,-1,0,0], [0,0,0,-1,1,0,0,0],  [1,0,0,0,0,0,0,-1], [0,-1,0,0,0,0,1,0]])\nlogY = numpy.log(Y)\nbeta = numpy.linalg.lstsq(X,logY)[0]\n\nprint X\nprint beta\nprint numpy.exp( X.dot(beta) )\n</code></pre>\n\n<p>This produces:</p>\n\n<pre><code>[[ 1.41421356  0.03162278  2.          1.          1.41421356  0.03162278]]\n</code></pre>\n"}], "owner": {"reputation": 3331, "user_id": 1747088, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/QZWPt.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/1747088/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1467275280, "creation_date": 1436391976, "question_id": 31304386, "link": "https://stackoverflow.com/questions/31304386/python-numpy-poisson-regression-producing-bad-numbers", "title": "Python Numpy Poisson regression producing bad numbers", "body": "<p>I would like to use Poisson regression to model football matches. I am trying to fit attack and defence ratings to each team based on past results. So say I have a set of results like this:</p>\n\n<pre><code>A v B 2 0\nB v A 2 1\nA v B 1 1 \n</code></pre>\n\n<p>The number of goals each team scores goes into a vector like this:</p>\n\n<pre><code>Y = numpy.array([2,0.001,2,1,1,1]) #0.001 will become clear soon\n</code></pre>\n\n<p>I'm trying to fit the home and away defence ratings in a vector <code>B</code> such that <code>Y = exp(X*B)</code> where X is a matrix representing the results of the games.</p>\n\n<p>The vector <code>B</code> is in the form:</p>\n\n<pre><code>B = [A_home_attack,\n A_home_defence,\n B_home_attack,\n B_home_defence,\n A_away_attack,\n A_away_defence,\n B_away_attack,\n B_away_defence]\n</code></pre>\n\n<p>From the above table of results the matrix X must look like this:</p>\n\n<pre><code>[1,0,0,0,0,0,0,-1]\n[0,-1,0,0,0,0,1,0]\n[0,0,1,0,0,-1,0,0]\n[0,0,0,-1,1,0,0,0]\n[1,0,0,0,0,0,0,-1]\n[0,-1,0,0,0,0,1,0]\n</code></pre>\n\n<p>Now since the left-hand-side of the model equation above is in terms of e^x I take logarithms of the vector <code>Y</code> (hence entering 0 as 0.001, log(0) is not defined).</p>\n\n<p>Here is my Python implementation of the algorithm stated above:</p>\n\n<pre><code>import numpy\n\nY = numpy.array([2,0.001, 2,1,1,1])\nX = numpy.matrix([ [1,0,0,0,0,0,0,-1], [0,-1,0,0,0,0,1,0], [0,0,1,0,0,-1,0,0], [0,0,0,-1,1,0,0,0],  [1,0,0,0,0,0,0,-1], [0,-1,0,0,0,0,1,0]])\nlogY = numpy.log(Y)\nbeta = numpy.linalg.lstsq(X,logY)\nprint beta[0]\n\nprint \"A %.2f v %.2f B\" % ( beta[0][0] - beta[0][7], beta[0][6] - beta[0][1] )\n</code></pre>\n\n<p>The output of the above is: </p>\n\n<pre><code>[  1.73286795e-01   1.72693882e+00   3.46573590e-01  -1.11022302e-16\n1.45089809e-16  -3.46573590e-01  -1.72693882e+00  -1.73286795e-01]\n\n A 0.35 v -3.45 B\n</code></pre>\n\n<p>The numbers <code>beta[0][0] - beta[0][7]</code> and <code>beta[0][6] - beta[0][1]</code> represent the expected number of goals for the home and away teams. These must be positive by definition so something has gone wrong.</p>\n\n<p>If anyone could point out the error of my ways I'd be eternally grateful.  </p>\n"}, {"tags": ["python", "pandas", "seaborn"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 1, "creation_date": 1436393219, "post_id": 31304342, "comment_id": 50599045, "body": "The <code>Text</code> column has dtype <code>object</code>, which probably means the items in that column are strings. Are they all numeric strings? Or do some rows contain empty spaces? The <code>No numeric types to aggregate</code> suggests that <code>Text</code> must be numeric for <code>df.pivot_table</code> to work...."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1436464874, "post_id": 31304342, "comment_id": 50636347, "body": "If <code>Date</code> and <code>Location</code> make up a MultiIndex, <code>df.unstack(level=&#39;Location&#39;)</code> would be much simpler."}], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 2549826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1375145186/picture?type=large", "display_name": "Brainlock", "link": "https://stackoverflow.com/users/2549826/brainlock"}, "edited": false, "score": 0, "creation_date": 1436430891, "post_id": 31304693, "comment_id": 50612583, "body": "Thank you so much! Simple and elegant."}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 3, "last_activity_date": 1436393612, "last_edit_date": 1436393612, "creation_date": 1436393235, "answer_id": 31304693, "question_id": 31304342, "link": "https://stackoverflow.com/questions/31304342/pivoting-a-pandas-dataframe-to-generate-a-seaborn-heatmap/31304693#31304693", "title": "Pivoting a pandas dataframe to generate a (seaborn) heatmap", "body": "<pre><code>import pandas as pd\nimport numpy as np\n\n# just try to replicate your dataframe\n# ==============================================\ndate = ['2015-07-08', '2015-07-07', '2015-07-07', '2015-07-07', '2015-07-07', '2015-07-07']\nlocation = ['San Diego, CA', 'Bellevue, WA', 'Los Angeles, CA', 'New York, NY', 'Los Angeles, CA', 'Unknown']\ntext = [1] * 6\ndf = pd.DataFrame({'Date': date, 'Location': location, 'Text': text})\n\nOut[141]: \n         Date         Location  Text\n0  2015-07-08    San Diego, CA     1\n1  2015-07-07     Bellevue, WA     1\n2  2015-07-07  Los Angeles, CA     1\n3  2015-07-07     New York, NY     1\n4  2015-07-07  Los Angeles, CA     1\n5  2015-07-07          Unknown     1\n\n# processing\n# ==============================================\npd.pivot_table(df, index='Date', columns='Location', values='Text', aggfunc=np.sum)\n\nOut[142]: \nLocation    Bellevue, WA  Los Angeles, CA  New York, NY  San Diego, CA  Unknown\nDate                                                                           \n2015-07-07             1                2             1            NaN        1\n2015-07-08           NaN              NaN           NaN              1      NaN\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 2549826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1375145186/picture?type=large", "display_name": "Brainlock", "link": "https://stackoverflow.com/users/2549826/brainlock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4612, "favorite_count": 2, "accepted_answer_id": 31304693, "answer_count": 1, "score": 3, "last_activity_date": 1436393612, "creation_date": 1436391785, "question_id": 31304342, "link": "https://stackoverflow.com/questions/31304342/pivoting-a-pandas-dataframe-to-generate-a-seaborn-heatmap", "title": "Pivoting a pandas dataframe to generate a (seaborn) heatmap", "body": "<p>I'm new to Python and fairly new to SO.</p>\n\n<p>I have a pandas dataframe named df which looks like:</p>\n\n<pre><code>                                 Text\nDate        Location                           \n2015-07-08  San Diego, CA        1\n2015-07-07  Bellevue, WA         1\n            Los Angeles, CA      1\n            New York, NY         1\n            Los Angeles, CA      1\n            Unknown              1\n</code></pre>\n\n<p>I want to pivot the data using:</p>\n\n<pre><code>import pandas, numpy as np\n\ndf_pivoted = df.pivot_table(df, values=['Text'], index=['Date'],\n    columns=['Location'],aggfunc=np.sum)\n</code></pre>\n\n<p>The idea is to generate a heat map that shows the count of \"Text\" by \"Location\" and \"Date\".</p>\n\n<p>I get error:</p>\n\n<pre><code>TypeError: pivot_table() got multiple values for keyword argument 'values'\n</code></pre>\n\n<p>When using a simplified approach:</p>\n\n<pre><code>df = df.pivot_table('Date', 'Location', 'Text')\n</code></pre>\n\n<p>I get error:</p>\n\n<pre><code>raise DataError('No numeric types to aggregate')\n</code></pre>\n\n<p>I'm using Python 2.7 and Pandas 0.16.2</p>\n\n<pre><code>In[2]: df.dtypes\nOut[2]: \nDate        datetime64[ns]\nText                object\nLocation            object\ndtype: object\n</code></pre>\n\n<p>Anyone having an idea?</p>\n"}, {"tags": ["python", "tkinter", "listbox"], "comments": [{"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1436395129, "post_id": 31304316, "comment_id": 50599719, "body": "Can we see the error message?"}, {"owner": {"reputation": 439, "user_id": 3858173, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e28c85675cd21c46fe115db58b0f0205?s=128&d=identicon&r=PG&f=1", "display_name": "Filipe Teixeira", "link": "https://stackoverflow.com/users/3858173/filipe-teixeira"}, "reply_to_user": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1436400185, "post_id": 31304316, "comment_id": 50601318, "body": "no errors, simply don&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1436395689, "creation_date": 1436395689, "answer_id": 31305166, "question_id": 31304316, "link": "https://stackoverflow.com/questions/31304316/python-tkinter-show-image-acessed-on-a-listbox/31305166#31305166", "title": "Python Tkinter show image acessed on a listbox", "body": "<p>You must use the <code>configure</code> method of the label, and store a reference to the image somewhere.</p>\n\n<pre><code>self.c.image = img           # save reference\nself.c.configure(image=img)  # configure the label\n</code></pre>\n"}], "owner": {"reputation": 439, "user_id": 3858173, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e28c85675cd21c46fe115db58b0f0205?s=128&d=identicon&r=PG&f=1", "display_name": "Filipe Teixeira", "link": "https://stackoverflow.com/users/3858173/filipe-teixeira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2053, "favorite_count": 0, "accepted_answer_id": 31305166, "answer_count": 1, "score": 0, "last_activity_date": 1436395689, "creation_date": 1436391658, "question_id": 31304316, "link": "https://stackoverflow.com/questions/31304316/python-tkinter-show-image-acessed-on-a-listbox", "title": "Python Tkinter show image acessed on a listbox", "body": "<p>I'm trying to make a python script that shows a image that is acessed on a listbox. This code that I got on the internet works:</p>\n\n<pre><code>import Tkinter as tk\nfrom PIL import ImageTk, Image\n\nwindow = tk.Tk()\n\npath = 'img\\\\2015722_univ_sqs_sm.jpg'\nimg = ImageTk.PhotoImage(Image.open(path))\npanel = tk.Label(window, image = img)\npanel.pack(side = \"bottom\", fill = \"both\", expand = \"yes\")\n\nwindow.mainloop()\n</code></pre>\n\n<p>But when I tried to adapt it do the listbox it stopped working.</p>\n\n<pre><code>from Tkinter import *\nfrom PIL import ImageTk, Image\nimport glob\n\nfiles = glob.glob('img\\\\*.jpg')\n\nclass App:\n\n    def __init__(self, root):\n\n        self.l = Listbox(root, width = 50, height = 15)\n        self.l.pack()\n        self.l.bind('&lt;&lt;ListboxSelect&gt;&gt;', self.lol)\n\n        self.c = Label(root)\n        self.c.pack()\n\n        for f in files:\n            self.l.insert(END, f)\n\n    def lol(self, evt):\n\n        path = files[self.l.curselection()[0]]\n        img = ImageTk.PhotoImage(Image.open(path))\n        self.c.image = img\n        self.c.pack()\n\nroot = Tk()\nApp(root)\nroot.mainloop()\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "random-forest"], "answers": [{"tags": [], "owner": {"reputation": 5786, "user_id": 3914041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1", "display_name": "ldirer", "link": "https://stackoverflow.com/users/3914041/ldirer"}, "is_accepted": true, "score": 4, "last_activity_date": 1436391998, "creation_date": 1436391998, "answer_id": 31304389, "question_id": 31304314, "link": "https://stackoverflow.com/questions/31304314/size-of-sample-in-random-forest-regression/31304389#31304389", "title": "Size of sample in Random Forest Regression", "body": "<p>The sample size for bootstrap is always the number of samples.</p>\n\n<p>You are not missing anything, the same question was asked on the <a href=\"http://sourceforge.net/p/scikit-learn/mailman/scikit-learn-general/?viewmonth=201507\" rel=\"nofollow\">mailing list</a> for <code>RandomForestClassifier</code>:</p>\n\n<blockquote>\n  <p>The bootstrap sample size is always the same as the input sample size. If you feel up to it, a pull request updating the documentation would probably be quite welcome.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 310, "user_id": 9575303, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hS3s9.png?s=128&g=1", "display_name": "Sean.H", "link": "https://stackoverflow.com/users/9575303/sean-h"}, "edited": false, "score": 0, "creation_date": 1610521691, "post_id": 31305311, "comment_id": 116156806, "body": "Since  0.22 version, <code>max_samples</code> controls <code>the number of samples to draw from X to train each base estimator.</code>"}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 9, "last_activity_date": 1436396483, "creation_date": 1436396483, "answer_id": 31305311, "question_id": 31304314, "link": "https://stackoverflow.com/questions/31304314/size-of-sample-in-random-forest-regression/31305311#31305311", "title": "Size of sample in Random Forest Regression", "body": "<p>Uhh, I agree with you it's quite strange that we cannot specify the subsample/bootstrap size in <code>RandomForestRegressor</code> algo. Maybe a potential workaround is to use <code>BaggingRegressor</code> instead. <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.BaggingRegressor.html#sklearn.ensemble.BaggingRegressor\" rel=\"noreferrer\">http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.BaggingRegressor.html#sklearn.ensemble.BaggingRegressor</a></p>\n\n<p><code>RandomForestRegressor</code> is just a special case of <code>BaggingRegressor</code> (use bootstraps to reduce the variance of a set of low-bias-high-variance estimators). In <code>RandomForestRegressor</code>, the base estimator is forced to be <code>DeceisionTree</code>, whereas in <code>BaggingRegressor</code>, you have the freedom to choose the <code>base_estimator</code>.  More importantly, you can set your customized subsample size, for example <code>max_samples=0.5</code> will draw random subsamples with size equal to half of the entire training set. Also, you can choose just a subset of features by setting <code>max_features</code> and <code>bootstrap_features</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 10089406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def2ebf88febcd60dcffb05fe49c8b77?s=128&d=identicon&r=PG&f=1", "display_name": "Ezriel_S", "link": "https://stackoverflow.com/users/10089406/ezriel-s"}, "is_accepted": false, "score": 4, "last_activity_date": 1580772201, "creation_date": 1580772201, "answer_id": 60048515, "question_id": 31304314, "link": "https://stackoverflow.com/questions/31304314/size-of-sample-in-random-forest-regression/60048515#60048515", "title": "Size of sample in Random Forest Regression", "body": "<p>In the 0.22 version of scikit-learn, the <code>max_samples</code> option has been added, doing what you asked : <a href=\"https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html\" rel=\"nofollow noreferrer\">here</a> the documentation of the class.</p>\n"}], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4131, "favorite_count": 2, "accepted_answer_id": 31304389, "answer_count": 3, "score": 8, "last_activity_date": 1591597044, "creation_date": 1436391656, "question_id": 31304314, "link": "https://stackoverflow.com/questions/31304314/size-of-sample-in-random-forest-regression", "title": "Size of sample in Random Forest Regression", "body": "<p>If understand correctly, when Random Forest estimators are calculated usually bootstrapping is applied, which means that a tree(i) is built only using data from sample(i), chosen with replacement. I want to know what is the size of the sample that sklearn <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html\" rel=\"noreferrer\">RandomForestRegressor</a> uses.</p>\n\n<p>The only thing that I see that is close:</p>\n\n<pre><code>bootstrap : boolean, optional (default=True)\n    Whether bootstrap samples are used when building trees.\n</code></pre>\n\n<p>But there is no way to specify the size or proportion of the sample size, nor does it tell me about the default sample size.</p>\n\n<p>I feel like there should be way to at least know what the default sample size is, what am I missing?</p>\n"}, {"tags": ["python", "django", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4948550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5329ecb26b8b499ba79ae9143a751c99?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Oh", "link": "https://stackoverflow.com/users/4948550/sean-oh"}, "is_accepted": false, "score": 0, "last_activity_date": 1441262016, "creation_date": 1441262016, "answer_id": 32368485, "question_id": 31304283, "link": "https://stackoverflow.com/questions/31304283/tdd-with-python-chapter-1-no-output-from-functional-tests-py/32368485#32368485", "title": "TDD with Python chapter 1 no output from functional_tests.py", "body": "<p>Have you installed recent version of Selenium? As mentioned in the book, you should have matching version of Firefox and Selenium. </p>\n"}], "owner": {"reputation": 11, "user_id": 5095889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c3160ff4e59c16df954c88a48c86a6d?s=128&d=identicon&r=PG&f=1", "display_name": "aNoobis", "link": "https://stackoverflow.com/users/5095889/anoobis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441262016, "creation_date": 1436391531, "question_id": 31304283, "link": "https://stackoverflow.com/questions/31304283/tdd-with-python-chapter-1-no-output-from-functional-tests-py", "title": "TDD with Python chapter 1 no output from functional_tests.py", "body": "<p>I am following the book TDD with Python. In chapter 1 there is a piece of code</p>\n\n<pre><code>from selenium import webdriver\nimport unittest\n\nclass NewVisitorTest(unittest.TestCase): \n\n    def setUp(self): \n        self.browser = webdriver.Firefox()\n        self.browser.implicitly_wait(5)\n\n    def tearDown(self): \n        self.browser.quit()\n\n    def test_can_start_a_list_and_retrieve_it_later(self): \n        self.browser.get('http://localhost:8000')\n        self.assertIn('To-Do', self.browser.title)  \n        self.fail('Finish the test!')\n\nif __name__ == '__main__':\n    unittest.main(warnings='ignore')\n</code></pre>\n\n<p>The file is called functional_tests.py. I have django 1.7 and selenium installed globally on Ubuntu 14.04. I also started fresh project superlists. I run the server before I try the tests. When I run the test with</p>\n\n<pre><code> python3 functional_tests.py\n</code></pre>\n\n<p>Firefox window opens up and loads the default Django startup page and the window stays open even though it should close after the test runs. Also there is no output from the tests at all. I was expecting something like this:</p>\n\n<pre><code>F\n======================================================================\nFAIL: test_can_start_a_list_and_retrieve_it_later (__main__.NewVisitorTest)\n ---------------------------------------------------------------------\nTraceback (most recent call last):\n File \"functional_tests.py\", line 18, in\ntest_can_start_a_list_and_retrieve_it_later\n    self.assertIn('To-Do', self.browser.title)\nAssertionError: 'To-Do' not found in 'Welcome to Django'\n\n ---------------------------------------------------------------------\nRan 1 test in 1.747s\n\nFAILED (failures=1)\n</code></pre>\n\n<p>What could be the problem? Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 13, "user_id": 5095914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7d230f111caf861d5bf924bf001772?s=128&d=identicon&r=PG&f=1", "display_name": "MrTehMeeperz", "link": "https://stackoverflow.com/users/5095914/mrtehmeeperz"}, "edited": false, "score": 0, "creation_date": 1436391404, "post_id": 31304241, "comment_id": 50598191, "body": "Sorry if this is very vague, but I can explain in more detail if needed."}, {"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1436391728, "post_id": 31304241, "comment_id": 50598350, "body": "<code>content[0] = content[0]+&quot;1&quot;</code> Uh, you&#39;re adding strings to strings. What about <code>content[0] = str(int(content[0])+1)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 529, "user_id": 4987996, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b665c54975cb0fa70c8e3ce6d4ebe80?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Brauchler", "link": "https://stackoverflow.com/users/4987996/jacob-brauchler"}, "is_accepted": false, "score": 0, "last_activity_date": 1436394282, "last_edit_date": 1436394282, "creation_date": 1436391871, "answer_id": 31304370, "question_id": 31304241, "link": "https://stackoverflow.com/questions/31304241/python-how-can-i-add-1-to-a-number-in-a-file-txt/31304370#31304370", "title": "PYTHON: How can I add +1 to a number in a file (txt.)", "body": "<p>You could use a replace method, and increment in your code,\nyou would search for i-1 and replace it with i or something similar. </p>\n\n<pre><code>print (\"Text to search for:i-1\")\ntextToSearch = input( \"&gt; \" ) \n\nprint (\"Text to replace it with:i\")\ntextToReplace = input( \"&gt; \" )\n\nprint (\"File to perform Search-Replace on:\")\nfileToSearch  = input( \"&gt; \" )\nfileToSearch = 'D:\\dummy1.txt'\n\ntempFile = open( fileToSearch, 'r+' )\n\nfor line in fileinput.input( fileToSearch ):\n    if textToSearch in line :\n        print('Match Found')\n    else:\n        print('Match Not Found!!')\n    tempFile.write( line.replace( textToSearch, textToReplace ) )\ntempFile.close()\n\n\ninput( '\\n\\n Press Enter to exit...' )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5095914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7d230f111caf861d5bf924bf001772?s=128&d=identicon&r=PG&f=1", "display_name": "MrTehMeeperz", "link": "https://stackoverflow.com/users/5095914/mrtehmeeperz"}, "edited": false, "score": 0, "creation_date": 1436393974, "post_id": 31304413, "comment_id": 50599313, "body": "Could you add this to the format of my current code? I&#39;m still doing this at GCSE level and have no idea how to fit it in, sorry x]"}, {"owner": {"reputation": 13, "user_id": 5095914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7d230f111caf861d5bf924bf001772?s=128&d=identicon&r=PG&f=1", "display_name": "MrTehMeeperz", "link": "https://stackoverflow.com/users/5095914/mrtehmeeperz"}, "edited": false, "score": 0, "creation_date": 1436423988, "post_id": 31304413, "comment_id": 50608306, "body": "Thanks alot, this worked perfectly and now I can continue with the code. ^^"}], "tags": [], "owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "is_accepted": true, "score": 1, "last_activity_date": 1436392071, "creation_date": 1436392071, "answer_id": 31304413, "question_id": 31304241, "link": "https://stackoverflow.com/questions/31304241/python-how-can-i-add-1-to-a-number-in-a-file-txt/31304413#31304413", "title": "PYTHON: How can I add +1 to a number in a file (txt.)", "body": "<p>Open the file and read its contents:</p>\n\n<pre><code>with open(filePath) as idFile:\n  idString = idFile.read()\n</code></pre>\n\n<p>Convert the string to an int:</p>\n\n<pre><code>idNumber = int(idString)\n</code></pre>\n\n<p>Increase the number:</p>\n\n<pre><code>idNumber += 1\n</code></pre>\n\n<p>And write back that number:</p>\n\n<pre><code>with open(filePath, 'w') as idFile:\n  idFile.write('%d' % idNumber)\n</code></pre>\n\n<p>That's it.</p>\n"}], "owner": {"reputation": 13, "user_id": 5095914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7d230f111caf861d5bf924bf001772?s=128&d=identicon&r=PG&f=1", "display_name": "MrTehMeeperz", "link": "https://stackoverflow.com/users/5095914/mrtehmeeperz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 31304413, "answer_count": 2, "score": 1, "last_activity_date": 1436394282, "creation_date": 1436391354, "question_id": 31304241, "link": "https://stackoverflow.com/questions/31304241/python-how-can-i-add-1-to-a-number-in-a-file-txt", "title": "PYTHON: How can I add +1 to a number in a file (txt.)", "body": "<p>Okay so, I'm trying to make this little nifty auction program (for habbo if you've played it, but that's irrelevant.) Essentially, I have gotten pretty far with it, but my main goal is to be able to view Items (including their IDs for easy access) and to create new Items if I want.\nCurrently viewing items works fine, yet I'm struggling with the second goal, adding items.</p>\n\n<p>I've used a bunch of different methods i've found on the internet, but none really seem to give the desired effect. I want to have a specific text document (\"ID.txt\") which simply starts at \"0\" and then each time my program is about to add an item, it adds 1 to that number in the file, so that I can call on it and give a brand new ID. So far each attempt I have it has done things like add [1] to the answer, instead of adding 1 itself.</p>\n\n<pre><code>import sys\nimport time\ndef choice1():\n    print(\"#####################################################\")\n    print(\"Auction log opening\")\n    dotDot = \"...\"\n    for char in dotDot:\n        sys.stdout.write(char)\n        time.sleep(0.5)\n    print(\"\")\n    print(\"1 - Choose an item ID\")\n    print(\"2 - Add an item\")\n    print(\"3 - Return to start\")\n\n    choices = input(\"Please make your choice. \")\n    if choices == \"1\" and \"#1\" and \"one\":\n        itemID = input(\"Enter item ID: \")\n        if itemID == \"#0001\":\n            aLog = open(\"auctionlist.txt\")\n            lines = aLog.readlines()\n            print(\"#####################################################\")\n            print(\"\")\n            print(lines[0])\n            print(lines[1])\n            print(lines[2])\n            print(lines[3])\n            print(\"\")\n            print(\"#####################################################\")\n        elif itemID == \"#0002\":\n            aLog = open(\"auctionlist.txt\")\n            lines = aLog.readlines()\n            print(\"#####################################################\")\n            print(\"\")\n            print(lines[4])\n            print(lines[5])\n            print(lines[6])\n            print(lines[7])\n            print(\"\")\n            print(\"#####################################################\")\n    elif choices == \"2\" and \"#2\" and \"two\":\n##        itemName = input(\"What's the item's name? \")\n##        itemBought = input(\"Item buy price? \")\n##        itemAvg = input(\"Item average? \")\n##        itemSell = input(\"Target sell price? \")\n\n        ID = open(\"ID.txt\", \"r+\")\n        content = ID.readlines()\n        content[0] = content[0]+\"1\"\n        ID.write(str(content))\n        ID.close()\n\nprint(\"#####################################################\")\nprint(\"Title: Auction House v0.1\")\nprint(\"Author: Alasdair Cowie\")\nprint(\"Date: 08/07/15\")\nprint(\"#####################################################\")\nprint(\"1 - Open the auction log.\")\nprint(\"2 - Open the copy/paste log.\")\nprint(\"3 - Exit the program\")\noneTwoThree = input(\"Please make your choice. \")\nif oneTwoThree == \"1\" and \"one\" and \"#1\" and \"One\":\n    choice1()\n</code></pre>\n"}, {"tags": ["python", "pdf", "elasticsearch"], "answers": [{"comments": [{"owner": {"reputation": 5196, "user_id": 1461896, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/cq0HM.jpg?s=128&g=1", "display_name": "Animesh Pandey", "link": "https://stackoverflow.com/users/1461896/animesh-pandey"}, "edited": false, "score": 0, "creation_date": 1436634691, "post_id": 31325103, "comment_id": 50700495, "body": "Sorry for the late reply. I tried this and it is now working. Thanks"}], "tags": [], "owner": {"reputation": 15863, "user_id": 609087, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2725ad67cddd93219495d032b0e063e5?s=128&d=identicon&r=PG", "display_name": "keety", "link": "https://stackoverflow.com/users/609087/keety"}, "is_accepted": true, "score": 3, "last_activity_date": 1436465373, "creation_date": 1436465373, "answer_id": 31325103, "question_id": 31304212, "link": "https://stackoverflow.com/questions/31304212/converting-a-pdf-file-to-base64-to-index-into-elasticsearch/31325103#31325103", "title": "Converting a PDF file to Base64 to index into Elasticsearch", "body": "<p>The encoding snippet is incorrect it is opening the pdf file in \"text\" mode.</p>\n\n<p>Depending on the file size you could just open the file in binary mode and use the <a href=\"https://docs.python.org/2/library/stdtypes.html#str.encode\" rel=\"nofollow\">encode string method</a>\nExample:</p>\n\n<pre><code>def pdf_encode(pdf_filename):\n    return open(pdf_filename,\"rb\").read().encode(\"base64\");\n</code></pre>\n\n<p>or if the file size is large you could have to break the encoding into chunks did not look into if there is module to do so but it could be as simple as the below  example Code:</p>\n\n<pre><code> def chunk_24_read(pdf_filename) :\n    with open(pdf_filename,\"rb\") as f:\n        byte = f.read(3)\n        while(byte) :\n            yield  byte\n            byte = f.read(3)\n\n\ndef pdf_encode(pdf_filename):\n    encoded = \"\"\n    length = 0\n    for data in chunk_24_read(pdf_filename):\n        for char in base64.b64encode(data) :\n            if(length  and  length % 76 == 0):\n               encoded += \"\\n\"\n               length = 0\n\n            encoded += char  \n            length += 1\n    return encoded\n</code></pre>\n"}], "owner": {"reputation": 5196, "user_id": 1461896, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/cq0HM.jpg?s=128&g=1", "display_name": "Animesh Pandey", "link": "https://stackoverflow.com/users/1461896/animesh-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3857, "favorite_count": 1, "accepted_answer_id": 31325103, "answer_count": 1, "score": 3, "last_activity_date": 1436465373, "creation_date": 1436391241, "question_id": 31304212, "link": "https://stackoverflow.com/questions/31304212/converting-a-pdf-file-to-base64-to-index-into-elasticsearch", "title": "Converting a PDF file to Base64 to index into Elasticsearch", "body": "<p>I need to index PDFs to Elasticsearch. For that, I need to convert the files to base64. I will be using the <a href=\"https://github.com/elastic/elasticsearch-mapper-attachments\" rel=\"nofollow\">Attachment Mapping</a>.</p>\n\n<p>I used the following Python code to convert the file to Base64 encoded string:</p>\n\n<pre><code>from elasticsearch import Elasticsearch\nimport base64\nimport constants\n\ndef index_pdf(pdf_filename):\n    encoded = \"\"\n    with open(pdf_filename) as f:\n        data = f.readlines()\n        for line in data:\n            encoded += base64.b64encode(f.readline())\n    return encoded\n\nif __name__ == \"__main__\":\n    encoded_pdf = index_pdf(\"Test.pdf\")\n    INDEX_DSL = {\n        \"pdf_id\": \"1\",\n        \"text\": encoded_pdf\n    }\n    constants.ES_CLIENT.index(\n            index=constants.INDEX_NAME,\n            doc_type=constants.TYPE_NAME,\n            body=INDEX_DSL,\n            id=\"1\"\n    )\n</code></pre>\n\n<p>The creation of index as well as document indexing works fine. Only issue is that I don't think that the file has been encoded in a right way. I tried encoding that file using online tools and I get a completely different encoding which is bigger as compared to the one I get using Python.</p>\n\n<p>Here is the <a href=\"https://www.dropbox.com/s/973uvll1tnc6lxw/Test.pdf?dl=0\" rel=\"nofollow\">PDF</a> file.</p>\n\n<p>I tried Querying the text data as suggested in the Documentation of the plugin.</p>\n\n<pre><code>GET index_pdf/pdf/_search\n{\n  \"query\": {\n    \"match\": {\n      \"text\": \"piece text\"\n    }\n  }\n}\n</code></pre>\n\n<p>I gives my zero hits. How should I go about it?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1436394031, "post_id": 31304272, "comment_id": 50599333, "body": "I know. What I means was: You might want to also handle <code>y</code> in your answer, so that it matches the question. (Not every reader might be aware that <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow noreferrer\"><code>zip</code></a> takes an arbitrary number of arguments)"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1436394221, "post_id": 31304272, "comment_id": 50599391, "body": "No. For <code>yNew</code> you have to copy that line and replace x with y"}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 0, "last_activity_date": 1436391977, "last_edit_date": 1436391977, "creation_date": 1436391498, "answer_id": 31304272, "question_id": 31304168, "link": "https://stackoverflow.com/questions/31304168/simpler-way-of-creating-lists-from-other-lists/31304272#31304272", "title": "Simpler Way of Creating Lists from other Lists", "body": "<p>Use list comprehensions (used as filters) in conjunction with <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\"><code>enumerate()</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; z=[1,1,-1,1,1,-1]\n\n&gt;&gt;&gt; x=[1,2,3,4,5,6]\n\n&gt;&gt;&gt; xNew=[x[i] for i,zi in enumerate(z) if zi&gt;0]\n&gt;&gt;&gt; xNew\n[1, 2, 4, 5]\n</code></pre>\n\n<p>Or with <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow\"><code>zip()</code></a> is even more beautiful:</p>\n\n<pre><code>&gt;&gt;&gt; xNew=[xi for xi,zi in zip(x,z) if zi&gt;0]\n&gt;&gt;&gt; xNew\n[1, 2, 4, 5]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1436391641, "post_id": 31304297, "comment_id": 50598314, "body": "Why not use <code>zip()</code> to include the <code>x</code>, <code>y</code> and <code>z</code> values in the loop?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1436391869, "post_id": 31304297, "comment_id": 50598424, "body": "@MartijnPieters, True, added"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1436392062, "post_id": 31304297, "comment_id": 50598508, "body": "@MartijnPieters, yes but Valutah got there first"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1436392609, "last_edit_date": 1436392609, "creation_date": 1436391567, "answer_id": 31304297, "question_id": 31304168, "link": "https://stackoverflow.com/questions/31304168/simpler-way-of-creating-lists-from-other-lists/31304297#31304297", "title": "Simpler Way of Creating Lists from other Lists", "body": "<p>Not more efficient but a bit tidier:</p>\n\n<pre><code>for (_x,_y,_z) in zip(x,y,z):\n    if _z &gt; 0:\n        l.append((_x, _y,_z))\nx,y,z = map(list, zip(*l))\n\nprint(x,y,z)\n</code></pre>\n\n<p>For a different approach using itemgetter:</p>\n\n<pre><code>from operator import itemgetter\ninds = [ind for ind, value in enumerate(z)if value &gt; 0]\nx,y,z = (list(itemgetter(*inds)(l)) for l in (x,y,z))\nprint(x,y,z)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1436392066, "post_id": 31304305, "comment_id": 50598510, "body": "Kudos for the one liner, but this is not very pleasant to read as the list comprehension unfortunately (+1 anyway)"}, {"owner": {"reputation": 151, "user_id": 4645700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7ccfa7f9d4a1d43bda3348cf185b11e?s=128&d=identicon&r=PG&f=1", "display_name": "alwaysboots", "link": "https://stackoverflow.com/users/4645700/alwaysboots"}, "edited": false, "score": 0, "creation_date": 1436392288, "post_id": 31304305, "comment_id": 50598622, "body": "Asked for the tidiest so I guess this wins! It works. Could you explain what t[-1] is in a little detail? As in, what t is exactly and why you use -1."}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "reply_to_user": {"reputation": 151, "user_id": 4645700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7ccfa7f9d4a1d43bda3348cf185b11e?s=128&d=identicon&r=PG&f=1", "display_name": "alwaysboots", "link": "https://stackoverflow.com/users/4645700/alwaysboots"}, "edited": false, "score": 1, "creation_date": 1436392477, "post_id": 31304305, "comment_id": 50598706, "body": "@alwaysboots <code>t</code> is a 3-tuple:  <code>(element_from_x, element_from_y, element_from_z)</code>. <code>t[-1]</code> accesses the last element of the tuple which is the <code>element_from_z</code>."}, {"owner": {"reputation": 151, "user_id": 4645700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7ccfa7f9d4a1d43bda3348cf185b11e?s=128&d=identicon&r=PG&f=1", "display_name": "alwaysboots", "link": "https://stackoverflow.com/users/4645700/alwaysboots"}, "edited": false, "score": 0, "creation_date": 1436392555, "post_id": 31304305, "comment_id": 50598741, "body": "@vaultah Could t[2] have been used instead then?"}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "reply_to_user": {"reputation": 151, "user_id": 4645700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7ccfa7f9d4a1d43bda3348cf185b11e?s=128&d=identicon&r=PG&f=1", "display_name": "alwaysboots", "link": "https://stackoverflow.com/users/4645700/alwaysboots"}, "edited": false, "score": 1, "creation_date": 1436392612, "post_id": 31304305, "comment_id": 50598769, "body": "@alwaysboots Yes. I just tried to make it obvious that we&#39;re accessing the last element of the tuple... You can even use unpacking: <code>... for x_value, y_value, z_value in it ...</code> and then check the condition: <code>z_value &gt; 0</code>, but this is unnecessarily verbose."}], "tags": [], "owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "is_accepted": true, "score": 3, "last_activity_date": 1436393028, "last_edit_date": 1436393028, "creation_date": 1436391592, "answer_id": 31304305, "question_id": 31304168, "link": "https://stackoverflow.com/questions/31304168/simpler-way-of-creating-lists-from-other-lists/31304305#31304305", "title": "Simpler Way of Creating Lists from other Lists", "body": "<p>Probably the most straightforward way:</p>\n\n<pre><code>it = zip(x, y, z)\nxnew, ynew, znew = zip(*(t for t in it if t[-1] &gt; 0))\n</code></pre>\n\n<p>We use <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow\">the <code>zip</code> function</a> twice to restore the original structure of the data.</p>\n\n<hr>\n\n<p><code>zip(x, y, z)</code> creates a new iterator object, which yields triples. </p>\n\n<p><code>(t for t in it if t[-1] &gt; 0)</code> filters triples (<code>t[-1]</code> is the <code>value</code>).</p>\n\n<p><code>zip(*(...))</code> yields exactly 3 tuples and <code>xnew</code>, <code>ynew</code> and <code>znew</code> receive them.</p>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 0, "last_activity_date": 1436391650, "creation_date": 1436391650, "answer_id": 31304312, "question_id": 31304168, "link": "https://stackoverflow.com/questions/31304168/simpler-way-of-creating-lists-from-other-lists/31304312#31304312", "title": "Simpler Way of Creating Lists from other Lists", "body": "<p>It's a bit complicated, since you have several lists and need to skip values in all of the lists based on a value from one of them. Here's the best way, I think, using <code>zip</code> and list comprehensions:</p>\n\n<pre><code>xNew, yNew, zNew = zip(*(xyz for xyz in zip(x, y, z) if xyz[2] &gt; 0))\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 4645700, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7ccfa7f9d4a1d43bda3348cf185b11e?s=128&d=identicon&r=PG&f=1", "display_name": "alwaysboots", "link": "https://stackoverflow.com/users/4645700/alwaysboots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 31304305, "answer_count": 4, "score": 2, "last_activity_date": 1436393028, "creation_date": 1436391033, "question_id": 31304168, "link": "https://stackoverflow.com/questions/31304168/simpler-way-of-creating-lists-from-other-lists", "title": "Simpler Way of Creating Lists from other Lists", "body": "<p>I have 3 lists: x, y, and z. All are the same size, but I need to create new lists of x, y, and z, depending on the value at each index of z, as shown below:</p>\n\n<pre><code>xNew = []\nyNew = []\nzNew = []\ni = 0\nfor value in z:\n    if value &gt; 0:\n        xNew.append(x[i])\n        yNew.append(y[i])\n        zNew.append(z[i])\n    i += 1\n</code></pre>\n\n<p>Does anyone know if there is a tidier, perhaps even more efficient, way of performing the above computation?</p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "edited": false, "score": 0, "creation_date": 1436392694, "post_id": 31304454, "comment_id": 50598806, "body": "Thanks, just realized i have about 200 terms and its making the chart really messy. Is it possible to show per period, what are the terms and their change? So for each period, there is one chart for terms belonging to that period?"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "edited": false, "score": 0, "creation_date": 1436392951, "post_id": 31304454, "comment_id": 50598919, "body": "Is a <code>period</code> a <code>date</code>?"}, {"owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "edited": false, "score": 0, "creation_date": 1436393852, "post_id": 31304454, "comment_id": 50599279, "body": "yes  it is a date but really the only difference between the dates if they are not duplicates, are the year and month."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 5, "last_activity_date": 1436400888, "last_edit_date": 1436400888, "creation_date": 1436392196, "answer_id": 31304454, "question_id": 31304131, "link": "https://stackoverflow.com/questions/31304131/pandas-show-multiple-bar-graphs-on-a-chart/31304454#31304454", "title": "pandas show multiple bar graphs on a chart", "body": "<p>One way to make the labels along the <code>x-axis</code> to be <code>term</code>s is to set <code>term</code> as the index:</p>\n\n<pre><code>df = df.set_index(['term'])\n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndf = pd.DataFrame({'change1': [23.0, 25.0, 100.0],\n 'change2': [24.309999999999999, 0.0, 100.0],\n 'date': ['2010-03-01', '2010-03-01', '2012-05-01'],\n 'term': ['aaa', 'bbb', 'ccc']})\ndf = df.set_index(['term'])\nfig = plt.figure()\nax = fig.add_subplot(111)\nax2 = ax.twinx()\n\ndf['change1'].plot(kind='bar', color='red', ax=ax, position=0, width=0.25)\ndf['change2'].plot(kind='bar', color='blue', ax=ax2, position=1, width=0.25)\nax.set_ylabel = ('change1')\nax2.set_ylabel = ('change2')\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/2ibr6.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Or, instead of setting the index, you could set the xticklabels explicitly:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndf = pd.DataFrame({'change1': [23.0, 25.0, 100.0],\n 'change2': [24.309999999999999, 0.0, 100.0],\n 'date': ['2010-03-01', '2010-03-01', '2012-05-01'],\n 'term': ['aaa', 'bbb', 'ccc']})\n\nfig = plt.figure()\nax = fig.add_subplot(111)\nax2 = ax.twinx()\n\n\ndf['change1'].plot(kind='bar', color='red', ax=ax, position=0, width=0.25)\ndf['change2'].plot(kind='bar', color='blue', ax=ax2, position=1, width=0.25)\nax.set_ylabel = 'change1'\nax2.set_ylabel = 'change2'\nlabels = ['{}\\n{}'.format(date, term) for date, term in zip(df['date'], df['term'])]\nax.set_xticklabels(labels, minor=False)\nfig.autofmt_xdate()\n\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/WgLEE.png\" alt=\"enter image description here\"></p>\n\n<hr>\n\n<p>Per the question in the comments,\nto create a new plot for each <code>date</code>, you could iterate over the groups in\n<code>df.groupby(['date'])</code>:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ndf = pd.DataFrame({'change1': [23.0, 25.0, 100.0],\n 'change2': [24.309999999999999, 0.0, 100.0],\n 'date': ['2010-03-01', '2010-03-01', '2012-05-01'],\n 'term': ['aaa', 'bbb', 'ccc']})\n\ngroups = df.groupby(['date'])\nfig, axs = plt.subplots(nrows=groups.ngroups)\nfor groupi, ax in zip(groups,axs):\n    index, grp = groupi\n    ax2 = ax.twinx()\n    grp['change1'].plot(kind='bar', color='red', ax=ax, position=0, width=0.25)\n    grp['change2'].plot(kind='bar', color='blue', ax=ax2, position=1, width=0.25)\n    ax.set_ylabel = 'change1'\n    ax2.set_ylabel = 'change2'\n    ax.set_title(index)\n    ax.set_xticklabels(grp['term'].tolist(), minor=False, rotation=0)\nfig.tight_layout()\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/e7gej.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9279, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1436400888, "creation_date": 1436390886, "last_edit_date": 1436392005, "question_id": 31304131, "link": "https://stackoverflow.com/questions/31304131/pandas-show-multiple-bar-graphs-on-a-chart", "title": "pandas show multiple bar graphs on a chart", "body": "<p>my data looks like this:</p>\n\n<pre><code>term    date    change1 change2\naaa  2010-03-01   23.00   24.31\nbbb  2010-03-01   25.00   0.00\nccc  2012-05-01   100.00  100.00\n</code></pre>\n\n<p>The date column can have repeated dates. I want to plot for each term, what the change1 and change2 is. I was thinking to have the term as the x-axis and change1 and change2 share the same y axis but be plotted as bar charts side by side. \nI know how to do the y axis part but dont know how to set the x axis. I would also like each term to somehow show the date as well if possible otherwise this is not a priority.</p>\n\n<p>Heres what i have:</p>\n\n<pre><code>fig = plt.figure()\nax = fig.add_subplot(111)\nax2 = ax.twinx()\ndf.change1.plot(kind = 'bar', color = 'red', ax = ax , position = 1)\ndf.change2.plot(kind = 'bar', color = 'blue', ax = ax2, position = 2)\nax.set_ylabel= ('change1')\nax2.set_ylabel=('change2')\nplt.show()\n</code></pre>\n\n<p>Thanks,</p>\n"}, {"tags": ["php", "python", "ubuntu", "azure", "pyodbc"], "comments": [{"owner": {"reputation": 3425, "user_id": 425852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c9e5e94be7e25ab4cf61ceb2e3357ba?s=128&d=identicon&r=PG", "display_name": "Jared Moore", "link": "https://stackoverflow.com/users/425852/jared-moore"}, "edited": false, "score": 0, "creation_date": 1436394603, "post_id": 31304118, "comment_id": 50599526, "body": "Is it possible to use Microsoft Sql Server ODBC Driver for Linux directly in PHP? See <a href=\"http://stackoverflow.com/questions/20163776/connect-php-to-mssql-via-pdo-odbc\" title=\"connect php to mssql via pdo odbc\">stackoverflow.com/questions/20163776/&hellip;</a>"}, {"owner": {"reputation": 11187, "user_id": 1394697, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/658ae7ed330d8fc70df1c173960d27ad?s=128&d=identicon&r=PG", "display_name": "FlipperPA", "link": "https://stackoverflow.com/users/1394697/flipperpa"}, "edited": false, "score": 0, "creation_date": 1436462697, "post_id": 31304118, "comment_id": 50635033, "body": "When you run successfully from the terminal, is that on the same machine you describe as your &quot;local server&quot;? You probably will want to connect directly from PHP, which you can do using the same underlying stack of FreeTDS and unixODBC. Have you tried tsql and isql from the command line of your &quot;local server&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 34, "user_id": 4986892, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c5feed8a5d43c0ed30fbbe2122924392?s=128&d=identicon&r=PG", "display_name": "Srikanth Sureddy", "link": "https://stackoverflow.com/users/4986892/srikanth-sureddy"}, "edited": false, "score": 0, "creation_date": 1436471699, "post_id": 31326992, "comment_id": 50640195, "body": "in /etc/freetds/freetds.conf, i have enabled tds log, but you can disable it after testing your connection."}], "tags": [], "owner": {"reputation": 34, "user_id": 4986892, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c5feed8a5d43c0ed30fbbe2122924392?s=128&d=identicon&r=PG", "display_name": "Srikanth Sureddy", "link": "https://stackoverflow.com/users/4986892/srikanth-sureddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1436471631, "creation_date": 1436471631, "answer_id": 31326992, "question_id": 31304118, "link": "https://stackoverflow.com/questions/31304118/echo-pyodbc-output-in-php-script-in-ubuntu-14-04/31326992#31326992", "title": "Echo pyodbc output in php script in Ubuntu 14.04", "body": "<p>Use TDS version as 8.0 and also mention the same in your pyodbc.connect connection string.</p>\n\n<p>Sample code: </p>\n\n<pre><code>#!/usr/bin/python\n\"Proof connection at pyodbc level.\"\n# Test pyodbc connection.\n\nimport pyodbc\n\nconn = pyodbc.connect('DRIVER=FreeTDS;DSN=mssql;UID=userid@servername.database.windows.net;PWD=xxxxxxxx;TDS_Version=8.0;')\ncursor = conn.cursor()\ncursor.execute(\"SELECT * FROM sys.tables\")\nprint( cursor.fetchall() )\nconn.close()\n</code></pre>\n\n<p>Content of : /etc/freetds/freetds.conf:</p>\n\n<pre><code>[global]\n        # TDS protocol version\n        tds version = 8.0\n\n        # Whether to write a TDSDUMP file for diagnostic purposes\n        # (setting this to /tmp is insecure on a multi-user system)\n        dump file = /tmp/freetds.log\n        debug flags = 0xffff\n\n        # Command and connection timeouts\n;       timeout = 10\n;       connect timeout = 10\n\n        # If you get out-of-memory errors, it may mean that your client\n        # is trying to allocate a huge buffer for a TEXT field.\n        # Try setting 'text size' to a more reasonable limit\n        text size = 64512\n\n# A typical Sybase server\n#[egServer50]\n#       host = symachine.domain.com\n#       port = 5000\n#       tds version = 5.0\n\n# A typical Microsoft server\n[mssql]\n        host = servername.database.windows.net\n        port = 1433\n        tds version = 8.0\n</code></pre>\n\n<p>Content of /etc/odbc.ini file: </p>\n\n<pre><code>[mssql]\nDriver = FreeTDS\nDescription = ODBC connection via FreeTDS\nTrace = Yes\nServerName = mssql\nDatabase = databasename\nTDS_Version = 8.0\n</code></pre>\n\n<p>Contents of /etc/odbcinst.ini file: </p>\n\n<pre><code>[FreeTDS]\nDescription=FreeTDS Driver\nDriver=/usr/lib/x86_64-linux-gnu/odbc/libtdsodbc.so\nSetup=/usr/lib/x86_64-linux-gnu/odbc/libtdsS.so\n</code></pre>\n\n<p>Please let us know if you still cannot access and provide the exact error you run into.</p>\n\n<p>Also an important step is to add the ip address from which you are running this code to firewall rules on sql azure database.</p>\n"}], "owner": {"reputation": 889, "user_id": 3692084, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/pTCa3.png?s=128&g=1", "display_name": "RyanNHG", "link": "https://stackoverflow.com/users/3692084/ryannhg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436471631, "creation_date": 1436390833, "question_id": 31304118, "link": "https://stackoverflow.com/questions/31304118/echo-pyodbc-output-in-php-script-in-ubuntu-14-04", "title": "Echo pyodbc output in php script in Ubuntu 14.04", "body": "<p>I have a Ubuntu 14.04 machine running a local server.</p>\n\n<p>On this server, I have a PHP script that needs to access data on a remote Microsoft Azure SQL Database.</p>\n\n<p>I was unable to find a way to access the database from Ubuntu uing purely PHP, so I tried out a Python script and imported the <strong>pyodbc</strong> library after following this tutorial: <a href=\"https://snakeycode.wordpress.com/2013/12/04/installing-pyodbc-on-ubuntu-12-04-64-bit/\" rel=\"nofollow\">https://snakeycode.wordpress.com/2013/12/04/installing-pyodbc-on-ubuntu-12-04-64-bit/</a></p>\n\n<p>I can run this script fromthe terminal, and it successfully connects to the Azure SQL Database and prints the output of my query to the console.</p>\n\n<p>This was great news, so I began to test it out on my local server.</p>\n\n<hr>\n\n<p>On the server, in a PHP method, I call <code>echo shell_exec('my_script.py');</code></p>\n\n<p>This gives me an error:    </p>\n\n<blockquote>\n<pre><code>pyodbc.Error: ('08001', '[08001] [unixODBC][FreeTDS][SQL Server]\nUnable to connect to data source (0) (SQLDriverConnect)')\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p><strong>Why does <code>my_script.py</code> not work when executed by the local server?</strong></p>\n"}, {"tags": ["python", "django", "celery"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1436390906, "post_id": 31304095, "comment_id": 50597953, "body": "Do you really need the whole request object?"}, {"owner": {"reputation": 2219, "user_id": 8608146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3B2gl.jpg?s=128&g=1", "display_name": "Phani Rithvij", "link": "https://stackoverflow.com/users/8608146/phani-rithvij"}, "edited": false, "score": 0, "creation_date": 1599908668, "post_id": 31304095, "comment_id": 112924842, "body": "David&#39;s answer is perfect but in case for some reason we do need to pass an object <code>pickle</code> is the only option available. It&#39;s worth mentioning that it is also considered dangerous because of its security flaws."}], "answers": [{"comments": [{"owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1436393520, "post_id": 31304265, "comment_id": 50599151, "body": "ok i&#39;ll try this... thats what I was looking for wasn&#39;t sure how to pass the files"}, {"owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1436393567, "post_id": 31304265, "comment_id": 50599169, "body": "actually does this work? I thought on heroku you can&#39;t save files like that... also how do I retrieve the file data in the task with the file path"}, {"owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1436394975, "post_id": 31304265, "comment_id": 50599654, "body": "it seems like this won&#39;t always work because that temp file isn&#39;t guarenteed to stay across other processes <a href=\"http://stackoverflow.com/questions/12416738/how-to-use-herokus-ephemeral-filesystem\" title=\"how to use herokus ephemeral filesystem\">stackoverflow.com/questions/12416738/&hellip;</a>"}, {"owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "reply_to_user": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1436466425, "post_id": 31304265, "comment_id": 50637165, "body": "Ah yes, this won&#39;t work on Heroku. On Heroku you&#39;ll need to save the uploaded file to S3 or some other data store, then pass the URL to the worker."}, {"owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1436468182, "post_id": 31304265, "comment_id": 50638262, "body": "I ended up reading the file with request.FILES[&quot;some_file&quot;].read() and sending that to the task. Thanks for the help this got me going in the right direction!"}, {"owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "reply_to_user": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1436475496, "post_id": 31304265, "comment_id": 50642282, "body": "No problem! Just be mindful of that approach, though, as it may seriously bog things down if there is a large file upload (your task queue may not be too happy with multi-megabyte jobs)."}, {"owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "edited": false, "score": 0, "creation_date": 1436624769, "post_id": 31304265, "comment_id": 50697591, "body": "we have everything compresses down to less than a megabyte at all times so hopefully that will work... I&#39;ll be doing some load testing eventually so I guess it&#39;ll come up there. Thanks!"}], "tags": [], "owner": {"reputation": 129273, "user_id": 71522, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG", "display_name": "David Wolever", "link": "https://stackoverflow.com/users/71522/david-wolever"}, "is_accepted": true, "score": 11, "last_activity_date": 1436391927, "last_edit_date": 1436391927, "creation_date": 1436391456, "answer_id": 31304265, "question_id": 31304095, "link": "https://stackoverflow.com/questions/31304095/passing-django-request-object-to-celery-task/31304265#31304265", "title": "passing django request object to celery task", "body": "<p>Because the request object contains references to things which aren't practical to serialize \u2014 like uploaded files, or the socket associated with the request \u2014 there's no general purpose way to serialize it.</p>\n\n<p>Instead, you should just pull out and pass the portions of it that you need. For example, something like:</p>\n\n<pre><code>import tempfile\n\n@app.task\ndef location(user_id, uploaded_file_path):\n    # \u2026 do stuff \u2026\n\ndef tag_location(request):\n    with tempfile.NamedTemporaryFile(delete=False) as f:\n        for chunk in request.FILES[\"some_file\"].chunks():\n            f.write(chunk)\n    tasks.location.delay(request.user.id, f.name)\n    return JsonResponse({'response': 1})\n</code></pre>\n"}], "owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10031, "favorite_count": 1, "accepted_answer_id": 31304265, "answer_count": 1, "score": 6, "last_activity_date": 1584722012, "creation_date": 1436390746, "last_edit_date": 1436391467, "question_id": 31304095, "link": "https://stackoverflow.com/questions/31304095/passing-django-request-object-to-celery-task", "title": "passing django request object to celery task", "body": "<p>I have a task in tasks.py like so:</p>\n\n<pre><code>@app.task\ndef location(request):\n....\n</code></pre>\n\n<p>I am trying to pass the request object directly from a few to task like so:</p>\n\n<pre><code>def tag_location(request):\n    tasks.location.delay(request)\n    return JsonResponse({'response': 1})\n</code></pre>\n\n<p>I am getting an error that it can't be serialized i guess? How do I fix this? trouble is I have file upload objects as well .. its not all simple data types.</p>\n"}, {"tags": ["python", "hash", "md5"], "comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1436390972, "post_id": 31304073, "comment_id": 50597984, "body": "You want the md5 for <i>individual</i> files? Because currently your code calculates the md5 of the concatenation of all the files."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 1879400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78cabf9ac211b1c1543bd383d323eca5?s=128&d=identicon&r=PG", "display_name": "DarkKnight4251", "link": "https://stackoverflow.com/users/1879400/darkknight4251"}, "edited": false, "score": 0, "creation_date": 1436447127, "post_id": 31304164, "comment_id": 50623887, "body": "That&#39;s exactly what I had to do. Thanks!"}], "tags": [], "owner": {"reputation": 332, "user_id": 5073534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8c6f90cf5925d6677bb832415c5f74?s=128&d=identicon&r=PG&f=1", "display_name": "Hrvoje", "link": "https://stackoverflow.com/users/5073534/hrvoje"}, "is_accepted": false, "score": 0, "last_activity_date": 1436391016, "creation_date": 1436391016, "answer_id": 31304164, "question_id": 31304073, "link": "https://stackoverflow.com/questions/31304073/using-variable-to-recursively-hash-files-in-python-gives-false-hash/31304164#31304164", "title": "Using variable to recursively hash files in Python gives false hash", "body": "<p>Try doing</p>\n\n<pre><code>md5_hash = hashlib.md5()\n</code></pre>\n\n<p>after you're done hashing a file, because you're currently updating the same one...</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 1879400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78cabf9ac211b1c1543bd383d323eca5?s=128&d=identicon&r=PG", "display_name": "DarkKnight4251", "link": "https://stackoverflow.com/users/1879400/darkknight4251"}, "edited": false, "score": 0, "creation_date": 1436447134, "post_id": 31304175, "comment_id": 50623894, "body": "This worked! Argh, so simple yet so effective. The os.chdir(root) is just habit (and a bit of lazy scripting) from old scripts. I haven&#39;t quite grasped os.path.join completely yet in my head, so I tend to go back to old habits to get things working quickly."}], "tags": [], "owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "is_accepted": true, "score": 0, "last_activity_date": 1436391066, "creation_date": 1436391066, "answer_id": 31304175, "question_id": 31304073, "link": "https://stackoverflow.com/questions/31304073/using-variable-to-recursively-hash-files-in-python-gives-false-hash/31304175#31304175", "title": "Using variable to recursively hash files in Python gives false hash", "body": "<p>You never reset the hash object, i.e. you calculate the hash of the concatenation of all the files. Try moving the <code>md5_hash = hashlib.md5()</code> into the loop:</p>\n\n<pre><code>for root, dirs, files in os.walk('/path/to/folder'):\n    for filename in files:\n        md5_hash = hashlib.md5()\n        os.chdir(root)\n        with open(filename, 'rb') as cur_file:\n            print filename\n            while True:\n                data = cur_file.read(blocksize)\n                if not data:\n                    break\n            md5_hash.update(data)\n        print md5_hash.hexdigest()\n</code></pre>\n\n<p>Also: why the chdir? <code>open(os.path.join(root, filename), 'rb')</code> should do fine without the additional syscall (and possible indeterminate state in case of an error).</p>\n"}], "owner": {"reputation": 53, "user_id": 1879400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/78cabf9ac211b1c1543bd383d323eca5?s=128&d=identicon&r=PG", "display_name": "DarkKnight4251", "link": "https://stackoverflow.com/users/1879400/darkknight4251"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 31304175, "answer_count": 2, "score": 0, "last_activity_date": 1436391066, "creation_date": 1436390672, "question_id": 31304073, "link": "https://stackoverflow.com/questions/31304073/using-variable-to-recursively-hash-files-in-python-gives-false-hash", "title": "Using variable to recursively hash files in Python gives false hash", "body": "<p>I am trying to print our the md5 hashes for the files within a directory recursively using Python, but I'm having problems with the variable in my open command producing false hashes. Here's my code:</p>\n\n<pre><code>import os\nimport hashlib\n\nblocksize = 65536\nmd5_hash = hashlib.md5()\n\nfor root, dirs, files in os.walk('/path/to/folder'):\n    for filename in files:\n        os.chdir(root)\n        with open(filename, 'rb') as cur_file:\n            print filename\n            while True:\n                data = cur_file.read(blocksize)\n                if not data:\n                    break\n                md5_hash.update(data)\n        print md5_hash.hexdigest()  \n</code></pre>\n\n<p>If I change the \"filename\" variable to a specific file, like this:</p>\n\n<pre><code>with open('nameoffile.txt', 'rb') as cur_file:\n</code></pre>\n\n<p>Then the correct hash is produced, leading me to believe that my for loops are faulty in some way. Am I on the right track with that? What can I do to fix the variable or for loops to get this to work properly?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1025, "user_id": 2279616, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bad8191761d65b9480aab8c5f188d2ac?s=128&d=identicon&r=PG", "display_name": "Jojo", "link": "https://stackoverflow.com/users/2279616/jojo"}, "edited": false, "score": 0, "creation_date": 1436391752, "post_id": 31304216, "comment_id": 50598364, "body": "Thank You. Is there a better way to do this for large dataframes? I ask because my dataframe has 59 rows and the indices are all over the place."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 1025, "user_id": 2279616, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bad8191761d65b9480aab8c5f188d2ac?s=128&d=identicon&r=PG", "display_name": "Jojo", "link": "https://stackoverflow.com/users/2279616/jojo"}, "edited": false, "score": 0, "creation_date": 1436392508, "post_id": 31304216, "comment_id": 50598718, "body": "You could take slices and concat them, depends how complicated this gets"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1436410358, "post_id": 31304216, "comment_id": 50603759, "body": "I may not be understanding your comment, but the axis=0 is not about column order but rather doing a row shift vs column shift."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1436428341, "post_id": 31304216, "comment_id": 50610907, "body": "@JohnE I was a little surprised that the default param <code>axis=None</code> meant that it rolled along both axes that was what I was surprised by"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1436445970, "post_id": 31304216, "comment_id": 50623019, "body": "Oh, thanks, I see now.  Apparently with axis=None, it flattens, shifts, and then puts it back to original shape."}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 3, "last_activity_date": 1436396466, "last_edit_date": 1436396466, "creation_date": 1436391258, "answer_id": 31304216, "question_id": 31304063, "link": "https://stackoverflow.com/questions/31304063/shifting-order-of-rows-in-dataframe/31304216#31304216", "title": "Shifting order of rows in Dataframe", "body": "<p>You can just call <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reindex.html#pandas.DataFrame.reindex\" rel=\"nofollow\"><code>reindex</code></a> and pass the new desired order:</p>\n\n<pre><code>In [14]:\n\ndf = pd.DataFrame({'a':['a','b','c']})\ndf\nOut[14]:\n   a\n0  a\n1  b\n2  c\nIn [16]:\n\ndf.reindex([1,2,0])\nOut[16]:\n   a\n1  b\n2  c\n0  a\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Another method would be to use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.roll.html\" rel=\"nofollow\"><code>np.roll</code></a> note that this returns a <code>np.array</code> so we have to explicitly select the columns from the df to overwrite them:</p>\n\n<pre><code>In [30]:    \ndf = pd.DataFrame({'a':['a','b','c'], 'b':np.arange(3)})\ndf\n\nOut[30]:\n   a  b\n0  a  0\n1  b  1\n2  c  2\n\nIn [42]:    \ndf[df.columns] = np.roll(df, shift=-1, axis=0)\ndf\n\nOut[42]:\n   a  b\n0  b  1\n1  c  2\n2  a  0\n</code></pre>\n\n<p>The <code>axis=0</code> param seems to be necessary otherwise the column order is not preserved:</p>\n\n<pre><code>In [44]:    \ndf[df.columns] = np.roll(df, shift=-1)\ndf\n\nOut[44]:\n   a  b\n0  0  b\n1  1  c\n2  2  a\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": false, "score": 1, "last_activity_date": 1436408485, "last_edit_date": 1436408485, "creation_date": 1436407486, "answer_id": 31306908, "question_id": 31304063, "link": "https://stackoverflow.com/questions/31304063/shifting-order-of-rows-in-dataframe/31306908#31306908", "title": "Shifting order of rows in Dataframe", "body": "<p>Unless I'm missing something, the easiest solution is just to add the new rows to the beginning in the first place:</p>\n\n<pre><code>existing_rows = pd.DataFrame( np.random.randn(4,3) )\nnew_rows      = pd.DataFrame( np.random.randn(2,3) )\n\nnew_rows.append( existing_rows )\n\n          0         1         2\n0  0.406690 -0.699925  0.449278\n1  1.729282  0.387896  0.652381\n0  0.091711  1.634247  0.749282\n1  1.354132 -0.180248 -1.880638\n2 -0.151871 -1.266152  0.333071\n3  1.351072 -0.421404 -0.951583\n</code></pre>\n\n<p>If you really want to switch rows you can do as EdChum suggests.  Another way is like this:</p>\n\n<pre><code>df.iloc[-2:].append( df.iloc[:-2] )\n</code></pre>\n\n<p>I think this is slightly simpler than <code>np.roll</code> as suggested by EdChum, but numpy is generally faster so I'd use <code>np.roll</code> if you care about speed.  (And doing some quick tests on 1,000x3 data suggests it is about 3x to 4x faster than <code>append</code>.)</p>\n"}], "owner": {"reputation": 1025, "user_id": 2279616, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bad8191761d65b9480aab8c5f188d2ac?s=128&d=identicon&r=PG", "display_name": "Jojo", "link": "https://stackoverflow.com/users/2279616/jojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1436408485, "creation_date": 1436390637, "question_id": 31304063, "link": "https://stackoverflow.com/questions/31304063/shifting-order-of-rows-in-dataframe", "title": "Shifting order of rows in Dataframe", "body": "<p>I am trying to make the last two rows of my dataframe <code>df</code> the first two of my dataframe with the previous first row becoming the 3rd row after the shift. Its because I just added the rows <code>[3,0.3232, 0, 0, 2,0.500]</code>, <code>[6,0.3232, 0, 0, 2,0.500]</code>. However, these get added to to the end of <code>df</code> and hence become the last two rows, when I want them to be the first two. I was just wondering how to do this.</p>\n\n<pre><code>df = df.T\ndf[0] = [3,0.3232, 0, 0, 2,0.500]\ndf[1] = [6,0.3232, 0, 0, 2,0.500]\ndf = df.T\ndf = df.reset_index()\n</code></pre>\n"}, {"tags": ["python", "pip", "freeze"], "answers": [{"tags": [], "owner": {"reputation": 1535, "user_id": 1848046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDZwU.jpg?s=128&g=1", "display_name": "Rex Hardin", "link": "https://stackoverflow.com/users/1848046/rex-hardin"}, "is_accepted": true, "score": 29, "last_activity_date": 1533565233, "last_edit_date": 1533565233, "creation_date": 1436390582, "answer_id": 31304042, "question_id": 31304041, "link": "https://stackoverflow.com/questions/31304041/how-to-retrieve-pip-requirements-freeze-within-python/31304042#31304042", "title": "How to retrieve pip requirements (freeze) within Python?", "body": "<p>There's a pip.operation.freeze in newer releases (>1.x):</p>\n\n<pre><code>try:\n    from pip._internal.operations import freeze\nexcept ImportError:  # pip &lt; 10.0\n    from pip.operations import freeze\n\nx = freeze.freeze()\nfor p in x:\n    print p\n</code></pre>\n\n<p>Output is as expected: </p>\n\n<blockquote>\n  <p>amqp==1.4.6<br>\n  anyjson==0.3.3<br>\n  billiard==3.3.0.20<br>\n  defusedxml==0.4.1<br>\n  Django==1.8.1<br>\n  django-picklefield==0.3.1<br>\n  docutils==0.12<br>\n  ... etc   </p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 6301, "user_id": 548792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8f9d3b272a74070e9ba4acdc7b9753b1?s=128&d=identicon&r=PG", "display_name": "ankostis", "link": "https://stackoverflow.com/users/548792/ankostis"}, "is_accepted": false, "score": 3, "last_activity_date": 1526948197, "creation_date": 1526948197, "answer_id": 50458113, "question_id": 31304041, "link": "https://stackoverflow.com/questions/31304041/how-to-retrieve-pip-requirements-freeze-within-python/50458113#50458113", "title": "How to retrieve pip requirements (freeze) within Python?", "body": "<p>Actually from <a href=\"https://pip.pypa.io/en/stable/news/#deprecations-and-removals\" rel=\"nofollow noreferrer\"><code>pip &gt;= 10.0.0</code></a> package <code>operations.freeze</code> has moved to <code>pip._internal.operations.freeze</code>.</p>\n\n<p>So the safe way to import <code>freeze</code> is:</p>\n\n<pre><code>try:\n    from pip._internal.operations import freeze\nexcept ImportError:\n    from pip.operations import freeze\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 751, "user_id": 625444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f59fc2e5fe801722a06429d61e38a0a?s=128&d=identicon&r=PG", "display_name": "Zak", "link": "https://stackoverflow.com/users/625444/zak"}, "is_accepted": false, "score": 4, "last_activity_date": 1568903065, "creation_date": 1568903065, "answer_id": 58013217, "question_id": 31304041, "link": "https://stackoverflow.com/questions/31304041/how-to-retrieve-pip-requirements-freeze-within-python/58013217#58013217", "title": "How to retrieve pip requirements (freeze) within Python?", "body": "<p>The other answers here are unsupported by pip: <a href=\"https://pip.pypa.io/en/stable/user_guide/#using-pip-from-your-program\" rel=\"nofollow noreferrer\">https://pip.pypa.io/en/stable/user_guide/#using-pip-from-your-program</a></p>\n\n<p>According to pip developers:</p>\n\n<blockquote>\n  <p>If you're directly importing pip's internals and using them, that isn't a supported usecase.</p>\n</blockquote>\n\n<p>try</p>\n\n<pre><code>reqs = subprocess.check_output([sys.executable, '-m', 'pip', 'freeze'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5182, "user_id": 3594865, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/577ee3025404978d4d3ddbd7e52271d9?s=128&d=identicon&r=PG&f=1", "display_name": "sedeh", "link": "https://stackoverflow.com/users/3594865/sedeh"}, "is_accepted": false, "score": 1, "last_activity_date": 1606495645, "last_edit_date": 1606495645, "creation_date": 1606494099, "answer_id": 65040585, "question_id": 31304041, "link": "https://stackoverflow.com/questions/31304041/how-to-retrieve-pip-requirements-freeze-within-python/65040585#65040585", "title": "How to retrieve pip requirements (freeze) within Python?", "body": "<p>It's not recommended to rely on a &quot;private&quot; function such as <code>pip._internal.operatons</code>. You can do the following instead:</p>\n<pre><code>import pkg_resources\nenv = dict(tuple(str(ws).split()) for ws in pkg_resources.working_set)\n</code></pre>\n"}], "owner": {"reputation": 1535, "user_id": 1848046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDZwU.jpg?s=128&g=1", "display_name": "Rex Hardin", "link": "https://stackoverflow.com/users/1848046/rex-hardin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7010, "favorite_count": 2, "accepted_answer_id": 31304042, "answer_count": 4, "score": 14, "last_activity_date": 1606495645, "creation_date": 1436390582, "question_id": 31304041, "link": "https://stackoverflow.com/questions/31304041/how-to-retrieve-pip-requirements-freeze-within-python", "title": "How to retrieve pip requirements (freeze) within Python?", "body": "<p>I posted this question on the git issue tracker: <a href=\"https://github.com/pypa/pip/issues/2969\" rel=\"noreferrer\">https://github.com/pypa/pip/issues/2969</a></p>\n\n<p>Can we have some manner of calling pip freeze/list within python, i.e. not a shell context? </p>\n\n<p>I want to be able to import pip and do something like requirements = pip.freeze(). Calling pip.main(['freeze']) writes to stdout, doesn't return str values. </p>\n"}, {"tags": ["python", "tkinter", "tk"], "answers": [{"tags": [], "owner": {"reputation": 12228, "user_id": 183132, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db57bc42e6fbc602fc94df4a783200a0?s=128&d=identicon&r=PG", "display_name": "gcb", "link": "https://stackoverflow.com/users/183132/gcb"}, "is_accepted": false, "score": 0, "last_activity_date": 1436393274, "creation_date": 1436393274, "answer_id": 31304697, "question_id": 31304007, "link": "https://stackoverflow.com/questions/31304007/tk-understanding-pack-and-expanding-space/31304697#31304697", "title": "TK, understanding pack and expanding space", "body": "<p>workaround i'm using (downvote if not the right tk way)</p>\n\n<p>i created two frames, both <code>side=LEFT, expand=1, fill=BOTH</code> and then put each pair of listbox+scrollbar there. now everything expands/fills just fine.</p>\n\n<p><img src=\"https://i.stack.imgur.com/rvqSJ.png\" alt=\"enter image description here\">\npreviously the listboxes were in the yellow frame. The ones i just created are the the blue and green. </p>\n\n<p>still not sure with the pack manager would not expand the listboxes when they had scrollbars without expansion between them...</p>\n"}, {"comments": [{"owner": {"reputation": 12228, "user_id": 183132, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db57bc42e6fbc602fc94df4a783200a0?s=128&d=identicon&r=PG", "display_name": "gcb", "link": "https://stackoverflow.com/users/183132/gcb"}, "edited": false, "score": 0, "creation_date": 1436394224, "post_id": 31304758, "comment_id": 50599393, "body": "ha! while adapting your code to add a parent <code>Frame</code>, just to be sure, i made the mistake of not changing the parent of the listboxes from root to the new frame, and obviously the empty space of the expanding frame was what i was seeing... and sure enough, that was the mistake i think i did on my code before."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1436393582, "creation_date": 1436393582, "answer_id": 31304758, "question_id": 31304007, "link": "https://stackoverflow.com/questions/31304007/tk-understanding-pack-and-expanding-space/31304758#31304758", "title": "TK, understanding pack and expanding space", "body": "<p>Without seeing your actual code it's impossible to know what you're doing wrong. Here's an example to prove that <code>pack</code> works as documented:</p>\n\n<pre><code>import Tkinter as tk\n\nroot = tk.Tk()\nlb1 = tk.Listbox(root)\nlb2 = tk.Listbox(root)\nvsb1 = tk.Scrollbar(root, orient=\"vertical\", command=lb1.yview)\nvsb2 = tk.Scrollbar(root, orient=\"vertical\", command=lb2.yview)\nlb1.configure(yscrollcommand=vsb1.set)\nlb2.configure(yscrollcommand=vsb2.set)\n\nlb1.pack(side=\"left\", fill=\"both\", expand=True)\nvsb1.pack(side=\"left\", fill=\"y\", expand=False)\nlb2.pack(side=\"left\", fill=\"both\", expand=True)\nvsb2.pack(side=\"left\", fill=\"y\", expand=False)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 12228, "user_id": 183132, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/db57bc42e6fbc602fc94df4a783200a0?s=128&d=identicon&r=PG", "display_name": "gcb", "link": "https://stackoverflow.com/users/183132/gcb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 0, "accepted_answer_id": 31304758, "answer_count": 2, "score": 0, "last_activity_date": 1436393582, "creation_date": 1436390445, "question_id": 31304007, "link": "https://stackoverflow.com/questions/31304007/tk-understanding-pack-and-expanding-space", "title": "TK, understanding pack and expanding space", "body": "<p>I have a window that is resizeable, where i want to have two listboxes with scroll bars that expand to fill all space available.</p>\n\n<p>when i have only one listbox packed as <code>fill=both, expand=1, side=left</code> and one scrollbar packed as <code>fill=Y, expand=0, side=right</code> then it will expand only horizontally, even though it is set to fill both directions. when i resize the window, the listbox only fill the sides. the bottom of the window remain empty.</p>\n\n<p><img src=\"https://i.stack.imgur.com/PU3U5.png\" alt=\"enter image description here\"></p>\n\n<p>then i moved on to add another listbox. Now instead of packing the scroll bar on right, i packed everything to left, so they are stacked. the listboxes continue to have <code>fill=both, expand=1</code>. Now when i resize the window both list boxes only fill vertically! the horizontal space remains empty.</p>\n\n<p><img src=\"https://i.stack.imgur.com/G3AWS.png\" alt=\"enter image description here\"></p>\n\n<p>what is going on? why does it ignore the vertical space with one element packed left and another right? and why it refuses to fill horizontally when everything is stacked left?</p>\n\n<p>the fact that once it fill the vertical or the horizontal space leads me to believe the parent frame is expanding fine... or should i investigate that more as well?</p>\n"}, {"tags": ["python", "numpy", "pickle"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1436420933, "post_id": 31304006, "comment_id": 50606845, "body": "<code>pickle.loads(pickle.dumps(sparse.coo_matrix(x)))</code> works fine for me."}], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1594930567, "post_id": 31304244, "comment_id": 111307789, "body": "The <code>pickle</code> of a <code>ndarray</code> is essentially a string version of its <code>np.save</code>.  That has modest overhead buffer (200 bytes or so) plus a copy of its main data buffer.  The overhead has essential info like <code>shape</code> and <code>dtype</code>.  The data buffer size depends entirely on the number of elements (and dtype).  It is essentially <code>x.nbytes</code> long."}], "tags": [], "owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "is_accepted": true, "score": 1, "last_activity_date": 1436391368, "creation_date": 1436391368, "answer_id": 31304244, "question_id": 31304006, "link": "https://stackoverflow.com/questions/31304006/why-is-there-a-large-overhead-in-pickling-numpy-arrays/31304244#31304244", "title": "Why is there a large overhead in pickling numpy arrays?", "body": "<p>Checking it in a debugger, a numpy array has the fields like max, min, type etc apart from the data, which I am not sure a python list has.</p>\n\n<p>A complete list can be found on <a href=\"http://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy/reference/arrays.ndarray.html</a></p>\n\n<p>As pickling is just a binary copying, these other fields are also being copied, resulting in a larger size.</p>\n"}], "owner": {"reputation": 5195, "user_id": 1407170, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5f68a1372394960905ad730bab83bc06?s=128&d=identicon&r=PG", "display_name": "sffc", "link": "https://stackoverflow.com/users/1407170/sffc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "accepted_answer_id": 31304244, "answer_count": 1, "score": 2, "last_activity_date": 1436391368, "creation_date": 1436390443, "question_id": 31304006, "link": "https://stackoverflow.com/questions/31304006/why-is-there-a-large-overhead-in-pickling-numpy-arrays", "title": "Why is there a large overhead in pickling numpy arrays?", "body": "<p>Suppose I have a simple array in Python:</p>\n\n<pre><code>&gt;&gt;&gt; x = [1.0, 2.0, 3.0, 4.0]\n</code></pre>\n\n<p>When pickled, it is a reasonably small size:</p>\n\n<pre><code>&gt;&gt;&gt; pickle.dumps(x).__len__()\n44\n</code></pre>\n\n<p>How come if I use a numpy array, the size is so much larger?</p>\n\n<pre><code>&gt;&gt;&gt; xn = np.array(x)\n&gt;&gt;&gt; pickle.dumps(xn).__len__()\n187\n</code></pre>\n\n<p>Converting it to a less precise data type only helps a little bit...</p>\n\n<pre><code>&gt;&gt;&gt; x16 = xn.astype('float16')\n&gt;&gt;&gt; pickle.dumps(x16).__len__()\n163\n</code></pre>\n\n<p>Other numpy/scipy data structures like sparse matrices also don't pickle well.  Why?</p>\n"}, {"tags": ["python", "macos", "selenium", "selenium-webdriver", "safari"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 3512372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9dfa8063573a15b394375425ae1ee0d?s=128&d=identicon&r=PG&f=1", "display_name": "Arav", "link": "https://stackoverflow.com/users/3512372/arav"}, "edited": false, "score": 0, "creation_date": 1436541751, "post_id": 31304449, "comment_id": 50672912, "body": "Thanks it worked. But I had to downgrade the SELENIUM_SERVER_JAR also to version 2.45"}], "tags": [], "owner": {"reputation": 146, "user_id": 5054448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H3bwe.jpg?s=128&g=1", "display_name": "Onur Gokkocabas", "link": "https://stackoverflow.com/users/5054448/onur-gokkocabas"}, "is_accepted": true, "score": 1, "last_activity_date": 1436392187, "creation_date": 1436392187, "answer_id": 31304449, "question_id": 31303967, "link": "https://stackoverflow.com/questions/31303967/selenium-safari-driver-not-working-in-python/31304449#31304449", "title": "Selenium safari driver not working in python", "body": "<p>Safari driver version is not supported with 2.46.  Try downgrading Selenium Version:</p>\n\n<pre><code>pip uninstall selenium\npip install -Iv selenium==2.45 or pip install selenium==2.45\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 3512372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9dfa8063573a15b394375425ae1ee0d?s=128&d=identicon&r=PG&f=1", "display_name": "Arav", "link": "https://stackoverflow.com/users/3512372/arav"}, "edited": false, "score": 0, "creation_date": 1438260098, "post_id": 31665229, "comment_id": 51384337, "body": "Thanks Andrew Kincaid"}], "tags": [], "owner": {"reputation": 61, "user_id": 1043410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bf4ac54661d483d1965b41e4ab70f57?s=128&d=identicon&r=PG", "display_name": "Andrew Kincaid", "link": "https://stackoverflow.com/users/1043410/andrew-kincaid"}, "is_accepted": false, "score": 1, "last_activity_date": 1438040792, "creation_date": 1438040792, "answer_id": 31665229, "question_id": 31303967, "link": "https://stackoverflow.com/questions/31303967/selenium-safari-driver-not-working-in-python/31665229#31665229", "title": "Selenium safari driver not working in python", "body": "<p>Not sure if this is the same issue, but I just posted an answer here that might help: <a href=\"https://stackoverflow.com/questions/31484045/unable-to-run-tests-on-safari-do-we-need-dev-certificate\">Unable to run tests on Safari - Do we need dev certificate</a></p>\n"}], "owner": {"reputation": 163, "user_id": 3512372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9dfa8063573a15b394375425ae1ee0d?s=128&d=identicon&r=PG&f=1", "display_name": "Arav", "link": "https://stackoverflow.com/users/3512372/arav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1764, "favorite_count": 3, "accepted_answer_id": 31304449, "answer_count": 2, "score": 2, "last_activity_date": 1438040792, "creation_date": 1436390350, "question_id": 31303967, "link": "https://stackoverflow.com/questions/31303967/selenium-safari-driver-not-working-in-python", "title": "Selenium safari driver not working in python", "body": "<p>Safari browser gets closed immediately after launching the browser with </p>\n\n<p>java.util.concurrent.ExecutionException: org.openqa.selenium.WebDriverException: java.lang.reflect.InvocationTargetException</p>\n\n<p><strong>Here is my env details</strong>\nSelenium 2.46.\nMac OS X 10.10.3 x86_64\nSafari 8.0.5</p>\n\n<p><strong>Here is my sample python code</strong></p>\n\n<pre><code>from selenium import webdriver\n\ndef test():\n    driver = webdriver.Safari()\n    driver.get(\"www.google.com\")\n</code></pre>\n\n<p><strong>when I run the above function, I am getting the following output</strong></p>\n\n<pre><code>15:57:46.465 INFO - Launching a standalone Selenium Server\n15:57:46.491 INFO - Java: Oracle Corporation 24.45-b08\n15:57:46.491 INFO - OS: Mac OS X 10.10.3 x86_64\n15:57:46.500 INFO - v2.46.0, with Core v2.46.0. Built from revision 87c69e2\n15:57:46.551 INFO - Driver provider org.openqa.selenium.ie.InternetExplorerDriver registration is skipped:\nregistration capabilities Capabilities [{platform=WINDOWS, ensureCleanSession=true, browserName=internet explorer, version=}] does not match the current platform MAC\n15:57:46.552 INFO - Driver class not found: com.opera.core.systems.OperaDriver\n15:57:46.552 INFO - Driver provider com.opera.core.systems.OperaDriver is not registered\n15:57:46.603 INFO - RemoteWebDriver instances should connect to: http://127.0.0.1:50220/wd/hub\n15:57:46.603 INFO - Selenium Server is up and running\n15:57:56.500 INFO - Executing: [new session: Capabilities [{platform=ANY, javascriptEnabled=true, browserName=safari, version=}]])\n15:57:56.508 INFO - Creating a new session for Capabilities [{platform=ANY, javascriptEnabled=true, browserName=safari, version=}]\n15:57:56.561 INFO - Server started on port 39602\n15:57:56.570 INFO - Launching Safari\n15:57:56.579 INFO - Waiting for SafariDriver to connect\n15:57:58.044 INFO - Connection opened\n15:57:58.046 INFO - Driver connected in 1466 ms\n15:57:58.071 INFO - Shutting down\n15:57:58.071 INFO - Closing connection\n15:57:58.072 INFO - Stopping Safari\n15:57:58.123 INFO - Stopping server\n15:57:58.124 INFO - Stopping server\n15:57:58.132 INFO - Shutdown complete\n15:57:58.134 WARN - Exception thrown\njava.util.concurrent.ExecutionException: org.openqa.selenium.WebDriverException: java.lang.reflect.InvocationTargetException\nBuild info: version: '2.46.0', revision: '87c69e2', time: '2015-06-04 16:16:47'\nSystem info: host: 'L502062.local', ip: '10.10.80.7', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.10.3', java.version: '1.7.0_45'\nDriver info: driver.version: unknown\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:188)\n    at org.openqa.selenium.remote.server.DefaultSession.execute(DefaultSession.java:183)\n    at org.openqa.selenium.remote.server.DefaultSession.&lt;init&gt;(DefaultSession.java:119)\n    at org.openqa.selenium.remote.server.DefaultSession.createSession(DefaultSession.java:95)\n    at org.openqa.selenium.remote.server.DefaultDriverSessions.newSession(DefaultDriverSessions.java:137)\n    at org.openqa.selenium.remote.server.handler.NewSession.handle(NewSession.java:58)\n    at org.openqa.selenium.remote.server.handler.NewSession.handle(NewSession.java:1)\n    at org.openqa.selenium.remote.server.rest.ResultConfig.handle(ResultConfig.java:111)\n    at org.openqa.selenium.remote.server.JsonHttpCommandHandler.handleRequest(JsonHttpCommandHandler.java:174)\n    at org.openqa.selenium.remote.server.DriverServlet.handleRequest(DriverServlet.java:202)\n    at org.openqa.selenium.remote.server.DriverServlet.doPost(DriverServlet.java:164)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n    at org.openqa.selenium.remote.server.DriverServlet.service(DriverServlet.java:130)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\n    at org.openqa.jetty.jetty.servlet.ServletHolder.handle(ServletHolder.java:428)\n    at org.openqa.jetty.jetty.servlet.ServletHandler.dispatch(ServletHandler.java:680)\n    at org.openqa.jetty.jetty.servlet.ServletHandler.handle(ServletHandler.java:571)\n    at org.openqa.jetty.http.HttpContext.handle(HttpContext.java:1526)\n    at org.openqa.jetty.http.HttpContext.handle(HttpContext.java:1479)\n    at org.openqa.jetty.http.HttpServer.service(HttpServer.java:920)\n    at org.openqa.jetty.http.HttpConnection.service(HttpConnection.java:820)\n    at org.openqa.jetty.http.HttpConnection.handleNext(HttpConnection.java:986)\n    at org.openqa.jetty.http.HttpConnection.handle(HttpConnection.java:837)\n    at org.openqa.jetty.http.SocketListener.handleConnection(SocketListener.java:243)\n    at org.openqa.jetty.util.ThreadedServer.handle(ThreadedServer.java:358)\n    at org.openqa.jetty.util.ThreadPool$PoolThread.run(ThreadPool.java:537)\nCaused by: org.openqa.selenium.WebDriverException: java.lang.reflect.InvocationTargetException\nBuild info: version: '2.46.0', revision: '87c69e2', time: '2015-06-04 16:16:47'\nSystem info: host: 'L502062.local', ip: '10.10.80.7', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.10.3', java.version: '1.7.0_45'\nDriver info: driver.version: unknown\n    at org.openqa.selenium.remote.server.DefaultDriverProvider.callConstructor(DefaultDriverProvider.java:95)\n    at org.openqa.selenium.remote.server.DefaultDriverProvider.newInstance(DefaultDriverProvider.java:79)\n    at org.openqa.selenium.remote.server.DefaultDriverFactory.newInstance(DefaultDriverFactory.java:62)\n    at org.openqa.selenium.remote.server.DefaultSession$BrowserCreator.call(DefaultSession.java:222)\n    at org.openqa.selenium.remote.server.DefaultSession$BrowserCreator.call(DefaultSession.java:1)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at org.openqa.selenium.remote.server.DefaultSession$1.run(DefaultSession.java:176)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.openqa.selenium.remote.server.DefaultDriverProvider.callConstructor(DefaultDriverProvider.java:85)\n    ... 9 more\nCaused by: org.openqa.selenium.remote.UnreachableBrowserException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nBuild info: version: '2.46.0', revision: '87c69e2', time: '2015-06-04 16:16:47'\nSystem info: host: 'L502062.local', ip: '10.10.80.7', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.10.3', java.version: '1.7.0_45'\nDriver info: driver.version: SafariDriver\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:599)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:242)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:128)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:141)\n    at org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:58)\n    at org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:51)\n    ... 14 more\nCaused by: java.lang.ClassCastException: com.google.gson.JsonObject cannot be cast to java.lang.String\n    at org.openqa.selenium.remote.JsonToBeanConverter.convert(JsonToBeanConverter.java:111)\n    at org.openqa.selenium.remote.JsonToBeanConverter.convert(JsonToBeanConverter.java:42)\n    at org.openqa.selenium.safari.SafariDriverCommandExecutor.execute(SafariDriverCommandExecutor.java:191)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:578)\n    ... 19 more\n15:57:58.139 WARN - Exception: com.google.gson.JsonObject cannot be cast to java.lang.String\n[ WARN ] Keyword 'Capture Page Screenshot' could not be run on failure: Cannot access execution context\nTraceback (most recent call last):\n  File \"/Users/veeraa/Documents/workspace/med_selenium/lib/ui/safari_test.py\", line 30, in &lt;module&gt;\n    MyClass().test()\n  File \"&lt;string&gt;\", line 2, in test\n  File \"/Library/Python/2.7/site-packages/Selenium2Library/keywords/keywordgroup.py\", line 15, in _run_on_failure_decorator\n    return method(*args, **kwargs)\n  File \"/Users/veeraa/Documents/workspace/med_selenium/lib/ui/safari_test.py\", line 26, in test\n    self.driver = webdriver.Safari()\n  File \"/Library/Python/2.7/site-packages/selenium/webdriver/safari/webdriver.py\", line 62, in __init__\n    desired_capabilities=desired_capabilities)\n  File \"/Library/Python/2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 89, in __init__\n    self.start_session(desired_capabilities, browser_profile)\n  File \"/Library/Python/2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 138, in start_session\n    'desiredCapabilities': desired_capabilities,\n  File \"/Library/Python/2.7/site-packages/Selenium2Library/webdrivermonkeypatches.py\", line 11, in execute\n    result = self._base_execute(driver_command, params)\n  File \"/Library/Python/2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 195, in execute\n    self.error_handler.check_response(response)\n  File \"/Library/Python/2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 170, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: com.google.gson.JsonObject cannot be cast to java.lang.String\nStacktrace:\n    at org.openqa.selenium.remote.JsonToBeanConverter.convert (JsonToBeanConverter.java:111)\n    at org.openqa.selenium.remote.JsonToBeanConverter.convert (JsonToBeanConverter.java:42)\n    at org.openqa.selenium.safari.SafariDriverCommandExecutor.execute (SafariDriverCommandExecutor.java:191)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute (RemoteWebDriver.java:578)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession (RemoteWebDriver.java:242)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt; (RemoteWebDriver.java:128)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt; (RemoteWebDriver.java:141)\n    at org.openqa.selenium.safari.SafariDriver.&lt;init&gt; (SafariDriver.java:58)\n    at org.openqa.selenium.safari.SafariDriver.&lt;init&gt; (SafariDriver.java:51)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0 (NativeConstructorAccessorImpl.java:-2)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:526)\n    at org.openqa.selenium.remote.server.DefaultDriverProvider.callConstructor (DefaultDriverProvider.java:85)\n    at org.openqa.selenium.remote.server.DefaultDriverProvider.newInstance (DefaultDriverProvider.java:79)\n    at org.openqa.selenium.remote.server.DefaultDriverFactory.newInstance (DefaultDriverFactory.java:62)\n    at org.openqa.selenium.remote.server.DefaultSession$BrowserCreator.call (DefaultSession.java:222)\n    at org.openqa.selenium.remote.server.DefaultSession$BrowserCreator.call (DefaultSession.java:1)\n    at java.util.concurrent.FutureTask.run (FutureTask.java:262)\n    at org.openqa.selenium.remote.server.DefaultSession$1.run (DefaultSession.java:176)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run (Thread.java:744)\n</code></pre>\n\n<p><strong>Appreciate if anyone can help me to resolve this issue?</strong></p>\n\n<p>Thanks much</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 1, "creation_date": 1436405510, "post_id": 31303954, "comment_id": 50602599, "body": "Normally the best answer to &quot;how do I iterate?&quot; is &quot;don&#39;t iterate!&quot;  Always use vectorized operations over iteration if possible, e.g. if you want to add 1 to every element, just do <code>df+1</code>.  Exactly what is it you are trying to do?"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1436406015, "post_id": 31303954, "comment_id": 50602719, "body": "Here&#39;s a good reference that will both show you how to use <code>iterrows</code> and why not to.  ;-)   <a href=\"http://stackoverflow.com/questions/24870953/does-iterrows-have-performance-issues\" title=\"does iterrows have performance issues\">stackoverflow.com/questions/24870953/&hellip;</a>  The main thing to realize about <code>iterrows</code> is that it returns a series."}], "answers": [{"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 1, "last_activity_date": 1436390956, "creation_date": 1436390956, "answer_id": 31304155, "question_id": 31303954, "link": "https://stackoverflow.com/questions/31303954/looping-though-a-dataframe-element-by-element/31304155#31304155", "title": "Looping though a dataframe element by element", "body": "<p>Maybe try using <code>df.values.ravel()</code>.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n# data\n# =================\ndf = pd.DataFrame(np.arange(25).reshape(5,5), columns='A B C D E'.split())\n\nOut[72]: \n    A   B   C   D   E\n0   0   1   2   3   4\n1   5   6   7   8   9\n2  10  11  12  13  14\n3  15  16  17  18  19\n4  20  21  22  23  24\n\n\n# np.ravel\n# =================\ndf.values.ravel()\n\nOut[74]: \narray([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\n       21, 22, 23, 24])\n\nfor item in df.values.ravel():\n    # do something with item\n</code></pre>\n"}], "owner": {"reputation": 3895, "user_id": 4972716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a7c5b54d4f13c6bb4d1d4d40ca4d4ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Stacey", "link": "https://stackoverflow.com/users/4972716/stacey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1583536114, "creation_date": 1436390300, "last_edit_date": 1583536114, "question_id": 31303954, "link": "https://stackoverflow.com/questions/31303954/looping-though-a-dataframe-element-by-element", "title": "Looping though a dataframe element by element", "body": "<p>If I have a data frame df (indexed by integer) </p>\n\n<pre><code>        BBG.KABN.S  BBG.TKA.S   BBG.CON.S   BBG.ISAT.S\nindex               \n0       -0.004881   0.008011    0.007047    -0.000307\n1       -0.004881   0.008011    0.007047    -0.000307\n2       -0.005821   -0.016792   -0.016111   0.001028\n3       0.000588    0.019169    -0.000307   -0.001832\n4       0.007468    -0.011277   -0.003273   0.004355\n</code></pre>\n\n<p>and I want to iterate though each element individually (by row and column) I know I need to use .iloc(row,column) but do I need to create 2 for loops (one for row and one for column) and how I would do that?</p>\n\n<p>I guess it would be something like:</p>\n\n<pre><code>for col in rollReturnRandomDf.keys():    \n    for row in rollReturnRandomDf.iterrows():\n\n       item = df.iloc(col,row)\n</code></pre>\n\n<p>But I am unsure of the exact syntax.</p>\n"}, {"tags": ["python", "r", "bash"], "comments": [{"owner": {"reputation": 86941, "user_id": 3001626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PNguN.png?s=128&g=1", "display_name": "David Arenburg", "link": "https://stackoverflow.com/users/3001626/david-arenburg"}, "edited": false, "score": 0, "creation_date": 1436391585, "post_id": 31303953, "comment_id": 50598288, "body": "Are all of these tags relevant here?"}, {"owner": {"reputation": 35, "user_id": 5095845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a36710dbb82089a038ee9c33a2a9b9?s=128&d=identicon&r=PG&f=1", "display_name": "tanveerk", "link": "https://stackoverflow.com/users/5095845/tanveerk"}, "reply_to_user": {"reputation": 86941, "user_id": 3001626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PNguN.png?s=128&g=1", "display_name": "David Arenburg", "link": "https://stackoverflow.com/users/3001626/david-arenburg"}, "edited": false, "score": 0, "creation_date": 1436392790, "post_id": 31303953, "comment_id": 50598858, "body": "I have been implementing my code using these three languages. I was hoping to find a solution in any of the tagged languages. This is my first time using StackExchange. If you think that I should add/remove tags, please let me know."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5095845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a36710dbb82089a038ee9c33a2a9b9?s=128&d=identicon&r=PG&f=1", "display_name": "tanveerk", "link": "https://stackoverflow.com/users/5095845/tanveerk"}, "edited": false, "score": 1, "creation_date": 1436393053, "post_id": 31304069, "comment_id": 50598969, "body": "Thanks for the help. Really appreciate it!"}], "tags": [], "owner": {"reputation": 86941, "user_id": 3001626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PNguN.png?s=128&g=1", "display_name": "David Arenburg", "link": "https://stackoverflow.com/users/3001626/david-arenburg"}, "is_accepted": true, "score": 4, "last_activity_date": 1436390655, "creation_date": 1436390655, "answer_id": 31304069, "question_id": 31303953, "link": "https://stackoverflow.com/questions/31303953/how-to-search-for-rows-with-same-column-value-and-insert-row-if-it-is-not-presen/31304069#31304069", "title": "How to search for rows with same column value and insert row if it is not present?", "body": "<p>(Using R) Here's a possible <code>data.table</code> solution</p>\n\n<pre><code>library(data.table)\nlookup &lt;- c(\"I\", \"R\", \"V\")\nres &lt;- setDT(df)[, .SD[match(lookup, Band)] , by = CVSO][, Band := lookup]\nres\n#    CVSO Band   Period       pvalue\n# 1:    4    I       NA           NA\n# 2:    4    R 1.063372 5.383864e-03\n# 3:    4    V 1.652512 1.543246e-17\n# 4:   27    I       NA           NA\n# 5:   27    R       NA           NA\n# 6:   27    V 6.114795 2.174296e-12\n# 7:   24    I 7.163776 1.014593e-17\n# 8:   24    R 7.164236 0.000000e+00\n# 9:   24    V 7.171452 3.342914e-14\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5095845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a36710dbb82089a038ee9c33a2a9b9?s=128&d=identicon&r=PG&f=1", "display_name": "tanveerk", "link": "https://stackoverflow.com/users/5095845/tanveerk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 31304069, "answer_count": 1, "score": 1, "last_activity_date": 1436391482, "creation_date": 1436390297, "last_edit_date": 1436391482, "question_id": 31303953, "link": "https://stackoverflow.com/questions/31303953/how-to-search-for-rows-with-same-column-value-and-insert-row-if-it-is-not-presen", "title": "How to search for rows with same column value and insert row if it is not present?", "body": "<p>I have the following dataset:</p>\n\n<pre><code>  CVSO Band   Period       pvalue\n1    4    R 1.063372 5.383864e-03\n2    4    V 1.652512 1.543246e-17\n3   27    V 6.114795 2.174296e-12\n4   24    I 7.163776 1.014593e-17\n5   24    R 7.164236 0.000000e+00\n6   24    V 7.171452 3.342914e-14\n</code></pre>\n\n<p>For each value in the first column, I would like to search whether Band I, R and V exist. For example, in my dataset, 4 only has Band R and V, whereas 24 has all three bands. If one or more of the bands do not exist, I would like to add an NA row such that I get the following output:</p>\n\n<pre><code>  CVSO Band   Period       pvalue\n1    4    I       NA           NA\n2    4    R 1.063372 5.383864e-03\n3    4    V 1.652512 1.543246e-17\n4   27    I       NA           NA\n5   27    R       NA           NA\n6   27    V 6.114795 2.174296e-12\n7   24    I 7.163776 1.014593e-17\n8   24    R 7.164236 0.000000e+00\n9   24    V 7.171452 3.342914e-14\n</code></pre>\n"}, {"tags": ["python", "pandas", "filtering", "selection"], "comments": [{"owner": {"reputation": 4262, "user_id": 3608005, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/235dcc1c473c4be1ddec787d32687650?s=128&d=identicon&r=PG", "display_name": "Moritz", "link": "https://stackoverflow.com/users/3608005/moritz"}, "edited": false, "score": 0, "creation_date": 1436393475, "post_id": 31303946, "comment_id": 50599138, "body": "Take a look at sklearn feature detection"}], "answers": [{"tags": [], "owner": {"reputation": 812, "user_id": 4988010, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feb82974ab92209926beab7103ffdd2d?s=128&d=identicon&r=PG&f=1", "display_name": "Zythyr", "link": "https://stackoverflow.com/users/4988010/zythyr"}, "is_accepted": false, "score": 2, "last_activity_date": 1436401556, "last_edit_date": 1436401556, "creation_date": 1436394324, "answer_id": 31304887, "question_id": 31303946, "link": "https://stackoverflow.com/questions/31303946/pandas-filter-dataframe-for-values-that-are-too-frequent-or-too-rare/31304887#31304887", "title": "Pandas: Filter dataframe for values that are too frequent or too rare", "body": "<p>I am new to Python and using Pandas. I came up with the following solution below. Maybe other people might have a better or more efficient approach. </p>\n\n<p>Assuming your DataFrame is <code>DF</code>, you can use the following code below to filter out all infrequent values. Just be sure to update the <code>col</code> and <code>bin_freq</code> variable. <code>DF_Filtered</code> is your new filtered DataFrame. </p>\n\n<pre><code># Column you want to filter\ncol = 'time of day'\n\n# Set your frequency to filter out. Currently set to 5%  \nbin_freq = float(5)/float(100)\n\nDF_Filtered = pd.DataFrame()\n\nfor i in DF[col].unique():\n    counts = DF[DF[col]==i].count()[col] \n    total_counts = DF[col].count()\n    freq  = float(counts)/float(total_counts)\n\n    if freq &gt; bin_freq:\n        DF_Filtered = pd.concat([DF[DF[col]==i],DF_Filtered])\n\nprint DF_Filtered\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "edited": false, "score": 0, "creation_date": 1436896699, "post_id": 31413896, "comment_id": 50800901, "body": "I found this in another SO thread (<a href=\"http://stackoverflow.com/a/23202269/228177\">stackoverflow.com/a/23202269/228177</a>): df_f = df[(np.abs(stats.zscore(df)) &lt; 2).all(axis=1)] This filters all values that are 2 standard deviations away, using a z-score test. Your suggestions look similar too. Thanks"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "edited": false, "score": 1, "creation_date": 1436896901, "post_id": 31413896, "comment_id": 50801001, "body": "That is true - it is similar. FWIW, I think the answer there is what you should use, whereas the answer here is a strict answer to your question."}, {"owner": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "edited": false, "score": 0, "creation_date": 1436897443, "post_id": 31413896, "comment_id": 50801287, "body": "BTW, just to create a MWE, how does one create a series of random alphabets, or a set of alphabets? e.g., [A, A, A, B, Z, X, X, A]. You create numeric series by np.random.randn(10), but is there something similar for strings?"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "edited": false, "score": 0, "creation_date": 1436898772, "post_id": 31413896, "comment_id": 50802104, "body": "Would you mind if I edit it into the question? It would be easier."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": false, "score": 3, "last_activity_date": 1436896506, "creation_date": 1436896506, "answer_id": 31413896, "question_id": 31303946, "link": "https://stackoverflow.com/questions/31303946/pandas-filter-dataframe-for-values-that-are-too-frequent-or-too-rare/31413896#31413896", "title": "Pandas: Filter dataframe for values that are too frequent or too rare", "body": "<p>I would go with one of the following:</p>\n\n<p><strong>Option A</strong></p>\n\n<pre><code>m = 0.03 * len(df)\ndf[np.all(\n    df.apply(\n        lambda c: c.isin(c.value_counts()[c.value_counts() &gt; m].index).as_matrix()), \n    axis=1)]\n</code></pre>\n\n<hr>\n\n<p>Explanation:</p>\n\n<ul>\n<li><p><code>m = 0.03 * len(df)</code> is the threshold (it's nice to take the constant out of the complicated expression)</p></li>\n<li><p><code>df[np.all(..., axis=1)]</code> retains the rows where some condition was obtained across all columns.</p></li>\n<li><p><code>df.apply(...).as_matrix</code> applies a function to all columns, and makes a matrix of the results.</p></li>\n<li><p><code>c.isin(...)</code> checks, for each column item, whether it is in some set.</p></li>\n<li><p><code>c.value_counts()[c.value_counts() &gt; m].index</code> is the set of all values in a column whose count is above <code>m</code>.</p></li>\n</ul>\n\n<p><strong>Option B</strong></p>\n\n<pre><code>m = 0.03 * len(df)\nfor c in df.columns:\n    df = df[df[c].isin(df[c].value_counts()[df[c].value_counts() &gt; m].index)]\n</code></pre>\n\n<p>The explanation is similar to the one above.</p>\n\n<hr>\n\n<p>Tradeoffs:</p>\n\n<ul>\n<li><p>Personally, I find B more readable.</p></li>\n<li><p>B creates a new DataFrame for each filtering of a column; for large DataFrames, it's probably more expensive.</p></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1437147613, "post_id": 31472756, "comment_id": 50924445, "body": "Sorry, but this <i>truncates</i>, which is 1. completely different, and 2. applicable to numeric values."}], "tags": [], "owner": {"reputation": 5422, "user_id": 649167, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/e56e7f730847a9d1ebb6b7669a83e003?s=128&d=identicon&r=PG", "display_name": "knite", "link": "https://stackoverflow.com/users/649167/knite"}, "is_accepted": false, "score": 0, "last_activity_date": 1437125810, "creation_date": 1437125810, "answer_id": 31472756, "question_id": 31303946, "link": "https://stackoverflow.com/questions/31303946/pandas-filter-dataframe-for-values-that-are-too-frequent-or-too-rare/31472756#31472756", "title": "Pandas: Filter dataframe for values that are too frequent or too rare", "body": "<p>DataFrames support <code>clip_lower(threshold, axis=None)</code> and <code>clip_upper(threshold, axis=None)</code>, which remove all values below or above (respectively) a certain threshhold.</p>\n"}, {"comments": [{"owner": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "edited": false, "score": 0, "creation_date": 1437594107, "post_id": 31502730, "comment_id": 51099880, "body": "you should edit <code>for col in df</code> to: <code>for col in df.columns</code>"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "edited": false, "score": 0, "creation_date": 1437594181, "post_id": 31502730, "comment_id": 51099915, "body": "Other way around (you don&#39;t need to specify <code>.columns</code>). Thanks for pointing out the inconsistency."}, {"owner": {"reputation": 1073, "user_id": 6402099, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ntPH3.jpg?s=128&g=1", "display_name": "emremrah", "link": "https://stackoverflow.com/users/6402099/emremrah"}, "edited": false, "score": 0, "creation_date": 1579691694, "post_id": 31502730, "comment_id": 105848559, "body": "It seems like normalized value counts returns absolute z-scores of counts. Is there a way I can get negative normalized counts so I can be able to filter values for just &quot;too much&quot; or &quot;too few&quot; ones and not both?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 1073, "user_id": 6402099, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ntPH3.jpg?s=128&g=1", "display_name": "emremrah", "link": "https://stackoverflow.com/users/6402099/emremrah"}, "edited": false, "score": 0, "creation_date": 1579708173, "post_id": 31502730, "comment_id": 105858316, "body": "@emremrah <code>normalize</code> returns relative frequencies, not z-scores.  These relative frequencies are non-negative and add up to 100%.  Just sort on these normalized values to get &quot;too few&quot;/&quot;too much&quot;."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 13, "last_activity_date": 1473720229, "last_edit_date": 1473720229, "creation_date": 1437319106, "answer_id": 31502730, "question_id": 31303946, "link": "https://stackoverflow.com/questions/31303946/pandas-filter-dataframe-for-values-that-are-too-frequent-or-too-rare/31502730#31502730", "title": "Pandas: Filter dataframe for values that are too frequent or too rare", "body": "<p>This procedure will go through each column of the DataFrame and eliminate rows where the given category is less than a given threshold percentage, shrinking the DataFrame on each loop.</p>\n\n<p>This answer is similar to that provided by @Ami Tavory, but with a few subtle differences:</p>\n\n<ul>\n<li>It normalizes the value counts so you can just use a percentile threshold.</li>\n<li>It calculates counts just once per column instead of twice. This results in faster execution.</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>threshold = 0.03\nfor col in df:\n    counts = df[col].value_counts(normalize=True)\n    df = df.loc[df[col].isin(counts[counts &gt; threshold].index), :]\n</code></pre>\n\n<p>Code timing:</p>\n\n<pre><code>df2 = pd.DataFrame(np.random.choice(list(string.lowercase), [1e6, 4], replace=True), \n                   columns=list('ABCD'))\n\n%%timeit df=df2.copy()\nthreshold = 0.03\nfor col in df:\n    counts = df[col].value_counts(normalize=True)\n    df = df.loc[df[col].isin(counts[counts &gt; threshold].index), :]\n\n1 loops, best of 3: 485 ms per loop\n\n%%timeit df=df2.copy()\nm = 0.03 * len(df)\nfor c in df:\n    df = df[df[c].isin(df[c].value_counts()[df[c].value_counts() &gt; m].index)]\n\n1 loops, best of 3: 688 ms per loop\n</code></pre>\n"}], "owner": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5221, "favorite_count": 3, "accepted_answer_id": 31502730, "answer_count": 4, "score": 12, "last_activity_date": 1552059808, "creation_date": 1436390266, "last_edit_date": 1436899243, "question_id": 31303946, "link": "https://stackoverflow.com/questions/31303946/pandas-filter-dataframe-for-values-that-are-too-frequent-or-too-rare", "title": "Pandas: Filter dataframe for values that are too frequent or too rare", "body": "<p>On a pandas dataframe, I know I can groupby on one or more columns and then filter values that occur more/less than a given number.</p>\n\n<p>But I want to do this on every column on the dataframe. I want to remove values that are too infrequent (let's say that occur less than 5% of times) or too frequent. As an example, consider a dataframe with following columns: <code>city of origin, city of destination, distance, type of transport (air/car/foot), time of day, price-interval</code>. </p>\n\n<pre><code>import pandas as pd\nimport string\nimport numpy as np\nvals = [(c, np.random.choice(list(string.lowercase), 100, replace=True)) for c in \n    'city of origin', 'city of destination', 'distance, type of transport (air/car/foot)', 'time of day, price-interval']\ndf = pd.DataFrame(dict(vals))\n&gt;&gt; df.head()\n    city of destination     city of origin  distance, type of transport (air/car/foot)  time of day, price-interval\n0   f   p   a   n\n1   k   b   a   f\n2   q   s   n   j\n3   h   c   g   u\n4   w   d   m   h\n</code></pre>\n\n<p>If this is a big dataframe, it makes sense to remove rows that have spurious items, for example, if <code>time of day = night</code> occurs only 3% of the time, or if <code>foot</code> mode of transport is rare, and so on. </p>\n\n<p>I want to remove all such values from all columns (or a list of columns). One idea I have is to do a <code>value_counts</code> on every column, <code>transform</code> and add one column for each value_counts; then filter based on whether they are above or below a threshold. But I think there must be a better way to achieve this?</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1436390665, "post_id": 31303938, "comment_id": 50597856, "body": "It looks like 90 and 270 are special cases and do what <i>most</i> people expect. You may be out of luck, although you can use the <code>expand</code> option to make it consistent."}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1436390820, "post_id": 31303938, "comment_id": 50597918, "body": "I don&#39;t think <code>expand</code> by itself will work; I&#39;m writing to a fixed-sized screen.  Possibly <code>expand</code> and some sort of <code>crop</code> operation."}, {"owner": {"reputation": 752, "user_id": 2167882, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/611e6218ee5392bc30415d2dd48ffbb4?s=128&d=identicon&r=PG", "display_name": "Agargara", "link": "https://stackoverflow.com/users/2167882/agargara"}, "edited": false, "score": 2, "creation_date": 1496796777, "post_id": 31303938, "comment_id": 75803388, "body": "Update for fellow googlers: Pillow, the excellent PIL fork, fixed this issue in 3.0.0. Rotating 90 or 270 degrees now keeps the same dimension, so you need to set expand=True if you want the dimensions to actually change."}], "answers": [{"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1436391460, "post_id": 31304229, "comment_id": 50598227, "body": "Note that the <code>expand</code> option also reduces one of the dimensions, so cropping by itself won&#39;t be enough - you need to add some background too."}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1436403994, "post_id": 31304229, "comment_id": 50602261, "body": "I&#39;m not seeing that problem with <code>expand</code>.  At least for what I&#39;m trying to do this seems to work a treat.  You can see the result <a href=\"https://youtu.be/Fp6-uDrtd9E\" rel=\"nofollow noreferrer\">here</a>.  It&#39;s low resolution because this will ultimately be displayed on a 128x64 LCD."}, {"owner": {"reputation": 2356, "user_id": 2711535, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb303bc03966e2e71931b5410ad81cd?s=128&d=identicon&r=PG&f=1", "display_name": "mauve", "link": "https://stackoverflow.com/users/2711535/mauve"}, "edited": false, "score": 0, "creation_date": 1570803367, "post_id": 31304229, "comment_id": 103041390, "body": "PIL has apparently improved in the last 4 years, just img.rotate(90, expand = True) worked for me."}], "tags": [], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "is_accepted": true, "score": 7, "last_activity_date": 1436391328, "creation_date": 1436391328, "answer_id": 31304229, "question_id": 31303938, "link": "https://stackoverflow.com/questions/31303938/how-do-i-stop-pil-from-swapping-height-width-when-rotating-an-image-90/31304229#31304229", "title": "How do I stop PIL from swapping height/width when rotating an image 90&#176;?", "body": "<p>I'm hoping someone comes up with a more graceful solution, but this seems to work for now:</p>\n\n<pre><code>img = Image.open('myimage.pbm')\n\nframes = []\nfor angle in range(0, 365, 5):\n    # rotate the image with expand=True, which makes the canvas\n    # large enough to contain the entire rotated image.\n    x = img.rotate(angle, expand=True)\n\n    # crop the rotated image to the size of the original image\n    x = x.crop(box=(x.size[0]/2 - img.size[0]/2,\n               x.size[1]/2 - img.size[1]/2,\n               x.size[0]/2 + img.size[0]/2,\n               x.size[1]/2 + img.size[1]/2))\n\n    # do stuff with the rotated image here.\n</code></pre>\n\n<p>For angles other than 90\u00b0 and 270\u00b0 this results in the same behavior\nas you get if you set <code>expand=False</code> and don't bother with the <code>crop</code>\noperation.</p>\n"}], "owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4964, "favorite_count": 1, "accepted_answer_id": 31304229, "answer_count": 1, "score": 9, "last_activity_date": 1436391328, "creation_date": 1436390250, "question_id": 31303938, "link": "https://stackoverflow.com/questions/31303938/how-do-i-stop-pil-from-swapping-height-width-when-rotating-an-image-90", "title": "How do I stop PIL from swapping height/width when rotating an image 90&#176;?", "body": "<p>I am using <a href=\"https://python-pillow.github.io/\" rel=\"noreferrer\">PIL</a> to rotate an image.  This works in general, except when I rotate the image exactly 90\u00b0 or 270\u00b0, in which case the x and y measurements swap.  That is, given this image:</p>\n\n<pre><code>&gt;&gt;&gt; img.size\n(93, 64)\n</code></pre>\n\n<p>If I rotate it by 89\u00b0 I get this:</p>\n\n<pre><code>&gt;&gt;&gt; img.rotate(89).size\n(93, 64)\n</code></pre>\n\n<p>And by 91\u00b0 I get this:</p>\n\n<pre><code>&gt;&gt;&gt; img.rotate(91).size\n(93, 64)\n</code></pre>\n\n<p>But if I rotate it by either 90\u00b0 or 270\u00b0, I find the height and width\nswapped:</p>\n\n<pre><code>&gt;&gt;&gt; img.rotate(90).size\n(64, 93)\n&gt;&gt;&gt; img.rotate(270).size\n(64, 93)\n</code></pre>\n\n<p>What's the correct way to prevent this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436390231, "post_id": 31303914, "comment_id": 50597666, "body": "do you mean pdb? <a href=\"https://docs.python.org/2/library/pdb.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/pdb.html</a>"}, {"owner": {"reputation": 1952, "user_id": 1366211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/493108c081e68e071d26ead12a3918b1?s=128&d=identicon&r=PG", "display_name": "mittmemo", "link": "https://stackoverflow.com/users/1366211/mittmemo"}, "edited": false, "score": 0, "creation_date": 1436390304, "post_id": 31303914, "comment_id": 50597699, "body": "<a href=\"https://stackoverflow.com/questions/4929251/can-you-step-through-python-code-to-help-debug-issues\" title=\"can you step through python code to help debug issues\">stackoverflow.com/questions/4929251/&hellip;</a>"}, {"owner": {"reputation": 157, "user_id": 5017630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9108392918de8bcc5a1d02ecf874c783?s=128&d=identicon&r=PG&f=1", "display_name": "geek_xed", "link": "https://stackoverflow.com/users/5017630/geek-xed"}, "edited": false, "score": 0, "creation_date": 1436390933, "post_id": 31303914, "comment_id": 50597966, "body": "no this is not what I am looking for. I want my code to show all execution steps one by one while it is executing in terminal instead of just showing me the output."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1436392220, "post_id": 31303914, "comment_id": 50598584, "body": "@geek_xed, that is pretty much what a debugger does"}], "owner": {"reputation": 157, "user_id": 5017630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9108392918de8bcc5a1d02ecf874c783?s=128&d=identicon&r=PG&f=1", "display_name": "geek_xed", "link": "https://stackoverflow.com/users/5017630/geek-xed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "closed_date": 1436390226, "answer_count": 0, "score": 0, "last_activity_date": 1436390160, "creation_date": 1436390160, "question_id": 31303914, "link": "https://stackoverflow.com/questions/31303914/how-to-see-step-by-step-execution-of-python-script-in-terminal", "closed_reason": "Duplicate", "title": "How to see step by step execution of python script in terminal", "body": "<p>I have python script </p>\n\n<pre><code>fruits.py \n</code></pre>\n\n<p>when I run it <code>python fruits.py</code>, it generates output. </p>\n\n<p>Is there a way like some debug flag in python? or some code to write in script, with which I can see code execution step by step in terminal. </p>\n"}, {"tags": ["python", "dictionary", "matplotlib", "colors", "legend"], "answers": [{"comments": [{"owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1436470488, "post_id": 31311862, "comment_id": 50639537, "body": "it works but its outputting the legend with two markers side by side.  thanks !"}, {"owner": {"reputation": 9004, "user_id": 4077912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc64252865700f1bf9ff46eb76b399d?s=128&d=identicon&r=PG&f=1", "display_name": "Primer", "link": "https://stackoverflow.com/users/4077912/primer"}, "reply_to_user": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 2, "creation_date": 1436524269, "post_id": 31311862, "comment_id": 50661180, "body": "<code>.legend</code> takes a parameter <code>numpoints</code> which sets number of point to show, so you can set it to 1 by adding <code>numpoints=1</code> to <code>legend</code> call."}], "tags": [], "owner": {"reputation": 9004, "user_id": 4077912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc64252865700f1bf9ff46eb76b399d?s=128&d=identicon&r=PG&f=1", "display_name": "Primer", "link": "https://stackoverflow.com/users/4077912/primer"}, "is_accepted": true, "score": 14, "last_activity_date": 1436524295, "last_edit_date": 1436524295, "creation_date": 1436429856, "answer_id": 31311862, "question_id": 31303912, "link": "https://stackoverflow.com/questions/31303912/matplotlib-pyplot-scatterplot-legend-from-color-dictionary/31311862#31311862", "title": "matplotlib.pyplot scatterplot legend from color dictionary", "body": "<p>One way to achieve this:</p>\n\n<pre><code>D_id_color = {'A': u'orchid', 'B': u'darkcyan', 'C': u'grey', 'D': u'dodgerblue', 'E': u'turquoise', 'F': u'darkviolet'}\nx_coordinates = [1,2,3,4,5,6] # Added missing datapoint\ny_coordinates = [3,3,3,3,3,3] # Added missing datapoint\nsize_map = [50,100,200,400,800,1200] # Added missing datapoint\ncolor_map = [color for color in D_id_color.values()[:len(x_coordinates)]]\nplt.scatter(x_coordinates,y_coordinates, s = size_map, c = color_map)\n\n# The following two lines generate custom fake lines that will be used as legend entries:\nmarkers = [plt.Line2D([0,0],[0,0],color=color, marker='o', linestyle='') for color in D_id_color.values()]\nplt.legend(markers, D_id_color.keys(), numpoints=1)\n\nplt.show()\n</code></pre>\n\n<p>This will yield:</p>\n\n<p><img src=\"https://i.stack.imgur.com/omtlk.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10394, "favorite_count": 4, "accepted_answer_id": 31311862, "answer_count": 1, "score": 3, "last_activity_date": 1436524295, "creation_date": 1436390157, "question_id": 31303912, "link": "https://stackoverflow.com/questions/31303912/matplotlib-pyplot-scatterplot-legend-from-color-dictionary", "title": "matplotlib.pyplot scatterplot legend from color dictionary", "body": "<p>I'm trying to make a legend with my <code>D_id_color</code> dictionary for my scatterplot.  How can I create a legend based on these values with the actual color? </p>\n\n<pre><code>#!/usr/bin/python\nimport matplotlib.pyplot as plt\nfrom matplotlib import colors\nD_id_color = {'A': u'orchid', 'B': u'darkcyan', 'C': u'grey', 'D': u'dodgerblue', 'E': u'turquoise', 'F': u'darkviolet'}\nx_coordinates = [1,2,3,4,5]\ny_coordinates = [3,3,3,3,3]\nsize_map = [50,100,200,400,800]\ncolor_map = [color for color in D_id_color.values()[:len(x_coordinates)]]\n\nplt.scatter(x_coordinates,y_coordinates, s = size_map, c = color_map)\nplt.show()\n</code></pre>\n\n<p>I want the legend to look like this but instead of color name, it would have the actual color.</p>\n\n<pre><code>A orchid\nC grey\nB darkcyan\nE turquoise\nD dodgerblue\nF darkviolet\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1436393863, "last_edit_date": 1436393863, "creation_date": 1436390598, "answer_id": 31304046, "question_id": 31303871, "link": "https://stackoverflow.com/questions/31303871/separate-one-year-from-a-data-value-taking-care-of-leap-years/31304046#31304046", "title": "Separate one year from a data value; taking care of leap years", "body": "<p>You could use dateutil:</p>\n\n<pre><code>from dateutil.relativedelta import  relativedelta\nfrom dateutil import parser\nd = parser.parse(StartPostingDateFilter)\nprint((d - relativedelta(years=1)).date())\n2005-01-01\n</code></pre>\n\n<p>You could also use datetime and replace catching feb 29th returning the year - 1 and feb 28th if it was:</p>\n\n<pre><code>d = datetime.strptime(StartPostingDateFilter, \"%Y-%m-%d\")\n\nsub = d.replace(year=d.year - 1) if (d.month != 2 and d.day) != 29 else datetime(d.year-1, 2, 28)\n</code></pre>\n"}], "owner": {"reputation": 1135, "user_id": 2300461, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/R1qnR.jpg?s=128&g=1", "display_name": "0nir", "link": "https://stackoverflow.com/users/2300461/0nir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 31304046, "answer_count": 1, "score": 2, "last_activity_date": 1436393863, "creation_date": 1436390014, "question_id": 31303871, "link": "https://stackoverflow.com/questions/31303871/separate-one-year-from-a-data-value-taking-care-of-leap-years", "title": "Separate one year from a data value; taking care of leap years", "body": "<p>This should be pretty simple but I can't get the syntax correct. So, I have a parameter dictionary as below -</p>\n\n<pre><code>paramDict = {\nStartPostingDateFilter\": {\n        \"msgPrompt\": \"Start date\",        \n        \"dataType\": \"datetime\",\n        \"tableField\": [{\"table\":\"TableName\",\n                        \"field\":\"ColumnName\"}],\n        \"value\": [\"2006-01-01\"]\n                         } \n             }\n\nStartPostingDateFilter = paramDict['StartPriorDateFilter']['value'][0]\n</code></pre>\n\n<p>Now, I want to subtract one year from the \"StartPriorDateFilter\" user provided date value. How do I take care of it if it's a leap year? I want to achieve the below -</p>\n\n<pre><code>If, StartPostingDateFilter = '2006-01-01'\nThen create new variable, NewStartPostingDateFilter = '2005-01-01' \n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "numpy", "scikit-learn", "pca"], "answers": [{"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 4, "last_activity_date": 1436398248, "creation_date": 1436398248, "answer_id": 31305604, "question_id": 31303839, "link": "https://stackoverflow.com/questions/31303839/sklearn-pca-not-working/31305604#31305604", "title": "sklearn PCA not working", "body": "<p>Although PCA computes the orthogonal components based on covariance matrix, the input to PCA in sklearn is the data matrix instead of covairance/correlation matrix.</p>\n\n<pre><code>import numpy as np\nfrom sklearn.decomposition import PCA\n\n# gaussian random variable, 10-dimension, identity cov mat\nX = np.random.randn(100000, 10)\n\n\n\npca = PCA(n_components=10)\nX_transformed = pca.fit_transform(X)\n\nnp.linalg.norm(np.cov(X.T) - np.cov(X_transformed.T))\n\nOut[219]: 0.044691263454134933\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 5061950, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e49ea8b0792ec5977591defa630e6967?s=128&d=identicon&r=PG&f=1", "display_name": "hiqbal", "link": "https://stackoverflow.com/users/5061950/hiqbal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 882, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1477190788, "creation_date": 1436389912, "last_edit_date": 1477190788, "question_id": 31303839, "link": "https://stackoverflow.com/questions/31303839/sklearn-pca-not-working", "title": "sklearn PCA not working", "body": "<p>I have been playing around with sklearn PCA and it is behaving oddly. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from sklearn.decomposition import PCA\nimport numpy as np\nidentity = np.identity(10)\npca = PCA(n_components=10)\naugmented_identity = pca.fit_transform(identity)\nnp.linalg.norm(identity - augmented_identity)\n\n4.5997749080745738\n</code></pre>\n\n<p>Note that I set the number of dimensions to be 10. Shouldn't the norm be 0? </p>\n\n<p>Any insight into why it is not would be appreciated.</p>\n"}, {"tags": ["python", "web-scraping", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 1159, "user_id": 4992966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZLoM.jpg?s=128&g=1", "display_name": "Tresdon", "link": "https://stackoverflow.com/users/4992966/tresdon"}, "edited": false, "score": 0, "creation_date": 1436391365, "post_id": 31303763, "comment_id": 50598173, "body": "Could you maybe include the code that you suspect to be causing this redirect? As well as specifics on what page you&#39;re being redirected to and such? Is it a link on the page you&#39;re scraping or something else?"}, {"owner": {"reputation": 644, "user_id": 3694052, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Z568q.jpg?s=128&g=1", "display_name": "gunj_desai", "link": "https://stackoverflow.com/users/3694052/gunj-desai"}, "reply_to_user": {"reputation": 1159, "user_id": 4992966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZLoM.jpg?s=128&g=1", "display_name": "Tresdon", "link": "https://stackoverflow.com/users/4992966/tresdon"}, "edited": false, "score": 0, "creation_date": 1436393084, "post_id": 31303763, "comment_id": 50598985, "body": "@Tresdon - <a href=\"http://www.justdial.com/Delhi-NCR/Ceramic-Tile-Dealers/ct-17716\" rel=\"nofollow noreferrer\">justdial.com/Delhi-NCR/Ceramic-Tile-Dealers/ct-17716</a>. It is happening when i try to scrape data from this url."}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1436407717, "post_id": 31303763, "comment_id": 50603152, "body": "you need to share your code."}], "owner": {"reputation": 644, "user_id": 3694052, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Z568q.jpg?s=128&g=1", "display_name": "gunj_desai", "link": "https://stackoverflow.com/users/3694052/gunj-desai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1436389676, "creation_date": 1436389676, "question_id": 31303763, "link": "https://stackoverflow.com/questions/31303763/dont-allow-website-automated-redirect-scrapy", "title": "Don&#39;t Allow Website automated Redirect Scrapy", "body": "<p>I am really sorry if the question is incomplete or unhelpful.\nI am slightly new at this.</p>\n\n<p>I just started using scrapy for scraping data. The issue that I am facing at the moment is: when i try to scrape data, a website redirect's me to a particular page.</p>\n\n<p><strong>I intend to stop the website from redirecting to that particular page.</strong></p>\n\n<p>To be honest i am not sure if it's even possible or not.</p>\n\n<p>What I have tried so far is:</p>\n\n<ol>\n<li><p>Following the redirect and from there using a href link provided to go to the desired page.The issue in this case is that site follow's a loop and redirects me back to the same page.</p></li>\n<li><p>REDIRECT_ENABLED = False in setting's. The issue in this case is that the scrapper exit's and the script stop's.</p></li>\n</ol>\n\n<p>Any help will be really appreciated. </p>\n\n<p>Thank you</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1751, "user_id": 762082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bcd7ac1566d58b100b9618449a51279?s=128&d=identicon&r=PG", "display_name": "tandy", "link": "https://stackoverflow.com/users/762082/tandy"}, "edited": false, "score": 0, "creation_date": 1436389812, "post_id": 31303744, "comment_id": 50597418, "body": "try: <code>f = open(&quot;phrase.txt&quot;, &quot;r&quot;).read() or f = open(&quot;phrase.txt&quot;, &quot;r&quot;).readlines()  </code>"}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "reply_to_user": {"reputation": 1751, "user_id": 762082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bcd7ac1566d58b100b9618449a51279?s=128&d=identicon&r=PG", "display_name": "tandy", "link": "https://stackoverflow.com/users/762082/tandy"}, "edited": false, "score": 0, "creation_date": 1436389905, "post_id": 31303744, "comment_id": 50597470, "body": "okay, i did .read() and it literally just printed the letter e and nothing else... any idea why that is?.readlines() returns nothing as well"}, {"owner": {"reputation": 1751, "user_id": 762082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bcd7ac1566d58b100b9618449a51279?s=128&d=identicon&r=PG", "display_name": "tandy", "link": "https://stackoverflow.com/users/762082/tandy"}, "edited": false, "score": 0, "creation_date": 1436390056, "post_id": 31303744, "comment_id": 50597559, "body": "are there spaces between the words in &quot;text.txt&quot;?"}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "reply_to_user": {"reputation": 1751, "user_id": 762082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bcd7ac1566d58b100b9618449a51279?s=128&d=identicon&r=PG", "display_name": "tandy", "link": "https://stackoverflow.com/users/762082/tandy"}, "edited": false, "score": 0, "creation_date": 1436390148, "post_id": 31303744, "comment_id": 50597608, "body": "yes there are spaces, but all the words are on one line"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436390432, "post_id": 31303923, "comment_id": 50597751, "body": "ah, yes you&#39;re right. I ran this code though, and it also didn&#39;t return anything"}, {"owner": {"reputation": 1044, "user_id": 3821695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE1aN.jpg?s=128&g=1", "display_name": "JDrost1818", "link": "https://stackoverflow.com/users/3821695/jdrost1818"}, "reply_to_user": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436390526, "post_id": 31303923, "comment_id": 50597798, "body": "I edited it recently. Try it now. I didn&#39;t have time to actually test it"}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436390757, "post_id": 31303923, "comment_id": 50597887, "body": "yep, still nothing! I put in some words i know are present in text.txt into phrase.txt and still nothing :("}, {"owner": {"reputation": 1044, "user_id": 3821695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE1aN.jpg?s=128&g=1", "display_name": "JDrost1818", "link": "https://stackoverflow.com/users/3821695/jdrost1818"}, "reply_to_user": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436390998, "post_id": 31303923, "comment_id": 50597999, "body": "With this algorithm, the phrase itself will have to be in text.txt in the exact form the phrase appears. The words of the phrase can&#39;t be scattered throughout text.txt"}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436391993, "post_id": 31303923, "comment_id": 50598486, "body": "yeah, it just doesn&#39;t find the phrases even if they&#39;re exact. it doesn&#39;t print anything out"}], "tags": [], "owner": {"reputation": 1044, "user_id": 3821695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE1aN.jpg?s=128&g=1", "display_name": "JDrost1818", "link": "https://stackoverflow.com/users/3821695/jdrost1818"}, "is_accepted": true, "score": 1, "last_activity_date": 1436394753, "last_edit_date": 1436394753, "creation_date": 1436390186, "answer_id": 31303923, "question_id": 31303744, "link": "https://stackoverflow.com/questions/31303744/find-phrases-from-one-text-file-in-another-text-file-with-python/31303923#31303923", "title": "Find phrases from one text file in another text file with python", "body": "<p>If you want to search for every phrase in the file, you would have to nest the loops, currently, you are just searching for the last phrase</p>\n\n<pre><code>phrases = open(\"phrase.txt\").readLines()\n\nfor phrase in phrases:\n    search= phrase.lower()\n    words = open(\"text.txt\", \"r\")\n    for word in words:\n        if search in word:\n            print(search)\n    words.close()\n</code></pre>\n\n<p>However, now things start to look funny, because you are asking if a phrase is in a word, which doesn't seem right. So</p>\n\n<pre><code>phrases = open(\"phrase.txt\").readLines()\nwords = open(\"text.txt\").read()\n\nfor phrase in phrases:\n    all_words_found = True\n    phrase_words = phrase.lower().split(\" \")\n    for word in phrase_words:\n        if word not in words:\n            all_words_found = False\n            break\n\n    if all_words_found:\n        print phrase\n</code></pre>\n\n<p>This is what you want I do believe</p>\n"}, {"comments": [{"owner": {"reputation": 1751, "user_id": 762082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bcd7ac1566d58b100b9618449a51279?s=128&d=identicon&r=PG", "display_name": "tandy", "link": "https://stackoverflow.com/users/762082/tandy"}, "edited": false, "score": 0, "creation_date": 1436390467, "post_id": 31303962, "comment_id": 50597765, "body": "@nat, I changed your variable names up a little bit, but try it out."}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436390853, "post_id": 31303962, "comment_id": 50597932, "body": "thanks! this works, but it only returns words and not the full phrases."}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436391159, "post_id": 31303962, "comment_id": 50598079, "body": "i changed it but i have no idea how to post code in comments"}, {"owner": {"reputation": 1751, "user_id": 762082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bcd7ac1566d58b100b9618449a51279?s=128&d=identicon&r=PG", "display_name": "tandy", "link": "https://stackoverflow.com/users/762082/tandy"}, "reply_to_user": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "edited": false, "score": 0, "creation_date": 1436391413, "post_id": 31303962, "comment_id": 50598198, "body": "try the revised. I&#39;m not exactly sure what your output is supposed to be, but maybe that&#39;ll do it."}, {"owner": {"reputation": 1044, "user_id": 3821695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE1aN.jpg?s=128&g=1", "display_name": "JDrost1818", "link": "https://stackoverflow.com/users/3821695/jdrost1818"}, "edited": false, "score": 0, "creation_date": 1436391511, "post_id": 31303962, "comment_id": 50598254, "body": "This code isn&#39;t exactly right, it only checks it one of the words in the phrase is in text.txt, it can be easily modified though"}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "reply_to_user": {"reputation": 1044, "user_id": 3821695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE1aN.jpg?s=128&g=1", "display_name": "JDrost1818", "link": "https://stackoverflow.com/users/3821695/jdrost1818"}, "edited": false, "score": 0, "creation_date": 1436391830, "post_id": 31303962, "comment_id": 50598403, "body": "@JDrost1818 yes, I changed it and edited my original question text. :)"}, {"owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "reply_to_user": {"reputation": 1044, "user_id": 3821695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qE1aN.jpg?s=128&g=1", "display_name": "JDrost1818", "link": "https://stackoverflow.com/users/3821695/jdrost1818"}, "edited": false, "score": 0, "creation_date": 1436392807, "post_id": 31303962, "comment_id": 50598866, "body": "@JDrost1818 wait, I didn&#39;t see this edit. how do i modify it?"}], "tags": [], "owner": {"reputation": 1751, "user_id": 762082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2bcd7ac1566d58b100b9618449a51279?s=128&d=identicon&r=PG", "display_name": "tandy", "link": "https://stackoverflow.com/users/762082/tandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1436391396, "last_edit_date": 1436391396, "creation_date": 1436390325, "answer_id": 31303962, "question_id": 31303744, "link": "https://stackoverflow.com/questions/31303744/find-phrases-from-one-text-file-in-another-text-file-with-python/31303962#31303962", "title": "Find phrases from one text file in another text file with python", "body": "<pre><code>f = open('phrase.txt').readlines()\nf = [f.strip('\\n').lower() for f in f]\ng = open('text.txt').read()\nwords = g.split()\n\nfor phrase in f:\n    search_words = phrase.split()\n    for word in search_words:\n        if word in words:\n            print phrase\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 3670414, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0ef89c097f30154019df0b9fe34b6ce0?s=128&d=identicon&r=PG&f=1", "display_name": "pat", "link": "https://stackoverflow.com/users/3670414/pat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1434, "favorite_count": 0, "accepted_answer_id": 31303923, "answer_count": 2, "score": 1, "last_activity_date": 1436394753, "creation_date": 1436389611, "last_edit_date": 1436391761, "question_id": 31303744, "link": "https://stackoverflow.com/questions/31303744/find-phrases-from-one-text-file-in-another-text-file-with-python", "title": "Find phrases from one text file in another text file with python", "body": "<p>I have one file which is a list of phrases, one phrase on each line.\nThe other file is not delimitated in any way, it's just one huge text file of words. I want to search for the phrases in the second file and if they are found, to print the phrase. This is the code I have so far.</p>\n\n<pre><code>f = open(\"phrase.txt\", \"r\")\ng = open(\"text.txt\", \"r\")\n\nfor line in f:\n    search=line.lower()\n\n\nfor word in g:\n    if search in word:\n        print(search)\n</code></pre>\n\n<p>This is not printing anything for me, though.</p>\n\n<p>EDIT: I changed the code to this:</p>\n\n<pre><code>f = open('phrase.txt').readlines()\nf = [f.strip('\\n').lower() for f in f]\ng = open('text.txt').read()\nfor phrase in f:\n    if phrase in g:\n        print (phrase)\n</code></pre>\n\n<p>now i get the phrases that match. however some of the phrases have dashes (-) and more letters after them and they are not picked up by the program even if the phrase before the dash is present in text.txt. any way to change this?</p>\n"}, {"tags": ["python", "string", "pandas", "filtering", "selection"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1436389697, "post_id": 31303728, "comment_id": 50597354, "body": "You probably don&#39;t have that value in your df which is why it fails, are you sure you have that exact string?"}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1436389832, "post_id": 31303728, "comment_id": 50597430, "body": "Does your string data contains some leading and trailing white characters?"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 1, "creation_date": 1436389991, "post_id": 31303728, "comment_id": 50597524, "body": "Post <code>data.loc[data[&#39;ethnicity&#39;].str.contains(&#39;Asian&#39;), &#39;ethnicity&#39;].head(3).tolist()</code>. It will help you see if there is whitespace in your strings."}, {"owner": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "edited": false, "score": 0, "creation_date": 1436392020, "post_id": 31303728, "comment_id": 50598492, "body": "both answers below were correct and they solved my problem. Turns out, this is because of whitespace. It was difficult choosing between two correct answers. I ended up marking answer that was more detailed. Hope that&#39;s ok. It was just like a coin-toss."}], "answers": [{"tags": [], "owner": {"reputation": 21654, "user_id": 107331, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cf6d0868b2b4c69bac3e6f265a32b6a7?s=128&d=identicon&r=PG", "display_name": "Daniel Martin", "link": "https://stackoverflow.com/users/107331/daniel-martin"}, "is_accepted": false, "score": 5, "last_activity_date": 1436390876, "creation_date": 1436390876, "answer_id": 31304130, "question_id": 31303728, "link": "https://stackoverflow.com/questions/31303728/pandas-cannot-filter-based-on-string-equality/31304130#31304130", "title": "Pandas: cannot filter based on string equality", "body": "<p>You might try this:</p>\n\n<pre><code>data[data['ethnicity'].str.strip()=='Asian']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 17, "last_activity_date": 1436391301, "creation_date": 1436391301, "answer_id": 31304224, "question_id": 31303728, "link": "https://stackoverflow.com/questions/31303728/pandas-cannot-filter-based-on-string-equality/31304224#31304224", "title": "Pandas: cannot filter based on string equality", "body": "<p>There is probably whitespace in your strings, for example,</p>\n\n<pre><code>data = pd.DataFrame({'ethnicity':[' Asian', '  Asian']})\ndata.loc[data['ethnicity'].str.contains('Asian'), 'ethnicity'].tolist()\n# [' Asian', '  Asian']\nprint(data[data['ethnicity'].str.contains('Asian')])\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>  ethnicity\n0     Asian\n1     Asian\n</code></pre>\n\n<p>To strip the leading or trailing whitespace off the strings, you could use</p>\n\n<pre><code>data['ethnicity'] = data['ethnicity'].str.strip()\n</code></pre>\n\n<p>after which, </p>\n\n<pre><code>data.loc[data['ethnicity'] == 'Asian']\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>  ethnicity\n0     Asian\n1     Asian\n</code></pre>\n"}], "owner": {"reputation": 952, "user_id": 228177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b9f80aebc1391dfc75190592bb03aedd?s=128&d=identicon&r=PG", "display_name": "vpk", "link": "https://stackoverflow.com/users/228177/vpk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26583, "favorite_count": 6, "accepted_answer_id": 31304224, "answer_count": 2, "score": 12, "last_activity_date": 1436391301, "creation_date": 1436389555, "question_id": 31303728, "link": "https://stackoverflow.com/questions/31303728/pandas-cannot-filter-based-on-string-equality", "title": "Pandas: cannot filter based on string equality", "body": "<p>Using pandas 0.16.2 on python 2.7, OSX.</p>\n\n<p>I read a data-frame from a csv file like this:</p>\n\n<pre><code>import pandas as pd\n\ndata = pd.read_csv(\"my_csv_file.csv\",sep='\\t', skiprows=(0), header=(0))\n</code></pre>\n\n<p>The output of <code>data.dtypes</code> is:</p>\n\n<pre><code>name       object\nweight     float64\nethnicity  object\ndtype: object\n</code></pre>\n\n<p>I was expecting string types for name, and ethnicity. But I found reasons here on SO on why they're \"object\" in newer pandas versions.</p>\n\n<p>Now, I want to select rows based on ethnicity, for example:</p>\n\n<pre><code>data[data['ethnicity']=='Asian']\nOut[3]: \nEmpty DataFrame\nColumns: [name, weight, ethnicity]\nIndex: []\n</code></pre>\n\n<p>I get the same result with <code>data[data.ethnicity=='Asian']</code> or     <code>data[data['ethnicity']==\"Asian\"]</code>.</p>\n\n<p>But when I try the following:</p>\n\n<pre><code>data[data['ethnicity'].str.contains('Asian')].head(3)\n</code></pre>\n\n<p>I get the results I want.</p>\n\n<p>However, I do not want to use \"contains\"- I would like to check for direct equality.</p>\n\n<p>Please note that <code>data[data['ethnicity'].str=='Asian']</code> raises an error.</p>\n\n<p>Am I doing something wrong? How to do this correctly?</p>\n"}, {"tags": ["python", "python-2.7", "tkinter", "pycharm"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1436394668, "post_id": 31303719, "comment_id": 50599553, "body": "Did you name your file <code>Tkinter.py</code>?"}, {"owner": {"reputation": 75, "user_id": 5095795, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203250229615500/picture?type=large", "display_name": "Hamza Boughraira", "link": "https://stackoverflow.com/users/5095795/hamza-boughraira"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1436397876, "post_id": 31303719, "comment_id": 50600651, "body": "yes sir it&#39;s Tkinter.py"}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 11, "last_activity_date": 1436398113, "creation_date": 1436398113, "answer_id": 31305578, "question_id": 31303719, "link": "https://stackoverflow.com/questions/31303719/attributeerror-module-object-has-no-attribute-tk/31305578#31305578", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;Tk&#39;", "body": "<p>The problem is that you named your file <code>Tkinter.py</code>. When you do the import, python sees the file and tries to import it instead of the Tkinter library. </p>\n\n<p>Rename your file, and be sure to remove <code>Tkinter.pyc</code> if it exists. </p>\n"}], "owner": {"reputation": 75, "user_id": 5095795, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203250229615500/picture?type=large", "display_name": "Hamza Boughraira", "link": "https://stackoverflow.com/users/5095795/hamza-boughraira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20911, "favorite_count": 2, "closed_date": 1459102692, "accepted_answer_id": 31305578, "answer_count": 1, "score": 2, "last_activity_date": 1436398113, "creation_date": 1436389502, "question_id": 31303719, "link": "https://stackoverflow.com/questions/31303719/attributeerror-module-object-has-no-attribute-tk", "closed_reason": "Duplicate", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;Tk&#39;", "body": "<p>I started to learn GUI developement using the Tkinter python library but I faced a problem with the PyCharm IDE community edition 4.5.2</p>\n\n<p>My problem is: when I write the code below in the IDLE, it works fine!!!\nbut when I write it using the the PyCharm IDE, this error message appears:\nAttributeError: 'module' object has no attribute 'Tk' \nPlease help me, I really need help and thank you a lot</p>\n\n<p>My code:</p>\n\n<pre><code>import Tkinter\n\napp = Tkinter.Tk()\napp.title(\"hello world\")\napp.minsize(300, 300)\nhelloLabel = Tkinter.Label(app, text=\"hello GUI\")\nhelloLabel.pack()\n\napp.mainloop()\n</code></pre>\n\n<p>Note: I'm using Python 2.7.6, OS: Ubuntu 14.04 LTS</p>\n"}, {"tags": ["python", "raspberry-pi"], "comments": [{"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1436390781, "post_id": 31303718, "comment_id": 50597899, "body": "Please explain a bit more why <code>while True:</code> <code>x = GPIO.wait_for_edge()</code> <code>if hasSomeProperty(x): break</code> is no suitable solution for your case."}, {"owner": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "reply_to_user": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1436393813, "post_id": 31303718, "comment_id": 50599264, "body": "@Alfe I&#39;m new to python - so not exactly sure how efficient a <code>while True:</code> is.  My assumption is that it used cpu - looping around.  I was wondering if there is some other construct that would just wait (using no cpu), much like <code>GPIO.wait_for_edge()</code> but not GPIO specific  - then allowing the interrupt handlers do their respective processing.   This is for a service/background task that would just run continually - waiting for interrupt.  I just don&#39;t it chewing up cpu if it&#39;s doing nothing."}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 0, "creation_date": 1436394070, "post_id": 31304563, "comment_id": 50599343, "body": "Thanks @Mark - I saw that article.. but I want it to continue processing. And I was assuming that putting it in a <code>while True</code> loop was inefficient.  Also I would prefer to use interrupts."}, {"owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "reply_to_user": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 1, "creation_date": 1436394615, "post_id": 31304563, "comment_id": 50599530, "body": "Gotcha -- I edited my answer to include a callback function.  The code will execute that function in a second thread alongside your main state machine when a trigger is detected."}, {"owner": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 0, "creation_date": 1436403531, "post_id": 31304563, "comment_id": 50602138, "body": "Thanks @Mark - yeah that&#39;s the line of thought I was on.  So what is the most efficient way to implement the &quot;continue...&quot; part?  Either with a state machine or without. If using a state machine, I assume some kind of loop is required that constantly checks for state change - which I assume would chew up CPU even when no change is present (which would be most of the time)."}, {"owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "reply_to_user": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 2, "creation_date": 1436403977, "post_id": 31304563, "comment_id": 50602257, "body": "Yes I think you will always need a loop to just keep the program alive.  But you can have it sleep for some time which will cut down on CPU usage dramatically.  Depending on what you need to do in your loop and what your callback implements your sleep time can be 10 ms, 1 second, 10 seconds, etc."}, {"owner": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 0, "creation_date": 1436407913, "post_id": 31304563, "comment_id": 50603198, "body": "Thanks - yeah that&#39;s what it&#39;s looking like.  I was rather hoping you could just do an infinite sleep - and let the interrupts do the work.  I&#39;ve read a few articles talking about polling vs interrupts... but if you&#39;ve having to loop anyway (when using interrupts) - then whats there&#39;s little difference in polling?  So do all services use a while loop with a sleep?"}, {"owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "reply_to_user": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 0, "creation_date": 1436409913, "post_id": 31304563, "comment_id": 50603654, "body": "If you want to go to infinite sleep then you can&#39;t do anything else, so you might as well use wait_for_edge.  The difference of polling vs interrupts is speed.  If you are polling then you&#39;re only checking your pin&#39;s state once every loop.  That might be fine for lighting an LED based on the state of a switch.  But if you want to make an oscilloscope trigger then you need to be ready to acquire data within say 1 microsecond of the trigger occurring.  The interrupt executes your callback as soon as is possible within the limitations of the hardware and OS."}], "tags": [], "owner": {"reputation": 287, "user_id": 4352360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56c19f63497973a1ed7f83bd691d365b?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4352360/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1436394549, "last_edit_date": 1436394549, "creation_date": 1436392613, "answer_id": 31304563, "question_id": 31303718, "link": "https://stackoverflow.com/questions/31303718/python-whats-the-most-efficient-way-to-wait-for-input/31304563#31304563", "title": "Python whats the most efficient way to wait for input", "body": "<p>According to this:  <a href=\"http://raspi.tv/2013/how-to-use-interrupts-with-python-on-the-raspberry-pi-and-rpi-gpio\" rel=\"nofollow\">http://raspi.tv/2013/how-to-use-interrupts-with-python-on-the-raspberry-pi-and-rpi-gpio</a> GPIO.wait_for_edge(23, GPIO.FALLING) will wait for a transition on pin 23 using interrupts instead of polling.  It'll only continue when triggered.  You can enclose it in a try: / except KeyboardInterrupt to catch ctrl-c.</p>\n\n<p>If you want to continue processing then you should register a call back function for your interrupt.  See:  <a href=\"http://sourceforge.net/p/raspberry-gpio-python/wiki/Inputs/\" rel=\"nofollow\">http://sourceforge.net/p/raspberry-gpio-python/wiki/Inputs/</a></p>\n\n<pre><code>def callback(channel):\n   do something here\n\nGPIO.add_event_detect(channel, GPIO.RISING, callback=my_callback)\ncontinue your program here, likely in some sort of state machine\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 0, "creation_date": 1436394563, "post_id": 31304581, "comment_id": 50599509, "body": "Thanks @jvdm Good idea (about using a Queue). although to my original question - is a <code>while True:</code> loop efficient.  I&#39;m starting to get the feel that it is the only approach based on what I&#39;ve read.  Would be interesting to find out exactly what <code>GPIO_wait_for_edge()</code> does under the hood (ie does it also do a <code>while</code> loop).    Does anyone know how a GUI python app stays running while waiting for input?"}, {"owner": {"reputation": 794, "user_id": 1698991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mD2EI.png?s=128&g=1", "display_name": "jvdm", "link": "https://stackoverflow.com/users/1698991/jvdm"}, "reply_to_user": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "edited": false, "score": 1, "creation_date": 1436407075, "post_id": 31304581, "comment_id": 50602982, "body": "<code>while True</code> loop efficiency depends on what the body of the loop is doing, if you use <code>wait_for_edge()</code>, it will suspend the thread waiting for I/O events from a file descriptor using <code>epoll()</code> (according to the source code cited in the answer)."}], "tags": [], "owner": {"reputation": 794, "user_id": 1698991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mD2EI.png?s=128&g=1", "display_name": "jvdm", "link": "https://stackoverflow.com/users/1698991/jvdm"}, "is_accepted": false, "score": 1, "last_activity_date": 1436514935, "last_edit_date": 1436514935, "creation_date": 1436392695, "answer_id": 31304581, "question_id": 31303718, "link": "https://stackoverflow.com/questions/31303718/python-whats-the-most-efficient-way-to-wait-for-input/31304581#31304581", "title": "Python whats the most efficient way to wait for input", "body": "<p>I understand that when you say \"using while true\" you mean polling,\nwhich is checking the gpio state at some time interval to detect\nchanges, in the expense of some processing time.</p>\n\n<p>One alternative to avoid polling (from the <a href=\"http://sourceforge.net/p/raspberry-gpio-python/wiki/Inputs/\" rel=\"nofollow\">docs</a>) is wait_for_edge():</p>\n\n<blockquote>\n  <p>The wait_for_edge() function is designed to block execution of your program\n  until an edge is detected.</p>\n</blockquote>\n\n<p>Which seems to be what you are looking for; the program would suspend\nexecution using <a href=\"http://sourceforge.net/p/raspberry-gpio-python/code/ci/default/tree/source/event_gpio.c\" rel=\"nofollow\">epool()</a> IIUC.</p>\n\n<p>Now assuming you meant that you don't want to use GPIO.wait_for_edge()\nbecause you don't want to loose GPIO state changes while handling\nevents, you'll need to use threading. One possible solution is putting\nevents in a <a href=\"https://docs.python.org/2/library/queue.html#module-Queue\" rel=\"nofollow\">Queue</a>, and setup:</p>\n\n<ul>\n<li>One thread to do the <code>while True: queue.put(GPIO.wait_for_edge(...))</code>.</li>\n<li>Another thread to perform the <code>Queue.get()</code>.</li>\n</ul>\n"}], "owner": {"reputation": 315, "user_id": 1227778, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0da5d53036d537e8e00cc322cfe82d08?s=128&d=identicon&r=PG", "display_name": "The Huff", "link": "https://stackoverflow.com/users/1227778/the-huff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3558, "favorite_count": 3, "answer_count": 2, "score": 6, "last_activity_date": 1436514935, "creation_date": 1436389502, "question_id": 31303718, "link": "https://stackoverflow.com/questions/31303718/python-whats-the-most-efficient-way-to-wait-for-input", "title": "Python whats the most efficient way to wait for input", "body": "<p>I have a python program I want to run in the background (on a Raspberry Pi) that waits for GPIO input then performs an action and continues waiting for input until the process is killed.</p>\n\n<p>What is the most efficient way to achieve this. My understanding is that using while true is not so efficient.  Ideally it would use interrupts - and I could use GPIO.wait_for_edge - but that would need to be in some loop or way of continuing operation upon completion of the handler.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "arrays", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 8956, "user_id": 1535629, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b69cab018771fa05b34d500d54e32fd6?s=128&d=identicon&r=PG", "display_name": "senshin", "link": "https://stackoverflow.com/users/1535629/senshin"}, "is_accepted": true, "score": 1, "last_activity_date": 1436389973, "creation_date": 1436389973, "answer_id": 31303858, "question_id": 31303671, "link": "https://stackoverflow.com/questions/31303671/how-to-read-specific-lines-of-a-file-into-a-2d-array-in-python/31303858#31303858", "title": "How to read specific lines of a file into a 2d array in python", "body": "<p>You should create an empty list before you start looping over the lines of the file. Then, at each iteration of the loop where you have data (I guess on the last line of every 11-line set?), split the line into its components as you were before (<code>.split()</code>). It also makes more sense to convert the data to floats at this point, in my opinion. Finally, <code>.append()</code> this new line of data to the list you declared at the beginning. This gives you a list of lists of numbers, i.e. effectively a 2-dimensional array.</p>\n\n<p>Something like this:</p>\n\n<pre><code>file_location = # wherever your data is\ndata = []\nwith open(file_location, 'r') as f:\n    for index, line in enumerate(f):\n        if index % 11 == 10:\n            data_line = [float(num) for num in line.split()]\n            data.append(data_line)\n</code></pre>\n\n<p>Now, <code>data</code> looks like this:</p>\n\n<pre><code>[[27.0, 1.0, 18.4619, 1.23863, 36.2611],\n [27.0, 1.0, 17.9296, 50.8771, 36.5807]]\n</code></pre>\n\n<p>Additional note: I have used the <code>with open(...) as f:</code> construction. If you're not familiar with it, this basically is a shorthand that saves you from having to <code>.close()</code> the file when you're done with it. </p>\n"}], "owner": {"reputation": 450, "user_id": 4582374, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gvWsm.jpg?s=128&g=1", "display_name": "w33b", "link": "https://stackoverflow.com/users/4582374/w33b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 31303858, "answer_count": 1, "score": 0, "last_activity_date": 1436390066, "creation_date": 1436389365, "last_edit_date": 1436390066, "question_id": 31303671, "link": "https://stackoverflow.com/questions/31303671/how-to-read-specific-lines-of-a-file-into-a-2d-array-in-python", "title": "How to read specific lines of a file into a 2d array in python", "body": "<p>Hello I am a chemistry PhD student \"attempting\" to write code in python </p>\n\n<p>I have an input file like this below that I will be reading in</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ITEM: TIMESTEP\n20000000\nITEM: NUMBER OF ATOMS\n2\nITEM: BOX BOUNDS pp pp pp\n0 51.577\n0 51.048\n1.06653 47.9335\nITEM: ATOMS id type x y z\n5 1 15.6042 48.7947 36.9084\n27 1 18.4619 1.23863 36.2611\nITEM: TIMESTEP\n20005000\nITEM: NUMBER OF ATOMS\n2\nITEM: BOX BOUNDS pp pp pp\n0 51.577\n0 51.048\n1.03417 47.9658\nITEM: ATOMS id type x y z\n5 1 16.183 47.8777 37.7161\n27 1 17.9296 50.8771 36.5807\n...................\n</code></pre>\n\n<p>I want to read the file and extract the certain point of the array which I have handled so far with this code</p>\n\n<pre><code>in_name = raw_input('Name of input: ')    \nR_file = (open(in_name, 'r')) #readfile \nfor j, line in enumerate(R_file):\n    if j%11 == 10:\n</code></pre>\n\n<p>Where I will be getting the line that starts with 27 every time for a reference.</p>\n\n<p>However I can't seem to append the one line into a multidimensional array.</p>\n\n<p>I eventually want an array of floats like this</p>\n\n<pre><code>[[27.00], [1.00], [17.9296], [50.8771],[36.5807]]\n</code></pre>\n\n<p>When I would read in all the data not worrying about the line I was reading I would do something like this</p>\n\n<pre><code>lines = [line.split() for line in R_file]\n</code></pre>\n\n<p>which I would then convert using</p>\n\n<pre><code>for x in range(length):\n    for y in range(len(lines[x])):\n        lines[x][y]=float(lines[x][y])   \n</code></pre>\n\n<p>How can I doing something like line.split() for just one line at a time and then append it to an array for my desired line?</p>\n"}, {"tags": ["python", "python-3.x", "colorama"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5125895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N88Ai.png?s=128&g=1", "display_name": "GSS", "link": "https://stackoverflow.com/users/5125895/gss"}, "is_accepted": false, "score": 2, "last_activity_date": 1437317080, "last_edit_date": 1437317080, "creation_date": 1437314427, "answer_id": 31502029, "question_id": 31303629, "link": "https://stackoverflow.com/questions/31303629/how-do-i-allow-cxfreeze-to-import-colorama/31502029#31502029", "title": "How do I allow cxfreeze to import colorama?", "body": "<p>I recently started in python too and came across the same problem, aparently the latest version of cxfreeze has difficulties to include compressed modules (.egg, they are similar to .zip files).</p>\n\n<p>So I'm going to try to explain in the easiest way I can, how I managed to get this working.</p>\n\n<p>I assume you installed Python in <code>C:\\Python34</code>.</p>\n\n<ol>\n<li><p>Close any python command line or IDLE GUI.</p></li>\n<li><p>Go to your <strong>Python34 installation folder</strong>, it should be on <code>C:\\Python34</code>.</p></li>\n<li><p>Once there open the \"Lib\" folder and locate \"site-packages\" folder</p></li>\n<li><p>Now you need to delete your <strong>colorama egg file</strong>, this is the file that contains the module it is called <code>colorama-0.3.3.egg</code> or something similar, we need to install it uncompressed.</p></li>\n<li><p>Create a .cfg file with the instruction to uncompress these egg files during the installation, go to <code>C:\\Python34\\Lib\\distutils</code> create a new notepad file and name it: distutils.cfg and paste this:</p>\n\n<p>[easy_install]<br>zip_ok = 0</p></li>\n</ol>\n\n<p>Save it and continue with the last step</p>\n\n<ol start=\"6\">\n<li><p>Open a windows command prompt, write: </p>\n\n<p>cd C:\\python34\\scripts</p></li>\n</ol>\n\n<p>Now you simply write: </p>\n\n<pre><code>pip install colorama\n</code></pre>\n\n<p>Once it finishes you can start creating executables with colorama on it</p>\n\n<p><strong>NOTE:</strong> From now on any egg module you install with pip or easy_install or python install commands, will be uncompressed, so with cx_freeze they will work.</p>\n"}], "owner": {"reputation": 349, "user_id": 5095816, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-IISlSPWvQbw/AAAAAAAAAAI/AAAAAAAAAHU/S7bgtvyn64o/photo.jpg?sz=128", "display_name": "Pop Car", "link": "https://stackoverflow.com/users/5095816/pop-car"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465079249, "creation_date": 1436389193, "question_id": 31303629, "link": "https://stackoverflow.com/questions/31303629/how-do-i-allow-cxfreeze-to-import-colorama", "title": "How do I allow cxfreeze to import colorama?", "body": "<p>I'm incredibly new, and I was wondering if I could package colorama with cx_freeze, I've seen some people with a similar question yet I completely do not understand how to specifically choose colorama. Please, explain like I'm 10 years old. This is the coding in my setup.py file for cx_freeze:   </p>\n\n<pre><code>from cx_Freeze import setup, Executable``\nsetup(name = \"popcarventure\" ,\n      version = \"0.1\" ,\n      description = \"\" ,\n      executables = [Executable(\"TheAdventure.py\")])\n</code></pre>\n\n<p>Can you please post how to specifically import colorama?                  Much appreciated!\nNote: I am using python 3.4 on windows, not python 2.</p>\n"}, {"tags": ["python", "algorithm", "python-3.x", "permutation", "itertools"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1436389274, "post_id": 31303610, "comment_id": 50597169, "body": "You are exploding all possible permutations into a list. Are you <i>sure</i> you need to have random access to all possible permutations?"}, {"owner": {"reputation": 6174, "user_id": 1577341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nmeAD.jpg?s=128&g=1", "display_name": "Jacques de Hooge", "link": "https://stackoverflow.com/users/1577341/jacques-de-hooge"}, "edited": false, "score": 0, "creation_date": 1436389313, "post_id": 31303610, "comment_id": 50597187, "body": "I think the number of permutations is somewhat larger than you think. Suppose you have 1 a4 of text. Then amidst all permutations are all possible poems in english, german and french that were ever written..."}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 4815266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/998d86a7ac39ea4a08a74aa7282b084e?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Wong", "link": "https://stackoverflow.com/users/4815266/andy-wong"}, "edited": false, "score": 0, "creation_date": 1436389609, "post_id": 31303663, "comment_id": 50597316, "body": "I tried this before considering the list might be the issue, here is my error:  <code>Traceback (most recent call last):   File &quot;question.py&quot;, line 27, in &lt;module&gt;     complete_string = &#39;&#39;.join(the_permutation) TypeError: sequence item 0: expected str instance, tuple found</code>  I&#39;ll try to see where i can go with this though."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 229, "user_id": 4815266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/998d86a7ac39ea4a08a74aa7282b084e?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Wong", "link": "https://stackoverflow.com/users/4815266/andy-wong"}, "edited": false, "score": 0, "creation_date": 1436389978, "post_id": 31303663, "comment_id": 50597516, "body": "That is because you are trying to join tuples, iterating over then joining each tuple is not the same as calling join on the permutations object"}, {"owner": {"reputation": 229, "user_id": 4815266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/998d86a7ac39ea4a08a74aa7282b084e?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Wong", "link": "https://stackoverflow.com/users/4815266/andy-wong"}, "edited": false, "score": 0, "creation_date": 1436406145, "post_id": 31303663, "comment_id": 50602742, "body": "What does it mean if I&#39;m getting this? <code>Stop argument for islice() must be None or an integer: 0 &lt;= x &lt;= sys.maxsize.</code> I&#39;m assuming the int is too big for <code>islice()</code> to support it in that case?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 229, "user_id": 4815266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/998d86a7ac39ea4a08a74aa7282b084e?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Wong", "link": "https://stackoverflow.com/users/4815266/andy-wong"}, "edited": false, "score": 0, "creation_date": 1436454408, "post_id": 31303663, "comment_id": 50629697, "body": "@AndyWong, most probably yes, what is factorial?"}, {"owner": {"reputation": 229, "user_id": 4815266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/998d86a7ac39ea4a08a74aa7282b084e?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Wong", "link": "https://stackoverflow.com/users/4815266/andy-wong"}, "edited": false, "score": 0, "creation_date": 1436454814, "post_id": 31303663, "comment_id": 50629981, "body": "pretty large, my practice question changes the textfile each run through but its always a huge number. I was considering nested if statements where I separated the permutations of numbers, upper_case, and lower_case characters separately to reduce the number. Other than that I&#39;m assuming I need to code the factorial manually and call each instance individually to save memory"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 229, "user_id": 4815266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/998d86a7ac39ea4a08a74aa7282b084e?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Wong", "link": "https://stackoverflow.com/users/4815266/andy-wong"}, "edited": false, "score": 1, "creation_date": 1436456013, "post_id": 31303663, "comment_id": 50630858, "body": "Yes, you definitely need to break up the permutations somehow but again depending on how larger the size of your input is going to be then there is no guarantee it is going to work."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 4, "last_activity_date": 1436389659, "last_edit_date": 1436389659, "creation_date": 1436389335, "answer_id": 31303663, "question_id": 31303610, "link": "https://stackoverflow.com/questions/31303610/memoryerror-while-trying-to-using-itertools-permutations-how-use-less-memory/31303663#31303663", "title": "MemoryError while trying to using itertools.permutations, how use less memory?", "body": "<p>Don't call list, just iterate over the permutations:</p>\n\n<pre><code>the_permutation = itertools.permutations(organize(number))\n\nfor x in the_permutation:\n    complete_string = ''.join(the_permutation)\n</code></pre>\n\n<p><code>list(itertools.permutations(organize(number)))</code> stores all the permutations in memory then you store all the permutations in a string in your loop, there is no guarantee that you will be able to store all the data even using this approach depending on how much data is in <code>the_permutation</code></p>\n\n<p>If you only want a certain amount of the permutations you can call next om the permutations object:</p>\n\n<pre><code>the_permutation = itertools.permutations(organize(number))\nfor x in range(factorial):\n    complete_string = ''.join(next(the_permutation))\n</code></pre>\n\n<p>Or use itertools.islice:</p>\n\n<pre><code>for x in itertools.islice(the_permutation,factorial):\n    complete_string = ''.join(next(the_permutation))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 332, "user_id": 5073534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8c6f90cf5925d6677bb832415c5f74?s=128&d=identicon&r=PG&f=1", "display_name": "Hrvoje", "link": "https://stackoverflow.com/users/5073534/hrvoje"}, "is_accepted": false, "score": 1, "last_activity_date": 1436389627, "creation_date": 1436389627, "answer_id": 31303748, "question_id": 31303610, "link": "https://stackoverflow.com/questions/31303610/memoryerror-while-trying-to-using-itertools-permutations-how-use-less-memory/31303748#31303748", "title": "MemoryError while trying to using itertools.permutations, how use less memory?", "body": "<p>Keep in mind factorials grow enormously fast</p>\n\n<p><img src=\"https://i.stack.imgur.com/hhhlv.png\" alt=\"enter image description here\"></p>\n\n<p>... so even for a string of moderate length the number of permutations is enormous. For 12 letters its ~ 480 million.</p>\n"}], "owner": {"reputation": 229, "user_id": 4815266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/998d86a7ac39ea4a08a74aa7282b084e?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Wong", "link": "https://stackoverflow.com/users/4815266/andy-wong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1648, "favorite_count": 0, "accepted_answer_id": 31303663, "answer_count": 2, "score": 1, "last_activity_date": 1436406200, "creation_date": 1436389141, "last_edit_date": 1436406200, "question_id": 31303610, "link": "https://stackoverflow.com/questions/31303610/memoryerror-while-trying-to-using-itertools-permutations-how-use-less-memory", "title": "MemoryError while trying to using itertools.permutations, how use less memory?", "body": "<p>I'm loading from a text document containing so random strings and I'm trying to print every possible permutation of the characters in that string.</p>\n\n<p>If the notepad contains for example:</p>\n\n<pre><code>123\nabc\n</code></pre>\n\n<p>I want my output to be</p>\n\n<pre><code>123,132,213,231,312,321\nabc,acb,bac,bca,cab,cba\n</code></pre>\n\n<p>The text file contains some pretty large strings so I can see why I am getting this MemoryError.</p>\n\n<p>My first attempt I used this:</p>\n\n<pre><code>import sys\nimport itertools\nimport math\n\ndef organize(to_print):\n    number_list = []\n    upper_list = []\n    lower_list = []\n    for x in range(0,len(to_print)):\n        if str(to_print[x]).isdigit() is True:\n            number_list.append(to_print[x])\n        elif to_print[x].isupper() is True:\n            upper_list.append(to_print[x])\n        else:\n            lower_list.append(to_print[x])\n    master_list = number_list + upper_list + lower_list\n    return master_list\n\nnumber = open(*file_dir*, 'r').readlines()\n\nfactorial = math.factorial(len(number))\ncomplete_series = ''\n\nfor x in range(0,factorial):\n    complete_string = ''.join((list(itertools.permutations(organize(number)))[x]))\n\n    complete_series += complete_string+','\nedit_series = complete_series[:-1]\nprint(edit_series)\n</code></pre>\n\n<p>The reason for <code>def organize</code> is if I have a string <code>1aB</code> I would need to preorder it by number,uppercase,lowercase before I start the permutations.</p>\n\n<p>I got the memory error here: <code>complete_string = ''.join((list(itertools.permutations(organize(number)))[x]))</code> so my initial attempt was to bring it out of the for-loop.</p>\n\n<hr>\n\n<p>My second attempt is this:</p>\n\n<pre><code>import sys\nimport itertools\nimport math\n\ndef organize(to_print):\n    number_list = []\n    upper_list = []\n    lower_list = []\n    for x in range(0,len(to_print)):\n        if str(to_print[x]).isdigit() is True:\n            number_list.append(to_print[x])\n        elif to_print[x].isupper() is True:\n            upper_list.append(to_print[x])\n        else:\n            lower_list.append(to_print[x])\n    master_list = number_list + upper_list + lower_list\n    return master_list\n\nnumber = open(*file_dir*, 'r').readlines()\n\nfactorial = math.factorial(len(number))\ncomplete_series = ''\nthe_permutation = list(itertools.permutations(organize(number)))\n\nfor x in range(0,factorial):\n    complete_string = ''.join((the_permutation[x]))\n\n    complete_series += complete_string+','\nedit_series = complete_series[:-1]\nprint(edit_series)\n</code></pre>\n\n<p>But I am still getting a memory error. I don't necessarily need or want the answer directly as this is good learning practice to reduce my inefficiencies, so hints in the right direction would be nice. </p>\n\n<hr>\n\n<p>Added 3rd attempt:</p>\n\n<pre><code>import sys\nimport itertools\nimport math\n\ndef organize(to_print):\n    number_list = []\n    upper_list = []\n    lower_list = []\n    for x in range(0,len(to_print)):\n        if str(to_print[x]).isdigit() is True:\n            number_list.append(to_print[x])\n        elif to_print[x].isupper() is True:\n            upper_list.append(to_print[x])\n        else:\n            lower_list.append(to_print[x])\n    master_list = number_list + upper_list + lower_list\n    return master_list\n\nnumber = open(*file_dir*, 'r').readlines()\n\nfactorial = math.factorial(len(number))\ncomplete_series = ''\nthe_permutation = itertools.permutations(organize(number))\nfor x in itertools.islice(the_permutation,factorial):\n    complete_string = ''.join(next(the_permutation))\n    complete_series += complete_string+','\nedit_series = complete_series[:-1]\nprint(edit_series)\n</code></pre>\n"}, {"tags": ["python", "animation", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 2417, "user_id": 4357938, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e0IKy.jpg?s=128&g=1", "display_name": "Ophir Carmi", "link": "https://stackoverflow.com/users/4357938/ophir-carmi"}, "is_accepted": false, "score": 7, "last_activity_date": 1467308710, "last_edit_date": 1467308710, "creation_date": 1467299046, "answer_id": 38126963, "question_id": 31303601, "link": "https://stackoverflow.com/questions/31303601/animate-a-python-pyplot-by-moving-a-point-plotted-via-scatter/38126963#38126963", "title": "Animate a python pyplot by moving a point plotted via scatter", "body": "<p>The reason for the movement only along z-axis is because <code>set_3d_properties</code> is only for the third axis. Therefore, the first two <code>set_3d_properties</code> calls were uninfluential. See the working modified code: </p>\n\n<pre><code>from matplotlib import pyplot as plt\nimport numpy as np\nimport mpl_toolkits.mplot3d.axes3d as p3\nfrom matplotlib import animation\n\nfig = plt.figure()\nax = p3.Axes3D(fig)\n\n# create the parametric curve\nt=np.arange(0, 2*np.pi, 2*np.pi/100)\nx=np.cos(t)\ny=np.sin(t)\nz=t/(2.*np.pi)\n\n# create the first plot\npoint, = ax.plot([x[0]], [y[0]], [z[0]], 'o')\nline, = ax.plot(x, y, z, label='parametric curve')\nax.legend()\nax.set_xlim([-1.5, 1.5])\nax.set_ylim([-1.5, 1.5])\nax.set_zlim([-1.5, 1.5])\n\n# second option - move the point position at every frame\ndef update_point(n, x, y, z, point):\n    point.set_data(np.array([x[n], y[n]]))\n    point.set_3d_properties(z[n], 'z')\n    return point\n\nani=animation.FuncAnimation(fig, update_point, 99, fargs=(x, y, z, point))\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 5015029, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RLgpRR_YN90/AAAAAAAAAAI/AAAAAAAAADM/xjhoeyHcvww/photo.jpg?sz=128", "display_name": "Davide", "link": "https://stackoverflow.com/users/5015029/davide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7730, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1467308710, "creation_date": 1436389112, "question_id": 31303601, "link": "https://stackoverflow.com/questions/31303601/animate-a-python-pyplot-by-moving-a-point-plotted-via-scatter", "title": "Animate a python pyplot by moving a point plotted via scatter", "body": "<p>I am having trouble in producing an animation in Python. My issue is to animate a 3D point moving along a certain trajectory. I am able to do this by using the animation module and remake at every frame the plot (see first option in my script). I would like instead to move only the point position at each frame without remaking the all axes (see second option in my script). Here is my script:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as an\nfrom mpl_toolkits.mplot3d import Axes3D\n\n# create the parametric curve\nt=np.arange(0, 2*np.pi, 2*np.pi/100)\nx=np.cos(t)\ny=np.sin(t)\nz=t/(2.*np.pi)\n\n# create the figure\nfig=plt.figure()\nax=fig.gca(projection='3d')\n\n# create the first plot\npoint=ax.scatter(x[0], y[0], z[0])\nline=ax.plot(x, y, z, label='parametric curve')\nax.legend()\nax.set_xlim([-1.5, 1.5])\nax.set_ylim([-1.5, 1.5])\nax.set_zlim([-1.5, 1.5])\n\n# first option - remake the plot at every frame\ndef update_axes(n, x, y, z, ax):\n    ax.cla()\n    ax.set_xlim([-1.5, 1.5])\n    ax.set_ylim([-1.5, 1.5])\n    ax.set_zlim([-1.5, 1.5])\n    point=ax.scatter(x[n], y[n], z[n])\n    line=ax.plot(x, y, z, label='parametric curve')\n    ax.legend()\n    return point\n\nani=an.FuncAnimation(fig, update_axes, 99, fargs=(x, y, z, ax))\n\n# second option - move the point position at every frame\ndef update_point(n, x, y, z, point):\n    point.set_3d_properties(x[n], 'x')\n    point.set_3d_properties(y[n], 'y')\n    point.set_3d_properties(z[n], 'z')\n    return point\n\n#ani=an.FuncAnimation(fig, update_point, 99, fargs=(x, y, z, point))\n\n# make the movie file demo.mp4\n\nwriter=an.writers['ffmpeg'](fps=20)\ndpi = 100\nani.save('demo.mp4',writer=writer,dpi=dpi)\n</code></pre>\n\n<p>If I choose the second option (comment the first FuncAnimation and uncomment the second one), I obtain my point moving only in the z direction. Any suggestion on what should I do to move it also in the x and y directions?</p>\n"}, {"tags": ["python", "google-oauth", "gspread"], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 3693009, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e8b21d6bd864139ba5d119f3c6d0b479?s=128&d=identicon&r=PG&f=1", "display_name": "darksideofthesun", "link": "https://stackoverflow.com/users/3693009/darksideofthesun"}, "is_accepted": false, "score": 1, "last_activity_date": 1436939986, "creation_date": 1436939986, "answer_id": 31422526, "question_id": 31303581, "link": "https://stackoverflow.com/questions/31303581/get-all-values-from-google-spreadsheet/31422526#31422526", "title": "Get_all_values from Google Spreadsheet", "body": "<p>You're just opening the workbook and not specifying the worksheet you want to get_all_values from. You need to call the <code>get_worksheet()</code> method. Try:</p>\n\n<pre><code>wks = gc.open_by_url('https://docs.google.com/a/test.com/spreadsheets/d/1-cAg..sLt5Ho/edit?usp=sharing').get_worksheet(0)\n\nrecipients = wks.get_all_values()\n</code></pre>\n\n<p>Where the '0' is the index of the worksheet (0 being the first worksheet in the workbook).</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5087732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54828e4356bccd34d7e37db6b76c50a2?s=128&d=identicon&r=PG&f=1", "display_name": "frsh2fourty", "link": "https://stackoverflow.com/users/5087732/frsh2fourty"}, "is_accepted": false, "score": 0, "last_activity_date": 1437176326, "creation_date": 1437176326, "answer_id": 31486241, "question_id": 31303581, "link": "https://stackoverflow.com/questions/31303581/get-all-values-from-google-spreadsheet/31486241#31486241", "title": "Get_all_values from Google Spreadsheet", "body": "<p>Once you open the spreadsheet(<code>open_by_url</code>), you need to specify the worksheet you are trying to work with, even if you only have one. You can do this a few different ways:</p>\n\n<p>By index (starts from 0)</p>\n\n<p><code>sh = wks.get_worksheet(0)</code></p>\n\n<p>By title</p>\n\n<p><code>sh = wks.worksheet(\"January\")</code></p>\n\n<p>Most common case: Sheet1</p>\n\n<p><code>sh = wks.sheet1</code></p>\n\n<p>So the fix would be</p>\n\n<pre><code>wks = gc.open_by_url('https://docs.google.com/a/test.com/spreadsheets/d/1-cAg..sLt5Ho/edit?usp=sharing')\nsh = wks.get_worksheet(0)\nrecipients = sh.get_all_values()\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 3624128, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7917fa005abd5e2226f7defd82f07f5c?s=128&d=identicon&r=PG&f=1", "display_name": "jaysig", "link": "https://stackoverflow.com/users/3624128/jaysig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1437176326, "creation_date": 1436389035, "question_id": 31303581, "link": "https://stackoverflow.com/questions/31303581/get-all-values-from-google-spreadsheet", "title": "Get_all_values from Google Spreadsheet", "body": "<p>I am having an issue with Gspread's get_all_values()</p>\n\n<pre><code>import json\nimport gspread\nfrom oauth2client.client import SignedJwtAssertionCredentials\nfrom gmail_variables import *\n\njson_key = json.load(open('key7367.json'))\nscope = ['https://spreadsheets.google.com/feeds']\n\ncredentials = SignedJwtAssertionCredentials(json_key['client_email'], json_key['private_key'], scope)\n\ngc = gspread.authorize(credentials)\n\n\nwks = gc.open_by_url('https://docs.google.com/a/test.com/spreadsheets/d/1-cAg..sLt5Ho/edit?usp=sharing')\n\nrecipients = wks.get_all_values()\n</code></pre>\n\n<p>I am trying to write an email program to pull from a Google Spreadsheet. When I try to run it; I get the error. </p>\n\n<pre><code>'Spreadsheet' object has no attribute 'get_all_values'\n</code></pre>\n\n<p>Any help is appreciated. </p>\n"}, {"tags": ["python", "python-2.7", "canvas", "matplotlib", "figure"], "owner": {"reputation": 11, "user_id": 5044777, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153317201675272/picture?type=large", "display_name": "RaduB", "link": "https://stackoverflow.com/users/5044777/radub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436388889, "creation_date": 1436388889, "question_id": 31303539, "link": "https://stackoverflow.com/questions/31303539/accelerating-matplotlib-figure-update", "title": "Accelerating matplotlib figure update", "body": "<p>I am using Python 2.7.9 with matplotlib to display live data taken from a microcontroller in a FigureCanvasTKAgg. The figure itself must always display the last 100 points and resize the Y axis to display and 'snug fit' all points. X axis is updated as well to show the correct time stamp of each point.</p>\n\n<p>This figure update involves redrawing all artists (as all of them change) at every figure update which is called using an <code>after</code> method every 100ms. I am using <code>line.set_data(x,y)</code> to update the actual data points and the required methods for updating the Y and X axes limits, followed by <code>canvas.draw()</code>. This works OK, at almost 5fps(the drawing itself takes ~100ms).</p>\n\n<p>My question is: is there a faster way of doing this? From what I understand the <code>draw</code> method redraws the whole canvas including the subplots. Is there a way to update only the lines displayed and the splines and hence increase the fps?</p>\n\n<p>I tried implementing a solution using <code>ax.draw_artist(lines)</code> and the rest, however this adds new artists and do not delete the previous ones. </p>\n"}, {"tags": ["python", "linux", "numpy", "installation", "pip"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436389160, "post_id": 31303462, "comment_id": 50597115, "body": "what does <code>which -a python</code> output?"}, {"owner": {"reputation": 1134, "user_id": 1358829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2641da203f44c2d8ef10ebafdb0858d6?s=128&d=identicon&r=PG", "display_name": "Alberto A", "link": "https://stackoverflow.com/users/1358829/alberto-a"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436390132, "post_id": 31303462, "comment_id": 50597596, "body": "I forgot to add this. It outputs /usr/bin/python"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436392241, "post_id": 31303462, "comment_id": 50598597, "body": "Did you ever install another python?"}, {"owner": {"reputation": 1134, "user_id": 1358829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2641da203f44c2d8ef10ebafdb0858d6?s=128&d=identicon&r=PG", "display_name": "Alberto A", "link": "https://stackoverflow.com/users/1358829/alberto-a"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436463165, "post_id": 31303462, "comment_id": 50635325, "body": "Not that I recall of, but I might have mistakenly installed another version when trying to install some package. Is there any way to check for leftovers of other python versions? My /usr/local/bin do not have any python installed."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436466406, "post_id": 31303462, "comment_id": 50637155, "body": "It did at one time or another and you removed the binary I imagine. Simplest fix is to remove the current version of pip, download get-pip.py and <code>sudo python get-pip.py</code> <a href=\"https://bootstrap.pypa.io/get-pip.py\" rel=\"nofollow noreferrer\">bootstrap.pypa.io/get-pip.py</a>. I would also probably  remove the packages directories related to your old install"}], "answers": [{"comments": [{"owner": {"reputation": 1134, "user_id": 1358829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2641da203f44c2d8ef10ebafdb0858d6?s=128&d=identicon&r=PG", "display_name": "Alberto A", "link": "https://stackoverflow.com/users/1358829/alberto-a"}, "edited": false, "score": 0, "creation_date": 1436462970, "post_id": 31304560, "comment_id": 50635209, "body": "Yeah, I guess this is what is happening. A sudo pip -V returns:  pip 7.1.0 from /usr/local/lib/python2.7/dist-packages/pip-7.1.0-py2.7.egg (python 2.7)  I tried a symlink like you suggested, but it did not work. There is no path Library/Frameworks/Python.framework/Versions/2.7/bin/pip2.7."}, {"owner": {"reputation": 95, "user_id": 4843776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4b118856a81dfdbf7fc3bdfa71d0694?s=128&d=identicon&r=PG&f=1", "display_name": "ErlangNewbie", "link": "https://stackoverflow.com/users/4843776/erlangnewbie"}, "reply_to_user": {"reputation": 1134, "user_id": 1358829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2641da203f44c2d8ef10ebafdb0858d6?s=128&d=identicon&r=PG", "display_name": "Alberto A", "link": "https://stackoverflow.com/users/1358829/alberto-a"}, "edited": false, "score": 0, "creation_date": 1436521555, "post_id": 31304560, "comment_id": 50659396, "body": "what does {$ sudo python -V} returns ?"}], "tags": [], "owner": {"reputation": 95, "user_id": 4843776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4b118856a81dfdbf7fc3bdfa71d0694?s=128&d=identicon&r=PG&f=1", "display_name": "ErlangNewbie", "link": "https://stackoverflow.com/users/4843776/erlangnewbie"}, "is_accepted": false, "score": 1, "last_activity_date": 1436393005, "last_edit_date": 1436393005, "creation_date": 1436392598, "answer_id": 31304560, "question_id": 31303462, "link": "https://stackoverflow.com/questions/31303462/python-not-finding-installed-packages-through-pip-on-linux/31304560#31304560", "title": "Python not finding installed packages through pip on Linux", "body": "<p>if you had previously another python installation, I suspect pip is still associated with the old version.\ntype <code>$ pip -V</code> if it's not 2.7 create a symlink for /Library/Frameworks/Python.framework/Versions/2.7/bin/pip2.7 to usr/bin/pip\nI see that the packages are installed in the right place so maybe you can try <code>$ python -V</code> as well\nps:\nThis should go as a comment but I don't have enough \"reputations\" to add a comment.</p>\n"}], "owner": {"reputation": 1134, "user_id": 1358829, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2641da203f44c2d8ef10ebafdb0858d6?s=128&d=identicon&r=PG", "display_name": "Alberto A", "link": "https://stackoverflow.com/users/1358829/alberto-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436393005, "creation_date": 1436388641, "last_edit_date": 1495541703, "question_id": 31303462, "link": "https://stackoverflow.com/questions/31303462/python-not-finding-installed-packages-through-pip-on-linux", "title": "Python not finding installed packages through pip on Linux", "body": "<p>I've been trying to install some new python packages with pip, but for some reason, python is not finding them after installation. This started when I purged my whole install of python, and reinstalled it using apt-get. I installed:</p>\n\n<pre><code>python\npython2.7\npython2.7-dev\npython-setuptools\n</code></pre>\n\n<p>When I run:</p>\n\n<pre><code>sudo pip list\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>decorator (3.4.0)\nflann (1.8.4)\nipython (3.2.0)\nitsdangerous (0.24)\nMarkupSafe (0.23)\nnumpy (1.9.2)\npexpect (3.1)\npip (7.1.0)\nsetuptools (18.0.1)\nsimplegeneric (0.8.1)\nWerkzeug (0.10.4)\n</code></pre>\n\n<p>so numpy is listed as installed. In addition, a </p>\n\n<pre><code>locate numpy\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>/usr/bin/dh_numpy\n/usr/include/numpy\n/usr/include/python2.7/numpy\n/usr/lib/python2.7/dist-packages/numpy\n/usr/lib/python2.7/dist-packages/IPython/external/decorators/_numpy_testing_noseclasses.py\n/usr/lib/python2.7/dist-packages/IPython/external/decorators/_numpy_testing_noseclasses.pyc\n/usr/lib/python2.7/dist-packages/IPython/external/decorators/_numpy_testing_utils.py\n/usr/lib/python2.7/dist-packages/IPython/external/decorators/_numpy_testing_utils.pyc\n/usr/local/lib/python2.7/dist-packages/numpy\n/usr/local/lib/python2.7/dist-packages/numpy-1.9.2.egg-info\n/usr/share/numpy\n/usr/share/doc/python-numpy\n/usr/share/man/man1/dh_numpy.1.gz\n/var/lib/dpkg/info/python-numpy.list\n/var/lib/dpkg/info/python-numpy.md5sums\n/var/lib/dpkg/info/python-numpy.postinst\n/var/lib/dpkg/info/python-numpy.preinst\n/var/lib/dpkg/info/python-numpy.prerm\n</code></pre>\n\n<p>so it seems like the installation is alright. But if I try to import it from python, I get an import error. I've tried many things, like purging the entire python installation, purging pip, easy_install and reinstalling all that, massing with the PYTHONPATH and PYTHONHOME variables, and so forth. For reference, echoing the variables PYTHONPATH returns empty and PYTHONHOME returns:</p>\n\n<pre><code>/usr\n</code></pre>\n\n<p>In addition, the sys.path variable contains:</p>\n\n<pre><code>['',\n '/usr/local/bin',\n '/usr/lib/python2.7',\n '/usr/lib/python2.7/plat-x86_64-linux-gnu',\n '/usr/lib/python2.7/lib-tk',\n '/usr/lib/python2.7/lib-old',\n '/usr/lib/python2.7/lib-dynload',\n '/usr/local/lib/python2.7/dist-packages',\n '/usr/lib/python2.7/dist-packages',\n '/usr/lib/python2.7/dist-packages/IPython/extensions']\n</code></pre>\n\n<p>So it is looking in both the /usr/lib/python2.7 directories and in /usr/local/lib/python2.7. Given this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27628814/python-packages-not-available-after-install-with-pip\">Python packages not available after install with pip</a></p>\n\n<p>I suspect this has something to do with the installation of python that pip is serving. But I only have python in /usr/bin, and not in /usr/local/bin, so I have no idea why pip is installing in local. Plus, as the sys.path variable shows, python should be looking into /usar/local/python2.7 as well. Other packages such as flask, bitarray, and redis have this problem as well. Thank you for the help!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Another important information to add: <code>which -a python</code> outputs <code>/usr/bin/python</code>, so the python being used is in /usr/bin.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "types", "nan"], "answers": [{"comments": [{"owner": {"reputation": 1025, "user_id": 2279616, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bad8191761d65b9480aab8c5f188d2ac?s=128&d=identicon&r=PG", "display_name": "Jojo", "link": "https://stackoverflow.com/users/2279616/jojo"}, "edited": false, "score": 0, "creation_date": 1436390222, "post_id": 31303520, "comment_id": 50597658, "body": "Yeah, I just figured that some of the values were <code>int</code>&#39;s, but will go ahead with the <code>df[&#39;closing_price&#39;].fillna(100)</code> method."}], "tags": [], "owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "is_accepted": true, "score": 2, "last_activity_date": 1436390035, "last_edit_date": 1436390035, "creation_date": 1436388821, "answer_id": 31303520, "question_id": 31303433, "link": "https://stackoverflow.com/questions/31303433/typererror-when-converting-nans-into-number-in-dataframe/31303520#31303520", "title": "TyperError when converting NaN&#39;s into number in DataFrame", "body": "<p>Use Pandas' <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.fillna.html\" rel=\"nofollow\"><code>fillna()</code></a> method instead. In your case you can write:</p>\n\n<pre><code>df['closing_price'].fillna(100)\n</code></pre>\n\n<p>This replaces the <code>NaN</code> values in the 'closing_price' column with the value 100. Different data types are handled correctly by Pandas. (Remember to assign the new column back to the DataFrame or use <code>inplace=True</code>.)</p>\n\n<hr>\n\n<p>The error you see is a result of the 'closing_price' column having the <code>object</code> data type. <code>np.isnan</code> expects an array of float values. To get around this, you can cast the column to floating type with </p>\n\n<pre><code>df['closing_price'] = df['closing_price'].astype(float)\n</code></pre>\n\n<p>...and then use your method as normal (although I'd still favour <code>fillna()</code>).</p>\n"}], "owner": {"reputation": 1025, "user_id": 2279616, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bad8191761d65b9480aab8c5f188d2ac?s=128&d=identicon&r=PG", "display_name": "Jojo", "link": "https://stackoverflow.com/users/2279616/jojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 31303520, "answer_count": 1, "score": 1, "last_activity_date": 1505593134, "creation_date": 1436388549, "last_edit_date": 1505593134, "question_id": 31303433, "link": "https://stackoverflow.com/questions/31303433/typererror-when-converting-nans-into-number-in-dataframe", "title": "TyperError when converting NaN&#39;s into number in DataFrame", "body": "<p>I have a DataFrame <code>df</code> that looks as follows and I'm trying to convert all cases where there is a <code>NaN</code> in the <code>closing_price</code> column into 100. </p>\n\n<pre><code>   maturity_dt              pay_freq_cd   coupon closing_price FACE_VALUE  \n0   2017-06-30 00:00:00.0           2    0.625      99.96875        100   \n1   2015-07-15 00:00:00.0           2      1.6         99.47        100   \n2   2018-06-15 00:00:00.0           2    1.125      100.3906        100   \n3   2015-07-13 00:00:00.0           2      2.1           NaN        100 \n</code></pre>\n\n<p>I try to do that with the code below, but I get the error <code>TypeError: ufunc 'isnan' not supported for the input types, and the inputs could not be safely coerced to any supported types according to the casting rule ''safe''\n</code> in the line <code>price_array = np.where(np.isnan(price_array), 100, price_array)</code>.</p>\n\n<pre><code>price_array = df['closing_price'].values\nprice_array = np.where(np.isnan(price_array), 100, price_array)\n</code></pre>\n"}, {"tags": ["python", "pandas", "group-by", "conditional-statements", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 25, "last_activity_date": 1436389154, "creation_date": 1436389154, "answer_id": 31303616, "question_id": 31303417, "link": "https://stackoverflow.com/questions/31303417/python-pandas-dataframe-group-by-based-on-a-condition/31303616#31303616", "title": "Python pandas dataframe group by based on a condition", "body": "<p>The grouped result is a regular DataFrame, so just filter the results as usual:</p>\n\n<pre><code> import pandas as pd\n\n df = pd.DataFrame({'a': ['a', 'b', 'a', 'a', 'b', 'c', 'd']})\n after = df.groupby('a').size()\n &gt;&gt; after\n a\n a    3\n b    2\n c    1\n d    1\n dtype: int64\n\n &gt;&gt; after[after &gt; 2]\n a\n a    3\n dtype: int64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 25, "last_activity_date": 1519224589, "last_edit_date": 1519224589, "creation_date": 1436389159, "answer_id": 31303618, "question_id": 31303417, "link": "https://stackoverflow.com/questions/31303417/python-pandas-dataframe-group-by-based-on-a-condition/31303618#31303618", "title": "Python pandas dataframe group by based on a condition", "body": "<p>Try this code:</p>\n\n<pre><code>df.groupby('column').filter(lambda group: group.size &gt; X)\n</code></pre>\n"}], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67846, "favorite_count": 6, "accepted_answer_id": 31303616, "answer_count": 2, "score": 19, "last_activity_date": 1559950390, "creation_date": 1436388499, "last_edit_date": 1559950390, "question_id": 31303417, "link": "https://stackoverflow.com/questions/31303417/python-pandas-dataframe-group-by-based-on-a-condition", "title": "Python pandas dataframe group by based on a condition", "body": "<p>My question is simple, I have a dataframe and I <code>groupby</code> the results based on a column and get the size like this:</p>\n\n<pre><code>df.groupby('column').size()\n</code></pre>\n\n<p>Now the problem is that I only want the ones where size is greater than <em>X</em>. I am wondering if I can do it using a lambda function or anything similar? I have already tried this:</p>\n\n<pre><code>df.groupby('column').size() &gt; X\n</code></pre>\n\n<p>and it prints out some True and False values.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1436389072, "post_id": 31303561, "comment_id": 50597070, "body": "No the keyword column is always there, I just want to say if keyword = 0 for a specific then perform operation a and if it&#39;s equal to 0, perform operation b."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1436389416, "post_id": 31303561, "comment_id": 50597236, "body": "You&#39;re going to have to describe more precisely what you want. What does it mean to compare an entire column to 0? There are many possible interpretations. Please clarify your question."}, {"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1436389719, "post_id": 31303561, "comment_id": 50597363, "body": "I edited my question to give more clarity.  For example, at row 0, keyword = 0, so for that I&#39;d want [&#39;left out&#39;] to be equal to the if, if keyword == 1, I&#39;d want [&#39;left out&#39;] to be equal to the else."}], "tags": [], "owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "is_accepted": false, "score": 1, "last_activity_date": 1436388980, "creation_date": 1436388980, "answer_id": 31303561, "question_id": 31303399, "link": "https://stackoverflow.com/questions/31303399/difficulty-creating-column-of-pandas-dataframe/31303561#31303561", "title": "Difficulty Creating column of Pandas Dataframe", "body": "<p>Instead of <code>CV['keyword'] == 0</code>, you should use <code>'keyword' in CV.columns</code> to see if there is a column named \"keyword\" in CV.</p>\n"}, {"tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": false, "score": 1, "last_activity_date": 1436389608, "creation_date": 1436389608, "answer_id": 31303742, "question_id": 31303399, "link": "https://stackoverflow.com/questions/31303399/difficulty-creating-column-of-pandas-dataframe/31303742#31303742", "title": "Difficulty Creating column of Pandas Dataframe", "body": "<p>When you write </p>\n\n<pre><code>if CV['keyword'] == 0:\n</code></pre>\n\n<p>then <code>CV['keyword']</code> is a column, and comparing it to 0 returns a boolean series. You cannot perform an <code>if</code> on such a series (which value would determine if it's <code>True</code> or <code>False</code>?), and hence the error.</p>\n\n<p>Fortunately, <code>CV.columns</code> works pretty much like a Python list, so you can check membership using it.</p>\n"}, {"comments": [{"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1436389791, "post_id": 31303781, "comment_id": 50597401, "body": "using the same if else control flow?"}, {"owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "reply_to_user": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 1, "creation_date": 1436389978, "post_id": 31303781, "comment_id": 50597515, "body": "You have two formulas and you want to use the first formula for rows where <code>CV[&#39;keyword&#39;] == 0</code> and the other formula for rows where that&#39;s not the case, is that correct? <code>np.where</code> does the if else element wise in  a vectorized way. You would have to loop through your rows using if you want to use if else which would be inefficient."}], "tags": [], "owner": {"reputation": 6936, "user_id": 3868428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7e7739b5c5f4626a9edde23f1b0c554?s=128&d=identicon&r=PG&f=1", "display_name": "JoeCondron", "link": "https://stackoverflow.com/users/3868428/joecondron"}, "is_accepted": false, "score": 0, "last_activity_date": 1436390261, "last_edit_date": 1436390261, "creation_date": 1436389713, "answer_id": 31303781, "question_id": 31303399, "link": "https://stackoverflow.com/questions/31303399/difficulty-creating-column-of-pandas-dataframe/31303781#31303781", "title": "Difficulty Creating column of Pandas Dataframe", "body": "<p>What you want is</p>\n\n<pre><code>CV['left out'] = np.where(CV['keyword'] == 0,\n  (CV['Prediction Numerator'] - (CV['Rate'] *10000))/(CV['Prediction Denominator'] - 10000), \n   (CV['left out'] = (CV['Prediction Numerator'] - (CV['Rate'] * 10000 * 10))/(CV['Prediction Denominator'] - (10000 * ))\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1436390006, "post_id": 31303832, "comment_id": 50597529, "body": "This was exactly what I want, thanks! Just so I understand what it&#39;s doing, it&#39;s essentially looking at locations where keyword = 0, and then setting left out equal to each given expression?"}, {"owner": {"reputation": 2508, "user_id": 1045479, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5dfb7eeb76f5473d05f396f436205e44?s=128&d=identicon&r=PG", "display_name": "alex314159", "link": "https://stackoverflow.com/users/1045479/alex314159"}, "reply_to_user": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1436390385, "post_id": 31303832, "comment_id": 50597733, "body": "Exactly - might not be fastest as you filter 2x but simplest to read/understand"}], "tags": [], "owner": {"reputation": 2508, "user_id": 1045479, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5dfb7eeb76f5473d05f396f436205e44?s=128&d=identicon&r=PG", "display_name": "alex314159", "link": "https://stackoverflow.com/users/1045479/alex314159"}, "is_accepted": true, "score": 4, "last_activity_date": 1436389897, "creation_date": 1436389897, "answer_id": 31303832, "question_id": 31303399, "link": "https://stackoverflow.com/questions/31303399/difficulty-creating-column-of-pandas-dataframe/31303832#31303832", "title": "Difficulty Creating column of Pandas Dataframe", "body": "<p>This should work:</p>\n\n<pre><code>CV.loc[CV['keyword']==0,'left out']=expression1\nCV.loc[CV['keyword']!=0,'left out']=expression2\n</code></pre>\n"}], "owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 31303832, "answer_count": 4, "score": 2, "last_activity_date": 1436392579, "creation_date": 1436388452, "last_edit_date": 1436389581, "question_id": 31303399, "link": "https://stackoverflow.com/questions/31303399/difficulty-creating-column-of-pandas-dataframe", "title": "Difficulty Creating column of Pandas Dataframe", "body": "<p>I wanted to create  a new column of a dataframe based on existing columns, however I want it to be conditional on another existing column in my dataframe.  The following code is not working.  Does anyone know why?</p>\n\n<pre><code>if CV['keyword'] == 0:\n    CV['left out'] = (CV['Prediction Numerator'] - (CV['Rate'] *10000))/(CV['Prediction Denominator'] - 10000)\nelse:\n    CV['left out'] = (CV['Prediction Numerator'] - (CV['Rate'] *10000 * 10))/(CV['Prediction Denominator'] - (10000 * 10))\n</code></pre>\n\n<p>I'm getting the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Users\\bwei\\Downloads\\WinPython-64bit-2.7.9.4\\python-2.7.9.amd64\\lib\\site-packages\\pandas\\core\\generic.py\", line 709, in __nonzero__\n    .format(self.__class__.__name__))\nValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().\n</code></pre>\n\n<p>Here's a snippet of the first 4 columns of my dataframe.</p>\n\n<pre><code>        Zip  keyword  Prediction Numerator  Prediction Denominator  \n0     01001        0        7650546.693200            40002.558782   \n1     01001        0        7650546.693200            40002.558782   \n2     01001        0        7650546.693200            40002.558782   \n3     01001        0        7650546.693200            40002.558782   \n4     01002        0            157.951741                0.718621   \n5     01002        0            157.951741                0.718621   \n6     01005        0        3600150.148240            20000.671431   \n7     01005        0        3600150.148240            20000.671431   \n8     01007        0        6932235.816260            30000.936191   \n9     01007        0        6932235.816260            30000.936191   \n10    01007        0        6932235.816260            30000.936191   \n</code></pre>\n\n<p>Thanks,\nBen</p>\n"}, {"tags": ["python", "django", "postgresql", "django-orm", "psycopg2"], "comments": [{"owner": {"reputation": 11805, "user_id": 1637351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CptWd.jpg?s=128&g=1", "display_name": "schillingt", "link": "https://stackoverflow.com/users/1637351/schillingt"}, "edited": false, "score": 1, "creation_date": 1436388154, "post_id": 31303246, "comment_id": 50596587, "body": "Can you post your model and the migration?"}, {"owner": {"reputation": 19, "user_id": 4834688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad904e226e35872eb61d26828f48bcd?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Joseph", "link": "https://stackoverflow.com/users/4834688/tony-joseph"}, "reply_to_user": {"reputation": 11805, "user_id": 1637351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CptWd.jpg?s=128&g=1", "display_name": "schillingt", "link": "https://stackoverflow.com/users/1637351/schillingt"}, "edited": false, "score": 0, "creation_date": 1436388922, "post_id": 31303246, "comment_id": 50596988, "body": "@schillingt Added model and the migration"}, {"owner": {"reputation": 19, "user_id": 4834688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad904e226e35872eb61d26828f48bcd?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Joseph", "link": "https://stackoverflow.com/users/4834688/tony-joseph"}, "reply_to_user": {"reputation": 11805, "user_id": 1637351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CptWd.jpg?s=128&g=1", "display_name": "schillingt", "link": "https://stackoverflow.com/users/1637351/schillingt"}, "edited": false, "score": 0, "creation_date": 1436389510, "post_id": 31303246, "comment_id": 50597284, "body": "Everything worked fine after removing db_index=True in ArrayField"}], "owner": {"reputation": 19, "user_id": 4834688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad904e226e35872eb61d26828f48bcd?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Joseph", "link": "https://stackoverflow.com/users/4834688/tony-joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1064, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436388659, "creation_date": 1436387944, "last_edit_date": 1436388659, "question_id": 31303246, "link": "https://stackoverflow.com/questions/31303246/django-orm-array-field-error", "title": "Django ORM Array Field Error", "body": "<p>I got this error when trying to run migrate command </p>\n\n<p>File \"/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\npsycopg2.ProgrammingError: operator class \"varchar_pattern_ops\" does not accept data type character varying[]</p>\n\n<p>I have an ArrayField in the model. When I removed the ArrayField, everything worked fine</p>\n\n<p>I'm using django 1.8, python 3.4 and postgresql 9.4</p>\n\n<p><strong>models</strong></p>\n\n<pre><code>from django.db import models\nfrom django.contrib.postgres.fields import ArrayField\nfrom django.contrib.auth.models import User\n\n\nclass Post(models.Model):\n\n    author = models.ForeignKey(User)\n    title = models.CharField(max_length=512)\n    slug = models.SlugField(unique=True, db_index=True)\n    summary = models.TextField(blank=True, null=True)\n    content = models.TextField()\n    tags = ArrayField(models.CharField(max_length=256), blank=True, db_index=True)\n    is_published = models.BooleanField(default=True)\n    has_comments = models.BooleanField(default=True)\n    created_on = models.DateTimeField(auto_now_add=True)\n    updated_on = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.title\n\n\nclass Comment(models.Model):\n\n    post = models.ForeignKey(Post, db_index=True)\n    name = models.CharField(max_length=256)\n    email = models.EmailField()\n    content = models.TextField()\n    is_published = models.BooleanField(default=False)\n    created_on = models.DateTimeField(auto_now_add=True)\n    updated_on = models.DateTimeField(auto_now=True)\n\n    def __str__(self):\n        return self.name\n</code></pre>\n\n<p><strong>migrations</strong></p>\n\n<pre><code>from __future__ import unicode_literals\n\nfrom django.db import models, migrations\nimport django.contrib.postgres.fields\nfrom django.conf import settings\n\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        migrations.swappable_dependency(settings.AUTH_USER_MODEL),\n    ]\n\n    operations = [\n        migrations.CreateModel(\n            name='Comment',\n            fields=[\n                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),\n                ('name', models.CharField(max_length=256)),\n                ('email', models.EmailField(max_length=254)),\n                ('content', models.TextField()),\n                ('is_published', models.BooleanField(default=False)),\n                ('created_on', models.DateTimeField(auto_now_add=True)),\n                ('updated_on', models.DateTimeField(auto_now=True)),\n            ],\n        ),\n        migrations.CreateModel(\n            name='Post',\n            fields=[\n                ('id', models.AutoField(verbose_name='ID', serialize=False, auto_created=True, primary_key=True)),\n                ('title', models.CharField(max_length=512)),\n                ('slug', models.SlugField(unique=True)),\n                ('summary', models.TextField(null=True, blank=True)),\n                ('content', models.TextField()),\n                ('tags', django.contrib.postgres.fields.ArrayField(blank=True, size=None, base_field=models.CharField(max_length=256), db_index=True)),\n                ('is_published', models.BooleanField(default=True)),\n                ('has_comments', models.BooleanField(default=True)),\n                ('created_on', models.DateTimeField(auto_now_add=True)),\n                ('updated_on', models.DateTimeField(auto_now=True)),\n                ('author', models.ForeignKey(to=settings.AUTH_USER_MODEL)),\n            ],\n        ),\n        migrations.AddField(\n            model_name='comment',\n            name='post',\n            field=models.ForeignKey(to='posts.Post'),\n        ),\n    ]\n</code></pre>\n"}, {"tags": ["python", "scrapy", "scrapyd"], "comments": [{"owner": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1436443666, "post_id": 31303197, "comment_id": 50621236, "body": "Well, I tried your script locally and it works -- I get no exception when running it with Scrapy 1.0.1"}, {"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "reply_to_user": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1436465028, "post_id": 31303197, "comment_id": 50636419, "body": "@GHajba What command did you run in the terminal and were you in the root directory of the project when you ran it?"}, {"owner": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1436465685, "post_id": 31303197, "comment_id": 50636762, "body": "I copied your code into a simple Python script (so no Scrapy project) and I&#39;ve had to remove the item <code>import</code>s. After that I executed <code>python twospiders.py</code>. I suggest you to try it out."}, {"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "reply_to_user": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1436466649, "post_id": 31303197, "comment_id": 50637333, "body": "@GHajba But how can you implement the scrapy crawl spider without scrapy? Did you see it actually crawling the websites and scraping the data in the terminal?"}, {"owner": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1436469238, "post_id": 31303197, "comment_id": 50638827, "body": "Scrapy is imported so basically you can start the script like a plain old Python script. The code is at the office so I cannot look right at the result but I guess there were results."}, {"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "reply_to_user": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1436470955, "post_id": 31303197, "comment_id": 50639755, "body": "@GHajba Idk, I just ran the 1.0 code in a new file and I&#39;m still getting the error that &#39;CrawlerProcess&#39; object has no attribute &#39;crawl&#39;. I think if you tried the code inside of a scrapy project you would probably get the same error. Do you know of any other way to run multiple scrapy spiders?"}, {"owner": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 1, "creation_date": 1436499456, "post_id": 31303197, "comment_id": 50649328, "body": "Did you try to upgrade Scrapy to <b>1.0.1</b>? Perhaps this is the minor difference."}, {"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "reply_to_user": {"reputation": 3513, "user_id": 3941341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29f6e3654801cf7f54dddba96595399?s=128&d=identicon&r=PG", "display_name": "GHajba", "link": "https://stackoverflow.com/users/3941341/ghajba"}, "edited": false, "score": 0, "creation_date": 1436563526, "post_id": 31303197, "comment_id": 50684143, "body": "@GHajba Yeah I just specifically upgraded scrapy (even though I had already updated the whole system) and I&#39;m not getting the same error with crawlerProcess anymore. Now I&#39;m getting this error: raise error.ReactorNotRestartable() twisted.internet.error.ReactorNotRestartable"}, {"owner": {"reputation": 1989, "user_id": 2368836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/622bb3fd160ea49f1ed0db7d898a6c09?s=128&d=identicon&r=PG", "display_name": "rocktheartsm4l", "link": "https://stackoverflow.com/users/2368836/rocktheartsm4l"}, "edited": false, "score": 1, "creation_date": 1436571975, "post_id": 31303197, "comment_id": 50686648, "body": "If you can&#39;t get this working another solution would be to write a script that calls the command &quot;scrapy list&quot; from your project directory. From their you have a list of every spider name. So you can have this script iterate over the list calling &quot;scrapy crawl {spider name here}&quot;. I know this is kind of hackish but it will work if you can&#39;t figure it out."}, {"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "reply_to_user": {"reputation": 1989, "user_id": 2368836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/622bb3fd160ea49f1ed0db7d898a6c09?s=128&d=identicon&r=PG", "display_name": "rocktheartsm4l", "link": "https://stackoverflow.com/users/2368836/rocktheartsm4l"}, "edited": false, "score": 0, "creation_date": 1436589784, "post_id": 31303197, "comment_id": 50689438, "body": "@rocktheartsm4l Which directory would this file have to be in? The spiders directory or the root of the scrapy project? Also, would I just run that script in the python shell wherever it is? Thanks"}, {"owner": {"reputation": 1989, "user_id": 2368836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/622bb3fd160ea49f1ed0db7d898a6c09?s=128&d=identicon&r=PG", "display_name": "rocktheartsm4l", "link": "https://stackoverflow.com/users/2368836/rocktheartsm4l"}, "edited": false, "score": 1, "creation_date": 1436590925, "post_id": 31303197, "comment_id": 50689617, "body": "You&#39;d put it in the same folder you usually issue the cmd &quot;scrapy crawl {spider name}&quot; aka your project root"}, {"owner": {"reputation": 1989, "user_id": 2368836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/622bb3fd160ea49f1ed0db7d898a6c09?s=128&d=identicon&r=PG", "display_name": "rocktheartsm4l", "link": "https://stackoverflow.com/users/2368836/rocktheartsm4l"}, "edited": false, "score": 0, "creation_date": 1436591124, "post_id": 31303197, "comment_id": 50689652, "body": "Sorry on my phone and didn&#39;t notice the rest of your question.. You would run it from whatever shell you usually use (bash, powershell, cmd prompt, etc..)"}], "owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1361, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1544510665, "creation_date": 1436387784, "last_edit_date": 1544510665, "question_id": 31303197, "link": "https://stackoverflow.com/questions/31303197/proper-way-to-run-multiple-scrapy-spiders", "title": "Proper way to run multiple scrapy spiders", "body": "<p>I just tried running multiple spiders in the same process using <a href=\"http://doc.scrapy.org/en/1.0/topics/practices.html\" rel=\"nofollow noreferrer\">the new scrapy documentation</a> but I am getting: AttributeError: 'CrawlerProcess' object has no attribute 'crawl'</p>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/30988835/why-does-my-crawlerprocess-not-have-the-function-crawl\">this SO post</a> with the same problem so I tried using the code from the <a href=\"http://doc.scrapy.org/en/0.24/topics/practices.html\" rel=\"nofollow noreferrer\">0.24 documentation</a> and got: runspider: error: Unable to load 'price_comparator.py': No module named testspiders.spiders.followall</p>\n\n<p>For 1.0 I imported:</p>\n\n<pre><code>from scrapy.crawler import CrawlerProcess\n</code></pre>\n\n<p>and for 0.24 I imported:</p>\n\n<pre><code>from twisted.internet import reactor\nfrom scrapy.crawler import Crawler\nfrom scrapy import log\nfrom testspiders.spiders.followall import FollowAllSpider\nfrom scrapy.utils.project import get_project_settings\n</code></pre>\n\n<p>Based on the 0.24 doc, it seems like the code runs one spider through multiple domains, which doesn't seem to be the same as what the 1.0 doc's code does, but I ran both anyway. I do have the code to run both spiders inside of the file where my spiders are defined so that could be a problem. Is there some internal issue with the new version of the code or is there some dependency or code that I'm missing from my program? I have the file with the code from both docs below (I didn't run both versions at the same time).</p>\n\n<p><strong>Spider Class Definitions</strong></p>\n\n<p><em>relevant code at the bottom</em></p>\n\n<pre><code>import re\nimport json\nimport scrapy\nfrom scrapy import Request\nfrom scrapy.contrib.spiders import CrawlSpider , Rule\nfrom scrapy.selector import HtmlXPathSelector\nfrom scrapy.selector import Selector\nfrom scrapy.contrib.loader import ItemLoader\nfrom scrapy.contrib.loader import XPathItemLoader\nfrom scrapy.contrib.loader.processor import Join, MapCompose\nfrom concert_comparator.items import ComparatorItem, ComparatorItem2\nfrom twisted.internet import reactor\n\nfrom scrapy.crawler import CrawlerProcess\n#from scrapy.crawler import Crawler\nfrom scrapy import log\n#from testspiders.spiders.followall import FollowAllSpider\nfrom scrapy.utils.project import get_project_settings\nfrom  urlparse import urljoin\n\nbandname = raw_input(\"Enter a bandname \\n\")\n#location = raw_input(\"Enter a city \\n\")\nvs_url = \"http://www.vividseats.com/concerts/\" + bandname + \"-tickets.html\"\nsg_url = \"http://www.seatgeek.com/\" + bandname + \"-tickets\"\n#sh_url = \"http://www.stubhub.com/\" + bandname + \"-tickets/\"\n#print sh_url\n#rules = (Rule(LinkExtractor(allow=(\"concerts/\" + bandname + \"-tickets/\" + bandname + \"-\" + item[\"ticketsLink\"]),restrict_xpaths=('.//*/td[3]/a/@href',))callback = \"parse_tickets\" , follow = True,))\nclass MySpider(CrawlSpider):\n    handle_httpstatus_list = [416]\n    name = 'comparator'\n    allowed_domains = [\"www.vividseats.com\"]\n    start_urls = [vs_url]\n    tickets_list_xpath = './/*[@itemtype=\"http://schema.org/Event\"]'\n\n    def parse_json(self, response):\n        loader = response.meta['loader']\n        jsonresponse = json.loads(response.body_as_unicode())\n        ticket_info = jsonresponse.get('tickets')\n        price_list = [i.get('p') for i in ticket_info]\n        ticketPrice = ''.join(price_list[0])\n        loader.add_value('ticketPrice', ticketPrice)\n        return loader.load_item()\n\n    def parse_price(self, response):\n        loader = response.meta['loader']\n        ticketsLink = loader.get_output_value(\"ticketsLink\")\n        json_id_list= re.findall(r\"(\\d+)[^-]*$\", ticketsLink)\n        json_id=  \"\".join(json_id_list)\n        json_url = \"http://www.vividseats.com/javascript/tickets.shtml?productionId=\" + json_id\n        yield scrapy.Request(json_url, meta={'loader': loader}, callback = self.parse_json, dont_filter = True) \n\n    def parse(self, response):\n        \"\"\"\n        # \"\"\"\n        selector = HtmlXPathSelector(response)\n        # iterate over tickets\n        for ticket in selector.select(self.tickets_list_xpath):\n            loader = XPathItemLoader(ComparatorItem(), selector=ticket)\n            # define loader\n            loader.default_input_processor = MapCompose(unicode.strip)\n            loader.default_output_processor = Join()\n            # iterate over fields and add xpaths to the loader\n            loader.add_xpath('eventName' , './/*[@class=\"productionsEvent\"]/text()')\n            loader.add_xpath('eventLocation' , './/*[@class = \"productionsVenue\"]/span[@itemprop  = \"name\"]/text()')\n            loader.add_xpath('ticketsLink' , './/*/a[@class = \"btn btn-primary\"]/@href')\n            loader.add_xpath('eventDate' , './/*[@class = \"productionsDate\"]/text()')\n            loader.add_xpath('eventCity' , './/*[@class = \"productionsVenue\"]/span[@itemprop  = \"address\"]/span[@itemprop  = \"addressLocality\"]/text()')\n            loader.add_xpath('eventState' , './/*[@class = \"productionsVenue\"]/span[@itemprop  = \"address\"]/span[@itemprop  = \"addressRegion\"]/text()')\n            loader.add_xpath('eventTime' , './/*[@class = \"productionsTime\"]/text()')\n\n            print \"Here is ticket link \\n\" + loader.get_output_value(\"ticketsLink\")\n            #sel.xpath(\"//span[@id='PractitionerDetails1_Label4']/text()\").extract()\n            ticketsURL = \"concerts/\" + bandname + \"-tickets/\" + bandname + \"-\" + loader.get_output_value(\"ticketsLink\")\n            ticketsURL = urljoin(response.url, ticketsURL)\n            yield scrapy.Request(ticketsURL, meta={'loader': loader}, callback = self.parse_price, dont_filter = True)\n\n\nclass MySpider2(CrawlSpider):\n    handle_httpstatus_list = [416]\n    name = 'comparator2'\n    allowed_domains = [\"www.seatgeek.com/\"]\n    start_urls = [sg_url]\n    tickets_list_xpath = './/*[@itemtype=\"http://schema.org/Event\"]'\n\n    def parse_json2(self, response):\n        loader = response.meta['loader']\n        jsonresponse = json.loads(response.body_as_unicode())\n        listings_info = jsonresponse.get('listings')\n        price_list = [i.get('pf') for i in ticket_info]\n        ticketPrice = price_list[0]\n        loader.add_value('ticketPrice', ticketPrice)\n        return loader.load_item()\n\n    def parse_price2(self, response):\n        loader = response.meta['loader']\n        ticketsLink = loader.get_output_value(\"ticketsLink\")\n        json_id= ticketsLink.split('/')[6]\n        json_url = \"https://seatgeek.com/listings?client_id=MTY2MnwxMzgzMzIwMTU4&amp;id=\" + json_id + \"&amp;_wt=1&amp;&amp;_=1436364489501\"\n        yield scrapy.Request(json_url, meta={'loader': loader}, callback = self.parse_json, dont_filter = True) \n\n    def parse2(self, response):\n        \"\"\"\n\n        # \"\"\"\n        selector = HtmlXPathSelector(response)\n        # iterate over tickets\n        for ticket in selector.select(self.tickets_list_xpath):\n            loader = XPathItemLoader(ComparatorItem(), selector=ticket)\n            # define loader\n            loader.default_input_processor = MapCompose(unicode.strip)\n            loader.default_output_processor = Join()\n            # iterate over fields and add xpaths to the loader\n            loader.add_xpath('eventName' , './/a[@class = \"event-listing-title\"]/span[@itemprop = \"name\"]/text()')\n            loader.add_xpath('eventLocation' , './/a[@class = \"event-listing-venue-link\"]/span[@itemprop = \"name\"]/text()')\n            loader.add_xpath('ticketsLink' , '//a[@class = \"event-listing-button\"]/@href')\n            loader.add_xpath('eventDate' , '//div[@class = \"event-listing-date\"]/text()')\n            loader.add_xpath('eventCity' , './/span[@itemprop  = \"addressLocality\"]/text()')\n            loader.add_xpath('eventState' , './/span[@itemprop  = \"addressRegion\"]/text()')\n            loader.add_xpath('eventCountry' , './/span[@itemprop  = \"addressCountry\"]/text()')\n            loader.add_xpath('eventTime' , '//div[@class = \"event-listing-time\"]/text()')\n\n            #ticketsURL = \"concerts/\" + bandname + \"-tickets/\" + bandname + \"-\" + loader.get_output_value(\"ticketsLink\")\n            tickets_url = \"www.seatgeek.com/\" + loader.get_output_value(\"ticketsLink\")\n            #ticketsURL = urljoin(response.url, ticketsURL)\n            yield scrapy.Request(tickets_url, meta={'loader': loader}, callback = self.parse_price2, dont_filter = True)\n#0.24 code \n\n# def setup_crawler(domain):\n#     spider = FollowAllSpider(domain=domain)\n#     settings = get_project_settings()\n#     crawler = Crawler(settings)\n#     crawler.configure()\n#     crawler.crawl(spider)\n#     crawler.start()\n\n# for domain in [vs_url, sg_url]:\n#     setup_crawler(domain)\n# log.start()\n# reactor.run()\n\n#1.0 code\n\nprocess = CrawlerProcess(get_project_settings())\nprocess = CrawlerProcess({\n    'USER_AGENT' : 'Mozilla/4.0 (compartible; MSIE 7.0; Windows NT 5.1)'\n    })\nprocess.crawl(MySpider)        \nprocess.crawl(MySpider2)\nprocess.start()\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1436387803, "post_id": 31303160, "comment_id": 50596416, "body": "You need to check the <a href=\"https://docs.python.org/3.4/tutorial\" rel=\"nofollow noreferrer\">official Python tutorial</a> for how to make arrays (<code>list</code>s) in Python."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1436388281, "post_id": 31303160, "comment_id": 50596653, "body": "When you want to make a list in Python, put the brackets around its contents, not the name of the variable..."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1436388347, "post_id": 31303160, "comment_id": 50596689, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/1514553/how-to-declare-an-array-in-python\">How to declare an array in Python?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1436388330, "creation_date": 1436388330, "answer_id": 31303356, "question_id": 31303160, "link": "https://stackoverflow.com/questions/31303160/basic-variable-indexing/31303356#31303356", "title": "Basic Variable Indexing", "body": "<p>Your errors seem clear: in your first you have not defined V at all (compare with your BASIC version where you used Dim V) and in your second you have assigned V to a single value (2**UL+1.0/UL), not a list of values.</p>\n\n<p>However, you should note that Python lists are not arrays, and you do not size them. Instead, you compose them as you go by appending. For instance, in the first version:</p>\n\n<pre><code>UL = 5\nV = []\nfor N in range(1,UL+1):\n    V.append(2**N+1.0/N)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3456602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rO620.jpg?s=128&g=1", "display_name": "Kaimbridge", "link": "https://stackoverflow.com/users/3456602/kaimbridge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436388330, "creation_date": 1436387677, "last_edit_date": 1436387727, "question_id": 31303160, "link": "https://stackoverflow.com/questions/31303160/basic-variable-indexing", "title": "Basic Variable Indexing", "body": "<p>How do you do a simple index/array in Python?\nFor example, in a traditional BASIC language, all you would have to do is something like</p>\n\n<pre><code>10 Dim V(5)\n20 For N = 1 to 5:V(N)=2^N+1/N:? N,V(N):Next\n</code></pre>\n\n<p>which would output:</p>\n\n<pre><code>1  3.0\n2  4.5\n3  8.33333333333\n4  16.25\n5  32.2\n</code></pre>\n\n<p>If I wanted the weights of Gaussian quadrature, I could do:</p>\n\n<pre><code>UL=5\n[x,w] = p_roots(UL)\nfor N in range(UL):\n \u00a0 \u00a0 print N,w[N]\n</code></pre>\n\n<p>which works:</p>\n\n<pre><code>1  0.236926885056\n2  0.478628670499\n3  0.568888888889\n4  0.478628670499\n5  0.236926885056\n</code></pre>\n\n<p>but if I try my BASIC, as it would seem to be</p>\n\n<pre><code>UL=5\nfor N in range(1,UL+1):\n \u00a0 \u00a0V[N]=2**N+1.0/N\n \u00a0 \u00a0print N,V[N]\n</code></pre>\n\n<p>which rejects it as</p>\n\n<pre><code> \u00a0 \u00a0V[N]=2**N+1.0/N\nNameError: name 'V' is not defined\n</code></pre>\n\n<p>and if I try to mimic the Gaussian example</p>\n\n<pre><code>UL=5\n[V]=2**UL+1.0/UL\nfor N in range(1,UL+1):\n \u00a0 \u00a0print N,V[N]\n</code></pre>\n\n<p>I get</p>\n\n<pre><code> \u00a0 \u00a0[V]=2**UL+1.0/UL\nTypeError: 'float' object is not iterable\n</code></pre>\n\n<p>In terms of arrays/indexing, isn't V[N] the same as w[N] (which works in its example)?\nAll of the Python documentation seems to jump into more complicated cases, without providing more rudimentary examples like the above.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 5064815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41699c8058c9cbf62e606e0e3fc54095?s=128&d=identicon&r=PG&f=1", "display_name": "lab", "link": "https://stackoverflow.com/users/5064815/lab"}, "is_accepted": true, "score": 1, "last_activity_date": 1436559560, "last_edit_date": 1436559560, "creation_date": 1436388982, "answer_id": 31303564, "question_id": 31303159, "link": "https://stackoverflow.com/questions/31303159/python-multiple-boxplots-automatic-label/31303564#31303564", "title": "Python multiple boxplots automatic label", "body": "<p>I realized the shortest and cleanest is probably along the lines of:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n#Fake data\ndata = (np.random.random(50), np.random.random(50))\nlabels = ('random set 1', 'random set 2')\n\nplt.boxplot(data)\nplt.xticks(np.arange(len(labels))+1,labels)\nplt.show()\n</code></pre>\n\n<p>But I'm still open to other (automatic) suggestions.</p>\n"}], "owner": {"reputation": 620, "user_id": 5064815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41699c8058c9cbf62e606e0e3fc54095?s=128&d=identicon&r=PG&f=1", "display_name": "lab", "link": "https://stackoverflow.com/users/5064815/lab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2431, "favorite_count": 0, "accepted_answer_id": 31303564, "answer_count": 1, "score": 1, "last_activity_date": 1436559560, "creation_date": 1436387669, "last_edit_date": 1436388902, "question_id": 31303159, "link": "https://stackoverflow.com/questions/31303159/python-multiple-boxplots-automatic-label", "title": "Python multiple boxplots automatic label", "body": "<p>Is it possible to automatically set labels for multiple boxplots? I know it can probably be done with custom annotations or ticklabels, but is it also possible automatically?</p>\n\n<p>Naively one would expect something like the following, but plt.boxplot doesn't support labels.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n#Fake data\ndata = (np.random.random(50), np.random.random(50))\nlabels = ('random set 1', 'random set 2')\n\nplt.boxplot(data, labels=labels)\nplt.legend()\nplt.show()\n</code></pre>\n\n<p>Any ideas?</p>\n"}]