[{"tags": ["python", "python-2.7", "opencv", "opencv-python"], "comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1522885726, "post_id": 49662022, "comment_id": 86334082, "body": "if you&#39;re working on mac, use <code>homebrew</code> to (re)install python and pip. Then you can also use <code>brew install opencv3 --with-python</code> to install opencv. Mac&#39;s built-in python is always a problem for me."}, {"owner": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "edited": false, "score": 0, "creation_date": 1522886309, "post_id": 49662022, "comment_id": 86334264, "body": "Can you install the library in a <a href=\"http://docs.python-guide.org/en/latest/dev/virtualenvs/\" rel=\"nofollow noreferrer\">virtualenv</a>?"}, {"owner": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "edited": false, "score": 0, "creation_date": 1522886813, "post_id": 49662022, "comment_id": 86334419, "body": "A similar issue <a href=\"https://github.com/tensorflow/tensorflow/issues/6331\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2325, "user_id": 4796844, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/XtPNb.jpg?s=128&g=1", "display_name": "radzak", "link": "https://stackoverflow.com/users/4796844/radzak"}, "is_accepted": true, "score": 1, "last_activity_date": 1522887160, "creation_date": 1522887160, "answer_id": 49662269, "question_id": 49662022, "link": "https://stackoverflow.com/questions/49662022/how-to-install-opencv-python-with-no-import-cv2-error/49662269#49662269", "title": "how to install openCV_python with no import cv2 error?", "body": "<p>In summary, macOS comes with the Python preinstalled and you should not mess with the packages installed as some system utilities depend on them.</p>\n\n<p><a href=\"https://docs.python.org/3.7/using/mac.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3.7/using/mac.html</a></p>\n\n<blockquote>\n  <p>The Apple-provided build of Python is installed in /System/Library/Frameworks/Python.framework and /usr/bin/python, respectively. You should never modify or delete these, as they are Apple-controlled and are used by Apple- or third-party software. Remember that if you choose to install a newer Python version from python.org, you will have two different but functional Python installations on your computer, so it will be important that your paths and usages are consistent with what you want to do.</p>\n</blockquote>\n\n<p>You should take a look on either <a href=\"https://docs.python.org/3/library/venv.html\" rel=\"nofollow noreferrer\">venv</a> or <a href=\"https://virtualenv.pypa.io/en/stable/\" rel=\"nofollow noreferrer\">virtualenv</a>.</p>\n\n<p>You can read this answer: <a href=\"https://stackoverflow.com/a/41972262/4796844\">https://stackoverflow.com/a/41972262/4796844</a> that will get you through the basics.</p>\n\n<p>In a nutshell, to solve your problem:</p>\n\n<pre><code>$ python3 -m venv ./project-name\n$ . ./project-name/bin/activate\n$ pip install opencv-python\n</code></pre>\n\n<p>And to leave the virtual environment, simply:</p>\n\n<pre><code>$ deactivate\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 8921989, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1278814405557809/picture?type=large", "display_name": "Bilgin", "link": "https://stackoverflow.com/users/8921989/bilgin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 0, "accepted_answer_id": 49662269, "answer_count": 1, "score": 1, "last_activity_date": 1522887160, "creation_date": 1522885302, "question_id": 49662022, "link": "https://stackoverflow.com/questions/49662022/how-to-install-opencv-python-with-no-import-cv2-error", "title": "how to install openCV_python with no import cv2 error?", "body": "<p>I am trying to install the OpenCV-python on my mac and i have used the following:</p>\n\n<p>$pip install opencv-python</p>\n\n<p>which gave me the following error:</p>\n\n<pre><code>$pip install opencv-python\nCollecting opencv-python\n  Using cached opencv_python-3.4.0.12-cp27-cp27m macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\nCollecting numpy&gt;=1.11.1 (from opencv-python)\n  Using cached numpy-1.14.2-cp27-cp27m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\nmatplotlib 1.3.1 requires nose, which is not installed.\nmatplotlib 1.3.1 requires tornado, which is not installed.\nInstalling collected packages: numpy, opencv-python\n  Found existing installation: numpy 1.8.0rc1\nCannot uninstall 'numpy'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.\n</code></pre>\n\n<p>Then i did try the <code>pip install --upgrade matplotlib</code> which didnot change anything. It just show me:</p>\n\n<pre><code>matplotlib 2.2.2 requires backports.functools-lru-cache, which is not installed.\nmatplotlib 2.2.2 has requirement numpy&gt;=1.7.1, but you'll have numpy 1.8.0rc1 which is incompatible.\n</code></pre>\n\n<p>As I found many ways to install the openCV-python in the internet like:\n<a href=\"https://www.pyimagesearch.com/2015/06/15/install-opencv-3-0-and-python-2-7-on-osx/\" rel=\"nofollow noreferrer\">https://www.pyimagesearch.com/2015/06/15/install-opencv-3-0-and-python-2-7-on-osx/</a></p>\n\n<p>and I installed on my other mac but i got import cv2 problem alot in my codes.\nI will be more than happy if anyone have a good solution or recommendation to install the openCV-python.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "django", "django-models", "relational-database", "django-signals"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522885699, "post_id": 49661985, "comment_id": 86334071, "body": "Can you change <code>@receiver(signals.post_save, sender=Sales)</code> =&gt; <code>@receiver(models.signals.post_save, sender=Sales)</code> ?"}, {"owner": {"reputation": 543, "user_id": 6417220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1decf4107c6ac37dbd154fdb7eacf2f?s=128&d=identicon&r=PG", "display_name": "Medical Doctor - Programmer", "link": "https://stackoverflow.com/users/6417220/medical-doctor-programmer"}, "reply_to_user": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522886082, "post_id": 49661985, "comment_id": 86334189, "body": "hmmm, no luck with that. The same error pops up again"}], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 6417220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1decf4107c6ac37dbd154fdb7eacf2f?s=128&d=identicon&r=PG", "display_name": "Medical Doctor - Programmer", "link": "https://stackoverflow.com/users/6417220/medical-doctor-programmer"}, "edited": false, "score": 0, "creation_date": 1522886599, "post_id": 49662107, "comment_id": 86334354, "body": "I am a bit confused by your code, i thought <code>super(Sales, self).save(*args, **kwargs)</code> will save back to the Sales model, i dont see how that will save to the Product model. Anyway i will try it and see."}, {"owner": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "reply_to_user": {"reputation": 543, "user_id": 6417220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1decf4107c6ac37dbd154fdb7eacf2f?s=128&d=identicon&r=PG", "display_name": "Medical Doctor - Programmer", "link": "https://stackoverflow.com/users/6417220/medical-doctor-programmer"}, "edited": false, "score": 0, "creation_date": 1522888588, "post_id": 49662107, "comment_id": 86334893, "body": "@HamzaBawumia I have just updated my answer. I hope it can help you!"}, {"owner": {"reputation": 543, "user_id": 6417220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1decf4107c6ac37dbd154fdb7eacf2f?s=128&d=identicon&r=PG", "display_name": "Medical Doctor - Programmer", "link": "https://stackoverflow.com/users/6417220/medical-doctor-programmer"}, "edited": false, "score": 0, "creation_date": 1522917632, "post_id": 49662107, "comment_id": 86345521, "body": "It didnt work for me, the Product model is already importing Sales model so i cant import the Sales model back into Product model. . This is like a cyclical import error. A imports B and B is importing A again. Lol, Anyway thanks for your trick, i guess i will use it another project."}], "tags": [], "owner": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "is_accepted": false, "score": 0, "last_activity_date": 1522888558, "last_edit_date": 1522888558, "creation_date": 1522885911, "answer_id": 49662107, "question_id": 49661985, "link": "https://stackoverflow.com/questions/49661985/increment-another-model-field-using-django-signals/49662107#49662107", "title": "increment another model field using django signals", "body": "<p>What about overriding the <code>save</code> method of the class <code>Sales</code>? For example:</p>\n\n<pre><code>class Sales(models.Model):\n    id = models.AutoField(primary_key=True) \n    order_details = models.ForeignKey(GeneralConsulting)    \n    medication_name_id = models.ForeignKey(Medication_List)\n    dosage = models.CharField(max_length=10,  blank=True)\n    duration = models.CharField(max_length=10,  blank=True)\n    quantity = models.IntegerField(default=0)\n\n    def save(self, *args, **kwargs):\n        p = Product.objects.get(product_name=self.medication_name_id)\n        p.quantity_sold += self.quantity\n        p.save()\n        super(Sales, self).save(*args, **kwargs)\n</code></pre>\n\n<p>Basically, anytime you have to save a new sale, you increment the relative product's <code>quantity_sold</code> before saving. I assumed you get the product related to a sale by the <code>Medication_List</code>.</p>\n\n<p>A caveat: you call the <code>save</code> method also for updating pre-existing objects. If you plan to update existing sales, you need something more than the code above. Otherwise you'll increment product's <code>quantity_sold</code> also for mere sales updates.</p>\n"}], "owner": {"reputation": 543, "user_id": 6417220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1decf4107c6ac37dbd154fdb7eacf2f?s=128&d=identicon&r=PG", "display_name": "Medical Doctor - Programmer", "link": "https://stackoverflow.com/users/6417220/medical-doctor-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 713, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1522888558, "creation_date": 1522885016, "question_id": 49661985, "link": "https://stackoverflow.com/questions/49661985/increment-another-model-field-using-django-signals", "title": "increment another model field using django signals", "body": "<p>I have two models, <strong>A</strong> and <strong>B</strong>. I want to increment the value in one field of <strong>model A</strong> whenever i insert another value in <strong>model B</strong>.  I am using post_save signals but i keep getting this error \"<strong>'update_fields' is an invalid keyword argument for this function\"</strong></p>\n\n<p>below is my code thank you for your help.</p>\n\n<pre><code>class Sales(models.Model):\n    id = models.AutoField(primary_key=True) \n    order_details = models.ForeignKey(GeneralConsulting)    \n    medication_name_id = models.ForeignKey(Medication_List)\n    dosage = models.CharField(max_length=10,  blank=True)\n    duration = models.CharField(max_length=10,  blank=True)\n    quantity = models.IntegerField(default=0)\n    ...\n\n\n@receiver(signals.post_save, sender=Sales)\nclass Product(models.Model):\n    id = models.AutoField(primary_key=True)\n    product_name = models.ForeignKey(Medication_List)\n    description = models.TextField(blank=True)\n    supplier = models.ManyToManyField(Supplier, blank=True)\n    expiration_date = models.DateField(blank=False, null=True )\n    ...\n    quantity_sold = models.IntegerField(default=0)  \n    minimum_stock_level = models.IntegerField(default=1)\n\n\n\n    def add_on(self, sender, created, instance, update_fields, **kwargs ):\n        if created or update_fields is 'quantity':    \n            b = Product.objects.get(product_name_id=instance.id)\n            if b.quantity_sold + instance.quantity &lt;= b.initial_qty:\n                b.quantity_sold = b.quantity_sold + instance.quantity\n            b.save(update_fields=['quantity_sold'])\n</code></pre>\n\n<p>So all i want to do is to increase the value in the Product.quantity_sold field \nwhenever a new sale is added.</p>\n\n<p>Kindly help, i am quite new with django signals. Is there a better way to do this? Thanks</p>\n"}, {"tags": ["python", "struct"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1522885396, "post_id": 49661963, "comment_id": 86333991, "body": "Your <code>line</code> is 1050 characters long. 1050 may be &gt;1000, but it&#39;s still !=1164. So\u2026 why were you expecting this to work?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522885471, "post_id": 49661963, "comment_id": 86334015, "body": "And if you just use a longer buffer, line <code>line*2</code>, your existing code successfully parses the first 1164 bytes of it."}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1522932351, "post_id": 49661963, "comment_id": 86355922, "body": "@abarnert Sorry to bother but I still don&#39;t understand why you guys have close this question? Op has provided mcve code and he&#39;s stated clearly what problem he&#39;s found... The only reason I can see is the title being too specific to his problem instead more generic... but i don&#39;t think that&#39;s enough reason to close. Could you please elaborate a little bit? I&#39;d like to understand the real reason as the explanation provided above doesn&#39;t match with the content I see, thanks."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1522941912, "post_id": 49661963, "comment_id": 86363259, "body": "@BPL The question as asked doesn\u2019t make any sense. It\u2019s equivalent to posting an example showing that Python says <code>2 &lt; 3</code> and saying \u201cI tried everything to set 2 equal to 3 (without, mind you, actually showing a single example of what you tried)\u201d. The only way to answer such a question is telepathy, and I\u2019m <i>still</i> not sure what the real question was after he accepted your answer. I don\u2019t want to just assume it was \u201cI refuse to read the docs, so someone copy and paste them here instead\u201d. But it\u2019s not anything stated in the question itself."}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1522943779, "post_id": 49661963, "comment_id": 86364474, "body": "@abarnert Mmm, not sure what you mean by telepathy here. Please take a look to <a href=\"https://dl.dropboxusercontent.com/s/slm2gn6k0przq1o/chrome_2018-04-05_17-49-52.png\" rel=\"nofollow noreferrer\">this</a>, that&#39;s the way i see the structure of this question. IMHO you could say there is no explicit question formulated or the title is not google-friendly... but what I see here is one question where the author didn&#39;t probably understand very well what the docs were saying about an specific function. Just asking you because I&#39;d personally like to learn how these type of questions should be edited... how would you improve it?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1522945861, "post_id": 49661963, "comment_id": 86365765, "body": "@BPL The organization isn&#39;t the problem. &quot;I&#39;ve been searching for ways to set the buffer to 1164 bytes with no success&quot; is a problem\u2014if he showed us one or more of those ways we could explain why they don&#39;t work. Showing an example that he <i>didn&#39;t</i> have any issues with might help too, but that&#39;s pretty minor. The main problem is that it&#39;s just not clear what he doesn&#39;t get. Does he not know that <code>len(line) != 1164</code>? Or that <code>1050 != 1165</code>? If not, what could be making him think this should work? This should probably be closed as unclear rather than MCVE, but I still think it should be closed."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1522945942, "post_id": 49661963, "comment_id": 86365809, "body": "@BPL Again, unless the question really is &quot;I refuse to read the docs even though I know where they are, so someone copy and paste them here instead&quot;. That would be something to downvote, not close. But I don&#39;t think that&#39;s the case here (and I don&#39;t want to assume that kind of bad faith without a compelling reason)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1522946205, "post_id": 49661963, "comment_id": 86365967, "body": "@BPL Put another way: What you called the &quot;implicit question&quot; is the part that&#39;s incomplete. A good MCVE doesn&#39;t make a good post unless it demonstrates the actual question, rather than something else. And his MCVE doesn&#39;t demonstrate\u2026 whatever it was he was means by &quot;set the buffer to 1164 bytes&quot;, and he claims to have on that does, but hasn&#39;t shown it to us."}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 524211, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WaqoQ.jpg?s=128&g=1", "display_name": "chris__allen", "link": "https://stackoverflow.com/users/524211/chris-allen"}, "edited": false, "score": 0, "creation_date": 1522911504, "post_id": 49662124, "comment_id": 86341697, "body": "Thanks! I understand now. For some reason I thought the buffer was a config/attribute on the struct instead of the actual line."}], "tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": true, "score": 3, "last_activity_date": 1522886377, "last_edit_date": 1522886377, "creation_date": 1522886049, "answer_id": 49662124, "question_id": 49661963, "link": "https://stackoverflow.com/questions/49661963/unpack-from-requires-a-buffer-of-at-least-1164-bytes/49662124#49662124", "title": "unpack_from requires a buffer of at least 1164 bytes", "body": "<p>Let's take a look to <a href=\"https://docs.python.org/3.0/library/struct.html#struct.unpack_from\" rel=\"nofollow noreferrer\">https://docs.python.org/3.0/library/struct.html#struct.unpack_from</a> first, it says:</p>\n\n<blockquote>\n  <p>Unpack the buffer according to tthe given format. The result is a\n  tuple even if it contains exactly one item. The buffer must contain at\n  least the amount of data required by the format (len(buffer[offset:])\n  must be at least calcsize(fmt)).</p>\n</blockquote>\n\n<p>Let's try first calcsize on your fmt, <code>print(struct.calcsize(fmt))</code> says 1164.</p>\n\n<p>Now let's see the len of your buffer <code>len(line)</code>, it says 1050.</p>\n\n<p>So the error is because you're not following the guidelines provided by the docs...</p>\n\n<p>PS: <code>parse((line+line[0:struct.calcsize(fmt)-len(line)]).encode())</code></p>\n"}], "owner": {"reputation": 429, "user_id": 524211, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WaqoQ.jpg?s=128&g=1", "display_name": "chris__allen", "link": "https://stackoverflow.com/users/524211/chris-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6120, "favorite_count": 1, "closed_date": 1522915411, "accepted_answer_id": 49662124, "answer_count": 1, "score": 2, "last_activity_date": 1522886377, "creation_date": 1522884787, "question_id": 49661963, "link": "https://stackoverflow.com/questions/49661963/unpack-from-requires-a-buffer-of-at-least-1164-bytes", "closed_reason": "Not suitable for this site", "title": "unpack_from requires a buffer of at least 1164 bytes", "body": "<p>I'm using struct to parse fixed width strings. However, I'm having some trouble with dealing fixed width strings larger than 1000 bytes.</p>\n\n<p>For example, when I execute the following code:</p>\n\n<pre><code>import struct\nfmt = '2s25s16s1s40s2s1s1s2s9s1s6s10s25s2s2s9s8s2s2s4x8s2x2s2s2s2s2s1x13s6s2s2s2s2s1x3s4s6s4s12x1s2s1x7s1s2s2s2s2s2s1x3s6x2s2x2s2x2s2x2s2x2s2x2s6s2x1s4x4s2s2s2s2s2s2s2s8x3s3s3s3s3s3s3s3s3s2s2s2s2s2s2s8s2x2s2s2s2s2s150s50s4x1s2s8s15x30s30s10s15s15s10s10s10s10s12s3s3s3s3s1s3s3s1x15s2s3s8s2s2s2s2s2s16s2s3s2x2s3s2x1s1s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s10x2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s2s2s3s3s42s6s21s3s3s3s3s3s3s3s3s3s3s3s3s7s'\nparse = struct.Struct(fmt).unpack_from\n\nline = '1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ123456'\nparse(line.encode())\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"so.py\", line 6, in &lt;module&gt;\n    parse(line.encode())\nstruct.error: unpack_from requires a buffer of at least 1164 bytes\n</code></pre>\n\n<p>I've been searching for ways to set the buffer to 1164 bytes with no success.</p>\n"}, {"tags": ["python", "python-3.x", "cpython", "stack-frame"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1522884502, "post_id": 49661827, "comment_id": 86333750, "body": "Are you looking to get the closure cells, or the values in those cells?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522885019, "post_id": 49661827, "comment_id": 86333890, "body": "@abarnert I want the value in the cell. Obscure cpython objects like closure cells aren&#39;t of much use to me :)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522885846, "post_id": 49661827, "comment_id": 86334123, "body": "Obscure? I think as of 3.7 they&#39;re finally mentioned in the docs somewhere. And, even better, the set-contents method is exposed to Python code, so you grub through a function&#39;s <code>__closure__</code> and change the captured values."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522886216, "post_id": 49661827, "comment_id": 86334234, "body": "PS, doesn\u2019t <code>nonlocal closure_var</code> capture it even if you never reference or assign to it? It did in 3.0; I don\u2019t know if I\u2019ve ever checked since then\u2026"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522886309, "post_id": 49661827, "comment_id": 86334265, "body": "But meanwhile, for this particular use case, where you\u2019re actually calling <code>bar</code> from within the same function it was defined in, you can cheat and look at <code>f_back.f.locals</code> to see all the locals of <code>foo</code>, captured or not. I don\u2019t know if that\u2019ll help for your real use case, if you have one, but it\u2019ll work here."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522886464, "post_id": 49661827, "comment_id": 86334310, "body": "@abarnert You&#39;re right, nonlocal variables are included in <code>f_locals</code> even if they&#39;re never assigned to or read from."}], "answers": [{"comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522884484, "post_id": 49661908, "comment_id": 86333742, "body": "Makes sense, for unused variables. What about actual closure variables though? Is it possible for those?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522884555, "post_id": 49661908, "comment_id": 86333764, "body": "@Aran-Fey: Those show up in <code>f_locals</code>, which confusingly, is not just locals."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522884836, "post_id": 49661908, "comment_id": 86333842, "body": "Huh, so they do. Most curious. Could I ask you to add that to the answer? It doesn&#39;t feel like a complete answer without that."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1522884907, "post_id": 49661908, "comment_id": 86333863, "body": "<code>f_locals</code> is really a faked useless thing. You can distinguish real locals from captured nonlocals by looking at <code>f_code.co_varnames</code>, <code>co_cellvars</code>, and <code>co_freevars</code> for the names of uncaptured locals, locals captured by an inner function, and closure variables handed down by an outer function. These also give you the indices into the real locals array on the frame (which has cell objects for cellvars and freevars), but you can&#39;t do much with that without the C API."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522885195, "post_id": 49661908, "comment_id": 86333934, "body": "Okay, so <code>co_varnames</code>, <code>co_cellvars</code> and <code>co_freevars</code> only contain variable names, and the closure variables are actually included in <code>f_locals</code>. But then, what&#39;s the purpose of the <code>__closure__</code> attribute of function objects? What&#39;s that used for?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1522885580, "post_id": 49661908, "comment_id": 86334038, "body": "@Aran-Fey: That holds closure cells, which is what Python actually uses for closure variable lookup; it doesn&#39;t look in <code>f_locals</code> for closure variables."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522885610, "post_id": 49661908, "comment_id": 86334047, "body": "@Aran-Fey The <code>__closure__</code> attribute is a tuple of one cell per freevar, captured when the <code>MAKE_FUNCTION</code> opcode is executed in the outer function. When the function is called and a frame is created to run its code, the cells from <code>__closure__</code> are copied into the fast-locals array (and new cells are created for the cellvars)."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1522886972, "last_edit_date": 1522886972, "creation_date": 1522884387, "answer_id": 49661908, "question_id": 49661827, "link": "https://stackoverflow.com/questions/49661827/resolve-a-variable-name-given-only-a-stack-frame-object/49661908#49661908", "title": "Resolve a variable name given only a stack frame object", "body": "<p>Not generally possible. Python only holds onto closure variables that closures actually refer to.</p>\n\n<pre><code>&gt;&gt;&gt; import inspect\n&gt;&gt;&gt; class Demo(object):\n...     def __del__(self):\n...         print(\"Too late, it's gone.\")\n... \n&gt;&gt;&gt; def f():\n...     a = Demo()\n...     def g():\n...         return inspect.currentframe()\n...     return g\n... \n&gt;&gt;&gt; frame = f()()\nToo late, it's gone.\n</code></pre>\n\n<p>As you can see from this example, there's no hope of inspecting <code>a</code> from the frame <code>frame</code>. It's gone.</p>\n\n<p>As for closure variables the frame actually used, those <em>usually</em> show up in <code>f_locals</code>. I know of one weird case where they won't, which is if the frame is for a class statement with closure variables:</p>\n\n<pre><code>&gt;&gt;&gt; def f():\n...     a = 1\n...     class Foo(object):\n...         print(a)\n...         print(inspect.currentframe().f_locals)\n...     return Foo\n... \n&gt;&gt;&gt; f()\n1\n{'__module__': '__main__', '__qualname__': 'f.&lt;locals&gt;.Foo'}\n&lt;class '__main__.f.&lt;locals&gt;.Foo'&gt;\n</code></pre>\n\n<p>After digging through the CPython implementation (specifically frame objects, the <code>LOAD_CLASSDEREF</code> opcode, and <code>inspect.getclosurevars</code>), I think the only way to access class frame closure variables is going to be with <code>ctypes</code>, <code>gc.get_referents</code>, or similarly nasty means.</p>\n\n<p>Also, note that the <code>f_locals</code> dict may not be up to date if the closure variable values have changed since it was accessed; accessing <code>frame.f_locals</code> again <a href=\"https://github.com/python/cpython/blob/v3.6.5/Objects/frameobject.c#L21\" rel=\"nofollow noreferrer\">refreshes the contents</a>, but it might be out of date again by the time you look.</p>\n"}], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 49661908, "answer_count": 1, "score": 5, "last_activity_date": 1522886972, "creation_date": 1522883740, "last_edit_date": 1522884341, "question_id": 49661827, "link": "https://stackoverflow.com/questions/49661827/resolve-a-variable-name-given-only-a-stack-frame-object", "title": "Resolve a variable name given only a stack frame object", "body": "<p>I'm trying to find out if it's possible to resolve variables in stack frames (as returned by <a href=\"https://docs.python.org/3/library/inspect.html#inspect.currentframe\" rel=\"nofollow noreferrer\"><code>inspect.currentframe()</code></a>).</p>\n\n<p>In other words, I'm looking for a function</p>\n\n<pre><code>def resolve_variable(variable_name, frame_object):\n    return value_of_that_variable_in_that_stackframe\n</code></pre>\n\n<hr>\n\n<p>For an example, consider the following piece of code:</p>\n\n<pre><code>global_var = 'global'\n\ndef foo():\n    closure_var = 'closure'\n\n    def bar(param):\n        local_var = 'local'\n\n        frame = inspect.currentframe()\n        assert resolve_variable('local_var', frame) == local_var\n        assert resolve_variable('param', frame) == param\n        assert resolve_variable('closure_var', frame) == closure_var\n        assert resolve_variable('global_var', frame) == global_var\n\n    bar('parameter')\n\nfoo()\n</code></pre>\n\n<p>Local and global variables are trivially looked up through the <code>f_locals</code> and <code>f_globals</code> attributes of the frame object:</p>\n\n<pre><code>def resolve_variable(variable_name, frame_object):\n    try:\n        return frame_object.f_locals[variable_name]\n    except KeyError:\n        try:\n            return frame_object.f_globals[variable_name]\n        except KeyError:\n            raise NameError(varname) from None\n</code></pre>\n\n<p>But the problem are closure variables. They aren't stored in a dictionary like the local and global variables, as far as I know. To make things even worse, variables only become closure variables if the function actually accesses them (for example by reading its value like <code>_ = closure_var</code> or writing to it with <code>nonlocal closure_var; closure_var = _</code>). So there are actually 3 different cases:</p>\n\n<pre><code>global_var = 'global'\n\ndef foo():\n    unused_cvar = 'unused'  # actually not a closure variable at all\n    readonly_cvar = 'closure'\n    nonlocal_cvar = 'nonlocal'\n\n    def bar(param):\n        nonlocal nonlocal_cvar\n\n        local_var = 'local'\n        _ = readonly_cvar\n        nonlocal_cvar = 'nonlocal'\n\n        frame = inspect.currentframe()\n        assert resolve_variable('local_var', frame) == local_var\n        assert resolve_variable('param', frame) == param\n        assert resolve_variable('unused_cvar', frame) == 'unused'\n        assert resolve_variable('readonly_cvar', frame) == readonly_cvar\n        assert resolve_variable('nonlocal_cvar', frame) == nonlocal_cvar\n        assert resolve_variable('global_var', frame) == global_var\n\n    bar('parameter')\n\nfoo()\n</code></pre>\n\n<p>How can I rewrite my <code>resolve_variable</code> function to support all of these? Is it even possible?</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 5509, "user_id": 98806, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/187e2643c353fcabe7d55fd253b8fb2a?s=128&d=identicon&r=PG", "display_name": "Richard Inglis", "link": "https://stackoverflow.com/users/98806/richard-inglis"}, "edited": false, "score": 2, "creation_date": 1522884956, "post_id": 49661810, "comment_id": 86333876, "body": "You might need to use a mask or BLEND_RGBA_MULT... see <a href=\"https://stackoverflow.com/questions/16880128/pygame-is-there-any-way-to-only-blit-or-update-in-a-mask\" title=\"pygame is there any way to only blit or update in a mask\">stackoverflow.com/questions/16880128/&hellip;</a>"}, {"owner": {"reputation": 211, "user_id": 1878480, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/49d726644cf56d4b4a6c28c001b6d03a?s=128&d=identicon&r=PG", "display_name": "flagadajones", "link": "https://stackoverflow.com/users/1878480/flagadajones"}, "reply_to_user": {"reputation": 5509, "user_id": 98806, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/187e2643c353fcabe7d55fd253b8fb2a?s=128&d=identicon&r=PG", "display_name": "Richard Inglis", "link": "https://stackoverflow.com/users/98806/richard-inglis"}, "edited": false, "score": 0, "creation_date": 1522922740, "post_id": 49661810, "comment_id": 86349082, "body": "thanks it works with mask"}], "answers": [{"tags": [], "owner": {"reputation": 460, "user_id": 9474247, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/h353d.jpg?s=128&g=1", "display_name": "Ethanol", "link": "https://stackoverflow.com/users/9474247/ethanol"}, "is_accepted": false, "score": 0, "last_activity_date": 1522913218, "creation_date": 1522913218, "answer_id": 49666518, "question_id": 49661810, "link": "https://stackoverflow.com/questions/49661810/pygame-find-a-solution-to-stop-pupil-overflow-outside-eye/49666518#49666518", "title": "pygame find a solution to stop pupil overflow outside Eye", "body": "<p>While there's no doubt that masks would be the better way, I would do something different (and dumber). In short is that I would give the screen a white backround, blit the pupil, AND THEN blit the face (in your picture it is the black background without the eye slots. This may sound confusing so think about creating the same exact image but with a white background.</p>\n\n<p>However, there are a lot of negatives to this if you apply it to a program with other shapes and images so you'll want to probably stick with masking anyways. But this could work</p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 1878480, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/49d726644cf56d4b4a6c28c001b6d03a?s=128&d=identicon&r=PG", "display_name": "flagadajones", "link": "https://stackoverflow.com/users/1878480/flagadajones"}, "is_accepted": true, "score": 0, "last_activity_date": 1523445358, "creation_date": 1523445358, "answer_id": 49773675, "question_id": 49661810, "link": "https://stackoverflow.com/questions/49661810/pygame-find-a-solution-to-stop-pupil-overflow-outside-eye/49773675#49773675", "title": "pygame find a solution to stop pupil overflow outside Eye", "body": "<p>I made it like this : </p>\n\n<pre><code>    mask = pygame.Surface(self.size, pygame.SRCALPHA)\n    mask.fill((254, 195, 172))\n    pygame.draw.ellipse(mask, (0, 0, 0), [\n                        self.leftEllipseX, self.leftEllipseY, self.eyeWidth, self.eyeHeight], 0)\n    pygame.draw.ellipse(mask, (0, 0, 0), [\n                        self.rightEllipseX, self.rightEllipseY, self.eyeWidth, self.eyeHeight], 0)\n\n    self.display.blit(mask, (0, 0), None, pygame.BLEND_RGB_MAX)\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 1878480, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/49d726644cf56d4b4a6c28c001b6d03a?s=128&d=identicon&r=PG", "display_name": "flagadajones", "link": "https://stackoverflow.com/users/1878480/flagadajones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 49773675, "answer_count": 2, "score": 0, "last_activity_date": 1523445358, "creation_date": 1522883634, "question_id": 49661810, "link": "https://stackoverflow.com/questions/49661810/pygame-find-a-solution-to-stop-pupil-overflow-outside-eye", "title": "pygame find a solution to stop pupil overflow outside Eye", "body": "<p>i try to create  ellipse eye with pygame, and i have problem: my pupils overflow over eyes :\n<a href=\"https://i.stack.imgur.com/MU76r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MU76r.png\" alt=\"my problem\"></a></p>\n\n<p>and I search to get this result</p>\n\n<p><a href=\"https://i.stack.imgur.com/loRcl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/loRcl.png\" alt=\"my wish\"></a></p>\n\n<p>my code is like this :</p>\n\n<pre><code>self.lastrect = self.display.fill((0,0,0),self.lastrect)\nleftEye = pygame.draw.ellipse(self.display, (255, 255, 255), [int(self.startx -self.startx/2-self.eyeRadius),int(self.starty-self.eyeRadius*self.eyeRatio), self.eyeWidth,self.eyeHeight], 0)\nrightEye = pygame.draw.ellipse(self.display, (255, 255, 255), [int(self.startx +self.startx/2-self.eyeRadius),int(self.starty-self.eyeRadius*self.eyeRatio), self.eyeWidth,self.eyeHeight], 0)\nleftPupil = self.display.blit(self.pupil,(self.x-self.startx/2-self.rad,self.y-self.rad))\nrightPupil = self.display.blit(self.pupil,(self.x+self.startx/2-self.rad,self.y-self.rad))\n\npygame.display.update([leftPupil,leftEye,rightPupil,rightEye,self.lastrect])\n</code></pre>\n\n<p>can you help me to find a solution to stop pupil's overflow outside Eye ?</p>\n"}, {"tags": ["python", "pandas", "xlsxwriter"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9397182"}, "edited": false, "score": 0, "creation_date": 1522946091, "post_id": 49662344, "comment_id": 86365896, "body": "I tried the suggestion you provided. However, nothing happened except the cells got wider. The original data frame is much larger and has over 40000 entries. Furthermore, I am trying to align the index, is that causing the problem by any chance."}], "tags": [], "owner": {"reputation": 83, "user_id": 3613243, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fffc723b9aa99fb68b0951d4d629b5fb?s=128&d=identicon&r=PG&f=1", "display_name": "user3613243", "link": "https://stackoverflow.com/users/3613243/user3613243"}, "is_accepted": false, "score": 2, "last_activity_date": 1522887840, "creation_date": 1522887840, "answer_id": 49662344, "question_id": 49661793, "link": "https://stackoverflow.com/questions/49661793/aligning-some-of-the-columns-in-excel-worksheet-using-python/49662344#49662344", "title": "Aligning some of the columns in Excel Worksheet using Python", "body": "<p>You need to actually apply the formatting the name column. </p>\n\n<pre><code>df = pd.DataFrame ({'Name': ['J Miller', 'S Jones', 'J Kenedy'],\n                    'Employee ID': [1,2,3],\n                    'Year': [2014, 2011, 2010]})\n\nwriter = pd.ExcelWriter('left_aligned_file.xlsx', engine='xlsxwriter')\n\n# Add your dataframe to the writer\ndf.to_excel(writer, sheet_name='Sheet1')\n\nworkbook = writer.book\nworksheet = writer.sheets['Sheet1']\n\nnew_format = workbook.add_format()\nnew_format.set_align('left')\n\n# Apply new format to name column, which will be column C.\nworksheet.set_column('C:C', 10, new_format)\nwriter.save()\n</code></pre>\n\n<p>Might be worth a look: <a href=\"http://xlsxwriter.readthedocs.io/example_pandas_column_formats.html\" rel=\"nofollow noreferrer\">http://xlsxwriter.readthedocs.io/example_pandas_column_formats.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 15146780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/398d896642a9ed7e16803162afb67d85?s=128&d=identicon&r=PG&f=1", "display_name": "JP1", "link": "https://stackoverflow.com/users/15146780/jp1"}, "is_accepted": false, "score": 2, "last_activity_date": 1613517461, "last_edit_date": 1613517461, "creation_date": 1613493071, "answer_id": 66228384, "question_id": 49661793, "link": "https://stackoverflow.com/questions/49661793/aligning-some-of-the-columns-in-excel-worksheet-using-python/66228384#66228384", "title": "Aligning some of the columns in Excel Worksheet using Python", "body": "<p>I had the same issue related to the index. My dataframe had the first column of type string as the index. It appears the index cannot be reformatted using <code>xlsxwriter</code>.\nTo get around this I tried the following in this order:</p>\n<pre class=\"lang-py prettyprint-override\"><code>df.reset_index(inplace=True)\ndf.to_excel(writer, sheet_name='Sheet1',index=False)\n</code></pre>\n<p>Then the formatting functions worked.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9397182"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3867, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1613517461, "creation_date": 1522883516, "question_id": 49661793, "link": "https://stackoverflow.com/questions/49661793/aligning-some-of-the-columns-in-excel-worksheet-using-python", "title": "Aligning some of the columns in Excel Worksheet using Python", "body": "<p>I am having trouble aligning the columns of an Excel Worksheet using xlsxWriter. For further clarity here is the data-frame</p>\n\n<pre><code>   Name        Employee ID      Year\nJohn Miller    2014108          2014\nSarah Jones    2011548          2011\nJake Kenedy    2010546          2010\n</code></pre>\n\n<p>I am trying to align the Name column so that the values are on the left instead of  being centred</p>\n\n<p>I tried this</p>\n\n<pre><code>workbook = writer.book\ncell_format = workbook.add_format()\ncell_format.set_align('left')\n</code></pre>\n\n<p>However, nothing happened. \nAny suggestions would be greatly appreciated.</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "edited": false, "score": 0, "creation_date": 1522883880, "post_id": 49661771, "comment_id": 86333580, "body": "You do not have to call <code>json.loads</code> for each JSON row. You need to pass a complete JSON as argument, e.g., <code>json.loads(&#39;[&quot;foo&quot;, {&quot;bar&quot;:[&quot;baz&quot;, null, 1.0, 2]}]&#39;)</code>"}, {"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "reply_to_user": {"reputation": 4924, "user_id": 4820341, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VLxrT.png?s=128&g=1", "display_name": "floatingpurr", "link": "https://stackoverflow.com/users/4820341/floatingpurr"}, "edited": false, "score": 0, "creation_date": 1522885047, "post_id": 49661771, "comment_id": 86333897, "body": "The JSON data I have cannot be changed, I added an example of what it currently looks like."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522884514, "post_id": 49661854, "comment_id": 86333754, "body": "&quot;If your file is just a single JSON text, just read the whole thing:&quot; I am going to have more JSON text, <code>{ &quot;text&quot;: &quot;data&quot;}{&quot;text2&quot;: &quot;data&quot;}</code>, I just didn&#39;t want to add 600,000+ lines of JSON code. The Reddit Data is (If I&#39;m correct) a &quot;stream of arbitrary JSON texts&quot;, which will take forever to &#39;correct the format of&#39;. As of now, I cannot change the JSON data."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522885316, "post_id": 49661854, "comment_id": 86333964, "body": "@TomJaquo Then do what the rest of my answer suggests."}, {"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522886219, "post_id": 49661854, "comment_id": 86334235, "body": "Your last code appears to only cycle through the first section of JSON code I have, perhaps because I had to comment out the <code>del contents[:idx]</code> for I get the following error:<code>&#39;str&#39; object does not support item deletion</code>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522886478, "post_id": 49661854, "comment_id": 86334319, "body": "@TomJaquo Yes, pretty obviously just commenting out the code that skips to the next JSON text means you don\u2019t skip to the next JSON text. Anyway, I was testing with a <code>bytearray</code> rather than a <code>str</code>; I\u2019ve edited the answer to something that should work with <code>str</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522886661, "post_id": 49661854, "comment_id": 86334371, "body": "@TomJaquo But as I mentioned in the answer, if your real input really is too big to fix up, it\u2019s probably too big to read the whole thing into a str, decode it, and chop it up, and you really need to do something like mmap the file instead. (Although I doubt it really <i>is</i> too big; 600K lines may sound like a lot but it really isn\u2019t that much for a modern computer.)"}, {"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522887192, "post_id": 49661854, "comment_id": 86334506, "body": "I&#39;ll try that as well. The updated code you provided got me past that error but invited back my other old error I kept getting: <code>JSONDecodeError: Expecting value: line 1 column 1 (char 0)</code>. Would this one be causing the other error? (Also, why does the tutorial&#39;s code work but not mine with that method?)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522887427, "post_id": 49661854, "comment_id": 86334583, "body": "@TomJaquo Sorry, I think <code>raw_decode</code> doesn&#39;t skip over extra whitespace at the start. Does <code>contents[idx:].lstrip()</code> work? If so, I&#39;ll edit that into the answer. (Also, which tutorial are you talking about?)"}, {"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522890970, "post_id": 49661854, "comment_id": 86335428, "body": "The tutorial I added in my question. The <code>contents[idx:].lstrip()</code> is stuck in a loop or something, when I print it, it keeps on going. I have a follow-up question on that, is where I put <code>row</code>, I replace with contents? eg. <code>parent_id = contents[&#39;parent_id&#39;] #Not row[&#39;parent_id&#39;]?</code>"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1522887443, "last_edit_date": 1522887443, "creation_date": 1522883931, "answer_id": 49661854, "question_id": 49661771, "link": "https://stackoverflow.com/questions/49661771/jsondecodeerror-expecting-property-name-enclosed-in-double-quotes-from-file-wi/49661854#49661854", "title": "JSONDecodeError &quot;Expecting property name enclosed in double quotes&quot; from file with multiple JSON documents", "body": "<p>Your JSON has newlines in it.</p>\n\n<p>But your code is reading one row at a time and expecting it to be a complete JSON text:</p>\n\n<pre><code>for row in f:\n    row_counter += 1\n    row = json.loads(row)\n</code></pre>\n\n<p>That's not going to work.</p>\n\n<p>If your file is just a single JSON text, just read the whole thing:</p>\n\n<pre><code>with open(\"learning_data/{}/RC_{}\".format(timeframe.split('-')[0], timeframe), buffering=1000) as f:\n    row_counter += 1\n    row = json.load(f)\n</code></pre>\n\n<p>You may want to rename <code>row</code> to something more meaningful, like <code>contents</code>.</p>\n\n<hr>\n\n<p>If your file <em>is</em> a sequence of JSON texts, and you're generating the file yourself, the right thing to do is to change the way you generate it. A stream of arbitrary JSON texts is not really a valid format. But if you really want to build a format on top of that, you can\u2014e.g., escape all the newlines so that you can parse it line by line. Or you can use a real format. Or you can just write out a big JSON array instead of a bunch of separate JSON texts.</p>\n\n<hr>\n\n<p>If you can't change the file, you need a strategy to parse it. All of these are <em>almost</em> right:</p>\n\n<ul>\n<li>Use the <code>json</code> module's <a href=\"https://docs.python.org/3/library/json.html#json.JSONDecoder.raw_decode\" rel=\"nofollow noreferrer\"><code>raw_decode</code></a> method to read the next JSON text and return the decoded value plus the offset to the next one.</li>\n<li>Balance brackets and braces and split every time the count goes to 0.</li>\n<li>Scan for newlines and then backtrack to check for open brackets and braces.</li>\n</ul>\n\n<p>Other than bad error handling, the only serious problem with any of these is that they can't possibly do the right thing for numbers as top-level texts. If your top-level texts are all objects, that's not a problem.</p>\n\n<p>So:</p>\n\n<pre><code>with open(\"learning_data/{}/RC_{}\".format(timeframe.split('-')[0], timeframe), buffering=1000) as f:\n    contents = f.read()\n    decoder = json.JSONDecoder()\n    while contents:\n        row, idx = decoder.raw_decode(contents)\n        row_counter += 1\n        contents = contents[idx:].lstrip()\n        # etc.\n</code></pre>\n\n<p>Although if your file is gigantic, you almost certainly want to <code>mmap</code> it and pass a slice/memoryview to <code>raw_decode</code>\u2014or, if that doesn't work because you have Unicode text, you may have to buffer up chunks manually. Not exactly trivial, but then you are parsing a broken format, so this is easier than you should expect. :)</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522886874, "post_id": 49662098, "comment_id": 86334437, "body": "Subprocess cannot find the JSON file, not sure why. Double checked the path and renamed the <code>RC_2015-05</code> to <code>RC_2015-05.json</code> and it still could not find the file specified."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522887454, "post_id": 49662098, "comment_id": 86334591, "body": "Huh? <code>subprocess</code> shouldn&#39;t be <i>trying</i> to find the JSON file. You should already open the JSON file before you run any of the <code>subprocess</code> code. The only thing <code>subprocess</code> should try to find is the command named <code>jq</code>, and if that isn&#39;t installed, then you should install it."}, {"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522887981, "post_id": 49662098, "comment_id": 86334748, "body": "I do not have <code>jq</code> currently installed, and got an error installing jq: <code>error: [WinError 2] The system cannot find the file specified</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522888389, "post_id": 49662098, "comment_id": 86334841, "body": "&quot;installing jq&quot; how? (Not that this is in-scope for a Python-tagged question... or on StackOverflow, for that matter; &quot;how do I install software on my operating system?&quot; is more a <a href=\"https://superuser.com/\">SuperUser</a> topic)."}, {"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522889178, "post_id": 49662098, "comment_id": 86335048, "body": "Pardon me, I misread your comment thinking <code>jq</code> was a python package. I got the following error: <code>parse error: Unfinished string at EOF at line 603195, column 263 Error: writing output failed: Invalid argument</code>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522889351, "post_id": 49662098, "comment_id": 86335094, "body": "Spitballing here, but any chance line 603195 might be where your input file cuts off? If it doesn&#39;t end at a clean document boundary, then an error is to be expected. If you want to handle that exception, normal Python exception-handling should suffice. (If you wanted to suppress the error message itself, <code>stderr=subprocess.DEVNULL</code> will work on Python 3.3 or later; for earlier versions, see <a href=\"https://stackoverflow.com/questions/11269575/how-to-hide-output-of-subprocess-in-python-2-7\" title=\"how to hide output of subprocess in python 2 7\">stackoverflow.com/questions/11269575/&hellip;</a>)."}, {"owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "edited": false, "score": 0, "creation_date": 1522889857, "post_id": 49662098, "comment_id": 86335199, "body": "Ah you are correct. It did not end with a <code>&quot;</code> and <code>}</code>. And I am not getting any errors that I can see."}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 1, "last_activity_date": 1522886353, "last_edit_date": 1522886353, "creation_date": 1522885869, "answer_id": 49662098, "question_id": 49661771, "link": "https://stackoverflow.com/questions/49661771/jsondecodeerror-expecting-property-name-enclosed-in-double-quotes-from-file-wi/49662098#49662098", "title": "JSONDecodeError &quot;Expecting property name enclosed in double quotes&quot; from file with multiple JSON documents", "body": "<p>A stream of JSON documents, one-per-line, is a format also known as JSONL. This is distinct from \"JSON\" as such, which only permits one document to a file.</p>\n\n<p>You can easily convert your file into this format by running <code>jq -c . &lt;in.json &gt;out.json</code>. <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\"><code>jq</code></a> is a command-line tool for processing JSON and JSONL documents; the <code>-c</code> flag enables \"compact\" mode, which puts each one document on each line of output.</p>\n\n<p>Even easier, you can have that done in-line, having your Python code directly iterate over the output of <code>jq</code>:</p>\n\n<pre><code>import subprocess\n\nwith open(\"learning_data/{}/RC_{}\".format(timeframe.split('-')[0], timeframe)) as f:\n    p = subprocess.Popen(['jq', '-c', '.'], stdin=f, stdout=subprocess.PIPE)\n    for line in p.stdout:\n        content = json.loads(line)\n        # ...process your line's content here.\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 9599400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20e2d6180ca479e4ccb68a25354f5296?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Jaquo", "link": "https://stackoverflow.com/users/9599400/tom-jaquo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7841, "favorite_count": 1, "accepted_answer_id": 49662098, "answer_count": 2, "score": 1, "last_activity_date": 1522887443, "creation_date": 1522883303, "last_edit_date": 1522885779, "question_id": 49661771, "link": "https://stackoverflow.com/questions/49661771/jsondecodeerror-expecting-property-name-enclosed-in-double-quotes-from-file-wi", "title": "JSONDecodeError &quot;Expecting property name enclosed in double quotes&quot; from file with multiple JSON documents", "body": "<p>Having looked everywhere on Google and having no success at finding a solution to this problem, I continue getting the following error:</p>\n\n<pre><code>JSONDecodeError: Expecting property name enclosed in double quotes: line 2 column 1 (char 2)\n</code></pre>\n\n<p>The error occurs at the line: <code>row = json.loads(row)</code> in my Python file. The JSON file contains a section from the Reddit comments from <code>2015-05</code>:</p>\n\n<p>JSON (<code>learn\\learning_data\\2015\\RC_2015-05</code>):</p>\n\n<pre><code>{\n  \"created_utc\": \"1430438400\",\n  \"ups\": 4,\n  \"subreddit_id\": \"t5_378oi\",\n  \"link_id\": \"t3_34di91\",\n  \"name\": \"t1_cqug90g\",\n  \"score_hidden\": false,\n  \"author_flair_css_class\": null,\n  \"author_flair_text\": null,\n  \"subreddit\": \"soccer_jp\",\n  \"id\": \"cqug90g\",\n  \"removal_reason\": null,\n  \"gilded\": 0,\n  \"downs\": 0,\n  \"archived\": false,\n  \"author\": \"rx109\",\n  \"score\": 4,\n  \"retrieved_on\": 1432703079,\n  \"body\": \"\\u304f\\u305d\\n\\u8aad\\u307f\\u305f\\u3044\\u304c\\u8cb7\\u3063\\u305f\\u3089\\u8ca0\\u3051\\u306a\\u6c17\\u304c\\u3059\\u308b\\n\\u56f3\\u66f8\\u9928\\u306b\\u51fa\\u306d\\u30fc\\u304b\\u306a\",\n  \"distinguished\": null,\n  \"edited\": false,\n  \"controversiality\": 0,\n  \"parent_id\": \"t3_34di91\"\n}\n</code></pre>\n\n<p><strong>*The JSON data is only a fraction of what I actually have, and I cannot change the format.</strong> eg. </p>\n\n<pre><code>{\n  \"text\": \"data\",\n  \"text\": \"data\"\n}\n{\n  \"text2\": \"data\",\n  \"text2\": \"data\"\n}\n{\n  \"text3\": \"data\",\n  \"text3\": \"data\"\n}\netc...\n</code></pre>\n\n<p>Python (<code>learn\\main.py</code>):</p>\n\n<pre><code>with open(\"learning_data/{}/RC_{}\".format(timeframe.split('-')[0], timeframe), buffering=1000) as f:\nfor row in f:\n    row_counter += 1\n    row = json.loads(row)\n    body = format_data(row['body'])\n    created_utc = row['created_utc']\n    parent_id = row['parent_id']\n    comment_id = row['name']\n    score = row['score']\n    subreddit = row['subreddit']       \n    parent_data = find_parent(parent_id)\n\n    if score &gt;= 2:\n        if acceptable(body):\n            existing_comment_score = find_existing_score(parent_id)\n</code></pre>\n\n<p>The JSON file already has double quotes on everything that needed double quotes.\nIf there was some other error causing this one <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">JSONLint.com</a> claimed the JSON was free from them.</p>\n\n<p>I had been referencing my code from <a href=\"https://pythonprogramming.net/building-database-chatbot-deep-learning-python-tensorflow/\" rel=\"nofollow noreferrer\">this tutorial</a>, where the tutorial's code worked fine without any errors (<em>this is according to the video attached, for using the code from the link above, I still get the error</em>). Because the tutorial used Python 3.5, I downgraded my Python version and continued to get the same error.</p>\n\n<p><strong>What's the cause of this error if the JSON is already using double quotes and valid by <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">JSONLint</a>?</strong></p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 2, "creation_date": 1522896965, "post_id": 49661770, "comment_id": 86336753, "body": "<code>window.after(450, window.destroy())</code> destroys the window RIGHT NOW, and 450 milliseconds later does nothing (since the return value of <code>.destroy()</code> is not a callable object).  Get rid of the <code>()</code>."}, {"owner": {"reputation": 11, "user_id": 9599472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b3c45916e765f248c55e20993c1ae0?s=128&d=identicon&r=PG&f=1", "display_name": "TheSupport101", "link": "https://stackoverflow.com/users/9599472/thesupport101"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1522935800, "post_id": 49661770, "comment_id": 86358513, "body": "That&#39;s odd. Like I explained, the way it is like now makes it so the window DOES take 450ms to be destroyed, regardless of whether an event happens or not, while removing () from the <i>window.after(450, window.destroy())</i> like you suggest actually makes it so the window isn&#39;t destroyed at all until a new event happens. My objective is: the window should disappear 450ms after it apperas, <b>unless</b> a new event happens meanwhile, in which case it should be immediately destroyed and replaced by a new window."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 1, "creation_date": 1522940747, "post_id": 49661770, "comment_id": 86362354, "body": "Sounds like the Tk event loop isn&#39;t running.  I don&#39;t know anything about this <code>i3ipc</code> module you&#39;re using, so I can&#39;t tell you how to integrate its event loop with Tk&#39;s, but that&#39;s something that has to be done if both are to be continuously functional."}], "owner": {"reputation": 11, "user_id": 9599472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b3c45916e765f248c55e20993c1ae0?s=128&d=identicon&r=PG&f=1", "display_name": "TheSupport101", "link": "https://stackoverflow.com/users/9599472/thesupport101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522935961, "creation_date": 1522883289, "last_edit_date": 1522935961, "question_id": 49661770, "link": "https://stackoverflow.com/questions/49661770/tkinter-destroying-window-after-a-few-seconds-unless-a-specific-event-is-dete", "title": "Tkinter - destroying window after a few seconds, unless a specific event is detected", "body": "<p>I'm writing a python script, using Tkinter and the i3ipc to display a window whenever I change focus between different windows in the i3 window manager. For those who don't know what that is, ignore that part, all I use from it is one function to get the focused window's name which I'm certain is working. I'll post the code below.</p>\n\n<pre><code>#/usr/bin/env python\n\nimport i3ipc\nimport tkinter as tk\n\nwindow_width = 150\nwindow_height = 50\n\ni3 = i3ipc.Connection()\n\nroot = tk.Tk()\nroot.withdraw()\n\ncurrent_window = None\n\n\n# This function gets the name of the focused window.\ndef find_focused():\n    focused = i3.get_tree().find_focused()\n    window_name = focused.window_class\n    return window_name\n\n\ndef create_new(root):\n    global current_window\n    if current_window is not None:\n        current_window.destroy()\n    current_window = tk.Toplevel(root)\n    return current_window\n\n\ndef kill(root, window):\n    root.quit()\n    window.after(450, window.destroy())\n    window.update()\n\n\n\"\"\"\nThis is the closests I came to a solution (in my mind)\n\ndef eliminate(root, window):\n    window.destroy()\n    root.update()\n\ndef alternative_kill(root, window):\n    window.after(450, lambda: eliminate(root, window))\n    root.quit()\n\"\"\"\n\n\ndef show_window(i3, e):\n\n    print(\"ciclo\")\n\n    window_name = find_focused()\n\n    window = create_new(root)\n    window.overrideredirect(True)\n\n    screen_width = root.winfo_screenwidth()\n    screen_height = root.winfo_screenheight()\n    x = (screen_width/2) - (window_width/2)\n    y = (screen_height/2) - (window_height/2)\n\n    window.geometry(\"%dx%d+%d+%d\" % (window_width, window_height, x, y))\n\n    canvas = tk.Canvas(window)\n    canvas.pack()\n    canvas.create_text(window_width/2, window_height/2, text=window_name)\n\n    window.after(50, lambda: kill(root, window))\n    # alternatively, I'd call alternative_kill instead of this\n    root.mainloop()\n\n\ni3.on(\"window::focus\", show_window)\n\ni3.main()\n</code></pre>\n\n<p>Here's my issue. With the current implementation of the code, when I switch focus, a window with the name appears and disappears after 450ms. However, if I quickly change focus many times (faster than 450ms), since each window takes 450ms to be destroyed and a new one to be created, the display of their names lags behind. So, <strong>I'd need something to destroy the window and show a new one as soon as a focus event occurred, otherwise destroy it after 450ms.</strong></p>\n\n<p>I've tried switching the <em>kill</em> function with <em>alternative_kill</em> (see code). I thought I could use root.quit() to quit the mainloop, making it ready to receive further events, while calling on <em>eliminate</em> to destroy the window and <em>root.update()</em> to show it. Apparently, that doesn't work and when running that code the window is only shown after the first focus change and it stops working (as in, the program keeps going but no further event is received, apparently).</p>\n\n<p>EDIT: To reiterate, my objective is: destroy the window 450ms after it appears, <strong>unless</strong> an event happens meanwhile (focus change), in which case the window should be destroyed immediately and a new one should appear.</p>\n"}, {"tags": ["python", "wxpython", "wxwidgets", "sizer", "wxgrid"], "answers": [{"tags": [], "owner": {"reputation": 1243, "user_id": 108064, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/168f430e5bcdb0c7eb0fa60355278303?s=128&d=identicon&r=PG", "display_name": "Taudris", "link": "https://stackoverflow.com/users/108064/taudris"}, "is_accepted": true, "score": 1, "last_activity_date": 1522887665, "creation_date": 1522887665, "answer_id": 49662328, "question_id": 49661746, "link": "https://stackoverflow.com/questions/49661746/wxpython-collapsible-panes-inconsistent-sizing-response/49662328#49662328", "title": "wxpython collapsible panes inconsistent sizing response", "body": "<p><code>thisPanel</code> is being set inside your loop, but you're calling <code>SetSizer</code> after the loop, so only the last <code>thisPanel</code> gets a sizer. Move the call to <code>SetSizer</code> inside the loop.</p>\n"}], "owner": {"reputation": 60, "user_id": 4993140, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j9mlDmJeKtI/AAAAAAAAAAI/AAAAAAAAACA/ar7fyqr4ZOI/photo.jpg?sz=128", "display_name": "Mythee", "link": "https://stackoverflow.com/users/4993140/mythee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 49662328, "answer_count": 1, "score": 1, "last_activity_date": 1522887665, "creation_date": 1522883139, "question_id": 49661746, "link": "https://stackoverflow.com/questions/49661746/wxpython-collapsible-panes-inconsistent-sizing-response", "title": "wxpython collapsible panes inconsistent sizing response", "body": "<p>Okay so, something's odd and I can't figure it out. Suppose I've got some categories, each with some items, all fitted into a dictionary.</p>\n\n<pre><code>import wx\nnyoom = {}\nnyoom['spiders'] = ['Yellow Sac', 'Orbweaver', 'Garden']\nnyoom['cats']= ['Bombay','Angora']\nnyoom['cambrian'] = ['Wiwaxia','Hallucigenia','Pikaia','Alomancaris']\n</code></pre>\n\n<p>Then I want to display each category as a button which collapses or displays all of that category's contents as buttons as well.</p>\n\n<pre><code>class SeqFrame(wx.Frame):\n    def __init__(self):\n        wx.Frame.__init__( self, None, wx.ID_ANY, \"GUI Woes\", size=(400,400))\n        self.panel = wx.Panel(self, wx.ID_ANY)\n        sizer = wx.FlexGridSizer(cols=2, hgap=5, vgap=5) #sizer for the window\n        numActsTxtBox = wx.TextCtrl( self.panel, -1, \"1\", size=(40, -1))\n        numActsTxtTxt = wx.CheckBox( self.panel, -1, \"Number of Times\")\n        sizer.Add( numActsTxtTxt, 0, wx.ALL )\n        sizer.Add( numActsTxtBox, 0, wx.ALL )\n        for categories in nyoom.keys():\n            self.categPanes=[]\n            self.categPanes.append(wx.CollapsiblePane(self.panel, -1, label=categories))\n            self.buildPanes(self.categPanes[-1], sizer)\n            thisPanel = self.categPanes[-1].GetPane()\n            panelSizer = wx.BoxSizer( wx.VERTICAL ) #sizer for the panel contents\n            sortedCategory = nyoom[categories]\n            sortedCategory.sort()\n            for i in range(0,len(nyoom[categories])): \n                thisSeq = wx.Button( thisPanel, label=sortedCategory[i], name=sortedCategory[i])\n                panelSizer.Add( thisSeq, 0, wx.GROW | wx.ALL ,0 )\n        thisPanel.SetSizer(panelSizer)\n        panelSizer.SetSizeHints(thisPanel)\n        self.panel.SetSizerAndFit(sizer)\n        self.Fit()\n    def buildPanes(self, categPane, sizer):\n        categPane.Bind(wx.EVT_COLLAPSIBLEPANE_CHANGED, self.OnPaneChanged)\n        sizer.Add(categPane, 0, wx.GROW | wx.ALL, 0)\n    def OnPaneChanged(self, evt):\n        self.panel.GetSizer().Layout()\n        self.panel.Fit()\n        self.Fit()\n\nif __name__ == '__main__': \n    app = wx.App()\n    frame = SeqFrame()\n    frame.Show(True)\n    app.MainLoop() \n</code></pre>\n\n<p>(That's my entire sample app.) \nI can't figure out why, but everything works fine for the last category in the dictionary: \n<img src=\"https://i.stack.imgur.com/cil2n.png\" alt=\"screenshot\">\nBut the previous categories can only display one button/item.<br>\n<img src=\"https://i.stack.imgur.com/K83RD.png\" alt=\"screenshot 2\"></p>\n"}, {"tags": ["python", "qt", "pyqt", "qtableview", "selectionmodel"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1522888176, "post_id": 49661720, "comment_id": 86334796, "body": "I have tried it with PyQt5 5.10.1 and it works correctly, I do not observe that problem, what version are you using?"}, {"owner": {"reputation": 13543, "user_id": 1107049, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8f94b3bb695b3bbd83be44eb151aa63e?s=128&d=identicon&r=PG", "display_name": "alphanumeric", "link": "https://stackoverflow.com/users/1107049/alphanumeric"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1522951721, "post_id": 49661720, "comment_id": 86369092, "body": "Thanks for your question! ..using PyQt5 5.6.2"}], "owner": {"reputation": 13543, "user_id": 1107049, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/8f94b3bb695b3bbd83be44eb151aa63e?s=128&d=identicon&r=PG", "display_name": "alphanumeric", "link": "https://stackoverflow.com/users/1107049/alphanumeric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522882974, "creation_date": 1522882974, "question_id": 49661720, "link": "https://stackoverflow.com/questions/49661720/how-to-invert-qtableview-selection-with-sorting-enabled", "title": "How to invert QTableView selection with Sorting Enabled", "body": "<p>The code below creates a single <code>QTableView</code> with a <code>QPushButton</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OXpiD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OXpiD.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>from PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nfrom PyQt5.QtCore import *\napp = QApplication([])    \n\nclass Dialog(QDialog):\n    def __init__(self, parent=None):\n        super(Dialog, self).__init__(parent)\n        self.setLayout(QVBoxLayout())\n        self.view = QTableView(self)\n        self.view.setSelectionBehavior(QTableWidget.SelectRows)\n        self.view.setSortingEnabled(True)\n        self.view.sortByColumn(0, Qt.DescendingOrder)\n\n        self.view.setModel(QStandardItemModel(4, 4))\n        for each in [(row, col, QStandardItem('item %s_%s' % (row, col))) for row in range(4) for col in range(4)]:\n            self.view.model().setItem(*each)\n\n        self.layout().addWidget(self.view)\n\n        btn1 = QPushButton('Invert selection')\n        btn1.clicked.connect(self.invertSelection)\n        self.layout().addWidget(btn1)\n        self.resize(500, 250)\n        self.show()\n\n    def invertSelection(self):\n        model = self.view.model()\n        for i in range(model.rowCount()):\n            for j in range(model.columnCount()):\n                ix = model.index(i, j)\n                self.view.selectionModel().select(ix, QItemSelectionModel.Toggle)\n\n\ndialog = Dialog()\napp.exec_()\n</code></pre>\n\n<p>....</p>\n\n<p><strong>Step 1:</strong>\nSelect the last row by clicking on any of its cells. The clicked row is highlighted blue to indicate it is now selected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gjk2s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gjk2s.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Step 2:</strong>\nClick \"Invert selection\" button. The selection is properly inverted:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8vzx9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8vzx9.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Step 3:</strong>\nNow click on column header #4 to sort by last column. At this point the selection is broken (there is only one cell is selected and it is shifted wild):\n<a href=\"https://i.stack.imgur.com/KduBa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KduBa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Question: How to fix the issue?</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 6356, "user_id": 5030164, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/11b6c08b9d6554e51280244985e3022d?s=128&d=identicon&r=PG&f=1", "display_name": "modesitt", "link": "https://stackoverflow.com/users/5030164/modesitt"}, "edited": false, "score": 0, "creation_date": 1522883920, "post_id": 49661708, "comment_id": 86333589, "body": "firstly, this stacked lstm structure is quite unusual for what you are doing to say the least."}], "answers": [{"comments": [{"owner": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "edited": false, "score": 0, "creation_date": 1522916268, "post_id": 49662059, "comment_id": 86344640, "body": "Thanks a lot for the very detailed answer. It really helped me move forward. I have some follow-up questions. Why would a stacked LSTM RNN not work in this case? On your first suggestion Y_train is reshaped to (430, 10) instead of (430, 10, 1). How can the RNN be trained if there are is no actual data, since the last dimension are the close prices we are interested in? From what aspect is the second suggestion better? Lastly an example in sample_weighting would be very much appreaciated. Thanks a lot. I&#39;ve been in a rut for days and I cannot express my gratitude for the help."}, {"owner": {"reputation": 6356, "user_id": 5030164, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/11b6c08b9d6554e51280244985e3022d?s=128&d=identicon&r=PG&f=1", "display_name": "modesitt", "link": "https://stackoverflow.com/users/5030164/modesitt"}, "reply_to_user": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "edited": false, "score": 0, "creation_date": 1522942749, "post_id": 49662059, "comment_id": 86363826, "body": "No worries. @PnerFlner I will add the answers to your question in my actual answer now."}, {"owner": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "edited": false, "score": 0, "creation_date": 1522959464, "post_id": 49662059, "comment_id": 86373451, "body": "Your answers have been of great help. Thanks a lot. Finally, do you have a resource to start over with Keras, be it a book, a series of videos or lecture? I have been learning from some online tutorials but they are insufficient to say the least.You can kick start some things the fast way, albeit at the expense of true understanding."}], "tags": [], "owner": {"reputation": 6356, "user_id": 5030164, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/11b6c08b9d6554e51280244985e3022d?s=128&d=identicon&r=PG&f=1", "display_name": "modesitt", "link": "https://stackoverflow.com/users/5030164/modesitt"}, "is_accepted": true, "score": 11, "last_activity_date": 1564323430, "last_edit_date": 1564323430, "creation_date": 1522885601, "answer_id": 49662059, "question_id": 49661708, "link": "https://stackoverflow.com/questions/49661708/keras-lstm-multiple-input-multiple-output/49662059#49662059", "title": "Keras LSTM Multiple Input Multiple Output", "body": "<p>Let's take a step back here and look at what is done and why it does not work.</p>\n\n<p>Firstly, your input data is of the following shape:</p>\n\n<pre><code>(samples, timesteps, features)\n</code></pre>\n\n<p>Secondly, you would like your output data to be of the following shape:</p>\n\n<pre><code>(samples, future_timesteps, 1)\n</code></pre>\n\n<p>This kind of architecture is known as <a href=\"https://blog.keras.io/a-ten-minute-introduction-to-sequence-to-sequence-learning-in-keras.html\" rel=\"noreferrer\">sequence to sequence learning</a> (colloquially referred to as Seq2Seq).</p>\n\n<p>So how do we do a Seq2Seq? There are a few ways you might want to read up on and this is still an area of very active research. Here are some ideas.</p>\n\n<p>Note this is done with the <a href=\"https://keras.io/models/model/\" rel=\"noreferrer\">keras functional api</a>. It is better.</p>\n\n<p>Read the input sequence from both directions, then predict the next 30 units for pricing by having a final dense layer of 30 units.</p>\n\n<pre><code>input_layer = Input(shape=(600,6,))\n\nlstm = Bidirectional(\n    LSTM(250),\n    merge_mode='concat'\n)(input_layer)\n\npred = Dense(10)(lstm)\nmodel = Model(inputs=input_layer, outputs=pred)\nmodel.compile(optimizer = 'adam', loss = 'mean_squared_error')\n\nmodel.fit(X_train, Y_train, epochs = 20, batch_size = 32)\n</code></pre>\n\n<p>where <code>Y_train</code> is reshaped to <code>(430, 10)</code> instead of <code>(430, 10, 1)</code>. In response to a comment, this does not alter the labels (<code>Y_train</code>) in any meaningful way. This is because the difference between (x, y, 1) and (x,y) is just as follows:</p>\n\n<pre><code>[[[1],[2],[3]],\n [[4],[5],[6]]]\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>[[1,2,3],\n [4,5,6]]\n</code></pre>\n\n<p>So a call like:</p>\n\n<pre><code>Y_train = np.reshape(Y_train, Y_train.shape[:2])\n</code></pre>\n\n<p>does not meaningfully affect the training data.</p>\n\n<p>However, this may not be the best architecture to begin with. This is because a single dense layer will be taking in the last hidden states from the forward and backward direction, instead of feeding every hidden state (from both directions) at every timestep. Effectively, the above model is unaware of more information presented in the below model. I suggest the following as an alternative.</p>\n\n<pre><code>input_layer = Input(shape=(600,6,))\n\nencoder = Bidirectional(\n    LSTM(250),\n    merge_mode='concat',\n    return_sequences=True\n)(input_layer)\ndecoder = LSTM(250, return_sequences=True)(encoder)\npred = TimeDistributed(Dense(1))(decoder)\nmodel = Model(inputs=input_layer, outputs=pred)\nmodel.compile(optimizer = 'adam', loss = 'mean_squared_error')\n\nmodel.fit(X_train, Y_train, epochs = 20, batch_size = 32)\n</code></pre>\n\n<p>where <code>Y_train</code> is formatted as <code>(430, 60, 1)</code>. If you only care about the next <code>10</code> entries, pass <code>sample weighting</code> into fit and weight everything after the <code>10th</code> time index as <code>0</code> (you can even populate it with garbage then if you want while training). This would be done as follows:</p>\n\n<pre><code>Y_train = np.hstack([Y_train]*6) \n</code></pre>\n\n<p>Then you would create a sample weight mask like:</p>\n\n<pre><code>W = np.zeros(Y_train.shape)\nW[:,np.arange(W.shape[1]) &lt; 10,:] = 1\n</code></pre>\n\n<p>That is, a mask where only the first 10 entries along the second axis are 1, and all others are zero. Pass this <code>W</code>, as the <code>sample_weights</code> parameter in <code>model.fit</code></p>\n\n<p>This way, the model can have a true sequence to sequence notion in the encoder/decoder paradigm.</p>\n\n<p>Finally, it is not that additional LSTMS (stacking) is necessaraly bad, but it is regarded to be incremental at best in improving models of this nature, and does add a large amount of complexity as well as severely increasing training time. Get a single model to work with recurrent depths of 1 (no stacking), and then you can work on either stacking your single lstm or stacking encoders/decoders in the second structure I gave you.</p>\n\n<p>Some additional tips for what you are doing:</p>\n\n<ul>\n<li>scale your data. StandardScaler, MinMaxScaler, whatever. Do not pass raw price data into an LSTM (or any deep learning model) as the activation functions will smash these values to -1, 1, 0 whatever and you will be subject to the vanishing or exploding gradients problem.</li>\n</ul>\n\n<p>I hope this helps!</p>\n"}], "owner": {"reputation": 296, "user_id": 3785975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2c651056d77098df617fadce7953d4f4?s=128&d=identicon&r=PG&f=1", "display_name": "Panos Filianos", "link": "https://stackoverflow.com/users/3785975/panos-filianos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7940, "favorite_count": 5, "accepted_answer_id": 49662059, "answer_count": 1, "score": 7, "last_activity_date": 1564323430, "creation_date": 1522882894, "question_id": 49661708, "link": "https://stackoverflow.com/questions/49661708/keras-lstm-multiple-input-multiple-output", "title": "Keras LSTM Multiple Input Multiple Output", "body": "<p>I am trying to train an RNN to predict stock prices in the future.</p>\n\n<p>My goal is to train the model using two datasets: X_train and y_train.</p>\n\n<p>X_train is a 3D array including (number of observations, number of previous candles, attributes of each candle)</p>\n\n<p>y_train is a 3D array including (number of observations, number of observations in the future, price).</p>\n\n<p>So if I have data from 500 candles my X_train will be (430,60,6): for 430 observations (current candle each time) take the 60 observations that came before it and 6 characteristics (close price, volume, etc.) of them and try to use that data (through the RNN) to predict y_train(430, 10,1): for 430 observations predict the close price (corresponds to 1) for the next 10 candles.\nI cannot, for the life of me, get the dimensions to enter the model correctly.\nI use the following code for the model:</p>\n\n<pre><code>regressor = Sequential()\n\nregressor.add(LSTM(units = 50, return_sequences = True, input_shape = ( \nX_train.shape[1], 6)))\nregressor.add(Dropout(0.2))\n\nregressor.add(LSTM(units = 50, return_sequences = True))\nregressor.add(Dropout(0.2))\n\nregressor.add(LSTM(units = 50, return_sequences = True))\nregressor.add(Dropout(0.2))\n\nregressor.add(LSTM(units = 50, return_sequences = True))\nregressor.add(Dropout(0.2))\n\nregressor.add(LSTM(units = 50, return_sequences=True))\nregressor.add(Dropout(0.2))\n\nregressor.add(LSTM(units = 1))\n\nregressor.compile(optimizer = 'adam', loss = 'mean_squared_error')\nregressor.fit(X_train, y_train, epochs = 20, batch_size = 32)\n</code></pre>\n\n<p>I get <code>ValueError: Error when checking target: expected lstm_6 to have 2 dimensions, but got array with shape (430, 10, 1)</code></p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 4708, "user_id": 5007059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/477099189c307a35bfb73097b19af9fe?s=128&d=identicon&r=PG&f=1", "display_name": "ndmeiri", "link": "https://stackoverflow.com/users/5007059/ndmeiri"}, "edited": false, "score": 1, "creation_date": 1522882695, "post_id": 49661678, "comment_id": 86333215, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37743940/python3-convert-julian-date-to-standard-date\">Python3 convert Julian date to standard date</a>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 4708, "user_id": 5007059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/477099189c307a35bfb73097b19af9fe?s=128&d=identicon&r=PG&f=1", "display_name": "ndmeiri", "link": "https://stackoverflow.com/users/5007059/ndmeiri"}, "edited": false, "score": 0, "creation_date": 1522882794, "post_id": 49661678, "comment_id": 86333251, "body": "@ndmeiri This appears to be the &quot;days since 1AD&quot; meaning of Julian date rather than the &quot;year * 1000 + days since the start of this year&quot; meaning, so that question and its answers won&#39;t help."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1522882939, "post_id": 49661678, "comment_id": 86333305, "body": "Just to be clear, the number you&#39;ve chosen translates to Friday, Oct  6, 2698 B.C.  Does that match your expectation?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1522883073, "post_id": 49661678, "comment_id": 86333340, "body": "@Rob\u1d69 I suspect he means 21 Oct 2016. Astronomers aren&#39;t the only ones who use JDNs."}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 4435028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3769ecf9edbcb3e3cdb08edb64ad4c5?s=128&d=identicon&r=PG&f=1", "display_name": "saum", "link": "https://stackoverflow.com/users/4435028/saum"}, "edited": false, "score": 0, "creation_date": 1522900066, "post_id": 49661725, "comment_id": 86337462, "body": "Thanks abarnert, how to i convert the gregorian date back to Julian date?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 321, "user_id": 4435028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3769ecf9edbcb3e3cdb08edb64ad4c5?s=128&d=identicon&r=PG&f=1", "display_name": "saum", "link": "https://stackoverflow.com/users/4435028/saum"}, "edited": false, "score": 0, "creation_date": 1522900757, "post_id": 49661725, "comment_id": 86337644, "body": "All the options are in the docs I linked. You can use <code>toordinal</code> to get the Python definition, you can subtract <code>date(1,1,1)</code> to get a <code>timedelta</code> and pull the days out of that to get the other definition, etc."}, {"owner": {"reputation": 321, "user_id": 4435028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3769ecf9edbcb3e3cdb08edb64ad4c5?s=128&d=identicon&r=PG&f=1", "display_name": "saum", "link": "https://stackoverflow.com/users/4435028/saum"}, "edited": false, "score": 0, "creation_date": 1522964941, "post_id": 49661725, "comment_id": 86375920, "body": "Thanks, i use the toordinal .                                                       &gt;&gt;&gt;from datetime import datetime                                                      &gt;&gt;&gt; datetime.strptime(&quot;2016-10-20&quot;, &quot;%Y-%m-%d&quot;).toordinal()"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1522883387, "last_edit_date": 1522883387, "creation_date": 1522883034, "answer_id": 49661725, "question_id": 49661678, "link": "https://stackoverflow.com/questions/49661678/converting-form-julian-date-to-gregorian-date-in-python/49661725#49661725", "title": "converting form Julian date to gregorian date in python", "body": "<p>The term \"Julian date\" has two different meanings, and different variations for each.</p>\n\n<p>I think you're looking for the \"days since epoch\" meaning, and using the 1 Jan 1 CE epoch rather than the more common astronomers' epoch of 4713 BCE or <a href=\"https://en.wikipedia.org/wiki/Julian_day#Variants\" rel=\"nofollow noreferrer\">any of the other alternatives</a>. You can adjust that pretty easily.</p>\n\n<pre><code>&gt;&gt;&gt; datetime.date(1, 1, 1) + datetime.timedelta(days=736257)\ndatetime.date(2016, 10, 21)\n</code></pre>\n\n<p>That's all there is to it. (Which is the point of using Julian dates in the first place.)</p>\n\n<hr>\n\n<p>Notice that under the covers, <a href=\"https://github.com/python/cpython/blob/3.6/Lib/datetime.py#L82\" rel=\"nofollow noreferrer\">this is the same format Python <code>datetime</code> is already using</a>, for its <a href=\"https://docs.python.org/3/library/datetime.html#date-objects\" rel=\"nofollow noreferrer\"><code>date</code></a> and <code>datetime</code> types, except that Python uses midnight UTC instead of local noon. If that's what you want, it's even easier:</p>\n\n<pre><code>&gt;&gt;&gt; datetime.date.fromordinal(736257)\ndatetime.date(2016, 10, 20, 0, 0)\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 4435028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3769ecf9edbcb3e3cdb08edb64ad4c5?s=128&d=identicon&r=PG&f=1", "display_name": "saum", "link": "https://stackoverflow.com/users/4435028/saum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3234, "favorite_count": 1, "accepted_answer_id": 49661725, "answer_count": 1, "score": 1, "last_activity_date": 1522883387, "creation_date": 1522882652, "question_id": 49661678, "link": "https://stackoverflow.com/questions/49661678/converting-form-julian-date-to-gregorian-date-in-python", "title": "converting form Julian date to gregorian date in python", "body": "<p>I have a Julian date: 736257, I need help converting it from Julian date to Gregorian date in Python.</p>\n"}, {"tags": ["python", "string", "concatenation"], "answers": [{"comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522883239, "post_id": 49661740, "comment_id": 86333382, "body": "Fantastic use of <code>*</code> for unpacking"}], "tags": [], "owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "is_accepted": true, "score": 3, "last_activity_date": 1522883115, "creation_date": 1522883115, "answer_id": 49661740, "question_id": 49661621, "link": "https://stackoverflow.com/questions/49661621/string-manipulations-in-pandas/49661740#49661740", "title": "string manipulations in Pandas", "body": "<p>You can do some string formatting and apply it to the Series:</p>\n\n<pre><code>df.B.apply(lambda x: '{}({})'.format(*x.split('_')[::-1]))\n\n\n0       apples(big)\n1      oranges(big)\n2      pears(small)\n3    grapes(medium)\n</code></pre>\n\n<p>Here <code>apply</code> is applying the formatting to each item of the series. Then apply the string formatting you desire (I'm using <code>[::-1]</code> to reverse the order of the string) and <code>*</code> to \"unpack\" the return values that are in a list</p>\n"}], "owner": {"reputation": 71, "user_id": 9363160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "M-M", "link": "https://stackoverflow.com/users/9363160/m-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 49661740, "answer_count": 1, "score": 1, "last_activity_date": 1522883115, "creation_date": 1522882308, "question_id": 49661621, "link": "https://stackoverflow.com/questions/49661621/string-manipulations-in-pandas", "title": "string manipulations in Pandas", "body": "<p>I am trying to manipulate a large list of strings, so cannot do this manually. I am new to python so am having trouble figuring this out.</p>\n\n<p>I have a dataframe with columns:</p>\n\n<pre><code>df = pd.read_csv('filename.csv')\ndf\nA      B      \n0      big_apples\n1      big_oranges\n2      small_pears\n3      medium_grapes\n</code></pre>\n\n<p>and I need it to look more like:</p>\n\n<pre><code>A      B      \n0      apples(big)\n1      oranges(big)\n2      pears(small)\n3      grapes(medium)\n</code></pre>\n\n<p>I was thinking of using a startswith() function and .replace()/concatenate everything. But then I would have to create columns for each of these and i need it to recognize the unique prefixes. Is there a more efficient method?</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "edited": false, "score": 0, "creation_date": 1522907787, "post_id": 49661615, "comment_id": 86339886, "body": "&quot;according to the docs check_object_permissions is called in this class&quot; I don&#39;t think so, where did you read that ?"}, {"owner": {"reputation": 51, "user_id": 8075852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8376a5398c01542f429a9ba1f0c93be6?s=128&d=identicon&r=PG&f=1", "display_name": "billyjacoby", "link": "https://stackoverflow.com/users/8075852/billyjacoby"}, "reply_to_user": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "edited": false, "score": 0, "creation_date": 1522961518, "post_id": 49661615, "comment_id": 86374441, "body": "hmmm looking back at the docs now it seems that the generic DetailView is where I saw it, not ListView."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8075852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8376a5398c01542f429a9ba1f0c93be6?s=128&d=identicon&r=PG&f=1", "display_name": "billyjacoby", "link": "https://stackoverflow.com/users/8075852/billyjacoby"}, "edited": false, "score": 1, "creation_date": 1522961617, "post_id": 49665174, "comment_id": 86374479, "body": "Hmm alright. Let me ask you then, would using <code>DjangoObjectPermissionsfilter</code> make more sense then just defining the <code>get_queryset</code> method on this class?"}, {"owner": {"reputation": 320, "user_id": 1792932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9520bffa0515e54859f849fc8b6b99e1?s=128&d=identicon&r=PG", "display_name": "Dragos Stanciu", "link": "https://stackoverflow.com/users/1792932/dragos-stanciu"}, "edited": false, "score": 0, "creation_date": 1538120394, "post_id": 49665174, "comment_id": 92039994, "body": "I was also wondering this... From what I understand, you can use <code>get_queryset</code> to do a simple filtering of the objects displayed to the user (e.g. get just the items owned by the user making the request via <code>SELECT * FROM item WHERE item.owner = request.user</code>). If you use the <code>DjangoObjectPermissionsFilter</code>, you are also checking permissions at object level for each item returned to the user. So I would assume the latter method provides more security? Maybe @Linovia can help?"}], "tags": [], "owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "is_accepted": false, "score": 2, "last_activity_date": 1522908237, "creation_date": 1522908237, "answer_id": 49665174, "question_id": 49661615, "link": "https://stackoverflow.com/questions/49661615/django-rest-framework-listcreateapiview-not-checking-has-object-permissions/49665174#49665174", "title": "Django Rest Framework ListCreateAPIView not checking has_object_permissions?", "body": "<p>Calling <code>has_object_permission</code> doesn't make sense for lists. It is intended for single instances.</p>\n\n<p>What you want is to <em>filter</em> your list of objects so it only leaves those for which the user has some permissions. <a href=\"http://www.django-rest-framework.org/api-guide/filtering/#djangoobjectpermissionsfilter\" rel=\"nofollow noreferrer\">DjangoObjectPermissionsFilter</a> does it but requires django-guardian. You might get a similar result but creating your own filtering class (<a href=\"https://github.com/encode/django-rest-framework/blob/master/rest_framework/filters.py#L279-L308\" rel=\"nofollow noreferrer\">sources for DjangoObjectPermissionsFilter</a>)</p>\n"}], "owner": {"reputation": 51, "user_id": 8075852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8376a5398c01542f429a9ba1f0c93be6?s=128&d=identicon&r=PG&f=1", "display_name": "billyjacoby", "link": "https://stackoverflow.com/users/8075852/billyjacoby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1522908237, "creation_date": 1522882285, "last_edit_date": 1522884694, "question_id": 49661615, "link": "https://stackoverflow.com/questions/49661615/django-rest-framework-listcreateapiview-not-checking-has-object-permissions", "title": "Django Rest Framework ListCreateAPIView not checking has_object_permissions?", "body": "<p>I've been trying to figure this out for almost a full day now, and I can't seem to figure out why <code>has_object_permission method</code> isn't called when the <code>ListCreateAPIView</code> is called in <code>DRF</code>. I've tried all the solutions I could find, but according to the docs <code>check_object_permissions</code> is called in this class already.</p>\n\n<p>I know it has to be something stupid I'm missing. Code snippets are below, please help!</p>\n\n<p>views.py:</p>\n\n<pre><code>from accountability.models import AccountabilityItem\nfrom accountability.serializers import AccountabilityItemSerializer\nfrom rest_framework import generics\nfrom .permissions import InGroup\n\nclass AccountabilityItemListCreate(generics.ListCreateAPIView):\n    queryset = AccountabilityItem.objects.all()\n    serializer_class = AccountabilityItemSerializer\n    permission_classes = (InGroup,)\n</code></pre>\n\n<p>permissions.py:</p>\n\n<pre><code>from rest_framework import permissions\n\n\nclass InGroup(permissions.BasePermission):\n    \"\"\"\n    Custom permission to only allow owners of an object to edit it.\n    \"\"\"\n    def has_object_permission(self, request, view, obj):\n        print('Checking for object')\n        return False\n</code></pre>\n\n<p>Another note, I've added the <code>has_permission</code> method to the <code>permissions.py</code> file, and this method runs all the time no matter what.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "keras"], "comments": [{"owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 1, "creation_date": 1522883964, "post_id": 49661612, "comment_id": 86333602, "body": "I don&#39;t see why it should share the weights. How did you conclude that the weights are shared after training? Are they identical? If they are, are you sure that you are providing different inputs to both the models?"}, {"owner": {"reputation": 964, "user_id": 3759231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d3b3f20a41137429b6222c2dc2ccf230?s=128&d=identicon&r=PG&f=1", "display_name": "maniac", "link": "https://stackoverflow.com/users/3759231/maniac"}, "reply_to_user": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 0, "creation_date": 1522953268, "post_id": 49661612, "comment_id": 86370025, "body": "In debug mode the weight names of both pt_models are the same. I don&#39;t know the numerical weights however."}], "owner": {"reputation": 964, "user_id": 3759231, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d3b3f20a41137429b6222c2dc2ccf230?s=128&d=identicon&r=PG&f=1", "display_name": "maniac", "link": "https://stackoverflow.com/users/3759231/maniac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522953392, "creation_date": 1522882249, "last_edit_date": 1522953392, "question_id": 49661612, "link": "https://stackoverflow.com/questions/49661612/keras-load-model-multiple-times-no-weight-sharing-build-model-on-top-and-save", "title": "Keras load model multiple times, no weight sharing, build model on top and save", "body": "<p>How to load a <strong>model multiple times</strong>, <strong>don't share weights</strong> between them, build a new model on top and <strong>save</strong> the new model?</p>\n\n<p>What I did:</p>\n\n<pre><code>def loadPretrainedModel(minuslayers, addStr):\n    model = model_from_json(myModelJson)\n    model.load_weights(weightsfile)\n    for i in range(minusLayers):\n        model.layers.pop()\n        model.outputs = [model.layers[len(model.layers) - 1].output]\n        model.layers[len(model.layers) - 1].outbound_nodes = []\n\n    for layer in model.layers:\n        layer.name = layer.name + addStr\n\n    model.name = model.name + addStr\n    return model\n\n\npt_model1 = loadPretrainedModel(3, \"\")\npt_model1 = pt_model1([newInput1])\npt_model2 = loadPretrainedModel(3, \"_mod2\")\npt_model2 = pt_model2([newInput2])\n\nnewModel = Concatenate(axis=1)([pt_model1, pt_model2])\nnewModel = Dense(180, activation='tanh')(newModel)\n... More Layers ..\nnewModel = Model(input=[newInput1, newInput2],outputs=myOutputs)\n</code></pre>\n\n<p>I'm not able to save the new model with <code>newModel.save(myPath)</code>\nKeras throws </p>\n\n<blockquote>\n  <p>{KeyError}: 'out-ib_0'</p>\n</blockquote>\n\n<p>The model compiles and trains, but it seems that the weights between pt_model1 and pt_model2 are shared because the weight names in debug mode are the same.</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "data-visualization", "multiclass-classification"], "comments": [{"owner": {"reputation": 979, "user_id": 9316046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0367ead53cbd76bc1e5a1aee47034d?s=128&d=identicon&r=PG&f=1", "display_name": "Stev", "link": "https://stackoverflow.com/users/9316046/stev"}, "edited": false, "score": 0, "creation_date": 1523005902, "post_id": 49661591, "comment_id": 86389951, "body": "There is an awful lot of unpack here. What is <code>ensemble_test</code>? Have you tried plotting your ROC curves before ensembling? Are you trying to predict each rock type separately?"}, {"owner": {"reputation": 55, "user_id": 8666560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TmRqh.jpg?s=128&g=1", "display_name": "SMAmir", "link": "https://stackoverflow.com/users/8666560/smamir"}, "reply_to_user": {"reputation": 979, "user_id": 9316046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d0367ead53cbd76bc1e5a1aee47034d?s=128&d=identicon&r=PG&f=1", "display_name": "Stev", "link": "https://stackoverflow.com/users/9316046/stev"}, "edited": false, "score": 0, "creation_date": 1523132607, "post_id": 49661591, "comment_id": 86436803, "body": "<code>ensemble_test</code> is just another method of voting as I mentioned in the question. I I am trying to predict the rock type based on the log data I get. I tried to train the classifiers on individual rock type and my <code>X_train</code> remains the same while <code>y_trains</code> are a series of rocks as you can see. I did the same with Automatic voting, <code>RandomForestClassifier</code>, <code>SVM</code> &amp; <code>KNearestNeighbor</code>, but my ROC plots work perfectly as I expected them to after getting good prediction scores of <code>f1</code> and <code>roc_auc</code> from them, but when I do this on <code>ensemble_test</code>,  it looks awfully bad as you can see."}], "owner": {"reputation": 55, "user_id": 8666560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TmRqh.jpg?s=128&g=1", "display_name": "SMAmir", "link": "https://stackoverflow.com/users/8666560/smamir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522963043, "creation_date": 1522882126, "last_edit_date": 1522963043, "question_id": 49661591, "link": "https://stackoverflow.com/questions/49661591/higher-roc-auc-and-f-1-scores-but-poor-looking-roc-curves", "title": "Higher ROC-AUC and F-1 scores but poor looking ROC-curves", "body": "<p>I recreated a new Ensemble method that does Voting manually between my three classifiers. (Courtesty of Daniel who helped me make the function from here: <a href=\"https://stackoverflow.com/questions/49396961/improving-the-prediction-score-by-use-of-confidence-level-of-classifiers-on-inst\">Improving the prediction score by use of confidence level of classifiers on instances</a>).</p>\n\n<p>The purpose of this manual voting was to accept the answers for each instance for the most confident classifier. Below is the code with their accuracy scores:</p>\n\n<pre><code># parameters for random forest\nrfclf_params = {\n    'n_estimators': 500, \n    'bootstrap': True, \n    'class_weight':None, \n    'criterion':'gini',\n    'max_depth':None, \n    'max_features':'auto',\n    'warm_start': True,\n    'random_state': 41\n    # ... fill in the rest you want here\n}\n\n# Fill in svm params here\nsvm_params = {\n    'C': 100,\n    'probability':True,\n    'random_state':42\n}\n\n# KNeighbors params go here\nkneighbors_params= {\n    'n_neighbors': 5,\n    'weights':'distance'\n}\n\ny_test_classes = (y_test_sl, y_test_lim, y_test_shale, y_test_sandlim, y_test_ss, y_test_dol, y_test_sand)\nclassifiers = [RandomForestClassifier, SVC, KNeighborsClassifier]\nparams = [rfclf_params, svm_params, kneighbors_params]\ny_trains_classes= (y_train_sl, y_train_lim, y_train_shale, y_train_sandlim, \n                   y_train_ss, y_train_dol, y_train_sand)\ny_classes_names = (\"shaly limestone\", \"limestone\", \"shale\", \"sandy lime\", \n                   \"shaly sandstone\", \"dolomite\", \"sandstone\")\n\n#Just get predictions\nfor y_trains, y_test, y_strings in zip(y_trains_classes, y_test_classes, y_classes_names):\n    y_preds_test = ensemble_test(classifiers, params, X_train, y_trains, X_test_prepared)\n    print(\"\\n\",\"Accuracy score for\", y_strings, \"=\", accuracy_score(y_test, y_preds_test))\n    print(\"f1_score for\", y_strings, \"=\", f1_score(y_test, y_preds_test,\n                                                        average = 'weighted', labels=np.unique(y_preds_test)))\n    print(\"roc auc score for\", y_strings, \"=\", roc_auc_score(y_test, y_preds_test,\n                                                                  average = 'weighted'))\n\nAccuracy score for shaly limestone = 0.949514563107\nf1_score for shaly limestone = 0.949653574035\nroc auc score for shaly limestone = 0.933362369338\n\n Accuracy score for limestone = 0.957281553398\nf1_score for limestone = 0.957272532095\nroc auc score for limestone = 0.957311555515\n\n Accuracy score for shale = 0.95145631068\nf1_score for shale = 0.948556595316\nroc auc score for shale = 0.845505617978\n\n Accuracy score for sandy lime = 0.998058252427\nf1_score for sandy lime = 0.998008114117\nroc auc score for sandy lime = 0.95\n\n Accuracy score for shaly sandstone = 0.996116504854\nf1_score for shaly sandstone = 0.998054474708\nroc auc score for shaly sandstone = 0.5\n\n Accuracy score for dolomite = 1.0\nf1_score for dolomite = 1.0\nroc auc score for dolomite = 1.0\n\n Accuracy score for sandstone = 0.996116504854\nf1_score for sandstone = 0.996226826208\nroc auc score for sandstone = 0.997995991984\n</code></pre>\n\n<p>When I want to plot an ROC-curves I know that I need to get <code>predict_probas</code> from this function so again, referring to suggestion from the link earlier I made the function return probabilities instead:</p>\n\n<pre><code>def ensemble_proba(classifiers, params, X_train, y_train, X_test):\n    best_preds_test = np.zeros((len(X_test), 2))\n    classes_test = np.unique(y_train)\n\n    for i in range(len(classifiers)):\n        # Construct the classifier by unpacking params \n        # store classifier instance\n        clf_test = classifiers[i](**params[i])\n        # Fit the classifier as usual and call predict_proba\n        clf_test.fit(X_train, y_train)\n        y_preds_test = clf_test.predict_proba(X_test)\n        # Take maximum probability for each class on each classifier \n        # This is done for every instance in X_test\n        # see the docs of np.maximum here: \n        # https://docs.scipy.org/doc/numpy-1.14.0/reference/generated/numpy.maximum.html\n        best_preds_test = np.maximum(best_preds_test, y_preds_test)\n\n    # map the maximum probability for each instance back to its corresponding class\n    preds_test = np.array([classes_test[np.argmax(pred)] for pred in best_preds_test])\n    return np.array([np.amax(pred_probs) for pred_probs in best_preds_test])\n</code></pre>\n\n<p>Now, since I wanted to plot ROC-curves for all the classes in the test set I did the following and got ROC-curves that look very different then what I had expected to since my ROC-AUC scores are pretty good except for \"shaly sandstone\" class.</p>\n\n<pre><code>for y_trains, y_test, y_strings in zip(y_trains_classes, y_test_classes, y_classes_names):\n    y_scores_ensemble_all = ensemble_proba(classifiers, params, X_train, y_trains, X_test_prepared)\n    fpr_ensemble_all, tpr_ensemble_all, thresholds_ensemble_all = roc_curve(y_test_all,\n                                                                              y_scores_ensemble_all)\n\n    plt.figure(figsize=(8, 6))\n    plot_roc_curve(fpr_ensemble_all, tpr_ensemble_all, \"Ensemble manual voting\")\n    plt.legend(loc=\"lower right\", fontsize=16)\n    plt.title('ROC curve of Ensemble manual voting of  %s'%(y_strings))\n    plt.axis([-0.01, 1.01, -0.01, 1.01])\n    plt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BCKBE.png\" rel=\"nofollow noreferrer\">First two classes</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/dHmb6.png\" rel=\"nofollow noreferrer\">Next two classes</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sjNNs.png\" rel=\"nofollow noreferrer\">Next two classes</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CPP51.png\" rel=\"nofollow noreferrer\">Last class</a></p>\n\n<p>Why does the curves look like this when their F1-scores and ROC-AUC scores are pretty good for almost all classes but they perform poorly on the ROC-curves? Did I do something wrong when I returned the probabilties from my function or are the curves supposed to look like this due to some reasons?</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 568, "user_id": 1534822, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/424117693cafd55b921dfe0b8ff3f428?s=128&d=identicon&r=PG", "display_name": "asdf", "link": "https://stackoverflow.com/users/1534822/asdf"}, "edited": false, "score": 0, "creation_date": 1522882239, "post_id": 49661587, "comment_id": 86333036, "body": "can you be more explicity? you have an array of 4 elements and you expect an array of 4 elements as output. what is for you element-wiseness?"}, {"owner": {"reputation": 191, "user_id": 5965685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf72bb2c2a66a57dff9ed8e23039c145?s=128&d=identicon&r=PG&f=1", "display_name": "mitchute", "link": "https://stackoverflow.com/users/5965685/mitchute"}, "reply_to_user": {"reputation": 568, "user_id": 1534822, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/424117693cafd55b921dfe0b8ff3f428?s=128&d=identicon&r=PG", "display_name": "asdf", "link": "https://stackoverflow.com/users/1534822/asdf"}, "edited": false, "score": 0, "creation_date": 1522882711, "post_id": 49661587, "comment_id": 86333219, "body": "For an N-element array, I expect an N-1 array to be returned as shown."}], "answers": [{"comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 2, "creation_date": 1522883451, "post_id": 49661608, "comment_id": 86333443, "body": "You can use <code>convolve</code> with <code>mode=&#39;valid&#39;</code>  instead of the error prone and more difficult to read slicing."}], "tags": [], "owner": {"reputation": 3461, "user_id": 166605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/49k8V.jpg?s=128&g=1", "display_name": "G&#252;nther Jena", "link": "https://stackoverflow.com/users/166605/g%c3%bcnther-jena"}, "is_accepted": true, "score": 4, "last_activity_date": 1522883558, "last_edit_date": 1522883558, "creation_date": 1522882223, "answer_id": 49661608, "question_id": 49661587, "link": "https://stackoverflow.com/questions/49661587/numpy-element-wise-mean-for-1d-array/49661608#49661608", "title": "Numpy element-wise mean for 1D array", "body": "<p>Use the following code:</p>\n\n<pre><code>&gt;&gt;&gt; (a[:-1]+a[1:])/2\narray([ 2.,  4.,  6.])\n</code></pre>\n\n<p>The following steps are taken:</p>\n\n<pre><code>&gt;&gt;&gt; a[:-1]\narray([1, 3, 5])\n&gt;&gt;&gt; a[1:]\narray([3, 5, 7])\n&gt;&gt;&gt; a[:-1]+a[1:]\narray([ 4,  8, 12])\n&gt;&gt;&gt; (a[:-1]+a[1:])/2\narray([ 2.,  4.,  6.])\n</code></pre>\n\n<p>A more generic way would be to have a moving average filter over <code>N</code> elements (code is taken from <a href=\"https://stackoverflow.com/a/22621523/166605\">lapis</a> with addition from Paul Panzer). In your case it would be averaging over two elements:</p>\n\n<pre><code>&gt;&gt;&gt; N=2\n&gt;&gt;&gt; np.convolve(a, np.ones((N,))/N, mode='valid')\narray([ 2.,  4.,  6.])\n\n&gt;&gt;&gt; N=3\n&gt;&gt;&gt; np.convolve(a, np.ones((N,))/N, mode='valid')\narray([ 3.,  5.])\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5965685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf72bb2c2a66a57dff9ed8e23039c145?s=128&d=identicon&r=PG&f=1", "display_name": "mitchute", "link": "https://stackoverflow.com/users/5965685/mitchute"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 49661608, "answer_count": 1, "score": 0, "last_activity_date": 1522883558, "creation_date": 1522882099, "question_id": 49661587, "link": "https://stackoverflow.com/questions/49661587/numpy-element-wise-mean-for-1d-array", "title": "Numpy element-wise mean for 1D array", "body": "<p>I would like to compute the element-wise mean of elements in a 1D array.</p>\n\n<pre><code>&gt;&gt;&gt; a = np.array([1, 3, 5, 7])\n&gt;&gt;&gt; b = element_wise_mean(a)\n&gt;&gt;&gt; b\narray([2., 4., 6.])\n</code></pre>\n\n<p>Is there anything that will already do this other than a simple custom function?</p>\n"}, {"tags": ["python", "abaqus"], "comments": [{"owner": {"reputation": 2095, "user_id": 7038689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea19ae9f57b95d7abfeaa796650bd2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/7038689/matt-p"}, "edited": false, "score": 0, "creation_date": 1522941208, "post_id": 49661543, "comment_id": 86362709, "body": "Is this a face of a shell? According to the docs, then <code>(...).faces[0].pointOn[1]</code> should return a tuple representing the normal at the 1st face. Are you saying that this is not the case? If it is a solid, then that&#39;s different."}, {"owner": {"reputation": 133, "user_id": 3994399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e40a144f09a61c6a3a1e127f6d396b7?s=128&d=identicon&r=PG&f=1", "display_name": "ThaNoob", "link": "https://stackoverflow.com/users/3994399/thanoob"}, "reply_to_user": {"reputation": 2095, "user_id": 7038689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea19ae9f57b95d7abfeaa796650bd2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/7038689/matt-p"}, "edited": false, "score": 0, "creation_date": 1522944679, "post_id": 49661543, "comment_id": 86365051, "body": "I don&#39;t really know the definition of a shell, it&#39;s a face of a part though. This is the full line of code: <code>odb.rootAssembly.instances[&#39;FEMUR_SHAFT_1&#39;].surfaces[&#39;IMPLAN&zwnj;&#8203;T_SHAFT&#39;].faces[0]</code> So indeed, it is not returning the normal of the first face. It is returning a &#39;symbolicConstant&#39; object."}, {"owner": {"reputation": 2095, "user_id": 7038689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea19ae9f57b95d7abfeaa796650bd2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/7038689/matt-p"}, "edited": false, "score": 0, "creation_date": 1522957931, "post_id": 49661543, "comment_id": 86372648, "body": "You probably ought to know what a solid and a shell are. I don&#39;t explain it in my answer, but I do try to point you in a direction so you can look into it."}, {"owner": {"reputation": 133, "user_id": 3994399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e40a144f09a61c6a3a1e127f6d396b7?s=128&d=identicon&r=PG&f=1", "display_name": "ThaNoob", "link": "https://stackoverflow.com/users/3994399/thanoob"}, "reply_to_user": {"reputation": 2095, "user_id": 7038689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea19ae9f57b95d7abfeaa796650bd2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/7038689/matt-p"}, "edited": false, "score": 0, "creation_date": 1523001412, "post_id": 49661543, "comment_id": 86387190, "body": "I believe right now that a solid is a volume mesh and a shell is a surface mesh, is that correct?"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 3994399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e40a144f09a61c6a3a1e127f6d396b7?s=128&d=identicon&r=PG&f=1", "display_name": "ThaNoob", "link": "https://stackoverflow.com/users/3994399/thanoob"}, "edited": false, "score": 0, "creation_date": 1523001344, "post_id": 49680289, "comment_id": 86387148, "body": "Allright, I think I get it. This way of getting the face normal only works if you have a shell, which actually is an empty hull (a surface mesh and not a volume mesh). In my case it is indeed a solid according to this definition. Although I don&#39;t really get why they make the distinction since we&#39;re working on a surface of that solid. Still there is something odd. Because this line of code: <code>print(odb.rootAssembly.instances[&#39;FEMUR_SHAFT_1&#39;].surfaces[&#39;&zwnj;&#8203;IMPLANT_SHAFT&#39;].face&zwnj;&#8203;s[0].pointOn)</code>returns an attribute error. According to your answer it shouldn&#39;t."}, {"owner": {"reputation": 2095, "user_id": 7038689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea19ae9f57b95d7abfeaa796650bd2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/7038689/matt-p"}, "reply_to_user": {"reputation": 133, "user_id": 3994399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e40a144f09a61c6a3a1e127f6d396b7?s=128&d=identicon&r=PG&f=1", "display_name": "ThaNoob", "link": "https://stackoverflow.com/users/3994399/thanoob"}, "edited": false, "score": 0, "creation_date": 1523006307, "post_id": 49680289, "comment_id": 86390212, "body": "No, you&#39;re still mixing up the odb and mdb objects. So, actually according to my answer the odb object returns a symbolic constant, which doesn&#39;t have the pointOn member, and that&#39;s why you get an attribute error."}, {"owner": {"reputation": 133, "user_id": 3994399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e40a144f09a61c6a3a1e127f6d396b7?s=128&d=identicon&r=PG&f=1", "display_name": "ThaNoob", "link": "https://stackoverflow.com/users/3994399/thanoob"}, "edited": false, "score": 0, "creation_date": 1523008598, "post_id": 49680289, "comment_id": 86391807, "body": "Oh damn, so stupid. I get it now. I&#39;ve been working for a while with the Odb so I just overlooked the &#39;M&#39; at the beginning. Is it possible that in your answer the first example should be <code>f=mdb.rootAssembly.instances[name].surfaces[name].faces[N]</code>  instead of odb?"}], "tags": [], "owner": {"reputation": 2095, "user_id": 7038689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea19ae9f57b95d7abfeaa796650bd2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/7038689/matt-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1523009095, "last_edit_date": 1523009095, "creation_date": 1522957289, "answer_id": 49680289, "question_id": 49661543, "link": "https://stackoverflow.com/questions/49661543/abaqus-get-face-object/49680289#49680289", "title": "Abaqus get face object", "body": "<p>You are referring to two different objects in your post and in your comment. One is a Face object in the mdb, the other is an OdbSet object in the odb. Although they are similarly named, they do not have the same meaning, attributes, or methods. This is the source of the error message you mention.</p>\n\n<p>For example, in your original post you are referencing the geometric Face object in the mdb. For example:</p>\n\n<pre><code>`f = mdb.rootAssembly.instances[name].surfaces[name].faces[N]` \n</code></pre>\n\n<p>where <code>N</code> references the specific Face object in the <code>faces</code> array and we are assigning it to the variable <code>f</code>. Now, <code>f</code> has a handful of \"members\" or attributes. One of the them is <code>f.pointOn</code>. See how to use this below.</p>\n\n<p>However, in your comments, you refer to the OdbSet object. For example: </p>\n\n<pre><code>`g = odb.rootAssembly.instances[name].surfaces[name].faces[N]`\n</code></pre>\n\n<p>In this case, <code>faces</code> is a tuple of symbolic constants that specify the element face on the geometric face. It seems you are trying to use <code>g</code>, but you actually should be using the mdb Face object <code>f</code>.</p>\n\n<hr>\n\n<p><strong>Using the mdb Face object:</strong> If your part is a solid (meshed using continuum elements such as CPS4 in 2D or C3D8 in 3D), then:</p>\n\n<pre><code>((x,y,z),) = f.pointOn\n</code></pre>\n\n<p>The <code>pointOn</code> member is a tuple of tuples of floats. There is actually only one inner tuple, and it contains the coordinates of a point on the face.</p>\n\n<p>If your part is a shell (meshed using shell elements such as S4), then you will instead get:</p>\n\n<pre><code>((x,y,z),(a,b,c)) = f.pointOn\n</code></pre>\n\n<p>which is again, a tuple of tuples of floats. There are two inner tuples. The first contains the coordinates of a point on the face, and the second contains the components of the normal to the face in the global coordinate system. </p>\n\n<p>I have the feeling that your part is a solid, however, so this technique will not return the normal to the surface. </p>\n"}], "owner": {"reputation": 133, "user_id": 3994399, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6e40a144f09a61c6a3a1e127f6d396b7?s=128&d=identicon&r=PG&f=1", "display_name": "ThaNoob", "link": "https://stackoverflow.com/users/3994399/thanoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1541, "favorite_count": 0, "accepted_answer_id": 49680289, "answer_count": 1, "score": 2, "last_activity_date": 1523009095, "creation_date": 1522881808, "last_edit_date": 1523008759, "question_id": 49661543, "link": "https://stackoverflow.com/questions/49661543/abaqus-get-face-object", "title": "Abaqus get face object", "body": "<p>I'm trying to get the normal of every face in a surface (EDIT: the surface is extracted from a solid, not a shell). I can't seem to get the face objects though. According to the <a href=\"https://help.3ds.com/2017/english/dssimulia_established/simacaekerrefmap/simaker-c-facepyc.htm?contextscope=all\" rel=\"nofollow noreferrer\">scripting reference guide</a> this should be the syntax:</p>\n\n<pre><code>mdb.models[name].rootAssembly.instances[name].surfaces[name].faces[i]\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>femur_instance.surfaces['IMPLANT_SHAFT'].faces[0]\n</code></pre>\n\n<p>but when trying to get the normal using <code>pointOn[1]</code> attribute it gave me an attribute error. When I look at the attributes I get this:</p>\n\n<pre><code>['__class__', '__copy__', '__delattr__', '__dict__', '__doc__', '__format__', '__getattribute__', '__getstate__', '__hash__', '__init__', '__lt__', '__module__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setstate__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', '_addToCache', '_cache', '_counter', '_id', '_p', '_scdId', 'getId', 'getText', 'name']\n</code></pre>\n\n<p>the type of the returned object is: 'symbolicConstant'</p>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT: <code>femur_instance</code> was defined as, <code>odb.rootAssembly.instances['FEMUR_SHAFT_1']</code> which caused the error, see answer.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 3, "creation_date": 1522881513, "post_id": 49661497, "comment_id": 86332773, "body": "Count the parentheses on the previous line."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 5, "creation_date": 1522881563, "post_id": 49661497, "comment_id": 86332791, "body": "Did your Python really say <code>invalid syntaxer code here</code>?"}, {"owner": {"reputation": 7, "user_id": 9599405, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fNfhS5jhUyI/AAAAAAAAAAI/AAAAAAAAAZU/sd6n18LOBOY/photo.jpg?sz=128", "display_name": "Yousif Ragab", "link": "https://stackoverflow.com/users/9599405/yousif-ragab"}, "edited": false, "score": 0, "creation_date": 1522954683, "post_id": 49661497, "comment_id": 86370836, "body": "That is strange. It did say line 4 but the problem was on line 3. I have no idea why python did that it confused me a lot."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 9599405, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fNfhS5jhUyI/AAAAAAAAAAI/AAAAAAAAAZU/sd6n18LOBOY/photo.jpg?sz=128", "display_name": "Yousif Ragab", "link": "https://stackoverflow.com/users/9599405/yousif-ragab"}, "edited": false, "score": 0, "creation_date": 1522954626, "post_id": 49661513, "comment_id": 86370801, "body": "Thanks, :). I can&#39;t believe I missed something as small as that."}], "tags": [], "owner": {"reputation": 8247, "user_id": 1457269, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed84b6b7868b1ca4fd974144875d1330?s=128&d=identicon&r=PG&f=1", "display_name": "ApplePie", "link": "https://stackoverflow.com/users/1457269/applepie"}, "is_accepted": true, "score": 1, "last_activity_date": 1522881619, "creation_date": 1522881619, "answer_id": 49661513, "question_id": 49661497, "link": "https://stackoverflow.com/questions/49661497/python-code-what-is-wrong-with-this-basic-code/49661513#49661513", "title": "Python Code. What is wrong with this basic code?", "body": "<p>You are missing a parenthesis on line 3. It should be:</p>\n\n<pre><code>print('n\\Keys:',dict.keys())\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 9599405, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fNfhS5jhUyI/AAAAAAAAAAI/AAAAAAAAAZU/sd6n18LOBOY/photo.jpg?sz=128", "display_name": "Yousif Ragab", "link": "https://stackoverflow.com/users/9599405/yousif-ragab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "closed_date": 1522881886, "accepted_answer_id": 49661513, "answer_count": 1, "score": -2, "last_activity_date": 1522881619, "creation_date": 1522881442, "question_id": 49661497, "link": "https://stackoverflow.com/questions/49661497/python-code-what-is-wrong-with-this-basic-code", "closed_reason": "Not suitable for this site", "title": "Python Code. What is wrong with this basic code?", "body": "<p>\ufeff<strong>Just doing some basic code and then this error popped up. I have no idea what I should fix everything seems fine. (Using Python)</strong></p>\n\n<p>Code:</p>\n\n<pre><code>dict = {'name':'Bob','ref':'Python','sys':'Win'}\nprint('\\nReference:',dict['ref'])\nprint('n\\Keys:',dict.keys()\ndel dict[ 'name' ]\ndict['user']='Tom'\nprint('\\nDictionary:',dict)\nprint('\\nIs There A name Key?:','name' in dict)\n\nC:\\Python&gt;dictionary.py\nFile \"C:\\Python\\dictionary.py\", line 4\ndel dict[ 'name' ]\n^\nSyntaxError: invalid syntaxer code here\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 1520, "user_id": 5276428, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jftwU.jpg?s=128&g=1", "display_name": "burglarhobbit", "link": "https://stackoverflow.com/users/5276428/burglarhobbit"}, "edited": false, "score": 0, "creation_date": 1522922083, "post_id": 49662190, "comment_id": 86348657, "body": "I understood what you&#39;re trying to say, but can you provide me minor workable example with <code>tf.cond</code> and <code>tf.contrib.cudnn_rnn.Cudnn_GRU</code>? Thanks."}, {"owner": {"reputation": 1520, "user_id": 5276428, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jftwU.jpg?s=128&g=1", "display_name": "burglarhobbit", "link": "https://stackoverflow.com/users/5276428/burglarhobbit"}, "edited": false, "score": 0, "creation_date": 1522932505, "post_id": 49662190, "comment_id": 86356028, "body": "I created those variables outside the tf.cond scope, and it gives the same error."}, {"owner": {"reputation": 1762, "user_id": 3661120, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2945ed0aa05dd03ab9ebbc5f33668360?s=128&d=identicon&r=PG&f=1", "display_name": "dashnick", "link": "https://stackoverflow.com/users/3661120/dashnick"}, "edited": false, "score": 0, "creation_date": 1525542620, "post_id": 49662190, "comment_id": 87401692, "body": "you created those variables outside of the functions returned by the <code>tf.cond()</code>? I&#39;d just double check because it might be another error on a different line.  Can you post your new code?"}], "tags": [], "owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "is_accepted": false, "score": 1, "last_activity_date": 1522886864, "last_edit_date": 1522886864, "creation_date": 1522886551, "answer_id": 49662190, "question_id": 49661495, "link": "https://stackoverflow.com/questions/49661495/valueerror-initializer-for-variable-cudnn-gru-opaque-kernel-is-from-inside-a-c/49662190#49662190", "title": "ValueError: Initializer for variable cudnn_gru/opaque_kernel/ is from inside a control-flow construct, such as a loop or conditional", "body": "<p><code>tf.cond</code> and <code>tf.while</code> loops work by calling the true/false function or loops condition/body functions only <strong>once</strong>. Those functions return some OP, or group of OPs perform some function such as check a condition and return true/false or in the case of the while body perform some set of actions.</p>\n\n<p>Tensorflow only needs to call your function once to get the definition of the operations it will need. Tensorflow will handle calling that set of operations in a loop or as is necessary.</p>\n\n<p>Notice that this means that the dependency graph is static, nothing is changing while the loop executes. Tensorflow is simply adjusting dependencies and what the next step in the dependency graph is.</p>\n\n<p>So, if you were to create a variable as part of the loop you would be changing the structure of the dependency graph - this isn't how the loops/conditions are designed to be used.</p>\n\n<p>You need to define your variable outside of the condition or loop function. You can access the variable from within the loop function, but not create it there. </p>\n\n<p>Notice in an RNN/GRU that you only have one set of weights that are applied at every time step. So you don't need to be calling <code>tf.get_variable</code> inside the condition/while function, you certainly can create the 3 variables you need one time up front.</p>\n\n<p>Also, I expect that the way you defined your function as a class is wrong. Since tensorflow is only every calling that function once the whole class is overkill and probably confusing matters.</p>\n\n<p>Here's an example of a tf while loop that I coded a while back that may give you a good example to follow. I would try to simplify it to follow this example format (e.g. remove the class).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/49314186/tensorflow-how-to-implement-cumulative-maximum/49342079#49342079\">Tensorflow: How to implement cumulative maximum?</a></p>\n"}], "owner": {"reputation": 1520, "user_id": 5276428, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/jftwU.jpg?s=128&g=1", "display_name": "burglarhobbit", "link": "https://stackoverflow.com/users/5276428/burglarhobbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1508, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1522886864, "creation_date": 1522881438, "question_id": 49661495, "link": "https://stackoverflow.com/questions/49661495/valueerror-initializer-for-variable-cudnn-gru-opaque-kernel-is-from-inside-a-c", "title": "ValueError: Initializer for variable cudnn_gru/opaque_kernel/ is from inside a control-flow construct, such as a loop or conditional", "body": "<h3>System information</h3>\n\n<ul>\n<li><strong>Have I written custom code (as opposed to using a stock example script provided in TensorFlow)</strong>: Yes</li>\n<li><strong>OS Platform and Distribution</strong>: Ubuntu 16.04</li>\n<li><strong>TensorFlow installed from</strong>: Binary</li>\n<li><strong>TensorFlow version</strong>: 1.5.0</li>\n<li><strong>Python version</strong>: 3.5.2</li>\n<li><strong>CUDA/cuDNN version</strong>: 9.0/7</li>\n<li><strong>GPU model and memory</strong>: NVIDIA GTX 1080 8GB x 4 </li>\n<li><strong>Exact command to reproduce</strong>: Code as below</li>\n</ul>\n\n<p>I have been trying to use a for-loop with <code>tf.cond</code> applied on <code>cudnn_gru</code> to run multiple times on inputs, and the minimum error reproducible code is as below:</p>\n\n<pre><code>import tensorflow as tf\nmax_para = tf.placeholder(tf.int32)\nnum_units = 150\ninputs = tf.placeholder(tf.float32,shape=[15,8,num_units])\nclass cudnn_gru:\n    def __init__(self):\n        self.gru_fw = tf.contrib.cudnn_rnn.CudnnGRU(1, num_units, \n            kernel_initializer=tf.random_normal_initializer(stddev=0.1))\n        with tf.variable_scope('CUDNN_GRU', reuse=tf.AUTO_REUSE):\n            self.init_fw = tf.get_variable(\"init_fw\",shape=[1, 8, num_units],initializer=\n                tf.zeros_initializer())\n            self.init_bw = tf.get_variable(\"init_bw\",shape=[1, 8, num_units],initializer=\n                tf.zeros_initializer())\n    def __call__(self,inputs):\n        out_fw, _ = self.gru_fw(inputs, initial_state=(self.init_fw,))\n\nclass cudnn_gru2:\n    def __init__(self):\n        self.gru_fw = tf.contrib.cudnn_rnn.CudnnGRU(1, num_units-1, \n            kernel_initializer=tf.random_normal_initializer(stddev=0.1))\n        with tf.variable_scope('CUDNN_GRU', reuse=tf.AUTO_REUSE):\n            self.init_fw = tf.get_variable(\"init_fw\",shape=[1, 8, num_units],initializer=\n                tf.zeros_initializer())\n            self.init_bw = tf.get_variable(\"init_bw\",shape=[1, 8, num_units],initializer=\n                tf.zeros_initializer())\n    def __call__(self,inputs):\n        out_fw, _ = self.gru_fw(inputs, initial_state=(self.init_fw,))\n\ndef get_output():\n    gru = cudnn_gru()\n    out = gru(inputs)\n    return tf.constant(1)\n\ndef get_output2():\n    gru = cudnn_gru2()\n    out = gru(inputs)\n    return tf.constant(2)\n\nfor i in range(3):\n    i_ = tf.constant(i)\n    out = tf.cond(i_&lt;max_para,get_output,get_output2)\n</code></pre>\n\n<p>The error stacktrace is as follows:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"temp.py\", line 41, in &lt;module&gt;\n    out = tf.cond(i_&lt;max_para,get_output,get_output2)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/util/deprecation.py\", line 316, in new_func\n    return func(*args, **kwargs)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 1894, in cond\n    orig_res_t, res_t = context_t.BuildCondBranch(true_fn)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/control_flow_ops.py\", line 1752, in BuildCondBranch\n    original_result = fn()\n  File \"temp.py\", line 31, in get_output\n    out = gru(inputs)\n  File \"temp.py\", line 15, in __call__\n    out_fw, _ = self.gru_fw(inputs, initial_state=(self.init_fw,))\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/layers/base.py\", line 636, in __call__\n    self.build(input_shapes)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/contrib/cudnn_rnn/python/layers/cudnn_rnn.py\", line 357, in build\n    \"opaque_kernel\", initializer=opaque_params_t, validate_shape=False)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 1262, in get_variable\n    constraint=constraint)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 1097, in get_variable\n    constraint=constraint)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 427, in get_variable\n    return custom_getter(**custom_getter_kwargs)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/contrib/cudnn_rnn/python/layers/cudnn_rnn.py\", line 290, in _update_trainable_weights\n    variable = getter(*args, **kwargs)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 404, in _true_getter\n    use_resource=use_resource, constraint=constraint)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/variable_scope.py\", line 806, in _get_single_variable\n    constraint=constraint)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/variables.py\", line 229, in __init__\n    constraint=constraint)\n  File \"/home/search/snetP/virtual_bhavya/lib/python3.5/site-packages/tensorflow/python/ops/variables.py\", line 342, in _init_from_args\n    \"initializer.\" % name)\nValueError: Initializer for variable cudnn_gru/opaque_kernel/ is from inside a control-flow construct, such as a loop or conditional. When creating a variable inside a loop or conditional, use a lambda as the initializer.\n</code></pre>\n\n<p>How can I achieve this without causing compilation error during model building?</p>\n"}, {"tags": ["python", "ide", "pycharm", "copy-paste"], "answers": [{"tags": [], "owner": {"reputation": 923, "user_id": 3582076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0faa71bfbd05449fb38801abe4987594?s=128&d=identicon&r=PG&f=1", "display_name": "user3582076", "link": "https://stackoverflow.com/users/3582076/user3582076"}, "is_accepted": true, "score": 1, "last_activity_date": 1522953577, "creation_date": 1522953577, "answer_id": 49679290, "question_id": 49661492, "link": "https://stackoverflow.com/questions/49661492/pycharm-ctrlv-copies-the-item-in-console-instead-paste-when-highlighted/49679290#49679290", "title": "pycharm ctrl+v copies the item in console instead paste when highlighted", "body": "<p>I figured it out: it's caused by the copy-on-select setting of my linux system. To turn it off, go to mobax-settings-configurations-x11-clipboard-disable 'copy on select'</p>\n"}], "owner": {"reputation": 923, "user_id": 3582076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0faa71bfbd05449fb38801abe4987594?s=128&d=identicon&r=PG&f=1", "display_name": "user3582076", "link": "https://stackoverflow.com/users/3582076/user3582076"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 49679290, "answer_count": 1, "score": 0, "last_activity_date": 1522953640, "creation_date": 1522881408, "last_edit_date": 1522953640, "question_id": 49661492, "link": "https://stackoverflow.com/questions/49661492/pycharm-ctrlv-copies-the-item-in-console-instead-paste-when-highlighted", "title": "pycharm ctrl+v copies the item in console instead paste when highlighted", "body": "<p>This has been a very annoying problem for me and I couldn't find any keymaps or settings that could cause this behavior.</p>\n\n<h2>Setup:</h2>\n\n<ol>\n<li>Pycharm Professional 2018.1 installed on redhat linux</li>\n<li>I remote into the linux machine using mobaX and launch pycharm with window forwarding</li>\n</ol>\n\n<h2>Scenario 1:</h2>\n\n<p>I open a browser on windows, copy some text, go to editor or console, paste it somewhere without highlighting any text, hit <kbd>ctrl</kbd>+<kbd>v</kbd>, it pastes fine</p>\n\n<h2>Scenario 2:</h2>\n\n<p>I open a browser on windows, copy some text, go to editor or console, highlight some text there, hit <kbd>ctrl</kbd>+<kbd>v</kbd> in attempt to replace the highlighted text with what's in my clipboard. The text didn't change. I leave pycharm and paste somewhere else, the text in clipboard has now become the text I highlighted.</p>\n\n<p>Edit:\nok I just realized this: as soon as I highlight the text, it gets copied...I've turned this feature off for terminal, but couldn't find a global settings for the editor etc. Anyone know how?</p>\n"}, {"tags": ["python", "sql", "postgresql"], "comments": [{"owner": {"reputation": 2495, "user_id": 7313844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rEqq2.jpg?s=128&g=1", "display_name": "Dario", "link": "https://stackoverflow.com/users/7313844/dario"}, "edited": false, "score": 1, "creation_date": 1522881920, "post_id": 49661487, "comment_id": 86332918, "body": "Err.. in the <code>if</code> part, you have seven <code>%s</code> placeholders, but provide only six values: <code>customer[&#39;id&#39;]</code> is missing."}, {"owner": {"reputation": 11, "user_id": 8921027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051e71bac532193a4e9dd3172d3780ca?s=128&d=identicon&r=PG&f=1", "display_name": "Latey Laley", "link": "https://stackoverflow.com/users/8921027/latey-laley"}, "reply_to_user": {"reputation": 2495, "user_id": 7313844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rEqq2.jpg?s=128&g=1", "display_name": "Dario", "link": "https://stackoverflow.com/users/7313844/dario"}, "edited": false, "score": 0, "creation_date": 1522882191, "post_id": 49661487, "comment_id": 86333017, "body": "Thank you, however even with that updated, i&#39;m getting the same error."}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522884030, "post_id": 49661487, "comment_id": 86333617, "body": "What does the entire request look like?"}, {"owner": {"reputation": 11, "user_id": 8921027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051e71bac532193a4e9dd3172d3780ca?s=128&d=identicon&r=PG&f=1", "display_name": "Latey Laley", "link": "https://stackoverflow.com/users/8921027/latey-laley"}, "edited": false, "score": 0, "creation_date": 1522885069, "post_id": 49661487, "comment_id": 86333908, "body": "I&#39;m not sure what that means?"}], "answers": [{"tags": [], "owner": {"reputation": 37141, "user_id": 5315974, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/MNGHV.png?s=128&g=1", "display_name": "Vao Tsun", "link": "https://stackoverflow.com/users/5315974/vao-tsun"}, "is_accepted": false, "score": 0, "last_activity_date": 1522913102, "creation_date": 1522913102, "answer_id": 49666479, "question_id": 49661487, "link": "https://stackoverflow.com/questions/49661487/array-value-must-start-with-or-dimension-information/49666479#49666479", "title": "Array Value Must Start with &quot;{&quot; or dimension information", "body": "<p>Your table definition does not reconcile with declared error - you have no arrays in it and yet the error you see clearly comes from bad array definition, eg:</p>\n\n<pre><code>t=# select 'not array'::text[];\nERROR:  malformed array literal: \"not array\"\nLINE 1: select 'not array'::text[];\n               ^\nDETAIL:  Array value must start with \"{\" or dimension information.\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8921027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051e71bac532193a4e9dd3172d3780ca?s=128&d=identicon&r=PG&f=1", "display_name": "Latey Laley", "link": "https://stackoverflow.com/users/8921027/latey-laley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2580, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522913113, "creation_date": 1522881396, "last_edit_date": 1522913113, "question_id": 49661487, "link": "https://stackoverflow.com/questions/49661487/array-value-must-start-with-or-dimension-information", "title": "Array Value Must Start with &quot;{&quot; or dimension information", "body": "<p>Here's my create table code:</p>\n\n<pre><code>cur.execute('CREATE TABLE IF NOT EXISTS Customers (id INTEGER PRIMARY KEY, firstName Varchar(30), lastName Varchar(30), street TEXT, city Varchar(50), state Varchar(2), zip INTEGER);')\n</code></pre>\n\n<p>And here's my Upsert Function:</p>\n\n<pre><code>def upsert_customer(customer):\n    cur=conn.cursor()\n\n    if 'id' in customer:\n        cur.execute('UPDATE Customers SET firstName= %s, lastName = %s, street=%s, city=%s, state=%s, zip=%s WHERE id =%s;' , (customer['firstName'], customer['lastName'], customer['street'], customer['city'], customer['state'], customer['zip']))\n    else:\n        cur.execute('INSERT INTO Customers( firstName, lastName, street,city,state,zip) VALUES ( %s, %s, %s, %s, %s, %s);' , (customer['firstName'], customer['lastName'], customer['street'], customer['city'], customer['state'], customer['zip']))\n\n    conn.commit()\n</code></pre>\n\n<p>When I add a customer from a webpage, I get the error message, and in the web page it displays the following error: \" Internal Server Error\nThe server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.\"</p>\n\n<p>The program is to complete implementation of functions that connects a web page to our PostgreSQL in ElephantSQL. I'm not sure how to fix this. </p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1514, "user_id": 648044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1O1I.png?s=128&g=1", "display_name": "Guglie", "link": "https://stackoverflow.com/users/648044/guglie"}, "edited": false, "score": 0, "creation_date": 1522885816, "post_id": 49661456, "comment_id": 86334115, "body": "Can you share your csv file?"}, {"owner": {"reputation": 1, "user_id": 9599323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-orQdsBH1Id4/AAAAAAAAAAI/AAAAAAAAC4Q/0VeliWgstow/photo.jpg?sz=128", "display_name": "John Wilkins", "link": "https://stackoverflow.com/users/9599323/john-wilkins"}, "reply_to_user": {"reputation": 1514, "user_id": 648044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1O1I.png?s=128&g=1", "display_name": "Guglie", "link": "https://stackoverflow.com/users/648044/guglie"}, "edited": false, "score": 0, "creation_date": 1522892895, "post_id": 49661456, "comment_id": 86335850, "body": "Hi Guglie, I can share it - but, I don&#39;t see a way to do this...  I&#39;m new to the site.  John"}, {"owner": {"reputation": 1, "user_id": 9599323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-orQdsBH1Id4/AAAAAAAAAAI/AAAAAAAAC4Q/0VeliWgstow/photo.jpg?sz=128", "display_name": "John Wilkins", "link": "https://stackoverflow.com/users/9599323/john-wilkins"}, "reply_to_user": {"reputation": 1514, "user_id": 648044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1O1I.png?s=128&g=1", "display_name": "Guglie", "link": "https://stackoverflow.com/users/648044/guglie"}, "edited": false, "score": 0, "creation_date": 1522893869, "post_id": 49661456, "comment_id": 86336046, "body": "Hi Guglie - do I email it to you?"}, {"owner": {"reputation": 1514, "user_id": 648044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1O1I.png?s=128&g=1", "display_name": "Guglie", "link": "https://stackoverflow.com/users/648044/guglie"}, "edited": false, "score": 0, "creation_date": 1522917546, "post_id": 49661456, "comment_id": 86345454, "body": "You can upload it somewhere and put a link here"}, {"owner": {"reputation": 1, "user_id": 9599323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-orQdsBH1Id4/AAAAAAAAAAI/AAAAAAAAC4Q/0VeliWgstow/photo.jpg?sz=128", "display_name": "John Wilkins", "link": "https://stackoverflow.com/users/9599323/john-wilkins"}, "reply_to_user": {"reputation": 1514, "user_id": 648044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1O1I.png?s=128&g=1", "display_name": "Guglie", "link": "https://stackoverflow.com/users/648044/guglie"}, "edited": false, "score": 0, "creation_date": 1522934147, "post_id": 49661456, "comment_id": 86357178, "body": "Hi Guglie - ok, here is the link for the .csv file:  <a href=\"https://1drv.ms/u/s!Ah0JP2HRExGZiPEYn7kIT7yrmQoKgA\" rel=\"nofollow noreferrer\">1drv.ms/u/s!Ah0JP2HRExGZiPEYn7kIT7yrmQoKgA</a>"}, {"owner": {"reputation": 1, "user_id": 9599323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-orQdsBH1Id4/AAAAAAAAAAI/AAAAAAAAC4Q/0VeliWgstow/photo.jpg?sz=128", "display_name": "John Wilkins", "link": "https://stackoverflow.com/users/9599323/john-wilkins"}, "reply_to_user": {"reputation": 1514, "user_id": 648044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1O1I.png?s=128&g=1", "display_name": "Guglie", "link": "https://stackoverflow.com/users/648044/guglie"}, "edited": false, "score": 0, "creation_date": 1523041608, "post_id": 49661456, "comment_id": 86412238, "body": "Hi Guglie - let me know if you are able to download the file.   I&#39;m looking forward to your ideas.  John"}, {"owner": {"reputation": 1, "user_id": 9599323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-orQdsBH1Id4/AAAAAAAAAAI/AAAAAAAAC4Q/0VeliWgstow/photo.jpg?sz=128", "display_name": "John Wilkins", "link": "https://stackoverflow.com/users/9599323/john-wilkins"}, "reply_to_user": {"reputation": 1514, "user_id": 648044, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j1O1I.png?s=128&g=1", "display_name": "Guglie", "link": "https://stackoverflow.com/users/648044/guglie"}, "edited": false, "score": 0, "creation_date": 1524248635, "post_id": 49661456, "comment_id": 86911920, "body": "Hi Guglie, did you ever get a chance to take a look at my code?  Thanks for helping out.  John"}], "owner": {"reputation": 1, "user_id": 9599323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-orQdsBH1Id4/AAAAAAAAAAI/AAAAAAAAC4Q/0VeliWgstow/photo.jpg?sz=128", "display_name": "John Wilkins", "link": "https://stackoverflow.com/users/9599323/john-wilkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522881241, "creation_date": 1522881241, "question_id": 49661456, "link": "https://stackoverflow.com/questions/49661456/3d-plot-not-containing-all-column-data", "title": "3d Plot not containing all column data?", "body": "<p>I've created python code to read a csv file, write-it to a temporary file [\"dump2.csv\"] and run simple stats on it.  This part of the program works fine, but, when I code for a 3D plot - I get an excellent looking plot but, it doesn't appear to include all of the column data (e.g. 109 cases - I will show my 3D graph output in an attached jpg/pic).  Any answers?\nHere is my code:</p>\n\n<hr>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import numpy as np\r\nimport csv as csv\r\nimport time\r\n# import pandas as pd\r\n# import pandas as pd\r\n# import statistics\r\n\r\n# ======================================================\r\n# MY ATTEMPT AT ACCOUNTING FOR MISSING DATA via adding a \".\" to blank entries\r\nwith open('totaleval4.csv') as fin, open('dump2.csv','wt', newline='') as fout:\r\n    csvin = csv.reader(fin)\r\n    csvout = csv.writer(fout)\r\n    for row in csvin:\r\n        # this \"FOR/ELSE\" statement - takes the missing ('.') data and codes\r\n        #....it for \"999999\" and if there is no missing data - it simply writes\r\n        # it.  These operations are reading-in \"totaltest2.csv\" and writing\r\n        # it's findings ...to the \"dump1.csv\" file\r\n        #==========This IF statement looks for blank cells (\" \") and it a cell\r\n        # is NOT blank - it writes the row - if it is it deletes it from\r\n        # the output    \r\n            if \".\" not in row:\r\n                csvout.writerow(row)\r\n# fout.close()\r\n# MISSING DATA IS ACCOUNTED FOR AT THIS POINT - AND PRINTED DATA SET WITH NEW \r\n#....missing data code - inserted in new file (e.g., here \"dump.csv\")\r\n# ======================================\r\n# Statistical Analysis for new 'dump.csv' file accounting for missing data...\r\n# Statistical Analysis for new 'dump.csv' file accounting for missing data...\r\nreaddata = csv.reader(open('dump2.csv', 'r'))\r\ndata = []\r\nfor row in readdata:\r\n    data.append(row)\r\nHeader = data[0]\r\ndata.pop(0)\r\nyear = []\r\nenrol = []\r\nq2 = []\r\nq3 = []\r\nq4 = []\r\nq5 = []\r\nq6 = []\r\nq8 = []\r\nq9 = []\r\nq10 = []\r\nq11 = []\r\nq12 = []\r\nq13 = []\r\n# =============================\r\n# =============================\r\nfor i in range(len(data)):\r\n  year.append(int(data[i][1]))\r\n  enrol.append(int(data[i][3]))\r\n  q2.append(int(data[i][4]))\r\n  q3.append(int(data[i][5]))\r\n  q4.append(int(data[i][6]))\r\n  q5.append(int(data[i][7]))\r\n  q6.append(int(data[i][8]))\r\n  q8.append(int(data[i][9]))\r\n  q9.append(int(data[i][10]))\r\n  q10.append(int(data[i][11]))\r\n  q11.append(int(data[i][12]))\r\n  q12.append(int(data[i][13]))\r\n  q13.append(int(data[i] [14]))\r\n# ==============================\r\n# ==============================\r\n  #  Statistical work-ups/section\r\n# ==============================\r\nprint ('Mean Number of Students:        ', (np.mean(enrol)))\r\nprint ('Mean 0-5 Question-2:            ', (np.mean(q2)))\r\nprint ('Mean 0-5 Question-3:            ', (np.mean(q3)))\r\nprint ('Mean 0-5 Question-4:            ', (np.mean(q4)))\r\nprint ('Mean 0-5 Question-5:            ', (np.mean(q5)))\r\nprint ('Mean 0-5 Question-6:            ', (np.mean(q6)))\r\nprint ('Mean 0-5 Question-8:            ', (np.mean(q8)))\r\nprint ('Mean 0-5 Question-9:            ', (np.mean(q9)))\r\nprint ('Mean 0-5 Question-10:           ', (np.mean(q10)))\r\nprint ('Mean 0-5 Question-11:           ', (np.mean(q11)))\r\nprint ('Mean 0-5 Question-12:           ', (np.mean(q12)))\r\nprint ('Mean 0-5 Question-13:           ', (np.mean(q13)))\r\nprint ('Std of Number of Students       ', (np.std(enrol)))\r\nprint ('Std of 0-5 Question-2           ', (np.std(q2)))\r\n# ======================================================\r\ntime.sleep(2)\r\n# ======================================================\r\n# ======= 3D Graph Code ========\r\n# =======3D Scatter Plot========\r\n# ==============================\r\nfrom mpl_toolkits.mplot3d import Axes3D\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\n\r\n\r\nfig = plt.figure()\r\nax = fig.add_subplot(111, projection='3d')\r\nx = [year]\r\ny = [q2]\r\nz = [q3]\r\n\r\nax.scatter(x, y, z, c='r', marker='o')\r\n\r\nax.set_xlim(2013, 2018)\r\nax.set_ylim(0, 6)\r\nax.set_zlim(0, 6)\r\nax.set_xlabel('yr')\r\nax.set_ylabel('q2')\r\nax.set_zlabel('q3')\r\n\r\nplt.show()\r\ntime.sleep(2)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>The Graph output is:\n<a href=\"https://i.stack.imgur.com/Nd3z4.jpg\" rel=\"nofollow noreferrer\">John's Stats and 3D Graph output from above code</a></p>\n"}, {"tags": ["javascript", "php", "python", "selenium-webdriver"], "comments": [{"owner": {"reputation": 3575, "user_id": 3084820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4511882ae1ca758cacc20ef6cc32c6ed?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morgan", "link": "https://stackoverflow.com/users/3084820/matt-morgan"}, "edited": false, "score": 0, "creation_date": 1522886547, "post_id": 49661446, "comment_id": 86334340, "body": "The usual way to do this would be with a tool like <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">BeautifulSoup</a> to scrape the values from the remote webpage."}, {"owner": {"reputation": 35, "user_id": 7922533, "user_type": "registered", "profile_image": "https://graph.facebook.com/1511905358819760/picture?type=large", "display_name": "Blake", "link": "https://stackoverflow.com/users/7922533/blake"}, "reply_to_user": {"reputation": 3575, "user_id": 3084820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4511882ae1ca758cacc20ef6cc32c6ed?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Morgan", "link": "https://stackoverflow.com/users/3084820/matt-morgan"}, "edited": false, "score": 0, "creation_date": 1522895596, "post_id": 49661446, "comment_id": 86336430, "body": "@MattMorgan I&#39;ve heard of that and will give it a shot, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 687, "user_id": 7347992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AqdS4.jpg?s=128&g=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/7347992/ricardo"}, "is_accepted": true, "score": 0, "last_activity_date": 1522882240, "creation_date": 1522882240, "answer_id": 49661611, "question_id": 49661446, "link": "https://stackoverflow.com/questions/49661446/can-i-run-javascript-code-on-a-given-url-via-python-or-php-on-the-server-side/49661611#49661611", "title": "Can I run Javascript code on a given URL via Python or PHP on the server side?", "body": "<p>I did something similar with \"lxml\" and \"urllib\"\nHere is a example:</p>\n\n<pre><code>from lxml import html\nimport urllib\n\npageLink = \"\"\npage = urllib.urlopen(pageLink)\npageString = page.read()\npageContent = html.fromstring(pageString)\nimgLink = pageContent.xpath('//img[@id=\"img-1\"]/@src')[0]\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7922533, "user_type": "registered", "profile_image": "https://graph.facebook.com/1511905358819760/picture?type=large", "display_name": "Blake", "link": "https://stackoverflow.com/users/7922533/blake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 49661611, "answer_count": 1, "score": 0, "last_activity_date": 1522885072, "creation_date": 1522881177, "question_id": 49661446, "link": "https://stackoverflow.com/questions/49661446/can-i-run-javascript-code-on-a-given-url-via-python-or-php-on-the-server-side", "title": "Can I run Javascript code on a given URL via Python or PHP on the server side?", "body": "<p>I'm building a website right now in which I'm trying to execute Javascript code to obtain specific elements of a totally separate site's web page given its URL. I've figured out how to use Selenium.Webdriver on my laptop in Python to achieve this by:</p>\n\n<pre><code>driver = webdriver.Firefox()\ndriver.get(url)\n\nprice = driver.execute_script(\"var priceElements = document.getElementById('priceblock_ourprice'); var prices = []; for (var i = 0; i &lt; 3; i++) { prices.push(priceElements.children[i].innerHTML); } var price = prices[1] + '.' + prices[2]; return price;\")\ndriver.close()\n</code></pre>\n\n<p>where it opens up the Firefox browser, runs the JS and then finds this price value that I want. I know there is also a way to do it which is headless and it won't need to physically open up a browser, but I'm trying to figure this out for the case of doing something similar on the website that I'm building.</p>\n\n<p>Is there some way that I can achieve this result but instead of it running on my personal machine, the code runs on the Apache web server? I'm just not sure if this is possible without the machine its running on having a browser that it can open.</p>\n\n<p>I hope I'm clear enough on what I'm doing, but if anyone needs clarification then I'll be happy to answer any questions you may have about this situation.</p>\n"}, {"tags": ["python", "apache-spark", "dataframe", "pyspark", "rdd"], "comments": [{"owner": {"reputation": 311, "user_id": 6312781, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9682823d2d9a6d5a96e98b6a940eb2d9?s=128&d=identicon&r=PG&f=1", "display_name": "versatile parsley", "link": "https://stackoverflow.com/users/6312781/versatile-parsley"}, "edited": false, "score": 0, "creation_date": 1522901727, "post_id": 49661434, "comment_id": 86337910, "body": "Can you post the complete error log, including the stuff after <code>Traceback</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 9281269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r-5JWzAnKdA/AAAAAAAAAAI/AAAAAAAAADE/Tw3efYwnteI/photo.jpg?sz=128", "display_name": "Jerry George", "link": "https://stackoverflow.com/users/9281269/jerry-george"}, "edited": false, "score": 0, "creation_date": 1522882159, "post_id": 49661510, "comment_id": 86333010, "body": "Its still giving me error:  An error occurred while calling z:org.apache.spark.api.python.PythonRDD.runJob. : org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 4.0 failed 1 times, most recent failure: Lost task 0.0 in stage 4.0 (TID 5, localhost, executor driver): org.apache.spark.api.python.PythonException: Traceback (most recent call last)"}], "tags": [], "owner": {"reputation": 26, "user_id": 9599426, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/77cef1e0d4e43284316c51489c8e250d?s=128&d=identicon&r=PG", "display_name": "user9599426", "link": "https://stackoverflow.com/users/9599426/user9599426"}, "is_accepted": true, "score": 1, "last_activity_date": 1522939526, "last_edit_date": 1522939526, "creation_date": 1522881599, "answer_id": 49661510, "question_id": 49661434, "link": "https://stackoverflow.com/questions/49661434/convert-rdd-into-dataframe-in-pyspark/49661510#49661510", "title": "Convert RDD into Dataframe in pyspark", "body": "<p><code>RDD.map</code> takes an unary function:</p>\n\n<pre><code>rdd.map(lambda x: (x[1], x[0][0] , x[0][1])).toDF([\"Index\", \"Name\" , \"Number\"])\n</code></pre>\n\n<p>so you cannot pass binary one.</p>\n\n<p>If you want to split array:</p>\n\n<pre><code>rdd.map(lambda x: (x[1], x[0][0] , x[0][1].split(\",\"))).toDF([\"Index\", \"Name\" , \"Number\"])\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 9281269, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-r-5JWzAnKdA/AAAAAAAAAAI/AAAAAAAAADE/Tw3efYwnteI/photo.jpg?sz=128", "display_name": "Jerry George", "link": "https://stackoverflow.com/users/9281269/jerry-george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6767, "favorite_count": 0, "accepted_answer_id": 49661510, "answer_count": 1, "score": 2, "last_activity_date": 1522939526, "creation_date": 1522881096, "last_edit_date": 1522883055, "question_id": 49661434, "link": "https://stackoverflow.com/questions/49661434/convert-rdd-into-dataframe-in-pyspark", "title": "Convert RDD into Dataframe in pyspark", "body": "<p>I am trying to convert my RDD into Dataframe in pyspark.</p>\n\n<p>My RDD:</p>\n\n<pre><code>[(['abc', '1,2'], 0), (['def', '4,6,7'], 1)]\n</code></pre>\n\n<p>I want the RDD in the form of a Dataframe:</p>\n\n<pre><code>Index Name Number\n 0    abc   [1,2]\n 1    def   [4,6,7]\n</code></pre>\n\n<p>I tried: </p>\n\n<pre><code>rd2=rd.map(lambda x,y: (y, x[0] , x[1]) ).toDF([\"Index\", \"Name\" , \"Number\"])\n</code></pre>\n\n<p>But I am getting errors</p>\n\n<pre><code> An error occurred while calling \nz:org.apache.spark.api.python.PythonRDD.runJob.\n: org.apache.spark.SparkException: Job aborted due to stage failure: \nTask 0 in stage 62.0 failed 1 times, most recent failure: Lost task 0.0 \nin stage 62.0 (TID 88, localhost, executor driver): \norg.apache.spark.api.python.PythonException: Traceback (most recent \ncall last):\n</code></pre>\n\n<p>Can you let me know, where am I going wrong?</p>\n\n<p>Update:</p>\n\n<pre><code>rd2=rd.map(lambda x: (x[1], x[0][0] , x[0][1]))\n</code></pre>\n\n<p>I have the RDD in the form :</p>\n\n<pre><code>[(0, 'abc', '1,2'), (1, 'def', '4,6,7')]\n</code></pre>\n\n<p>To convert to Dataframe:</p>\n\n<pre><code>rd2.toDF([\"Index\", \"Name\" , \"Number\"])\n</code></pre>\n\n<p>Its still giving me error:</p>\n\n<pre><code>An error occurred while calling o2271.showString.\n: java.lang.IllegalStateException: SparkContext has been shutdown\nat org.apache.spark.SparkContext.runJob(SparkContext.scala:2021)\nat org.apache.spark.SparkContext.runJob(SparkContext.scala:2050)\n</code></pre>\n"}, {"tags": ["python", "macos", "directory", "screenshot"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1522881539, "post_id": 49661426, "comment_id": 86332784, "body": "My first guess (probably not the best solution, though) would be to use <code>plutil</code> (using the <code>subprocess</code> module) to query the appropriate <code>com.apple.screencapture</code> file."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1522881890, "post_id": 49661426, "comment_id": 86332902, "body": "You might have better luck getting an answer at apple.stackexchange.com."}], "answers": [{"tags": [], "owner": {"reputation": 932, "user_id": 6677639, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/59ea151531a76b0019f1319b4aef6cd1?s=128&d=identicon&r=PG&f=1", "display_name": "benwiggy", "link": "https://stackoverflow.com/users/6677639/benwiggy"}, "is_accepted": false, "score": 0, "last_activity_date": 1524762702, "creation_date": 1524762702, "answer_id": 50048594, "question_id": 49661426, "link": "https://stackoverflow.com/questions/49661426/find-out-default-screenshot-path-in-macos-from-within-python-to-monitor-screensh/50048594#50048594", "title": "Find out default screenshot path in MacOS from within Python to monitor screenshots", "body": "<p>Just use the shell command <code>defaults</code> to read the location.</p>\n\n<pre><code>filepath = os.system('defaults read com.apple.screencapture location')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 2177973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8865ef55dceec3f890ea97289abcdec3?s=128&d=identicon&r=PG", "display_name": "Chinmay", "link": "https://stackoverflow.com/users/2177973/chinmay"}, "is_accepted": false, "score": 0, "last_activity_date": 1525538423, "last_edit_date": 1525538423, "creation_date": 1525370439, "answer_id": 50161286, "question_id": 49661426, "link": "https://stackoverflow.com/questions/49661426/find-out-default-screenshot-path-in-macos-from-within-python-to-monitor-screensh/50161286#50161286", "title": "Find out default screenshot path in MacOS from within Python to monitor screenshots", "body": "<pre><code>    import sys, os, time,re,json\n    from subprocess import Popen, PIPE, STDOUT\n\n    cmd = 'defaults read com.apple.screencapture location' # default env variable that stores the screenshot dir in MacOS \n    #opens a stream and retrieves output\n    pipe = Popen(cmd, shell=True, stdin=PIPE, stdout=PIPE, stderr=STDOUT, close_fds=True) \n    # reads the output from the stdout and then strips the '\\n' at the end to form a valid path\n    path = pipe.stdout.read().rstrip() \n</code></pre>\n\n<p>This is the answer I used.</p>\n"}], "owner": {"reputation": 13, "user_id": 2177973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8865ef55dceec3f890ea97289abcdec3?s=128&d=identicon&r=PG", "display_name": "Chinmay", "link": "https://stackoverflow.com/users/2177973/chinmay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1525538423, "creation_date": 1522881058, "question_id": 49661426, "link": "https://stackoverflow.com/questions/49661426/find-out-default-screenshot-path-in-macos-from-within-python-to-monitor-screensh", "title": "Find out default screenshot path in MacOS from within Python to monitor screenshots", "body": "<p>I have a program that monitors for new screenshots but however, I had to change the default screenshot directory to /screenshots instead of the  in com.apple.screencapture</p>\n\n<p>How can I obtain the directory set within com.apple.screencapture from within Python so that the program can run on any MacOS computer without having to manually change the screenshot directory location first.</p>\n\n<p>Example code (currently after changing dir):</p>\n\n<pre><code>path = os.path.join(os.path.curdir, 'screenshots')\nobserver = Observer()\nevent_handler = ScreenshotEventHandler()\n# Create a watchdog to watch &lt;current_dir&gt;/screenshots directory\nobserver.schedule(event_handler, path)\nobserver.start()\n</code></pre>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1522881981, "post_id": 49661414, "comment_id": 86332949, "body": "You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, such that people can reproduce your problem."}, {"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 0, "creation_date": 1522882008, "post_id": 49661414, "comment_id": 86332954, "body": "&#39;Adj Close&#39; is not a column in your dataframe"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9077116, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cgcx-pW4OaA/AAAAAAAAAAI/AAAAAAAAABM/-3BlZMhhf9s/photo.jpg?sz=128", "display_name": "Ludi", "link": "https://stackoverflow.com/users/9077116/ludi"}, "edited": false, "score": 0, "creation_date": 1522882485, "post_id": 49661552, "comment_id": 86333132, "body": "Hey thanks for the comment. I wanted to ask which library would include Adj Close. Also great example."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 13, "user_id": 9077116, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cgcx-pW4OaA/AAAAAAAAAAI/AAAAAAAAABM/-3BlZMhhf9s/photo.jpg?sz=128", "display_name": "Ludi", "link": "https://stackoverflow.com/users/9077116/ludi"}, "edited": false, "score": 0, "creation_date": 1522882764, "post_id": 49661552, "comment_id": 86333239, "body": "&#39;adj close&#39; is simply a a header value in the dataframe or rather a key. your attempting to make one column in the frame equal another column that doesnt exist. I dont think your looking for another library I think your looking for another column. you should print your df and inspect what headers are there to see what ones you would like to operate on."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 13, "user_id": 9077116, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cgcx-pW4OaA/AAAAAAAAAAI/AAAAAAAAABM/-3BlZMhhf9s/photo.jpg?sz=128", "display_name": "Ludi", "link": "https://stackoverflow.com/users/9077116/ludi"}, "edited": false, "score": 0, "creation_date": 1522882853, "post_id": 49661552, "comment_id": 86333278, "body": "print df.head prior to your reference to &#39;adj close&#39; to see what is there. Good Luck!"}], "tags": [], "owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "is_accepted": false, "score": 0, "last_activity_date": 1522881882, "creation_date": 1522881882, "answer_id": 49661552, "question_id": 49661414, "link": "https://stackoverflow.com/questions/49661414/working-with-morning-star-to-try-to-get-stock-data-but-adj-close-isnt-work/49661552#49661552", "title": "Working with morning star to try to get stock data, but [&#39;Adj Close&#39;] isn&#39;t working", "body": "<p>Key Error:'Adj Close' is the answer to your problem </p>\n\n<p>A KeyError generally means the key doesn't exist. So, are you sure the path key exists?</p>\n\n<p>From the official python docs:</p>\n\n<p>exception KeyError</p>\n\n<p>Raised when a mapping (dictionary) key is not found in the set of existing keys.</p>\n\n<p>For example:</p>\n\n<pre><code>mydict = {'a':'1','b':'2'}\nmydict['a']\n'1'\nmydict['c']\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nKeyError: 'c'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 4960692, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZJMpi.jpg?s=128&g=1", "display_name": "Karthick Aravindan", "link": "https://stackoverflow.com/users/4960692/karthick-aravindan"}, "is_accepted": false, "score": 0, "last_activity_date": 1524557780, "creation_date": 1524557780, "answer_id": 49996654, "question_id": 49661414, "link": "https://stackoverflow.com/questions/49661414/working-with-morning-star-to-try-to-get-stock-data-but-adj-close-isnt-work/49996654#49996654", "title": "Working with morning star to try to get stock data, but [&#39;Adj Close&#39;] isn&#39;t working", "body": "<p>Just replace Adj close column with close column because in morningstar use close column as adj close</p>\n\n<pre><code>df['100mma'] = df['Adj Close'].rolling(window=100, min_periods=0).mean()\n</code></pre>\n\n<p>replace with</p>\n\n<pre><code>df['100mma'] = df['Close'].rolling(window=100, min_periods=0).mean()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9077116, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cgcx-pW4OaA/AAAAAAAAAAI/AAAAAAAAABM/-3BlZMhhf9s/photo.jpg?sz=128", "display_name": "Ludi", "link": "https://stackoverflow.com/users/9077116/ludi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1524557780, "creation_date": 1522880991, "question_id": 49661414, "link": "https://stackoverflow.com/questions/49661414/working-with-morning-star-to-try-to-get-stock-data-but-adj-close-isnt-work", "title": "Working with morning star to try to get stock data, but [&#39;Adj Close&#39;] isn&#39;t working", "body": "<p>I was just trying to get data for a stock analysis project, and ran into a problem with Adj Close. Whenever I run a program with ['Adj Close'] in it I get an error with a bunch of stuff, but at the bottom it says Key Error:'Adj  Close'. I have my code right here, and was wondering if I could get some feedback.</p>\n\n<pre><code>import datetime as dt\nimport matplotlib.pyplot as plt\nfrom matplotlib import style\nimport pandas as pd\nimport pandas_datareader.data as web\n\nstyle.use('ggplot')\n##start = dt.datetime(2018,3,3)\n##end = dt.datetime.now()\n\n##df = web.DataReader('TSLA', 'morningstar', start, end)\n##df.reset_index(inplace=True)\n##df.set_index('Date',inplace=True)\n##df = df.drop('Symbol',axis=1)\n##df.to_csv('tsla.csv')\ndf = pd.read_csv('tsla.csv', parse_dates=True, index_col=0)\n####print(df.head())\n##df['Adj Close'].plot()\n##plt.show()\n\n df['100mma'] = df['Adj Close'].rolling(window=100, min_periods=0).mean()\n##df.dropna(inplace=True)\nprint(df.Head())\n\nax1  = plt.subplot2grid((6,1), (0,0), rowspan=5, colspan=1)\nax1  = plt.subplot2grid((6,1), (5,0), rowspan=1, colspan=1)\nax1.plot(df.index, df['Adj Close'])\nax1.plot(df.index, df['100ma'])\nax2.bar(df.index, df['Volume'])\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "types", "cpython"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1522881590, "creation_date": 1522881590, "answer_id": 49661509, "question_id": 49661409, "link": "https://stackoverflow.com/questions/49661409/where-does-a-user-defined-types-metaclass-new-and-init-get-invoked/49661509#49661509", "title": "where does a user-defined type&#39;s metaclass&#39; __new__ and __init__ get invoked?", "body": "<p><code>tp_new</code> and <code>tp_init</code> are the C-level counterparts of <code>__new__</code> and <code>__init__</code>. The calls to <code>tp_new</code> and <code>tp_init</code> <em>are</em> the <code>__new__</code> and <code>__init__</code> calls.</p>\n\n<p>If you override <code>type.__new__</code> or <code>type.__init__</code> in a metaclass you define, the corresponding <code>tp_new</code> or <code>tp_init</code> slots in your metaclass will be set to C-level <a href=\"https://github.com/python/cpython/blob/v3.6.5/Objects/typeobject.c#L6398\" rel=\"nofollow noreferrer\">functions</a> that search for and invoke your Python-level overrides.</p>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1522883484, "post_id": 49661657, "comment_id": 86333458, "body": "Huh. I never really thought about how the lookup for <code>__new__</code> would need different handling from other special methods, and now that I&#39;m looking at it, I&#39;m surprised it almost (but not quite) boils down to &quot;just do a normal attribute lookup&quot;. That interacts <a href=\"https://ideone.com/lK5ugm\" rel=\"nofollow noreferrer\">pretty strangely</a> with a metaclass <code>__getattribute__</code>."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522884409, "post_id": 49661657, "comment_id": 86333724, "body": "@user2357112 Well, Python doesn&#39;t guarantee that special method lookup will be different from normal method lookup, it just refuses to guarantee that it <i>won&#39;t</i> be different. And the <code>__hash__</code> rationale doesn&#39;t apply to <code>__new__</code>, so\u2026"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1522882543, "creation_date": 1522882543, "answer_id": 49661657, "question_id": 49661409, "link": "https://stackoverflow.com/questions/49661409/where-does-a-user-defined-types-metaclass-new-and-init-get-invoked/49661657#49661657", "title": "where does a user-defined type&#39;s metaclass&#39; __new__ and __init__ get invoked?", "body": "<p>As <a href=\"https://stackoverflow.com/a/49661509/908494\">user2357112's answer</a> explains, <code>tp_new</code> is the type slot method, and the default version of it for Python-defined classes looks up and calls the <code>__new__</code> method.</p>\n\n<p>The idea of type slot methods isn't really explained all in a single place, but see <a href=\"https://docs.python.org/3/c-api/typeobj.html\" rel=\"nofollow noreferrer\">Type Objects</a> in the C API and <a href=\"https://docs.python.org/3/extending/newtypes.html\" rel=\"nofollow noreferrer\">New Types</a> in the Extending and Embedding docs.</p>\n\n<p>You'll also want to read the specific entries on <code>tp_new</code> in both of those chapters, because it's a particularly special function.</p>\n\n<p>If you want to see the source, most of the relevant stuff is in <a href=\"https://github.com/python/cpython/blob/master/Objects/typeobject.c\" rel=\"nofollow noreferrer\"><code>typeobject.c</code></a>. Notice that the <code>__new__</code> wrapper is different from other Python method wrappers, and the name lookup doesn't call the generic special method lookup code, but the basics are still pretty similar.</p>\n"}], "owner": {"reputation": 4586, "user_id": 3002584, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ec8f711075255b4c196cb21448be2f6c?s=128&d=identicon&r=PG&f=1", "display_name": "OfirD", "link": "https://stackoverflow.com/users/3002584/ofird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 49661509, "answer_count": 2, "score": 1, "last_activity_date": 1522882543, "creation_date": 1522880954, "question_id": 49661409, "link": "https://stackoverflow.com/questions/49661409/where-does-a-user-defined-types-metaclass-new-and-init-get-invoked", "title": "where does a user-defined type&#39;s metaclass&#39; __new__ and __init__ get invoked?", "body": "<p>I'm reading several articles to understand how class types are created in Python (<a href=\"https://eli.thegreenplace.net/2012/06/15/under-the-hood-of-python-class-definitions\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://blog.ionelmc.ro/2015/02/09/understanding-python-metaclasses/\" rel=\"nofollow noreferrer\">2</a>, <a href=\"https://leanpub.com/insidethepythonvirtualmachine/read\" rel=\"nofollow noreferrer\">3</a>), and following along Python's source code (<a href=\"https://github.com/python/cpython/blob/c3d9508ff22ece9a96892b628dd5813e2fb0cd80/Objects/typeobject.c\" rel=\"nofollow noreferrer\">typeobject.c</a>).</p>\n\n<p>My Question: When a new user-defined type is created, where does its metaclass' <code>__new__</code> and <code>__init__</code> get invoked? </p>\n\n<p>I'll explain:</p>\n\n<p>say we have a simple user-defined type:</p>\n\n<pre><code>class A(object): pass\n</code></pre>\n\n<p>To create the type <code>A</code>, <code>type_call</code> is eventually invoked, with <code>type</code> as its first parameter. In this case, <code>type</code> is actually <code>PyType_Type</code>. </p>\n\n<p>Inside <code>type_call</code>, <code>tp_new</code> is called, which in this case means a call to <code>type_new</code>. </p>\n\n<p>Now, Inside <code>type_new</code>, the new type is eventually allocated with:</p>\n\n<pre><code>/* Allocate the type object */\ntype = (PyTypeObject *)metatype-&gt;tp_alloc(metatype, nslots);\n</code></pre>\n\n<p>And when <code>type_new</code> finishes, it returns <code>type</code> to <code>type_call</code>. Then, <code>type_call</code> calls <code>tp_init</code> - which means a call to <code>type_init</code>, which invokes <code>object_init</code>, that doesn't really do anything.</p>\n\n<p>Somewhere, <code>type</code>'s <code>__new__</code> and <code>__init__</code> should be called. Did I miss these calls along the way, or are they called outside <code>type_call</code>? </p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1522881206, "post_id": 49661405, "comment_id": 86332658, "body": "Is that the whole error message?"}], "answers": [{"tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": false, "score": 0, "last_activity_date": 1522881192, "creation_date": 1522881192, "answer_id": 49661448, "question_id": 49661405, "link": "https://stackoverflow.com/questions/49661405/except-invalidthresholdmultipliererror-what-does-it-mean/49661448#49661448", "title": "&quot;except InvalidThresholdMultiplierError&quot; &gt;&gt; what does it mean??", "body": "<p>That <code>Exception, variable_for_exception</code> syntax used to be valid in Python2. You must be calling a Python2 library using Python3. Be sure your versions all match up. </p>\n\n<p>Specifically, check your version of <code>sp</code>.</p>\n\n<p>Or, do all this in a Python2 context.</p>\n"}], "owner": {"reputation": 27, "user_id": 8378791, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-10gi-ebyOko/AAAAAAAAAAI/AAAAAAAAB50/jf0fpZsh0Cc/photo.jpg?sz=128", "display_name": "Sajjad Abbas", "link": "https://stackoverflow.com/users/8378791/sajjad-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522881192, "creation_date": 1522880935, "question_id": 49661405, "link": "https://stackoverflow.com/questions/49661405/except-invalidthresholdmultipliererror-what-does-it-mean", "title": "&quot;except InvalidThresholdMultiplierError&quot; &gt;&gt; what does it mean??", "body": "<p>So in this code that I'm experimenting with, I keep getting the same error...</p>\n\n<p>Code :</p>\n\n<pre><code>import pylab\nimport numpy\nfrom sp import ssim\nfrom PIL import Image\nball = numpy.asarray(Image.open('soccer.png'))\nother = numpy.asarray(Image.open('soccer2.png'))\nball_ssim = ssim.ssim(ball, ball)\nother_ssim = ssim.ssim(ball, other)\npylab.figure()\npylab.subplot(2, 3, 1)\npylab.title('Original\\n SSIM %.3f' % ball_ssim.mean())\npylab.imshow(ball, cmap=pylab.gray())\npylab.subplot(2, 3, 2)\npylab.title('Mean-Shifted\\n SSIM %.3f' % other_ssim.mean())\npylab.imshow(other, cmap=pylab.gray())\npylab.subplot(2, 3, 3)\n\npylab.show()\n</code></pre>\n\n<p>The error that I keep getting is </p>\n\n<pre><code>line 68\nexcept InvalidThresholdMultiplierError, e:\n                                      ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Are there even 68 lines to this code? What does the error mean, and how do I fix this?</p>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "edited": false, "score": 0, "creation_date": 1522881277, "post_id": 49661380, "comment_id": 86332677, "body": "What about duplicate keys?"}], "answers": [{"tags": [], "owner": {"reputation": 6167, "user_id": 7848065, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-JkP5Ml62Rfo/AAAAAAAAAAI/AAAAAAAAABY/_BvmzYvsy74/photo.jpg?sz=128", "display_name": "whackamadoodle3000", "link": "https://stackoverflow.com/users/7848065/whackamadoodle3000"}, "is_accepted": false, "score": 2, "last_activity_date": 1522881502, "last_edit_date": 1522881502, "creation_date": 1522881071, "answer_id": 49661430, "question_id": 49661380, "link": "https://stackoverflow.com/questions/49661380/store-file-output-in-dictionaries/49661430#49661430", "title": "Store file output in dictionaries", "body": "<pre><code>with open(\"file.txt\",\"r\") as file:\n    print({e.split(\"     \")[1]:e.split(\"     \")[0] for e in file})\n</code></pre>\n\n<p>You could use dictionary comprehension</p>\n"}, {"comments": [{"owner": {"reputation": 735, "user_id": 7636315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eUipVXzZfs/AAAAAAAAAAI/AAAAAAAAADE/lYjPZABMCu0/photo.jpg?sz=128", "display_name": "Paandittya", "link": "https://stackoverflow.com/users/7636315/paandittya"}, "edited": false, "score": 2, "creation_date": 1522881958, "post_id": 49661466, "comment_id": 86332936, "body": "This is better solution as this does not depend upon the number of space chars between the columns."}, {"owner": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 0, "creation_date": 1522882944, "post_id": 49661466, "comment_id": 86333307, "body": "How i could get two value for same key in one list something like that &#39;trendmar&#39;: [&#39;-34G&#39;, &#39;+41G&#39;]"}, {"owner": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 0, "creation_date": 1522884329, "post_id": 49661466, "comment_id": 86333699, "body": "thanks its work but i have other request can i do mathematical operations between two values for samekey to just bring the Value difference"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 0, "creation_date": 1522888113, "post_id": 49661466, "comment_id": 86334775, "body": "@KareemElSayed - Check the <b>Update 2</b> above ;)"}, {"owner": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 0, "creation_date": 1523571624, "post_id": 49661466, "comment_id": 86628205, "body": "thanks it&#39;s work so good i have just other thing if i want to do condition to  just print keys with values bigger than 1G how i could do that"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "reply_to_user": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 0, "creation_date": 1523596448, "post_id": 49661466, "comment_id": 86634045, "body": "@KareemElSayed - You can filter out the keys of any value you like before converting the values back to SI units, something like: <code>data = {k: v for k, v i n data.items() if v &gt; 1e9}</code> to keep only values larger than 1G..."}], "tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": true, "score": 4, "last_activity_date": 1522888041, "last_edit_date": 1522888041, "creation_date": 1522881294, "answer_id": 49661466, "question_id": 49661380, "link": "https://stackoverflow.com/questions/49661380/store-file-output-in-dictionaries/49661466#49661466", "title": "Store file output in dictionaries", "body": "<p>You can read your file line by line, split on whitespace and use the elements in reverse to create a dictionary:</p>\n\n<pre><code>with open(\"your_file\", \"r\") as f:  # open the file for reading\n    # read it line by line, split and invert the fields to use as k:v for your dict\n    data = dict(reversed(line.split()) for line in f)\n    # {'trendmar': '+41G', 'ttpsenet': '1.4G', 'tyibahco': '3.6G',\n    #  'uberhelp': '+19M', 'umljgate': '+9.2G'}\n</code></pre>\n\n<p>Beware that <code>dict</code> is essentially a hash map so it cannot have duplicate keys - values of duplicate keys will be overwritten with the latest value if they occur in the file.</p>\n\n<p><strong>UPDATE:</strong> If you want to preserve all the values you'll have to store them as lists, something like:</p>\n\n<pre><code>import collections\n\ndata = collections.defaultdict(list)  # initiate all fields as lists\nwith open(\"your_file\", \"r\") as f:  # open the file for reading\n    for line in f:  # read the file line by line\n        value, key = line.split()  # split the line to value and key\n        data[key].append(value)  # append the value to the list for its key\n</code></pre>\n\n<p>And now your <code>data</code> will look like:</p>\n\n<pre><code>{'trendmar': ['-34G', '+41G'], 'ttpsenet': ['1.4G'], 'tyibahco': ['3.6G'],\n 'uberhelp': ['-13M', '+19M'], 'umljgate': ['-8.9G', '+9.2G']}\n</code></pre>\n\n<p><strong>UPDATE 2:</strong> If you want to sum the values instead you'll first need to convert them to floats, then use regular arithmetic operations to reach the final value, so first write a function to convert from the SI shorthand notation to native <code>float</code>:</p>\n\n<pre><code>QUANTIFIER_MAP = {\"p\": 1e15, \"t\": 1e12, \"g\": 1e9, \"m\": 1e6, \"k\": 1e3}\ndef si_to_float(number):\n    try:\n        last_char = number[-1].lower()\n        if last_char in QUANTIFIER_MAP:\n            return float(number[:-1]) * QUANTIFIER_MAP[last_char]\n        return float(number)\n    except ValueError:\n        return 0.0\n</code></pre>\n\n<p>Now you can substitute <code>list</code> for a <code>float</code> when creating <code>data</code> and sum the values instead of appending:</p>\n\n<pre><code>import collections\n\ndata = collections.defaultdict(float)  # initiate all fields as integers\nwith open(\"your_file\", \"r\") as f:  # open the file for reading\n    # read it line by line, split and invert the fields to use as k:v for your dict\n    for line in f:  # read the file line by line\n        value, key = line.split()  # split the line to value and key\n        data[key] += si_to_float(value)  # convert to float and add to the value for this key\n</code></pre>\n\n<p>This will result in <code>data</code> as:</p>\n\n<pre><code>{'trendmar': 7000000000.0, 'ttpsenet': 1400000000.0, 'tyibahco': 3600000000.0,\n 'uberhelp': 6000000.0, 'umljgate': 300000000.0}\n</code></pre>\n\n<p>If you want to return these values into a SI shortened notation, you'll have to write the opposite function of <code>si_to_float()</code> and then <em>convert</em> all your <code>data</code> values using it, i.e.:</p>\n\n<pre><code>QUANTIFIER_STACK = ((1e15, \"p\"), (1e12, \"t\"), (1e9, \"g\"), (1e6, \"m\"), (1e3, \"k\"))\ndef float_to_si(number):\n    for q in QUANTIFIER_STACK:\n        if number &gt;= q[0]:\n            return \"{:.1f}\".format(number / q[0]).rstrip(\"0\").rstrip(\".\") + q[1].upper()\n    return \"{:.1f}\".format(number).rstrip(\"0\").rstrip(\".\")\n\n# now lets traverse the previously created 'data' and convert its values:\nfor k, v in data.items():\n    data[k] = float_to_si(v)\n</code></pre>\n\n<p>This will, finally, result in <code>data</code> containing:</p>\n\n<pre><code>{'trendmar': '7G', 'ttpsenet': '1.4G', 'tyibahco': '3.6G',\n 'uberhelp': '6M', 'umljgate': '300M'}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 1, "creation_date": 1522882699, "post_id": 49661555, "comment_id": 86333217, "body": "this one its good for me but i try it show this error           IndexError: list index out of range"}, {"owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "reply_to_user": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 1, "creation_date": 1522883018, "post_id": 49661555, "comment_id": 86333321, "body": "Could you point out where exactly do you get this error? I tested the code with the data you provided. Each line of your file must have the value and the key, otherwise <code>split()</code> won&#39;t work."}, {"owner": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 0, "creation_date": 1522884179, "post_id": 49661555, "comment_id": 86333656, "body": "i have other one can i do mathematical operations in the two value for same key to get the Value difference between to values"}, {"owner": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "edited": false, "score": 0, "creation_date": 1522888342, "post_id": 49661555, "comment_id": 86334829, "body": "thanks so much that also work as well i will do some testing now and i still have any update about this case i will share it"}], "tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1522886304, "last_edit_date": 1522886304, "creation_date": 1522881912, "answer_id": 49661555, "question_id": 49661380, "link": "https://stackoverflow.com/questions/49661380/store-file-output-in-dictionaries/49661555#49661555", "title": "Store file output in dictionaries", "body": "<p>Assuming that you want more values to be associated with your keys for your calculations, this is my approach:</p>\n\n<pre><code>d = {}\nwith open(\"input.txt\") as infile:\n    lines = infile.readlines()\n    keys = sorted(set(line.split()[1] for line in lines))\n    for key in keys:\n        tempList = []\n        for line in lines:\n            if line.split()[1]==key:\n                tempList.append(line.split()[0])\n        d.update({key:tempList})\n\nprint(d)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'trendmar': ['-34G', '+41G'], 'uberhelp': ['-13M', '+19M'], 'umljgate': ['-8.9G', '+9.2G'], 'ttpsenet': ['1.4G'], 'tyibahco': ['3.6G']}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>If you wish to find the difference between two values, you can do it using the <code>literal_eval</code> function from <code>ast</code> module as follows:</p>\n\n<pre><code>from ast import literal_eval\n\nd = {'trendmar': ['-34G', '+41G'], 'uberhelp': ['-13M', '+19M'], 'umljgate': ['-8.9G', '+9.2G'], 'ttpsenet': ['1.4G'], 'tyibahco': ['3.6G']}\n\nfirst = 0\nsecond = 1\n\ndiff = []\nfor key in d.keys():\n    if len(d[key])==2:\n        diff.append(key + \" : \" + str(literal_eval(\"\".join([d[key][first][:-1] ,\" - (\", d[key][second][:-1], \")\"]))) + d[key][first][-1])\n    else:\n        diff.append(key + \" : \" + str(literal_eval(str(d[key][0][:-1]))) + d[key][0][-1])\n\nprint(diff)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['uberhelp : -32M', 'tyibahco : 3.6G', 'ttpsenet : 1.4G', 'umljgate : -18.1G', 'trendmar : -75G']\n</code></pre>\n\n<p>In the above example, we subtract the first from the second value. If you wish the opposite, then swap values of <code>first</code> and <code>second</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 6775571, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153634959406106/picture?type=large", "display_name": "Kareem El Sayed", "link": "https://stackoverflow.com/users/6775571/kareem-el-sayed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 49661466, "answer_count": 3, "score": 1, "last_activity_date": 1522888990, "creation_date": 1522880790, "last_edit_date": 1522888990, "question_id": 49661380, "link": "https://stackoverflow.com/questions/49661380/store-file-output-in-dictionaries", "title": "Store file output in dictionaries", "body": "<p>I have a file with two column as shown below</p>\n\n<pre><code>-34G     trendmar\n+41G     trendmar\n 1.4G    ttpsenet\n 3.6G    tyibahco\n-13M     uberhelp\n+19M     uberhelp\n-8.9G    umljgate\n+9.2G    umljgate\n</code></pre>\n\n<p>I want to store it in dictionaries to do some mathematical operations but using the first column as value and second as key.</p>\n\n<p>How could I do that?</p>\n"}, {"tags": ["python", "memory", "time"], "owner": {"reputation": 15, "user_id": 9486388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c182bb350293ba12ce0d6926f53cfb5?s=128&d=identicon&r=PG&f=1", "display_name": "R. Anstotz", "link": "https://stackoverflow.com/users/9486388/r-anstotz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522882828, "creation_date": 1522880784, "question_id": 49661377, "link": "https://stackoverflow.com/questions/49661377/determine-memory-used-by-a-function-in-python", "title": "Determine Memory used by a Function in Python", "body": "<p>I was wondering if there is simple way to measure the memory used to execute a function similar to the way you can time a function. </p>\n\n<p>For example, I can time a function and append the elapsed time to a list by doing the following:</p>\n\n<pre><code>from timeit import default_timer as timer\n\ntimePerTenRuns = []\n\n# Loop through numRuns to generate an average\n#\nfor i in range(0, len(numRuns)):\n\n    # Generate random data\n    #\n    randList = getRand(k, randStart, k/randDivisor)\n\n    # Time the function\n    #\n    start = timer()\n\n    # Execute function to count duplicates in a random list\n    #\n    countDuplicates(randList)\n\n    # Take the time at function's end\n    #\n    end = timer()\n\n    # Append time for one execution of function\n    #\n    timePerTenRuns.append(end-start)\n</code></pre>\n\n<p>I would like to do the same to calculate and store the memory required to execute that function, then append it to a similar list. </p>\n\n<p>I've read about tools such as memory_profiler, memory_usage, and others, but none have seemed to be able to produce the implementation I am looking for.</p>\n\n<p>Is this possible? Any help would be greatly appreciated.</p>\n\n<p>Best regards,</p>\n\n<p>Ryan</p>\n"}, {"tags": ["python", "pandas", "pyspark", "pyspark-sql"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1522940238, "post_id": 49661371, "comment_id": 86361955, "body": "Your second attempt looks like it should work. Can you provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces this issue? Please provide a small sample dataframe. Read more on <a href=\"https://stackoverflow.com/questions/48427185/how-to-make-good-reproducible-apache-spark-dataframe-examples\">how to make good reproducible apache spark dataframe examples</a>."}], "answers": [{"tags": [], "owner": {"reputation": 15836, "user_id": 9299259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7A5cq.jpg?s=128&g=1", "display_name": "YOLO", "link": "https://stackoverflow.com/users/9299259/yolo"}, "is_accepted": true, "score": 6, "last_activity_date": 1522939954, "last_edit_date": 1522939954, "creation_date": 1522900478, "answer_id": 49663900, "question_id": 49661371, "link": "https://stackoverflow.com/questions/49661371/pyspark-groupby-with-multiple-aggregates-like-pandas/49663900#49663900", "title": "pyspark groupBy with multiple aggregates (like pandas)", "body": "\n\n<p>You can import <a href=\"http://spark.apache.org/docs/2.1.0/api/python/pyspark.sql.html#module-pyspark.sql.functions\" rel=\"noreferrer\"><code>pyspark functions</code></a> to perform aggregation.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># load function\nfrom pyspark.sql import functions as F\n\n# aggregate data\ndf_trx_m = train.groupby('Age').agg(\n    F.avg(F.col('repatha_trx')).alias('repatha_trx_avg'),\n    F.variance(F.col('repatha_trx')).alias('repatha_trx_var')\n)\n</code></pre>\n\n<p>Note that <a href=\"http://spark.apache.org/docs/2.1.0/api/python/pyspark.sql.html#pyspark.sql.functions.variance\" rel=\"noreferrer\"><code>pyspark.sql.functions.variance()</code></a> returns the population variance. There is another function <a href=\"http://spark.apache.org/docs/2.1.0/api/python/pyspark.sql.html#pyspark.sql.functions.var_samp\" rel=\"noreferrer\"><code>pyspark.sql.functions.var_samp()</code></a> for the unbiased sample variance.</p>\n"}], "owner": {"reputation": 1761, "user_id": 7148245, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/a8d64725924830b6291f35eff98f646e?s=128&d=identicon&r=PG&f=1", "display_name": "madsthaks", "link": "https://stackoverflow.com/users/7148245/madsthaks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3719, "favorite_count": 0, "accepted_answer_id": 49663900, "answer_count": 1, "score": 2, "last_activity_date": 1522940171, "creation_date": 1522880771, "last_edit_date": 1522940171, "question_id": 49661371, "link": "https://stackoverflow.com/questions/49661371/pyspark-groupby-with-multiple-aggregates-like-pandas", "title": "pyspark groupBy with multiple aggregates (like pandas)", "body": "\n\n<p>I'm very new to pyspark and I'm attempting to transition my pandas code to pyspark. One thing I'm having issues with is aggregating my groupby.</p>\n\n<p>Here is the pandas code:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>df_trx_m = train1.groupby('CUSTOMER_NUMBER')['trx'].agg(['mean', 'var'])\n</code></pre>\n\n<p>I saw this example on AnalyticsVidhya but I'm not sure how to apply that to the code above:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>train.groupby('Age').agg({'Purchase': 'mean'}).show()\nOutput:\n+-----+-----------------+\n|  Age|    avg(Purchase)|\n+-----+-----------------+\n|51-55|9534.808030960236|\n|46-50|9208.625697468327|\n| 0-17|8933.464640444974|\n|36-45|9331.350694917874|\n|26-35|9252.690632869888|\n|  55+|9336.280459449405|\n|18-25|9169.663606261289|\n+-----+-----------------+\n</code></pre>\n\n<p>Any help would be much apprecaited</p>\n\n<p>EDIT:</p>\n\n<p>Here's another attempt:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from pyspark.sql.functions import avg, variance\ntrain1.groupby(\"CUSTOMER_NUMBER\")\\\n    .agg(\n        avg('repatha_trx').alias(\"repatha_trx_avg\"), \n        variance('repatha_trx').alias(\"repatha_trx_Var\")\n    )\\\n    .show(100)\n</code></pre>\n\n<p>But that is just giving me an empty dataframe.</p>\n"}, {"tags": ["python", "python-3.x", "import", "beautifulsoup", "python-module"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9599280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5676b4bab97ff1a6e7fd731189af9d18?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen S", "link": "https://stackoverflow.com/users/9599280/stephen-s"}, "edited": false, "score": 0, "creation_date": 1522970548, "post_id": 49661703, "comment_id": 86377548, "body": "Awesome, thanks. I come from a Java background, so I&#39;ve accepted that some python things are just going to be magic for a while."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": true, "score": 2, "last_activity_date": 1522882868, "creation_date": 1522882868, "answer_id": 49661703, "question_id": 49661279, "link": "https://stackoverflow.com/questions/49661279/do-imports-somehow-transcend-module-namespaces/49661703#49661703", "title": "Do imports somehow transcend module namespaces?", "body": "<p>This is the beauty of a dynamic language like python. <code>module_a.function()</code> tells python to:</p>\n\n<ul>\n<li>go to module <code>a</code></li>\n<li>lookup a function called \"function\" and call it</li>\n<li>take the returned object, lookup \"find\" and call it</li>\n<li>take the returned object, lookup \"string\" and call it</li>\n</ul>\n\n<p>Since all of these lookups happen dynamically as the function or method is called, <code>module_b</code> doesn't have to have a predefined interface for <code>bs4</code> or <code>string</code>. Its just looking for a method called \"find\" that could come from anywhere. In fact, <code>module_a</code> could swap in some other implementation and as long as the methods being called are still there, it still works.</p>\n\n<p><code>from bs4 import BeautifulSoup</code> imports the <code>bs4</code> module (and any submodules <em>it</em> imports) into python. You can see the module in <code>sys.modules</code> when its done. It then reaches into <code>bs4</code>, looks up <code>BeautifulSoup</code> and adds that class to <code>module_a</code> 's namespace. The module is now available to all other imported modules... its just that they don't know about it because they haven't imported it. Modules that just use the resulting objects from <code>bs4</code> never need to see it directly.</p>\n"}], "owner": {"reputation": 15, "user_id": 9599280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5676b4bab97ff1a6e7fd731189af9d18?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen S", "link": "https://stackoverflow.com/users/9599280/stephen-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 49661703, "answer_count": 1, "score": 0, "last_activity_date": 1522907951, "creation_date": 1522880284, "last_edit_date": 1522907951, "question_id": 49661279, "link": "https://stackoverflow.com/questions/49661279/do-imports-somehow-transcend-module-namespaces", "title": "Do imports somehow transcend module namespaces?", "body": "<p>I have a module (say module A) that for one of its functions, returns a BeautifulSoup object. I am writing a second module (module B) that calls this function and stores that BeautifulSoup object. I am confused how I can call BeautifulSoup functions on the object that was returned by module A in module B without module B importing anything from bs4, or having to access those BS4 functions through module A. Is the import basically putting module_a and all of its imports in the package, and so the BeautifulSoup class is visible to module_b?</p>\n\n<p>module_a.py</p>\n\n<pre><code>from bs4 import BeautifulSoup\ndef function():\n    some_xml = \"&lt;name&gt;Namespaces are strange.&lt;/name&gt;\"\n    return BeautifulSoup(some_xml, \"xml\")\n</code></pre>\n\n<p>module_b.py</p>\n\n<pre><code>import module_a\ndef main():\n    # How does this line know what to do with .find()? or .string?\n    print(module_a.function().find(\"name\").string) \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "is_accepted": true, "score": 1, "last_activity_date": 1522889550, "last_edit_date": 1522889550, "creation_date": 1522886878, "answer_id": 49662242, "question_id": 49661247, "link": "https://stackoverflow.com/questions/49661247/plotting-cdf-for-discrete-variable-step-plot-with-alternating-lines/49662242#49662242", "title": "Plotting CDF for Discrete Variable - Step Plot with Alternating Lines", "body": "<p>I'm not sure if <code>step()</code> can do this; it's really just a <a href=\"https://github.com/matplotlib/matplotlib/blob/035ea50fa73c307e424b9e62949e0b6d52cbd98e/lib/matplotlib/axes/_axes.py#L1805\" rel=\"nofollow noreferrer\">few lines of code</a> wrapped around <code>plt.plot()</code>.</p>\n\n<p>Alternately, you could use <code>vlines()</code> and <code>hlines()</code>.  The logic of slicing varies based on how you want the steps \"configured,\" (as in how you would specify the <a href=\"https://matplotlib.org/api/_as_gen/matplotlib.pyplot.step.html\" rel=\"nofollow noreferrer\"><code>where</code></a> argument to <code>step()</code>, but here is a close reproduction of the example from your question:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ndata = np.arange(0, 7)\ny = np.array([.07, .21, .42, .68, 1.])\nyn = np.insert(y, 0, 0)\n\nfig, ax = plt.subplots()\nax.set_facecolor('white')\n\n# https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.hlines.html\nax.hlines(y=yn, xmin=data[:-1], xmax=data[1:],\n          color='red', zorder=1)\n\n# https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.vlines.html\nax.vlines(x=data[1:-1], ymin=yn[:-1], ymax=yn[1:], color='red',\n          linestyle='dashed', zorder=1)\n\nax.scatter(data[1:-1], y, color='red', s=18, zorder=2)\nax.scatter(data[1:-1], yn[:-1], color='white', s=18, zorder=2,\n           edgecolor='red')\nax.grid(False)\nax.set_xlim(data[0], data[-1])\nax.set_ylim([-0.01, 1.01])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/pHHxN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pHHxN.png\" alt=\"enter image description here\"></a></p>\n\n<p><code>zorder</code> makes sure the scatter points are overlaid on top of lines. </p>\n\n<p>As it stands, your creation of <code>y</code> doesn't really follow suite with what the image you showed looks like, but this example tries to mimic the image itself.</p>\n"}], "owner": {"reputation": 23, "user_id": 9599354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc169dba5b2f150981a8345df87f18d2?s=128&d=identicon&r=PG&f=1", "display_name": "Lavaking", "link": "https://stackoverflow.com/users/9599354/lavaking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1457, "favorite_count": 0, "accepted_answer_id": 49662242, "answer_count": 1, "score": 2, "last_activity_date": 1522939375, "creation_date": 1522880078, "last_edit_date": 1522939375, "question_id": 49661247, "link": "https://stackoverflow.com/questions/49661247/plotting-cdf-for-discrete-variable-step-plot-with-alternating-lines", "title": "Plotting CDF for Discrete Variable - Step Plot with Alternating Lines", "body": "<p>I would like to draw a graph that looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2kw0T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kw0T.png\" alt=\"enter image description here\"></a></p>\n\n<p>The data is given in a .csv file, which I already imported to <em>data</em> and used as x in the graph.</p>\n\n<p>Y is calculated as following:</p>\n\n<pre><code>y = np.arange(1, len(data)+1)/len(data)\n</code></pre>\n\n<p>And then plotted using:</p>\n\n<pre><code>plt.step((data), y)\nplt.show(block=\"false\")\n</code></pre>\n\n<p>My problem is now, that the graph looks like a normal step graph like <a href=\"https://blogs.sas.com/content/iml/files/2016/09/ECDF_step1.png\" rel=\"nofollow noreferrer\">this one</a> (not my actual data).</p>\n\n<p>How do I format this to look like the one mentioned, i.e. coming from the left on the <em>y = 0</em> line and extending on the right on the <em>y = 1</em> line, dotted vs. solid lines and points on the graph?</p>\n\n<p>I have googled around and found many solutions for the graph that I already have, but I would like to format it as mentioned.</p>\n\n<p>I'm new to the general subject, so if the setup is wrong, any help there is appreciated as well!</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "sql", "pandas", "teradata"], "comments": [{"owner": {"reputation": 874, "user_id": 6535641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91de216e37b552d355915aa73e4c16?s=128&d=identicon&r=PG&f=1", "display_name": "ULick", "link": "https://stackoverflow.com/users/6535641/ulick"}, "edited": false, "score": 0, "creation_date": 1522883013, "post_id": 49661232, "comment_id": 86333318, "body": "Don&#39;t know about TyPd, but the sql doesn&#39;t look right. It should be <code>PRIMARY INDEX (a) WITH DATA ON  COMMIT PRESERVE ROWS; Select...</code>. <code>select a,b,c</code>needs a <code>from &lt;table&gt;</code>. Missing <code>;</code> at the end. DId you try the sql directly in any Client?"}, {"owner": {"reputation": 199, "user_id": 7096399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-TmWgayBy6AY/AAAAAAAAAAI/AAAAAAAADbE/uX1jnXwTqsc/photo.jpg?sz=128", "display_name": "CGermain", "link": "https://stackoverflow.com/users/7096399/cgermain"}, "reply_to_user": {"reputation": 874, "user_id": 6535641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91de216e37b552d355915aa73e4c16?s=128&d=identicon&r=PG&f=1", "display_name": "ULick", "link": "https://stackoverflow.com/users/6535641/ulick"}, "edited": false, "score": 0, "creation_date": 1522936277, "post_id": 49661232, "comment_id": 86358873, "body": "Thanks for pointing out the missing &quot;from &lt;table&gt;&quot;. The sql on the &quot;primary index&quot; works with the logic I have in Teradata. I did adapt this example query from a real query. I&#39;m not having any issues querying through Python Teradata module for a single query, just when I try to add in a volatile table. I&#39;m experimenting with other script to call session.execute(my_query) with each query to see if that works. More to come..."}, {"owner": {"reputation": 874, "user_id": 6535641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91de216e37b552d355915aa73e4c16?s=128&d=identicon&r=PG&f=1", "display_name": "ULick", "link": "https://stackoverflow.com/users/6535641/ulick"}, "edited": false, "score": 0, "creation_date": 1522941827, "post_id": 49661232, "comment_id": 86363212, "body": "It is still missing a <code>;</code> between query defintion and select, and <code>; at the end. The </code>)` after <code>preserve rows</code> is too much, there is no correspnding opening <code>(</code>.  Depending on the sessions default mode (ansi or Teradata), a <code>commit;</code> is needed in ansi-mode after <code>create table</code>."}, {"owner": {"reputation": 199, "user_id": 7096399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-TmWgayBy6AY/AAAAAAAAAAI/AAAAAAAADbE/uX1jnXwTqsc/photo.jpg?sz=128", "display_name": "CGermain", "link": "https://stackoverflow.com/users/7096399/cgermain"}, "reply_to_user": {"reputation": 874, "user_id": 6535641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91de216e37b552d355915aa73e4c16?s=128&d=identicon&r=PG&f=1", "display_name": "ULick", "link": "https://stackoverflow.com/users/6535641/ulick"}, "edited": false, "score": 0, "creation_date": 1522942358, "post_id": 49661232, "comment_id": 86363585, "body": "Thanks for pointing this out, but the issue is not with the query. I have typos writing the example query as you&#39;ve pointed out. Assume the query is good, I want to know why I&#39;m receiving an error trying to use a volatile table in the Teradata Python Module."}, {"owner": {"reputation": 199, "user_id": 7096399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-TmWgayBy6AY/AAAAAAAAAAI/AAAAAAAADbE/uX1jnXwTqsc/photo.jpg?sz=128", "display_name": "CGermain", "link": "https://stackoverflow.com/users/7096399/cgermain"}, "reply_to_user": {"reputation": 874, "user_id": 6535641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91de216e37b552d355915aa73e4c16?s=128&d=identicon&r=PG&f=1", "display_name": "ULick", "link": "https://stackoverflow.com/users/6535641/ulick"}, "edited": false, "score": 0, "creation_date": 1522943399, "post_id": 49661232, "comment_id": 86364254, "body": "So I tried to run and corrected the query, now I&#39;m receiving the error: <code>(3932, &#39;[25000] [Teradata][ODBC Teradata Driver][Teradata Database] Only an ET or null statement is legal after a DDL Statement. &#39;)</code>"}, {"owner": {"reputation": 874, "user_id": 6535641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa91de216e37b552d355915aa73e4c16?s=128&d=identicon&r=PG&f=1", "display_name": "ULick", "link": "https://stackoverflow.com/users/6535641/ulick"}, "edited": false, "score": 0, "creation_date": 1522958412, "post_id": 49661232, "comment_id": 86372891, "body": "That error indicates, that you are Teradata mode (aka BTET-mode) and an explicit transaction is not yet closed. There is no open transaction around your statements, hence the DB recieves it as a multistatement. Multistatement = the <code>;</code> is not the last character in the line. Both statements are sent to the database as one request to be executed in parallel. Make sure the query-string includes a line-break afte the <code>;</code>, or execute them as separate requests within the same session."}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 7096399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-TmWgayBy6AY/AAAAAAAAAAI/AAAAAAAADbE/uX1jnXwTqsc/photo.jpg?sz=128", "display_name": "CGermain", "link": "https://stackoverflow.com/users/7096399/cgermain"}, "is_accepted": true, "score": 3, "last_activity_date": 1522959477, "last_edit_date": 1522959477, "creation_date": 1522958886, "answer_id": 49680713, "question_id": 49661232, "link": "https://stackoverflow.com/questions/49661232/how-to-use-volatile-tables-in-python-teradata-module-pytd/49680713#49680713", "title": "How to use Volatile Tables in Python Teradata module PyTD", "body": "<p>Okay thanks to some help on the <a href=\"http://community.teradata.com/t5/Tools/Teradata-Python-Module/m-p/79108/highlight/false#M3713\" rel=\"nofollow noreferrer\">Teradata forum</a>, I was able to solve this. You can add as many queries as you like following the same construct:</p>\n\n<pre><code>import teradata as td\nimport pandas as pd\nfrom teradata import tdodbc\n\nudaExec = td.UdaExec (appName=\"dpull\", version=\"1.0\",logConsole=False)\nwith udaExec.connect(method=\"ODBC\",dsn=\"tdata\", username=\"un\", \npassword=\"pw\") as session:\n\nquery1 = \"\"\"\n    create volatile table vol_table\n    ,no fallback, no before journal, no after journal as \n        (\n        select a, b, c\n        from my_table1\n        )\n     with data primary index (a)\n     on commit preserve rows;\n\"\"\"\nquery2 = \"\"\"\n    Select vt.a, vt.b, vt.c, t2.x\n    from vol_table vt\n    inner join table2 t2\n    on vt.a = t2.a\n\"\"\"\nsession.execute(query1)\ndf = pd.read_sql(query2,session)\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 7096399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-TmWgayBy6AY/AAAAAAAAAAI/AAAAAAAADbE/uX1jnXwTqsc/photo.jpg?sz=128", "display_name": "CGermain", "link": "https://stackoverflow.com/users/7096399/cgermain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2380, "favorite_count": 1, "accepted_answer_id": 49680713, "answer_count": 1, "score": 0, "last_activity_date": 1522959477, "creation_date": 1522879986, "last_edit_date": 1522942497, "question_id": 49661232, "link": "https://stackoverflow.com/questions/49661232/how-to-use-volatile-tables-in-python-teradata-module-pytd", "title": "How to use Volatile Tables in Python Teradata module PyTD", "body": "<p>Does anyone know how to use volatile tables in the PyTd Teradata ODBC module? I can run single queries and get the results to return, but if I try to build a query with volatile tables, I keep getting an error. Any help? I'm fairly new to python.</p>\n\n<p>I'm using </p>\n\n<pre><code>udaExec = td.UdaExec (appName=\"dpull\", version=\"1.0\",logConsole=False)\nwith udaExec.connect(method=\"ODBC\",dsn=\"tdata\", username=\"un\", \npassword=\"pw\") as session:\n\nquery = \"\"\"\"\ncreate volatile table vol_table\n,no fallback, no before journal, no after journal as \n    (\n    select a, b, c\n    from my_table1\n    )\nwith data primary index (a)\non commit preserve rows\n\nSelect vt.a, vt.b, vt.c, t2.a\nfrom vol_table vt\ninner join table2 t2\non vt.anything = t2.anything\n\"\"\"\"\ndf = pd.read_sql(query,session)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code> `InterfaceError: ('SQL_INVALID_HANDLE', 'Invalid handle passed to SQLGetDiagRecW.')`\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "google-api"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 2, "creation_date": 1522880002, "post_id": 49661229, "comment_id": 86332227, "body": "Post all relevant code and errors here directly as text."}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522880082, "post_id": 49661229, "comment_id": 86332251, "body": "do you have a variable called <code>signer</code> declared and assigned to a string?"}, {"owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "edited": false, "score": 0, "creation_date": 1522880207, "post_id": 49661229, "comment_id": 86332301, "body": "Post the code and we can definitely start helping you!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1522880952, "post_id": 49661229, "comment_id": 86332555, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9201220"}, "reply_to_user": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "edited": false, "score": 1, "creation_date": 1522881030, "post_id": 49661229, "comment_id": 86332590, "body": "@PeterDolan I have attached the code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9201220"}, "reply_to_user": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522881108, "post_id": 49661229, "comment_id": 86332623, "body": "@JacobIRR I am not making any calls to this method explicitly, Its being triggered here : service = build(&quot;admin&quot;, &quot;directory_v1&quot;, http=http)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9201220"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1522881139, "post_id": 49661229, "comment_id": 86332633, "body": "@Carcigenicate Thanks for the response, code is attached."}, {"owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "edited": false, "score": 0, "creation_date": 1522885899, "post_id": 49661229, "comment_id": 86334136, "body": "Hey @AmanKahlon, thanks for the post. Can you explain where the <code>build</code> function is coming from? Is that something you&#39;ve imported, or perhaps created yourself?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9201220"}, "reply_to_user": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "edited": false, "score": 0, "creation_date": 1522936950, "post_id": 49661229, "comment_id": 86359369, "body": "@PeterDolan build is not created by me, its inbuilt function from one the imported package."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9201220"}, "reply_to_user": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "edited": false, "score": 0, "creation_date": 1522937385, "post_id": 49661229, "comment_id": 86359725, "body": "@PeterDolan its resides in this package from apiclient.discovery import build"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9201220"}, "edited": false, "score": 1, "creation_date": 1522881266, "post_id": 49661368, "comment_id": 86332674, "body": "Thanks for the response, but I am not making explicit calls to the sign method. Its being implicitly called by this code service = build(&quot;admin&quot;, &quot;directory_v1&quot;, http=http)"}], "tags": [], "owner": {"reputation": 943, "user_id": 2005095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vbcjg.jpg?s=128&g=1", "display_name": "ingernet", "link": "https://stackoverflow.com/users/2005095/ingernet"}, "is_accepted": true, "score": 0, "last_activity_date": 1522880763, "creation_date": 1522880763, "answer_id": 49661368, "question_id": 49661229, "link": "https://stackoverflow.com/questions/49661229/attributeerror-str-object-has-no-attribute-sign/49661368#49661368", "title": "AttributeError: &#39;str&#39; object has no attribute &#39;sign&#39;", "body": "<p>It appears that <code>signer</code> is being interpreted as a string, which inherently is just...a string. Not a dict or a list, both of which have attrs. Please post the function that is throwing this error. Also, <a href=\"https://stackoverflow.com/questions/4005796/attributeerror-str-object-has-no-attribute-append\">this SO question and answer may be relevant to your interests</a>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9201220"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 0, "accepted_answer_id": 49661368, "answer_count": 1, "score": 1, "last_activity_date": 1522896636, "creation_date": 1522879972, "last_edit_date": 1522896636, "question_id": 49661229, "link": "https://stackoverflow.com/questions/49661229/attributeerror-str-object-has-no-attribute-sign", "title": "AttributeError: &#39;str&#39; object has no attribute &#39;sign&#39;", "body": "<p>When I run my python script, it gives me the following error. Not sure how to resolve it. I think so either the problem is in the version of python, I am using python 3.6 or It could be some packages not included. Please see the included image for error.\n Thanks.\n<a href=\"https://i.stack.imgur.com/UWxiY.png\" rel=\"nofollow noreferrer\">Error</a></p>\n\n<p>Code:</p>\n\n<pre><code>f = open('c:\\ExamCreator\\My Project-9352ed298182.json') \n        key = f.read()\n        f.close()                                                                             \n        credentials = ServiceAccountCredentials(\n             'CLIENT_EMAIL', key, \n             scope=\n             'https://www.googleapis.com/auth/admin.directory.user', \n             sub='amankahlon@test.grasslands.ab.ca'\n        )\n        http = httplib2.Http()\n        http = credentials.authorize(http)                                           \n        userinfo = {\n            'primaryEmail': 'test1@test.grasslands.ab.ca',\n            'name': { \n                'givenName':'John','familyName':'Smith' \n            },\n            'password': 'Hello1'\n        }\n        service = build(\"admin\", \"directory_v1\", http=http)\n        service.users().insert(body=userinfo).execute()\n</code></pre>\n"}, {"tags": ["python", "pymc3"], "comments": [{"owner": {"reputation": 3422, "user_id": 2620170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6abee86ef49dd0b6ef5785090eb7e5?s=128&d=identicon&r=PG", "display_name": "colcarroll", "link": "https://stackoverflow.com/users/2620170/colcarroll"}, "edited": false, "score": 0, "creation_date": 1522930055, "post_id": 49661216, "comment_id": 86354229, "body": "What happens when you use <code>low</code> and <code>high</code> for measurements?  I get that the model is misspecified.  What is happening is that there is no reason <code>early_low &lt; early_high</code>, which leads you to regions with 0 probability.  Even after you fix that, <code>measurements</code> being uniform means you must be sure that the generative model never allows values outside the observed ones (as it stands, you <i>do</i> allow that)."}, {"owner": {"reputation": 414, "user_id": 5962683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e769P.png?s=128&g=1", "display_name": "Junpeng Lao", "link": "https://stackoverflow.com/users/5962683/junpeng-lao"}, "edited": false, "score": 0, "creation_date": 1523111441, "post_id": 49661216, "comment_id": 86430177, "body": "You really should avoid <code>tt.switch</code> - it breaks down the nice geometry of your model and makes using NUTS to sample very difficult. You should try to rewrite your model into a continuous one, more details here: <a href=\"https://stackoverflow.com/questions/49144144\">stackoverflow.com/questions/49144144</a>"}], "owner": {"reputation": 180, "user_id": 2727064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cad3713e1a75995b1c80add75a37e1e?s=128&d=identicon&r=PG", "display_name": "user224348", "link": "https://stackoverflow.com/users/2727064/user224348"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522879907, "creation_date": 1522879907, "question_id": 49661216, "link": "https://stackoverflow.com/questions/49661216/how-to-use-array-of-distributions-as-argument-for-new-distribution-in-pymc3", "title": "How to use array of distributions as argument for new distribution in pymc3", "body": "<p>I'm trying to model following problem:</p>\n\n<ul>\n<li>Before some switching point in time (chosen from DiscreteUniform distribution), values are chosen from Uniform distribution with bounds <code>early_low</code>, <code>early_high</code>. After this switch in time, values are chosen from Uniform distribution with bounds <code>late_low</code>, <code>late_high</code>. Given list of samples, estimate switching point and four bounds.</li>\n</ul>\n\n<p>I would like to do something like this:</p>\n\n<pre><code>import pymc3 as pm\n\nwith pm.Model() as value_model:\n        early_low = pm.Uniform(\"early_low\", lower=value.min(), upper=value.max())\n        late_low = pm.Uniform(\"late_low\", lower=value.min(), upper=value.max())\n        early_high = pm.Uniform(\"early_high\", lower=value.min(), upper=value.max())\n        late_high = pm.Uniform(\"late_high\", lower=value.min(), upper=value.max())\n        switch_date = pm.DiscreteUniform('switch_date', lower=date.min(), upper=date.max())\n        low = pm.math.switch(date &gt;= switch_date, late_low, early_low)\n        high = pm.math.switch(date &gt;= switch_date, late_high, early_high)\n        measurements = pm.Uniform(\"measurements\", low, high, observed=value)\n</code></pre>\n\n<p>Problem is, that I can't use <code>low</code> and <code>high</code> as parameters of <code>Uniform</code> distribution (see <code>measurements =</code>...). It is possible to use such arguments with Poisson distribution (of course there is only one argument). (See code in <a href=\"http://docs.pymc.io/notebooks/getting_started.html\" rel=\"nofollow noreferrer\">Coal mining disasters</a>.) I don't know why.</p>\n\n<p>According to <a href=\"https://stackoverflow.com/a/37357081/2727064\">this</a> post, you can use arrays consisting of constants as parameters of distributions. I would like to use <code>low</code> and <code>high</code> in similar way.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25314916/how-do-i-get-parameters-from-a-posterior-distribution-in-pymc\">This</a> question shows creating deterministic function, but I'm not sure if this is somehow applicable to arrays.</p>\n\n<p>Lastly, I thought about using mixture, something like this:</p>\n\n<pre><code>with pm.Model() as value_model:\n        early_low = pm.Uniform(\"early_low\", lower=value.min(), upper=value.max())\n        late_low = pm.Uniform(\"late_low\", lower=value.min(), upper=value.max())\n        early_high = pm.Uniform(\"early_high\", lower=value.min(), upper=value.max())\n        late_high = pm.Uniform(\"late_high\", lower=value.min(), upper=value.max())\n        switch_date = pm.DiscreteUniform('switch_date', lower=date.min(), upper=date.max())\n        early = pm.Uniform(\"early\", early_low, early_high, observed=value)\n        late = pm.Uniform(\"late\", late_low, late_high, observed=value)\n        measurements = pm.Mixture(\"measurements\", [date &gt;= switch_date, date &lt; switch_date], [late, early])\n</code></pre>\n\n<p>However this doesn't seem like way to go.</p>\n\n<p>This is how I sample this model:</p>\n\n<pre><code>with value_model:\n    trace = pm.sample(10000)\n</code></pre>\n\n<p>In ideal case, I'm looking for way to do something like <code>switch</code>, but instead of taking fixed values, it should decide between two distributions.</p>\n"}, {"tags": ["python", "regex", "python-2.7", "text-manipulation"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1522880025, "post_id": 49661206, "comment_id": 86332235, "body": "If it can be &quot;anything&quot; then how is a regexp supposed to match it? You need to specify what it can be precisely."}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522880152, "post_id": 49661206, "comment_id": 86332285, "body": "@Barmar sorry for this..anything means here it could be number 1.1 or mix of characters 1.a or a.4 or nothing"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522880169, "post_id": 49661206, "comment_id": 86332288, "body": "Does it always contain a <code>.</code>? Maybe <code>\\S+\\.\\S+</code>"}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522880245, "post_id": 49661206, "comment_id": 86332313, "body": "@Barmar In most of the cases yes but sometime doesn&#39;t contain anything for e.g R olcPa GA"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522880376, "post_id": 49661206, "comment_id": 86332350, "body": "So in those cases the regexp won&#39;t match, and you can test for that separately."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522880425, "post_id": 49661206, "comment_id": 86332366, "body": "You can&#39;t match <i>nothing</i> unless there&#39;s a pattern for something before or after it."}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522880526, "post_id": 49661206, "comment_id": 86332396, "body": "@Barmar it makes sense but for now I can exclude this one case"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 1, "creation_date": 1522881536, "post_id": 49661206, "comment_id": 86332782, "body": "You don&#39;t even need regexes on this example. The alphanumeric value is always the rightmost non-parenthesized string which contains any digit. So just throw away everything from &#39;(&#39; on, split on space, iterate right-to-left, and return the first string containing a number. Else return <code>None</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522883141, "post_id": 49661206, "comment_id": 86333363, "body": "I&#39;m downvoting this question because despite numerous requests you refuse to describe the pattern of your version numbers clearly. Of course, if you knew what the pattern was you probably could write the regexp yourself."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1522880720, "post_id": 49661353, "comment_id": 86332465, "body": "It doesn&#39;t have to start with a number, he said it can be <code>a.1</code> or <code>a.a</code>."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1522881172, "post_id": 49661353, "comment_id": 86332647, "body": "@Barmar you are right, I got a bit closer, still not getting the a.1 completely though..."}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1522881506, "last_edit_date": 1522881506, "creation_date": 1522880669, "answer_id": 49661353, "question_id": 49661206, "link": "https://stackoverflow.com/questions/49661206/regex-to-pull-particular-value-from-the-field-in-python/49661353#49661353", "title": "Regex to pull particular value from the field in Python", "body": "<p>You get most of your examples with:</p>\n\n<pre><code>(\\d[^ \\n]*| [a-zA-Z]+?\\d[^ \\n]*).*$\n</code></pre>\n\n<p>Link:  <a href=\"https://regexr.com/3ncbs\" rel=\"nofollow noreferrer\">https://regexr.com/3ncbs</a></p>\n\n<p>It does not catch version numbers that consist of letters only - it catches mixed ones.</p>\n\n<pre><code>t = \"\"\"CTX     \nCTX 4.0R (Released)     \nCTX 4.1 (Released)\nCTX 4.2 (Released)\nCTX 4.2R2 (FRtRre)  \nCTX 4.3 (Released)  \nCTX 4.4 (Released)  \nCTX 4.4R1 (Active)  \nCTX 4.5 (Active)    \nCTX 4.6 (Active)\nR PX 3.5R3 (Archived)           \nR PX 3.5R4 (Archived)               \nR PX 3.5R5 (Archived)               \nR PX 3.6R2 (Released)               \nR PX 3.6R3 (Rnreleased)             \nR PX 3.6R4 (Released)               \nR PX 3.6R5 (Active)             \nR PX 3.7R (Archived)                \nR PX 3.7R1 (Released)           \nR PX 3.7R2 (Active)             \nR PX 3.8R (Released)            \nR PX 3.8R1 (Released)               \nR PX 3.8R2 (Released)           \nR PX 3.8R3 (Released)               \nR PX 3.8R4 (Active)\nR LPTT GA   \nR LPTT R1   \nR LPTT R2\nR Cianara 4.1R2 (Early Access)\nR Cianara 4.x (FRtRre)\nR NRnPA R2\"\"\"\n\nimport re\n\nvers = re.findall(r'(\\d[^ \\n]*| [a-zA-Z]+?\\d[^ \\n]*).*$',t,re.MULTILINE)\nprint(vers)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['4.0R', '4.1', '4.2', '4.2R2', '4.3', '4.4', '4.4R1', '4.5', \n '4.6', '3.5R3', '3.5R4', '3.5R5', '3.6R2', '3.6R3', '3.6R4', \n '3.6R5', '3.7R', '3.7R1', '3.7R2', '3.8R', '3.8R1', '3.8R2', \n '3.8R3', '3.8R4', ' R1', ' R2', '4.1R2', '4.x', ' R2']\n</code></pre>\n\n<p>It does not find \"empty\" ones.</p>\n"}, {"comments": [{"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522881161, "post_id": 49661411, "comment_id": 86332641, "body": "This will not work &quot;\\S+\\.\\S+&quot; because it will give u 1.1(U1) as well and i don&#39;t want that just need 1.1 or 1.a or a.a"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522881238, "post_id": 49661411, "comment_id": 86332667, "body": "Where is that in the sample input? I told you you need to be very precise about what the pattern is."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522881304, "post_id": 49661411, "comment_id": 86332686, "body": "Update the question to clearly state what characters can be in the version. One or two examples is not enough for me to figure out the full pattern."}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522881947, "post_id": 49661411, "comment_id": 86332933, "body": "this one is r&quot;\\w+\\.\\w+&quot; not working and giving 3.8U3"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522881975, "post_id": 49661411, "comment_id": 86332945, "body": "But you said it can be <code>1.a</code>. Why is the <code>a</code> OK there, but not <code>U3</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882020, "post_id": 49661411, "comment_id": 86332956, "body": "Stop giving examples, and give a precise <i>description</i> of how these version numbers can be. I can&#39;t figure out the pattern from examples and exceptions."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882062, "post_id": 49661411, "comment_id": 86332976, "body": "Are lowercase letters allowed, but not uppercase?"}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882089, "post_id": 49661411, "comment_id": 86332989, "body": "Yes I said I need only 1.a or 1.x or 1.1 but not 1.1(U1) or 3.8(U2) I gave few examples in my question"}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882137, "post_id": 49661411, "comment_id": 86333005, "body": "It is possible both lowercase and upercase"}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882305, "post_id": 49661411, "comment_id": 86333055, "body": "so basically if there is 1.xR,1.1R  then I need 1.x or 1.1"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882424, "post_id": 49661411, "comment_id": 86333108, "body": "I give up. How many times do I have to ask for a precise description, not examples?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882448, "post_id": 49661411, "comment_id": 86333118, "body": "So far you&#39;ve said it can&#39;t be R1 or U1, what about X1 or Z1?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882479, "post_id": 49661411, "comment_id": 86333130, "body": "What about 1.R?"}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522882778, "post_id": 49661411, "comment_id": 86333245, "body": "check my updated question what I need for each component.Hope this clears"}, {"owner": {"reputation": 3670, "user_id": 7857466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OW0s.png?s=128&g=1", "display_name": "progmatico", "link": "https://stackoverflow.com/users/7857466/progmatico"}, "edited": false, "score": 0, "creation_date": 1522882808, "post_id": 49661411, "comment_id": 86333260, "body": "I think your answer is illustrative enough, I agree with it, you answered first and dynamic questions are difficult. So I am upvoting this and deleting mine, which actually was essentially the same."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522883006, "post_id": 49661411, "comment_id": 86333317, "body": "@Sushant Do you really not understand the concept of a <i>description</i> instead of <i>examples</i>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522883032, "post_id": 49661411, "comment_id": 86333328, "body": "@Sushant Use <code>[a-z\\d]</code> to match lowercase letters and digits. Does that help?"}, {"owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "edited": false, "score": 0, "creation_date": 1522883277, "post_id": 49661411, "comment_id": 86333390, "body": "Thanks for your input and patience I upvoted the answer"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1522881198, "last_edit_date": 1522881198, "creation_date": 1522880969, "answer_id": 49661411, "question_id": 49661206, "link": "https://stackoverflow.com/questions/49661206/regex-to-pull-particular-value-from-the-field-in-python/49661411#49661411", "title": "Regex to pull particular value from the field in Python", "body": "<p><code>\\S+\\.\\S+</code> will two strings of alphanumeric characters separated by <code>.</code>.</p>\n\n<pre><code>Fixversionmatch = re.findall(r\"\\w+\\.\\w+\", jsonToPython['name'])\n</code></pre>\n"}], "owner": {"reputation": 1401, "user_id": 1513848, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/a47772bd78ad3b679861e84a8ae77d85?s=128&d=identicon&r=PG&f=1", "display_name": "unknown", "link": "https://stackoverflow.com/users/1513848/unknown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1564333506, "creation_date": 1522879866, "last_edit_date": 1564333506, "question_id": 49661206, "link": "https://stackoverflow.com/questions/49661206/regex-to-pull-particular-value-from-the-field-in-python", "title": "Regex to pull particular value from the field in Python", "body": "<p>I have below type of components in jira.I am trying to create the regex to fetch the value from these components .This value could be anything e.g 1.1 or 1.a or a.a or nothing for any components but remember I don't need anything like R or (U1) just need 1.0,1.1,1.a,a.1,1.x</p>\n\n<p>so I need only the first character or number before period(.) and first character or number after period(.) or if there is no period(.) then blank</p>\n\n<pre><code>                                            need\n\nPCN 9.4U1 (Act)----------------------------1.4  \nPCN 9.5 (Act)------------------------------1.5  \nPCN 9.6 (Act)------------------------------1.6\nR AA 7.5U5 (Arch)--------------------------2.5              \nR AA 7.6U2 (Rel)--------------------------2.6               \nR AA 37.7R (Arch)---------------------------2.7             \nR TEST 1.x (Fut)-------------------------2.x\nR testp U2---------------------------------------no value\n</code></pre>\n\n<p>I am using the below regex to get the value</p>\n\n<pre><code>Fixversionmat = re.findall(r\"(\\d+\\.\\d+)\", jsonToPython['name'])\n</code></pre>\n\n<p>but this gives me result only when value is something like that 1.1 and in other cases it fails.</p>\n"}, {"tags": ["python", "web-scraping", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 1434, "user_id": 5010370, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5ef5c21eb66b79ab4fa94df6b40be5b4?s=128&d=identicon&r=PG&f=1", "display_name": "Lasse Sviland", "link": "https://stackoverflow.com/users/5010370/lasse-sviland"}, "is_accepted": true, "score": 1, "last_activity_date": 1522882518, "creation_date": 1522882518, "answer_id": 49661652, "question_id": 49661168, "link": "https://stackoverflow.com/questions/49661168/scrapy-extract-links/49661652#49661652", "title": "Scrapy: Extract links", "body": "<p>Your regular expression for matching the links contains a question mark wich needs to be escaped for your match to work, it should work if you change it to this:</p>\n\n<pre><code>'\\/view_episode_scripts\\.php\\?tv-show=bojack-horseman-2014&amp;episode=\\w+'\n</code></pre>\n\n<p>When you run the script with --nolog it would not log the links, so you would need to remove that as well.</p>\n"}], "owner": {"reputation": 1882, "user_id": 5829906, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/aeaf232670edf096dea4ef778d02d5df?s=128&d=identicon&r=PG&f=1", "display_name": "MrRobot9", "link": "https://stackoverflow.com/users/5829906/mrrobot9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 1, "accepted_answer_id": 49661652, "answer_count": 1, "score": 0, "last_activity_date": 1522882518, "creation_date": 1522879624, "question_id": 49661168, "link": "https://stackoverflow.com/questions/49661168/scrapy-extract-links", "title": "Scrapy: Extract links", "body": "<p>I am new to Scrapy, trying to extract subtitles from <code>www.springfieldspringfield.co.uk/episode_scripts.php?tv-show=bojack-horseman-2014</code></p>\n\n<p>This is my <code>scrape.py</code> code which is Spider file</p>\n\n<pre><code> from scrapy.spiders import CrawlSpider, Rule\n from scrapy.linkextractors import LinkExtractor\n from scrapy.selector import HtmlXPathSelector\n from scrapy.selector import HtmlXPathSelector\n from scrapy.item import Item, Field\n import re\n\nss_base_url = \"https://www.springfieldspringfield.co.uk/episode_scripts.php\"\n\nclass Script(Item):\n    url = Field()\n    episode_name = Field()\n    script = Field()\n\nclass SubtitleSpider(CrawlSpider):\n    name = \"scrape\"\n    allowed_domains = ['www.springfieldspringfield.co.uk']\n    start_urls = [ss_base_url]\n    rules = (\n        Rule(LinkExtractor(allow=['/episode_scripts.php?tv-show=bojack-horseman-2014&amp;episode=\\w+']),\n             callback=\"parse_script\",\n             follow=True),)\n\n    def fix_field_names(self, field_name):\n        field_name = re.sub(\" \",\"_\", field_name)\n        field_name = re.sub(\":\",\"\", field_name)\n        return field_name\n\n    def parse_script(self, response):\n        x = HtmlXPathSelector(response)\n        script = Script()\n        script['url'] = response.url\n        script['episode_name'] = \"\".join(x.select(\"//h3/text()\").extract())\n        script['script'] = \"\\n\".join(x.select(\"//div[@class='episode_script']/text()\").extract())\n        return script\n</code></pre>\n\n<p>I am trying to extract all seasons subtitles from <code>https://www.springfieldspringfield.co.uk/episode_scripts.php?tv-show=bojack-horseman-2014</code></p>\n\n<p>Subtitles are present inside these links</p>\n\n<pre><code>https://www.springfieldspringfield.co.uk/view_episode_scripts.php?tv-show=bojack-horseman-2014&amp;episode=s01e01\n\nhttps://www.springfieldspringfield.co.uk/view_episode_scripts.php?tv-show=bojack-horseman-2014&amp;episode=s01e02\n</code></pre>\n\n<p>when I run</p>\n\n<pre><code> scrapy crawl --nolog scrape\n</code></pre>\n\n<p>I should get those above links as output.\nBut its not returning nothing , where am I going wrong?</p>\n"}, {"tags": ["python", "excel", "bloomberg"], "comments": [{"owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1522881769, "post_id": 49661144, "comment_id": 86332858, "body": "Try the formula debugging steps recommended in the XlsxWriter <a href=\"https://xlsxwriter.readthedocs.io/working_with_formulas.html#dealing-with-formula-errors\" rel=\"nofollow noreferrer\">Dealing with formula errors</a> docs. In particular the formula that Excel stores and uses may not be the one it displays."}, {"owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1523012079, "post_id": 49661144, "comment_id": 86394039, "body": "Any update on this. Did you get it working?"}, {"owner": {"reputation": 177, "user_id": 9541748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/748a3fc7efd9f68f547ee064aac9def8?s=128&d=identicon&r=PG&f=1", "display_name": "mcb", "link": "https://stackoverflow.com/users/9541748/mcb"}, "reply_to_user": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1523284721, "post_id": 49661144, "comment_id": 86484936, "body": "Thanks for the link, but I already looked at it before. My formula is right and the problem is the Bloomberg add-in that is not in the excel instance that python is supposed to  open,(the instance is on my normal excel instance)."}, {"owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1523292544, "post_id": 49661144, "comment_id": 86489923, "body": "Ok. I can&#39;t help you with that but I would like to find out, from an XlsxWriter point of view, if the Bloomberg formula works if the add-in available, since this is something of a FAQ. Maybe you can let me know, even if it doesn&#39;t relate to your problem."}, {"owner": {"reputation": 177, "user_id": 9541748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/748a3fc7efd9f68f547ee064aac9def8?s=128&d=identicon&r=PG&f=1", "display_name": "mcb", "link": "https://stackoverflow.com/users/9541748/mcb"}, "reply_to_user": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1523368249, "post_id": 49661144, "comment_id": 86525744, "body": "Will let you know, but Im trying to explore other way to do it without excel since excel-python with bloomberg add-in don&#39;t seems to work."}], "owner": {"reputation": 177, "user_id": 9541748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/748a3fc7efd9f68f547ee064aac9def8?s=128&d=identicon&r=PG&f=1", "display_name": "mcb", "link": "https://stackoverflow.com/users/9541748/mcb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522879500, "creation_date": 1522879500, "question_id": 49661144, "link": "https://stackoverflow.com/questions/49661144/save-excel-formula-in-python-not-able-to-update-them-when-opening-bloomberg", "title": "Save excel formula in python, not able to update them when opening- Bloomberg", "body": "<p>I tried tot save formula inside an excel workbook; Bloomberg formula. It seems to work but When I open the workbook with python, I sometimes don't have my Bloomberg add-in in the excel instance or the formula don't update. \nWhen I do have the Bloomberg add-in, and try to refresh the Bloomberg I got a pop-up saying that the excel cannot connect to this add-in. </p>\n\n<p>When I used another excel instance, my add-in is working and the same bloomberg formula written by hand works. </p>\n\n<p>Here the code from python. </p>\n\n<pre><code>import pandas as pd\nfrom win32com.client import Dispatch\n\nxl = Dispatch('Excel.Application') \nFile_location=\"K:/...'\n\nEQU_list= pd.DataFrame(columns ['SECURITY','PRICE(LOCAL)','DVD_EX_DT','BDVD_NEXT_EST_EX_DT'])\n\nEQU_list['PRICE(LOCAL)']=pd.DataFrame(['=BDP(A'+str(i+2) +' &amp; \" Equity\",\"PX_LAST\")' for i in range(len(EQU_list)+1)])\nEQU_list['DVD_EX_DT']=pd.DataFrame(['=BDP(A'+str(i+2) +' &amp; \" Equity\",\"DVD_EX_DT\")' for i in range(len(EQU_list)+1)])\nEQU_list['BDVD_NEXT_EST_EX_DT']=pd.DataFrame(['=BDP(A'+str(i+2) +' &amp; \" Equity\",\"BDVD_NEXT_EST_EX_DT\")' for i in range(len(EQU_list)+1)])\n\nfilename=File_location+'TSX60price2_'+dformat+'.xlsx'\nEQU_list.to_excel(filename,sheet_name='Price',index=False,engine='xlsxwriter')\n\nxl.visible=1\nwb=xl.Workbooks.open(filename)\nwb.RefreshAll()\nimport time \n# Wait for 5 seconds\ntime.sleep(10)   \nprice=pd.read_excel(filename)\n</code></pre>\n\n<p>I also tried :</p>\n\n<pre><code>from xlrd import open_workbook\nbook = open_workbook(Filename)\n</code></pre>\n\n<p>and :</p>\n\n<pre><code>import os\nos.startfile(filename)\n</code></pre>\n\n<p>Without any success</p>\n\n<p>Thanks a lot in advance</p>\n"}, {"tags": ["python", "python-2.7", "pip", "six"], "comments": [{"owner": {"reputation": 943, "user_id": 2005095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vbcjg.jpg?s=128&g=1", "display_name": "ingernet", "link": "https://stackoverflow.com/users/2005095/ingernet"}, "edited": false, "score": 1, "creation_date": 1522880243, "post_id": 49661119, "comment_id": 86332311, "body": "i take it you&#39;re not using virtualenv here? that would be the cleanest workaround."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 943, "user_id": 2005095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vbcjg.jpg?s=128&g=1", "display_name": "ingernet", "link": "https://stackoverflow.com/users/2005095/ingernet"}, "edited": false, "score": 0, "creation_date": 1522881306, "post_id": 49661119, "comment_id": 86332687, "body": "@ingernet Some of Apple&#39;s <code>Extras</code> stuff will actually prevent <code>pip install</code> from working within a venv. But it&#39;s definitely worth trying that first, unless the OP can&#39;t use venvs for some reason."}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1522881125, "creation_date": 1522881125, "answer_id": 49661440, "question_id": 49661119, "link": "https://stackoverflow.com/questions/49661119/installing-error-with-six-dependency/49661440#49661440", "title": "Installing error with six dependency", "body": "<p>Sometimes, the <code>Extras</code> problem I'm going to describe does not affect venvs. Sometimes it does, but if using <code>virtualenv</code> is at all an option, you should try that before doing anything else.</p>\n\n<p>So, let's assume you either can't do that, or you tried it and this is one of the cases where it doesn't actually help.</p>\n\n<hr>\n\n<p>First, let me say that all of the following is terrible, terrible advice for any purpose <em>except</em> installing new versions of packages that Apple pre-installed in <code>Extras</code> with Apple's Python 2.7 in OS X 10.7-10.13. Anyone reading this who does not have exactly that problem, stop reading now.</p>\n\n<p>Apple's system version of Python 2.7 comes with a nifty set of third-party packages preinstalled in:</p>\n\n<pre><code>/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/\n</code></pre>\n\n<p>Rather than try to keep these packages up to date, they designed things so that you can easily shadow them with a newer version in your <code>site-packages</code> directory. Which wasn't a terrible idea.</p>\n\n<p>Unfortunately, they stopped doing any serious maintenance on this a few versions of OS X back, but didn't stop shipping it. In particular, they never updated it to work with <code>setuptools</code> and <code>pip</code>, and if you install <code>pip</code> properly (using the <code>get-pip.py</code> script instead of <code>easy_install</code>), shadowing installs will basically never work.</p>\n\n<hr>\n\n<p>If your pre-installed <code>easy_install</code> is still working, it <em>should</em> still work to install shadowing packages. Do not use it for anything else, but for this specific purpose, it's the right tool. But it doesn't work for every package on every OS X version, so it's a bit of trial and error. You may want to back up <code>Extras</code> and <code>site-packages</code> first just in case.</p>\n\n<hr>\n\n<p>The way to test it (assuming <code>easy_install</code> succeeds, of course\u2014if it fails with a slew of errors, it obviously didn't work\u2026 and it's time to restore your backups) is to start Python, <code>import six</code>, and look at <code>six.__version__</code> or <code>six.__file__</code>. If it's the new version in <code>site-packages</code>, you win.</p>\n\n<hr>\n\n<p>If that doesn't work, there's a hacky workaround that may solve your problem: Temporarily move the file <code>Extras/lib/python/six-1.4.1-py2.7.egg-info</code> somewhere else, then see if <code>pip install six</code> successfully installs into your normal <code>site-packages</code>. If so, restore the egg-info file, and test the shadowing again.</p>\n\n<hr>\n\n<p>If that <em>still</em> didn't work\u2026 well, you <em>can</em> install manually, but I think at this point, the pain of having two Python 2.7 installations in parallel is less than the pain of managing the one you have, so I'd consider installing another one (python.org, Anaconda, or Homebrew) and being careful to never touch the Apple one again (<code>virtualenv</code> can help with this).</p>\n"}], "owner": {"reputation": 1524, "user_id": 1472493, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/24e3362830e8f868dabbae5976ebd3cb?s=128&d=identicon&r=PG", "display_name": "R11G", "link": "https://stackoverflow.com/users/1472493/r11g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522881125, "creation_date": 1522879345, "question_id": 49661119, "link": "https://stackoverflow.com/questions/49661119/installing-error-with-six-dependency", "title": "Installing error with six dependency", "body": "<p><code>Running setup.py install for anyjson ... done\n  Found existing installation: six 1.4.1\n    DEPRECATION: Uninstalling a distutils installed project (six) has been deprecated and will be removed in a future version. This is due to the fact that uninstalling a distutils project will only partially uninstall the project.\n    Uninstalling six-1.4.1:\nException:\nTraceback (most recent call last):\n  File \"/Library/Python/2.7/site-packages/pip/basecommand.py\", line 215, in main\n    status = self.run(options, args)\n  File \"/Library/Python/2.7/site-packages/pip/commands/install.py\", line 342, in run\n    prefix=options.prefix_path,\n  File \"/Library/Python/2.7/site-packages/pip/req/req_set.py\", line 778, in install\n    requirement.uninstall(auto_confirm=True)\n  File \"/Library/Python/2.7/site-packages/pip/req/req_install.py\", line 754, in uninstall\n    paths_to_remove.remove(auto_confirm)\n  File \"/Library/Python/2.7/site-packages/pip/req/req_uninstall.py\", line 115, in remove\n    renames(path, new_path)\n  File \"/Library/Python/2.7/site-packages/pip/utils/__init__.py\", line 267, in renames\n    shutil.move(old, new)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 302, in move\n    copy2(src, real_dst)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 131, in copy2\n    copystat(src, dst)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py\", line 103, in copystat\n    os.chflags(dst, st.st_flags)\nOSError: [Errno 1] Operation not permitted: '/tmp/pip-29Cml5-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/six-1.4.1-py2.7.egg-info'</code></p>\n\n<p>Snippet of error stacktrace. \nWhile running requirements.txt on python.\nIs it due to six.  </p>\n\n<p>Ignoring it does NOT help.</p>\n\n<p><code>sudo -H pip install -r requirements.txt --ignore-installed six\nDouble requirement given: six==1.10.0 (from -r requirements.txt (line 107)) (already in six, name='six')</code>  </p>\n\n<p>This post does not help - <a href=\"https://github.com/pypa/pip/issues/3165\" rel=\"nofollow noreferrer\">https://github.com/pypa/pip/issues/3165</a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 341, "user_id": 2800865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e4166c3049508ec9e5ae242e040ea1a?s=128&d=identicon&r=PG", "display_name": "sam", "link": "https://stackoverflow.com/users/2800865/sam"}, "edited": false, "score": 3, "creation_date": 1522879398, "post_id": 49661089, "comment_id": 86332004, "body": "if you <code>print(data)</code> before the regex line, what happens?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1522879399, "post_id": 49661089, "comment_id": 86332005, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3346076/python-re-match-vs-re-search\">python -- re.match vs. re.search</a>"}, {"owner": {"reputation": 786, "user_id": 9571900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jean Rostan", "link": "https://stackoverflow.com/users/9571900/jean-rostan"}, "edited": false, "score": 0, "creation_date": 1522879479, "post_id": 49661089, "comment_id": 86332038, "body": "try to print data please, your regex is correct and works on a string"}, {"owner": {"reputation": 2384, "user_id": 9280994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/378f51f8fdf92e078e0fd52507fed62f?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan R", "link": "https://stackoverflow.com/users/9280994/jonathan-r"}, "reply_to_user": {"reputation": 3670, "user_id": 7857466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OW0s.png?s=128&g=1", "display_name": "progmatico", "link": "https://stackoverflow.com/users/7857466/progmatico"}, "edited": false, "score": 0, "creation_date": 1522879588, "post_id": 49661089, "comment_id": 86332080, "body": "@progmatico it all works fine for me. I had the same input as above and the same regex"}, {"owner": {"reputation": 786, "user_id": 9571900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jean Rostan", "link": "https://stackoverflow.com/users/9571900/jean-rostan"}, "reply_to_user": {"reputation": 2384, "user_id": 9280994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/378f51f8fdf92e078e0fd52507fed62f?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan R", "link": "https://stackoverflow.com/users/9280994/jonathan-r"}, "edited": false, "score": 0, "creation_date": 1522879641, "post_id": 49661089, "comment_id": 86332099, "body": "@JonathanR yea his regex is working on the string defined by his exemple, so the problem lies elsewhere, probably on the reading part"}, {"owner": {"reputation": 3670, "user_id": 7857466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7OW0s.png?s=128&g=1", "display_name": "progmatico", "link": "https://stackoverflow.com/users/7857466/progmatico"}, "reply_to_user": {"reputation": 2384, "user_id": 9280994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/378f51f8fdf92e078e0fd52507fed62f?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan R", "link": "https://stackoverflow.com/users/9280994/jonathan-r"}, "edited": false, "score": 0, "creation_date": 1522879725, "post_id": 49661089, "comment_id": 86332131, "body": "True, @JonathanR my comment wasn&#39;t right."}, {"owner": {"reputation": 2384, "user_id": 9280994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/378f51f8fdf92e078e0fd52507fed62f?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan R", "link": "https://stackoverflow.com/users/9280994/jonathan-r"}, "edited": false, "score": 0, "creation_date": 1522879763, "post_id": 49661089, "comment_id": 86332144, "body": "The problem must lie in the file you are reading"}, {"owner": {"reputation": 11, "user_id": 2643912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ef656f56b59ea1576db8c1a0ff749f9?s=128&d=identicon&r=PG", "display_name": "user2643912", "link": "https://stackoverflow.com/users/2643912/user2643912"}, "edited": false, "score": 0, "creation_date": 1522880629, "post_id": 49661089, "comment_id": 86332429, "body": "here is what i see :                  RESTART: C:\\Users\\RAKhan\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Python 3.5\\asadkhan.py  None &gt;&gt;&gt;"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1522880880, "post_id": 49661089, "comment_id": 86332530, "body": "You don&#39;t mention what error you are seeing. Your regex only searches the first line of the file. If you want the whole file, add the MULTILINE flag."}, {"owner": {"reputation": 11, "user_id": 2643912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ef656f56b59ea1576db8c1a0ff749f9?s=128&d=identicon&r=PG", "display_name": "user2643912", "link": "https://stackoverflow.com/users/2643912/user2643912"}, "edited": false, "score": 0, "creation_date": 1522880912, "post_id": 49661089, "comment_id": 86332541, "body": "there is no error , it just show the word None as output, my Python is 3.2.0 , if that has any relevance here"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1522880983, "post_id": 49661089, "comment_id": 86332567, "body": "try <code>re.match(r&#39;MB&#47;s&#39;,data,flags=re.MULTILINE)</code>"}, {"owner": {"reputation": 11, "user_id": 2643912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ef656f56b59ea1576db8c1a0ff749f9?s=128&d=identicon&r=PG", "display_name": "user2643912", "link": "https://stackoverflow.com/users/2643912/user2643912"}, "edited": false, "score": 0, "creation_date": 1522881289, "post_id": 49661089, "comment_id": 86332679, "body": "adding MULTILINE flag didnt help"}, {"owner": {"reputation": 11, "user_id": 2643912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ef656f56b59ea1576db8c1a0ff749f9?s=128&d=identicon&r=PG", "display_name": "user2643912", "link": "https://stackoverflow.com/users/2643912/user2643912"}, "edited": false, "score": 0, "creation_date": 1522881492, "post_id": 49661089, "comment_id": 86332757, "body": "if i print data before regex interestingly i see it prints both lines"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1522881617, "post_id": 49661089, "comment_id": 86332811, "body": "How about posting <code>print(repr(data))</code> so we all see exactly what&#39;s in the file."}, {"owner": {"reputation": 11, "user_id": 2643912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ef656f56b59ea1576db8c1a0ff749f9?s=128&d=identicon&r=PG", "display_name": "user2643912", "link": "https://stackoverflow.com/users/2643912/user2643912"}, "edited": false, "score": 0, "creation_date": 1522881866, "post_id": 49661089, "comment_id": 86332893, "body": "by using print (repr(data)) i see this , i dont know what is this        \\x00B\\x00/\\x00s\\x00 \\x00=\\x00 \\x001\\x00,\\x000\\x000\\x000\\x00,\\x000\\x000\\x000\\x00 \\x00b\\x00y\\x00t\\x00e\\x00s\\x00/\\x00s\\x00 \\x00[\\x00S\\x00A\\x00T\\x00A\\x00/\\x006\\x000\\x000\\x00 \\x00=\\x00 \\x006\\x000\\x000\\x00,\\x000\\x000\\x000\\x00,\\x000\\x000\\x000\\x00 \\x00b\\x00y\\x00t\\x00e\\x00s\\x00/\\x00s\\x00]\\x00\\n\\x00\\n\\x00K\\x0&zwnj;&#8203;0B\\x00 \\x00=\\x00 \\x001\\x000\\x000\\x000\\x00 \\x00b\\x00y\\x00t\\x00e\\x00s\\x00,\\x00 \\x00K\\x00i\\x00B\\x00 \\x00=\\x00 \\x001\\x000\\x002\\x004\\x00 \\x00b\\x00y\\x00t\\x00e\\x00s\\x00\\n\\x00\\n\\x00"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1522883373, "post_id": 49661089, "comment_id": 86333418, "body": "That&#39;s a utf-16 file, not utf-8. But it also appears to be missing the initial BOM (byte order mark) or it would have failed when trying a utf-8 decode. Try opening as <code>open(&#39;C:\\\\Python27\\\\BCF013K.txt&#39;,encoding=&#39;UTF-16-LE&#39;)</code>"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1522883512, "post_id": 49661089, "comment_id": 86333472, "body": "...and pay heed to the linked duplicate from @zwer because your code is only looking for &quot;MB/s&quot; at the beginning of the file, in which case you are better off using <code>data.startswith(&quot;MB&#47;s&quot;)</code>."}, {"owner": {"reputation": 11, "user_id": 2643912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ef656f56b59ea1576db8c1a0ff749f9?s=128&d=identicon&r=PG", "display_name": "user2643912", "link": "https://stackoverflow.com/users/2643912/user2643912"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1522883578, "post_id": 49661089, "comment_id": 86333489, "body": "@tdelaney this worked. You are a magician  :) Thank you very much for taking your precious time and help me out with this problem. Its working for me now"}], "owner": {"reputation": 11, "user_id": 2643912, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5ef656f56b59ea1576db8c1a0ff749f9?s=128&d=identicon&r=PG", "display_name": "user2643912", "link": "https://stackoverflow.com/users/2643912/user2643912"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522881037, "creation_date": 1522879144, "last_edit_date": 1522879455, "question_id": 49661089, "link": "https://stackoverflow.com/questions/49661089/how-to-grep-a-string-from-a-txt-file-in-python", "title": "how to grep a string from a txt file in Python", "body": "<p>im trying to grep from a file a string 'MB/s' ,below is my code</p>\n\n<pre><code>import re\nraw = open('C:\\\\Python27\\\\BCF013K.txt',encoding='UTF-8')\ndata=raw.read()\nraw.close()\n\nprint(re.match(r'MB/s',data))\n</code></pre>\n\n<p>not sure why i am keep seeing this error. My file is simple text file see below:</p>\n\n<pre>MB/s = 1,000,000 bytes/s [SATA/600 = 600,000,000 bytes/s]\n\nKB = 1000 bytes, KiB = 1024 bytes</pre>\n\n<p>its keeps saying <code>None</code> when i run the code   </p>\n"}, {"tags": ["python", "pandas", "dataframe", "stack", "multi-index"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1522879763, "post_id": 49661075, "comment_id": 86332143, "body": "<code>df = pd.DataFrame(data=count.values,index=index,columns=[&#39;male&#39;,&#39;&zwnj;&#8203;female&#39;,&#39;ALL&#39;])</code> add values"}, {"owner": {"reputation": 25, "user_id": 4406372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e97bade327c2ce896a131dc1516556?s=128&d=identicon&r=PG&f=1", "display_name": "user204548", "link": "https://stackoverflow.com/users/4406372/user204548"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1522881418, "post_id": 49661075, "comment_id": 86332725, "body": "Perfect.  Thank you."}], "owner": {"reputation": 25, "user_id": 4406372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e97bade327c2ce896a131dc1516556?s=128&d=identicon&r=PG&f=1", "display_name": "user204548", "link": "https://stackoverflow.com/users/4406372/user204548"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522879066, "creation_date": 1522879066, "question_id": 49661075, "link": "https://stackoverflow.com/questions/49661075/cant-reshape-and-populate-pandas-dataframe", "title": "Can&#39;t reshape and populate Pandas dataframe", "body": "<p>I have a dataframe of counts that I would like to restructure to a multiindex form. I can get the structure of the multi index dataframe properly.  But I'm unable to populate the new dataframe.\nHere is the starting data frame. The dataframe is named counts.</p>\n\n<pre><code>resp_gender female  male    All\nQ19         \n_1  602.0   238.0   840.0\n_10 532.0   155.0   687.0\n_2  54.0    31.0    85.0\n_3  66.0    29.0    95.0\n_4  41.0    27.0    68.0\n_5  67.0    43.0    110.0\n_6  108.0   57.0    165.0\n_7  104.0   56.0    160.0\n_8  209.0   126.0   335.0\n_9  213.0   114.0   327.0\nAll 1996.0  876.0   2872.0\n</code></pre>\n\n<p>I have the following program that puts the dataframe into the right structure.  But does not populate the cells.</p>\n\n<p>Here is my program.</p>\n\n<pre><code>iterables = [['_1', '_2', '_3', '_4','_5','_6','_7','_8','_9','_10','All'], \n             ['Counts']]\nindex = pd.MultiIndex.from_product(iterables,\n        names=['Table Results', 'Type'])\n\ndf = pd.DataFrame(data=counts,index=index,columns=['male','female','ALL'])\n</code></pre>\n\n<p>Here is the output</p>\n\n<pre><code>        male    female  ALL\nTable Results   Type            \n_1  Counts  NaN NaN NaN\n_2  Counts  NaN NaN NaN\n_3  Counts  NaN NaN NaN\n_4  Counts  NaN NaN NaN\n_5  Counts  NaN NaN NaN\n_6  Counts  NaN NaN NaN\n_7  Counts  NaN NaN NaN\n_8  Counts  NaN NaN NaN\n_9  Counts  NaN NaN NaN\n_10 Counts  NaN NaN NaN\nAll Counts  NaN NaN NaN\n</code></pre>\n\n<p>As you can see the structure is correct.  But the columns aren't populated with data.  </p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "macos", "logfile"], "comments": [{"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1522879174, "post_id": 49661070, "comment_id": 86331887, "body": "If you can&#39;t import the module, it is not successfully installed. How did you install it?"}, {"owner": {"reputation": 67, "user_id": 5501646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6oLi.jpg?s=128&g=1", "display_name": "Serena", "link": "https://stackoverflow.com/users/5501646/serena"}, "reply_to_user": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1522880108, "post_id": 49661070, "comment_id": 86332259, "body": "@Daniel: I used pip install. When I do pip search asl, I can see the package and it says INSTALLED: 1.0.1 (latest). However, when I run python3 -m asl, it returns &quot;/Users/serenasmac1/PycharmProjects/Test2/venv/bin/python3: Error while finding spec for &#39;asl.__main__&#39; (&lt;class &#39;ImportError&#39;&gt;: No module named &#39;asl._asl&#39;); &#39;asl&#39; is a package and cannot be directly executed &quot;. I&#39;m not sure what the problem is."}, {"owner": {"reputation": 648, "user_id": 8544157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Attto.jpg?s=128&g=1", "display_name": "manandearth", "link": "https://stackoverflow.com/users/8544157/manandearth"}, "edited": false, "score": 1, "creation_date": 1522880374, "post_id": 49661070, "comment_id": 86332349, "body": "did you install it with pip3 (it might be installed in 2.7)?"}, {"owner": {"reputation": 67, "user_id": 5501646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6oLi.jpg?s=128&g=1", "display_name": "Serena", "link": "https://stackoverflow.com/users/5501646/serena"}, "reply_to_user": {"reputation": 648, "user_id": 8544157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Attto.jpg?s=128&g=1", "display_name": "manandearth", "link": "https://stackoverflow.com/users/8544157/manandearth"}, "edited": false, "score": 0, "creation_date": 1522880702, "post_id": 49661070, "comment_id": 86332459, "body": "@manandearth. No I did with pip (usually it is installed in 3.5 by default) but I just did pip3, it returned &quot;Requirement already satisfied: asl in ./venv/lib/python3.5/site-packages&quot;"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 1, "creation_date": 1522881444, "post_id": 49661070, "comment_id": 86332737, "body": "<a href=\"https://bitbucket.org/ronaldoussoren/asl/pull-requests/1/adding-ext_modules-to-metadata-this-is-not/diff\" rel=\"nofollow noreferrer\">This issue was already reported and fixed</a>, however, because the author of <code>asl</code> didn&#39;t bother, the fix is still unmerged. You can clone the repo, apply the fix (it&#39;s just one line with <code>ext_modules</code> to add to <code>setup.py</code>) and install from the fixed repo: <code>pip install path&#47;to&#47;ast&#47;repo</code>."}, {"owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1522883033, "post_id": 49661070, "comment_id": 86333329, "body": "@hoefling this doesn&#39;t appear to actually add <code>._asl</code> to the <code>asl</code> module namespace. Can you confirm your suggestion worked on your machine?"}, {"owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "edited": false, "score": 0, "creation_date": 1522883387, "post_id": 49661070, "comment_id": 86333422, "body": "@RonaldOussoren - any thoughts on this thread?"}, {"owner": {"reputation": 67, "user_id": 5501646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6oLi.jpg?s=128&g=1", "display_name": "Serena", "link": "https://stackoverflow.com/users/5501646/serena"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1522961892, "post_id": 49661070, "comment_id": 86374611, "body": "@hoefling Thanks a lot for the info and detailed instructions! I couldn&#39;t have found this myself."}, {"owner": {"reputation": 67, "user_id": 5501646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6oLi.jpg?s=128&g=1", "display_name": "Serena", "link": "https://stackoverflow.com/users/5501646/serena"}, "reply_to_user": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "edited": false, "score": 0, "creation_date": 1522961904, "post_id": 49661070, "comment_id": 86374618, "body": "@duhaime I just tried it and it worked on my machine, although I&#39;m not sure why."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 1, "creation_date": 1522963378, "post_id": 49661070, "comment_id": 86375265, "body": "@Serena glad to help a fellow berliner! :-)"}], "answers": [{"comments": [{"owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "reply_to_user": {"reputation": 67, "user_id": 5501646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6oLi.jpg?s=128&g=1", "display_name": "Serena", "link": "https://stackoverflow.com/users/5501646/serena"}, "edited": false, "score": 0, "creation_date": 1522957413, "post_id": 49661438, "comment_id": 86372395, "body": "@Serena excellent--I love a simple solution. I didn&#39;t know about these files, so I&#39;m glad you asked the question. Feel free to click the green checkbox to let others know this solution worked for you!"}], "tags": [], "owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "is_accepted": true, "score": 2, "last_activity_date": 1522881120, "creation_date": 1522881120, "answer_id": 49661438, "question_id": 49661070, "link": "https://stackoverflow.com/questions/49661070/reading-asl-log-file-python/49661438#49661438", "title": "Reading ASL log file - Python", "body": "<p>It looks like the asl package is actually broken. I'd use the <code>syslog</code> executable that ships with OSX:</p>\n\n<pre><code>from subprocess import check_output\n\ncmd = 'syslog -f /private/var/log/asl/2018.04.03.U501.asl'\nlog = check_output(cmd.split())\nprint(log)\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5501646, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6oLi.jpg?s=128&g=1", "display_name": "Serena", "link": "https://stackoverflow.com/users/5501646/serena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 1, "accepted_answer_id": 49661438, "answer_count": 1, "score": 3, "last_activity_date": 1522881120, "creation_date": 1522879043, "last_edit_date": 1522879567, "question_id": 49661070, "link": "https://stackoverflow.com/questions/49661070/reading-asl-log-file-python", "title": "Reading ASL log file - Python", "body": "<p>I'm trying to read Mac OS ASL log file with Python by using <a href=\"https://asl.readthedocs.io/en/latest/api.html\" rel=\"nofollow noreferrer\">this asl package</a>. I think the package is successfully installed but I can't import it. Below are the error messages: </p>\n\n<pre>Traceback (most recent call last):\n  File \"\", line 1, in \n  File \"/Applications/PyCharm.app/Contents/helpers/pydev/_pydev_bundle/pydev_import_hook.py\", line 20, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/Users/serenasmac1/PycharmProjects/Test2/venv/lib/python3.5/site-packages/asl/__init__.py\", line 8, in \n    from ._asl import *\n  File \"/Applications/PyCharm.app/Contents/helpers/pydev/_pydev_bundle/pydev_import_hook.py\", line 20, in do_import\n    module = self._system_import(name, *args, **kwargs)\nImportError: No module named 'asl._asl'</pre>\n\n<p>As far as I understood, <strong>init</strong>.py is calling a ._asl module but it doesn't exist. Is my understanding correct? How can I fix it? </p>\n\n<p>Also, I've found <a href=\"https://github.com/cclgroupltd/ccl-asl/blob/master/ccl_asldb.py\" rel=\"nofollow noreferrer\">this script</a> which seems can read asl file. I'm trying it in parallel. I've searched a lot but only found this script and the ASL package. I'd really appreciate if anybody can share the knowledge of how to read asl file with Python. Thanks a lot!</p>\n\n<p>Here is the how the package was installed:\n<a href=\"https://i.stack.imgur.com/lkaf8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lkaf8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "comments": [{"owner": {"reputation": 181, "user_id": 9596651, "user_type": "registered", "profile_image": "https://graph.facebook.com/1023250811171089/picture?type=large", "display_name": "Moe", "link": "https://stackoverflow.com/users/9596651/moe"}, "reply_to_user": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522879209, "post_id": 49661056, "comment_id": 86331907, "body": "@JacobIRR I tried that but instead of doing a few seconds per command it accumulated all the delay and blit everything at once. Also doesn\u2019t time.sleep() pause the entire program? I\u2019m having some music playing in the background so pausing the program entirely wouldn\u2019t be such a good idea."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "reply_to_user": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522914016, "post_id": 49661056, "comment_id": 86343271, "body": "@JacobIRR Using <code>time.sleep</code> will lock the entire thread, making everything unresponsive."}], "answers": [{"tags": [], "owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "is_accepted": false, "score": 1, "last_activity_date": 1522883666, "creation_date": 1522883666, "answer_id": 49661820, "question_id": 49661056, "link": "https://stackoverflow.com/questions/49661056/how-can-you-add-delay-to-commands-in-python/49661820#49661820", "title": "How can you add delay to commands in python?", "body": "<p>Using time.sleep is not a good idea to be used on games (this function is intended to be used on a very limited set of cases, real-time apps not being one of them).</p>\n\n<p>Instead, your game should be event-driven based, that means new actions should be spawned when certain conditions are met (game state).</p>\n\n<p>I see you're using pygame, so for time events you should take a look to its module <a href=\"https://www.pygame.org/docs/ref/time.html\" rel=\"nofollow noreferrer\">time</a>, in particular the function <a href=\"https://www.pygame.org/docs/ref/time.html#pygame.time.set_timer\" rel=\"nofollow noreferrer\">set_timer</a> could help you out.</p>\n\n<p>Also, I'd suggest you read this thread <a href=\"https://stackoverflow.com/questions/19158339/why-are-global-variables-evil\">Why are global variables evil?</a></p>\n"}], "owner": {"reputation": 181, "user_id": 9596651, "user_type": "registered", "profile_image": "https://graph.facebook.com/1023250811171089/picture?type=large", "display_name": "Moe", "link": "https://stackoverflow.com/users/9596651/moe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522883666, "creation_date": 1522878948, "last_edit_date": 1522880760, "question_id": 49661056, "link": "https://stackoverflow.com/questions/49661056/how-can-you-add-delay-to-commands-in-python", "title": "How can you add delay to commands in python?", "body": "<p>Hello I am new to python and decided to code a simple RPG game using pygame.\nThe commands work as intended but I need to add a delay to the text being blitted on screen.\nIf you press the \"yes\" button, your player is going to attack, if you press the \"no\" button your player will do nothing and get attacked. After you kill the first boss your player will level up. The text that needs to blitted onto the empty black rectangle is the message congratulating you on levelling up and displays your new stats.\n<strong>EDIT: I am not looking for \u201ctime.sleep()\u201d. If you could run through my program you\u2019d understand why. I need to add that delay because the intent is to blit a line of text into a black rectangle and to add delay between each line popping up so that it doesn\u2019t happen instantly. If i added a time.sleep() in my function it\u2019s going to pause my TEXT(A, B, C) function for a while and then blit everything at once when I just want it to blit A, B, C with some delay in between.</strong>\nThe full code is as follows:</p>\n\n<pre><code>from pygame import *\n#from userInterface import Title, Dead\nWIN_WIDTH = 640\nWIN_HEIGHT = 400\nHALF_WIDTH = int(WIN_WIDTH / 2)\nHALF_HEIGHT = int(WIN_HEIGHT / 2)\nDISPLAY = (WIN_WIDTH, WIN_HEIGHT)\nDEPTH = 32\nFLAGS = 0\n\ninit()\nscreen = display.set_mode(DISPLAY, FLAGS, DEPTH)\nsaveState = False\n\nWHITE = (255, 255, 255)\nBLACK = (0, 0, 0)\nGRAY = (30, 30, 30)\nFONT = font.SysFont(\"Courier New\", 15)\n\n\n\nheroHP = 1000\n\nhero={'name' : 'Hero',\n      'height':4,\n      'lvl': 1,\n      'xp' : 0,\n      'reward' : 0,\n      'lvlNext':25,\n      'stats': {'str' : 12, # strength\n                'dex' : 4, # dexterity\n                'int' : 15, # intelligence\n                'hp'  : heroHP, # health\n                'atk' : [250,350]}} # range of attack values\n\n\nboss1={'name' : 'Imp',\n       'xp' : 0,\n       'lvlNext':25,\n       'reward' : 25,\n       'stats': {'hp'  :400,\n                'atk' : [300,350]}}\n\n\nONE = None\nTWO = None\nTHREE = None\nFOUR = None\ntext = False\ncounter =0\n\ndef TEXT(A, B, C):\n    global ONE, TWO, THREE, FOUR, counter, text\n    text = True\n    if text:\n        if counter == 20:\n            ONE  = A\n        elif counter == 40:\n            TWO = B\n        elif counter == 60:\n            THREE = C\n        elif counter == 200:\n            ONE = None\n            TWO = None\n            THREE = None\n            FOUR = None\n            counter = 0\n            text = False\n        counter += 1\n\n\n\n\n\n\ndef level(char): # level up system\n    #nStr, nDex, nInt=0,0,0\n    while char['xp'] &gt;= char['lvlNext']:\n        char['lvl']+=1\n        char['xp']=char['xp'] - char['lvlNext']\n        char['lvlNext'] = round(char['lvlNext']*1.5)\n        nStr=0.5*char['stats']['str']+1\n        nDex=0.5*char['stats']['dex']+1\n        nInt=0.5*char['stats']['int']+1\n        print(f'{char[\"name\"]} levelled up to level {char[\"lvl\"]}!') # current level\n        A = (f'{char[\"name\"]} levelled up to level {char[\"lvl\"]}!') # current level\n\n        print(f'( INT {round((char[\"stats\"][\"int\"] + nInt))} - STR {round(char[\"stats\"][\"str\"] + nStr)} - DEX {round(char[\"stats\"][\"dex\"] + nDex)} )') # print new stats\n        B = (f'( INT {round((char[\"stats\"][\"int\"] + nInt))} - STR {round(char[\"stats\"][\"str\"] + nStr)} - DEX {round(char[\"stats\"][\"dex\"] + nDex)} )') # print new statsm\n\n        char['stats']['str'] += nStr\n        char['stats']['dex'] += nDex\n        char['stats']['int'] += nInt\n\n        TEXT(A,B,None)\n\nfrom random import randint\n\ndef takeDmg(attacker, defender): # damage alorithm\n    dmg = randint(attacker['stats']['atk'][0], attacker['stats']['atk'][1])\n    defender['stats']['hp'] = defender['stats']['hp'] - dmg\n    print(f'{defender[\"name\"]} takes {dmg} damage!')\n    #TEXT(f'{defender[\"name\"]} takes {dmg} damage!')\n\n    if defender['stats']['hp'] &lt;= 0:\n            print(f'{defender[\"name\"]} has been slain...')\n            #TEXT(f'{defender[\"name\"]} has been slain...')\n\n            attacker['xp'] += defender['reward']\n            level(attacker)\n            if defender==hero:\n                #Dead()\n                pass\n            else:\n                hero['stats']['hp']=heroHP\n                #Title()\n                pass\n\n\ndef Battle(player, enemy):\n    global ONE, TWO, THREE, FOUR\n    mouse.set_visible(1)\n    clock = time.Clock()\n    YES = Rect(100, 100, 50, 50)\n    NO = Rect(500, 100, 50, 50)\n    Text = Rect(70, 300, 500, 75)\n\n    #while ((enemy['stats']['hp']) &gt; 0):\n    while True:\n        for e in event.get():\n            if e.type == QUIT:\n                exit(\"Quit\") # if X is pressed, exit program\n            elif e.type == KEYDOWN:\n                if e.key == K_ESCAPE:\n                    exit()\n            elif e.type == MOUSEBUTTONDOWN:\n                # 1 is the left mouse button, 2 is middle, 3 is right.\n                if e.button == 1:\n                    # `event.pos` is the mouse position.\n                    if YES.collidepoint(e.pos):\n                        takeDmg(player, enemy)\n                        print(f'{enemy[\"name\"]} takes the opportunity to attack!')\n                        #TEXT(f'{enemy[\"name\"]} takes the opportunity to attack!')\n\n                        takeDmg(enemy, player)\n                    elif NO.collidepoint(e.pos):\n                        print(f'{enemy[\"name\"]} takes the opportunity to attack!')\n                        #TEXT(f'{enemy[\"name\"]} takes the opportunity to attack!')\n\n                        takeDmg(enemy, player)\n\n\n        screen.fill(WHITE)\n        draw.rect(screen, BLACK, YES)\n        draw.rect(screen, BLACK, NO)\n        draw.rect(screen, GRAY, Text)\n\n\n\n        YES_surf = FONT.render((\"YES\"), True, WHITE)\n        NO_surf = FONT.render((\"NO\"), True, WHITE)\n        Text1_surf = FONT.render(ONE, True, WHITE)\n        Text2_surf = FONT.render(TWO, True, WHITE)\n        Text3_surf = FONT.render(THREE, True, WHITE)\n        Text4_surf = FONT.render(FOUR, True, WHITE)\n\n\n\n        screen.blit(YES_surf, YES)\n        screen.blit(NO_surf, NO)\n        screen.blit(Text1_surf, (80, 305))\n        screen.blit(Text2_surf, (80, 320))\n        screen.blit(Text3_surf, (80, 335))\n        screen.blit(Text4_surf, (80, 350))\n\n\n\n\n\n        display.update()\n\n        clock.tick(60)\n\nBattle(hero, boss1)\n</code></pre>\n\n<p>I used the def TEXT(A, B, C) function to add a delay using a counter and then removing the text after a set amount of time. So far I have only implemented the TEXT function when the character levels up to test it but it does not seem to be working.</p>\n\n<pre><code>ONE = None\nTWO = None\nTHREE = None\nFOUR = None\ntext = False\ncounter =0\n\ndef TEXT(A, B, C):\n    global ONE, TWO, THREE, FOUR, counter, text\n    text = True\n    if text:\n        if counter == 20:\n            ONE  = A\n        elif counter == 40:\n            TWO = B\n        elif counter == 60:\n            THREE = C\n        elif counter == 200:\n            ONE = None\n            TWO = None\n            THREE = None\n            FOUR = None\n            counter = 0\n            text = False\n        counter += 1\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "pandas-groupby"], "answers": [{"comments": [{"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1522881925, "post_id": 49661176, "comment_id": 86332920, "body": "Thanks for your prompt reply.  pivot_table seems to work but I would ideally like the bottom column level to be the values and for them to be side by side ideally (instead of one section all total_sold and other percentage sold).  Is that possible with a pivot_table based solution?"}, {"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "reply_to_user": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1522882908, "post_id": 49661176, "comment_id": 86333294, "body": "You need to column levels and then sort it, like so <code>df.pivot_table(     index=[&#39;store_id&#39;],      columns=[&#39;sale_ind&#39;, &#39;product&#39;],      values=[&#39;total_sold&#39;, &#39;percentage_sold&#39;] ).swaplevel(0, 2, axis=1).sort_index(axis=1)</code>"}, {"owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "edited": false, "score": 0, "creation_date": 1522884292, "post_id": 49661176, "comment_id": 86333687, "body": "Thank you for introducing me to .swaplevel() !"}], "tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 2, "last_activity_date": 1522879676, "creation_date": 1522879676, "answer_id": 49661176, "question_id": 49661049, "link": "https://stackoverflow.com/questions/49661049/python-pandas-multi-column-pivot-and-level-swapping/49661176#49661176", "title": "Python PANDAS: Multi-Column Pivot and Level Swapping", "body": "<p>You need <code>pivot_table</code> for multi-columns pivot:</p>\n\n<pre><code>df.pivot_table(\n    index=['store_id'], \n    columns=['product', 'sale_ind'], \n    values=['total_sold', 'percentage_sold']\n)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oIqH6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oIqH6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Or in your case, there's no aggregation involved while pivoting, you can use <code>set_index</code> and <code>unstack</code>:</p>\n\n<pre><code>df.set_index(['store_id', 'product', 'sale_ind']).unstack(['product', 'sale_ind'])\n</code></pre>\n"}], "owner": {"reputation": 1273, "user_id": 4713504, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2ee302f694cc906a9266531ba866ac5e?s=128&d=identicon&r=PG&f=1", "display_name": "Pylander", "link": "https://stackoverflow.com/users/4713504/pylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 49661176, "answer_count": 1, "score": 1, "last_activity_date": 1522883868, "creation_date": 1522878916, "last_edit_date": 1522883868, "question_id": 49661049, "link": "https://stackoverflow.com/questions/49661049/python-pandas-multi-column-pivot-and-level-swapping", "title": "Python PANDAS: Multi-Column Pivot and Level Swapping", "body": "<p>I have an initial dataframe with the following format:</p>\n\n<pre><code>store_id,product,sale_ind,total_sold,percentage_sold\n1,thing1,sale,30,46.2\n1,thing2,no_sale,20,30.7\n1,thing3,sale,15,23.1\n2,thing4,sale,10,16.7\n2,thing3,sale,20,33.3\n2,thing2,sale,30,50.0\n3,thing3,no_sale,20,50.0\n3,thing2,sale,15,37.5\n3,thing1,no_sale,5,12.5\n</code></pre>\n\n<p>I have calculated everything I would like but now I am really struggling to reshape this data to the following format:</p>\n\n<pre><code>                product\n                sale_in\n         total_sold percentage_sold\nstore_id\n1,\n2,\n3,\n</code></pre>\n\n<p>When I try this:</p>\n\n<pre><code>df.pivot(index='store_id', columns='product')\n</code></pre>\n\n<p>I get: <code>ValueError: Index contains duplicate entries, cannot reshape</code>.</p>\n\n<p>Any tips most appreciated!  I am dreading that I might have to do a solution with hierarchical indexing.</p>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522879303, "post_id": 49661027, "comment_id": 86331952, "body": "Why are you searching for <code>div</code>s if you want to extract the <code>href</code> values? You should be searching for <code>a</code> tags..."}, {"owner": {"reputation": 176, "user_id": 9409695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef240a1dffe6ec1ad3e168195d196f92?s=128&d=identicon&r=PG&f=1", "display_name": "elrich bachman", "link": "https://stackoverflow.com/users/9409695/elrich-bachman"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522879449, "post_id": 49661027, "comment_id": 86332025, "body": "because i need to extract hrefs inside div class &quot;search_col_2&quot; , i dont want to extract any other links and there are other links which are under &lt;a&gt; but i dont need them"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522879488, "post_id": 49661027, "comment_id": 86332042, "body": "That&#39;s an important piece of information that should be <a href=\"https://stackoverflow.com/posts/49661027/edit\">edit</a>ed into the question."}, {"owner": {"reputation": 6659, "user_id": 7832176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5923d496015d26974109a16c7af1b4b?s=128&d=identicon&r=PG&f=1", "display_name": "Keyur Potdar", "link": "https://stackoverflow.com/users/7832176/keyur-potdar"}, "edited": false, "score": 0, "creation_date": 1522906903, "post_id": 49661027, "comment_id": 86339463, "body": "The <code>div</code> tags are not closing here. Is that a typo? If not, you&#39;ve to add all the relevant HTML."}], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 9409695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef240a1dffe6ec1ad3e168195d196f92?s=128&d=identicon&r=PG&f=1", "display_name": "elrich bachman", "link": "https://stackoverflow.com/users/9409695/elrich-bachman"}, "edited": false, "score": 0, "creation_date": 1522918079, "post_id": 49664974, "comment_id": 86345828, "body": "This works if you dont mind can you please explain what was my mistake ? and can you please explain your code ? if you dont mind otherwise its okay and thanks :)"}, {"owner": {"reputation": 6659, "user_id": 7832176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5923d496015d26974109a16c7af1b4b?s=128&d=identicon&r=PG&f=1", "display_name": "Keyur Potdar", "link": "https://stackoverflow.com/users/7832176/keyur-potdar"}, "reply_to_user": {"reputation": 176, "user_id": 9409695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef240a1dffe6ec1ad3e168195d196f92?s=128&d=identicon&r=PG&f=1", "display_name": "elrich bachman", "link": "https://stackoverflow.com/users/9409695/elrich-bachman"}, "edited": false, "score": 0, "creation_date": 1522921617, "post_id": 49664974, "comment_id": 86348362, "body": "Added some explanation. If you&#39;ve any more doubts, feel free to ask. Also, if you&#39;re not familiar with <i>list comprehensions</i>, just Google it (I&#39;ve used it in my code)."}, {"owner": {"reputation": 176, "user_id": 9409695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef240a1dffe6ec1ad3e168195d196f92?s=128&d=identicon&r=PG&f=1", "display_name": "elrich bachman", "link": "https://stackoverflow.com/users/9409695/elrich-bachman"}, "edited": false, "score": 0, "creation_date": 1522931336, "post_id": 49664974, "comment_id": 86355150, "body": "Okay thanks and you&#39;ve explained very well thank you so much for it i&#39;ve got one question why did you use lxml instead of html.parser ? it isnt possible to do it using html.parser ?"}, {"owner": {"reputation": 6659, "user_id": 7832176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5923d496015d26974109a16c7af1b4b?s=128&d=identicon&r=PG&f=1", "display_name": "Keyur Potdar", "link": "https://stackoverflow.com/users/7832176/keyur-potdar"}, "reply_to_user": {"reputation": 176, "user_id": 9409695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef240a1dffe6ec1ad3e168195d196f92?s=128&d=identicon&r=PG&f=1", "display_name": "elrich bachman", "link": "https://stackoverflow.com/users/9409695/elrich-bachman"}, "edited": false, "score": 0, "creation_date": 1522931509, "post_id": 49664974, "comment_id": 86355304, "body": "Both are html parsers, and both will do the same thing. You can use any one of them. Lxml is just a bit faster than html.parser. <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser\" rel=\"nofollow noreferrer\">Have a look at the docs</a>."}], "tags": [], "owner": {"reputation": 6659, "user_id": 7832176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5923d496015d26974109a16c7af1b4b?s=128&d=identicon&r=PG&f=1", "display_name": "Keyur Potdar", "link": "https://stackoverflow.com/users/7832176/keyur-potdar"}, "is_accepted": true, "score": 1, "last_activity_date": 1522921513, "last_edit_date": 1522921513, "creation_date": 1522907228, "answer_id": 49664974, "question_id": 49661027, "link": "https://stackoverflow.com/questions/49661027/how-to-extract-sub-element-href-using-beautifulsoup-python-3-x/49664974#49664974", "title": "How to extract sub element href using beautifulsoup python 3.x?", "body": "<p>Even if the <code>div</code> tags are not closing, you'll get the required output using the following code.</p>\n\n<pre><code>soup = BeautifulSoup(html, 'lxml')\nlinks = [x.find('a')['href'] for x in soup.find_all('div', class_= \"search_col_2\")]\nprint(links)\n# ['/profile.php?id=2323232', '/profile.php?id=23232', '/profile.php?id=2323332']\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>You have all the <code>div</code> tags in the <code>my_data</code> variable. The <code>div</code> tags don't have a <code>href</code> attribute. So, using <code>.get('href')</code> on any <code>div</code> will return <code>None</code>. You will have to find the <code>a</code> tags inside the <code>div</code> tags using <code>.find('a')</code> and then get the <code>href</code> attribute as shown in the above code.</p>\n"}], "owner": {"reputation": 176, "user_id": 9409695, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ef240a1dffe6ec1ad3e168195d196f92?s=128&d=identicon&r=PG&f=1", "display_name": "elrich bachman", "link": "https://stackoverflow.com/users/9409695/elrich-bachman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 49664974, "answer_count": 1, "score": 0, "last_activity_date": 1522921513, "creation_date": 1522878815, "last_edit_date": 1522879569, "question_id": 49661027, "link": "https://stackoverflow.com/questions/49661027/how-to-extract-sub-element-href-using-beautifulsoup-python-3-x", "title": "How to extract sub element href using beautifulsoup python 3.x?", "body": "<p>This is my html code</p>\n\n<pre><code>&lt;div class=\"search_col_2\"&gt;\n\n                &lt;h2&gt;&lt;a href=\"/profile.php?id=2323232\"&gt;Maahsuj akisak&lt;/a&gt;&lt;span class=\"for-complete-profile\"&gt;  &lt;/span&gt;\n                &lt;/h2&gt;\n\n&lt;div class=\"search_col_2\"&gt;\n                &lt;h2&gt;&lt;a href=\"/profile.php?id=23232\"&gt;Nunapu akisak&lt;/a&gt;&lt;span class=\"for-complete-profile\"&gt;  &lt;/span&gt;\n                &lt;/h2&gt;\n&lt;div class=\"search_col_2\"&gt;\n                &lt;h2&gt;&lt;a href=\"/profile.php?id=2323332\"&gt;Rahenu Kahiske&lt;/a&gt;&lt;span class=\"for-complete-profile\"&gt;  &lt;/span&gt;\n                &lt;/h2&gt;\n</code></pre>\n\n<p>I want to extract href values from it </p>\n\n<p>so far i've tried this but doesnt work</p>\n\n<pre><code>soupeddata = BeautifulSoup(my_html_code, \"html.parser\")\nmy_data = soupeddata.find_all(\"div\", class_= \"search_col_2\")\nfor x in my_data:\n    my_href = x.get(\"href\")\n    print(my_href)\n</code></pre>\n\n<p>i need to extract hrefs inside div class \"search_col_2\" , i dont want to extract any other links and there are other links which are under  but i dont need them.</p>\n"}, {"tags": ["python", "list", "duplicates", "set"], "comments": [{"owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1522878619, "post_id": 49660966, "comment_id": 86331654, "body": "How do you define &quot;duplicate tuples&quot;? Your example is not even tuple."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522879157, "post_id": 49660966, "comment_id": 86331878, "body": "Those are lists, not tuples."}], "answers": [{"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 0, "last_activity_date": 1522878715, "creation_date": 1522878715, "answer_id": 49661007, "question_id": 49660966, "link": "https://stackoverflow.com/questions/49660966/removing-duplicates-from-a-list-of-tuples-in-python/49661007#49661007", "title": "Removing duplicates from a list of tuples in python", "body": "<p>That's a list of lists... But no matter, you can use a temporary set to make sure there are no repeats:</p>\n\n<pre><code>x = [['aaron','jeng'],['sdf','wqd'],['aaron','jeng']]\n\nseen = set()  # store here the visited tuples\ny = [e for e in x if tuple(e) not in seen and not seen.add(tuple(e))]\n# [['aaron', 'jeng'], ['sdf', 'wqd']]\n</code></pre>\n\n<p>If you convert your inner lists to tuples upfront it will have a considerably better performance.</p>\n\n<p>If you don't need to preserve the order, then just convert the inner lists to tuples and turn your <code>x</code> to a <code>set()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 0, "last_activity_date": 1522878717, "creation_date": 1522878717, "answer_id": 49661008, "question_id": 49660966, "link": "https://stackoverflow.com/questions/49660966/removing-duplicates-from-a-list-of-tuples-in-python/49661008#49661008", "title": "Removing duplicates from a list of tuples in python", "body": "<p>This would be easy with a list of tuples, you would simply need <code>set(x)</code>. Since your list is a list of lists, and not a list of tuples, you can convert them first:</p>\n\n<pre><code>set(tuple(i) for i in x)\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>{('aaron', 'jeng'), ('sdf', 'wqd')}\n</code></pre>\n\n<p>Or, if you want to reconvert to a list of lists as you had it: </p>\n\n<pre><code>[list(t) for t in (set(tuple(i) for i in x))]\n# [['aaron', 'jeng'], ['sdf', 'wqd']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1522879078, "post_id": 49661010, "comment_id": 86331842, "body": "Why bother with the comprehension? <code>set(x)</code> works fine."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 2, "creation_date": 1522879106, "post_id": 49661010, "comment_id": 86331858, "body": "@PatrickArtner: Not quite; a set comprehension would be <code>{i for i in x}</code>. <code>set(i for i in x)</code> is passing a generator expression to <code>set</code>."}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522879161, "post_id": 49661010, "comment_id": 86331881, "body": "list is unhashable @user2357112"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522879198, "post_id": 49661010, "comment_id": 86331896, "body": "@JacobIRR: You probably tested that with a list of lists, as in the question, rather than a list of tuples, as in your answer."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522879273, "post_id": 49661010, "comment_id": 86331939, "body": "@user2357112 <code>myset =  set( tuple(a) for a in x )</code>  is not a set comprehension?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1522879321, "post_id": 49661010, "comment_id": 86331960, "body": "@PatrickArtner: Not a set comprehension. <code>{tuple(a) for a in x}</code> would be a set comprehension."}], "tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": false, "score": 2, "last_activity_date": 1522878724, "creation_date": 1522878724, "answer_id": 49661010, "question_id": 49660966, "link": "https://stackoverflow.com/questions/49660966/removing-duplicates-from-a-list-of-tuples-in-python/49661010#49661010", "title": "Removing duplicates from a list of tuples in python", "body": "<p>Your x value does not contain a list of tuples, but a list of lists. If it <em>did</em> contain a list of tuples:</p>\n\n<pre><code>x = [('aaron','jeng'),('sdf','wqd'),('aaron','jeng')]\nout = set([i for i in x])\nprint(list(out))\n\n[('aaron', 'jeng'), ('sdf', 'wqd')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1522879456, "last_edit_date": 1522879456, "creation_date": 1522878864, "answer_id": 49661038, "question_id": 49660966, "link": "https://stackoverflow.com/questions/49660966/removing-duplicates-from-a-list-of-tuples-in-python/49661038#49661038", "title": "Removing duplicates from a list of tuples in python", "body": "<p>You do not have tuples, you have lists inside lists.</p>\n\n<pre><code>x = [['aaron','jeng'],['sdf','wqd'],['aaron','jeng']]\n\nuniques = list (set ( tuple(a) for a in x))\n</code></pre>\n\n<p>Is a generator expression fed into a set thats then fed to a list resulting in </p>\n\n<pre><code>[('aaron', 'jeng'), ('sdf', 'wqd')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1522878940, "creation_date": 1522878940, "answer_id": 49661054, "question_id": 49660966, "link": "https://stackoverflow.com/questions/49660966/removing-duplicates-from-a-list-of-tuples-in-python/49661054#49661054", "title": "Removing duplicates from a list of tuples in python", "body": "<p>You can use <code>enumerate</code> and <code>any</code>:</p>\n\n<pre><code>x = [['aaron','jeng'],['sdf','wqd'],['aaron','jeng']]\nnew_x = [[a, b] for i, [a, b] in enumerate(x) if not any(c == b for _, c in x[:i])]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['aaron', 'jeng'], ['sdf', 'wqd']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8912, "user_id": 5904928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/jwFz9.png?s=128&g=1", "display_name": "Aaditya Ura", "link": "https://stackoverflow.com/users/5904928/aaditya-ura"}, "is_accepted": false, "score": 0, "last_activity_date": 1522911118, "creation_date": 1522911118, "answer_id": 49665865, "question_id": 49660966, "link": "https://stackoverflow.com/questions/49660966/removing-duplicates-from-a-list-of-tuples-in-python/49665865#49665865", "title": "Removing duplicates from a list of tuples in python", "body": "<p>What about converting to a dict , Because dict can have unique keys :</p>\n\n<pre><code>x = [['aaron','jeng'],['sdf','wqd'],['aaron','jeng']]\n\nprint({tuple(i):i for i in x}.values())\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>[['aaron', 'jeng'], ['sdf', 'wqd']]\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 5115740, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fpqA1pva9EU/AAAAAAAAAAI/AAAAAAAAACY/e23F2YOVE3E/photo.jpg?sz=128", "display_name": "OmK", "link": "https://stackoverflow.com/users/5115740/omk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2102, "favorite_count": 0, "answer_count": 6, "score": 0, "last_activity_date": 1522911118, "creation_date": 1522878484, "last_edit_date": 1522884180, "question_id": 49660966, "link": "https://stackoverflow.com/questions/49660966/removing-duplicates-from-a-list-of-tuples-in-python", "title": "Removing duplicates from a list of tuples in python", "body": "<p>I have a list of tuples, and I want to remove duplicate tuples. Something like this.</p>\n\n<pre><code>x = [['aaron','jeng'],['sdf','wqd'],['aaron','jeng']]\n</code></pre>\n\n<p>I want the output something like this : </p>\n\n<pre><code>y = [['aaron','jeng'],['sdf','wqd']]\n</code></pre>\n\n<p>How can I do that in an easy way? I can write code to do that, but is there any inbuilt function for this? </p>\n\n<p>Edit 1 : As everyone has suggested, I'm sorry to call them tuples. I meant a list of lists. Thank You.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 1, "creation_date": 1522878086, "post_id": 49660867, "comment_id": 86331433, "body": "The second thing you did wrong, was not providing enough context to answer this. Try to create a <a href=\"https://stackoverflow.com/help/mcve\">mvce</a> showcasing your problem including the creatiion of your dataframe with some demodata . Edit your questions and provide it as code example. Use the button <b>{}</b> after marking all your code to format is as code block."}, {"owner": {"reputation": 375, "user_id": 5527795, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/78ef2c9109151d0b0db34919236139ca?s=128&d=identicon&r=PG&f=1", "display_name": "anandg112", "link": "https://stackoverflow.com/users/5527795/anandg112"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1522879454, "post_id": 49660867, "comment_id": 86332029, "body": "I edited to provide more context. Please let me know if its framed better now."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1522879622, "post_id": 49660867, "comment_id": 86332092, "body": "a MVCE is a Minimal Verifyable Complete Example. Meaning: I copy your code into my IDE, execute it, see the error. Your code would need to have some of your data, and a way to construct the <code>df_1</code> from it so we can see where your code goes wrong."}, {"owner": {"reputation": 375, "user_id": 5527795, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/78ef2c9109151d0b0db34919236139ca?s=128&d=identicon&r=PG&f=1", "display_name": "anandg112", "link": "https://stackoverflow.com/users/5527795/anandg112"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1522880662, "post_id": 49660867, "comment_id": 86332443, "body": "OK I added a sample dataframe as an example."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9595907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Alexander Lee", "link": "https://stackoverflow.com/users/9595907/alexander-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1522881711, "creation_date": 1522881711, "answer_id": 49661529, "question_id": 49660867, "link": "https://stackoverflow.com/questions/49660867/creating-a-new-dataframe-from-value-counts/49661529#49661529", "title": "creating a new dataframe from value.counts()", "body": "<p>You could use the <code>.groupby()</code> function to get yearly counts of crime occurances. </p>\n\n<p>So in this case <code>df_1.groupby(by=\"Year\").count()</code> would get you the crime count of every year</p>\n\n<p>After that you could use <code>.loc</code> to select specific years</p>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 7, "last_activity_date": 1522883640, "creation_date": 1522883640, "answer_id": 49661812, "question_id": 49660867, "link": "https://stackoverflow.com/questions/49660867/creating-a-new-dataframe-from-value-counts/49661812#49661812", "title": "creating a new dataframe from value.counts()", "body": "<p>When you are doing <code>value_counts</code>, it will return a series, so I am adding <code>.reset_index().values</code> after  <code>value_counts</code>, to make index also become the value </p>\n\n<pre><code>crime_year = pd.DataFrame(df.Year.value_counts().reset_index().values, columns=[\"Year\", \"AggregateCrime\"])\ncrime_yearindex = crime_year.sort_index(axis = 0, ascending=True)\ncrime_yearindex\nOut[1225]: \n   Year  AggregateCrime\n0  2017               2\n1  2014               1\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 5527795, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/78ef2c9109151d0b0db34919236139ca?s=128&d=identicon&r=PG&f=1", "display_name": "anandg112", "link": "https://stackoverflow.com/users/5527795/anandg112"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4333, "favorite_count": 2, "closed_date": 1522899302, "answer_count": 2, "score": 0, "last_activity_date": 1522883640, "creation_date": 1522877950, "last_edit_date": 1522880426, "question_id": 49660867, "link": "https://stackoverflow.com/questions/49660867/creating-a-new-dataframe-from-value-counts", "closed_reason": "Not suitable for this site", "title": "creating a new dataframe from value.counts()", "body": "<p>I have a dataframe <code>df_1</code> with a column <code>year</code> which denotes when the year a crime occurred. So for example, df_1 is something like this:</p>\n\n<pre><code>   location    description   Weapon   Year\n0  Howard Ave   Auto theft   Knife    2017\n1  Craig Drive  Burglary     Gun      2014\n2  King Ave     Assault      Hands    2017\n</code></pre>\n\n<p>I need to create a dataframe that has the number of crime occurrences by year from 2012-2017.</p>\n\n<pre><code>crime_year = pd.DataFrame(df_1.year.value_counts(), columns=[\"Year\", \"AggregateCrime\"])\ncrime_yearindex = crime_year.sort_index(axis = 0, ascending=True)\ncrime_yearindex\n</code></pre>\n\n<p>When I print <code>crime_yearindex</code>, I just get the column headers and not the data itself. What may I be doing wrong? </p>\n"}, {"tags": ["python", "python-3.x", "airflow"], "comments": [{"owner": {"reputation": 3239, "user_id": 3287250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nVoOs.jpg?s=128&g=1", "display_name": "Simon Darr", "link": "https://stackoverflow.com/users/3287250/simon-darr"}, "edited": false, "score": 3, "creation_date": 1522928709, "post_id": 49660861, "comment_id": 86353293, "body": "I wouldn&#39;t use airflow for frequent tasks, it&#39;s really a tool meant for batch processing, I have a DAG that is scheduled to run every 5 minutes at the moment and even that is a bit too frequent for Airflow in my opinion."}], "answers": [{"comments": [{"owner": {"reputation": 1909, "user_id": 7003310, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93c4c71ac8fb2188d6e0f481b9b88a9d?s=128&d=identicon&r=PG&f=1", "display_name": "qichao_he", "link": "https://stackoverflow.com/users/7003310/qichao-he"}, "edited": false, "score": 0, "creation_date": 1522949084, "post_id": 49676127, "comment_id": 86367669, "body": "I did stumble upon Supervisor, but I was reluctant to add another task management. I guess I should check it again. Thanks!"}], "tags": [], "owner": {"reputation": 9377, "user_id": 8431111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GteAE.jpg?s=128&g=1", "display_name": "J_H", "link": "https://stackoverflow.com/users/8431111/j-h"}, "is_accepted": false, "score": 3, "last_activity_date": 1523379941, "last_edit_date": 1592644375, "creation_date": 1522941923, "answer_id": 49676127, "question_id": 49660861, "link": "https://stackoverflow.com/questions/49660861/use-airflow-for-frequent-tasks/49676127#49676127", "title": "Use Airflow for frequent tasks", "body": "<blockquote>\n<p>What's the best practice to schedule it</p>\n<ol start=\"5\">\n<li>... this kind of task is just not suitable for Airflow?</li>\n</ol>\n</blockquote>\n<p>It is not suitable.</p>\n<p>In particular, your airflow is probably configured to re-examine the set of DAGs every 5 seconds, which doesn't sound like a good fit for a 1-second task. Plus the ratio of scheduling overhead to work performed would not be attractive. I suppose you could schedule five simultaneous tasks, twelve times per minute, and have them sleep zero to four seconds, but that's just crazy. And likely you would need to &quot;lock against yourself&quot; to avoid having simultaneous sibling tasks step on each other's toes.</p>\n<p>The six-hour suggestion (2.) is not crazy. I will view it as a sixty-minute @hourly task instead, since overheads are similar. Exiting after an hour and letting airflow respawn has several benefits. Log rolling happens at regular intervals. If your program crashes, it will be restarted before too long. If your host reboots, again your program is restarted before too long. Downside is that your business need may view &quot;more than a minute&quot; as &quot;much too long&quot;. And coordinating overlapping tasks, or gap between tasks, at the hour boundary may pose some issues.</p>\n<p>Your stated needs exactly match the problem that <a href=\"http://supervisord.org/\" rel=\"nofollow noreferrer\">Supervisor</a> addresses. Just use that. You will always have exactly one copy of your event loop running, even if the app crashes, even if the host crashes. Log rolling and other administrative details have already been addressed. The code base is mature and lots of folks have beat on it and incorporated their feature requests. It fits what you want.</p>\n"}], "owner": {"reputation": 1909, "user_id": 7003310, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93c4c71ac8fb2188d6e0f481b9b88a9d?s=128&d=identicon&r=PG&f=1", "display_name": "qichao_he", "link": "https://stackoverflow.com/users/7003310/qichao-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1523379941, "creation_date": 1522877924, "last_edit_date": 1522894785, "question_id": 49660861, "link": "https://stackoverflow.com/questions/49660861/use-airflow-for-frequent-tasks", "title": "Use Airflow for frequent tasks", "body": "<p>We have been using Airflow for a while, it is just great.</p>\n\n<p>Now we are considering moving some of our very frequent tasks into our airflow server too.</p>\n\n<p>Let's say I have a script running every second.</p>\n\n<p>What's the best practice to schedule it with airflow:</p>\n\n<ol>\n<li><p>Run this script in DAG that is scheduled every second. I highly doubt this will be the solution, there is significant overhead for a DAGRUN</p></li>\n<li><p>Run this script in a while loop that stops after 6 hours, then schedule it on Airflow to be run every 6 hour?</p></li>\n<li><p>Create a DAG with no schedule, put the task in a while True loop with proper sleep time, so the task will never terminates unless there is an error.</p></li>\n<li><p>Any other suggestions? </p></li>\n<li><p>Or this kind of task is just not suitable for Airflow? should do it with a lambda function and AWS scheduler?</p></li>\n</ol>\n\n<p>Cheers!</p>\n"}, {"tags": ["python", "user-interface", "tkinter", "transparent", "toplevel"], "comments": [{"owner": {"reputation": 29277, "user_id": 291641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df10b741c091f5db29f951dc9918a34?s=128&d=identicon&r=PG", "display_name": "patthoyts", "link": "https://stackoverflow.com/users/291641/patthoyts"}, "edited": false, "score": 0, "creation_date": 1522882621, "post_id": 49660856, "comment_id": 86333179, "body": "There is no cross-platform way to do is so you need to specify the platform. Some possible answers are attached to <a href=\"https://stackoverflow.com/q/19080499/291641\">&quot;Transparent background in a Tkinter window&quot;</a>"}, {"owner": {"reputation": 27, "user_id": 8966196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d7568610073ac09b41a7b1d441fbbf?s=128&d=identicon&r=PG&f=1", "display_name": "SHatna", "link": "https://stackoverflow.com/users/8966196/shatna"}, "reply_to_user": {"reputation": 29277, "user_id": 291641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df10b741c091f5db29f951dc9918a34?s=128&d=identicon&r=PG", "display_name": "patthoyts", "link": "https://stackoverflow.com/users/291641/patthoyts"}, "edited": false, "score": 0, "creation_date": 1522922211, "post_id": 49660856, "comment_id": 86348749, "body": "I&#39;m working on Mac OS"}], "owner": {"reputation": 27, "user_id": 8966196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70d7568610073ac09b41a7b1d441fbbf?s=128&d=identicon&r=PG&f=1", "display_name": "SHatna", "link": "https://stackoverflow.com/users/8966196/shatna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 809, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1522922234, "creation_date": 1522877908, "last_edit_date": 1522922234, "question_id": 49660856, "link": "https://stackoverflow.com/questions/49660856/tkinter-transparent-widgets-and-windows", "title": "Tkinter Transparent Widgets And Windows", "body": "<p>I'm trying to create an about window for my GUI using tinter. I have made the background of the top-level window transparent, however when I add widgets to the window the widgets inherit the window's transparency. I was wondering if anyone knew how to make the widgets opaque or if there was another way to make the window transparent without making the widgets transparent as well. I'm working on Mac OS.\nHere is my code:</p>\n\n<pre><code>about_window = Toplevel(window1)\nabout_window.overrideredirect(1)\nabout_window.attributes(\"-alpha\", 0.8)\nabout_window.config(background=\"snow2\")\nphoto4 = PhotoImage(file=\"imageedit_2_6831657450.gif\")\nphotolbl = Label(about_window, image=photo4)\nphotolbl.image = photo4\nphotolbl.pack()\n</code></pre>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["python", "html", "css", "django"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 2, "creation_date": 1522878024, "post_id": 49660848, "comment_id": 86331406, "body": "some of this is invalid HTML: <code>&lt;&#47;li&gt;&lt;br&gt;li&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 340, "user_id": 6479865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94cb335108aa0a4b6a65984a2f602c44?s=128&d=identicon&r=PG", "display_name": "Vaibhav", "link": "https://stackoverflow.com/users/6479865/vaibhav"}, "is_accepted": false, "score": -1, "last_activity_date": 1522954745, "last_edit_date": 1522954745, "creation_date": 1522878111, "answer_id": 49660897, "question_id": 49660848, "link": "https://stackoverflow.com/questions/49660848/html-css-adding-in-new-lines/49660897#49660897", "title": "HTML CSS: Adding in new lines", "body": "<p>This should work. </p>\n\n<pre><code>&lt;ul&gt;\n &lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;\n &lt;li&gt;&lt;a href='/blog/'&gt;Blog&lt;/a&gt;&lt;/li&gt;\n &lt;li&gt;&lt;a href='/contents/'&gt;Contents&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 421, "user_id": 6830635, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/H42i7.jpg?s=128&g=1", "display_name": "bdalina", "link": "https://stackoverflow.com/users/6830635/bdalina"}, "edited": false, "score": 1, "creation_date": 1522883780, "post_id": 49661105, "comment_id": 86333551, "body": "he needs to use <code>&lt;ul&gt;</code> instead of  <code>&lt;p&gt;</code>  then add <code>&lt;ul style=&quot;list-style-type:none;&quot;&gt;</code> if he wants no bullets"}, {"owner": {"reputation": 3969, "user_id": 3317728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SAjZm.jpg?s=128&g=1", "display_name": "StefanBob", "link": "https://stackoverflow.com/users/3317728/stefanbob"}, "reply_to_user": {"reputation": 421, "user_id": 6830635, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/H42i7.jpg?s=128&g=1", "display_name": "bdalina", "link": "https://stackoverflow.com/users/6830635/bdalina"}, "edited": false, "score": 1, "creation_date": 1522889994, "post_id": 49661105, "comment_id": 86335240, "body": "Right needs a &lt;ul&gt;. I edited answer to what he should actually do ;)"}], "tags": [], "owner": {"reputation": 3969, "user_id": 3317728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SAjZm.jpg?s=128&g=1", "display_name": "StefanBob", "link": "https://stackoverflow.com/users/3317728/stefanbob"}, "is_accepted": false, "score": 1, "last_activity_date": 1522889938, "last_edit_date": 1522889938, "creation_date": 1522879253, "answer_id": 49661105, "question_id": 49660848, "link": "https://stackoverflow.com/questions/49660848/html-css-adding-in-new-lines/49661105#49661105", "title": "HTML CSS: Adding in new lines", "body": "<p>You are missing the left bracket for your <code>&lt;li&gt;</code> tags.</p>\n\n<p>Or if you're not a noob just get rid of those <code>&lt;br&gt;</code> tags. <code>&lt;li&gt;</code> will go to next line automatically. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>nav {\r\n  display: flex;\r\n  flex-direction: column;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;nav&gt;\r\n  &lt;a href='/'&gt;Home&lt;/a&gt;\r\n  &lt;a href='/blog/'&gt;Blog&lt;/a&gt;\r\n  &lt;a href='/contents/'&gt;Contents&lt;/a&gt;\r\n&lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 2835226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f219c8cc3ab2b833240856786750a003?s=128&d=identicon&r=PG", "display_name": "BrianBest", "link": "https://stackoverflow.com/users/2835226/brianbest"}, "is_accepted": false, "score": 0, "last_activity_date": 1522879539, "creation_date": 1522879539, "answer_id": 49661153, "question_id": 49660848, "link": "https://stackoverflow.com/questions/49660848/html-css-adding-in-new-lines/49661153#49661153", "title": "HTML CSS: Adding in new lines", "body": "<p>Your markup looks good to me in the original file. However, from the problem you are describing sounds like there is something wrong with how you are importing Bootstrap 3 into this file. Check that you have the file <code>bootstrap.min.css</code> where you say you have it under <code>personal/css/bootstrap.min.css</code></p>\n"}], "owner": {"reputation": 891, "user_id": 8407951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/22ac0be4f472b5379a2175a668266f83?s=128&d=identicon&r=PG&f=1", "display_name": "Slowat_Kela", "link": "https://stackoverflow.com/users/8407951/slowat-kela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522954745, "creation_date": 1522877886, "question_id": 49660848, "link": "https://stackoverflow.com/questions/49660848/html-css-adding-in-new-lines", "title": "HTML CSS: Adding in new lines", "body": "<p>I am following the tutorial/code described <a href=\"https://pythonprogramming.net/design-bootstrap-django-python-tutorial/\" rel=\"nofollow noreferrer\">here</a>. The specific code in question is this part:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Harrison Kinsley&lt;/title&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    {% load staticfiles %}\n    &lt;link rel=\"stylesheet\" href=\"{% static 'personal/css/bootstrap.min.css' %}\" type = \"text/css\"/&gt;\n    &lt;meta name=\"viewport\" content = \"width=device-width, initial-scale=1.0\"&gt;\n\n    &lt;style type=\"text/css\"&gt;\n        html,\n        body {\n          height:100%\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body class=\"body\" style=\"background-color:#f6f6f6\"&gt;\n    &lt;div class=\"container-fluid\" style=\"min-height:95%; \"&gt;\n        &lt;div class=\"row\"&gt;\n              &lt;div class=\"col-sm-2\"&gt;\n                  &lt;br&gt;\n                  &lt;center&gt;\n                    &lt;img src=\"{% static 'personal/img/profile.jpg' %}\" class=\"responsive-img\" style='max-height:100px;' alt=\"face\"&gt;\n                  &lt;/center&gt;\n              &lt;/div&gt;\n              &lt;div class=\"col-sm-10\"&gt;\n                  &lt;br&gt;\n                  &lt;center&gt;\n                  &lt;h3&gt;Programming, Teaching, Entrepreneurship&lt;/h3&gt;\n                  &lt;/center&gt;\n              &lt;/div&gt;\n        &lt;/div&gt;&lt;hr&gt;\n\n        &lt;div class=\"row\"&gt;\n          &lt;div class=\"col-sm-2\"&gt;\n          &lt;br&gt;\n\n          &lt;br&gt;\n           &lt;!-- Great, til you resize. --&gt;\n            &lt;!--&lt;div class=\"well bs-sidebar affix\" id=\"sidebar\" style=\"background-color:#fff\"&gt;--&gt;\n            &lt;div class=\"well bs-sidebar\" id=\"sidebar\" style=\"background-color:#fff\"&gt;\n              &lt;ul class=\"nav nav-pills nav-stacked\"&gt;\n                &lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href='/blog/'&gt;Blog&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href='/contact/'&gt;Contact&lt;/a&gt;&lt;/li&gt;\n              &lt;/ul&gt;\n            &lt;/div&gt; &lt;!--well bs-sidebar affix--&gt;\n          &lt;/div&gt; &lt;!--col-sm-2--&gt;\n          &lt;div class=\"col-sm-10\"&gt;\n\n            &lt;div class='container-fluid'&gt;\n            &lt;br&gt;&lt;br&gt;\n               {% block content %}\n               {% endblock %}   \n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt; \n    &lt;/div&gt;\n    &lt;footer&gt;\n        &lt;div class=\"container-fluid\" style='margin-left:15px'&gt;\n            &lt;p&gt;&lt;a href=\"#\" target=\"blank\"&gt;Contact&lt;/a&gt; | &lt;a href=\"#\" target=\"blank\"&gt;LinkedIn&lt;/a&gt; | &lt;a href=\"#\" target=\"blank\"&gt;Twitter&lt;/a&gt; | &lt;a href=\"#\" target=\"blank\"&gt;Google+&lt;/a&gt;&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/footer&gt;   \n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>When I run this code, the links to 'Home', Blog' and 'Content' pages are all on one line, with no spaces between them (i.e. the links are like this: HomeBlogContent).</p>\n\n<p>I want them to look like:</p>\n\n<pre><code>Home\nBlog\nContent \n</code></pre>\n\n<p>When I add this line into the code:</p>\n\n<pre><code>&lt;p&gt;This is&lt;br&gt;a paragraph&lt;br&gt;with line breaks&lt;/p&gt;\n</code></pre>\n\n<p>The output is as expected:</p>\n\n<pre><code>This is\na paragraph\nwith line breaks\n</code></pre>\n\n<p>When I replace the strings in this line, like this:</p>\n\n<pre><code>&lt;p&gt;&lt;li&gt;&lt;a href='/'&gt;Home&lt;/a&gt;&lt;/li&gt;&lt;br&gt;li&gt;&lt;a href='/blog/'&gt;Blog&lt;/a&gt;&lt;/li&gt;&lt;br&gt;li&gt;&lt;a href='/contents/'&gt;Contents&lt;/a&gt;&lt;/li&gt;&lt;/p&gt;\n</code></pre>\n\n<p>I would have hoped that solved my problem, but it doesn't. Can someone tell me where I'm going wrong, how can I get the Home, Blog and Content links to print on separate lines? Thanks.</p>\n"}, {"tags": ["python", "bitwise-operators"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1522878328, "post_id": 49660813, "comment_id": 86331536, "body": "Your code outputs 4 instead of 6. That&#39;s if I set <code>line = &quot;1497383697        0120    000    5    00 30 63 4f 15&quot;</code> and <code>start = 11</code> and <code>length = 3</code>."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522878652, "post_id": 49660813, "comment_id": 86331669, "body": "The 3 digits you highlighted actually start at index 10, not 11."}], "answers": [{"comments": [{"owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "edited": false, "score": 0, "creation_date": 1522879507, "post_id": 49661076, "comment_id": 86332049, "body": "Suggest saving some operations by replacing the last two lines with <code>val = (num &gt;&gt; shift) &amp; mask</code>."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "reply_to_user": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "edited": false, "score": 0, "creation_date": 1522879570, "post_id": 49661076, "comment_id": 86332073, "body": "@TimPeters Good thinking! Will update as soon as I&#39;m done timing it, thanks."}], "tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": true, "score": 2, "last_activity_date": 1522879686, "last_edit_date": 1522879686, "creation_date": 1522879068, "answer_id": 49661076, "question_id": 49660813, "link": "https://stackoverflow.com/questions/49660813/efficient-way-to-extract-individual-bit-values-from-a-hexa-string/49661076#49661076", "title": "Efficient way to extract individual bit values from a hexa string", "body": "<p>Instead of using string operations, it's faster to convert the input to a number and use bit operations:</p>\n\n<pre><code>parts = line.split(maxsplit=4)\n\n# remove spaces in the number and convert it to int from base 16\nnum = int(parts[4].replace(' ', ''), 16)\n\n# create a bit mask with exactly `length` 1s\nmask = (1 &lt;&lt; length) - 1\n\n# calculate the offset from the right\nshift = 40 - start - length\n\n# shift the value to the right and apply the binary mask to get our value\nval = (num &gt;&gt; shift) &amp; mask\n</code></pre>\n\n<hr>\n\n<p>According to my timings, the bit operations are faster by about 20%. Timing results with 1 million iterations:</p>\n\n<pre><code>string_ops  2.735653492003621 seconds\nbit_ops     2.190693126998667 seconds\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8604876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7e6457b264ff546c315bbacc15ea36?s=128&d=identicon&r=PG&f=1", "display_name": "baldman", "link": "https://stackoverflow.com/users/8604876/baldman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 49661076, "answer_count": 1, "score": 1, "last_activity_date": 1522879686, "creation_date": 1522877661, "question_id": 49660813, "link": "https://stackoverflow.com/questions/49660813/efficient-way-to-extract-individual-bit-values-from-a-hexa-string", "title": "Efficient way to extract individual bit values from a hexa string", "body": "<p>I'm developing a real-time application where I have to process a line of data as fast as possible to send it over to an app. These lines arrive at a very fast rate, around 40k per minute. The task is to extract the value of certain individual bits from the hexa data in the line. I have a solution already but I doubt it's the most efficient one, so I'm asking if you can improve it.</p>\n\n<p>A sample line of data:</p>\n\n<pre><code>p1                p2      p3     len  data\n1497383697        0120    000    5    00 30 63 4f 15\n</code></pre>\n\n<p><em>len</em> is how many bytes are in the data, <em>data</em> is what we're working with. Let's say I want to extract 3 bits starting from the 11th from the left. Converting the hexa to binary with padding:<br>\n0x0030634f15 = 0000 0000 00<strong>11 0</strong>000 0110 0011 0100 1111 0001 0101<br>\nThe wanted value is 0b110 which is 6 in decimal.  </p>\n\n<p>My working solution for the problem is this:  </p>\n\n<pre><code># 11 and 3 in the example\nstart = config.getint(p, 'start') \nlength = config.getint(p, 'length')\n\nparts = line.split()\nhexadata = ''.join(parts[4:])\nbindata = bin(int(hexadata, 16))[2:].zfill(len(hexadata) * 4)\nval = int(bindata[start:start + length], 2)\n</code></pre>\n\n<p><em>val</em> will hold the value 6 in the end. Any other, more efficent way to do this? Thank you</p>\n"}, {"tags": ["python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 3534551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cd83af3a95020cac74e777f2a459a2e4?s=128&d=identicon&r=PG&f=1", "display_name": "Longroadahead", "link": "https://stackoverflow.com/users/3534551/longroadahead"}, "edited": false, "score": 0, "creation_date": 1522877822, "post_id": 49660754, "comment_id": 86331326, "body": "I did try the example, and the machine would freeze after clicking load. I was trying to go with a minimalist tactic to see if it works this way. Could be something with my machine."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 371, "user_id": 3534551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cd83af3a95020cac74e777f2a459a2e4?s=128&d=identicon&r=PG&f=1", "display_name": "Longroadahead", "link": "https://stackoverflow.com/users/3534551/longroadahead"}, "edited": false, "score": 0, "creation_date": 1522877931, "post_id": 49660754, "comment_id": 86331373, "body": "hmmm it worked for me ... you copied and pasted this and didnt edit it at all and it froze? are you using an older version of kivy? are you sure you installed all the kivy dependencies? are you running with normal CPython? what version of Python? are you running through cygwin or something? are you running some other variant of python (anaconda/cython/pipython/etc)?"}, {"owner": {"reputation": 371, "user_id": 3534551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cd83af3a95020cac74e777f2a459a2e4?s=128&d=identicon&r=PG&f=1", "display_name": "Longroadahead", "link": "https://stackoverflow.com/users/3534551/longroadahead"}, "edited": false, "score": 0, "creation_date": 1522883253, "post_id": 49660754, "comment_id": 86333386, "body": "I restarted and got it to load, but the file name started to overlap on one another when I&#39;m clicking."}, {"owner": {"reputation": 371, "user_id": 3534551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cd83af3a95020cac74e777f2a459a2e4?s=128&d=identicon&r=PG&f=1", "display_name": "Longroadahead", "link": "https://stackoverflow.com/users/3534551/longroadahead"}, "edited": false, "score": 0, "creation_date": 1522892016, "post_id": 49660754, "comment_id": 86335661, "body": "After reading through the example and manipulate a few lines I was able to get it working.Though it&#39;s working but I got this error pywintypes.error: (32, &#39;GetFileAttributesEx&#39;, &#39;The process cannot access the file because it is being used by another process.&#39;) have you seen this before?"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1522877392, "creation_date": 1522877392, "answer_id": 49660754, "question_id": 49660657, "link": "https://stackoverflow.com/questions/49660657/mimic-tkinter-file-open-in-kivy/49660754#49660754", "title": "Mimic Tkinter file open in Kivy", "body": "<p>so I wrote a lot more code than you (based heavily on the kivy example @ <a href=\"https://kivy.org/docs/api-kivy.uix.filechooser.html#usage-example\" rel=\"nofollow noreferrer\">https://kivy.org/docs/api-kivy.uix.filechooser.html#usage-example</a>)</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.floatlayout import FloatLayout\nfrom kivy.factory import Factory\nfrom kivy.properties import ObjectProperty\nfrom kivy.uix.popup import Popup\nfrom kivy.lang import Builder\n\nBuilder.load_string(\"\"\"\n#:kivy 1.1.0\n\n&lt;Root&gt;:\n    text_input: text_input\n\n    BoxLayout:\n        orientation: 'vertical'\n        BoxLayout:\n            size_hint_y: None\n            height: 30\n            Button:\n                text: 'Load'\n                on_release: root.show_load()\n            Button:\n                text: 'Save'\n                on_release: root.show_save()\n\n        BoxLayout:\n            TextInput:\n                id: text_input\n                text: ''\n\n            RstDocument:\n                text: text_input.text\n                show_errors: True\n\n&lt;LoadDialog&gt;:\n    BoxLayout:\n        size: root.size\n        pos: root.pos\n        orientation: \"vertical\"\n        FileChooserListView:\n            id: filechooser\n\n        BoxLayout:\n            size_hint_y: None\n            height: 30\n            Button:\n                text: \"Cancel\"\n                on_release: root.cancel()\n\n            Button:\n                text: \"Load\"\n                on_release: root.load(filechooser.path, filechooser.selection)\n\n&lt;SaveDialog&gt;:\n    text_input: text_input\n    BoxLayout:\n        size: root.size\n        pos: root.pos\n        orientation: \"vertical\"\n        FileChooserListView:\n            id: filechooser\n            on_selection: text_input.text = self.selection and self.selection[0] or ''\n\n        TextInput:\n            id: text_input\n            size_hint_y: None\n            height: 30\n            multiline: False\n\n        BoxLayout:\n            size_hint_y: None\n            height: 30\n            Button:\n                text: \"Cancel\"\n                on_release: root.cancel()\n\n            Button:\n                text: \"Save\"\n                on_release: root.save(filechooser.path, text_input.text)\"\"\")\nimport os\n\n\nclass LoadDialog(FloatLayout):\n    load = ObjectProperty(None)\n    cancel = ObjectProperty(None)\n\n\nclass SaveDialog(FloatLayout):\n    save = ObjectProperty(None)\n    text_input = ObjectProperty(None)\n    cancel = ObjectProperty(None)\n\n\nclass Root(FloatLayout):\n    loadfile = ObjectProperty(None)\n    savefile = ObjectProperty(None)\n    text_input = ObjectProperty(None)\n\n    def dismiss_popup(self):\n        self._popup.dismiss()\n\n    def show_load(self):\n        content = LoadDialog(load=self.load, cancel=self.dismiss_popup)\n        self._popup = Popup(title=\"Load file\", content=content,\n                            size_hint=(0.9, 0.9))\n        self._popup.open()\n\n    def show_save(self):\n        content = SaveDialog(save=self.save, cancel=self.dismiss_popup)\n        self._popup = Popup(title=\"Save file\", content=content,\n                            size_hint=(0.9, 0.9))\n        self._popup.open()\n\n    def load(self, path, filename):\n        with open(os.path.join(path, filename[0])) as stream:\n            self.text_input.text = stream.read()\n\n        self.dismiss_popup()\n\n    def save(self, path, filename):\n        with open(os.path.join(path, filename), 'w') as stream:\n            stream.write(self.text_input.text)\n\n        self.dismiss_popup()\n\n\nclass Editor(App):\n    def build(self):\n        return Root()\n\n\n\n\nif __name__ == '__main__':\n    Editor().run()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 3534551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cd83af3a95020cac74e777f2a459a2e4?s=128&d=identicon&r=PG&f=1", "display_name": "Longroadahead", "link": "https://stackoverflow.com/users/3534551/longroadahead"}, "edited": false, "score": 0, "creation_date": 1522885800, "post_id": 49661256, "comment_id": 86334112, "body": "I got an error after selecting a file. The variable path doesn&#39;t seem to tie to anything."}], "tags": [], "owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "is_accepted": false, "score": 0, "last_activity_date": 1522880138, "creation_date": 1522880138, "answer_id": 49661256, "question_id": 49660657, "link": "https://stackoverflow.com/questions/49660657/mimic-tkinter-file-open-in-kivy/49661256#49661256", "title": "Mimic Tkinter file open in Kivy", "body": "<h1>Solution</h1>\n\n<ol>\n<li>Replace <em>FileChooserIconLayout</em> with <em>FileChooserIconView</em></li>\n<li>Add a <em>BoxLayout</em> and make <em>FileChooserIconView</em> a children of the <em>BoxLayout</em></li>\n</ol>\n\n<h1>Example</h1>\n\n<h2>main.py</h2>\n\n<pre><code>from kivy.app import App\nfrom kivy.uix.gridlayout import GridLayout\n\n\nclass Checker_ui(GridLayout):\n\n    def findreport(self, path):\n        print(\"path=\", path)\n\n\nclass Checker(App):\n\n    def build(self):\n        return Checker_ui()\n\n\nif __name__ == \"__main__\":\n    Checker().run()\n</code></pre>\n\n<h2>checker.kv</h2>\n\n<pre><code>#:kivy 1.10.0\n\n&lt;Checker_ui&gt;:\n    BoxLayout:\n        size: root.size\n        pos: root.pos\n        orientation: \"vertical\"\n        FileChooserIconView:\n            id: filechooser\n            on_selection: root.select(*args)\n</code></pre>\n\n<h1>Output</h1>\n\n<p><a href=\"https://i.stack.imgur.com/0mD6X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mD6X.png\" alt=\"Img01 - AppStartup\"></a></p>\n"}], "owner": {"reputation": 371, "user_id": 3534551, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cd83af3a95020cac74e777f2a459a2e4?s=128&d=identicon&r=PG&f=1", "display_name": "Longroadahead", "link": "https://stackoverflow.com/users/3534551/longroadahead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 724, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522880138, "creation_date": 1522876846, "question_id": 49660657, "link": "https://stackoverflow.com/questions/49660657/mimic-tkinter-file-open-in-kivy", "title": "Mimic Tkinter file open in Kivy", "body": "<p>I have worked mostly with Tkinter before and I used the following code to store path of file I selected. After exploring Kivy, it doesn't seem like Kivy have a simple function like this. So I tried using the filechoser instead</p>\n\n<pre><code>path = filedialog.askopenfilename(initialdir=\"/\", title=\"Select file\")\n</code></pre>\n\n<p>Main code is very simple</p>\n\n<pre><code>class checker_ui(GridLayout):\n    def findreport(self,path):\n        pass\n\n\n\nclass Checker(App):\n    def build(self):\n        return checker_ui()\n\nif __name__ == '__main__':\n    Checker().run()\n</code></pre>\n\n<p>Then I created a .kv file just to see what filechooser looks like. The script would just open and freeze. </p>\n\n<pre><code>&lt;checker_ui&gt;:\n    BoxLayout:\n        FileChooserIconLayout:\n            id:filechooser\n            on_selection:root.select(*args)\n</code></pre>\n\n<p>Here is the output </p>\n\n<p><a href=\"https://i.stack.imgur.com/7Ll5A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Ll5A.png\" alt=\"Freeze\"></a></p>\n\n<p>I search all over the place and did not see anyone with a similar issue. Is there an alternative I can try to mimic the tkinter behaviour or am I stuck with this issue? I'm on a Windows machine and normal kivy widget works, ie: button,label etc.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 6, "creation_date": 1522877031, "post_id": 49660637, "comment_id": 86330945, "body": "Why use regex at all? Just use <code>word.startswith(&#39;th&#39;)</code>."}, {"owner": {"reputation": 11, "user_id": 8781930, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o3v1aiB-3a8/AAAAAAAAAAI/AAAAAAAAAC4/xx1xLe_C-q8/photo.jpg?sz=128", "display_name": "Zhuohao Gong", "link": "https://stackoverflow.com/users/8781930/zhuohao-gong"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522877957, "post_id": 49660637, "comment_id": 86331383, "body": "just want to know how to use Regular Expressions,"}], "answers": [{"tags": [], "owner": {"reputation": 1111, "user_id": 9568847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57127396e2c5362bd0555a5348ee3944?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas Mertsch", "link": "https://stackoverflow.com/users/9568847/niklas-mertsch"}, "is_accepted": false, "score": 0, "last_activity_date": 1522877180, "creation_date": 1522877180, "answer_id": 49660715, "question_id": 49660637, "link": "https://stackoverflow.com/questions/49660637/regular-expression-in-python-how-to-find-paired-words/49660715#49660715", "title": "Regular Expression in python how to find paired words", "body": "<p>If you got a list of words (so that every word is a string), you find words beginning with 'th' with this:</p>\n\n<pre><code>yourRegEx = re.compile(r'^th\\w*') # ^ for beginning of string\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8781930, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o3v1aiB-3a8/AAAAAAAAAAI/AAAAAAAAAC4/xx1xLe_C-q8/photo.jpg?sz=128", "display_name": "Zhuohao Gong", "link": "https://stackoverflow.com/users/8781930/zhuohao-gong"}, "edited": false, "score": 0, "creation_date": 1522877916, "post_id": 49660779, "comment_id": 86331360, "body": "Thanks, what is the difference between re.match and re.compile?"}], "tags": [], "owner": {"reputation": 156, "user_id": 2563336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/124ea42a131797e0e4586f25ebefd706?s=128&d=identicon&r=PG", "display_name": "user2563336", "link": "https://stackoverflow.com/users/2563336/user2563336"}, "is_accepted": false, "score": 0, "last_activity_date": 1522877485, "creation_date": 1522877485, "answer_id": 49660779, "question_id": 49660637, "link": "https://stackoverflow.com/questions/49660637/regular-expression-in-python-how-to-find-paired-words/49660779#49660779", "title": "Regular Expression in python how to find paired words", "body": "<blockquote>\n  <p>^(th\\w*) </p>\n</blockquote>\n\n<p>gives you all results where the string begins with th . If there is more than one word in the string you will only get the first.</p>\n\n<blockquote>\n  <p>(^|\\s)(th\\w*)</p>\n</blockquote>\n\n<p>wil give you all the words begining with th even if there is more than one word begining with th</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 8658775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c232b0fe87361b4c32eb5c0dcc269e4?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Meltzer", "link": "https://stackoverflow.com/users/8658775/daniel-meltzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1522878681, "last_edit_date": 1592644375, "creation_date": 1522877703, "answer_id": 49660822, "question_id": 49660637, "link": "https://stackoverflow.com/questions/49660637/regular-expression-in-python-how-to-find-paired-words/49660822#49660822", "title": "Regular Expression in python how to find paired words", "body": "<pre><code>(th)\\w*\n</code></pre>\n<p>notice you have this great online tool to generate python code and test regex:</p>\n<p><a href=\"https://regex101.com/codegen?language=python\" rel=\"nofollow noreferrer\">REGEX WEBSITE</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8781930, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o3v1aiB-3a8/AAAAAAAAAAI/AAAAAAAAAC4/xx1xLe_C-q8/photo.jpg?sz=128", "display_name": "Zhuohao Gong", "link": "https://stackoverflow.com/users/8781930/zhuohao-gong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522878681, "creation_date": 1522876779, "last_edit_date": 1522877006, "question_id": 49660637, "link": "https://stackoverflow.com/questions/49660637/regular-expression-in-python-how-to-find-paired-words", "title": "Regular Expression in python how to find paired words", "body": "<p>I'm doing the cipher for python. I'm confused on how to use Regular Expression to find a paired word in a text dictionary. </p>\n\n<p>For example, there is dictionary.txt with many English words in it. I need to find word paired with \"th\" at the beginning. Like they, them, the, their .....</p>\n\n<p>What kind of Regular Expression should I use to find \"th\" at the beginning?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "ssh", "paramiko", "cx-freeze"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1522878065, "post_id": 49660621, "comment_id": 86331423, "body": "I use paramiko in a pyinstaller frozen exe no problem ..."}, {"owner": {"reputation": 424, "user_id": 9095830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7hRVH1yInQ4/AAAAAAAAAAI/AAAAAAAAAAs/7jstsQfDWOE/photo.jpg?sz=128", "display_name": "diegoiva", "link": "https://stackoverflow.com/users/9095830/diegoiva"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1523161327, "post_id": 49660621, "comment_id": 86441910, "body": "@JoranBeasley it did work, thank you!"}], "owner": {"reputation": 424, "user_id": 9095830, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7hRVH1yInQ4/AAAAAAAAAAI/AAAAAAAAAAs/7jstsQfDWOE/photo.jpg?sz=128", "display_name": "diegoiva", "link": "https://stackoverflow.com/users/9095830/diegoiva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1557078870, "creation_date": 1522876734, "last_edit_date": 1523161314, "question_id": 49660621, "link": "https://stackoverflow.com/questions/49660621/paramiko-not-working-properly-after-cx-freeze", "title": "Paramiko not working properly after cx_Freeze?", "body": "<p>so I've writing this code where I connect to a computer over SSH using Paramiko, the script works normally, but when I convert it to \".exe\" using cx_Freeze the program stops working at \"self.ssh.load_system_host_keys\", so i remove that function from the script and it kept working as usual (maybe not always needed?), but then again, when I converted the script to .exe, it was the \"self.ssh.connect\" function of Paramiko which now seems to be stopping the program, and by that i mean, no exception raises, the code just stops running right there and nothing happens, any thoughts?.</p>\n\n<p>Are there any compatibility issues with Paramiko and cx_Freeze?</p>\n\n<p>Here's a simplified version of my code:</p>\n\n<p><strong>session.py</strong> (Class in which I implemented the paramiko functionality)</p>\n\n<pre><code>from paramiko import SSHClient, AutoAddPolicy\n\nclass Session:\n    def __init__(self, host, user, password):\n        self.user = user\n        self.password = password\n        self.host = host\n        self.is_connected = False\n        self.ssh = SSHClient()\n        self.ssh.set_missing_host_key_policy(AutoAddPolicy())\n\n\n    def assert_connection(self):\n        # force connection\n        time_start = time.time()\n        while True:\n            try:\n                self.ssh.connect(self.host, username=self.user, password=self.password)\n                self.is_connected = True\n                return True\n            except:\n                print(time.time() - time_start)\n                if (time.time() - time_start) &gt; 3:\n                    self.ssh.close()\n                    return False\n</code></pre>\n\n<p>The \"Main\" Script</p>\n\n<pre><code> import session\n import threading     \n\n def create_session(self):\n      self.session = session.Session(self, self.active_session.host,\n      self.active_session.user, self.active_session.password)\n      t = threading.Thread(target=self.connect_via_ssh)\n      t.start()\n\ndef connect_via_ssh(self):\n    if self.session.assert_connection():\n         #Do something\n</code></pre>\n\n<p>Any help would be much appreciated! </p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I wasn't able to figure out what was going wrong, however i tryed using pyinstaller, and it did work! i bet there's some wierd bug with cx_freeze and paramiko.</p>\n"}, {"tags": ["python", "path", "f2py"], "comments": [{"owner": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522876663, "post_id": 49660548, "comment_id": 86330747, "body": "what does <code>which f2py</code> yield"}, {"owner": {"reputation": 21, "user_id": 9599071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ccde63569e24d94fb80b37be3a4be3?s=128&d=identicon&r=PG&f=1", "display_name": "S.K.L.", "link": "https://stackoverflow.com/users/9599071/s-k-l"}, "reply_to_user": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522888795, "post_id": 49660548, "comment_id": 86334949, "body": "Nothing at all; just the next blank line on the command line. :/"}, {"owner": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522939678, "post_id": 49660548, "comment_id": 86361487, "body": "<code>fp2y</code> is a standalone executable and should technically be in the <code>bin</code> folder of your PYTHON installation"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9599071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ccde63569e24d94fb80b37be3a4be3?s=128&d=identicon&r=PG&f=1", "display_name": "S.K.L.", "link": "https://stackoverflow.com/users/9599071/s-k-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1522958182, "creation_date": 1522958182, "answer_id": 49680518, "question_id": 49660548, "link": "https://stackoverflow.com/questions/49660548/f2py-not-found-when-trying-to-run-from-command-line/49680518#49680518", "title": "&quot;f2py not found&quot; when trying to run from command line", "body": "<p>Just in case someone else has the same problem: I still don't know the cause, but somehow my python installation was very messed up.  I had installed via homebrew, so I just uninstalled python through brew (and scipy and numpy as well), downloaded the latest version of the Canopy distribution, and made sure to update PATH to point to the folder Canopy uses (for a Mac, it's <code>/Users/&lt;user&gt;/Library/Enthought/Canopy/edm/envs/User/bin</code>).  Now f2py is working again, thank goodness!</p>\n"}], "owner": {"reputation": 21, "user_id": 9599071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ccde63569e24d94fb80b37be3a4be3?s=128&d=identicon&r=PG&f=1", "display_name": "S.K.L.", "link": "https://stackoverflow.com/users/9599071/s-k-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 835, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1522958182, "creation_date": 1522876483, "last_edit_date": 1522957866, "question_id": 49660548, "link": "https://stackoverflow.com/questions/49660548/f2py-not-found-when-trying-to-run-from-command-line", "title": "&quot;f2py not found&quot; when trying to run from command line", "body": "<p>I tried using f2py today (in Terminal, on a Mac running High Sierra) and got the following message:</p>\n\n<pre><code>-bash: f2py: command not found\n</code></pre>\n\n<p>This is especially weird because I used f2py a few months ago with no problem; the only thing I can think of that's changed is updating my OS.</p>\n\n<p>Some hunting online suggested that the path to numpy might not be listed in my PATH variable.  I found the f2py folder was in</p>\n\n<pre><code>/usr/local/lib/python2.7/site-packages/numpy/\n</code></pre>\n\n<p>So I added <code>/usr/local/lib/python2.7/site-packages/</code> to the PATH definition in .bashrc (and checked that $PATH was actually updated); no dice.  I then thought I'd get even more specific in .bashrc:</p>\n\n<pre><code>export PATH=$PATH:/usr/local/bin/:/usr/local/share/python/:/usr/local/lib/python2.7/site-packages/numpy/f2py/\n</code></pre>\n\n<p>I did the same with PYTHONPATH.  Still no dice; I'm getting the same message.</p>\n\n<p>A couple of other things that may or may not be of use: </p>\n\n<ol>\n<li><p>When I use the command <code>echo $PYTHONPATH$</code>, it just gives me the list I defined with .bashrc, but when I print sys.path from python, it gives me a much longer list, including</p>\n\n<pre><code>/usr/local/lib/python2.7/site-packages\n</code></pre>\n\n<p>as well as</p>\n\n<pre><code> /usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/python2.7\n</code></pre>\n\n<p>(possibly relevant for point #2)</p></li>\n<li><p>When I tried to run f2py using</p>\n\n<p>python f2py.py </p>\n\n<p>I got the message</p>\n\n<pre><code>/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python: can't open file 'f2py.py': [Errno 2] No such file or directory\n</code></pre></li>\n</ol>\n\n<p>At this point, I'm pretty stumped--I don't know a ton about how all these paths work but I feel like I'm pointing everything towards the right directory and it still can't find f2py.  Can anyone point me in the right direction?</p>\n\n<p>Additional info:\nAfter posting this, I realized that the directories in PATH are searched in order, so I made sure the directory with my desired python installation was listed first.  Unfortunately, that still didn't help.</p>\n"}, {"tags": ["python", "readfile", "spss"], "comments": [{"owner": {"reputation": 73, "user_id": 10375319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5484da4bbe30b6068e6fffff4d280fea?s=128&d=identicon&r=PG&f=1", "display_name": "Paroofkey", "link": "https://stackoverflow.com/users/10375319/paroofkey"}, "edited": false, "score": 0, "creation_date": 1578488371, "post_id": 49660528, "comment_id": 105453828, "body": "I has a name error when using df.to_records() and it was because I had duplicate columns in my data. Maybe you have duplicates in your data?"}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 3288051, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/c36c1c5bb8e017ff65b5ef59ff325aab?s=128&d=identicon&r=PG&f=1", "display_name": "user3288051", "link": "https://stackoverflow.com/users/3288051/user3288051"}, "edited": false, "score": 0, "creation_date": 1595516587, "post_id": 61185594, "comment_id": 111508398, "body": "Sorry for the late update. Yes, it is working now using this awesome pyreadstat library. Thanks a lot."}], "tags": [], "owner": {"reputation": 76, "user_id": 13293118, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjUarY7pA-WsIjF4VUdkoT7_AVTKoiE-nywFj7enw=k-s128", "display_name": "Hsuning", "link": "https://stackoverflow.com/users/13293118/hsuning"}, "is_accepted": false, "score": 1, "last_activity_date": 1586772641, "creation_date": 1586772641, "answer_id": 61185594, "question_id": 49660528, "link": "https://stackoverflow.com/questions/49660528/getting-title-already-used-as-a-name-or-title-error-while-reading-spss-sav/61185594#61185594", "title": "Getting &quot;title already used as a name or title&quot; error while reading SPSS (.sav) file in Python", "body": "<p>There is an easier way to read SPSS files into pd.DataFrame(), by using \"pd.read_spss(filepath)\" method. It works with your file.</p>\n\n<pre><code>import pandas as pd\n\nfile_path = \"./child_abilities.sav\"\ndf = pd.read_spss(file_path)\n</code></pre>\n\n<p>Please be noted that you must install Pyreadstat.</p>\n\n<pre><code>% pip install pyreadstst\nor\n% conda install -c conda-forge pyreadstat\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 3288051, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/c36c1c5bb8e017ff65b5ef59ff325aab?s=128&d=identicon&r=PG&f=1", "display_name": "user3288051", "link": "https://stackoverflow.com/users/3288051/user3288051"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4793, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1586772641, "creation_date": 1522876400, "question_id": 49660528, "link": "https://stackoverflow.com/questions/49660528/getting-title-already-used-as-a-name-or-title-error-while-reading-spss-sav", "title": "Getting &quot;title already used as a name or title&quot; error while reading SPSS (.sav) file in Python", "body": "<p>I've working on reading an SPSS file (.sav). My code below can read .sav files. However, I've encounter a very strange error. When I try to read another .sav file, it gives the following error</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\fatihshen\\Documents\\Merjek \nProject\\Predictive_Analytics\\sav_reader.py\", line 28, in &lt;module&gt;\nread_spss_file(file_path)\nFile \"C:\\Users\\fatihshen\\Documents\\Merjek \nProject\\Predictive_Analytics\\sav_reader.py\", line 10, in read_spss_file\nrecords = reader.all()\nFile \"C:\\Users\\fatihshen\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\savReaderWriter\\savReaderNp.py\", line 541, in all\nreturn self.to_structured_array(filename)\nFile \"C:\\Users\\fatihshen\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\savReaderWriter\\savReaderNp.py\", line 122, in _convert_datetimes\narray = func(self, *args)\nFile \"C:\\Users\\fatihshen\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\savReaderWriter\\savReaderNp.py\", line 148, in _convert_missings\narray = func(self, *args)\nFile \"C:\\Users\\fatihshen\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\savReaderWriter\\savReaderNp.py\", line 531, in to_structured_array\narray = np.fromiter(self, self.trunc_dtype, self.nrows)\nFile \"C:\\Users\\fatihshen\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\savReaderWriter\\helpers.py\", line 17, in fget_memoized\nsetattr(self, attr_name, fget(self))\nFile \"C:\\Users\\fatihshen\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site- \npackages\\savReaderWriter\\savReaderNp.py\", line 376, in trunc_dtype\nreturn np.dtype(obj)\nValueError: title already used as a name or title.\n</code></pre>\n\n<p>Here is my code:    </p>\n\n<pre><code>import savReaderWriter as spss\nimport pandas as pd\n\nmy_df = None\n\ndef read_spss_file(file_name):\n    global my_df\n    with spss.SavReaderNp(file_name) as reader:\n         records = reader.all()\n         my_df = pd.DataFrame(records)\n\nfile_path = \"dataset/child_abilities.sav\"           \nread_spss_file(file_path)\nprint(my_df)\n</code></pre>\n\n<p>The .sav file is running properly on SPSS. However, while using these Python codes, some .sav files don't work (this code works most of other .sav files).</p>\n\n<p>Here is the file you can use:\n<a href=\"https://www.dropbox.com/s/lbnij1bwniusxax/child_abilities.zip?dl=0\" rel=\"noreferrer\">child abilities</a></p>\n\n<p>Any idea what is going on here? I would appreciate your help.</p>\n"}, {"tags": ["java", "python", "sockets", "client", "client-server"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522876982, "post_id": 49660507, "comment_id": 86330916, "body": "It looks like your client is connecting, sending a message, and then disconnecting each time you want to send a message. But your server is doing a single accept and trying to read from the same socket forever. If you want a new connection for each message, you need a new accept for each message; if you want to keep using be same socket, you have to do that on both sides."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522877112, "post_id": 49660507, "comment_id": 86330985, "body": "By the way, if you <i>do</i> want to keep using the same socket, you need to use some kind of framing protocol, not just assume that each <code>send</code> on one side will show up as a single <code>recv</code> on the other side. A TCP socket is just a stream of bytes, not a stream of messages. (The worst thing is that when you\u2019re testing things with small messages on localhost when the machine isn\u2019t busy, it\u2019ll almost always work, misleading you into thinking the code is correct, but then failing most of the time when you deploy it for real.)"}, {"owner": {"reputation": 41, "user_id": 6230765, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/56209783cde531f7eebbaa5331755263?s=128&d=identicon&r=PG&f=1", "display_name": "Ido", "link": "https://stackoverflow.com/users/6230765/ido"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522879046, "post_id": 49660507, "comment_id": 86331823, "body": "i do actually want to keep the same socket however, im new to java so its a client i found on the net and i added the sending. i thought it was wierd either . every time i want to send to create new socket after using sendmessage.excute(string..)"}, {"owner": {"reputation": 41, "user_id": 6230765, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/56209783cde531f7eebbaa5331755263?s=128&d=identicon&r=PG&f=1", "display_name": "Ido", "link": "https://stackoverflow.com/users/6230765/ido"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522879078, "post_id": 49660507, "comment_id": 86331840, "body": "can u give me another advice on how to set this up its the mose important thing left to be dont in my project."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522879229, "post_id": 49660507, "comment_id": 86331920, "body": "If you want to reuse the same socket, you need to rearrange your Java code so you open the socket and streamwriter once, hold onto them, and reuse them in each <code>SendMessage</code> task. I&#39;m sure there are good samples of that online, but I have no idea where to find them."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522879392, "post_id": 49660507, "comment_id": 86332001, "body": "As for framing\u2014the simplest option, is just separating messages with newlines. That does mean you need to escape any newlines in your messages (unless there just can never be one), but other than that, the client side is just something like <code>ToServer.print(params[0] + &quot;\\n&quot;);</code> (or however you do string concat in Java), and the server side can just use <code>for data in client_socket.makefile(encoding=&#39;utf-8&#39;):</code>. (You&#39;re also going to want some error handling, reconnect logic, etc., but that will get you started.)"}, {"owner": {"reputation": 41, "user_id": 6230765, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/56209783cde531f7eebbaa5331755263?s=128&d=identicon&r=PG&f=1", "display_name": "Ido", "link": "https://stackoverflow.com/users/6230765/ido"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522892249, "post_id": 49660507, "comment_id": 86335721, "body": "do u think that by changing the server to be threaded it will solve the problem ? i prefer finding a python solution instead of java."}, {"owner": {"reputation": 1552, "user_id": 8181750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0741295a628f75e98928dc2a5daddb9?s=128&d=identicon&r=PG&f=1", "display_name": "L.Spillner", "link": "https://stackoverflow.com/users/8181750/l-spillner"}, "edited": false, "score": 0, "creation_date": 1522915380, "post_id": 49660507, "comment_id": 86344088, "body": "abarnert already pointed out most of the issues.I just want to clarify that you have to take care of certain situations by multithreading your application. For instance you could run the <code>server_socket.accept()</code> in it&#39;s own thread wich will spawn a new thread that will handle the connection. However each new thread will have it&#39;s own client socket. If you don&#39;t change the java code this will lead to <a href=\"https://blog.stephencleary.com/2009/05/detection-of-half-open-dropped.html\" rel=\"nofollow noreferrer\">half-open</a> connection since the server won&#39;t notice that  the client died."}], "owner": {"reputation": 41, "user_id": 6230765, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/56209783cde531f7eebbaa5331755263?s=128&d=identicon&r=PG&f=1", "display_name": "Ido", "link": "https://stackoverflow.com/users/6230765/ido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522876304, "creation_date": 1522876304, "question_id": 49660507, "link": "https://stackoverflow.com/questions/49660507/connection-between-python-server-and-java-client", "title": "connection between python server and java client", "body": "<p>im trying to create a connection between a python server and java client (which is in android) the idea is that only the client sends data to the server and the server will handle things. however ,  the problem is that The first time message is sent, server receives the message; and then, when time I'm trying to send the next msg. server is not receiving anything.</p>\n\n<p>the server is very simple: here is a snippest:</p>\n\n<pre><code>server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserver_socket.bind((HOST, PORT))\nserver_socket.listen(10)\nclient_socket, client_address = server_socket.accept()\nprint 'Connect with ' + client_address[0]\n\nwhile check_if_directx_game():\n    data = client_socket.recv(1024).decode(\"UTF-8\")\n    if 'SBA' in data:\n        PressKey(a)\n    if \"PBA\" in data:\n        ReleaseKey(a)\n    else:\n        print data\n        print \"was here\"\n\nclient_socket.close()\nserver_socket.close()\n</code></pre>\n\n<p>the client side:</p>\n\n<pre><code>public class SendMessage extends AsyncTask&lt;String,Void,Void&gt;{\nprivate Exception exception;\n@Override\nprotected Void doInBackground(String... params){\n    try {\n        try {\n            Socket socket = new Socket(\"192.168.1.178\", 9000);\n            PrintWriter ToServer = new PrintWriter(new OutputStreamWriter(socket.getOutputStream()));\n            ToServer.print(params[0]);\n            ToServer.flush();\n            ToServer.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    } catch (Exception e) {\n        this.exception = e;\n        return null;\n    }\n    return null;\n}}\n</code></pre>\n\n<p>i only recieve from the client the SBA msg but never recives the PBA  that sends exacly after that. i closed the PrintWriter after the flush(); </p>\n\n<p>P.S. -- when i print data in the server after the first time it only print new line and than the \" was here\" string</p>\n\n<p>any ideas ?</p>\n"}, {"tags": ["python", "django", "routing", "django-templates"], "answers": [{"comments": [{"owner": {"reputation": 393, "user_id": 6329996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe47a5b779bc5d077818d27b10c9e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "ralfillo", "link": "https://stackoverflow.com/users/6329996/ralfillo"}, "edited": false, "score": 0, "creation_date": 1522879086, "post_id": 49660545, "comment_id": 86331846, "body": "Hi dirkgroten, your solution works indeed, but it&#39;s not what I&#39;m trying to accomplish. I&#39;d like to render the logged_out.html template in order to display a logged out confirmation to the user. How would be the most correct way of approaching this situation? Thanks for your help"}, {"owner": {"reputation": 393, "user_id": 6329996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe47a5b779bc5d077818d27b10c9e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "ralfillo", "link": "https://stackoverflow.com/users/6329996/ralfillo"}, "edited": false, "score": 0, "creation_date": 1522882549, "post_id": 49660545, "comment_id": 86333149, "body": "Even having the template in &quot;templates/registration/logged_out.html&quot; it wasn&#39;t being overridden because in the setting.py file, inside the INSTALLED_APPS list, I had to place my app on top of Django default apps. Then it worked :)  Thanks a lot, you helped me out a lot, you put me on track to find this post which had the solution: <a href=\"https://stackoverflow.com/questions/35153108/why-is-logged-out-html-not-overriding-in-django-registration\" title=\"why is logged out html not overriding in django registration\">stackoverflow.com/questions/35153108/&hellip;</a> Thanks :)"}], "tags": [], "owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "is_accepted": true, "score": 1, "last_activity_date": 1522879599, "last_edit_date": 1522879599, "creation_date": 1522876466, "answer_id": 49660545, "question_id": 49660465, "link": "https://stackoverflow.com/questions/49660465/when-i-logout-the-app-goes-into-a-loop-a-203-http-status/49660545#49660545", "title": "when I logout the app goes into a loop a 203 http status", "body": "<p>Exactly as you say: <code>LOGOUT_REDIRECT_URL = reverse_lazy('account:logout')</code> is saying you want to redirect to the <code>logout</code> view. You should change this setting to some other view, e.g. the login view:</p>\n\n<pre><code>LOGOUT_REDIRECT_URL = reverse_lazy('account:login')\n</code></pre>\n\n<p>If you want to display the default Django <code>logged_out.html</code> template, you should not redirect, it's what the logout view renders by default (i.e. remove <code>LOGOUT_REDIRECT_URL</code>) from your settings.</p>\n\n<p>If you want to display your own custom template, either override Django's <code>registration/logged_out.html</code> template in one of your template directories (again, remove <code>LOGOUT_REDIRECT_URL</code> from settings), or create your own <code>TemplateView</code> for this and redirect to this new view you create.</p>\n"}, {"comments": [{"owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "edited": false, "score": 0, "creation_date": 1522877559, "post_id": 49660616, "comment_id": 86331191, "body": "correct, but reverse_lazy is not what&#39;s causing the redirect loop. What is, is redirecting to &#39;account:logout&#39; when logging out..."}, {"owner": {"reputation": 393, "user_id": 6329996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe47a5b779bc5d077818d27b10c9e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "ralfillo", "link": "https://stackoverflow.com/users/6329996/ralfillo"}, "edited": false, "score": 0, "creation_date": 1522878459, "post_id": 49660616, "comment_id": 86331583, "body": "Hi Xhens, your solution throws this error: django.urls.exceptions.NoReverseMatch: Reverse for &#39;logout&#39; not found. &#39;logout&#39; is not a valid view function or pattern name. [04/Apr/2018 23:44:09] &quot;GET /account/logout/ HTTP/1.1&quot; 500 105445"}], "tags": [], "owner": {"reputation": 770, "user_id": 3594622, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/yBway.jpg?s=128&g=1", "display_name": "XhensB", "link": "https://stackoverflow.com/users/3594622/xhensb"}, "is_accepted": false, "score": 0, "last_activity_date": 1522876718, "creation_date": 1522876718, "answer_id": 49660616, "question_id": 49660465, "link": "https://stackoverflow.com/questions/49660465/when-i-logout-the-app-goes-into-a-loop-a-203-http-status/49660616#49660616", "title": "when I logout the app goes into a loop a 203 http status", "body": "<p>LOGIN_URL and LOGIN_REDIRECT_URL accept named URL patterns. That means you only have to write the URL name in the setrings.\nThis should fix your error.</p>\n\n<pre><code>LOGIN_URL = 'login'  # url name\nLOGOUT_REDIRECT_URL = 'logout'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 393, "user_id": 6329996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe47a5b779bc5d077818d27b10c9e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "ralfillo", "link": "https://stackoverflow.com/users/6329996/ralfillo"}, "edited": false, "score": 0, "creation_date": 1522883292, "post_id": 49661328, "comment_id": 86333393, "body": "Wow, looks pro, I&#39;ll try to implement your solution. Thanks Karim!"}], "tags": [], "owner": {"reputation": 2373, "user_id": 1640213, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/272d198a0c7701101af9298f67b2aa77?s=128&d=identicon&r=PG", "display_name": "Karim N Gorjux", "link": "https://stackoverflow.com/users/1640213/karim-n-gorjux"}, "is_accepted": false, "score": 0, "last_activity_date": 1522880541, "creation_date": 1522880541, "answer_id": 49661328, "question_id": 49660465, "link": "https://stackoverflow.com/questions/49660465/when-i-logout-the-app-goes-into-a-loop-a-203-http-status/49661328#49661328", "title": "when I logout the app goes into a loop a 203 http status", "body": "<p>You must redirect to the login after the logout:</p>\n\n<pre><code>LOGOUT_REDIRECT_URL = reverse_lazy('account:login')\n</code></pre>\n\n<p>What you can do also is to add some query parameters to personalise the login with a message just after the logout.</p>\n\n<p>Use a function like this one:</p>\n\n<pre><code>from django.utils.http import urlencode\n\ndef my_reverse(viewname, kwargs=None, query_kwargs=None):\n    \"\"\"\n    Custom reverse to add a query string after the url\n    Example usage:\n    url = my_reverse('my_test_url', kwargs={'pk': object.id}, query_kwargs={'next': reverse('home')})\n    \"\"\"\n    url = reverse(viewname, kwargs=kwargs)\n\n    if query_kwargs:\n        return u'%s?%s' % (url, urlencode(query_kwargs))\n\n    return url\n</code></pre>\n\n<p>Then you can do</p>\n\n<pre><code>LOGOUT_REDIRECT_URL = my_reverse(\"account:login\", query_kwargs={'logoutMessage': True})\n</code></pre>\n\n<p>in your login view you can get the query parameter and add a message in the context to render in the template</p>\n"}, {"tags": [], "owner": {"reputation": 393, "user_id": 6329996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe47a5b779bc5d077818d27b10c9e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "ralfillo", "link": "https://stackoverflow.com/users/6329996/ralfillo"}, "is_accepted": false, "score": 0, "last_activity_date": 1522883118, "creation_date": 1522883118, "answer_id": 49661743, "question_id": 49660465, "link": "https://stackoverflow.com/questions/49660465/when-i-logout-the-app-goes-into-a-loop-a-203-http-status/49661743#49661743", "title": "when I logout the app goes into a loop a 203 http status", "body": "<p>The problem was the order of the INSTALLED_APPS list in the settings.py. My app should be on top of Django's default Apps. Now Django's original logged_out.html template is being overridden.</p>\n\n<p>Here the post with the original answer:\n<a href=\"https://stackoverflow.com/a/35157729/6329996\">https://stackoverflow.com/a/35157729/6329996</a></p>\n\n<p>Here The INSTALLED_APPS list working:</p>\n\n<pre><code>INSTALLED_APPS = [\n    # My Apps\n    'account',\n\n    # Django Apps\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n]\n</code></pre>\n"}], "owner": {"reputation": 393, "user_id": 6329996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe47a5b779bc5d077818d27b10c9e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "ralfillo", "link": "https://stackoverflow.com/users/6329996/ralfillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 49660545, "answer_count": 4, "score": 0, "last_activity_date": 1522883118, "creation_date": 1522876128, "question_id": 49660465, "link": "https://stackoverflow.com/questions/49660465/when-i-logout-the-app-goes-into-a-loop-a-203-http-status", "title": "when I logout the app goes into a loop a 203 http status", "body": "<p>I\u00b4m doing an exercise that involves user authentication. Everything works smooth, but when I log out the app goes into a loop with this message on the console:</p>\n\n<pre><code>[04/Apr/2018 22:44:14] \"GET /account/logged_out/ HTTP/1.1\" 302 0\n[04/Apr/2018 22:44:14] \"GET /account/logged_out/ HTTP/1.1\" 302 0\n[04/Apr/2018 22:44:14] \"GET /account/logged_out/ HTTP/1.1\" 302 0\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Hb3gD.png\" rel=\"nofollow noreferrer\">Project structure</a></p>\n\n<p><strong>At the end of the <em>settings.py</em> file</strong></p>\n\n<pre><code>from django.urls import reverse_lazy\n\nLOGIN_REDIRECT_URL = reverse_lazy('account:dashboard')\nLOGIN_URL = reverse_lazy('account:login')\nLOGOUT_REDIRECT_URL = reverse_lazy('account:logout')\n</code></pre>\n\n<p><strong>The <em>urls.py</em> file</strong></p>\n\n<pre><code>from django.contrib.auth import views as auth_views\nfrom django.urls import path\nfrom . import views\n\napp_name = 'account'\n\nurlpatterns = [\n    # path('login/', views.user_login, name='login'),\n    path('', views.dashboard, name='dashboard'),\n\n    # login / logout urls\n    path('login/', auth_views.LoginView.as_view(template_name='registration/login.html'), name='login'),\n    path('logout/', auth_views.LogoutView.as_view(template_name='registration/logged_out.html'), name='logout'),\n</code></pre>\n\n<p><strong>The <em>views.py</em> file</strong></p>\n\n<pre><code>from django.contrib.auth import authenticate, login\nfrom django.contrib.auth.decorators import login_required\nfrom django.http import HttpResponse\nfrom django.shortcuts import render\n\n\n@login_required\ndef dashboard(request):\n    return render(request, 'account/dashboard.html', {'section': 'dashboard'})\n</code></pre>\n\n<p><strong>The <em>base.html</em> template</strong></p>\n\n<pre><code>{% load staticfiles %}\n&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\"\n          content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n    &lt;title&gt;{% block title %}{% endblock %}&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"{% static \"css/base.css\" %}\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"header\"&gt;\n        &lt;span class=\"logo\"&gt;Bookmarks&lt;/span&gt;\n        {% if request.user.is_authenticated %}\n            &lt;ul class=\"menu\"&gt;\n                &lt;li&gt; {% if section == \"dashboard\" %}class=\"selected\"{% endif %}&gt;&lt;a href=\"{% url \"account:dashboard\" %}\"&gt;My dashboard&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt; {% if section == \"images\" %}class=\"selected\"{% endif %}&lt;a href=\"#\"&gt;Images&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt; {% if section == \"people\" %}class=\"selected\"{% endif %}&lt;a href=\"#\"&gt;People&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        {% endif %}\n\n        &lt;span class=\"user\"&gt;\n            {% if request.user.is_authenticated %}\n                Hello {{ request.user.first_name }}, &lt;a href=\"{% url \"account:logout %}\"&gt;Logout&lt;/a&gt;\n            {% else %}\n                &lt;a href=\"{% url \"account:dashboard\" %}\"&gt;&lt;/a&gt;\n            {% endif %}\n        &lt;/span&gt;\n    &lt;/div&gt;\n\n    &lt;div id=\"content\"&gt;\n        {% block content %}\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My guess is that the LOGOUT_REDIRECT_URL is redirecting continuously after the logout to the logout url and LOGOUT_REDIRECT_URL does his thing again and again.</p>\n\n<p>What is the most correct way to handle this situation?</p>\n\n<p>I appreciate your help. Thanks a lot!</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1522876150, "post_id": 49660432, "comment_id": 86330502, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1540049/replace-values-in-list-using-python\">Replace values in list using Python</a>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1522876202, "post_id": 49660432, "comment_id": 86330533, "body": "boolean indexing is part of numpy not normal python lists <code>import numpy;testlist=numpy.array([&#39;&#39;,18.0,&#39;&#39;,&#39;&#39;,0,15,8.0]);testlis&zwnj;&#8203;t[testlist==&#39;&#39;]=0</code>"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 9599145, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b9s9xIjRCbE/AAAAAAAAAAI/AAAAAAAAASw/8qDOk9IKOaU/photo.jpg?sz=128", "display_name": "Deborah Paul", "link": "https://stackoverflow.com/users/9599145/deborah-paul"}, "edited": false, "score": 0, "creation_date": 1522876383, "post_id": 49660500, "comment_id": 86330615, "body": "Ok. I can just use list comprehension. Thanks!"}], "tags": [], "owner": {"reputation": 900, "user_id": 6359394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HV0nz.jpg?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/6359394/eric"}, "is_accepted": false, "score": 2, "last_activity_date": 1522876394, "last_edit_date": 1522876394, "creation_date": 1522876260, "answer_id": 49660500, "question_id": 49660432, "link": "https://stackoverflow.com/questions/49660432/using-logical-to-index-list-and-convert-values/49660500#49660500", "title": "Using logical to index list and convert values", "body": "<p>In python you can use a list comprehension:</p>\n\n<pre><code>A = ['', 18.0, '', '', 0, 15, 8.0]\n</code></pre>\n\n<p>Here this subsequent A has the <code>''</code> values replaced with <code>0</code>'s.</p>\n\n<pre><code>A = [x if x != '' else 0 for x in A]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 9599145, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b9s9xIjRCbE/AAAAAAAAAAI/AAAAAAAAASw/8qDOk9IKOaU/photo.jpg?sz=128", "display_name": "Deborah Paul", "link": "https://stackoverflow.com/users/9599145/deborah-paul"}, "edited": false, "score": 0, "creation_date": 1523031091, "post_id": 49660665, "comment_id": 86406772, "body": "Thanks for the answer, brvh. I&#39;ll look into numpy in the future."}], "tags": [], "owner": {"reputation": 254, "user_id": 4615961, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/01c26f96a55c7db52f8ebb3ffe2b6cea?s=128&d=identicon&r=PG&f=1", "display_name": "brvh", "link": "https://stackoverflow.com/users/4615961/brvh"}, "is_accepted": false, "score": 0, "last_activity_date": 1522876918, "creation_date": 1522876918, "answer_id": 49660665, "question_id": 49660432, "link": "https://stackoverflow.com/questions/49660432/using-logical-to-index-list-and-convert-values/49660665#49660665", "title": "Using logical to index list and convert values", "body": "<p>You can do this in several ways:</p>\n\n<p>The first way is using a <a href=\"http://www.secnetix.de/olli/Python/list_comprehensions.hawk\" rel=\"nofollow noreferrer\">list comprehension</a> like the other answer does:</p>\n\n<pre><code>a = ['',18.0,'','',0,15,8.0]\nb = [x if x != '' else 0 for x in a]\n</code></pre>\n\n<p>This reads like: 'Make an array b with each element x of a for which if x is not '' then put x, else put 0'.</p>\n\n<p>There is also an awesome library called <a href=\"http://www.numpy.org/\" rel=\"nofollow noreferrer\">numpy</a> which utilizes a syntax that looks like the syntax from Matlab you are referring to:</p>\n\n<pre><code>import numpy as np\na = ['',18.0,'','',0,15,8.0]\n# Create a numpy array from the list\nb = np.array(a)\nb[b == ''] = 0\nprint(b)\n&gt;&gt;&gt; array(['0', '18.0', '0', '0', '0', '15', '8.0'],\n  dtype='&lt;U4')\n</code></pre>\n\n<p>The array is now an array of strings, which you can convert to a float or something else using <code>np.ndarray.astype(type)</code>.</p>\n\n<p>Considering you've referred Matlab's syntax, I suggest having a look at numpy. When writing scripts in Python, you will notice numpy and Matlab share a lot of syntax.</p>\n"}], "owner": {"reputation": 61, "user_id": 9599145, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b9s9xIjRCbE/AAAAAAAAAAI/AAAAAAAAASw/8qDOk9IKOaU/photo.jpg?sz=128", "display_name": "Deborah Paul", "link": "https://stackoverflow.com/users/9599145/deborah-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1529671314, "creation_date": 1522875975, "last_edit_date": 1529671314, "question_id": 49660432, "link": "https://stackoverflow.com/questions/49660432/using-logical-to-index-list-and-convert-values", "title": "Using logical to index list and convert values", "body": "<p>I have a list in which I am trying to replace empty strings with 0. Is there a way to do this other than iterating through each item in the list? </p>\n\n<p>Here's a smaller example of what my list is like:</p>\n\n<pre><code>testlist=['',18.0,'','',0,15,8.0]\n</code></pre>\n\n<p>In Matlab, I know I could do something like this:</p>\n\n<pre><code>testlist[testlist=='']=0\n</code></pre>\n\n<p>but this only seems to change the first value (even if its something other than an empty string).</p>\n"}, {"tags": ["python", "request"], "comments": [{"owner": {"reputation": 9, "user_id": 9592245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e7048a95ff02b6fda602b192312be6?s=128&d=identicon&r=PG&f=1", "display_name": "naveen prajapati", "link": "https://stackoverflow.com/users/9592245/naveen-prajapati"}, "edited": false, "score": 0, "creation_date": 1522875749, "post_id": 49660379, "comment_id": 86330305, "body": "i&#39;m using python3.5"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 1, "creation_date": 1522875840, "post_id": 49660379, "comment_id": 86330351, "body": "What is the error message that is being displayed?"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 1, "creation_date": 1522876015, "post_id": 49660379, "comment_id": 86330442, "body": "Also, note that <code>soup.find_all(&#39;a&#39;)</code> is gathering <i>every</i> link on the site, which will probably include absolute paths for routing, which will not work with <code>requests.get</code> as no sitename is provided."}, {"owner": {"reputation": 9, "user_id": 9592245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e7048a95ff02b6fda602b192312be6?s=128&d=identicon&r=PG&f=1", "display_name": "naveen prajapati", "link": "https://stackoverflow.com/users/9592245/naveen-prajapati"}, "reply_to_user": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "edited": false, "score": 0, "creation_date": 1522877313, "post_id": 49660379, "comment_id": 86331078, "body": "@Ajax1234 Thanx, i found the reason why i&#39;m getting an error."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1522877602, "post_id": 49660379, "comment_id": 86331214, "body": "The below answer from @&quot;touch my boom boom&quot; is correct"}, {"owner": {"reputation": 9, "user_id": 9592245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e7048a95ff02b6fda602b192312be6?s=128&d=identicon&r=PG&f=1", "display_name": "naveen prajapati", "link": "https://stackoverflow.com/users/9592245/naveen-prajapati"}, "reply_to_user": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1522878211, "post_id": 49660379, "comment_id": 86331482, "body": "@TylerCowan i solved this problem without appending http, https or www in beginning of base url."}], "answers": [{"comments": [{"owner": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "edited": false, "score": 2, "creation_date": 1522876241, "post_id": 49660485, "comment_id": 86330547, "body": "Helps someone on StackOverflow <i>(God&#39;s Plan starts playing)</i>"}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1522876367, "post_id": 49660485, "comment_id": 86330607, "body": "&lt;a class=&quot;btn btn-share&quot; href=&quot;?q=%22god%27s+Plan%22&amp;amp;w=songs&amp;amp;p=1&quot;&gt;More Song Results&lt;/a&gt; is in your a list and when I print href above the if statements is makes it to this before erroring"}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1522876390, "post_id": 49660485, "comment_id": 86330618, "body": "you have to account for this in your logic and append to a base url"}], "tags": [], "owner": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "is_accepted": false, "score": 0, "last_activity_date": 1522876189, "creation_date": 1522876189, "answer_id": 49660485, "question_id": 49660379, "link": "https://stackoverflow.com/questions/49660379/getting-error-in-python-requests-get-method/49660485#49660485", "title": "getting error in python requests.get() method", "body": "<p>Your <code>href</code> is probably not a fully qualified URL.</p>\n\n<p>You can check to see if your <code>href</code> begins with \"http\" or \"www\".</p>\n\n<p>If it doesn't, then it's probably either of the form <code>#foo</code> or <code>foo/bar.html</code>, in which case you can simply append it to the end of the current pages' URL</p>\n"}], "owner": {"reputation": 9, "user_id": 9592245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e7048a95ff02b6fda602b192312be6?s=128&d=identicon&r=PG&f=1", "display_name": "naveen prajapati", "link": "https://stackoverflow.com/users/9592245/naveen-prajapati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 443, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522876189, "creation_date": 1522875733, "question_id": 49660379, "link": "https://stackoverflow.com/questions/49660379/getting-error-in-python-requests-get-method", "title": "getting error in python requests.get() method", "body": "<pre><code>import string\nimport requests\nfrom bs4 import BeautifulSoup\n\nsong_name = input('enter song name : ')\nurl = 'https://search.azlyrics.com/search.php?q='  + (string.capwords(song_name)).replace(' ', '+')\nres = requests.get(url)\nsoup = BeautifulSoup(res.text, 'html.parser')\n\nfor a in soup.find_all('a'):\n    href = a.get('href')\n    if href.find('https') != -1:\n        if href.find('lyrics/') != -1:\n            print(href)\n            res = requests.get(href)\n            break\n</code></pre>\n\n<p>When i pass argument href into <code>requests.get(href)</code> it throws an error. while when i'm passing an constant string e.g., <code>res = requests.get('https://google.co.in')</code> it doesn't not throw any error.</p>\n\n<p>I checked type of both variable is same</p>\n\n<pre><code>print(type(href))\n&lt;class 'str'&gt;\n\nprint(type('https://google.co.in'))\n&lt;class 'str'&gt;\n</code></pre>\n\n<p>Both are of same type then why i'm getting an error.</p>\n\n<p><strong>input:</strong>\n<em>enter song name : god's plan</em></p>\n"}, {"tags": ["python", "simulation", "coin-flipping"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522877916, "post_id": 49660374, "comment_id": 86331361, "body": "Incidentally, if you have a <i>two-player</i> game where a player wins if their sequence comes up first, who has the advantage is more complex than just whose sequence takes longer on average to come up."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1522876836, "post_id": 49660553, "comment_id": 86330840, "body": "Why did you edit your link out? Now you&#39;re telling people to look at nothing."}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1522877024, "post_id": 49660553, "comment_id": 86330941, "body": "@user2357112 Sorry! I mis-edited whilst writing an explanation!"}, {"owner": {"reputation": 43, "user_id": 1558209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5ca7018e955604bd0a12ee2e5ea520?s=128&d=identicon&r=PG", "display_name": "Psmith", "link": "https://stackoverflow.com/users/1558209/psmith"}, "edited": false, "score": 0, "creation_date": 1522877623, "post_id": 49660553, "comment_id": 86331228, "body": "This answers my question. I had an inadequate understanding of the game. Thank you very much. I found the link quite useful, but perhaps your explanation does away with needing to read it. Is the protocol now to tag this as an answer?"}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 0, "creation_date": 1522877721, "post_id": 49660553, "comment_id": 86331278, "body": "Yes! Click on the grey tick next to the answer and it will turn green, marking future visitors that this worked for you (so may work for them as well!)"}, {"owner": {"reputation": 43, "user_id": 1558209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5ca7018e955604bd0a12ee2e5ea520?s=128&d=identicon&r=PG", "display_name": "Psmith", "link": "https://stackoverflow.com/users/1558209/psmith"}, "edited": false, "score": 0, "creation_date": 1522877927, "post_id": 49660553, "comment_id": 86331369, "body": "Thank you. Any comments on making the script more compliant with best practice would be very useful too!"}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 1, "last_activity_date": 1522876992, "last_edit_date": 1522876992, "creation_date": 1522876506, "answer_id": 49660553, "question_id": 49660374, "link": "https://stackoverflow.com/questions/49660374/coin-tossing-simulation-unexpected-probabilities/49660553#49660553", "title": "Coin tossing simulation unexpected probabilities", "body": "<p>This is no bug, your code works just fine!</p>\n\n<p>As you toss the coins, if you are aiming for a <code>0</code> then a <code>1</code> and you make the <code>0</code> but the <code>1</code> ends up being another <code>0</code>, then you are still already halfway there, you are just hoping for a <code>1</code> again.</p>\n\n<p>On the other hand, if you are aiming for a <code>1</code> and then a <code>1</code> and make the <code>1</code>, then if you don't make the second <code>1</code>, you are now on a <code>0</code> and back to waiting for a first <code>1</code>.</p>\n\n<p>So to reword that a different way, in the first case, if you fail, you only get reset halfway, but in the second case, if you fail then you are back to the start again - thus increasing the average number of throws to get them.</p>\n\n<p>Take a look at <a href=\"https://www.reddit.com/r/math/comments/4abm4k/expected_number_of_coin_flips_different_for/\" rel=\"nofollow noreferrer\">this redit post</a> for another explanation.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 1558209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5ca7018e955604bd0a12ee2e5ea520?s=128&d=identicon&r=PG", "display_name": "Psmith", "link": "https://stackoverflow.com/users/1558209/psmith"}, "edited": false, "score": 0, "creation_date": 1522877686, "post_id": 49660565, "comment_id": 86331257, "body": "Thank you, see above, you have made the game clearer to me. I would like to tag this as an answer but don&#39;t know how. Let me know if I am missing something, or if this comment closes the question. Thanks again!"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1522876529, "creation_date": 1522876529, "answer_id": 49660565, "question_id": 49660374, "link": "https://stackoverflow.com/questions/49660374/coin-tossing-simulation-unexpected-probabilities/49660565#49660565", "title": "Coin tossing simulation unexpected probabilities", "body": "<p>No bug. You would need to be generating <em>separate pairs</em> of flips for those values to be equal. If you generate a continuous sequence of flips and look at overlapping pairs, <code>11</code> takes longer to come up on average than <code>01</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 1558209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd5ca7018e955604bd0a12ee2e5ea520?s=128&d=identicon&r=PG", "display_name": "Psmith", "link": "https://stackoverflow.com/users/1558209/psmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 49660553, "answer_count": 2, "score": 1, "last_activity_date": 1522876992, "creation_date": 1522875694, "last_edit_date": 1522876809, "question_id": 49660374, "link": "https://stackoverflow.com/questions/49660374/coin-tossing-simulation-unexpected-probabilities", "title": "Coin tossing simulation unexpected probabilities", "body": "<p>This is a script I wrote to simulate a coin toss game that ends in a given fixed sequence of outcomes (tosses are either ones or zeroes). This fixed sequence characterizes the game. For example, <code>coin_series('01'</code>) simulates a series of tosses that culminate in a <code>0</code> followed by a <code>1</code>; valid outcomes are <code>x01</code> where <code>x</code> is a string of zeroes and ones not containing the pattern <code>01</code> anywhere.</p>\n\n<p>The script gives the number of throws required to terminate two games, <code>01</code> and <code>11</code>, and these should have the same result since the coin is not a biased one (equal chance of outcome zero or outcome one on a toss).</p>\n\n<p>Yet this is not the case, with my output being 6 and 4 respectively, of which only the first is correct. So I must have a bug in the script.</p>\n\n<p>My questions are: how can I make the script a little more concise, as I hope this will help find the bug; and second, is there a bug that is apparent to all but me?</p>\n\n<pre><code>import numpy as np\nclass coin_series(object):\n    def __init__(self,win_state):    #win_state is a string of ones and zeroes\n        self.win_state=win_state\n        self.d=self.draw()\n        self.series=[self.d.next() for i in range(len(self.win_state))]\n        self.n=len(self.win_state)\n        while not self.check():\n            self.play()\n    def draw(self):\n        while True:\n            t=np.random.rand()\n            if t&gt;=0.5:\n                yield 1\n            else:\n                yield 0\n    def check(self):\n        return(self.win_state==''.join(map(str,self.series)))\n    def play(self):\n        self.series=self.series[1:]+[self.d.next()]\n        self.n+=1\nif __name__=='__main__':\n    print np.mean([coin_series('11').n for i in range(100000)])\n    print np.mean([coin_series('01').n for i in range(100000)])\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "edited": false, "score": 0, "creation_date": 1522875745, "post_id": 49660350, "comment_id": 86330303, "body": "Which sets need to be equivalent for the program to halt?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 7, "creation_date": 1522875754, "post_id": 49660350, "comment_id": 86330309, "body": "I think we need a canonical question about De Morgan&#39;s laws..."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 2, "creation_date": 1522875845, "post_id": 49660350, "comment_id": 86330354, "body": "Your loop runs &quot;while <code>a</code> is different from <code>c</code> and <code>b</code> is different from <code>d</code>&quot;. So yes, it stops when two sets are equal. That&#39;s what you told it to do."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1522876078, "post_id": 49660350, "comment_id": 86330474, "body": "Perhaps <a href=\"https://stackoverflow.com/questions/2168603/demorgan-rules-explained\"><i>deMorgan rules explained</i></a> @Aran-Fey?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1522876618, "post_id": 49660350, "comment_id": 86330717, "body": "@ChristianDean That&#39;s probably too confusing to be of any use :P"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1522876660, "post_id": 49660350, "comment_id": 86330744, "body": "Yeah, I figured it might be a bit to technical @Aran-Fey. To be honest, I become a bit confused reading the top answer as well :-)"}], "answers": [{"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 2, "last_activity_date": 1522876023, "creation_date": 1522876023, "answer_id": 49660445, "question_id": 49660350, "link": "https://stackoverflow.com/questions/49660350/and-and-or-are-switched/49660445#49660445", "title": "AND and OR are switched?", "body": "<p>The condition holds when <strong>both</strong> <code>a</code> is not <code>c</code> and <code>b</code> is not <code>d</code>. As soon  as one pair is equal then the <em><code>and</code></em> fails and the loop is broken.</p>\n\n<p>As you have identified you could use an <code>or</code> which will work, but it may be more clear to use:</p>\n\n<pre><code>while not (a == c and b == d):\n    ...\n</code></pre>\n\n<p>which works exactly how you would say it!</p>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 8737211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6699162bf4e28760390024460b5fdaec?s=128&d=identicon&r=PG&f=1", "display_name": "Campbell McDiarmid", "link": "https://stackoverflow.com/users/8737211/campbell-mcdiarmid"}, "is_accepted": false, "score": 0, "last_activity_date": 1522876338, "last_edit_date": 1522876338, "creation_date": 1522876037, "answer_id": 49660449, "question_id": 49660350, "link": "https://stackoverflow.com/questions/49660350/and-and-or-are-switched/49660449#49660449", "title": "AND and OR are switched?", "body": "<p>While loops repeat when the statement is True, in this case when either <code>a != c</code> or<code>b != d</code>evaluates to <code>False</code>, so will the while loop argument. \nYou want to alter the logic, change:</p>\n\n<pre><code>a != c and b !=d\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>not (a == c and b == d)\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>a != c or b != d\n</code></pre>\n\n<p>This will achieve what you are after.</p>\n"}, {"tags": [], "owner": {"reputation": 1593, "user_id": 9598207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wOUJ9.jpg?s=128&g=1", "display_name": "Death Waltz", "link": "https://stackoverflow.com/users/9598207/death-waltz"}, "is_accepted": false, "score": 0, "last_activity_date": 1579289625, "last_edit_date": 1579289625, "creation_date": 1522876416, "answer_id": 49660531, "question_id": 49660350, "link": "https://stackoverflow.com/questions/49660350/and-and-or-are-switched/49660531#49660531", "title": "AND and OR are switched?", "body": "<p>You might try:</p>\n\n<pre><code>while not (a == c and b == d):\n    #code\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 1, "last_activity_date": 1522876757, "creation_date": 1522876757, "answer_id": 49660630, "question_id": 49660350, "link": "https://stackoverflow.com/questions/49660350/and-and-or-are-switched/49660630#49660630", "title": "AND and OR are switched?", "body": "<p>Think about it. You have the condition:</p>\n\n<pre><code>a != c and b != d\n</code></pre>\n\n<p>What exactly is this condition telling Python? Well, we can see it uses the <code>and</code> operator. The <code>and</code> operator will <em>only</em> return <code>True</code>, <em>if</em> both of its conditions are true. From this, we can see that the above condition will only return true if both the <code>a</code> set is <em><strong>not equal</strong></em> to the <code>c</code> set <em><strong>and</strong></em> the <code>b</code> set is <em><strong>not equal</strong></em> to the <code>d</code> set.</p>\n\n<p>So what would happen when one pair of sets becomes equal? <strong>The above condition will fail</strong>. Since one of the comparisons between two sets would return <code>False</code>, rather than <code>True</code>,  <code>and</code> will also return false, since <em>both</em> of its conditions <em>are not true</em>.</p>\n\n<p>What you actually want is this:</p>\n\n<pre><code>not (a == c and b == d)\n</code></pre>\n\n<p>I'll leave it as an exercise up to you to figure why the above condition works, whereas <code>a != c and b != d</code> does not.</p>\n"}], "owner": {"reputation": 3, "user_id": 9599075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08c56748dcb887c982649f4554fd34f?s=128&d=identicon&r=PG&f=1", "display_name": "ozboss", "link": "https://stackoverflow.com/users/9599075/ozboss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 49660445, "answer_count": 4, "score": -2, "last_activity_date": 1579289625, "creation_date": 1522875627, "question_id": 49660350, "link": "https://stackoverflow.com/questions/49660350/and-and-or-are-switched", "title": "AND and OR are switched?", "body": "<p>I want to create two random sets and compare them to two other sets.\nThe programm should stop when both sets are the same as the other two sets.\nThis is a boiled down version of the code i'm having trouble with:</p>\n\n<pre><code>import random\nrandom.seed()\n\na = set()\nb = set()\nc = set()\nd = set()\n\nfor i in range(3):\n    a.add(random.randint(1,10))\n    b.add(random.randint(1,10))\n\nwhile a!=c and b!=d:\n    c.clear()\n    d.clear()\n    for i in range(3):\n        c.add(random.randint(1,10))\n        d.add(random.randint(1,10))\n\nprint(a,b)\nprint(c,d)\n</code></pre>\n\n<p>The exact line with my problem:\n<code>while a!=c and b!=d:</code></p>\n\n<p>With \"and\" the loop already stops when just one pair of sets are the same.\nWhen i switch the \"and\" for \"or\" it does exacly what i want, i just don't understand why?\nCan somebody please explane.</p>\n"}, {"tags": ["python", "json", "list"], "comments": [{"owner": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "edited": false, "score": 1, "creation_date": 1522875343, "post_id": 49660272, "comment_id": 86330100, "body": "Please format  your code properly"}], "answers": [{"tags": [], "owner": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "is_accepted": false, "score": 0, "last_activity_date": 1522875531, "creation_date": 1522875531, "answer_id": 49660323, "question_id": 49660272, "link": "https://stackoverflow.com/questions/49660272/read-a-file-via-argparse-and-print-the-file-contents-line-by-line/49660323#49660323", "title": "Read a file via argparse and print the file contents line by line", "body": "<p>Why are you opening in binary mode?  Also, your try/catch is in the wrong place</p>\n\n<pre><code>try:\n    with open(filename) as f:\n        for line in f:\n            print(line)\nexcept:\n    print('The file ' + filename + ' could not be opened.')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7600970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f37c956fa445b52f94fb8207dd31a5b?s=128&d=identicon&r=PG&f=1", "display_name": "pbearp", "link": "https://stackoverflow.com/users/7600970/pbearp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 856, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522875531, "creation_date": 1522875311, "last_edit_date": 1522875383, "question_id": 49660272, "link": "https://stackoverflow.com/questions/49660272/read-a-file-via-argparse-and-print-the-file-contents-line-by-line", "title": "Read a file via argparse and print the file contents line by line", "body": "<p>I want to </p>\n\n<p>Code: </p>\n\n<pre><code>import argparse\n\nimport csv\n\nimport os\n\nparser = argparse.ArgumentParser(description = \"Parse the json file\")\n\nparser.add_argument(\"-f\", help=\"file to upload\")\n\nargs = parser.parse_args()\n\nfileName = args.f\n\nwith open(filename, 'rb') as f:\n\n    try:\n        for lines in f:\n        print(lines)\n\n\n    except:\n        print(\"The file \" + fileName + \" could not be opened.\")\n</code></pre>\n\n<p>I cannot get the file lines to print out and the exception to run if the file is incorrect. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "edited": false, "score": 1, "creation_date": 1522875668, "post_id": 49660249, "comment_id": 86330255, "body": "Are you implementing quicksort?"}, {"owner": {"reputation": 11, "user_id": 9599016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fb93dc2011f77edf2d2759f41666a8?s=128&d=identicon&r=PG&f=1", "display_name": "jjacobson", "link": "https://stackoverflow.com/users/9599016/jjacobson"}, "reply_to_user": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "edited": false, "score": 0, "creation_date": 1522876304, "post_id": 49660249, "comment_id": 86330573, "body": "No, I&#39;ve never used it"}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1522875506, "creation_date": 1522875506, "answer_id": 49660319, "question_id": 49660249, "link": "https://stackoverflow.com/questions/49660249/moving-numbers-in-a-list-based-on-condition/49660319#49660319", "title": "Moving numbers in a list based on condition", "body": "<p>You can use a list comprehension to create the new list and use <code>enumerate</code> to ensure that you are only counting elements that do not have an index at the pivot:</p>\n\n<pre><code>a = [1,4,3,7,4,7,6,3,7,8,9,9,2,5]\npivot = 4\nnew_l = [c for i, c in enumerate(a) if c &gt; a[pivot] and i != pivot] + [a[pivot]]+[c for i, c in enumerate(a) if c &lt;= a[pivot] and i != pivot]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[7, 7, 6, 7, 8, 9, 9, 5, 4, 1, 4, 3, 3, 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1522875657, "creation_date": 1522875657, "answer_id": 49660360, "question_id": 49660249, "link": "https://stackoverflow.com/questions/49660249/moving-numbers-in-a-list-based-on-condition/49660360#49660360", "title": "Moving numbers in a list based on condition", "body": "<p>You can use the <code>.pop(index)</code> to get the value at index and remove it in one action:</p>\n\n<pre><code>numbers = [2,3,4,5,7]\nprint(numbers)\nn = numbers.pop(2)\nprint (n)\nprint (numbers)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[2, 3, 4, 5, 7]\n4\n[2, 3, 5, 7]\n</code></pre>\n\n<p>The indexing is zero-based.</p>\n\n<p>Read:\n<a href=\"https://docs.python.org/3.6/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow noreferrer\">list.pop([i])</a></p>\n\n<blockquote>\n  <p>Remove the item at the given position in the list, and return it. If no index is specified, a.pop() removes and returns the last item in the list. (The square brackets around the i in the method signature denote that the parameter is optional, not that you should type square brackets at that position. You will see this notation frequently in the Python Library Reference.)</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 9599016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62fb93dc2011f77edf2d2759f41666a8?s=128&d=identicon&r=PG&f=1", "display_name": "jjacobson", "link": "https://stackoverflow.com/users/9599016/jjacobson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1522876585, "creation_date": 1522875215, "last_edit_date": 1522876585, "question_id": 49660249, "link": "https://stackoverflow.com/questions/49660249/moving-numbers-in-a-list-based-on-condition", "title": "Moving numbers in a list based on condition", "body": "<p>Program is suppose to move numbers around based on a the \"pivot\" value. All numbers in front of the pivot value on the list need to be less than or equal to the pivot value and all numbers behind the pivot value are greater than the pivot value. (Python 3.x)</p>\n\n<pre><code>a = [1,4,3,7,4,7,6,3,7,8,9,9,2,5]\nprint(\"Original List\")\nprint(a)\npivot = 4 #or select any number from the list\nb = list(a)\n\nfor i in range(len(a)):\n    pivotIndex = b.index(pivot) #gives index of pivot through every iteration\n\n    if a[i] &gt; pivot:\n\n        b.insert(pivotIndex+1,a[i])\n\n    elif a[i] &lt;= pivot:\n\n        b.insert(0,a[i])\n\nprint(\"New List\")\nprint(b)\n</code></pre>\n\n<p>The problems are that I can't figure out how to remove the original number once it has been moved and in a list like this where there are duplicates of the pivot value, when a number comes up that is equal to the pivot it moves it to the front and treats it as the new pivot. Am I going about this the wrong way? </p>\n"}, {"tags": ["python", "string", "pandas", "split"], "answers": [{"comments": [{"owner": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522875991, "post_id": 49660359, "comment_id": 86330425, "body": "This gives <code>AttributeError: Can only use .str accessor with string values, which use np.object_ dtype in pandas</code>"}, {"owner": {"reputation": 1459, "user_id": 4343534, "user_type": "registered", "profile_image": "https://graph.facebook.com/575769521/picture?type=large", "display_name": "Joe Samanek", "link": "https://stackoverflow.com/users/4343534/joe-samanek"}, "reply_to_user": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522876230, "post_id": 49660359, "comment_id": 86330542, "body": "Hm, works for me on my sample df. What types are you columns?"}, {"owner": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522876374, "post_id": 49660359, "comment_id": 86330610, "body": "both columns are <code>dtype</code> object (apparently)"}, {"owner": {"reputation": 1459, "user_id": 4343534, "user_type": "registered", "profile_image": "https://graph.facebook.com/575769521/picture?type=large", "display_name": "Joe Samanek", "link": "https://stackoverflow.com/users/4343534/joe-samanek"}, "reply_to_user": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522876464, "post_id": 49660359, "comment_id": 86330653, "body": "And are you sure all your rows have correct values? This looks like you have some empty rows in there or something."}, {"owner": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522876935, "post_id": 49660359, "comment_id": 86330890, "body": "Running <code>np.where(pd.isnull(df))</code> returns <code>(array([], dtype=int32), array([], dtype=int32))</code>; so i think it&#39;s ok"}, {"owner": {"reputation": 1459, "user_id": 4343534, "user_type": "registered", "profile_image": "https://graph.facebook.com/575769521/picture?type=large", "display_name": "Joe Samanek", "link": "https://stackoverflow.com/users/4343534/joe-samanek"}, "reply_to_user": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522878242, "post_id": 49660359, "comment_id": 86331502, "body": "Oh, just checked your update, and your Address column is not a string, it is an array... Ok I will update my answer."}, {"owner": {"reputation": 1459, "user_id": 4343534, "user_type": "registered", "profile_image": "https://graph.facebook.com/575769521/picture?type=large", "display_name": "Joe Samanek", "link": "https://stackoverflow.com/users/4343534/joe-samanek"}, "reply_to_user": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522879833, "post_id": 49660359, "comment_id": 86332171, "body": "Added a solution for your specific data format. Tested it on my sample df, works fine. Btw, next time it is better if you show sample of your data right away, it was really impossible for us to guess that your Address is not a string, but a list with 1 string element in it."}], "tags": [], "owner": {"reputation": 1459, "user_id": 4343534, "user_type": "registered", "profile_image": "https://graph.facebook.com/575769521/picture?type=large", "display_name": "Joe Samanek", "link": "https://stackoverflow.com/users/4343534/joe-samanek"}, "is_accepted": false, "score": 1, "last_activity_date": 1522880282, "last_edit_date": 1522880282, "creation_date": 1522875651, "answer_id": 49660359, "question_id": 49660209, "link": "https://stackoverflow.com/questions/49660209/extract-last-term-after-comma-into-new-column/49660359#49660359", "title": "Extract last term after comma into new column", "body": "<p>Just <strong>rsplit</strong> the existing column into 2 columns - the existing one and a new one. Or two new ones if you want to keep the existing column intact.</p>\n\n<pre><code>df['Address'], df['PostCode'] = df['Address'].str.rsplit(', ', 1).str\n</code></pre>\n\n<p>Edit: Since OP's Address column is a list with 1 string in it, here is a solution for that specifically:</p>\n\n<pre><code>df['Address'], df['PostCode'] = df['Address'].map(lambda x: x[0]).str.rsplit(', ', 1).str\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72, "user_id": 9554132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b87971063d60cb7f59b9df8665cd95?s=128&d=identicon&r=PG&f=1", "display_name": "Cmaster", "link": "https://stackoverflow.com/users/9554132/cmaster"}, "is_accepted": false, "score": 0, "last_activity_date": 1522875747, "creation_date": 1522875747, "answer_id": 49660383, "question_id": 49660209, "link": "https://stackoverflow.com/questions/49660209/extract-last-term-after-comma-into-new-column/49660383#49660383", "title": "Extract last term after comma into new column", "body": "<p>rsplit returns a list, try rsplit(\u2018,\u2019)[0] to get last element in source line</p>\n"}, {"comments": [{"owner": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522877300, "post_id": 49660486, "comment_id": 86331073, "body": "Hi - this unfortunately gives me the same error as Joe Samanek:  <code>AttributeError: Can only use .str accessor with string values, which use np.object_ dtype in pandas</code> -- is there something i&#39;m missing from my data types?"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "reply_to_user": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "edited": false, "score": 0, "creation_date": 1522877344, "post_id": 49660486, "comment_id": 86331092, "body": "Can you post df_address[&#39;CompanyAddress&#39;].head()?"}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 5, "last_activity_date": 1522878691, "last_edit_date": 1522878691, "creation_date": 1522876196, "answer_id": 49660486, "question_id": 49660209, "link": "https://stackoverflow.com/questions/49660209/extract-last-term-after-comma-into-new-column/49660486#49660486", "title": "Extract last term after comma into new column", "body": "<p>Given the DataFrame,</p>\n\n<pre><code>df = pd.DataFrame({'Name': ['ABC'], 'Address': ['Line1, Line2, LineN, PostCode']})\n\n    Address                         Name\n0   Line1, Line2, LineN, PostCode   ABC\n</code></pre>\n\n<p>If you need only post code, you can extract that using rsplit and re-assign it to the column Address. It will save you the step of concat.</p>\n\n<pre><code>df['Address'] = df['Address'].str.rsplit(',').str[-1] \n</code></pre>\n\n<p>You get</p>\n\n<pre><code>    Address     Name\n0   PostCode    ABC\n</code></pre>\n\n<p>Edit: Give that you have dataframe with address values in list</p>\n\n<pre><code>df = pd.DataFrame({'Name': ['FAUCET INN LIMITED'], 'Address': [['Union, 88-90 George Street, London, W1U 8PA']]})\n\n    Address                                         Name\n0   [Union, 88-90 George Street, London, W1U 8PA]   FAUCET INN LIMITED\n</code></pre>\n\n<p>You can get last element using </p>\n\n<pre><code>df['Address'] = df['Address'].apply(lambda x: x[0].split(',')[-1])\n</code></pre>\n\n<p>You get</p>\n\n<pre><code>    Address     Name\n0   W1U 8PA     FAUCET INN LIMITED\n</code></pre>\n"}], "owner": {"reputation": 559, "user_id": 2658194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e6b81c32b1bfc798b9fe88b876117c8?s=128&d=identicon&r=PG&f=1", "display_name": "BAC83", "link": "https://stackoverflow.com/users/2658194/bac83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3860, "favorite_count": 1, "accepted_answer_id": 49660486, "answer_count": 3, "score": 2, "last_activity_date": 1522880282, "creation_date": 1522875072, "last_edit_date": 1522877801, "question_id": 49660209, "link": "https://stackoverflow.com/questions/49660209/extract-last-term-after-comma-into-new-column", "title": "Extract last term after comma into new column", "body": "<p>I have a pandas dataframe which is essentially 2 columns and 9000 rows</p>\n\n<pre><code>CompanyName  |  CompanyAddress\n</code></pre>\n\n<p>and the address is in the form</p>\n\n<pre><code>Line1, Line2, ..LineN, PostCode\n</code></pre>\n\n<p>i.e. basically different numbers of comma-separated items in a string (or dtype 'object'), and I want to just pull out the post code i.e. the item after the last comma in the field</p>\n\n<p>I've tried the <a href=\"https://stackoverflow.com/questions/35118265/dot-notation-string-manipulation\">Dot notation string manipulation</a> suggestions (possibly badly):</p>\n\n<pre><code>df_address['CompanyAddress'] = df_address['CompanyAddress'].str.rsplit(', ') \n</code></pre>\n\n<p>which just put '[ ]' around the fields - I had no success trying to isolate the last component of any split-up/partitioned string, with <code>maxsplit</code> kicking up errors.</p>\n\n<p>I had a small degree of success following EdChums comment to <a href=\"https://stackoverflow.com/questions/37600711/pandas-split-column-into-multiple-columns-by-comma\">Pandas split Column into multiple columns by comma</a></p>\n\n<pre><code>pd.concat([df_address[['CompanyName']], df_address['CompanyAddress'].str.rsplit(', ', expand=True)], axis=1)\n</code></pre>\n\n<p>However, whilst isolating the Postcode, this just creates multiple columns and the post code is in columns 3-6... equally no good.</p>\n\n<p>It feels incredibly close, please advise.</p>\n\n<pre><code>    EmployerName    Address\n0   FAUCET INN LIMITED  [Union, 88-90 George Street, London, W1U 8PA]\n1   CITIBANK N.A    [Citigroup Centre,, Canary Wharf, Canada Squar...\n2   AGENCY 2000 LIMITED     [Sovereign House, 15 Towcester Road, Old Strat...\n3   Transform Trust     [Unit 11 Castlebridge Office Village, Kirtley ...\n4   R &amp; R.C.BOND (WHOLESALE) LIMITED    [One General Street, Pocklington Industrial Es...\n5   MARKS &amp; SPENCER FINANCIAL SERVICES PLC  [Marks &amp; Spencer Financial, Services Kings Mea...\n</code></pre>\n"}, {"tags": ["python", "nlp", "importerror", "random-forest"], "comments": [{"owner": {"reputation": 8673, "user_id": 358013, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d4bcff3f4c96a8fe584b6d765778e9f8?s=128&d=identicon&r=PG", "display_name": "blueskin", "link": "https://stackoverflow.com/users/358013/blueskin"}, "edited": false, "score": 1, "creation_date": 1522875547, "post_id": 49660190, "comment_id": 86330193, "body": "I don&#39;t see that you are saving the model, and where are you loading the data and trying to load the model?"}, {"owner": {"reputation": 254, "user_id": 4615961, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/01c26f96a55c7db52f8ebb3ffe2b6cea?s=128&d=identicon&r=PG&f=1", "display_name": "brvh", "link": "https://stackoverflow.com/users/4615961/brvh"}, "edited": false, "score": 0, "creation_date": 1522877622, "post_id": 49660190, "comment_id": 86331226, "body": "If you&#39;ve trained your model in a different file you will need to persist it. see <a href=\"http://scikit-learn.org/stable/modules/model_persistence.html\" rel=\"nofollow noreferrer\">scikit-learn.org/stable/modules/model_persistence.html</a>. Or is this not what you&#39;re asking?"}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1523013188, "post_id": 49660190, "comment_id": 86394696, "body": "First try with <code>n_jobs=-1</code> to see if its working"}], "owner": {"reputation": 11, "user_id": 9598990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oleg Borisov", "link": "https://stackoverflow.com/users/9598990/oleg-borisov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 864, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522874996, "creation_date": 1522874996, "question_id": 49660190, "link": "https://stackoverflow.com/questions/49660190/python-2-7-13-randomforestclassifier-could-not-be-imported-from-the-other-file", "title": "Python 2.7.13: RandomForestClassifier could not be imported from the other file", "body": "<p>in my project I am trying to separate different implemented classifiers in the separate files (in order to make code less messy).<br>\nUnfortunately, when I am importing file containing the RandomForestClassifier the program neither stops its execution nor shows an error, the code is provided here:</p>\n\n<pre><code>from sklearn import cross_validation \nfrom sklearn.grid_search import GridSearchCV\nfrom sklearn.ensemble import RandomForestClassifier\n\n\ndef train_rfc(X,y):\n    n_estimators = [100]\n    min_samples_split = [2]\n    min_samples_leaf = [1]\n    bootstrap = [True]\n    parameters = {'n_estimators': n_estimators, 'min_samples_leaf': min_samples_leaf,\n              'min_samples_split': min_samples_split}\n    clf = GridSearchCV(RandomForestClassifier(verbose=1,n_jobs=-1), cv=4, param_grid=parameters)\n    print \"==\"\n    clf.fit(X, y)\n    print \"++\"\n\n    return clf\n\n\nrfc_clf = train_rfc(corpus,data[\"target\"])\nprint (\"Accuracy of RF on CV sets :{}\".format(rfc_clf.best_score_))\n</code></pre>\n\n<p>As I was able to figure out the problem is most likely to be somewhere in the RandomForest, and is in clf.fit(X,y) function to be exact, since the program does not do anything as soon as it reaches this point.<br>\nI had no problem running the other, similarly implemented SVM classifier that also used GridSearchCV, and was also inside of a function.  </p>\n\n<p>I would really appreciate any help on that. </p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 677, "user_id": 6539761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd166af8a35bd0912f2597f05bc9995?s=128&d=identicon&r=PG&f=1", "display_name": "djakubosky", "link": "https://stackoverflow.com/users/6539761/djakubosky"}, "is_accepted": false, "score": 0, "last_activity_date": 1522888182, "creation_date": 1522888182, "answer_id": 49662391, "question_id": 49660174, "link": "https://stackoverflow.com/questions/49660174/rotate-existing-matplotlib-markers/49662391#49662391", "title": "Rotate existing matplotlib markers?", "body": "<p>It is possible to do this if you make a markerstyle class for a diamond and then modify its transform property yourself with a rotation, for whatever reason matplotlib didn't expose these class attributes for certain markers.  I've included an example below.</p>\n\n<pre><code>import matplotlib as mpl\nimport matplotlib.pyplot as plt\n\n# make a markerstyle class and modify the transform property by 90 degrees\nt = mpl.markers.MarkerStyle(marker='d')\nt._transform = t.get_transform().rotate_deg(90)\nplt.scatter((0,1), (0,1), marker=t, s=100)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3hE98.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3hE98.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 135, "user_id": 2966190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038c64a2705b2d44f23f91e987482ebd?s=128&d=identicon&r=PG", "display_name": "evanb", "link": "https://stackoverflow.com/users/2966190/evanb"}, "edited": false, "score": 0, "creation_date": 1601309456, "post_id": 49662571, "comment_id": 113360908, "body": "This is exactly what I am looking for... except that I want to use errorbar instead of scatter.  Remarkably, it fails!  The final error is <code>TypeError: float() argument must be a string or a number, not &#39;MarkerStyle&#39;</code>.  Anybody know a fix?"}, {"owner": {"reputation": 135, "user_id": 2966190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038c64a2705b2d44f23f91e987482ebd?s=128&d=identicon&r=PG", "display_name": "evanb", "link": "https://stackoverflow.com/users/2966190/evanb"}, "edited": false, "score": 0, "creation_date": 1601314757, "post_id": 49662571, "comment_id": 113363111, "body": "(I created a separate question, <a href=\"https://stackoverflow.com/questions/64106682/rotate-matplotlib-markers-with-errorbar-plot\" title=\"rotate matplotlib markers with errorbar plot\">stackoverflow.com/questions/64106682/&hellip;</a> and opened <a href=\"https://github.com/matplotlib/matplotlib/issues/18600\" rel=\"nofollow noreferrer\">github.com/matplotlib/matplotlib/issues/18600</a> to try and find a fix.)"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 4, "last_activity_date": 1522890487, "last_edit_date": 1522890487, "creation_date": 1522889694, "answer_id": 49662571, "question_id": 49660174, "link": "https://stackoverflow.com/questions/49660174/rotate-existing-matplotlib-markers/49662571#49662571", "title": "Rotate existing matplotlib markers?", "body": "<p>The marker <code>\"d\"</code> is a skewed version of a diamond, <code>\"D\"</code>. You may create such diamond marker and skew it in the other direction.</p>\n\n<p>For arbitrary angles, you may rotate the marker instead.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom matplotlib.markers import MarkerStyle\n\nfig, ax = plt.subplots()\n\nplt.scatter([1,2,3],[1,2,3], s=225, marker=\"d\")\n\nm = MarkerStyle(\"D\")\nm._transform.scale(1.0, 0.6)\n\nplt.scatter([1,2,3],[2,3,4], s=225, marker=m, color=\"crimson\")\n\nm = MarkerStyle(\"d\")\nm._transform.rotate_deg(60)\n\nplt.scatter([1,2,3],[3,4,5], s=225, marker=m, color=\"limegreen\")\n\nplt.margins(0.5)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/TwJaM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TwJaM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1519, "user_id": 7227627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vKpfo.jpg?s=128&g=1", "display_name": "pyano", "link": "https://stackoverflow.com/users/7227627/pyano"}, "is_accepted": false, "score": -1, "last_activity_date": 1547804879, "last_edit_date": 1547804879, "creation_date": 1547804210, "answer_id": 54251127, "question_id": 49660174, "link": "https://stackoverflow.com/questions/49660174/rotate-existing-matplotlib-markers/54251127#54251127", "title": "Rotate existing matplotlib markers?", "body": "<p>The rotation angel is given in 360-degree units:</p>\n\n<pre><code>x = [0,10,20,30,40,50,60,70,80,90]\nfor i in x:\n\n    plt.plot(i, i, marker=(2, 0, -i), c='k',markersize=30, linestyle='None')\nplt.margins(0.15); plt.grid();plt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gl5tn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gl5tn.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 119, "user_id": 7400899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f42bd96ca5a9f675db70296278370d4?s=128&d=identicon&r=PG&f=1", "display_name": "LED", "link": "https://stackoverflow.com/users/7400899/led"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1776, "favorite_count": 1, "accepted_answer_id": 49662571, "answer_count": 3, "score": 3, "last_activity_date": 1547804879, "creation_date": 1522874896, "question_id": 49660174, "link": "https://stackoverflow.com/questions/49660174/rotate-existing-matplotlib-markers", "title": "Rotate existing matplotlib markers?", "body": "<p>I'm aware of this answer, <a href=\"https://stackoverflow.com/questions/23345565/is-it-possible-to-control-matplotlib-marker-orientation?noredirect=1&amp;lq=1\">Is it possible to control matplotlib marker orientation?</a>, and the marker documentation, but is it possible to take an existing matplotlib marker symbol (nonregular polygon) and rotate it?</p>\n\n<p>Specifically, I would like to rotate the thin diamond symbol (\"d\") 90 degrees, such that its long axis is horizontal.</p>\n"}, {"tags": ["python", "numpy", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 2, "creation_date": 1522875389, "post_id": 49660153, "comment_id": 86330116, "body": "do you want them <code>[r,g,b,r,g,b,r,g,b,r,g,b ..... r,g,b]</code> or <code>[ r,r,r,r,r,...r,g,g,g,g,....,g,b,b,b,b,....,b]</code> or <code>[[r,..],[g...],[b,...]]</code> - what did you try and what is your problem wiht your code. Where <i>is</i> your code?"}, {"owner": {"reputation": 13, "user_id": 7088913, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205556311066520/picture?type=large", "display_name": "Jai Vora", "link": "https://stackoverflow.com/users/7088913/jai-vora"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1522875852, "post_id": 49660153, "comment_id": 86330363, "body": "I can&#39;t figure out a way to do it. I want them [r,g,b][r,g,b]...."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7088913, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205556311066520/picture?type=large", "display_name": "Jai Vora", "link": "https://stackoverflow.com/users/7088913/jai-vora"}, "edited": false, "score": 0, "creation_date": 1522877393, "post_id": 49660655, "comment_id": 86331116, "body": "Thank you so much! This is what I exactly wanted."}, {"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "reply_to_user": {"reputation": 13, "user_id": 7088913, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205556311066520/picture?type=large", "display_name": "Jai Vora", "link": "https://stackoverflow.com/users/7088913/jai-vora"}, "edited": false, "score": 0, "creation_date": 1522877527, "post_id": 49660655, "comment_id": 86331173, "body": "@JaiVora just be aware its BGR nor RGB - cv2 is weird that way."}], "tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 2, "last_activity_date": 1522877172, "last_edit_date": 1522877172, "creation_date": 1522876844, "answer_id": 49660655, "question_id": 49660153, "link": "https://stackoverflow.com/questions/49660153/how-to-obtain-a-matrix-of-size-n3where-n-is-the-total-number-of-pixels-of-an-i/49660655#49660655", "title": "How to obtain a matrix of size n*3(where n is the total number of pixels of an image) having R,G and B components of the image", "body": "<p>You can reshape the array:</p>\n\n<pre><code>import numpy as np\nimport cv2\n\n# Load an color image in color (its the default as well)\nimg = cv2.imread(r'somepath\\2015-08-05 10.58.36.jpg',cv2.IMREAD_COLOR )\n\nprint (img.shape)\n\nc = img.reshape((img.shape[0]*img.shape[1],3))\n\nprint(c.shape)\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>(2048, 1536, 3)  # my original image\n(3145728, 3)     # reshaped\n\n\nfor i in range(9):\n    print(img[0][i])\n    print(c[i])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[191 125  84]  # from img\n[191 125  84]  # from c \n[191 125  84]  # etc.\n[191 125  84]\n[185 119  78]\n[185 119  78]\n[184 118  77]\n[184 118  77]\n[188 122  81]\n[188 122  81]\n[189 123  82]\n[189 123  82]\n[188 122  81]\n[188 122  81]\n[190 124  83]\n[190 124  83]\n[190 126  85]\n[190 126  85]\n</code></pre>\n\n<p>BGR</p>\n\n<p>For each color, #0 is Blue, #1 is Green, #2 is Red. </p>\n"}, {"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 1, "last_activity_date": 1522876858, "creation_date": 1522876858, "answer_id": 49660658, "question_id": 49660153, "link": "https://stackoverflow.com/questions/49660153/how-to-obtain-a-matrix-of-size-n3where-n-is-the-total-number-of-pixels-of-an-i/49660658#49660658", "title": "How to obtain a matrix of size n*3(where n is the total number of pixels of an image) having R,G and B components of the image", "body": "<p>I believe this is what you are after (note that <code>cv2.imread</code> reads the image as BGR, so <code>np.flip(j,1)</code> converts the pixel order to RGB):</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg = cv2.imread(r'Path to Image')\n\npixels = [np.flip(j, 1) for j in [i for i in img]]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7088913, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205556311066520/picture?type=large", "display_name": "Jai Vora", "link": "https://stackoverflow.com/users/7088913/jai-vora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 49660655, "answer_count": 2, "score": 0, "last_activity_date": 1522877172, "creation_date": 1522874824, "question_id": 49660153, "link": "https://stackoverflow.com/questions/49660153/how-to-obtain-a-matrix-of-size-n3where-n-is-the-total-number-of-pixels-of-an-i", "title": "How to obtain a matrix of size n*3(where n is the total number of pixels of an image) having R,G and B components of the image", "body": "<p>I want to obtain a matrix consisting of only the R,G and B components of every pixel of an image. The cv2.imread function returns a 3 channel array. I wish to convert the 3d array into an array of size n*3 where 'n' must be the total number of pixels of the image and the 3 columns must contain the red, green and blue values at each pixel.</p>\n"}, {"tags": ["python", "django", "sorting", "django-admin"], "answers": [{"comments": [{"owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "edited": false, "score": 1, "creation_date": 1522878855, "post_id": 49660569, "comment_id": 86331746, "body": "This won&#39;t work for the admin views, as you need to order the queryset, not a list."}], "tags": [], "owner": {"reputation": 1262, "user_id": 4343502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e19333dfe0dc29e10d2b5e6afbd627?s=128&d=identicon&r=PG&f=1", "display_name": "touch my body", "link": "https://stackoverflow.com/users/4343502/touch-my-body"}, "is_accepted": false, "score": 0, "last_activity_date": 1522876544, "creation_date": 1522876544, "answer_id": 49660569, "question_id": 49660139, "link": "https://stackoverflow.com/questions/49660139/can-i-sort-items-ignoring-leading-space-in-django-admin/49660569#49660569", "title": "Can I sort items ignoring leading space in Django admin?", "body": "<p>If you have a list (or orther iterable collection) of strings, you can do the following:</p>\n\n<pre><code>mylist = [some strings]\nmylist.sort(key=lambda s: s.strip())\n</code></pre>\n\n<p>This will sort <code>mylist</code>, ignoring left/right spacing without actually deleting the spaces</p>\n"}, {"tags": [], "owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "is_accepted": false, "score": 3, "last_activity_date": 1522878349, "creation_date": 1522878349, "answer_id": 49660944, "question_id": 49660139, "link": "https://stackoverflow.com/questions/49660139/can-i-sort-items-ignoring-leading-space-in-django-admin/49660944#49660944", "title": "Can I sort items ignoring leading space in Django admin?", "body": "<p>Alternatively to using <code>ordering</code> shown by Paulo, you could change the default queryset to be ordered using \"trimmed\" values (assuming your database supports <code>TRIM</code>). Inside <em>admin.py</em>:</p>\n\n<pre><code>def get_queryset(self, request):\n    qs = super().get_queryset(request)\n    qs = qs.extra(select={'trimmed_name':'TRIM(name)'}).order_by('trimmed_name')\n    return qs\n</code></pre>\n\n<p><em>(Note: This is added as Django database function in the development branch as <code>Trim</code>)</em></p>\n"}, {"comments": [{"owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "edited": false, "score": 0, "creation_date": 1522878434, "post_id": 49660951, "comment_id": 86331577, "body": "cool, didn&#39;t know this way, I always override <code>get_queryset</code> to do this."}, {"owner": {"reputation": 7494, "user_id": 3086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/x0jZ9.jpg?s=128&g=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/3086/nacho"}, "edited": false, "score": 0, "creation_date": 1522886143, "post_id": 49660951, "comment_id": 86334213, "body": "I get a <code>Error: cannot import name Func</code>, using Django 1.4.22"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 1, "creation_date": 1522888414, "post_id": 49660951, "comment_id": 86334848, "body": "Django 1.4! That&#39;s old, <code>Func</code> was introduced in 1.8. You can try dirkgroten&#39;s answer."}, {"owner": {"reputation": 7494, "user_id": 3086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/x0jZ9.jpg?s=128&g=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/3086/nacho"}, "edited": false, "score": 0, "creation_date": 1522888966, "post_id": 49660951, "comment_id": 86334996, "body": "I know :( Thanks for your help!"}], "tags": [], "owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "is_accepted": false, "score": 3, "last_activity_date": 1522878379, "creation_date": 1522878379, "answer_id": 49660951, "question_id": 49660139, "link": "https://stackoverflow.com/questions/49660139/can-i-sort-items-ignoring-leading-space-in-django-admin/49660951#49660951", "title": "Can I sort items ignoring leading space in Django admin?", "body": "<p>You can use <a href=\"https://docs.djangoproject.com/en/2.0/ref/models/expressions/\" rel=\"nofollow noreferrer\">query expressions</a> in <code>ordering</code>; in particular, you can use <a href=\"https://docs.djangoproject.com/en/2.0/ref/models/expressions/#func-expressions\" rel=\"nofollow noreferrer\">Func() expressions</a>. In your case:</p>\n\n<pre><code>from django.db.models import F, Func\n\n...\n\nclass Meta:\n    get_latest_by = 'date_created'\n    ordering = [Func(F('name'), function='TRIM')]\n</code></pre>\n\n<p>I tested this on PostgreSQL and it worked.</p>\n"}], "owner": {"reputation": 7494, "user_id": 3086, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/x0jZ9.jpg?s=128&g=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/3086/nacho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1522886180, "creation_date": 1522874788, "last_edit_date": 1522886180, "question_id": 49660139, "link": "https://stackoverflow.com/questions/49660139/can-i-sort-items-ignoring-leading-space-in-django-admin", "title": "Can I sort items ignoring leading space in Django admin?", "body": "<p>I'm working on a Django (v1.4.22) app that has many repeated items, except for a space, so the admin sorts it \"wrong\".</p>\n\n<p>I know the proper solution would be to whack some SQL and remove those spaces, but for the moment I'd like to help our users. Also I can't just yet since the name field is UNIQUE, etc etc.</p>\n\n<pre><code>class Meta:\n    get_latest_by = 'date_created'\n    ordering = ['name'] // --&gt; Can I do something with this, like name.strip()? \n</code></pre>\n"}, {"tags": ["python", "python-asyncio", "janusgraph", "goblin"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1522875132, "post_id": 49660129, "comment_id": 86329984, "body": "If you have an existing synchronous codebase, you can generally transform it by converting all functions that do blocking calls to async, then following the chain of callers up to the top so that every function that at least sometimes directly or indirectly calls something async is now async. But if you&#39;re working from scratch, it&#39;s usually better to think of those async chains before you write anything."}], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1522951362, "post_id": 49665627, "comment_id": 86368908, "body": "A couple of follow-up questions your answer: (1) I have a main coroutine which will be at the top of the chain where I read records, I am assuming that this one needs to be fed to the event loop. That function will in its turn chain calls to others that are just doing in memory data manipulation or creating objects. If I understood your statement correctly, I don&#39;t need to call the subsequent ones using await ? Is it fine to call them as normal functions ? (2) I am also assuming that I can also feed the top coroutine using asyncio.ensure_future(), right ?"}, {"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1522953565, "post_id": 49665627, "comment_id": 86370206, "body": "@Cracoras (1) Exactly, if you are calling simple functions that do in-memory stuff, those don&#39;t need to be converted to coroutines and consequently don&#39;t need to be awaited - it is fine to call them as normal functions. (2) Yes; given a coroutine, <code>asyncio.ensure_future</code> and <code>loop.create_task</code> are equivalent, but the latter is <a href=\"https://github.com/python/asyncio/issues/477#issuecomment-268709555\" rel=\"nofollow noreferrer\">the intended API</a> when the argument is known to be a coroutine. You can think of <code>create_task</code> (and <code>ensure_future</code>) as starting a task &quot;in the background&quot;. Also look at <code>asyncio.gather</code>."}, {"owner": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1523457773, "post_id": 49665627, "comment_id": 86571258, "body": "I finally finished refactoring my code, and changed all the inner function back to regular functions. However I an getting the following error:     file_stats, db_session = process_function(message_types.index(row[0]), row, file_stats, db_session) TypeError: &#39;coroutine&#39; object is not iterable This line is inside the last of the coroutines that I call in my stack and triggers all the remaining memory bound functions that I mentioned about."}, {"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1523466994, "post_id": 49665627, "comment_id": 86577302, "body": "@Cracoras You need to <code>await</code> the coroutine. If it&#39;s at the very top of the call chain, you need to call it using <code>loop.run_until_complete</code>."}, {"owner": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1523470437, "post_id": 49665627, "comment_id": 86579097, "body": "In this case, process_function() is not a coroutine, that is why I am not waiting for it. Should I ? The call to it is in a coroutine at the bottom of the stack called: process_rows():               task_process_rows = asyncio.ensure_future(process_rows(row, file_name, file_stats, db_session))                 file_stats = await task_process_rows &lt;/br&gt;&lt;/br&gt;          async def process_rows(row, file_name, file_stats, db_session): ...         file_stats, db_session = process_function(message_types.index(row[0]), row, file_stats, db_session)         await db_session.flush()"}, {"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1523474765, "post_id": 49665627, "comment_id": 86581294, "body": "@Cracoras I think <code>process_function</code> should be a coroutine because it calls other coroutines. But it&#39;s really hard to tell what&#39;s going on without seeing the code. Can you create a minimal reproducible example that still demonstrates the problem?"}, {"owner": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1523544991, "post_id": 49665627, "comment_id": 86614204, "body": "I tried to cut out the code in a way that makes sense but I think would still not help. But I checked it into git and here is the full code: <a href=\"https://github.com/marciodebarros/useractivitylogs/blob/master/app/data_loader/routes.py\" rel=\"nofollow noreferrer\">github.com/marciodebarros/useractivitylogs/blob/master/app/&hellip;</a>&zwnj;&#8203;. The error is being thrown on line 195 which is the call for the last coroutine. From there all the remaining calls are to regular functions that doesn&#39;t to any I/O. I even tried to make process_function a coroutine but get a similar error. Thank you so much for your patience and all your help. --MD"}, {"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "reply_to_user": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 0, "creation_date": 1523595691, "post_id": 49665627, "comment_id": 86633845, "body": "@Cracoras The problem is that <code>process_function</code> is sometimes invoking async functions, and those need to be awaited. In other words, while you can mix ordinary and async functions, async ones always need to be awaited, so if you do a dispatch that passes through a single code path, <code>process_function</code> does, all of its callees must be async, and you need to await them. As a quick fix, you can use <code>iscoroutine</code> to see if the result needs to be awaited, <a href=\"https://pastebin.com/LAtxBsEi\" rel=\"nofollow noreferrer\">like this</a>."}, {"owner": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "edited": false, "score": 1, "creation_date": 1523894305, "post_id": 49665627, "comment_id": 86738211, "body": "Hi @user4815162342 after your last comment I went back to the code again and realized what you meant by process_function calling coroutines. It turns out none of those were supposed to be coroutines, but regular functions. I reverted them back and were able to run the code without any issues/exceptions. I will still do some additional testing but it seems like it is working. Thank you so much for all your help and definitely your patience. I hope I don&#39;t have to bother you with this issue again ;-) --MD"}], "tags": [], "owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "is_accepted": true, "score": 5, "last_activity_date": 1524157253, "last_edit_date": 1524157253, "creation_date": 1522910226, "answer_id": 49665627, "question_id": 49660129, "link": "https://stackoverflow.com/questions/49660129/asyncio-how-many-coroutines/49665627#49665627", "title": "asyncio - how many coroutines?", "body": "<blockquote>\n  <p>So my question is if I need to convert <strong>all</strong> my functions into coroutines and schedule to run through the event loop, or just the ones that would block,</p>\n</blockquote>\n\n<p>You might need to convert most of them, but the conversion should be largely mechanical, boiling down to changing <code>def</code> to <code>async def</code>, and adding <code>await</code> when calling other coroutines.</p>\n\n<p>Obviously, you cannot avoid converting the ones that actually block, either by switching to the appropriate asyncio API or by using <a href=\"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.run_in_executor\" rel=\"nofollow noreferrer\"><code>loop.run_in_executor()</code></a> for those that don't have one. (DNS resolution used to be an outstanding example of the latter.)</p>\n\n<p>But then you also need to convert their <em>callers</em>, because calling a coroutine from a blocking function is not useful unless the function implements event-loop-like functionality. On the other hand, when a coroutine is called from another coroutine, everything works because suspends are automatically propagated to the top of the chain. Once the whole call chain consists of coroutines, the top-level ones are fed to the event loop using <a href=\"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.create_task\" rel=\"nofollow noreferrer\"><code>loop.create_task()</code></a> or <a href=\"https://docs.python.org/3/library/asyncio-eventloop.html#asyncio.AbstractEventLoop.run_until_complete\" rel=\"nofollow noreferrer\"><code>loop.run_until_complete()</code></a>.</p>\n\n<p>Of course, convenience functions that neither block nor call blocking functions can safely remain non-async, and are invoked by either sync or async code without any difference.</p>\n\n<p><hr>\nThe above applies to asyncio, which implements stackless coroutines. A different approach is used by <a href=\"https://greenlet.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">greenlet</a>, whose tasks encapsulate the call stack, which allows them to be switched at arbitrary places in code that uses normal function calls. Greenlets are a bit more heavyweight and less portable than coroutines, though, so I'd first converting to asyncio.</p>\n"}], "owner": {"reputation": 277, "user_id": 1038902, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/508ca4bb2cf7150a6e707071f50870dd?s=128&d=identicon&r=PG", "display_name": "Cracoras", "link": "https://stackoverflow.com/users/1038902/cracoras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 49665627, "answer_count": 1, "score": 3, "last_activity_date": 1524157253, "creation_date": 1522874721, "last_edit_date": 1522876863, "question_id": 49660129, "link": "https://stackoverflow.com/questions/49660129/asyncio-how-many-coroutines", "title": "asyncio - how many coroutines?", "body": "<p>I have been struggling for a few days now with a python application where I am expecting to look for a file or files in a folder and iterate through the each file and each record in it and create objects to be persisted on a Janusgraph database. The particular OGM that I am using, requires that the transactions with the database are done in an asynchronously using asyncio. I have read a lot of blogs, posts about asyncio and I think I understand the concept of async, await, tasks, etc... In my application I have defined several functions that handle different parts of the processing:</p>\n\n<ul>\n<li>Retrieves the list of all files available</li>\n<li>Select one file for processing</li>\n<li>Iterates through the selected file and reads a line/record for processing</li>\n<li>Receives the record, determines parses the from in and calls several other functions that are responsible for creating the Model objects before they are persisted to the database. For instance, I different functions that creates: User, Session, Browser, DeviceUsed, Server, etc...</li>\n</ul>\n\n<p>I understand (and I may be wrong) that the big advantage of using asyncio is for situations where the call to a function will block usually for I/O, database transaction, network latency, etc...</p>\n\n<p>So my question is if I need to convert <strong>all</strong> my functions into coroutines and schedule to run through the event loop, or just the ones that would block, like committing transaction to the database. I tried this approach to begin with and had all sorts of problems. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1522874972, "post_id": 49660124, "comment_id": 86329895, "body": "Why aren&#39;t the last two values flipped?"}, {"owner": {"reputation": 431, "user_id": 993812, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc204b3a27e9f2f5b6016ceb0babe9fa?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/993812/john"}, "edited": false, "score": 0, "creation_date": 1522875112, "post_id": 49660124, "comment_id": 86329976, "body": "Sorry, I didn&#39;t explicitly state that the series continued. I added ellipses to hopefully better explain that."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1522875222, "post_id": 49660124, "comment_id": 86330036, "body": "The shortened series makes for a better example anyway."}], "answers": [{"comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 3, "creation_date": 1522875622, "post_id": 49660180, "comment_id": 86330234, "body": "How do you do this so effortlessly? It took me almost 9 more mins to get anywhere close to this :)"}, {"owner": {"reputation": 431, "user_id": 993812, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc204b3a27e9f2f5b6016ceb0babe9fa?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/993812/john"}, "edited": false, "score": 0, "creation_date": 1522875625, "post_id": 49660180, "comment_id": 86330235, "body": "That&#39;s some hefty method chaining. I figured an answer would have to use diff() at its core and some combination of a cumsum() or cumprod(). I&#39;m fairly new to pandas, and I&#39;ve never even heard of the sub() method before this. This works great."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 5, "last_activity_date": 1522874955, "creation_date": 1522874955, "answer_id": 49660180, "question_id": 49660124, "link": "https://stackoverflow.com/questions/49660124/reverse-values-based-on-successive-count/49660180#49660180", "title": "Reverse Values Based on Successive Count", "body": "<ul>\n<li>Use <code>diff().ne(0)</code> to find the breaks</li>\n<li>Use <code>cumsum()</code> to create the groups</li>\n<li>Use <code>groupby.transform('size')</code> to count the size of groups</li>\n<li>then flip value with <code>sub(df.Flag).abs()</code></li>\n</ul>\n\n<hr>\n\n<pre><code>df.Flag.groupby(\n    df.Flag.diff().ne(0).cumsum()\n).transform('size').lt(5).sub(df.Flag).abs()\n\n0     1\n1     1\n2     1\n3     1\n4     1\n5     1\n6     1\n7     1\n8     1\n9     0\n10    0\nName: Flag, dtype: int64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1522876166, "creation_date": 1522876166, "answer_id": 49660477, "question_id": 49660124, "link": "https://stackoverflow.com/questions/49660124/reverse-values-based-on-successive-count/49660477#49660477", "title": "Reverse Values Based on Successive Count", "body": "<p>Just try another way maybe </p>\n\n<pre><code>s=df.Flag.diff().ne(0).cumsum().value_counts()\nnp.where(((s&gt;=5).repeat(s).values),df.Flag,1-df.Flag)\nOut[1158]: array([1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0], dtype=int64)\n</code></pre>\n"}], "owner": {"reputation": 431, "user_id": 993812, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dc204b3a27e9f2f5b6016ceb0babe9fa?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/993812/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 49660180, "answer_count": 2, "score": 2, "last_activity_date": 1522876166, "creation_date": 1522874711, "last_edit_date": 1522875049, "question_id": 49660124, "link": "https://stackoverflow.com/questions/49660124/reverse-values-based-on-successive-count", "title": "Reverse Values Based on Successive Count", "body": "<p>I have a series containing only 1's and 0's used as a flag. I'm trying to figure out a good way to count the number of successive repeat values, and if it doesn't meet a threshold, I'd like to reverse them. For instance, if I have less than 5 repeated values in succession, reverse them from 0's to 1's or vice versa.</p>\n\n<p>For example:</p>\n\n<pre><code>Flag\n1\n1\n1\n1\n1\n0\n0\n0\n0\n1\n1\n...\n</code></pre>\n\n<p>Would become:</p>\n\n<pre><code>Flag\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n...\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms", "django-testing"], "answers": [{"tags": [], "owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "is_accepted": true, "score": 0, "last_activity_date": 1522879212, "creation_date": 1522879212, "answer_id": 49661099, "question_id": 49660110, "link": "https://stackoverflow.com/questions/49660110/django-testing-form-is-valid/49661099#49661099", "title": "Django testing form.is_valid()", "body": "<p>you can't assign <code>job</code> to a form field (that's what <code>form.fields['jobWorker']</code> is). If you want to assign an initial value, you should do:</p>\n\n<pre><code>form.fields['jobWorker'].initial = job\n</code></pre>\n\n<p>But I think you want to pass <code>job</code> as the chosen model, you should just do that in data:</p>\n\n<pre><code>form_data = {'description': 'description', 'hours': 20, 'jobWorker': job.pk}\nform = AddHoursForm(form_data)\nself.assertFalse(form.is_valid)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9569396, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SbrN9.jpg?s=128&g=1", "display_name": "Mateusz Mielewczyk", "link": "https://stackoverflow.com/users/9569396/mateusz-mielewczyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 1, "accepted_answer_id": 49661099, "answer_count": 1, "score": 0, "last_activity_date": 1522879212, "creation_date": 1522874672, "question_id": 49660110, "link": "https://stackoverflow.com/questions/49660110/django-testing-form-is-valid", "title": "Django testing form.is_valid()", "body": "<p>My view have optional parameter in url. I pass this parameter (<code>&lt;int:jobNr&gt;</code>/<code>None</code>)to form in <code>get_form_kwargs</code></p>\n\n<pre><code>class AddHoursView(LoginRequiredMixin, generic.CreateView):\n\n    form_class = AddHoursForm\n\n    def get_form_kwargs(self):\n        # pass \"jobNr\" keyword argument from current url to form\n        kwargs = super(AddHoursView, self).get_form_kwargs()\n        kwargs[JOB_PARAM] = self.kwargs.get(JOB_PARAM)\n        return kwargs\n\n    def form_valid(self, form):\n        self.object = form.save(commit = False)\n\n        # If url/jobNR take jobNr from URL, if not take from form\n        try:\n            jobNr = self.kwargs[JOB_PARAM]\n        except KeyError:\n            jobNr = form.cleaned_data[JOB_WORKER].jobNr\n\n        job = models.Job.objects.get(jobNr = jobNr)\n\n        jobWorker = models.JobWorker.objects.get_or_create(job = job,\n                                                user = self.request.user)\n        self.object.jobWorker = jobWorker[0]\n        self.object.save()\n        return HttpResponseRedirect(reverse('worktime:myjobs'))\n</code></pre>\n\n<p>In form <code>__init__</code> If url <code>/foo/jobNr/</code> create <code>self.jobNr</code> with url parameter. If url <code>/foo/</code>  create new field. </p>\n\n<pre><code>class AddHoursForm(forms.ModelForm):\n\n    def __init__(self, *args, **kwargs):   \n        #Add jobworker field to from Worktime model if any jobNr pass in url\n        #When in url will be parameter. Job foreignkey will be set by automat.\n        self.jobNr = kwargs.pop(JOB_PARAM, None)\n        super(AddHoursForm, self).__init__(*args, **kwargs)\n        if not self.jobNr:\n            self.fields[JOB_WORKER] = forms.ModelChoiceField(queryset=Job.objects.all())\n\n    def clean(self):\n\n        cleaned_data = super().clean()\n        date = cleaned_data.get('date')\n\n        if self.jobNr:\n            jobDate = Job.objects.get(jobNr=self.jobNr).start\n\n        elif not cleaned_data.get(JOB_WORKER).start: \n            raise forms.ValidationError(\"Dat work don't start yet\")\n\n        else:\n            jobDate = cleaned_data.get(JOB_WORKER).start\n\n        if date&lt;jobDate:\n            raise forms.ValidationError(\"Wrong date\")\n\n        return cleaned_data\n</code></pre>\n\n<p>And now i want to code tests for a form. This is what i tried </p>\n\n<pre><code>    def test_no_jobNr_in_url_and_no_date(self):\n\n        job = Job.objects.create(jobNr = 1, street = 'a', city = 'a',\n                            zip = 'a')\n\n        form_data = {'description': 'description', 'hours': 20}\n        form = AddHoursForm(form_data)\n        # Override field jobWorker after __init__ form\n        form.fields['jobWorker'] = job\n\n\n        self.assertFalse(form.is_valid())\n</code></pre>\n\n<p>And this is what i get <code>AttributeError: 'Job' object has no attribute 'disabled'</code> After 5h i need help. I have no idea anymore.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1522874719, "post_id": 49660097, "comment_id": 86329747, "body": "If y method calls itself its called recursion - you do not need that here."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1522874721, "post_id": 49660097, "comment_id": 86329750, "body": "You appear to have confused <code>+=</code> with <code>=+</code>"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1522874763, "post_id": 49660097, "comment_id": 86329784, "body": "I think you want <code>if</code>s instead of <code>while</code>s."}, {"owner": {"reputation": 37, "user_id": 9264473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b85dbeeb54f4c4c24f3fe4699fd0df?s=128&d=identicon&r=PG&f=1", "display_name": "Simpson", "link": "https://stackoverflow.com/users/9264473/simpson"}, "edited": false, "score": 0, "creation_date": 1522874814, "post_id": 49660097, "comment_id": 86329816, "body": "but when i use =+ it gives me a syntax error."}], "answers": [{"tags": [], "owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "is_accepted": true, "score": 0, "last_activity_date": 1522875018, "creation_date": 1522875018, "answer_id": 49660196, "question_id": 49660097, "link": "https://stackoverflow.com/questions/49660097/how-can-i-count-the-number-of-times-this-function-is-called/49660196#49660196", "title": "How can I count the number of times this function is called?", "body": "<p>Use default arguments:</p>\n\n<pre><code>def AI(B=1):\n    Guess = int(input(\"Can you guess what number I'm Thinking of?: \"))\n    while Guess &gt; Number:\n        print(\"nope, to high.\")\n        return AI(B + 1)\n    while Guess &lt; Number:\n        print(\"Sorry, thats to low. try again!\")\n        return AI(B + 1)\n    while Guess == Number:\n        print(\"Congragulations! you win! You guessed \" + str(B) + \" times\")\n        time.sleep(60)\n        return\n</code></pre>\n\n<p>And then call the function:</p>\n\n<pre><code>AI()\n</code></pre>\n\n<p>Also, you should really be using <code>if</code>s instead of <code>while</code>s here since the loops are run exactly once, but <code>while</code>s also work, so that's fine. Also, recursion might eat up your RAM, which just wastes resources, provided that you could've implemented the same thing as a loop, but your approach works, so that's fine too.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 9264473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b85dbeeb54f4c4c24f3fe4699fd0df?s=128&d=identicon&r=PG&f=1", "display_name": "Simpson", "link": "https://stackoverflow.com/users/9264473/simpson"}, "edited": false, "score": 0, "creation_date": 1522875173, "post_id": 49660203, "comment_id": 86330011, "body": "Hey thanks but I have to use the while statement in this particular assignment. my bad I&#39;ll edit that in"}, {"owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "reply_to_user": {"reputation": 37, "user_id": 9264473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b85dbeeb54f4c4c24f3fe4699fd0df?s=128&d=identicon&r=PG&f=1", "display_name": "Simpson", "link": "https://stackoverflow.com/users/9264473/simpson"}, "edited": false, "score": 0, "creation_date": 1522875291, "post_id": 49660203, "comment_id": 86330081, "body": "Do you have to be using multiple while statements? There&#39;s still one in here?"}], "tags": [], "owner": {"reputation": 1188, "user_id": 4514236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-ychAiduF2Y8/AAAAAAAAAAI/AAAAAAAAABM/LUFe9_quxVs/photo.jpg?sz=128", "display_name": "Peter Dolan", "link": "https://stackoverflow.com/users/4514236/peter-dolan"}, "is_accepted": false, "score": 1, "last_activity_date": 1522875035, "creation_date": 1522875035, "answer_id": 49660203, "question_id": 49660097, "link": "https://stackoverflow.com/questions/49660097/how-can-i-count-the-number-of-times-this-function-is-called/49660203#49660203", "title": "How can I count the number of times this function is called?", "body": "<p>You were pretty close @Simpson! Here's a slightly changed version that should give you what you're looking for :) </p>\n\n<p>Let me know if you have any questions!</p>\n\n<pre><code>#A text program that is a simple number guessing game.\nimport random\n#Setting up the A.I.\ndef AI():\n    counter = 1\n    number = random.randint(1,101)\n    guess = int(input(\"Can you guess what number I'm Thinking of?: \"))\n    while guess != number:\n        if guess &lt; number:\n            print(\"Sorry, thats to low. try again!\")\n        else:\n            print(\"nope, too high\")\n        counter += 1\n        guess = int(input(\"Can you guess what number I'm Thinking of?: \"))\n\n    print(\"Congragulations! you win! You guessed \" + str(counter) + \" times\")\n    time.sleep(60)\n    quit()\n\nAI()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 1, "last_activity_date": 1522875086, "creation_date": 1522875086, "answer_id": 49660214, "question_id": 49660097, "link": "https://stackoverflow.com/questions/49660097/how-can-i-count-the-number-of-times-this-function-is-called/49660214#49660214", "title": "How can I count the number of times this function is called?", "body": "<p>Without recursion - changed the whiles to ifs and added counter inside the method.</p>\n\n<pre><code>import time\nimport random\n\nNumber = random.randint(1,101)\n\ndef AI():\n    B = 1\n    Guess = int(input(\"Can you guess what number I'm Thinking of?: \"))\n    while True:\n        if Guess &gt; Number:\n            print(\"nope, to high.\")\n        elif Guess &lt; Number:\n            print(\"Sorry, thats to low. try again!\")\n\n        if Guess == Number:\n            print(\"Congragulations! you win! You guessed \" + str(B) + \" times\")\n            time.sleep(2)\n            break # leave the while true\n\n        # increment number\n        B += 1   \n        Guess = int(input(\"Can you guess what number I'm Thinking of?: \"))\nAI()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "is_accepted": false, "score": 1, "last_activity_date": 1522876220, "creation_date": 1522876220, "answer_id": 49660491, "question_id": 49660097, "link": "https://stackoverflow.com/questions/49660097/how-can-i-count-the-number-of-times-this-function-is-called/49660491#49660491", "title": "How can I count the number of times this function is called?", "body": "<p>Counting function calls is a perfect case for <a href=\"https://wiki.python.org/moin/PythonDecorators\" rel=\"nofollow noreferrer\">function decorators</a>, a very useful feature of Python. You can define your decorator as:</p>\n\n<pre><code>def call_counted(funct):\n    def wrapped(*args, **kwargs):\n        wrapped.count += 1  # increase on each call\n        return funct(*args, **kwargs)\n    wrapped.count = 0  # keep the counter on the function itself\n    return wrapped\n</code></pre>\n\n<p>And then you can use it to decorate a function you wish to count calls to without dealing with the counter itself in your process flow:</p>\n\n<pre><code>import time\nimport random\n\nsecret_number = random.randint(1, 101)\n\n@call_counted  # decorate your AI function with the aforementioned call_counted\ndef AI():\n    current_guess = int(input(\"Can you guess what number I'm thinking of?: \"))\n    while current_guess &gt; secret_number:\n        print(\"Nope, too high. Try again!\")\n        return AI()\n    while current_guess &lt; secret_number:\n        print(\"Sorry, that's too low. Try again!\")\n        return AI()\n    while current_guess == secret_number:\n        print(\"Congratulations! You win! You guessed {} times.\".format(AI.count))\n        time.sleep(60)\n        quit()\n\nAI()\n</code></pre>\n\n<p>I restyled your code a bit, but it's essentially the same.</p>\n\n<p>I'd avoid recursion, tho, because this can be written much simpler and without the need to count function calls:</p>\n\n<pre><code>import time\nimport random\n\nsecret_number = random.randint(1, 101)\n\ndef AI():\n    counter = 0\n    while True:\n        counter += 1\n        current_guess = int(input(\"Can you guess what number I'm thinking of?: \"))\n        if current_guess &gt; secret_number:\n            print(\"Nope, too high. Try again!\")\n        elif current_guess &lt; secret_number:\n            print(\"Sorry, that's too low. Try again!\")\n        else:\n            break\n    print(\"Congratulations! You win! You guessed {} times.\".format(counter))\n    time.sleep(60)\n    quit()\n\nAI()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1522887871, "last_edit_date": 1522887871, "creation_date": 1522876506, "answer_id": 49660554, "question_id": 49660097, "link": "https://stackoverflow.com/questions/49660097/how-can-i-count-the-number-of-times-this-function-is-called/49660554#49660554", "title": "How can I count the number of times this function is called?", "body": "<p>You could do it generically with a function decorator that addes a call counter to any function to which it is applied:</p>\n\n<p>(Note I also modified your code so it follows the <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 - Style Guide for Python Code</a> more closely.)</p>\n\n<pre><code>\"\"\" A text program that is a simple number guessing game. \"\"\"\nimport functools\nimport time\nimport random\n\ndef count_calls(f):\n    \"\"\" Function decorator that adds a call count attribute to it and counts\n        the number of times it's called.\n    \"\"\"\n    f.call_count = 0\n    @functools.wraps(f)\n    def decorated(*args, **kwargs):\n        decorated.call_count += 1\n        return f(*args, **kwargs)\n\n    return decorated\n\n# Setting up the A.I.\nnumber = random.randint(1, 101)\n# print('The number is:', number)  # For testing.\n\n@count_calls\ndef AI():\n    guess = int(input(\"Can you guess what number I'm thinking of?: \"))\n    while guess &gt; number:\n        print(\"Nope, too high.\")\n        return AI()\n    while guess &lt; number:\n        print(\"Sorry, that's too low. Try again!\")\n        return AI()\n    while guess == number:\n        print(\"Congragulations! You win! You guessed \" + str(AI.call_count) + \" times\")\n        time.sleep(10)\n        quit()\n\nAI()\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9264473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b85dbeeb54f4c4c24f3fe4699fd0df?s=128&d=identicon&r=PG&f=1", "display_name": "Simpson", "link": "https://stackoverflow.com/users/9264473/simpson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 49660196, "answer_count": 5, "score": 0, "last_activity_date": 1522887871, "creation_date": 1522874625, "last_edit_date": 1522875203, "question_id": 49660097, "link": "https://stackoverflow.com/questions/49660097/how-can-i-count-the-number-of-times-this-function-is-called", "title": "How can I count the number of times this function is called?", "body": "<p>So my assignment(I have to use the while statement) was to make a number guessing game, part of that was to show the number of guesses the player had after they get the number right. I found something that I read is supposed to work but doesn't. here is my code.</p>\n\n<pre><code>#A text program that is a simple number guessing game.\nimport time\nimport random\n#Setting up the A.I.\nNumber = random.randint(1,101)\ndef AI():\n    B = AI.counter =+ 1\n    Guess = int(input(\"Can you guess what number I'm Thinking of?: \"))\n    while Guess &gt; Number:\n        print(\"nope, to high.\")\n        return AI()\n    while Guess &lt; Number:\n        print(\"Sorry, thats to low. try again!\")\n        return AI()\n    while Guess == Number:\n        print(\"Congragulations! you win! You guessed \" + str(B) + \" times\")\n        time.sleep(60)\n        quit()\nAI.counter = 0\nAI()\n</code></pre>\n\n<p>Though when the player gets the number right it says that the player got it in one guess even when that's not the case.</p>\n"}, {"tags": ["python", "bash", "tensorflow", "conv-neural-network"], "comments": [{"owner": {"reputation": 852, "user_id": 8858032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ef2c6cf016876040509effd0dea2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Agrawal", "link": "https://stackoverflow.com/users/8858032/akshay-agrawal"}, "edited": false, "score": 0, "creation_date": 1523046333, "post_id": 49660091, "comment_id": 86414354, "body": "Have you read that tutorial on <a href=\"https://www.tensorflow.org/programmers_guide/summaries_and_tensorboard\" rel=\"nofollow noreferrer\">summaries and TensorBoard</a>? The instructions therein should be sufficient."}, {"owner": {"reputation": 13, "user_id": 9082423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad7e5941dc4128f560adb4122360868?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Danek", "link": "https://stackoverflow.com/users/9082423/benjamin-danek"}, "reply_to_user": {"reputation": 852, "user_id": 8858032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ef2c6cf016876040509effd0dea2e3?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Agrawal", "link": "https://stackoverflow.com/users/8858032/akshay-agrawal"}, "edited": false, "score": 0, "creation_date": 1523235063, "post_id": 49660091, "comment_id": 86462389, "body": "That&#39;s what i needed! Thank you. I&#39;ll post the exact answer after I figure it out totally."}], "owner": {"reputation": 13, "user_id": 9082423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad7e5941dc4128f560adb4122360868?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Danek", "link": "https://stackoverflow.com/users/9082423/benjamin-danek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522874604, "creation_date": 1522874604, "last_edit_date": 1592644375, "question_id": 49660091, "link": "https://stackoverflow.com/questions/49660091/extracting-dictionary-from-tensorflows-built-in-history", "title": "Extracting dictionary from TensorFlow&#39;s built in history", "body": "<p>I'm in the process of getting my feet wet with tensorflow. I've started and successfully run the MNIST classifier with layers <a href=\"https://www.tensorflow.org/tutorials/layers#building_the_cnn_mnist_classifier\" rel=\"nofollow noreferrer\">tutorial</a> on my computer, now my objective is to play around with the parameters of the tutorial program (step size, layer properties). To do this, I want to collect the data on each run of the convolutional neural network and see if I can learn something from the changes of the network's output based on the changes of the network's design.</p>\n<p>At the end of each run of the program (CNN MNIST Classifier) tensorflow returns numerous lines labeling what the classifier is doing. This one caught my eye:</p>\n<pre><code>INFO:tensorflow:Saving dict for global step 161: accuracy = 0.1663,\nglobal_step = 161, loss = 2.286773\n</code></pre>\n<p>Now, I can copy/screenshot this line every time I want to record my run, but I'd like to figure out how to access the dictionary where this data is being collected.</p>\n<p>I've tried <code>find tensorflow</code> in my bash, this wasn't very helpful.</p>\n<p>My question is:\nHow would I find the run history for this classifier? Can you give me any advice on how to record/access this information in the future?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1568, "user_id": 8793975, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/086643c7f3fafe914727c51882e974bc?s=128&d=identicon&r=PG&f=1", "display_name": "enumaris", "link": "https://stackoverflow.com/users/8793975/enumaris"}, "edited": false, "score": 0, "creation_date": 1522874456, "post_id": 49659985, "comment_id": 86329594, "body": "How does a 2x2x2 array end up with 12 elements? It should only have 8 elements. Where do you want to insert the array? How do you define &quot;middle&quot;?"}, {"owner": {"reputation": 487, "user_id": 3192400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0af0d28bde7af4e2ddaa3cb9899a8d4c?s=128&d=identicon&r=PG&f=1", "display_name": "hysoftwareeng", "link": "https://stackoverflow.com/users/3192400/hysoftwareeng"}, "edited": false, "score": 0, "creation_date": 1522874526, "post_id": 49659985, "comment_id": 86329638, "body": "please comment what you have tried"}], "answers": [{"comments": [{"owner": {"reputation": 1160, "user_id": 3826115, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/64deaa69ef71ef12623f3ced55f16d2d?s=128&d=identicon&r=PG&f=1", "display_name": "hm8", "link": "https://stackoverflow.com/users/3826115/hm8"}, "edited": false, "score": 0, "creation_date": 1522876168, "post_id": 49660059, "comment_id": 86330512, "body": "ahh, i had tried this but didn&#39;t putthe axis = 0 at the end"}], "tags": [], "owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "is_accepted": true, "score": 3, "last_activity_date": 1522874485, "creation_date": 1522874485, "answer_id": 49660059, "question_id": 49659985, "link": "https://stackoverflow.com/questions/49659985/insert-2d-array-into-3d-array-in-python/49660059#49660059", "title": "Insert 2D array into 3D array in python", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.insert.html\" rel=\"nofollow noreferrer\"><code>numpy.insert()</code></a>:</p>\n\n<pre><code>a = np.insert(a, 1, b, axis=0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 681, "user_id": 8173159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3985aa8d03a6e360e233ef4eaec34691?s=128&d=identicon&r=PG&f=1", "display_name": "James Carter", "link": "https://stackoverflow.com/users/8173159/james-carter"}, "is_accepted": false, "score": -1, "last_activity_date": 1522874498, "creation_date": 1522874498, "answer_id": 49660061, "question_id": 49659985, "link": "https://stackoverflow.com/questions/49659985/insert-2d-array-into-3d-array-in-python/49660061#49660061", "title": "Insert 2D array into 3D array in python", "body": "<pre><code>a=np.zeros((3,2,2))\nb=np.ones((2,2))\n\na[1]=b*1\n</code></pre>\n\n<p>That will produce your output.</p>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 4393669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ba9443dadda25cb089aff2bf79b4f88?s=128&d=identicon&r=PG&f=1", "display_name": "Mohsen Hrt", "link": "https://stackoverflow.com/users/4393669/mohsen-hrt"}, "is_accepted": false, "score": 0, "last_activity_date": 1587088235, "last_edit_date": 1587088235, "creation_date": 1587056790, "answer_id": 61255921, "question_id": 49659985, "link": "https://stackoverflow.com/questions/49659985/insert-2d-array-into-3d-array-in-python/61255921#61255921", "title": "Insert 2D array into 3D array in python", "body": "<p>A way to show same as your result is using <code>tuple</code>.\ncode:</p>\n\n<pre><code>b = numpy.ones((2,2))\na = numpy.zeros((2, 2))\ntpl = a,\ntpl = b,\ntpl = a,\n</code></pre>\n\n<p>So you can consider it as 3dArray and also you can use <code>for</code> loop to add multi array into it.Hope be helpfull.</p>\n"}], "owner": {"reputation": 1160, "user_id": 3826115, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/64deaa69ef71ef12623f3ced55f16d2d?s=128&d=identicon&r=PG&f=1", "display_name": "hm8", "link": "https://stackoverflow.com/users/3826115/hm8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2292, "favorite_count": 0, "accepted_answer_id": 49660059, "answer_count": 3, "score": 2, "last_activity_date": 1587088235, "creation_date": 1522874175, "question_id": 49659985, "link": "https://stackoverflow.com/questions/49659985/insert-2d-array-into-3d-array-in-python", "title": "Insert 2D array into 3D array in python", "body": "<p>Lets say I make the following arrays:</p>\n\n<pre><code>&gt;&gt;&gt; a = zeros((2,2,2))\n&gt;&gt;&gt; b = ones((2,2))\n</code></pre>\n\n<p>How can I insert b into the middle of a? So my resulting array will look like</p>\n\n<pre><code>array([[[ 0.,  0.],\n        [ 0.,  0.]],\n\n       [[ 1.,  1.],\n        [ 1.,  1.]],\n\n       [[ 0.,  0.],\n        [ 0.,  0.]]])\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 9041087, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bouAFmmC0qY/AAAAAAAAAAI/AAAAAAAAAAA/MW2SbF8sdcQ/photo.jpg?sz=128", "display_name": "Fuat Ulugay", "link": "https://stackoverflow.com/users/9041087/fuat-ulugay"}, "edited": false, "score": 0, "creation_date": 1522909746, "post_id": 49661561, "comment_id": 86340777, "body": "Thanks for the answer. However your are still using for loop and if statement. Do you know  putting it in one line has a better performance and run time?"}, {"owner": {"reputation": 1054, "user_id": 7897796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gx2NM.jpg?s=128&g=1", "display_name": "T.Tokic", "link": "https://stackoverflow.com/users/7897796/t-tokic"}, "reply_to_user": {"reputation": 95, "user_id": 9041087, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bouAFmmC0qY/AAAAAAAAAAI/AAAAAAAAAAA/MW2SbF8sdcQ/photo.jpg?sz=128", "display_name": "Fuat Ulugay", "link": "https://stackoverflow.com/users/9041087/fuat-ulugay"}, "edited": false, "score": 0, "creation_date": 1522913408, "post_id": 49661561, "comment_id": 86342868, "body": "List Comprehension perform better because you don\u2019t need to load the append attribute off of the list and call it as a function. You can read more here <a href=\"http://blog.cdleary.com/2010/04/efficiency-of-list-comprehensions/\" rel=\"nofollow noreferrer\">Efficiency of list comprehensions</a>"}], "tags": [], "owner": {"reputation": 1054, "user_id": 7897796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gx2NM.jpg?s=128&g=1", "display_name": "T.Tokic", "link": "https://stackoverflow.com/users/7897796/t-tokic"}, "is_accepted": true, "score": 1, "last_activity_date": 1522881927, "creation_date": 1522881927, "answer_id": 49661561, "question_id": 49659968, "link": "https://stackoverflow.com/questions/49659968/django-class-list-object-and-filtering-lines/49661561#49661561", "title": "django class list object and filtering lines", "body": "<p>Instead of basic <code>for</code> loop with <code>if</code> condition you can use <a href=\"https://www.python-course.eu/list_comprehension.php\" rel=\"nofollow noreferrer\">List Comprehension</a>.</p>\n\n<p>For your use-case it should look like something like this:</p>\n\n<pre><code>results = [phone for phone in phones if phone.get('phonetype')=='Cep']\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 9041087, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bouAFmmC0qY/AAAAAAAAAAI/AAAAAAAAAAA/MW2SbF8sdcQ/photo.jpg?sz=128", "display_name": "Fuat Ulugay", "link": "https://stackoverflow.com/users/9041087/fuat-ulugay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 49661561, "answer_count": 1, "score": 0, "last_activity_date": 1522881927, "creation_date": 1522874116, "last_edit_date": 1522874739, "question_id": 49659968, "link": "https://stackoverflow.com/questions/49659968/django-class-list-object-and-filtering-lines", "title": "django class list object and filtering lines", "body": "<p>In Django I have a list of phone results. Here is a screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/e1XLH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e1XLH.png\" alt=\"List details\"></a></p>\n\n<p>I am trying to query the list and get the result lines (like in querysets where I can use filter(condition). </p>\n\n<p>In my example I want to get phonetype=='Cep' lines. I can do it by a for loop and if condition; however if there is a more decent way I want to learn it. \nThanks.</p>\n"}, {"tags": ["python", "excel", "python-3.x", "openpyxl"], "comments": [{"owner": {"reputation": 21742, "user_id": 4650297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/x1byc.jpg?s=128&g=1", "display_name": "BruceWayne", "link": "https://stackoverflow.com/users/4650297/brucewayne"}, "edited": false, "score": 1, "creation_date": 1522874903, "post_id": 49659945, "comment_id": 86329870, "body": "Not sure, but why not create the file, open it in Windows with Python (<a href=\"https://stackoverflow.com/q/37389854/4650297\">something like this</a>), then in Python ask if the user wants to save the file. If &quot;Yes&quot;, then just exit. If &quot;No&quot;, then use python to delete the file from the system."}, {"owner": {"reputation": 13, "user_id": 4603965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12719fae0df32c61e8cf5dab73b564e?s=128&d=identicon&r=PG&f=1", "display_name": "NullWay", "link": "https://stackoverflow.com/users/4603965/nullway"}, "reply_to_user": {"reputation": 21742, "user_id": 4650297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/x1byc.jpg?s=128&g=1", "display_name": "BruceWayne", "link": "https://stackoverflow.com/users/4650297/brucewayne"}, "edited": false, "score": 0, "creation_date": 1522875146, "post_id": 49659945, "comment_id": 86329997, "body": "@BruceWayne Let&#39;s say the user does not want to save the file, but they want to look at it for the next 2 hours. Would the program be able to delete the temporary file while they still have it open?"}, {"owner": {"reputation": 21742, "user_id": 4650297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/x1byc.jpg?s=128&g=1", "display_name": "BruceWayne", "link": "https://stackoverflow.com/users/4650297/brucewayne"}, "edited": false, "score": 0, "creation_date": 1522876334, "post_id": 49659945, "comment_id": 86330588, "body": "Just curious, why don&#39;t you want to save first? This may be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>.  If you&#39;re using a temporary file, it&#39;s still saved <i>somewhere</i>.  With a temporary file even if the user doesn&#39;t save, it&#39;ll be saved somewhere.  What saving the document does is &quot;guarantee&quot; if the user is prompted &quot;Do you want to save the file or delete&quot; and they choose &quot;delete&quot;, you can easily remove the file from the system.  And if they&#39;re using a file for two+ hours, I&#39;d recommend having it saved somewhere known, instead of temporary."}, {"owner": {"reputation": 13, "user_id": 4603965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12719fae0df32c61e8cf5dab73b564e?s=128&d=identicon&r=PG&f=1", "display_name": "NullWay", "link": "https://stackoverflow.com/users/4603965/nullway"}, "reply_to_user": {"reputation": 21742, "user_id": 4650297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/x1byc.jpg?s=128&g=1", "display_name": "BruceWayne", "link": "https://stackoverflow.com/users/4650297/brucewayne"}, "edited": false, "score": 0, "creation_date": 1522877071, "post_id": 49659945, "comment_id": 86330960, "body": "@BruceWayne Fair point. I hadn&#39;t heard of an XY problem before, but that sounds like what this is. I guess the only reason not to save would be to avoid file clutter. I was using this to display the contents of a database table in Excel. There are probably a lot of better ways to solve the problem then what I&#39;m doing, but I don&#39;t have any real experience to lean on. I&#39;m just trying to solve the problems that I run into the best I can."}, {"owner": {"reputation": 21742, "user_id": 4650297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/x1byc.jpg?s=128&g=1", "display_name": "BruceWayne", "link": "https://stackoverflow.com/users/4650297/brucewayne"}, "edited": false, "score": 0, "creation_date": 1522877608, "post_id": 49659945, "comment_id": 86331215, "body": "For sure, that makes sense!  But (IMO) if you&#39;re wanting the user to view some database information, it may actually be better to save it first, let them use it as they please, then prompt them &quot;Do you want to keep the file, or remove it&quot; at some point later.  (Can Python see if a specific workbook is open in Excel? If so, maybe do a loop that checks if your file is open, and if so keep checking...if it&#39;s found <i>not</i> to be open, then you can prompt the user if they want to keep the file? Just a thought)"}, {"owner": {"reputation": 13, "user_id": 4603965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12719fae0df32c61e8cf5dab73b564e?s=128&d=identicon&r=PG&f=1", "display_name": "NullWay", "link": "https://stackoverflow.com/users/4603965/nullway"}, "reply_to_user": {"reputation": 21742, "user_id": 4650297, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/x1byc.jpg?s=128&g=1", "display_name": "BruceWayne", "link": "https://stackoverflow.com/users/4650297/brucewayne"}, "edited": false, "score": 1, "creation_date": 1522877764, "post_id": 49659945, "comment_id": 86331300, "body": "@BruceWayne I may have found a solution to the problem as posed originally (although this may not be the approach I should be using). I found a module called xlwings that seems to accomplish this. I can use it to open a new workbook and then add the data to it. At the end of the program it can activate the workbook and have it steal focus. I&#39;ll try implementing it and see what happens."}], "owner": {"reputation": 13, "user_id": 4603965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d12719fae0df32c61e8cf5dab73b564e?s=128&d=identicon&r=PG&f=1", "display_name": "NullWay", "link": "https://stackoverflow.com/users/4603965/nullway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1522874023, "creation_date": 1522874023, "question_id": 49659945, "link": "https://stackoverflow.com/questions/49659945/is-there-a-way-i-can-display-data-in-excel-without-saving-a-file-first", "title": "Is there a way I can display data in Excel without saving a file first?", "body": "<p>I'm using openpyxl to create a workbook in memory and fill it with data. Is there anyway to display that data in Excel at the end of the Python script without saving the file? It would be left up to the user to decide if they want to save the file or not. I'm guessing it's not possible but I wanted to see if I could get a more definitive answer here. Thanks!</p>\n"}, {"tags": ["python", "tensorflow", "regression", "prediction", "robust"], "answers": [{"tags": [], "owner": {"reputation": 4901, "user_id": 5668710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ce7e4efca855e9343db4b6bbf27338a?s=128&d=identicon&r=PG&f=1", "display_name": "Djib2011", "link": "https://stackoverflow.com/users/5668710/djib2011"}, "is_accepted": false, "score": 0, "last_activity_date": 1522949717, "creation_date": 1522949717, "answer_id": 49678287, "question_id": 49659892, "link": "https://stackoverflow.com/questions/49659892/ensemble-combine-multiple-deep-learning-regression-models-which-already-have-d/49678287#49678287", "title": "Ensemble (Combine) multiple deep learning regression models which already have dropout layers", "body": "<p>I think the presence of dropout is irrelevant to what you want to do. Ensembling should work just fine with dropout.</p>\n"}], "owner": {"reputation": 21, "user_id": 6918774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bc9e5cd9b688d3a91971cdce5a81928?s=128&d=identicon&r=PG&f=1", "display_name": "Aileenlingyu", "link": "https://stackoverflow.com/users/6918774/aileenlingyu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522949717, "creation_date": 1522873827, "question_id": 49659892, "link": "https://stackoverflow.com/questions/49659892/ensemble-combine-multiple-deep-learning-regression-models-which-already-have-d", "title": "Ensemble (Combine) multiple deep learning regression models which already have dropout layers", "body": "<p>Currently I have multiple trained models for regression task, each model is of the same architecture but while training, I have dropout layer, to improve the performance, is that still possible for me to combine those trained models and calculate the mean of the weights as the combined, new model? I just heard that there is an ensemble prediction method which allow us to do, but I am not sure whether I can still do this because I already have random dropout layer.</p>\n\n<p>Any hint is much appreciated!</p>\n"}, {"tags": ["python", "list", "zipfile"], "answers": [{"comments": [{"owner": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1522874585, "post_id": 49660046, "comment_id": 86329682, "body": "Does this not still ask the user for one path at a time?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1522874875, "post_id": 49660046, "comment_id": 86329852, "body": "@pstatix - it asks for &quot;files to save&quot; and if the user enters multiple file names separated by spaces - like you would in a shell - it will split them out."}, {"owner": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1522875108, "post_id": 49660046, "comment_id": 86329968, "body": "Sure, separated by spaces. Didn&#39;t sound like the OP wanted a massive string of space delimited paths; hence my confusion."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1522875425, "post_id": 49660046, "comment_id": 86330130, "body": "@pstatix OP asked <i>Is there a neat way that we can input all the path at once</i> ... You&#39;ll need some sort of separator and I figure a space will do."}], "tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1522874788, "last_edit_date": 1522874788, "creation_date": 1522874431, "answer_id": 49660046, "question_id": 49659881, "link": "https://stackoverflow.com/questions/49659881/python-input-multiple-file-paths-at-once-and-append-in-a-list/49660046#49660046", "title": "Python - Input() multiple file paths at once and append in a list", "body": "<p>Its mostly easy. You can split the text the user enters, but you need to worry about files with spaces in their names. The <code>shlex</code> lets you split a line the same way a unix-like shell would, which gives you the rules you need.</p>\n\n<p>import shlex</p>\n\n<pre><code>fileList = []\nwhile True:\n    filePaths = input('Enter files to save. Enter \"Done\" to end.--&gt;')\n    if filePaths.lower() == \"done\":\n        break\n    for filePath in shlex.split(filePaths):\n        if not os.path.exists(filePath):\n            print(\"'{}' not found\".format(filePath))\n        else:\n            fileList.append(filePath)\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 9487915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nMO1huaVHmo/AAAAAAAAAAI/AAAAAAAAEi8/632bVH77_wk/photo.jpg?sz=128", "display_name": "Imola", "link": "https://stackoverflow.com/users/9487915/imola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522874788, "creation_date": 1522873776, "question_id": 49659881, "link": "https://stackoverflow.com/questions/49659881/python-input-multiple-file-paths-at-once-and-append-in-a-list", "title": "Python - Input() multiple file paths at once and append in a list", "body": "<p>I am writing a code to zipFile multiple files based on user's input.\nFor example, user type couple file paths such as C:\\Users\\AAA\\BBB, C:\\Users\\AAA\\CCC,... The program will back up all these files into one single new zipFile.</p>\n\n<p>Right now I'm using a loop (the code from \"While True\") and it works. But this only allows us to enter one path each time. Is there a neat way that we can input all the path at once and add each of them in a list (fileList here)?</p>\n\n<p>And as I just started Python and I wrote it based on \"A Byte of Python\", I feel my code is kind of lengthy... Please feel free to provide recommendation to improve it. Thank you.</p>\n\n<pre><code>import os,time,zipfile\n\ndef createZip():\n\n#  Define the file path to save the file\nsavePath=input('Enter file save path--&gt;')\nif len(savePath)==0:\n    print('No path is found. Backup ends.')\n#  Define the file to be saved\nelse:\n    assert os.path.exists(savePath),\"File path does not exist. Backup fails.\"  #  assert expression1, expression2, equals to if not expression1, raise AssertionError(expression2)\n\n    fileList=[]\n    while True:\n        filePath=input('Enter files to save. Enter \"Done\" to end.--&gt;')\n        if filePath=='Done':\n            break\n        else:\n            if len(filePath)==0:\n                print('No path is found. Please enter files to save.')\n            else:\n                assert os.path.exists(filePath),\"File path does not exist. Backup fails.\"\n                fileList.append(filePath)\n\n    today=savePath+os.sep+time.strftime('%Y%m%d')\n    now=time.strftime('%H%M%S')\n    if not os.path.exists(today):\n        os.mkdir(today)\n        print('Successfully created directory', today)\n\n    comment=input('Enter a comment --&gt;')\n    if len(comment)==0:\n        target=today+os.sep+now+'.zip'\n    else:\n        target=today+os.sep+now+'_'+comment+'.zip'\n\n\n    newZip=zipfile.ZipFile(target,'w',zipfile.ZIP_DEFLATED)  #  'w' means write only; 'r' means read only\n    for fName in fileList:\n        for root,dirs,files in os.walk(fName):\n            for file in files:\n                newZip.write(os.path.join(root,file))\n    newZip.close()\n    print('backup to',target)\n</code></pre>\n\n<p>createZip()</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1522874046, "post_id": 49659873, "comment_id": 86329400, "body": "<i>&quot;I am interpreting slice assignment in Python to be something similar to assignment by pointers&quot;</i> It isn&#39;t. More like &quot;pointers with guard rails that will not let you overrun/underrun&quot;. Like in Java. You can only pass a legal index, not any arbitrary positive or negative index."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1522874052, "post_id": 49659873, "comment_id": 86329404, "body": "Python manages its memory behind the scenes to prevent memory overflows. You may get an out of memory exception but that&#39;s still well defined behavior."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 3, "creation_date": 1522874118, "post_id": 49659873, "comment_id": 86329427, "body": "It is a mistake to assume that just because you are modifying an existing list, your new storage must go into the same space in memory."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522874213, "post_id": 49659873, "comment_id": 86329480, "body": "Incidentally, the things you&#39;re saying about C++ indicate that you need to stop using so many arrays and get used to <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">vectors</a>, which also resize automatically."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1522874217, "post_id": 49659873, "comment_id": 86329481, "body": "In (pure) Python you don&#39;t need to worry about memory <i>at all</i>. At least to a point where you run out of said memory, but that&#39;s another problem."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1522874668, "post_id": 49659873, "comment_id": 86329719, "body": "In pythons, a list object is an intermediate structure that knows how to expand and contract its internal storage as needed. As long as you don&#39;t blow out of available memory completely and the python programmers are any good, it won&#39;t blow up."}, {"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1522875641, "post_id": 49659873, "comment_id": 86330243, "body": "Thanks everyone! @smci, not quite what I meant. I know one cannot pass an arbitrary positive or negative index. I meant a different length of array. @user2357112, Honestly, I have not used much C/C++ since I graduated high school. I know that what I learnt back then was just scratching the surface. @tdelaney, @ForceBru, @MarkRansom, How does it do that? I tried initializing a small list, and replacing it with a gigantic one, yet the <code>id(.)</code> function gives the same memory location. @khelwood, please explain. Thanks."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1522876792, "post_id": 49659873, "comment_id": 86330814, "body": "@smci: That&#39;s exactly what I said. You can&#39;t access a list with an arbitrary index, and you can&#39;t hoax or redeclare its length in order to do that, unlike C/C++"}, {"owner": {"reputation": 339851, "user_id": 149392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a561ec0875fcbbe3066ea8fe288ec77?s=128&d=identicon&r=PG", "display_name": "sepp2k", "link": "https://stackoverflow.com/users/149392/sepp2k"}, "edited": false, "score": 0, "creation_date": 1522876833, "post_id": 49659873, "comment_id": 86330837, "body": "Some clarifications about C++: Stack-allocated C-arrays or std::arrays can not be resized. Heap-allocated arrays can be resized with <code>realloc</code> (if allocated with <code>malloc</code>) or <code>delete[]</code> + <code>new[]</code> (if allocated with <code>new[]</code>). <code>std::vector</code>s can be resized using member functions such as <code>resize</code> or <code>push_back</code>. None of those options can cause buffer overflows. A buffer over-/underflow would happen if you write to an invalid index (i.e. <code>arr[i] = something;</code> where <code>i</code> is greater than the length of <code>arr</code> or less than 0). In Python that would always cause an exception."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1523301273, "post_id": 49659873, "comment_id": 86494627, "body": "How it works: a <code>list</code> is an object which <i>contains</i> a buffer of references to other objects. If it needs to be resized, a new buffer is created which replaces the old one. The <code>list</code> object itself doesn&#39;t get replaced so it retains its ID."}], "answers": [{"comments": [{"owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "edited": false, "score": 0, "creation_date": 1522875708, "post_id": 49660040, "comment_id": 86330287, "body": "Can you link to a source or two where I can read and learn more? Thanks."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "reply_to_user": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "edited": false, "score": 0, "creation_date": 1522978239, "post_id": 49660040, "comment_id": 86379403, "body": "<a href=\"https://stackoverflow.com/questions/3917574/how-is-pythons-list-implemented\" title=\"how is pythons list implemented\">stackoverflow.com/questions/3917574/&hellip;</a>; <a href=\"https://www.laurentluce.com/posts/python-list-implementation/\" rel=\"nofollow noreferrer\">laurentluce.com/posts/python-list-implementation</a>  For more, search SO for <code>[python] list implementation</code> or web for <code>python list implementation</code>, which is what I did."}], "tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 1, "last_activity_date": 1522874403, "creation_date": 1522874403, "answer_id": 49660040, "question_id": 49659873, "link": "https://stackoverflow.com/questions/49659873/can-python-list-assignment-by-slice-cause-overflow/49660040#49660040", "title": "Can Python list assignment by slice cause overflow?", "body": "<p>Python lists are resizable arrays.  Most of the time, there is extra space to allow for growth (and shrinkage) without reallocation.  When more space is needed, or too much is wasted, the internal space is reallocated.  This can result in a MemoryError if more space is needed and not available.  The details depend on the implementation, OS, and OS settings.</p>\n"}], "owner": {"reputation": 6581, "user_id": 3765319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1262dca6cd7334e5eb75649272eea20d?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik", "link": "https://stackoverflow.com/users/3765319/kartik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522874403, "creation_date": 1522873735, "question_id": 49659873, "link": "https://stackoverflow.com/questions/49659873/can-python-list-assignment-by-slice-cause-overflow", "title": "Can Python list assignment by slice cause overflow?", "body": "<p>About a decade ago, when I played around with C++ in my high school, I learnt about pointers, and memory overflows. In C++, sometimes, using a pointer to expand (or contract) an array in place can cause it to run over (or under) the memory allotted, and cause weird behaviour. I am interpreting slice assignment in Python to be something similar to assignment by pointers:</p>\n\n<pre><code>a[:] = list(range(10000))  # Similar to using pointers in C++,\n# because memory location remains unchanged.\n</code></pre>\n\n<p>So how does Python avoid overflows (or underflows)?</p>\n\n<hr>\n\n<p>Of course, in C++, we initialize each array to a specified size, and pointer-based assignments violating that size are horrible programming practice.</p>\n"}, {"tags": ["python", "database", "oracle"], "comments": [{"owner": {"reputation": 6819, "user_id": 140837, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e6470f08d90f2d62f514b5b71ca5ca3f?s=128&d=identicon&r=PG", "display_name": "amirouche", "link": "https://stackoverflow.com/users/140837/amirouche"}, "edited": false, "score": 0, "creation_date": 1522875252, "post_id": 49659847, "comment_id": 86330059, "body": "What is your RDBMS?"}, {"owner": {"reputation": 35, "user_id": 9565788, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Murty", "link": "https://stackoverflow.com/users/9565788/murty"}, "reply_to_user": {"reputation": 6819, "user_id": 140837, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e6470f08d90f2d62f514b5b71ca5ca3f?s=128&d=identicon&r=PG", "display_name": "amirouche", "link": "https://stackoverflow.com/users/140837/amirouche"}, "edited": false, "score": 0, "creation_date": 1522876121, "post_id": 49659847, "comment_id": 86330493, "body": "it is Oracle. forgot to mention.. Thanks!!"}, {"owner": {"reputation": 6819, "user_id": 140837, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e6470f08d90f2d62f514b5b71ca5ca3f?s=128&d=identicon&r=PG", "display_name": "amirouche", "link": "https://stackoverflow.com/users/140837/amirouche"}, "edited": false, "score": 0, "creation_date": 1522876311, "post_id": 49659847, "comment_id": 86330576, "body": "I doubt you will have an answer using an anonymous account."}, {"owner": {"reputation": 35, "user_id": 9565788, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Murty", "link": "https://stackoverflow.com/users/9565788/murty"}, "reply_to_user": {"reputation": 6819, "user_id": 140837, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e6470f08d90f2d62f514b5b71ca5ca3f?s=128&d=identicon&r=PG", "display_name": "amirouche", "link": "https://stackoverflow.com/users/140837/amirouche"}, "edited": false, "score": 0, "creation_date": 1522878597, "post_id": 49659847, "comment_id": 86331645, "body": "Changed my display name, hoping to get the answer now :)"}, {"owner": {"reputation": 5046, "user_id": 1934744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc3c61e1e4bf924c00297974ff6368f?s=128&d=identicon&r=PG", "display_name": "Art", "link": "https://stackoverflow.com/users/1934744/art"}, "edited": false, "score": 0, "creation_date": 1522952052, "post_id": 49659847, "comment_id": 86369271, "body": "Your delimiter is pipe. Try changing your delimiter to comma, for example."}, {"owner": {"reputation": 35, "user_id": 9565788, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Murty", "link": "https://stackoverflow.com/users/9565788/murty"}, "edited": false, "score": 0, "creation_date": 1522958410, "post_id": 49659847, "comment_id": 86372890, "body": "I need the output to be a pipe delimited file only."}], "owner": {"reputation": 35, "user_id": 9565788, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Murty", "link": "https://stackoverflow.com/users/9565788/murty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522917977, "creation_date": 1522873655, "last_edit_date": 1522917977, "question_id": 49659847, "link": "https://stackoverflow.com/questions/49659847/exporting-sql-with-special-characters-output-to-pipe-delimited-file", "title": "exporting sql with special characters output to pipe delimited file", "body": "<p>I want to export sql query output to a pipe delimited file using Python. One of the columns of the sql contains special characters. I am able to export the file perfectly but when I open the output file in notepad or excel, certain special characters of the columns are getting converted as pipes '|' and it is throwing my number of columns.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>cursor_1 = db_connect.cursor()\n\nsql_query = \"\"\"select a,b,c from example\"\"\"\n\nfilename = folder_path+\"/abc_{}.txt\".format(today)\noutputFile = open(filename,'wb') # 'wb'\noutput = csv.writer(outputFile, delimiter='|') \ncursor_1.execute(sql_query)\n</code></pre>\n\n<p>example of value in column \"b\" of table \"example\":\nR123456 \u00ea\u00b4\u2018\u00ea\u00b3\u00a0(\u00ed\u0152\u0152\u00ec\u203a\u0152\u00ed\u00b4\u00eb\u00a6\u00ad) \u00ec\u00b1\u201e\u00eb\u201e \u00ea\u00b4\u20ac\u00eb\u00a6\u00ac \u00eb\u2039\u00b4\u00eb\u2039\u00b9</p>\n\n<p>when I open the file with excel or txt file, few values of the above text gets converted to pipe '|'</p>\n\n<p>Than you for your help !!</p>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 5, "creation_date": 1522873841, "post_id": 49659825, "comment_id": 86329285, "body": "Your first <code>.find()</code> obviously failed to find anything, so the second <code>.find()</code> had nothing to work on."}, {"owner": {"reputation": 1, "user_id": 9598969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095d1c185e9f5dda42eef0f8a8a06eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ktgo", "link": "https://stackoverflow.com/users/9598969/ktgo"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1522874169, "post_id": 49659825, "comment_id": 86329454, "body": "How should I change the code so that the first     .find() does not fail"}, {"owner": {"reputation": 175, "user_id": 2881115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MNbr7.jpg?s=128&g=1", "display_name": "castaway2000", "link": "https://stackoverflow.com/users/2881115/castaway2000"}, "edited": false, "score": 0, "creation_date": 1522874303, "post_id": 49659825, "comment_id": 86329517, "body": "@ktgo see my reply. it will help you troubleshoot this"}], "answers": [{"tags": [], "owner": {"reputation": 750, "user_id": 2018173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a9585caa83238205e72cabe9fd173f?s=128&d=identicon&r=PG", "display_name": "Bilal Dadanlar", "link": "https://stackoverflow.com/users/2018173/bilal-dadanlar"}, "is_accepted": false, "score": 0, "last_activity_date": 1522874198, "creation_date": 1522874198, "answer_id": 49659988, "question_id": 49659825, "link": "https://stackoverflow.com/questions/49659825/beautiful-soup-find-function/49659988#49659988", "title": "Beautiful Soup: find() function", "body": "<p>@jasonharper is right. you may consider using exception handling or break that chain into parts to check if you got an object from <code>html.find(\"div\", class_=\"parsys mainParsys section\")</code></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9598969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095d1c185e9f5dda42eef0f8a8a06eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ktgo", "link": "https://stackoverflow.com/users/9598969/ktgo"}, "edited": false, "score": 0, "creation_date": 1522874728, "post_id": 49659999, "comment_id": 86329759, "body": "Thank you for the help. The code ran through print(&#39;before data&#39;) but did not make it through to the print(&#39;after data&#39;). Any advice?"}, {"owner": {"reputation": 175, "user_id": 2881115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MNbr7.jpg?s=128&g=1", "display_name": "castaway2000", "link": "https://stackoverflow.com/users/2881115/castaway2000"}, "reply_to_user": {"reputation": 1, "user_id": 9598969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095d1c185e9f5dda42eef0f8a8a06eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ktgo", "link": "https://stackoverflow.com/users/9598969/ktgo"}, "edited": false, "score": 0, "creation_date": 1522875054, "post_id": 49659999, "comment_id": 86329939, "body": "<code>for child in stat.children:           handle your usecase here </code>  That means that you are able to get the stat object. i would inspect the object for its child objects and work from there.   If my answer helped you solve your problem please mark it as the answer for me."}, {"owner": {"reputation": 175, "user_id": 2881115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MNbr7.jpg?s=128&g=1", "display_name": "castaway2000", "link": "https://stackoverflow.com/users/2881115/castaway2000"}, "reply_to_user": {"reputation": 1, "user_id": 9598969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095d1c185e9f5dda42eef0f8a8a06eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ktgo", "link": "https://stackoverflow.com/users/9598969/ktgo"}, "edited": false, "score": 0, "creation_date": 1522875475, "post_id": 49659999, "comment_id": 86330152, "body": "also another resource for you @ktgo <a href=\"http://akul.me/blog/2016/beautifulsoup-cheatsheet/\" rel=\"nofollow noreferrer\">akul.me/blog/2016/beautifulsoup-cheatsheet</a>"}], "tags": [], "owner": {"reputation": 175, "user_id": 2881115, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/MNbr7.jpg?s=128&g=1", "display_name": "castaway2000", "link": "https://stackoverflow.com/users/2881115/castaway2000"}, "is_accepted": false, "score": 0, "last_activity_date": 1522874257, "creation_date": 1522874257, "answer_id": 49659999, "question_id": 49659825, "link": "https://stackoverflow.com/questions/49659825/beautiful-soup-find-function/49659999#49659999", "title": "Beautiful Soup: find() function", "body": "<p>to troubleshoot this better you would need to modify your code. this will help you find what part of the code is failing. however i wold also look at narrowing the html class to a single html class for testing and then if that is one of the problems find out how to add multiple class names to the find function</p>\n\n<p>try this first. if it fails try a single html class name.</p>\n\n<pre><code>url = url_stub % (stat_id, starting_year)\npage = requests.get(url)\nhtml = BeautifulSoup(page.text.replace('n', ''), 'html.parser')\n\nprint('before stat')\nstat = html.find(\"div\", class_=\"parsys mainParsys section\")\nprint('stat worked')\nprint('before data')\ndata = stat.find('h3').text\nprint('after data')\n</code></pre>\n\n<p>edit: also the class_ might not be called class_ but simply class</p>\n"}, {"tags": [], "owner": {"reputation": 1176, "user_id": 7087491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207702366813204/picture?type=large", "display_name": "jjsantoso", "link": "https://stackoverflow.com/users/7087491/jjsantoso"}, "is_accepted": false, "score": 0, "last_activity_date": 1522874548, "creation_date": 1522874548, "answer_id": 49660068, "question_id": 49659825, "link": "https://stackoverflow.com/questions/49659825/beautiful-soup-find-function/49660068#49660068", "title": "Beautiful Soup: find() function", "body": "<p>As @jasonharper pointed, that is because the first <code>.find()</code> failed to find anything. To avoid the error you have to verify if your first and second find found anything:</p>\n\n<pre><code>if html.find(\"div\", class_=\"parsys mainParsys section\"):\n     if html.find(\"div\", class_=\"parsys mainParsys section\").find('h3'):\n         stat = html.find(\"div\", class_=\"parsys mainParsys section\").find('h3').text\n     else:\n         stat=None\nelse:\n    stat = None\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 689, "user_id": 1313067, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b74f19b747fc7744ea5467a91e12b097?s=128&d=identicon&r=PG&f=1", "display_name": "Hatt", "link": "https://stackoverflow.com/users/1313067/hatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1529524514, "creation_date": 1529524514, "answer_id": 50956100, "question_id": 49659825, "link": "https://stackoverflow.com/questions/49659825/beautiful-soup-find-function/50956100#50956100", "title": "Beautiful Soup: find() function", "body": "<p>I've stumbled across the same function and project you're working on. You have to change:</p>\n\n<pre><code>stat = html.find(\"div\", class_=\"parsys mainParsys section\").find('h3').text\n</code></pre>\n\n<p>to</p>\n\n<pre><code>stat = html.find(\"div\", class_=\"parsys mainParsys\").find('h3').text\n</code></pre>\n\n<p>Also, if you're working in 3.6, you have to update:</p>\n\n<pre><code>import urllib.request\nurllib.request.urlretrieve(url, filename)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9598969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/095d1c185e9f5dda42eef0f8a8a06eb6?s=128&d=identicon&r=PG&f=1", "display_name": "ktgo", "link": "https://stackoverflow.com/users/9598969/ktgo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 1, "answer_count": 4, "score": 0, "last_activity_date": 1529524514, "creation_date": 1522873588, "question_id": 49659825, "link": "https://stackoverflow.com/questions/49659825/beautiful-soup-find-function", "title": "Beautiful Soup: find() function", "body": "<pre><code>url = url_stub % (stat_id, starting_year)\npage = requests.get(url)\nhtml = BeautifulSoup(page.text.replace('n', ''), 'html.parser')\nstat = html.find(\"div\", class_=\"parsys mainParsys section\").find('h3').text\n</code></pre>\n\n<p>I am trying to take a BeautifulSoup object and use the find() function, but I keep getting the \"AttributeError: 'NoneType' object has no attribute 'find'\". What am I doing wrong?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1522876663, "post_id": 49659820, "comment_id": 86330746, "body": "How are you calling the function <code>ValidatePregs</code>, and what are the first few lines of your data?"}], "answers": [{"tags": [], "owner": {"reputation": 254, "user_id": 4615961, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/01c26f96a55c7db52f8ebb3ffe2b6cea?s=128&d=identicon&r=PG&f=1", "display_name": "brvh", "link": "https://stackoverflow.com/users/4615961/brvh"}, "is_accepted": false, "score": 1, "last_activity_date": 1522878225, "creation_date": 1522878225, "answer_id": 49660922, "question_id": 49659820, "link": "https://stackoverflow.com/questions/49659820/why-cant-i-assign-a-value-from-a-pandas-dataframe-in-my-function/49660922#49660922", "title": "Why can&#39;t I assign a value from a pandas dataframe in my function?", "body": "<p>I think I know your problem:\nIn these lines:</p>\n\n<pre><code>num=fresp.at[i,'pregnum']\nif num == 0 and case in pregmap:\n</code></pre>\n\n<p>You try to fetch a row using <code>at</code> which is similar to <code>loc</code> and returns a <code>pd.Series</code> object. When you do the comparison, Python is comparing the <code>pd.Series</code> which has an ambiguous truth value.</p>\n\n<p>To avoid this, you can use <code>iloc</code> to fetch the row, and then access the <code>pregnum</code> value:</p>\n\n<pre><code>num = fresp.iloc[i].pregnum\nif num ...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3347308, "user_type": "registered", "profile_image": "https://graph.facebook.com/4800474/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/3347308/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522878225, "creation_date": 1522873572, "question_id": 49659820, "link": "https://stackoverflow.com/questions/49659820/why-cant-i-assign-a-value-from-a-pandas-dataframe-in-my-function", "title": "Why can&#39;t I assign a value from a pandas dataframe in my function?", "body": "<p>I have a dataframe called fresp, and in command line I can do this:</p>\n\n<pre><code>for i in range(0,len(fresp)):\n    num=fresp.at[i,'caseid']\n</code></pre>\n\n<p>And that works just fine. The exact same code, when saved in a .py file, gives me:</p>\n\n<pre><code>ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().\n</code></pre>\n\n<p>specifically in reference to num=fresp.at[i,'caseid'].</p>\n\n<p>Here is the whole function. When I save it in a .py file, import the function, and run it, I get the error. When I just copy the whole thing into command line (minus then first def line), it runs just fine. Why would this be?</p>\n\n<pre><code>def ValidatePregs(df,fresp):\n    pregmap=MakePregMap(df)\n    counter=0\n    for i in range(0,len(fresp)):\n        case=fresp.at[i,'caseid']\n        num=fresp.at[i,'pregnum']\n        if num == 0 and case in pregmap:\n            print(\"Mismatch for \"+case+\".\")\n            counter +=1\n        elif num != len(pregmap[case]):\n            print(\"Mismatch for \"+case+\".\")\n            counter +=1\n    if counter==0:\n        print(\"No mismatches!\")\n</code></pre>\n\n<p>(I'm reading/doing Think Stats 2.0.35 by Allen B. Downey. I'm working on Exercise 1. I know there's a more elegant solution, but I still want to know why this does/doesn't work.)</p>\n"}, {"tags": ["python", "python-3.x", "pynput"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1522874484, "post_id": 49659818, "comment_id": 86329609, "body": "&quot;I cannot find a version of Pynput for this Python version&quot; - does it not work on your Python version? It&#39;s not like library devs must roll a new version of there libs for each new Python version, they&#39;re mostly backwards-compatible, so code written in Python 3.1 or whatever should work in Python 3.4 as well."}, {"owner": {"reputation": 559, "user_id": 3545184, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bf4f14f16dec97365b9ed0fd19e1140b?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/3545184/nico"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1522874638, "post_id": 49659818, "comment_id": 86329708, "body": "@ForceBru I tried to install Pynput on 3.4.4 but it didn&#39;t work. I installed it with easy install?"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1522874687, "post_id": 49659818, "comment_id": 86329729, "body": "&quot;Didn&#39;t work&quot; doesn&#39;t make much sense. What happened exactly? Also, you could try using <code>pip3</code> instead of <code>easy_install</code>."}, {"owner": {"reputation": 559, "user_id": 3545184, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bf4f14f16dec97365b9ed0fd19e1140b?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/3545184/nico"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1522875398, "post_id": 49659818, "comment_id": 86330120, "body": "@ForceBru thank you very much now the missing package &quot;six&quot; was installed using pip3. Pynput is now working :)"}], "owner": {"reputation": 559, "user_id": 3545184, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bf4f14f16dec97365b9ed0fd19e1140b?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/3545184/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522878516, "creation_date": 1522873563, "last_edit_date": 1522878516, "question_id": 49659818, "link": "https://stackoverflow.com/questions/49659818/mouse-event-keyboard-event-mapper", "title": "Mouse event keyboard event mapper", "body": "<p>I am new in Python and I want to write a script that listens to the left, right or middle(mouse-wheel) button click event. When the left or right mouse button is clicked it should do nothing. In other words, the script should block the left and right mouse clicks.</p>\n\n<p>But when the middle mouse button is clicked the script should press the escape button.</p>\n\n<p>I already found a library for listening to mouse events: Pynput. The problem is that the script have to run on a Windows XP machine so I have to use Python 3.4.4 and I cannot find a version of Pynput for this Python version.</p>\n\n<p><strong>My question now:</strong> How can I listen to mouse clicks and send keyboard events in Python 3.4.4 for WindowsXP?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Now Pynput is installed correctly and is working. I wrote this:</p>\n\n<pre><code>from pynput import mouse\nfrom pynput.keyboard import Key, Controller\n\nkeyboard = Controller()\n\ndef on_click(x, y, button, pressed):\n    if button == mouse.Button.middle:\n        keyboard.press(Key.esc)\n        keyboard.release(Key.esc)\n        #after pressing the esc-key: stopPropagation(middle mouse click should not be forwarded to windows)\n    if button == mouse.Button.left:\n        print(\"left\")\n        #stopPropagation(left mouse click should not be forwarded to windows)\n    if button == mouse.Button.right:\n        print(\"right\")\n        #stopPropagation(right mouse click should not be forwarded to windows)\n\n# Collect events until released\nwith mouse.Listener(\n        on_click=on_click) as listener:\n    listener.join()\n</code></pre>\n\n<p>How can I accomplish what I wrote in the # comments? Is it even possible to do such things like prevent the mouse click in windows with Python? Also what I don't understand is when I run the program and I want to quit it (with ctrl+c) I have to press it like 100 times and then it shows this:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\path\\hello.py\", line 22, in &lt;module&gt;\n  File \"C:\\Python34\\lib\\site-packages\\pynput-1.3.10-py3.6.egg\\pynput\\_util\\__init__.py\", line 178, in join\n  File \"C:\\Python34\\lib\\threading.py\", line 1060, in join\n    self._wait_for_tstate_lock()\n  File \"C:\\Python34\\lib\\threading.py\", line 1076, in _wait_for_tstate_lock\n    elif lock.acquire(block, timeout):\nKeyboardInterrupt\n</code></pre>\n\n<p>Why? And how can I solve this?</p>\n"}, {"tags": ["python", "environment-variables", "keyerror"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1522873589, "post_id": 49659796, "comment_id": 86329157, "body": "Did you launch Python from the same shell where you exported the variable?"}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1522873760, "post_id": 49659796, "comment_id": 86329258, "body": "Can&#39;t reproduce. This works fine for me."}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 2, "creation_date": 1522874815, "post_id": 49659796, "comment_id": 86329818, "body": "Could it happen that your <code>python</code> is aliased? What do you get when you issue: <code>which python</code>?"}, {"owner": {"reputation": 5119, "user_id": 4276647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6a929f6537e73d7cc1ec7b533032350?s=128&d=identicon&r=PG&f=1", "display_name": "Kurtis Rader", "link": "https://stackoverflow.com/users/4276647/kurtis-rader"}, "edited": false, "score": 0, "creation_date": 1522889555, "post_id": 49659796, "comment_id": 86335144, "body": "Works for me. You&#39;re either not actually exporting the var or you are running python from some other shell instance. You&#39;ve clearly left out a crucial detail from your problem description."}], "answers": [{"tags": [], "owner": {"reputation": 82, "user_id": 7680285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-32QDiP0C2xA/AAAAAAAAAAI/AAAAAAAAACs/ZOegmh1dDE8/photo.jpg?sz=128", "display_name": "Anton Kharchenko", "link": "https://stackoverflow.com/users/7680285/anton-kharchenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1522914026, "creation_date": 1522914026, "answer_id": 49666773, "question_id": 49659796, "link": "https://stackoverflow.com/questions/49659796/python-os-environ-keyerror-after-export/49666773#49666773", "title": "Python: os.environ KeyError after export", "body": "<p>I found the mistake. There was an alias for running python</p>\n"}], "owner": {"reputation": 82, "user_id": 7680285, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-32QDiP0C2xA/AAAAAAAAAAI/AAAAAAAAACs/ZOegmh1dDE8/photo.jpg?sz=128", "display_name": "Anton Kharchenko", "link": "https://stackoverflow.com/users/7680285/anton-kharchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2359, "favorite_count": 0, "accepted_answer_id": 49666773, "answer_count": 1, "score": 1, "last_activity_date": 1522914026, "creation_date": 1522873476, "question_id": 49659796, "link": "https://stackoverflow.com/questions/49659796/python-os-environ-keyerror-after-export", "title": "Python: os.environ KeyError after export", "body": "<p>Why python can't get evironment variable after export?\nHow to fix this?</p>\n\n<pre><code>\u03bb: export AUTOTEST=/home/anton/eltx/scripts/gitlab/\n~\n\u03bb: python\nPython 2.7.12 (default, Dec  4 2017, 14:50:18) \n[GCC 5.4.0 20160609] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import os\n&gt;&gt;&gt; os.environ['AUTOTEST']\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/lib/python2.7/UserDict.py\", line 40, in __getitem__\n    raise KeyError(key)\nKeyError: 'AUTOTEST'\n&gt;&gt;&gt; \n&gt;&gt;&gt; os.environ.get('AUTOTEST', 'none_value')\n'none_value'\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": ["python", "http", "python-requests", "battlenet-api"], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 4377455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac30015ac1da4d59ef3b3a7a6f2a52f7?s=128&d=identicon&r=PG&f=1", "display_name": "giuliocatte", "link": "https://stackoverflow.com/users/4377455/giuliocatte"}, "edited": false, "score": 0, "creation_date": 1522909875, "post_id": 49660456, "comment_id": 86340846, "body": "I already tried to not encode that uri, but I got the same error. Tonight I&#39;ll try httpbin.org and let you now what i find"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 229, "user_id": 4377455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac30015ac1da4d59ef3b3a7a6f2a52f7?s=128&d=identicon&r=PG&f=1", "display_name": "giuliocatte", "link": "https://stackoverflow.com/users/4377455/giuliocatte"}, "edited": false, "score": 0, "creation_date": 1522928686, "post_id": 49660456, "comment_id": 86353280, "body": "There could be an issue with the three values you don\u2019t show as well."}, {"owner": {"reputation": 229, "user_id": 4377455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac30015ac1da4d59ef3b3a7a6f2a52f7?s=128&d=identicon&r=PG&f=1", "display_name": "giuliocatte", "link": "https://stackoverflow.com/users/4377455/giuliocatte"}, "edited": false, "score": 0, "creation_date": 1522946251, "post_id": 49660456, "comment_id": 86366001, "body": "ok sorry, probably last night I was tired, and I made some mistake in the encoding/decoding stuff. Actually <i>that</i> was the problem, thanks."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 3, "last_activity_date": 1522876078, "creation_date": 1522876078, "answer_id": 49660456, "question_id": 49659733, "link": "https://stackoverflow.com/questions/49659733/whats-the-difference-between-requests-post-and-this-straight-curl/49660456#49660456", "title": "what&#39;s the difference between requests.post and this straight curl?", "body": "<p>You don't need to manually encode the <code>redirect_uri</code>; <code>requests</code> will do that for you.</p>\n\n<pre><code>data = {\n     'code': code,\n     'redirect_uri': 'https://localhost/oauth2callback',\n     'grant_type': 'authorization_code',\n     'client_id': CLIENT_ID,\n     'client_secret': CLIENT_SECRET,\n     'scope': 'sc2.profile'\n}\nresp = requests.post('https://eu.battle.net/oauth/token', data=data)\n</code></pre>\n\n<p>The equivalent <code>curl</code> call would use <code>--data-urlencode</code> instead of <code>-d</code>/<code>--data</code>.</p>\n\n<pre><code>curl -X POST -s \"https://eu.battle.net/oauth/token\" \\\n    -d client_id='&lt;same as above&gt;' \\\n    -d client_secret='&lt;same as above&gt;'  \\\n    -d grant_type='authorization_code' \\\n    --data-urlencode redirect_uri='https://localhost/Foauth2callback' \\\n    -d scope='sc2.profile'  \\\n    -d code='&lt;same as above&gt;'\n</code></pre>\n\n<p>To debug problems like this, you can post to <code>https://httpbin.org/post</code>; the response will show you exactly what data was sent in the POST request.</p>\n"}], "owner": {"reputation": 229, "user_id": 4377455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac30015ac1da4d59ef3b3a7a6f2a52f7?s=128&d=identicon&r=PG&f=1", "display_name": "giuliocatte", "link": "https://stackoverflow.com/users/4377455/giuliocatte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 1, "accepted_answer_id": 49660456, "answer_count": 1, "score": 0, "last_activity_date": 1522876078, "creation_date": 1522873210, "question_id": 49659733, "link": "https://stackoverflow.com/questions/49659733/whats-the-difference-between-requests-post-and-this-straight-curl", "title": "what&#39;s the difference between requests.post and this straight curl?", "body": "<p>Using python 3.6.2 with <code>requests</code> library.</p>\n\n<p>I'm trying to authenticate with oauth2 on battle.net APIs, and on the second request (the one for token retrieval) I'm getting a 400 error with no useful explanation (\"internal server error\"). \nSomeone on the battle.net forum suggested to try to do the same <code>POST</code> with a <code>curl</code>, and it works. (here's my forum post: <a href=\"https://us.battle.net/forums/en/bnet/topic/20762236765\" rel=\"nofollow noreferrer\">https://us.battle.net/forums/en/bnet/topic/20762236765</a>)</p>\n\n<p>I checked many times for some stupid difference between the two (maybe a typo), but there aren't (I also written back the request from the curl by copypasting, obtaining the same error). So I suppose there should be some actual difference in behaviour between the two.</p>\n\n<p>Here's the python code:</p>\n\n<pre><code>data = {\n         'code': code,\n         'redirect_uri': 'https%3A%2F%2Flocalhost%2Foauth2callback',\n         'grant_type': 'authorization_code',\n         'client_id': CLIENT_ID,\n         'client_secret': CLIENT_SECRET,\n         'scope': 'sc2.profile'\n    }\nresp = requests.post('https://eu.battle.net/oauth/token', data=data)\n</code></pre>\n\n<p>And here's the curl:</p>\n\n<pre><code>curl -X POST -s \"https://eu.battle.net/oauth/token\" \\\n    -d client_id='&lt;same as above&gt;' \\\n    -d client_secret='&lt;same as above&gt;'  \\\n    -d grant_type='authorization_code' \\\n    -d redirect_uri='https%3A%2F%2Flocalhost%2Foauth2callback' \\\n    -d scope='sc2.profile'  \\\n    -d code='&lt;same as above&gt;'\n</code></pre>\n\n<p>As I said, I guess there should be something different, but I'm no expert of http. Something in the headers maybe? How can I set requests to have the same behaviour?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": true, "score": 3, "last_activity_date": 1522873166, "creation_date": 1522873166, "answer_id": 49659724, "question_id": 49659652, "link": "https://stackoverflow.com/questions/49659652/pandas-how-do-i-delete-rows-from-an-ordered-dataframe-until-a-specific-value-app/49659724#49659724", "title": "pandas How do I delete rows from an ordered dataframe until a specific value appears?", "body": "<p>Assuming that you either don't have a second X cluster after the Y cluster (or that you consider all X clusters the same, even if they're discontiguous):</p>\n\n<p>One way would be to compare the column B with C (getting a boolean series of False and True), then groupby the A column.  The cumulative maximum of these will be like False, False, True, True, True where we start getting Trues the first time we see C, and we can use that to index into df.  For example:</p>\n\n<pre><code>In [19]: df.loc[(df[\"B\"] == \"C\").groupby(df[\"A\"]).cummax()]\nOut[19]: \n    A    B\n2   X    C\n3   X    A\n4   X    C\n5   X  ...\n8   Y    C\n9   Y    A\n10  Y    C\n11  Y  ...\n</code></pre>\n\n<p>because</p>\n\n<pre><code>In [20]: df[\"B\"] == \"C\"\nOut[20]: \n0     False\n1     False\n2      True\n3     False\n4      True\n5     False\n6     False\n7     False\n8      True\n9     False\n10     True\n11    False\nName: B, dtype: bool\n</code></pre>\n\n<p>and</p>\n\n<pre><code>In [21]: (df[\"B\"] == \"C\").groupby(df[\"A\"]).cummax()\nOut[21]: \n0     False\n1     False\n2      True\n3      True\n4      True\n5      True\n6     False\n7     False\n8      True\n9      True\n10     True\n11     True\nName: B, dtype: bool\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5140638, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c3fd198002ee87d988889990bf26f3f7?s=128&d=identicon&r=PG&f=1", "display_name": "johnsinclair", "link": "https://stackoverflow.com/users/5140638/johnsinclair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 49659724, "answer_count": 1, "score": 0, "last_activity_date": 1522873576, "creation_date": 1522872847, "last_edit_date": 1522873296, "question_id": 49659652, "link": "https://stackoverflow.com/questions/49659652/pandas-how-do-i-delete-rows-from-an-ordered-dataframe-until-a-specific-value-app", "title": "pandas How do I delete rows from an ordered dataframe until a specific value appears?", "body": "<p>How do I delete rows in Python/ pandas for each column A until the first C value appears in column B?</p>\n\n<p>input</p>\n\n<pre><code>index   | A   | B   |\n--------|-----|-----|\n0       | X   | A   |  \n1       | X   | B   |\n2       | X   | C   |  \n3       | X   | A   |\n4       | X   | C   |\n5       | X   | ... |  \n6       | Y   | A   |  \n7       | Y   | B   |\n8       | Y   | C   |  \n9       | Y   | A   |\n10      | Y   | C   |\n11      | Y   | ... |  \n</code></pre>\n\n<p>desired output</p>\n\n<pre><code>index   | A   | B   |\n--------|-----|-----|\n2       | X   | C   |  \n3       | X   | A   |\n4       | X   | C   |\n5       | X   | ... |  \n8       | Y   | C   |  \n9       | Y   | A   |\n10      | Y   | C   |\n11      | Y   | ... |  \n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "dataset", "pivot"], "comments": [{"owner": {"reputation": 1, "user_id": 8787177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecde5fcbf5ecbdb9b937f2d1a21988e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8787177/patrick"}, "reply_to_user": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1522874495, "post_id": 49659649, "comment_id": 86329620, "body": "I can&#39;t figure out how to post a DataFrame like that in a code format. How would you recommend to do this?"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 1, "creation_date": 1522874615, "post_id": 49659649, "comment_id": 86329697, "body": "print <code>df.head(10)</code>, or even better <code>df[[&#39;insert&#39;, &#39;relevant&#39;, &#39;column&#39;, &#39;names&#39;, &#39;here&#39;]].head(10)</code>, and paste the output as text into your question, using the curly brace icon to format as code. also see how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 1, "user_id": 8787177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecde5fcbf5ecbdb9b937f2d1a21988e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8787177/patrick"}, "reply_to_user": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1522875034, "post_id": 49659649, "comment_id": 86329929, "body": "Okay but the output for head(10) looks like this:  color\tdirector_name\tnum_critic_for_reviews\tduration\tdirector&zwnj;&#8203;_facebook_likes\tacto&zwnj;&#8203;r_3_facebook_likes\ta&zwnj;&#8203;ctor_2_name\tactor_1_&zwnj;&#8203;facebook_likes\tgross&zwnj;&#8203;\tgenres\t...\tnum_user&zwnj;&#8203;_for_reviews\tlanguag&zwnj;&#8203;e\tcountry\tcontent_ra&zwnj;&#8203;ting\tbudget\ttitle_ye&zwnj;&#8203;ar\tactor_2_facebook_&zwnj;&#8203;likes\timdb_score\tasp&zwnj;&#8203;ect_ratio\tmovie_face&zwnj;&#8203;book_likes 0\tColor\tJames Cameron\t723.0\t178.0\t0.0\t855.0\tJoel David Moore\t1000.0\t760505847.0\tAction|Adventure|Fantasy|Sci-Fi\t...&zwnj;&#8203;\t3054.0\tEnglish\tUSA\t&zwnj;&#8203;PG-13\t237000000.0\t20&zwnj;&#8203;09.0\t936.0\t7.9\t1.78\t&zwnj;&#8203;33000 1\tColor\tGore Verbinski\t302.0\t169.0\t563.0\t1000.0\tOrlando Bloom\t40000.0\t3090"}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 1, "creation_date": 1522876963, "post_id": 49659649, "comment_id": 86330906, "body": "@Patrick, it would help if you could edit the output of <code>df.head(10)</code> into your question. Comments strip out newlines. In the meantime, when you say &quot;reshape (not aggregate),&quot; what is your expected output? Something like <code>df.set_index(&#39;movie_title&#39;)[[&#39;director_name&#39; , &#39;imdb_score&#39;]]</code>?"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1522876989, "post_id": 49659649, "comment_id": 86330918, "body": "Please look at how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and reformat your question. It&#39;s best to have data to play with, and to know what is your expected output. Perhaps someone can answer your question without it, but you&#39;ll have better chances by providing a better example"}, {"owner": {"reputation": 1, "user_id": 8787177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecde5fcbf5ecbdb9b937f2d1a21988e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8787177/patrick"}, "edited": false, "score": 0, "creation_date": 1522877554, "post_id": 49659649, "comment_id": 86331187, "body": "Okay I reformated the question. Is that what you meant?"}, {"owner": {"reputation": 1, "user_id": 8787177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecde5fcbf5ecbdb9b937f2d1a21988e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8787177/patrick"}, "reply_to_user": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1522877727, "post_id": 49659649, "comment_id": 86331282, "body": "@Peter Leimbigler, my expected output is just to reshape the data to a  derivative DataFrame with index and columns categorized in a way that are more appropriate for further analysis"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "edited": false, "score": 0, "creation_date": 1522877729, "post_id": 49659649, "comment_id": 86331284, "body": "Better, I edited it a bit, but at least there is something for people to play with. Thanks!"}, {"owner": {"reputation": 1, "user_id": 8787177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecde5fcbf5ecbdb9b937f2d1a21988e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8787177/patrick"}, "edited": false, "score": 0, "creation_date": 1522877787, "post_id": 49659649, "comment_id": 86331311, "body": "Oh that looks nice, thanks!"}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1522879234, "post_id": 49659649, "comment_id": 86331923, "body": "@Patrick, specifically what index, columns, and cell values would your output contain? You may not need <code>pivot</code> if you don&#39;t plan to aggregate any values. Closer to your needs could be <code>pd.melt</code>."}, {"owner": {"reputation": 1, "user_id": 8787177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecde5fcbf5ecbdb9b937f2d1a21988e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8787177/patrick"}, "reply_to_user": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1522879862, "post_id": 49659649, "comment_id": 86332184, "body": "Is pd.melt more common for reshaping a DataFrame than pivot() ? - I want &quot;movie_title&quot; as the index and the remaining elements as columns. But not all, there are some elements that I want to exclude. Thank you @Peter"}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "edited": false, "score": 0, "creation_date": 1522894316, "post_id": 49659649, "comment_id": 86336141, "body": "@Patrick, <code>pd.melt</code> is an advanced method to reshape data (check out this guide: <a href=\"https://deparkes.co.uk/2016/10/28/reshape-pandas-data-with-melt/\" rel=\"nofollow noreferrer\">deparkes.co.uk/2016/10/28/reshape-pandas-data-with-melt</a>). For your purpose, I think all you need is this command from my earlier comment: <code>df.set_index(&#39;movie_title&#39;)[[&#39;director_name&#39; , &#39;imdb_score&#39;]]</code>"}, {"owner": {"reputation": 713, "user_id": 1295023, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9fa7aa4f02857f882e24833e41d23106?s=128&d=identicon&r=PG", "display_name": "avg", "link": "https://stackoverflow.com/users/1295023/avg"}, "edited": false, "score": 0, "creation_date": 1549014554, "post_id": 49659649, "comment_id": 95760769, "body": "@Patrick, were you able to solve this problem?"}], "owner": {"reputation": 1, "user_id": 8787177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecde5fcbf5ecbdb9b937f2d1a21988e?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/8787177/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1522877623, "creation_date": 1522872821, "last_edit_date": 1522877623, "question_id": 49659649, "link": "https://stackoverflow.com/questions/49659649/how-can-i-reshape-this-dataframe-with-pivot-function", "title": "How can I reshape this DataFrame with Pivot function?", "body": "<p>I work with this movies dataset containing following information: </p>\n\n<pre><code>df.head(10) \n\ncolor   director_name   num_critic_for_reviews  duration    director_facebook_likes actor_3_facebook_likes  actor_2_name    actor_1_facebook_likes  gross   genres  ... num_user_for_reviews    language    country content_rating  budget  title_year  actor_2_facebook_likes  imdb_score  aspect_ratio    movie_facebook_likes\n0   Color   James Cameron   723.0   178.0   0.0 855.0   Joel David Moore    1000.0  760505847.0 Action|Adventure|Fantasy|Sci-Fi ... 3054.0  English USA PG-13   237000000.0 2009.0  936.0   7.9 1.78    33000\n1   Color   Gore Verbinski  302.0   169.0   563.0   1000.0  Orlando Bloom   40000.0 309404152.0 Action|Adventure|Fantasy    ... 1238.0  English USA PG-13   300000000.0 2007.0  5000.0  7.1 2.35    0\n2   Color   Sam Mendes  602.0   148.0   0.0 161.0   Rory Kinnear    11000.0 200074175.0 Action|Adventure|Thriller   ... 994.0   English UK  PG-13   245000000.0 2015.0  393.0   6.8 2.35    85000\n3   Color   Christopher Nolan   813.0   164.0   22000.0 23000.0 Christian Bale  27000.0 448130642.0 Action|Thriller ... 2701.0  English USA PG-13   250000000.0 2012.0  23000.0 8.5 2.35    164000\n4   NaN Doug Walker NaN NaN 131.0   NaN Rob Walker  131.0   NaN Documentary ... NaN NaN NaN NaN NaN NaN 12.0    7.1 NaN 0\n5   Color   Andrew Stanton  462.0   132.0   475.0   530.0   Samantha Morton 640.0   73058679.0  Action|Adventure|Sci-Fi ... 738.0   English USA PG-13   263700000.0 2012.0  632.0   6.6 2.35    24000\n6   Color   Sam Raimi   392.0   156.0   0.0 4000.0  James Franco    24000.0 336530303.0 Action|Adventure|Romance    ... 1902.0  English USA PG-13   258000000.0 2007.0  11000.0 6.2 2.35    0\n7   Color   Nathan Greno    324.0   100.0   15.0    284.0   Donna Murphy    799.0   200807262.0 Adventure|Animation|Comedy|Family|Fantasy|Musi...   ... 387.0   English USA PG  260000000.0 2010.0  553.0   7.8 1.85    29000\n8   Color   Joss Whedon 635.0   141.0   0.0 19000.0 Robert Downey Jr.   26000.0 458991599.0 Action|Adventure|Sci-Fi ... 1117.0  English USA PG-13   250000000.0 2015.0  21000.0 7.5 2.35    118000\n9   Color   David Yates 375.0   153.0   282.0   10000.0 Daniel Radcliffe    25000.0 301956980.0 Adventure|Family|Fantasy|Mystery    ... 973.0   English UK  PG  250000000.0 2009.0  11000.0 7.5 2.35    10000\n</code></pre>\n\n<p><code>df.columns</code></p>\n\n<pre><code>Index(['color', 'director_name', 'num_critic_for_reviews', 'duration',\n       'director_facebook_likes', 'actor_3_facebook_likes', 'actor_2_name',\n       'actor_1_facebook_likes', 'gross', 'genres', 'actor_1_name',\n       'movie_title', 'num_voted_users', 'cast_total_facebook_likes',\n       'actor_3_name', 'facenumber_in_poster', 'plot_keywords',\n       'movie_imdb_link', 'num_user_for_reviews', 'language', 'country',\n       'content_rating', 'budget', 'title_year', 'actor_2_facebook_likes',\n       'imdb_score', 'aspect_ratio', 'movie_facebook_likes'],\n      dtype='object')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qazSy.png\" rel=\"nofollow noreferrer\">Screenshot of the data (Notebook format)</a></p>\n\n<p>I would like to reshape (not aggregate) this data with pivot function. </p>\n\n<p>I have tried to do that with this code: </p>\n\n<pre><code>    pivoted = df.pivot( index= 'movie_title' , columns= [ 'director_name' , 'imdb_score' ] ) \n</code></pre>\n\n<p>But i get this \"ValueError\":</p>\n\n<pre><code> ValueError: all arrays must be same length\n</code></pre>\n\n<p>When I change the code to:</p>\n\n<pre><code>pivoted = df.pivot( index= 'movie_title' ) \n</code></pre>\n\n<p>I get this error: </p>\n\n<pre><code>ValueError: cannot label index with a null key\n</code></pre>\n\n<p>What do I wrong here? </p>\n\n<p>Any help would be much appreciated.</p>\n\n<p>Further explanation:</p>\n\n<blockquote>\n  <p>ValueError                                Traceback (most recent call last)\n   in ()\n  ----> 1 pivoted = df.pivot( index= 'movie_title' , columns= [ 'director_name' , >'imdb_score' ] )</p>\n  \n  <p>~\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py in pivot(self, index, >columns, values)\n    4380         \"\"\"\n    4381         from pandas.core.reshape.reshape import pivot\n  -> 4382         return pivot(self, index=index, columns=columns, values=values)\n    4383 \n    4384     _shared_docs['pivot_table'] = \"\"\"</p>\n  \n  <p>~\\Anaconda3\\lib\\site-packages\\pandas\\core\\reshape\\reshape.py in pivot(self, >index, columns, values)\n     378         cols = [columns] if index is None else [index, columns]\n     379         append = index is None\n  --> 380         indexed = self.set_index(cols, append=append)\n     381         return indexed.unstack(columns)\n     382     else:</p>\n  \n  <p>~\\Anaconda3\\lib\\site-packages\\pandas\\core\\frame.py in set_index(self, keys, >drop, append, inplace, verify_integrity)\n    3150             arrays.append(level)\n    3151 \n  -> 3152         index = _ensure_index_from_sequences(arrays, names)\n    3153 \n    3154         if verify_integrity and not index.is_unique:</p>\n  \n  <p>~\\Anaconda3\\lib\\site-packages\\pandas\\core\\indexes\\base.py in >_ensure_index_from_sequences(sequences, names)\n    4150         return Index(sequences[0], name=names)\n    4151     else:\n  -> 4152         return MultiIndex.from_arrays(sequences, names=names)\n    4153 \n    4154 </p>\n  \n  <p>~\\Anaconda3\\lib\\site-packages\\pandas\\core\\indexes\\multi.py in from_arrays(cls, >arrays, sortorder, names)\n    1144         for i in range(1, len(arrays)):\n    1145             if len(arrays[i]) != len(arrays[i - 1]):\n  -> 1146                 raise ValueError('all arrays must be same length')\n    1147 \n    1148         from pandas.core.categorical import _factorize_from_iterables</p>\n  \n  <p>ValueError: all arrays must be same length</p>\n</blockquote>\n"}, {"tags": ["python", "django", "file-upload", "upload"], "comments": [{"owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "edited": false, "score": 1, "creation_date": 1522873122, "post_id": 49659648, "comment_id": 86328933, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5871730/need-a-minimal-django-file-upload-example\">Need a minimal Django file upload example</a>"}, {"owner": {"reputation": 849, "user_id": 9046380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2a3901a83058a91ac4c28c37b4cc87c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus Grass", "link": "https://stackoverflow.com/users/9046380/marcus-grass"}, "reply_to_user": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "edited": false, "score": 0, "creation_date": 1522874566, "post_id": 49659648, "comment_id": 86329672, "body": "@dirkgroten I did see that example, but the problem was that I don&#39;t want to save it to a model, but directly to a disk location."}, {"owner": {"reputation": 17233, "user_id": 1252711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08b41a1b3d93fd1233a518e340de31b9?s=128&d=identicon&r=PG", "display_name": "dirkgroten", "link": "https://stackoverflow.com/users/1252711/dirkgroten"}, "edited": false, "score": 2, "creation_date": 1522875090, "post_id": 49659648, "comment_id": 86329960, "body": "But that&#39;s the basic example of <code>FileField</code> in the official <a href=\"https://docs.djangoproject.com/en/2.0/topics/http/file-uploads/\" rel=\"nofollow noreferrer\">Django documentation</a>, did you read it? (see <code>handle_uploaded_file</code> method!)"}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 5358745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef6acc02a08bf0656761014ad645f1?s=128&d=identicon&r=PG&f=1", "display_name": "Wendinoda Washaya", "link": "https://stackoverflow.com/users/5358745/wendinoda-washaya"}, "is_accepted": false, "score": 1, "last_activity_date": 1522942220, "creation_date": 1522942220, "answer_id": 49676210, "question_id": 49659648, "link": "https://stackoverflow.com/questions/49659648/django-save-uploaded-file-to-disk/49676210#49676210", "title": "Django save uploaded file to disk", "body": "<p>Pass FileSystemStorage to FileField in models where FileSystemStorage has the storage directory</p>\n\n<pre><code>from django.core.files.storage import FileSystemStorage\n\nfs = FileSystemStorage(location = 'media/files/')\n\nclass UploadModel(models.Model):\n    title=forms.CharField(max_length = 50)\n    file=forms.FileField(storage = fs)\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 9046380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2a3901a83058a91ac4c28c37b4cc87c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcus Grass", "link": "https://stackoverflow.com/users/9046380/marcus-grass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1801, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522942220, "creation_date": 1522872821, "question_id": 49659648, "link": "https://stackoverflow.com/questions/49659648/django-save-uploaded-file-to-disk", "title": "Django save uploaded file to disk", "body": "<p>I'm trying to save a file to disk, not in a class or anything just straight to disk but I can't for the life of me figure out how.</p>\n\n<p>So far I've got: </p>\n\n<p>View: `</p>\n\n<pre><code>def uploadview(request):\n    uploadtestvar='Uploadpage!'\n    request.session['test']='Is this working?'\n    if request.method == 'POST':\n        form=UploadForm(request.POST, request.FILES)\n        if form.is_valid():\n            forcetitle='test'\n            try:\n                pass\n            except:\n                pass\n            return HttpResponseRedirect('/test/')\n    else:\n        form=UploadForm()\n\n    return render(request, 'test/uploads.html',{'uploadtestvar':uploadtestvar, 'form':form})`\n</code></pre>\n\n<p>Form stolen directly from Django:</p>\n\n<pre><code>from django import forms\n\nclass UploadForm(forms.Form):\n    title=forms.CharField(max_length=50)\n    file=forms.FileField()\n</code></pre>\n\n<p>I've searched countless threads and found none that gives an example simple enough for me to understand how to get that request.FILES['file'] saved to disk somewhere. The possible filetypes are png, jpg, and pdf.</p>\n"}, {"tags": ["python", "string", "python-3.x", "file"], "comments": [{"owner": {"reputation": 1534, "user_id": 5568528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ji3hn.jpg?s=128&g=1", "display_name": "Steven Black", "link": "https://stackoverflow.com/users/5568528/steven-black"}, "edited": false, "score": 0, "creation_date": 1522872716, "post_id": 49659606, "comment_id": 86328729, "body": "could we see more of your code?"}, {"owner": {"reputation": 3322, "user_id": 6766457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b32dab91c17be7b8a4b0796836b2d27?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/6766457/nathan"}, "edited": false, "score": 5, "creation_date": 1522872727, "post_id": 49659606, "comment_id": 86328733, "body": "Is there a variable named &#39;open&#39;?"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1522872736, "post_id": 49659606, "comment_id": 86328738, "body": "sounds like you have assigned <code>open</code> to a variable"}, {"owner": {"reputation": 27, "user_id": 9583079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7fd207ddc9e8221a9c62b321fb8b97?s=128&d=identicon&r=PG&f=1", "display_name": "Skulli01", "link": "https://stackoverflow.com/users/9583079/skulli01"}, "edited": false, "score": 0, "creation_date": 1522872875, "post_id": 49659606, "comment_id": 86328805, "body": "I did it on the interactive shell so this is all i have. &quot;Automate the boring stuff with python&quot;(The book) Has the same example, and it works"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 3, "creation_date": 1522872893, "post_id": 49659606, "comment_id": 86328815, "body": "<code>print(type(open))</code> in your shell. You should get <code>&lt;class &#39;builtin_function_or_method&#39;&gt;</code>. If you don&#39;t then your environment or your previous code has redefined <code>open</code> as a string"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9583079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7fd207ddc9e8221a9c62b321fb8b97?s=128&d=identicon&r=PG&f=1", "display_name": "Skulli01", "link": "https://stackoverflow.com/users/9583079/skulli01"}, "edited": false, "score": 0, "creation_date": 1522873053, "post_id": 49659651, "comment_id": 86328897, "body": "I did the same on pycahrm and it works! thanks. How come it doesn&#39;t work on the interactive shell?"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "reply_to_user": {"reputation": 27, "user_id": 9583079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7fd207ddc9e8221a9c62b321fb8b97?s=128&d=identicon&r=PG&f=1", "display_name": "Skulli01", "link": "https://stackoverflow.com/users/9583079/skulli01"}, "edited": false, "score": 0, "creation_date": 1522873086, "post_id": 49659651, "comment_id": 86328919, "body": "@Skulli01 <code>print(type(open))</code> in your shell. You should get <code>&lt;class &#39;builtin_function_or_method&#39;&gt;</code>. If you don&#39;t, then your environment or your previous code has redefined <code>open</code> as a string"}, {"owner": {"reputation": 27, "user_id": 9583079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7fd207ddc9e8221a9c62b321fb8b97?s=128&d=identicon&r=PG&f=1", "display_name": "Skulli01", "link": "https://stackoverflow.com/users/9583079/skulli01"}, "edited": false, "score": 1, "creation_date": 1522873257, "post_id": 49659651, "comment_id": 86329007, "body": "yeah it says (class,str), i did this: open = (&#39;C:\\\\Users\\\\Suraj Kalidindi\\\\hyeyyy&#39;) so it didnt work. thanks a ton :)"}, {"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "reply_to_user": {"reputation": 27, "user_id": 9583079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7fd207ddc9e8221a9c62b321fb8b97?s=128&d=identicon&r=PG&f=1", "display_name": "Skulli01", "link": "https://stackoverflow.com/users/9583079/skulli01"}, "edited": false, "score": 0, "creation_date": 1522879142, "post_id": 49659651, "comment_id": 86331870, "body": "Please consider accepting this answer if it works for you @Skulli01"}], "tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": false, "score": 2, "last_activity_date": 1522872842, "creation_date": 1522872842, "answer_id": 49659651, "question_id": 49659606, "link": "https://stackoverflow.com/questions/49659606/how-to-open-a-text-file-in-python-3-0/49659651#49659651", "title": "How to open a text file in python 3.0", "body": "<p>A <code>callable</code> has a <code>__call__</code> method defined, meaning you can follow it with <code>()</code> to invoke its functionality. </p>\n\n<p><code>open</code> is a reserved keyword, which, if overridden by a variable, shows the behavior you are seeing.</p>\n\n<p>Using a text editor that supports the python syntax with highlighting can help you avoid issues like this.</p>\n"}], "owner": {"reputation": 27, "user_id": 9583079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b7fd207ddc9e8221a9c62b321fb8b97?s=128&d=identicon&r=PG&f=1", "display_name": "Skulli01", "link": "https://stackoverflow.com/users/9583079/skulli01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1522881490, "answer_count": 1, "score": 0, "last_activity_date": 1522917322, "creation_date": 1522872663, "last_edit_date": 1522917322, "question_id": 49659606, "link": "https://stackoverflow.com/questions/49659606/how-to-open-a-text-file-in-python-3-0", "closed_reason": "Not suitable for this site", "title": "How to open a text file in python 3.0", "body": "<p>Hey So i typed in this code:</p>\n\n<pre><code>opennote = open('C:\\\\Users\\\\My_username\\\\coolnotepad.txt')\n</code></pre>\n\n<p>(with my username ofc)\nyet i keep getting this</p>\n\n<pre><code>TypeError: 'str' object is not callable\n</code></pre>\n\n<p>Helpp!</p>\n"}, {"tags": ["python", "csv", "tensorflow", "rnn"], "answers": [{"tags": [], "owner": {"reputation": 1860, "user_id": 7943474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47ce5c2efa9b8f5ac5f5af032625fac?s=128&d=identicon&r=PG&f=1", "display_name": "Neb", "link": "https://stackoverflow.com/users/7943474/neb"}, "is_accepted": false, "score": 0, "last_activity_date": 1527411880, "creation_date": 1527411880, "answer_id": 50550598, "question_id": 49659536, "link": "https://stackoverflow.com/questions/49659536/tensorflow-csv-input-pipline-shuffle-batches-but-preserve-sequence-order-within/50550598#50550598", "title": "Tensorflow csv input pipline: Shuffle batches but preserve sequence order within each batch", "body": "<p>As far as I know, there no simple way to do it in Tensorflow.</p>\n\n<p>But, you can do it manually:</p>\n\n<pre><code>import numpy as np\nimport random\n\ndef get_next_batch(data, batch_size):\n    size = data.shape[0]\n    rand_samples = random.sample(data[:, 0, 0], batch_size)\n    data_batch = np.array([data[i] for i in range(size) if data[i, 0, 0] in rand_samples])\n    return data_batch\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9333513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdda17a0ffce79c1e05c1276380222cb?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/9333513/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527411880, "creation_date": 1522872426, "question_id": 49659536, "link": "https://stackoverflow.com/questions/49659536/tensorflow-csv-input-pipline-shuffle-batches-but-preserve-sequence-order-within", "title": "Tensorflow csv input pipline: Shuffle batches but preserve sequence order within each batch", "body": "<p>I build a recurrent neural network in tensorflow. Then I build a pipeline to import training data from my dataset (within a csv file) into my model. The procedure in the code section (source: <a href=\"https://www.tensorflow.org/api_guides/python/reading_data\" rel=\"nofollow noreferrer\">here</a>) works perfectly. </p>\n\n<pre><code>filename_queue = tf.train.string_input_producer([\"file0.csv\", \"file1.csv\"])\n\nreader = tf.TextLineReader()\nkey, value = reader.read(filename_queue)\n\n# Default values, in case of empty columns. Also specifies the type of the\n# decoded result.\nrecord_defaults = [[1], [1], [1], [1], [1]]\ncol1, col2, col3, col4, col5 = tf.decode_csv(\n    value, record_defaults=record_defaults)\nfeatures = tf.stack([col1, col2, col3, col4])\n\nwith tf.Session() as sess:\n  # Start populating the filename queue.\n  coord = tf.train.Coordinator()\n  threads = tf.train.start_queue_runners(coord=coord)\n\n  for i in range(1200):\n    # Retrieve a single instance:\n    example, label = sess.run([features, col5])\n\n  coord.request_stop()\n  coord.join(threads)\n</code></pre>\n\n<p>The only additional thing is, that I use </p>\n\n<pre><code>data_batch = tf.train.batch(\n                [features], batch_size=n_steps_mul_batch_size, capacity=capacity)\ndata_batch_reshaped = tf.reshape(\n            data_batch, [batch_size, n_steps, feature_num])\n</code></pre>\n\n<p>to create batches for training in the shape [batch_size x timesteps x features].</p>\n\n<p><strong>Now my question:</strong></p>\n\n<p>I want to pass randomized/shuffled training data to my model, but at the same time preserve the sequence ordering within each batch. So the batches as a whole should be randomized/shuffled, but the sequences within each batch should preserve the original sequence order. Is there a simple way to do that?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2932, "user_id": 5770658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e3e0c78a33e4620eb8436e182535e2?s=128&d=identicon&r=PG&f=1", "display_name": "internet_user", "link": "https://stackoverflow.com/users/5770658/internet-user"}, "edited": false, "score": 0, "creation_date": 1522872252, "post_id": 49659474, "comment_id": 86328482, "body": "If you just type that in the terminal, it will print the <code>repr</code>, which will have <code>\\n</code> and such. What if you print it instead?"}], "answers": [{"tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": false, "score": 0, "last_activity_date": 1522872398, "creation_date": 1522872398, "answer_id": 49659525, "question_id": 49659474, "link": "https://stackoverflow.com/questions/49659474/web-scraping-via-python-requests-returning-gibberish/49659525#49659525", "title": "Web Scraping via Python Requests returning gibberish", "body": "<p>Call <code>print(page.content)</code></p>\n\n<p>It will encode the returns, etc. as they should appear (newlines, tabs, etc.)</p>\n\n<p>A test:</p>\n\n<pre><code>s = \"\"\"\n     Hey\n    \\r\\r\\r\\r\\r Look\n    \\t\\t\\t\\t\\t\\t Here\"\"\"\nprint(s)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> Hey\n\n\n\n\n\n Look\n                             Here\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 6421492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d969344dbfceda798a82b9a8e563d38e?s=128&d=identicon&r=PG&f=1", "display_name": "sccrbrg", "link": "https://stackoverflow.com/users/6421492/sccrbrg"}, "edited": false, "score": 0, "creation_date": 1522876335, "post_id": 49659620, "comment_id": 86330589, "body": "I tried this but got an error at Soup = BeautifulSou(page.text) for not identifying a parser and then another error at the find script piece for not defining &quot;none&quot;?"}, {"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "reply_to_user": {"reputation": 69, "user_id": 6421492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d969344dbfceda798a82b9a8e563d38e?s=128&d=identicon&r=PG&f=1", "display_name": "sccrbrg", "link": "https://stackoverflow.com/users/6421492/sccrbrg"}, "edited": false, "score": 0, "creation_date": 1522880904, "post_id": 49659620, "comment_id": 86332537, "body": "@sccrbrg: you only get a warning at the <code>soup =</code> line because no parser is specified. Read the warning text and it tells you how to resolve it. As for the other error, I don&#39;t have any problems running this code. You&#39;ll have to post the full traceback of the error message."}, {"owner": {"reputation": 69, "user_id": 6421492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d969344dbfceda798a82b9a8e563d38e?s=128&d=identicon&r=PG&f=1", "display_name": "sccrbrg", "link": "https://stackoverflow.com/users/6421492/sccrbrg"}, "edited": false, "score": 0, "creation_date": 1522976445, "post_id": 49659620, "comment_id": 86378987, "body": "So I did get that to work by running the whole code at once, I was trying to run it line by line and ran into an issue for some reason. I was planning on using the html tags to identify the items that i wanted to isolate but given the format I don&#39;t think that will work here. Any suggestions? I appreciate the help."}, {"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "reply_to_user": {"reputation": 69, "user_id": 6421492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d969344dbfceda798a82b9a8e563d38e?s=128&d=identicon&r=PG&f=1", "display_name": "sccrbrg", "link": "https://stackoverflow.com/users/6421492/sccrbrg"}, "edited": false, "score": 0, "creation_date": 1522985625, "post_id": 49659620, "comment_id": 86381032, "body": "@sccrbrg: Search through the JSON for the data you want, it&#39;s structured. For example, look at the dictionaries in <code>data[&#39;data&#39;][&#39;content&#39;][0][&#39;context&#39;][&#39;units&#39;]</code>."}], "tags": [], "owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "is_accepted": false, "score": 0, "last_activity_date": 1522873023, "last_edit_date": 1522873023, "creation_date": 1522872704, "answer_id": 49659620, "question_id": 49659474, "link": "https://stackoverflow.com/questions/49659474/web-scraping-via-python-requests-returning-gibberish/49659620#49659620", "title": "Web Scraping via Python Requests returning gibberish", "body": "<p>What you see with a browser's developer tools doesn't correspond to what's in the HTML returned by the webserver. Look at the source code in your web browser and you will see that <em>all</em> of the webpage's content is generated with JavaScript from the JSON contained in the <code>&lt;script&gt;</code> tags.</p>\n\n<p>This makes your life a lot easier, since you don't have to worry much about parsing the HTML and only extract the data from the JSON:</p>\n\n<pre><code>import json\nfrom bs4 import BeautifulSoup\n\n...\n\nsoup = BeautifulSoup(page.text)\n\n# Find the `script` tag with no `src` and 'window.jsonData' in its text\nscript = soup.find('script', src=None, text=lambda text: 'window.jsonData' in text).get_text()\n\n\n# The JSON is part of script, so just remove the extra stuff\nscript = script.strip().replace('window.jsonData = ', '').rstrip(';')\n\n# Now parse it\ndata = json.loads(script)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "edited": false, "score": 1, "creation_date": 1523031997, "post_id": 49660344, "comment_id": 86407292, "body": "Thank you for showing me <code>requests_html</code>, it&#39;s very simple to use. If you want to fix your code, change <code>Session</code> to <code>HTMLSession</code> and call <code>r.html.render()</code> to actually render the page. After that, <code>r.html.find(&#39;some#css.selector&#39;)</code> will work."}], "tags": [], "owner": {"reputation": 1395, "user_id": 2699643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ehXrG.jpg?s=128&g=1", "display_name": "toheedNiaz", "link": "https://stackoverflow.com/users/2699643/toheedniaz"}, "is_accepted": false, "score": 1, "last_activity_date": 1522875609, "creation_date": 1522875609, "answer_id": 49660344, "question_id": 49659474, "link": "https://stackoverflow.com/questions/49659474/web-scraping-via-python-requests-returning-gibberish/49660344#49660344", "title": "Web Scraping via Python Requests returning gibberish", "body": "<p><strong>Issue :</strong></p> \nProblem you are facing is that there are embedded javascript in htmls due to which you will see data missing in html page. so here([requests_html]) is a very nice library designed to request htmls by kennethreitz </p>\n\n<p><strong>Sample Code :</strong></p></p>\n\n<pre><code>from requests_html import *\nsessions = Session()\nr = sessions.get('https://www.usstoragecenters.com/storage-units/fl/north-miami-beach/15555-w-dixie-hwy')\nfor lines in r.iter_lines() :\n    print(lines)\n</code></pre>\n\n<p><strong>Sample output</strong></p>\n\n<p>Due to the comment size limtation i cannot post the full html , here is the piece of HTML printed with above print </p>\n\n<pre><code>b'&lt;!doctype html&gt;'\nb'&lt;html&gt;'\nb'&lt;head&gt;'\nb'&lt;meta charset=\"utf-8\"&gt;'\nb'&lt;title&gt;Self Storage Units at 15555 West Dixie Highway, North Miami Beach, FL 33162 | US Storage Centers&lt;/title&gt;'\nb'&lt;base href=\"/\"&gt;'\nb'&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\" /&gt;'\nb'&lt;meta name=\"description\" content=\"Brand New Facility Grand Opening! Special 50% Off Self Storage. Friendly Service. Reserve Online for Free. No Credit Card Required.\" /&gt;'\nb'&lt;meta property=\"og:type\" content=\"website\" /&gt;'\nb'&lt;meta property=\"og:locale\" content=\"en_US\" /&gt;'\nb'&lt;meta property=\"og:site_name\" content=\"US Storage Centers\" /&gt;'\nb'&lt;meta property=\"og:title\" content=\"Self Storage North Miami Beach\" /&gt;'\nb'&lt;meta property=\"og:url\" content=\"https://www.usstoragecenters.com/storage-units/fl/north-miami-beach/15555-w-dixie-hwy\" /&gt;'\nb'&lt;meta property=\"og:description\" content=\"Brand New Facility Grand Opening! Special 50% Off Self Storage. Friendly Service. Reserve Online for Free. No Credit Card Required.\" /&gt;'\nb'&lt;meta property=\"og:image\" content=\"https://www.usstoragecenters.com/www/images/ussc_facility_photos/168/2017-06-15_00-37-08_Self%20Storage%20Building%20Exterior%20Front%20-%20North%20Miami%20Beach%20West%20Dixie%20IMG_5237%208.jpg\" /&gt;'\nb'&lt;script type=\"application/ld+json\"&gt;'\nb'            {'\nb'                    \"@context\": \"http://schema.org\",'\nb'                    \"@type\": \"WebPage\"'\nb'                    ,\"breadcrumb\": {'\nb'                            \"@context\": \"http://schema.org\",'\nb'                            \"@type\": \"BreadcrumbList\",'\nb'                            \"itemListElement\": [{'\nb'                    \"@type\": \"ListItem\",'\nb'                    \"name\": \"US Storage Centers\",'\nb'                    \"url\": \"https://www.usstoragecenters.com/\",'\nb'                    \"position\": 0'\nb'                }, {'\nb'                    \"@type\": \"ListItem\",'\nb'                    \"name\": \"Storage Units\",'\nb'                    \"url\": \"https://www.usstoragecenters.com/storage-units\",'\nb'                    \"position\": 1'\nb'                }, {'\nb'                    \"@type\": \"ListItem\",'\nb'                    \"name\": \"FL\",'\nb'                    \"url\": \"https://www.usstoragecenters.com/storage-units/fl\",'\nb'                    \"position\": 2'\nb'                }, {'\n\n **...... truncated  .....**\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 6421492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d969344dbfceda798a82b9a8e563d38e?s=128&d=identicon&r=PG&f=1", "display_name": "sccrbrg", "link": "https://stackoverflow.com/users/6421492/sccrbrg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1522875609, "creation_date": 1522872161, "last_edit_date": 1522872301, "question_id": 49659474, "link": "https://stackoverflow.com/questions/49659474/web-scraping-via-python-requests-returning-gibberish", "title": "Web Scraping via Python Requests returning gibberish", "body": "<p>I'm very, very new to Python and thought I would try to experiment with some practical applications.</p>\n\n<p>I'm trying to put together a basic web price scraper using the requests library. I picked this webpage :<a href=\"https://www.usstoragecenters.com/storage-units/fl/north-miami-beach/15555-w-dixie-hwy\" rel=\"nofollow noreferrer\">https://www.usstoragecenters.com/storage-units/fl/north-miami-beach/15555-w-dixie-hwy</a></p>\n\n<p>This is the basic structure that I am using:</p>\n\n<pre><code>import requests\n\npage = requests.get(\"my url from above\")\npage\n\npage.content\n</code></pre>\n\n<p>But for some reason the html print via .content or .text looks very wrong. Instead of seeing the html structure I get what looks like a ton of carriage returns. There is definitely missing data.</p>\n\n<p>I tried parsing using beautiful soup (html-parser,html5lib, etc.) which cut out even more of the data.</p>\n\n<p>Is this just coded in a way that blocks scraping or am I doing something wrong? </p>\n"}, {"tags": ["python", "virtualenv"], "answers": [{"tags": [], "owner": {"reputation": 3271, "user_id": 7607701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-0eLxeTB_SdQ/AAAAAAAAAAI/AAAAAAAAABg/XZT1oaa0wqA/photo.jpg?sz=128", "display_name": "Aaron N. Brock", "link": "https://stackoverflow.com/users/7607701/aaron-n-brock"}, "is_accepted": false, "score": 3, "last_activity_date": 1522875800, "last_edit_date": 1522875800, "creation_date": 1522872498, "answer_id": 49659560, "question_id": 49659422, "link": "https://stackoverflow.com/questions/49659422/using-python-venv-from-script/49659560#49659560", "title": "using Python venv from script", "body": "<p>Python looks through the values in <code>sys.path</code> for site-packages and these values are automatically set when you execute <code>python3</code> or <code>python</code> by the <code>site</code> package.  Which, is imported during initialization (unless suppressed via the <code>-S</code> flag) </p>\n\n<p>You can refer to the <a href=\"https://docs.python.org/3.7/library/site.html\" rel=\"nofollow noreferrer\"><code>site</code></a> package documentation for more details about how exactly this is done.</p>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 5, "last_activity_date": 1522874427, "last_edit_date": 1522874427, "creation_date": 1522873332, "answer_id": 49659757, "question_id": 49659422, "link": "https://stackoverflow.com/questions/49659422/using-python-venv-from-script/49659757#49659757", "title": "using Python venv from script", "body": "<p>This magic happens with <a href=\"https://docs.python.org/3/library/sys.html#sys.prefix\" rel=\"noreferrer\"><code>sys.prefix</code></a>.  </p>\n\n<blockquote>\n  <p>Note: If a virtual environment is in effect, this value will be changed in <code>site.py</code> to point to the virtual environment. The value for the Python installation will still be available, via <code>base_prefix</code>.</p>\n</blockquote>\n\n<p>The <code>site</code> module is imported (from system path!) at interpreter startup, and the <a href=\"https://github.com/python/cpython/blob/ee566fe526f3d069aa313578ee81ca6cbc25ff52/Lib/site.py#L484-L485\" rel=\"noreferrer\">site-packages dirs are appended to <code>sys.path</code> with the <code>sys.prefix</code></a>.  </p>\n\n<p>You can verify this for yourself by executing the python REPL with the <code>-S</code> flag to disable importing the site module.  You'll find that packages installed in the virtualenv are no longer visible by import statements (assuming they aren't already installed in system site-packages).</p>\n\n<p>Your next question is probably \"But how does site itself know if we're in a venv or not?\" and the answer is <a href=\"https://docs.python.org/3/library/venv.html#venv-def\" rel=\"noreferrer\">heuristic</a>:</p>\n\n<blockquote>\n  <p>A virtual environment is a directory tree which contains Python executable files and other files which indicate that it is a virtual environment.</p>\n</blockquote>\n\n<p>If a file named \"pyvenv.cfg\" exists one directory above <code>sys.executable</code>,\n<code>sys.prefix</code> and <code>sys.exec_prefix</code> are set to that directory.  Implemented <a href=\"https://github.com/python/cpython/blob/ee566fe526f3d069aa313578ee81ca6cbc25ff52/Lib/site.py#L446-L466\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 49659757, "answer_count": 2, "score": 1, "last_activity_date": 1522875800, "creation_date": 1522871940, "question_id": 49659422, "link": "https://stackoverflow.com/questions/49659422/using-python-venv-from-script", "title": "using Python venv from script", "body": "<p>After creating the virtual environment, If you have a shell script which calls:</p>\n\n<pre><code>/home/user/venv/python3 &lt;scriptname&gt;\n</code></pre>\n\n<p>How does it know where the virtualenv's site-packages folder is without source activating into the virtualenv (thus changing the path)?</p>\n"}, {"tags": ["python", "r", "normalization", "standardized"], "comments": [{"owner": {"reputation": 156564, "user_id": 324364, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KIazX.jpg?s=128&g=1", "display_name": "joran", "link": "https://stackoverflow.com/users/324364/joran"}, "edited": false, "score": 2, "creation_date": 1522872255, "post_id": 49659417, "comment_id": 86328484, "body": "It would help if we actually had Scale.csv so we could run and verify this ourselves."}, {"owner": {"reputation": 55045, "user_id": 1003565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd05397868614fcd87d9243c8025a725?s=128&d=identicon&r=PG", "display_name": "Dason", "link": "https://stackoverflow.com/users/1003565/dason"}, "edited": false, "score": 4, "creation_date": 1522872500, "post_id": 49659417, "comment_id": 86328612, "body": "I don&#39;t use Python much but it looks like it&#39;s transformation is using n in the denominator when calculating the variance to scale by and R is using (n-1) in the denominator."}, {"owner": {"reputation": 2149, "user_id": 9230249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30de55b4f5e963289ea3978d9bc5a34?s=128&d=identicon&r=PG&f=1", "display_name": "ngm", "link": "https://stackoverflow.com/users/9230249/ngm"}, "edited": false, "score": 1, "creation_date": 1522872539, "post_id": 49659417, "comment_id": 86328634, "body": "Are there missing values in the data?"}, {"owner": {"reputation": 156564, "user_id": 324364, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KIazX.jpg?s=128&g=1", "display_name": "joran", "link": "https://stackoverflow.com/users/324364/joran"}, "reply_to_user": {"reputation": 55045, "user_id": 1003565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd05397868614fcd87d9243c8025a725?s=128&d=identicon&r=PG", "display_name": "Dason", "link": "https://stackoverflow.com/users/1003565/dason"}, "edited": false, "score": 3, "creation_date": 1522872756, "post_id": 49659417, "comment_id": 86328752, "body": "@Dason i.e. R is using the <i>correct</i> denominator. (I&#39;m teasing.)"}, {"owner": {"reputation": 2149, "user_id": 9230249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30de55b4f5e963289ea3978d9bc5a34?s=128&d=identicon&r=PG&f=1", "display_name": "ngm", "link": "https://stackoverflow.com/users/9230249/ngm"}, "reply_to_user": {"reputation": 156564, "user_id": 324364, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KIazX.jpg?s=128&g=1", "display_name": "joran", "link": "https://stackoverflow.com/users/324364/joran"}, "edited": false, "score": 1, "creation_date": 1522873270, "post_id": 49659417, "comment_id": 86329011, "body": "@joran makes sense as R is for statisticians who think they are programmers and Python is for programmers who think they are statisticians."}, {"owner": {"reputation": 156564, "user_id": 324364, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KIazX.jpg?s=128&g=1", "display_name": "joran", "link": "https://stackoverflow.com/users/324364/joran"}, "reply_to_user": {"reputation": 2149, "user_id": 9230249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30de55b4f5e963289ea3978d9bc5a34?s=128&d=identicon&r=PG&f=1", "display_name": "ngm", "link": "https://stackoverflow.com/users/9230249/ngm"}, "edited": false, "score": 1, "creation_date": 1522873346, "post_id": 49659417, "comment_id": 86329052, "body": "@ngm &lt;chef kissing fingers animated gif&gt;"}, {"owner": {"reputation": 337, "user_id": 9362220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc71acb0f39975a4368597cf3430f2b?s=128&d=identicon&r=PG&f=1", "display_name": "BigData", "link": "https://stackoverflow.com/users/9362220/bigdata"}, "edited": false, "score": 0, "creation_date": 1522873856, "post_id": 49659417, "comment_id": 86329295, "body": "I added the original data, you guys can test"}], "answers": [{"comments": [{"owner": {"reputation": 18705, "user_id": 6461462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BlsdV.jpg?s=128&g=1", "display_name": "M--", "link": "https://stackoverflow.com/users/6461462/m"}, "edited": false, "score": 3, "creation_date": 1522872940, "post_id": 49659643, "comment_id": 86328840, "body": "Actually, what @joran pointed out as a teasing is somewhat right. As the sample size is really small using <code>n-1</code> is statistically more robust."}, {"owner": {"reputation": 5730, "user_id": 1527403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wmOYS.jpg?s=128&g=1", "display_name": "Stephen Henderson", "link": "https://stackoverflow.com/users/1527403/stephen-henderson"}, "edited": false, "score": 2, "creation_date": 1522873034, "post_id": 49659643, "comment_id": 86328888, "body": "Thats OK cause Python is only for BIIIIiiiiG data."}, {"owner": {"reputation": 337, "user_id": 9362220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc71acb0f39975a4368597cf3430f2b?s=128&d=identicon&r=PG&f=1", "display_name": "BigData", "link": "https://stackoverflow.com/users/9362220/bigdata"}, "edited": false, "score": 0, "creation_date": 1522874620, "post_id": 49659643, "comment_id": 86329698, "body": "which one should I use for real-world business scenario?"}, {"owner": {"reputation": 2149, "user_id": 9230249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30de55b4f5e963289ea3978d9bc5a34?s=128&d=identicon&r=PG&f=1", "display_name": "ngm", "link": "https://stackoverflow.com/users/9230249/ngm"}, "reply_to_user": {"reputation": 337, "user_id": 9362220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc71acb0f39975a4368597cf3430f2b?s=128&d=identicon&r=PG&f=1", "display_name": "BigData", "link": "https://stackoverflow.com/users/9362220/bigdata"}, "edited": false, "score": 0, "creation_date": 1522874856, "post_id": 49659643, "comment_id": 86329837, "body": "@BigData it most likely doesn&#39;t matter. The difference is a rounding error with datasets large enough for you to be using a machine learning algorithm in a real application, which is what I assume you are hoping to use <code>scikit-learn</code> or anything similar in R."}], "tags": [], "owner": {"reputation": 55045, "user_id": 1003565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd05397868614fcd87d9243c8025a725?s=128&d=identicon&r=PG", "display_name": "Dason", "link": "https://stackoverflow.com/users/1003565/dason"}, "is_accepted": true, "score": 6, "last_activity_date": 1522872812, "creation_date": 1522872812, "answer_id": 49659643, "question_id": 49659417, "link": "https://stackoverflow.com/questions/49659417/why-two-different-normalized-results-from-python-vs-r/49659643#49659643", "title": "Why two different normalized results from Python vs R", "body": "<p>I don't use those functions in Python much but the data seems to imply that the difference is that the functions in Python use 'n' when calculating the variance to standardize with and R uses 'n-1'.  We can convert between the two by multiplying and the following shows that after multiplying by sqrt(5/4) the data from R matches the Python values.</p>\n\n<pre><code>&gt; tab &lt;- read.table(textConnection(\"1   1   1.7887437   -0.4999873  pen\n+ 2   2   -0.4453054  -0.4083792  wf\n+ 3   3   -0.4603495  -0.4517725  gher\n+ 4   4   -0.4302613  -0.4276651  dger\n+ 5   5   -0.4528275  1.7878041   ww\"))\n&gt; tab\n  V1 V2                   V3                   V4   V5\n1  1  1  1.78874369999999994 -0.49998730000000002  pen\n2  2  2 -0.44530540000000002 -0.40837920000000000   wf\n3  3  3 -0.46034950000000002 -0.45177250000000002 gher\n4  4  4 -0.43026130000000001 -0.42766510000000002 dger\n5  5  5 -0.45282749999999999  1.78780410000000001   ww\n&gt; # To transform as if we used n in the denominator instead of\n&gt; # n-1 we just multiply by sqrt(n/(n-1))\n&gt; tab$V3 * sqrt(5/4)\n[1]  1.99987625376224520 -0.49786657257386746 -0.51468638770401975\n[4] -0.48104675744371517 -0.50627653604064304\n&gt; tab$V4 * sqrt(5/4)\n[1] -0.55900279534329034 -0.45658182589849106 -0.50509701018251196\n[4] -0.47814411760212272  1.99882574902641608\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 9362220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc71acb0f39975a4368597cf3430f2b?s=128&d=identicon&r=PG&f=1", "display_name": "BigData", "link": "https://stackoverflow.com/users/9362220/bigdata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 49659643, "answer_count": 1, "score": 4, "last_activity_date": 1522874547, "creation_date": 1522871917, "last_edit_date": 1522874547, "question_id": 49659417, "link": "https://stackoverflow.com/questions/49659417/why-two-different-normalized-results-from-python-vs-r", "title": "Why two different normalized results from Python vs R", "body": "<p>Can anyone explain the math behind the scenes? why Python and R return me the different result? which one should I use for real-world business scenario?</p>\n\n<p>original data</p>\n\n<pre><code>id  cost    sales   item\n1   300      50     pen\n2   3        88     wf\n3   1        70     gher\n4   5        80     dger\n5   2        999    ww\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>import pandas as pd\nfrom sklearn.preprocessing import StandardScaler\ndf = pd.read_csv('Scale.csv')\ndf[['cost', 'sales']] = StandardScaler().fit_transform(df[['cost', 'sales']])\ndf\n</code></pre>\n\n<p>Python normalized result</p>\n\n<pre><code>    id     cost        sales    item\n0   1   1.999876    -0.559003   pen\n1   2   -0.497867   -0.456582   wf\n2   3   -0.514686   -0.505097   gher\n3   4   -0.481047   -0.478144   dger\n4   5   -0.506276   1.998826    ww\n</code></pre>\n\n<p>and R code</p>\n\n<pre><code>library(readr)\nlibrary(dplyr)\ndf &lt;- read_csv(\"C:/Users/Ho/Desktop/Scale.csv\")\ndf &lt;- df %&gt;% mutate_each_(funs(scale(.) %&gt;% as.vector), \n                             vars=c(\"cost\",\"sales\"))\n</code></pre>\n\n<p>R normalized result</p>\n\n<pre><code>   id   cost     sales     item \n\n1   1   1.7887437   -0.4999873  pen\n2   2   -0.4453054  -0.4083792  wf\n3   3   -0.4603495  -0.4517725  gher\n4   4   -0.4302613  -0.4276651  dger\n5   5   -0.4528275  1.7878041   ww\n</code></pre>\n\n<p>thanks @Wen</p>\n"}, {"tags": ["python", "python-3.x", "dictionary", "openpyxl"], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 29, "user_id": 8972597, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d728067b9d414951d33c72c14a1d2e69?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Happy", "link": "https://stackoverflow.com/users/8972597/mr-happy"}, "edited": false, "score": 0, "creation_date": 1522943643, "post_id": 49662479, "comment_id": 86364399, "body": "@Mr_Happy, no problem. Does that solve your problem? If it does, feel free to accept (green tick on left) so others know your problem is solved."}, {"owner": {"reputation": 29, "user_id": 8972597, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d728067b9d414951d33c72c14a1d2e69?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Happy", "link": "https://stackoverflow.com/users/8972597/mr-happy"}, "edited": false, "score": 0, "creation_date": 1522943999, "post_id": 49662479, "comment_id": 86364645, "body": "Thank you for fixing the dictionary. As for the question I have no problems with telling Python what to print. Just tested your code with the original dict and it works as intended. The issue is rather with openpyxl. It complains about values containing nested disctionaries, seemingly oblivious to fact that I told it to ignore those."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 29, "user_id": 8972597, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d728067b9d414951d33c72c14a1d2e69?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Happy", "link": "https://stackoverflow.com/users/8972597/mr-happy"}, "edited": false, "score": 0, "creation_date": 1522944169, "post_id": 49662479, "comment_id": 86364753, "body": "I see, I&#39;d like to be able to replicate but seems hard.. from the code in my answer <code>ws1.cell(row=x + 1, column=y + 1, value=i)</code> will never be reached with <code>i == &#39;relations&#39;</code>. So I&#39;m not sure how you get to that stage with your code."}, {"owner": {"reputation": 29, "user_id": 8972597, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d728067b9d414951d33c72c14a1d2e69?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Happy", "link": "https://stackoverflow.com/users/8972597/mr-happy"}, "edited": false, "score": 0, "creation_date": 1522945428, "post_id": 49662479, "comment_id": 86365530, "body": "And that was the answer ! :) The code never reach the instruction that tells it to ignore part of the dict (not that I understand why, but fine, now I can at least work around it). Ok, I will just re-write it to remove sensitive part before it starts to populate Excel file. Thank you jpp, thanks to you I am able to continue with my work :)"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1522888903, "creation_date": 1522888903, "answer_id": 49662479, "question_id": 49659411, "link": "https://stackoverflow.com/questions/49659411/ignoring-dictionary-value-while-using-openpyxl/49662479#49662479", "title": "Ignoring dictionary value while using openpyxl", "body": "<p>The dictionary you have supplied is not valid Python. Please check your <code>response</code> dictionary.</p>\n\n<p>As such, if your dictionary is correctly formed as below, you will find no problem:</p>\n\n<pre><code>d = {'name' : 'Kate', 'surname': 'Smith', 'number' : '1', 'age' : '8', 'relations' : \n    { \n    'parents' : \n                [\n                {'name' : 'Mary', 'surname' : 'Smith', 'number' : '2', 'age' : '32'}, \n                {'name' : 'Peter', 'surname' : 'Smith', 'number' : '3', 'age' : '33'}\n                ], \n    'friends' : \n                [\n                {'name' : 'Susan', 'surname' : 'Brown', 'number' : '4', 'age' : '9'}, \n                {'name' : 'John', 'surname' : 'Spencer', 'number' : '5', 'age' : '9'}\n                ]\n    }}\n\nfor i in d.keys():\n    if i != 'relations':\n        print(i, d[i])\n\n# name Kate\n# surname Smith\n# number 1\n# age 8\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 8972597, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d728067b9d414951d33c72c14a1d2e69?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_Happy", "link": "https://stackoverflow.com/users/8972597/mr-happy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1522888903, "creation_date": 1522871897, "last_edit_date": 1522888456, "question_id": 49659411, "link": "https://stackoverflow.com/questions/49659411/ignoring-dictionary-value-while-using-openpyxl", "title": "Ignoring dictionary value while using openpyxl", "body": "<p>I'm trying to ask a question to a database using requests and display the answer in Excel file using openpyxl. The goal is to put keys in row 1 and corresponding values row 2. I figured how to do this most of the time, problem starts when value has lists and/or other dictionaries inside. \nObviously the database is confidential, so I have tried really hard to create similar example without any sensitive data. It's done by hand, so please ignore any obvious mistakes on my part:</p>\n\n<pre><code>   ###the results of requests.get, pretified by hand###\n{'name' : 'Kate', 'surname': 'Smith', 'number' : '1', 'age' : '8', 'relations' : \n    { \n    'parents' : \n                [\n                {'name' : 'Mary', 'surname' : 'Smith', 'number' : '2', 'age' : '32'}, \n                {'name' : 'Peter', 'surname' : 'Smith', 'number' : '3', 'age' : '33'}\n                ], \n    {\n    'friends' : \n                [\n                {'name' : 'Susan', 'surname' : 'Brown', 'number' : '4', 'age' : '9'}, \n                {'name' : 'John', 'surname' : 'Spencer', 'number' : '5', 'age' : '9'}\n                ]\n    }\n    }\n}\n\n###the relevant part of code###\nwb = Workbook()\nws1 = wb.active\nws1.title = \"Kate and friends\"\nx = 0\ny = 0\nfor i in response.keys():\n    if i != 'relations':\n        ws1.cell(row=x + 1, column=y + 1, value=i)\n        ws1.cell(row=x + 2, column=y + 1, value=response[i])\n        x = x + 1\n        y = y + 1\n\nwb.save('Test.xlsx')\n</code></pre>\n\n<p>The error I would get in this case would be:</p>\n\n<pre><code>ValueError: Cannot convert { 'parents' : [{'name' : 'Mary', 'surname' : 'Smith', 'number' : '2', 'age': '32'}, {'name' : 'Peter', 'surname' : 'Smith', 'number' : '3', 'age' : '33'}], {'friends' : [{'name' : 'Susan', 'surname' : 'Brown', 'number' : '4','age' : '9'}, {'name' : 'John', 'surname' : 'Spencer', 'number' :'5','age' : '9'}]}}} to Excel\n</code></pre>\n\n<p>It is understandable that Openpyxl does not want to put lists or dictionaries in single cell. As you probably see I'm trying to tell openpyxl: ' Do what you usually do, just ignore the 'relations' key and corresponding value', yet it ignores me and tries to squeeze nested objects inside a cell. Can anyone please show me how to handle this problem ?</p>\n"}, {"tags": ["python", "pandas", "sorting"], "comments": [{"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1522872089, "post_id": 49659348, "comment_id": 86328371, "body": "Are you asking how to merge the two dataframes or asking how to use the or condition, which uses <code>|</code> as the &quot;reserved word&quot;, or both? I feel like merging these dataframes might be the best option"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1522872405, "post_id": 49659348, "comment_id": 86328558, "body": "I can&#39;t tell if your data frames are actually series.  They don&#39;t look like data frames.  I see two columns, but I don&#39;t see the headers.  If they are series, that first column is an index.  Is that what it is?"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1522872541, "post_id": 49659348, "comment_id": 86328638, "body": "1) You don&#39;t need to use lambdas here. <code>df.loc[df != 1]</code> would work just fine as well. If they can be aligned somehow (you say there is one-to-one relationship so they can be) you can use <code>df1.loc[condition_regarding_df2]</code> for example <code>df1.loc[df2 &gt; 0]</code>. If you want to combine multiple conditions use bitwise operators and wrap the conditions in parentheses: <code>df1.loc[(df2 &gt; 0) &amp; (df2 &lt; 5)]</code>."}, {"owner": {"reputation": 177, "user_id": 9408795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fUTB8.jpg?s=128&g=1", "display_name": "Chi", "link": "https://stackoverflow.com/users/9408795/chi"}, "reply_to_user": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1522874720, "post_id": 49659348, "comment_id": 86329749, "body": "@MattR I have solved it, and indeed merging the data is the best option to deal with this problem, thanks !"}, {"owner": {"reputation": 177, "user_id": 9408795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fUTB8.jpg?s=128&g=1", "display_name": "Chi", "link": "https://stackoverflow.com/users/9408795/chi"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1522874859, "post_id": 49659348, "comment_id": 86329842, "body": "@piRSquared sorry I forgot to indicate the index."}, {"owner": {"reputation": 177, "user_id": 9408795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fUTB8.jpg?s=128&g=1", "display_name": "Chi", "link": "https://stackoverflow.com/users/9408795/chi"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 0, "creation_date": 1522874893, "post_id": 49659348, "comment_id": 86329866, "body": "@ayhan thanks it works and I have solved the problem !"}], "owner": {"reputation": 177, "user_id": 9408795, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fUTB8.jpg?s=128&g=1", "display_name": "Chi", "link": "https://stackoverflow.com/users/9408795/chi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2960, "favorite_count": 0, "closed_date": 1522872569, "answer_count": 0, "score": 0, "last_activity_date": 1522874814, "creation_date": 1522871623, "last_edit_date": 1522874814, "question_id": 49659348, "link": "https://stackoverflow.com/questions/49659348/selecting-pandas-series-based-on-conditions", "closed_reason": "Duplicate", "title": "Selecting pandas Series Based On Conditions", "body": "<p>I have two pandas series as shown below,</p>\n\n<pre><code>df1 = \nindex                  value \n2014-05-23 00:00:00      NaN\n2014-05-23 01:00:00      NaN\n2014-05-23 02:00:00     0.00\n2014-05-23 03:00:00      NaN\n...\n2018-01-01 05:00:00     0.59\n2014-01-01 06:00:00     0.43\n2014-01-01 07:00:00     1.00\n</code></pre>\n\n<p>and df2</p>\n\n<pre><code>df2 =\nindex                  value     \n2014-05-23 00:00:00      9.9\n2014-05-23 01:00:00       23\n2014-05-23 02:00:00      4.3\n2014-05-23 03:00:00     10.6\n...\n2018-01-01 05:00:00      8.3\n2014-01-01 06:00:00      0.3\n2014-01-01 07:00:00      0.0\n</code></pre>\n\n<p>and relationship between df1 and df2 is <em>one</em> <em>by</em> <em>one</em> , I would like to plot the figure with x value (df1) and y value (df2) but only choose the value in df1 bigger than 0 and smaller than 1 (directly ignore the NaN).</p>\n\n<p>I just know how to find the value with one condition</p>\n\n<pre><code>df.loc[lambda df: df != 1]   or   df.loc[lambda df: df != 0]  \n</code></pre>\n\n<p>but it doesn't work when I write</p>\n\n<pre><code>df.loc[lambda df: df != 1 and != 0]   or   df.loc[lambda df: 1&gt; df &gt; 0]\n</code></pre>\n\n<p>and I don't know how to match the values found in <em>df1</em> to <em>df2</em>, in order to plot it. </p>\n\n<p>Anyone have ideas? Thanks in advance !</p>\n"}, {"tags": ["python", "machine-learning", "google-cloud-platform"], "comments": [{"owner": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522872064, "post_id": 49659310, "comment_id": 86328356, "body": "do you have access to the CLI for this instance?"}, {"owner": {"reputation": 1531, "user_id": 1058210, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ae4c04e0b159f7eb2ccfd8bfd083f832?s=128&d=identicon&r=PG", "display_name": "user1058210", "link": "https://stackoverflow.com/users/1058210/user1058210"}, "reply_to_user": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522872292, "post_id": 49659310, "comment_id": 86328502, "body": "I do, but I have found that trying to use pretty much any command on the cli for a data lab instance doesn&#39;t work - as in no command is recognised. I have tried the same commands on other compute instances and they have so Google may have locked down the datalab ones for some reason"}, {"owner": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522872409, "post_id": 49659310, "comment_id": 86328560, "body": "are you able to use <code>top</code> to see what&#39;s hogging CPU?"}, {"owner": {"reputation": 1531, "user_id": 1058210, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ae4c04e0b159f7eb2ccfd8bfd083f832?s=128&d=identicon&r=PG", "display_name": "user1058210", "link": "https://stackoverflow.com/users/1058210/user1058210"}, "reply_to_user": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522873584, "post_id": 49659310, "comment_id": 86329151, "body": "thanks for the reply @eagle!  I have run top and will update the main post with the info"}, {"owner": {"reputation": 766, "user_id": 8746930, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-4vA616Iuc-I/AAAAAAAAAAI/AAAAAAAAAAc/5hrF-krxrXM/photo.jpg?sz=128", "display_name": "eagle", "link": "https://stackoverflow.com/users/8746930/eagle"}, "edited": false, "score": 0, "creation_date": 1522876038, "post_id": 49659310, "comment_id": 86330453, "body": "I have no idea what <code>node</code> is but you should investigate what that is"}, {"owner": {"reputation": 1633, "user_id": 6915507, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XnOmr.jpg?s=128&g=1", "display_name": "VictorGGl", "link": "https://stackoverflow.com/users/6915507/victorggl"}, "edited": false, "score": 0, "creation_date": 1524060299, "post_id": 49659310, "comment_id": 86818939, "body": "If you create a new datalab instance with same instance machine type(<a href=\"https://cloud.google.com/datalab/docs/how-to/machine-type\" rel=\"nofollow noreferrer\">cloud.google.com/datalab/docs/how-to/machine-type</a>), verify that it works alright, and then load this same 3GB folder you talk about, Does it happen again that you get this slowness behaviour?"}], "owner": {"reputation": 1531, "user_id": 1058210, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ae4c04e0b159f7eb2ccfd8bfd083f832?s=128&d=identicon&r=PG", "display_name": "user1058210", "link": "https://stackoverflow.com/users/1058210/user1058210"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1522873635, "creation_date": 1522871451, "last_edit_date": 1522873635, "question_id": 49659310, "link": "https://stackoverflow.com/questions/49659310/slow-datalab-performance-with-lots-of-files-on-file-system", "title": "Slow Datalab performance with lots of files on file system", "body": "<p>I have loaded a 3GB folder which has about 280k images and 5000 folders onto my datalab instance.  The datalab instance is now performing extremely slowly and is essentially unusable despite having more than enough capacity.  Could someone tell me why it is has slowed down to such a degree and how I could improve its speed?  It is currently maxed out on CPU even though there are no notebooks running.</p>\n\n<pre><code>PID   USER  PR  NI    VIRT    RES    SHR   S  %CPU %MEM     TIME+ COMMAND                                                                                         \n1468  root  20   0 1755988   584136  20408 R 180.4  7.6  13:48.51 node\n</code></pre>\n"}, {"tags": ["python", "travis-ci", "pytest", "coveralls"], "answers": [{"tags": [], "owner": {"reputation": 1373, "user_id": 2806632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/267a981276e38408eb0d30219602bc2f?s=128&d=identicon&r=PG", "display_name": "jaumebonet", "link": "https://stackoverflow.com/users/2806632/jaumebonet"}, "is_accepted": true, "score": 1, "last_activity_date": 1567543041, "creation_date": 1567543041, "answer_id": 57778432, "question_id": 49659306, "link": "https://stackoverflow.com/questions/49659306/python-coveralls-in-travis-does-not-find-coverage/57778432#57778432", "title": "python-coveralls in travis does not find coverage", "body": "<p>So, this took a while, but I did find a solution, which can be fully seen in the <a href=\"https://github.com/jaumebonet/libconfig/tree/93a7d0b04db95150b2754bfc81dc79287f3fd8b8\" rel=\"nofollow noreferrer\">libconfig</a> repo that initiated this question.</p>\n\n<p>Basically, I now run the commands inside tox, with a configuration file (<code>tox.ini</code>) such as:</p>\n\n<pre><code>[tox]\nenvlist = py27, py35, py36\nskip_missing_interpreters = true\n\n[testenv]\nchangedir = libconfig/tests\ncommands =\n    python -c \"import libconfig; print(libconfig.__version__)\"\n    coverage erase\n    pytest --basetemp={envtmpdir} --cov-config {toxinidir}/.coveragerc --cov-report xml:/tmp/cov-single.xml --cov=libconfig\n    coverage report --show-missing\ndeps =\n    -rREQUIREMENTS\n    pytest\n    pytest-cov\n    coverage\n    coveralls\n    python-coveralls\n</code></pre>\n\n<p>which makes sure to create the XML coverage report and a <code>.travis.yml</code> looking like:</p>\n\n<pre><code>language: python\nsudo: false\nbranches:\n  only:\n  - master\n  - \"/^v\\\\d+\\\\.\\\\d+(\\\\.\\\\d+)?(-\\\\S*)?$/\"\nmatrix:\n  include:\n    - python: 2.7\n      env: TOXENV=py27\n      os: linux\n    - python: 3.5\n      env: TOXENV=py35\n      os: linux\n    - python: 3.6\n      env: TOXENV=py36\n      os: linux\n      after_success:\n        - pwd\n        - coveralls --data_file libconfig/tests/.coverage\n        - python-codacy-coverage -r /tmp/cov-single.xml\n        - bash &lt;(curl -s https://codecov.io/bash) -Z -c -f /tmp/cov-single.xml\n    - python: 3.7-dev\n      env: TOXENV=py37\n      os: linux\n    - language: generic\n      env: TOXENV=py27\n      os: osx\n    - language: generic\n      env: TOXENV=py36\n      os: osx\n\nbefore_install:\n- bash ./ci/travis_before_install.sh\ninstall:\n  - bash ./ci/travis_install.sh\n\nscript:\n  - tox\n</code></pre>\n\n<p>which properly uploads the report to the server.</p>\n"}], "owner": {"reputation": 1373, "user_id": 2806632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/267a981276e38408eb0d30219602bc2f?s=128&d=identicon&r=PG", "display_name": "jaumebonet", "link": "https://stackoverflow.com/users/2806632/jaumebonet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 622, "favorite_count": 1, "accepted_answer_id": 57778432, "answer_count": 1, "score": 4, "last_activity_date": 1567543041, "creation_date": 1522871437, "question_id": 49659306, "link": "https://stackoverflow.com/questions/49659306/python-coveralls-in-travis-does-not-find-coverage", "title": "python-coveralls in travis does not find coverage", "body": "<p>I'm trying to setup a small python library with coveralls.io through travis-ci.</p>\n\n<p>The current structure of the library is:</p>\n\n<pre><code>libconfig\n\u251c\u2500\u2500 .coverage\n\u251c\u2500\u2500 .coveragerc\n\u251c\u2500\u2500 .coveralls.yml\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 REQUIREMENTS\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 .travis.yml\n\u251c\u2500\u2500 libconfig\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 config.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 evaluator.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tests\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 test_libconfig.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 util.py\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 setup.cfg\n\u2514\u2500\u2500 setup.py\n</code></pre>\n\n<p>My <code>.coveragerc</code> looks like this:</p>\n\n<pre><code>[run]\nbranch = False\nomit = */tests/*\n\n[report]\n# Regexes for lines to exclude from consideration\nexclude_lines =\n    # Have to re-enable the standard pragma\n    pragma: no cover\n\n    # Don't complain about missing debug-only code:\n    def __repr__\n    if self\\.debug\n\n    # Don't complain if tests don't hit defensive assertion code:\n    raise AssertionError\n    raise NotImplementedError\n    raise IOError\n    raise ValueError\n\n    # Don't complain if non-runnable code isn't run:\n    if 0:\n    if __name__ == .__main__.:\n\nshow_missing = True\n\nignore_errors = True\n\n[html]\ndirectory = coverage_html_report\n</code></pre>\n\n<p>and when I locally run the <strong>pytests</strong>, it does give me the coverage:</p>\n\n<pre><code>pytest --cov-config .coveragerc --cov=libconfig libconfig/tests\n=========================== test session starts ============================\nplatform darwin -- Python 2.7.12, pytest-3.4.1, py-1.5.2, pluggy-0.6.0\nrootdir: /Users/bonet/SandBox/libconfig, inifile:\nplugins: cov-2.5.1\ncollected 5 items\n\nlibconfig/tests/test_libconfig.py .....          [100%]\n\n---------- coverage: platform darwin, python 2.7.12-final-0 ----------\nName                     Stmts   Miss  Cover   Missing\n------------------------------------------------------\nlibconfig/__init__.py        1      0   100%\nlibconfig/config.py        116      0   100%\nlibconfig/evaluator.py      20      0   100%\nlibconfig/util.py           34      0   100%\n------------------------------------------------------\nTOTAL                      171      0   100%\n\n\n========================= 5 passed in 1.56 seconds =========================\n</code></pre>\n\n<p>Then, I have my <code>.travis.yml</code> configuration file: </p>\n\n<pre><code>language: python\n\npython:\n- '2.7'\n- '3.5'\n- '3.6'\n\ninstall:\n  - pip install -r REQUIREMENTS\n  - pip install coverage coveralls\n  - pip install python-coveralls\n  - pip install pytest pytest-cov\n\nscript:\n  - python setup.py install\n  - pytest --cov-config .coveragerc --cov=libconfig libconfig/tests\n  - coverage report --show-missing\n\nafter_success:\n  - coveralls\n</code></pre>\n\n<p>But, when this runs in <strong>travis-ci</strong>, it does not give me any coverage:</p>\n\n<pre><code>The command \"pytest --cov-config .coveragerc --cov=libconfig libconfig/tests\" exited with 0.\n$ coverage report --show-missing\nName                     Stmts   Miss  Cover   Missing\n------------------------------------------------------\nlibconfig/__init__.py        1      1     0%   8\nlibconfig/config.py        116    116     0%   13-404\nlibconfig/evaluator.py      20     20     0%   13-47\nlibconfig/util.py           34     34     0%   9-68\n------------------------------------------------------\nTOTAL                      171    171     0%   \nThe command \"coverage report --show-missing\" exited with 0.\n</code></pre>\n\n<p>I've been looking around, but I haven't found a solution that would solve this issue, any help will be very appreciated.</p>\n"}]