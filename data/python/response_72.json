[{"tags": ["python", "dask"], "answers": [{"tags": [], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "is_accepted": false, "score": 0, "last_activity_date": 1464225050, "creation_date": 1464225050, "answer_id": 37449991, "question_id": 37449460, "link": "https://stackoverflow.com/questions/37449460/how-to-use-named-arguments-in-dask-task-graph/37449991#37449991", "title": "how to use named arguments in dask task graph", "body": "<h3>Dask.delayed</h3>\n\n<p>You could use <a href=\"http://dask.pydata.org/en/latest/delayed-overview.html\" rel=\"nofollow\">dask.delayed</a> to generate a custom graph.</p>\n\n<pre><code>def foo(x=1, y=2):\n    ...\n\nx = delayed(foo)(x=1, y=2)\n</code></pre>\n\n<p>This is usually the best way to go.  It's fool-proof, simple, and what the dask developers are doing internally with new code.</p>\n\n<h3>Use positional arguments</h3>\n\n<p>If you <em>really</em> want to make a graph by hand you can use positional arguments</p>\n\n<pre><code>graph = {'z': (foo, 1, 100)}\n</code></pre>\n\n<h3>Use apply</h3>\n\n<p>You can also use apply</p>\n\n<pre><code>from dask.compatibility import apply\n\ngraph = {'z': (apply, foo, [], {'y': 100})}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6383620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07eeaf4ec9021b571bbd3429abae74c2?s=128&d=identicon&r=PG&f=1", "display_name": "Pete Danzig", "link": "https://stackoverflow.com/users/6383620/pete-danzig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464225050, "creation_date": 1464220735, "last_edit_date": 1464221354, "question_id": 37449460, "link": "https://stackoverflow.com/questions/37449460/how-to-use-named-arguments-in-dask-task-graph", "title": "how to use named arguments in dask task graph", "body": "<p>How can I create a call with named arguments in creating a dask task graph? For instance:</p>\n\n<pre><code>def foo (x=1, y=2):\n   ...\n\ngraph = { 'z': foo, \"y=100\" }\n</code></pre>\n\n<p>This doesn't work.</p>\n"}, {"tags": ["python", "subprocess", "python-curses"], "comments": [{"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 2, "creation_date": 1464226827, "post_id": 37449459, "comment_id": 62401980, "body": "you should explicitly separate input of the main process and subprocesses by specifying  parameter <code>stdin=subprocess.DEVNULL</code> (or <code>stdin=subprocess.PIPE</code> for processes demanding input)"}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 1, "creation_date": 1464227004, "post_id": 37449459, "comment_id": 62402014, "body": "update: <code>subprocess.DEVNULL</code> was introduced in python-3.3, so, likely, <code>PIPE</code> is the only option for earlier versions."}, {"owner": {"reputation": 171, "user_id": 4100057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c6c4f4371c79d73eec08feecd688fb08?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Wang", "link": "https://stackoverflow.com/users/4100057/frank-wang"}, "reply_to_user": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 0, "creation_date": 1464228050, "post_id": 37449459, "comment_id": 62402236, "body": "Thanks, that suggest works."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1464241512, "post_id": 37449459, "comment_id": 62405782, "body": "unrelated: 1- you should pass the remote command as a single string e.g., <code>&#39;&#47;usr&#47;bin&#47;python -c &quot;import sys; print(sys.argv)&quot; a &quot;b c&quot;&#39;</code>.  2- if you don&#39;t need the output; use <code>check_call(cmd, stdin=DEVNULL,stdout=DEVNULL, stderr=STDOUT, close_fds=True)</code> 3- use <code>pipes.quote(html)</code>, to escape shell-metacharacters"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 1, "creation_date": 1464241618, "post_id": 37449459, "comment_id": 62405819, "body": "@user3159253: it is simple to <a href=\"http://stackoverflow.com/q/11269575/4279\">emulate <code>subprocess.DEVNULL</code> on  earlier Python versions <code>DEVNULL = open(os.devnull, &#39;r+b&#39;, 0)</code></a>"}], "owner": {"reputation": 171, "user_id": 4100057, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c6c4f4371c79d73eec08feecd688fb08?s=128&d=identicon&r=PG&f=1", "display_name": "Frank Wang", "link": "https://stackoverflow.com/users/4100057/frank-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1464220720, "creation_date": 1464220720, "question_id": 37449459, "link": "https://stackoverflow.com/questions/37449459/running-subprocess-in-threads-interferes-with-keyboard-input", "title": "Running subprocess in threads interferes with keyboard input", "body": "<p>I've been working on some code that uses <code>subprocess.checkoutput</code> to execute commands on a remote server through ssh:</p>\n\n<pre><code>   subprocess.check_output(['ssh', '-o', 'StrictHostKeyChecking=no',\n        '-i', 'key.pem', self.pDNS,\n        'python script.py', html.replace('&amp;', '\\&amp;'), '\"\n        {0}\"'.format(ua.random)], stderr=subprocess.STDOUT)\n</code></pre>\n\n<p>This command is run by a number of threads communicating with different servers with little to no shared resources and works fine as far as I've noticed.</p>\n\n<p>However, on top of this code, I've used <code>curses</code> to write a rudimentary UI for me to monitor what my code is doing. I'm able to input commands using keyboard in a way similar to VIM or EMACS. However, I've noticed that when my code is executing the subprocess line above, keyboard input becomes very unreliable and sporadic, requiring make many repeated key presses for it to register in the program.</p>\n\n<p>Is this because of some issues with subprocess playing nice with the <code>threading</code> library? If not, does anyone know what might be causing this problem?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 5206, "user_id": 3834459, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/65fd0aebfda9ece120fa4856a9450ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/3834459/dean"}, "edited": false, "score": 0, "creation_date": 1464220966, "post_id": 37449480, "comment_id": 62400674, "body": "Thanks, is this the same behavior for asterisk I read here: <a href=\"http://stackoverflow.com/questions/36901/what-does-double-star-and-star-do-for-python-parameters\" title=\"what does double star and star do for python parameters\">stackoverflow.com/questions/36901/&hellip;</a> ??"}, {"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "reply_to_user": {"reputation": 5206, "user_id": 3834459, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/65fd0aebfda9ece120fa4856a9450ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/3834459/dean"}, "edited": false, "score": 0, "creation_date": 1464221281, "post_id": 37449480, "comment_id": 62400752, "body": "That question talks about <i>defining</i> functions with <code>*</code> and <code>**</code>.  Your question is about using an <i>existing</i> function.  So, it is analogous but not the same."}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": false, "score": 0, "last_activity_date": 1464221023, "last_edit_date": 1464221023, "creation_date": 1464220843, "answer_id": 37449480, "question_id": 37449448, "link": "https://stackoverflow.com/questions/37449448/python-asterisk-when-zipping/37449480#37449480", "title": "Python - asterisk when zipping", "body": "<p><code>zip</code> expects multiple arguments, like this:</p>\n\n<pre><code>&gt;&gt;&gt; zip([200, 1], [10, 1])\n[(200, 10), (1, 1)]\n</code></pre>\n\n<p>If you want to use only one argument, then use the <code>*</code> because it has the effect of breaking it up into multiple arguments:</p>\n\n<pre><code>&gt;&gt;&gt; zip(*[[200, 1], [10, 1]])\n[(200, 10), (1, 1)]\n&gt;&gt;&gt; \n</code></pre>\n\n<p>The <code>*</code> does not convert lists to tuples. It unpacks lists (<a href=\"https://docs.python.org/3/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"nofollow\">documentation</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 1540, "user_id": 6297504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FUlnHAlBzYU/AAAAAAAAAAI/AAAAAAAABu0/feK9LrMcSKU/photo.jpg?sz=128", "display_name": "Andreas Hsieh", "link": "https://stackoverflow.com/users/6297504/andreas-hsieh"}, "is_accepted": true, "score": 2, "last_activity_date": 1613559363, "last_edit_date": 1613559363, "creation_date": 1464221346, "answer_id": 37449543, "question_id": 37449448, "link": "https://stackoverflow.com/questions/37449448/python-asterisk-when-zipping/37449543#37449543", "title": "Python - asterisk when zipping", "body": "<p>If you have time you can read this <a href=\"https://stackoverflow.com/questions/9754453/in-python-what-type-of-object-does-ziplist1-list2-return\">post</a>, it's good resource to understand how <code>*</code> works in Python.</p>\n<p>The asterisk in Python unpacks arguments for a function call, please refer to <a href=\"https://docs.python.org/3/tutorial/controlflow.html#tut-unpacking-arguments\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>z = [4, 5, 6]\nf(*z)\n</code></pre>\n<p>will be same as:</p>\n<pre><code>f(4,5,6)\n</code></pre>\n<p><code>**</code> in dictionary does similar work as <code>*</code> in list.</p>\n"}], "owner": {"reputation": 5206, "user_id": 3834459, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/65fd0aebfda9ece120fa4856a9450ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/3834459/dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "accepted_answer_id": 37449543, "answer_count": 2, "score": 1, "last_activity_date": 1613559363, "creation_date": 1464220654, "question_id": 37449448, "link": "https://stackoverflow.com/questions/37449448/python-asterisk-when-zipping", "title": "Python - asterisk when zipping", "body": "<p>I'm a newbie with python and I don't understand why doesn't the following work:</p>\n\n<pre><code>ea = zip([[200, 1], [10, 1]])\n</code></pre>\n\n<p>since I'm getting </p>\n\n<pre><code>[([200, 1],), ([10, 1],)]\n</code></pre>\n\n<p>while I should add an asterisk like</p>\n\n<pre><code>ea = zip(*[[200, 1], [10, 1]])\n</code></pre>\n\n<p>to obtain the result I want, i.e.</p>\n\n<pre><code>[(200, 10), (1, 1)]\n</code></pre>\n\n<p>I thought * was meant to convert the list to a tuple, what am I getting wrong?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1464220557, "post_id": 37449427, "comment_id": 62400564, "body": "There is no such <code>span</code> in the HTML as parsed by <code>html.parser</code>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1464220643, "post_id": 37449427, "comment_id": 62400590, "body": "Take into account that your browser runs any JavaScript code a page references, while downloading the source with requests does not. Are you certain that the <code>span</code> you are looking for is there in the initial HTML or is it added by JavaScript code running after the page has loaded?"}, {"owner": {"reputation": 85, "user_id": 6366259, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jlYG6.jpg?s=128&g=1", "display_name": "Zepol", "link": "https://stackoverflow.com/users/6366259/zepol"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1464220815, "post_id": 37449427, "comment_id": 62400638, "body": "i believe it is part of the page html but idk how to tell. <a href=\"http://finance.yahoo.com/q;_ylt=AwrXoCG17EBXRkgAvg.TmYlQ;_ylu=X3oDMTEycDYzNmdzBGNvbG8DZ3ExBHBvcwMxBHZ0aWQDVklEMDZfMQRzZWMDc2M-?s=AAPL\" rel=\"nofollow noreferrer\">finance.yahoo.com/&hellip;</a>    . this is the link, i just inpect element in the price of the stock"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1464220887, "post_id": 37449427, "comment_id": 62400657, "body": "Sure, but <code>&#39;time_rtq_tracker&#39; in thepage.content</code> is <code>False</code>. Use your browser development tools to see what else is happening in that page when loaded. Perhaps AJAX requests are sent, for example."}, {"owner": {"reputation": 85, "user_id": 6366259, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jlYG6.jpg?s=128&g=1", "display_name": "Zepol", "link": "https://stackoverflow.com/users/6366259/zepol"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1464221006, "post_id": 37449427, "comment_id": 62400684, "body": "im pretty new to this so idk how to tell or how to fix it"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1464221009, "post_id": 37449427, "comment_id": 62400687, "body": "Perhaps previous posts on Yahoo Finance and BeautifulSoup help; <a href=\"http://stackoverflow.com/search?q=%5Bpython%5D+beautifulsoup+finance.yahoo.com\">search for <code>[python] beautifulsoup finance.yahoo.com</code></a>. See what others have already come up with."}, {"owner": {"reputation": 85, "user_id": 6366259, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jlYG6.jpg?s=128&g=1", "display_name": "Zepol", "link": "https://stackoverflow.com/users/6366259/zepol"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1464221084, "post_id": 37449427, "comment_id": 62400702, "body": "ok, thanks. much appreciated"}, {"owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "edited": false, "score": 0, "creation_date": 1464221562, "post_id": 37449427, "comment_id": 62400810, "body": "Strange I can not see time_rtq_tracker in the page source but I can see time_rtq_ticker are you sure you have not misspelled it?"}, {"owner": {"reputation": 85, "user_id": 6366259, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jlYG6.jpg?s=128&g=1", "display_name": "Zepol", "link": "https://stackoverflow.com/users/6366259/zepol"}, "edited": false, "score": 0, "creation_date": 1464221765, "post_id": 37449427, "comment_id": 62400844, "body": "oh wow that was it. i have been looking for that solution for hours now, thanks for noticing"}], "owner": {"reputation": 85, "user_id": 6366259, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jlYG6.jpg?s=128&g=1", "display_name": "Zepol", "link": "https://stackoverflow.com/users/6366259/zepol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1363, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535548541, "creation_date": 1464220449, "question_id": 37449427, "link": "https://stackoverflow.com/questions/37449427/requests-and-beautifulsoup", "title": "Requests and BeautifulSoup", "body": "<p>i am trying to get some information from a website but i keep getting as a result <code>None</code> . what could be the problem?</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\n\ntheurl = \"http://finance.yahoo.com/q;_ylt=AwrXoCG17EBXRkgAvg.TmYlQ;_ylu=X3oDMTEycDYzNmdzBGNvbG8DZ3ExBHBvcwMxBHZ0aWQDVklEMDZfMQRzZWMDc2M-?s=\" + \"AAPL\"\nthepage = requests.get(theurl)\nsoup = BeautifulSoup(thepage.content,\"html.parser\")\ntextfind = soup.find('span',{\"class\":\"time_rtq_tracker\"})\nprint(textfind)\n</code></pre>\n"}, {"tags": ["python", "windows", "drag-and-drop", "xlsxwriter"], "comments": [{"owner": {"reputation": 1155, "user_id": 3689669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GI8W4.jpg?s=128&g=1", "display_name": "ppalacios", "link": "https://stackoverflow.com/users/3689669/ppalacios"}, "edited": false, "score": 0, "creation_date": 1464220585, "post_id": 37449333, "comment_id": 62400570, "body": "So you have a your script and a directory which has xlswriter inside?"}, {"owner": {"reputation": 353, "user_id": 5096716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3de5fceff31c354244910a5fbe83b611?s=128&d=identicon&r=PG&f=1", "display_name": "Conner Leverett", "link": "https://stackoverflow.com/users/5096716/conner-leverett"}, "reply_to_user": {"reputation": 1155, "user_id": 3689669, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GI8W4.jpg?s=128&g=1", "display_name": "ppalacios", "link": "https://stackoverflow.com/users/3689669/ppalacios"}, "edited": false, "score": 0, "creation_date": 1464221468, "post_id": 37449333, "comment_id": 62400787, "body": "@PabloPal&#225;cios Yes, the main folder has three items: the script, a KML file, and another folder named Packages. xlsxwriter is in Packages."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1464222284, "post_id": 37449333, "comment_id": 62400990, "body": "The script&#39;s directory should be <code>sys.path[0]</code>, so you should be able to import packages located there. The <code>Packages</code> subdirectory shouldn&#39;t be in <code>sys.path</code>, not by default at least. You can add it manually: <code>script_dir = os.path.abspath(os.path.dirname(__file__));</code> <code>package_dir = os.path.join(script_dir, &#39;Packages&#39;);</code> <code>sys.path.insert(1, package_dir)</code>."}, {"owner": {"reputation": 353, "user_id": 5096716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3de5fceff31c354244910a5fbe83b611?s=128&d=identicon&r=PG&f=1", "display_name": "Conner Leverett", "link": "https://stackoverflow.com/users/5096716/conner-leverett"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1464222934, "post_id": 37449333, "comment_id": 62401143, "body": "@eryksun Thanks that worked! It was also because I was setting my path for the module with <code>sys.path.append(os.getcwd()+&#39;&#47;Packages&#39;)</code> while it should have been set with <code>sys.path.append(os.path.abspath(os.path.dirname(__file__))+&#39;&zwnj;&#8203;&#47;Packages&#39;)</code>"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1464224731, "post_id": 37449333, "comment_id": 62401568, "body": "I suggest inserting at index 1 instead of appending. This gives your private packages precedence over the standard library."}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 5096716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3de5fceff31c354244910a5fbe83b611?s=128&d=identicon&r=PG&f=1", "display_name": "Conner Leverett", "link": "https://stackoverflow.com/users/5096716/conner-leverett"}, "is_accepted": false, "score": 0, "last_activity_date": 1464223322, "creation_date": 1464223322, "answer_id": 37449798, "question_id": 37449333, "link": "https://stackoverflow.com/questions/37449333/module-not-found-when-drag-and-drop-python-file/37449798#37449798", "title": "Module not found when drag and drop Python file", "body": "<p>Thanks to erkysun this issue was solved! eryksun's solution worked perfectly and I found another reason it wasn't working. This was because when I dragged and dropped the file into the python script then ran <code>os.getcwd()</code> no matter where the file was it returned <code>C:\\WINDOWS\\system32</code>. To counteract this wherever I had <code>os.getcwd()</code> I changed it to <code>os.path.abspath(os.path.dirname(__file__))</code> and then it worked!</p>\n"}], "owner": {"reputation": 353, "user_id": 5096716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3de5fceff31c354244910a5fbe83b611?s=128&d=identicon&r=PG&f=1", "display_name": "Conner Leverett", "link": "https://stackoverflow.com/users/5096716/conner-leverett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464223322, "creation_date": 1464219663, "question_id": 37449333, "link": "https://stackoverflow.com/questions/37449333/module-not-found-when-drag-and-drop-python-file", "title": "Module not found when drag and drop Python file", "body": "<p>I have a Python script which user's drag and drop KML files into for easy use. It takes the dropped file as sys.arg[1]. When entered into the command line as <code>myScript.py Location.kml</code> everything works fine. But when I drag and drop the file in an error is thrown saying <code>no module named xlsxwriter</code>. xlsxwriter is in the same folder as my Python script in another folder named Packages. Why does it work for the command line but not when dragged and dropped? Is there some trick I am missing? </p>\n"}, {"tags": ["python", "shell", "variables"], "comments": [{"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1464219913, "post_id": 37449327, "comment_id": 62400392, "body": "Do you have an idea of how you might be able to do this?  Have you written any code to explore that idea?"}, {"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1464220027, "post_id": 37449327, "comment_id": 62400420, "body": "@TomKarzes In the piece of python code you see above, I am able to send the HSPACE as a variable to shell script, however, I do not know how to send multiple variables at the same time."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464273709, "post_id": 37449327, "comment_id": 62426984, "body": "@Arya, ...when you asked, in the other question, how to do that with multiple variables, I thought you meant multiple <i>arrays</i>. It&#39;s easier to the point of being trivial if there&#39;s only one array -- you just put the other values first, and pop them off the list with <code>shift</code>."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464220913, "post_id": 37449366, "comment_id": 62400663, "body": "%d requires an integer to work and does not work with a string, if I am not wrong?"}, {"owner": {"reputation": 571, "user_id": 6164423, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-XpdD53c9TdI/AAAAAAAAAAI/AAAAAAAABb4/DjitSv4CDR8/photo.jpg?sz=128", "display_name": "Kevin Grant", "link": "https://stackoverflow.com/users/6164423/kevin-grant"}, "reply_to_user": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464220962, "post_id": 37449366, "comment_id": 62400673, "body": "@Arya Sorry, that is what I meant to write. My mistake. Edited the answer to represent this"}, {"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464271072, "post_id": 37449366, "comment_id": 62424796, "body": "I tried this methond and I get the following error : OSError: [Errno 2] No such file or directory"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464271317, "post_id": 37449366, "comment_id": 62425001, "body": "Using string-substitution to put your arrays on the command line is a recipe for shell injection vulnerabilities. Pass a literal argv array instead."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464271619, "post_id": 37449366, "comment_id": 62425240, "body": "...also, this doesn&#39;t work at all since it&#39;s passing a first argument that requires a shell to parse it, but isn&#39;t using <code>shell=True</code>. And if you tried to fix it by adding <code>shell=True</code>, then the <code>HSPACE</code> entries would no longer be present on argv."}], "tags": [], "owner": {"reputation": 571, "user_id": 6164423, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-XpdD53c9TdI/AAAAAAAAAAI/AAAAAAAABb4/DjitSv4CDR8/photo.jpg?sz=128", "display_name": "Kevin Grant", "link": "https://stackoverflow.com/users/6164423/kevin-grant"}, "is_accepted": false, "score": 0, "last_activity_date": 1464220940, "last_edit_date": 1464220940, "creation_date": 1464219962, "answer_id": 37449366, "question_id": 37449327, "link": "https://stackoverflow.com/questions/37449327/passing-multiple-variables-from-python-script-to-shell-script/37449366#37449366", "title": "Passing multiple variables from python script to shell script", "body": "<p>Is it an option for you to pass the variables as parameters?</p>\n\n<pre><code>subprocess.call(['./testfile1 %s %s' % (FLUID, FLIBRARY)] + [str(n) for n in HSPACE])\n</code></pre>\n\n<p>and in the bash script</p>\n\n<pre><code>#!/bin/bash\nFLUID=$1\nFLIBRARY=$2\necho \"$FLUID, $FLIBRARY\" | ./vls.exe\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464268816, "post_id": 37449409, "comment_id": 62422953, "body": "The variables are exported successfully using this, however how can I call them in the shell script?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464271353, "post_id": 37449409, "comment_id": 62425034, "body": "@Arya, <code>$FLUID</code>, <code>$TTYPE</code> and <code>$FLIBRARY</code>; the only reason you couldn&#39;t do this in your other question is that there you needed an array. If this doesn&#39;t work precisely as-is, see the <code>env</code> argument to <code>subprocess.call</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464271376, "post_id": 37449409, "comment_id": 62425057, "body": "@Arya, ...btw, there&#39;s also a separate argument to <code>subprocess.Popen</code> for the environment, so such arguments can be passed that way."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464271414, "post_id": 37449409, "comment_id": 62425082, "body": "(now, as another aside, the names for these shouldn&#39;t be all-caps -- see fourth paragraph of the POSIX standard at <a href=\"http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap08.html\" rel=\"nofollow noreferrer\">pubs.opengroup.org/onlinepubs/009695399/basedefs/&hellip;</a>)"}], "tags": [], "owner": {"reputation": 86, "user_id": 3562758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6443869e27c42bd7ac8fb139d3e16b32?s=128&d=identicon&r=PG&f=1", "display_name": "bmb21", "link": "https://stackoverflow.com/users/3562758/bmb21"}, "is_accepted": false, "score": 1, "last_activity_date": 1464220334, "creation_date": 1464220334, "answer_id": 37449409, "question_id": 37449327, "link": "https://stackoverflow.com/questions/37449327/passing-multiple-variables-from-python-script-to-shell-script/37449409#37449409", "title": "Passing multiple variables from python script to shell script", "body": "<p>You could set them as environment variables within the Python script:</p>\n\n<pre><code>import os \nimport subprocess\n\nos.environ['FLUID'] =\"MDM\"\nos.environ['TTYPE'] = str(0)\nos.environ['FLIBRARY'] = \"RefProp\"\nHSPACE=[0.01, 0.009, 0.008, 0.007]\nsubprocess.call(['./testfile1'] + [str(n) for n in HSPACE])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464274789, "post_id": 37463216, "comment_id": 62427826, "body": "Thanks for the insight on namespace collision, will keep in mind !"}, {"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464274915, "post_id": 37463216, "comment_id": 62427907, "body": "I tried running both these methods and end up getting an error where the code is unable to execute vls.exe. However when I run the shell script as standalone from the terminal and take FLUID, FLIBRARY, etc as user inputs, it works fine."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464275155, "post_id": 37463216, "comment_id": 62428074, "body": "@Arya, when trying these methods, did you use the <i>exact</i> code given in my answer? I can test the code here to work; I can&#39;t test 3rd-party adaptations."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464275443, "post_id": 37463216, "comment_id": 62428266, "body": "@Arya, ...I&#39;ve updated the code samples to be complete standalone, so you can copy-and-paste them straight into otherwise-empty files and have them work -- and am now showing output for each."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464275659, "post_id": 37463216, "comment_id": 62428413, "body": "@Arya, ...the only place where I could see things being broken is if you&#39;re running on Windows -- passing <code>env=...</code> will override default environment variables like PATH there (and the way the argv works is different as well -- it&#39;s all-round a screwy platform). But your question isn&#39;t <i>tagged</i> for Windows..."}, {"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464280563, "post_id": 37463216, "comment_id": 62431692, "body": "Im running everything in Linux itself. Thanks, this works as far as importing the variables is concerned. Although I am still not sure why the vls.exe is not running as a part of the shell script after these variables are imported. I am trying now to fix that issue."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "edited": false, "score": 0, "creation_date": 1464280778, "post_id": 37463216, "comment_id": 62431827, "body": "&quot;is not running&quot; is pretty vague. While it might be beyond the scope of this question, care to describe exactly what occurs?"}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1464275214, "last_edit_date": 1464275214, "creation_date": 1464271560, "answer_id": 37463216, "question_id": 37449327, "link": "https://stackoverflow.com/questions/37449327/passing-multiple-variables-from-python-script-to-shell-script/37463216#37463216", "title": "Passing multiple variables from python script to shell script", "body": "<h3>Through the environment</h3>\n\n<pre><code>#!/usr/bin/env python\nimport subprocess\n\nFLUID=\"MDM\"\nTTYPE=0\nFLIBRARY=\"RefProp\"\nHSPACE=[0.01, 0.009, 0.008, 0.007]\nsubprocess.call(['./testfile1'] + [str(n) for n in HSPACE],\n  env={'fluid': FLUID, 'ttype': str(TTYPE), 'flibrary': FLIBRARY})\n</code></pre>\n\n<p>...thereafter, in shell:</p>\n\n<pre><code>#!/bin/bash\nhspace=( \"$@\" )\ndeclare -p fluid ttype flibrary hspace # print values\n</code></pre>\n\n<p>...output being:</p>\n\n<pre><code>declare -x fluid=\"MDM\"\ndeclare -x ttype=\"0\"\ndeclare -x flibrary=\"RefProp\"\ndeclare -a hspace='([0]=\"0.01\" [1]=\"0.009\" [2]=\"0.008\" [3]=\"0.007\")'\n</code></pre>\n\n<hr>\n\n<h3>On the command line</h3>\n\n<p>Another approach is to use positional arguments.</p>\n\n<pre><code>#!/usr/bin/env python\nimport subprocess\n\nFLUID=\"MDM\"\nTTYPE=0\nFLIBRARY=\"RefProp\"\nHSPACE=[0.01, 0.009, 0.008, 0.007]\n\nsubprocess.call(['./testfile1', str(FLUID), str(TTYPE), str(FLIBRARY)] + [str(n) for n in HSPACE])\n</code></pre>\n\n<p>...and, in shell:</p>\n\n<pre><code>#!/bin/bash\nfluid=$1; shift\nttype=$2; shift\nflibrary=$3; shift\nhspace=( \"$@\" )\ndeclare -p fluid ttype flibrary hspace # print values\n</code></pre>\n\n<p>...output being:</p>\n\n<pre><code>declare -- fluid=\"MDM\"\ndeclare -- ttype=\"RefProp\"\ndeclare -- flibrary=\"0.009\"\ndeclare -a hspace='([0]=\"0.01\" [1]=\"0.009\" [2]=\"0.008\" [3]=\"0.007\")'\n</code></pre>\n\n<hr>\n\n<p>Note:</p>\n\n<ul>\n<li>Use of <code>awk -v var=\"$val\"</code> is the correct way to pass variable values from bash to awk; other approaches risk code injection vulnerabilities.</li>\n<li>Use of lower-case names for user-defined environment variables is compliant with POSIX convention to avoid namespace collisions; see <A HREF=\"http://pubs.opengroup.org/onlinepubs/009695399/basedefs/xbd_chap08.html\" rel=\"nofollow\">relevant spec</A>.</li>\n</ul>\n"}], "owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1783, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1464275214, "creation_date": 1464219595, "last_edit_date": 1495541324, "question_id": 37449327, "link": "https://stackoverflow.com/questions/37449327/passing-multiple-variables-from-python-script-to-shell-script", "title": "Passing multiple variables from python script to shell script", "body": "<p>I am trying to run a shell script from python by exporting the python variable to the shell script instead of directly reading them from the user. A question regarding <a href=\"https://stackoverflow.com/questions/37446911/how-to-pass-an-array-from-python-to-shell-script-and-execute-it\">passing array values as variable to shell script</a> was answered successfully earlier and helped me to pass the values in an array as a input variable to the shell script. I want to export multiple variables such as <code>FLUID</code>, <code>TTYPE</code> and <code>FLIBRARY</code> from the following python script:</p>\n\n<pre><code>FLUID=\"MDM\"\nTTYPE=0\nFLIBRARY=\"RefProp\"\nHSPACE=[0.01, 0.009, 0.008, 0.007]\nsubprocess.call(['./testfile1'] + [str(n) for n in HSPACE])\n</code></pre>\n\n<p>to the following shell script named testfile1:</p>\n\n<pre><code>#!/bin/bash\necho \"$FLUID, $FLIBRARY\" | ./vls.exe\nfor i; do\nawk 'NR==8 {$1=\"     \" a }1'  a=$i  spacingcontrol.vls &gt; tmp.vls &amp;&amp; mv tmp.vls spacingcontrol.vls \nawk 'NR==8 {$2=\"  \" b \"      \"}1'     b=$i spacingcontrol.vls &gt; tmp.vls &amp;&amp; mv tmp.vls spacingcontrol.vls \ndone\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 1191, "user_id": 2596363, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zoudp.jpg?s=128&g=1", "display_name": "pettinato", "link": "https://stackoverflow.com/users/2596363/pettinato"}, "is_accepted": false, "score": 0, "last_activity_date": 1464219434, "creation_date": 1464219434, "answer_id": 37449304, "question_id": 37449303, "link": "https://stackoverflow.com/questions/37449303/convert-human-readable-timestamp-to-milliseconds-from-the-epoch-in-python/37449304#37449304", "title": "Convert Human Readable Timestamp to Milliseconds from the Epoch in Python", "body": "<pre><code>import datetime\nimport pytz\nimport dateutil\n\nt = \"2016-05-24 11:30 PST\"\n\n#Convert the timestamp to a datetime object with timezone information\nd = pytz.timezone(\"PST8PDT\").localize(dateutil.parser.parse(t))\n\n#In order to subtract a datetime object with timezone information is required.\n#Build the epoch datetime object with a timezone\nepoch = pytz.timezone(\"UTC\").localize(datetime.datetime.utcfromtimestamp(0))\n\n#Subtract the epoch from the human enocoded datetime object \n(d - epoch).total_seconds() * 1000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1191, "user_id": 2596363, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zoudp.jpg?s=128&g=1", "display_name": "pettinato", "link": "https://stackoverflow.com/users/2596363/pettinato"}, "edited": false, "score": 0, "creation_date": 1464279752, "post_id": 37449634, "comment_id": 62431177, "body": "I absolutely agree.  The solution I proposed is dependent on the timezone and is not a generic solution for all timezones."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 2, "last_activity_date": 1464225901, "last_edit_date": 1464225901, "creation_date": 1464222043, "answer_id": 37449634, "question_id": 37449303, "link": "https://stackoverflow.com/questions/37449303/convert-human-readable-timestamp-to-milliseconds-from-the-epoch-in-python/37449634#37449634", "title": "Convert Human Readable Timestamp to Milliseconds from the Epoch in Python", "body": "<p>Consider the following:</p>\n\n<pre><code>import datetime as DT\nimport dateutil.parser as DP\nimport pytz\n\nt = \"2016-05-24 11:30 PST\"\ndate = DP.parse(t)\nDATE_FORMAT = '%Y-%m-%d %H:%M:%S %Z%z'\n\nwrong_tzone = pytz.timezone('PST8PDT')\nwrong_date = wrong_tzone.localize(date)\nprint('{:16}: {}'.format(str(wrong_tzone), wrong_date.strftime(DATE_FORMAT)))\n# PST8PDT         : 2016-05-24 11:30:00 PDT-0700\n\nright_tzone = pytz.timezone('Pacific/Pitcairn')\nright_date = right_tzone.localize(date)\nprint('{:16}: {}'.format(str(right_tzone), right_date.strftime(DATE_FORMAT)))\n# Pacific/Pitcairn: 2016-05-24 11:30:00 PST-0800\n</code></pre>\n\n<p>This shows that the local time <code>2016-05-24 11:30</code> has the abbreviation <code>PST</code> in\nthe <code>Pacific/Pitcairn</code> timezone, but has the abbreviation <code>PDT</code> in <code>PST8PDT</code>.\nSo it doesn't make sense to use the <code>PST8PDT</code> timezone to localize <code>2016-05-24 11:30</code>.</p>\n\n<p>Choosing the right timezone influences the timestamp:</p>\n\n<pre><code>In [274]: wrong_date.timestamp()\nOut[274]: 1464114600.0\n\nIn [275]: right_date.timestamp()\nOut[275]: 1464118200.0\n</code></pre>\n\n<p>(Calling <code>d.timestamp()</code>, by the way, <a href=\"https://docs.python.org/3.5/library/datetime.html#datetime.datetime.timestamp\" rel=\"nofollow\">is equivalent to <code>(d - epoch).total_seconds()</code></a>).\nThe timestamp returns a quantity in seconds.</p>\n\n<hr>\n\n<p>The <code>Pacific/Pitcairn</code> timezone was found using</p>\n\n<pre><code>import datetime as DT\nimport dateutil.parser as DP\nimport pytz\nimport collections\n\nt = \"2016-05-24 11:30 PST\"\ndate = DP.parse(t)\n\ntzones = collections.defaultdict(set)\nfor name in pytz.all_timezones:\n    tzone = pytz.timezone(name)\n    tzabbrev = tzone.normalize(tzone.localize(date)).tzname()\n    tzones[tzabbrev].add(name)\nprint(tzones['PST'])\n# {'Pacific/Pitcairn'}\n</code></pre>\n\n<p>We are lucky that there is only one timezone where the localtime <code>2016-05-24 11:30</code> uses the abbreviation PST. In general, many timezones could be\nassociated with the same abbreviation. For example, <code>2016-05-24 11:30 CST</code> could refer to\nany of these timezones:</p>\n\n<pre><code>In [283]: tzones['CST']\nOut[283]: \n{'America/Belize',\n 'America/Costa_Rica',\n 'America/El_Salvador',\n 'America/Guatemala',\n 'America/Managua',\n 'America/Regina',\n 'America/Swift_Current',\n 'America/Tegucigalpa',\n 'Asia/Chongqing',\n 'Asia/Chungking',\n 'Asia/Harbin',\n 'Asia/Macao',\n 'Asia/Macau',\n 'Asia/Shanghai',\n 'Asia/Taipei',\n 'Canada/East-Saskatchewan',\n 'Canada/Saskatchewan',\n 'PRC',\n 'ROC'}\n</code></pre>\n\n<p><code>2016-05-24 11:30 CST</code> is ambiguous. And so in general, the timestamp you are seeking may not have a unique solution (or any solution).</p>\n"}], "owner": {"reputation": 1191, "user_id": 2596363, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zoudp.jpg?s=128&g=1", "display_name": "pettinato", "link": "https://stackoverflow.com/users/2596363/pettinato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464225901, "creation_date": 1464219434, "question_id": 37449303, "link": "https://stackoverflow.com/questions/37449303/convert-human-readable-timestamp-to-milliseconds-from-the-epoch-in-python", "title": "Convert Human Readable Timestamp to Milliseconds from the Epoch in Python", "body": "<p>I have a timestamp like \"2016-05-24 11:30 PST\".</p>\n\n<p>How do I get the milliseconds since the epoch?</p>\n"}, {"tags": ["python", "python-2.7", "pandas", "scikit-learn", "kdtree"], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 2350876, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecfb016e56d5df6d0622cc90953dce8d?s=128&d=identicon&r=PG", "display_name": "Larry Freeman", "link": "https://stackoverflow.com/users/2350876/larry-freeman"}, "edited": false, "score": 0, "creation_date": 1464220896, "post_id": 37449437, "comment_id": 62400661, "body": "Thanks for the suggestions.  As far as result, I&#39;m trying to get an answer in terms of place_ids.  kdtree.query returns a list of indexes.  My problem is mapping the indexes back to the pandas dataframe column value for that index.  KDTree is returning a list of lists:  [[1,2,3,...],[5,6,7,8,...], ...].  I want to convert this to a list of strings.  [[&#39;place123&#39;,&#39;place256&#39;,...],[&#39;place115&#39;,&#39;place2445&#39;, ..], ..].  In my example, there are 30 elements in each element-list and a total of 8M of these element-lists in the list of lists."}, {"owner": {"reputation": 1540, "user_id": 6297504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FUlnHAlBzYU/AAAAAAAAAAI/AAAAAAAABu0/feK9LrMcSKU/photo.jpg?sz=128", "display_name": "Andreas Hsieh", "link": "https://stackoverflow.com/users/6297504/andreas-hsieh"}, "reply_to_user": {"reputation": 418, "user_id": 2350876, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecfb016e56d5df6d0622cc90953dce8d?s=128&d=identicon&r=PG", "display_name": "Larry Freeman", "link": "https://stackoverflow.com/users/2350876/larry-freeman"}, "edited": false, "score": 1, "creation_date": 1464222240, "post_id": 37449437, "comment_id": 62400972, "body": "I see. You can try <code>ix</code> instead of <code>iloc</code>. Although <code>iloc</code> and <code>loc</code> are explicit and intuitive, <code>ix</code> are usually faster than <code>iloc</code>."}, {"owner": {"reputation": 418, "user_id": 2350876, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecfb016e56d5df6d0622cc90953dce8d?s=128&d=identicon&r=PG", "display_name": "Larry Freeman", "link": "https://stackoverflow.com/users/2350876/larry-freeman"}, "edited": false, "score": 0, "creation_date": 1464222294, "post_id": 37449437, "comment_id": 62400992, "body": "Thanks for the tip.  I&#39;ll test it out.  :-)"}], "tags": [], "owner": {"reputation": 1540, "user_id": 6297504, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FUlnHAlBzYU/AAAAAAAAAAI/AAAAAAAABu0/feK9LrMcSKU/photo.jpg?sz=128", "display_name": "Andreas Hsieh", "link": "https://stackoverflow.com/users/6297504/andreas-hsieh"}, "is_accepted": false, "score": 1, "last_activity_date": 1464220578, "creation_date": 1464220578, "answer_id": 37449437, "question_id": 37449202, "link": "https://stackoverflow.com/questions/37449202/in-python-need-an-efficient-way-to-map-kdtree-indexes-to-the-values/37449437#37449437", "title": "In Python, Need an Efficient way to map kdtree indexes to the values", "body": "<p>Maybe you can give it a try, since you don't want distance from <code>query</code>:</p>\n\n<pre><code>indexes = tree.query(test[['x','y']],k=30,return_distance=False,dualtree=True,sort_results=False)\n</code></pre>\n\n<p>This might reduce some computation time for the first part.\nFor the second part , I am thinking about flatten or <code>reshape</code> indexes and slice <code>place_id</code> instead of dual loops. Can you provide the format of <code>result</code>? Is it just a simple list?</p>\n"}], "owner": {"reputation": 418, "user_id": 2350876, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ecfb016e56d5df6d0622cc90953dce8d?s=128&d=identicon&r=PG", "display_name": "Larry Freeman", "link": "https://stackoverflow.com/users/2350876/larry-freeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1464220578, "creation_date": 1464218645, "question_id": 37449202, "link": "https://stackoverflow.com/questions/37449202/in-python-need-an-efficient-way-to-map-kdtree-indexes-to-the-values", "title": "In Python, Need an Efficient way to map kdtree indexes to the values", "body": "<p>I am using kdtree from scikit-learn with a very large data set.  </p>\n\n<p>I can get kdtree to do the query in a somewhat reasonable time (20 minutes on my machine) but I can't map the indexes to the values they represent in any time less than 1 hour (I stop waiting after 1 hour).</p>\n\n<p>I load up 2 csv files (train.csv has 29M records, test.csv has 8M records).  I am interested in 3 keys.  'x','y' which are floats and 'placeid' which is a string.</p>\n\n<pre><code>from sklearn.neighbors import KDTree\nimport pandas as pd\n\ntrain = pd.read_csv(\"train.csv\")\ntest = pd.read.csv(\"test.csv\")\n\ntree = KDTree(train[['x','y']])\n_, indexes = tree.query(test[['x','y']],k=30)\n\n# takes 20 minutes to get here.  Here is the code that takes more than an hour\n\nresult = [[train.iloc[idx].place_id for idx in idx_set] for idx_set in indexes]\n</code></pre>\n\n<p>Is there a faster way to do this?  My goal here is to map all the indexes that get returned from KDTree to the place_ids.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1464219079, "post_id": 37449199, "comment_id": 62400204, "body": "Does <a href=\"http://stackoverflow.com/questions/16398471/regex-not-ending-with\" title=\"regex not ending with\">stackoverflow.com/questions/16398471/regex-not-ending-with</a> help?"}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 2, "creation_date": 1464219129, "post_id": 37449199, "comment_id": 62400216, "body": "\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200bActually you don&#39;t need RegEx in this case: <code>[i for i in strings.splitlines() if i.startswith(&#39;tool_&#39;) and not i.endswith(&#39;_data&#39;)]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 6256826, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16e9c3776119c601ac887fb60a2b4a36?s=128&d=identicon&r=PG&f=1", "display_name": "moshem", "link": "https://stackoverflow.com/users/6256826/moshem"}, "is_accepted": false, "score": 1, "last_activity_date": 1464219161, "creation_date": 1464219161, "answer_id": 37449268, "question_id": 37449199, "link": "https://stackoverflow.com/questions/37449199/in-python-how-to-write-a-regular-expression-matching-strings-starting-with-stri/37449268#37449268", "title": "In Python, how to write a regular expression matching strings starting with string A but NOT ending with B", "body": "<p>maybe something like this?:</p>\n\n<pre><code>strStart = \"tool_\"\nstrEnd = \"_data\"\n\nfor s in Strings_list:\n    if s.startswith(strStart) and not s.endswith(strEnd):\n        doSomething()\n    else:\n        doSomethingElse()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1103, "user_id": 3716533, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8USWA.jpg?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/3716533/scott"}, "is_accepted": false, "score": 2, "last_activity_date": 1464219538, "creation_date": 1464219538, "answer_id": 37449321, "question_id": 37449199, "link": "https://stackoverflow.com/questions/37449199/in-python-how-to-write-a-regular-expression-matching-strings-starting-with-stri/37449321#37449321", "title": "In Python, how to write a regular expression matching strings starting with string A but NOT ending with B", "body": "<p>From <a href=\"https://docs.python.org/2/library/re.html#regular-expression-syntax\" rel=\"nofollow\">https://docs.python.org/2/library/re.html#regular-expression-syntax</a>:</p>\n\n<pre><code>(?&lt;!...)\nMatches if the current position in the string is not preceded by a match\nfor .... This is called a negative lookbehind assertion. Similar to positive \nlookbehind assertions, the contained pattern must only match strings of some\nfixed length and shouldn\u2019t contain group references. Patterns which start\nwith negative lookbehind assertions may match at the beginning of the string\nbeing searched..\n</code></pre>\n\n<p>I think the regex you need is <code>'^tool_.*$(?&lt;!_data)'</code>:</p>\n\n<pre><code>&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'tool_abc')\n&lt;_sre.SRE_Match object at 0x10ef4fd98&gt;\n&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'tool_abc_data')\n&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'tool_abc_data_file')\n&lt;_sre.SRE_Match object at 0x10ef4fe00&gt;\n&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'tool_abc_file')\n&lt;_sre.SRE_Match object at 0x10ef4fd98&gt;\n&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'tool_abc_data')\n&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'abc_data')\n&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'file_xyz_data')\n&gt;&gt;&gt; re.match('^tool_.*$(?&lt;!_data)', 'file_xyz')\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 3063490, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/rCGdY.jpg?s=128&g=1", "display_name": "Wei", "link": "https://stackoverflow.com/users/3063490/wei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1464219538, "creation_date": 1464218637, "last_edit_date": 1464218958, "question_id": 37449199, "link": "https://stackoverflow.com/questions/37449199/in-python-how-to-write-a-regular-expression-matching-strings-starting-with-stri", "title": "In Python, how to write a regular expression matching strings starting with string A but NOT ending with B", "body": "<p>I have some strings like:</p>\n\n<pre><code>tool_abc\ntool_abc_data\ntool_xyz\ntool_xyz_data\nfile_abc\nfile_xyz_data\n</code></pre>\n\n<p>My goal is to have an RegEx to match any strings starting with <code>tool_</code> and NOT ending with <code>_data</code>. How can I write one?</p>\n"}, {"tags": ["python", "python-2.7", "tkinter", "widget", "trace"], "comments": [{"owner": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "edited": false, "score": 0, "creation_date": 1464218683, "post_id": 37449154, "comment_id": 62400099, "body": "so, when you type anything in your Entry box, the checkbox appears, but when you delete everything in it, you want the checkbox widget to be removed?"}, {"owner": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "reply_to_user": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "edited": false, "score": 0, "creation_date": 1464218830, "post_id": 37449154, "comment_id": 62400138, "body": "Yes anything less than 1 (&lt;=1) or if I have a blank entry box! @glls"}, {"owner": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "reply_to_user": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "edited": false, "score": 0, "creation_date": 1464218921, "post_id": 37449154, "comment_id": 62400168, "body": "When I type a number greater than 1, I want the checkbox to appear and if I type a number less than 1 or if I leave the entry box empty I want that checkbox to be deleted. @glls"}, {"owner": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "edited": false, "score": 0, "creation_date": 1464219005, "post_id": 37449154, "comment_id": 62400186, "body": "as is, it creates the widget with any string entered"}, {"owner": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "reply_to_user": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "edited": false, "score": 0, "creation_date": 1464219135, "post_id": 37449154, "comment_id": 62400217, "body": "Yes but it won&#39;t delete the checkbox if I then type a number less than 1 or if I delete everything in the entry box, that&#39;s my problem! Do you know what might be causing this problem? @glls"}], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "edited": false, "score": 0, "creation_date": 1464219518, "post_id": 37449276, "comment_id": 62400301, "body": "This partially works!! There&#39;s still a problem: if the entry is greater than 20 it won&#39;t work anymore. Let&#39;s say I entered 20 in the entry box, the checkbox will appear, but if I change the entry to 1 or zero (or leave the entry box blank), the checkbox won&#39;t disappear! Do you know why this is happening? Thanks again for your help, it&#39;s really appreciated! :)"}, {"owner": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "edited": false, "score": 0, "creation_date": 1464224492, "post_id": 37449276, "comment_id": 62401512, "body": "Thanks for your help! :) @glls"}, {"owner": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "reply_to_user": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "edited": false, "score": 0, "creation_date": 1464224645, "post_id": 37449276, "comment_id": 62401543, "body": "i cant figure out why when the string is &gt; &#39;20&#39; the checkbox wont be removed. currently checking, maybe someone else has an answer, but when i remove your exception handling, I get other errors that might be causing issues."}, {"owner": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "edited": false, "score": 0, "creation_date": 1464225283, "post_id": 37449276, "comment_id": 62401680, "body": "Can you paste the error here? Because I removed the try/except statement and I didn&#39;t get any error, beside the &gt;20 glitch! @glls"}], "tags": [], "owner": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "is_accepted": false, "score": 0, "last_activity_date": 1464227310, "last_edit_date": 1495535641, "creation_date": 1464219193, "answer_id": 37449276, "question_id": 37449154, "link": "https://stackoverflow.com/questions/37449154/delete-a-tkinter-widgets-after-checking-the-value-of-an-entry-beginner/37449276#37449276", "title": "Delete a tkinter widgets after checking the value of an entry (Beginner)", "body": "<p>One problem is that cb is \"unresolved\" under try:, once you declare it global, it will kind of \"behave\" as you want:</p>\n\n<pre><code>from Tkinter import *\n\nroot = Tk()\n\ndef update(*args):\n    print EntryVar.get()\n    global cb\n    if EntryVar.get()&gt;'1':\n        cb = Checkbutton(root,text=\"Show check box\")\n        cb.grid(row = 1)\n\n    elif EntryVar.get()&lt;='1' or EntryVar.get() == '':\n        try:\n            cb.grid_remove()\n\n        except:\n            pass\n\nEntryVar = StringVar()\nEntryVar.trace('w',update)\nEntry = Entry(root,textvariable = EntryVar)\nEntry.grid(row = 0)\n\n\nroot.mainloop()\n</code></pre>\n\n<p>but even there, you will face another setback when fetching the Entry value since Strings are compared lexicographically, and dissimilar types are compared by the name of their type, this issue had been raised <a href=\"https://stackoverflow.com/questions/3270680/how-does-python-compare-string-and-int\">here</a></p>\n\n<p>Another point, if you remvove your exception handling, you will see that if a user types  0 or 1 your program will crash with <code>\"NameError: name 'cb' is not defined\"</code> because your checkbutton doesnt exist (not defined) and there is nothing to delete, IF you define the checkbutton at the beggining of your function, then it will not be deleted when you try grid_remove() or delete(). Also, when you enter strings that are non numerical, your program will not have the desired behavior. Consider changing the logic and var types you are using for this.\nAlso note that when <code>if EntryVar.get() &gt; '2':</code> (you can play around with this) behavior changes, so there is definitely something fishy with the logic.</p>\n"}], "owner": {"reputation": 108, "user_id": 6377845, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-KK5P-r5PLBU/AAAAAAAAAAI/AAAAAAAAAGo/gntEvtc6pdg/photo.jpg?sz=128", "display_name": "Elie khalifeh", "link": "https://stackoverflow.com/users/6377845/elie-khalifeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1465252735, "creation_date": 1464218292, "last_edit_date": 1465252735, "question_id": 37449154, "link": "https://stackoverflow.com/questions/37449154/delete-a-tkinter-widgets-after-checking-the-value-of-an-entry-beginner", "title": "Delete a tkinter widgets after checking the value of an entry (Beginner)", "body": "<p>I'm a beginner trying to code a program that will add or delete a widget (checkbutton) depending on the value of the entry. For example, if the entry is greater than 1, the checkbox will be added, otherwise, the program will delete the checkbox.</p>\n\n<p>My code will create the widget but won't delete it after changing the entry and I can't figure it out. Can you help me please?</p>\n\n<p>Thank you in advance for your help!</p>\n\n<p>Here's a short sample of my code:</p>\n\n<pre><code>from Tkinter import *\n\nroot = Tk()\n\ndef update(*args):\n    print EntryVar.get()\n\n    if EntryVar.get()&gt;'1':\n        cb = Checkbutton(root,text=\"Show check box\")\n        cb.grid(row = 1)\n\n    elif EntryVar.get()&lt;='1' or EntryVar.get() == '':\n        try:\n            cb.grid_remove()\n        except:\n            pass\n\nEntryVar = StringVar()\nEntryVar.trace('w',update)\nEntry = Entry(root,textvariable = EntryVar)\nEntry.grid(row = 0)\n\n\nroot.mainloop()\n</code></pre>\n\n<p>Let me know if you need more details :)</p>\n"}, {"tags": ["python", "python-requests", "setup.py"], "answers": [{"comments": [{"owner": {"reputation": 2771, "user_id": 1887370, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/08bf95201cabfe02acc28041cff862ff?s=128&d=identicon&r=PG", "display_name": "sakurashinken", "link": "https://stackoverflow.com/users/1887370/sakurashinken"}, "edited": false, "score": 0, "creation_date": 1464221935, "post_id": 37449221, "comment_id": 62400883, "body": "I believe setup.py install will run install_requires. I&#39;m just listing the dependences in here explicitly."}], "tags": [], "owner": {"reputation": 4316, "user_id": 6005451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5d2854ebcf1678d4fab4f7bedd6b9f?s=128&d=identicon&r=PG&f=1", "display_name": "EoinS", "link": "https://stackoverflow.com/users/6005451/eoins"}, "is_accepted": false, "score": 0, "last_activity_date": 1464219151, "last_edit_date": 1464219151, "creation_date": 1464218780, "answer_id": 37449221, "question_id": 37449137, "link": "https://stackoverflow.com/questions/37449137/how-to-include-supplemental-packages-in-setup-py-dependancy-install/37449221#37449221", "title": "How to include supplemental packages in setup.py dependancy install", "body": "<p>Any dependent packages must be installed separately.  You cannot have supplemental requests in your setup file, for security purposes the user must deliberately install each package.</p>\n\n<p>You can, though, list the dependencies so users can see what is required.  The best way to do this would be in your setup file as such:</p>\n\n<pre><code>setup(name='myName',\n      version='1.1',\n      install_requires=['security'],\n      # ...)\n</code></pre>\n\n<p>Here is the Python documentation on <a href=\"https://docs.python.org/2/distutils/setupscript.html#relationships-between-distributions-and-packages\" rel=\"nofollow\">Setup Requirements</a></p>\n"}], "owner": {"reputation": 2771, "user_id": 1887370, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/08bf95201cabfe02acc28041cff862ff?s=128&d=identicon&r=PG", "display_name": "sakurashinken", "link": "https://stackoverflow.com/users/1887370/sakurashinken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464219151, "creation_date": 1464218170, "question_id": 37449137, "link": "https://stackoverflow.com/questions/37449137/how-to-include-supplemental-packages-in-setup-py-dependancy-install", "title": "How to include supplemental packages in setup.py dependancy install", "body": "<p>I want to use https with SSL via requests as a dependency to a python package I am designing. In order to run requests with https via ssl, it is necessary to run </p>\n\n<pre><code>pip install requests[security]\n</code></pre>\n\n<p>How would I include an equivalent of this call in setup.py so that when the user installs my package, the security packages are also installed?</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 24142, "user_id": 3955830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f57e29619783576502a620f47ad2e3b?s=128&d=identicon&r=PG", "display_name": "solarissmoke", "link": "https://stackoverflow.com/users/3955830/solarissmoke"}, "edited": false, "score": 0, "creation_date": 1464230802, "post_id": 37449123, "comment_id": 62402853, "body": "It&#39;s not very clear what you are asking. What are <code>startBike</code>, <code>endBike</code> and <code>startUser</code>?"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1464232387, "post_id": 37449123, "comment_id": 62403219, "body": "Can you please explain your model. I would not expect to rent a &quot;Variation&quot; but a bike."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6382867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0748ba13ff2378818f6a025fd87bb9?s=128&d=identicon&r=PG&f=1", "display_name": "chokk", "link": "https://stackoverflow.com/users/6382867/chokk"}, "edited": false, "score": 0, "creation_date": 1464365810, "post_id": 37450987, "comment_id": 62472651, "body": "Thanks fo your answer man, but i ain&#39;t sure this field is supported by MySQL."}, {"owner": {"reputation": 644, "user_id": 5979589, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GxDWz.jpg?s=128&g=1", "display_name": "zhaochy", "link": "https://stackoverflow.com/users/5979589/zhaochy"}, "reply_to_user": {"reputation": 3, "user_id": 6382867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0748ba13ff2378818f6a025fd87bb9?s=128&d=identicon&r=PG&f=1", "display_name": "chokk", "link": "https://stackoverflow.com/users/6382867/chokk"}, "edited": false, "score": 0, "creation_date": 1464568561, "post_id": 37450987, "comment_id": 62525867, "body": "django&#39;s api supports all databases django supported, so this field is supported by MySQL."}], "tags": [], "owner": {"reputation": 644, "user_id": 5979589, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GxDWz.jpg?s=128&g=1", "display_name": "zhaochy", "link": "https://stackoverflow.com/users/5979589/zhaochy"}, "is_accepted": false, "score": 0, "last_activity_date": 1464232769, "creation_date": 1464232769, "answer_id": 37450987, "question_id": 37449123, "link": "https://stackoverflow.com/questions/37449123/what-is-efficient-way-of-detecting-if-date-range-of-object-is-occupied/37450987#37450987", "title": "What is efficient way of detecting if date range of object is occupied?", "body": "<p>If you are using django>=1.8, you may use  <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/fields/#durationfield\" rel=\"nofollow\">DurationField</a> for your model.</p>\n\n<p>With <code>DurationField</code>, you needn't set a start_time and end_time. And by setting DurationField unique=True, you can check if this time period is occupied.</p>\n\n<p>Hope helpful.</p>\n"}, {"comments": [{"owner": {"reputation": 1445, "user_id": 3390630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c695d817cd6bc5c998b74de62cda2ed3?s=128&d=identicon&r=PG&f=1", "display_name": "WayBehind", "link": "https://stackoverflow.com/users/3390630/waybehind"}, "reply_to_user": {"reputation": 3, "user_id": 6382867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0748ba13ff2378818f6a025fd87bb9?s=128&d=identicon&r=PG&f=1", "display_name": "chokk", "link": "https://stackoverflow.com/users/6382867/chokk"}, "edited": false, "score": 0, "creation_date": 1464378163, "post_id": 37451211, "comment_id": 62478746, "body": "Glad I could help. Without this community I would not be able to finish many of my own projects."}], "tags": [], "owner": {"reputation": 1445, "user_id": 3390630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c695d817cd6bc5c998b74de62cda2ed3?s=128&d=identicon&r=PG&f=1", "display_name": "WayBehind", "link": "https://stackoverflow.com/users/3390630/waybehind"}, "is_accepted": true, "score": 0, "last_activity_date": 1464234359, "creation_date": 1464234359, "answer_id": 37451211, "question_id": 37449123, "link": "https://stackoverflow.com/questions/37449123/what-is-efficient-way-of-detecting-if-date-range-of-object-is-occupied/37451211#37451211", "title": "What is efficient way of detecting if date range of object is occupied?", "body": "<p>You may need something like this:</p>\n\n<pre><code>available_bikes = Variation.objects.filter(...\n    ).exclude(\n    Q(rentdate__startCar__range=(start_date, end_date)) |\n    Q(rentdate__endCar__range=(start_date, end_date))\n    )\n</code></pre>\n\n<p>This will check that the rental start date and end date are not rented by other user.</p>\n\n<p>after that, all  you have to do is make sure that some bikes are avilable by doing:</p>\n\n<pre><code>if not available_bikes:\n    bikestoshow = None\nelse:\n    bikestoshow = available_bikes[0].id #list of bike IDs\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6382867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0748ba13ff2378818f6a025fd87bb9?s=128&d=identicon&r=PG&f=1", "display_name": "chokk", "link": "https://stackoverflow.com/users/6382867/chokk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 37451211, "answer_count": 2, "score": 0, "last_activity_date": 1464268613, "creation_date": 1464218107, "last_edit_date": 1464268613, "question_id": 37449123, "link": "https://stackoverflow.com/questions/37449123/what-is-efficient-way-of-detecting-if-date-range-of-object-is-occupied", "title": "What is efficient way of detecting if date range of object is occupied?", "body": "<p>I'm stuck and hope you can help me.</p>\n\n<p>I have app for renting bikes, where user through calendar pick a date range(from startUser to endUser).Every bike has several copies(Variation), if some of the copies is available on user range,he'll take that.</p>\n\n<p>i know formula: \nif not(endBike &lt; startCar or startUser > endBike): THEY OVERLAP</p>\n\n<p>and have Models like that:</p>\n\n<pre><code>class Bike(models.Model):\n    name = models.CharField(max_length = 200)\n\nclass Variation(models.Model):\n    bike = models.ForeignKey(Bike)\n\nclass RentDate(models.Model):\n    startBike= models.DateField(blank=True, null=True)\n    endBike = models.DateField(blank=True, null=True)\n    variation = models.ForeignKey('Variation',null=True, blank=True)\n</code></pre>\n\n<p>But don't know really how to parse all dates and detect if user dates are available for one of the variation.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "file", "python-3.x", "with-statement"], "comments": [{"owner": {"reputation": 2068, "user_id": 4028706, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IdPXD.jpg?s=128&g=1", "display_name": "wgwz", "link": "https://stackoverflow.com/users/4028706/wgwz"}, "edited": false, "score": 1, "creation_date": 1464217985, "post_id": 37449075, "comment_id": 62399940, "body": "<a href=\"https://docs.python.org/2/library/glob.html\" rel=\"nofollow noreferrer\">glob</a>"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1464218091, "post_id": 37449075, "comment_id": 62399961, "body": "Have you looked at os.listdir()?"}, {"owner": {"reputation": 3608, "user_id": 887074, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/da9c9afc19776841b62f8980a40c02ec?s=128&d=identicon&r=PG", "display_name": "Erotemic", "link": "https://stackoverflow.com/users/887074/erotemic"}, "edited": false, "score": 0, "creation_date": 1464218102, "post_id": 37449075, "comment_id": 62399963, "body": "You can use os.listdir to access all the files in a specific directory. Then you can use use a for loop to execute the same piece of code on all files returned by os.listdir"}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1464218102, "creation_date": 1464218102, "answer_id": 37449122, "question_id": 37449075, "link": "https://stackoverflow.com/questions/37449075/python-is-there-a-way-to-systematically-open-files-in-a-script-until-a-director/37449122#37449122", "title": "Python: Is there a way to systematically open files in a script until a directory has been exhausted?", "body": "<p>Yes, there are many ways. One way is to iterate over the result of <code>glob.glob()</code>:</p>\n\n<pre><code>#UNTESTED\nimport glob\nfor filename in glob.glob('*'):\n    with open(filename) as the_file:\n        # do the thing\n</code></pre>\n\n<p>If you only wanted to operate on files with a particular naming pattern, you could use, for example: <code>glob.glob('ABC*.txt')</code></p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1464218116, "creation_date": 1464218116, "answer_id": 37449124, "question_id": 37449075, "link": "https://stackoverflow.com/questions/37449075/python-is-there-a-way-to-systematically-open-files-in-a-script-until-a-director/37449124#37449124", "title": "Python: Is there a way to systematically open files in a script until a directory has been exhausted?", "body": "<p>The Python <strong>os</strong> package has a lot of great tools for working with the operating system, especially file and process management.</p>\n\n<pre><code>import os\n\nfor f in os.listdir(\".\"):\n    with open(f) as the_file:\n</code></pre>\n"}], "owner": {"reputation": 854, "user_id": 6362677, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/13be8d12cbcbc70c36fc66f7321d300d?s=128&d=identicon&r=PG&f=1", "display_name": "Lou", "link": "https://stackoverflow.com/users/6362677/lou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464218116, "creation_date": 1464217843, "question_id": 37449075, "link": "https://stackoverflow.com/questions/37449075/python-is-there-a-way-to-systematically-open-files-in-a-script-until-a-director", "title": "Python: Is there a way to systematically open files in a script until a directory has been exhausted?", "body": "<p>I would like to write a script in Python that will systematically open files, but I'm not sure how that might happen. Essentially, I would like something like: </p>\n\n<pre><code>with open(file1) as thefile:\n    #do stuff\n\nwith open(file2) as the file:\n   #do the same thing as before\n\n.... #does this until the directory is exhausted\n</code></pre>\n\n<p>There are a good number of files that this would need to happen for, so I'm looking for an alternative to hard-coding in a bunch of <code>with</code> commands. Is there a way to do this in a loop that will recognize that it has exhausted all the files in a directory?</p>\n"}, {"tags": ["python", "flask", "stormpath"], "answers": [{"comments": [{"owner": {"reputation": 779, "user_id": 128601, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/741546b2a839c1a6f4148c290a83204e?s=128&d=identicon&r=PG", "display_name": "Alex Dong", "link": "https://stackoverflow.com/users/128601/alex-dong"}, "edited": false, "score": 1, "creation_date": 1464302551, "post_id": 37465868, "comment_id": 62442892, "body": "Aha! That&#39;s using Python to its finest. Kudos, sir!"}], "tags": [], "owner": {"reputation": 27694, "user_id": 194175, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/56badf521701d4f9b3a394d3ef6e90c4?s=128&d=identicon&r=PG", "display_name": "rdegges", "link": "https://stackoverflow.com/users/194175/rdegges"}, "is_accepted": true, "score": 1, "last_activity_date": 1464278525, "creation_date": 1464278525, "answer_id": 37465868, "question_id": 37449052, "link": "https://stackoverflow.com/questions/37449052/how-to-implement-login-as-admin-function-with-stormpath-flask/37465868#37465868", "title": "How to implement &quot;login as&quot; admin function with `stormpath-flask`", "body": "<p>I'm the author of this library, so wanted to hop in here =)</p>\n\n<p>The answer is yes: you can indeed transform a normal <code>Account</code> object into a valid Flask-Stormpath <code>User</code> object. Here's how:</p>\n\n<pre><code>from flask.ext.stormpath import login_user\nfrom flask.ext.stormpath.models import User\n\nfrom app import stormpath_manager\n\n\n# ...\n\n\nmain_cloud_directory = stormpath_manager.client.directories.search({\n    'name': 'Directory Name'\n})[0]\naccounts = main_cloud_directory.accounts.search({'email': email})\n\nif accounts.size == 1:\n    account = accounts[0]\n    account.__class__ = User\n    login_user(account, remember=False)\n\n    return redirect('/settings')\nelse:\n    abort(404)\n</code></pre>\n\n<p>The important bit is the <code>account.__class__ = User</code>. This uses some meta magic to convert the class into a <code>User</code> object =) This is what I do behind the scenes in the library as well, for instance: <a href=\"https://github.com/stormpath/stormpath-flask/blob/4185f2f41574156870ce1aa990d34e4ad84357be/flask_stormpath/models.py#L125-L126\" rel=\"nofollow\">https://github.com/stormpath/stormpath-flask/blob/4185f2f41574156870ce1aa990d34e4ad84357be/flask_stormpath/models.py#L125-L126</a></p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 779, "user_id": 128601, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/741546b2a839c1a6f4148c290a83204e?s=128&d=identicon&r=PG", "display_name": "Alex Dong", "link": "https://stackoverflow.com/users/128601/alex-dong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 37465868, "answer_count": 1, "score": 1, "last_activity_date": 1464278525, "creation_date": 1464217676, "question_id": 37449052, "link": "https://stackoverflow.com/questions/37449052/how-to-implement-login-as-admin-function-with-stormpath-flask", "title": "How to implement &quot;login as&quot; admin function with `stormpath-flask`", "body": "<p>I'm implementing a \"login as\" feature for our admin dashboard.</p>\n\n<p>Basically I'd love to allow our admins to see and use the website as if she has logged in as a specific customer. For example, if Trish rang us up and asked a question, our admin should be able to login as Trish and see exactly what Trish is seeing. </p>\n\n<p>And here is the code I've written assuming we have a valid <code>email</code>:</p>\n\n<pre><code>from app import stormpath_manager\nfrom flask.ext.stormpath import login_user\n... \nmain_cloud_directory = stormpath_manager.client.directories.search({\n    'name': 'Directory Name'})[0]\naccounts = main_cloud_directory.accounts.search({'email': email})\nif accounts.size == 1:\n    account = accounts[0]\n    login_user(account, remember=False)\n    return redirect('/settings')\nelse:\n    abort(404)\n</code></pre>\n\n<p>When I run the code, I got <code>AttributeError: Account has no attribute 'is_active'</code> back.</p>\n\n<p>To set the context for this: </p>\n\n<ol>\n<li><p>I understand that <code>login_user</code> is expecting to see an <code>User</code> object which extends <code>stormpath.resource.Account</code> whereas the <code>account</code> object we received have no <code>is_active</code> defined. </p></li>\n<li><p>I have code in other part of the app working just fine if I send <code>login_user</code> the <code>User</code> object returned by <code>stormpath_account = StormpathUser.create(...)</code>  method. </p></li>\n<li><p>I am also aware that I am mixing the <code>stormpath-flask</code> with the raw <code>stormpath-python-sdk</code> and I guess that I really should be using <code>stormpath-flask</code> methods. </p></li>\n<li><p>I can see that with <code>Account.email</code>, I can create a <code>User</code> object using <code>User.from_login</code> but this won't work because we don't store password on our end. </p></li>\n</ol>\n\n<p>I'm wondering are there any way I can take an <code>Account</code> returned by the <code>search</code> method and turn it into a <code>User</code>? What would you do to make this working? </p>\n\n<p>Thanks, </p>\n\n<p>Alex</p>\n"}, {"tags": ["python", "pyqt", "qtimer"], "answers": [{"tags": [], "owner": {"reputation": 1978, "user_id": 4179570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/7rqjc.jpg?s=128&g=1", "display_name": "glls", "link": "https://stackoverflow.com/users/4179570/glls"}, "is_accepted": true, "score": 1, "last_activity_date": 1464217628, "creation_date": 1464217628, "answer_id": 37449041, "question_id": 37449005, "link": "https://stackoverflow.com/questions/37449005/using-try-except-with-a-qtimer/37449041#37449041", "title": "Using Try/except with a QTimer", "body": "<p>as per <a href=\"https://docs.python.org/2/tutorial/errors.html\" rel=\"nofollow\">https://docs.python.org/2/tutorial/errors.html</a>, you should not include the string error message right after \"except\" but rather the ErrorType and then add the error message you want raised as follows:</p>\n\n<pre><code>try:\n    #something\n\nexcept TypeError:\n    #Do something here\n    print \" 'instancemethod' object is not connected\"\n    #Or do something here\n</code></pre>\n"}], "owner": {"reputation": 517, "user_id": 5556018, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-nKluQavDpu8/AAAAAAAAAAI/AAAAAAAAAME/4DV85y5sY9k/photo.jpg?sz=128", "display_name": "Pablo Flores", "link": "https://stackoverflow.com/users/5556018/pablo-flores"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 37449041, "answer_count": 1, "score": 0, "last_activity_date": 1464217628, "creation_date": 1464217336, "question_id": 37449005, "link": "https://stackoverflow.com/questions/37449005/using-try-except-with-a-qtimer", "title": "Using Try/except with a QTimer", "body": "<p>I use a <code>QTimer</code> to start a method, which starts a timer. When I push a <code>QPushButton</code> I need to stop this timer and do another things. So, when I push the button i get this error:</p>\n\n<p><code>TypeError: 'instancemethod' object is not connected</code> </p>\n\n<p>How can I use a <code>try-except</code>method to avoid this error. This is what i\u00b4ve done:</p>\n\n<pre><code>def delete(self):\n    try:\n        self.tmr.timeout.disconnect(self.run_save_clock)\n        self.tmr.timeout.disconnect(self.append_Data)\n        self.data = []\n        self.time_label_2.setText(\"00:00:00\")\n        self.data_label.setText(\"000000\")\n\n    except \"TypeError: 'instancemethod' object is not connected\": #HERE IS WHERE I HAVE THE PROBLEM\n        self.tmr.timeout.disconnect(self.append_Data)\n        self.data = []\n        self.time_label_2.setText(\"00:00:00\")\n        self.data_label.setText(\"000000\")\n</code></pre>\n\n<p>But it does not works. The <code>self.data</code> is a variable where I save some data while the timer is active.</p>\n\n<p>The error appears when I first push another <code>QPushButton</code> that is connected to this method:</p>\n\n<pre><code>def stop(self):\n    self.saveBtn.setEnabled(True)\n    self.stopBtn.setEnabled(False)\n    self.tmr.timeout.disconnect(self.run_save_clock)\n    self.tmr.timeout.disconnect(self.append_Data)\n</code></pre>\n\n<p>What am i doing wrong with the <code>try/except</code> method? </p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 714, "user_id": 5106998, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/r1n3V.png?s=128&g=1", "display_name": "gglasses", "link": "https://stackoverflow.com/users/5106998/gglasses"}, "edited": false, "score": 0, "creation_date": 1464217328, "post_id": 37448971, "comment_id": 62399806, "body": "Is it gonna be three columns all the time?"}, {"owner": {"reputation": 11, "user_id": 6291793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc8ffce806001f2a25cb4e8fbb944e7?s=128&d=identicon&r=PG&f=1", "display_name": "pythonUC211", "link": "https://stackoverflow.com/users/6291793/pythonuc211"}, "reply_to_user": {"reputation": 714, "user_id": 5106998, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/r1n3V.png?s=128&g=1", "display_name": "gglasses", "link": "https://stackoverflow.com/users/5106998/gglasses"}, "edited": false, "score": 0, "creation_date": 1464217382, "post_id": 37448971, "comment_id": 62399820, "body": "yeah the actual file is 3 columns with like 120 words in each"}, {"owner": {"reputation": 714, "user_id": 5106998, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/r1n3V.png?s=128&g=1", "display_name": "gglasses", "link": "https://stackoverflow.com/users/5106998/gglasses"}, "edited": false, "score": 0, "creation_date": 1464217451, "post_id": 37448971, "comment_id": 62399832, "body": "the second and the third columns are gonna be inside a list with your first column as the key right? :-)"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 1, "creation_date": 1464217458, "post_id": 37448971, "comment_id": 62399834, "body": "What do you mean &quot;next 2 columns as values&quot;? Each dictionary entry can only have one value. But that value could be a tuple or a list. Do you want the result <code>{&#39;james&#39;:(1.0,2.5), &#39;Tom&#39;:(2.0,2.1), &#39;Ryan&#39;:(3.0,2.5)}</code>?"}, {"owner": {"reputation": 11, "user_id": 6291793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc8ffce806001f2a25cb4e8fbb944e7?s=128&d=identicon&r=PG&f=1", "display_name": "pythonUC211", "link": "https://stackoverflow.com/users/6291793/pythonuc211"}, "edited": false, "score": 0, "creation_date": 1464217671, "post_id": 37448971, "comment_id": 62399874, "body": "yes sorry^ the &quot;value&quot; for james should be [1.0,2.5]"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1464217767, "post_id": 37448971, "comment_id": 62399895, "body": "So you want <code>{&#39;james&#39;:[1.0,2.5], &#39;Tom&#39;:[2.0,2.1], &#39;Ryan&#39;:[3.0,2.5]}</code> where each value is a list?"}, {"owner": {"reputation": 11, "user_id": 6291793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc8ffce806001f2a25cb4e8fbb944e7?s=128&d=identicon&r=PG&f=1", "display_name": "pythonUC211", "link": "https://stackoverflow.com/users/6291793/pythonuc211"}, "edited": false, "score": 0, "creation_date": 1464218017, "post_id": 37448971, "comment_id": 62399948, "body": "it should be as a tuple"}], "answers": [{"tags": [], "owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "is_accepted": false, "score": 0, "last_activity_date": 1464217483, "creation_date": 1464217483, "answer_id": 37449022, "question_id": 37448971, "link": "https://stackoverflow.com/questions/37448971/making-a-dictionary-from-a-file-with-three-columns/37449022#37449022", "title": "making a dictionary from a file with three columns", "body": "<p>Essentially, read in the file, split on spaces, then create the dictionary using dictionary comprehension.</p>\n\n<pre><code>f = open(\"data.txt\",\"r\")\nlines = list(map(lambda x: x.split(\" \"), f.readlines()))\nf.close()\n\nsome_dictionary = { line[0]: (float(line[1]), float(line[2])) for line in lines}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "is_accepted": false, "score": 1, "last_activity_date": 1464217494, "creation_date": 1464217494, "answer_id": 37449024, "question_id": 37448971, "link": "https://stackoverflow.com/questions/37448971/making-a-dictionary-from-a-file-with-three-columns/37449024#37449024", "title": "making a dictionary from a file with three columns", "body": "<p>How about:</p>\n\n<pre><code>with open(filename) as f:\n    return {k:[v1,v2] for k,v1,v2 in (x.rstrip().split() for line in f)}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 2579012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d38eac9a913639ce7bccebe1d8de3f?s=128&d=identicon&r=PG", "display_name": "Crist&#243;bal Sif&#243;n", "link": "https://stackoverflow.com/users/2579012/crist%c3%b3bal-sif%c3%b3n"}, "is_accepted": false, "score": 2, "last_activity_date": 1464217526, "creation_date": 1464217526, "answer_id": 37449027, "question_id": 37448971, "link": "https://stackoverflow.com/questions/37448971/making-a-dictionary-from-a-file-with-three-columns/37449027#37449027", "title": "making a dictionary from a file with three columns", "body": "<pre><code>dict = {}\nf = open(file)\nfor line in f:\n    line = line.split()\n    dict[line[0]] = line[1:]\nf.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 6291793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc8ffce806001f2a25cb4e8fbb944e7?s=128&d=identicon&r=PG&f=1", "display_name": "pythonUC211", "link": "https://stackoverflow.com/users/6291793/pythonuc211"}, "edited": false, "score": 0, "creation_date": 1464218989, "post_id": 37449030, "comment_id": 62400183, "body": "is there a way to name this dictionary so i can call it later? if i want the dictionary to be named sDict so i can use it later where would i implement it in this code?"}, {"owner": {"reputation": 11, "user_id": 6291793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc8ffce806001f2a25cb4e8fbb944e7?s=128&d=identicon&r=PG&f=1", "display_name": "pythonUC211", "link": "https://stackoverflow.com/users/6291793/pythonuc211"}, "edited": false, "score": 0, "creation_date": 1464219093, "post_id": 37449030, "comment_id": 62400207, "body": "this worked but i want to be able to call this dictionary later"}, {"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "reply_to_user": {"reputation": 11, "user_id": 6291793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc8ffce806001f2a25cb4e8fbb944e7?s=128&d=identicon&r=PG&f=1", "display_name": "pythonUC211", "link": "https://stackoverflow.com/users/6291793/pythonuc211"}, "edited": false, "score": 0, "creation_date": 1464254938, "post_id": 37449030, "comment_id": 62413512, "body": "Then assign the return value from calling the function ... <code>sDict = makeDict(filename)</code>"}], "tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": false, "score": 1, "last_activity_date": 1464217547, "creation_date": 1464217547, "answer_id": 37449030, "question_id": 37448971, "link": "https://stackoverflow.com/questions/37448971/making-a-dictionary-from-a-file-with-three-columns/37449030#37449030", "title": "making a dictionary from a file with three columns", "body": "<p>How about:</p>\n\n<pre><code>def makeDict(filename):\n    with open(filename) as f:\n        return {row[0]: [float(x) for x in row[1:]] \n                for row in (line.rstrip().split() for line in f)}\n</code></pre>\n\n<p>To break it down ...here we are reading in the lines and splitting them on whitespace </p>\n\n<pre><code>(line.rstrip().split() for line in f)\n</code></pre>\n\n<p>Then we are iterating over that and taking the first item as the key, while converting all others to floats.</p>\n"}, {"comments": [{"owner": {"reputation": 2202, "user_id": 3179169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff0167d99069678064f633be190b386?s=128&d=identicon&r=PG&f=1", "display_name": "clinomaniac", "link": "https://stackoverflow.com/users/3179169/clinomaniac"}, "edited": false, "score": 0, "creation_date": 1523048859, "post_id": 49700883, "comment_id": 86415479, "body": "Along with your answer, please also explain what you are doing. <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."}], "tags": [], "owner": {"reputation": 1, "user_id": 9604621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hmsTxG3rzQU/AAAAAAAAAAI/AAAAAAAAAB4/tK9X2f7n2Rk/photo.jpg?sz=128", "display_name": "Murat", "link": "https://stackoverflow.com/users/9604621/murat"}, "is_accepted": false, "score": 0, "last_activity_date": 1523048187, "creation_date": 1523048187, "answer_id": 49700883, "question_id": 37448971, "link": "https://stackoverflow.com/questions/37448971/making-a-dictionary-from-a-file-with-three-columns/49700883#49700883", "title": "making a dictionary from a file with three columns", "body": "<p>import pandas as pd</p>\n\n<p>d = pd.DataFrame({'col1header':list1, 'col2header':list2}, index = namelist)</p>\n\n<p>Assuming namelist = [james, tom, ryan]</p>\n"}], "owner": {"reputation": 11, "user_id": 6291793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbc8ffce806001f2a25cb4e8fbb944e7?s=128&d=identicon&r=PG&f=1", "display_name": "pythonUC211", "link": "https://stackoverflow.com/users/6291793/pythonuc211"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2713, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1523048187, "creation_date": 1464217140, "last_edit_date": 1464217309, "question_id": 37448971, "link": "https://stackoverflow.com/questions/37448971/making-a-dictionary-from-a-file-with-three-columns", "title": "making a dictionary from a file with three columns", "body": "<p>If I am reading a file with three columns like so:</p>\n\n<pre><code>james     1.0    2.5\n\nTom       2.0    2.1\n\nRyan      3.0    2.5\n</code></pre>\n\n<p>I can't figure out how to make just the first column the key of my dictionary (as strings) and the next 2 columns (as floating-point numbers) my values. I know how to do it with only two columns but am confused on how to with 3.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>def makeDict(filename):\n    with open(filename) as f:\n        sDict = dict(x.rstrip().split(None,1) for x in f)\n        return(sDict)\n        filename.close()\n</code></pre>\n"}, {"tags": ["python", "json", "oauth", "flask", "google-oauth"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1464218304, "post_id": 37449092, "comment_id": 62400000, "body": "if I use json.loads I get ValueError: No JSON object could be decoded, maybe I&#39;m not explaining very well what google is returning, I would post it here but it is a very, very long string,"}, {"owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "reply_to_user": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1464218561, "post_id": 37449092, "comment_id": 62400068, "body": "@JenaroCalvi&#241;o If the token looks like <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">base64</a> encoding, try decoding it first, as per my answer."}, {"owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "reply_to_user": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1464219195, "post_id": 37449092, "comment_id": 62400234, "body": "@JenaroCalvi&#241;o Can you please provide your research that suggests the <code>id_token</code> is a JSON string?"}, {"owner": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1464219531, "post_id": 37449092, "comment_id": 62400304, "body": "this is the <a href=\"http://stackoverflow.com/questions/8311836/how-to-identify-a-google-oauth2-user/13016081#13016081\">link</a> taht suggests it is json, I printed the type of resp[&#39;id_token&#39;] and it says it is unicode, and apparently decode(&#39;unicode&#39;) is not allowed"}, {"owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "reply_to_user": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1464219696, "post_id": 37449092, "comment_id": 62400339, "body": "@JenaroCalvi&#241;o Please see my revised answer. &quot;JSON Web Tokens&quot; are not simple JSON, but three base64-encoded JSON strings. See further, the documentation linked in my answer at <a href=\"https://jwt.io/introduction/\" rel=\"nofollow noreferrer\">https://jwt.io/</a>."}, {"owner": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1464220081, "post_id": 37449092, "comment_id": 62400438, "body": "thank you, that is correct, apparently if I paste my id_token in that webpage it decodes it, I&#39;m reading now how I can decode it in my code"}, {"owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "reply_to_user": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1464220268, "post_id": 37449092, "comment_id": 62400500, "body": "@JenaroCalvi&#241;o I mis-spoke in my previous comment. The third string in a JWT, although base64-encoded, is not JSON, but a signature used to verify the previous two strings."}], "tags": [], "owner": {"reputation": 2172, "user_id": 5869747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cA9pa.jpg?s=128&g=1", "display_name": "A. Vidor", "link": "https://stackoverflow.com/users/5869747/a-vidor"}, "is_accepted": true, "score": 3, "last_activity_date": 1464220058, "last_edit_date": 1464220058, "creation_date": 1464217967, "answer_id": 37449092, "question_id": 37448930, "link": "https://stackoverflow.com/questions/37448930/how-to-translate-json-data-to-python-object-flask/37449092#37449092", "title": "How to translate json data to python object - Flask", "body": "<p><code>json.load</code> <a href=\"https://docs.python.org/2/library/json.html#json.load\" rel=\"nofollow\">reads from a file</a>. To decode a JSON <strong>string</strong>, use <code>json.loads</code>.</p>\n\n<p>However, according to <a href=\"https://developers.google.com/identity/protocols/OpenIDConnect#server-flow\" rel=\"nofollow\">these docs</a>, <code>id_token</code> is not JSON, but a <a href=\"https://jwt.io/\" rel=\"nofollow\">\"JSON Web Token\"</a>.</p>\n\n<p>If you are looking for the \"payload\", you might try:</p>\n\n<pre><code>payload = json.loads( resp['id_token'].split('.')[1].decode('base64') )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "is_accepted": false, "score": 0, "last_activity_date": 1464220962, "creation_date": 1464220962, "answer_id": 37449496, "question_id": 37448930, "link": "https://stackoverflow.com/questions/37448930/how-to-translate-json-data-to-python-object-flask/37449496#37449496", "title": "How to translate json data to python object - Flask", "body": "<p>As @this-vidor said my id_token was a JWT not JSON, and I was finally able to decode it using a library called jwt, I used jwt.decode(resp['id_token'], verify=False) and it worked! Just posting this in case anyone had the same problem and wanted a solution. Thank you very much.</p>\n\n<p>For more information on <a href=\"https://media.readthedocs.org/pdf/pyjwt/latest/pyjwt.pdf\" rel=\"nofollow\">JWT</a></p>\n"}], "owner": {"reputation": 175, "user_id": 6178461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10207559545079075/picture?type=large", "display_name": "Jenaro Calvi&#241;o", "link": "https://stackoverflow.com/users/6178461/jenaro-calvi%c3%b1o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 37449092, "answer_count": 2, "score": 0, "last_activity_date": 1464220962, "creation_date": 1464216820, "last_edit_date": 1464217663, "question_id": 37448930, "link": "https://stackoverflow.com/questions/37448930/how-to-translate-json-data-to-python-object-flask", "title": "How to translate json data to python object - Flask", "body": "<p>I'm trying to do a web application using the OAuthlib to login with google, this is what the google object looks like:</p>\n\n<pre><code>google = oauth.remote_app('google',\n    request_token_url=None,\n    access_token_method='POST',\n    request_token_params={'scope': 'email'},\n    access_token_url='https://accounts.google.com/o/oauth2/token',\n    authorize_url='https://accounts.google.com/o/oauth2/auth',\n    consumer_key=\"my consumer\",\n    consumer_secret=\"my secret\",\n    base_url='https://www.googleapis.com/oauth2/v1/'\n)\n</code></pre>\n\n<p>The problem I hve is when I get the user information from google, his is my authorization view:</p>\n\n<pre><code>@app.route('/login/authorized/&lt;provider&gt;')\ndef authorized():\n    resp = google.authorized_response()\n    auth_error(resp)\n    id_token = json.load(resp['id_token'])\n    login_user(me, True)\n    return redirect(url_for('index'))\n</code></pre>\n\n<p>So, what I try to do with the json.load is to decode the information google gives me, in this particular case, the response has an id_token which is a long string that, according to my research, is a json encoded string that when it is decoded, provides all the user information, no matter how much I try I can't seem to find the correct way to decode it, the error I get is:</p>\n\n<pre><code>AttributeError: 'unicode' object has no attribute 'read'\n</code></pre>\n\n<p>On the json.load line.</p>\n\n<p>EDIT: after decoding the id_token I would then use it to get or create the user in my own database.</p>\n\n<p>I am using Flask and the library is json.</p>\n\n<p>If anyone could explain the correct way to decode the string into a python object I would appreciate it a lot, or if this is not json but some other type of coded string please do tell. Thank you very much in advance.</p>\n"}, {"tags": ["python", "csv", "pandas"], "comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1464217254, "post_id": 37448922, "comment_id": 62399786, "body": "They are numpy arrays, why do you want lists?"}, {"owner": {"reputation": 1559, "user_id": 6065920, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b25c1982647085298b38eedf797c0d1?s=128&d=identicon&r=PG&f=1", "display_name": "ldevyataykina", "link": "https://stackoverflow.com/users/6065920/ldevyataykina"}, "reply_to_user": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1464218474, "post_id": 37448922, "comment_id": 62400049, "body": "@AndyHayden I want intersect this with lists from other table, but with other table I get lists. But when I intersect lists from two columns I get empty value, because this is not lists"}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1464218566, "post_id": 37448922, "comment_id": 62400071, "body": "You probably want <code>set</code>s for intersection. Try <code>df.groupby(&#39;day&#39;).agg(lambda s: set(s))</code>."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 1, "creation_date": 1464218588, "post_id": 37448922, "comment_id": 62400076, "body": "Perhaps you could do this entire operation more efficiently with a <a href=\"http://pandas.pydata.org/pandas-docs/stable/merging.html\" rel=\"nofollow noreferrer\">join</a>. <i>At the moment this is an example of <a href=\"http://meta.stackexchange.com/q/66377/184179\">The XY-Problem</a>.</i>"}, {"owner": {"reputation": 1559, "user_id": 6065920, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b25c1982647085298b38eedf797c0d1?s=128&d=identicon&r=PG&f=1", "display_name": "ldevyataykina", "link": "https://stackoverflow.com/users/6065920/ldevyataykina"}, "reply_to_user": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1464219255, "post_id": 37448922, "comment_id": 62400245, "body": "@YakymPirozhenko, but I should intersect this with column from other <code>excel</code>. When I do some actions with that <code>excel</code> I get data like this format <code>[u&#39;b2b5b93270cb217310b0719946b0afee&#39;, u&#39;71f464119a2d43834c3be0af362487bc&#39;, u&#39;afad5e5f9c3ba9df885eba1557ab7c73&#39;, u&#39;eef9d076cdc3bfcb282047f1792a5971&#39;]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "is_accepted": false, "score": 0, "last_activity_date": 1464224025, "creation_date": 1464224025, "answer_id": 37449876, "question_id": 37448922, "link": "https://stackoverflow.com/questions/37448922/group-column-in-csv-file-by-pandas/37449876#37449876", "title": "Group column in csv file by pandas", "body": "<p>Those are numpy arrays, and the <code>...</code> is just because the list is long and numpy has a feature where it doesn't show you every element if the list is too long. The elements are there.</p>\n\n<p>If you want a list you can just use <code>list(elem)</code></p>\n"}], "owner": {"reputation": 1559, "user_id": 6065920, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b25c1982647085298b38eedf797c0d1?s=128&d=identicon&r=PG&f=1", "display_name": "ldevyataykina", "link": "https://stackoverflow.com/users/6065920/ldevyataykina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464224025, "creation_date": 1464216745, "question_id": 37448922, "link": "https://stackoverflow.com/questions/37448922/group-column-in-csv-file-by-pandas", "title": "Group column in csv file by pandas", "body": "<p>I have data </p>\n\n<pre><code>ID,\"day\"\n00051f002f5a0c179d7ce191ca2c6401,2016-03-01\n00051f002f5a0c179d7ce191ca2c6401,2016-03-06\n000700651343ff73c10212a095ab4091,2016-03-06\n000700651343ff73c10212a095ab4091,2016-03-01\n00102b98bd9e71da3cf23fd1f599408d,2016-03-01\n</code></pre>\n\n<p>I try to print to every data list of unique users</p>\n\n<pre><code>df = pd.read_csv(\"users.csv\")\ndf = df.groupby('day')['ID'].unique().reset_index(name=\"unique\")\nusers = df[\"unique\"]\nfor elem in users:\n    print elem\n</code></pre>\n\n<p>and get </p>\n\n<pre><code>['00051f002f5a0c179d7ce191ca2c6401' ..., '00102b98bd9e71da3cf23fd1f599408d']\n['00051f002f5a0c179d7ce191ca2c6401' ..., '000700651343ff73c10212a095ab4091']\n</code></pre>\n\n<p>They not delimited with <code>,</code> and there are not all values, instead this in contain <code>...</code>. How can I change that and get lists?</p>\n"}, {"tags": ["python", "tuples"], "comments": [{"owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1464216293, "post_id": 37448822, "comment_id": 62399505, "body": "Since when a <code>for</code> loop is not a good way?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1464216329, "post_id": 37448822, "comment_id": 62399514, "body": "nope, being an ordered sequence there is no way other then going over each element."}, {"owner": {"reputation": 634, "user_id": 882338, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ed5ec433e0a0fa1b09bde806dd983369?s=128&d=identicon&r=PG", "display_name": "rreichel", "link": "https://stackoverflow.com/users/882338/rreichel"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1464230334, "post_id": 37448822, "comment_id": 62402736, "body": "@GLHF I was just curious if there was a more pythonic way to do it."}], "answers": [{"comments": [{"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 1, "creation_date": 1464216480, "post_id": 37448853, "comment_id": 62399559, "body": "For pete sake, what&#39;s the down votes for this evening?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1464216745, "post_id": 37448853, "comment_id": 62399633, "body": "it might have been for using <code>if type(x) is bool</code> instead of <code>if isinstance(x, bool)</code> but &quot;specific type of object&quot; makes me think that checking the exact specific type is fine for this case."}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1464218159, "post_id": 37448853, "comment_id": 62399972, "body": "@TadhgMcDonald-Jensen Might be why. And I can understand why <code>isinstance</code> should be used. But as you said, OP wanted to check the type and nothing else. Since <code>type()</code> is generaly faster than <code>isinstance()</code> I opted for fast and simple."}], "tags": [], "owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "is_accepted": false, "score": 4, "last_activity_date": 1464218521, "last_edit_date": 1464218521, "creation_date": 1464216323, "answer_id": 37448853, "question_id": 37448822, "link": "https://stackoverflow.com/questions/37448822/determine-if-specific-type-of-object-exists-in-a-tuple/37448853#37448853", "title": "Determine if specific type of object exists in a tuple", "body": "<p>I can't think of a better way than list comprehensions.</p>\n\n<pre><code>result = [x for x in mylist if type(x) is bool]\n</code></pre>\n\n<p>If anyone got a better solution I'm eager to see it.<br>\nBut I'm betting my right sock on the fact that there's no other way than to involve a loop in any shape or form. In this case, a <code>for</code> loop.</p>\n\n<hr>\n\n<p>Just because I got a nifty downvote without an explanation, here's a benchmark of the alternatives given thus far, and these are the median runtime results:</p>\n\n<pre><code>type() check: 0.837047815322876\nisinstance() check: 0.84004807472229\nany() check: 0.8540489673614502\n</code></pre>\n\n<p>Code is rather crude, but here's the <a href=\"https://gist.github.com/Torxed/d4297df9e0e64f4d5c3776a974355e5b\" rel=\"nofollow\">gist</a> of the test.<br>\nI really don't see why this list comprehension thing would be bad, or wrong in any way.</p>\n\n<ol>\n<li>It checks for a specific type (as requested)</li>\n<li>You get a list of all the elements that is of that type</li>\n<li>It's faster than the alternatives?</li>\n</ol>\n\n<p>Again, the test is crude and maybe not perfect.<br>\nBut hopefully I didn't mess up the useage of <code>any()</code> or any yield operators that I didn't think of.</p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 5, "last_activity_date": 1464216418, "last_edit_date": 1464216418, "creation_date": 1464216337, "answer_id": 37448857, "question_id": 37448822, "link": "https://stackoverflow.com/questions/37448822/determine-if-specific-type-of-object-exists-in-a-tuple/37448857#37448857", "title": "Determine if specific type of object exists in a tuple", "body": "<p>At the root of the problem you do have to iterate over the list.  However, there are tools to make this easy, such as</p>\n\n<pre><code>if any(isinstance(x, &lt;class&gt;) for x in my_list):\n</code></pre>\n\n<p>At least this will short-circuit when you find the first one.</p>\n"}, {"comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1464276292, "post_id": 37449097, "comment_id": 62428869, "body": "it does work but note that any time you can use <code>map(lambda x: some_operation(x), thing)</code> it would be more clear to do <code>(some_operation(x) for x in thing)</code>"}], "tags": [], "owner": {"reputation": 11305, "user_id": 6160119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlM4b.jpg?s=128&g=1", "display_name": "Tonechas", "link": "https://stackoverflow.com/users/6160119/tonechas"}, "is_accepted": false, "score": 0, "last_activity_date": 1464217985, "creation_date": 1464217985, "answer_id": 37449097, "question_id": 37448822, "link": "https://stackoverflow.com/questions/37448822/determine-if-specific-type-of-object-exists-in-a-tuple/37449097#37449097", "title": "Determine if specific type of object exists in a tuple", "body": "<p>This should work:</p>\n\n<pre><code>if any(map(lambda x: isinstance(x, SomeClass), my_tuple)):\n    # do stuff\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3609, "user_id": 3763102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2439148d94bddcda4415797c8f6afefa?s=128&d=identicon&r=PG", "display_name": "gipsy", "link": "https://stackoverflow.com/users/3763102/gipsy"}, "is_accepted": false, "score": 0, "last_activity_date": 1464219513, "creation_date": 1464219513, "answer_id": 37449316, "question_id": 37448822, "link": "https://stackoverflow.com/questions/37448822/determine-if-specific-type-of-object-exists-in-a-tuple/37449316#37449316", "title": "Determine if specific type of object exists in a tuple", "body": "<pre><code>type_you_are_checking_for in map(lambda x: type(x), your_objects_tuple)\n</code></pre>\n\n<p>examples:</p>\n\n<pre><code>&gt;&gt;&gt; str in map(lambda x: type(x), (1, \"sfds\"))\nTrue\n&gt;&gt;&gt; str in map(lambda x: type(x), (1, 2))\nFalse\n</code></pre>\n"}], "owner": {"reputation": 634, "user_id": 882338, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ed5ec433e0a0fa1b09bde806dd983369?s=128&d=identicon&r=PG", "display_name": "rreichel", "link": "https://stackoverflow.com/users/882338/rreichel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1464219513, "creation_date": 1464216114, "last_edit_date": 1464219139, "question_id": 37448822, "link": "https://stackoverflow.com/questions/37448822/determine-if-specific-type-of-object-exists-in-a-tuple", "title": "Determine if specific type of object exists in a tuple", "body": "<p>Is there an easy way to check if a specific type of object exists in a <code>tuple</code>?</p>\n\n<p>There only way I can think is to iterate over the <code>tuple</code> and check every object, but knowing python I feel like there has to be a better way.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 2378, "user_id": 2436776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0fa92e8a60289d86a5b21ffd636e3501?s=128&d=identicon&r=PG", "display_name": "zaxliu", "link": "https://stackoverflow.com/users/2436776/zaxliu"}, "edited": false, "score": 0, "creation_date": 1464216633, "post_id": 37448773, "comment_id": 62399605, "body": "Hey @manisha, the code and textfile section in your post is not properly formatted. Please at least break the lines. Also what do you want the index be, say session ID?"}, {"owner": {"reputation": 365, "user_id": 6020557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505a27da596d2fb3309a65f86eca17b5?s=128&d=identicon&r=PG&f=1", "display_name": "manisha", "link": "https://stackoverflow.com/users/6020557/manisha"}, "reply_to_user": {"reputation": 2378, "user_id": 2436776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0fa92e8a60289d86a5b21ffd636e3501?s=128&d=identicon&r=PG", "display_name": "zaxliu", "link": "https://stackoverflow.com/users/2436776/zaxliu"}, "edited": false, "score": 0, "creation_date": 1464216794, "post_id": 37448773, "comment_id": 62399655, "body": "@zaxliu, It should look better now"}, {"owner": {"reputation": 365, "user_id": 6020557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505a27da596d2fb3309a65f86eca17b5?s=128&d=identicon&r=PG&f=1", "display_name": "manisha", "link": "https://stackoverflow.com/users/6020557/manisha"}, "reply_to_user": {"reputation": 2378, "user_id": 2436776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0fa92e8a60289d86a5b21ffd636e3501?s=128&d=identicon&r=PG", "display_name": "zaxliu", "link": "https://stackoverflow.com/users/2436776/zaxliu"}, "edited": false, "score": 0, "creation_date": 1464217003, "post_id": 37448773, "comment_id": 62399720, "body": "At this time I was just looking for those two columns,"}, {"owner": {"reputation": 2378, "user_id": 2436776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0fa92e8a60289d86a5b21ffd636e3501?s=128&d=identicon&r=PG", "display_name": "zaxliu", "link": "https://stackoverflow.com/users/2436776/zaxliu"}, "edited": false, "score": 0, "creation_date": 1464217073, "post_id": 37448773, "comment_id": 62399743, "body": "please <code>.join(&#39;\\n&#39;)</code> the <code>important</code> list before printing it out so that you have line-breaks."}, {"owner": {"reputation": 8894, "user_id": 137783, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/938a1132d5f1b2c5a54345b0e672689c?s=128&d=identicon&r=PG", "display_name": "dartdog", "link": "https://stackoverflow.com/users/137783/dartdog"}, "edited": false, "score": 0, "creation_date": 1464217732, "post_id": 37448773, "comment_id": 62399887, "body": "1st just do a myfile=pd.read_csv (&quot;myfile.txt&quot;) (no need for all the io boilerplate you have... see the doc then do your editing/selections in the Pandas dataframe <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 365, "user_id": 6020557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505a27da596d2fb3309a65f86eca17b5?s=128&d=identicon&r=PG&f=1", "display_name": "manisha", "link": "https://stackoverflow.com/users/6020557/manisha"}, "reply_to_user": {"reputation": 2378, "user_id": 2436776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0fa92e8a60289d86a5b21ffd636e3501?s=128&d=identicon&r=PG", "display_name": "zaxliu", "link": "https://stackoverflow.com/users/2436776/zaxliu"}, "edited": false, "score": 0, "creation_date": 1464217741, "post_id": 37448773, "comment_id": 62399888, "body": "@zaxliu, adding print &quot;\\n&quot;.join(important) shows the data in different line, but   what I was looking to have [host, user-agent] as daraframe"}, {"owner": {"reputation": 2378, "user_id": 2436776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0fa92e8a60289d86a5b21ffd636e3501?s=128&d=identicon&r=PG", "display_name": "zaxliu", "link": "https://stackoverflow.com/users/2436776/zaxliu"}, "edited": false, "score": 0, "creation_date": 1464221000, "post_id": 37448773, "comment_id": 62400683, "body": "@manisha, yeah I know. I was just trying to understand what the original txt file looks like. Or maybe you could just post some sample lines of the original file."}], "answers": [{"tags": [], "owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "is_accepted": true, "score": 0, "last_activity_date": 1464236463, "last_edit_date": 1495542240, "creation_date": 1464223735, "answer_id": 37449846, "question_id": 37448773, "link": "https://stackoverflow.com/questions/37448773/converting-space-aligned-text-file-into-pandas-dataframe/37449846#37449846", "title": "Converting space-aligned text file into Pandas DataFrame", "body": "<p>You can create a dataframe by creating a list of lists, and then use the dataframe constructor.</p>\n\n<p>Loop through each line of the file, like you've started doing, then split each line into the different columns. You can use <a href=\"https://docs.python.org/3/library/re.html#re.split\" rel=\"nofollow noreferrer\">re.split</a> to create a list of the columns, limitting the maximum number of splits to treat the last column as one element. Alternatively, if you know each element is always going to be aligned in the same way, you can use slicing to create that list.</p>\n\n<pre><code>import re\n\ndf_list = []\nwith open(infile) as f:\n    for line in f:\n        # remove whitespace at the start and the newline at the end\n        line = line.strip()\n        # split each column on whitespace\n        columns = re.split('\\s+', line, maxsplit=4)\n        df_list.append(columns)\n</code></pre>\n\n<p>You can then use the method in <a href=\"https://stackoverflow.com/questions/20638006/convert-list-of-dictionaries-to-dataframe?rq=1\">this answer</a> to create the dataframe.</p>\n\n<pre><code>df = pd.DataFrame(df_list)\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 6020557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/505a27da596d2fb3309a65f86eca17b5?s=128&d=identicon&r=PG&f=1", "display_name": "manisha", "link": "https://stackoverflow.com/users/6020557/manisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1803, "favorite_count": 0, "accepted_answer_id": 37449846, "answer_count": 1, "score": 1, "last_activity_date": 1464236463, "creation_date": 1464215805, "last_edit_date": 1464226432, "question_id": 37448773, "link": "https://stackoverflow.com/questions/37448773/converting-space-aligned-text-file-into-pandas-dataframe", "title": "Converting space-aligned text file into Pandas DataFrame", "body": "<p>I am quite new to pandas.  I have a log text file. I am trying to grab few data point from the file. Below is the code that kind of gets me the desired data but not in desired format. I wanted Pandas data frame with two columns.</p>\n\n<pre><code>import os\nfrom collections import Counter\nimport pandas as pd\n#print(os.getcwd())\ninfile = \"myfile.txt\"\n\nimportant = []\nkeep_phrases = [\"Host\",\n              \"User-Agent\"\n              ]\n\nwith open(infile) as f:\n    f = f.readlines()\n\nfor line in f:\n    for phrase in keep_phrases:\n        if phrase in line:\n            important.append(line)\n\n            break\n#print(type(important))\nprint(important)\n#Counter(important)\npd.DataFrame(important)\n</code></pre>\n\n<p>This does not give me output in two column. I am looking for host and user agent as one row.</p>\n\n<p>Sample of the text file as below</p>\n\n<pre><code>   15 SessionOpen  c aa.bb.cc.ddd 62667 :8080\n   15 SessionClose c pipe\n   15 ReqStart     c aa.bb.cc.ddd 62667 442374415\n   15 RxURL        c /61665002001003_001/CH4_08_02_24_61665002001003_001_16x9_1500000_Seg1-Frag666\n   15 RxHeader     c Host: ll.abrstream.channel4.com\n   15 RxHeader     c Connection: keep-alive\n   15 RxHeader     c User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.112 Safari/537.36\n   15 RxHeader     c X-Requested-With: ShockwaveFlash/21.0.0.216\n   15 RxHeader     c Accept: */*\n   15 RxHeader     c Referer: http://www.channel4.com/programmes/the-tiny-tots-talent-agency/on-demand/61665-002\n   15 RxHeader     c Accept-Encoding: gzip, deflate, sdch\n   15 RxHeader     c Accept-Language: en-US,en;q=0.8\n   15 ReqEnd       c 442374415 1461870946.496117592 1461870947.112555504 0.000315428 0.001363039 0.615074873\n   15 SessionOpen  c aa1.bb1.cc1.ddd1 59409 :8080\n   15 SessionClose c pipe\n   15 ReqStart     c aa1.bb1.cc1.ddd1 59409 442374416\n   15 RxURL        c /gpsApi.php\n   15 RxHeader     c Content-Length: 0\n   15 RxHeader     c Host: map.yanue.net\n   15 RxHeader     c Connection: Keep-Alive\n   15 RxHeader     c User-Agent: Apache-HttpClient/UNAVAILABLE (java 1.4)\n   15 ReqEnd       c 442374416 1461870950.580444574 1461870951.139206648 0.000064135 0.001196861 0.557565212\n   15 SessionOpen  c aa1.bb1.cc1.ddd1 52179 :8080\n   15 SessionClose c pipe\n   15 ReqStart     c aa1.bb1.cc1.ddd1 52179 442374417\n   15 RxURL        c /gpsApi.php\n   15 RxHeader     c Content-Length: 0\n   15 RxHeader     c Host: map.yanue.net\n   15 RxHeader     c Connection: Keep-Alive\n   15 RxHeader     c User-Agent: Apache-HttpClient/UNAVAILABLE (java 1.4)\n   15 ReqEnd       c 442374417 1461870951.776547432 1461870952.448071241 0.000062943 0.001109123 0.670414686\n   18 SessionOpen  c aa.bb.cc.ddd 62670 :8080\n   18 SessionClose c pipe\n   18 ReqStart     c aa.bb.cc.ddd 62670 442374418\n   18 RxURL        c /61665002001003_001/CH4_08_02_24_61665002001003_001_16x9_1500000_Seg1-Frag667\n   18 RxHeader     c Host: ll.abrstream.channel4.com\n   18 RxHeader     c Connection: keep-alive\n   18 RxHeader     c User-Agent: Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.112 Safari/537.36\n   18 RxHeader     c X-Requested-With: ShockwaveFlash/21.0.0.216\n   18 RxHeader     c Accept: */*\n   18 RxHeader     c Referer: http://www.channel4.com/programmes/the-tiny-tots-talent-agency/on-demand/61665-002\n   18 RxHeader     c Accept-Encoding: gzip, deflate, sdch\n   18 RxHeader     c Accept-Language: en-US,en;q=0.8\n   18 ReqEnd       c 442374418 1461870951.920178175 1461870952.507097483 0.001731873 0.001337051 0.585582256\n   15 SessionOpen  c aa1.bb1.cc1.ddd1 48034 :8080\n   15 SessionClose c pipe\n</code></pre>\n"}, {"tags": ["python", "sum"], "answers": [{"comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1464215013, "post_id": 37448579, "comment_id": 62399039, "body": "Indentations mean only when they come after an outer one. So when you want to use a line of code you should write it in correct style."}], "tags": [], "owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "is_accepted": true, "score": 8, "last_activity_date": 1464215127, "last_edit_date": 1464215127, "creation_date": 1464214665, "answer_id": 37448579, "question_id": 37448551, "link": "https://stackoverflow.com/questions/37448551/simple-sum-program-in-python/37448579#37448579", "title": "Simple sum program in Python", "body": "<p>Your problem is that the <code>return a</code> statement stops the routine and returns only one value, but the main program expects three values. Your other return statements are never executed.</p>\n\n<p>Instead, use just one <code>return</code> statement:</p>\n\n<pre><code>def add(a,b):\n    c = a + b\n    return a, b, c\n</code></pre>\n"}], "owner": {"reputation": 41029, "user_id": 588855, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f6a798479cf28587a0fe18224d2a94a?s=128&d=identicon&r=PG&f=1", "display_name": "Simplicity", "link": "https://stackoverflow.com/users/588855/simplicity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 37448579, "answer_count": 1, "score": 0, "last_activity_date": 1474273620, "creation_date": 1464214547, "last_edit_date": 1474273620, "question_id": 37448551, "link": "https://stackoverflow.com/questions/37448551/simple-sum-program-in-python", "title": "Simple sum program in Python", "body": "<p>I just wrote this very simple Python script which finds the sum of two integers. I'm just trying to understand how the <code>return</code> values are assigned to variables:</p>\n\n<pre><code>def add(a,b):\n    c = a + b\n    return a\n    return b\n    return c\n\nfirst_number, second_number, result = add(3,4)\n\nprint 'first_number is ', first_number\nprint 'second number is ', second_number\nprint 'result is ', result\n</code></pre>\n\n<p>When I try to run this script, I get the following:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 7, in &lt;module&gt;\n    first_number, second_number, result = add(3,4)\nTypeError: 'int' object is not iterable\n</code></pre>\n\n<p>Why is that? And, how can I solve this issue?</p>\n"}, {"tags": ["python", "arrays", "indexing"], "comments": [{"owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "edited": false, "score": 2, "creation_date": 1464215985, "post_id": 37448550, "comment_id": 62399399, "body": "I do not think that this is a duplicate question. Anyway, try <code>colloc = slice(0, 12)</code>. The numpy indexing is complicate..."}, {"owner": {"reputation": 658, "user_id": 5986651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-qV8iKhugd4Q/AAAAAAAAAAI/AAAAAAAAMWs/7BqpCYEAZXw/photo.jpg?sz=128", "display_name": "agent18", "link": "https://stackoverflow.com/users/5986651/agent18"}, "reply_to_user": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "edited": false, "score": 0, "creation_date": 1464249303, "post_id": 37448550, "comment_id": 62409817, "body": "colloc = slice(0, 12) works. Thank You."}], "owner": {"reputation": 658, "user_id": 5986651, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-qV8iKhugd4Q/AAAAAAAAAAI/AAAAAAAAMWs/7BqpCYEAZXw/photo.jpg?sz=128", "display_name": "agent18", "link": "https://stackoverflow.com/users/5986651/agent18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "closed_date": 1464214896, "answer_count": 0, "score": 0, "last_activity_date": 1464214543, "creation_date": 1464214543, "question_id": 37448550, "link": "https://stackoverflow.com/questions/37448550/array-indexing-with-variableskrange-range-not-working-python", "closed_reason": "Duplicate", "title": "Array Indexing with variables(K[range,range]) not working python", "body": "<p>I have been using python for a few months now and cant figure out why the following doesn't work. I searched around stack.</p>\n\n<h2>How to reproduce my problem</h2>\n\n<pre><code>import numpy as np\nK = np.zeros((48,48))\ncolloc = np.arange(12)\nprint(K[colloc,colloc])\n</code></pre>\n\n<p>I would expect a matrix of 12 by 12. It gives me a vector of 12,1.</p>\n\n<p>So I tried the below and all of them worked, except when I used [colloc,colloc], which is when I get a vector of dimension 12.</p>\n\n<pre><code>print(K[1:3,1:3])\nprint(K[colloc,1:3])\nprint(K[1:3,colloc])\nprint(K[:12,colloc])\n</code></pre>\n\n<p>I cant figure out what is happening... The error seems to come because of np.arange statement. I will appreciate your help! Thank you. I have tested this inside ipython notebook, while running a python file and in the 'ipdb' mode. All give same results. </p>\n"}, {"tags": ["python", "bit-manipulation", "bytearray"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1464214642, "post_id": 37448547, "comment_id": 62398894, "body": "You say little-endian, but then you specify that byte 0 is the most-significant byte, which is big-endian. Could you provide a more precise explanation?"}, {"owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "edited": false, "score": 0, "creation_date": 1464216198, "post_id": 37448547, "comment_id": 62399472, "body": "Your byte string is 14 bytes long. In Python the standard size for a <code>float</code> is 4 bytes while a <code>double</code> is 8 bytes. Your data doesn&#39;t fit a whole number of <code>float</code> or <code>double</code> numbers."}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1464216671, "post_id": 37448547, "comment_id": 62399615, "body": "Are you sure you need 16 bit precision float?? Like these? <a href=\"https://en.wikipedia.org/wiki/Half-precision_floating-point_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Half-precision_floating-point_format</a>"}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1464217034, "post_id": 37448924, "comment_id": 62399732, "body": "If you want to convert a NumPy array to a list of standard Python scalars, the <code>tolist</code> method will generally be more robust and more efficient. If you want to convert a NumPy array of half-precision floats to an array of regular double-precision floats, <code>astype(float)</code> is the way to go."}], "tags": [], "owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "is_accepted": false, "score": 2, "last_activity_date": 1464217261, "last_edit_date": 1464217261, "creation_date": 1464216754, "answer_id": 37448924, "question_id": 37448547, "link": "https://stackoverflow.com/questions/37448547/using-python-to-convert-bytearray-to-float/37448924#37448924", "title": "Using python to convert bytearray to float", "body": "<p>You can use <code>numpy</code> <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.fromstring.html\" rel=\"nofollow\"><code>fromstring</code></a>:</p>\n\n<pre><code>import numpy as np\n\n# little-endian\nx = np.fromstring(buffer(temp), dtype='&lt;f2')\n\n# big-endian\nx = np.fromstring(buffer(temp), dtype='&gt;f2')\n</code></pre>\n\n<p>If you need normal floats, you can convert <code>np.float16</code> to floats:</p>\n\n<pre><code># one value\nfloat(x[0])\n\n# all values\n[float(a) for a in x]\n\n# see user2357112 comments for other options\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 5425156, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/561d25271a9a2b6db929ab329749df20?s=128&d=identicon&r=PG&f=1", "display_name": "user5425156", "link": "https://stackoverflow.com/users/5425156/user5425156"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4899, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464217261, "creation_date": 1464214534, "last_edit_date": 1464216366, "question_id": 37448547, "link": "https://stackoverflow.com/questions/37448547/using-python-to-convert-bytearray-to-float", "title": "Using python to convert bytearray to float", "body": "<p>I'm using python 2.7. Just wonder how to convert bytearray to 2 byte float numbers. The bytearray is: </p>\n\n<pre><code>In[13]: temp\nOut[13]: `bytearray(b'\\xd8[\\xda[\\xd8[\\xda[\\xd1[\\xe1[\\xeb[\\xed[\\xe7[\\xeb[\\xe7[\\xea[\\xd6[\\xd5[\\xd8[\\xd5[\\xd4[\\xd3[\\xe9[\\xe2[\\xe3[\\xe5[\\xe6[\\xe8[\\xdc[\\xe6[\\xe4[\\xe4[\\xe8[\\xe2[\\xd3[\\xdb[\\xd1[\\xda[\\xda[\\xd7[\\xd1[\\xd1[\\xdf[\\xd1[\\xd4[\\xdd[\\xe6[\\xdd[\\xe3[\\xe4[\\xdf[\\xe1[\\xd0[\\xd4[\\xd7[\\xd6[\\xd7[\\xd4[\\xdf[\\xdd[\\xe0[\\xe5[\\xe0[\\xdf[\\xe0[\\xdd[\\xdd[\\xe3[\\xdc[\\xde[\\xd8[\\xe0[\\xde[\\xdf[\\xde[\\xe2[\\xe7[\\xe2[\\xe2[\\xea[\\xe1[\\xe0[\\xda[\\xd4[\\xd9[\\xdb[\\xd9[\\xdd[\\xe1[\\xe3[\\xe3[\\xe2[\\xe3[\\xe7[\\xe1[\\xe5[\\xe2[\\xe8[\\xe4[\\xe3[')`\n</code></pre>\n\n<p>Want to convert to 96 float numbers in little-endian format, Byte 1 is LSB and Byte 0 is MSB.  </p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-dynamodb", "aws-lambda", "boto3"], "comments": [{"owner": {"reputation": 10169, "user_id": 6017840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0178fd0ada940a400e40867315020b2?s=128&d=identicon&r=PG&f=1", "display_name": "mootmoot", "link": "https://stackoverflow.com/users/6017840/mootmoot"}, "edited": false, "score": 0, "creation_date": 1464607941, "post_id": 37448536, "comment_id": 62540797, "body": "suppose to reference to this documentation : <a href=\"http://boto3.readthedocs.io/en/latest/reference/services/dynamodb.html#DynamoDB.Client.query\" rel=\"nofollow noreferrer\">boto3.readthedocs.io/en/latest/reference/services/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3014, "user_id": 3449806, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pp2Ee.jpg?s=128&g=1", "display_name": "sean", "link": "https://stackoverflow.com/users/3449806/sean"}, "edited": false, "score": 1, "creation_date": 1505180065, "post_id": 37539009, "comment_id": 79295353, "body": "Sorry for the delay, I actually got this same answer from AWS Support.  You&#39;re exactly right, <code>eq</code> is required on the Primary Key.  The way I solve this issue is to always add an attribute to each table that holds the same value for all entries that I want to query.  That way I can conduct the Query, and also have the option of removing items from accessibility (changing the value of that general attribute) for a general Query.  This way it&#39;s similar to a Scan, but gives a few more options."}], "tags": [], "owner": {"reputation": 5284, "user_id": 905425, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a778d2f69aff5093286d1a576ae19134?s=128&d=identicon&r=PG", "display_name": "Guy Daher", "link": "https://stackoverflow.com/users/905425/guy-daher"}, "is_accepted": true, "score": 11, "last_activity_date": 1464678359, "creation_date": 1464678359, "answer_id": 37539009, "question_id": 37448536, "link": "https://stackoverflow.com/questions/37448536/aws-dynamodb-python-boto3-key-methods-not-recognized-query/37539009#37539009", "title": "AWS DynamoDB Python - boto3 Key() methods not recognized (Query)", "body": "<p>From what I think: \nYour Partition Key is Number_Attribute, and so you cannot do a <code>gt</code> when doing a <code>query</code> (you can do an <code>eq</code> and that is it.)</p>\n\n<p>You can do a <code>gt</code> or <code>between</code> for your Sort Key when doing a <code>query</code>. It is also called Range key, and because it \"smartly\" puts the items next to each other, it offers the possibility of doing <code>gt</code> and <code>between</code> efficiently in a <code>query</code></p>\n\n<p>Now, if you want to do a <code>between</code> to your partition Key, then you will have to use <code>scan</code> like the below:</p>\n\n<pre><code>Key('Number_Attribute').gt(0)\nresponse = table.scan(\n    FilterExpression=fe\n)\n</code></pre>\n\n<p>Keep in mind of the following concerning scan:</p>\n\n<blockquote>\n  <p>The scan method reads every item in the entire table, and returns all of the data in the table. You can provide an optional filter_expression, so that only the items matching your criteria are returned. However, note that the filter is only applied after the entire table has been scanned.</p>\n</blockquote>\n\n<p>So in other words, it's a bit of a costly operation comparing to query. You can see an example in the documentation <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/gettingstartedguide/GettingStarted.Python.04.html#GettingStarted.Python.04.Scan\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 3014, "user_id": 3449806, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pp2Ee.jpg?s=128&g=1", "display_name": "sean", "link": "https://stackoverflow.com/users/3449806/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9796, "favorite_count": 0, "accepted_answer_id": 37539009, "answer_count": 1, "score": 10, "last_activity_date": 1464678359, "creation_date": 1464214452, "last_edit_date": 1464230137, "question_id": 37448536, "link": "https://stackoverflow.com/questions/37448536/aws-dynamodb-python-boto3-key-methods-not-recognized-query", "title": "AWS DynamoDB Python - boto3 Key() methods not recognized (Query)", "body": "<p>I am using Lambda (Python) to query my DynamoDB database.  I am using the boto3 library, and I was able to make an \"equivalent\" query:</p>\n\n<p>This script works:</p>\n\n<pre><code>import boto3\nfrom boto3.dynamodb.conditions import Key, Attr\nimport json\n\ndef create_list(event, context):\n    resource = boto3.resource('dynamodb')\n    table = resource.Table('Table_Name')\n\n    response = table.query(\n        TableName='Table_Name',\n        IndexName='Custom-Index-Name',\n        KeyConditionExpression=Key('Number_Attribute').eq(0)\n    )\n    return response\n</code></pre>\n\n<p>However, when I change the query expression to this:</p>\n\n<pre><code>KeyConditionExpression=Key('Number_Attribute').gt(0)\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>\"errorType\": \"ClientError\",\n  \"errorMessage\": \"An error occurred (ValidationException) when calling the Query operation: Query key condition not supported\"\n</code></pre>\n\n<p>According to this [1] resource, \"gt\" is a method of Key().  Does anyone know if this library has been updated, or what other methods are available other than \"eq\"?</p>\n\n<p>[1] <a href=\"http://boto3.readthedocs.io/en/latest/reference/customizations/dynamodb.html#ref-dynamodb-conditions\" rel=\"noreferrer\">http://boto3.readthedocs.io/en/latest/reference/customizations/dynamodb.html#ref-dynamodb-conditions</a></p>\n\n<p><strong><em>---------EDIT----------</em></strong></p>\n\n<p>I also just tried the old method using:</p>\n\n<pre><code>response = client.query(\n        TableName = 'Table_Name',\n        IndexName='Custom_Index',\n        KeyConditions = {\n            'Custom_Number_Attribute':{\n                'ComparisonOperator':'EQ',\n                'AttributeValueList': [{'N': '0'}]\n            }\n        }\n    )\n</code></pre>\n\n<p>This worked, but when I try:</p>\n\n<pre><code>response = client.query(\n            TableName = 'Table_Name',\n            IndexName='Custom_Index',\n            KeyConditions = {\n                'Custom_Number_Attribute':{\n                    'ComparisonOperator':'GT',\n                    'AttributeValueList': [{'N': '0'}]\n                }\n            }\n        )\n</code></pre>\n\n<p>...it does not work.</p>\n\n<p>Why would EQ be the only method working in these cases?  I'm not sure what I'm missing in the documentation.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1464214510, "post_id": 37448535, "comment_id": 62398854, "body": "Do <code>except Exception</code> instead of <code>except</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1464214558, "post_id": 37448535, "comment_id": 62398868, "body": "What exception(s) are you catching?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1464215560, "post_id": 37448535, "comment_id": 62399236, "body": "The issue is almost certainly because you are using a blanket <i>except</i> which is almost always a bad idea, if you catch specific exceptions then ctrl + C will stop your program"}, {"owner": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1464216339, "post_id": 37448535, "comment_id": 62399515, "body": "@PadraicCunningham I have my code added now."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1464216429, "post_id": 37448535, "comment_id": 62399543, "body": "Yes, your blanket except is the issue, what are you using to connect to the db? Basically you should have <code>except some_specific_exception</code> or <code>except some_specific_exception, another_specific_exception</code>, because you are catching every exception you catch the keyboard interrupt so the script keeps running"}, {"owner": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1464216807, "post_id": 37448535, "comment_id": 62399660, "body": "@PadraicCunningham mysqldb"}, {"owner": {"reputation": 368, "user_id": 793353, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/83bc84fbcad256490526862ff99376f1?s=128&d=identicon&r=PG", "display_name": "simone cittadini", "link": "https://stackoverflow.com/users/793353/simone-cittadini"}, "edited": false, "score": 0, "creation_date": 1464216885, "post_id": 37448535, "comment_id": 62399678, "body": "not to be a grammar nazi but it should be &#39;except (some_specific_exc, another_specific_exc)&#39; or it will interpreted as &#39;except Exception e&#39; with &#39;another_specific_exc&#39; never caught"}, {"owner": {"reputation": 368, "user_id": 793353, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/83bc84fbcad256490526862ff99376f1?s=128&d=identicon&r=PG", "display_name": "simone cittadini", "link": "https://stackoverflow.com/users/793353/simone-cittadini"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1464217852, "post_id": 37448535, "comment_id": 62399907, "body": "no I&#39;m referring to @Padraic comment , if you put two exception types after an exception statement without enclosing them in a list the second one will be interpreted like a variable and never caught. ( python grammar, not human grammar)"}], "answers": [{"comments": [{"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "edited": false, "score": 0, "creation_date": 1464215363, "post_id": 37448565, "comment_id": 62399172, "body": "If you&#39;re spending time to down vote stuff, be a good sport and explain why. Some of us are actually trying to improve and it&#39;s hard to do so without proper feedback. (Noticed the down vote is gone now, but if you&#39;re reading this or planning on down voting, do write a note)."}, {"owner": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "edited": false, "score": 0, "creation_date": 1464216940, "post_id": 37448565, "comment_id": 62399695, "body": "I didn&#39;t downvote you, but I think your solution is not seen as very pythonic.  First, the OP should not be catching all exceptions, but rather should be more specific.   Second, there is an exception to catch for Ctrl-C, which would keep the Ctrl-C handling code local to the block you are catching it in:  <a href=\"http://stackoverflow.com/questions/15318208/capture-control-c-in-python\" title=\"capture control c in python\">stackoverflow.com/questions/15318208/&hellip;</a>"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "reply_to_user": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "edited": false, "score": 1, "creation_date": 1464217617, "post_id": 37448565, "comment_id": 62399867, "body": "@rrauenza I guess technically this isn&#39;t &quot;Pythonic&quot; but it&#39;s thread friendly and *nix standard way of catching events such as Ctrl+C (which, in fact, is a signal to terminate and nothing else). <code>try</code> should in my humble opinion be reserved for either isolated events or for actual code issues, not user/external input. But then again, People seem to like <code>try</code> catches these days just as much as people liked <code>goto</code> back in the Visual Basic days. I dunno, I&#39;m getting old and grumpy I guess. Anyway, question answered and marked as solved, work here is done I guess."}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "reply_to_user": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "edited": false, "score": 0, "creation_date": 1464217748, "post_id": 37448565, "comment_id": 62399890, "body": "@Rorschach Yes, This code should be at the top of your script to catch any kind of &quot;signal to terminate&quot;. It&#39;s quite useful to stop threads safely, terminate sockets without having to wrap a huge block of code (while loops etc) in a ugly <code>try</code> catch. Try catches are good, but use a proper method for different situations. In this case you want to catch actual SIGHUP signals (Ctrl+C) which is a OS defined user input to terminate a script. Sure there&#39;s a <code>try</code> catch for it, but in all its essense it&#39;s a signal, treat it as such."}, {"owner": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "edited": false, "score": 1, "creation_date": 1464217932, "post_id": 37448565, "comment_id": 62399927, "body": "Note that you don&#39;t actually have to catch <code>KeyboardInterrupt</code> for Ctrl-C to work ... you have to not <i>accidentally</i> catch it with a blanket <code>except:</code>."}], "tags": [], "owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "is_accepted": false, "score": 0, "last_activity_date": 1464218012, "last_edit_date": 1464218012, "creation_date": 1464214601, "answer_id": 37448565, "question_id": 37448535, "link": "https://stackoverflow.com/questions/37448535/how-to-close-python-script-without-just-activating-except-in-try-except-statem/37448565#37448565", "title": "how to close python script without just activating &quot;except&quot; in try/except statement", "body": "<pre><code>import signal\nimport MySQLdb\nimport sys\n\n## Handle process signals:\ndef sig_handler(signal, frame):\n    global connection\n    global cursor\n\n    cursor.close()\n    connection.close()\n\n    exit(0)\n\n## Register a signal to the handler:\nsignal.signal(signal.SIGINT, sig_handler)\n\nclass Database:\n    # Your class stuf here.\n    # Note that in sig_handler() i close the cursor and connection,\n    # perhaps your class has a .close call? If so use that.\n\nfor item in items:\n   try:\n      if is_item_gone(content) == 1:\n         data = (item['id'])\n         db.update('UPDATE items SET empty = 0 WHERE id = (%s);', data)\n      else:\n          do alot of stuff\n   except MySQLdb.Error  as e:\n      data = (item['id'])\n      db.delete('...')\n</code></pre>\n\n<p>This would register and catch for instance <kbd>Ctrl</kbd>+<kbd>c</kbd> at any given time. The handler would terminate a socket accordingly, then exit with exit code 0 which is a good exit code.</p>\n\n<p>This is a more \"global\" approach to catching keyboard interrupts.</p>\n"}, {"comments": [{"owner": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "edited": false, "score": 0, "creation_date": 1464217667, "post_id": 37448932, "comment_id": 62399872, "body": "FYI: isinstance(KeyboardInterrupt, Exception) -&gt; False.  KeyboardInterrupt does not derive from Exception."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "edited": false, "score": 0, "creation_date": 1464218639, "post_id": 37448932, "comment_id": 62400084, "body": "@rrauenza, True, it inherits directly from BaseException, as do GeneratorExit and SystemExit"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1464218761, "last_edit_date": 1464218761, "creation_date": 1464216833, "answer_id": 37448932, "question_id": 37448535, "link": "https://stackoverflow.com/questions/37448535/how-to-close-python-script-without-just-activating-except-in-try-except-statem/37448932#37448932", "title": "how to close python script without just activating &quot;except&quot; in try/except statement", "body": "<p>The issue is because you are using a blanket <em>except</em> which is  always a bad idea, if you catch specific exceptions then when you <code>KeyboardInterrupt</code> your script will stop:</p>\n\n<pre><code>for item in items:\n   try:\n      if is_item_gone(content) == 1:\n         data = (item['id'])\n         db.update('UPDATE items SET empty = 0 WHERE id = (%s);', data)\n      else:\n          do alot of stuff\n   except MySQLdb.Error  as e:\n      print(e)\n      data = (item['id'])\n      db.delete('...')\n</code></pre>\n\n<p>If you have other exceptions to catch you can use multiple in the except:</p>\n\n<pre><code> except (KeyError, MySQLdb.Error) as e\n</code></pre>\n\n<p>At the very least you could catch <code>Exception as e</code> and print the error.</p>\n\n<pre><code>for item in items:\n   try:\n      if is_item_gone(content) == 1:\n         data = (item['id'])\n         db.update('UPDATE items SET empty = 0 WHERE id = (%s);', data)\n      else:\n          do alot of stuff\n   except Exception as e:  \n      print(e)\n      data = (item['id'])\n      db.delete('...')\n</code></pre>\n\n<p>The moral of the story is don't use a blanket except, catch what you expect  and logging the errors might also be a good idea. The <a href=\"https://docs.python.org/2/library/exceptions.html#exception-hierarchy\" rel=\"nofollow\">exception-hierarchy</a> is also worth reading to see exactly what you are catching. </p>\n"}, {"tags": [], "owner": {"reputation": 5091, "user_id": 2077386, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/49bce27bde92d6ee5970ef7259c09bb3?s=128&d=identicon&r=PG", "display_name": "rrauenza", "link": "https://stackoverflow.com/users/2077386/rrauenza"}, "is_accepted": false, "score": 1, "last_activity_date": 1464217835, "last_edit_date": 1464217835, "creation_date": 1464217202, "answer_id": 37448981, "question_id": 37448535, "link": "https://stackoverflow.com/questions/37448535/how-to-close-python-script-without-just-activating-except-in-try-except-statem/37448981#37448981", "title": "how to close python script without just activating &quot;except&quot; in try/except statement", "body": "<p>I would rewrite it like this:</p>\n\n<pre><code>try:\n    # ...\nexcept KeyboardInterrupt:\n    sys.exit(1)\nexcept Exception:  # I would use a more specific exception here if you can.\n    data = (item['id'])\n    db.delete('...')\n</code></pre>\n\n<p>Or just </p>\n\n<pre><code>try:\n    # ...\nexcept Exception:  # I would use an even more specific exception here if you can.\n    data = (item['id'])\n    db.delete('...')\n</code></pre>\n\n<p>Python 2's exception hiearchy can be found here:  <a href=\"https://docs.python.org/2/library/exceptions.html#exception-hierarchy\" rel=\"nofollow\">https://docs.python.org/2/library/exceptions.html#exception-hierarchy</a></p>\n\n<p>Also, many scripts are written with something like this boiler plate at the bottom:</p>\n\n<pre><code>def _main(args):\n   ...\n\nif __name__ == '__main__':\n    try:\n        sys.exit(_main(sys.argv[1:]))\n    except KeyboardInterrupt:\n        print &gt;&gt; sys.stderr, '%s: interrupted' % _SCRIPT_NAME\n        sys.exit(1)\n</code></pre>\n\n<p>When you use <code>except:</code> instead of <code>except Exception:</code> in your main body, you are not allowing this top level exception block to catch the <code>KeyboardInterrupt</code>.  (You don't <em>have</em> to actually catch it for Ctrl-C to work -- this just makes it prettier when <code>KeyboardInterrupt</code> is raised.)</p>\n"}], "owner": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 1, "accepted_answer_id": 37448932, "answer_count": 3, "score": 1, "last_activity_date": 1464218761, "creation_date": 1464214439, "last_edit_date": 1464216823, "question_id": 37448535, "link": "https://stackoverflow.com/questions/37448535/how-to-close-python-script-without-just-activating-except-in-try-except-statem", "title": "how to close python script without just activating &quot;except&quot; in try/except statement", "body": "<p>I have a python script running over some 50,000 items in a database, it takes about 10 seconds per item and I want to stop it.</p>\n\n<p>But, if i just press ctrl + C while the code is in the try except part, then my program enter the expect statement and delete that item then continue. The only way to close the program is to repeatedly delete items this way until I, just be sheer luck, catch it not in the try statement.</p>\n\n<p>How do I exit the script without just killing a try statement?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>I have a statement that looks something like this:</p>\n\n<pre><code>for item in items:\n   try:\n      if is_item_gone(content) == 1:\n         data = (item['id'])\n         db.update('UPDATE items SET empty = 0 WHERE id = (%s);', data)\n      else:\n          do alot of stuff\n   except:\n      data = (item['id'])\n      db.delete('...')\n</code></pre>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>The top of my connect to db code looks like:</p>\n\n<pre><code>#!/usr/bin/python\nimport MySQLdb\nimport sys\n\nclass Database:\n....\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "panel", "reshape"], "answers": [{"tags": [], "owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "is_accepted": true, "score": 1, "last_activity_date": 1464214286, "creation_date": 1464214286, "answer_id": 37448504, "question_id": 37448420, "link": "https://stackoverflow.com/questions/37448420/dataframe-change-size-and-the-convert-to-panel-python/37448504#37448504", "title": "dataframe change size and the convert to panel python", "body": "<p>What seems to be the problem? This works:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndata = pd.DataFrame(np.random.randn(2000,784))\n\npanel = pd.Panel(data.values.reshape(2000, 28, 28))\n\n# In [49]: q.panel[42].shape\n# Out[49]: (28, 28)\n\n# In [51]: q.panel\n# Out[51]:\n# &lt;class 'pandas.core.panel.Panel'&gt;\n# Dimensions: 2000 (items) x 28 (major_axis) x 28 (minor_axis)\n# Items axis: 0 to 1999\n# Major_axis axis: 0 to 27\n# Minor_axis axis: 0 to 27\n</code></pre>\n"}], "owner": {"reputation": 1620, "user_id": 5104502, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7cb93cf7ec0f86463f2d31428e9edca9?s=128&d=identicon&r=PG&f=1", "display_name": "Bobe Kryant", "link": "https://stackoverflow.com/users/5104502/bobe-kryant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2061, "favorite_count": 1, "accepted_answer_id": 37448504, "answer_count": 1, "score": 0, "last_activity_date": 1464214502, "creation_date": 1464213865, "last_edit_date": 1495540720, "question_id": 37448420, "link": "https://stackoverflow.com/questions/37448420/dataframe-change-size-and-the-convert-to-panel-python", "title": "dataframe change size and the convert to panel python", "body": "<p>I have a question on how to change dataframe to a panel while changinig the dimensions of the dataframe.\nOriginally I have a data frame with 2000 rows and 784 colmuns:</p>\n\n<pre><code>data=pd.DataFrame(np.random.randn(2000,784))\ndata.shape\n(2000, 784)\n</code></pre>\n\n<p>I would like to turn each column into a 28*28 dataframe and then store this into a panel like structure with the size (2000,28,28) or 2000 28 by 28 dataframes.\nLooking at some <a href=\"https://stackoverflow.com/questions/17243186/assigning-dataframe-to-panel-in-pandas\">answers</a>, I tried:</p>\n\n<pre><code>data_panel=pd.Panel(dict([ (i,data) for i in range(2000)]))\ndata_panel\n&lt;class 'pandas.core.panel.Panel'&gt;\nDimensions: 2000 (items) x 2000 (major_axis) x 784 (minor_axis)\nItems axis: 0 to 1999\nMajor_axis axis: 0 to 1999\nMinor_axis axis: 0 to 783\n</code></pre>\n\n<p>But that is not what I want. The items axis is correct, but I would like the major axis and minor axis to be 28 by 28.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6383393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bffaca1e315532dfc4bc73f47a9d277?s=128&d=identicon&r=PG&f=1", "display_name": "Joi", "link": "https://stackoverflow.com/users/6383393/joi"}, "edited": false, "score": 0, "creation_date": 1464214053, "post_id": 37448374, "comment_id": 62398684, "body": "Yeah that seems like that could of been one of the problems.  although what I think is happening now is that its not constantly checking the variables to see if it goes below zero and therefore not disabling at all"}, {"owner": {"reputation": 1194, "user_id": 4135058, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/55f736d900d8dcc786419c14300dcf96?s=128&d=identicon&r=PG&f=1", "display_name": "Juanvulcano", "link": "https://stackoverflow.com/users/4135058/juanvulcano"}, "reply_to_user": {"reputation": 13, "user_id": 6383393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bffaca1e315532dfc4bc73f47a9d277?s=128&d=identicon&r=PG&f=1", "display_name": "Joi", "link": "https://stackoverflow.com/users/6383393/joi"}, "edited": false, "score": 0, "creation_date": 1464214224, "post_id": 37448374, "comment_id": 62398735, "body": "If it solved your question remember to upvote and select as correct answer :) If not try updating the details so I can further help you with it"}, {"owner": {"reputation": 13, "user_id": 6383393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bffaca1e315532dfc4bc73f47a9d277?s=128&d=identicon&r=PG&f=1", "display_name": "Joi", "link": "https://stackoverflow.com/users/6383393/joi"}, "edited": false, "score": 0, "creation_date": 1464214987, "post_id": 37448374, "comment_id": 62399029, "body": "Yes thank you for that, Seems very simple when im thinking about it now. Selected as correct answer :)"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1464219476, "post_id": 37448374, "comment_id": 62400291, "body": "You should change &quot;can avoid&quot; to &quot;must avoid&quot; -- the infinite loop will prevent tkinter from working at all."}], "tags": [], "owner": {"reputation": 1194, "user_id": 4135058, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/55f736d900d8dcc786419c14300dcf96?s=128&d=identicon&r=PG&f=1", "display_name": "Juanvulcano", "link": "https://stackoverflow.com/users/4135058/juanvulcano"}, "is_accepted": true, "score": 0, "last_activity_date": 1470653721, "last_edit_date": 1470653721, "creation_date": 1464213695, "answer_id": 37448374, "question_id": 37448340, "link": "https://stackoverflow.com/questions/37448340/disable-a-tkinter-button-when-variables-are-at-0/37448374#37448374", "title": "Disable a Tkinter button when variables are at 0", "body": "<p>I think that your problem is that your variable is 0 and not a negative number.</p>\n\n<p>So when you check if your variable is less than 0 it won't disable it because your variable is not smaller than 0, it is exactly 0. </p>\n\n<p>Try with this better</p>\n\n<pre><code>while True:\n    if self.stone &lt; 1 and self.wood &lt; 1:\n        self.CraftPickaxe.config(state=DISABLED)\n    elif self.stone &gt; 0 and self.wood &gt; 0:\n        self.CraftPickaxe.config(state=NORMAL)\n</code></pre>\n\n<p>Also, you must avoid the loop.</p>\n\n<pre><code>def craftPick(self):\n    self.stone -= 1\n    self.wood -= 1\n    self.pickaxe += 1\n    if self.stone &lt; 1 and self.wood &lt; 1:\n        self.CraftPickaxe.config(state=DISABLED)\n    elif self.stone &gt; 0 and self.wood &gt; 0:\n        self.CraftPickaxe.config(state=NORMAL)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6383393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bffaca1e315532dfc4bc73f47a9d277?s=128&d=identicon&r=PG&f=1", "display_name": "Joi", "link": "https://stackoverflow.com/users/6383393/joi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 37448374, "answer_count": 1, "score": 1, "last_activity_date": 1470653721, "creation_date": 1464213527, "last_edit_date": 1464214924, "question_id": 37448340, "link": "https://stackoverflow.com/questions/37448340/disable-a-tkinter-button-when-variables-are-at-0", "title": "Disable a Tkinter button when variables are at 0", "body": "<p>I'm learning python still so the rest of my code may be flawed but my main problem is I cant disable this button when the Wood and Stone variable are at 0. I've tried using a while statement that runs the <i>button.config(state=DISABLED)</i> command when <i>stone > 0 and wood > 0</i> but that didn't seem to work.</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import tkk\n\nclass main:\ndef __init__(self, master):\n    frame = Frame(master)\n    frame.pack()\n    self.CraftPickaxe = Button(frame, text = 'Pickaxe', command = self.craftPick)\n    self.CraftPickaxe.pack()\n    ###RESOURCES###\n    self.wood = 1\n    self.stone = 1\n    self.pickaxe = 0\ndef craftPick(self):\n    self.stone -= 1\n    self.wood -= 1\n    self.pickaxe += 1\n    print(self.stone)\n    print(self.wood)\n    print(self.pickaxe)\ndef loop(self):\n    while True:\n        if self.stone &lt; 0 and self.wood &lt; 0:\n            self.CraftPickaxe.config(state=DISABLED)\n        elif self.stone &gt; 0 and self.wood &gt; 0:\n            self.CraftPickaxe.config(state=NORMAL)\n\n\n\nroot = Tk()\nb = main(root)\nroot.mainloop()\n</code></pre>\n\n<p>EDIT:\nwhat I think is happening now is that its not constantly checking the variables to see if it goes below zero and therefore not disabling at all. What I'm thinking may need to happen is a check that runs in the <i>craftPick</i> function.</p>\n"}, {"tags": ["python", "matplotlib", "tex"], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "edited": false, "score": 0, "creation_date": 1464276582, "post_id": 37448958, "comment_id": 62429047, "body": "That isn&#39;t a bad solution actually, apart from needing to learn new syntax. However, I am not working in SI units but rather cgs units (there are only a couple of units I don&#39;t see in the package, but they happen to be some I use frequently). Thanks for the reply!"}, {"owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "reply_to_user": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "edited": false, "score": 0, "creation_date": 1464302908, "post_id": 37448958, "comment_id": 62442996, "body": "@Will.Evo You might not be using TeX. See updated answer."}, {"owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "edited": false, "score": 0, "creation_date": 1464729418, "post_id": 37448958, "comment_id": 62600343, "body": "Roland,   Thanks for the reply. I was using TeX and found a very simple solution to the problem. Thanks for the help!"}], "tags": [], "owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1464302860, "last_edit_date": 1464302860, "creation_date": 1464217021, "answer_id": 37448958, "question_id": 37448296, "link": "https://stackoverflow.com/questions/37448296/force-latex-font-to-match-default-matplotlib-font/37448958#37448958", "title": "Force LaTeX font to match default matplotlib font", "body": "<p>For typesetting units, use the <a href=\"https://www.ctan.org/pkg/siunitx?lang=en\" rel=\"nofollow\"><code>siunitx</code></a> package (with <code>mode=text</code>) rather than math mode.</p>\n\n<p><strong>Update</strong>: The above is only valid when you have defined <code>text.usetex : True</code> in your rc settings.</p>\n\n<p>From the <a href=\"http://matplotlib.org/users/mathtext.html\" rel=\"nofollow\">matplotlib docs</a>:</p>\n\n<blockquote>\n  <p>Note that you do not need to have TeX installed, since matplotlib ships its own TeX expression parser, layout engine and fonts.</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>Regular text and mathtext can be interleaved within the same string. Mathtext can use the Computer Modern fonts (from (La)TeX), STIX fonts (with are designed to blend well with Times) or a Unicode font that you provide. The mathtext font can be selected with the customization variable <code>mathtext.fontset</code></p>\n</blockquote>\n\n<p>Reading this, it sounds that setting <code>mathtext.fontset</code> and the regular font that matplotlib uses the same would solve the problem if you don't use TeX.</p>\n"}, {"tags": [], "owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "is_accepted": true, "score": 0, "last_activity_date": 1464729354, "creation_date": 1464729354, "answer_id": 37555761, "question_id": 37448296, "link": "https://stackoverflow.com/questions/37448296/force-latex-font-to-match-default-matplotlib-font/37555761#37555761", "title": "Force LaTeX font to match default matplotlib font", "body": "<p>It turns out the solution was rather simple and a colleague of mine had the solution. </p>\n\n<p>If I were to use this line of code to create a title:</p>\n\n<pre><code>fig.suptitle(r'$H_2$ Emission from GJ832')\n</code></pre>\n\n<p>The result would be \"<em>H<sub>2</sub></em> Emission from GJ832\" which is an illustration of the problem I was having. However, it turns out anything inside of the $$ is converted to math type and thus the italics assigned. </p>\n\n<p>If we change that line of code to the following:</p>\n\n<pre><code>fig.suptitle(r'H$_2$ Emission from GJ832')\n</code></pre>\n\n<p>Then the result is \"H<sub>2</sub> Emission from GJ832\" without the italics. So this is an example of where we can constrain the math type to include only the math parts of the text, namely creating the subscript of 2. </p>\n\n<p>However, if I were to change the code to the following:</p>\n\n<pre><code>fig.suptitle(r'H$_{two}$ Emission from GJ832')\n</code></pre>\n\n<p>the result would be \"H<sub><em>two</em></sub> Emission from GJ832\" which introduces the italics again. In this case, and for any case where you must have text (or are creating unit symbols) inside the dollar signs, you can easily remove the italics the following way:</p>\n\n<pre><code>fig.suptitle(r'H$_{\\rm two}$ Emission from GJ832')\n</code></pre>\n\n<p>or in the case of creating a symbol:</p>\n\n<pre><code>ax2.set_xlabel(r'Wavelength ($\\rm \\AA$)')\n</code></pre>\n\n<p>The former results in \"H<sub>two</sub> Emission from GJ832\"</p>\n\n<p>and the latter in \"Wavelength (A)\"\nwhere A is the Angstrom symbol.</p>\n\n<p>Both of these produce the desired result with nothing italicized by calling \\rm before the text or symbol in the dollar signs. The result is nothing italicized INCLUDING the Angstrom symbol created by \\AA.</p>\n\n<p>While this doesn't change the default of the TeX formatting, it IS a simple solution to the problem and doesn't require any new packages. Thank you Roland Smith for the suggestions anyway. I hope this helps others who have been struggling with the same issue. </p>\n"}], "owner": {"reputation": 830, "user_id": 4945948, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7eb29ca42fb0303ab8e12ef8e0046549?s=128&d=identicon&r=PG&f=1", "display_name": "Will.Evo", "link": "https://stackoverflow.com/users/4945948/will-evo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 0, "accepted_answer_id": 37555761, "answer_count": 2, "score": 1, "last_activity_date": 1464729354, "creation_date": 1464213347, "question_id": 37448296, "link": "https://stackoverflow.com/questions/37448296/force-latex-font-to-match-default-matplotlib-font", "title": "Force LaTeX font to match default matplotlib font", "body": "<p>I have seen this issue pop up here and there but have yet to find a suitable answer. </p>\n\n<p>When making a plot in matplotlib, the only way to insert symbols and math functions (like fractions, exponents, etc...) is to use TeX formatting. However, by default TeX formatting uses a different font AND italicizes the text. So for example, if I wanted an axis label to say the following:</p>\n\n<p>photons/cm^2/s/Angstrom</p>\n\n<p>I have to do the following:</p>\n\n<pre><code>ax1.set_ylabel(r'Photons/$cm^2$/s/$\\AA$')\n</code></pre>\n\n<p>This produces a very ugly label that uses 2 different fonts and has bits and pieces italicized. </p>\n\n<p>How do I permanently change the font of <strong>TeX</strong> <strong>(Not the other way around)</strong> so that it matches the default font used by matplotlib?</p>\n\n<p>I have seen other solutions that tell the user to manually make all text the same in a plot by using \\mathrm{} for example but this is ridiculously tedious. I have also seen solutions which change the default font of matplotlib to match TeX which seem utterly backwards to me. </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1464213335, "post_id": 37448208, "comment_id": 62398381, "body": "other then using <code>&quot;%%d %%d %(arg1)s&quot; % {&#39;arg1&#39;: &quot;hi&quot;}</code> there is no built in way."}], "owner": {"reputation": 1558, "user_id": 3583715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b78414f3d877e8bca674b3a2aebe7e9?s=128&d=identicon&r=PG&f=1", "display_name": "rkh", "link": "https://stackoverflow.com/users/3583715/rkh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "closed_date": 1464213737, "answer_count": 0, "score": 2, "last_activity_date": 1464213839, "creation_date": 1464212912, "last_edit_date": 1464213839, "question_id": 37448208, "link": "https://stackoverflow.com/questions/37448208/partially-format-a-string-with-either-old-or-new-style-formatting", "closed_reason": "Duplicate", "title": "partially format a string with either old or new style formatting", "body": "<p>I want to partially format a string in python with some named arguments, but leave any unused or unmatched format specifiers unchanged.  For example:</p>\n\n<pre><code>\"{} {} {arg1}\".format(arg1=\"hi\")\nprints:\n\"{} {} hi\"\n</code></pre>\n\n<p>rather than throwing an IndexError. Or:</p>\n\n<pre><code>\"%d %d %(arg1)s\" % {'arg1': \"hi\"}\nprints\n\"%d %d hi\"\n</code></pre>\n\n<p>rather than throwing a TypeError.</p>\n\n<p>Is there some partially hidden corner of the format module that does this (or a option to pass into format())?</p>\n\n<p>I don't have the luxury of creating the format strings myself, they are provided, but I can specify certain fields to be replaced before it is passed upstream. For example, I can specify that if there is one or more %(arg1)s in the string, I will replace it with \"hi\" before I pass it upstream.</p>\n"}, {"tags": ["python", "django", "forms"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 6321008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/34cb2f10551fb59a6ebc301000312001?s=128&d=identicon&r=PG&f=1", "display_name": "F.K", "link": "https://stackoverflow.com/users/6321008/f-k"}, "edited": false, "score": 0, "creation_date": 1464283511, "post_id": 37448810, "comment_id": 62433381, "body": "Yes it makes sense"}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 5, "last_activity_date": 1464216039, "creation_date": 1464216039, "answer_id": 37448810, "question_id": 37448147, "link": "https://stackoverflow.com/questions/37448147/minimum-length-in-password-for-django-form/37448810#37448810", "title": "Minimum length in password for django form", "body": "<p>If <code>password</code> or <code>password2</code> is not valid, then they will not be in <code>cleaned_data</code>. You need to change your <code>clean</code> method to handle this. For example:</p>\n\n<pre><code>def clean(self):\n    cleaned_data = super(RegisterationForm, self).clean()\n    password = self.cleaned_data.get('password')\n    password2 = self.cleaned_data.get('password2')\n\n    if password and password2 and password != password2:\n        raise forms.ValidationError(\"passwords do not match\")\n</code></pre>\n\n<p>You could specify <code>min_length</code> in your <code>password</code> field. Then Django will validate the length for you, and you can remove your custom <code>clean</code> method.</p>\n\n<pre><code>password = forms.CharField(min_length=6, widget=forms.TextInput(attrs={'class' : 'form-control'}))\n</code></pre>\n\n<p>Finally, your <code>clean_username</code> and <code>clean_email</code> methods are not doing anything so you can simplify your form by removing them. </p>\n"}], "owner": {"reputation": 57, "user_id": 6321008, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/34cb2f10551fb59a6ebc301000312001?s=128&d=identicon&r=PG&f=1", "display_name": "F.K", "link": "https://stackoverflow.com/users/6321008/f-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3246, "favorite_count": 1, "accepted_answer_id": 37448810, "answer_count": 1, "score": 0, "last_activity_date": 1464216039, "creation_date": 1464212684, "question_id": 37448147, "link": "https://stackoverflow.com/questions/37448147/minimum-length-in-password-for-django-form", "title": "Minimum length in password for django form", "body": "<p>I am making a form in Django and I am using the \"form.is_valid\" to get all the error. Everything works except the minimum value for the password. I have following code for my form:</p>\n\n<pre><code>class RegisterationForm (forms.Form):\n\nfirst_name = forms.CharField(initial ='' ,widget=forms.TextInput(attrs={'class' : 'form-control'}),max_length = 20)\nlast_name = forms.CharField(initial ='' ,widget=forms.TextInput(attrs={'class' : 'form-control'}),max_length = 20)\nusername = forms.CharField(initial ='' ,widget=forms.TextInput(attrs={'class' : 'form-control'}),min_length = 5,max_length = 20)\nemail = forms.EmailField(initial ='' ,widget=forms.TextInput(attrs={'class' : 'form-control'}))\npassword = forms.CharField(widget=forms.TextInput(attrs={'class' : 'form-control'}))\npassword2 = forms.CharField(widget=forms.TextInput(attrs={'class' : 'form-control'}))\n\n\ndef clean(self):\n    cleaned_data = super(RegisterationForm, self).clean()\n    password = self.cleaned_data['password']\n    password2 = self.cleaned_data['password2']\n\n    if password and password != password2:\n        raise forms.ValidationError(\"passwords do not match\")\n\n    return self.cleaned_data\n\ndef clean_username(self):\n    username = self.cleaned_data['username']\n\n    return username\n\ndef clean_email(self):\n    email = self.cleaned_data['email']\n\n\n    return email\n\ndef clean_password(self):\n    password= self.cleaned_data['password']\n\n    if len(password) &lt; 6:\n        raise forms.ValidationError(\"Your password should be at least 6 Characters\")\n\n    return password\n</code></pre>\n\n<p>but here when I enter a password less than 6 characters, instead of getting a validation error I get an error from Django. The error is a key error which is caused because the cleaned_data dictionary does not contain the password when it's longer than 6 chars. <strong>I also used the min_length feature in form definition as well and the same thing happened</strong>. </p>\n"}, {"tags": ["python", "biopython", "ncbi"], "comments": [{"owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1464261759, "post_id": 37448144, "comment_id": 62417911, "body": "If it is only one genome, why not manually download it from the FTP server <a href=\"ftp://ftp.ncbi.nih.gov/genomes/\" rel=\"nofollow noreferrer\">ftp.ncbi.nih.gov/genomes</a> ?"}, {"owner": {"reputation": 11, "user_id": 6383209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d371dad7e04f266e65839db614ba55?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa DeBiasse", "link": "https://stackoverflow.com/users/6383209/melissa-debiasse"}, "reply_to_user": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "edited": false, "score": 0, "creation_date": 1464270902, "post_id": 37448144, "comment_id": 62424666, "body": "Thanks for the link! I need to download ~300 genome sequences so I would prefer not to do that manually."}, {"owner": {"reputation": 1781, "user_id": 2642180, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lTRzE.jpg?s=128&g=1", "display_name": "cer", "link": "https://stackoverflow.com/users/2642180/cer"}, "edited": false, "score": 0, "creation_date": 1464272021, "post_id": 37448144, "comment_id": 62425546, "body": "When you say you have unique ID numbers, are these GI or accession numbers? Additionally, I am assuming that you want to download the fasta files -- can you confirm if that is the case."}, {"owner": {"reputation": 11, "user_id": 6383209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d371dad7e04f266e65839db614ba55?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa DeBiasse", "link": "https://stackoverflow.com/users/6383209/melissa-debiasse"}, "edited": false, "score": 0, "creation_date": 1464278097, "post_id": 37448144, "comment_id": 62430029, "body": "Thanks for the reply cer! Yes, I want fasta files. The ID number is called a &quot;genome ID.&quot; For example, searching genome ID 10839 in the Genome database takes you to the carp genome. There are two other IDs associated with the carp genome on the Assembly database (310951 [UID] 1682368 [GenBank]). Ive searched the genome db multiple ways and get links and ID numbers, but not an accession number for genome sequence in the Nucleotide database. Does such an accession even exist? There are accession numbers for scaffolds within genomes (for example LN590719.1). Is that the best I can get? Thanks!"}, {"owner": {"reputation": 1781, "user_id": 2642180, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lTRzE.jpg?s=128&g=1", "display_name": "cer", "link": "https://stackoverflow.com/users/2642180/cer"}, "edited": false, "score": 0, "creation_date": 1464285653, "post_id": 37448144, "comment_id": 62434562, "body": "Melissa, I am not familiar with this genome ID. However, if you were amenable, you could do an NCBI (nucleotide database) search using terms that fit your criteria, and then download the resulting list of  accession numbers. If you have those accession numbers (or GI numbers), there is a script that I can post that will download a fasta file for each number. Let me know if you think this approach will work for you. OH -- in what environment are you working (Mac, Linux, Windows)?"}, {"owner": {"reputation": 1781, "user_id": 2642180, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lTRzE.jpg?s=128&g=1", "display_name": "cer", "link": "https://stackoverflow.com/users/2642180/cer"}, "edited": false, "score": 0, "creation_date": 1464285993, "post_id": 37448144, "comment_id": 62434745, "body": "The other option is to include the search terms in the script so that you get something like this: <a href=\"http://stackoverflow.com/questions/37059616/using-search-terms-with-biopython-to-return-accession-numbers\" title=\"using search terms with biopython to return accession numbers\">stackoverflow.com/questions/37059616/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 6383209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d371dad7e04f266e65839db614ba55?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa DeBiasse", "link": "https://stackoverflow.com/users/6383209/melissa-debiasse"}, "edited": false, "score": 0, "creation_date": 1464291698, "post_id": 37448144, "comment_id": 62437985, "body": "Cer, what a good thought. I have a nice script that will return all the nucleotide sequences associated with a species name but this is more data than I need and a waste of computational resources. I think your idea to amend the search term to include the keyword &#39;complete genome&#39; is a good option. I work on a Mac."}], "answers": [{"tags": [], "owner": {"reputation": 1781, "user_id": 2642180, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lTRzE.jpg?s=128&g=1", "display_name": "cer", "link": "https://stackoverflow.com/users/2642180/cer"}, "is_accepted": false, "score": 1, "last_activity_date": 1464294393, "creation_date": 1464294393, "answer_id": 37470359, "question_id": 37448144, "link": "https://stackoverflow.com/questions/37448144/alternative-to-bio-entrez-efetch-for-downloading-full-genome-sequences-from-ncbi/37470359#37470359", "title": "Alternative to Bio.Entrez EFetch for downloading full genome sequences from NCBI", "body": "<p>Here is a script for you -- though you may need to tinker with it to make it work. Name the script whatever you prefer, but when you call the script do so as follows:\npython name_of_script[with .py extension] your_email_address. </p>\n\n<p>You need to add your email to the end of the call else it will not work. If you have a text file of accession numbers (1/line), then choose option 2. If you choose option 1, it will ask you for items like the name of the organism, strain name, and keywords. Use as many keywords as you would like -- just be certain to separate them by commas. If you go with the first option, NCBI will be searched and will return GI numbers [NOTE: NCBI is phasing out the GI numbers in 9.2016 so this script may not work after this point] which will then be used to snag the accession numbers. Once all the accession numbers are present, a folder is created, and a subfolder is created for each accession number (named as the accession number). In each subfolder, the corresponding fasta <strong>AND</strong> genbank file will be downloaded. These files will carry the accession number as the file name (e.g. accession_number.fa, accession_number.gb). Edit script to your purposes.</p>\n\n<p>ALSO...<strong>Please note the warning</strong> (ACHTUNG) portion of the script. Sometimes the rules can be bent...but if you are egregious enough, your IP may be blocked from NCBI. You have been warned.</p>\n\n<pre><code>import os\nimport os.path\nimport sys\nimport re #regular expressions\nfrom Bio import Entrez\nimport datetime\nimport time\nimport glob\n\narguments = sys.argv\nEntrez.email = arguments[1] #email\n\naccession_ids = []\nprint('Select method for obtaining the accession numbers?\\n')\naction = input('1 -- Input Search Terms\\n2 -- Use text file\\n')\n\nif action == '1':\n    print('\\nYou will be asked to enter an organism name, a strain name, and keywords.')\n    print('It is not necessary to provide a value to each item (you may just hit [ENTER]), but you must provide at least one item.\\n')\n\n    organism = input('Enter the organism you wish to search for (e.g. Escherichia coli [ENTER])\\n')\n    strain = input('Enter the strain you wish to search for. (e.g., HUSEC2011 [ENTER])\\n')\n    keywords = input('Enter the keywords separated by a comma (e.g., complete genome, contigs, partial [ENTER])\\n')\n    search_phrase = ''\n\n    if ',' in keywords:\n        keywords = keywords.split(',')\n\n    ncbi_terms = ['organism', 'strain', 'keyword']\n    ncbi_values = [organism, strain, keywords]\n\n    for index, n in enumerate(ncbi_values):\n        if index == 0 and n != '':\n            search_phrase = '(' + n + '[' + ncbi_terms[index] + '])'\n        else:\n            if n != '' and index != len(ncbi_values)-1:\n                search_phrase = search_phrase + ' AND (' + n + '[' + ncbi_terms[index] + '])'\n        if index == len(ncbi_values)-1 and n != '' and type(n) is not list:\n            search_phrase = search_phrase + ' AND (' + n + '[' + ncbi_terms[index] + '])'\n        if index == len(ncbi_values)-1 and n != '' and type(n) is list:\n            for name in n:\n                name = name.lstrip()\n                search_phrase = search_phrase + ' AND (' + name + '[' + ncbi_terms[index] + '])'\n\n\n    print('Here is the complete search line that will be used: \\n\\n', search_phrase)\n\n    handle = Entrez.esearch(db='nuccore', term=search_phrase, retmax=1000, rettype='acc', retmode='text')\n    result = Entrez.read(handle)\n    handle.close()\n    #print(result['Count'])\n    gi_numbers = result['IdList']\n\n    fetch_handle = Entrez.efetch(db='nucleotide', id=result['IdList'], rettype='acc', retmode='text')\n    accession_ids = [id.strip() for id in fetch_handle]\n    fetch_handle.close()\n\nif action == '2': #use this option if you have a file of accession #s\n    file_name = input('Enter the name of the file\\n')\n\n    with open(file_name, 'r') as input_file:\n        lines = input_file.readlines()\n\n        for line in lines:\n            line = line.replace('\\n', '')\n            accession_ids.append(line)\n#--------------------------------------------------------------------------------------------------------------\n\n#----------------------------------- Make directory to store files --------------------------------------------\nnew_path = 'Genbank_Files/'\nif not os.path.exists(new_path):\n    os.makedirs(new_path)\n\nprint('You have ' + str(len(accession_ids)) + ' file(s) to download.') #print(accession_ids)\n\nending='.gb'\n\nfiles = []\n##CHECK IF FILE HAS BEEN DOWNLOADED\nfor dirpath, dirnames, filenames in os.walk(new_path):\n    for filename in [f for f in filenames if f.endswith(ending)]: #for zipped files\n        files.append(os.path.join(dirpath,filename))\n\n\nfor f in files:\n    f = f.rsplit('/')[-1]\n    f = f.replace('.gb', '')\n\n    if f in accession_ids:\n        ind = accession_ids.index(f)\n        accession_ids.pop(ind)\n\nprint('')\nprint('You have ' + str(len(accession_ids)) + ' file(s) to download.')\n#--------------------------------------------------------------------------\n\n###############################################################################\n#---ACHTUNG--ACHTUNG--ACHTUNG--ACHTUNG--ACHTUNG--ACHTUNG--ACHTUNG--ACHTUNG----#\n###############################################################################\n# Call Entrez to download files\n# If downloading more than 100 files...\n# Run this script only between 9pm-5am Monday - Friday EST\n# Send E-utilities requests to http://eutils.ncbi.nlm.nih.gov\n# Make no more than 3 requests every 1 second (Biopython takes care of this).\n# Use URL parameter email &amp; tool for distributed software\n# NCBI's Disclaimer and Copyright notice must be evident to users of your service. \n#\n# Use this script at your own risk. \n# Neither the script author nor author's employers are responsible for consequences arising from improper usage \n###############################################################################\n\n\n# CALL ENTREZ: Call Entrez to download genbank AND fasta (nucleotide) files using accession numbers.\n###############################################################################\nstart_day = datetime.date.today().weekday() # 0 is Monday, 6 is Sunday\nstart_time = datetime.datetime.now().time()\nprint(str(start_day), str(start_time))\nprint('')\n\nif ((start_day &lt; 5 and start_time &gt; datetime.time(hour=21)) or (start_day &lt; 5 and start_time &lt; datetime.time(hour=5)) or start_day &gt; 5 or len(accession_ids) &lt;= 100 ):\n    print('Calling Entrez...')\n\n    for a in accession_ids:\n        if ((datetime.date.today().weekday() &lt; 5 and datetime.datetime.now().time() &gt; datetime.time(hour=21)) or \n            (datetime.date.today().weekday() &lt; 5 and datetime.datetime.now().time() &lt; datetime.time(hour=5)) or \n            (datetime.date.today().weekday() == start_day + 1 and datetime.datetime.now().time() &lt; datetime.time(hour=5)) or \n            (datetime.date.today().weekday() &gt; 5) or len(accession_ids) &lt;= 100 ):\n\n            print('Downloading ' + a)\n\n            new_path = 'Genbank_Files/' + a  + '/'\n            if not os.path.exists(new_path):\n                os.makedirs(new_path)\n\n            handle=Entrez.efetch(db='nucleotide', id=a, rettype='gb', retmode='text', seq_start=0)\n            FILENAME = new_path + a + '.gb'\n            local_file=open(FILENAME,'w')\n            local_file.write(handle.read())\n            handle.close()\n            local_file.close()\n\n            handle=Entrez.efetch(db='nucleotide', id=a, rettype='fasta', retmode='text') \n            FILENAME =  new_path + a + '.fna'\n            local_file=open(FILENAME,'w')\n            local_file.write(handle.read())\n            handle.close()\n            local_file.close()\n\nelse:\n    print('You have too many files to download at the time. Try again later.')\n#-------\n</code></pre>\n\n<hr>\n"}], "owner": {"reputation": 11, "user_id": 6383209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d371dad7e04f266e65839db614ba55?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa DeBiasse", "link": "https://stackoverflow.com/users/6383209/melissa-debiasse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464570286, "creation_date": 1464212675, "last_edit_date": 1464570286, "question_id": 37448144, "link": "https://stackoverflow.com/questions/37448144/alternative-to-bio-entrez-efetch-for-downloading-full-genome-sequences-from-ncbi", "title": "Alternative to Bio.Entrez EFetch for downloading full genome sequences from NCBI", "body": "<p>My goal is to download full metazoan genome sequences from NCBI. I have a list of unique ID numbers for the genome sequences I need. I planned to use the Bio.Entrez module EFetch to download the data but learned today via the Nov 2, 2011 release notes (<a href=\"http://1.usa.gov/1TA5osg\" rel=\"nofollow\">http://1.usa.gov/1TA5osg</a>) that EFetch does not support the 'Genome' database. Can anyone suggest an alternative package/module or some other way around this? Thank you in advance!      </p>\n"}, {"tags": ["python", "morse-code"], "comments": [{"owner": {"reputation": 1413, "user_id": 2530735, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed5ffa8ea58db025b2dd0f0016406f38?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2530735/ben"}, "edited": false, "score": 1, "creation_date": 1464212841, "post_id": 37448106, "comment_id": 62398191, "body": "Have you tried asking for help from your professor, TA, teacher, department tutors, &amp;c.? Helping you get started with this sort of thing is their job, and they&#39;ll be able to give you better guidance with this sort of question than strangers on the Internet. StackOverflow is designed for questions about more specific sorts of problems."}, {"owner": {"reputation": 21, "user_id": 5813474, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/P96Ja.jpg?s=128&g=1", "display_name": "McHaddish", "link": "https://stackoverflow.com/users/5813474/mchaddish"}, "reply_to_user": {"reputation": 1413, "user_id": 2530735, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ed5ffa8ea58db025b2dd0f0016406f38?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2530735/ben"}, "edited": false, "score": 0, "creation_date": 1464215053, "post_id": 37448106, "comment_id": 62399054, "body": "Hi thank you for such a quick answer, but currently I am unable to contact him.  Would you be willing to look at my revised question and see if you could shed any light on it?  Any and all help is very much appreciative."}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 1, "creation_date": 1464215193, "post_id": 37448106, "comment_id": 62399113, "body": "@McHaddish Break your problem up into steps. You need to ask a user for a string (1) and then apply your dictionary to each character of that string (2). You can Google the solutions to both (1) and (2), but I&#39;ll save you some time for (1) and point you to <a href=\"https://docs.python.org/3/library/functions.html#input\" rel=\"nofollow noreferrer\">the documentation</a>."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1464215449, "post_id": 37448106, "comment_id": 62399203, "body": "<a href=\"https://docs.python.org/2/library/stdtypes.html?highlight=str.join#str.join\" rel=\"nofollow noreferrer\"><code>&#39; &#39;.join(</code></a> <a href=\"https://docs.python.org/2/library/stdtypes.html?highlight=dict.get#dict.get\" rel=\"nofollow noreferrer\"><code>morse.get(let,&quot;??&quot;)</code></a> <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\"><code>for let in word)</code></a>  this assumes that you enter all letters that are present in your <code>morse</code> dictionary, anything that is not present will be replaced with a <code>??</code>"}], "answers": [{"comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1464215639, "post_id": 37448738, "comment_id": 62399261, "body": "if you have links to where it was asked before then post links!!"}], "tags": [], "owner": {"reputation": 46, "user_id": 6372715, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154802694124409/picture?type=large", "display_name": "Michael Hyland", "link": "https://stackoverflow.com/users/6372715/michael-hyland"}, "is_accepted": false, "score": 0, "last_activity_date": 1464215600, "creation_date": 1464215600, "answer_id": 37448738, "question_id": 37448106, "link": "https://stackoverflow.com/questions/37448106/i-wish-to-create-a-translator-using-python-3/37448738#37448738", "title": "I wish to create a translator using Python 3", "body": "<p>You can prompt users for input using the raw_input (python 2) or input (python 3) functions.\nThe input to these functions is the prompt that is displayed, and the function returns what is entered. </p>\n\n<pre><code>&gt;stored_input = input('Please enter a line: ')\nPlease enter a line: Some input\n&gt;print stored_input\nSome input\n</code></pre>\n\n<p>This function will return to you a string. I'll leave it up to you to learn how to break the string into its characters. Also, what if an input is not a capital letter or a number (e.g. a lower case number, or a '\\')? Be sure to utilize google to figure out the rest, this question has been asked many, many times.</p>\n"}], "owner": {"reputation": 21, "user_id": 5813474, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/P96Ja.jpg?s=128&g=1", "display_name": "McHaddish", "link": "https://stackoverflow.com/users/5813474/mchaddish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1464215600, "creation_date": 1464212553, "last_edit_date": 1464214995, "question_id": 37448106, "link": "https://stackoverflow.com/questions/37448106/i-wish-to-create-a-translator-using-python-3", "title": "I wish to create a translator using Python 3", "body": "<p>I am looking to create a translator with Python that converts English into Morse Code.  I was able to get it working but would like to improve it.</p>\n\n<p>Here is what I have:</p>\n\n<pre><code>morse = {'A': '.-',     'B': '-...',   'C': '-.-.', \n    'D': '-..',    'E': '.',      'F': '..-.',\n    'G': '--.',    'H': '....',   'I': '..',\n    'J': '.---',   'K': '-.-',    'L': '.-..',\n    'M': '--',     'N': '-.',     'O': '---',\n    'P': '.--.',   'Q': '--.-',   'R': '.-.',\n    'S': '...',    'T': '-',      'U': '..-',\n    'V': '...-',   'W': '.--',    'X': '-..-',\n    'Y': '-.--',   'Z': '--..',\n\n    '0': '-----',  '1': '.----',  '2': '..---',\n    '3': '...--',  '4': '....-',  '5': '.....',\n    '6': '-....',  '7': '--...',  '8': '---..',\n    '9': '----.'}\n</code></pre>\n\n<p>print (morse['G'])</p>\n\n<p>Now this works fine, but I would like for it to prompt me with a question such as \"What would you like to translate?\" and then have someone type (as a example) \"This will will be converted to Morse Code\".  and have whatever is typed converted.  Does anyone know a way to do this? it seems like such a hassle to type  \"print (morse['G'])\" for each letter.</p>\n"}, {"tags": ["python", "python-2.7", "unicode"], "comments": [{"owner": {"reputation": 9123, "user_id": 5189607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9b485f6efee3ce1b78dea5fe45c96f6?s=128&d=identicon&r=PG", "display_name": "malbarbo", "link": "https://stackoverflow.com/users/5189607/malbarbo"}, "edited": false, "score": 0, "creation_date": 1464212894, "post_id": 37448074, "comment_id": 62398214, "body": "Utf-8 is a encoding for unicode strings. I do not understanding what you are asking. Could you explain? Could you add the output of <code>print type(text)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4316, "user_id": 6005451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5d2854ebcf1678d4fab4f7bedd6b9f?s=128&d=identicon&r=PG&f=1", "display_name": "EoinS", "link": "https://stackoverflow.com/users/6005451/eoins"}, "is_accepted": true, "score": 3, "last_activity_date": 1464215650, "last_edit_date": 1464215650, "creation_date": 1464213979, "answer_id": 37448438, "question_id": 37448074, "link": "https://stackoverflow.com/questions/37448074/how-to-load-string-in-unicode-using-textract-library-in-python/37448438#37448438", "title": "How to load string in unicode using Textract library in Python?", "body": "<p>Textract uses encoding to specify a particular output encoding (input encodings are inferred using <a href=\"http://chardet.readthedocs.io/en/latest/\" rel=\"nofollow\">chardet</a>  </p>\n\n<p>Here are the Uncidoe options for encoding:</p>\n\n<pre><code>unicode_escape, unicode_internal, raw_unicode_escape\ntext = textract.process(file, encoding = 'unicode_escape')\n</code></pre>\n\n<p>Here is an <a href=\"https://textract.readthedocs.io/en/latest/command_line_interface.html\" rel=\"nofollow\">exhaustive list</a>.</p>\n\n<p>The underlying data is in UTF-8.  You could take textract.processn as UTF-8 and decode it to Unicode on a separate line as such:</p>\n\n<pre><code>text = textract.process(file)\n\nUtext = unicode(text,'utf-8')\n</code></pre>\n"}], "owner": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2962, "favorite_count": 1, "accepted_answer_id": 37448438, "answer_count": 1, "score": 1, "last_activity_date": 1464215650, "creation_date": 1464212398, "question_id": 37448074, "link": "https://stackoverflow.com/questions/37448074/how-to-load-string-in-unicode-using-textract-library-in-python", "title": "How to load string in unicode using Textract library in Python?", "body": "<p>I'm using <a href=\"https://github.com/deanmalmgren/textract\" rel=\"nofollow\">Textract</a> and relatively new to Python and I would like to load a file in unicode string rather than utf-8. Is there a way to do that?</p>\n\n<p>I tried </p>\n\n<pre><code>text = textract.process(file)\n</code></pre>\n\n<p>But this loads a UTF-8 string while I prefer unicode. I tried using</p>\n\n<pre><code>text = textract.process(file, encoding=\"unicode\")\n</code></pre>\n\n<p>But this throws an error.</p>\n\n<pre><code>Error\nTraceback (most recent call last):\n  File \"/home/moha/dev/intellij-ws/pyqadi/tests/test_file2txt.py\", line 11, in test_process\n    str=f2t.to_txt(file)\n  File \"/home/moha/dev/intellij-ws/pyqadi/textsearcher/file2txt.py\", line 10, in to_txt\n    text = textract.process(file, encoding=\"unicode\")\n  File \"/usr/local/lib/python2.7/dist-packages/textract/parsers/__init__.py\", line 57, in process\n    return parser.process(filename, encoding, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/textract/parsers/utils.py\", line 46, in process\n    return self.encode(unicode_string, encoding)\n  File \"/usr/local/lib/python2.7/dist-packages/textract/parsers/utils.py\", line 31, in encode\n    return text.encode(encoding, 'ignore')\nLookupError: unknown encoding: unicode\n</code></pre>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464213022, "post_id": 37448205, "comment_id": 62398262, "body": "Hey, thanks for the non-capturing group hint, haven&#39;t thought of that. Regarding the optional groups.. I guess what I&#39;m after is that regardless of the order of those 3 - it would be nice if matched group index would remain the same. But now I&#39;m asking too much, am I? :)"}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "reply_to_user": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464213334, "post_id": 37448205, "comment_id": 62398380, "body": "You could use a look-ahead that contains a capture group. Then the optional statements can be in any order, and the capture groups will always have the same index. Would you like me to explain in the answer?"}, {"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464213367, "post_id": 37448205, "comment_id": 62398391, "body": "To elaborate a bit more, sure I can check whether one of the 3 groups contain either <code>log</code> or <code>stateful</code>, but if I use the same approach, a non-capturing group for <code>expire</code>, aka <code>(?:expire\\s(\\S+))</code>, I&#39;d need to make an assumption. Unless I can somehow have order-less matching? i.e. match on <code>(stateful|log|(?:expire\\s(\\S+)))</code>?"}, {"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464213410, "post_id": 37448205, "comment_id": 62398410, "body": "would love to hear about the lookahead. Read about it, but can&#39;t seem to wrap my head around just yet - if you could help me understand on this example - would be wonderful!"}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "reply_to_user": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464213693, "post_id": 37448205, "comment_id": 62398528, "body": "Yeah! There&#39;s an edit now with an example of that. Does that help?"}, {"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464213871, "post_id": 37448205, "comment_id": 62398607, "body": "Hmm. Makes sense, however...  <a href=\"http://pythex.org/?regex=%5E(allow%7Cdeny)%3F%5Cs%2B(tcp%7Cudp%7Ctcpudp%7Cany)%5Cs%2B%3F(src%5Cs%5CS%2B)%5Cs\" rel=\"nofollow noreferrer\">pythex.org/&hellip;</a>*(%3F%3Aport%5Cs%2B(%5CS%2B))%3F%5Cs*(dst%5Cs%5C&zwnj;&#8203;S%2B)%5Cs%3F(%3F%3Ap&zwnj;&#8203;ort%5Cs%2B(%5CS%2B))&zwnj;&#8203;%3F(%3F%3D%5Cs*(stat&zwnj;&#8203;eful)%3F)(%3F%3D%5Cs&zwnj;&#8203;*(expire%20%5Cd%7B8%&zwnj;&#8203;7D)%3F)(%3F%3D%5Cs*(&zwnj;&#8203;log)%3F)&amp;test_string&zwnj;&#8203;=allow%20tcp%20src%2&zwnj;&#8203;010.34.236.0%2F27%20&zwnj;&#8203;port%20any%20dst%201&zwnj;&#8203;0.32.160.80%20port%2&zwnj;&#8203;0%40web_services%20s&zwnj;&#8203;tateful%20log&amp;ignore&zwnj;&#8203;case=0&amp;multiline=0&amp;d&zwnj;&#8203;otall=0&amp;verbose=0"}, {"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464214651, "post_id": 37448205, "comment_id": 62398899, "body": "In fact, it catches only the first word, following the non-look-ahead patterns."}, {"owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 0, "creation_date": 1464218417, "post_id": 37448205, "comment_id": 62400026, "body": "Hah! I was experimenting as well, but didn&#39;t figure it out. Awesome man, you&#39;re a lifesaver, thank you! Uhh, was about to say I understand, but coming to think of it - what does a non-capturing <code>(?:.*(term))?</code> add there? I&#39;ve read that an optional look-ahead doesn&#39;t make sense, but..."}, {"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "reply_to_user": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "edited": false, "score": 1, "creation_date": 1464221938, "post_id": 37448205, "comment_id": 62400885, "body": "I&#39;ve created <a href=\"http://stackoverflow.com/questions/37449492/matching-optional-capture-groups-in-any-order/37449493#37449493\">this question</a> in hopes of getting other people involved in solving that particular issue. There likely are other, better ways of doing it."}], "tags": [], "owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "is_accepted": true, "score": 2, "last_activity_date": 1464218203, "last_edit_date": 1464218203, "creation_date": 1464212892, "answer_id": 37448205, "question_id": 37447983, "link": "https://stackoverflow.com/questions/37447983/regexp-to-match-random-order-words/37448205#37448205", "title": "Regexp to match random order words", "body": "<blockquote>\n  <ol>\n  <li>How can I match <code>stateful</code>, <code>expire &lt;value&gt;</code>, <code>log</code> if all 3 are optional but in case they are present I want to match them in separate groups.</li>\n  </ol>\n</blockquote>\n\n<p>Use capture groups that have a <code>?</code> after them so that they will be optional.</p>\n\n<p>Ex. <code>\\s*(stateful)?\\s*(?:expire (\\d{8}))?\\s*(log)?</code></p>\n\n<p>To allow those optional groups to appear in any order in the match string, but still always have them in the same numbered capture group, use a look-ahead <code>(?= )</code>.</p>\n\n<p>Ex. <code>(?=(?:.*(stateful))?)(?=(?:.*expire (\\d{8}))?)(?=(?:.*(log))?)</code></p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>How can I match optional statement <code>port &lt;value&gt;</code> in such a way that the match group will contain only the value, without creating an extra matching group, i.e. without using<br>\n  <code>(port\\s+(\\S+))?</code></li>\n  </ol>\n</blockquote>\n\n<p>Use a non-capturing group <code>(?: )</code> to put those characters together for the following <code>?</code> without capturing them. (You probably want to do this for <code>expire</code> above also)</p>\n\n<pre><code>(?:port\\s+(\\s+))?\n</code></pre>\n\n<h2><a href=\"https://regex101.com/r/tV6oB3/4\" rel=\"nofollow\">Complete Regex</a></h2>\n"}], "owner": {"reputation": 27181, "user_id": 1070354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/56ca246e6d24b9a09114ff4542bcc2b1?s=128&d=identicon&r=PG", "display_name": "favoretti", "link": "https://stackoverflow.com/users/1070354/favoretti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 1, "accepted_answer_id": 37448205, "answer_count": 1, "score": 0, "last_activity_date": 1464218203, "creation_date": 1464211995, "last_edit_date": 1464213601, "question_id": 37447983, "link": "https://stackoverflow.com/questions/37447983/regexp-to-match-random-order-words", "title": "Regexp to match random order words", "body": "<p>I have the following pseudo-DSL:</p>\n\n<pre><code>&lt; allow | deny &gt; \n&lt; tcp | udp | any &gt;  \nsrc &lt; prefix | $ip | @hostgroup | any &gt; [ port number | range | @portgroup | any ] \ndst &lt; prefix | $ip | @hostgroup | any &gt; [ port number | range | @portgroup | any ] \n[ stateful ] \n[ expire YYYYMMDD ] [ log ] \n[ # comment ]\n</code></pre>\n\n<p>The order is fixed, starting from allow up to <code>dst</code> and its <code>port</code>.\nThat I'm matching with the following, rather dumb, regexp:</p>\n\n<pre><code>m = re.search(\"^(allow|deny)?\\s+(tcp|udp|tcpudp|any)\\s+?(src\\s\\S+)\\s*?(port\\s+\\S+)?\\s*?(dst\\s\\S+)\\s?(port\\s+\\S+)?\\s*?(\\S+)?\\s*?(\\S+)?\", line)\n</code></pre>\n\n<p>Pardon me for the n00bness of the questions, but the parts I'm having problems with are:</p>\n\n<ol>\n<li>How can I match <code>stateful</code>, <code>expire &lt;value&gt;</code>, <code>log</code> if all 3 are optional but in case they are present I want to match them in separate groups.</li>\n<li>How can I match optional statement <code>port &lt;value&gt;</code> in such a way that the match group will contain only the value, without creating an extra matching group, i.e. without using <code>(port\\s+(\\S+))?</code></li>\n</ol>\n\n<p>Thanks!</p>\n\n<p>[edit for more of a problem statement]</p>\n\n<p>To elaborate a bit more, sure I can check whether one of the 3 groups contain either <code>log</code> or <code>stateful</code>, but if I use the same approach, a non-capturing group for expire, aka <code>(?:expire\\s(\\S+))</code>, I'd need to make an assumption. Unless I can somehow have order-less matching? i.e. match on <code>(stateful|log|(?:expire\\s(\\S+)))</code>?</p>\n"}, {"tags": ["python", "ide", "virtualenv", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "is_accepted": true, "score": 15, "last_activity_date": 1464287196, "last_edit_date": 1464287196, "creation_date": 1464286683, "answer_id": 37468323, "question_id": 37447906, "link": "https://stackoverflow.com/questions/37447906/how-to-get-virtualenv-tensorflow-to-work-in-pycharm/37468323#37468323", "title": "How to get VirtualEnv TensorFlow to work in PyCharm?", "body": "<p>You have installed <code>tensorflow</code> in a <code>virtualenv</code>, here's how to get PyCharm to use it:</p>\n\n<ol>\n<li><p>First you want to add that virtualenv you created and installed tensorflow in, as an interpreter in PyCharm. Please follow this guide from PyCharm makers: <a href=\"https://www.jetbrains.com/help/pycharm/2016.1/adding-existing-virtual-environment.html\" rel=\"noreferrer\">Adding Existing Virtual Environment</a>\nYou will want to select <code>python</code> executable from your <code>virtualenv</code> forlder, e.g. <code>your_venv/bin/python</code></p></li>\n<li><p>Once added as an interpreter you want to select it for your project. Here's a guide: <a href=\"https://www.jetbrains.com/help/pycharm/2016.1/configuring-python-interpreter-for-a-project.html#d29405e148\" rel=\"noreferrer\">Selecting Python interpreter for a project</a></p></li>\n</ol>\n"}], "owner": {"reputation": 629, "user_id": 6095482, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7b960ad692ec7d97343e9ceae96799d5?s=128&d=identicon&r=PG&f=1", "display_name": "ness_boy", "link": "https://stackoverflow.com/users/6095482/ness-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9556, "favorite_count": 3, "accepted_answer_id": 37468323, "answer_count": 1, "score": 8, "last_activity_date": 1492619857, "creation_date": 1464211649, "last_edit_date": 1495540937, "question_id": 37447906, "link": "https://stackoverflow.com/questions/37447906/how-to-get-virtualenv-tensorflow-to-work-in-pycharm", "title": "How to get VirtualEnv TensorFlow to work in PyCharm?", "body": "<p>So I installed tensorflow onto my mac through the main response from here: <a href=\"https://stackoverflow.com/a/33691154/6095482\">https://stackoverflow.com/a/33691154/6095482</a></p>\n\n<p>This means that my tensorflow works in a virtualenv. I can run it through my terminal for scripting purposes, but was wondering if there's any way to port that onto an IDE.  I am familiar with pycharm, but couldn't figure out the path routing and virtual environments in order to get it going.  Does anyone have any advice on where to take this and which IDE would be good?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "numpy", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1185, "user_id": 6284734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8a6096e9cf3c6558698c7d1176a9cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6284734/brian"}, "edited": false, "score": 0, "creation_date": 1464212496, "post_id": 37447891, "comment_id": 62398056, "body": "Ahh, that makes sense.  Thanks!"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 0, "last_activity_date": 1464211567, "creation_date": 1464211567, "answer_id": 37447891, "question_id": 37447860, "link": "https://stackoverflow.com/questions/37447860/pandas-corr-table-column-name-behavior/37447891#37447891", "title": "pandas corr table column name behavior", "body": "<p>When you perform the <code>corr</code> method and produce the correlation matrix, you end up with a square matrix where the columns are the same as the rows.  It's convenient to assign both the <code>index</code> and <code>columns</code> to be the same object.  So <code>c.index</code> and <code>c.columns</code> are pointing to the same thing.  To break this link, you need to make one a copy of itself.</p>\n\n<pre><code>c.index = c.index.copy()\n\nc.columns.name = 'col'\n\nprint c\n\ncol         0         1         2         3         4         5\n0    1.000000 -0.208454  0.015920  0.397915  0.283203 -0.433138\n1   -0.208454  1.000000  0.384982 -0.881456  0.037897  0.430109\n2    0.015920  0.384982  1.000000 -0.308990 -0.744234 -0.078394\n3    0.397915 -0.881456 -0.308990  1.000000 -0.149954 -0.690244\n4    0.283203  0.037897 -0.744234 -0.149954  1.000000  0.325190\n5   -0.433138  0.430109 -0.078394 -0.690244  0.325190  1.000000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1185, "user_id": 6284734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8a6096e9cf3c6558698c7d1176a9cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6284734/brian"}, "edited": false, "score": 0, "creation_date": 1464212468, "post_id": 37447937, "comment_id": 62398040, "body": "Super useful.  Thank you."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1464211770, "creation_date": 1464211770, "answer_id": 37447937, "question_id": 37447860, "link": "https://stackoverflow.com/questions/37447860/pandas-corr-table-column-name-behavior/37447937#37447937", "title": "pandas corr table column name behavior", "body": "<p>if you are just after renaming the index, you can do it this way:</p>\n\n<pre><code>In [235]: c.rename_axis('col')\nOut[235]:\n            0         1         2         3         4         5\ncol\n0    1.000000 -0.406438  0.715564 -0.354630 -0.313099 -0.723027\n1   -0.406438  1.000000 -0.512059 -0.369779 -0.201501  0.445913\n2    0.715564 -0.512059  1.000000  0.300887  0.105123 -0.558040\n3   -0.354630 -0.369779  0.300887  1.000000  0.750460  0.295423\n4   -0.313099 -0.201501  0.105123  0.750460  1.000000 -0.004003\n5   -0.723027  0.445913 -0.558040  0.295423 -0.004003  1.000000\n</code></pre>\n"}], "owner": {"reputation": 1185, "user_id": 6284734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8a6096e9cf3c6558698c7d1176a9cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6284734/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 0, "accepted_answer_id": 37447891, "answer_count": 2, "score": 0, "last_activity_date": 1464211770, "creation_date": 1464211370, "question_id": 37447860, "link": "https://stackoverflow.com/questions/37447860/pandas-corr-table-column-name-behavior", "title": "pandas corr table column name behavior", "body": "<p>I'm calculating a corr table in pandas,</p>\n\n<pre><code>df = pd.DataFrame(np.random.rand(6, 6))\n\nc = df.corr()\n</code></pre>\n\n<p>But when I try to change the name of the columns,</p>\n\n<pre><code>c.columns.name = 'col'\n</code></pre>\n\n<p>I get this,</p>\n\n<pre><code>col         0         1         2         3         4         5\ncol                                                            \n0    1.000000  0.051975 -0.171113  0.196975  0.057700 -0.008229\n1    0.051975  1.000000 -0.055077 -0.298845 -0.642585 -0.465581\n2   -0.171113 -0.055077  1.000000 -0.591092  0.051866  0.584618\n3    0.196975 -0.298845 -0.591092  1.000000 -0.327067 -0.059618\n4    0.057700 -0.642585  0.051866 -0.327067  1.000000  0.359508\n5   -0.008229 -0.465581  0.584618 -0.059618  0.359508  1.000000\n</code></pre>\n\n<p>Also,</p>\n\n<pre><code>print c.index.name\n\ncol\n</code></pre>\n\n<p>Why is this happening?</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1464211184, "post_id": 37447790, "comment_id": 62397505, "body": "What does &quot;doesn&#39;t work&quot; mean in this instance?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 3, "creation_date": 1464211336, "post_id": 37447790, "comment_id": 62397553, "body": "Because the second form calls <code>factorial()</code> with the <i>exact same value for <code>x</code> each time</i>. You created an endless loop. <code>factorial(5)</code> is not the same as <code>factorial(5) * 4</code>, that&#39;s just endlessly replacing the <code>factorial()</code> call with itself."}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1464211184, "creation_date": 1464211184, "answer_id": 37447812, "question_id": 37447790, "link": "https://stackoverflow.com/questions/37447790/python-factorial-by-recursion/37447812#37447812", "title": "Python factorial by recursion", "body": "<p>The second code is infinitely recursive. You keep calling <code>factorial(x)</code> over and over again.</p>\n\n<p>The first version subtracts <code>1</code> from <code>x</code> each call, so eventually <code>x</code> will hit your base case, which is <code>x == 1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 291, "user_id": 6378040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ea5ec0dc176267e4fe82cba2068956?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Alvarez", "link": "https://stackoverflow.com/users/6378040/manuel-alvarez"}, "is_accepted": false, "score": 4, "last_activity_date": 1464212323, "last_edit_date": 1464212323, "creation_date": 1464211444, "answer_id": 37447869, "question_id": 37447790, "link": "https://stackoverflow.com/questions/37447790/python-factorial-by-recursion/37447869#37447869", "title": "Python factorial by recursion", "body": "<p>Well, when we define the factorial we said that <code>n! = n*(n-1)!</code>, on your second code, what you wrote was <code>n! = (n-1)*n!</code></p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1464214947, "creation_date": 1464214947, "answer_id": 37448627, "question_id": 37447790, "link": "https://stackoverflow.com/questions/37447790/python-factorial-by-recursion/37448627#37448627", "title": "Python factorial by recursion", "body": "<p>It's hard to go through the stack trace that you failed to provide.  Let's take a look at the expansion of each function for 3!</p>\n\n<p>First function:</p>\n\n<pre><code>factorial(3)\nfactorial(2) * 3\nfactorial(1) * 2 * 3\n1 * 2 * 3\n</code></pre>\n\n<p>... which results in the expected answer, 6</p>\n\n<p>Second function:</p>\n\n<pre><code>factorial(3)\nfactorial(3) * 2\nfactorial(3) * 2 * 2\nfactorial(3) * 2 * 2 * 2\nfactorial(3) * 2 * 2 * 2 * 2\n</code></pre>\n\n<p>... which will eventually overflow the stack (meaning :-) that you've come to the right web site for an answer).</p>\n\n<p>In short, the second one doesn't work because it's algebraically <strong>wrong</strong>, as well as infinitely recursive.  As others have already pointed out, you make an identical call each time, with no way to end the recursion.</p>\n"}], "owner": {"reputation": 35, "user_id": 5156834, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1dac4254e37ef347ab4ef940a69d51f1?s=128&d=identicon&r=PG&f=1", "display_name": "Waffl", "link": "https://stackoverflow.com/users/5156834/waffl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 1, "answer_count": 3, "score": -2, "last_activity_date": 1464214947, "creation_date": 1464211097, "question_id": 37447790, "link": "https://stackoverflow.com/questions/37447790/python-factorial-by-recursion", "title": "Python factorial by recursion", "body": "<p>When calculating factorial by recursion, why does this code work:</p>\n\n<pre><code>def factorial(x):\n\n    if x == 1:\n\n        return x\n\n    return factorial(x - 1) * x\n</code></pre>\n\n<p>But this doesn't:</p>\n\n<pre><code>def factorial(x):\n\n    if x == 1:\n\n        return x\n\n    return factorial(x) * (x - 1)\n</code></pre>\n\n<p>Both seem very similar to me, can someone explain and go through stack trace, help is appreciated, thanks.</p>\n"}, {"tags": ["python", "http", "http-status-codes", "scapy"], "comments": [{"owner": {"reputation": 1138, "user_id": 3452702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd5b73337c0d34fb4ac08207f58a4d41?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Bencteux", "link": "https://stackoverflow.com/users/3452702/jeff-bencteux"}, "edited": false, "score": 0, "creation_date": 1464246905, "post_id": 37447698, "comment_id": 62408401, "body": "Could you give the output of reply.show()?"}], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 2519090, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ae0dc51743508b8de141f5d074684310?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/2519090/nick"}, "edited": false, "score": 0, "creation_date": 1464274382, "post_id": 37449101, "comment_id": 62427520, "body": "I tried it, the reply.show() command still has the same values. No response status code..."}, {"owner": {"reputation": 461, "user_id": 880680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f4bb480a61e3d4a95821a6d2927bd2?s=128&d=identicon&r=PG", "display_name": "gkso", "link": "https://stackoverflow.com/users/880680/gkso"}, "reply_to_user": {"reputation": 487, "user_id": 2519090, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ae0dc51743508b8de141f5d074684310?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/2519090/nick"}, "edited": false, "score": 0, "creation_date": 1464284585, "post_id": 37449101, "comment_id": 62433993, "body": "I got it. Seems the sr1 will only receive the first ACK packet from server, and it is an empty ACK, the second one is the HTTP response, so you need to use sr() instead of sr1() in order to capture the HTTP response"}], "tags": [], "owner": {"reputation": 461, "user_id": 880680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f4bb480a61e3d4a95821a6d2927bd2?s=128&d=identicon&r=PG", "display_name": "gkso", "link": "https://stackoverflow.com/users/880680/gkso"}, "is_accepted": false, "score": 0, "last_activity_date": 1464218012, "creation_date": 1464218012, "answer_id": 37449101, "question_id": 37447698, "link": "https://stackoverflow.com/questions/37447698/get-http-response-status-code/37449101#37449101", "title": "Get HTTP Response Status Code", "body": "<p>It's likely that your OS will send a RST packet automatically in response to the SYN+ACK received. By using sniff tool like wireshark, you can see that. </p>\n\n<p>The issue can be resolved by adding an iptables rules to suppress the outgoing RST</p>\n\n<pre><code>sudo iptables -A OUTPUT -p tcp --dport 80 --tcp-flags RST RST -j DROP\n</code></pre>\n\n<p>And remove it later </p>\n\n<pre><code>sudo iptables -A OUTPUT -p tcp --dport 80 --tcp-flags RST RST -j DROP\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1138, "user_id": 3452702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd5b73337c0d34fb4ac08207f58a4d41?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Bencteux", "link": "https://stackoverflow.com/users/3452702/jeff-bencteux"}, "edited": false, "score": 0, "creation_date": 1464363449, "post_id": 37467791, "comment_id": 62471212, "body": "You are confusing TCP and HTTP here, the ACK segment acknowledge a TCP segment which itself contains the HTTP request, it has no knowledge of application layer. The ACK could be sent in the same segment than the HTTP response so your statement is wrong, (i.e. &quot;always&quot; should be removed)."}, {"owner": {"reputation": 461, "user_id": 880680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f4bb480a61e3d4a95821a6d2927bd2?s=128&d=identicon&r=PG", "display_name": "gkso", "link": "https://stackoverflow.com/users/880680/gkso"}, "reply_to_user": {"reputation": 1138, "user_id": 3452702, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fd5b73337c0d34fb4ac08207f58a4d41?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Bencteux", "link": "https://stackoverflow.com/users/3452702/jeff-bencteux"}, "edited": false, "score": 0, "creation_date": 1464365987, "post_id": 37467791, "comment_id": 62472727, "body": "Thanks, Jeff. I revised my answer."}], "tags": [], "owner": {"reputation": 461, "user_id": 880680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f4bb480a61e3d4a95821a6d2927bd2?s=128&d=identicon&r=PG", "display_name": "gkso", "link": "https://stackoverflow.com/users/880680/gkso"}, "is_accepted": false, "score": 1, "last_activity_date": 1464366270, "last_edit_date": 1464366270, "creation_date": 1464284816, "answer_id": 37467791, "question_id": 37447698, "link": "https://stackoverflow.com/questions/37447698/get-http-response-status-code/37467791#37467791", "title": "Get HTTP Response Status Code", "body": "<p>By using sr1(), you can only receive the first packet responded from server, in some cases an \"empty\" ACK to acknowledge the data you sent, so you cannot find the HTTP response and the response code. My suggestion is to use sr() instead of sr1(), as follows:</p>\n\n<pre><code>reply = sr(request, multi=1, timeout=2)\n</code></pre>\n\n<p>And this will receive all the packets including HTTP response arrived in 2 seconds, but you need to iterate over the reply packets to find the packet containing HTTP response code.</p>\n"}], "owner": {"reputation": 487, "user_id": 2519090, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ae0dc51743508b8de141f5d074684310?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/2519090/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464366270, "creation_date": 1464210715, "question_id": 37447698, "link": "https://stackoverflow.com/questions/37447698/get-http-response-status-code", "title": "Get HTTP Response Status Code", "body": "<p>I'm using python and scapy to send HTTP request to a specific URL address. After sending it, I want to read the response status code (200, 401, 404, etc.).</p>\n\n<p>I used this method:</p>\n\n<pre><code>&gt;&gt;&gt; syn = IP(dst='www.google.com') / TCP(dport=80, flags='S')\n&gt;&gt;&gt; syn_ack = sr1(syn)\n&gt;&gt;&gt; getStr = 'GET / HTTP/1.1\\r\\nHost: www.google.com\\r\\n\\r\\n'\n&gt;&gt;&gt; request = IP(dst='www.google.com') / TCP(dport=80, sport=syn_ack[TCP].dport, seq=syn_ack[TCP].ack, ack=syn_ack[TCP].seq + 1, flags='A') / getStr\n&gt;&gt;&gt; reply = sr1(request)\n</code></pre>\n\n<p>For some reason, I can't see it in \"reply\".</p>\n\n<p>Thanks for helping!</p>\n"}, {"tags": ["python", "list", "zip", "attributeerror", "tell"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 4241150, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b3286098ee9e32b6bacbefa0429cd1f?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Levy", "link": "https://stackoverflow.com/users/4241150/benjamin-levy"}, "edited": false, "score": 0, "creation_date": 1464215000, "post_id": 37447829, "comment_id": 62399034, "body": "The contents of dirName + apt + &#39;.zip&#39; form a string.  The string, dirName&#39;, has the &#39;/&#39; characters, but this is a Windows machine that I&#39;m using.  Hope that helps clarify."}, {"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "reply_to_user": {"reputation": 153, "user_id": 4241150, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b3286098ee9e32b6bacbefa0429cd1f?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Levy", "link": "https://stackoverflow.com/users/4241150/benjamin-levy"}, "edited": false, "score": 0, "creation_date": 1464215245, "post_id": 37447829, "comment_id": 62399131, "body": "@BenjaminLevy:  Doesn&#39;t help.  You have <code>[</code> and <code>]</code> around your file name.  That makes it a list.  <code>ZipFile</code> doensn&#39;t take a list - it takes a single file name.  You need to remove the brackets."}, {"owner": {"reputation": 153, "user_id": 4241150, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b3286098ee9e32b6bacbefa0429cd1f?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Levy", "link": "https://stackoverflow.com/users/4241150/benjamin-levy"}, "edited": false, "score": 0, "creation_date": 1464216159, "post_id": 37447829, "comment_id": 62399462, "body": "Well, duh on me.  I&#39;ll try it and write back.  Tx."}, {"owner": {"reputation": 153, "user_id": 4241150, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b3286098ee9e32b6bacbefa0429cd1f?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Levy", "link": "https://stackoverflow.com/users/4241150/benjamin-levy"}, "edited": false, "score": 0, "creation_date": 1464268702, "post_id": 37447829, "comment_id": 62422863, "body": "Thanks, Gerrat.  Your advice worked.  My matlab training of using [ str + str] to concatenate strings tripped me up.  I could not see the error in Python."}], "tags": [], "owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "is_accepted": true, "score": 4, "last_activity_date": 1473768089, "last_edit_date": 1473768089, "creation_date": 1464211279, "answer_id": 37447829, "question_id": 37447658, "link": "https://stackoverflow.com/questions/37447658/python-error-using-zipfile-list-object-has-no-attribute-tell/37447829#37447829", "title": "Python error using zipfile: &#39;list&#39; object has no attribute &#39;tell&#39;", "body": "<p>This line:</p>\n\n<pre><code>zf = zipfile.ZipFile([ dirName + apt + '.zip' ], mode='w')\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>zf = zipfile.ZipFile(dirName + apt + '.zip', mode='w')\n</code></pre>\n\n<p>This is because <a href=\"https://docs.python.org/2/library/zipfile.html#zipfile.ZipFile\" rel=\"nofollow\">ZipFile</a> takes a file name, not a list of file names.</p>\n"}], "owner": {"reputation": 153, "user_id": 4241150, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1b3286098ee9e32b6bacbefa0429cd1f?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Levy", "link": "https://stackoverflow.com/users/4241150/benjamin-levy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3750, "favorite_count": 0, "accepted_answer_id": 37447829, "answer_count": 1, "score": 1, "last_activity_date": 1530005315, "creation_date": 1464210527, "last_edit_date": 1530005315, "question_id": 37447658, "link": "https://stackoverflow.com/questions/37447658/python-error-using-zipfile-list-object-has-no-attribute-tell", "title": "Python error using zipfile: &#39;list&#39; object has no attribute &#39;tell&#39;", "body": "<p>I'm trying to zip up only *.csv files in a directory with this code:</p>\n\n<pre><code>allFiles = os.listdir( dirName + apt + '/' )\ncsvList  = [i for i in allFiles if i.endswith('.csv')]\nzf       = zipfile.ZipFile([ dirName + apt + '.zip' ], mode='w')\nfor f in csvList:\n    a    = dirName + apt + '/' + f\n    zf.write( a )\n#all the elements of a are strings\n</code></pre>\n\n<p>I get the error: </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;ipython-input-43-ebf4dc807b56&gt;\", line 1, in &lt;module&gt;\nzf.write(a)\nFile \"C:\\Users\\blevy\\MCR\\WinPython-64bit-3.4.3.5\\python-3.4.3.amd64\\lib\\zipfile.py\", line 1347, in write\nzinfo.header_offset = self.fp.tell()    # Start of header bytes\n\nAttributeError: 'list' object has no attribute 'tell'\n</code></pre>\n\n<p>Is there a simple fix to this error?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 12714, "user_id": 505306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TjIHR.png?s=128&g=1", "display_name": "smilingbuddha", "link": "https://stackoverflow.com/users/505306/smilingbuddha"}, "edited": false, "score": 0, "creation_date": 1464385192, "post_id": 37462794, "comment_id": 62481559, "body": "Thank you so much! That worked perfectly! And i got to learn more about Python and Matplotlib in the process. Much appreciated."}], "tags": [], "owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "is_accepted": true, "score": 6, "last_activity_date": 1464270571, "creation_date": 1464270571, "answer_id": 37462794, "question_id": 37447657, "link": "https://stackoverflow.com/questions/37447657/using-matplotlibs-pick-event-properly/37462794#37462794", "title": "Using Matplotlib&#39;s pick event properly", "body": "<p>There are a number of ways to handle this.  I've modified your code to try to show two possible ways (so it has extraneous code though matter which way you'd like to handle it).  </p>\n\n<p><strong>Generally, I think you'd only attach a single <code>pick_event</code> handler, and that handler would need to determine which object was hit.</strong>  The code below works that way with the on_pick function capturing your disks, and patches, and then returning a function to tell which figure was clicked.</p>\n\n<p>If you wanted to stick with attaching multiple <code>pick_event</code> handlers, you could do that by tweaking the <code>Disk.onpick</code> as I have below to determine if the pick event was relevant to this disk (each disk will get every pick event).  You'll note that the Disk class saves off its patch in <code>self.mypatch</code> for this to work.\nIf you wanted to do it this way, discard all the changes I've made to <code>main</code>, and uncomment the two lines in <code>Disk.mpl_patch</code>.</p>\n\n<pre><code>import matplotlib as mpl\nimport matplotlib.pyplot as plt \nimport numpy as np\n\n\nclass Disk:\n\n\n    def __init__(self, center, radius, myid = None, figure=None, axes_object=None):\n        \"\"\" \n        @ARGS\n        CENTER : Tuple of floats\n        RADIUS : Float\n        \"\"\"\n        self.center = center\n        self.radius = radius\n        self.fig    = figure\n        self.ax     = axes_object\n        self.myid   = myid\n        self.mypatch = None\n\n\n    def onpick(self,event):\n        if event.artist == self.mypatch:\n            print \"You picked the disk \", self.myid, \"  with Center: \", self.center, \" and Radius:\", self.radius\n\n\n    def mpl_patch(self, diskcolor= 'orange' ):\n        \"\"\" Return a Matplotlib patch of the object\n        \"\"\"\n        self.mypatch = mpl.patches.Circle( self.center, self.radius, facecolor = diskcolor, picker=1 )\n\n        #if self.fig != None:\n            #self.fig.canvas.mpl_connect('pick_event', self.onpick) # Activate the object's method\n\n        return self.mypatch\n\ndef on_pick(disks, patches):\n    def pick_event(event):\n        for i, artist in enumerate(patches):\n            if event.artist == artist:\n                disk = disks[i]\n                print \"You picked the disk \", disk.myid, \"  with Center: \", disk.center, \" and Radius:\", disk.radius\n    return pick_event\n\n\ndef main():\n\n    fig = plt.figure()\n    ax = fig.add_subplot(111)\n    ax.set_title('click on disks to print out a message')\n\n    disk_list = []\n    patches = []\n\n    disk_list.append( Disk( (0,0), 1.0, 1, fig, ax   )   ) \n    patches.append(disk_list[-1].mpl_patch())\n    ax.add_patch(patches[-1])\n\n    disk_list.append( Disk( (3,3), 0.5, 2, fig, ax   )   )\n    patches.append(disk_list[-1].mpl_patch())\n    ax.add_patch(patches[-1])\n\n    disk_list.append( Disk( (4,9), 2.5, 3, fig, ax   )   )\n    patches.append(disk_list[-1].mpl_patch()) \n    ax.add_patch(patches[-1])\n\n    pick_handler = on_pick(disk_list, patches)\n\n    fig.canvas.mpl_connect('pick_event', pick_handler) # Activate the object's method\n\n    ax.set_ylim(-2, 10);\n    ax.set_xlim(-2, 10);\n\n    plt.show()\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 12714, "user_id": 505306, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/TjIHR.png?s=128&g=1", "display_name": "smilingbuddha", "link": "https://stackoverflow.com/users/505306/smilingbuddha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2633, "favorite_count": 0, "accepted_answer_id": 37462794, "answer_count": 1, "score": 2, "last_activity_date": 1464270571, "creation_date": 1464210526, "question_id": 37447657, "link": "https://stackoverflow.com/questions/37447657/using-matplotlibs-pick-event-properly", "title": "Using Matplotlib&#39;s pick event properly", "body": "<p>I believe I am not using Matplotlib's pick events properly. In the following code, I create three disjoint orange disks of specified radius and position identified by an id number. </p>\n\n<p>I want to <strong>single</strong>-click on each of the disks and print out a message to the terminal identifying the disks, center, radius and id. However, everytime I click on a disk, the pick-events for <strong><em>all</em></strong> the disks are fired. Where am I going wrong?</p>\n\n<p>Here is the plot </p>\n\n<p><a href=\"https://i.stack.imgur.com/iwO3Im.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iwO3Im.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the output on clicking disk 1</p>\n\n<p><a href=\"https://i.stack.imgur.com/Eq3ECm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Eq3ECm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the code. </p>\n\n<pre><code>from global_config import GC\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt \nimport numpy as np\n\n\nclass Disk:\n\n\n    def __init__(self, center, radius, myid = None, figure=None, axes_object=None):\n        \"\"\" \n        @ARGS\n        CENTER : Tuple of floats\n        RADIUS : Float\n        \"\"\"\n        self.center = center\n        self.radius = radius\n        self.fig    = figure\n        self.ax     = axes_object\n        self.myid   = myid\n\n    def onpick(self,event):\n        print \"You picked the disk \", self.myid, \"  with Center: \", self.center, \" and Radius:\", self.radius\n\n\n    def mpl_patch(self, diskcolor= 'orange' ):\n        \"\"\" Return a Matplotlib patch of the object\n        \"\"\"\n        mypatch =  mpl.patches.Circle( self.center, self.radius, facecolor = diskcolor, picker=1 )\n\n        if self.fig != None:\n            self.fig.canvas.mpl_connect('pick_event', self.onpick) # Activate the object's method\n\n        return mypatch\n\n\n\ndef main():\n\n    fig = plt.figure()\n    ax = fig.add_subplot(111)\n    ax.set_title('click on disks to print out a message')\n\n    disk_list = []\n\n    disk_list.append( Disk( (0,0), 1.0, 1, fig, ax   )   ) \n    ax.add_patch(disk_list[-1].mpl_patch() )\n\n    disk_list.append( Disk( (3,3), 0.5, 2, fig, ax   )   )\n    ax.add_patch(disk_list[-1].mpl_patch() )\n\n    disk_list.append( Disk( (4,9), 2.5, 3, fig, ax   )   )\n    ax.add_patch(disk_list[-1].mpl_patch() )\n\n\n    ax.set_ylim(-2, 10);\n    ax.set_xlim(-2, 10);\n\n    plt.show()\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "mime-types"], "answers": [{"comments": [{"owner": {"reputation": 5144, "user_id": 1713313, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/45ci2.jpg?s=128&g=1", "display_name": "smitelli", "link": "https://stackoverflow.com/users/1713313/smitelli"}, "edited": false, "score": 0, "creation_date": 1464211080, "post_id": 37447630, "comment_id": 62397464, "body": "Maybe <code>known_extension.get(mimetype, guess_extension(mimetype)</code>. Otherwise there are two problems: dict is not callable, and unknown extensions would raise a KeyError instead of evaluating the right-hand side."}, {"owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "reply_to_user": {"reputation": 5144, "user_id": 1713313, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/45ci2.jpg?s=128&g=1", "display_name": "smitelli", "link": "https://stackoverflow.com/users/1713313/smitelli"}, "edited": false, "score": 0, "creation_date": 1464319951, "post_id": 37447630, "comment_id": 62447089, "body": "Fixed (differently) above. Yours will work, but involves a possibily unnecessary call to guess_extension(). Probably doesn&#39;t matter in practice."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1543501847, "post_id": 37447630, "comment_id": 93949438, "body": "@DaveW.Smith you are right. Your solution works. But for me it is more a work-around. Not a solution."}], "tags": [], "owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "is_accepted": false, "score": 2, "last_activity_date": 1464320009, "last_edit_date": 1464320009, "creation_date": 1464210407, "answer_id": 37447630, "question_id": 37447541, "link": "https://stackoverflow.com/questions/37447541/is-there-a-more-reliable-drop-in-replacement-for-mimetypes-guess-extension/37447630#37447630", "title": "Is there a more reliable drop-in replacement for mimetypes.guess_extension()?", "body": "<p>If you're dealing with a fix set of mimetypes that <code>guess_extension</code> is getting wrong, put an override dictionary ahead of the guess.</p>\n\n<pre><code>known_extension = {'text/html': '.txt', ...}\n...\nextension = known_extension.get(mimetype) or guess_extension(mimetype)\n</code></pre>\n"}], "owner": {"reputation": 5144, "user_id": 1713313, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/45ci2.jpg?s=128&g=1", "display_name": "smitelli", "link": "https://stackoverflow.com/users/1713313/smitelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1464320009, "creation_date": 1464210101, "last_edit_date": 1464210668, "question_id": 37447541, "link": "https://stackoverflow.com/questions/37447541/is-there-a-more-reliable-drop-in-replacement-for-mimetypes-guess-extension", "title": "Is there a more reliable drop-in replacement for mimetypes.guess_extension()?", "body": "<p>I'm up against the following (Python 2.7.10 on Ubuntu Trusty):</p>\n\n<pre><code>&gt;&gt;&gt; from mimetypes import guess_extension\n&gt;&gt;&gt; guess_extension('text/html')\n'.html'\n&gt;&gt;&gt; guess_extension('application/json')\n'.json'\n&gt;&gt;&gt; guess_extension('text/plain')\n'.ksh'\n&gt;&gt;&gt; guess_extension('audio/mp3')\n&gt;&gt;&gt;\n</code></pre>\n\n<p>It got text/html and application/json right, made a bad guess for text/plain, and gave me nothing for audio/mp3. (Interestingly, changing the last one to audio/mpeg returns <code>'.mp3'</code> as expected, but that's not what my data source uses.)</p>\n\n<p>Is there a more reliable alternative to this module that would return <code>'.txt'</code> and <code>'.mp3'</code> in my last two cases? I looked into python-magic, but based on everything I saw it looks like it needs to read the actual file data to function. In my case, all I have is the MIME type as a string.</p>\n"}, {"tags": ["python", "xml", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 6377771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1372ba68c96afcaca39e0e56b51f54f4?s=128&d=identicon&r=PG&f=1", "display_name": "sundorer", "link": "https://stackoverflow.com/users/6377771/sundorer"}, "edited": false, "score": 0, "creation_date": 1464213175, "post_id": 37448143, "comment_id": 62398311, "body": "Thanks, I&#39;m aware on general parsing. However, my question is on the quickest way to sort through the files I need to parse. If there are only 10 files in 50 gb of files that match the criteria I set, it may take some time to sort through them. I&#39;m looking for the most efficient way."}, {"owner": {"reputation": 70, "user_id": 5538267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699c8c8ed80cf65022aa83260bfc8c45?s=128&d=identicon&r=PG&f=1", "display_name": "Omar A", "link": "https://stackoverflow.com/users/5538267/omar-a"}, "reply_to_user": {"reputation": 17, "user_id": 6377771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1372ba68c96afcaca39e0e56b51f54f4?s=128&d=identicon&r=PG&f=1", "display_name": "sundorer", "link": "https://stackoverflow.com/users/6377771/sundorer"}, "edited": false, "score": 0, "creation_date": 1464213755, "post_id": 37448143, "comment_id": 62398554, "body": "Oh, It was a little unclear. Well if you find an efficient way to sort through large files yourself, please share here it would help me and others. I also use python scripts for scrapping. If I find something I&#39;ll surely post here."}], "tags": [], "owner": {"reputation": 70, "user_id": 5538267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699c8c8ed80cf65022aa83260bfc8c45?s=128&d=identicon&r=PG&f=1", "display_name": "Omar A", "link": "https://stackoverflow.com/users/5538267/omar-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1464212661, "creation_date": 1464212661, "answer_id": 37448143, "question_id": 37447465, "link": "https://stackoverflow.com/questions/37447465/filtering-before-parsing-with-lxml/37448143#37448143", "title": "Filtering before parsing with lxml", "body": "<p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow\">BeautifulSoup</a> has good documentation on how to extract features from html and xml files.</p>\n\n<p>I would suggest you use xml to extract the data. I do not know the format of your file. </p>\n\n<p>But if you need to use lxml <a href=\"http://lxml.de/elementsoup.html\" rel=\"nofollow\">here</a> is a small doc that also uses BeautifulSoup.</p>\n\n<p>To get you started. After downloading BeautifulSoup</p>\n\n<p>Example:</p>\n\n<pre><code>from b4 import BeautifulSoup\n\ndata = \"file\"\nsoup = BeautifulSoup(data, 'lxml')\n\nprint soup\n</code></pre>\n\n<p>This will show page in format. From then on you will have to extract data depending on the format.</p>\n"}], "owner": {"reputation": 17, "user_id": 6377771, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1372ba68c96afcaca39e0e56b51f54f4?s=128&d=identicon&r=PG&f=1", "display_name": "sundorer", "link": "https://stackoverflow.com/users/6377771/sundorer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1464212661, "creation_date": 1464209763, "question_id": 37447465, "link": "https://stackoverflow.com/questions/37447465/filtering-before-parsing-with-lxml", "title": "Filtering before parsing with lxml", "body": "<p>I plan to use <code>lxml</code>to parse a large amount of xml documents (30+ gb). However, I only need to fully parse some of these documents. There are some identifying features of the documents I want such as <code>&lt;recordtype=\"2\"&gt;</code>. <code>recordtype</code> values may span from <code>1-10</code>, for example, but I only need <code>2</code>. The plan is to first parse all the xml documents just for the identifying information. Then, use something like <code>pandas</code> to create a dataframe where each file has this identifying information. After that, filter out the files that match my restrictions and parse them fully. Alternatively, an if statement that if the parameters match, continue to fully parse. I'm guessing the second is less consuming. Is there a more efficient way I should be doing this? </p>\n"}, {"tags": ["python", "core"], "comments": [{"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464209732, "post_id": 37447451, "comment_id": 62396878, "body": "Yes, it is. Nothing is impossible."}, {"owner": {"reputation": 2380, "user_id": 6189717, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a09efa4823c3c2adc1fed245dda6aeba?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Sch&#252;pbach", "link": "https://stackoverflow.com/users/6189717/simon-sch%c3%bcpbach"}, "edited": false, "score": 0, "creation_date": 1464209800, "post_id": 37447451, "comment_id": 62396910, "body": "nearly nothing ;-)"}, {"owner": {"reputation": 2651, "user_id": 2246024, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/OpzyW.jpg?s=128&g=1", "display_name": "Simon Fromme", "link": "https://stackoverflow.com/users/2246024/simon-fromme"}, "edited": false, "score": 0, "creation_date": 1464210092, "post_id": 37447451, "comment_id": 62397038, "body": "<code>M-x export-program-state-from-core-dump-file-to-different-file</code> on a properly set up emacs ;)"}, {"owner": {"reputation": 1, "user_id": 6383258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba5b549eb88ecc611446e5cc60cc8d7?s=128&d=identicon&r=PG&f=1", "display_name": "Ramarao C", "link": "https://stackoverflow.com/users/6383258/ramarao-c"}, "edited": false, "score": 0, "creation_date": 1465228752, "post_id": 37447451, "comment_id": 62802266, "body": "How to do that using emacs ? Can u illustrate ? I&#39;m trying to use libmigdb Api... But it&#39;s not returning any values..."}], "owner": {"reputation": 1, "user_id": 6383258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bba5b549eb88ecc611446e5cc60cc8d7?s=128&d=identicon&r=PG&f=1", "display_name": "Ramarao C", "link": "https://stackoverflow.com/users/6383258/ramarao-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1464209698, "creation_date": 1464209698, "question_id": 37447451, "link": "https://stackoverflow.com/questions/37447451/is-it-possible-to-programmatically-retrieve-program-state-from-core-dump-file", "title": "Is it possible to programmatically retrieve program state from core dump file", "body": "<p>Is it possible to programmatically retrieve program state from core dump file and is it possible for a core dump file to be exported to a different file ?</p>\n"}, {"tags": ["python", "caching", "flask", "flask-cache"], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 1333925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7347e169a8b784ab58bfea8835a016c8?s=128&d=identicon&r=PG", "display_name": "emorris", "link": "https://stackoverflow.com/users/1333925/emorris"}, "is_accepted": false, "score": 1, "last_activity_date": 1477667935, "creation_date": 1477667935, "answer_id": 40308204, "question_id": 37447444, "link": "https://stackoverflow.com/questions/37447444/is-flask-caches-filesystem-cache-secure/40308204#40308204", "title": "Is Flask-Cache&#39;s filesystem cache secure?", "body": "<p>Storing a raw password anywhere for a period of time sounds like a bad idea.</p>\n\n<p>Depending on how you are checking your password, and where the bottleneck is, you could cache the password hash, then just check against this.</p>\n\n<p>Example if you stored a password hash in a database, and the retrieval was the bottleneck:</p>\n\n<pre><code>def authenticate(username, password):\n    hash = get_password_hash()\n    return check_password(password, hash)\n\n@cache.memoize\ndef get_password_hash(username):\n    return retrieve_hash_from_database()\n</code></pre>\n"}], "owner": {"reputation": 1871, "user_id": 1413826, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9c02e2ffe62e943db7b2ce85c7882ab2?s=128&d=identicon&r=PG", "display_name": "steve", "link": "https://stackoverflow.com/users/1413826/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477667935, "creation_date": 1464209664, "question_id": 37447444, "link": "https://stackoverflow.com/questions/37447444/is-flask-caches-filesystem-cache-secure", "title": "Is Flask-Cache&#39;s filesystem cache secure?", "body": "<p>I want to cache the results of an authentication function using the cache.memoize decorator.</p>\n\n<p>However the authentication function takes a username and password as arguments, and I need to maintain security.</p>\n\n<pre><code>Cache(config={'CACHE_TYPE': 'filesystem'})\n\n@cache.memoize\ndef authenticate(username, password)\n    # some logic\n    return True/False\n</code></pre>\n\n<p>Is Flask-Cache's filesystem cache secure? Is there a way to set ownership/permissions on the flask cache's files through the module?</p>\n"}, {"tags": ["python", "unit-testing", "matplotlib", "formatting"], "answers": [{"comments": [{"owner": {"reputation": 1302, "user_id": 5472354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MwRha.jpg?s=128&g=1", "display_name": "mapf", "link": "https://stackoverflow.com/users/5472354/mapf"}, "edited": false, "score": 0, "creation_date": 1592493427, "post_id": 37448015, "comment_id": 110451471, "body": "This doesn&#39;t work anymore. How do you do this with newer matplotlib versions?"}], "tags": [], "owner": {"reputation": 28401, "user_id": 2666859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LtKyC.png?s=128&g=1", "display_name": "Serenity", "link": "https://stackoverflow.com/users/2666859/serenity"}, "is_accepted": true, "score": 1, "last_activity_date": 1464212105, "creation_date": 1464212105, "answer_id": 37448015, "question_id": 37447413, "link": "https://stackoverflow.com/questions/37447413/extract-tick-params-from-matplotlib-ax-object/37448015#37448015", "title": "Extract tick params from matplotlib `ax` object", "body": "<p>To iterate over ticks for every axis, you may use this code</p>\n\n<pre><code>print \"Major ticks of y axis\"                                              \nfor tick in ax.yaxis.get_major_ticks():\n    print tick.tick1On, tick.tick2On, tick.gridOn                                        \nprint \"Minor ticks of y axis\"\nfor tick in ax.yaxis.get_minor_ticks():\n    print tick.tick1On, tick.tick2On, tick.gridOn   \n</code></pre>\n\n<p>To navigate over ticks for x axis, f.e., just replace</p>\n\n<pre><code>ax.yaxis.get_major_ticks()\n</code></pre>\n\n<p>by</p>\n\n<pre><code>ax.xaxis.get_major_ticks()\n</code></pre>\n\n<p>About publicly accessible attributes of a Tick object read here: <a href=\"http://matplotlib.org/api/axis_api.html#matplotlib.axis.Tick\" rel=\"nofollow\">http://matplotlib.org/api/axis_api.html#matplotlib.axis.Tick</a></p>\n"}], "owner": {"reputation": 9380, "user_id": 3971910, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bd30b01058e3698bed01b8045494a509?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3971910/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 0, "accepted_answer_id": 37448015, "answer_count": 1, "score": 1, "last_activity_date": 1498829041, "creation_date": 1464209554, "last_edit_date": 1498829041, "question_id": 37447413, "link": "https://stackoverflow.com/questions/37447413/extract-tick-params-from-matplotlib-ax-object", "title": "Extract tick params from matplotlib `ax` object", "body": "<p>I want to be able to identify if tick marks have been set to 'off' using <code>ax.tick_params</code>.  Is there a way to inspect the <code>ax</code> object to see whether they have been turned off or not?  </p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nfig, ax = plt.subplots()\n\nax.spines['top'].set_visible(False)\nax.spines['bottom'].set_visible(False)\nax.spines['left'].set_visible(False)\nax.spines['right'].set_visible(False)\n\n\nax.tick_params(\n    axis='both',  \n    which='both',      \n\n    bottom='off',     \n    top='off',         \n    left='off',\n    right='off') \n\n# This is essentially what I want to be able to do\nassert ax.xticks == 'off'\n</code></pre>\n"}, {"tags": ["python", "performance", "pandas", "numpy"], "comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 1, "creation_date": 1464209867, "post_id": 37447347, "comment_id": 62396947, "body": "What do you want to do with this? That&#39;s the important question, whatever it is, you can probably do this without an intermediary DataFrame (like the expected one)."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1464210252, "post_id": 37447347, "comment_id": 62397130, "body": "@AndyHayden I want to calculate coskew and cokurtosis.  I expect to demean across this new dimension and perform the appropriated matrix multiplications to get the job done.  For the case of correlation and covariance, it&#39;s easy.  <code>df.rolling(2).corr()</code>.  But I have to use <code>df.rolling(2).apply</code> for something more complicated.  Plus, I&#39;m experimenting with various methods of vectorizing.  Also, I&#39;m running a few calculations that require the same intermediate information.  I&#39;d like to calculate and store it possibly."}], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1464213257, "post_id": 37448165, "comment_id": 62398350, "body": "Thank you so much!  You&#39;ve taught about <code>np.dstack</code> and this is very quick."}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1464214344, "post_id": 37448165, "comment_id": 62398782, "body": "Glad I could help."}], "tags": [], "owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "is_accepted": false, "score": 1, "last_activity_date": 1464212732, "creation_date": 1464212732, "answer_id": 37448165, "question_id": 37447347, "link": "https://stackoverflow.com/questions/37447347/dataframe-representation-of-a-rolling-window/37448165#37448165", "title": "dataframe representation of a rolling window", "body": "<p>Disclaimers: </p>\n\n<p>First, I would not call the method you provide clunky. It is readable and you can easily generalize with a list comprehension to any window size. At the same time, this is somewhat of an open ended question that may have many solutions, including your own.</p>\n\n<p>/Disclaimers</p>\n\n<p>Here is one other method that I think qualifies under your description:</p>\n\n<p>Use <code>np.dstack</code> on <code>df.values</code>. One benefit over existing approach is construction speed.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom io import StringIO\n\ndf = pd.read_csv(StringIO(\n'''\n      A     B     C\na  0.44  0.41  0.46\nb  0.47  0.46  0.02\nc  0.85  0.82  0.78\nd  0.76  0.93  0.83\ne  0.88  0.93  0.72\nf  0.12  0.15  0.20\ng  0.44  0.10  0.28\nh  0.61  0.09  0.84\ni  0.74  0.87  0.69\nj  0.38  0.23  0.44\n'''), sep=r' +')\n\n\nwindow = 2\n\ndef get_3d_shfted_array(df, window=window):\n    rows = df.values\n    res  = np.dstack((rows[i:i-window] for i in range(window)))\n    return res\n# 100000 loops, best of 3: 15.5 \u00b5s per loop\n\nres  = get_3d_shfted_array(df)\nzero = res[...,0]\none  = res[...,1]\n\n\n# current method\ndef get_multiindexed_array(df, window=window):\n    return pd.concat([df, df.shift(-1)], axis=1, keys=[0, 1]).dropna()\n# 1000 loops, best of 3: 928 \u00b5s per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1483173857, "post_id": 41406783, "comment_id": 70016551, "body": "You&#39;re getting a lot of milage answering my old questions.  :-)  Glad you are!"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1483173922, "post_id": 41406783, "comment_id": 70016563, "body": "@piRSquared Just leveraging on your easy questions :)"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1483173960, "post_id": 41406783, "comment_id": 70016572, "body": "I do try to tee them up nicely."}, {"owner": {"reputation": 1962, "user_id": 3132595, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/G2oiF.jpg?s=128&g=1", "display_name": "ashishsingal", "link": "https://stackoverflow.com/users/3132595/ashishsingal"}, "edited": false, "score": 0, "creation_date": 1484912408, "post_id": 41406783, "comment_id": 70716946, "body": "Super helpful, thanks to you both. Can&#39;t wait for this to be built into pandas."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 12, "last_activity_date": 1483175057, "last_edit_date": 1483175057, "creation_date": 1483173549, "answer_id": 41406783, "question_id": 37447347, "link": "https://stackoverflow.com/questions/37447347/dataframe-representation-of-a-rolling-window/41406783#41406783", "title": "dataframe representation of a rolling window", "body": "<p>We could use NumPy to get views into those sliding windows with its <em>esoteric</em> <a href=\"http://www.scipy-lectures.org/advanced/advanced_numpy/#indexing-scheme-strides\" rel=\"noreferrer\"><code>strided tricks</code></a>. If you are using this new dimension for some reduction like matrix-multiplication, this would be ideal. If for some reason, you want to have a <code>2D</code> output, we need to use a reshape at the end, which will result in creating a copy though.</p>\n\n<p>Thus, the implementation would look something like this -</p>\n\n<pre><code>from numpy.lib.stride_tricks import as_strided as strided\n\ndef get_sliding_window(df, W, return2D=0):\n    a = df.values                 \n    s0,s1 = a.strides\n    m,n = a.shape\n    out = strided(a,shape=(m-W+1,W,n),strides=(s0,s0,s1))\n    if return2D==1:\n        return out.reshape(a.shape[0]-W+1,-1)\n    else:\n        return out\n</code></pre>\n\n<p>Sample run for 2D/3D output -</p>\n\n<pre><code>In [68]: df\nOut[68]: \n      A     B\n0  0.44  0.41\n1  0.46  0.47\n2  0.46  0.02\n3  0.85  0.82\n4  0.78  0.76\n\nIn [70]: get_sliding_window(df, 3,return2D=1)\nOut[70]: \narray([[ 0.44,  0.41,  0.46,  0.47,  0.46,  0.02],\n       [ 0.46,  0.47,  0.46,  0.02,  0.85,  0.82],\n       [ 0.46,  0.02,  0.85,  0.82,  0.78,  0.76]])\n</code></pre>\n\n<p>Here's how the 3D views output would look like -</p>\n\n<pre><code>In [69]: get_sliding_window(df, 3,return2D=0)\nOut[69]: \narray([[[ 0.44,  0.41],\n        [ 0.46,  0.47],\n        [ 0.46,  0.02]],\n\n       [[ 0.46,  0.47],\n        [ 0.46,  0.02],\n        [ 0.85,  0.82]],\n\n       [[ 0.46,  0.02],\n        [ 0.85,  0.82],\n        [ 0.78,  0.76]]])\n</code></pre>\n\n<p>Let's time it for views <code>3D</code> output for various window sizes -</p>\n\n<pre><code>In [331]: df = pd.DataFrame(np.random.rand(1000, 3).round(2))\n\nIn [332]: %timeit get_3d_shfted_array(df,2) # @Yakym Pirozhenko's soln\n10000 loops, best of 3: 47.9 \u00b5s per loop\n\nIn [333]: %timeit get_sliding_window(df,2)\n10000 loops, best of 3: 39.2 \u00b5s per loop\n\nIn [334]: %timeit get_3d_shfted_array(df,5) # @Yakym Pirozhenko's soln\n10000 loops, best of 3: 89.9 \u00b5s per loop\n\nIn [335]: %timeit get_sliding_window(df,5)\n10000 loops, best of 3: 39.4 \u00b5s per loop\n\nIn [336]: %timeit get_3d_shfted_array(df,15) # @Yakym Pirozhenko's soln\n1000 loops, best of 3: 258 \u00b5s per loop\n\nIn [337]: %timeit get_sliding_window(df,15)\n10000 loops, best of 3: 38.8 \u00b5s per loop\n</code></pre>\n\n<p>Let's verify that we are indeed getting views -</p>\n\n<pre><code>In [338]: np.may_share_memory(get_sliding_window(df,2), df.values)\nOut[338]: True\n</code></pre>\n\n<p>The almost constant timings with <code>get_sliding_window</code> even across various window sizes suggest the huge benefit of getting the view instead of copying.</p>\n"}], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2008, "favorite_count": 9, "accepted_answer_id": 41406783, "answer_count": 2, "score": 9, "last_activity_date": 1483175057, "creation_date": 1464209323, "last_edit_date": 1483173566, "question_id": 37447347, "link": "https://stackoverflow.com/questions/37447347/dataframe-representation-of-a-rolling-window", "title": "dataframe representation of a rolling window", "body": "<p>I want a dataframe representation of of a rolling window.  Instead of performing some operation on a rolling window, I want a dataframe where the window is represented in another dimension.  This could be as a <code>pd.Panel</code> or <code>np.array</code> or a <code>pd.DataFrame</code> with a <code>pd.MultiIndex</code>.</p>\n\n<h3>Setup</h3>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nnp.random.seed([3,1415])\ndf = pd.DataFrame(np.random.rand(10, 3).round(2), \n                  columns=['A', 'B', 'C'],\n                  index=list('abcdefghij'))\n\nprint df\n\n      A     B     C\na  0.44  0.41  0.46\nb  0.47  0.46  0.02\nc  0.85  0.82  0.78\nd  0.76  0.93  0.83\ne  0.88  0.93  0.72\nf  0.12  0.15  0.20\ng  0.44  0.10  0.28\nh  0.61  0.09  0.84\ni  0.74  0.87  0.69\nj  0.38  0.23  0.44\n</code></pre>\n\n<h3>Expected Output</h3>\n\n<p>For a <code>window = 2</code> I'd expect the result to be.</p>\n\n<pre><code>      0                 1            \n      A     B     C     A     B     C\na  0.44  0.41  0.46  0.47  0.46  0.02\nb  0.47  0.46  0.02  0.85  0.82  0.78\nc  0.85  0.82  0.78  0.76  0.93  0.83\nd  0.76  0.93  0.83  0.88  0.93  0.72\ne  0.88  0.93  0.72  0.12  0.15  0.20\nf  0.12  0.15  0.20  0.44  0.10  0.28\ng  0.44  0.10  0.28  0.61  0.09  0.84\nh  0.61  0.09  0.84  0.74  0.87  0.69\ni  0.74  0.87  0.69  0.38  0.23  0.44\n</code></pre>\n\n<p>I'm not determined to have the layout presented this way, but this is the information I want.  I'm looking for the most efficient way to get at this.</p>\n\n<h3>What I've done so far</h3>\n\n<p>I've experimented with using <code>shift</code> in varying ways but it feels clunky.  This is what I use to produce the output above:</p>\n\n<pre><code>print pd.concat([df, df.shift(-1)], axis=1, keys=[0, 1]).dropna()\n</code></pre>\n"}, {"tags": ["python", "django", "list", "filter", "django-queryset"], "comments": [{"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 3, "creation_date": 1464209824, "post_id": 37447338, "comment_id": 62396922, "body": "<code>q = q1 | q2</code> This creates a brand new queryset, that will select the union of what <code>q1</code> and <code>q2</code> would. When you then go through <code>q</code>, you trigger a new query and load objects from the database again."}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1464209891, "post_id": 37447338, "comment_id": 62396959, "body": "Interesting - so is there an alternative approach that would avoid wiping the temporary attributes I defined?"}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 1, "creation_date": 1464209988, "post_id": 37447338, "comment_id": 62396997, "body": "Ideally, you would add those attributes as part of the query itself, using <code>annotate</code>, perhaps with a <code>Case</code> clause. You wouldn&#39;t even need the two querysets and the merge, just explain the database how to calculate the field by itself."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1464210217, "post_id": 37447338, "comment_id": 62397113, "body": "Or, since this is a really simple calculation, do it in a model method or even directly in the template: <code>{% if q.points == 0 %}loser{else %}winner{% endif %}</code>. Again, then you only need a single query."}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1464210254, "post_id": 37447338, "comment_id": 62397131, "body": "@spectras: Hmmm I&#39;m not sure how to go about that. Again, this is sample code, my actual code uses <code>GenericRelations</code> to <code>GenericForeignKeys</code> in the filtering process, so it get&#39;s a bit too crazy. I&#39;d like to hear more about annotations if that&#39;s a viable option."}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1464210342, "post_id": 37447338, "comment_id": 62397166, "body": "@DanielRoseman: I would love to do that, but as I mentioned the actual code is a fair bit more complex, so using simple <code>if</code> conditions is not an option."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1464210464, "post_id": 37447338, "comment_id": 62397208, "body": "\u0300annotate` logic probably won&#39;t be that helpful then, unless you&#39;re willing to create a stored procedure on the database side"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "edited": false, "score": 0, "creation_date": 1464210644, "post_id": 37447338, "comment_id": 62397293, "body": "Yeah I definitely don&#39;t want additions to the DB, especially since the attributes I am adding are relative to the logged in user."}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1479902408, "post_id": 37447338, "comment_id": 68752208, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/37141743/beginner-sql-if-clause-in-django\">Beginner SQL IF Clause in Django</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1464210337, "post_id": 37447568, "comment_id": 62397164, "body": "Can you also tell me why you don&#39;t want to convert them into lists? You&#39;ve already looped through them so there&#39;s no real benefit to keep it as queryset, right?"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "edited": false, "score": 0, "creation_date": 1464210436, "post_id": 37447568, "comment_id": 62397203, "body": "Moreso in case I need to use filters or templatetags in the future, which may need access to QuerySet methods."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "reply_to_user": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "edited": false, "score": 0, "creation_date": 1464210566, "post_id": 37447568, "comment_id": 62397252, "body": "Then do the filters in the views as much as you can instead of templatetags and convert them into list. I still believe that template could get the final data if you process everything in views.py method."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "reply_to_user": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "edited": false, "score": 0, "creation_date": 1464210570, "post_id": 37447568, "comment_id": 62397254, "body": "@Hybrid&gt; All QuerySet methods return new querysets (or plain objects). This means setting attributes on objects won&#39;t work. You&#39;re down to <code>annotate</code> with potential db-side function, or make it a <a href=\"http://stackoverflow.com/questions/6193556/how-do-python-properties-work\">property</a>"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "edited": false, "score": 0, "creation_date": 1464210685, "post_id": 37447568, "comment_id": 62397312, "body": "@ShangWang: That&#39;s what I guess will happen in the end, unfortunately it seems there&#39;s no way around that"}, {"owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1464210739, "post_id": 37447568, "comment_id": 62397345, "body": "@spectras: I appreciate the information, so I guess I have no choice but to keep it this way until there is the possibility of an alternative non-db-altering solution."}], "tags": [], "owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1464210685, "last_edit_date": 1464210685, "creation_date": 1464210184, "answer_id": 37447568, "question_id": 37447338, "link": "https://stackoverflow.com/questions/37447338/how-to-add-temporary-attribute-to-django-querysets-and-then-merge/37447568#37447568", "title": "How to Add Temporary Attribute to Django Querysets and then Merge", "body": "<p>There's no way you can do this, because when you do:</p>\n\n<pre><code>q = q1 | q2\n</code></pre>\n\n<p>You were executing a new database query. There's no straightforward way for this, you could only query them all together then mark then respectively:</p>\n\n<pre><code>queryset = MyModel.objects.filter(Q(points=0) | Q(points=100))\nfor item in queryset:\n    if q.points  == 0:\n        q.title = 'Loser'\n    elif q.points == 100:\n        q.title = 'Winner'\n</code></pre>\n\n<p>Given that you might have complicated condition about <code>points</code>, you could also create a method for model <code>MyModel</code> then call that function to return a value similar to assign <code>title</code> to it.</p>\n"}], "owner": {"reputation": 5586, "user_id": 3345051, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/100002242913967/picture?type=large", "display_name": "Hybrid", "link": "https://stackoverflow.com/users/3345051/hybrid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1557, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1464578194, "creation_date": 1464209289, "question_id": 37447338, "link": "https://stackoverflow.com/questions/37447338/how-to-add-temporary-attribute-to-django-querysets-and-then-merge", "title": "How to Add Temporary Attribute to Django Querysets and then Merge", "body": "<p>So I am trying to add a temporary attribute to two separate QuerySets from the same model, but it seems that as soon as I try to merge them together, the new fields disappear.</p>\n\n<p>Example:</p>\n\n<pre><code>class IndexView(View):\n    def get(self, request):\n        q1 = MyModel.objects.filter(points=0)\n        q2 = MyModel.objects.filter(points=100)\n\n        for q in q1:\n            q.title = 'Loser'\n            print(q.title)  # Prints 'Loser'\n\n        for q in q2:\n            q.title = 'Winner'\n            print(q.title)  # Prints 'Winner'\n\n        q = q1 | q2  # Merges the two QuerySets together\n\n        for item in q:\n            print(item.title)  # ERROR: \"Title\" is not a field anymore apparently...\n\n        return render(request, 'index.html', {})\n</code></pre>\n\n<p>I have tried another approach that uses <code>.chain()</code> (mentioned in another thread), but that changes the type from <code>QuerySet</code> to <code>List</code>, which I do not want. I will post it below. Is there any way to keep the list as a QuerySet while achieving the same results? Please note that I want the <code>title</code> attribute to be temporary so I can separate items in the template. Also, the <code>points</code> filter is not the actual filter and is actually a lot more complicated, so template tags and model methods are not an option.</p>\n\n<pre><code>from itertools import chain\nfeed = sorted(\n    chain(q1, q2),\n    key=lambda instance: instance.created)\n</code></pre>\n\n<p><code>Django v1.9.6</code> <code>Python v3.4.3</code></p>\n"}, {"tags": ["python", "matplotlib", "pycharm", "anaconda"], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 1288111, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/63a1f5431389fc60c6b0cb132f643a6a?s=128&d=identicon&r=PG", "display_name": "Peter Cogan", "link": "https://stackoverflow.com/users/1288111/peter-cogan"}, "is_accepted": false, "score": 0, "last_activity_date": 1464209990, "creation_date": 1464209990, "answer_id": 37447511, "question_id": 37447276, "link": "https://stackoverflow.com/questions/37447276/issue-with-pycharm-matplotlib-and-anaconda-on-os-x-figure-is-all-black/37447511#37447511", "title": "Issue with PyCharm, Matplotlib and Anaconda on OS X - figure is all black", "body": "<p>well...seems like updating to PyCharm 4.5.5 fixed it...</p>\n"}], "owner": {"reputation": 865, "user_id": 1288111, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/63a1f5431389fc60c6b0cb132f643a6a?s=128&d=identicon&r=PG", "display_name": "Peter Cogan", "link": "https://stackoverflow.com/users/1288111/peter-cogan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464209990, "creation_date": 1464209082, "question_id": 37447276, "link": "https://stackoverflow.com/questions/37447276/issue-with-pycharm-matplotlib-and-anaconda-on-os-x-figure-is-all-black", "title": "Issue with PyCharm, Matplotlib and Anaconda on OS X - figure is all black", "body": "<p>I am using PyCharm Community 4.0.7</p>\n\n<p>I am using Anaconda2 4.0.0</p>\n\n<p>I am using OS X 10.11.4</p>\n\n<p>I have configured PyCharm to use Anaconda in the default settings (and can see the list of modules etc).</p>\n\n<p>When I try a simple test in python console:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nplt.plot([1,2,3,4])\nplt.ylabel('some numbers')\nplt.show()\n</code></pre>\n\n<p>The entire plot window just shows up as a black square. I have been searching around trying to find anyone else with this problem....</p>\n\n<p>BTW - after running the show() command, the interpreter provides the following output to the console:</p>\n\n<pre><code>Backend MacOSX is interactive backend. Turning interactive mode on.\n/Applications/anaconda/lib/python2.7/site-packages/matplotlib/font_manager.py:273: UserWarning: Matplotlib is building the font cache using fc-list. This may take a moment.\n  warnings.warn('Matplotlib is building the font cache using fc-list. This may take a moment.')\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1464208830, "post_id": 37447201, "comment_id": 62396405, "body": "use pattern <code>&#39;\\w\\w:\\w+&#39;</code>. Please note that you should really try to implement it yourself BEFORE going on SO then if you cannot succeed, show what you have tried and ask."}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 0, "creation_date": 1464208903, "post_id": 37447201, "comment_id": 62396449, "body": "replace <code>^[a-z]{2}:|.*</code> by empty string"}, {"owner": {"reputation": 199, "user_id": 4183622, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-n6R2PzyxVRc/AAAAAAAAAAI/AAAAAAAAMpE/U1Hiwp3fBro/photo.jpg?sz=128", "display_name": "user987654321", "link": "https://stackoverflow.com/users/4183622/user987654321"}, "edited": false, "score": 0, "creation_date": 1464208911, "post_id": 37447201, "comment_id": 62396455, "body": "Do you need to use regex?  Couldn&#39;t you split on the <code>:</code> and return the second half if the first half is only 2 chars?"}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 1, "creation_date": 1464208932, "post_id": 37447201, "comment_id": 62396467, "body": "You don&#39;t need regex. Just check for index of &quot;:&quot; Return everything after"}, {"owner": {"reputation": 3485, "user_id": 4043556, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g7cx1.jpg?s=128&g=1", "display_name": "dimitris93", "link": "https://stackoverflow.com/users/4043556/dimitris93"}, "reply_to_user": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1464208963, "post_id": 37447201, "comment_id": 62396486, "body": "@FirebladeDan That doesn&#39;t guarantee that before <code>:</code> I have characters from a to z"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1464209000, "post_id": 37447201, "comment_id": 62396509, "body": "If four characters before the colon mean the string doesn&#39;t pass, splitting on the colon or finding its index aren&#39;t enough."}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1464209064, "post_id": 37447201, "comment_id": 62396532, "body": "@TigerhawkT3 sure it is. Just make sure the colon is at the same index."}], "answers": [{"comments": [{"owner": {"reputation": 3485, "user_id": 4043556, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g7cx1.jpg?s=128&g=1", "display_name": "dimitris93", "link": "https://stackoverflow.com/users/4043556/dimitris93"}, "edited": false, "score": 0, "creation_date": 1464209325, "post_id": 37447277, "comment_id": 62396661, "body": "Why does <code>print re.search(&#39;\\w\\w:(\\w+)&#39;, &#39;road:eu&#39;).group(1)</code> print <code>eu</code> ?"}, {"owner": {"reputation": 7975, "user_id": 3836111, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc8e3526756540925b0536455b280205?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Proske", "link": "https://stackoverflow.com/users/3836111/sebastian-proske"}, "reply_to_user": {"reputation": 3485, "user_id": 4043556, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g7cx1.jpg?s=128&g=1", "display_name": "dimitris93", "link": "https://stackoverflow.com/users/4043556/dimitris93"}, "edited": false, "score": 0, "creation_date": 1464209451, "post_id": 37447277, "comment_id": 62396733, "body": "@Shiro because you miss the anchor <code>^</code>"}, {"owner": {"reputation": 3485, "user_id": 4043556, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g7cx1.jpg?s=128&g=1", "display_name": "dimitris93", "link": "https://stackoverflow.com/users/4043556/dimitris93"}, "edited": false, "score": 0, "creation_date": 1464209491, "post_id": 37447277, "comment_id": 62396751, "body": "Ok. <code>^</code> is the beginning and <code>$</code> is the ending of the string ?"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 3485, "user_id": 4043556, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g7cx1.jpg?s=128&g=1", "display_name": "dimitris93", "link": "https://stackoverflow.com/users/4043556/dimitris93"}, "edited": false, "score": 0, "creation_date": 1464209856, "post_id": 37447277, "comment_id": 62396943, "body": "@Shiro Exactly. You have to use either <code>match</code> or use the anchor character <code>^</code> for &quot;beginning of string. If you just use <code>search</code>, it will find any match within the string. Same for <code>$</code>: Without that, the string could extend after the match."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1464209082, "creation_date": 1464209082, "answer_id": 37447277, "question_id": 37447201, "link": "https://stackoverflow.com/questions/37447201/regex-parse-string-in-python/37447277#37447277", "title": "Regex parse string in python", "body": "<p>You can use a regex like <code>^[a-z]{2}:(\\w+)$</code> and then use <code>group(1)</code> to get the content of the capturing group (<code>(...)</code>):</p>\n\n<pre><code>&gt;&gt;&gt; p = \"^[a-z]{2}:(\\w+)$\"\n&gt;&gt;&gt; re.match(p, \"eu:road\").group(1)\n'road'\n&gt;&gt;&gt; re.match(p, \"road:eu\")\nNone\n</code></pre>\n"}], "owner": {"reputation": 3485, "user_id": 4043556, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g7cx1.jpg?s=128&g=1", "display_name": "dimitris93", "link": "https://stackoverflow.com/users/4043556/dimitris93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3729, "favorite_count": 0, "accepted_answer_id": 37447277, "answer_count": 1, "score": -2, "last_activity_date": 1464209082, "creation_date": 1464208764, "question_id": 37447201, "link": "https://stackoverflow.com/questions/37447201/regex-parse-string-in-python", "title": "Regex parse string in python", "body": "<p>I have various strings. I want to check if a string is firstly in the format of <code>xy:someword</code> and then retrieve the <code>someword</code> part. <code>xy</code> should be characters from a to z. </p>\n\n<p>For example:</p>\n\n<p><code>eu:road</code> should give me <code>road</code></p>\n\n<p><code>somestring 100</code> should give me <code>None</code></p>\n\n<p><code>road:eu</code> should give me <code>None</code></p>\n\n<p>How can I implement this ?</p>\n"}, {"tags": ["python", "json", "django"], "comments": [{"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1464208703, "post_id": 37447091, "comment_id": 62396345, "body": "CustomModel.__dict__ gives you a dict proxy. May be that is what you want ?"}, {"owner": {"reputation": 1043, "user_id": 1881393, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/16ec00531e3caec532b22e6f6acbeece?s=128&d=identicon&r=PG&f=1", "display_name": "fstopzero", "link": "https://stackoverflow.com/users/1881393/fstopzero"}, "reply_to_user": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1464209177, "post_id": 37447091, "comment_id": 62396586, "body": "that  doesn&#39;t list the values in string form, but in hex. is there a way to pass in the string form?"}, {"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1464209364, "post_id": 37447091, "comment_id": 62396688, "body": "There is no straightforward way actually. there is CustomModel._meta.get_fields() which again gives a similar result"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1464209829, "post_id": 37447091, "comment_id": 62396925, "body": "If the serializers give you a list with a dict in it, why don&#39;t you just take the dict that&#39;s in the list and send that?"}], "owner": {"reputation": 1043, "user_id": 1881393, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/16ec00531e3caec532b22e6f6acbeece?s=128&d=identicon&r=PG&f=1", "display_name": "fstopzero", "link": "https://stackoverflow.com/users/1881393/fstopzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1464209461, "creation_date": 1464208335, "last_edit_date": 1495535317, "question_id": 37447091, "link": "https://stackoverflow.com/questions/37447091/using-djangos-to-dict-function", "title": "Using Django&#39;s to_dict function", "body": "<p>I'm able to successfully serialize my model objects using django serializers, but want a dictionary, not a list with a dictionary in it.  I naturally googled and read other Stack Overflow answers, but I don't understand how to implement the solutions.  This is a basic question, but I'm learning.</p>\n\n<p>I'm trying to send models to Keen.io, and when using Django's serializer, am getting a list with objects, which yields the following error:</p>\n\n<pre><code>{u'message': u'An event should be a JSON object of properties.', u'error_code': u'InvalidEventError'}\n</code></pre>\n\n<p>So I'm trying to get a proper JSON object.</p>\n\n<p>Here's my model:</p>\n\n<pre><code>class CustomModel(models.Model):\n    name = models.CharField(max_length = 50)\n    location = models.CharField(max_length = 50)\n    birthday = models.DateField()\n</code></pre>\n\n<p>I've been looking at some of the built in Django options as described in <a href=\"https://stackoverflow.com/questions/21925671/convert-django-model-object-to-dict-with-all-of-the-fields-intact#21925671\">this post</a>, but I don't understand how to use them, and I'd like to. So if some folks could address a couple of questions:</p>\n\n<p>The function to_dict() seems to be used only for instances? Can it be used for a full Model? When I try, I get an Attribute error. How can I use it to render my model as a dict? Will that get me what I need?</p>\n"}, {"tags": ["python", "turtle-graphics"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1464208551, "post_id": 37447069, "comment_id": 62396246, "body": "have you tried <code>&#39;return&#39;</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1536466818, "post_id": 37841040, "comment_id": 91431164, "body": "This generates a <code>bad event type or keysym &quot;return&quot;</code> error, needs to be <code>&#39;Return&#39;</code>."}], "tags": [], "owner": {"reputation": 75, "user_id": 6468207, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204788056101693/picture?type=large", "display_name": "Dath_Vader", "link": "https://stackoverflow.com/users/6468207/dath-vader"}, "is_accepted": false, "score": 0, "last_activity_date": 1466008471, "creation_date": 1466008471, "answer_id": 37841040, "question_id": 37447069, "link": "https://stackoverflow.com/questions/37447069/turtle-onkey-enter-key/37841040#37841040", "title": "Turtle Onkey - Enter Key", "body": "<pre><code>turtle.onkey(check, 'return')\n</code></pre>\n\n<p>This should do it.</p>\n"}, {"tags": [], "owner": {"reputation": 1833, "user_id": 2333621, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/5FUd6.jpg?s=128&g=1", "display_name": "hexicle", "link": "https://stackoverflow.com/users/2333621/hexicle"}, "is_accepted": false, "score": 1, "last_activity_date": 1536448517, "creation_date": 1536448517, "answer_id": 52240110, "question_id": 37447069, "link": "https://stackoverflow.com/questions/37447069/turtle-onkey-enter-key/52240110#52240110", "title": "Turtle Onkey - Enter Key", "body": "<p>Use <code>'Return'</code>\nFor example, <code>turtle.onkey(check, 'Return')</code>.</p>\n"}], "owner": {"reputation": 327, "user_id": 6194302, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/55c1c6c1398f14ca01e5af4ac4307320?s=128&d=identicon&r=PG&f=1", "display_name": "A Display Name", "link": "https://stackoverflow.com/users/6194302/a-display-name"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3128, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1536448517, "creation_date": 1464208267, "last_edit_date": 1464208583, "question_id": 37447069, "link": "https://stackoverflow.com/questions/37447069/turtle-onkey-enter-key", "title": "Turtle Onkey - Enter Key", "body": "<p>Simple question, what is the term for the <kbd>Enter</kbd> key for <code>Turtle.Onkey()</code></p>\n\n<p>I've tried <code>turtle.onkey(check, 'Enter')</code> but I get the error:</p>\n\n<pre><code>TclError: bad event type or keysym \"Enter\"\n</code></pre>\n\n<p>So, I think that I have entered the wrong word for 'Enter'</p>\n\n<p>Just in-case you don't know what the <kbd>Enter</kbd> key, here it is :P</p>\n\n<p><a href=\"https://i.stack.imgur.com/C7f0d.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C7f0d.jpg\" alt=\"The Enter Key\"></a></p>\n"}, {"tags": ["python", "pandas", "matplotlib", "bar-chart"], "comments": [{"owner": {"reputation": 3364, "user_id": 1884171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uisYs.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/1884171/andrew"}, "edited": false, "score": 1, "creation_date": 1464208725, "post_id": 37447056, "comment_id": 62396352, "body": "Thank you for including a simple example. It would be even better if we could copy and paste the code to generate the DataFrame. You should also include the code line you used to create the bar chart."}, {"owner": {"reputation": 365, "user_id": 3221348, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/100000753643055/picture?type=large", "display_name": "michAmir", "link": "https://stackoverflow.com/users/3221348/michamir"}, "reply_to_user": {"reputation": 3364, "user_id": 1884171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uisYs.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/1884171/andrew"}, "edited": false, "score": 0, "creation_date": 1464209097, "post_id": 37447056, "comment_id": 62396545, "body": "Thanks. Ive added the code to the code block."}], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 3221348, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/100000753643055/picture?type=large", "display_name": "michAmir", "link": "https://stackoverflow.com/users/3221348/michamir"}, "edited": false, "score": 0, "creation_date": 1464211539, "post_id": 37447793, "comment_id": 62397639, "body": "Thank you andrew. The output is exactly what im looking for. However, I get an AttributeError saying &#39;DataFrame&#39; object has no attribute &#39;shap&#39;."}, {"owner": {"reputation": 365, "user_id": 3221348, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/100000753643055/picture?type=large", "display_name": "michAmir", "link": "https://stackoverflow.com/users/3221348/michamir"}, "edited": false, "score": 1, "creation_date": 1464211810, "post_id": 37447793, "comment_id": 62397754, "body": "I changed shap to shape and it works. Thanks a lot!!"}, {"owner": {"reputation": 3364, "user_id": 1884171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uisYs.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/1884171/andrew"}, "reply_to_user": {"reputation": 365, "user_id": 3221348, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/100000753643055/picture?type=large", "display_name": "michAmir", "link": "https://stackoverflow.com/users/3221348/michamir"}, "edited": false, "score": 0, "creation_date": 1464213209, "post_id": 37447793, "comment_id": 62398327, "body": "@michAmir woops. Glad you caught it. I fixed it in the example."}, {"owner": {"reputation": 365, "user_id": 3221348, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/100000753643055/picture?type=large", "display_name": "michAmir", "link": "https://stackoverflow.com/users/3221348/michamir"}, "edited": false, "score": 0, "creation_date": 1464270763, "post_id": 37447793, "comment_id": 62424544, "body": "sorry to bother you again. Im trying to show the value on the right from each bar. But im struggling with it. Can you help me out again?"}, {"owner": {"reputation": 3364, "user_id": 1884171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uisYs.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/1884171/andrew"}, "reply_to_user": {"reputation": 365, "user_id": 3221348, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/100000753643055/picture?type=large", "display_name": "michAmir", "link": "https://stackoverflow.com/users/3221348/michamir"}, "edited": false, "score": 0, "creation_date": 1464278413, "post_id": 37447793, "comment_id": 62430241, "body": "You can easily do this by reverse engineering the <code>autolablel()</code> from the &quot;Matlab bar charts&quot; link I posted above. Look at how I changed the version I posted in my code above. Just a matter of rotating the context by 90 degrees."}], "tags": [], "owner": {"reputation": 3364, "user_id": 1884171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uisYs.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/1884171/andrew"}, "is_accepted": true, "score": 8, "last_activity_date": 1464278304, "last_edit_date": 1495542815, "creation_date": 1464211111, "answer_id": 37447793, "question_id": 37447056, "link": "https://stackoverflow.com/questions/37447056/different-colors-for-rows-in-barh-chart-from-pandas-dataframe-python/37447793#37447793", "title": "different colors for rows in barh chart from pandas dataframe python", "body": "<p>It appears that Pandas only supports using the <a href=\"http://pandas.pydata.org/pandas-docs/stable/visualization.html#colormaps\" rel=\"nofollow noreferrer\">colormap</a> attribute, which applies the same map to each row in your chart, e.g.:</p>\n\n<pre><code>df.plot(kind='barh', colormap='RdBu')\n</code></pre>\n\n<p>For your purposes, you need to use Matplotlib directly. </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\n\ndf = pd.DataFrame({'a':[23, 13, 20, 17, 14, 22],\n                   'b':[25, 21, 19, 14, 23, 11]},\n                   index=['bob', 'john', 'paul', 'david', 'michael', 'neil'])\n\na_vals = df.a\nb_vals = df.b\nind = np.arange(df.shape[0])\nwidth = 0.35\n\n# Set the colors\ncolors = ['b', 'g', 'r', 'c', 'm', 'y', 'g']\n\n\ndef autolabel(bars):\n    # attach some text labels\n    for bar in bars:\n        width = bar.get_width()\n        ax.text(width*0.95, bar.get_y() + bar.get_height()/2,\n                '%d' % int(width),\n                ha='right', va='center')\n\n# make the plots\nfig, ax = plt.subplots()\na = ax.barh(ind, a_vals, width, color = colors) # plot a vals\nb = ax.barh(ind + width, b_vals, width, color = colors, alpha=0.5)  # plot b vals\nax.set_yticks(ind + width)  # position axis ticks\nax.set_yticklabels(df.index)  # set them to the names\nax.legend((a[0], b[0]), ['a', 'b'], loc='center right')\n\nautolabel(a)\nautolabel(b)\n\nplt.show()\n</code></pre>\n\n<p>Please refer to the following examples:</p>\n\n<p>1 - <a href=\"http://matplotlib.org/examples/api/barchart_demo.html\" rel=\"nofollow noreferrer\">matplotlib bar charts</a></p>\n\n<p>2-  <a href=\"https://stackoverflow.com/questions/18973404/setting-different-bar-color-in-matplotlib-python\">changing individual colors on bar chart</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/GRdGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GRdGG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 365, "user_id": 3221348, "user_type": "registered", "accept_rate": 29, "profile_image": "https://graph.facebook.com/100000753643055/picture?type=large", "display_name": "michAmir", "link": "https://stackoverflow.com/users/3221348/michamir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11467, "favorite_count": 1, "accepted_answer_id": 37447793, "answer_count": 1, "score": 6, "last_activity_date": 1464278304, "creation_date": 1464208238, "last_edit_date": 1464209068, "question_id": 37447056, "link": "https://stackoverflow.com/questions/37447056/different-colors-for-rows-in-barh-chart-from-pandas-dataframe-python", "title": "different colors for rows in barh chart from pandas dataframe python", "body": "<p>I have the following pandas dataframe:</p>\n\n<pre><code>              a   b\n    bob      23  25\n    john     13  21\n    paul     20  19\n    david    17  14\n    michael  14  24\n    neil     22  11 \n\n    df.plot(kind='barh')\n</code></pre>\n\n<p>I used the pandas plot function.\nI want to make a barh chart with all the rows(names) having a different colors is there a way to do this? </p>\n\n<p><a href=\"https://i.stack.imgur.com/4A1Iw.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4A1Iw.png\" alt=\"enter image description here\"></a> I need all person to have different colored bars. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 5, "creation_date": 1464208018, "post_id": 37446975, "comment_id": 62395957, "body": "it should be <code>ls.append</code> not <code>list.append</code>. And consequently, you should be iterating through <code>ls</code> in your second for loop, not <code>list</code>"}, {"owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "edited": false, "score": 0, "creation_date": 1464208460, "post_id": 37446975, "comment_id": 62396206, "body": "Also, consider using variable names reflecting what they contain/represent, not just a variation from their type. For example: <code>hours_list</code> and <code>hours_count_dict</code>"}, {"owner": {"reputation": 7, "user_id": 5310934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5602dbaccacd02c36012ea636b555964?s=128&d=identicon&r=PG&f=1", "display_name": "dianalh1212", "link": "https://stackoverflow.com/users/5310934/dianalh1212"}, "edited": false, "score": 0, "creation_date": 1464219515, "post_id": 37446975, "comment_id": 62400299, "body": "Thanks for you guys answers!!!!"}], "answers": [{"comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 1, "creation_date": 1464208702, "post_id": 37447112, "comment_id": 62396343, "body": "Its not that you CANT do it, it&#39;s more that you SHOULDNT do it. Overriding those words (<code>list</code>, <code>str</code>, etc) are actually allowed and do not throw errors, but you then lose the ability to use those words as they are (which are class decorators)"}, {"owner": {"reputation": 285, "user_id": 5116833, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4ce5802b57d6f980e717d03e389a292?s=128&d=identicon&r=PG&f=1", "display_name": "yarz-tech", "link": "https://stackoverflow.com/users/5116833/yarz-tech"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1465414622, "post_id": 37447112, "comment_id": 62896611, "body": "Depending on your editor, you are not allowed and an error is thrown."}], "tags": [], "owner": {"reputation": 285, "user_id": 5116833, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4ce5802b57d6f980e717d03e389a292?s=128&d=identicon&r=PG&f=1", "display_name": "yarz-tech", "link": "https://stackoverflow.com/users/5116833/yarz-tech"}, "is_accepted": true, "score": 1, "last_activity_date": 1464208411, "creation_date": 1464208411, "answer_id": 37447112, "question_id": 37446975, "link": "https://stackoverflow.com/questions/37446975/descriptor-append-requires-a-list-object-but-received-a-str/37447112#37447112", "title": "descriptor &#39;append&#39; requires a &#39;list&#39; object but received a &#39;str&#39;", "body": "<p>You cant append to \"list\".  List is an \"off limit word\" for python, just like you cant call a variable str.  As one of the comments said, I think you mean ls.append not list.append.</p>\n"}], "owner": {"reputation": 7, "user_id": 5310934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5602dbaccacd02c36012ea636b555964?s=128&d=identicon&r=PG&f=1", "display_name": "dianalh1212", "link": "https://stackoverflow.com/users/5310934/dianalh1212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10852, "favorite_count": 0, "closed_date": 1464367776, "accepted_answer_id": 37447112, "answer_count": 1, "score": 0, "last_activity_date": 1464208411, "creation_date": 1464207919, "question_id": 37446975, "link": "https://stackoverflow.com/questions/37446975/descriptor-append-requires-a-list-object-but-received-a-str", "closed_reason": "Not suitable for this site", "title": "descriptor &#39;append&#39; requires a &#39;list&#39; object but received a &#39;str&#39;", "body": "<p>I am doing an assignment in coursera in python course, \nhere is the problem:\n10.2 Write a program to read through the mbox-short.txt and figure out the distribution by hour of the day for each of the messages. You can pull the hour out from the 'From ' line by finding the time and then splitting the string a second time using a colon.\nFrom stephen.marquard@uct.ac.za Sat Jan  5 09:14:16 2008\nOnce you have accumulated the counts for each hour, print out the counts, sorted by hour as shown below. \nI write this code but there is an error in line 11 and I can not figure it out, hope someone help me !\nthe error is :descriptor 'append' requires a 'list' object but received a 'str  </p>\n\n<pre><code>name = raw_input(\"Enter file:\")\nif len(name) &lt; 1 : name = \"mbox-short.txt\"\nhandle = open(name)\nls = list()\ndic = dict()\nfor line in handle:\n    word = line.rstrip().split()\n    if word[0] == 'From':\n        piece = word[5].split(':')\n        hour = piece[0]\n        list.append(hour)  ####there is a problem\nfor element in list:\n    dic[element] = dic.get(element,0) + 1\nprint dic\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 1766, "user_id": 6320411, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6683418aa1edf3de02e886f07ebecf26?s=128&d=identicon&r=PG&f=1", "display_name": "Neill Herbst", "link": "https://stackoverflow.com/users/6320411/neill-herbst"}, "is_accepted": true, "score": 11, "last_activity_date": 1464336901, "creation_date": 1464336901, "answer_id": 37478288, "question_id": 37446970, "link": "https://stackoverflow.com/questions/37446970/how-to-change-figure-canvas-size-in-matplotlib-without-altering-plots/37478288#37478288", "title": "how to change figure canvas size in matplotlib without altering plots?", "body": "<p>Add <code>plt.subplots_adjust()</code>:</p>\n\n<pre><code>f = plt.figure(figsize=(5,5))\nplt.subplot(2, 2, 1)\n# this \"A\" is clipped in the plot\nplt.annotate(\"A\",\n             xy = (-0.25, 1.1),\n             xytext = (-0.25, 1.1),\n             xycoords = 'axes fraction',\n             textcoords = 'axes fraction',\n             fontsize=30)\nplt.subplot(2, 2, 2)\nplt.subplot(2, 2, 3)\nplt.subplot(2, 2, 4)\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nplt.show()\n</code></pre>\n\n<p>just make sure to not put <code>plt.tight_layout</code> after <code>plt.subplots_adjust</code> as this will overwrite the changes. </p>\n\n<p>Also see <strong><a href=\"http://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.subplots_adjust\" rel=\"noreferrer\">this</a></strong> page on adjusting subplots.</p>\n\n<p>The figure produced using the above code looks like this:\n<a href=\"https://i.stack.imgur.com/BbMOM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BbMOM.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 887, "user_id": 5768196, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f83dedb10a880aee746ade095acd822a?s=128&d=identicon&r=PG&f=1", "display_name": "mvd", "link": "https://stackoverflow.com/users/5768196/mvd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6603, "favorite_count": 0, "accepted_answer_id": 37478288, "answer_count": 1, "score": 4, "last_activity_date": 1464336901, "creation_date": 1464207907, "last_edit_date": 1464210108, "question_id": 37446970, "link": "https://stackoverflow.com/questions/37446970/how-to-change-figure-canvas-size-in-matplotlib-without-altering-plots", "title": "how to change figure canvas size in matplotlib without altering plots?", "body": "<p>i would like to annotate panels of figures i am making with panel labels (\"A\", \"B\", ...\") in matplotlib. for example i'd like to annotate a set of subplots with a large \"A\" in the upper left hand corner of the figure as in code below. how can i change the figure canvas to make this \"A\" visible? </p>\n\n<pre><code>f = plt.figure(figsize=(5,5))\nplt.subplot(2, 2, 1)\n# this \"A\" is clipped in the plot\nplt.annotate(\"A\",\n             xy = (-0.25, 1.1),\n             xytext = (-0.25, 1.1),\n             xycoords = 'axes fraction',\n             textcoords = 'axes fraction',\n             fontsize=30)\nplt.subplot(2, 2, 2)\nplt.subplot(2, 2, 3)\nplt.subplot(2, 2, 4)\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tv6Oh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tv6Oh.png\" alt=\"how to make room for text label by increasing padding around subplots?\"></a></p>\n\n<p>is there a way to add \"padding\" to the left of the subplots, so that they are pushed to the right of the figure, without changing the <code>figsize</code> parameter? and without rescaling the plots? there is enough room in the canvas to fit the label and the subplots as they are.</p>\n"}, {"tags": ["python", "regex", "xml"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 5, "creation_date": 1464208164, "post_id": 37446964, "comment_id": 62396037, "body": "<a href=\"http://stackoverflow.com/a/1732454/5323213\">don&#39;t use regex to parse xml</a>"}, {"owner": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1464209126, "post_id": 37446964, "comment_id": 62396553, "body": "@RNar: that was <i>exactly</i> the SO answer I was going to link to. Still one of the greatest answers of all time! <b><i>HE COMES!</i></b>"}, {"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1464209371, "post_id": 37446964, "comment_id": 62396690, "body": "And yet people still test their fates and attempt to join together the forces of regex and XML. Don&#39;t do it people, don&#39;t encourage the spawning."}], "answers": [{"comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464209848, "post_id": 37447108, "comment_id": 62396940, "body": "BeautifulSoup is specialized in dealing with poorly-formatted HTML. Since the input here is (expected to be) well-formed XML (not HTML at all), it&#39;s a rather suboptimal choice."}], "tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": true, "score": 1, "last_activity_date": 1464208392, "creation_date": 1464208392, "answer_id": 37447108, "question_id": 37446964, "link": "https://stackoverflow.com/questions/37446964/simple-regex-for-simple-xml-string/37447108#37447108", "title": "Simple regex for simple xml string", "body": "<p>Use a parser, ie <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow\"><code>BeautifulSoup</code></a> instead:</p>\n\n<pre><code>import re\nfrom bs4 import BeautifulSoup\n\ns = '&lt;tag&gt;uTSqUYRR8gapple&lt;/tag&gt;&lt;tag&gt;K9VGTZM3h8&lt;/tag&gt;&lt;tag&gt;pearTYysnMXMUc&lt;/tag&gt;&lt;tag&gt;udv5NZQdpzpearz5a4oS85mD&lt;/tag&gt;'\nsoup = BeautifulSoup(s, \"html5lib\")\ntags = soup.find_all(text=re.compile(r'pear'))\nprint tags\n# [u'pearTYysnMXMUc', u'udv5NZQdpzpearz5a4oS85mD']\n</code></pre>\n\n<p>This sets up the dom and finds all tags where your text matches the regex <code>pear</code> (looking for \"pear\" literally).<br>\nSee <a href=\"http://ideone.com/LUo9T7\" rel=\"nofollow\"><strong>a demo on ideone.com</strong></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1464210310, "creation_date": 1464210310, "answer_id": 37447607, "question_id": 37446964, "link": "https://stackoverflow.com/questions/37446964/simple-regex-for-simple-xml-string/37447607#37447607", "title": "Simple regex for simple xml string", "body": "<p>Using a proper XML library will let you use XPath to encapsulate your query. For instance:</p>\n\n<pre><code>s = '&lt;root&gt;&lt;tag&gt;uTSqUYRR8gapple&lt;/tag&gt;&lt;tag&gt;K9VGTZM3h8&lt;/tag&gt;&lt;tag&gt;pearTYysnMXMUc&lt;/tag&gt;&lt;tag&gt;udv5NZQdpzpearz5a4oS85mD&lt;/tag&gt;&lt;/root&gt;'\n\nimport lxml.etree\nroot = lxml.etree.fromstring(s)\nresult = root.xpath('//tag[contains(., \"pear\")][last()]/text()')\n</code></pre>\n\n<p>...for which <code>result</code> will contain, for the input data given, <code>['udv5NZQdpzpearz5a4oS85mD']</code>. In this case you don't need to do the search for the last item in your own code, but can rely on the XPath engine (implemented in C, as part of libxml) to do that for you.</p>\n"}], "owner": {"reputation": 657, "user_id": 4559570, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1b0485dc488255e54494691d832e6e12?s=128&d=identicon&r=PG&f=1", "display_name": "Gary In", "link": "https://stackoverflow.com/users/4559570/gary-in"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 37447108, "answer_count": 2, "score": -2, "last_activity_date": 1464210310, "creation_date": 1464207889, "last_edit_date": 1464209101, "question_id": 37446964, "link": "https://stackoverflow.com/questions/37446964/simple-regex-for-simple-xml-string", "title": "Simple regex for simple xml string", "body": "<p>I have a string consisting of elements. Each element can contain \"pear\" or \"apple\". I can get all the elements using:</p>\n\n<pre><code>s = '&lt;tag&gt;uTSqUYRR8gapple&lt;/tag&gt;&lt;tag&gt;K9VGTZM3h8&lt;/tag&gt;&lt;tag&gt;pearTYysnMXMUc&lt;/tag&gt;&lt;tag&gt;udv5NZQdpzpearz5a4oS85mD&lt;/tag&gt;'\nimport re; re.findall(\"&lt;tag&gt;.*?&lt;/tag&gt;\", s)\n</code></pre>\n\n<p>However, I want to get the last element that contains pear. What would the easiest/quickest way to do this? Is this a good way:</p>\n\n<pre><code>list = re.findall(\"&lt;tag&gt;.*?&lt;/tag&gt;\", s)\nlist.reverse()\nlast = next(x for x in list if re.match('.*pear', x))\nre.match('&lt;tag&gt;(.*)&lt;/tag&gt;', last).group(1)\n</code></pre>\n\n<p>or should I use a parser instead?</p>\n"}, {"tags": ["python", "arrays", "pandas", "nlp"], "comments": [{"owner": {"reputation": 650, "user_id": 5472184, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10207779348992508/picture?type=large", "display_name": "Danny David Leybzon", "link": "https://stackoverflow.com/users/5472184/danny-david-leybzon"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1464210706, "post_id": 37446943, "comment_id": 62397328, "body": "The input is a list of strings, yes. And the output should be a Pd DF. I&#39;ll edit the question to make that more clear"}], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1464211417, "last_edit_date": 1464211417, "creation_date": 1464210839, "answer_id": 37447737, "question_id": 37446943, "link": "https://stackoverflow.com/questions/37446943/if-i-have-a-list-of-character-strings-which-are-words-separated-by-commas-how-d/37447737#37447737", "title": "If I have a list of character strings which are words separated by commas, how do I convert that into a DataFrame with word pairings and frequencies?", "body": "<p>You could iterate through the strings, split them on commas followed by a space, and use <code>IT.combinations</code> to form all pairs of words. A <code>collections.Counter</code> could be used to count the frequency of the pairs. And finally, the desired DataFrame could be built from the items in the <code>Counter</code>:</p>\n\n<pre><code>import collections\nimport itertools as IT\nimport pandas as pd\n\ndata = ['word1, word2, word3',\n        'word2, word3',\n        'word4, word3, word1',\n        'word2, word4']\n\nresult = collections.Counter()\nfor item in data:\n    for pair in IT.combinations(item.split(', '), 2):\n        result[tuple(sorted(pair))] += 1\n\ndf = pd.DataFrame([pair+(freq,) for pair, freq in result.items()], columns=['source', 'target', 'freqency'])\nprint(df)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>  source target  freqency\n0  word3  word4         1\n1  word2  word4         1\n2  word1  word3         2\n3  word1  word2         1\n4  word1  word4         1\n5  word2  word3         2\n</code></pre>\n"}], "owner": {"reputation": 650, "user_id": 5472184, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/10207779348992508/picture?type=large", "display_name": "Danny David Leybzon", "link": "https://stackoverflow.com/users/5472184/danny-david-leybzon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 37447737, "answer_count": 1, "score": 0, "last_activity_date": 1464211627, "creation_date": 1464207815, "last_edit_date": 1464211627, "question_id": 37446943, "link": "https://stackoverflow.com/questions/37446943/if-i-have-a-list-of-character-strings-which-are-words-separated-by-commas-how-d", "title": "If I have a list of character strings which are words separated by commas, how do I convert that into a DataFrame with word pairings and frequencies?", "body": "<p>Meta: Sorry about the badly phrased title, I'm really not sure how to describe what I'm asking in just one sentence.</p>\n\n<p>I have a list of strings which looks like this:</p>\n\n<pre><code>'word1, word2, word3'\n'word2, word3'\n'word4, word3, word1'\n'word2, word4'\n</code></pre>\n\n<p>From that array I want to generate a network graph, which requires my data to be structured as a Panda's DataFrame like this:</p>\n\n<pre><code>source, target, frequency\nword1, word2, 1\nword1, word3, 1\nword2, word3, 2\nword2, word4, 1\n</code></pre>\n\n<p>etc.</p>\n\n<p>How would I go about doing this?</p>\n"}, {"tags": ["python", "arrays", "bash"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 3, "creation_date": 1464207867, "post_id": 37446911, "comment_id": 62395866, "body": "Don&#39;t use <code>shell=True</code> unless you have a compelling reason and know exactly <i>why</i> you&#39;re using it; it adds substantial complexity and security exposure."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464208622, "post_id": 37446911, "comment_id": 62396295, "body": "...also, <code>${HSPACE[@]}</code> -- while not useful here because HSPACE isn&#39;t inherited (arrays <i>can&#39;t</i> be exported through the environment, so it&#39;s not just a matter of syntax but feasibility) -- is incorrect syntax to expand an array&#39;s contents while keeping the original division between element boundaries; it behaves precisely identically to <code>${HSPACE[*]}</code>, which combines elements of the array with the first character of <code>IFS</code> and then subjects the result to string-splitting and globbing. To avoid this, you need to quote: <code>&quot;${HSPACE[@]}&quot;</code>."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464208672, "post_id": 37446911, "comment_id": 62396327, "body": "(...well, I say &quot;can&#39;t&quot;. Not natively -- you can generate a string which <code>eval</code>s to array contents, but the shell receiving and evaluating it needs to trust the source of that value, making it a poor practice and prone to creating shell injection vulnerabilities if not done properly)."}, {"owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464218199, "post_id": 37446911, "comment_id": 62399981, "body": "@CharlesDuffy The solution below works fine. If we are to send multiple variables from python to the shell script, is it possible to proceed in the same way?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464227049, "post_id": 37446911, "comment_id": 62402025, "body": "You can pass multiple arrays by prefixing each with the length -- or putting an array-specific sigil before each element. For instance, <code>H:0.01 H:0.009 H:0.008 H:0.007 V:1.23 V:4.56</code> is an example of what the latter argv would look like; the shell script could then just iterate over <code>&quot;$@&quot;</code> and assign each item to the correct array based on its prefix."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1464227327, "post_id": 37446911, "comment_id": 62402089, "body": "...also, you might look at the answer to <a href=\"http://stackoverflow.com/questions/9898939/handling-long-edit-lists-in-xmlstarlet\" title=\"handling long edit lists in xmlstarlet\">stackoverflow.com/questions/9898939/&hellip;</a> for an example of the bash parts of the former (length-prefix) approach for passing arrays."}], "answers": [{"comments": [{"owner": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1464212299, "post_id": 37446944, "comment_id": 62397964, "body": "This is a good answer, I guess the only think you didn&#39;t mention is the ability to set environment variables for the subprocess. Of cause setting complex variables as arrays are not possible. But might be worth mentioning anyway."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 41196, "user_id": 887539, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5baef9617bdee6db2f534c118bcbccee?s=128&d=identicon&r=PG", "display_name": "andlrc", "link": "https://stackoverflow.com/users/887539/andlrc"}, "edited": false, "score": 0, "creation_date": 1464212480, "post_id": 37446944, "comment_id": 62398046, "body": "@andlrc, <i>nod</i> -- I mentioned that in a comment in the question, but since passing an arbitrary array that way requires <code>eval</code> to unpack it, I&#39;m hesitant to put that code in an answer and thereby endorse its use. (Though one could also, say, base64-encode a NUL-delimited stream in the environment, but that&#39;s just getting silly)."}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 4, "last_activity_date": 1464208118, "last_edit_date": 1464208118, "creation_date": 1464207816, "answer_id": 37446944, "question_id": 37446911, "link": "https://stackoverflow.com/questions/37446911/how-to-pass-an-array-from-python-to-shell-script-and-execute-it/37446944#37446944", "title": "How to pass an array from python to shell script and execute it?", "body": "<p>The easy answer is to pass each array entry as a literal argv entry:</p>\n\n<pre><code>subprocess.call(['./arraytest'] + [str(s) for s in HSPACE], shell=False)\n</code></pre>\n\n<p>...thereafter...</p>\n\n<pre><code>#!/bin/bash\nprintf 'hspace array entry: %q\\n' \"$@\"\n</code></pre>\n\n<hr>\n\n<p>Another approach is to pass an array as a NUL-delimited stream on stdin:</p>\n\n<pre><code>p = subprocess.Popen(['./arraytest'], shell=False, stdin=subprocess.PIPE)\np.communicate('\\0'.join(str(n) for n in HSPACE) + '\\0')\n</code></pre>\n\n<p>...and, in your shell:</p>\n\n<pre><code>#!/bin/bash\narr=( )\nwhile IFS= read -r -d '' entry; do\n  arr+=( \"$entry\" )\ndone\n\nprintf 'hspace array entry: %q\\n' \"${arr[@]}\"\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 6343243, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0b704a80dea799c6c8031e27be93be58?s=128&d=identicon&r=PG&f=1", "display_name": "Aspro", "link": "https://stackoverflow.com/users/6343243/aspro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1263, "favorite_count": 0, "accepted_answer_id": 37446944, "answer_count": 1, "score": 1, "last_activity_date": 1464208499, "creation_date": 1464207685, "last_edit_date": 1464208499, "question_id": 37446911, "link": "https://stackoverflow.com/questions/37446911/how-to-pass-an-array-from-python-to-shell-script-and-execute-it", "title": "How to pass an array from python to shell script and execute it?", "body": "<p>I have an array <code>HSPACE</code> which is defined inside a python script. I am trying to pass this array to a shell script \"arraytest\" and execute it from python itself. I am trying with the following piece of code but it doesnt seem to be working:</p>\n\n<pre><code>HSPACE=[0.01, 0.009, 0.008, 0.007]\nsubprocess.call([\"./arraytest\"], HSPACE, shell=True)\n</code></pre>\n\n<p>The content of the shell script is:</p>\n\n<pre><code>#!/bin/bash\nfor i in ${HSPACE[@]}\ndo\necho $i\ndone\n</code></pre>\n"}, {"tags": ["python", "ubuntu", "pip"], "answers": [{"tags": [], "owner": {"reputation": 781, "user_id": 3611239, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1304cfcf6e3d46bb818f8f18ea038a2b?s=128&d=identicon&r=PG", "display_name": "Eugene Yan", "link": "https://stackoverflow.com/users/3611239/eugene-yan"}, "is_accepted": false, "score": 0, "last_activity_date": 1466940652, "creation_date": 1466940652, "answer_id": 38038071, "question_id": 37446883, "link": "https://stackoverflow.com/questions/37446883/cant-create-virtual-env-with-pip-in-ubuntu-no-module-named-urllib3/38038071#38038071", "title": "Can&#39;t create virtual env with pip in Ubuntu - No module named urllib3", "body": "<p>This seems to be an issue specific to using Anaconda. You can create a virtualenv with the default python: </p>\n\n<pre><code>mkvirtualenv test -p /usr/bin/python\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 1136433, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/113a8990bad79b654009b6612134f4c3?s=128&d=identicon&r=PG", "display_name": "estemendoza", "link": "https://stackoverflow.com/users/1136433/estemendoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1466940652, "creation_date": 1464207602, "last_edit_date": 1495535348, "question_id": 37446883, "link": "https://stackoverflow.com/questions/37446883/cant-create-virtual-env-with-pip-in-ubuntu-no-module-named-urllib3", "title": "Can&#39;t create virtual env with pip in Ubuntu - No module named urllib3", "body": "<p>I am having the following problem when trying to create a virtual env on Ubuntu:</p>\n\n<pre><code>$ mkvirtualenv test\nNew python executable in /home/ubuntu/.virtualenvs/test/bin/python\nInstalling setuptools, pip, wheel...\n  Complete output from command /home/ubuntu/.virtualenvs/test/bin/python - setuptools pip wheel:\n  Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 7, in &lt;module&gt;\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv_support/pip-8.1.1-py2.py3-none-any.whl/pip/__init__.py\", line 16, in &lt;module&gt;\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv_support/pip-8.1.1-py2.py3-none-any.whl/pip/vcs/mercurial.py\", line 9, in &lt;module&gt;\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv_support/pip-8.1.1-py2.py3-none-any.whl/pip/download.py\", line 39, in &lt;module&gt;\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv_support/pip-8.1.1-py2.py3-none-any.whl/pip/_vendor/requests/__init__.py\", line 58, in &lt;module&gt;\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv_support/pip-8.1.1-py2.py3-none-any.whl/pip/_vendor/requests/utils.py\", line 26, in &lt;module&gt;\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv_support/pip-8.1.1-py2.py3-none-any.whl/pip/_vendor/requests/compat.py\", line 7, in &lt;module&gt;\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv_support/pip-8.1.1-py2.py3-none-any.whl/pip/_vendor/requests/packages/__init__.py\", line 29, in &lt;module&gt;\nImportError: No module named urllib3\n----------------------------------------\n...Installing setuptools, pip, wheel...done.\nTraceback (most recent call last):\n  File \"/home/ubuntu/anaconda2/bin/virtualenv\", line 11, in &lt;module&gt;\n    sys.exit(main())\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv.py\", line 708, in main\n    symlink=options.symlink)\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv.py\", line 941, in create_environment\n    download=download,\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv.py\", line 897, in install_wheel\n    call_subprocess(cmd, show_stdout=False, extra_env=env, stdin=SCRIPT)\n  File \"/home/ubuntu/anaconda2/lib/python2.7/site-packages/virtualenv.py\", line 792, in call_subprocess\n    % (cmd_desc, proc.returncode))\nOSError: Command /home/ubuntu/.virtualenvs/test/bin/python - setuptools pip wheel failed with error code 1\n</code></pre>\n\n<p>Any ideas on how to fix this? I already try <a href=\"https://stackoverflow.com/questions/34973229/virtualenv-importerror-no-module-named-urllib3\">this</a>, worked fine, but using mkvirtualenv still no good.</p>\n"}, {"tags": ["python", "html", "iframe", "web.py"], "answers": [{"tags": [], "owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1464788644, "creation_date": 1464788644, "answer_id": 37570529, "question_id": 37446843, "link": "https://stackoverflow.com/questions/37446843/web-py-error-loading-multiple-html-files-via-iframes/37570529#37570529", "title": "web.py : Error loading multiple html files via iFrames", "body": "<p>After digging through <code>web.py</code> documentation, all I needed to do was to provide file name with full path of <code>html</code> files in order to make them accessible via <code>urls</code>.</p>\n\n<p>I thought I would post here in case anyone else runs into similar issue.</p>\n\n<pre><code>\"\"\" url definition\"\"\" \nurls = (\n  '/path/to/files/index.html', 'do_index_frame',\n  '/path/to/files/left.html', 'do_left_frame',\n  '/path/to/files/right.html', 'do_right_frame',\n  '/path/to/files/top.html', 'do_top_frame'\n)\n</code></pre>\n"}], "owner": {"reputation": 8602, "user_id": 5936628, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/67edb9182ec767573ef95539c533b0a9?s=128&d=identicon&r=PG&f=1", "display_name": "Anil_M", "link": "https://stackoverflow.com/users/5936628/anil-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 37570529, "answer_count": 1, "score": 1, "last_activity_date": 1464788644, "creation_date": 1464207441, "last_edit_date": 1464208083, "question_id": 37446843, "link": "https://stackoverflow.com/questions/37446843/web-py-error-loading-multiple-html-files-via-iframes", "title": "web.py : Error loading multiple html files via iFrames", "body": "<p>I am learning <code>web.py</code> and trying out a application where <code>web.py</code> needs to load a <code>html</code> file having <code>iframes</code> that loads three different <code>html</code> files.</p>\n\n<p>The <code>index.html</code> file loads properly with desired results when launched directly from  <code>web-browser</code>, However gives <code>not found</code> error upon loading via <code>app.py</code>.</p>\n\n<p>Here is directory structure:</p>\n\n<pre><code>appdir/  \n      app.py  \n      templates/  \n               index.html\n               frames_top.html\n               frames_left.html\n               frames_right.html\n</code></pre>\n\n<p><strong>Here are contents of <code>index.html</code></strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Example - Frames&lt;/title&gt;\n&lt;/head&gt;\n&lt;iframe name=\"top_frame\" src=\"frames_top.html\" width=\"100%\" height=\"100\"&gt; scrolling=\"no\" align=\"top\" &lt;/iframe&gt; \n\n&lt;iframe name=\"left_frame\" style=\"border-style: none; border-color: inherit; border-width: 10px; height:1222px; width:10%;\" src=\"frames_left.html\" target=\"right_frame\" scrolling=\"no\" align=\"left\" &gt;\n&lt;/iframe&gt;\n\n&lt;iframe name=\"right_frame\" style=\"border-style: none; border-color: inherit; border-width: 10px; height:1222px; width:90%;\" src=\"frames_right.html\" target=\"right_frame\" scrolling=\"no\" align=\"middle\" &gt;\n&lt;/iframe&gt; \n&lt;/html&gt;\n</code></pre>\n\n<p>and here are contents of <code>app.py</code>               </p>\n\n<pre><code>import web\n\n\"\"\" url definition\"\"\" \nurls = (\n  '^/$', 'do_index_frame',\n  '^/$', 'do_left_frame',\n  '^/$', 'do_right_frame',\n  '^/$', 'do_top_frame'\n)\n\n\napp = web.application(urls, globals())\n\nrender = web.template.render('templates/')\n\nclass do_index_frame:\n    def GET(self):\n        return render.index()\n\nclass do_left_frame:    \n    def GET(self):\n        return render.frames_left()\n\nclass do_right_frame:    \n    def GET(self):\n        return render.frames_right()\n\nclass do_top_frame:    \n    def GET(self):   \n        return render.frames_top()\n\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>\n\n<p>When I run <code>app.py</code> and launch browser at <code>127.0.0.1:8080</code>,<br>\n<strong>I get following screen</strong>    </p>\n\n<p><a href=\"https://i.stack.imgur.com/3UgqS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3UgqS.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>With this error:</strong></p>\n\n<pre><code>Python 2.7.9 (default, Dec 10 2014, 12:24:55) [MSC v.1500 32 bit (Intel)] on win32\nType \"copyright\", \"credits\" or \"license()\" for more information.\n&gt;&gt;&gt; ================================ RESTART ================================\n&gt;&gt;&gt; \nhttp://0.0.0.0:8080/\n127.0.0.1:56483 - - [25/May/2016 15:00:06] \"HTTP/1.1 GET /\" - 200 OK\n127.0.0.1:56483 - - [25/May/2016 15:00:07] \"HTTP/1.1 GET /frames_top.html\" - 404 Not Found127.0.0.1:56482 - - [25/May/2016 15:00:07] \"HTTP/1.1 GET /frames_left.html\" - 404 Not Found\n\n127.0.0.1:56493 - - [25/May/2016 15:00:07] \"HTTP/1.1 GET /frames_right.html\" - 404 Not Found\n127.0.0.1:58680 - - [25/May/2016 15:13:25] \"HTTP/1.1 GET /\" - 200 OK\n127.0.0.1:58680 - - [25/May/2016 15:13:25] \"HTTP/1.1 GET /frames_top.html\" - 404 Not Found\n127.0.0.1:58682 - - [25/May/2016 15:13:25] \"HTTP/1.1 GET /frames_left.html\" - 404 Not Found\n 127.0.0.1:58681 - - [25/May/2016 15:13:25] \"HTTP/1.1 GET /frames_right.html\" - 404 Not Found\n</code></pre>\n\n<p>Is anyone able to determine the cause of the error?</p>\n"}, {"tags": ["python", "csv", "shopify", "gimp"], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 6378557, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/GVoNt.png?s=128&g=1", "display_name": "xenoid", "link": "https://stackoverflow.com/users/6378557/xenoid"}, "is_accepted": false, "score": 1, "last_activity_date": 1464443970, "creation_date": 1464443970, "answer_id": 37499896, "question_id": 37446827, "link": "https://stackoverflow.com/questions/37446827/bulk-download-images-from-paths-in-csv-batch-edit-in-gimp-upload-gathe/37499896#37499896", "title": "Bulk download images from paths in .csv -&gt; batch edit in GIMP -&gt; upload -&gt; gather links in .csv", "body": "<p>Yes, but:</p>\n\n<p>For 2) you don't need to use Gimp. There are libraries for this kind of simple image editing, such as the ImageMAgick toolbox (that has Python bindings)</p>\n\n<p>3) and 4) are likely the same, when you upload a file you should get a link (didn't look too closely at the DropBox API though). </p>\n\n<p>5) Dangerous, you could have several files with the same name.</p>\n\n<p>Last, it may be more efficient to do the download/transform/upload/update CSV for each file in turn, because you can likely run several operations in parallel (and it also solves the problem in your step #5)</p>\n"}], "owner": {"reputation": 73, "user_id": 3654528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934e5ff56fc2cd610e9be426cb9fe971?s=128&d=identicon&r=PG&f=1", "display_name": "samthaman", "link": "https://stackoverflow.com/users/3654528/samthaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464443970, "creation_date": 1464207395, "question_id": 37446827, "link": "https://stackoverflow.com/questions/37446827/bulk-download-images-from-paths-in-csv-batch-edit-in-gimp-upload-gathe", "title": "Bulk download images from paths in .csv -&gt; batch edit in GIMP -&gt; upload -&gt; gather links in .csv", "body": "<p>Shopify's bulk product upload feature is reasonably easy to use, but uploading images is always a struggle and I'd like to automate the process as much as possible.</p>\n\n<p>I get excel files from vendors with image links in them, I could copy the links directly into my shopify upload .csv, but then I get formatting issues on my site because the aspect ratios always vary. What I'd like to do is write a script that combines the following steps, or achieves the same goal by other means. </p>\n\n<ol>\n<li><p>Download all the images from the links in the file from the vendor. This script seems like a start: <a href=\"https://gist.github.com/davidbauer/11055010\" rel=\"nofollow\">https://gist.github.com/davidbauer/11055010</a></p></li>\n<li><p>Use the webfix1b.py plugin I'm already using to reformat all of the download images. <a href=\"https://bentrixtips.wordpress.com/2012/05/24/batch-process-images-with-gimp/\" rel=\"nofollow\">https://bentrixtips.wordpress.com/2012/05/24/batch-process-images-with-gimp/</a></p></li>\n<li><p>Upload the newly re-formatted images to dropbox or google drive</p></li>\n<li><p>Gather the share links (programmatically) for the newly uploaded files and compile them in a .csv</p></li>\n<li><p>Match the new links with the original links (by file name), and replace them. </p></li>\n</ol>\n\n<p>Does this seem achievable? </p>\n"}, {"tags": ["javascript", "jquery", "python", "html", "pandas"], "comments": [{"owner": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "edited": false, "score": 0, "creation_date": 1464253594, "post_id": 37446798, "comment_id": 62412560, "body": "From your description it seems that <code>my_function</code> is running several times. It should run <i>only once</i> after the table is loaded. Every time <code>my_function</code> runs, it assigns a new event listener to the click event."}, {"owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "reply_to_user": {"reputation": 4606, "user_id": 4983290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dxil3.jpg?s=128&g=1", "display_name": "Shovalt", "link": "https://stackoverflow.com/users/4983290/shovalt"}, "edited": false, "score": 0, "creation_date": 1464287499, "post_id": 37446798, "comment_id": 62435654, "body": "I think I see what you&#39;re saying... will play around with it and let you know!  Thanks."}], "owner": {"reputation": 6104, "user_id": 6163621, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yyhNK.jpg?s=128&g=1", "display_name": "elPastor", "link": "https://stackoverflow.com/users/6163621/elpastor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1464213353, "creation_date": 1464207312, "last_edit_date": 1464213353, "question_id": 37446798, "link": "https://stackoverflow.com/questions/37446798/jquery-clickable-table-generated-from-python-pandas-to-html", "title": "JQuery clickable table generated from python, pandas to_html?", "body": "<p>I've created tables in python using pandas to_html function and jsonify with great success.  </p>\n\n<p>Separately, I've created a simple HTML table with clickable rows (via jquery/javascript... I honestly don't know the difference) that displays the data of the first data point in the row:</p>\n\n<pre><code>&lt;table id=\"my_table\"&gt;\n    &lt;tr&gt;&lt;td&gt;...&lt;/td&gt;&lt;/tr&gt;\n    &lt;tr&gt;&lt;td&gt;...&lt;/td&gt;&lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;script&gt;\n$(function() {\n    $(\"#my_table tr\").click(function() {\n        alert($(this).find('td:first').text());\n    });     \n});\n&lt;/script&gt;\n</code></pre>\n\n<p>However, when I generate and load a new table using the to_html function and jsonify in python, I can't get the function to work.</p>\n\n<p>I've also been able to properly place the <code>id=\"my_table\"</code> tag into the generated table, so it's not missing the id piece.</p>\n\n<p>After an hour of toying with this, I believe the issue is that the scripts are loaded into memory prior to the table being loaded, so when the id is referenced, the script isn't familiar with the new table.</p>\n\n<p>UPDATE:</p>\n\n<p>I've now included <code>onclick=\"my_function()\"</code> in the to_html <code>&lt;table&gt;</code> tag which now allows me to execute a click function from the new table.  But I need to tweak the code a bit to:</p>\n\n<pre><code>function my_function () {\n    $(\"#my_table tr\").click( function() {\n        var my_data = $(this).find('td:first').text();\n        alert(my_data);\n    });\n}\n</code></pre>\n\n<p>But there is now a curious behavior - the first click shows 0 alerts.  The second click shows 1 alert.  The third click shows 2 alerts, fourth shows 3, ad infinitum.</p>\n\n<p>Anyone know why that may be?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1464207380, "post_id": 37446785, "comment_id": 62395604, "body": "is that a list with a single item or did you mean each address to be a separate item in the list"}], "answers": [{"comments": [{"owner": {"reputation": 14484, "user_id": 2291710, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0232aab5638a75f2286dccc43ecf4df3?s=128&d=identicon&r=PG&f=1", "display_name": "Delgan", "link": "https://stackoverflow.com/users/2291710/delgan"}, "edited": false, "score": 0, "creation_date": 1464207803, "post_id": 37446835, "comment_id": 62395823, "body": "I do not think it will work, as <code>dict1[&#39;fabric_ssh_hosts&#39;]</code> is a list and not a string."}, {"owner": {"reputation": 867, "user_id": 677624, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/05de8d6239cd093cb12120cb0ab5f3a2?s=128&d=identicon&r=PG", "display_name": "Skyler", "link": "https://stackoverflow.com/users/677624/skyler"}, "reply_to_user": {"reputation": 14484, "user_id": 2291710, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0232aab5638a75f2286dccc43ecf4df3?s=128&d=identicon&r=PG&f=1", "display_name": "Delgan", "link": "https://stackoverflow.com/users/2291710/delgan"}, "edited": false, "score": 0, "creation_date": 1464207889, "post_id": 37446835, "comment_id": 62395882, "body": "Oops, missed that."}, {"owner": {"reputation": 13, "user_id": 6383026, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_m7nJnmUd_8/AAAAAAAAAAI/AAAAAAAABm4/WsCbh47qg8E/photo.jpg?sz=128", "display_name": "MaTi Villagra", "link": "https://stackoverflow.com/users/6383026/mati-villagra"}, "edited": false, "score": 0, "creation_date": 1464291424, "post_id": 37446835, "comment_id": 62437844, "body": "Thanks for the answer! @Skyler"}], "tags": [], "owner": {"reputation": 867, "user_id": 677624, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/05de8d6239cd093cb12120cb0ab5f3a2?s=128&d=identicon&r=PG", "display_name": "Skyler", "link": "https://stackoverflow.com/users/677624/skyler"}, "is_accepted": false, "score": 4, "last_activity_date": 1464207880, "last_edit_date": 1464207880, "creation_date": 1464207414, "answer_id": 37446835, "question_id": 37446785, "link": "https://stackoverflow.com/questions/37446785/python-iterate-from-a-dictionary-with-two-values/37446835#37446835", "title": "Python iterate from a dictionary with two values", "body": "<pre><code>for host in dict1['fabric_ssh_hosts'][0].split():\n    print host\n</code></pre>\n\n<p>Explanation: split(), when called with no arguments, splits on whitespace. dict1['fabric_ssh_hosts'] is a list, so [0] gets the first (and only) element of it. So that creates the list, which is iterated through.</p>\n"}, {"comments": [{"owner": {"reputation": 175, "user_id": 6327836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b03070f09af2e7c6037bd4ae7f0caf9?s=128&d=identicon&r=PG", "display_name": "cmmnn", "link": "https://stackoverflow.com/users/6327836/cmmnn"}, "edited": false, "score": 0, "creation_date": 1464208432, "post_id": 37447093, "comment_id": 62396187, "body": "just saw the answer from @Skyler a little to late, but maybe my remarks can help you understand what is going on"}, {"owner": {"reputation": 13, "user_id": 6383026, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_m7nJnmUd_8/AAAAAAAAAAI/AAAAAAAABm4/WsCbh47qg8E/photo.jpg?sz=128", "display_name": "MaTi Villagra", "link": "https://stackoverflow.com/users/6383026/mati-villagra"}, "edited": false, "score": 0, "creation_date": 1464291777, "post_id": 37447093, "comment_id": 62438035, "body": "Thanks for the answer! @cmmnn Actually as you said the code is tricky but you code works! Thanks in advance."}, {"owner": {"reputation": 175, "user_id": 6327836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b03070f09af2e7c6037bd4ae7f0caf9?s=128&d=identicon&r=PG", "display_name": "cmmnn", "link": "https://stackoverflow.com/users/6327836/cmmnn"}, "reply_to_user": {"reputation": 13, "user_id": 6383026, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_m7nJnmUd_8/AAAAAAAAAAI/AAAAAAAABm4/WsCbh47qg8E/photo.jpg?sz=128", "display_name": "MaTi Villagra", "link": "https://stackoverflow.com/users/6383026/mati-villagra"}, "edited": false, "score": 0, "creation_date": 1464297387, "post_id": 37447093, "comment_id": 62440931, "body": "Glad I was able to help. Splitting one string is possible, but if you get the input out of a piece of code you can change I would change it if I was in your place. This would make the code more logical and easier to expand on in my opinion. On the other hand &#39;never change a running system&#39; is a motto many people choose to go by."}], "tags": [], "owner": {"reputation": 175, "user_id": 6327836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b03070f09af2e7c6037bd4ae7f0caf9?s=128&d=identicon&r=PG", "display_name": "cmmnn", "link": "https://stackoverflow.com/users/6327836/cmmnn"}, "is_accepted": true, "score": 0, "last_activity_date": 1464208345, "creation_date": 1464208345, "answer_id": 37447093, "question_id": 37446785, "link": "https://stackoverflow.com/questions/37446785/python-iterate-from-a-dictionary-with-two-values/37447093#37447093", "title": "Python iterate from a dictionary with two values", "body": "<p>I suspect something went wrong with your code.\nWhy would you put all adresses in just one string and then put that into a list inside a dictionary?</p>\n\n<p>In case you really mean what you wrote something like that should work</p>\n\n<pre><code>dict1 = {'fabric_ssh_hosts': ['192.168.3.44 192.168.3.45 192.168.3.46']}\n\naddrstring = dict1['fabric_ssh_hosts'][0]\nfor addr in addrstring.split():\n    print(addr)\n</code></pre>\n\n<p>In case you meant what I think you meant to do or say:</p>\n\n<pre><code>dict1 = {'fabric_ssh_hosts': ['192.168.3.44', '192.168.3.45', '192.168.3.46']}\nfor addr in dict1['fabric_ssh_hosts']:\n    print(addr)\n</code></pre>\n\n<p>look closely at what is different in the dictionary thoug.</p>\n\n<p>split() splits a string at whitespaces (or at other characters if you want, look into the documentation) and outputs the single words into a list:</p>\n\n<pre><code>\"foo bar baz\".split()\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>['foo', 'bar', 'baz']\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6383026, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_m7nJnmUd_8/AAAAAAAAAAI/AAAAAAAABm4/WsCbh47qg8E/photo.jpg?sz=128", "display_name": "MaTi Villagra", "link": "https://stackoverflow.com/users/6383026/mati-villagra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 37447093, "answer_count": 2, "score": -1, "last_activity_date": 1464208354, "creation_date": 1464207253, "last_edit_date": 1464208354, "question_id": 37446785, "link": "https://stackoverflow.com/questions/37446785/python-iterate-from-a-dictionary-with-two-values", "title": "Python iterate from a dictionary with two values", "body": "<p>I have the following python dictionary, </p>\n\n<p><code>dict1 = {'fabric_ssh_hosts': ['192.168.3.44 192.168.3.45 192.168.3.46']}</code></p>\n\n<p>How can I iterate, to produce the following output?</p>\n\n<p><code>192.168.3.44</code></p>\n\n<p><code>192.168.3.45</code></p>\n\n<p><code>192.168.3.46</code></p>\n"}, {"tags": ["python", "numpy", "matplotlib", "scipy", "jupyter-notebook"], "comments": [{"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1464207426, "post_id": 37446740, "comment_id": 62395623, "body": "Just find the indices <code>i</code>, <code>j</code>, <code>k</code>, <code>w</code>, where the maximum of <code>qcloud</code> occurs and then <code>print z[i][j][k][w]</code> assuming the indices are meaningful and compatible."}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1464221047, "post_id": 37446740, "comment_id": 62400694, "body": "If the maximum is at <code>qcloud[5, 98, 0, 0]</code>, do you want <code>z[5, 98, 0, 0]</code>? Is there any circumstance in which you would take from <code>z[:,99,:,:]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 6272307, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f7cfb206f3d296a50218bb2226331299?s=128&d=identicon&r=PG&f=1", "display_name": "King Andy", "link": "https://stackoverflow.com/users/6272307/king-andy"}, "edited": false, "score": 0, "creation_date": 1464227454, "post_id": 37449522, "comment_id": 62402115, "body": "Thank you for your help. The error says &quot;index 3642432 is out of bounds for axis 0 with size 6.&quot; What does that mean, and how can I fix that?"}, {"owner": {"reputation": 7, "user_id": 6272307, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f7cfb206f3d296a50218bb2226331299?s=128&d=identicon&r=PG&f=1", "display_name": "King Andy", "link": "https://stackoverflow.com/users/6272307/king-andy"}, "edited": false, "score": 0, "creation_date": 1464276424, "post_id": 37449522, "comment_id": 62428946, "body": "Thank you! Now I need to graph the output into a graph using pyart. The nanargmax(qlcoud) is (2,24,40,64) and the z[2][24][40][64] output is 847.6181640625. How do I graph this, and will this create a constant height slice in the graph?"}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "reply_to_user": {"reputation": 7, "user_id": 6272307, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f7cfb206f3d296a50218bb2226331299?s=128&d=identicon&r=PG&f=1", "display_name": "King Andy", "link": "https://stackoverflow.com/users/6272307/king-andy"}, "edited": false, "score": 0, "creation_date": 1464276914, "post_id": 37449522, "comment_id": 62429239, "body": "I don&#39;t understand what you mean by graphing a single value"}, {"owner": {"reputation": 7, "user_id": 6272307, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f7cfb206f3d296a50218bb2226331299?s=128&d=identicon&r=PG&f=1", "display_name": "King Andy", "link": "https://stackoverflow.com/users/6272307/king-andy"}, "edited": false, "score": 0, "creation_date": 1464289468, "post_id": 37449522, "comment_id": 62436718, "body": "I&#39;m sorry let me clarify-so I have a set of data called QCLOUD and within QCLOUD is the height, and I need to plot a constant height slice in pcolormesh where the mean of QCLOUD(height) was the greatest, and I have a chunk of data. The height was retrieved through this code: z = np.array(radar.PH + radar.PHB)/9.81 z = z.astype(np.float64) z I need to grab a chunk of data where the height was, so it&#39;ll be like 10 lines of data where the mean is, and plot that chunk of data on a pcolormesh plot. I hope that makes sense."}, {"owner": {"reputation": 7, "user_id": 6272307, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f7cfb206f3d296a50218bb2226331299?s=128&d=identicon&r=PG&f=1", "display_name": "King Andy", "link": "https://stackoverflow.com/users/6272307/king-andy"}, "edited": false, "score": 0, "creation_date": 1464295186, "post_id": 37449522, "comment_id": 62439779, "body": "If anyone can help please do I really need help on this one"}], "tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": true, "score": 0, "last_activity_date": 1464268782, "last_edit_date": 1464268782, "creation_date": 1464221189, "answer_id": 37449522, "question_id": 37446740, "link": "https://stackoverflow.com/questions/37446740/finding-the-element-in-one-array-corresponding-to-the-maximum-value-in-another/37449522#37449522", "title": "Finding the element in one array corresponding to the maximum value in another", "body": "<p>Ignoring the fact that <code>(np.array(z.shape) &gt; np.array(qcloud.shape)).any()</code>, you want <code>argmax</code>:</p>\n\n<pre><code>idx = np.argmax(qcloud)\nresult = z[tuple(idx)]\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 6272307, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f7cfb206f3d296a50218bb2226331299?s=128&d=identicon&r=PG&f=1", "display_name": "King Andy", "link": "https://stackoverflow.com/users/6272307/king-andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 37449522, "answer_count": 1, "score": 0, "last_activity_date": 1464268782, "creation_date": 1464207085, "last_edit_date": 1464221093, "question_id": 37446740, "link": "https://stackoverflow.com/questions/37446740/finding-the-element-in-one-array-corresponding-to-the-maximum-value-in-another", "title": "Finding the element in one array corresponding to the maximum value in another", "body": "<p>How can I align the 4d z array and the 4d QCLOUD array and to then find out the z value of when QCLOUD max occurs? </p>\n\n<pre><code>print(z.shape)\nprint(qcloud.shape)\nout: (6, 100, 128, 128)\n(6, 99, 128, 128)\n</code></pre>\n"}, {"tags": ["python", "optimization", "scipy", "minimize"], "answers": [{"comments": [{"owner": {"reputation": 180, "user_id": 9032465, "user_type": "registered", "profile_image": "https://graph.facebook.com/1893774734270170/picture?type=large", "display_name": "Dom Jo", "link": "https://stackoverflow.com/users/9032465/dom-jo"}, "edited": false, "score": 0, "creation_date": 1584931784, "post_id": 37462515, "comment_id": 107583965, "body": "Hi, I have a similar issue, can you help?"}], "tags": [], "owner": {"reputation": 1103, "user_id": 3223145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BVTav.jpg?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/3223145/andi"}, "is_accepted": false, "score": 2, "last_activity_date": 1464269887, "creation_date": 1464269887, "answer_id": 37462515, "question_id": 37446666, "link": "https://stackoverflow.com/questions/37446666/scipy-minimize-not-working/37462515#37462515", "title": "Scipy Minimize Not Working", "body": "<p><code>w1</code> is passed in as a (single entry) vector and not as scalar from the <code>minimize</code> routine. Try what happens if you define <code>w1 = np.array([0.2])</code> and then calculate <code>w = np.array([w1, 1.0 - w1])</code>. You'll see you get a 2x1 matrix instead of a 2 entry vector.</p>\n\n<p>To make your objective function able to handle w1 being an array you can simply put in an explicit conversion to float <code>w1 = float(w1)</code> as the first line of <code>Rlzd_Vol1</code>. Doing so I obtain the correct minimum.</p>\n\n<p>Note that you might want to use <code>scipy.optimize.minimize_scalar</code> instead especially if you can bracket where you minimum will be.</p>\n"}], "owner": {"reputation": 1928, "user_id": 2032413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/59cb9dae8cb82d1bc007489f7b4f0134?s=128&d=identicon&r=PG", "display_name": "bcf", "link": "https://stackoverflow.com/users/2032413/bcf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3924, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1464269887, "creation_date": 1464206807, "question_id": 37446666, "link": "https://stackoverflow.com/questions/37446666/scipy-minimize-not-working", "title": "Scipy Minimize Not Working", "body": "<p>I'm running the minimization below:</p>\n\n<pre><code>from scipy.optimize import minimize\nimport numpy as np\nimport math\nimport matplotlib.pyplot as plt\n\n### objective function ###\ndef Rlzd_Vol1(w1, S):\n    L = len(S) - 1\n    m = len(S[0])\n\n    # Compute log returns, size (L, m)\n    LR = np.array([np.diff(np.log(S[:,j])) for j in xrange(m)]).T\n\n    # Compute weighted returns\n    w = np.array([w1, 1.0 - w1])\n    R = np.array([np.sum(w*LR[i,:]) for i in xrange(L)])  # size L\n\n    # Compute Realized Vol.\n    vol = np.std(R) * math.sqrt(260)\n\n    return vol\n\n# stock prices\nS = np.exp(np.random.normal(size=(50,2)))\n\n### optimization ###\nobj_fun = lambda w1: Rlzd_Vol1(w1, S)\nw1_0 = 0.1\n\nres = minimize(obj_fun, w1_0)\nprint res\n\n\n### Plot objective function ###\nfig_obj = plt.figure()\nax_obj = fig_obj.add_subplot(111)\nn = 100\nw1 = np.linspace(0.0, 1.0, n)\ny_obj = np.zeros(n)\nfor i in xrange(n):\n    y_obj[i] = obj_fun(w1[i])\nax_obj.plot(w1, y_obj)\nplt.show()\n</code></pre>\n\n<p>The objective function shows an obvious minimum (it's quadratic):</p>\n\n<p><a href=\"https://i.stack.imgur.com/ikzGn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikzGn.png\" alt=\"objective function\"></a></p>\n\n<p>But the minimization output tells me the minimum is at 0.1, the initial point:</p>\n\n<p><a href=\"https://i.stack.imgur.com/edfRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/edfRs.png\" alt=\"minimization output\"></a></p>\n\n<p>I cannot figure out what's going wrong.  Any thoughts?</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 948, "user_id": 2272115, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cb81bcc84a2c14ece9ebeb9c32fdff19?s=128&d=identicon&r=PG", "display_name": "user2272115", "link": "https://stackoverflow.com/users/2272115/user2272115"}, "is_accepted": false, "score": 2, "last_activity_date": 1464207579, "creation_date": 1464207579, "answer_id": 37446877, "question_id": 37446563, "link": "https://stackoverflow.com/questions/37446563/select-upvote-button-on-reddit-with-selenium-python/37446877#37446877", "title": "Select upvote button on reddit with selenium python", "body": "<p>You're trying to click <code>&lt;div class=\"arrow up login-required access-required\" data-event-action=\"upvote\" role=\"button\" aria-label=\"upvote\" tabindex=\"0\"&gt;&lt;/div&gt;</code> but both of the selectors you provided look unrelated. Your xpath try indicates a button (you want a div) and your 'by class name' try doesn't refer to anything in your example.</p>\n\n<p>This should work fine for the example you provided:</p>\n\n<pre><code>driver.find_element_by_css_selector(\"div.arrow.up\").click\n</code></pre>\n\n<p>However, many pages on reddit have multiple upvote arrows, so you may need to make your selector more specific to work on the actual webpage.</p>\n"}], "owner": {"reputation": 49, "user_id": 4407717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IzHCj.jpg?s=128&g=1", "display_name": "Aby Abraham", "link": "https://stackoverflow.com/users/4407717/aby-abraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1464207579, "creation_date": 1464206465, "question_id": 37446563, "link": "https://stackoverflow.com/questions/37446563/select-upvote-button-on-reddit-with-selenium-python", "title": "Select upvote button on reddit with selenium python", "body": "<p>I was trying to send click to a reddit upvote button using the selenium in python but I am unable to select the upvote button \"arrow up login-required access-required\"</p>\n\n<p>HTML Code of upvote and downvote buttons :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"arrow up login-required access-required\" data-event-action=\"upvote\" role=\"button\" aria-label=\"upvote\" tabindex=\"0\"&gt;&lt;/div&gt;\r\n&lt;div class=\"score likes\"&gt;\u2022&lt;/div&gt;\r\n&lt;div class=\"score unvoted\"&gt;\u2022&lt;/div&gt;\r\n&lt;div class=\"score dislikes\"&gt;\u2022&lt;/div&gt;\r\n&lt;div class=\"arrow down login-required access-required\" data-event-action=\"downvote\" role=\"button\" aria-label=\"downvote\" tabindex=\"0\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The code I tried was</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>target = driver.find_element_by_xpath(\"//button[@aria-label='upvote'\")\r\ntarget.click()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>target = driver.find_element_by_class_name('midcol unvoted')\r\ntarget.click()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But none of them appear to work.</p>\n"}, {"tags": ["python", "named-pipes"], "comments": [{"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 1, "creation_date": 1464207716, "post_id": 37446556, "comment_id": 62395780, "body": "Could you use a second thread that waits for the blocking pipe?"}, {"owner": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "reply_to_user": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1464208447, "post_id": 37446556, "comment_id": 62396199, "body": "@Jasper I could do that. That&#39;s not ideal either, but I admit it&#39;s better. Also, I can use Python&#39;s file library instead of the low-level <code>os</code> stuff that way, which allows me to read up until newlines and such. Thanks, I&#39;m going to change my code to that unless there&#39;s a way to check without another thread."}], "answers": [{"comments": [{"owner": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "edited": false, "score": 0, "creation_date": 1464212412, "post_id": 37447115, "comment_id": 62398014, "body": "I didn&#39;t know about datagrams. That&#39;s useful. But it looks like you&#39;re throwing and catching errors similarly to how I am. Is that safe?"}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "reply_to_user": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "edited": false, "score": 0, "creation_date": 1464213809, "post_id": 37447115, "comment_id": 62398568, "body": "@sudo, it is. If there is no datagram waiting to be received, then EAGAIN is thrown. If a signal interrupted the receiving, then EINTR is thrown. The latter case shouldn&#39;t be impossible for non-blocking sockets, but it does not hurt to be safe. Possible errors are: a too little read buffer (but you know your data), and that clients can&#39;t send data, because you read the too slowly. The buffer of a socket is 200kB or 512 packets by default, <a href=\"http://stackoverflow.com/a/22007520/416224\">stackoverflow.com/a/22007520/416224</a>."}], "tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": true, "score": 1, "last_activity_date": 1464208416, "creation_date": 1464208416, "answer_id": 37447115, "question_id": 37446556, "link": "https://stackoverflow.com/questions/37446556/python-check-if-named-pipe-has-data/37447115#37447115", "title": "Python: Check if named pipe has data", "body": "<p>I would not use a named-pipe if you can change the clients' code, but <a href=\"http://man7.org/linux/man-pages/man7/unix.7.html\" rel=\"nofollow\">UNIX domain sockets</a> instead, because they support datagrams:</p>\n\n<pre><code>import errno, fcntl, os, socket\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code># bind socket\nsock = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM)\nsock.bind('pipe_test.fifo')\n# set socket non-blocking\nfcntl.fcntl(sock.fileno(), fcntl.F_SETFL, os.O_NONBLOCK)\n\n# get a datagram\ntry:\n    datagram = sock.recv(1024)\nexcept (OSError, socket.error) as ex:\n    if ex.errno not in (errno.EINTR, errno.EAGAIN):\n        raise\nelse:\n    print('Datagram: %r' % datagram)\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>sock = socket.socket(socket.AF_UNIX, socket.SOCK_DGRAM)\nsock.sendto('Hello!', 'pipe_test.fifo')\n</code></pre>\n\n<p>But you might want to look into <a href=\"http://www.tutorialspoint.com/python/python_multithreading.htm\" rel=\"nofollow\"><code>multithreading</code></a> instead of using non-blocking sockets.</p>\n"}, {"tags": [], "owner": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "is_accepted": false, "score": 0, "last_activity_date": 1464213020, "last_edit_date": 1464213020, "creation_date": 1464212604, "answer_id": 37448125, "question_id": 37446556, "link": "https://stackoverflow.com/questions/37446556/python-check-if-named-pipe-has-data/37448125#37448125", "title": "Python: Check if named pipe has data", "body": "<p>This isn't really the answer, but in case it's useful to anyone, here's how I'm doing it with another thread.</p>\n\n<pre><code>class QueryThread(threading.Thread):\n\n    def __init__(self, args=(), kwargs=None):\n        threading.Thread.__init__(self, args=(), kwargs=None)\n        self.daemon = True\n        self.buf = []\n        if not general.f_exists(\"pipe\"):\n            os.mkfifo(\"pipe\")\n\n    def run(self):\n        f = open(\"pipe\")\n        while True:\n            try:\n                query = next(f).replace(\"\\n\", \"\")\n                if query != \"\":\n                    self.buf.append(query)\n                    print(\"Read in new query from pipe: {}, buf = {}\".format(query, self.buf))\n            except StopIteration: # not a pipe error, just means no data is left, so time to re-open\n                f.close()\n                f = open(\"pipe\")\n        f.close()\n\n    def get_query(self):\n        if len(self.buf) == 0: return \"\"\n        query = self.buf[0]\n        self.buf.__delitem__(0)\n        return query\n</code></pre>\n\n<p>It keeps newline-deliminated messages in a buffer. You can call the <code>get_query</code> method from another thread and get the last message that was received.</p>\n"}], "owner": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2525, "favorite_count": 0, "accepted_answer_id": 37447115, "answer_count": 2, "score": 5, "last_activity_date": 1464213020, "creation_date": 1464206457, "last_edit_date": 1464207516, "question_id": 37446556, "link": "https://stackoverflow.com/questions/37446556/python-check-if-named-pipe-has-data", "title": "Python: Check if named pipe has data", "body": "<p>I have a Python3 process on my Unix system always running, and I want to be able to randomly send data to it through a named pipe from other processes that only run occasionally. If the named pipe doesn't have data, I want my process to continue doing other things, so I need to check whether it has data <strong>without blocking</strong>.</p>\n\n<p>I can't figure out how to check without opening it, but opening blocks unless I set the non-blocking flag. And if I set the flag, it crashes if I happen to write to the pipe before or during the read.</p>\n\n<p>This is the best I've managed to do:</p>\n\n<pre><code>import os\n\nfifo = \"pipe_test.fifo\"\ndone = False\nfd = os.open(fifo, os.O_RDONLY | os.O_NONBLOCK)\nwhile not done:\n    try:\n        s = os.read(fd, 1024) # buffer size may need tweaking\n        print(s)\n        done = True\n    except BlockingIOError as e:\n        pass\nos.close(fd)\n</code></pre>\n\n<p>If there's no data in the pipe, I get <code>b\"\"</code>, and it exits. If there's data in the pipe, it gets an exception once, retries, then gets the data. Seems like I'm doing something wrong and might run into weird race conditions. Is there a nicer way to do this?</p>\n"}, {"tags": ["python", "sql", "django"], "comments": [{"owner": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "edited": false, "score": 1, "creation_date": 1464207322, "post_id": 37446551, "comment_id": 62395576, "body": "Given the relative complexity of this code, its specificity to Django, and the fact that it <i>might</i> be a bug, I think you should be browsing/posting over at <a href=\"https://code.djangoproject.com/query\" rel=\"nofollow noreferrer\">Django Code</a>. A quick-and-dirty search on &#39;count()&#39; turned up things like <a href=\"https://code.djangoproject.com/ticket/26434\" rel=\"nofollow noreferrer\">Inconsistent results of QuerySet count() method using PostgreSQL backend prior and post the QuerySet evaluation</a> and other interesting things."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1464217528, "post_id": 37446551, "comment_id": 62399849, "body": "If possible, you should rewrite your query so that it doesn&#39;t use <code>extra()</code>. The <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/querysets/#extra\" rel=\"nofollow noreferrer\">Django docs</a> warn that <code>extra()</code> is an old API they aim to deprecate. It sounds like you may have found a bug in <code>extra()</code>, but it is unlikely that it will be fixed."}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1464578420, "post_id": 37446551, "comment_id": 62527619, "body": "Even if you file a bug report it would be ignored because there will not be any new development in extra(). It&#39;s possible to write a COALESCE function call using the ORM. Post your model and explain what you want to achieve and we can have a crack at it."}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1465378643, "post_id": 37446551, "comment_id": 62872035, "body": "you post a question but don&#39;t respond to any of the comments. Not very polite is it?"}], "owner": {"reputation": 189, "user_id": 465366, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0d0c6eda804f912d230df91577e29180?s=128&d=identicon&r=PG", "display_name": "emesik", "link": "https://stackoverflow.com/users/465366/emesik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1464206449, "creation_date": 1464206449, "question_id": 37446551, "link": "https://stackoverflow.com/questions/37446551/django-query-returns-objects-but-count-reports-0", "title": "Django query returns objects but .count() reports 0", "body": "<p>I have somewhat complex query that required .extra() function:</p>\n\n<pre><code>contractors = models.Contractor.objects\\\n        .filter(is_authorized=True, user__is_active=True,\n                categories=cat,\n                globalcontractorrank__isnull=False)\\\n        .exclude(user__name='')\\\n        .extra(\n                select={'fullrank':\n                    'COALESCE(ranking_subcategorycontractorrank.points, 0) + '\n                    'ranking_globalcontractorrank.points'},\n                tables=['ranking_subcategorycontractorrank'],\n                where=['ranking_subcategorycontractorrank.category_id IS NULL OR '\n                    'ranking_subcategorycontractorrank.category_id = %d' % cat.pk])\\\n        .order_by('-fullrank', '-subcategorycontractorrank__points', '-user__registered_on')\n</code></pre>\n\n<p>This yields quite unexpected results:</p>\n\n<pre><code>In [19]: contractors.count()\nOut[19]: 0\n\nIn [20]: len(contractors)\nOut[20]: 900\n\nIn [21]: contractors.count()\nOut[21]: 900\n</code></pre>\n\n<p>It seems that the django compiler simplifies the SQL for COUNT() query in a way that gives different results. However, once the query has been run in the original form, the result is cached and subsequent COUNT() queries return the right number of matches.</p>\n\n<p>Is such behavior right or I should file a bug?</p>\n"}, {"tags": ["python", "hdf5", "h5py"], "comments": [{"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "edited": false, "score": 0, "creation_date": 1466022539, "post_id": 37446498, "comment_id": 63150684, "body": "I read about the scale-offset filter and it seems it&#39;s not what you want. I guess you have to do the way of storing the ints  with scale and offset as attributes and then do the conversion yourself, which is probably also the most straightforward way to achieve that."}], "owner": {"reputation": 3973, "user_id": 12779, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/55c439c4d52dcb2cc975fc047560f006?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/12779/nate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1464206269, "creation_date": 1464206269, "question_id": 37446498, "link": "https://stackoverflow.com/questions/37446498/storing-16-bit-ints-with-scale-and-offset-as-floats-in-hdf5", "title": "Storing 16-bit ints with scale and offset as floats in HDF5", "body": "<p>I have some data collected from DACs; they're 16-bit ints. To convert them to meaningful units (volts, for example) I also have a scale and offset, both stored as floats.</p>\n\n<p>I'm looking to write this out as an HDF5 file using h5py. So far, I'm just creating a float dataset and writing the numbers out; however, this is giving me really big files. Looking at the documentation, <a href=\"http://docs.h5py.org/en/latest/high/dataset.html#scale-offset-filter\" rel=\"nofollow\">there's a scale-offset filter</a> that looks like it might help -- however, it doesn't look like I can feed it my scale and offset information -- instead, I'd feed it a number of significant digits to store.</p>\n\n<p>Is this right? Is there an elegant way to do this? If I really need to just specify a number of digits (probably in base 10?) I'm guessing I'd store 6, as you can fit 65535 in six digits. Or maybe 5, as the docs say it's \"the number of digits after the decimal point to retain\"?</p>\n\n<p>And yes, I know I could just store the ints, with scale and offset as attributes.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 1, "last_activity_date": 1464207318, "creation_date": 1464207318, "answer_id": 37446802, "question_id": 37446465, "link": "https://stackoverflow.com/questions/37446465/summing-items-in-an-array-in-a-dataframe-in-a-groupby/37446802#37446802", "title": "Summing items in an array -- in a DataFrame -- in a groupby", "body": "<h3>Setup</h3>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame([[1, '2007-01-01', [.2, .5, .3]],\n                   [2, '2007-01-02', [.8, .5, .3]]],\n                 columns=['doc_id', 'date', 'topic_dist'])\n\ndf.date = pd.to_datetime(df.date)\n\ndf = df.set_index('date')\n</code></pre>\n\n<h3>Solution</h3>\n\n<pre><code>def topic_adder(s):\n    return s.apply(pd.Series).sum().tolist()\n\ndf.groupby(pd.TimeGrouper('M'))['topic_dist'].apply(topic_adder)\n</code></pre>\n\n<p>looks like:</p>\n\n<pre><code>date\n2007-01-31    [1.0, 1.0, 0.6]\nName: topic_dist, dtype: object\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3364, "user_id": 1884171, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uisYs.jpg?s=128&g=1", "display_name": "andrew", "link": "https://stackoverflow.com/users/1884171/andrew"}, "is_accepted": true, "score": 1, "last_activity_date": 1464208368, "creation_date": 1464208368, "answer_id": 37447100, "question_id": 37446465, "link": "https://stackoverflow.com/questions/37446465/summing-items-in-an-array-in-a-dataframe-in-a-groupby/37447100#37447100", "title": "Summing items in an array -- in a DataFrame -- in a groupby", "body": "<p>I may be doing something wrong, but @piRSquared's solution seems to break with the example DataFrame below when you group by one month. Though it does not break with a 12 month group. I guess it has to do with dates spanning over one year.</p>\n\n<p>Another option is to just cast the topic_dist column to Numpy arrays and apply an np.sum() to your time groups:</p>\n\n<pre><code>from datetime import datetime\n\nimport numpy as np\nimport pandas as pd\n\ndf = pd.DataFrame([[1, '2007-01-01', [.2, .5, .3]],\n                   [2, '2007-01-02', [.8, .5, .3]],\n                   [3, '2008-01-14', [0.1, 0.2, 0.3]]],\n                 columns=['doc_id', 'date', 'topic_dist'])\n\n\ndf.date = pd.to_datetime(df.date)\n\ndf = df.set_index('date')\n\ndf.topic_dist = df.topic_dist.apply(lambda x: np.array(x))\n</code></pre>\n\n<p>You can group by a single month.</p>\n\n<pre><code># Group by single months\ndf.groupby(pd.TimeGrouper('M'))['topic_dist'].apply(lambda x: np.sum(x))\n\ndate\n2007-01-31    [1.0, 1.0, 0.6]\n2007-02-28                  0\n2007-03-31                  0\n2007-04-30                  0\n2007-05-31                  0\n2007-06-30                  0\n2007-07-31                  0\n2007-08-31                  0\n2007-09-30                  0\n2007-10-31                  0\n2007-11-30                  0\n2007-12-31                  0\n2008-01-31    [0.1, 0.2, 0.3]\nName: topic_dist, dtype: object\n</code></pre>\n\n<p>Or group by 12 months:</p>\n\n<pre><code>df.groupby(pd.TimeGrouper('12M'))['topic_dist'].apply(lambda x: np.sum(x))\ndate\n2007-01-31    [1.0, 1.0, 0.6]\n2008-01-31    [0.1, 0.2, 0.3]\nName: topic_dist, dtype: object\n</code></pre>\n\n<p>Or other intervals:</p>\n\n<pre><code>df.groupby(pd.TimeGrouper('5M'))['topic_dist'].apply(lambda x: np.sum(x))\ndate\n2007-01-31    [1.0, 1.0, 0.6]\n2007-06-30                  0\n2007-11-30                  0\n2008-04-30    [0.1, 0.2, 0.3]\nName: topic_dist, dtype: object\n</code></pre>\n"}], "owner": {"reputation": 1730, "user_id": 674301, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/97e523edc8aabe111dba9f2a8e9e2da6?s=128&d=identicon&r=PG", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/674301/jeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 37447100, "answer_count": 2, "score": 1, "last_activity_date": 1464208368, "creation_date": 1464206119, "question_id": 37446465, "link": "https://stackoverflow.com/questions/37446465/summing-items-in-an-array-in-a-dataframe-in-a-groupby", "title": "Summing items in an array -- in a DataFrame -- in a groupby", "body": "<p>I'm working on some code that shows the distribution of topic models over time. Right now, the dataframe looks something like this:</p>\n\n<pre><code>doc_id  date        topic_dist\n1       2007-01-01  [.2,.5,.3]\n2       2007-03-02  [.8,.1,.1]\n...\n</code></pre>\n\n<p>My goal is to group the documents by date (by month, year, or quarter), and sum each of the items in the arrays (all arrays are the same length), to create an output that looks something like:</p>\n\n<pre><code>month    topic_sum\n2007-01  [54.8, 98.3, 61.0]\n</code></pre>\n\n<p>So far, I tried</p>\n\n<pre><code>year_groups = df.groupby(df['date'].map(lambda x: x.year))\noutput = pd.DataFrame()\noutput['yearly_topic_dist'] = year_groups.apply(lambda x: sum(x['topic_dist']))\n</code></pre>\n\n<p>So, I can't figure out how to sum each of the items in the array separately, and output another array.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464206367, "post_id": 37446457, "comment_id": 62395095, "body": "Because one of the <code>diceroll</code> is <code>1</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 1548675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5I8E.jpg?s=128&g=1", "display_name": "mng", "link": "https://stackoverflow.com/users/1548675/mng"}, "is_accepted": false, "score": 0, "last_activity_date": 1464206510, "creation_date": 1464206510, "answer_id": 37446575, "question_id": 37446457, "link": "https://stackoverflow.com/questions/37446457/python-game-if-statement-executing/37446575#37446575", "title": "Python Game if statement executing", "body": "<p>It's due to the operator precedence. AND binds tighter than OR, so your expression is evaluated as:</p>\n\n<pre><code>   if dice1roll == 1 or (dice2roll == 1 and player2roll != 'End Turn'):\n</code></pre>\n\n<p>which is basically an <em>OR</em> operation of <em>True</em> and <em>False</em> if dice1roll equals 1</p>\n\n<p>Reference : <a href=\"https://docs.python.org/3.3/reference/expressions.html#operator-precedence\" rel=\"nofollow\">https://docs.python.org/3.3/reference/expressions.html#operator-precedence</a></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6383022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e227e73f927279c96dc5e227e0680f1?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/6383022/luis"}, "edited": false, "score": 0, "creation_date": 1464208739, "post_id": 37446585, "comment_id": 62396363, "body": "Thank you very much!  That did it.  I did not know about operator precedence in if statements.  Thanks to all!"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 0, "last_activity_date": 1464206542, "creation_date": 1464206542, "answer_id": 37446585, "question_id": 37446457, "link": "https://stackoverflow.com/questions/37446457/python-game-if-statement-executing/37446585#37446585", "title": "Python Game if statement executing", "body": "<p>In this:</p>\n\n<pre><code>if dice1roll == 1 or dice2roll == 1 and player1roll != 'End Turn':\n</code></pre>\n\n<p>If <code>dice1roll == 1</code> is true, the entire statement passes due to the order of operations. Take a look at these groupings:</p>\n\n<pre><code>&gt;&gt;&gt; (1 or 0) and 0\n0\n&gt;&gt;&gt; 1 or (0 and 0)\n1\n&gt;&gt;&gt; 1 or 1 and 0\n1\n&gt;&gt;&gt; (1 or 1) and 0\n0\n&gt;&gt;&gt; 1 or (1 and 0)\n1\n&gt;&gt;&gt; 0 or 1 and 0\n0\n&gt;&gt;&gt; (0 or 1) and 0\n0\n&gt;&gt;&gt; 0 or (1 and 0)\n0\n</code></pre>\n\n<p>Use the following instead:</p>\n\n<pre><code>if (dice1roll == 1 or dice2roll == 1) and player1roll != 'End Turn':\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1421, "user_id": 4621141, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/80abf58b3f4ed527650483688cfcb1b9?s=128&d=identicon&r=PG&f=1", "display_name": "flen", "link": "https://stackoverflow.com/users/4621141/flen"}, "is_accepted": false, "score": 0, "last_activity_date": 1464208690, "last_edit_date": 1464208690, "creation_date": 1464207196, "answer_id": 37446768, "question_id": 37446457, "link": "https://stackoverflow.com/questions/37446457/python-game-if-statement-executing/37446768#37446768", "title": "Python Game if statement executing", "body": "<p>I suppose \"the second if statement\" you mention is this one:</p>\n\n<pre><code> if dice1roll == 1 or dice2roll == 1 and player1roll != 'End Turn':\n</code></pre>\n\n<p>the difference between this one and the one before is that the first one says \"if A <strong>and</strong> B, do this\", while the second says \"if A <strong>or</strong> B <em>and C</em>, do this\". </p>\n\n<p>The \"and\" operator will make the statement true <em>only</em> if both A and B are true (if one of them is false, then the statement is false). The \"or\" operator will make the statement true only if A <strong>or</strong> B is true (both <em>can</em> be true, but if only one is true then the statement is true). So, while you need A and B to be true for an \"and\" statement to be true, you only either A or B (or both) to make an statement with the \"or\" logical operator to be true.</p>\n\n<p>Have a look at the documentation: <a href=\"https://docs.python.org/2/library/stdtypes.html#boolean-operations-and-or-not\" rel=\"nofollow\">https://docs.python.org/2/library/stdtypes.html#boolean-operations-and-or-not</a> (note: this is for Python 2.7, but I think the same works in Python 3)</p>\n\n<p>Edit: I guess I was slow, there are other answers now. One points to something important, the operator precedence. <code>and</code> evaluates before <code>or</code>. So the second if statement actually says: \"if A or (B and C)\", which means \"if A is true, or if B <strong>and</strong> C are both true, do this\".\nPut in another way: <code>True or True and False</code> gets you <code>True</code>, meanwhile <code>(True or True) and False</code> gets you <code>False</code></p>\n"}], "owner": {"reputation": 13, "user_id": 6383022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e227e73f927279c96dc5e227e0680f1?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/6383022/luis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 37446585, "answer_count": 3, "score": 0, "last_activity_date": 1464208690, "creation_date": 1464206081, "last_edit_date": 1464208538, "question_id": 37446457, "link": "https://stackoverflow.com/questions/37446457/python-game-if-statement-executing", "title": "Python Game if statement executing", "body": "<p>I'm working on the Python Pig Game as a hobby.  My specific question is in regards to the second <code>if</code> statement.  Why does it run when in the previous <code>if</code> statement I've set <code>player1roll = 'End Turn'</code>?   </p>\n\n<pre><code>import random, easygui\nplayer1score = 0\nplayer2score = 0\nplayer1turnTotal = 0\nplayer2turnTotal = 0\nplayer1name = easygui.enterbox ('Player 1 please enter your name: ')\nplayer2name = easygui.enterbox ('Player 2 please enter your name: ')\ndice1roll = 0\ndice2roll = 0\nplayer1roll = 'Roll Again'\nplayer2roll = 'Roll Again'\nplayer1checkScore = 0\nplayer2checkScore = 0\nwhile player1roll == 'Roll Again' or player2roll == 'Roll Again':\n        while player1roll != 'End Turn' and player2score &lt; 100 and player2roll != 'Quit' and player1roll != 'Quit':\n                dice1roll = random.randint (1, 7)\n                dice2roll = random.randint (1, 7)\n                if dice1roll == 1 and dice2roll == 1:\n                        print 'Player 1 if 1.'\n                        player1score = 0\n                        player1turnScore = 0\n                        dice1 = str (dice1roll)\n                        dice2 = str (dice2roll)\n                        # print 'You rolled a 1 and a 1'\n                        # print player1name, 'your total score is 0'\n                        easygui.msgbox (player1name + ' you rolled a ' + dice1 + ' and a ' + dice2)\n                        easygui.msgbox (player1name + ' your total score is: 0')\n                        player1roll = 'End Turn'\n                        player2roll = 'Roll Again'\n                        player1turnTotal = 0\n                if dice1roll == 1 or dice2roll == 1 and player1roll != 'End Turn':\n                        print 'Player 1 if 2.'\n                        player1turnScore = 0\n                        dice1 = str (dice1roll)\n                        dice2 = str (dice2roll) \n                        player1score = player1score + player1turnScore\n                        player1total = str (player1score)\n                        easygui.msgbox (player1name + ' you rolled a ' + dice1 + ' and a ' + dice2)\n                        easygui.msgbox (player1name + ' your total score at turns end is: ' + player1total)\n                        player1roll = 'End Turn'\n                        player2roll = 'Roll Again'\n                        player1turnTotal = 0\n                if dice1roll != 1 and dice2roll !=1 and player1roll != 'End Turn':\n                        print 'Player 1 if 3.'\n                        dice1 = str (dice1roll)\n                        dice2 = str (dice2roll)\n                        easygui.msgbox (player1name + ' you rolled a ' + dice1 + ' and a ' + dice2)\n                        player1turnScore = dice1roll + dice2roll\n                        player1turnTotal = player1turnTotal + player1turnScore\n                        player1total = str (player1turnTotal)\n                        player1overall = str (player1score)\n                        easygui.msgbox (player1name + ' your total turn score is: ' + player1total + ' and your total score is: ' + player1overall) \n                        player1checkScore = player1score + player1turnTotal\n                        if player1checkScore &gt;= 100:\n                            print 'Player 1 if 3.1.'\n                            easygui.msgbox (\"Congratulations, you've won \" + player1name + \"!!!\")\n                            player2roll = 'End Turn'\n                            player1roll = 'End Turn'\n                        if player1checkScore &lt; 100:\n                            print 'Player 1 if 3.2.'\n                            player1roll = easygui.buttonbox (player1name, ' roll or end turn?', choices = ['Roll Again', 'End Turn', 'Quit'])\n                        if player1roll == 'End Turn' and player1checkScore &lt; 100:\n                                print 'Player 1 if 3.3.'\n                                player1score = player1score + player1turnTotal\n                                player1endTotal = str (player1score)\n                                easygui.msgbox (player1name + ' Your total score at turns end is: ' + player1endTotal)\n                                player1roll = 'End Turn'\n                                player2roll = 'Roll Again'\n                                player1turnTotal = 0\n\n        while player2roll != 'End Turn' and player1score &lt; 100 and player2roll != 'Quit' and player1roll != 'Quit':\n                dice1roll = random.randint (1, 7)\n                dice2roll = random.randint (1, 7)\n                if dice1roll == 1 and dice2roll == 1:\n                        print 'Player 2 if 1.'\n                        player2score = 0\n                        player2turnScore = 0\n                        dice1 = str (dice1roll)\n                        dice2 = str (dice2roll)\n                        # print 'You rolled a 1 and a 1'\n                        # print player2name, 'your total score is 0'\n                        easygui.msgbox (player2name + ' you rolled a ' + dice1 + ' and a ' + dice2)\n                        easygui.msgbox (player2name + ' your total score is: 0')\n                        player2roll = 'End Turn'\n                        player1roll = 'Roll Again'\n                        player2turnTotal = 0\n                if dice1roll == 1 or dice2roll == 1 and player2roll != 'End Turn':\n                        print 'Player 2 if 2.'\n                        player2turnScore = 0\n                        dice1 = str (dice1roll)\n                        dice2 = str (dice2roll) \n                        player2score = player2score + player2turnScore\n                        player2total = str (player2score)\n                        easygui.msgbox (player2name + ' you rolled a ' + dice1 + ' and a ' + dice2)\n                        easygui.msgbox (player2name + ' your total score at turns end is: ' + player2total)\n                        player2roll = 'End Turn'\n                        player1roll = 'Roll Again'\n                        player2turnTotal = 0\n                if dice1roll != 1 and dice2roll !=1 and player2roll != 'End Turn':\n                        print 'Player 2 if 3.'\n                        dice1 = str (dice1roll)\n                        dice2 = str (dice2roll)\n                        easygui.msgbox (player2name + ' you rolled a ' + dice1 + ' and a ' + dice2)\n                        player2turnScore = dice1roll + dice2roll\n                        player2turnTotal = player2turnTotal + player2turnScore\n                        player2total = str (player2turnTotal)\n                        player2overall = str (player2score)\n                        easygui.msgbox (player2name + ' your total turn score is: ' + player2total + ' and your total score is: ' + player2overall) \n                        player2checkScore = player2turnTotal + player2score\n                        if player2checkScore &gt;= 100:\n                            print 'Player 2 if 3.1.'\n                            easygui.msgbox (\"Congratulations, you've won \" + player2name + \"!!!\")\n                            player1roll = 'End Turn'\n                            player2roll = 'End Turn'\n                        if player2checkScore &lt; 100:\n                            print 'Player 2 if 3.2.'\n                            player2roll = easygui.buttonbox (player2name, ' roll or end turn?', choices = ['Roll Again', 'End Turn', 'Quit'])\n                        if player2roll == 'End Turn' and player2checkScore &lt; 100:\n                            print 'Player 2 if 3.3.'\n                            player2score = player2score + player2turnTotal\n                            player2endTotal = str (player2score)\n                            easygui.msgbox (player2name + ' Your total score at turns end is: ' + player2endTotal)\n                            player2roll = 'End Turn'\n                            player1roll = 'Roll Again'\n                            player2turnTotal = 0\n</code></pre>\n"}, {"tags": ["python", "django", "eclipse"], "comments": [{"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1464205937, "post_id": 37446282, "comment_id": 62394881, "body": "What is stopping you adding the app? You just edit the settings.py file. This has nothing to do with pydev or eclipse"}, {"owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "reply_to_user": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1464206429, "post_id": 37446282, "comment_id": 62395121, "body": "I can create the app, no problem with that. I just wanted to add this app in the project. I&#39;ve tried to restart the IDE to see if the new folder appear, but nothing. I will have to open the file as a separated one if I want to edit it"}, {"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1464221202, "post_id": 37446282, "comment_id": 62400733, "body": "Did you add it into INSTALLED_APPS?"}, {"owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "reply_to_user": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1464224199, "post_id": 37446282, "comment_id": 62401445, "body": "yes, I did. I installed the LiClipse and there the new app appears. I&#39;m using this IDE now."}], "answers": [{"tags": [], "owner": {"reputation": 4231, "user_id": 2304092, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/GPILT.jpg?s=128&g=1", "display_name": "OBu", "link": "https://stackoverflow.com/users/2304092/obu"}, "is_accepted": false, "score": 0, "last_activity_date": 1464337153, "creation_date": 1464337153, "answer_id": 37478375, "question_id": 37446282, "link": "https://stackoverflow.com/questions/37446282/pydev-how-to-include-new-apps-in-the-project/37478375#37478375", "title": "PyDev - how to include new apps in the project", "body": "<p>I usually use the context menu (right click on project in project explorer) and choose django/start new app.</p>\n"}], "owner": {"reputation": 4481, "user_id": 1265205, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/dWsVS.jpg?s=128&g=1", "display_name": "Andr&#233; Luiz", "link": "https://stackoverflow.com/users/1265205/andr%c3%a9-luiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464337153, "creation_date": 1464205420, "last_edit_date": 1464205578, "question_id": 37446282, "link": "https://stackoverflow.com/questions/37446282/pydev-how-to-include-new-apps-in-the-project", "title": "PyDev - how to include new apps in the project", "body": "<p>I have created a new app inside a django project using the command line: <code>python manage.py startapp name</code> and I'm using PyDev as my IDE for the first time.</p>\n\n<p>My problem is that I can't add this app to the project so I can begin to code. I have been reading some questions and answers but so far I couldn't find a answer. Can you help me, please?</p>\n\n<p>I'm using eclipse mars and I installed PyDev using the market place.</p>\n"}, {"tags": ["python", "list", "python-2.7", "function", "sorting"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 2, "creation_date": 1464205426, "post_id": 37446249, "comment_id": 62394640, "body": "Please do not post links to screen shots of code, instead include it in your post."}, {"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464205442, "post_id": 37446249, "comment_id": 62394648, "body": "It&#39;s better to provide code as text (can be formatted as code in the post), so we can make changes and test them. Nobody here is interested in manual typing the code into a file!"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1464205504, "post_id": 37446249, "comment_id": 62394681, "body": "<a href=\"https://docs.python.org/2/library/heapq.html#heapq.merge\" rel=\"nofollow noreferrer\"><code>list(heapq.merge(first_list, second_list))</code></a>?"}, {"owner": {"reputation": 13, "user_id": 6382596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608f939af5cbfd6330fad62540378a6d?s=128&d=identicon&r=PG&f=1", "display_name": "bariox", "link": "https://stackoverflow.com/users/6382596/bariox"}, "edited": false, "score": 0, "creation_date": 1464205592, "post_id": 37446249, "comment_id": 62394725, "body": "ok I will do that!"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1464206807, "post_id": 37446249, "comment_id": 62395313, "body": "This code would be a lot simpler if you iterate directly over your input list items instead of doing it indirectly with indices."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6382596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608f939af5cbfd6330fad62540378a6d?s=128&d=identicon&r=PG&f=1", "display_name": "bariox", "link": "https://stackoverflow.com/users/6382596/bariox"}, "edited": false, "score": 0, "creation_date": 1464206105, "post_id": 37446413, "comment_id": 62394961, "body": "sorry I forgot to mention that the built-in sorted function isnt allow. *fixed"}], "tags": [], "owner": {"reputation": 757, "user_id": 6330910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zdo0c.jpg?s=128&g=1", "display_name": "tk78", "link": "https://stackoverflow.com/users/6330910/tk78"}, "is_accepted": false, "score": 0, "last_activity_date": 1464205904, "creation_date": 1464205904, "answer_id": 37446413, "question_id": 37446249, "link": "https://stackoverflow.com/questions/37446249/how-to-create-a-sorted-list-given-two-already-sorted-lists-cannot-modify-eithe/37446413#37446413", "title": "How to create a sorted list given two already sorted lists ( cannot modify either given lists )", "body": "<p>That's fairly simple. Merge the lists using + and then use the sorted function.</p>\n\n<pre><code>merged = sorted(list1 + list2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6382596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608f939af5cbfd6330fad62540378a6d?s=128&d=identicon&r=PG&f=1", "display_name": "bariox", "link": "https://stackoverflow.com/users/6382596/bariox"}, "edited": false, "score": 0, "creation_date": 1464211312, "post_id": 37446739, "comment_id": 62397546, "body": "I ran this code for the second test case and it returned [2, 3, 6, 9, 13, 19]. I am still missing the last element of my list, the 22. Any ideas why?"}, {"owner": {"reputation": 874, "user_id": 3216424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FQ4VZ.jpg?s=128&g=1", "display_name": "dmlittle", "link": "https://stackoverflow.com/users/3216424/dmlittle"}, "reply_to_user": {"reputation": 13, "user_id": 6382596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608f939af5cbfd6330fad62540378a6d?s=128&d=identicon&r=PG&f=1", "display_name": "bariox", "link": "https://stackoverflow.com/users/6382596/bariox"}, "edited": false, "score": 0, "creation_date": 1464211624, "post_id": 37446739, "comment_id": 62397674, "body": "@bariox i had a typo in the second while loop. it should have been <code>len(list2)</code> instead of <code>len(list1)</code>, the code is now fixed in the answer."}, {"owner": {"reputation": 13, "user_id": 6382596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608f939af5cbfd6330fad62540378a6d?s=128&d=identicon&r=PG&f=1", "display_name": "bariox", "link": "https://stackoverflow.com/users/6382596/bariox"}, "edited": false, "score": 0, "creation_date": 1464212615, "post_id": 37446739, "comment_id": 62398107, "body": "Ah thanks man I accepted your answer. Thanks everyone who replied helped me out a lot."}], "tags": [], "owner": {"reputation": 874, "user_id": 3216424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FQ4VZ.jpg?s=128&g=1", "display_name": "dmlittle", "link": "https://stackoverflow.com/users/3216424/dmlittle"}, "is_accepted": true, "score": 1, "last_activity_date": 1464211571, "last_edit_date": 1464211571, "creation_date": 1464207083, "answer_id": 37446739, "question_id": 37446249, "link": "https://stackoverflow.com/questions/37446249/how-to-create-a-sorted-list-given-two-already-sorted-lists-cannot-modify-eithe/37446739#37446739", "title": "How to create a sorted list given two already sorted lists ( cannot modify either given lists )", "body": "<p>The code is actually a lot simpler than what you wrote. </p>\n\n<pre><code>def merge_lists(list1, list2):\n    sortedList = []\n    pointer1 = 0\n    pointer2 = 0\n\n    while pointer1 &lt; len(list1) and pointer2 &lt; len(list2):\n        if list1[pointer1] &lt; list2[pointer2]:\n            sortedList.append(list1[pointer1])\n            pointer1 += 1\n        elif list1[pointer1] &gt; list2[pointer2]:\n            sortedList.append(list2[pointer2])\n            pointer2 += 1\n        else:\n            sortedList.append(list1[pointer1])\n            pointer1 += 1\n\n    while pointer1 &lt; len(list1):\n        sortedList.append(list1[pointer1])\n        pointer1 += 1\n\n    while pointer2 &lt; len(list2):\n        sortedList.append(list2[pointer2])\n        pointer2 += 1\n\n    return sortedList\n</code></pre>\n\n<p>The problem with your code is that <code>pointer1</code> and <code>pointer2</code> will never be 0 since you increment them. Therefore you always execute the else branch of the <code>pointer2 == 0</code> condition. The logic in the else statement is wrong because you're adding numbers again from index 1 as stated in the for loop. That's why you add 6 again instead of 22, it's the value at index 1 of your second list in your example.</p>\n"}, {"tags": [], "owner": {"reputation": 373, "user_id": 1548675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5I8E.jpg?s=128&g=1", "display_name": "mng", "link": "https://stackoverflow.com/users/1548675/mng"}, "is_accepted": false, "score": 0, "last_activity_date": 1464207233, "creation_date": 1464207233, "answer_id": 37446779, "question_id": 37446249, "link": "https://stackoverflow.com/questions/37446249/how-to-create-a-sorted-list-given-two-already-sorted-lists-cannot-modify-eithe/37446779#37446779", "title": "How to create a sorted list given two already sorted lists ( cannot modify either given lists )", "body": "<p>Your for loop to iterate over both the lists and keep appending the smaller value and incrementing corresponding index is correct.</p>\n\n<pre><code>   def merge_lists( list1, list2 ):\n\n       sortedList = []\n       pointer1 = 0\n       pointer2 = 0\n\n       while pointer1 &lt; len( list1 ) and pointer2 &lt; len( list2 ):\n           if list1[ pointer1 ] &lt; list2[ pointer2 ]:\n               sortedList.append( list1[ pointer1 ] )\n               pointer1 += 1\n           elif list2[ pointer2 ] &lt; list1[ pointer1 ]:\n               sortedList.append( list2[ pointer2 ] )\n               pointer2 += 1\n           elif list1[ pointer1 ] == list2[ pointer2 ]:\n               sortedList.append( list1[ pointer1 ] )\n               sortedList.append( list2[ pointer2 ] )\n               pointer1 += 1\n               pointer2 += 1\n</code></pre>\n\n<p>It's all good till this point. The error happens afterwards. At this point of time at least one of the lists have been exhausted. So, you simply need to run 2 <em>for</em> loops to add the remaining numbers from the non exhausted list.</p>\n\n<pre><code>   while pointer1 &lt; len( list1 ):\n       sortedList.append( list1[ pointer1 ] )\n       pointer1 += 1\n\n   while pointer2 &lt; len( list2 ):\n       sortedList.append( list2[ pointer2 ] )\n       pointer2 += 1\n\n   return sortedList\n</code></pre>\n\n<p>Plain and simple :)</p>\n"}, {"tags": [], "owner": {"reputation": 1360, "user_id": 2576278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55b1a545f41a9882e93c752b59312929?s=128&d=identicon&r=PG", "display_name": "IronSean", "link": "https://stackoverflow.com/users/2576278/ironsean"}, "is_accepted": false, "score": 0, "last_activity_date": 1464207626, "creation_date": 1464207626, "answer_id": 37446892, "question_id": 37446249, "link": "https://stackoverflow.com/questions/37446249/how-to-create-a-sorted-list-given-two-already-sorted-lists-cannot-modify-eithe/37446892#37446892", "title": "How to create a sorted list given two already sorted lists ( cannot modify either given lists )", "body": "<p>The problem is in your <code>amountNumbersLeft1 = len( list1 ) - ( pointer1 - 1 )</code> line: In your second set of test data, the <code>len( list1 )</code> function will return 4. and the <code>pointer1</code> will be 3 since it's pointing to index 3. <code>(4  - ( 3 - 1))</code> is 2, which is the index you output.</p>\n\n<p>I think what you really want is <code>for o in range( pointer1, len( list1 )-1 ):</code></p>\n"}], "owner": {"reputation": 13, "user_id": 6382596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608f939af5cbfd6330fad62540378a6d?s=128&d=identicon&r=PG&f=1", "display_name": "bariox", "link": "https://stackoverflow.com/users/6382596/bariox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 37446739, "answer_count": 4, "score": -1, "last_activity_date": 1464211571, "creation_date": 1464205324, "last_edit_date": 1464206057, "question_id": 37446249, "link": "https://stackoverflow.com/questions/37446249/how-to-create-a-sorted-list-given-two-already-sorted-lists-cannot-modify-eithe", "title": "How to create a sorted list given two already sorted lists ( cannot modify either given lists )", "body": "<p>My goal is to create a function that takes 2 lists of sorted ints as arguments\nand creates a sorted merged list. The only problem is that I am not allowed to \nmodify the 2 original lists ( and cant make duplicates to modify either ). Only allowed built-ins are range(), len(), index(), append(). So far I am stumped. </p>\n\n<p>Here is what I have:</p>\n\n<pre><code>def merge_lists( list1, list2 ):\n\nsortedList = []\n\npointer1 = 0\n\npointer2 = 0\n\nwhile pointer1 &lt; len( list1 ) and pointer2 &lt; len( list2 ):\n\n    if list1[ pointer1 ] &lt; list2[ pointer2 ]:\n\n        sortedList.append( list1[ pointer1 ] )\n\n        pointer1 += 1\n\n    elif list2[ pointer2 ] &lt; list1[ pointer1 ]:\n\n        sortedList.append( list2[ pointer2 ] )\n\n        pointer2 += 1\n\n    elif list1[ pointer1 ] == list2[ pointer2 ]:\n\n        sortedList.append( list1[ pointer1 ] )\n\n        sortedList.append( list2[ pointer2 ] )\n\n        pointer1 += 1\n\n        pointer2 += 1\n\nif pointer1 == 0:\n\n    for number in list1:\n\n        sortedList.append( number )\n\nif pointer2 == 0:\n\n    for number in list2:\n\n        sortedList.append( number )\n\nelse:\n\n    amountNumbersLeft1 = len( list1 ) - ( pointer1 - 1 )\n\n    amountNumbersLeft2 = len( list2 ) - ( pointer2 - 1 )\n\n    if amountNumbersLeft1 != 0:\n\n        for o in range( 1, ( amountNumbersLeft1 ) ):\n\n            sortedList.append( list1[ o ] )\n\n    if amountNumbersLeft2 != 0:\n\n        for i in range( 1, ( amountNumbersLeft2 ) ):\n\n            sortedList.append( list2[ i ] )\n\nreturn sortedList\n</code></pre>\n\n<p>My test case with ( [ 1, 2, 3 ], [ 4, 5, 6 ] ) as the argument worked, returning a list [ 1, 2, 3, 4, 5, 6 ]. My test case with ( [ 2, 13, 19 ], [ 3, 6, 9, 22 ] ) however, returned [ 2, 3, 6, 9, 13, 19, 6 ]. </p>\n\n<p>I feel that there is a much simpler sorting solution. Please help. Thanks.</p>\n"}, {"tags": ["python", "automation", "python-3.x", "bots", "webforms"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 6389600, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/eeeeec5b25ca462baad1d75529673744?s=128&d=identicon&r=PG", "display_name": "Enrique Martinez", "link": "https://stackoverflow.com/users/6389600/enrique-martinez"}, "is_accepted": true, "score": 1, "last_activity_date": 1464332959, "creation_date": 1464332959, "answer_id": 37476982, "question_id": 37473861, "link": "https://stackoverflow.com/questions/37473861/how-do-i-submit-data-to-a-web-form-in-python/37476982#37476982", "title": "How do I submit data to a web form in python?", "body": "<p>I would highly recommend utilizing Selenium+Webdriver for this, since your question appears UI and browser-based. You can install Selenium via 'pip install selenium' in most cases. Here are a couple of good references to get started.\n- <a href=\"http://selenium-python.readthedocs.io/\" rel=\"nofollow\">http://selenium-python.readthedocs.io/</a>\n- <a href=\"https://pypi.python.org/pypi/selenium\" rel=\"nofollow\">https://pypi.python.org/pypi/selenium</a>\nAlso, if this process needs to drive the browser headlessly, look into including PhantomJS (via GhostDriver), which can be downloaded from the phantomjs.org website.</p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1250553600, "open_beta_date": 1247529600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon@2.png", "twitter_account": "super_user", "favicon_url": "https://cdn.sstatic.net/Sites/superuser/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon.png", "audience": "computer enthusiasts and power users", "site_url": "https://superuser.com", "api_site_parameter": "superuser", "logo_url": "https://cdn.sstatic.net/Sites/superuser/Img/logo.png", "name": "Super User", "site_type": "main_site"}, "on_date": 1464316009, "question_id": 1080871}, "owner": {"user_type": "does_not_exist", "display_name": "user4962762"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 37476982, "answer_count": 1, "score": 0, "last_activity_date": 1464332959, "creation_date": 1464204851, "question_id": 37473861, "link": "https://stackoverflow.com/questions/37473861/how-do-i-submit-data-to-a-web-form-in-python", "title": "How do I submit data to a web form in python?", "body": "<p>I'm trying to automate the process of creating an account for something, lets call it X, but I cant figure out what to do.</p>\n\n<p>I saw this code somewhere,</p>\n\n<pre><code>import urllib\nimport urllib2\nimport webbrowser\n\ndata = urllib.urlencode({'q': 'Python'})\nurl = 'http://duckduckgo.com/html/'\nfull_url = url + '?' + data\nresponse = urllib2.urlopen(full_url)\nwith open(\"results.html\", \"w\") as f:\n    f.write(response.read())\n\nwebbrowser.open(\"results.html\")\n</code></pre>\n\n<p>But I cant figure out how to modify it for my use.</p>\n"}, {"tags": ["python", "machine-learning", "nlp", "scikit-learn", "linear-regression"], "comments": [{"owner": {"reputation": 675, "user_id": 3461734, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YkaA-W2CW_Y/AAAAAAAAAAI/AAAAAAAAAIM/3YpNnmUqk60/photo.jpg?sz=128", "display_name": "ar-ms", "link": "https://stackoverflow.com/users/3461734/ar-ms"}, "edited": false, "score": 0, "creation_date": 1464206366, "post_id": 37446104, "comment_id": 62395094, "body": "The number of features mismatch between training and predicting phase, you cannot ask your model to predict with less or more features than the number of features that was used in the training phase."}], "answers": [{"tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": true, "score": 0, "last_activity_date": 1464205258, "creation_date": 1464205258, "answer_id": 37446231, "question_id": 37446104, "link": "https://stackoverflow.com/questions/37446104/python-sklearn-linear-model-linearregression-valueerror-occured-when-predict/37446231#37446231", "title": "Python sklearn.linear_model: LinearRegression() ValueError occured when .predict()", "body": "<p>You trained a linar model on 19231 features, but want to predict some new sample with only 5477 features. <strong>That's not how linear models work (or most of the classifiers)</strong>. The number of features need to be the same!</p>\n\n<p>How should your linear model, which consists of a linear combination of 19231 variables work on only 5477 variables? If some vars are unknown during prediction, you could impute them (e.g. setting to zero or mean), but even this approach needs to know the exact mapping of your variables. Which variable in train corresponds to which in predict.</p>\n"}], "owner": {"reputation": 13, "user_id": 6339219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0652aa3ccc904e872462a21bc7bb94?s=128&d=identicon&r=PG&f=1", "display_name": "Audrey Feng", "link": "https://stackoverflow.com/users/6339219/audrey-feng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 37446231, "answer_count": 1, "score": 1, "last_activity_date": 1464205258, "creation_date": 1464204813, "last_edit_date": 1464205123, "question_id": 37446104, "link": "https://stackoverflow.com/questions/37446104/python-sklearn-linear-model-linearregression-valueerror-occured-when-predict", "title": "Python sklearn.linear_model: LinearRegression() ValueError occured when .predict()", "body": "<p>My training matrix X has shape (5182, 19231) and y is a list of 1s and 0s with length 5182. My test matrix has shape (496, 5477). I stored them in seperate pickle files. Here is my code:</p>\n\n<pre><code>def read(pklFile1):\n    f=open(pklFile1, 'rb')\n    Y = cPickle.load(f)\n    f.close()\n    return Y\nif __name__ == '__main__':\n    X=read(\"results/train_feature.pkl\")\n    y=read(\"results/train_label.pkl\")\n    test=read(\"results/test_feature.pkl\")\n    target=read(\"test_label.pkl\")\n    clf=LogisticRegression()\n    clf=clf.fit(X, y)\n    predicted= clf.predict(test)\n    accuracy=np.mean(predicted == target)\n    print accuracy\n</code></pre>\n\n<p>When I run my code, the following message occured when running<br>\n<code>predicted = clf.predict(test)</code>:</p>\n\n<blockquote>\n  <p><code>ValueError: X has 5477 features per sample; expecting 19231</code></p>\n</blockquote>\n\n<p>How can I fix it?</p>\n"}, {"tags": ["python", "python-2.7", "loops"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 2, "creation_date": 1464204749, "post_id": 37446020, "comment_id": 62394299, "body": "You could use another loop and print each item."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1464204772, "post_id": 37446020, "comment_id": 62394305, "body": "What is the code that actually e-mails the list? It should append the contents of the list to the e-mail one item at a time, not simply covert the list to a string."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 3, "creation_date": 1464204795, "post_id": 37446020, "comment_id": 62394322, "body": "Or use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.join\" rel=\"nofollow noreferrer\"><b><code>str.join</code></b></a>: <code>&#39;\\n&#39;.join(codes)</code>"}, {"owner": {"reputation": 570, "user_id": 5017282, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc704a7526f6681e51eccba8fbd00e07?s=128&d=identicon&r=PG&f=1", "display_name": "RobertR", "link": "https://stackoverflow.com/users/5017282/robertr"}, "edited": false, "score": 0, "creation_date": 1464204835, "post_id": 37446020, "comment_id": 62394346, "body": "You need to show the rest of your code."}, {"owner": {"reputation": 415, "user_id": 1729591, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/273357ab6048f135c5c4d7be378d415e?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/1729591/freddy"}, "edited": false, "score": 0, "creation_date": 1464206482, "post_id": 37446020, "comment_id": 62395148, "body": "Edited question to show all of the code"}], "answers": [{"comments": [{"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 2, "creation_date": 1464205075, "post_id": 37446112, "comment_id": 62394471, "body": "For the HTML version, it should actually be <code>&#39;&lt;br&gt;&#39;.join(map(cgi.escape, my_list))</code>."}, {"owner": {"reputation": 415, "user_id": 1729591, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/273357ab6048f135c5c4d7be378d415e?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/1729591/freddy"}, "edited": false, "score": 0, "creation_date": 1464206501, "post_id": 37446112, "comment_id": 62395158, "body": "I just added all my code to make the scenario more clear"}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 5, "last_activity_date": 1464204827, "creation_date": 1464204827, "answer_id": 37446112, "question_id": 37446020, "link": "https://stackoverflow.com/questions/37446020/python-line-break-after-each-item-in-a-list/37446112#37446112", "title": "Python - line break after each item in a list", "body": "<p>When you build the text for the email, convert the list to a string with newlines like this</p>\n\n<pre><code>text = '\\n'.join(list)\n</code></pre>\n\n<p>If you're sending an html email, you may have to do this</p>\n\n<pre><code>text = '&lt;br/&gt;'.join(list)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 415, "user_id": 1729591, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/273357ab6048f135c5c4d7be378d415e?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/1729591/freddy"}, "edited": false, "score": 0, "creation_date": 1464218383, "post_id": 37448641, "comment_id": 62400018, "body": "This seemed to do the trick. Thank you."}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 2, "last_activity_date": 1464215027, "creation_date": 1464215027, "answer_id": 37448641, "question_id": 37446020, "link": "https://stackoverflow.com/questions/37446020/python-line-break-after-each-item-in-a-list/37448641#37448641", "title": "Python - line break after each item in a list", "body": "<p>To resolve the <code>str.join</code> on a list of numbers, run a list comprehension to convert:</p>\n\n<pre><code>msg = '\\n'.join([str(i) for i in list])\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 1729591, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/273357ab6048f135c5c4d7be378d415e?s=128&d=identicon&r=PG", "display_name": "Freddy", "link": "https://stackoverflow.com/users/1729591/freddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8990, "favorite_count": 1, "closed_date": 1464249310, "accepted_answer_id": 37448641, "answer_count": 2, "score": 2, "last_activity_date": 1464215027, "creation_date": 1464204554, "last_edit_date": 1464206449, "question_id": 37446020, "link": "https://stackoverflow.com/questions/37446020/python-line-break-after-each-item-in-a-list", "closed_reason": "Needs details or clarity", "title": "Python - line break after each item in a list", "body": "<p>I have an empty list and a loop. The loop's results append to the empty list. The list is then emailed to me but it comes in the form of <code>['item1', 'item2]</code> I would like this list to be formatted like so:</p>\n\n<pre><code>item1\nitem2\n</code></pre>\n\n<p>My code looks something like this:</p>\n\n<pre><code>list = []\n\ndef function_name():\n    for item in items:\n        r = requests.get(item)\n        results = r.status_code, r.url\n        print(results, time.strftime('%Y-%m-%d'))\n        for s_code in results:\n            list.append(s_code)\n\n    msg = str(list)\n    subject = 'Hello'\n    sender = 'me@example.com'\n    recepient = 'you@example.com'\n\n    s = smtplib.SMTP('localhost')\n    s.sendmail('address1@example.com', 'address2@example.com', msg)\n    s.quit()\n</code></pre>\n\n<p>check_broken_links()</p>\n\n<p>When I remove <code>str</code> and do <code>msg = '\\n'.join(list)</code> I get an error because I am combining <code>int</code> and <code>str</code> as seen in this line <code>results = r.status_code, r.url</code> leaving <code>str</code> returns every iterable in one line, so that's no good either.</p>\n\n<p>ps\nstill working on my mail function, it's a bit sloppy, but it sends.</p>\n"}, {"tags": ["python", "python-2.7", "cgi", "http-status-codes", "http-status-code-303"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1464205008, "post_id": 37445901, "comment_id": 62394440, "body": "Have you read <a href=\"http://stackoverflow.com/q/6122957/3001761\">stackoverflow.com/q/6122957/3001761</a>?"}, {"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1464207177, "post_id": 37445901, "comment_id": 62395505, "body": "Thanks John! Yes, I have, but it doesn&#39;t solve my problem. Instead of <code>Internal Server Error</code> I get a page containing the text <code>Location: http:&#47;&#47;192.168.1.109</code>, instead of being redirected to that page."}, {"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1464208556, "post_id": 37445901, "comment_id": 62396249, "body": "So I had a look at the apache error log and I see that there&#39;s no error when the first line is <code>Status: 303 See other\\n</code>. So this other question is right in this part. The second line (<code>Location: ...</code>), however, doesn&#39;t appear to work..."}], "answers": [{"tags": [], "owner": {"reputation": 469, "user_id": 3375610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec25d965933f632818d9549a7d4d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "alltrue", "link": "https://stackoverflow.com/users/3375610/alltrue"}, "is_accepted": false, "score": 0, "last_activity_date": 1464208295, "creation_date": 1464208295, "answer_id": 37447075, "question_id": 37445901, "link": "https://stackoverflow.com/questions/37445901/how-to-return-http-303-from-python/37447075#37447075", "title": "How to return HTTP 303 from python?", "body": "<p>Typically browsers like to see <code>/r/n/r/n</code> at the end of an HTTP response.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464290983, "post_id": 37468554, "comment_id": 62437589, "body": "Thanks Michal! I&#39;m getting an error though :( <code>name &#39;self&#39; is not defined</code>. I am using python2."}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464292375, "post_id": 37468554, "comment_id": 62438334, "body": "@panos , this is a more self(haha) contained example of what you are trying to accomplish."}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464292491, "post_id": 37468554, "comment_id": 62438394, "body": "@panos it should be python two compatible now"}, {"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464293261, "post_id": 37468554, "comment_id": 62438786, "body": "Thanks man! I&#39;m trying to make it work but I get <code>IndentationError:</code> at the first <code>if</code>... And since I&#39;m a python newbie I don&#39;t really know where to put the indent..."}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464293379, "post_id": 37468554, "comment_id": 62438858, "body": "@panos Try it now."}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464294352, "post_id": 37468554, "comment_id": 62439316, "body": "@panos I removed the <code>except</code> block and forgot to put it back, the current version should clear up that error. Sorry bud, I don&#39;t have a python2 interpreter on me at the moment."}, {"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464294390, "post_id": 37468554, "comment_id": 62439334, "body": "I think it worked this time! But it died when I pressed the button for the second time. The error I get is <code>UnboundLocalError: local variable &#39;server&#39; referenced before assignment</code>. Oh, and don&#39;t worry about python2; I changed my (tiny) script to python3 ;)"}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464294758, "post_id": 37468554, "comment_id": 62439553, "body": "@panos this should work. I changed up the main method a bit so that you shouldn&#39;t catch that exception. Note for python3 the line: <code>self.wfile.write(page)</code> needs to be changed to <code>self.wfile.write(page.encode())</code>"}, {"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464294794, "post_id": 37468554, "comment_id": 62439578, "body": "...and now I get <code>OSError: [Errno 98] Address already in use</code>"}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464294896, "post_id": 37468554, "comment_id": 62439636, "body": "Restart/or close the original server script. Its still running (probably under python 2)"}, {"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464295457, "post_id": 37468554, "comment_id": 62439948, "body": "It&#39;s the same script that keeps running in the background after I press the button for the first time..."}, {"owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "edited": false, "score": 0, "creation_date": 1464381534, "post_id": 37468554, "comment_id": 62480181, "body": "Michal, I eventually found another way to solve my problem. I posted the answer to my <a href=\"http://stackoverflow.com/questions/37399965/refresh-web-page-using-a-cgi-python-script/37491794\">other question</a>, since it&#39;s not exactly the solution to &quot;return the HTTP 303 status code&quot;. Thanks a lot for your time in helping me with this :)"}], "tags": [], "owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "is_accepted": false, "score": 2, "last_activity_date": 1464301875, "last_edit_date": 1464301875, "creation_date": 1464287508, "answer_id": 37468554, "question_id": 37445901, "link": "https://stackoverflow.com/questions/37445901/how-to-return-http-303-from-python/37468554#37468554", "title": "How to return HTTP 303 from python?", "body": "<p>Assuming you are using cgi (<a href=\"https://docs.python.org/2/library/cgi.html\" rel=\"nofollow\">2.7</a>)(<a href=\"https://docs.python.org/3.5/library/cgi.html\" rel=\"nofollow\">3.5</a>)</p>\n\n<p>The example below should redirect to the same page. The example doesn't attempt to parse headers, check what POST was send, it simply redirects to the page <code>'/'</code> when a POST is detected.</p>\n\n<pre><code># python 3 import below:\n# from http.server import HTTPServer, BaseHTTPRequestHandler\n# python 2 import below:\nfrom BaseHTTPServer import BaseHTTPRequestHandler, HTTPServer\nimport cgi\n#stuff ...\nclass WebServerHandler(BaseHTTPRequestHandler):\n    def do_GET(self):\n        try:\n            if self.path.endswith(\"/\"):\n                self.send_response(200)\n                self.send_header('Content-type', 'text/html')\n                self.end_headers()\n\n                page ='''&lt;html&gt;\n                         &lt;body&gt;\n                         &lt;form action=\"/\" method=\"POST\"&gt;\n                         &lt;input type=\"submit\" value=\"Reload\" &gt;\n                         &lt;/form&gt;\n                         &lt;/body&gt;\n                         &lt;/html'''\n\n                self.wfile.write(page)\n        except IOError:\n            self.send_error(404, \"File Not Found {}\".format(self.path))\n    def do_POST(self):\n        self.send_response(303)\n        self.send_header('Content-type', 'text/html')\n        self.send_header('Location', '/') #This will navigate to the original page\n        self.end_headers()\n\ndef main():\n    try:\n        port = 8080\n        server = HTTPServer(('', port), WebServerHandler)\n        print(\"Web server is running on port {}\".format(port))\n        server.serve_forever()\n\n    except KeyboardInterrupt:\n        print(\"^C entered, stopping web server...\")\n        server.socket.close()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 1779684, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e3b86ec9764c591ca4f7de2c6d532240?s=128&d=identicon&r=PG", "display_name": "ILoveGit", "link": "https://stackoverflow.com/users/1779684/ilovegit"}, "is_accepted": false, "score": 0, "last_activity_date": 1583540530, "creation_date": 1583540530, "answer_id": 60573243, "question_id": 37445901, "link": "https://stackoverflow.com/questions/37445901/how-to-return-http-303-from-python/60573243#60573243", "title": "How to return HTTP 303 from python?", "body": "<p>Be very careful about what Python automatically does.\nFor example, in Python 3, the print function adds line endings to each print, which can mess with HTTP's very specific number of line endings between each message.\nYou also still need a content type header, for some reason.</p>\n\n<p>This worked for me in Python 3 on Apache 2:</p>\n\n<pre><code>print('Status: 303 See Other')\nprint('Location: /foo')\nprint('Content-type:text/plain')\nprint()\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 751115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237158dfe5bb9e2452fdca3eff559d1a?s=128&d=identicon&r=PG", "display_name": "panos", "link": "https://stackoverflow.com/users/751115/panos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4131, "favorite_count": 2, "answer_count": 3, "score": 2, "last_activity_date": 1583540530, "creation_date": 1464204074, "last_edit_date": 1495540367, "question_id": 37445901, "link": "https://stackoverflow.com/questions/37445901/how-to-return-http-303-from-python", "title": "How to return HTTP 303 from python?", "body": "<p>This question comes from <a href=\"https://stackoverflow.com/questions/37399965/refresh-web-page-using-a-cgi-python-script\">this one</a>.</p>\n\n<p>What I want is to be able to return the <code>HTTP 303</code> header from my python script, when the user clicks on a button. My script is very simple and as far as output is concerned, it <em>only</em> prints the following two lines:</p>\n\n<pre><code>print \"HTTP/1.1 303 See Other\\n\\n\"\nprint \"Location: http://192.168.1.109\\n\\n\"\n</code></pre>\n\n<p>I have also tried many different variants of the above (with a different number of <code>\\r</code> and <code>\\n</code> at the end of the lines), but without success; so far I always get <code>Internal Server Error</code>.</p>\n\n<p>Are the above two lines enough for sending a <code>HTTP 303</code> response? Should there be something else?</p>\n"}, {"tags": ["python", "pyqt", "qsplitter"], "comments": [{"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464204539, "post_id": 37445896, "comment_id": 62394191, "body": "It looks like you&#39;re using a stylesheet. Why not just styling the <code>QSplitter</code>, so that it does not show an image?"}, {"owner": {"reputation": 644, "user_id": 3689166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8148710486ab58ba20f23d4d6d736ae5?s=128&d=identicon&r=PG&f=1", "display_name": "limbo", "link": "https://stackoverflow.com/users/3689166/limbo"}, "reply_to_user": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464207124, "post_id": 37445896, "comment_id": 62395473, "body": "I&#39;m pretty sure I&#39;m not using a style sheet for my slitter, since I just instantiate it and never assign it any style sheet or whatever. I&#39;ll try to clear the style sheet if anything is in there."}, {"owner": {"reputation": 644, "user_id": 3689166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8148710486ab58ba20f23d4d6d736ae5?s=128&d=identicon&r=PG&f=1", "display_name": "limbo", "link": "https://stackoverflow.com/users/3689166/limbo"}, "reply_to_user": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464207228, "post_id": 37445896, "comment_id": 62395525, "body": "tried it and didn&#39;t work, the dots are still showing."}, {"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464207240, "post_id": 37445896, "comment_id": 62395533, "body": "What OS are you using? The image you provided doesn&#39;t look like native style..."}, {"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464207263, "post_id": 37445896, "comment_id": 62395550, "body": "What stylesheet code are you using?"}, {"owner": {"reputation": 644, "user_id": 3689166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8148710486ab58ba20f23d4d6d736ae5?s=128&d=identicon&r=PG&f=1", "display_name": "limbo", "link": "https://stackoverflow.com/users/3689166/limbo"}, "reply_to_user": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464207555, "post_id": 37445896, "comment_id": 62395697, "body": "Windows 10, and to take out the style sheet I did self.mySplitter.setStyleSheet(&quot;&quot;)"}, {"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464207949, "post_id": 37445896, "comment_id": 62395913, "body": "Look at my answer please."}], "answers": [{"comments": [{"owner": {"reputation": 644, "user_id": 3689166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8148710486ab58ba20f23d4d6d736ae5?s=128&d=identicon&r=PG&f=1", "display_name": "limbo", "link": "https://stackoverflow.com/users/3689166/limbo"}, "edited": false, "score": 0, "creation_date": 1464208288, "post_id": 37446979, "comment_id": 62396113, "body": "Awesome! This is what I needed. Thank you very much."}, {"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "reply_to_user": {"reputation": 644, "user_id": 3689166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8148710486ab58ba20f23d4d6d736ae5?s=128&d=identicon&r=PG&f=1", "display_name": "limbo", "link": "https://stackoverflow.com/users/3689166/limbo"}, "edited": false, "score": 0, "creation_date": 1464208366, "post_id": 37446979, "comment_id": 62396153, "body": "Glad I could help! If you need to style more widgets in future, I recommend to create a file, put all the style definitions in it, read it in Python code and apply it using the above."}], "tags": [], "owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "is_accepted": true, "score": 0, "last_activity_date": 1464207933, "creation_date": 1464207933, "answer_id": 37446979, "question_id": 37445896, "link": "https://stackoverflow.com/questions/37445896/remove-qsplitter-line-between-widgets/37446979#37446979", "title": "Remove QSplitter line between widgets", "body": "<p>I think you have applied a stylesheet somewhere in you code. To hide the image, try this:</p>\n\n<pre><code>self.mySplitter.setStyleSheet(\"QSplitter::handle { image: none; }\")\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 644, "user_id": 3689166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8148710486ab58ba20f23d4d6d736ae5?s=128&d=identicon&r=PG&f=1", "display_name": "limbo", "link": "https://stackoverflow.com/users/3689166/limbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 0, "accepted_answer_id": 37446979, "answer_count": 1, "score": 0, "last_activity_date": 1464207933, "creation_date": 1464204055, "last_edit_date": 1464207502, "question_id": 37445896, "link": "https://stackoverflow.com/questions/37445896/remove-qsplitter-line-between-widgets", "title": "Remove QSplitter line between widgets", "body": "<p>I am building a UI and I have a horizontal QSplitter with 2 widgets. I want to remove the line with the dots (.....) between the widgets. </p>\n\n<p>Here is an image to make it clear what I want removed. </p>\n\n<p><a href=\"http://i.stack.imgur.com/sUC61.png\" rel=\"nofollow\">the dots I want gone</a><br>\nhere is some code:<br>\n<code>self.mySplitter = QSplitter(Qt.Horizontal, self)\n self.mySplitter.addWidget(self.widget1)\n self.mySplitter.addWidget(self.mySecondSplitter)\n self.mySplitter.setChildrenCollapsible(False)</code></p>\n"}, {"tags": ["python", "document-conversion"], "comments": [{"owner": {"reputation": 5442, "user_id": 105886, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7d3264fa6d952319521078713f453372?s=128&d=identicon&r=PG", "display_name": "RoadieRich", "link": "https://stackoverflow.com/users/105886/roadierich"}, "edited": false, "score": 0, "creation_date": 1464204836, "post_id": 37445886, "comment_id": 62394347, "body": "Can you post your code in a manner that isn&#39;t interspersed with log lines?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6466294, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/8206a4aa1382bfc108468b00d088954e?s=128&d=identicon&r=PG", "display_name": "wwa", "link": "https://stackoverflow.com/users/6466294/wwa"}, "is_accepted": false, "score": 5, "last_activity_date": 1465932517, "creation_date": 1465932517, "answer_id": 37820539, "question_id": 37445886, "link": "https://stackoverflow.com/questions/37445886/response-200-is-not-json-serializable/37820539#37820539", "title": "&lt;Response [200]&gt; is not JSON serializable", "body": "<p>The documentation appears to be out of date. The object returned is a <a href=\"http://docs.python-requests.org/en/master/api/#requests.Response\" rel=\"noreferrer\">Response</a> object, as seen in the <a href=\"http://docs.python-requests.org/en/master/\" rel=\"noreferrer\">Requests</a> library. In my experience, you can just use .text to get a string representing the JSON. I should say, you might have to use the .json representation to get something you can call .dumps() on.</p>\n"}], "owner": {"reputation": 23, "user_id": 6332732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09c0a488e862eab1a213e10d6d851eb8?s=128&d=identicon&r=PG&f=1", "display_name": "user6332732", "link": "https://stackoverflow.com/users/6332732/user6332732"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11759, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1465932517, "creation_date": 1464204018, "last_edit_date": 1464298424, "question_id": 37445886, "link": "https://stackoverflow.com/questions/37445886/response-200-is-not-json-serializable", "title": "&lt;Response [200]&gt; is not JSON serializable", "body": "<p>following the document conversion API example trying to use Flask to convert msword document to text, but it does not work.</p>\n\n<p>Here is the code</p>\n\n<pre><code>import os, json, requests\n\nfrom flask import Flask, jsonify\n\nfrom watson_developer_cloud import DocumentConversionV1\n\napp = Flask(__name__) #create flask instance\n\n@app.route('/')\n\ndef Welcome():\n\n    v = json.loads(os.getenv('VCAP_SERVICES'))\n    svcName = 'document_conversion'\n    svc = v[svcName][0]['credentials']\n    url = svc['url']\n    user = svc['username']\n    password = svc['password']\n    document_conversion = DocumentConversionV1(username=user, password=password,version='2015-12-15')\n    # Example of retrieving html or plain text\n    with open('./doc.docx', 'rb') as document:\n        config = {'conversion_target': DocumentConversionV1.NORMALIZED_TEXT}    \n        print(json.dumps(document_conversion.convert_document(document=document, config=config),indent=2))  \n\nif __name__ == \"__main__\":\n\n    port = os.getenv('VCAP_APP_PORT', '5000')\n    app.run(host='0.0.0.0', port=int(port),debug=True)\n</code></pre>\n\n<p>Here is the runtime log</p>\n\n<pre><code>File \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1836, in __call__\n\nreturn self.wsgi_app(environ, start_response)\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1820, in wsgi_app\n\nresponse = self.make_response(self.handle_exception(e))\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1403, in handle_exception\n\nreraise(exc_type, exc_value, tb)\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/_compat.py\", line 33, in reraise\n\nraise value\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1817, in wsgi_app\n\nresponse = self.full_dispatch_request()\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1477, in full_dispatch_request\n\nrv = self.handle_user_exception(e)\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1381, in handle_user_exception\n\nreraise(exc_type, exc_value, tb)\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/_compat.py\", line 33, in reraise\n\nraise value\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1475, in full_dispatch_request\n\nrv = self.dispatch_request()\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/site-packages/flask/app.py\", line 1461, in dispatch_request\n\nreturn self.view_functions[rule.endpoint](**req.view_args)\n\nFile \"/home/vcap/app/welcome.py\", line 39, in Welcome\n\n        password = svc['password']\n\n        document_conversion = DocumentConversionV1(username=user, password=password,version='2015-12-15')\n\n        # Example of retrieving html or plain text\n\n        with open('./doc.docx', 'rb') as document:\n\n                config = {'conversion_target': DocumentConversionV1.NORMALIZED_TEXT}\n\n                print(json.dumps(document_conversion.convert_document(document=document, config=config),indent=2))\n\n\n\n\n\n\n\nif __name__ == \"__main__\":\n\n        port = os.getenv('VCAP_APP_PORT', '5000')\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/json/__init__.py\", line 237, in dumps\n\n**kw).encode(obj)\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/json/encoder.py\", line 201, in encode\n\nchunks = list(chunks)\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/json/encoder.py\", line 436, in _iterencode\n\no = _default(o)\n\nFile \"/home/vcap/app/.heroku/python/lib/python3.5/json/encoder.py\", line 180, in default\n\nraise TypeError(repr(o) + \" is not JSON serializable\")\n</code></pre>\n"}, {"tags": ["python", "json"], "answers": [{"comments": [{"owner": {"reputation": 35280, "user_id": 330867, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c1796810a014e9ed1f3198c3edd103e?s=128&d=identicon&r=PG", "display_name": "Cyril N.", "link": "https://stackoverflow.com/users/330867/cyril-n"}, "edited": false, "score": 0, "creation_date": 1464251895, "post_id": 37445946, "comment_id": 62411369, "body": "But what is really odd is that this issue occurs only a few times. <code>item</code> is a tuple containing the key from Redis in 0, and the value (the json data) in 1. Sometimes, the json value is in the full item, I don&#39;t know why."}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 35280, "user_id": 330867, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c1796810a014e9ed1f3198c3edd103e?s=128&d=identicon&r=PG", "display_name": "Cyril N.", "link": "https://stackoverflow.com/users/330867/cyril-n"}, "edited": false, "score": 0, "creation_date": 1464255321, "post_id": 37445946, "comment_id": 62413758, "body": "this is not part of your question. You should ask a new question, why Redis returns a string instead of a tuple."}, {"owner": {"reputation": 35280, "user_id": 330867, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c1796810a014e9ed1f3198c3edd103e?s=128&d=identicon&r=PG", "display_name": "Cyril N.", "link": "https://stackoverflow.com/users/330867/cyril-n"}, "edited": false, "score": 0, "creation_date": 1464266409, "post_id": 37445946, "comment_id": 62421183, "body": "Yes you are right, and your answer is the right one for my question here, so I accepted it and upvoted tit."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 5, "last_activity_date": 1464204254, "creation_date": 1464204254, "answer_id": 37445946, "question_id": 37445874, "link": "https://stackoverflow.com/questions/37445874/json-error-end-is-out-of-bounds/37445946#37445946", "title": "Json error : &quot;end is out of bounds&quot;?", "body": "<p>You are loading <code>item[1]</code>, which is the second character of the string <code>items</code>:</p>\n\n<pre><code>&gt;&gt;&gt; json.loads('\"')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.py\", line 338, in loads\n    return _default_decoder.decode(s)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py\", line 365, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py\", line 381, in raw_decode\n    obj, end = self.scan_once(s, idx)\nValueError: end is out of bounds\n</code></pre>\n\n<p>You should write:</p>\n\n<pre><code>item = json.loads(item)\n</code></pre>\n"}], "owner": {"reputation": 35280, "user_id": 330867, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c1796810a014e9ed1f3198c3edd103e?s=128&d=identicon&r=PG", "display_name": "Cyril N.", "link": "https://stackoverflow.com/users/330867/cyril-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2399, "favorite_count": 0, "accepted_answer_id": 37445946, "answer_count": 1, "score": 1, "last_activity_date": 1514358078, "creation_date": 1464203969, "last_edit_date": 1514358078, "question_id": 37445874, "link": "https://stackoverflow.com/questions/37445874/json-error-end-is-out-of-bounds", "title": "Json error : &quot;end is out of bounds&quot;?", "body": "<p>I'm having an issue I can't understand. I sending a json data as string via Redis (as a queue) and the receiver is throwing the following error :</p>\n\n<pre><code>[ERROR JSON (in queue)] - {\"ip\": null, \"domain\": \"somedomain.com\", \"name\": \"Some user name\", \"contact_id\": 12345, \"signature\": \n\"6f496a4eaba2c1ea4e371ea2c4951ad92f41ddf45ff4949ffa761b0648a22e38\"} =&gt; end is out of bounds\n</code></pre>\n\n<p>The code that throws the exception is the following :</p>\n\n<pre><code>try:\n    item = json.loads(item[1])\nexcept ValueError as e:\n    sys.stderr.write(\"[ERROR JSON (in queue)] - {1} =&gt; {0}\\n\".format(str(e), str(item)))\n    return None\n</code></pre>\n\n<p>What is really odd, is that if I open a python console and do the following :</p>\n\n<pre><code>&gt;&gt;&gt; import json\n&gt;&gt;&gt; s = '{\"ip\": null, \"domain\": \"somedomain.com\", \"name\": \"Some user name\", \"contact_id\": 12345, \"signature\": \"6f496a4eaba2c1ea4e371ea2c4951ad92f41ddf45ff4949ffa761b0648a22e38\"}'\n&gt;&gt;&gt; print s\n</code></pre>\n\n<p>I have no issue, the string (copy/pasted in the Python console) yield no errors at all, but my original code is throwing one!</p>\n\n<p>Do you have any idea about what is causing the issue?</p>\n"}, {"tags": ["python", "mysql", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464204752, "post_id": 37445919, "comment_id": 62394301, "body": "Trying read_csv, I get:     ValueError: Expected 7 fields in line 3, saw 17"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464204903, "post_id": 37445919, "comment_id": 62394384, "body": "What is separator of data? Can you open <code>txt</code> file in text editor like <code>Notepad++</code> and check it?"}, {"owner": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464205006, "post_id": 37445919, "comment_id": 62394439, "body": "Sorry, it is tab separated"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464206056, "post_id": 37445919, "comment_id": 62394940, "body": "Super, use <code>sep=&#39;\\t&#39;</code>."}, {"owner": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464206360, "post_id": 37445919, "comment_id": 62395090, "body": "Ah, I tried - &#39;sep = \\t&#39; produces the same issue as described above, with read_table and isn&#39;t supported with read_csv."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464206533, "post_id": 37445919, "comment_id": 62395171, "body": "Can you share your data if not confidental? dropbox, google documents, wetransfer..."}, {"owner": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464207223, "post_id": 37445919, "comment_id": 62395521, "body": "<a href=\"https://www.dropbox.com/s/mnru21znl9w83i4/AnonymizedData.txt?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/mnru21znl9w83i4/AnonymizedData.txt?dl=0</a>  I went through and anonymized it in excel.  Hopefully it&#39;s still representative of the actual data."}, {"owner": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "edited": false, "score": 0, "creation_date": 1464214300, "post_id": 37445919, "comment_id": 62398767, "body": "Doh.  Thanks jezrael, this led me to the issue.  I had added pandas.set_option(&#39;display_width&#39;, 1000) when I started working and never removed it.  Once I removed it and used &quot;sep = &#39;\\t&#39;&quot; it worked fine.  Appreciate your time."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 5, "last_activity_date": 1464207624, "last_edit_date": 1464207624, "creation_date": 1464204135, "answer_id": 37445919, "question_id": 37445855, "link": "https://stackoverflow.com/questions/37445855/pandas-read-table-error/37445919#37445919", "title": "Pandas read_table error", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"noreferrer\"><code>read_csv</code></a> with separator 2 and more whitespaces:</p>\n\n<pre><code>import pandas as pd\nimport io\n\ntemp=u\"\"\"CALENDAR_DATE   ORDER_NUMBER    INVOICE_NUMBER  TRANSACTION_TYPE    CUSTOMER_NUMBER   CUSTOMER_NAME\n5/13/2016 0:00    13867666       6892372              S                 2026            CUSTOMER 1\"\"\"\n</code></pre>\n\n\n\n<pre><code>#after testing replace io.StringIO(temp) to filename\ndf =pd.read_csv(io.StringIO(temp), sep=r'\\s{2,}', engine='python', encoding = \"iso-8859-1\")\nprint (df)\n    CALENDAR_DATE  ORDER_NUMBER  INVOICE_NUMBER TRANSACTION_TYPE  \\\n0  5/13/2016 0:00      13867666         6892372                S   \n\n   CUSTOMER_NUMBER CUSTOMER_NAME  \n0             2026    CUSTOMER 1  \n</code></pre>\n\n<p>If separator is <code>tabulator</code>, use <code>sep='\\t'</code>.</p>\n\n<p>EDIT:</p>\n\n<p>I test it with your data and it works:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('test/AnonymizedData.txt', sep='\\t')\n</code></pre>\n\n\n\n<pre><code>print (df)\n\n   CUSTOMER_NUMBER CUSTOMER_NAME  CUSTOMER_BRANCH_CODE CUSTOMER_BRANCH_NAME  \\\n0             2026    CUSTOMER 1                    83       SALES BRANCH 1   \n1             2359    CUSTOMER 2                    76       SALES BRANCH 2   \n2           100662    CUSTOMER 3                    28       SALES BRANCH 3   \n3             3245    CUSTOMER 4                    84       SALES BRANCH 4   \n4             3179    CUSTOMER 5                    28       SALES BRANCH 5   \n5            39881    CUSTOMER 6                    67       SALES BRANCH 6   \n6            37020    CUSTOMER 7                    58       SALES BRANCH 7   \n7             1239    CUSTOMER 8                    50       SALES BRANCH 8   \n8             2379    CUSTOMER 9                    76       SALES BRANCH 9   \n\n  CUSTOMER_CITY CUSTOMER_STATE     ...      PRICING_PRODUCT_TYPE_CODE  \\\n0        TOWN 1             CO     ...                             11   \n1        TOWN 2             OH     ...                             11   \n2        TOWN 3             ME     ...                             11   \n3        TOWN 4             IL     ...                             11   \n4        TOWN 5             NH     ...                             11   \n5        TOWN 6             TX     ...                             11   \n6        TOWN 7             NC     ...                             11   \n7        TOWN 8             NY     ...                             11   \n8        TOWN 9             OH     ...                             11   \n\n  PRICING_PRODUCT_TYPE  ORGANIZATION_ID ORGANIZATION_NAME  PRODUCT_LINE_CODE  \\\n0          DISPOSABLES               83  ORGANIZATIONNAME                891   \n1          DISPOSABLES               83  ORGANIZATIONNAME                891   \n2          DISPOSABLES               83  ORGANIZATIONNAME                891   \n3          DISPOSABLES               83  ORGANIZATIONNAME                891   \n4          DISPOSABLES               83  ORGANIZATIONNAME                891   \n5          DISPOSABLES               83  ORGANIZATIONNAME                891   \n6          DISPOSABLES               83  ORGANIZATIONNAME                891   \n7          DISPOSABLES               83  ORGANIZATIONNAME                891   \n8          DISPOSABLES               83  ORGANIZATIONNAME                891   \n\n  PRODUCT_LINE  ROBOTIC_FLAG  Unnamed: 52  Unnamed: 53  Unnamed: 54  \n0  PRODUCTNAME             N            N          NaN            3  \n1  PRODUCTNAME             N            N          NaN            3  \n2  PRODUCTNAME             N            N          NaN            2  \n3  PRODUCTNAME             N            N          NaN            7  \n4  PRODUCTNAME             N            N          NaN            1  \n5  PRODUCTNAME             N            N          NaN            4  \n6  PRODUCTNAME             N            N          NaN            3  \n7  PRODUCTNAME             N            N          NaN            5  \n8  PRODUCTNAME             N            N          NaN            3  \n\n[9 rows x 55 columns]\n</code></pre>\n"}], "owner": {"reputation": 610, "user_id": 2529107, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/caf64f45f9ff1f7a33e09303857e6176?s=128&d=identicon&r=PG", "display_name": "ctd25", "link": "https://stackoverflow.com/users/2529107/ctd25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 37445919, "answer_count": 1, "score": 5, "last_activity_date": 1464207624, "creation_date": 1464203915, "question_id": 37445855, "link": "https://stackoverflow.com/questions/37445855/pandas-read-table-error", "title": "Pandas read_table error", "body": "<p>I am trying to read a tab delimited text file into a dataframe.  </p>\n\n<p>This is the how the file looks in Excel: </p>\n\n<pre><code>CALENDAR_DATE   ORDER_NUMBER    INVOICE_NUMBER  TRANSACTION_TYPE    CUSTOMER_NUMBER   CUSTOMER_NAME\n5/13/2016 0:00    13867666       6892372              S                 2026            CUSTOMER 1\n</code></pre>\n\n<p>Import into a df: </p>\n\n<pre><code>df = p.read_table(\"E:/FileLoc/ThisIsAFile.txt\", encoding = \"iso-8859-1\")\n</code></pre>\n\n<p>Now it doesn't see the first 3 columns as part of the column index (df[0] = Transaction Type) and all of the headers shift over to reflect this. </p>\n\n<pre><code>                                CALENDAR_DATE   ORDER_NUMBER    INVOICE_NUMBER\n5/13/2016 0:00 13867666 6892372       S             2026          CUSTOMER 1\n</code></pre>\n\n<p>I am trying to manipulate the text file and then import it to a mysql database as an end result.  </p>\n"}, {"tags": ["python", "python-2.7", "iterator", "heap", "generator"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1464204074, "post_id": 37445804, "comment_id": 62393914, "body": "What were you expecting? Why are you using <code>heapq.merge</code> on unordered data? And note that the whole point of it is that it gives you the items from the things it&#39;s merging, not the things themselves."}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 1, "creation_date": 1464204211, "post_id": 37445804, "comment_id": 62394011, "body": "In order for <code>heapq.merge</code> to sort the iterables, it needs to iterate over each. This would exhaust the originally supplied generators and there is no way to go back and recreate them. Thus, it makes sense that the output would be the items in the generators rather than the generators themselves."}, {"owner": {"reputation": 2046, "user_id": 5379444, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-26CK5H5SP94/AAAAAAAAAAI/AAAAAAAAATc/Dx113UH4CcI/photo.jpg?sz=128", "display_name": "Jay Wong", "link": "https://stackoverflow.com/users/5379444/jay-wong"}, "reply_to_user": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1464204477, "post_id": 37445804, "comment_id": 62394160, "body": "@JaredGoguen Thanks for replying. I think <code>heapq.merge</code> is merging those generators?"}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 1, "creation_date": 1464204620, "post_id": 37445804, "comment_id": 62394231, "body": "Yes... <a href=\"https://docs.python.org/2/library/heapq.html#heapq.merge\" rel=\"nofollow noreferrer\"><code>heapq.merge</code></a> indeed merges all supplied iterables."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1464204753, "post_id": 37445804, "comment_id": 62394302, "body": "And how did you think it would do that? Were you expecting it to return single-element iterables?"}], "answers": [{"tags": [], "owner": {"reputation": 437, "user_id": 3685684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b425f50920c5f50be7ea99aac4d1f6?s=128&d=identicon&r=PG&f=1", "display_name": "WildCard", "link": "https://stackoverflow.com/users/3685684/wildcard"}, "is_accepted": false, "score": 0, "last_activity_date": 1464203974, "creation_date": 1464203974, "answer_id": 37445876, "question_id": 37445804, "link": "https://stackoverflow.com/questions/37445804/why-heapq-mergesome-lists-of-iterators-does-not-return-an-iterator-of-iterat/37445876#37445876", "title": "Why `heapq.merge(some_lists_of_iterators)` does not return an iterator of iterators?", "body": "<p>Have you tried changing:   </p>\n\n<pre><code>itr1 = iter(map(gen, bases))\nitr2 = heapq.merge(*map(gen, bases))\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>itr1 = iter(map(gen, bases))\nitr2 = iter(heapq.merge(*map(gen, bases)))\n</code></pre>\n"}], "owner": {"reputation": 2046, "user_id": 5379444, "user_type": "registered", "accept_rate": 76, "profile_image": "https://lh4.googleusercontent.com/-26CK5H5SP94/AAAAAAAAAAI/AAAAAAAAATc/Dx113UH4CcI/photo.jpg?sz=128", "display_name": "Jay Wong", "link": "https://stackoverflow.com/users/5379444/jay-wong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464203974, "creation_date": 1464203752, "question_id": 37445804, "link": "https://stackoverflow.com/questions/37445804/why-heapq-mergesome-lists-of-iterators-does-not-return-an-iterator-of-iterat", "title": "Why `heapq.merge(some_lists_of_iterators)` does not return an iterator of iterators?", "body": "<p>In the following code:</p>\n\n<pre><code>import heapq\n\nnums = [1,2,3]\nresult = [set([])]\nbases = []\n\nfor n in nums:\n    bases.append(set([n]))       # Now bases is [set([1]), set([2]), set([3])]\n\ndef gen (base):\n    for r in result:\n        if base != r:\n            yield base | r       # It yields set([]) unions base\n\nitr1 = iter(map(gen, bases))\nitr2 = heapq.merge(*map(gen, bases))\n</code></pre>\n\n<p>Why itr1 is an iterator of iterators, but itr2 is an iterator of sets? Like shown below:</p>\n\n<pre><code>for i in itr1:\n    print i                      #&lt;generator object gen at 0x1028adcd0&gt; \n                                 #&lt;generator object gen at 0x1028add20&gt; \n                                 #&lt;generator object gen at 0x1028d5730&gt;\n\nfor i in itr2:\n    print i,                     #set([3]) set([2]) set([1])\n</code></pre>\n"}, {"tags": ["python", "multiprocessing", "python-multiprocessing"], "comments": [{"owner": {"reputation": 1835, "user_id": 1202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e91a64a6dc64dacabffb36634ad055?s=128&d=identicon&r=PG", "display_name": "robyschek", "link": "https://stackoverflow.com/users/1202745/robyschek"}, "edited": false, "score": 0, "creation_date": 1464310504, "post_id": 37445763, "comment_id": 62444866, "body": "Are your files on HDD? Most HDDs are bad in multithread reading because of slow seeking."}, {"owner": {"reputation": 963, "user_id": 5231637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2cd12e90cf389349baecb192ace9e312?s=128&d=identicon&r=PG&f=1", "display_name": "yc2986", "link": "https://stackoverflow.com/users/5231637/yc2986"}, "reply_to_user": {"reputation": 1835, "user_id": 1202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e91a64a6dc64dacabffb36634ad055?s=128&d=identicon&r=PG", "display_name": "robyschek", "link": "https://stackoverflow.com/users/1202745/robyschek"}, "edited": false, "score": 0, "creation_date": 1464371923, "post_id": 37445763, "comment_id": 62475679, "body": "@robyschek Yes I think I am on a HDD PC. I will test it out using SSD and see. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1835, "user_id": 1202745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26e91a64a6dc64dacabffb36634ad055?s=128&d=identicon&r=PG", "display_name": "robyschek", "link": "https://stackoverflow.com/users/1202745/robyschek"}, "is_accepted": true, "score": 1, "last_activity_date": 1464380919, "creation_date": 1464380919, "answer_id": 37491756, "question_id": 37445763, "link": "https://stackoverflow.com/questions/37445763/python-multiprocessing-imap-chunksize/37491756#37491756", "title": "Python Multiprocessing imap chunksize", "body": "<p>It's the IO that limits the performance.\nThe MD5 algorithm is now a too easy task for CPUs.\nThe following code calculates MD5 performance in GB/s.</p>\n\n<pre><code>import time\nimport hashlib\nfrom multiprocessing import Pool\n\ndef worker(x):\n    data = bytearray(xrange(256)) * 4 * 1024\n    md5 = hashlib.md5()\n    for x in xrange(1024):\n        md5.update(data)\n\nif __name__ == '__main__':\n    num_workers = 4\n    pool = Pool(num_workers)\n    start = time.time()\n    pool.map(worker, xrange(num_workers))\n    print num_workers / (time.time() - start), 'Gb/s'\n</code></pre>\n\n<p>A relatively weak intel's modern mobile i3 CPU (2 cores, 4 threads)\nis able to hash at rate of 1 Gb per second. Compare this with\n<a href=\"https://en.wikipedia.org/wiki/Serial_ATA#SATA_revision_3.0_.286_Gbit.2Fs.2C_600_MB.2Fs.29\" rel=\"nofollow\">SATA3 bandwidth</a> which is 600 Mb/s.\nSo even when using SSD the disk interface will limit the hashing speed.<br>\nOn HDDs the situation even worse.\nMultiple readers will force the disk to shift its reading heads causing more delays than if only one reader thread would used.\nIt's like reading a heavily fragmented file.<br>\nWhen the dataset is not that large OS's file cache can help greatly. It's not your case, though.</p>\n"}], "owner": {"reputation": 963, "user_id": 5231637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2cd12e90cf389349baecb192ace9e312?s=128&d=identicon&r=PG&f=1", "display_name": "yc2986", "link": "https://stackoverflow.com/users/5231637/yc2986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3125, "favorite_count": 0, "accepted_answer_id": 37491756, "answer_count": 1, "score": 1, "last_activity_date": 1464380919, "creation_date": 1464203618, "last_edit_date": 1464206247, "question_id": 37445763, "link": "https://stackoverflow.com/questions/37445763/python-multiprocessing-imap-chunksize", "title": "Python Multiprocessing imap chunksize", "body": "<p>I would like to compare two folders with same path structure and same files in all the subfolders. The folder is quite big with size of about 80GB and file numbers of 8000.</p>\n\n<p>I would like to make sure each corresponding file pairs under two top directories have the same md5 checksum value. I wrote a simple tree DFS function searching for all the files under two directories, sort them according to file sizes, store it them in two lists.</p>\n\n<p>When I iterated through the lists I found it very time consuming to do all the comparison and the CPU usage rate was low as well.</p>\n\n<p>I think multiprocessing module is something good for this case. This is my implementation for multiprocessing:</p>\n\n<pre><code>from multiprocessing import Pool, cpu_count\nimport hashlib\n\ndef calc_md5(item):\n    m = hashlib.md5()\n    with open(item, 'rb') as f:\n        for chunk in iter(lambda: f.read(4096), b\"\"):\n            m.update(chunk)\n    return m.hexdigest()\n\ndef worker(args):\n    a, b = args\n    return calc_md5(a) == calc_md5(b)\n\ndef multi_compare(queue_a, queue_b, thread):\n    pool = Pool(processes = cpu_count() - 1)\n    # Task iterable\n    task = zip(queue_a, queue_b)\n    # Multiprocessing\n    for retval in pool.imap_unordered(worker, task, chunksize = 5):\n        if not retval:\n            print \"Bad Detected\"\n</code></pre>\n\n<p>Here queue_a and queue_b are the to be compared file's paths sorted according to file size. I am expecting higher CPU usage and better performance out of this multiprocessing methods but it seems not to be the case. While the simple sequential iteration takes about 3200 seconds to finish, the multiprocessing method takes about 4600 seconds.</p>\n\n<p>I am curious about why this is the case? Is this a good point to use multiprocessing? What is the bottleneck of this bad performance in my code? Is there a way to improve it?</p>\n\n<p><strong>Edit</strong>:\nI have set the chunksize according to my gut feeling. I guess I can change it to length of queue_a or queue_b devided by thread number and sort the task queue to be like first 1/4 of it containing queue_a[0::thread] or queue_b[0::thread] elements and vice versa. This will feed the similar size of tasks to all the thread and keep all the thread busy all the time. I don't know if this is a good way to gain extra performance and I am still testing on this. </p>\n\n<p><strong>Edit</strong>:\nThe test in above edit takes 4000 seconds to finish. Slightly better than chunksize = 5. Still worse than serial method.\nSo I would like to ask how can I determine the bottleneck of this multiprocessing program.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1645, "user_id": 3164492, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EpX9v.jpg?s=128&g=1", "display_name": "Devavrata", "link": "https://stackoverflow.com/users/3164492/devavrata"}, "edited": false, "score": 0, "creation_date": 1464203509, "post_id": 37445652, "comment_id": 62393598, "body": "There is no function inside sublime module. Check name &quot;commands_log&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user177800"}, "edited": false, "score": 0, "creation_date": 1464204608, "post_id": 37445652, "comment_id": 62394225, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3969726/attributeerror-module-object-has-no-attribute-urlopen\">AttributeError: &#39;module&#39; object has no attribute &#39;urlopen&#39;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4316, "user_id": 6005451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5d2854ebcf1678d4fab4f7bedd6b9f?s=128&d=identicon&r=PG&f=1", "display_name": "EoinS", "link": "https://stackoverflow.com/users/6005451/eoins"}, "is_accepted": false, "score": 2, "last_activity_date": 1464203497, "creation_date": 1464203497, "answer_id": 37445728, "question_id": 37445652, "link": "https://stackoverflow.com/questions/37445652/how-define-the-command-name-for-key-bindings/37445728#37445728", "title": "How define the command name for key bindings?", "body": "<p>It is <code>log_commands</code> not <code>commands_log</code></p>\n\n<p>Try this:</p>\n\n<pre><code>sublime.log_commands(True)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6318160, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/PAS1J.jpg?s=128&g=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/6318160/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1464207098, "answer_count": 1, "score": 0, "last_activity_date": 1464214546, "creation_date": 1464203231, "last_edit_date": 1464214546, "question_id": 37445652, "link": "https://stackoverflow.com/questions/37445652/how-define-the-command-name-for-key-bindings", "closed_reason": "Not suitable for this site", "title": "How define the command name for key bindings?", "body": "<p>I did simple key bindings, tried to add the shortcut for some command in Sublime Text 3 and to finish the process I had to define the name of the command using the console. After I typed: </p>\n\n<pre><code>sublime.commands_log(True)\n</code></pre>\n\n<p>I got the error message :</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'module' object has no attribute 'commands_log'\n</code></pre>\n\n<p>I'm not good enough with a Python language yet and I'll really appreciate someone's help to fix this issue.</p>\n"}, {"tags": ["python", "string", "python-2.7"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 2, "creation_date": 1464203096, "post_id": 37445554, "comment_id": 62393371, "body": "the first one (<code>r&#39;e.b=\\&quot;e\\&quot;&#39;</code>) should be right. When the python interpreter prints, it will show single <code>` characters as </code>\\`, but if you output it to a file, it should really be just a single ``."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1464203230, "post_id": 37445554, "comment_id": 62393427, "body": "Your raw string does what you want. Try printing it with <code>print</code>, or writing it to a file. And print its length, which should be 9."}], "answers": [{"tags": [], "owner": {"reputation": 9866, "user_id": 1105805, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a694594978a256520ac4d5b938aea5b?s=128&d=identicon&r=PG", "display_name": "Rasmi Ranjan Nayak", "link": "https://stackoverflow.com/users/1105805/rasmi-ranjan-nayak"}, "is_accepted": false, "score": 0, "last_activity_date": 1464203076, "creation_date": 1464203076, "answer_id": 37445611, "question_id": 37445554, "link": "https://stackoverflow.com/questions/37445554/python-print-escape-backslash/37445611#37445611", "title": "python print escape backslash", "body": "<p>Are you thinking of printing like this?</p>\n\n<pre><code>import re\nd = re.escape(r'e.b=\\\"e\\\"')\nprint d\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "is_accepted": true, "score": 6, "last_activity_date": 1464203077, "last_edit_date": 1495540719, "creation_date": 1464203077, "answer_id": 37445612, "question_id": 37445554, "link": "https://stackoverflow.com/questions/37445554/python-print-escape-backslash/37445612#37445612", "title": "python print escape backslash", "body": "<p>Well, you had it right the first time, except that you examined the <a href=\"https://stackoverflow.com/q/7784148/2096752\"><code>repr</code></a> of the string you created, instead of the string itself:</p>\n\n<pre><code>s = r'e.b=\\\"e\\\"'\ns  # this is the repr() of the string\n=&gt; 'e.b=\\\\\"e\\\\\"'\nprint(repr(s))\n=&gt; 'e.b=\\\\\"e\\\\\"'\nprint(s)  # this is what you want\n=&gt; e.b=\\\"e\\\"\n</code></pre>\n\n<p>Bottom line, <code>s=r'e.b=\\\"e\\\"'</code> is what you want.</p>\n"}], "owner": {"reputation": 2318, "user_id": 898569, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b1d0556a59b09c8af987fdf83a6f63d4?s=128&d=identicon&r=PG&f=1", "display_name": "santBart", "link": "https://stackoverflow.com/users/898569/santbart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 37445612, "answer_count": 2, "score": 2, "last_activity_date": 1464203077, "creation_date": 1464202871, "question_id": 37445554, "link": "https://stackoverflow.com/questions/37445554/python-print-escape-backslash", "title": "python print escape backslash", "body": "<p>I need python to generate exactly such string literal:</p>\n\n<pre><code>e.b=\\\"e\\\"\n</code></pre>\n\n<p>But I can't come up with idea how to do so. \nI was trying:</p>\n\n<pre><code>r'e.b=\\\"e\\\"'      =&gt;     e.b=\\\\\"e\\\\\"\n\"\"\"e.b=\\\"e\\\"\"\"\"   =&gt;     e.b=\"e\"\n</code></pre>\n\n<p>And many other possibilities but any ends up with exactly <strong>e.b=\\\"e\\\"</strong> </p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "json", "concurrency", "malloc", "urllib"], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 1459954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57f6b20ad0759696eaedf17b541f8b5?s=128&d=identicon&r=PG", "display_name": "dodysw", "link": "https://stackoverflow.com/users/1459954/dodysw"}, "is_accepted": false, "score": 10, "last_activity_date": 1477414139, "creation_date": 1477414139, "answer_id": 40245481, "question_id": 37445540, "link": "https://stackoverflow.com/questions/37445540/memory-usage-with-concurrent-futures-threadpoolexecutor-in-python3/40245481#40245481", "title": "Memory usage with concurrent.futures.ThreadPoolExecutor in Python3", "body": "<p>It's not your fault. as_complete() doesn't release its futures until it completes. There's a issue logged already: <a href=\"https://bugs.python.org/issue27144\" rel=\"noreferrer\">https://bugs.python.org/issue27144</a></p>\n\n<p>For now, I think the majority approach is to wrap as_complete() inside another loop that chunkify to a sane number of futures, depending on how much RAM you want to spend and how big your result will be. It'll block on each chunk until all job is gone before going to next chunk so be slower or potentially stuck in the middle for a long time, but I see no other way for now, though will keep this answer posted when there's a smarter way.</p>\n"}, {"tags": [], "owner": {"reputation": 9260, "user_id": 766850, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xxrEP.jpg?s=128&g=1", "display_name": "previous_developer", "link": "https://stackoverflow.com/users/766850/previous-developer"}, "is_accepted": false, "score": 6, "last_activity_date": 1485998081, "creation_date": 1485998081, "answer_id": 41992732, "question_id": 37445540, "link": "https://stackoverflow.com/questions/37445540/memory-usage-with-concurrent-futures-threadpoolexecutor-in-python3/41992732#41992732", "title": "Memory usage with concurrent.futures.ThreadPoolExecutor in Python3", "body": "<p>As an alternative solution, you can call <code>add_done_callback</code> on your futures and not use <code>as_completed</code> at all. The key is NOT keeping references to futures. So <code>future_to_url</code> list in original question is a bad idea.</p>\n\n<p>What I've done is basically:</p>\n\n<pre><code>def do_stuff(future):\n    res = future.result()  # handle exceptions here if you need to\n\nf = executor.submit(...)\nf.add_done_callback(do_stuff)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1126, "user_id": 1100060, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/0fOMO.jpg?s=128&g=1", "display_name": "Nathan B", "link": "https://stackoverflow.com/users/1100060/nathan-b"}, "edited": false, "score": 0, "creation_date": 1588755875, "post_id": 53896177, "comment_id": 109017710, "body": "is there a way to get the number of free workers from ThreadPoolExecutor?"}], "tags": [], "owner": {"reputation": 681, "user_id": 7205861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438d64896c0238f42c3a08b95e882855?s=128&d=identicon&r=PG&f=1", "display_name": "Mowshon", "link": "https://stackoverflow.com/users/7205861/mowshon"}, "is_accepted": false, "score": 2, "last_activity_date": 1545486498, "creation_date": 1545486498, "answer_id": 53896177, "question_id": 37445540, "link": "https://stackoverflow.com/questions/37445540/memory-usage-with-concurrent-futures-threadpoolexecutor-in-python3/53896177#53896177", "title": "Memory usage with concurrent.futures.ThreadPoolExecutor in Python3", "body": "<p>If you use the standard module \u201cconcurrent.futures\u201d and want to simultaneously process several million data, then a queue of workers will take up all the free memory.</p>\n\n<p>You can use <strong>bounded-pool-executor</strong>.\n<a href=\"https://github.com/mowshon/bounded_pool_executor\" rel=\"nofollow noreferrer\">https://github.com/mowshon/bounded_pool_executor</a></p>\n\n<pre><code>pip install bounded-pool-executor\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>from bounded_pool_executor import BoundedProcessPoolExecutor\nfrom time import sleep\nfrom random import randint\n\ndef do_job(num):\n    sleep_sec = randint(1, 10)\n    print('value: %d, sleep: %d sec.' % (num, sleep_sec))\n    sleep(sleep_sec)\n\nwith BoundedProcessPoolExecutor(max_workers=5) as worker:\n    for num in range(10000):\n        print('#%d Worker initialization' % num)\n        worker.submit(do_job, num)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2997, "user_id": 623685, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/03e2cbb09bd5c27f46ed9db8a4de2417?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/623685/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1597228750, "creation_date": 1597228750, "answer_id": 63374788, "question_id": 37445540, "link": "https://stackoverflow.com/questions/37445540/memory-usage-with-concurrent-futures-threadpoolexecutor-in-python3/63374788#63374788", "title": "Memory usage with concurrent.futures.ThreadPoolExecutor in Python3", "body": "<p>dodysw has correctly pointed out that the common solution is to chunkify the inputs and submit chunks of tasks to the executor. He has also correctly pointed out that you lose some performance by waiting for each chunk to be processed completely before starting to process the next chunk.</p>\n<p>I suggest a better solution that will feed a <strong>continuous stream of tasks</strong> to the executor while enforcing an upper bound on the maximum number of parallel tasks in order to keep the memory footprint low.</p>\n<p>The trick is to use <code>concurrent.futures.wait</code> to keep track of the futures that have been completed and those that are still pending completion:</p>\n<pre><code>def load_json_url(url):\n    try:\n        req = urllib.request.Request(url, headers={'User-Agent': 'Mozilla/5.0'})\n        resp = urllib.request.urlopen(req).read().decode('utf8')\n        return json.loads(resp), None\n    except Exception as e:\n        return url, e\n\nMAX_WORKERS = 6\nwith concurrent.futures.ThreadPoolExecutor(max_workers=MAX_WORKERS) as executor:\n    futures_done = set()\n    futures_notdone = set()\n    for url in formulary_urls:\n        futures_notdone.add(executor.submit(load_json_url, url))\n\n        if len(futures_notdone) &gt;= MAX_WORKERS:\n            done, futures_notdone = concurrent.futures.wait(futures_notdone, return_when=concurrent.futures.FIRST_COMPLETED)\n            futures_done.update(done)\n\n# Process results.\ndownloaded_plans = 0\nfor future in futures_done:\n    json, exc = future.result()\n    if exc:\n        print('%r generated an exception: %s' % (json, exc))\n    else:\n        downloaded_plans += 1\n        for item in data:\n            if item['rxnorm_id'] == drugid:\n                for row in item['plans']:\n                    print(row['drug_tier'])\n                    (plansid_dict[row['plan_id']])['drug_tier'] = row['drug_tier']\n                    (plansid_dict[row['plan_id']])['prior_authorization'] = row['prior_authorization']\n                    (plansid_dict[row['plan_id']])['step_therapy'] = row['step_therapy']\n                    (plansid_dict[row['plan_id']])['quantity_limit'] = row['quantity_limit']\n</code></pre>\n<p>Of course, you could also process the results inside the loop regularly in order to empty the <code>futures_done</code> from time to time. For example, you could do that each time the number of items in <code>futures_done</code> exceeds 1000 (or any other amount that fits your needs). This might come in handy if your dataset is very large and the results alone would result in a lot of memory usage.</p>\n"}], "owner": {"reputation": 111, "user_id": 1470300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c240f97c33fb7816f8e40f7d035b15e?s=128&d=identicon&r=PG", "display_name": "gagpolenv", "link": "https://stackoverflow.com/users/1470300/gagpolenv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6991, "favorite_count": 5, "answer_count": 4, "score": 11, "last_activity_date": 1597228750, "creation_date": 1464202827, "question_id": 37445540, "link": "https://stackoverflow.com/questions/37445540/memory-usage-with-concurrent-futures-threadpoolexecutor-in-python3", "title": "Memory usage with concurrent.futures.ThreadPoolExecutor in Python3", "body": "<p>I am building a script to download and parse benefits information for health insurance plans on Obamacare exchanges. Part of this requires downloading and parsing the plan benefit JSON files from each individual insurance company. In order to do this, I am using <code>concurrent.futures.ThreadPoolExecutor</code> with 6 workers to download each file (with urllib), parse and loop thru the JSON and extract the relevant info (which is stored in nested dictionary within the script).</p>\n\n<p>(running Python 3.5.1 (v3.5.1:37a07cee5969, Dec  6 2015, 01:38:48) [MSC v.1900 32 bit (Intel)] on win32)</p>\n\n<p>The problem is that when I do this concurrently, the script does not seem to release the memory after it has downloaded\\parsed\\looped thru a JSON file, and after a while, it crashes, with <code>malloc</code> raising a memory error. </p>\n\n<p>When I do it serially--with a simple <code>for in</code> loop-- however,the program does not crash nor does it take an extreme amount of memory.</p>\n\n\n\n<pre><code>def load_json_url(url, timeout):\n    req = urllib.request.Request(url, headers={ 'User-Agent' : 'Mozilla/5.0' })\n    resp = urllib.request.urlopen(req).read().decode('utf8')\n    return json.loads(resp) \n\n\n\n with concurrent.futures.ThreadPoolExecutor(max_workers=6) as executor:\n        # Start the load operations and mark each future with its URL\n        future_to_url = {executor.submit(load_json_url, url, 60): url for url in formulary_urls}\n        for future in concurrent.futures.as_completed(future_to_url):\n            url = future_to_url[future]\n            try:\n                # The below timeout isn't raising the TimeoutError.\n                data = future.result(timeout=0.01)\n                for item in data:\n                        if item['rxnorm_id']==drugid: \n                            for row in item['plans']:\n                                print (row['drug_tier'])\n                                (plansid_dict[row['plan_id']])['drug_tier']=row['drug_tier']\n                                (plansid_dict[row['plan_id']])['prior_authorization']=row['prior_authorization']\n                                (plansid_dict[row['plan_id']])['step_therapy']=row['step_therapy']\n                                (plansid_dict[row['plan_id']])['quantity_limit']=row['quantity_limit']\n\n            except Exception as exc:\n                print('%r generated an exception: %s' % (url, exc))\n\n\n            else:\n                downloaded_plans=downloaded_plans+1\n</code></pre>\n"}, {"tags": ["python", "html", "django"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1464202825, "post_id": 37445485, "comment_id": 62393241, "body": "Once you call <code>return</code>, the function is over and the loop is finished."}, {"owner": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "edited": false, "score": 0, "creation_date": 1464204039, "post_id": 37445485, "comment_id": 62393889, "body": "What you are trying to do is sometimes called &#39;server push&#39;, and it requires keeping the HTTP connection open while the browser renders a partial page. If you <i>must</i> do this, look at this <a href=\"http://stackoverflow.com/questions/4787530/does-django-have-a-way-to-open-a-http-long-poll-connection\">old SO post</a>. Since it&#39;s every 5 seconds, I recommend changing things so that the <i>browser</i> polls the server. Much simpler. BTW, checkout the jQuery plugin <a href=\"http://jquery.malsup.com/taconite/\" rel=\"nofollow noreferrer\">taconite</a>, it makes it trivial to have a backdoor conversation between browser and server."}, {"owner": {"reputation": 794, "user_id": 5250010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWfud.jpg?s=128&g=1", "display_name": "Leonard2", "link": "https://stackoverflow.com/users/5250010/leonard2"}, "edited": false, "score": 0, "creation_date": 1464264331, "post_id": 37445485, "comment_id": 62419740, "body": "yeah, what you want to do seems irrelevant with django views; django deals with backend logic, not browser actions. Using javascript and ajax call may be good choices."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 6381317, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XVTdN0mPMeQ/AAAAAAAAAAI/AAAAAAAABMI/pWGnh51z3nY/photo.jpg?sz=128", "display_name": "Paul Sobolev", "link": "https://stackoverflow.com/users/6381317/paul-sobolev"}, "is_accepted": true, "score": 0, "last_activity_date": 1464203476, "last_edit_date": 1464203476, "creation_date": 1464203309, "answer_id": 37445667, "question_id": 37445485, "link": "https://stackoverflow.com/questions/37445485/rendering-in-looping-using-django/37445667#37445667", "title": "Rendering in looping using django", "body": "<p>If your goal is showing actual data, you can render page as usual (without loop) and reload page with JS:</p>\n\n<pre><code>&lt;script&gt;\n    setTimeout(function() {\n        window.location.reload()\n    }, 5000);\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6382742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba18f6fb31323d7328b79e3ebece368d?s=128&d=identicon&r=PG&f=1", "display_name": "kelly", "link": "https://stackoverflow.com/users/6382742/kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 37445667, "answer_count": 1, "score": 1, "last_activity_date": 1464203476, "creation_date": 1464202657, "question_id": 37445485, "link": "https://stackoverflow.com/questions/37445485/rendering-in-looping-using-django", "title": "Rendering in looping using django", "body": "<p>The goal is rendering data to html using django every 5 second, but the problem is the looping does not working. This is the code:</p>\n\n<p><strong>view.py</strong></p>\n\n<pre><code>def form(request):\ntry:\n    file_name = request.FILES['files'].name\n    nama = \"uploads/\" + file_name\n    seq_act, num_obsv, observer, list_obsv = pr.readexcel(nama,0)\n    p, A, B = pr.make_initial(observer,num_obsv)\n    p_lampau, A_lampau, B_lampau = pr.baum_welch(p, A, B, seq_act)\n\n    while True:\n        if len(temp)==0:\n            break\n        seq_act_test = list(temp)\n        temp[:] = []\n\n        real_seq, repair_seq = pr.process(p_lampau, A_lampau, B_lampau,\n                                          seq_act_test, observer_test,\n                                          num_obsv)\n        return render(request,'main/form2.html',{'real_seq' : real_seq,\n                                                 'repair_seq': repair_seq})\n        time.sleep(5)\n\nexcept:\n    return redirect('/main/awal')\n</code></pre>\n\n<p><strong>form2.html</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    {% load staticfiles %}\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"{% static 'main/vis.css' %}\" /&gt;\n    &lt;script type=\"text/javascript\" src=\"{% static 'main/vis.js' %}\"&gt;&lt;/script&gt;\n    &lt;link href=\"{% static 'main/css/prism.css' %}\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"{% static 'main/css/ghpages-materialize.css' %}\" type=\"text/css\" rel=\"stylesheet\" media=\"screen,projection\"&gt;\n    &lt;link href=\"http://fonts.googleapis.com/css?family=Inconsolata\" rel=\"stylesheet\" type=\"text/css\"&gt;\n    &lt;link href=\"http://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\"&gt;\n    &lt;style type=\"text/css\"&gt;\n        #mynetwork {\n            width: 100%;\n            height: 600px;\n            border: 1px solid lightgray;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;/html&gt;\n&lt;body&gt;\n    &lt;div&gt;\n    &lt;center&gt;\n        &lt;b&gt; {{ real_seq }}&lt;br&gt;\n        &lt;b&gt;{{ repair_seq }}\n    &lt;/center&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Thanks for everybody who looking and helping to solve the problem.</p>\n"}, {"tags": ["python", "pandas", "scikit-learn"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1464202837, "post_id": 37445466, "comment_id": 62393250, "body": "Try always to provide a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> when asking questions. In case of <i>pandas</i> questions please provide sample <i>input</i> and <i>output</i> data sets (5-7 rows in CSV/dict/JSON/Python code format <i>as text</i>, so one could use it when coding an answer for you). This will help to avoid <i>situations</i> like: <code>your code isn&#39;t working for me</code> or <code>it doesn&#39;t work with my data</code>, etc."}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1464202747, "creation_date": 1464202747, "answer_id": 37445517, "question_id": 37445466, "link": "https://stackoverflow.com/questions/37445466/pandas-replace-nan-with-two-different-values/37445517#37445517", "title": "Pandas - Replace NaN with two different values", "body": "<p>you can do it this way:</p>\n\n<pre><code>df.loc[your_condition_for_60%] = df.fillna(10)\ndf.loc[your_condition_for_40%] = df.fillna(20)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1464205805, "creation_date": 1464205805, "answer_id": 37446393, "question_id": 37445466, "link": "https://stackoverflow.com/questions/37445466/pandas-replace-nan-with-two-different-values/37446393#37446393", "title": "Pandas - Replace NaN with two different values", "body": "<p>Create a boolean array that has a chance at 60/40 True/False the same size as the df you're filling.  Then use <code>combine_first</code></p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(index=list('ABCDEFGHIJ'), columns=list('abcdefghij'))\n\nmask60 = np.random.rand(*df.shape) &gt; 0.6\n\nvalue40, value60 = 10, 20\n\nfill = value60 * mask60 + value40 * (1 - mask60)\n\nfill = value40 + mask60 * (value60 - value40)\n\nfill_df = pd.DataFrame(fill, index=df.index, columns=df.columns)\n</code></pre>\n\n<p>Looks like:</p>\n\n<pre><code>print df.combine_first(fill_df)\n\n    a   b   c   d   e   f   g   h   i   j\nA  10  10  20  20  10  10  10  10  10  20\nB  10  10  10  10  10  20  20  10  10  10\nC  20  10  10  10  10  10  10  20  20  20\nD  10  10  10  20  10  10  20  10  10  10\nE  20  20  10  10  20  10  10  10  20  10\nF  10  20  10  10  20  10  20  10  10  20\nG  20  20  10  10  10  10  10  20  20  10\nH  10  10  20  20  10  10  10  10  10  10\nI  10  10  10  20  20  10  10  10  10  20\nJ  10  10  10  20  10  10  20  10  10  10\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 4880751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206642133272763/picture?type=large", "display_name": "Romain Caron", "link": "https://stackoverflow.com/users/4880751/romain-caron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 982, "favorite_count": 0, "accepted_answer_id": 37446393, "answer_count": 2, "score": -2, "last_activity_date": 1464286197, "creation_date": 1464202583, "question_id": 37445466, "link": "https://stackoverflow.com/questions/37445466/pandas-replace-nan-with-two-different-values", "title": "Pandas - Replace NaN with two different values", "body": "<p>I'm trying to replace my NaN value in my DataFrame.\nI would like to replace 60% of the NaN by one value and 40% by another.\nI read the documentation of fillna method but I don't find.</p>\n\n<p>Any idea ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "algorithm", "optimization", "subset", "distance"], "comments": [{"owner": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "edited": false, "score": 0, "creation_date": 1464202895, "post_id": 37445418, "comment_id": 62393275, "body": "This feels vaguely similar to what the <a href=\"https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm\" rel=\"nofollow noreferrer\">Boyer-Moore</a> string search does. It&#39;s not the same, but there is a resonance."}], "answers": [{"comments": [{"owner": {"reputation": 53404, "user_id": 2096752, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/B8PLE.jpg?s=128&g=1", "display_name": "shx2", "link": "https://stackoverflow.com/users/2096752/shx2"}, "edited": false, "score": 0, "creation_date": 1464205883, "post_id": 37446292, "comment_id": 62394855, "body": "this is a very elegant and probably fast solution."}, {"owner": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "edited": false, "score": 1, "creation_date": 1464208073, "post_id": 37446292, "comment_id": 62395991, "body": "this produces a lot of repeated elements in <code>s2</code> whereas I need 1-to-1. I&#39;ll see if I can fix it. Thx"}, {"owner": {"reputation": 4442, "user_id": 1678467, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5f1e2e084cb0946c2c159ceaee9f43a0?s=128&d=identicon&r=PG", "display_name": "tnknepp", "link": "https://stackoverflow.com/users/1678467/tnknepp"}, "edited": false, "score": 0, "creation_date": 1464210424, "post_id": 37446292, "comment_id": 62397198, "body": "That is right.  I had not considered that.  This is due to two reasons: 1. two values from s may have the same nearest neighbor in l even though the difference between the s[ix] and l[ix2] may be different for these s values.  2. searchsorted may make multiple insertions between adjacent values in l2 (i.e. five values from s may get jammed between s[1] and s[2]).  I think this can be mitigated (if not obviated) by making the suggested changes above.  However, these changes significantly increase the execution time (around 3-4 minutes for me).  It depends on how fast you need it to be I guess."}, {"owner": {"reputation": 2926, "user_id": 4589744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8c232e7f6d7e5c798a552dfaa4b96c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen Yalagandula", "link": "https://stackoverflow.com/users/4589744/praveen-yalagandula"}, "edited": false, "score": 0, "creation_date": 1464302517, "post_id": 37446292, "comment_id": 62442882, "body": "The first algorithm is not a solution to the asked problem as the resulting set is not a subset of l. Second solution looks a heuristic -- it surely will return a subset of l, but how do you prove or convince someone that it is indeed optimal?"}, {"owner": {"reputation": 4442, "user_id": 1678467, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5f1e2e084cb0946c2c159ceaee9f43a0?s=128&d=identicon&r=PG", "display_name": "tnknepp", "link": "https://stackoverflow.com/users/1678467/tnknepp"}, "edited": false, "score": 0, "creation_date": 1464691977, "post_id": 37446292, "comment_id": 62576174, "body": "Praveen -- you are correct that the first solution is not a proper solution to the question as the OP pointed out.  &quot;optimization&quot; is in the eye of the beholder as we typically stop optimizing due to diminishing returns.  As the question sits, the OP has not provided enough information to provide a full/final solution, hence I just tried to point the OP in the right direction here."}], "tags": [], "owner": {"reputation": 4442, "user_id": 1678467, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5f1e2e084cb0946c2c159ceaee9f43a0?s=128&d=identicon&r=PG", "display_name": "tnknepp", "link": "https://stackoverflow.com/users/1678467/tnknepp"}, "is_accepted": true, "score": 1, "last_activity_date": 1464210650, "last_edit_date": 1464210650, "creation_date": 1464205449, "answer_id": 37446292, "question_id": 37445418, "link": "https://stackoverflow.com/questions/37445418/python-how-to-find-a-subset-of-one-set-that-is-closest-to-another/37446292#37446292", "title": "python: how to find a subset of one set that is closest to another", "body": "<p>I know you said these are lists, but is there any reason to not temporarily convert them to numpy arrays?  This can be straight forward (in case you don't know how to do the conversion): </p>\n\n<pre><code>s = np.array(s)\nl = np.array(l)\n</code></pre>\n\n<p>From there, you can make use of the \"searchsorted\" function.  My test run took just under 1.5 s.  </p>\n\n<pre><code>from __future__ import division, print_function\n\nimport numpy as np\nimport datetime as dt\n\n# build numpy array\ns = np.random.rand(90000)\nl = np.random.rand(2.5E6)\n\n\n# sort\ns.sort()\nl.sort()\n\n# searchsorted finds where values in array2 should be inserted in array1 to \n# maintain the \"sortedness\" of a new list\n# define index locations where \"s\" should be inserted in \"l\"\nindices = np.searchsorted(l,s)\n\n# build dummy list to store \"s2\"\n# this is faster than repeatedly resizing an array\ns2 = s*0\n\n\n# using \"indices\" determine which adjacent value is the nearest match\n# need to be careful here since we cannot look \"below\" the first index\n# nor can we look \"above\" the last value\n\nd1 = dt.datetime.now()\nfor r in np.arange(s.shape[0]):\n    ix = indices[r]\n\n    if indices[r]==0:\n        s2[ix] = l[0]\n    elif indices[r]==l.shape[0]:\n        s2[ix] = l[r-1]\n    else:\n        tmp = l[ix:ix+2]\n        s2[r] = tmp[ np.abs(s[r]-tmp)==np.min(np.abs(s[r]-tmp)) ]\n\nprint('Execution time: ',dt.datetime.now()-d1)\n</code></pre>\n\n<p>I have run a couple trials and it looks like this works, but confirm for yourself.  If this does not work there should not be too much effort for tuning it in.</p>\n\n<hr>\n\n<h1>BEGIN EDIT</h1>\n\n<hr>\n\n<p>Change the for loop to: </p>\n\n<pre><code>for r in np.arange(s.shape[0]):\n    ix = indices[r]\n\n    if indices[r]==0:\n        s2[ix] = l[0]\n        l[0] = np.nan\n    elif indices[r]==l.shape[0]:\n        s2[ix] = l[r-1]\n        l[r-1] = np.nan\n    else:\n        width = 0\n\n        while width&lt;min([10,r]) and np.isnan(l[ix-width:ix+2+width].mean()):\n            width += 1\n\n        tmp = l[ix-width:ix+2+width]\n        s2[r] = tmp[ np.abs(s[r]-tmp)==np.nanmin(np.abs(s[r]-tmp)) ][0]\n        l[l==s2[r]] = np.nan\n</code></pre>\n\n<p>This does two things: \n1. it removes the nearest neighbor within l from being considered in future iterations\n2. it incrementally increases the search width within l to ensure that a nearest neighbor is found</p>\n\n<p>Again, this will likely require tweaking to dial it in.  </p>\n"}, {"tags": [], "owner": {"reputation": 2926, "user_id": 4589744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8c232e7f6d7e5c798a552dfaa4b96c?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen Yalagandula", "link": "https://stackoverflow.com/users/4589744/praveen-yalagandula"}, "is_accepted": false, "score": 0, "last_activity_date": 1464210686, "creation_date": 1464210686, "answer_id": 37447691, "question_id": 37445418, "link": "https://stackoverflow.com/questions/37445418/python-how-to-find-a-subset-of-one-set-that-is-closest-to-another/37447691#37447691", "title": "python: how to find a subset of one set that is closest to another", "body": "<p>The distance function could be critical. If you define the distance function as the absolute difference between the sum of elements in sets s and l2, then the problem is actually NP-hard. Essentially, you are trying to find a subset of set l whose sum is close to the sum of elements in s. And the subset-sum problem (<a href=\"https://en.wikipedia.org/wiki/Subset_sum_problem\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Subset_sum_problem</a>) can be mapped to this; which means there is no polynomial time algorithm to solve this. However, you can probably modify the pseudo-polynomial time solution for the subset-sum problem for your case too.</p>\n"}], "owner": {"reputation": 4929, "user_id": 1054435, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/DYDWj.png?s=128&g=1", "display_name": "I Z", "link": "https://stackoverflow.com/users/1054435/i-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "accepted_answer_id": 37446292, "answer_count": 2, "score": 1, "last_activity_date": 1464212758, "creation_date": 1464202413, "last_edit_date": 1464212758, "question_id": 37445418, "link": "https://stackoverflow.com/questions/37445418/python-how-to-find-a-subset-of-one-set-that-is-closest-to-another", "title": "python: how to find a subset of one set that is closest to another", "body": "<p>I have the following optimization problem that I can solve by \"brute force\" but am wondering if someone has already implemented a solver that I could use to do it faster and more elegantly.</p>\n\n<p>I have two disjoint lists of integers. These are actually unique so I can say these are two sets. One is short with (<code>s</code>) about <code>S=90000</code> elements, the other is long (<code>l</code>) with about <code>L=2.5M</code> elements. What I need is to extract from <code>l</code> a subset <code>l2</code> of length exactly <code>S</code> so that overall the distance between elements of <code>s</code> and <code>l2</code> is the smallest over all subsets of <code>l</code> of length <code>S</code>. Pairwise distance between elements of <code>s</code> and <code>l</code> is simply the absolute value of their difference.</p>\n\n<p>So if <code>s</code> and <code>l</code> were not disjoint and <code>l</code> were a superset of <code>s</code>, the resulting <code>l2</code> would simply be identical to <code>s</code>.</p>\n\n<p>Since the arrays are long, doing a brute force approach by testing various subsets of <code>l</code> is not practical.</p>\n\n<p>Is there an existing optimization library of some sort or some other package that I could use to solve this?</p>\n\n<p>By the way, there might be different ways of measuring a distance between two sets, and I don't really care which one it is as long as it would give 0 for the above extreme superset example.</p>\n"}, {"tags": ["python", "matplotlib", "subplot", "graphing"], "comments": [{"owner": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1464202694, "post_id": 37445412, "comment_id": 62393172, "body": "Wouldn&#39;t you want to set the xticks for an axis instead? For example <code>ax1.set_xticks(np.arange(len(labels)), labels)</code>"}, {"owner": {"reputation": 133, "user_id": 3487036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Efq8j.png?s=128&g=1", "display_name": "AGentleRose", "link": "https://stackoverflow.com/users/3487036/agentlerose"}, "reply_to_user": {"reputation": 2867, "user_id": 2599709, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3c565ca54f4e129a36e857b20f5ff86f?s=128&d=identicon&r=PG", "display_name": "Chrispresso", "link": "https://stackoverflow.com/users/2599709/chrispresso"}, "edited": false, "score": 0, "creation_date": 1464203654, "post_id": 37445412, "comment_id": 62393682, "body": "Tried this, it gave me the error &quot;TypeError: unsupported operand type(s) for -: &#39;XTick&#39; and &#39;float&#39;&quot; when calling bar."}], "owner": {"reputation": 133, "user_id": 3487036, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Efq8j.png?s=128&g=1", "display_name": "AGentleRose", "link": "https://stackoverflow.com/users/3487036/agentlerose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1464203853, "creation_date": 1464202377, "last_edit_date": 1464203853, "question_id": 37445412, "link": "https://stackoverflow.com/questions/37445412/how-to-get-xticks-to-work-with-matplotlib-bar-graph", "title": "How to get xticks to work with Matplotlib bar graph?", "body": "<p>When running the code below: </p>\n\n<pre><code>import json\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nplt.close('all')\njsonfile = 'data.json'\n\nwith open(jsonfile, 'r') as f:\n    histogram = json.load(f)\n\nlabels = []\ny = []\ny_norm1 = []\ny_norm2 = []\nfor resolution in histogram:\n    if resolution[0][:3] == 'Dup':\n        labels.append(resolution[0][-11:])\n        y.append(resolution[1])\nx = []\nN = len(labels)\nind = np.arange(N)\n\nf, axarr = plt.subplots(1,2)\nax1 = axarr[0]\nx = plt.xticks(range(len(labels)),labels)\nax1.set_title('Duplicate')\nax1.bar(x,y,color='b',align='center')\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>\"incompatible sizes: argument 'height' must be length 2 or scalar.\"</p>\n</blockquote>\n\n<p>I am attempting to display results of analysis but am running into this error when trying to use the string labels I had embedded into my json file.</p>\n\n<p>The reason I'm using subplots is because there is a comparison being made between two different plots; if I replace the</p>\n\n<pre><code>x = plt.xticks(range(len(labels)),labels)\n</code></pre>\n\n<p>with </p>\n\n<pre><code>x = np.array(range(len(labels))\n</code></pre>\n\n<p>I am able to view my results.</p>\n\n<p>Edit:</p>\n\n<p>If instead of:</p>\n\n<pre><code>x = plt.xticks(range(len(labels)),labels)\n</code></pre>\n\n<p>I use </p>\n\n<pre><code>x = ax1.set_xticks(np.arange(len(labels)), labels)\n</code></pre>\n\n<p>I get the error </p>\n\n<blockquote>\n  <p>TypeError: unsupported operand type(s) for -: 'XTick' and 'float'</p>\n</blockquote>\n"}, {"tags": ["python", "c++", "numpy", "python-embedding"], "comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1464221315, "post_id": 37445397, "comment_id": 62400756, "body": "<code>PyObject_GetAttrString(pModule, (char*)&quot;optimize.nnls&quot;);</code> is like trying <code>getattr(module, &quot;optimize.nnls&quot;)</code> in python. You want <code>PyObject_GetAttrString(PyObject_GetAttrString(pModule, &quot;optimize&quot;), &quot;nnls&quot;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4466099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718499ec1666d43d900c7c7a5128b1eb?s=128&d=identicon&r=PG&f=1", "display_name": "Robopoto", "link": "https://stackoverflow.com/users/4466099/robopoto"}, "edited": false, "score": 0, "creation_date": 1464206772, "post_id": 37445813, "comment_id": 62395287, "body": "Thank you, both your answers were helpful."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1464204075, "last_edit_date": 1464204075, "creation_date": 1464203775, "answer_id": 37445813, "question_id": 37445397, "link": "https://stackoverflow.com/questions/37445397/when-embedding-python-in-another-application-how-do-i-import-or-call-a-function/37445813#37445813", "title": "When embedding python in another application how do I import or call a function in a submodule (i.e. scipy.optimize.nnls)?", "body": "<p>Like the rarely-used built-in <code>__import__</code> function, when you <code>PyImport_Import</code> the name <code>scipy.optimize</code>, the import system does load the <code>scipy.optimize</code> module, but it returns <code>scipy</code> instead of <code>scipy.optimize</code>. You need to follow the attribute chain down to <code>scipy.optimize.nnls</code>:</p>\n\n<pre><code>PyObject *scipy = PyImport_Import(pName);\nPyObject *optimize = PyObject_GetAttrString(scipy, \"optimize\");\nPyObject *nnls = PyObject_GetAttrString(optimize, \"nnls\");\n</code></pre>\n\n<p>As always, don't forget to <code>Py_DECREF</code> any references you own when you're done with them. That includes things like <code>pName</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4466099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718499ec1666d43d900c7c7a5128b1eb?s=128&d=identicon&r=PG&f=1", "display_name": "Robopoto", "link": "https://stackoverflow.com/users/4466099/robopoto"}, "edited": false, "score": 0, "creation_date": 1464206713, "post_id": 37445831, "comment_id": 62395255, "body": "Thanks I had actually tried this after looking at the documentation, but must have used it incorrectly."}], "tags": [], "owner": {"reputation": 2928, "user_id": 1603365, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/K4qJN.png?s=128&g=1", "display_name": "md5i", "link": "https://stackoverflow.com/users/1603365/md5i"}, "is_accepted": true, "score": 1, "last_activity_date": 1464203831, "creation_date": 1464203831, "answer_id": 37445831, "question_id": 37445397, "link": "https://stackoverflow.com/questions/37445397/when-embedding-python-in-another-application-how-do-i-import-or-call-a-function/37445831#37445831", "title": "When embedding python in another application how do I import or call a function in a submodule (i.e. scipy.optimize.nnls)?", "body": "<p>First of all, I've never use <code>PyImport_Import()</code>.  I've always used <code>PyImport_ImportModule()</code>, which takes a <code>const char *</code> arg instead of a <code>PyObject *</code>.  That should save some steps in your code.</p>\n\n<pre><code>PyObject *pModule = PyImport_ImportModule(\"scipy.optimize\");\nPyObject *pFunc = PyObject_GetAttrString(pModule, \"nnls\");\n</code></pre>\n\n<p>This is how I have done things in code I have written.  <code>PyImport_ImportModule()</code> handles package hierarchies.  <code>PyObject_getAttrString()</code> does not know what to do with the dot.</p>\n\n<p>I have never used <code>PyImport_Import()</code>, so I don't know how its behavior might change things.</p>\n"}], "owner": {"reputation": 33, "user_id": 4466099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718499ec1666d43d900c7c7a5128b1eb?s=128&d=identicon&r=PG&f=1", "display_name": "Robopoto", "link": "https://stackoverflow.com/users/4466099/robopoto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 0, "accepted_answer_id": 37445831, "answer_count": 2, "score": 2, "last_activity_date": 1464204075, "creation_date": 1464202343, "question_id": 37445397, "link": "https://stackoverflow.com/questions/37445397/when-embedding-python-in-another-application-how-do-i-import-or-call-a-function", "title": "When embedding python in another application how do I import or call a function in a submodule (i.e. scipy.optimize.nnls)?", "body": "<p>First I'll restate the question: When embedding Python into a C/C++ application using <a href=\"https://docs.python.org/3.4/extending/embedding.html#compiling\" rel=\"nofollow\">python docs</a> and other resources. I discovered that you can import a module using</p>\n\n<pre><code>PyObject *pName = PyUnicode_FromString((char*)\"scipy\");\nPyObject *pModule = PyImport_Import(pName); \n</code></pre>\n\n<p>but if I try to import \"scipy.optimize\" </p>\n\n<pre><code>PyObject *pName = PyUnicode_FromString((char*)\"scipy.optimize\");\nPyObject *pModule = PyImport_Import(pName); \n</code></pre>\n\n<p>then the program fails to initialize <code>pModule</code>. Again if I try </p>\n\n<pre><code>PyObject *pName = PyUnicode_FromString((char*)\"scipy\");\nPyObject *pModule = PyImport_Import(pName); \npFunc = PyObject_GetAttrString(pModule, (char*)\"optimize.nnls\");\n</code></pre>\n\n<p>where I put <code>optimize</code> in the function name the it fails to initialize <code>pFunc</code>. How do I import or call a function in a submodule, i.e. how do I call the function scipy.optimize.nnls? </p>\n\n<p>Next, I'll lay out my code in case it helps:</p>\n\n<pre><code>/* Relelvant imports\n    #include &lt;Python.h&gt;\n    #include &lt;numpy/arrayobject.h&gt; \n*/\n\nvoid nnls::update(const vec&amp; x, const vec&amp; y)\n{\n    mat B;\n    vecToGslVec(x, gslx);\n    generateX(X, gslx);\n    A = gslMatToMat(X);\n    B = A.transpose();\n    long double *c_out;\n\n    Py_Initialize();\n    PyObject *pName = PyUnicode_FromString((char*)\"scipy\"); //Issue Here\n    check(pName, \"pName not initializes.\");\n\n    PyObject *pModule = PyImport_Import(pName);\n    check(pModule, \"pModule not initializes.\");\n\n    PyObject *pFunc, *pArgs, *pResult;\n    PyArrayObject *pNpArray;\n\n    npy_intp Adims[2]; Adims[0] = A.rows(); Adims[1] = A.cols();\n    npy_intp bdim[1];  bdim[0] = y.size();\n\n    if (pModule != NULL) {\n        pFunc = PyObject_GetAttrString(pModule, (char*)\"optimize.nnls\"); //Issue Here\n        check(pFunc, \"pFunc not initializes.\");\n\n        /*program never advances past this point unless I remove this check, \n        in which case I get a segfault, because pFunc is not initialized.*/\n\n        if (pFunc &amp;&amp; PyCallable_Check(pFunc)) {\n            pArgs = PyTuple_Pack(2,\n                PyArray_SimpleNewFromData(2, Adims, NPY_FLOAT, B.data()),\n                PyArray_SimpleNewFromData(1, bdim , NPY_FLOAT, \\\n                    const_cast&lt;double*&gt; (y.data()))\n            );\n            check(pArgs, \"pArgs not initializes.\");\n            pResult = PyObject_CallObject(pFunc, pArgs);\n            check(pResult, \"pResult not initializes.\");\n            pNpArray = reinterpret_cast&lt;PyArrayObject*&gt;(pResult);\n            log_info(\"not PyArray cast\");\n        }\n        Py_DECREF(pFunc);\n    }\n    Py_DECREF(pModule);\n    Py_DECREF(pArgs);\n    c_out = reinterpret_cast&lt;long double*&gt;(PyArray_DATA(pNpArray));\n    for(size_t i=0; i&lt;order; i++){\n        gsl_vector_set(gslc, i, c_out[i]);\n    }\n    if (pResult != NULL) Py_DECREF(pResult); Py_DECREF(pNpArray);\n    Py_Finalize();\n}\n</code></pre>\n\n<p>Again, My issue is in the lines</p>\n\n<pre><code>PyObject *pModule = PyImport_Import(pName);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>pFunc = PyObject_GetAttrString(pModule, (char*)\"optimize.nnls\");\n</code></pre>\n\n<p>If I set</p>\n\n<pre><code>pName = PyUnicode_FromString((char*)\"scipy.optimize\"); \n</code></pre>\n\n<p>or</p>\n\n<pre><code>pFunc = PyObject_GetAttrString(pModule, (char*)\"optimize.nnls\");\n</code></pre>\n\n<p>the code fails to initialized these variables at these points.</p>\n\n<p>So to reiterate my question one last time how do I import the module <code>scipy.optimize</code> or call the function <code>optimize.nnls</code> in this context? Thanks. I hope it isn't too confusing, if it is let me know and I'll clarify.</p>\n"}, {"tags": ["python", "streaming", "audio-streaming", "http-live-streaming"], "comments": [{"owner": {"reputation": 1983, "user_id": 1376063, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jI8Qs.jpg?s=128&g=1", "display_name": "robmathers", "link": "https://stackoverflow.com/users/1376063/robmathers"}, "edited": false, "score": 2, "creation_date": 1464209559, "post_id": 37445385, "comment_id": 62396785, "body": "Without knowing the particulars of stream, I&#39;d highly suggest looking at ffmpeg. It can convert formats without necessarily transcoding. Check out the <a href=\"https://trac.ffmpeg.org/wiki/StreamingGuide\" rel=\"nofollow noreferrer\">ffmpeg streaming guide</a>."}, {"owner": {"reputation": 45, "user_id": 1731374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfb5743d13ea14a229684d5177acc754?s=128&d=identicon&r=PG", "display_name": "brokenbones", "link": "https://stackoverflow.com/users/1731374/brokenbones"}, "reply_to_user": {"reputation": 1983, "user_id": 1376063, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jI8Qs.jpg?s=128&g=1", "display_name": "robmathers", "link": "https://stackoverflow.com/users/1376063/robmathers"}, "edited": false, "score": 0, "creation_date": 1464209768, "post_id": 37445385, "comment_id": 62396897, "body": "Cheers. My main problem is really how to offer up a stream. i.e. I&#39;ve got loads of data coming in, how do I then provide that to a client?"}, {"owner": {"reputation": 1983, "user_id": 1376063, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/jI8Qs.jpg?s=128&g=1", "display_name": "robmathers", "link": "https://stackoverflow.com/users/1376063/robmathers"}, "edited": false, "score": 1, "creation_date": 1464210706, "post_id": 37445385, "comment_id": 62397327, "body": "That really depends on what formats the client can handle, but unless it&#39;s something really esoteric, you shouldn&#39;t need to write your own streaming server from scratch. The concept should really be: 1. decode the HLS into whatever format (probably m4a) 2. present a stream of that to your clients (over HTTP, RTMP, etc.). Do some research into ffmpeg and ffserver, I think you&#39;ll find what you need."}], "owner": {"reputation": 45, "user_id": 1731374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfb5743d13ea14a229684d5177acc754?s=128&d=identicon&r=PG", "display_name": "brokenbones", "link": "https://stackoverflow.com/users/1731374/brokenbones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1570, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1464202308, "creation_date": 1464202308, "question_id": 37445385, "link": "https://stackoverflow.com/questions/37445385/convert-and-re-stream-hls-stream", "title": "Convert and re-stream HLS stream", "body": "<p><strong>What I'm trying to do:</strong></p>\n\n<ul>\n<li>I have devices that (i) can't hit the internet and (ii) are using software \nthan cannot read HLS playlist/streams. </li>\n<li>I have a server that will sit between these devices and the internet.</li>\n<li>I want it to read in the HLS stream from outside and re-package the actual audio content into something that can be streamed by the other devices.</li>\n</ul>\n\n<p><strong>What I've got:</strong></p>\n\n<pre><code>import m3u8\nimport requests\n\nprint(\"hello\")\n\nmus = \"http://a.files.bbci.co.uk/media/live/manifesto/audio/simulcast/hls/uk/sbr_high/ak/bbc_6music.m3u8\"\nm = m3u8.load(mus)\nr_cache = []\nfor p in m.playlists:\n    r1 = requests.get(p.uri)\n    for a in r1.text.split('\\n'):\n        if a and not a.startswith('#'):\n            full = \"{}/{}\".format(p.base_path, a)\n            print(\"Downloading {}\".format(full))\n            r2 = requests.get(full)\n            r_cache.append(r2)\n\nfor i, r in enumerate(r_cache):\n    with open('file{}'.format(i), 'wb') as f:\n        f.write(r.content)\n\nprint(\"bye\")\n</code></pre>\n\n<p>Please excuse the ugliness, this is just proof of concept. So I know I can take an HLS url, parse/use it to get the actual files and grab them.</p>\n\n<p><strong>Where I'm stuck</strong>\nSo how do I turn that into a single stream of data that can be read by other clients? I can save it to a single file, easy.</p>\n\n<p>I've looked at the Python <code>Buffer</code> class and had a good read of <a href=\"https://docs.python.org/3/library/io.html\" rel=\"nofollow\">the IO module</a> but I can't see anything that's quite what I want.</p>\n\n<p>In my head I want:</p>\n\n<ul>\n<li>A buffer of some sort that I can write to continuously...</li>\n<li>...that will only store the last <code>x</code> bytes of content</li>\n<li>...that can be read from <em>without removing the content</em> by one or many clients.</li>\n</ul>\n\n<p><em>I'm not interested in transcoding etc. for the moment. Let's just assume the clients can read whatever actual audio they stream from me</em></p>\n"}, {"tags": ["python", "python-3.x", "import", "packaging", "setup.py"], "answers": [{"comments": [{"owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464202720, "post_id": 37445467, "comment_id": 62393185, "body": "Nice one, +1! But are there syntax issues?"}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "reply_to_user": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "edited": false, "score": 0, "creation_date": 1464202754, "post_id": 37445467, "comment_id": 62393211, "body": "@linusg - not sure, can&#39;t run it on my phone to test : /"}, {"owner": {"reputation": 249, "user_id": 6382593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/84f714c979036a5da68bdf89f7ecd064?s=128&d=identicon&r=PG&f=1", "display_name": "Michael B", "link": "https://stackoverflow.com/users/6382593/michael-b"}, "edited": false, "score": 0, "creation_date": 1464209110, "post_id": 37445467, "comment_id": 62396550, "body": "thanks. I&#39;ll try it when I get to a computer. Is this the best way to import modules from different directories? It seems a little complex."}, {"owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "reply_to_user": {"reputation": 249, "user_id": 6382593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/84f714c979036a5da68bdf89f7ecd064?s=128&d=identicon&r=PG&f=1", "display_name": "Michael B", "link": "https://stackoverflow.com/users/6382593/michael-b"}, "edited": false, "score": 0, "creation_date": 1464209588, "post_id": 37445467, "comment_id": 62396803, "body": "@MichaelB I&#39;m sure there&#39;s better alternatives. For instance placing the libraries (modules) in a subdirectory and creating a <code>__init__.py</code> file. But that won&#39;t give you absolute import paths."}], "tags": [], "owner": {"reputation": 19728, "user_id": 929999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8e38b941717ff6f519095ee81fcd09a7?s=128&d=identicon&r=PG", "display_name": "Torxed", "link": "https://stackoverflow.com/users/929999/torxed"}, "is_accepted": false, "score": 2, "last_activity_date": 1464218983, "last_edit_date": 1464218983, "creation_date": 1464202583, "answer_id": 37445467, "question_id": 37445370, "link": "https://stackoverflow.com/questions/37445370/importing-modules-from-different-directories/37445467#37445467", "title": "Importing modules from different directories", "body": "<h2>Loading a script dynamically from anywhere via a given path</h2>\n\n<pre><code>import importlib.machinery\nimport imp\nimport os.path\n\npath = '/home/user/testscript' # without .py\nfname = os.path.basename(path)\n\nnamespace = fname.replace(' ', '_').strip('\\\\/;,. ') \n\nloader = importlib.machinery.SourceFileLoader(namespace, os.path.abspath(path+'.py'))\nhandle = loader.load_module(namespace)\nimp.reload(handle)\n\nret = handle.mainFunction()\n</code></pre>\n\n<p><code>handle</code> being your library name. I just call it handle because I use it in a one shot test library myself so it gets deleted anyway in every iteration of the loop. </p>\n\n<p>Sorry for syntax issues, wrote it on the phone. I'll correct any syntax issues or indentation issues in a few min.</p>\n\n<h2>Minimalistic example would be:</h2>\n\n<pre><code>import importlib.machinery\n\n# Register the \"mylib\" namespace as \"test.py\"\nloader = importlib.machinery.SourceFileLoader(\"mylib\", r'C:\\Users\\OpenWindows\\Desktop\\test.py')\n# And load that namespace\nmylib = loader.load_module(\"mylib\")\n\n# And now we can call it whenever we want.\nret = mylib.someFunction()\n</code></pre>\n\n<h2>Traditional approach (not absolute path friendly)</h2>\n\n<p>Would be to just create a folder structure that looks like this:</p>\n\n<pre><code>|- main.py\n|-- mylib /\n|--        __init__.py\n|--        mylib.py\n</code></pre>\n\n<p>And in the <code>__init__.py</code> file create something that looks like:</p>\n\n<pre><code>from mylib.mylib import *\n</code></pre>\n\n<p>That way, any function or class in <code>mylib.py</code> would be imported as if it resided in <code>main.py</code>. However, again this is heavily dependant on the subfolder residing in the same folder as the script you're executing. But it's also a traditional way of shipping/adding functionality to a application.</p>\n\n<p>There's some other stuff you can do in the <a href=\"https://docs.python.org/3/tutorial/modules.html#packages\" rel=\"nofollow\"><code>__init__.py</code></a> file that might be useful. Have a look at the documentation.</p>\n"}, {"tags": [], "owner": {"reputation": 1602, "user_id": 5285891, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/863f0d8e87256fcdf5209545922d20f9?s=128&d=identicon&r=PG&f=1", "display_name": "pzelasko", "link": "https://stackoverflow.com/users/5285891/pzelasko"}, "is_accepted": false, "score": 0, "last_activity_date": 1464210372, "creation_date": 1464210372, "answer_id": 37447622, "question_id": 37445370, "link": "https://stackoverflow.com/questions/37445370/importing-modules-from-different-directories/37447622#37447622", "title": "Importing modules from different directories", "body": "<p>I struggled with this problem for a long time, and found the best method to create the <code>setup.py</code> file as you mentioned - don't worry, it's very easy. The basic one looks like this (<a href=\"https://docs.python.org/2/distutils/introduction.html#distutils-simple-example\" rel=\"nofollow\">taken from python documentation</a>):</p>\n\n<pre><code>from distutils.core import setup\nsetup(name='foo',\n  version='1.0',\n  py_modules=['foo'],\n  )\n</code></pre>\n\n<p>And then install it with pip using <code>-e</code> option:</p>\n\n<pre><code> pip install -e &lt;path-to-your-project&gt;\n</code></pre>\n\n<p>This way you tell python to look for the module in your projects directory.</p>\n"}], "owner": {"reputation": 249, "user_id": 6382593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/84f714c979036a5da68bdf89f7ecd064?s=128&d=identicon&r=PG&f=1", "display_name": "Michael B", "link": "https://stackoverflow.com/users/6382593/michael-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1464218983, "creation_date": 1464202238, "last_edit_date": 1464202947, "question_id": 37445370, "link": "https://stackoverflow.com/questions/37445370/importing-modules-from-different-directories", "title": "Importing modules from different directories", "body": "<p>What is the pythonic way for absolute importing modules located in different directories in Python 3? I am able to import modules by modifying the <code>sys.path</code> but that method is hackey.</p>\n\n<p>The alternative method, from what I've read, is to turn the project into a pip installable package. This is method beyond me, can someone elaborate on this process and logic? After writing a <code>setup.py</code> script, do I just <code>python setup.py install</code>, then all my modules and packages are in the right path and will work? </p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "edited": false, "score": 0, "creation_date": 1464202613, "post_id": 37445356, "comment_id": 62393130, "body": "If <code>MyField</code> inherits from <code>HandField</code>, why is that not in the parent-class-list for this class? Just wondering."}, {"owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "reply_to_user": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "edited": false, "score": 0, "creation_date": 1464202728, "post_id": 37445356, "comment_id": 62393190, "body": "@PeterRowell sorry, that was a copy paste typo when I was trying to make the code more generic for the quesiton. I updated the code snippet. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1464204195, "post_id": 37445744, "comment_id": 62393999, "body": "I did the same. Thank you for taking the time to help me.  Looks like <code>self.model</code> appears in a couple of methods within <code>django.db.models.Field</code>, but in those methods it&#39;s not the normal Django Model instance that were used to, and doesn&#39;t have access to the other fields."}, {"owner": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "reply_to_user": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "edited": false, "score": 0, "creation_date": 1464208189, "post_id": 37445744, "comment_id": 62396054, "body": "Mmm, maybe, maybe not. In <code>django.db.models.base.py</code> you will find <code>class Model</code>. There are a number of iterations over <code>self._meta.concrete_fields</code> which sure looks like what you were describing. At line 625 is `def save(...), and the first thing it does is iterate over that attribute. Play with it, do some pprint()&#39;s."}], "tags": [], "owner": {"reputation": 17013, "user_id": 17017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d190afa89116770bcb80c30d3f4c3ea?s=128&d=identicon&r=PG", "display_name": "Peter Rowell", "link": "https://stackoverflow.com/users/17017/peter-rowell"}, "is_accepted": false, "score": 1, "last_activity_date": 1464203562, "creation_date": 1464203562, "answer_id": 37445744, "question_id": 37445356, "link": "https://stackoverflow.com/questions/37445356/how-to-access-the-django-model-instance-from-a-django-field/37445744#37445744", "title": "How to access the Django Model Instance from a Django Field", "body": "<p>I couldn't find anything obvious in the docs.</p>\n\n<p>From looking at the code in <code>django/db/models/fields/__init__.py</code> (v 1.9.6), <code>class Field</code> has an attribute called <code>model</code>, which appears to refer to the parent. I haven't dug any deeper, but that class definition has a lot of stuff happening that may be of interest. Good luck!</p>\n"}], "owner": {"reputation": 16356, "user_id": 1913888, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/MqCvM.jpg?s=128&g=1", "display_name": "Aaron Lelevier", "link": "https://stackoverflow.com/users/1913888/aaron-lelevier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1464203562, "creation_date": 1464202170, "last_edit_date": 1464202686, "question_id": 37445356, "link": "https://stackoverflow.com/questions/37445356/how-to-access-the-django-model-instance-from-a-django-field", "title": "How to access the Django Model Instance from a Django Field", "body": "<p>I'm trying to make a Custom Field that can access it's Django Model to perform some work.  Do Model Fields have this ability?</p>\n\n<p>Here is what I'd like to do, but the code is obviously not complete:</p>\n\n<pre><code>from django.db import models\n\nclass MyField(models.Field):\n\n    def __init__(self, *args, **kwargs):\n        # access the Model instance here, and do stuff\n        super(MyField, self).__init__(*args, **kwargs)\n\nclass MyModel(models.Model):\n    my_field = MyField()\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 1497, "user_id": 2712770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1341540476/picture?type=large", "display_name": "James Kelleher", "link": "https://stackoverflow.com/users/2712770/james-kelleher"}, "edited": false, "score": 0, "creation_date": 1464206439, "post_id": 37445453, "comment_id": 62395122, "body": "This definitely answers my question, so thank you. I was asking because the original problem I had was that I was attempting to transpose a DataFrame of Timestamps. Even when constructing a DataFrame with <code>from_records</code>, transposing throws the same <code>AssertionError</code> as before.  For now, I am transposing the numpy array before I construct the DataFrame."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 1, "last_activity_date": 1464203053, "last_edit_date": 1464203053, "creation_date": 1464202521, "answer_id": 37445453, "question_id": 37445334, "link": "https://stackoverflow.com/questions/37445334/pandas-cannot-create-a-dataframe-from-a-numpy-array-of-timestamps/37445453#37445453", "title": "Pandas Cannot Create a DataFrame from a Numpy Array Of Timestamps", "body": "<p>I think you can use <code>list</code> comprehension:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\na =np.array([[pd.Timestamp('2016-05-02 15:50:00+0000', tz='UTC', offset='5T'),\n        pd.Timestamp('2016-05-02 15:50:00+0000', tz='UTC', offset='5T'),\n        pd.Timestamp('2016-05-02 15:50:00+0000', tz='UTC', offset='5T')],\n       [pd.Timestamp('2016-05-02 17:10:00+0000', tz='UTC', offset='5T'),\n        pd.Timestamp('2016-05-02 17:10:00+0000', tz='UTC', offset='5T'),\n        pd.Timestamp('2016-05-02 17:10:00+0000', tz='UTC', offset='5T')],\n       [pd.Timestamp('2016-05-02 20:25:00+0000', tz='UTC', offset='5T'),\n        pd.Timestamp('2016-05-02 20:25:00+0000', tz='UTC', offset='5T'),\n        pd.Timestamp('2016-05-02 20:25:00+0000', tz='UTC', offset='5T')]], dtype=object)\n\ndf = pd.DataFrame([x for x in a], columns=['a','b','c'])\nprint (df)\n                          a                         b  \\\n0 2016-05-02 15:50:00+00:00 2016-05-02 15:50:00+00:00   \n1 2016-05-02 17:10:00+00:00 2016-05-02 17:10:00+00:00   \n2 2016-05-02 20:25:00+00:00 2016-05-02 20:25:00+00:00   \n\n                          c  \n0 2016-05-02 15:50:00+00:00  \n1 2016-05-02 17:10:00+00:00  \n2 2016-05-02 20:25:00+00:00  \n</code></pre>\n\n<p>Another solution is <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.from_records.html\" rel=\"nofollow\"><code>DataFrame.from_records</code></a>:</p>\n\n<pre><code>print (pd.DataFrame.from_records(a, columns=['a','b','c']))\n                          a                         b  \\\n0 2016-05-02 15:50:00+00:00 2016-05-02 15:50:00+00:00   \n1 2016-05-02 17:10:00+00:00 2016-05-02 17:10:00+00:00   \n2 2016-05-02 20:25:00+00:00 2016-05-02 20:25:00+00:00   \n\n                          c  \n0 2016-05-02 15:50:00+00:00  \n1 2016-05-02 17:10:00+00:00  \n2 2016-05-02 20:25:00+00:00  \n</code></pre>\n\n<p>See <a href=\"http://pandas.pydata.org/pandas-docs/stable/dsintro.html#alternate-constructors\" rel=\"nofollow\">alternate constructors of df</a>.</p>\n"}], "owner": {"reputation": 1497, "user_id": 2712770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1341540476/picture?type=large", "display_name": "James Kelleher", "link": "https://stackoverflow.com/users/2712770/james-kelleher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 37445453, "answer_count": 1, "score": 1, "last_activity_date": 1464203053, "creation_date": 1464202067, "question_id": 37445334, "link": "https://stackoverflow.com/questions/37445334/pandas-cannot-create-a-dataframe-from-a-numpy-array-of-timestamps", "title": "Pandas Cannot Create a DataFrame from a Numpy Array Of Timestamps", "body": "<p>I have a numpy array of Pandas Timestamps:</p>\n\n<pre><code>array([[Timestamp('2016-05-02 15:50:00+0000', tz='UTC', offset='5T'),\n        Timestamp('2016-05-02 15:50:00+0000', tz='UTC', offset='5T'),\n        Timestamp('2016-05-02 15:50:00+0000', tz='UTC', offset='5T')],\n       [Timestamp('2016-05-02 17:10:00+0000', tz='UTC', offset='5T'),\n        Timestamp('2016-05-02 17:10:00+0000', tz='UTC', offset='5T'),\n        Timestamp('2016-05-02 17:10:00+0000', tz='UTC', offset='5T')],\n       [Timestamp('2016-05-02 20:25:00+0000', tz='UTC', offset='5T'),\n        Timestamp('2016-05-02 20:25:00+0000', tz='UTC', offset='5T'),\n        Timestamp('2016-05-02 20:25:00+0000', tz='UTC', offset='5T')]], dtype=object)\n</code></pre>\n\n<p>I cannot create a DataFrame from this array, as attempting to do so throws the following error:</p>\n\n<pre><code>AssertionError: Number of Block dimensions (1) must equal number of axes (2)\n</code></pre>\n\n<p>You can see that the array is clearly 2 dimensional, which i verified by using <code>ndim</code>.</p>\n\n<p>Why can't I create a DataFrame?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1464202084, "post_id": 37445285, "comment_id": 62392824, "body": "have you tried using <a href=\"https://docs.python.org/2/library/re.html#re.sub\" rel=\"nofollow noreferrer\"><code>re.sub</code></a>?"}, {"owner": {"reputation": 144, "user_id": 6242005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18940c570520840315fa339fc3b949e2?s=128&d=identicon&r=PG", "display_name": "SDahal", "link": "https://stackoverflow.com/users/6242005/sdahal"}, "edited": false, "score": 0, "creation_date": 1464202104, "post_id": 37445285, "comment_id": 62392835, "body": "see this link:  <a href=\"http://stackoverflow.com/questions/2077897/substitute-multiple-whitespace-with-single-whitespace-in-python\" title=\"substitute multiple whitespace with single whitespace in python\">stackoverflow.com/questions/2077897/&hellip;</a>"}, {"owner": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "edited": false, "score": 0, "creation_date": 1464202323, "post_id": 37445285, "comment_id": 62392959, "body": "If you&#39;re looking to make it shorter, you could replace <code>if len(x).0</code> with <code>if x</code>. Note that this doesn&#39;t make it <i>better</i>, just shorter. (Code-golf disclaimer)"}, {"owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1464202412, "post_id": 37445285, "comment_id": 62393015, "body": "Yes sure, I just saw that myself. Adding an empty string is just &#39;fine&#39; (maybe not from a performance point-of-view, but still)"}], "answers": [{"comments": [{"owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 1, "creation_date": 1464202262, "post_id": 37445349, "comment_id": 62392928, "body": "I really should use regular expressions more often .... Thanks"}, {"owner": {"reputation": 111, "user_id": 9146893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc579ca99a81288b3adc788ba2ff365d?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander D&#39;Attore", "link": "https://stackoverflow.com/users/9146893/alexander-dattore"}, "edited": false, "score": 0, "creation_date": 1603686710, "post_id": 37445349, "comment_id": 114104904, "body": "Thank you so much. Would be cool if someone wants to elaborate on the plus sign in that regex as this a perfect example of a situation that calls for it."}], "tags": [], "owner": {"reputation": 7251, "user_id": 6214222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oYplt.png?s=128&g=1", "display_name": "Keiwan", "link": "https://stackoverflow.com/users/6214222/keiwan"}, "is_accepted": true, "score": 21, "last_activity_date": 1464202119, "creation_date": 1464202119, "answer_id": 37445349, "question_id": 37445285, "link": "https://stackoverflow.com/questions/37445285/how-to-best-replace-multiple-whitespaces-by-one-in-python/37445349#37445349", "title": "How to best replace multiple whitespaces by one (in python)?", "body": "<p>You can use:</p>\n\n<pre><code>import re\na = re.sub(' +',' ',a)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "is_accepted": false, "score": 1, "last_activity_date": 1464202147, "creation_date": 1464202147, "answer_id": 37445352, "question_id": 37445285, "link": "https://stackoverflow.com/questions/37445285/how-to-best-replace-multiple-whitespaces-by-one-in-python/37445352#37445352", "title": "How to best replace multiple whitespaces by one (in python)?", "body": "<p>Your solution is already very pythonic, I often use a more readable version:</p>\n\n<pre><code>sentence = \"Sentence  with     weird    whitespaces\"\n\nwhile \"  \" in sentence:\n    sentence = sentence.replace(\"  \", \" \")\n</code></pre>\n\n<p>(Replace double spaces by one while double spaces are in string).</p>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "edited": false, "score": 0, "creation_date": 1464202347, "post_id": 37445373, "comment_id": 62392974, "body": "Right, I can omit my length check. Adding an empty string to a string does not change string. I really should call it a day..."}], "tags": [], "owner": {"reputation": 437, "user_id": 3685684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76b425f50920c5f50be7ea99aac4d1f6?s=128&d=identicon&r=PG&f=1", "display_name": "WildCard", "link": "https://stackoverflow.com/users/3685684/wildcard"}, "is_accepted": false, "score": 8, "last_activity_date": 1464202260, "creation_date": 1464202260, "answer_id": 37445373, "question_id": 37445285, "link": "https://stackoverflow.com/questions/37445285/how-to-best-replace-multiple-whitespaces-by-one-in-python/37445373#37445373", "title": "How to best replace multiple whitespaces by one (in python)?", "body": "<pre><code>\" \".join(a.split())\n</code></pre>\n\n<p>pulled this from one of the duplicates for your question</p>\n"}], "owner": {"reputation": 33453, "user_id": 1581090, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e51877f9678542968a5b87c9d07c9000?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1581090/alex"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15033, "favorite_count": 2, "closed_date": 1464202164, "accepted_answer_id": 37445349, "answer_count": 3, "score": 6, "last_activity_date": 1464202260, "creation_date": 1464201938, "question_id": 37445285, "link": "https://stackoverflow.com/questions/37445285/how-to-best-replace-multiple-whitespaces-by-one-in-python", "closed_reason": "Duplicate", "title": "How to best replace multiple whitespaces by one (in python)?", "body": "<p>In python I have, for example, the following string: </p>\n\n<pre><code>a = \"Sentence  with     weird    whitespaces\"\n</code></pre>\n\n<p>I want the same string with extended whitespaces replaced by just one, so the final string would read</p>\n\n<pre><code> 'Sentence with weird whitespaces'\n</code></pre>\n\n<p>I found a solution myself, but is there a better/shorter one? </p>\n\n<pre><code>' '.join([x for x in a.split(' ') if len(x)&gt;0])\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 2, "creation_date": 1464202018, "post_id": 37445266, "comment_id": 62392789, "body": "how would you handle words like <code>&quot;don&#39;t&quot;</code>? Would you have <code>[&#39;don&#39;, &#39;&#39;&#39;, &#39;t&#39;]</code>?"}, {"owner": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "reply_to_user": {"reputation": 5127, "user_id": 5323213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c231bca62d8fc45d54fa169950c3701?s=128&d=identicon&r=PG&f=1", "display_name": "R Nar", "link": "https://stackoverflow.com/users/5323213/r-nar"}, "edited": false, "score": 0, "creation_date": 1464202089, "post_id": 37445266, "comment_id": 62392826, "body": "@RNar Yes, correct."}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 2, "creation_date": 1464202284, "post_id": 37445266, "comment_id": 62392938, "body": "<code>[c for c in re.split(&#39;(\\W+)&#39;, s) if c.strip() != &#39;&#39;]</code>"}, {"owner": {"reputation": 241, "user_id": 4872437, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PGxTz.png?s=128&g=1", "display_name": "Brady W", "link": "https://stackoverflow.com/users/4872437/brady-w"}, "edited": false, "score": 0, "creation_date": 1464202441, "post_id": 37445266, "comment_id": 62393035, "body": "I am not very experienced in Python, but in C# you would just use the string.Split() method with a character array containing a space and then the special characters"}], "answers": [{"tags": [], "owner": {"reputation": 3945, "user_id": 426790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4sanF.jpg?s=128&g=1", "display_name": "Greg Sadetsky", "link": "https://stackoverflow.com/users/426790/greg-sadetsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1464202370, "last_edit_date": 1495539846, "creation_date": 1464202370, "answer_id": 37445407, "question_id": 37445266, "link": "https://stackoverflow.com/questions/37445266/how-to-split-string-by-space-and-treat-special-characters-as-a-separate-word-in/37445407#37445407", "title": "How to split string by space and treat special characters as a separate word in Python?", "body": "<p>See <a href=\"https://stackoverflow.com/a/2136580/426790\">here</a> for a similar question. The answer there applies to you as well:</p>\n\n<pre><code>import re\nprint re.split('(\\W)', \"I want that one, it is great.\")\nprint re.split('(\\W)', \"I don't.\")\n</code></pre>\n\n<p>You can remove the spaces and empty strings returned by <code>re.split</code> using a filter:</p>\n\n<pre><code>s = \"I want that one, it is great.\"\nprint filter(lambda _: _ not in [' ', ''], re.split('(\\W)', s))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "edited": false, "score": 0, "creation_date": 1464202529, "post_id": 37445417, "comment_id": 62393089, "body": "This is promising but is there a way to trim strings to avoid extra spaces in <code>&quot;, &quot;</code>"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "reply_to_user": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "edited": false, "score": 0, "creation_date": 1464202588, "post_id": 37445417, "comment_id": 62393120, "body": "@M-T-A yes, just fixed"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "reply_to_user": {"reputation": 4316, "user_id": 6005451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b5d2854ebcf1678d4fab4f7bedd6b9f?s=128&d=identicon&r=PG&f=1", "display_name": "EoinS", "link": "https://stackoverflow.com/users/6005451/eoins"}, "edited": false, "score": 0, "creation_date": 1464202761, "post_id": 37445417, "comment_id": 62393219, "body": "@EoinS I just fixed that"}], "tags": [], "owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "is_accepted": false, "score": 1, "last_activity_date": 1464202578, "last_edit_date": 1464202578, "creation_date": 1464202404, "answer_id": 37445417, "question_id": 37445266, "link": "https://stackoverflow.com/questions/37445266/how-to-split-string-by-space-and-treat-special-characters-as-a-separate-word-in/37445417#37445417", "title": "How to split string by space and treat special characters as a separate word in Python?", "body": "<p>You can use Regex and a simple list comprehension to do this. The regex will pull out words and separate punctuation, and the list comprehension will remove the blank spaces.</p>\n\n<pre><code>import re\ns = \"I want that one, it is great. Don't do it.\"\nnew_s = [c.strip() for c in re.split('(\\W+)', s) if c.strip() != '']\nprint new_s\n</code></pre>\n\n<p>The output of <code>new_s</code> will be:</p>\n\n<pre><code>['I', 'want', 'that', 'one', ',', 'it', 'is', 'great', '.', 'Don', \"'\", 't', 'do', 'it', '.']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 6382827, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z8mCmG3E78s/AAAAAAAAAAI/AAAAAAAAADY/TdXFSTrsEFI/photo.jpg?sz=128", "display_name": "Liam McElhaney", "link": "https://stackoverflow.com/users/6382827/liam-mcelhaney"}, "is_accepted": false, "score": 0, "last_activity_date": 1464202492, "creation_date": 1464202492, "answer_id": 37445441, "question_id": 37445266, "link": "https://stackoverflow.com/questions/37445266/how-to-split-string-by-space-and-treat-special-characters-as-a-separate-word-in/37445441#37445441", "title": "How to split string by space and treat special characters as a separate word in Python?", "body": "<p>I don't know of any functions that can do this but you could use a for loop.</p>\n\n<p>Something like this:\n    word = \"\"\n    wordLength = 0 \n    for i in range(0, len(stringName)):\n      if stringName[i] != \" \":\n          for x in range((i-wordLength), i):\n               word += stringName[i]\n               wordLength = 0\n          list.append(word)\n          word = \"\"\n      else:\n          worldLength = wordlength + 1\nHope this works...sorry if it is not the best way</p>\n"}, {"comments": [{"owner": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "edited": false, "score": 0, "creation_date": 1464203520, "post_id": 37445513, "comment_id": 62393606, "body": "Will the second solution work for non-English punctuation such as <code>\u060c</code>  and <code>\u061b</code>?"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "edited": false, "score": 0, "creation_date": 1464204087, "post_id": 37445513, "comment_id": 62393920, "body": "Indeed it does. When applied to unicode, <code>[:punct:]</code> is matches any unicode character in the <a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"nofollow noreferrer\">Punctuation \\p{P} or Symbol \\p{S} category</a>. See also, <a href=\"http://www.regular-expressions.info/posixbrackets.html\" rel=\"nofollow noreferrer\">regular-expressions.info/posixbrackets.html</a>."}, {"owner": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "edited": false, "score": 0, "creation_date": 1464205299, "post_id": 37445513, "comment_id": 62394582, "body": "This is going well. But the regex failed on this one <code>help\u061b</code>, the output was just the same string. Any ideas?"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "edited": false, "score": 0, "creation_date": 1464205815, "post_id": 37445513, "comment_id": 62394824, "body": "Are you passing a <code>unicode</code> as the second argument to <code>regex.findall</code>? I&#39;ve added an example above showing what happens when a <code>str</code> (such as <code>&#39;help\u061b&#39;</code>) is passed instead of a <code>unicode</code> (such as <code>u&#39;help\u061b&#39;</code>). If this is the problem, then you can fix it by decoding the <code>str</code> with the appropriate encoding (e.g. <code>&#39;help\u061b&#39;.decode(&#39;utf-8&#39;)</code> ) to make a <code>unicode</code>."}, {"owner": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "edited": false, "score": 0, "creation_date": 1464208541, "post_id": 37445513, "comment_id": 62396240, "body": "That worked. Thank you very much. How could you be so knowledgeable, patient and funny (I read your &quot;About me&quot;) all at the same time?"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1464205924, "last_edit_date": 1464205924, "creation_date": 1464202729, "answer_id": 37445513, "question_id": 37445266, "link": "https://stackoverflow.com/questions/37445266/how-to-split-string-by-space-and-treat-special-characters-as-a-separate-word-in/37445513#37445513", "title": "How to split string by space and treat special characters as a separate word in Python?", "body": "<pre><code>In [70]: re.findall(r\"[^,.:;' ]+|[,.:;']\", \"I want that one, it is great.\")\nOut[70]: ['I', 'want', 'that', 'one', ',', 'it', 'is', 'great', '.']\n\nIn [76]: re.findall(r\"[^,.:;' ]+|[,.:;']\", \"I don't.\")\nOut[76]: ['I', 'don', \"'\", 't', '.']\n</code></pre>\n\n<p>The regex <code>[^,.:;' ]+|[,.:;']</code>  matches (1-or-more characters other than <code>,</code>, <code>.</code>, <code>:</code>, <code>;</code>, <code>'</code>  or a literal space), or (the literal characters <code>,</code>, <code>.</code>, <code>:</code>, <code>;</code>, or <code>'</code>).</p>\n\n<hr>\n\n<p>Or, using the <a href=\"https://pypi.python.org/pypi/regex\" rel=\"nofollow\">regex module</a>, you could easily expand this to include all <a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"nofollow\">punctuation and symbols</a> by using the <code>[:punct:]</code> character class:</p>\n\n<pre><code>In [77]: import regex\n</code></pre>\n\n<p>In Python2:</p>\n\n<pre><code>In [4]: regex.findall(ur\"[^[:punct:] ]+|[[:punct:]]\", u\"\"\"A \\N{ARABIC SEMICOLON} B\"\"\")\nOut[4]: [u'A', u'\\u061b', u'B']\n\nIn [6]: regex.findall(ur\"[^[:punct:] ]+|[[:punct:]]\", u\"\"\"He said, \"I don't!\" \"\"\")\nOut[6]: [u'He', u'said', u',', u'\"', u'I', u'don', u\"'\", u't', u'!', u'\"']\n</code></pre>\n\n<p>In Python3:</p>\n\n<pre><code>In [105]: regex.findall(r\"[^[:punct:] ]+|[[:punct:]]\", \"\"\"A \\N{ARABIC SEMICOLON} B\"\"\")\nOut[105]: ['A', '\u061b', 'B']\n\nIn [83]: regex.findall(r\"[^[:punct:] ]+|[[:punct:]]\", \"\"\"He said, \"I don't!\" \"\"\")\nOut[83]: ['He', 'said', ',', '\"', 'I', 'don', \"'\", 't', '!', '\"']\n</code></pre>\n\n<hr>\n\n<p>Note that it is important that you pass a <code>unicode</code> as the second argument to <code>regex.findall</code> if you wish <code>[:punct:]</code> to match unicode punctuation or symbols.</p>\n\n<p>In Python2:</p>\n\n<pre><code>import regex\nprint(regex.findall(r\"[^[:punct:] ]+|[[:punct:]]\", 'help\u061b'))\nprint(regex.findall(ur\"[^[:punct:] ]+|[[:punct:]]\", u'help\u061b'))\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>['help\\xd8\\x9b']\n[u'help', u'\\u061b']\n</code></pre>\n"}], "owner": {"reputation": 13978, "user_id": 1019952, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ryrqT.jpg?s=128&g=1", "display_name": "Mohamed Taher Alrefaie", "link": "https://stackoverflow.com/users/1019952/mohamed-taher-alrefaie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2420, "favorite_count": 2, "accepted_answer_id": 37445513, "answer_count": 4, "score": 1, "last_activity_date": 1464205924, "creation_date": 1464201875, "last_edit_date": 1464203573, "question_id": 37445266, "link": "https://stackoverflow.com/questions/37445266/how-to-split-string-by-space-and-treat-special-characters-as-a-separate-word-in", "title": "How to split string by space and treat special characters as a separate word in Python?", "body": "<p>Assume I have a string, </p>\n\n<pre><code>\"I want that one, it is great.\"\n</code></pre>\n\n<p>I want to split up this string to be </p>\n\n<pre><code>[\"I\", \"want\", \"that\", \"one\", \",\", \"it\", \"is\", \"great\", \".\"]\n</code></pre>\n\n<p>Keeping special characters such as <code>\",.:;\"</code> and possibly other ones to be treated as a separate word. </p>\n\n<p>Is there any easy way to do this with Python 2.7?</p>\n\n<h3>Update</h3>\n\n<p>For an example such as <code>\"I don't.\"</code>, it should be <code>[\"I\", \"don\", \"'\", \"t\", \".\"]</code>. It would ideally work with non-English punctuations such as <code>\u061b</code> and others.</p>\n"}, {"tags": ["python", "django", "rest", "serialization", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 1425, "user_id": 739731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MesSJ.jpg?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/739731/sergey"}, "edited": false, "score": 1, "creation_date": 1546440955, "post_id": 37572944, "comment_id": 94853475, "body": "You are assigning only one value (1) to self.Meta.depth. Is it a mistake?"}, {"owner": {"reputation": 1230, "user_id": 5779186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0599f9b586109ce9c0093b56aa66a267?s=128&d=identicon&r=PG&f=1", "display_name": "E.Serra", "link": "https://stackoverflow.com/users/5779186/e-serra"}, "edited": false, "score": 0, "creation_date": 1613500722, "post_id": 37572944, "comment_id": 117092228, "body": "depth ==1 means extend the next level, which wikll do the same, hence infinite recursion, hence all your models will be nested."}], "tags": [], "owner": {"reputation": 76, "user_id": 5901872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MWLot.jpg?s=128&g=1", "display_name": "Samir", "link": "https://stackoverflow.com/users/5901872/samir"}, "is_accepted": true, "score": 6, "last_activity_date": 1464794904, "creation_date": 1464794904, "answer_id": 37572944, "question_id": 37445248, "link": "https://stackoverflow.com/questions/37445248/how-to-dynamically-change-depth-in-django-rest-framework-nested-serializers/37572944#37572944", "title": "How to dynamically change depth in Django Rest Framework nested serializers?", "body": "<p>Here is my code that incorporates including/excluding fields, as well as dynamically adjusting the depth. Adjust it to your taste. :)</p>\n\n<pre><code>class DynamicModelSerializer(serializers.ModelSerializer):\n\"\"\"\nA ModelSerializer that takes an additional `fields` argument that\ncontrols which fields should be displayed, and takes in a \"nested\"\nargument to return nested serializers\n\"\"\"\n\ndef __init__(self, *args, **kwargs):\n    fields = kwargs.pop(\"fields\", None)\n    exclude = kwargs.pop(\"exclude\", None)\n    nest = kwargs.pop(\"nest\", None)\n\n    if nest is not None:\n        if nest == True:\n            self.Meta.depth = 1\n\n    super(DynamicModelSerializer, self).__init__(*args, **kwargs)\n\n    if fields is not None:\n        # Drop any fields that are not specified in the `fields` argument.\n        allowed = set(fields)\n        existing = set(self.fields.keys())\n        for field_name in existing - allowed:\n            self.fields.pop(field_name)\n\n    if exclude is not None:\n        for field_name in exclude:\n            self.fields.pop(field_name)\n</code></pre>\n"}], "owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3421, "favorite_count": 3, "accepted_answer_id": 37572944, "answer_count": 1, "score": 9, "last_activity_date": 1464794904, "creation_date": 1464201836, "question_id": 37445248, "link": "https://stackoverflow.com/questions/37445248/how-to-dynamically-change-depth-in-django-rest-framework-nested-serializers", "title": "How to dynamically change depth in Django Rest Framework nested serializers?", "body": "<p>I have a set of nested serializers which have a <code>depth</code> set on their respective <code>Meta</code> classes. I'd like to programmatically change the depth based on parameters passed into in views.</p>\n\n<pre><code>class ResourceSerializer(serializers.ModelSerializer):\n    type         = serializers.PrimaryKeyRelatedField(queryset=EntityType.objects.all())\n    tags         = serializers.PrimaryKeyRelatedField(queryset=Tag.objects.all(), many=True)\n\n    class Meta:\n        model  = Resource\n        fields = ('id', 'type', 'uri', 'tags', 'created_date')\n        depth = 1\n</code></pre>\n\n<p>Unfortunately, there doesn't seem to be a way to override the <code>depth</code> attribute at runtime. My current solution has been to inherit the \"shallow\" serializers and override their Meta classes to adjust the depth.</p>\n\n<pre><code>class ResourceNestedSerializer(ResourceSerializer):\n    class Meta(ResourceSerializer.Meta):\n        depth = 2\n</code></pre>\n\n<p>And in my view:</p>\n\n<pre><code>    if nested:\n        serializer = ContainerNestedSerializer(containers, many=True)\n    else:\n        serializer = ContainerSerializer(containers, many=True)\n    return Response(serializer.data)\n</code></pre>\n\n<p>Is there any way to adjust <code>depth</code> before calling <code>serializer.data</code>?</p>\n"}, {"tags": ["python", "garbage-collection", "weak-references"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1464201326, "post_id": 37445080, "comment_id": 62392383, "body": "Where did <code>Foo</code> come from?"}, {"owner": {"reputation": 1599, "user_id": 5636510, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/09b361064433b5c7272b92f4a0c6a8ee?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Hansen", "link": "https://stackoverflow.com/users/5636510/eric-hansen"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1464201361, "post_id": 37445080, "comment_id": 62392404, "body": "@user2357112 sorry, edited. (Gave up halfway through changing to Foo)."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1464201449, "post_id": 37445080, "comment_id": 62392448, "body": "Please copy-paste your code and results from an actual interpreter session. Don&#39;t try to retype output into the question box or edit it manually to &quot;fix&quot; spotted errors; you&#39;ll just obscure the actual behavior of your code."}, {"owner": {"reputation": 1599, "user_id": 5636510, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/09b361064433b5c7272b92f4a0c6a8ee?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Hansen", "link": "https://stackoverflow.com/users/5636510/eric-hansen"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1464201513, "post_id": 37445080, "comment_id": 62392489, "body": "@user2357112 Ill keep that in mind, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 3, "last_activity_date": 1464201530, "creation_date": 1464201530, "answer_id": 37445170, "question_id": 37445080, "link": "https://stackoverflow.com/questions/37445080/why-isnt-my-weakset-empty-after-deleting-the-only-other-reference/37445170#37445170", "title": "Why isn&#39;t my WeakSet empty after deleting the only other reference?", "body": "<p>You still have the <code>obj</code> variable from here:</p>\n\n<pre><code>&gt;&gt;&gt; for obj in objs: weak_s.add(obj)\n</code></pre>\n\n<p>That variable retains its last value from the loop, so it's still referring to the last <code>Greek</code> instance, keeping it alive and in the <code>WeakSet</code>.</p>\n"}], "owner": {"reputation": 1599, "user_id": 5636510, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/09b361064433b5c7272b92f4a0c6a8ee?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Hansen", "link": "https://stackoverflow.com/users/5636510/eric-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 37445170, "answer_count": 1, "score": 0, "last_activity_date": 1464201530, "creation_date": 1464201221, "last_edit_date": 1464201344, "question_id": 37445080, "link": "https://stackoverflow.com/questions/37445080/why-isnt-my-weakset-empty-after-deleting-the-only-other-reference", "title": "Why isn&#39;t my WeakSet empty after deleting the only other reference?", "body": "<p>I decided I should familiarize myself with the <a href=\"https://docs.python.org/3/library/weakref.html\" rel=\"nofollow\"><code>weakref</code> library</a>, so I started messing around with the collections, thought I was getting the hang of it until this. </p>\n\n<pre><code>&gt;&gt;&gt; import weakref\n\n&gt;&gt;&gt; class Greek():\n        def __init__(self, name):\n            self.name = name\n\n&gt;&gt;&gt; objs = [Greek('alpha'), Greek('gamma'), Greek('zeta')]\n&gt;&gt;&gt; weak_s = weakref.WeakSet()\n\n&gt;&gt;&gt; for obj in objs: weak_s.add(obj)\n</code></pre>\n\n<p>Here I have a WeakSet <code>weak_s</code> that I would expect to contain 3 <code>weakref</code>s to each <code>Greek()</code> instance, and it does:</p>\n\n<pre><code>&gt;&gt;&gt;  weak_s.data\n{&lt;weakref at 0x02ECA690; to 'Greek' at 0x02E5FF90&gt;,\n &lt;weakref at 0x02ECA720; to 'Greek' at 0x02E5FFB0&gt;,\n &lt;weakref at 0x02ECA750; to 'Greek' at 0x02E5FFD0&gt;}\n</code></pre>\n\n<p>Then I would expect that as soon as I get rid of the <code>objs</code> name, there won't be any more \"strong references\" to each <code>Greek()</code> instance, and they will be garbage collected. But for some reason this doesn't happen. </p>\n\n<pre><code>&gt;&gt;&gt; del objs\n&gt;&gt;&gt; weak_s.data\n{&lt;weakref at 0x02ECA750; to 'Greek' at 0x02E5FFD0&gt;}\n</code></pre>\n\n<p>Why is there still a weakref inside my WeakSet? I can use <code>del</code> again and it persists, seemingly no matter what I do.</p>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 253, "user_id": 5766495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374b88404deb30fa4850fbffd15ee91c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gore", "link": "https://stackoverflow.com/users/5766495/alex-gore"}, "edited": false, "score": 0, "creation_date": 1464203347, "post_id": 37445153, "comment_id": 62393492, "body": "Thank you! I really appreciate your help!"}, {"owner": {"reputation": 37852, "user_id": 95735, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/514d88c606d3a571824fb8f0e7f7f3c8?s=128&d=identicon&r=PG", "display_name": "Piotr Dobrogost", "link": "https://stackoverflow.com/users/95735/piotr-dobrogost"}, "edited": false, "score": 4, "creation_date": 1496998147, "post_id": 37445153, "comment_id": 75902971, "body": "Came here looking for an answer to weather <code>None</code> could be used in <code>in_</code> \u2013 +1."}, {"owner": {"reputation": 1520, "user_id": 7512762, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/40875febbe486ccf9bd44fe9952d02c3?s=128&d=identicon&r=PG", "display_name": "Lead Developer", "link": "https://stackoverflow.com/users/7512762/lead-developer"}, "edited": false, "score": 0, "creation_date": 1534760179, "post_id": 37445153, "comment_id": 90806669, "body": "can I query that Node.maintenance contains 12. for example, 12, 123, 012 , 0812 this is ok."}, {"owner": {"reputation": 1929, "user_id": 1582293, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/026a07b26f7925ceb0aa818b0f801d2c?s=128&d=identicon&r=PG", "display_name": "flexxxit", "link": "https://stackoverflow.com/users/1582293/flexxxit"}, "edited": false, "score": 0, "creation_date": 1583154653, "post_id": 37445153, "comment_id": 107009422, "body": "how will this be if maintenance is a hybrid method?"}], "tags": [], "owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "is_accepted": true, "score": 27, "last_activity_date": 1464204198, "last_edit_date": 1495540958, "creation_date": 1464201482, "answer_id": 37445153, "question_id": 37445041, "link": "https://stackoverflow.com/questions/37445041/sqlalchemy-how-to-filter-column-which-contains-both-null-and-integer-values/37445153#37445153", "title": "Sqlalchemy how to filter column which contains both Null and integer values", "body": "<blockquote>\n  <p>I need to select all cells which contains 'Null' or '0' values.</p>\n</blockquote>\n\n<p><strong>Using <code>|</code> as the logical <code>OR</code></strong></p>\n\n<pre><code>Node.query.filter((Node.maintenance == None) | (Node.maintenance == 0))\n</code></pre>\n\n<p><strong>Using <code>is_(None)</code></strong></p>\n\n<p>Or, to avoid using <code>== None</code> (because of linters)</p>\n\n<pre><code>Node.query.filter((Node.maintenance.is_(None)) | (Node.maintenance == 0))\n</code></pre>\n\n<p><strong>Using <code>or_</code></strong></p>\n\n<p>Or, this form</p>\n\n<pre><code>from sqlalchemy import or_\nNode.query.filter(or_(Node.maintenance == None, Node.maintenance == 0))\n</code></pre>\n\n<p><strong>Using <code>in_</code></strong></p>\n\n<p>If are wondering if you can query using something akin to the <code>in</code> operator in SQL and Python, you're right you can do it in SQLAlchemy too, but unfortunately <a href=\"https://stackoverflow.com/questions/6362112/in-clause-with-null-or-is-null\"><strong>it doesn't work for <code>None/NULL</code> values</strong></a>, but to illustrate we can see that</p>\n\n<pre><code>Node.query.filter(Node.maintenance.in_([0, 1]))\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>Node.query.filter((Node.maintenance == 0) | (Node.maintenance == 1))\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 5766495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374b88404deb30fa4850fbffd15ee91c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gore", "link": "https://stackoverflow.com/users/5766495/alex-gore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13020, "favorite_count": 1, "accepted_answer_id": 37445153, "answer_count": 1, "score": 20, "last_activity_date": 1464206463, "creation_date": 1464201080, "last_edit_date": 1464206463, "question_id": 37445041, "link": "https://stackoverflow.com/questions/37445041/sqlalchemy-how-to-filter-column-which-contains-both-null-and-integer-values", "title": "Sqlalchemy how to filter column which contains both Null and integer values", "body": "<p>I have table with a nullable column which contains both types of values Null (as default) and integer:</p>\n\n<pre><code>class Node(db.Model):\n    __tablename__ = \"node\"\n    maintenance = db.Column(db.Integer, nullable=True)\n</code></pre>\n\n<p>The request is like this one:</p>\n\n<pre><code>maintenance = 1\nnode_list = Node.query.filter(Node.maintenance != maintenance).all()\n</code></pre>\n\n<p>I need to select all cells which contains <code>Null</code> or <code>0</code> values.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 0, "creation_date": 1464201035, "post_id": 37444910, "comment_id": 62392221, "body": "You can <i>probably</i> have a decorator (that gets the <code>bar</code> reference as argument) do that for you."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1464201604, "post_id": 37444910, "comment_id": 62392538, "body": "I think you mean <code>ret.some_method</code>, and also <code>return ret</code>."}, {"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1464201916, "post_id": 37444910, "comment_id": 62392736, "body": "@Alex Thanks, edited."}, {"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "reply_to_user": {"reputation": 38676, "user_id": 227884, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/L7EG1.png?s=128&g=1", "display_name": "UltraInstinct", "link": "https://stackoverflow.com/users/227884/ultrainstinct"}, "edited": false, "score": 0, "creation_date": 1464201959, "post_id": 37444910, "comment_id": 62392759, "body": "@Thrustmaster I&#39;m sure you&#39;re right, I just can&#39;t seem to formulate the right decorator in my head..."}, {"owner": {"reputation": 1020, "user_id": 1626720, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bd64e41615937abec68bb821b1e1f774?s=128&d=identicon&r=PG", "display_name": "hhbilly", "link": "https://stackoverflow.com/users/1626720/hhbilly"}, "edited": false, "score": 0, "creation_date": 1464340585, "post_id": 37444910, "comment_id": 62456108, "body": "@Vorticity check my decorator answer below and mark correct if its what you&#39;re looking for"}], "answers": [{"comments": [{"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "edited": false, "score": 0, "creation_date": 1464203069, "post_id": 37445272, "comment_id": 62393357, "body": "I generally agree with you, but, like you assume, my use case is more complex than this.  The function being called is matplotlib.colorbar.ColorbarBase.  It is being called inside a class method that does additional work on the resulting colorbar and which accepts additional arguments and keywords.  I figured that it would be obvious that my use case was more complex than the pseudocode I posted."}, {"owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "edited": false, "score": 0, "creation_date": 1464203266, "post_id": 37445272, "comment_id": 62393449, "body": "I just edited my answer to partially explain how my case is more complex than the pseudocode example."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "edited": false, "score": 1, "creation_date": 1464203719, "post_id": 37445272, "comment_id": 62393715, "body": "@Vorticity if, say, there&#39;s no such thing as <code>bar.some_method</code> but rather it&#39;s several complicated lines, then consider <i>creating</i> a <code>bar.some_method</code> or <code>some_function(bar)</code> so that you can get back to simple building blocks with cleanly separated arguments. If that&#39;s no good, show the actual code or some more realistic pseudocode because your description isn&#39;t very informative."}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 0, "last_activity_date": 1464201906, "creation_date": 1464201906, "answer_id": 37445272, "question_id": 37444910, "link": "https://stackoverflow.com/questions/37444910/keeping-function-call-signatures-consistent-for-a-function-that-accepts-a-supers/37445272#37445272", "title": "Keeping function call signatures consistent for a function that accepts a superset of another function&#39;s arguments", "body": "<p>I think the best option is to leave out <code>foo</code>. Keep the API short and sweet with just the simple building blocks that users need so that they can quickly learn how to use your library. Programmers can very easily then create the convenience functions that they actually want and not be distracted by the ones you think they want.</p>\n\n<p>If your actual functions are more complicated than they look in the question then update the question to show that. Right now it's clear and explicit for a programmer to simply write</p>\n\n<pre><code>my_bar = bar(bar_arg, bar_kw)\nmy_bar.some_method(foo_arg, foo_kw=foo_kw)\n</code></pre>\n\n<p>for themselves. Any reader knows exactly what's going on and doesn't have to parse a long argument list, and the extra line of code is fine.</p>\n"}, {"tags": [], "owner": {"reputation": 1020, "user_id": 1626720, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bd64e41615937abec68bb821b1e1f774?s=128&d=identicon&r=PG", "display_name": "hhbilly", "link": "https://stackoverflow.com/users/1626720/hhbilly"}, "is_accepted": false, "score": 1, "last_activity_date": 1464340434, "last_edit_date": 1464340434, "creation_date": 1464256863, "answer_id": 37457542, "question_id": 37444910, "link": "https://stackoverflow.com/questions/37444910/keeping-function-call-signatures-consistent-for-a-function-that-accepts-a-supers/37457542#37457542", "title": "Keeping function call signatures consistent for a function that accepts a superset of another function&#39;s arguments", "body": "<p>Since <code>bar()</code> wraps <code>foo()</code> which calls the <code>ColorbarBase</code> constructor, write a decorator around the <code>foo()</code> call. The decorator makes modifications to the arguments passed into bar before calling <code>foo()</code>.</p>\n\n<pre><code>from matplotlib import pyplot\nimport matplotlib as mpl\n\n\ndef bar(f):\n    def wrapper(*args, **kwargs):\n        # Change args, kwargs for calling foo()\n        f(*new_args,**new_kwargs)\n        return\nreturn wrapper\n\n\n@bar\ndef foo(*new_args, **new_kwargs):\n    return mpl.colorbar.ColorbarBase(*new_args, **new_kwargs)\n</code></pre>\n\n<p>For example, the following returns a <code>ColorbarBase</code> object to the caller give an initial set of parameters which are then modified by <code>bar()</code>. In this way the call signature for <code>foo()</code> is based on the call signature for <code>bar()</code>.</p>\n\n<pre><code>fig = pyplot.figure(figsize=(8, 3))\nax1 = fig.add_axes([0.05, 0.80, 0.9, 0.15])\ncmap = mpl.cm.cool\nnorm = mpl.colors.Normalize(vmin=5, vmax=10)\n\nret = foo(ax1, \n          cmap=cmap,\n          norm=norm,\n          orientation='horizontal')\n</code></pre>\n"}], "owner": {"reputation": 3646, "user_id": 676102, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c61b1abf00a198c71982e38640aad3c5?s=128&d=identicon&r=PG", "display_name": "Vorticity", "link": "https://stackoverflow.com/users/676102/vorticity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1464340434, "creation_date": 1464200563, "last_edit_date": 1464203233, "question_id": 37444910, "link": "https://stackoverflow.com/questions/37444910/keeping-function-call-signatures-consistent-for-a-function-that-accepts-a-supers", "title": "Keeping function call signatures consistent for a function that accepts a superset of another function&#39;s arguments", "body": "<p>I have a function (<code>foo</code>) that is a <s>convenience function</s> wrapper for another function (<code>bar</code>).  <code>foo</code> calls <code>bar</code>, then performs another couple of tasks on the output.  For example:</p>\n\n<pre><code>def bar(bar_arg, bar_kw=None):\n    #do some stuff\n    return ret\n\ndef foo(bar_arg, foo_arg, bar_kw=None, foo_kw=None):\n    ret = bar(bar_arg, bar_kw)\n    ret.some_method(foo_arg, foo_kw=foo_kw)\n</code></pre>\n\n<p>I would like the call signature for <code>foo</code> to contain the keywords and arguments from <code>bar</code> so that a user inspecting <code>foo</code> knows what they can pass, however, I would like to avoid maintaining the full list of arguments myself since <code>bar</code> tends to change as the package it comes from is updated and its argument list is long.  Since <code>foo</code> always calls <code>bar</code> with the full list of arguments and keywords that <code>bar</code> accepts, I don't see that I should need to maintain the list myself.</p>\n\n<p>Is there a way to build the call signature for <code>foo</code> based on the call signature for <code>bar</code>?  Additionally, is there a way to capture the inputs to <code>foo</code> in a dictionary or namespace so that I can easily separate the arguments and keywords used by <code>foo</code> from those used by <code>bar</code>?</p>\n\n<p>Note, I know about *args and **kwargs.  They leave the function signature ambiguous, though, and don't inform the user of what arguments and keyword arguments are allowed.</p>\n\n<p>Edit: I should note that my use case is significantly more complex than this example.  The external function being called (<code>bar</code>) is <code>matplotlib.colorbar.ColorbarBase</code>.  The calling function (<code>foo</code>) is a class method for a plotting class that is used in numerous applications of my own that others are likely to use in the future.  <code>foo</code> creates a colorbar, then performs additional work on the colorbar based on additional arguments and keywords that are not accepted by <code>ColorbarBase</code>.</p>\n"}]