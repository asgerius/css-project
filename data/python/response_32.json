[{"tags": ["python", "python-curses"], "answers": [{"tags": [], "owner": {"reputation": 1985, "user_id": 2452553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b349351aa7cff8ed699551ef82f5fb45?s=128&d=identicon&r=PG", "display_name": "mplf", "link": "https://stackoverflow.com/users/2452553/mplf"}, "is_accepted": true, "score": 0, "last_activity_date": 1440158935, "creation_date": 1440158935, "answer_id": 32139987, "question_id": 32107495, "link": "https://stackoverflow.com/questions/32107495/string-slicing-in-python-with-curses/32139987#32139987", "title": "String slicing in python with curses", "body": "<p>Problem solved - There was an issue with counting.</p>\n\n<p>The method which set <code>self.index</code> was being passed that information from another method meaning it was always 1 behind the value required for splicing and reset to 0 when it reached 97 (the length of the string).</p>\n\n<p>Because the slicing works from 1 to return, when it reached 96, the index was actually -1 and 97 was 0.</p>\n\n<p>Updated <code>Log::__add__</code> method to set index as:</p>\n\n<pre><code>    self.index = other.index if other.index &gt; 0 else len(TimeDecipher.ciphertext) + other.index\n</code></pre>\n"}], "owner": {"reputation": 1985, "user_id": 2452553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b349351aa7cff8ed699551ef82f5fb45?s=128&d=identicon&r=PG", "display_name": "mplf", "link": "https://stackoverflow.com/users/2452553/mplf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 32139987, "answer_count": 1, "score": 1, "last_activity_date": 1440158935, "creation_date": 1440028530, "last_edit_date": 1492087233, "question_id": 32107495, "link": "https://stackoverflow.com/questions/32107495/string-slicing-in-python-with-curses", "title": "String slicing in python with curses", "body": "<h1>Note. This question relates to code originally submitted to codereview</h1>\n\n<p>See oringinal link at <a href=\"https://codereview.stackexchange.com/questions/101011/mengenlehreuhr-in-python\">https://codereview.stackexchange.com/questions/101011/mengenlehreuhr-in-python</a></p>\n\n<p>So I have written a clock. Not just any clock, the purpose of this clock is to crack <a href=\"https://en.wikipedia.org/wiki/Kryptos\" rel=\"nofollow noreferrer\">Kryptos section K4</a>.</p>\n\n<p>Whilst the full source of the application is now <a href=\"https://github.com/mproffitt/PyKryptos/blob/master/kryptos.py\" rel=\"nofollow noreferrer\">on GitHub</a>, the specific problem I am experiencing relates to the following method:</p>\n\n<pre><code>    def _update(self):\n        self.window.erase()\n        self.window.box()\n        self.window.addstr(0, 1, str(self.index).zfill(2) + ' - ' + TimeDecipher.ciphertext[0:self.index])\n        self.window.addstr(1, self.cipher_offset, TimeDecipher.ciphertext[0:self.index-1], self.color)\n        self.window.addstr(\n            1,\n            (self.cipher_offset + self.index-1),\n            TimeDecipher.ciphertext[self.index-1:self.index],\n            self.highlight\n        )\n        self.window.addstr(1,\n            (self.cipher_offset + self.index),\n            TimeDecipher.ciphertext[self.index:],\n            self.color\n        )\n        self.window.addstr(2, 1, ''.join(['-' for i in range(self.width - 2)]))\n        for i, item in enumerate(self.lines):\n            self.window.addstr((i + 3), 1, str(item))\n        self.window.refresh()\n</code></pre>\n\n<p>The problem is described as follows.</p>\n\n<p>When <code>self.index &lt; len(self.time_decipher.ciphertext)</code> (97 characters), the highlighting works as anticipated.</p>\n\n<pre><code>OBKRUOX|O|GHULBSOLIFBBWFL...\n</code></pre>\n\n<p>However, when <code>self.index == ~96</code> I see this:</p>\n\n<pre><code>|AR|OBKRUOX...\n</code></pre>\n\n<p>Basically the last 2 characters are cut from the end of the printed string and dropped at the start.</p>\n\n<p>Please can someone explain why this is happening and what I can do to overcome this?</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 523, "user_id": 845495, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bfe3f3b85c3465f38179db7bbc869359?s=128&d=identicon&r=PG", "display_name": "Alpinestar22", "link": "https://stackoverflow.com/users/845495/alpinestar22"}, "edited": false, "score": 0, "creation_date": 1440030009, "post_id": 32107487, "comment_id": 52109594, "body": "My first code example that works correctly is just for inserting data - there isn&#39;t an update statement."}], "answers": [{"comments": [{"owner": {"reputation": 523, "user_id": 845495, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bfe3f3b85c3465f38179db7bbc869359?s=128&d=identicon&r=PG", "display_name": "Alpinestar22", "link": "https://stackoverflow.com/users/845495/alpinestar22"}, "edited": false, "score": 0, "creation_date": 1440031461, "post_id": 32107777, "comment_id": 52109883, "body": "I appreciate the thought - not completely sure I could get this to work as the condition would be based on a value in the database. For example, an item might be in the database with a &#39;pending&#39; status - and when my script runs again it might have a &#39;shipped&#39; status - so, when the script runs again, it just needs to update status on that item if it finds a duplicate key. Maybe I am missing something?"}, {"owner": {"reputation": 523, "user_id": 845495, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bfe3f3b85c3465f38179db7bbc869359?s=128&d=identicon&r=PG", "display_name": "Alpinestar22", "link": "https://stackoverflow.com/users/845495/alpinestar22"}, "edited": false, "score": 0, "creation_date": 1440034062, "post_id": 32107777, "comment_id": 52110438, "body": "Yea, for some reason I&#39;m not able to get the new string formatting thing working .format(), etc... and I did try/except vs try/catch"}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "reply_to_user": {"reputation": 523, "user_id": 845495, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bfe3f3b85c3465f38179db7bbc869359?s=128&d=identicon&r=PG", "display_name": "Alpinestar22", "link": "https://stackoverflow.com/users/845495/alpinestar22"}, "edited": false, "score": 0, "creation_date": 1440034183, "post_id": 32107777, "comment_id": 52110466, "body": "No problem. Which columns are strings? and just place single ticks around them + except yup!"}], "tags": [], "owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "is_accepted": true, "score": 0, "last_activity_date": 1440034388, "last_edit_date": 1440034388, "creation_date": 1440030927, "answer_id": 32107777, "question_id": 32107487, "link": "https://stackoverflow.com/questions/32107487/python-mysql-on-duplicate-key-update-only-want-to-update-some-of-the-columns/32107777#32107777", "title": "Python MySQL ON DUPLICATE KEY UPDATE - Only want to update some of the columns", "body": "<p>What this will do is attempt to insert and if it fails because of the duplicate key error it will provide the values into the updated format:</p>\n\n<pre><code>try:\n    your query\n\nexcept mysql.connector.IntegrityError:\n    cursor.execute(\"UPDATE orders set item_price = {0}, status = '{1}' where record_id = {3}\".format(itemPrice, status, record_id))\n</code></pre>\n"}], "owner": {"reputation": 523, "user_id": 845495, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bfe3f3b85c3465f38179db7bbc869359?s=128&d=identicon&r=PG", "display_name": "Alpinestar22", "link": "https://stackoverflow.com/users/845495/alpinestar22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 32107777, "answer_count": 1, "score": 0, "last_activity_date": 1440034388, "creation_date": 1440028478, "question_id": 32107487, "link": "https://stackoverflow.com/questions/32107487/python-mysql-on-duplicate-key-update-only-want-to-update-some-of-the-columns", "title": "Python MySQL ON DUPLICATE KEY UPDATE - Only want to update some of the columns", "body": "<p>I'm trying to update records in MySQL with Python (if an update exists, of course). So far, my initial query looks like this and works fine: </p>\n\n<pre><code>cursor.execute(\"\"\"INSERT into orders (`record_id`, `order_id`, `asin`, `item_price`, `promotion_discount`, `quantity`, `promotion_id`, `purchase_date`, `status`) VALUES (%s,%s,%s,%s,%s,%s,%s,%s,%s)\"\"\", (recordID, orderID, asin, itemPrice, promotionDiscount, qty, promotionId, purchaseDate, status))\n</code></pre>\n\n<p>Now, my dilemma is if I want to update just the itemPrice and status - do I have to update all fields - code below has an error of:</p>\n\n<pre><code>TypeError: not enough arguments for format string\n</code></pre>\n\n<p>And here is the query for that:</p>\n\n<pre><code>cursor.execute(\"\"\"INSERT into orders (`record_id`, `order_id`, `asin`, `item_price`, `promotion_discount`, `quantity`, `promotion_id`, `purchase_date`, `status`) VALUES (%s,%s,%s,%s,%s,%s,%s,%s,%s) ON DUPLICATE KEY UPDATE (`record_id`, `order_id`, `asin`, `item_price`, `promotion_discount`, `quantity`, `promotion_id`, `purchase_date`, `status`) VALUES(%s,%s,%s,%s,%s,%s,%s,%s,%s)\"\"\", (recordID, orderID, asin, itemPrice, promotionDiscount, qty, promotionId, purchaseDate, status)) \n</code></pre>\n\n<p>recordID is a unique key</p>\n\n<p>Really, I just need to update a couple of the fields, but I'm not sure how to do it since the placeholders are already defined. Any help is appreciated. </p>\n"}, {"tags": ["python", "installation", "python-3.4", "anaconda"], "comments": [{"owner": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "edited": false, "score": 0, "creation_date": 1440028869, "post_id": 32107455, "comment_id": 52109359, "body": "Do you really need to replace your Python with Anaconda&#39;s one? You can just don&#39;t register new one as a default one."}, {"owner": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "edited": false, "score": 0, "creation_date": 1440028942, "post_id": 32107455, "comment_id": 52109382, "body": "Also, take a look at <a href=\"http://stackoverflow.com/questions/17872234/how-to-add-python-to-windows-registry\">this question</a>."}, {"owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "reply_to_user": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "edited": false, "score": 0, "creation_date": 1440107195, "post_id": 32107455, "comment_id": 52149141, "body": "aha, so this is a Windows specific thing then, not something general to Python per se."}], "answers": [{"comments": [{"owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "edited": false, "score": 0, "creation_date": 1440107031, "post_id": 32128677, "comment_id": 52149066, "body": "awesome! Didn&#39;t know about pip freeze. So it does sound like this registering of python has to do with windows registry and getting it all integrated nicely into the OS. Good stuff, now I know."}, {"owner": {"reputation": 2068, "user_id": 4028706, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IdPXD.jpg?s=128&g=1", "display_name": "wgwz", "link": "https://stackoverflow.com/users/4028706/wgwz"}, "reply_to_user": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "edited": false, "score": 0, "creation_date": 1440108027, "post_id": 32128677, "comment_id": 52149459, "body": "No problem! Glad I could be of help. Here is a bit more information on the <a href=\"http://pip.readthedocs.org/en/latest/user_guide.html#requirements-files\" rel=\"nofollow noreferrer\">requirements file</a> that might be useful. And here is more on <a href=\"http://conda.pydata.org/docs/using/envs.html#create-an-environment\" rel=\"nofollow noreferrer\">creating conda env&#39;s</a>"}], "tags": [], "owner": {"reputation": 2068, "user_id": 4028706, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IdPXD.jpg?s=128&g=1", "display_name": "wgwz", "link": "https://stackoverflow.com/users/4028706/wgwz"}, "is_accepted": true, "score": 8, "last_activity_date": 1440106011, "creation_date": 1440106011, "answer_id": 32128677, "question_id": 32107455, "link": "https://stackoverflow.com/questions/32107455/system-python-conflict-between-anaconda-and-existing-python-installation/32128677#32128677", "title": "System Python conflict between Anaconda and existing Python installation", "body": "<p>Here is a link to a script that will <a href=\"http://effbot.org/zone/python-register.htm\" rel=\"noreferrer\">unregister a Python installation</a> (if you haven't come across it already). I personally have not dealt with anything like this. It seems like it should work, but you may have to tinker around with some of the paths in the script to get things to work. The links in @nightuser 's post will also probably fix the issue.</p>\n\n<p>Why not just remove your version of Python? You could do a <code>pip freeze &gt; requirements.txt</code> with your current Python and add them to Anaconda, or create an environment with Anaconda using those packages. Anaconda has greatly decreased the amount of time I spend setting things up.</p>\n"}, {"comments": [{"owner": {"reputation": 15873, "user_id": 139667, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/e083e1865879535bb75306472b4ba5d0?s=128&d=identicon&r=PG&f=1", "display_name": "Trident D&#39;Gao", "link": "https://stackoverflow.com/users/139667/trident-dgao"}, "edited": false, "score": 1, "creation_date": 1526159294, "post_id": 50179552, "comment_id": 87637343, "body": "that ^^^^^^^^^^^^^^^"}, {"owner": {"reputation": 1027, "user_id": 3412660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9006acce12b3b2e15183fc2c0010e2c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich Lysakowski PhD", "link": "https://stackoverflow.com/users/3412660/rich-lysakowski-phd"}, "edited": false, "score": 0, "creation_date": 1597977411, "post_id": 50179552, "comment_id": 112314521, "body": "This is the simplest, complete, and most direct answer.  This should probably be the preferred answer."}], "tags": [], "owner": {"reputation": 326, "user_id": 5079634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8VD4.png?s=128&g=1", "display_name": "Quaternion", "link": "https://stackoverflow.com/users/5079634/quaternion"}, "is_accepted": false, "score": 18, "last_activity_date": 1525451767, "creation_date": 1525451767, "answer_id": 50179552, "question_id": 32107455, "link": "https://stackoverflow.com/questions/32107455/system-python-conflict-between-anaconda-and-existing-python-installation/50179552#50179552", "title": "System Python conflict between Anaconda and existing Python installation", "body": "<p>The solution is simply to uninstall python (for example, run the original python installer and select the uninstall option).  The python key in the windows registry will be removed (which is what <em>unregister</em> means in this context).</p>\n"}, {"comments": [{"owner": {"reputation": 1027, "user_id": 3412660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9006acce12b3b2e15183fc2c0010e2c?s=128&d=identicon&r=PG&f=1", "display_name": "Rich Lysakowski PhD", "link": "https://stackoverflow.com/users/3412660/rich-lysakowski-phd"}, "edited": false, "score": 0, "creation_date": 1597977325, "post_id": 50507042, "comment_id": 112314502, "body": "This comment is off-topic, because it rambles on about PyCharm.  The person has native core Python from Python.org installed, not the PyCharm version.  Please edit the language in your post to use grammatically-correct English.  It is confusing and hard to read with so many grammatical mistakes."}], "tags": [], "owner": {"reputation": 185, "user_id": 9839954, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-73Gr29ZtO6Y/AAAAAAAAAAI/AAAAAAAAABk/3JgB9WPHL9k/photo.jpg?sz=128", "display_name": "Tina Liu", "link": "https://stackoverflow.com/users/9839954/tina-liu"}, "is_accepted": false, "score": -1, "last_activity_date": 1527164651, "last_edit_date": 1527164651, "creation_date": 1527157812, "answer_id": 50507042, "question_id": 32107455, "link": "https://stackoverflow.com/questions/32107455/system-python-conflict-between-anaconda-and-existing-python-installation/50507042#50507042", "title": "System Python conflict between Anaconda and existing Python installation", "body": "<p>enter image description hereYou have already installed python in your environment, so your system can handle your python code. Anaconda can handle your python code as well. If you install Anaconda and expect use python provided by Anaconda, then your system will confuse about assigning the code job. To avoid this confusion, there is always a path to point out which python you want.\nYou can ask your OS to find specific python by <a href=\"https://stackoverflow.com/questions/3701646/how-to-add-to-the-pythonpath-in-windows-7\">changing your environment path</a> in windows OS:</p>\n\n<p>By deleting the python path your Python will be invisible. Changing path is more convenient  compared with the uninstall.</p>\n\n<p>If you got a python compiling software like Pycharm, things are different. Pycharm may have python3.6 while your system got python 3.5. You need to delete path in those software or uninstall python specified by those software.</p>\n\n<p>Pycharm\n<a href=\"https://i.stack.imgur.com/8CXIc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8CXIc.png\" alt=\"\"></a>   </p>\n\n<p>Actually, instead of registering the Anaconda as the system python, you can install it first, then specify your Pycharm and system path to the Anaconda python path. Thus, your Pycharm will use python provided by Anaconda and package &amp; virtual environment you need. \nI edit this for lots of times because I got Great wall, so I can't close something pop up in my screen(cause it is Blank). And everything is missing if I refresh. This is annoying.</p>\n\n<p>My system path Anaconda3's python36</p>\n\n<p><a href=\"https://i.stack.imgur.com/SlS3q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SlS3q.png\" alt=\"My system path Anaconda3&#39;s python36\"></a></p>\n\n<p>Add path in Pycharm</p>\n\n<p><a href=\"https://i.stack.imgur.com/bxNcf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxNcf.png\" alt=\"Add path in Pycharm\"></a></p>\n\n<p>Or you can't use these packages and Anacon's virtual Environment</p>\n\n<p><a href=\"https://i.stack.imgur.com/4VfVF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4VfVF.png\" alt=\"Or you can&#39;t use these packages and Anacon&#39;s virtual Environment\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 4990583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70199d1c5f09571cabac24ec0520e3c0?s=128&d=identicon&r=PG&f=1", "display_name": "Kirubel Tadesse", "link": "https://stackoverflow.com/users/4990583/kirubel-tadesse"}, "is_accepted": false, "score": 0, "last_activity_date": 1546993009, "creation_date": 1546993009, "answer_id": 54101605, "question_id": 32107455, "link": "https://stackoverflow.com/questions/32107455/system-python-conflict-between-anaconda-and-existing-python-installation/54101605#54101605", "title": "System Python conflict between Anaconda and existing Python installation", "body": "<p>You are getting that prompt because you have another version already installed the safe way to do this is going to the directory of the existing version and running the uninstaller. Once the previous version is completely uninstalled. You can run the installation as normal it should works!</p>\n"}], "owner": {"reputation": 4912, "user_id": 1330381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/9TOv2.png?s=128&g=1", "display_name": "jxramos", "link": "https://stackoverflow.com/users/1330381/jxramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32567, "favorite_count": 2, "accepted_answer_id": 32128677, "answer_count": 4, "score": 19, "last_activity_date": 1546993009, "creation_date": 1440028197, "question_id": 32107455, "link": "https://stackoverflow.com/questions/32107455/system-python-conflict-between-anaconda-and-existing-python-installation", "title": "System Python conflict between Anaconda and existing Python installation", "body": "<p>I've been going with a basic Python3.4 install that I've been installing many modules into for over the past month but have reached a point where pip is coming up short and I'm going to just install the full Anaconda on my system to go deeper into bokeh-server stuff.</p>\n\n<p>I get a popup during the Windows 64bit installer (Anaconda3-2.3.0-Windows-x86_64.exe) saying</p>\n\n<blockquote>\n  <p>A version of Python 3.4 (64-bit) is already at C:\\Python34\\ We\n  recommend that if you want Anaconda registered as your system Python,\n  you unregister this Python first. If you really know this is what you\n  want, click OK, otherwise click cancel to continue.\n  <a href=\"https://i.stack.imgur.com/HiowI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HiowI.png\" alt=\"enter image description here\"></a></p>\n</blockquote>\n\n<p>Didn't find much documentation on this subject, and I'm not really sure how to \"unregister\" that installation of Python apart from uninstalling it entirely from Windows which I imagine would accomplish such a thing. Is this basically telling me to check how my <em>Python Launcher for Windows</em> is setup after the Anaconda installation? I'm completely unfamiliar with this notion of python system registration? Is that just a round about warning about which python version takes precedence on the system path, or which installation holds the file associations?</p>\n"}, {"tags": ["python", "big-o"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1440028231, "post_id": 32107442, "comment_id": 52109179, "body": "Think about how many times the loop body is executed. That&#39;s roughly your complexity (and on a von Neumann computer, time) estimate."}, {"owner": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "edited": false, "score": 0, "creation_date": 1440028599, "post_id": 32107442, "comment_id": 52109281, "body": "Firstly, assume that <code>n</code> is a power of two. Then take some <code>n</code> and write down <code>i</code>&#39;s values at every iteration of the loop. It&#39;s sometimes useful to try some &quot;good&quot; values firstly, especially at the beginning."}], "answers": [{"comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1440028472, "post_id": 32107478, "comment_id": 52109239, "body": "If you don&#39;t see why, consider that if you double a large value of n, you add one to the number of times the loop runs."}], "tags": [], "owner": {"reputation": 2480, "user_id": 1561081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/acd9e93464c089acdf36bf1d8ce793c9?s=128&d=identicon&r=PG", "display_name": "lrleon", "link": "https://stackoverflow.com/users/1561081/lrleon"}, "is_accepted": false, "score": 0, "last_activity_date": 1440028416, "creation_date": 1440028416, "answer_id": 32107478, "question_id": 32107442, "link": "https://stackoverflow.com/questions/32107442/big-o-notation-between-while-loop/32107478#32107478", "title": "Big-O notation between while loop", "body": "<p>The loop repeats the number of times that you can divide n by two. That is O(log n).</p>\n"}, {"comments": [{"owner": {"reputation": 2228, "user_id": 1708349, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9f3eac41340547d9d27853a9abc66cb6?s=128&d=identicon&r=PG", "display_name": "benjist", "link": "https://stackoverflow.com/users/1708349/benjist"}, "edited": false, "score": 0, "creation_date": 1440028820, "post_id": 32107516, "comment_id": 52109339, "body": "Would be right if it was integer. But is it? It&#39;s not defined, thus I assumed it can be a float as well."}, {"owner": {"reputation": 2480, "user_id": 1561081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/acd9e93464c089acdf36bf1d8ce793c9?s=128&d=identicon&r=PG", "display_name": "lrleon", "link": "https://stackoverflow.com/users/1561081/lrleon"}, "reply_to_user": {"reputation": 2228, "user_id": 1708349, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9f3eac41340547d9d27853a9abc66cb6?s=128&d=identicon&r=PG", "display_name": "benjist", "link": "https://stackoverflow.com/users/1708349/benjist"}, "edited": false, "score": 0, "creation_date": 1440029188, "post_id": 32107516, "comment_id": 52109446, "body": "@benjist I think your reasoning is incorrect. Anyway, I suggest you to build a test case. Even if i was float, which I think is not the case, i eventually will reach zero. Of course, it could repeat more times"}, {"owner": {"reputation": 2228, "user_id": 1708349, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/9f3eac41340547d9d27853a9abc66cb6?s=128&d=identicon&r=PG", "display_name": "benjist", "link": "https://stackoverflow.com/users/1708349/benjist"}, "reply_to_user": {"reputation": 2480, "user_id": 1561081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/acd9e93464c089acdf36bf1d8ce793c9?s=128&d=identicon&r=PG", "display_name": "lrleon", "link": "https://stackoverflow.com/users/1561081/lrleon"}, "edited": false, "score": 0, "creation_date": 1440031983, "post_id": 32107516, "comment_id": 52109979, "body": "@lrleon I was wrong because this is indeed about integer division. And you are right that it will eventually reach zero when you write a test case for it, even if it was a float division. But for floats the float would just reach 0 because of floating point precision for most languages - but in theory it will never reach 0 because you can always divide by 2 infinitely."}], "tags": [], "owner": {"reputation": 2643, "user_id": 2444293, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/12e2df5d1a7f43ca9123592dbf8f9f99?s=128&d=identicon&r=PG", "display_name": "VHarisop", "link": "https://stackoverflow.com/users/2444293/vharisop"}, "is_accepted": false, "score": 2, "last_activity_date": 1440028921, "last_edit_date": 1440028921, "creation_date": 1440028696, "answer_id": 32107516, "question_id": 32107442, "link": "https://stackoverflow.com/questions/32107442/big-o-notation-between-while-loop/32107516#32107516", "title": "Big-O notation between while loop", "body": "<p>A simple way to think of this (which can be used as a general approach) is the following: </p>\n\n<ul>\n<li>the initial value of <code>i</code> is <code>n</code></li>\n<li>the code will stop looping once i reaches 0 (consequently, the last iteration will execute when <code>i</code> is 1)</li>\n<li><p>having executed an arbitrary number of iterations (call that number <code>c</code>), the value of <code>i</code> is </p>\n\n<pre><code> ((n / 2) / 2) / ... )     = n / (2 ^ c) \n     ^ divide by 2 c times \n</code></pre></li>\n</ul>\n\n<p>So, at the end of the loop, we want <code>(n / (2 ^ c)) = 1</code>. Solving for <code>c</code> gives us <code>c = logn</code>. </p>\n\n<p>So the big-oh complexity is <code>O(logn)</code>. (That is, assuming <code>n</code> is an integer and not a float).</p>\n"}], "owner": {"reputation": 175, "user_id": 5209378, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c84fce2e82fcc192d2d1506b613d2003?s=128&d=identicon&r=PG&f=1", "display_name": "Sharl", "link": "https://stackoverflow.com/users/5209378/sharl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440028921, "creation_date": 1440028091, "last_edit_date": 1440028259, "question_id": 32107442, "link": "https://stackoverflow.com/questions/32107442/big-o-notation-between-while-loop", "title": "Big-O notation between while loop", "body": "<p>Help finding the big-Oh notation for the following code:</p>\n\n<pre><code>i = n\nwhile i &gt; 0:\n    k = 2 + 2\n    i = i // 2\n</code></pre>\n\n<p>I think its <code>n</code> because <code>n</code> is assigned and then looped. Is this right?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440028853, "post_id": 32107357, "comment_id": 52109355, "body": "Upvoted for a including a minimal example."}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "edited": false, "score": 0, "creation_date": 1440078917, "post_id": 32107357, "comment_id": 52132822, "body": "The code in <code>othermodule.py</code> doesn&#39;t make any sense. Think about it. You are defining a class and then you want to call <code>change_string</code> function from a different module. But how is that related to <code>Class_in_othermodule</code>? What exactly are you trying to achieve? BTW: circular referencing is a very bad practice IMHO."}, {"owner": {"reputation": 21, "user_id": 1622942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/864f1605c212879f7d35f5927f833a25?s=128&d=identicon&r=PG", "display_name": "Daniel Roy", "link": "https://stackoverflow.com/users/1622942/daniel-roy"}, "edited": false, "score": 0, "creation_date": 1440079838, "post_id": 32107357, "comment_id": 52133492, "body": "Yes I agree that this code by itself doesn&#39;t make any sense, most probably because it&#39;s just a snippet of a very large program. But the general idea I try to achieve is to modify the attribute (&quot;mystring&quot;) of a class instance (&quot;MyObjectInstance&quot;) from a different module (&quot;othermodule.py&quot;)."}], "owner": {"reputation": 21, "user_id": 1622942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/864f1605c212879f7d35f5927f833a25?s=128&d=identicon&r=PG", "display_name": "Daniel Roy", "link": "https://stackoverflow.com/users/1622942/daniel-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1440077727, "creation_date": 1440027597, "last_edit_date": 1440077727, "question_id": 32107357, "link": "https://stackoverflow.com/questions/32107357/python-how-to-access-instance-member-from-other-module", "title": "Python: How to access instance member from other module?", "body": "<p>I'm a beginner struggling with calling an instance member from another module. My code is quite long, but I can reproduce the issue with this snippet:</p>\n\n<p>mainmodule.py:</p>\n\n<pre><code>from othermodule import *\n\nclass Class2_in_main():\n    mystring = 'Initial Value'\n    print mystring\n\n    def change_string(self, NewStringValue):\n        self.mystring = NewStringValue\n        print self.mystring\n\ndef main():\n    MyObjectInstance = Class2_in_main()\n\n    Object2 = othermodule.Class_in_othermodule()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>othermodule.py:</p>\n\n<pre><code>from mainmodule import *\n\nclass Class_in_othermodule():\n\n    MyObjectInstance().change_string('New String Value!')\n</code></pre>\n\n<p>Here's my stack:</p>\n\n<pre><code>Initial Value\nTraceback (most recent call last):\n  File \"mainmodule.py\", line 1, in &lt;module&gt;\n    from othermodule import *\n  File \"C:\\PythonScripts\\StackOverflowExample\\othermodule.py\", line 3, in &lt;module&gt;\n    class Class_in_othermodule():\n  File \"C:\\PythonScripts\\StackOverflowExample\\othermodule.py\", line 6, in Class_in_othermodule\n    MyObjectInstance().change_string('New String Value!')\nNameError: name 'MyObjectInstance' is not defined\n</code></pre>\n\n<p>I use Python 2.7.</p>\n\n<p>Any idea? I'm sorry for the bad formatting, it's my first question here, and I can't figure out how that works!</p>\n\n<p><strong>Update</strong>: I was able to have my code working, but I would like to understand how to call \"change_string\" specifically for my instance only (called MyObjectInstance), how could I do that?? Here is what I currently have:</p>\n\n<p>mainmodule.py:</p>\n\n<pre><code>import othermodule\n\nclass Class2_in_main():\n    mystring = 'Initial Value'\n    print mystring\n\n    def change_string(self, NewStringValue):\n        self.mystring = NewStringValue\n        print self.mystring\n\ndef main():\n    global MyObjectInstance\n    MyObjectInstance = Class2_in_main()\n\n    Object2 = othermodule.Class_in_othermodule()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>othermodule.py:</p>\n\n<pre><code>class Class_in_othermodule():\n    mainmodule.Class2_in_main().change_string('New String Value!')\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "save", "persistence"], "answers": [{"comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440029569, "post_id": 32107371, "comment_id": 52109512, "body": "You&#39;re not sure if <i>Redis</i> would meet all of OP&#39;s needs? I would say Redis is waay overkill for this."}, {"owner": {"reputation": 35, "user_id": 5160204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bs4cO.jpg?s=128&g=1", "display_name": "xXthruXx", "link": "https://stackoverflow.com/users/5160204/xxthruxx"}, "edited": false, "score": 0, "creation_date": 1440029883, "post_id": 32107371, "comment_id": 52109572, "body": "I&#39;ve looked through this and it&#39;s a sweet tool, but for this project it&#39;s too much compared to other, built-in options. Thanks anyway! :)"}], "tags": [], "owner": {"reputation": 485, "user_id": 3830632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66801324cc2892feacd747c340ab2ea6?s=128&d=identicon&r=PG&f=1", "display_name": "mrcheshire", "link": "https://stackoverflow.com/users/3830632/mrcheshire"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027657, "creation_date": 1440027657, "answer_id": 32107371, "question_id": 32107341, "link": "https://stackoverflow.com/questions/32107341/saving-and-loading-simple-data-in-python-convenient-way/32107371#32107371", "title": "Saving and loading simple data in Python convenient way", "body": "<p>You might want to try Redis.</p>\n\n<p><a href=\"http://redis.io/\" rel=\"nofollow\">http://redis.io/</a></p>\n\n<p>I'm not totally sure it'll meet all your needs, but it would probably be better than a flat file.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 5160204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bs4cO.jpg?s=128&g=1", "display_name": "xXthruXx", "link": "https://stackoverflow.com/users/5160204/xxthruxx"}, "edited": false, "score": 0, "creation_date": 1440030198, "post_id": 32107446, "comment_id": 52109639, "body": "It seems to be a good solution, unfortunately when I run the first half of your code, it throws a <code>TypeError: &#39;str&#39; does not support the buffer interface</code>"}, {"owner": {"reputation": 4093, "user_id": 4582273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94fcc64a380a38b013479fbbcfffa9b?s=128&d=identicon&r=PG", "display_name": "lemonhead", "link": "https://stackoverflow.com/users/4582273/lemonhead"}, "reply_to_user": {"reputation": 35, "user_id": 5160204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bs4cO.jpg?s=128&g=1", "display_name": "xXthruXx", "link": "https://stackoverflow.com/users/5160204/xxthruxx"}, "edited": false, "score": 0, "creation_date": 1440033316, "post_id": 32107446, "comment_id": 52110256, "body": "oops, yeah sorry the &#39;binary&#39; mode causes issues in python-3 because it&#39;s expecting <code>string</code>s to be properly encoded. The fix is to remove the <code>b</code>.  Will update the answer"}, {"owner": {"reputation": 4093, "user_id": 4582273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94fcc64a380a38b013479fbbcfffa9b?s=128&d=identicon&r=PG", "display_name": "lemonhead", "link": "https://stackoverflow.com/users/4582273/lemonhead"}, "reply_to_user": {"reputation": 35, "user_id": 5160204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bs4cO.jpg?s=128&g=1", "display_name": "xXthruXx", "link": "https://stackoverflow.com/users/5160204/xxthruxx"}, "edited": false, "score": 0, "creation_date": 1440033438, "post_id": 32107446, "comment_id": 52110277, "body": "@xXthruXx, should work now in python3, can you give it another try?"}, {"owner": {"reputation": 35, "user_id": 5160204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bs4cO.jpg?s=128&g=1", "display_name": "xXthruXx", "link": "https://stackoverflow.com/users/5160204/xxthruxx"}, "edited": false, "score": 0, "creation_date": 1440035479, "post_id": 32107446, "comment_id": 52110774, "body": "Works like a charm :) Thanks!"}], "tags": [], "owner": {"reputation": 4093, "user_id": 4582273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b94fcc64a380a38b013479fbbcfffa9b?s=128&d=identicon&r=PG", "display_name": "lemonhead", "link": "https://stackoverflow.com/users/4582273/lemonhead"}, "is_accepted": false, "score": 2, "last_activity_date": 1440033348, "last_edit_date": 1440033348, "creation_date": 1440028126, "answer_id": 32107446, "question_id": 32107341, "link": "https://stackoverflow.com/questions/32107341/saving-and-loading-simple-data-in-python-convenient-way/32107446#32107446", "title": "Saving and loading simple data in Python convenient way", "body": "<p>It sounds like using <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow\"><code>json</code></a> would be best for this, which comes as part of the <a href=\"https://docs.python.org/2/library/index.html\" rel=\"nofollow\">Python Standard library</a> in Python-2.6+</p>\n\n<pre><code>import json\n\ndata = {'username':'John', 'health':98, 'weapon':'warhammer'}\n\n# serialize the data to user-data.txt\nwith open('user-data.txt', 'w') as fobj:\n    json.dump(data, fobj)\n\n# read the data back in\nwith open('user-data.txt', 'r') as fobj:\n    data = json.load(fobj)\n\nprint(data)\n# outputs: \n# {u'username': u'John', u'weapon': u'warhammer', u'health': 98}\n</code></pre>\n\n<p>A popular alternative is <a href=\"http://pyyaml.org/wiki/PyYAMLDocumentation\" rel=\"nofollow\"><code>yaml</code></a>, which is actually a superset of json and produces slightly more human readable results.  </p>\n"}], "owner": {"reputation": 35, "user_id": 5160204, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bs4cO.jpg?s=128&g=1", "display_name": "xXthruXx", "link": "https://stackoverflow.com/users/5160204/xxthruxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440033348, "creation_date": 1440027513, "last_edit_date": 1440027775, "question_id": 32107341, "link": "https://stackoverflow.com/questions/32107341/saving-and-loading-simple-data-in-python-convenient-way", "title": "Saving and loading simple data in Python convenient way", "body": "<p>I'm currently working on a simple Python 3.4.3 and Tkinter game.</p>\n\n<p><em>I struggle with saving/reading data now, because I'm a beginner at coding.</em></p>\n\n<p>What I do now is use .txt files to store my data, but I find this extremely counter-intuitive, as saving/reading more than one line of data requires of me to have additional code to catch any newlines. </p>\n\n<p>Skipping a line would be terrible too.</p>\n\n<p>I've googled it, but I either find .txt save/file options or way too complex ones for saving large-scale data. </p>\n\n<p>I only need to save some strings right now and be able to access them (if possible) by key like in a dictionary key:value .</p>\n\n<p>Do you know of any file format/method to help me accomplish that?</p>\n\n<p><strong>Also: <em>If possible, should work on Win/iOS/Linux.</em></strong></p>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 3, "creation_date": 1440027182, "post_id": 32107288, "comment_id": 52108888, "body": "Those are invalid <code>dict</code> literals, by the way."}, {"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 0, "creation_date": 1440027311, "post_id": 32107288, "comment_id": 52108932, "body": "Have you tried anything?"}, {"owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "edited": false, "score": 0, "creation_date": 1440027428, "post_id": 32107288, "comment_id": 52108959, "body": "See <a href=\"https://wiki.python.org/moin/HowTo/Sorting\" rel=\"nofollow noreferrer\">wiki.python.org/moin/HowTo/Sorting</a> for a good tutorial."}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027339, "creation_date": 1440027339, "answer_id": 32107321, "question_id": 32107288, "link": "https://stackoverflow.com/questions/32107288/sorting-a-list-which-contains-dictionaries/32107321#32107321", "title": "Sorting a list which contains dictionaries", "body": "<p>You can use <code>operator.itemgetter</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import operator\n&gt;&gt;&gt; some_list = [dict(id=1, name='Steve', age=23), dict(id=2, name='John', age=17), dict(id=3, name='Matt', age=31)]\n&gt;&gt;&gt; sorted(some_list, key=operator.itemgetter('name'))\n[{'id': 2, 'age': 17, 'name': 'John'}, {'id': 3, 'age': 31, 'name': 'Matt'}, {'id': 1, 'age': 23, 'name': 'Steve'}]\n</code></pre>\n\n<p>Or a <code>lambda</code> function:</p>\n\n<pre><code>&gt;&gt;&gt; some_list = [dict(id=1, name='Steve', age=23), dict(id=2, name='John', age=17), dict(id=3, name='Matt', age=31)]\n&gt;&gt;&gt; sorted(some_list, key=lambda x: x['name'])\n[{'id': 2, 'age': 17, 'name': 'John'}, {'id': 3, 'age': 31, 'name': 'Matt'}, {'id': 1, 'age': 23, 'name': 'Steve'}]\n</code></pre>\n"}], "owner": {"reputation": 5299, "user_id": 2961662, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/OEFyx.jpg?s=128&g=1", "display_name": "Pav Sidhu", "link": "https://stackoverflow.com/users/2961662/pav-sidhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1440027551, "answer_count": 1, "score": -3, "last_activity_date": 1440027659, "creation_date": 1440027073, "last_edit_date": 1440027659, "question_id": 32107288, "link": "https://stackoverflow.com/questions/32107288/sorting-a-list-which-contains-dictionaries", "closed_reason": "Duplicate", "title": "Sorting a list which contains dictionaries", "body": "<p>I have a list which looks like this:</p>\n\n<pre><code>some_list = [{'id':1, 'name':'Steve', 'age':23}, {'id':2, 'name':'John', 'age':17}, {'id':3, 'name':'Matt', 'age':31}]\n</code></pre>\n\n<p>I would like to sort the list my the name value in the dictionary. So Instead of the above order, it would be John then Matt then Steve.</p>\n\n<p>How would I go about this? Thanks.</p>\n"}, {"tags": ["python", "loops", "while-loop", "break"], "comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1440026710, "post_id": 32107204, "comment_id": 52108765, "body": "How do you know it doesn&#39;t stop? Is this all you do inside <code>while</code> loop?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1440026924, "post_id": 32107204, "comment_id": 52108817, "body": "Could you post an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 0, "creation_date": 1440027244, "post_id": 32107204, "comment_id": 52108909, "body": "Please print the value of <code>opponent.HP</code>"}, {"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 0, "creation_date": 1440042809, "post_id": 32107204, "comment_id": 52112471, "body": "@RicardoFrederiks can you print the value for those: <code>opponent.HP</code>, <code>ownedCreatures[activeCreature].HP</code>,  <code>ownedCreatures[activeCreature].support + opponent.support</code>"}, {"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 0, "creation_date": 1440043360, "post_id": 32107204, "comment_id": 52112596, "body": "ownedCreatures[activeCreature].support, opponent.support"}], "answers": [{"comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1440028599, "post_id": 32107282, "comment_id": 52109280, "body": "OP says &quot;why doesn&#39;t it stop looping when fighting is set to False&quot; so I presume he is sure it was set to <code>False</code>."}, {"owner": {"reputation": 79, "user_id": 5245377, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/942860095773122/picture?type=large", "display_name": "Ricardo Frederiks", "link": "https://stackoverflow.com/users/5245377/ricardo-frederiks"}, "edited": false, "score": 0, "creation_date": 1440028740, "post_id": 32107282, "comment_id": 52109317, "body": "I indeed am sure that the HP is lower or equal to 0. I have checked it with prints and input()&#39;s."}, {"owner": {"reputation": 79, "user_id": 5245377, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/942860095773122/picture?type=large", "display_name": "Ricardo Frederiks", "link": "https://stackoverflow.com/users/5245377/ricardo-frederiks"}, "edited": false, "score": 0, "creation_date": 1440028815, "post_id": 32107282, "comment_id": 52109337, "body": "And when i put a &quot;break&quot; it does work, but i do not want to use a break."}, {"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "reply_to_user": {"reputation": 79, "user_id": 5245377, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/942860095773122/picture?type=large", "display_name": "Ricardo Frederiks", "link": "https://stackoverflow.com/users/5245377/ricardo-frederiks"}, "edited": false, "score": 0, "creation_date": 1440028825, "post_id": 32107282, "comment_id": 52109343, "body": "@RicardoFrederiks you should post the whole code , you have shown us the <code>if</code> without the <code>else</code>!"}, {"owner": {"reputation": 79, "user_id": 5245377, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/942860095773122/picture?type=large", "display_name": "Ricardo Frederiks", "link": "https://stackoverflow.com/users/5245377/ricardo-frederiks"}, "edited": false, "score": 0, "creation_date": 1440028976, "post_id": 32107282, "comment_id": 52109393, "body": "@bigOTHER There is no else in the loot part if that is what you mean?"}, {"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 0, "creation_date": 1440029012, "post_id": 32107282, "comment_id": 52109405, "body": "I meant the <code>elif</code> after <code>if int(opponent.HP) &lt;= 0</code>, you cut the code in a critical line"}], "tags": [], "owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "is_accepted": false, "score": 1, "last_activity_date": 1440063541, "last_edit_date": 1440063541, "creation_date": 1440027042, "answer_id": 32107282, "question_id": 32107204, "link": "https://stackoverflow.com/questions/32107204/break-out-of-python-loop-without-break/32107282#32107282", "title": "Break out of Python loop, without break", "body": "<p>You have three places inside the loop where you set <code>fighting</code>  to <code>False</code> and all of them coming with an <code>if</code> condition:</p>\n\n<ol>\n<li><code>int(opponent.HP) &lt;= 0</code></li>\n<li><code>int(ownedCreatures[activeCreature].HP) &lt;= 0</code></li>\n<li><code>num &lt;= ownedCreatures[activeCreature].support</code></li>\n</ol>\n\n<p>The first and the second conditions are constant inside the loop, so if they start <code>False</code>, the change of <code>fighting</code> will never be accessible.</p>\n\n<p>The third: <code>num</code> is a random number greater than <code>1</code> so if <code>ownedCreatures[activeCreature].support</code> is <code>0</code>, the condition will never be accessible.</p>\n\n<p>Print the values of conditions to check if they are fulfilled or not.</p>\n"}], "owner": {"reputation": 79, "user_id": 5245377, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/942860095773122/picture?type=large", "display_name": "Ricardo Frederiks", "link": "https://stackoverflow.com/users/5245377/ricardo-frederiks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1461965429, "creation_date": 1440026581, "last_edit_date": 1461965429, "question_id": 32107204, "link": "https://stackoverflow.com/questions/32107204/break-out-of-python-loop-without-break", "title": "Break out of Python loop, without break", "body": "<p>In the below code, why doesn't it stop looping when fighting is set to False?</p>\n\n<p>I know it does not stop looping, because it won't get to the loot part when fighting is set to False. Here is the whole while loop:</p>\n\n<pre><code>while fighting:\n    cls()\n    print(\"The enemy has\", opponent.HP, \"HP!\")\n    input()\n    if int(opponent.HP) &lt;= 0:\n        print(\"Yep yep\")\n        winner = True\n        fighting = False\n    elif int(ownedCreatures[activeCreature].HP) &lt;= 0:\n        winner = False\n        fighting = False\n    showFight(opponent, activeCreature)\n    allowed = [\"a\", \"i\", \"r\"]\n    choice = input(\"&gt;&gt;\")\n\n    while not choice in allowed:\n        choice = input(\"Try again please &gt;&gt;\")\n\n    if choice.lower() == \"a\":\n        if previousTurn == \"Not defined\":\n            num = random.randint(1, ownedCreatures[activeCreature].support + opponent.support)\n            if num &lt;= ownedCreatures[activeCreature].support:\n                attacker = \"player\"\n                previousTurn = \"player\"\n            else:\n                attacker = \"opponent\"\n                previousTurn = \"opponent\"\n        else:\n            if previousTurn == \"player\":\n                attacker = \"opponent\"\n                previousTurn = \"opponent\"\n            else:\n                attacker = \"player\"\n                previousTurn = \"player\"\n\n        attack(attacker, activeCreature, opponent)\n\n    #if choice.lower() == \"i\":\n\n    if choice.lower() == \"r\":\n        num = random.randint(1, ownedCreatures[activeCreature].support + opponent.support)\n        if num &lt;= ownedCreatures[activeCreature].support:\n            cls()\n            print(\"-------------------------------------------\")\n            print(\"You succesfully escaped this horrible fight!\")\n            print(\"-------------------------------------------\\n\")\n            input(\"Press Enter to continue... &gt;&gt; \")\n            winner = \"Not defined\"\n            fighting = False\n        else:\n            cls()\n            print(\"-------------------------------------------\")\n            print(\"Think you can run that easily?\")\n            print(\"-------------------------------------------\\n\")\n            input(\"Press Enter to continue... &gt;&gt; \")\n\n#After the fight\nif winner == True:\n    cls()\n    loot()\nelif winner == False:\n    cls()\n    print(\"-------------------------------------------\")\n    print(\"You have lost the fight!\")\n    print(\"You lost 50 Serra!\")\n    serra = serra - 50\n    if serra &lt; 0:\n        serra = 0\n    print(\"-------------------------------------------\\n\")\n    input(\"Press Enter to continue... &gt;&gt; \")\n</code></pre>\n"}, {"tags": ["python", "mysql", "python-2.7", "csv"], "comments": [{"owner": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "edited": false, "score": 1, "creation_date": 1440026854, "post_id": 32107136, "comment_id": 52108803, "body": "There are an extra parentheses in <code>for line in csvfile():</code>"}], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 0, "last_activity_date": 1440079755, "last_edit_date": 1495535197, "creation_date": 1440027646, "answer_id": 32107365, "question_id": 32107136, "link": "https://stackoverflow.com/questions/32107136/download-a-csv-file-then-upload-to-mysql-using-python/32107365#32107365", "title": "Download a CSV file then upload to MySQL using Python", "body": "<p>Interestingly, the traceback error message does not show the line which causes the error. The line that causes the error occurs before the call to <code>connection.cursor()</code> (the line the traceback targets as the source of the problem).</p>\n\n<p>The error is caused by </p>\n\n<pre><code>connection = pymysql.connect(host='b8con.no-ip.org', user='sal', \n                 password='bigsal71', db='EarthQuake', charset='utf8mb4', \n                 cursorclass=\"pymysql.cursors.DictCursor\")\n</code></pre>\n\n<p>which can be fixed by \n<a href=\"https://github.com/PyMySQL/PyMySQL#example\" rel=\"nofollow noreferrer\">removing the double quotes from around the cursorclass</a>:</p>\n\n<pre><code>connection = pymysql.connect(..., cursorclass=pymysql.cursors.DictCursor)\n</code></pre>\n\n<p>Note that <code>pymysql.cursors.DictCursor</code> is a\nclass while <code>\"pymysql.cursors.DictCursor\"</code> is a string.  If <code>self.cursorclass</code> is\nset to <code>pymysql.cursors.DictCursor</code> (via the <code>cursorclass</code> argument), then the line</p>\n\n<pre><code>return self.cursorclass(self)\n</code></pre>\n\n<p>returns an instance of the <code>DictCursor</code> class. If instead <code>self.cursorclass</code> is the string <code>\"pymysql.cursors.DictCursor\"</code>, then calling the string raises </p>\n\n<pre><code>TypeError: 'str' object is not callable\n</code></pre>\n\n<p>since strings are not callable.</p>\n\n<hr>\n\n<p>Also, as <a href=\"https://stackoverflow.com/questions/32107136/download-a-csv-file-then-upload-to-mysql-using-python/32107365#comment52108803_32107136\">nightuser points out</a>, </p>\n\n<pre><code>for line in csvfile():\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>for line in csvfile:\n</code></pre>\n\n<p>(without the parentheses) since <code>csvfile</code> itself is the iterable.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5149240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EK8DS.jpg?s=128&g=1", "display_name": "b8con", "link": "https://stackoverflow.com/users/5149240/b8con"}, "is_accepted": false, "score": 0, "last_activity_date": 1440090248, "creation_date": 1440090248, "answer_id": 32124181, "question_id": 32107136, "link": "https://stackoverflow.com/questions/32107136/download-a-csv-file-then-upload-to-mysql-using-python/32124181#32124181", "title": "Download a CSV file then upload to MySQL using Python", "body": "<p>Thanks guys! I was able to get it to work. Here is what my final code looks like.  </p>\n\n<pre><code>import pymysql\nimport codecs\nimport csv\nimport urllib2\nimport pymysql.cursors\n\n# Get URL Data\nurl = \"http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.csv\"\nURLstream = urllib2.urlopen(url)\ncsvfile = csv.reader(codecs.iterdecode(URLstream, 'utf-8'))\n\n# Connect to the database\n\nconnection = pymysql.connect(host='b8con.no-ip.org', user='HanSolo', password='password', db='EarthQuake', charset='utf8mb4', cursorclass=pymysql.cursors.DictCursor)\n\ntry:\n    with connection.cursor() as cursor:\n        sql = \"INSERT INTO quakedata(time, latitude, longitude, depth, mag, magType, nst, gap, dmin, rms, net, id, updated, place, type) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)\"\n        next(csvfile, None)\n        for line in csvfile:\n            cursor.execute(sql, (line[0], line[1], line[2], line[3], line[4], line[5], line[6], line[7], line[8], line[9], line[10], line[11], line[12], line[13], line[14]))\n\nfinally:\n    connection.commit()\n    connection.close()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5149240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EK8DS.jpg?s=128&g=1", "display_name": "b8con", "link": "https://stackoverflow.com/users/5149240/b8con"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1358, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440090248, "creation_date": 1440026144, "last_edit_date": 1440027378, "question_id": 32107136, "link": "https://stackoverflow.com/questions/32107136/download-a-csv-file-then-upload-to-mysql-using-python", "title": "Download a CSV file then upload to MySQL using Python", "body": "<p>I have tried to build out simple python script to collect \"live\" earthquake data\nfrom the USGS site which is delivered in an CSV file.  My desire it to grab the\ndata using python the have it turn around and update the MySQL server I have\nbuilt.</p>\n\n<pre><code>C:\\Python27\\python.exe C:/Users/XXXX/PycharmProjects/QuakeUpload/TestSQLOpen2.py\nTraceback (most recent call last):\n  File \"C:/Users/XXXX/PycharmProjects/QuakeUpload/TestSQLOpen2.py\", line 19, in &lt;module&gt;\n    with connection.cursor() as cursor:\n  File \"C:\\Python27\\lib\\site-packages\\pymysql\\connections.py\", line 745, in cursor\n    return self.cursorclass(self)\nTypeError: 'str' object is not callable\n\nProcess finished with exit code 1\n</code></pre>\n\n<hr>\n\n<pre><code>import pymysql\nimport codecs\nimport csv\nimport urllib2\nimport pymysql.cursors\n\n# Get URL Data\nurl = \"http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.csv\"\nURLstream = urllib2.urlopen(url)\ncsvfile = csv.reader(codecs.iterdecode(URLstream, 'utf-8'))\n# for rows in csvfile:\n#    print(rows)\n\n# Connect to the database\n\nconnection = pymysql.connect(host='b8con.no-ip.org', user='sal', password='bigsal71', db='EarthQuake', charset='utf8mb4', cursorclass=\"pymysql.cursors.DictCursor\")\n\ntry:\n    with connection.cursor() as cursor:\n        sql = \"INSERT INTO quakedata(time, latitude, longitude, depth, mag, magType, nst, gap, dmin, rms, net, id, updated, place, type) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)\"\n        next(csvfile, None)\n        for line in csvfile():\n            cursor.execute(sql, (line[0], line[1], line[2], line[3], line[4], line[5], line[6], line[7], line[8], line[9], line[10], line[11], line[12], line[13], line[14]))\n\nfinally:\n    connection.close()\n\n\n\n'''\nnext(csvfile, None)\nfor line in csvfile:\n    print(line[0], line[1], line[2], line[3], line[4], line[5], line[6], line[7], line[8], line[9], line[10], line[11], line[12], line[13], line[14])\n    sql = \"INSERT INTO quakedata(time, latitude, longitude, depth, mag, magType, nst, gap, dmin, rms, net, id, updated, place, type) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)\"\n    cursor.execute(sql, (line[0], line[1], line[2], line[3], line[4], line[5], line[6], line[7], line[8], line[9], line[10], line[11], line[12], line[13], line[14]))\n\n\nconnection.commit()\n\n\nconnection.close()\n'''\n</code></pre>\n"}, {"tags": ["python", "variables", "input"], "comments": [{"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 1, "creation_date": 1440026054, "post_id": 32107101, "comment_id": 52108588, "body": "why not just use a list variable <code>v = input().split()</code> and use it like <code>v[1]</code> for first var, <code>v[2]</code> for second and..."}, {"owner": {"reputation": 31, "user_id": 4820645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e643b4df58dc3f019b29dca42af983f?s=128&d=identicon&r=PG&f=1", "display_name": "DenasP", "link": "https://stackoverflow.com/users/4820645/denasp"}, "reply_to_user": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 0, "creation_date": 1440026365, "post_id": 32107101, "comment_id": 52108676, "body": "Wow thanks, looks like I haven&#39;t done my share of homework about the .split with inputs. Though would it be possible to know how many v[x] were created?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1440026400, "post_id": 32107101, "comment_id": 52108685, "body": "You mean the length of a <code>list</code>? Sure, with <code>len(mylist)</code>. But you don&#39;t even need that here. :)"}], "answers": [{"comments": [{"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 1, "creation_date": 1440026281, "post_id": 32107138, "comment_id": 52108651, "body": "and if the task is just to get the sum of a list you might just be able to do <code>sum(v)</code>"}], "tags": [], "owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "is_accepted": true, "score": 4, "last_activity_date": 1440026363, "last_edit_date": 1440026363, "creation_date": 1440026147, "answer_id": 32107138, "question_id": 32107101, "link": "https://stackoverflow.com/questions/32107101/declare-and-assign-an-amount-of-variables-from-an-input/32107138#32107138", "title": "Declare and assign an amount of variables from an input?", "body": "<p>Use a <code>list</code> variable:</p>\n\n<pre><code>v = input().split()\n</code></pre>\n\n<p>Than use <code>v[1]</code> for first value, <code>v[2]</code> for second value , <code>v[3]</code> for third ...etc. </p>\n\n<p>To convert all values to <code>int</code>:</p>\n\n<pre><code>v = [int(x) for x in v]\n</code></pre>\n\n<p>To do the sum:</p>\n\n<pre><code>s = sum(v)\n</code></pre>\n\n<p>To know the number of values:</p>\n\n<pre><code>l = len(v)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1440026423, "post_id": 32107168, "comment_id": 52108698, "body": "You should specify that <code>first, second, *myvars</code> usage only works for Python 3.x"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 1, "creation_date": 1440026570, "post_id": 32107168, "comment_id": 52108732, "body": "The OP is using parentheses around the printed content, so they&#39;re probably using 3.x. It&#39;s not certain, but it&#39;s likely."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1440026588, "last_edit_date": 1440026588, "creation_date": 1440026337, "answer_id": 32107168, "question_id": 32107101, "link": "https://stackoverflow.com/questions/32107101/declare-and-assign-an-amount-of-variables-from-an-input/32107168#32107168", "title": "Declare and assign an amount of variables from an input?", "body": "<p>If you wanted to unpack certain hard-coded variables plus an uncertain number of additional ones, you would use the <code>*</code> operator (only in Python 3):</p>\n\n<pre><code>first, second, *myvars = input(\"Enter 2 nums!\").split()\n</code></pre>\n\n<p>You would then have a variable <code>first</code>, a second variable <code>second</code>, and a <code>list</code> of additional variables in <code>myvars</code>. If there were only two numbers, <code>myvars</code> would be an empty <code>list</code>.</p>\n\n<p>However, since you don't want a certain minimum number of variables, you can do this:</p>\n\n<pre><code>myvars = input(\"Enter 2 nums!\").split()\n</code></pre>\n\n<p><code>myvars</code> will be the <code>list</code> returned by <code>split()</code>.</p>\n\n<p>Finally, you can find the sum of numbers with the built-in function <code>sum()</code>:</p>\n\n<pre><code>myvars = input(\"Enter 2 nums!\").split()\nprint('var{} = {}'.format(idx+1, num) for idx, num in enumerate(myvars))\n\nprint(\"Sum =\", sum(map(int, myvars)))\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4820645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e643b4df58dc3f019b29dca42af983f?s=128&d=identicon&r=PG&f=1", "display_name": "DenasP", "link": "https://stackoverflow.com/users/4820645/denasp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1353, "favorite_count": 0, "accepted_answer_id": 32107138, "answer_count": 2, "score": 0, "last_activity_date": 1440027555, "creation_date": 1440025865, "last_edit_date": 1440027555, "question_id": 32107101, "link": "https://stackoverflow.com/questions/32107101/declare-and-assign-an-amount-of-variables-from-an-input", "title": "Declare and assign an amount of variables from an input?", "body": "<p>Looking back into my previous calculator project I made in python I wanted to improve on it. I noticed that the amount of numbers to use were hard coded and could only pick to use 2-4 numbers and so on.</p>\n\n<p>I want a solution where I can take the user input on how many numbers he will desire to use and have the program respond to this and create the correct amount of variables with each value.</p>\n\n<p>Here this program takes in 2 variables from 1 input:</p>\n\n<pre><code>    v1, v2 = input(\"Enter 2 nums!\").split()\n    print(\"var1 = \", v1, \"\\nvar2 =\", v2)\n\n    v1, v2 = [int(v1), int(v2)]\n    ans = v1 + v2\n\n    print(\"Sum =\",ans)\n</code></pre>\n\n<p>Though this does a useful job for multiple inputs, it does not achieve my set goal. Would it be somehow possible to have these 'v1', 'v2' variables automatically created depending on how many 'splits' it does or how many variables it finds.</p>\n\n<p>For example if amount_of_vars = 3, then it would create 3 variables from the input and so on depending on the variable 'amount_of_vars'.</p>\n"}, {"tags": ["python", "django", "django-templates", "django-admin", "django-orm"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 4, "last_activity_date": 1440026953, "creation_date": 1440026953, "answer_id": 32107267, "question_id": 32107047, "link": "https://stackoverflow.com/questions/32107047/refer-to-field-value-in-django-admin-template/32107267#32107267", "title": "Refer to field value in django admin template", "body": "<p>For a model form <code>form</code> you can access the instance being edited with <code>form.instance</code>.</p>\n\n<p>So I would try (I haven't tested this to confirm it works):</p>\n\n<pre><code>{{ adminform.form.instance.id }}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 3881829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r6znx.png?s=128&g=1", "display_name": "bleish", "link": "https://stackoverflow.com/users/3881829/bleish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1440071054, "creation_date": 1440025572, "last_edit_date": 1440071054, "question_id": 32107047, "link": "https://stackoverflow.com/questions/32107047/refer-to-field-value-in-django-admin-template", "title": "Refer to field value in django admin template", "body": "<p>I would override the admin <code>change_form</code> template, inserting a link.\nI am able to retrieve the value of a form field (called tag) using</p>\n\n<pre><code>{{ adminform.form.tag.value }}\n</code></pre>\n\n<p>So, I can make an url simply:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"return popitup('/popup/?id={{adminform.form.tag.value}}')\"&gt;link&lt;/a&gt;\n</code></pre>\n\n<p>But I can't get the value of a field 'id' (primary key of model) non showed in <code>change_form</code>, but defined in model.</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"return popitup('/popup/?id={{adminform.form.id.value}}')\"&gt;link&lt;/a&gt;\n</code></pre>\n\n<p>Any ideas ? thanks</p>\n"}, {"tags": ["python", "pyglet", "gamepad"], "comments": [{"owner": {"reputation": 1, "user_id": 5245292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c475a83a1b3d62397b1970cfee0bfbb7?s=128&d=identicon&r=PG&f=1", "display_name": "dliston", "link": "https://stackoverflow.com/users/5245292/dliston"}, "edited": false, "score": 0, "creation_date": 1440088913, "post_id": 32106948, "comment_id": 52139523, "body": "for added fun: this works on windows 7, python 2.7.3"}, {"owner": {"reputation": 95, "user_id": 1224333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9249baba9ec9b66670e4e1cd9820b136?s=128&d=identicon&r=PG", "display_name": "Leif Theden", "link": "https://stackoverflow.com/users/1224333/leif-theden"}, "edited": false, "score": 0, "creation_date": 1445490601, "post_id": 32106948, "comment_id": 54348248, "body": "Am I missing something?  It looks like the indentation is wrong in the class definition."}, {"owner": {"reputation": 95, "user_id": 1224333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9249baba9ec9b66670e4e1cd9820b136?s=128&d=identicon&r=PG", "display_name": "Leif Theden", "link": "https://stackoverflow.com/users/1224333/leif-theden"}, "edited": false, "score": 0, "creation_date": 1446181695, "post_id": 32106948, "comment_id": 54646653, "body": "push_handlers should not be required here."}], "owner": {"reputation": 1, "user_id": 5245292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c475a83a1b3d62397b1970cfee0bfbb7?s=128&d=identicon&r=PG&f=1", "display_name": "dliston", "link": "https://stackoverflow.com/users/5245292/dliston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 358, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440097788, "creation_date": 1440024946, "last_edit_date": 1440097788, "question_id": 32106948, "link": "https://stackoverflow.com/questions/32106948/using-gamepad-with-pyglet-events-not-recorded-when-window-exists", "title": "Using gamepad with pyglet: events not recorded when window exists", "body": "<p>I'm running into an issue with some pyglet code on Python 2.7.9 on Ubuntu 15.  </p>\n\n<p>While I can view the output of gamepad events (button A presses) when the pyglet window is absent, these events are not handled when the window is present.  </p>\n\n<pre><code>import pyglet\nfrom pprint import pprint\n\nclass example_class(pyglet.window.Window):\ndef __init__(self):\n    self.bEnd = False\n\n    pyglet.window.Window.__init__(self, width=100, height=100)\n\n    devices = pyglet.input.get_devices()\n    gamepad = []\n\n    for i in range(0,len(devices)):\n        if \"F310\" in devices[i].name:\n            gamepad  = devices[i]\n            controls = gamepad.controls\n            gamepad.open()\n\n            for i in range(0,len(controls)):\n                if((\"BTN_A\" in controls[i].raw_name) |\n                   (\"Button 0\" in controls[i].raw_name)):\n                    BTN_A = controls[i]\n\n    @BTN_A.event\n    def on_press():      # define the event handler                                                         \n        print('BTN_A event handler')\n        self.bEnd = True\n\n    # Push the handlers from BTN A to the window                          \n    self.push_handlers(BTN_A)         \n\n    print(self.__dict__['_event_handlers'])\n\n    # 1 ms timing\n    pyglet.clock.schedule_interval(self.update,.001)\n    #self.on_press = on_press                                                                               \n    return\n\ndef on_press():\n    self.bEnd=True\n    print('occurred')\n\n# This on_mouse_press event handler is inherited from the window class                                      \ndef on_mouse_press(self, x, y, dx, dy):\n    self.bEnd = True\n    print('mouse press')\n\ndef update(self,dt):\n    if self.bEnd==True:\n        pyglet.app.exit()\n    return\n\ndef run(self):\n    print('run')\n    for i in range(10):\n        print('%d' % i)\n        self.bEnd = False\n        pyglet.app.run()\n\nex = example_class()\nex.run()\n</code></pre>\n\n<p>The above lines:</p>\n\n<ul>\n<li>Search through the list of attached devices, </li>\n<li>Finds the Logitech \"f310\", and the corresponding BTN_A control, then </li>\n<li>Attempts to \"attach-send-dispatch\" BTN_A events to the pyglet window such that the pyglet.app.run() event loop will detect BTN_A presses.</li>\n</ul>\n\n<p>This works as expected when I comment out the line that draws the window, or when I close the window with the ESC key.   </p>\n\n<p>I know there's a way to attach BTN_A events such that they're detected by the <code>pyglet.app.run()</code> event loop when the window is open, but my <code>self.push_handlers(BTN_A)</code> attempt seems to have failed.</p>\n\n<p>I did search through the related questions; the pyglet documentation on this issue was cryptic and assumed deep familiarity with event dispatchers.  Although I tried the calls listed (set_handlers, push_handlers, etc) my syntax must have been wrong.</p>\n"}, {"tags": ["python", "flask-admin"], "answers": [{"comments": [{"owner": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "edited": false, "score": 0, "creation_date": 1440088922, "post_id": 32109349, "comment_id": 52139526, "body": "Choice &quot;A&quot; was originally used, although it creates a multitude of nightmares (as you mentioned). So, I modified it to a string field and restrict the entries in the controllers."}, {"owner": {"reputation": 37967, "user_id": 1078583, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/pgAl7.png?s=128&g=1", "display_name": "zx81", "link": "https://stackoverflow.com/users/1078583/zx81"}, "reply_to_user": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "edited": false, "score": 0, "creation_date": 1440109066, "post_id": 32109349, "comment_id": 52149843, "body": "Yeah, there&#39;s a time and place for <code>enum</code>. Storage is smaller with <code>enum</code> (only one copy of the value), but lookup / joining can be slower (discussed on pp.123-124 of <i>High-Performance MySQL</i>, 3rd ed. It&#39;s a good question, hope it will be helpful to others. :)"}, {"owner": {"reputation": 37967, "user_id": 1078583, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/pgAl7.png?s=128&g=1", "display_name": "zx81", "link": "https://stackoverflow.com/users/1078583/zx81"}, "reply_to_user": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "edited": false, "score": 0, "creation_date": 1440136765, "post_id": 32109349, "comment_id": 52157162, "body": "By the way there seems to be a <a href=\"https://github.com/flask-admin/flask-admin/issues/1003\" rel=\"nofollow noreferrer\">bug with <code>enum</code> fields in flask-admin</a> which may be what you were experiencing. At the moment flask-admin seems to have a lot of <a href=\"https://github.com/flask-admin/flask-admin/issues\" rel=\"nofollow noreferrer\">unresolved issues which are not so minor</a> (see the Security thing #1000 and others). You&#39;d think that by 2015 the problem of creating admin interfaces would be solved, but not at all. I haven&#39;t found the silver bullet apart from taking the time to code the whole thing by hand, which also lets me avoid the terribly inefficient ORM"}, {"owner": {"reputation": 454, "user_id": 372731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f55b2d2bbf641a27ff3c9b41d649d8a?s=128&d=identicon&r=PG", "display_name": "huangli", "link": "https://stackoverflow.com/users/372731/huangli"}, "edited": false, "score": 1, "creation_date": 1513760756, "post_id": 32109349, "comment_id": 82771182, "body": "use form_choices and column_choices together, would be better"}], "tags": [], "owner": {"reputation": 37967, "user_id": 1078583, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/pgAl7.png?s=128&g=1", "display_name": "zx81", "link": "https://stackoverflow.com/users/1078583/zx81"}, "is_accepted": true, "score": 29, "last_activity_date": 1440045624, "last_edit_date": 1440045624, "creation_date": 1440043351, "answer_id": 32109349, "question_id": 32106940, "link": "https://stackoverflow.com/questions/32106940/limit-choices-with-dropdown-in-flask-admin/32109349#32109349", "title": "limit choices with dropdown in flask-admin", "body": "<h1><code>enum</code>, <code>form_choices</code> and <code>form_args</code></h1>\n\n<p>Your question is about restricting values at the form level, but we can also briefly discuss it at the schema level.</p>\n\n<p><strong>A. Restricting Values at the Database Level: <code>enum</code> fields</strong></p>\n\n<p>To limit the range of allowable values, the first thing to consider is whether you might like the database to enforce that for you. Most databases have an <code>enum</code> type field that allow you to restrict a field to a set of values (<a href=\"https://dev.mysql.com/doc/refman/5.6/en/enum.html\">MySQL</a>, <a href=\"http://www.postgresql.org/docs/9.1/static/datatype-enum.html\">PostGres</a>). This approach has pros and cons. Among the cons, the values may not be listed in the order you expect; and each time you want to introduce new values to the set, you have to modify the database.</p>\n\n<p><strong>B. Restricting Values with drop-downs: <code>form_choices</code></strong></p>\n\n<p>To create drop-downs that present a set of allowable values, create a customized ModelView and define your range of values in <code>form_choices</code>. For instance:</p>\n\n<pre><code>class FilmAdmin(sqla.ModelView):\n\n    form_choices = { 'now_showing': [ ('0', 'Not Showing'), ('1', 'Showing')],\n                     'color': [('bw', 'Black &amp; White'), ('color', 'Color')]\n                   }\n\n    # (many other customizations can go here)\n</code></pre>\n\n<p>In <code>form_choices</code>, you have created drop-downs for two fields: <code>now_showing</code> and <code>color</code>. The first field admits the values <code>0</code> and <code>1</code>, but to make it easier on the eyes the form will show <em>Not Showing</em> for <code>0</code> and <em>Showing</em> for <code>1</code>.</p>\n\n<p>Note that this will work in a regular form, but not in an <em>inline form</em>.</p>\n\n<p>You will need to add the ModelView to the app: something like</p>\n\n<p><code>admin.add_view(FilmAdmin(yourmodels.Film, db.session))</code></p>\n\n<p><strong>C. Validation: <code>form_args</code></strong></p>\n\n<p>In inline forms, you may not have the drop-down. But you can keep refining your custom ModelView by defining WTF validators for various fields.</p>\n\n<p>As we did with <code>form_choices</code>, you can define a <code>form_args</code> dictionary containing a <code>validators</code> list. For instance:</p>\n\n<pre><code># first import the `AnyOf` validator: \nfrom wtforms.validators import AnyOf\n\nclass FilmAdmin(sqla.ModelView):\n\n    # column_exclude_list = ...\n    # form_excluded_columns = ...\n    # form_choices = ...\n\n    form_args = {\n        'flavors': {\n            'validators': [AnyOf(['strawberry', 'chocolate'])]\n        }\n    }\n</code></pre>\n\n<p>There are many pre-defined validators, and you can define your own: please refer to the <a href=\"https://flask-admin.readthedocs.org/en/latest/introduction/\">flask-admin introduction</a> and to the <a href=\"http://wtforms.simplecodes.com/docs/0.6.1/validators.html\">validators section of the WTF documentation</a>.</p>\n"}], "owner": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6010, "favorite_count": 6, "accepted_answer_id": 32109349, "answer_count": 1, "score": 14, "last_activity_date": 1440045624, "creation_date": 1440024900, "question_id": 32106940, "link": "https://stackoverflow.com/questions/32106940/limit-choices-with-dropdown-in-flask-admin", "title": "limit choices with dropdown in flask-admin", "body": "<p>My SQLAlchemy model has a <code>String</code> field that I would like to limit to a few choices. </p>\n\n<p>I am wondering how I would be able to create a dropdown for this field in the Flask-Admin interface that would ensure that the db is only populated with one of my choices. If I let the user manually enter these fields, they may spell them incorrectly, etc.</p>\n"}, {"tags": ["python", "linux", "django", "bash", "shell"], "owner": {"reputation": 21, "user_id": 1281657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81e9604175f0cda08fc7af6893b86528?s=128&d=identicon&r=PG", "display_name": "user1281657", "link": "https://stackoverflow.com/users/1281657/user1281657"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440024560, "creation_date": 1440024560, "question_id": 32106876, "link": "https://stackoverflow.com/questions/32106876/how-to-terminate-background-coverage-django-runserver-job-in-a-shell-script", "title": "How to terminate background coverage Django runserver job in a shell script", "body": "<p>I get a <a href=\"http://nedbatchelder.com/code/coverage/\" rel=\"nofollow\">coverage</a> report when I execute this interactively in a terminal session:</p>\n\n<pre><code>coverage run manage.py runserver --noreload &amp;\npid=$!\nmanage.py test tests.functional_tests \n/usr/bin/kill -s INT $pid\ncoverage report\n</code></pre>\n\n<p>But if I put the same lines in a bash script and execute it I get no coverage report:</p>\n\n<pre><code>cat &gt; mytest.sh &lt;&lt;EOS\ncoverage run manage.py runserver --noreload &amp;\npid=\\$!\nmanage.py test tests.functional_tests \n/usr/bin/kill -s INT \\$pid\ncoverage report\nEOS\nbash mytest.sh\n</code></pre>\n\n<p>Inside the bash script <code>/usr/bin/kill -s INT</code> does not terminate the Django development server. I've tried sending different signals (HUP, TERM, ABRT, QUIT) to no avail.  What am I doing wrong?</p>\n"}, {"tags": ["python", "macos", "virtualenv", "software-distribution", "py2app"], "comments": [{"owner": {"reputation": 17566, "user_id": 901641, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PR8Bl.png?s=128&g=1", "display_name": "ArtOfWarfare", "link": "https://stackoverflow.com/users/901641/artofwarfare"}, "edited": false, "score": 2, "creation_date": 1440785322, "post_id": 32106873, "comment_id": 52433254, "body": "What version of OS X did you build on? What versions of OS X does it work on? What versions of OS X do you want to support? Personally, I think it&#39;s a bit silly to worry about OS X 10.7. About a year ago, 67% of people were running 10.8 or newer. Only 13% of people were running 10.7 (the other 20% were running even older than 10.7). I&#39;m sure a more current graph would show an even higher percentage running 10.8 or newer and fewer running 10.7. So I really wouldn&#39;t worry about 10.7. <a href=\"https://chitika.com/insights/2014/apple-status-report\" rel=\"nofollow noreferrer\">chitika.com/insights/2014/apple-status-report</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1191, "user_id": 2669008, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PGddU.jpg?s=128&g=1", "display_name": "Adrien Cadet", "link": "https://stackoverflow.com/users/2669008/adrien-cadet"}, "edited": false, "score": 0, "creation_date": 1440787981, "post_id": 32277058, "comment_id": 52434600, "body": "That makes sense. Should I open a ticket on the py2app official tracker?"}, {"owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "reply_to_user": {"reputation": 1191, "user_id": 2669008, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PGddU.jpg?s=128&g=1", "display_name": "Adrien Cadet", "link": "https://stackoverflow.com/users/2669008/adrien-cadet"}, "edited": false, "score": 0, "creation_date": 1440980846, "post_id": 32277058, "comment_id": 52481123, "body": "I don&#39;t think they can help you.  The bundle it using what is available on the OS you are building on.   Hopefully it is forward compatible."}], "tags": [], "owner": {"reputation": 31310, "user_id": 68105, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1bC0L.png?s=128&g=1", "display_name": "MK.", "link": "https://stackoverflow.com/users/68105/mk"}, "is_accepted": false, "score": 1, "last_activity_date": 1440784441, "creation_date": 1440784441, "answer_id": 32277058, "question_id": 32106873, "link": "https://stackoverflow.com/questions/32106873/bundled-python-app-might-fail-when-starting/32277058#32277058", "title": "Bundled Python app might fail when starting", "body": "<p>Make these backwards compatible can be tricky.  Perhaps try building your py2app bundled app on the oldest version of OS X you want to support.  I.e. if you want it to run on 10.7.5 build it there.  Build from the older version of OS X is far more likely to work on newer versions of OS X then going the other way.</p>\n"}], "owner": {"reputation": 1191, "user_id": 2669008, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PGddU.jpg?s=128&g=1", "display_name": "Adrien Cadet", "link": "https://stackoverflow.com/users/2669008/adrien-cadet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1440784441, "creation_date": 1440024524, "last_edit_date": 1440784084, "question_id": 32106873, "link": "https://stackoverflow.com/questions/32106873/bundled-python-app-might-fail-when-starting", "title": "Bundled Python app might fail when starting", "body": "<p>I distributed a Python app for OSX machines thanks to py2app. \nAnytime I build the application, I use virtualenv. It manages all my dependencies too.</p>\n\n<p>Running the application on my laptop works fine. I tried on a couple of other machines too, everything is fine. However, on a single machine, I get this error when launching my app:</p>\n\n<pre><code>8/19/15 5:41:08.787 PM main: main Error\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main: Traceback (most recent call last):\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   File \"/Users/foo/Desktop/synchronizer.app/Contents/Resources/__boot__.py\", line 351, in &lt;module&gt;\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:     _run()\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   File \"/Users/foo/Desktop/synchronizer.app/Contents/Resources/__boot__.py\", line 336, in _run\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:     exec(compile(source, path, 'exec'), globals(), globals())\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   File \"/Users/foo/Desktop/synchronizer.app/Contents/Resources/main.py\", line 1, in &lt;module&gt;\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:     from window import Window\n8/19/15 5:41:10.997 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   File \"window.pyc\", line 2, in &lt;module&gt;\n8/19/15 5:41:10.998 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   File \"requests/utils.pyc\", line 17, in &lt;module&gt;\n8/19/15 5:41:10.998 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   File \"platform.pyc\", line 115, in &lt;module&gt;\n8/19/15 5:41:10.998 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   File \"subprocess.pyc\", line 405, in &lt;module&gt;\n8/19/15 5:41:10.998 PM [0x0-0xb10b1].org.pythonmac.unspecified.main: ImportError: dlopen(/Users/foo/Desktop/synchronizer.app/Contents/Resources/lib/python3.4/lib-dynload/_posixsubprocess.so, 2): Symbol not found: _dirfd\n8/19/15 5:41:10.998 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   Referenced from: /Users/foo/Desktop/synchronizer.app/Contents/Resources/lib/python3.4/lib-dynload/_posixsubprocess.so\n8/19/15 5:41:10.998 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:   Expected in: /usr/lib/libSystem.B.dylib\n8/19/15 5:41:10.998 PM [0x0-0xb10b1].org.pythonmac.unspecified.main:  in /Users/foo/Desktop/synchronizer.app/Contents/Resources/lib/python3.4/lib-dynload/_posixsubprocess.so\n8/19/15 5:41:11.027 PM com.apple.launchd.peruser.502: ([0x0-0xb10b1].org.pythonmac.unspecified.main[889]) Exited with code: 255\n</code></pre>\n\n<p>This machine runs the 10.7.5 version of OSX.\nI do not know if it is a matter of distribution or something relative to this machine/environment.</p>\n\n<p>I tried to distribute the application by running virtualenv with the <code>--no-site-packages</code> flag but it had no impact.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440025166, "post_id": 32106869, "comment_id": 52108372, "body": "First of all, don&#39;t define a function inside a loop."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440025203, "post_id": 32106869, "comment_id": 52108385, "body": "Second of all, what output do you want and what output are you getting?"}, {"owner": {"reputation": 65, "user_id": 5136166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/13e1988e71fcfc549a2aa9b57b5074e8?s=128&d=identicon&r=PG&f=1", "display_name": "user299662", "link": "https://stackoverflow.com/users/5136166/user299662"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440025482, "post_id": 32106869, "comment_id": 52108450, "body": "@cyphase : Editted the question. error is &lt;generator object paths at 0x7f4983842d20&gt;"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440025539, "post_id": 32106869, "comment_id": 52108468, "body": "That&#39;s not an error, that&#39;s the return value of <code>paths(tree,0)</code>. Try <code>print list(paths(tree,0))</code>."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440025561, "post_id": 32106869, "comment_id": 52108473, "body": "You should include the output you&#39;re getting in the question."}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1440027593, "post_id": 32106869, "comment_id": 52108997, "body": "I think you want paths(tree, (0,)).  Your cursor is supposed to be a tuple, but you&#39;re passing an int."}, {"owner": {"reputation": 65, "user_id": 5136166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/13e1988e71fcfc549a2aa9b57b5074e8?s=128&d=identicon&r=PG&f=1", "display_name": "user299662", "link": "https://stackoverflow.com/users/5136166/user299662"}, "reply_to_user": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1440028005, "post_id": 32106869, "comment_id": 52109105, "body": "@saulspatz : Fixed that. But now getting attribute error. please find in question"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1440029328, "post_id": 32106869, "comment_id": 52109471, "body": "@user299662 The answer from Cyphase below shows you how to do it.  The biggest problem with your code, I think, is that you aren&#39;t picking out the id fields that you want to print or the children nodes that give the subtrees."}], "answers": [{"comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 65, "user_id": 5136166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/13e1988e71fcfc549a2aa9b57b5074e8?s=128&d=identicon&r=PG&f=1", "display_name": "user299662", "link": "https://stackoverflow.com/users/5136166/user299662"}, "edited": false, "score": 0, "creation_date": 1440032924, "post_id": 32107484, "comment_id": 52110184, "body": "@user299662, you&#39;re welcome. You should upvote/accept answers that help you :). <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": true, "score": 0, "last_activity_date": 1440028472, "creation_date": 1440028472, "answer_id": 32107484, "question_id": 32106869, "link": "https://stackoverflow.com/questions/32106869/finding-paths-in-a-json-tree-in-python/32107484#32107484", "title": "Finding paths in a json tree in python", "body": "<p>There are several problems with your code, but the \"error\" you were getting isn't an error; it's the value returned by <code>path(tree, 0)</code>, which is a generator. You need to wrap it in <code>list()</code> to force it to evaluate itself. That said, if you do that, you're going to run into several bugs. And even if you fix the surface bugs, your code isn't going to give you the result you want.</p>\n\n<p>This code will do what you're trying to do:</p>\n\n<pre><code>import pprint\n\n\ndef paths(tree):\n    if not tree['children']:\n        yield (tree['id'],)\n    else:\n        for child in tree['children']:\n            for descendant in paths(child):\n                yield (tree['id'],) + descendant\n\ntree = {\n    'reply': 0,\n    'id': 30,\n    'children': [\n        {'reply': 0, 'id': 451, 'children': []},\n        {'reply': 0, 'id': 307, 'children': []},\n        {'reply': 0, 'id': 276, 'children': []},\n        {'reply': 0, 'id': 253, 'children': [\n            {'reply': 0, 'id': 600, 'children': []},\n            {'reply': 0, 'id': 700, 'children': []},\n            {'reply': 0, 'id': 800, 'children': []},\n            {'reply': 0, 'id': 900, 'children': []},\n        ]}\n        ]\n    }\n\npprint.pprint(list(paths(tree)))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[(30, 451),\n (30, 307),\n (30, 276),\n (30, 253, 600),\n (30, 253, 700),\n (30, 253, 800),\n (30, 253, 900)]\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5136166, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/13e1988e71fcfc549a2aa9b57b5074e8?s=128&d=identicon&r=PG&f=1", "display_name": "user299662", "link": "https://stackoverflow.com/users/5136166/user299662"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 1, "accepted_answer_id": 32107484, "answer_count": 1, "score": 1, "last_activity_date": 1440028472, "creation_date": 1440024505, "last_edit_date": 1440027946, "question_id": 32106869, "link": "https://stackoverflow.com/questions/32106869/finding-paths-in-a-json-tree-in-python", "title": "Finding paths in a json tree in python", "body": "<p>I have a json tree of the form</p>\n\n<pre><code>{\"reply\": 0, \"id\": 30, \"children\": [{\"reply\": 0, \"id\": 451, \"children\": []}, {\"reply\": 0, \"id\": 307, \"children\": []}, {\"reply\": 0, \"id\": 276, \"children\": []}, {\"reply\": 0, \"id\": 253, \"children\": []}]}\n</code></pre>\n\n<p>I want to get all the paths starting from root to the leaf of the json tree.\nFor this I am using </p>\n\n<pre><code>import json\nf=open('tree_json','r')\ndef paths(tree, cur=()):\n         if not tree:\n            yield cur\n         else:\n            for n, s in tree.items():\n                for path in paths(s, cur+(n,)):\n                   yield path\nfor line in f:\n    tree=json.loads(line)\n   print list(paths(tree,(0,)))\n</code></pre>\n\n<p>But, I am not able to print the paths in a tree. The output I want is:\n     {30,451},{30,307},{30,276}. I am getting </p>\n\n<pre><code>    for n, s in tree.items():\n     AttributeError: 'int' object has no attribute 'items'\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440025213, "post_id": 32106819, "comment_id": 52108388, "body": "Will there only be 1 &quot;To&quot; email address in the message or can there be multiple &quot;To&quot; email addresses in a message?"}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440025519, "post_id": 32106819, "comment_id": 52108464, "body": "And you want to be able to look for a specific email address such as &quot;jane.doe@gmail.com&quot; and then only do something with the message from that specific email?"}, {"owner": {"reputation": 103, "user_id": 5245288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f730a8f49bc77f926daab3534c8d34?s=128&d=identicon&r=PG", "display_name": "Joseph Drane", "link": "https://stackoverflow.com/users/5245288/joseph-drane"}, "reply_to_user": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440025809, "post_id": 32106819, "comment_id": 52108531, "body": "There will only be one TO email there. I need to show everything inside &quot;message&quot;: that matches the email address searched for. There could be 1 or 50 results with that TO email address."}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440026169, "post_id": 32106819, "comment_id": 52108612, "body": "Ok, Do you know the email address you will be searching for to start off with or will you need to read some of the messages to find the address first? hope question that makes sense :)"}, {"owner": {"reputation": 103, "user_id": 5245288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f730a8f49bc77f926daab3534c8d34?s=128&d=identicon&r=PG", "display_name": "Joseph Drane", "link": "https://stackoverflow.com/users/5245288/joseph-drane"}, "reply_to_user": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440026261, "post_id": 32106819, "comment_id": 52108646, "body": "I&#39;ll know what the email address I&#39;ll be searching for. This is the mailgun api that pulls logs to show if an email has been delivered for a given address."}], "answers": [{"tags": [], "owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "is_accepted": false, "score": 0, "last_activity_date": 1440024986, "creation_date": 1440024986, "answer_id": 32106956, "question_id": 32106819, "link": "https://stackoverflow.com/questions/32106819/search-json-response-with-python/32106956#32106956", "title": "Search JSON response with python", "body": "<p>Try:</p>\n\n<pre><code>re.findall(\"[^@ ]+@[^@]+\\.[^@ ]+\", data['message'].split(\"\\u2192\")[1])[0]\n</code></pre>\n\n<p>First I split <code>data['message']</code> on two by the character <code>\\u2192</code> than take the second part. I try to find all emails in this second part, and choose only the first one because it is what you are looking for.</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 5245288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f730a8f49bc77f926daab3534c8d34?s=128&d=identicon&r=PG", "display_name": "Joseph Drane", "link": "https://stackoverflow.com/users/5245288/joseph-drane"}, "edited": false, "score": 0, "creation_date": 1440041603, "post_id": 32107278, "comment_id": 52112221, "body": "Thanks Dan! I used Option 2! I&#39;m a network engineer by trade trying to get some daily log viewing off my plate and into a web page."}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "reply_to_user": {"reputation": 103, "user_id": 5245288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f730a8f49bc77f926daab3534c8d34?s=128&d=identicon&r=PG", "display_name": "Joseph Drane", "link": "https://stackoverflow.com/users/5245288/joseph-drane"}, "edited": false, "score": 0, "creation_date": 1440048752, "post_id": 32107278, "comment_id": 52114101, "body": "Oh great, glad that helped. Option 2 was for sure the more appropriate approach for your case now that I realize the details of the task you were doing. Thanks for coming over from the network side to contribute :)"}], "tags": [], "owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "is_accepted": true, "score": 1, "last_activity_date": 1440048921, "last_edit_date": 1440048921, "creation_date": 1440027030, "answer_id": 32107278, "question_id": 32106819, "link": "https://stackoverflow.com/questions/32106819/search-json-response-with-python/32107278#32107278", "title": "Search JSON response with python", "body": "<p>Either of these \"should\" work.</p>\n\n<p>Since you already know the email address, you only need to search the string for the exact email addresss. There are a couple of options here. You can use regular expressions (maybe overkill since this isnt a pattern but a known string). You can also just search the string for the known email address. </p>\n\n<p>You determine if you should use the message based of its boolean value in both cases.</p>\n\n<h1>Option 1</h1>\n\n<p>Regular Expressions </p>\n\n<p><a href=\"https://docs.python.org/3.5/library/re.html#match-objects\" rel=\"nofollow\">https://docs.python.org/3.5/library/re.html#match-objects</a></p>\n\n<pre><code>import re\n\nemail_address = \"email_address_you_know@somewhere.com\"\n\nfor data in j['items']:\n    match = re.search(email_address, data['message'])\n    if match:\n        print data['message']\n</code></pre>\n\n<h1>Option 2</h1>\n\n<p>Search the message for the email address string</p>\n\n<pre><code>email_address = \"email_address_you_know@somewhere.com\"\n\nfor data in j['items']:\n    if email_address in data['message']:\n        print data['message']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 1727519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XAlQ0.jpg?s=128&g=1", "display_name": "winterfall", "link": "https://stackoverflow.com/users/1727519/winterfall"}, "is_accepted": false, "score": 0, "last_activity_date": 1440035900, "creation_date": 1440035900, "answer_id": 32108394, "question_id": 32106819, "link": "https://stackoverflow.com/questions/32106819/search-json-response-with-python/32108394#32108394", "title": "Search JSON response with python", "body": "<p>Use the <code>json.loads</code> to solve that.</p>\n\n<pre><code>&gt;&gt;&gt; json.loads('\"Delivered: no-reply@example.com \\u2192 jane.doe@gmail.com\"')\n'Delivered: no-reply@example.com \u2192 jane.doe@gmail.com'\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 5245288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8f730a8f49bc77f926daab3534c8d34?s=128&d=identicon&r=PG", "display_name": "Joseph Drane", "link": "https://stackoverflow.com/users/5245288/joseph-drane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 656, "favorite_count": 0, "accepted_answer_id": 32107278, "answer_count": 3, "score": 0, "last_activity_date": 1440048921, "creation_date": 1440024174, "question_id": 32106819, "link": "https://stackoverflow.com/questions/32106819/search-json-response-with-python", "title": "Search JSON response with python", "body": "<p>I have searched and searched but I'm not able to figure this out. Below is the JSON data I get back from the web service, API:</p>\n\n<pre><code>{\n\u2002 \"total_count\": 673, \n\u2002 \"items\": [\n\u2002 \u2002 {\n\u2002 \u2002 \u2002 \"hap\": \"delivered\", \n\u2002 \u2002 \u2002 \"message\": \"Delivered: no-reply@example.com \\u2192 jon.doe@gmail.com 'Some Email subject'\", \n\u2002 \u2002 \u2002 \"type\": \"info\", \n\u2002 \u2002 \u2002 \"created_at\": \"Wed, 19 Aug 2015 18:38:54 GMT\", \n\u2002 \u2002 \u2002 \"message_id\": \"20150819183853.13720.31771@example.com\"\n\u2002 \u2002 }, \n\u2002 \u2002 {\n\u2002 \u2002 \u2002 \"hap\": \"accepted\", \n\u2002 \u2002 \u2002 \"message\": \"Accepted: no-reply@example.com \\u2192 jon.doe@gmail.com 'Subject of this email here'\", \n\u2002 \u2002 \u2002 \"type\": \"info\", \n\u2002 \u2002 \u2002 \"created_at\": \"Wed, 19 Aug 2015 18:38:53 GMT\", \n\u2002 \u2002 \u2002 \"message_id\": \"20150819183853.13720.31771@example.com\"\n\u2002 \u2002 }, \n\u2002 \u2002 {\n\u2002 \u2002 \u2002 \"hap\": \"delivered\", \n\u2002 \u2002 \u2002 \"message\": \"Delivered: no-reply@example.com \\u2192 jane.doe@gmail.com 'Subject Line here'\", \n\u2002 \u2002 \u2002 \"type\": \"info\", \n\u2002 \u2002 \u2002 \"created_at\": \"Wed, 19 Aug 2015 18:37:50 GMT\", \n\u2002 \u2002 \u2002 \"message_id\": \"20150819183749.13738.20180@example.com\"\n\u2002 \u2002 },\n</code></pre>\n\n<p>The challenge is that I am trying to search the \"message\": block for the TO email address which comes after the \"\\u2192\" inside the \"message\": location.</p>\n\n<p>I have created this python script that dumps all entries inside \"message\": but I have not been able to filter this with a specific email address.</p>\n\n<pre><code>import requests, json\nprint(\"Connecting to the URL...\")\nr = requests.get(\"https://api:key-12345@api.mailgun.net/v3/example.com/log\")\nj = r.json()\nfor data in j['items']:\n    print data['message']\n</code></pre>\n"}, {"tags": ["python", "hadoop", "apache-spark", "bigdata", "pyspark"], "answers": [{"comments": [{"owner": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 0, "creation_date": 1440079237, "post_id": 32107236, "comment_id": 52133073, "body": "Thanks, this is useful. I actually need the keys to be unique."}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 0, "creation_date": 1440080156, "post_id": 32107236, "comment_id": 52133734, "body": "Do you have any other requirements here? Because if not, you can simply  <code>zipWithIndex</code> <code>zipWithUniqueId</code> afterwards. It adds another transformation but is not extremely expensive."}, {"owner": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 0, "creation_date": 1440080426, "post_id": 32107236, "comment_id": 52133933, "body": "I need the keys to be both randomly ordered and unique. I can sort by a random key, but that proves to be quite slow."}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 0, "creation_date": 1440081499, "post_id": 32107236, "comment_id": 52134704, "body": "If so you can add index or id before shuffling. I&#39;ve updated the answer."}, {"owner": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 0, "creation_date": 1440095830, "post_id": 32107236, "comment_id": 52143230, "body": "In testing now, this seems like it takes about as long as sorting (I&#39;m using shuffling); however, I think I can just not shuffle within the partitions, so thank you very much for this. It has definitely helped me learn more about using spark as well as speeding up my code."}, {"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "reply_to_user": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 1, "creation_date": 1440097147, "post_id": 32107236, "comment_id": 52143907, "body": "Well, truth be told is not that much different from sorting. While there is no need for histogram you have to shuffle pretty much the same amount of data. I doubt there is any way to avoid it if a true random order is required."}, {"owner": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "edited": false, "score": 0, "creation_date": 1440098002, "post_id": 32107236, "comment_id": 52144386, "body": "Actually, I spoke too soon - shuffling was 26 mins vs about 40 mins for sorting."}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 5, "last_activity_date": 1440081620, "last_edit_date": 1440081620, "creation_date": 1440026740, "answer_id": 32107236, "question_id": 32106805, "link": "https://stackoverflow.com/questions/32106805/pyspark-shuffle-rdd/32107236#32107236", "title": "Pyspark: shuffle RDD", "body": "<p>One possible approach is to add random keys using <code>mapParitions</code></p>\n\n<pre><code>import os\nimport numpy as np\n\nswap = lambda x: (x[1], x[0])\n\ndef add_random_key(it):\n    # make sure we get a proper random seed\n    seed = int(os.urandom(4).encode('hex'), 16) \n    # create separate generator\n    rs = np.random.RandomState(seed)\n    # Could be randint if you prefer integers\n    return ((rs.rand(), swap(x)) for x in it)\n\nrdd_with_keys = (rdd\n  # It will be used as final key. If you don't accept gaps \n  # use zipWithIndex but this should be cheaper \n  .zipWithUniqueId()\n  .mapPartitions(add_random_key, preservesPartitioning=True))\n</code></pre>\n\n<p>Next you can repartition, sort each partition and extract values:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>n = rdd.getNumPartitions()\n(rdd_with_keys\n    # partition by random key to put data on random partition \n    .partitionBy(n)\n    # Sort partition by random value to ensure random order on partition\n    .mapPartitions(sorted, preservesPartitioning=True)\n    # Extract (unique_id, value) pairs\n    .values())\n</code></pre>\n\n<p>If sorting per partition is still to slow it could be replaced by Fisher\u2013Yates shuffle. </p>\n\n<p>If you simply need a random data then you can use <code>mllib.RandomRDDs</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from pyspark.mllib.random import RandomRDDs\n\nRandomRDDs.uniformRDD(sc, n)\n</code></pre>\n\n<p>Theoretically it could be zipped with input <code>rdd</code> but it would require matching the number of elements per partition.</p>\n"}, {"tags": [], "owner": {"reputation": 481, "user_id": 6494418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m5RNP.png?s=128&g=1", "display_name": "Colin Wang", "link": "https://stackoverflow.com/users/6494418/colin-wang"}, "is_accepted": false, "score": -1, "last_activity_date": 1591180111, "creation_date": 1591180111, "answer_id": 62170640, "question_id": 32106805, "link": "https://stackoverflow.com/questions/32106805/pyspark-shuffle-rdd/62170640#62170640", "title": "Pyspark: shuffle RDD", "body": "<p>pyspark worked!</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from random import randrange\ndata_rnd = data.sortBy(lambda x: randrange(1000000))\n\n</code></pre>\n"}], "owner": {"reputation": 44309, "user_id": 21640, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/492a3c5c13fb44d27229364e0993fa11?s=128&d=identicon&r=PG", "display_name": "Marcin", "link": "https://stackoverflow.com/users/21640/marcin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4077, "favorite_count": 0, "accepted_answer_id": 32107236, "answer_count": 2, "score": 7, "last_activity_date": 1591180111, "creation_date": 1440024097, "question_id": 32106805, "link": "https://stackoverflow.com/questions/32106805/pyspark-shuffle-rdd", "title": "Pyspark: shuffle RDD", "body": "<p>I'm trying to randomise the order of elements in an RDD. My current approach is to zip the elements with an RDD of shuffled integers, then later join by those integers.</p>\n\n<p>However, pyspark falls over with only 100000000 integers. I'm using the code below.</p>\n\n<p>My question is: is there a better way to either zip with the random index or otherwise shuffle?</p>\n\n<p>I've tried sorting by a random key, which works, but is slow.</p>\n\n<pre><code>def random_indices(n):\n    \"\"\"\n    return an iterable of random indices in range(0,n)\n    \"\"\"\n    indices = range(n)\n    random.shuffle(indices)\n    return indices\n</code></pre>\n\n<p>The following happens in pyspark:</p>\n\n<pre><code>Using Python version 2.7.3 (default, Jun 22 2015 19:33:41)\nSparkContext available as sc.\n&gt;&gt;&gt; import clean\n&gt;&gt;&gt; clean.sc = sc\n&gt;&gt;&gt; clean.random_indices(100000000)\nKilled\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1440025285, "post_id": 32106771, "comment_id": 52108402, "body": "To use np.pad, np.pad(x,((0,5-len(x))),mode=&#39;constant&#39;, constant_values=0) is array([1, 2, 3, 0, 0]) for x = np.array([1,2,3]), however it won&#39;t work for len(x) &gt; 5 so in that case just slice the array, for example if y = np.array([1,2,3,4,5,6]) then y[:5] = array([1, 2, 3, 4, 5])"}], "answers": [{"comments": [{"owner": {"reputation": 4923, "user_id": 3888455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/873d2041884628d6f6e2aa75b81d92ae?s=128&d=identicon&r=PG&f=1", "display_name": "Sid", "link": "https://stackoverflow.com/users/3888455/sid"}, "edited": false, "score": 2, "creation_date": 1440046520, "post_id": 32106944, "comment_id": 52113433, "body": "For a numpy version: <code>pad = lambda a, i: a[0: i] if a.shape[0] &gt; i else np.hstack((a, np.zeros(i - a.shape[0])))</code>"}], "tags": [], "owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "is_accepted": true, "score": 8, "last_activity_date": 1440024925, "creation_date": 1440024925, "answer_id": 32106944, "question_id": 32106771, "link": "https://stackoverflow.com/questions/32106771/how-can-i-pad-and-or-truncate-a-vector-to-a-specified-length-using-numpy/32106944#32106944", "title": "How can I pad and/or truncate a vector to a specified length using numpy?", "body": "<p>This might be slow or fast, I am not sure, however it works for your purpose.</p>\n\n<pre><code>In [22]: pad = lambda a,i : a[0:i] if len(a) &gt; i else a + [0] * (i-len(a))\n\nIn [23]: pad([1,2,3], 5)\nOut[23]: [1, 2, 3, 0, 0]\n\nIn [24]: pad([1,2,3,4,5,6,7], 5)\nOut[24]: [1, 2, 3, 4, 5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": false, "score": 1, "last_activity_date": 1440027846, "last_edit_date": 1440027846, "creation_date": 1440026673, "answer_id": 32107218, "question_id": 32106771, "link": "https://stackoverflow.com/questions/32106771/how-can-i-pad-and-or-truncate-a-vector-to-a-specified-length-using-numpy/32107218#32107218", "title": "How can I pad and/or truncate a vector to a specified length using numpy?", "body": "<p>Pure python version, where <code>a</code> is a python list (not a numpy array): <code>a[:n] + [0,]*(n-len(a))</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>In [42]: n = 5\n\nIn [43]: a = [1, 2, 3]\n\nIn [44]: a[:n] + [0,]*(n - len(a))\nOut[44]: [1, 2, 3, 0, 0]\n\nIn [45]: a = [1, 2, 3, 4]\n\nIn [46]: a[:n] + [0,]*(n - len(a))\nOut[46]: [1, 2, 3, 4, 0]\n\nIn [47]: a = [1, 2, 3, 4, 5]\n\nIn [48]: a[:n] + [0,]*(n - len(a))\nOut[48]: [1, 2, 3, 4, 5]\n\nIn [49]: a = [1, 2, 3, 4, 5, 6]\n\nIn [50]: a[:n] + [0,]*(n - len(a))\nOut[50]: [1, 2, 3, 4, 5]\n</code></pre>\n\n<p>Function using numpy:</p>\n\n<pre><code>In [121]: def tosize(a, n):\n   .....:     a = np.asarray(a)\n   .....:     x = np.zeros(n, dtype=a.dtype)\n   .....:     m = min(n, len(a))\n   .....:     x[:m] = a[:m]\n   .....:     return x\n   .....: \n\nIn [122]: tosize([1, 2, 3], 5)\nOut[122]: array([1, 2, 3, 0, 0])\n\nIn [123]: tosize([1, 2, 3, 4], 5)\nOut[123]: array([1, 2, 3, 4, 0])\n\nIn [124]: tosize([1, 2, 3, 4, 5], 5)\nOut[124]: array([1, 2, 3, 4, 5])\n\nIn [125]: tosize([1, 2, 3, 4, 5, 6], 5)\nOut[125]: array([1, 2, 3, 4, 5])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 3, "last_activity_date": 1440039115, "last_edit_date": 1440039115, "creation_date": 1440027907, "answer_id": 32107409, "question_id": 32106771, "link": "https://stackoverflow.com/questions/32106771/how-can-i-pad-and-or-truncate-a-vector-to-a-specified-length-using-numpy/32107409#32107409", "title": "How can I pad and/or truncate a vector to a specified length using numpy?", "body": "<p><code>np.pad</code> is overkill, better for adding a border all around a 2d image than adding some zeros to a list.</p>\n\n<p>I like the <code>zip_longest</code>, especially if the inputs are lists, and don't need to be arrays.  It's probably the closest you'll find to a code that operates on all lists at once in compiled code).</p>\n\n<pre><code>a, b = zip(*list(itertools.izip_longest(a, b, fillvalue=0)))\n</code></pre>\n\n<p>is a version that does not use <code>np.array</code> at all (saving some array overhead)</p>\n\n<p>But by itself it does not truncate.  It stills something like <code>[x[:5] for x in (a,b)]</code>.</p>\n\n<p>Here's my variation on <code>all_m</code>s function, working with a simple list or 1d array:</p>\n\n<pre><code>def foo_1d(x, n=5):\n    x = np.asarray(x)\n    assert x.ndim==1\n    s = np.min([x.shape[0], n])\n    ret = np.zeros((n,), dtype=x.dtype)\n    ret[:s] = x[:s]\n    return ret\n\nIn [772]: [foo_1d(x) for x in [[1,2,3], [1,2,3,4,5], np.arange(10)[::-1]]]\nOut[772]: [array([1, 2, 3, 0, 0]), array([1, 2, 3, 4, 5]), array([9, 8, 7, 6, 5])]\n</code></pre>\n\n<p>One way or other the <code>numpy</code> solutions do the same thing - construct a blank array of the desired shape, and then fill it with the relevant values from the original.</p>\n\n<p>One other detail - when truncating the solution could, in theory, return a view instead of a copy.  But that requires handling that case separately from a pad case.</p>\n\n<hr>\n\n<p>If the desired output is a list of equal lenth arrays, it may be worth while collecting them in a 2d array.</p>\n\n<pre><code>In [792]: def foo1(x, out):\n    x = np.asarray(x)\n    s = np.min((x.shape[0], out.shape[0]))\n    out[:s] = x[:s]\n\nIn [794]: lists = [[1,2,3], [1,2,3,4,5], np.arange(10)[::-1], []]\n\nIn [795]: ret=np.zeros((len(lists),5),int)\nIn [796]: for i,xx in enumerate(lists):\n    foo1(xx, ret[i,:])\nIn [797]: ret\nOut[797]: \narray([[1, 2, 3, 0, 0],\n       [1, 2, 3, 4, 5],\n       [9, 8, 7, 6, 5],\n       [0, 0, 0, 0, 0]])\n</code></pre>\n"}], "owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1948, "favorite_count": 1, "accepted_answer_id": 32106944, "answer_count": 3, "score": 7, "last_activity_date": 1440039115, "creation_date": 1440023930, "last_edit_date": 1440027133, "question_id": 32106771, "link": "https://stackoverflow.com/questions/32106771/how-can-i-pad-and-or-truncate-a-vector-to-a-specified-length-using-numpy", "title": "How can I pad and/or truncate a vector to a specified length using numpy?", "body": "<p>I have couple of lists:</p>\n\n<pre><code>a = [1,2,3]\nb = [1,2,3,4,5,6]\n</code></pre>\n\n<p>which are of variable length.</p>\n\n<p>I want to return a vector of length five, such that if the input list length is &lt; 5 then it will be padded with zeros on the right, and if it is > 5, then it will be truncated at the 5th element.</p>\n\n<p>For example, input <code>a</code> would return <code>np.array([1,2,3,0,0])</code>, and input <code>b</code> would return <code>np.array([1,2,3,4,5])</code>.</p>\n\n<p>I feel like I ought to be able to use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.pad.html\" rel=\"noreferrer\"><code>np.pad</code></a>, but I can't seem to follow the documentation.</p>\n"}, {"tags": ["python", "pygtk", "glade"], "owner": {"reputation": 8392, "user_id": 78912, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/482a09a1d3540beaa18993d358753a34?s=128&d=identicon&r=PG", "display_name": "mariotomo", "link": "https://stackoverflow.com/users/78912/mariotomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440023887, "creation_date": 1440023887, "question_id": 32106765, "link": "https://stackoverflow.com/questions/32106765/how-to-retrieve-the-name-of-a-gtk-textbuffer", "title": "how to retrieve the name of a Gtk.TextBuffer", "body": "<p>I am using python and pygtk. the interface is described in a glade file. I am programming a generic MPV interface, as generic as I can possibly make it.</p>\n\n<p>I am associating widgets in the glade file to fields in the model, and I would not like to subclass the parent presenter class. I want to retrieve the name of a textbuffer widget, declared in the glade file:</p>\n\n<pre><code>&lt;object class=\"GtkTextBuffer\" id=\"tag_desc_textbuffer\"&gt;\n  &lt;signal name=\"changed\" handler=\"on_textbuffer_changed\" swapped=\"no\"/&gt;\n&lt;/object&gt;\n</code></pre>\n\n<p>in my <em>generic</em> <code>on_textbuffer_changed</code> I receive the text buffer instance as a parameter, but how do I get its name?</p>\n\n<p>now I know that you cannot use the field <code>name</code> of any widget in order to get its <code>name</code>, you need to use a static function like this: <code>gtk.Buildable.get_name(widget)</code>.</p>\n\n<p>if I try to do this for <code>gtk.TextBuffer</code>, I get this error:</p>\n\n<p><code>TypeError: descriptor 'get_name' requires a 'gtk.Buildable' object but received a 'gtk.TextBuffer'</code></p>\n\n<p>the <code>gtk.TextBuffer</code> does not even know of <code>id</code> nor <code>name</code>.</p>\n\n<pre><code>AttributeError: 'gtk.TextBuffer' object has no attribute 'name'\nAttributeError: 'gtk.TextBuffer' object has no attribute 'id'\n</code></pre>\n\n<p>any hints?</p>\n\n<p>I suppose I'm going to write a <em>dedicated</em> handler where the name of the widget is already known. </p>\n\n<pre><code>def on_tag_desc_textbuffer_changed(self, widget, value=None):\n    return GenericEditorPresenter.on_textbuffer_changed(\n        self, widget, value, attr='description')\n</code></pre>\n\n<p>I do not like the idea because the minimally subclassed presenter already associates all view.widget_name \u2192 model.field_name, including 'tag_desc_textbuffer' to 'description'. I don't like having this information repeated...</p>\n"}, {"tags": ["python", "json", "yajl"], "comments": [{"owner": {"reputation": 103, "user_id": 3610016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c9b1bafcab79954fb9ce838ab3ef6737?s=128&d=identicon&r=PG&f=1", "display_name": "cgnx", "link": "https://stackoverflow.com/users/3610016/cgnx"}, "edited": false, "score": 0, "creation_date": 1450885160, "post_id": 32106754, "comment_id": 56618933, "body": "hello, have you found solution to this problem? I am having exactly same problem as you do."}, {"owner": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "reply_to_user": {"reputation": 103, "user_id": 3610016, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c9b1bafcab79954fb9ce838ab3ef6737?s=128&d=identicon&r=PG&f=1", "display_name": "cgnx", "link": "https://stackoverflow.com/users/3610016/cgnx"}, "edited": false, "score": 0, "creation_date": 1451149108, "post_id": 32106754, "comment_id": 56688062, "body": "I believe the issue is that there is problems with this package. I recommend using a package that can work with the file as a stream."}], "answers": [{"tags": [], "owner": {"reputation": 2476, "user_id": 312067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc6d2132ca2e178cba31998f15aa9e2?s=128&d=identicon&r=PG", "display_name": "Jon Ander Ortiz Dur&#225;ntez", "link": "https://stackoverflow.com/users/312067/jon-ander-ortiz-dur%c3%a1ntez"}, "is_accepted": false, "score": 0, "last_activity_date": 1456843043, "creation_date": 1456843043, "answer_id": 35725725, "question_id": 32106754, "link": "https://stackoverflow.com/questions/32106754/cannot-import-jsonstreamer-cannot-pip-install-yajl-py/35725725#35725725", "title": "Cannot import jsonstreamer / cannot pip install yajl-py", "body": "<p>I had the same problem, it's fixed installing git on the machine: there is a dependency for it in pip3 scripts.</p>\n\n<p>The key was on the log, you can see how a git subprocess is executed:</p>\n\n<pre><code>Running setup.py (path:/tmp/pip-build-01hs0gev/yajl/setup.py) egg_info for package yajl\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 17, in &lt;module&gt;\n  File \"/tmp/pip-build-01hs0gev/yajl/setup.py\", line 64, in &lt;module&gt;\n    subprocess.call(['git', 'submodule', 'update',])\n  File \"/usr/lib/python3.4/subprocess.py\", line 537, in call\n    with Popen(*popenargs, **kwargs) as p:\n  File \"/usr/lib/python3.4/subprocess.py\", line 859, in __init__\n    restore_signals, start_new_session)\n  File \"/usr/lib/python3.4/subprocess.py\", line 1457, in _execute_child\n    raise child_exception_type(errno_num, err_msg)\nFileNotFoundError: [Errno 2] No such file or directory: 'git'\n</code></pre>\n"}], "owner": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 793, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1456843043, "creation_date": 1440023761, "question_id": 32106754, "link": "https://stackoverflow.com/questions/32106754/cannot-import-jsonstreamer-cannot-pip-install-yajl-py", "title": "Cannot import jsonstreamer / cannot pip install yajl-py", "body": "<p>I'm trying to use JSON streamer to parse a large 11gb JSON file. JSONstreamer appears to be the only package that streams the file without having to load the entire file into memory first.</p>\n\n<p>When I try to import jsonstreamer in python I get this error.</p>\n\n<pre><code>OSError: Yajl cannot be found.\n</code></pre>\n\n<p>When I try to pip install yajl I get this error:</p>\n\n<pre><code>File \"C:\\Python34\\lib\\subprocess.py\", line 1112, in _execute_child startupinfo)\nFileNotFoundError: [WinError 2] The system cannot find the file specified\n</code></pre>\n\n<p>However all there files are there</p>\n\n<p>I downloaded the yajl.dll file from their webpage and added it into my C:\\Windows\\SysWOW64 dir.</p>\n\n<p>Don't really have any ideas how to proceed because it seems like I am stuck.</p>\n"}, {"tags": ["python", "windows", "typeerror", "nonetype"], "comments": [{"owner": {"reputation": 203, "user_id": 4192335, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a81e79b66981295af97b3f4aa16410a?s=128&d=identicon&r=PG&f=1", "display_name": "CFNZ_Techie", "link": "https://stackoverflow.com/users/4192335/cfnz-techie"}, "edited": false, "score": 0, "creation_date": 1440023563, "post_id": 32106709, "comment_id": 52107929, "body": "@Cyphase if you have any advice please feel free to let me know :)"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1440023572, "post_id": 32106709, "comment_id": 52107933, "body": "<code>folderPath.get()</code> returned <code>None</code>, is all."}, {"owner": {"reputation": 203, "user_id": 4192335, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a81e79b66981295af97b3f4aa16410a?s=128&d=identicon&r=PG&f=1", "display_name": "CFNZ_Techie", "link": "https://stackoverflow.com/users/4192335/cfnz-techie"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1440023748, "post_id": 32106709, "comment_id": 52107973, "body": "@MartijnPieters How can I divert that then? Because folder.path is passed parameters via tkinker that actually uses the path to move these files.  Which means &quot;none&quot; is not true because it has a path"}, {"owner": {"reputation": 3467, "user_id": 2958455, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4bf81a9aa9aa3619f1197c901f079268?s=128&d=identicon&r=PG", "display_name": "Jared Mackey", "link": "https://stackoverflow.com/users/2958455/jared-mackey"}, "edited": false, "score": 0, "creation_date": 1440023945, "post_id": 32106709, "comment_id": 52108034, "body": "Have you tried a simple <code>if not filename: continue</code> right before you assign the from path? Also, checking for None for the directory would be good too."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 4192335, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a81e79b66981295af97b3f4aa16410a?s=128&d=identicon&r=PG&f=1", "display_name": "CFNZ_Techie", "link": "https://stackoverflow.com/users/4192335/cfnz-techie"}, "edited": false, "score": 0, "creation_date": 1440027679, "post_id": 32106896, "comment_id": 52109022, "body": "That was my thoughts too didn&#39;t know how to go about fixing it. thanks bro!"}, {"owner": {"reputation": 203, "user_id": 4192335, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a81e79b66981295af97b3f4aa16410a?s=128&d=identicon&r=PG&f=1", "display_name": "CFNZ_Techie", "link": "https://stackoverflow.com/users/4192335/cfnz-techie"}, "edited": false, "score": 0, "creation_date": 1440028827, "post_id": 32106896, "comment_id": 52109344, "body": "Shot dude - worked like a charm! - had to add &quot;import itertools&quot; too my code as well but worked perfectly after :)"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 203, "user_id": 4192335, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a81e79b66981295af97b3f4aa16410a?s=128&d=identicon&r=PG&f=1", "display_name": "CFNZ_Techie", "link": "https://stackoverflow.com/users/4192335/cfnz-techie"}, "edited": false, "score": 0, "creation_date": 1440028947, "post_id": 32106896, "comment_id": 52109384, "body": "@CFNZ_Techie, whoops, forgot to mention that; but that was the reason I did <code>itertools.takewhile</code>, not just <code>takewhile</code> :)."}], "tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": true, "score": 1, "last_activity_date": 1440028995, "last_edit_date": 1440028995, "creation_date": 1440024658, "answer_id": 32106896, "question_id": 32106709, "link": "https://stackoverflow.com/questions/32106709/typeerror-nonetype-when-using-return-zip-longest/32106896#32106896", "title": "TypeError: NoneType - When using return zip_longest", "body": "<p>The problem is that the number of files is not a multiple of <code>images_per_dir</code>, so the last group of <code>images_per_dir</code> images is padded with <code>None</code>'s. Add this <code>trim_grouper()</code> function to your code to take care of that:</p>\n\n<pre><code>from itertools import takewhile\n\ndef trim_grouper(iterable, n, fillvalue=None):\n    for group in grouper(iterable, n, fillvalue=fillvalue):\n        yield tuple(takewhile((lambda x: x), group))\n</code></pre>\n\n<p>Then in <code>confirm_it()</code>, replace:</p>\n\n<pre><code>grouped_image_file_names = grouper(valid_images, images_per_dir)\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>grouped_image_file_names = trim_grouper(valid_images, images_per_dir)\n</code></pre>\n\n<p>That should do it.</p>\n"}], "owner": {"reputation": 203, "user_id": 4192335, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7a81e79b66981295af97b3f4aa16410a?s=128&d=identicon&r=PG&f=1", "display_name": "CFNZ_Techie", "link": "https://stackoverflow.com/users/4192335/cfnz-techie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 721, "favorite_count": 0, "accepted_answer_id": 32106896, "answer_count": 1, "score": 0, "last_activity_date": 1440028995, "creation_date": 1440023441, "question_id": 32106709, "link": "https://stackoverflow.com/questions/32106709/typeerror-nonetype-when-using-return-zip-longest", "title": "TypeError: NoneType - When using return zip_longest", "body": "<p>I am getting a type error for NoneType at the moment this is (I assume when I am trying to return a value in a function for zip_longest)</p>\n\n<p>The objective of my code is to remove image files that are smaller the \"width = 400 AND height = 400\" and then placing all remaining images into folders of x value (where x can be changed later on).  Currently the code seems to work but I get the issue I mentioned and would like to prevent that error.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code># ======== grouper('ABCDEFG', 3, 'x') --&gt; ABC DEF Gxx:\ndef grouper(iterable, n, fillvalue=None):\n    \"Collect data into fixed-length chunks or blocks\"\n    # grouper('ABCDEFG', 3, 'x') --&gt; ABC DEF Gxx\"\n    args = [iter(iterable)] * n\n    print(fillvalue)\n    return zip_longest(*args, fillvalue=fillvalue)\n\n\ndef makedirs(d):\n    try:\n        os.makedirs(d)\n    except OSError as e:\n        # If the file already exists, and is a directory\n        if e.errno == errno.EEXIST and os.path.isdir(d):\n            created = False\n        # It's some other error, or the existing file is not a directory\n        else:\n            raise\n    else:\n        created = True\n\n    return created\n\n\ndef get_valid_filenames(directory, extensions):\n    for filename in os.listdir(directory):\n        if filename.lower().endswith(extensions):\n            yield filename\n\n\ndef get_too_small_image_filenames(directory, extensions=DEFAULT_IMAGE_EXTS,\n                                  min_width=400, min_height=400):\n    for filename in get_valid_filenames(directory, extensions):\n        image_path = os.path.join(directory, filename)\n        try:\n            with open(image_path, 'rb') as filehandle:\n                img = Image.open(filehandle)\n                width, height = img.size\n        except IOError, e:\n                yield filename\n\n        if (width &lt; min_width) and (height &lt; min_height):\n            yield filename\n\n\ndef confirm_it(directory, extensions, images_per_dir=500):\n    # Confirm selection and move files to new sub-directory\n\n        for too_small_filename in get_too_small_image_filenames(directory):\n            os.remove(os.path.join(directory, too_small_filename))\n\n        valid_images = get_valid_filenames(directory, extensions)\n        grouped_image_file_names = grouper(valid_images, images_per_dir)\n        for subdir, image_filenames in enumerate(grouped_image_file_names):\n            for filename in image_filenames:\n                from_path = os.path.join(directory, filename)\n\n                to_dir = os.path.join(directory, \"Folder (\"+str(subdir)+\")\")\n                to_path = os.path.join(to_dir, filename)\n\n                makedirs(to_dir)\n                os.rename(from_path, to_path)\n\n\ndef confirm_it_wrapper():\n    confirm_it(directory=folderPath.get(), extensions=extensions)\n</code></pre>\n\n<p><strong>Traceback:</strong></p>\n\n<pre><code>Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\lib-tk\\Tkinter.py\", line 1486, in __call__\n    return self.func(*args)\n  File \"C:\\Users\\Gavin\\workspace\\Test Projects\\src\\Test0.py\", line 109, in confirm_it_wrapper\n    confirm_it(directory=folderPath.get(), extensions=extensions)\n  File \"C:\\Users\\Gavin\\workspace\\Test Projects\\src\\Test0.py\", line 99, in confirm_it\n    from_path = os.path.join(directory, filename)\n  File \"C:\\Python27\\lib\\ntpath.py\", line 66, in join\n    p_drive, p_path = splitdrive(p)\n  File \"C:\\Python27\\lib\\ntpath.py\", line 114, in splitdrive\n    if len(p) &gt; 1:\nTypeError: object of type 'NoneType' has no len()\n</code></pre>\n\n<p><strong>Extra Information:</strong></p>\n\n<p>As mentioned I believe it comes from the a function returning the \"zip_longest\" parameters where fillvalue is set to \"None\" in the creation. Any way around this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 450, "user_id": 4244009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHSCn.jpg?s=128&g=1", "display_name": "Babajide Fowotade", "link": "https://stackoverflow.com/users/4244009/babajide-fowotade"}, "edited": false, "score": 0, "creation_date": 1440023489, "post_id": 32106656, "comment_id": 52107907, "body": "debugging tips: 1. can you try to Jsonify() the results, 2. also first try after the for loop {{result}} and what do you get?."}, {"owner": {"reputation": 450, "user_id": 4244009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHSCn.jpg?s=128&g=1", "display_name": "Babajide Fowotade", "link": "https://stackoverflow.com/users/4244009/babajide-fowotade"}, "edited": false, "score": 0, "creation_date": 1440024847, "post_id": 32106656, "comment_id": 52108302, "body": "can you check your requirements.txt file to see if you have Jinja?"}, {"owner": {"reputation": 387, "user_id": 4472313, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/xhNmO.jpg?s=128&g=1", "display_name": "Chandler Squires", "link": "https://stackoverflow.com/users/4472313/chandler-squires"}, "reply_to_user": {"reputation": 450, "user_id": 4244009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHSCn.jpg?s=128&g=1", "display_name": "Babajide Fowotade", "link": "https://stackoverflow.com/users/4244009/babajide-fowotade"}, "edited": false, "score": 0, "creation_date": 1440025191, "post_id": 32106656, "comment_id": 52108379, "body": "As I was testing I realized none of the templating language was actually being executed; I added <code>text = &quot;hi&quot;</code> to the render_template attributes and <code>{{ text }}</code> in one of my elements and it didn&#39;t appear"}, {"owner": {"reputation": 387, "user_id": 4472313, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/xhNmO.jpg?s=128&g=1", "display_name": "Chandler Squires", "link": "https://stackoverflow.com/users/4472313/chandler-squires"}, "reply_to_user": {"reputation": 450, "user_id": 4244009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHSCn.jpg?s=128&g=1", "display_name": "Babajide Fowotade", "link": "https://stackoverflow.com/users/4244009/babajide-fowotade"}, "edited": false, "score": 0, "creation_date": 1440025313, "post_id": 32106656, "comment_id": 52108409, "body": "However, the templating does appear on some of my other returns, such as my default one (if no other returns are successful it does <code>render_template(&#39;index.html&#39;, text=&#39;unchanged&#39;)</code>, and I saw the &quot;unchanged&quot; appear. So I&#39;m pretty sure I have Jinja"}, {"owner": {"reputation": 450, "user_id": 4244009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHSCn.jpg?s=128&g=1", "display_name": "Babajide Fowotade", "link": "https://stackoverflow.com/users/4244009/babajide-fowotade"}, "edited": false, "score": 0, "creation_date": 1440025477, "post_id": 32106656, "comment_id": 52108447, "body": "okay instead of assigning a new dict to the values in resultData, how about if you return just result to the template"}, {"owner": {"reputation": 387, "user_id": 4472313, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/xhNmO.jpg?s=128&g=1", "display_name": "Chandler Squires", "link": "https://stackoverflow.com/users/4472313/chandler-squires"}, "reply_to_user": {"reputation": 450, "user_id": 4244009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHSCn.jpg?s=128&g=1", "display_name": "Babajide Fowotade", "link": "https://stackoverflow.com/users/4244009/babajide-fowotade"}, "edited": false, "score": 0, "creation_date": 1440025672, "post_id": 32106656, "comment_id": 52108499, "body": "Also unsuccessful. I may work around it by sending my response to my success function in jQuery and having jQuery create the table, but it seems like something that should be feasible, even easy, using jinja"}], "answers": [{"tags": [], "owner": {"reputation": 2996, "user_id": 6085135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lHKnG.png?s=128&g=1", "display_name": "brennan", "link": "https://stackoverflow.com/users/6085135/brennan"}, "is_accepted": false, "score": 0, "last_activity_date": 1490755161, "last_edit_date": 1490755161, "creation_date": 1490747467, "answer_id": 43082234, "question_id": 32106656, "link": "https://stackoverflow.com/questions/32106656/how-to-create-table-that-displays-attributes-of-objects-using-flask/43082234#43082234", "title": "How to create table that displays attributes of objects using Flask", "body": "<p>Here's a quick example for serving up an html table from some nested data. As suggested, there's also an extra endpoint with jsonify data for debugging.</p>\n\n<p><strong>app.py</strong></p>\n\n<pre><code>from flask import Flask, render_template, jsonify\nimport namedtupled as nt  # for debugging \n\napp = Flask(__name__)\n\n# set up some fake data\nfoo = { 'system_name': 'foo', 'system_description': 'bar',\n        'tags': [{'tag_name': 'happy'}, {'tag_name': 'cat'}],\n        'system_date_created': 'today', 'system_hits': 100 }\nfuu = { 'system_name': 'fuu', 'system_description': 'bor',\n        'tags': [{'tag_name': 'cute'}, {'tag_name': 'puppy'}],\n        'system_date_created': 'yesterday', 'system_hits': 99 }\n\n# make fake data classy so it fits your example\nresults = [nt.map(foo), nt.map(fuu)]  \n\ndef refine_results(results):\n    \"\"\" Refine some search results. \"\"\"\n    # something here, maybe a request for search results\n    data = []\n    for result in results:\n        resultData = {'system_name': result.system_name,\n                      'system_description': result.system_description,\n                      'system_tags': [tag.tag_name for tag in result.tags],\n                      'system_date_created': result.system_date_created,\n                      'system_hits': result.system_hits}\n        data.append(resultData)\n    return data\n\n@app.route('/json')\ndef data():\n    \"\"\" Extra endpoint for debugging expected data. \"\"\"\n    searchResults = refine_results(results)\n    return jsonify(searchResults)\n\n@app.route('/table')\ndef table():\n    \"\"\" html table with data \"\"\"\n    searchResults = refine_results(results)\n    return render_template('index.html', searchResults=searchResults)\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;table&gt;\n  &lt;tr&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n    &lt;th&gt;Description&lt;/th&gt;\n    &lt;th&gt;Tags&lt;/th&gt;\n    &lt;th&gt;Date Created&lt;/th&gt;\n    &lt;th&gt;Views&lt;/th&gt;\n  &lt;/tr&gt;\n  {% for result in searchResults %}\n      &lt;tr&gt;\n        &lt;td&gt;{{ result.system_name }}&lt;/td&gt;\n        &lt;td&gt;{{ result.system_description }}&lt;/td&gt;\n        &lt;td&gt;\n          {% for tag in result.system_tags %}\n            {{tag}}\n          {% endfor %}\n        &lt;/td&gt;\n        &lt;td&gt;{{ result.system_date_created }}&lt;/td&gt;\n        &lt;td&gt;{{ result.system_hits }}&lt;/td&gt;\n      &lt;/tr&gt;\n  {% endfor %}\n&lt;/table&gt;\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 4472313, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/xhNmO.jpg?s=128&g=1", "display_name": "Chandler Squires", "link": "https://stackoverflow.com/users/4472313/chandler-squires"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1083, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1490755161, "creation_date": 1440023136, "question_id": 32106656, "link": "https://stackoverflow.com/questions/32106656/how-to-create-table-that-displays-attributes-of-objects-using-flask", "title": "How to create table that displays attributes of objects using Flask", "body": "<p>I'm trying to make a search that displays results from a SQLAlchemy database query to my users. However, it seems as though what's being returned is an empty list - the table has a header but not other rows. I've checked to make sure I'm getting results, so I don't know what's going wrong. I've tried sending the data in it's original form and as a list of dictionaries but still haven't had any luck. Any insights?</p>\n\n<pre><code>for result in results:\n    resultData = {'system_name':result.system_name,'system_description':result.system_description,'system_tags':[tag.tag_name for tag in result.tags],'system_date_created':result.system_date_created,'system_hits':result.system_hits}\n    response.append(resultData)\nprint response\nreturn render_template('index.html', searchResults=response)\n</code></pre>\n\n<h2>index.html</h2>\n\n<pre><code>&lt;table class='table table-hover'&gt;\n&lt;tr&gt;\n&lt;th&gt;Name&lt;/th&gt;\n&lt;th&gt;Description&lt;/th&gt;\n&lt;th&gt;Tags&lt;/th&gt;\n&lt;th&gt;Date Created&lt;/th&gt;\n&lt;th&gt;Views&lt;/th&gt;\n&lt;/tr&gt;\n{% for result in searchResults %}\n    &lt;tr&gt;\n    &lt;td&gt;{{ result.system_name }}&lt;/td&gt;\n    &lt;td&gt;{{ result.system_description }}&lt;/td&gt;\n    &lt;td&gt;Tags&lt;/td&gt;\n    &lt;td&gt;{{ result.system_date_created }}&lt;/td&gt;\n    &lt;td&gt;{{ result.system_hits }}&lt;/td&gt;\n    &lt;/tr&gt;\n{% endfor %}\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "3d", "anaconda"], "comments": [{"owner": {"reputation": 2992, "user_id": 1093485, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/13944a2e637dddd468be2ce184a8bab5?s=128&d=identicon&r=PG", "display_name": "Bas Jansen", "link": "https://stackoverflow.com/users/1093485/bas-jansen"}, "edited": false, "score": 0, "creation_date": 1440061943, "post_id": 32106646, "comment_id": 52121119, "body": "I would actually have no idea where to begin with this but maybe there is something in the <code>mayavi</code> library?"}], "answers": [{"tags": [], "owner": {"reputation": 10567, "user_id": 4680533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tee8v.jpg?s=128&g=1", "display_name": "Ed Smith", "link": "https://stackoverflow.com/users/4680533/ed-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1440092734, "creation_date": 1440092734, "answer_id": 32124925, "question_id": 32106646, "link": "https://stackoverflow.com/questions/32106646/3d-gridded-plots-in-python/32124925#32124925", "title": "3D Gridded Plots in Python", "body": "<p>As noted by @Bas Jansen, you can do this with mayavi as follows,</p>\n\n<pre><code>import mayavi.mlab as mlab\nimport numpy as np\n\nncubes = 12\nx = np.arange(0,ncubes)\ny = np.arange(0,ncubes)\nz = np.arange(0,ncubes)\nvalue = np.arange(0,ncubes)\nmlab.points3d(x, y, z, value, mode='cube',scale_mode='none', scale_factor=1.0)\n\nmlab.show()\n</code></pre>\n\n<p>You may need to open the script with <code>ipython --pylab=qt</code> so the window persists. The resulting figure is,</p>\n\n<p><a href=\"https://i.stack.imgur.com/Jeehw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jeehw.png\" alt=\"enter image description here\"></a></p>\n\n<p>You could do this in <code>matplotlib</code>, probably using patch objects to build up a cube and colour the patches as needed, however for 3D plotting, <code>mayavi</code> is generally easier/better.</p>\n"}], "owner": {"reputation": 5657, "user_id": 1287593, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/769e943de03a0b9ff6602a4b4abfbe1d?s=128&d=identicon&r=PG", "display_name": "theJollySin", "link": "https://stackoverflow.com/users/1287593/thejollysin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 32124925, "answer_count": 1, "score": 2, "last_activity_date": 1569815600, "creation_date": 1440023071, "last_edit_date": 1592644375, "question_id": 32106646, "link": "https://stackoverflow.com/questions/32106646/3d-gridded-plots-in-python", "title": "3D Gridded Plots in Python", "body": "<p>I am looking for a library. I have 3D gridded data that I want to plot using Python. When I want to plot 2D gridded data I use matplotlib's <code>matshow</code>:</p>\n<pre><code>from matplotlib.pylab import matshow, show\nmatshow(some_data)\nshow()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HruAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HruAH.png\" alt=\"matshow example\" /></a></p>\n<p>But now I have a 3D version of this sort of raster data, and I want to be able to plot boxes (cubes) stacked in 3D space. Ideally, this would be solvable using matplotlib but my guess is the solution will be in a different library (hopefully, something in Anaconda).</p>\n"}, {"tags": ["python", "dynamic-programming"], "answers": [{"comments": [{"owner": {"reputation": 8205, "user_id": 343381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc2eb941a18d6597d27a0b5e74906a7c?s=128&d=identicon&r=PG", "display_name": "Adam S", "link": "https://stackoverflow.com/users/343381/adam-s"}, "edited": false, "score": 0, "creation_date": 1440048560, "post_id": 32107027, "comment_id": 52114033, "body": "Thank you for your answer.  The best way to show someone wrong is always to produce a pathological case.  I appreciate it!"}, {"owner": {"reputation": 403, "user_id": 3254382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2861c3b2b7ade778addda8978c351a?s=128&d=identicon&r=PG&f=1", "display_name": "Ozan Bellik", "link": "https://stackoverflow.com/users/3254382/ozan-bellik"}, "reply_to_user": {"reputation": 8205, "user_id": 343381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc2eb941a18d6597d27a0b5e74906a7c?s=128&d=identicon&r=PG", "display_name": "Adam S", "link": "https://stackoverflow.com/users/343381/adam-s"}, "edited": false, "score": 0, "creation_date": 1440112857, "post_id": 32107027, "comment_id": 52150930, "body": "That is a very pleasant and gracious response. <i>tips hat</i>"}], "tags": [], "owner": {"reputation": 403, "user_id": 3254382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f2861c3b2b7ade778addda8978c351a?s=128&d=identicon&r=PG&f=1", "display_name": "Ozan Bellik", "link": "https://stackoverflow.com/users/3254382/ozan-bellik"}, "is_accepted": true, "score": 2, "last_activity_date": 1440025446, "creation_date": 1440025446, "answer_id": 32107027, "question_id": 32106608, "link": "https://stackoverflow.com/questions/32106608/why-does-word-segmentation-require-dynamic-programming/32107027#32107027", "title": "Why does word segmentation require dynamic programming?", "body": "<ol>\n<li>(adverbqqqqqqqqqqq)</li>\n<li>ad,verb,(qqqqqqqqqqq)</li>\n<li>adverb,(qqqqqqqqqqq)</li>\n</ol>\n\n<p>There will be two getwords('adverbqqqqqqqqqqq', 6) calls, no?</p>\n\n<p>And it'll get really nasty if you have something like:</p>\n\n<p>adverbhamstringadverbhamstring...adverbhamstringhorsepowerqqq</p>\n"}, {"tags": [], "owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "is_accepted": false, "score": 1, "last_activity_date": 1440028021, "creation_date": 1440028021, "answer_id": 32107434, "question_id": 32106608, "link": "https://stackoverflow.com/questions/32106608/why-does-word-segmentation-require-dynamic-programming/32107434#32107434", "title": "Why does word segmentation require dynamic programming?", "body": "<p>As far as I understand it, if you have a word <code>w</code> with <code>n</code> letters, and there are <code>k</code> valid word combinations in <code>w[0:n-1]</code> (i.e. <code>w[0:n-1]</code> can be split into valid words, in different places, <code>k</code> times), you will look for <code>w[n]</code> in the dictionary <code>k</code> times (assuming <code>w[n]</code> is not a valid word, of course). This is what ozangds showed in his answer.</p>\n\n<p>With the dynamic programming approach, since you only keep track of the index before which the string is valid (can be split into words), you will only look for <code>w(n)</code> one time.</p>\n\n<p>Look for TulsiRam's and geekyandgirly's comments in the link you posted, they help understand both sides of the problem.</p>\n"}], "owner": {"reputation": 8205, "user_id": 343381, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fc2eb941a18d6597d27a0b5e74906a7c?s=128&d=identicon&r=PG", "display_name": "Adam S", "link": "https://stackoverflow.com/users/343381/adam-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "accepted_answer_id": 32107027, "answer_count": 2, "score": 1, "last_activity_date": 1440028021, "creation_date": 1440022909, "question_id": 32106608, "link": "https://stackoverflow.com/questions/32106608/why-does-word-segmentation-require-dynamic-programming", "title": "Why does word segmentation require dynamic programming?", "body": "<p>I am referring to this problem:</p>\n\n<blockquote>\n  <p>Given a dictionary, i.e., a set of strings, and a string s, design an\n  efficient algorithm that checks whether s is the concatenation of a\n  sequence of dictionary words. If such a concatenation exists, your\n  algorithm should output it.</p>\n</blockquote>\n\n<p>Here's how I solved it, without using DP:</p>\n\n<pre><code>def getwords(s, start = 0):\n  # Find a valid word as a prefix, and try to made the rest work\n  for i in range(start + 1, len(s) + 1):\n    prefix = s[start:i]\n    if isind(prefix):\n      # We used the whole thing, but it's a word!\n      if i == len(s):\n        return [prefix]\n      words = getwords(s, i)\n      if words:\n        return [prefix] + words\n\n  # We made it to the end without finding a word configuration\n  return False\n</code></pre>\n\n<p>A DP algorithm is documented <a href=\"http://www.geeksforgeeks.org/dynamic-programming-set-32-word-break-problem/\" rel=\"nofollow\">here</a>, and in the book \"Elements of Programming Interviews\".  My question is: <strong><em>Why?</em></strong></p>\n\n<p>I cannot find any instance where my non-DP solution is re-computing the same subproblems.  Can anyone explain why this algorithm is inferior to the DP algorithm?</p>\n"}, {"tags": ["python", "easy-install", "python-pbr"], "answers": [{"comments": [{"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 0, "creation_date": 1440023083, "post_id": 32106613, "comment_id": 52107781, "body": "yep, somehow I forgot that step :("}, {"owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "edited": false, "score": 1, "creation_date": 1440023147, "post_id": 32106613, "comment_id": 52107805, "body": "Sure, need to wait for a timer :P"}], "tags": [], "owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "is_accepted": true, "score": 1, "last_activity_date": 1440022930, "creation_date": 1440022930, "answer_id": 32106613, "question_id": 32106584, "link": "https://stackoverflow.com/questions/32106584/python-setup-py-install-already-installed-a-package-why-is-it-searching-pypi/32106613#32106613", "title": "python setup.py install - already installed a package, why is it searching pypi to install it?", "body": "<p>You have just built <code>pbr</code>, you should install it:</p>\n\n<pre><code>python setup.py install\n</code></pre>\n"}], "owner": {"reputation": 2103, "user_id": 1157751, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/9be49b9db792033fcc86542bd36e8818?s=128&d=identicon&r=PG", "display_name": "user1157751", "link": "https://stackoverflow.com/users/1157751/user1157751"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3416, "favorite_count": 0, "accepted_answer_id": 32106613, "answer_count": 1, "score": 1, "last_activity_date": 1478949439, "creation_date": 1440022762, "last_edit_date": 1478949439, "question_id": 32106584, "link": "https://stackoverflow.com/questions/32106584/python-setup-py-install-already-installed-a-package-why-is-it-searching-pypi", "title": "python setup.py install - already installed a package, why is it searching pypi to install it?", "body": "<p>I'm trying to install linecache2, which has a pre-requisite of pbr.</p>\n\n<p>I went to pypi, and installed pbr by downloading and running setup.py build since I'm behind a firewall:</p>\n\n<pre><code>    cd   C:\\Users\\&lt;user_name&gt;\\Downloads\\pbr-1.5.0\\pbr-1.5.0\n    python setup.py build\n</code></pre>\n\n<p>Then I went to linecache, and tried to install it using the same method:</p>\n\n<pre><code>    cd C:\\Users\\&lt;user_name&gt;\\Downloads\\linecache2-1.0.0\\linecache2-1.0.0\n    python setup.py build\n</code></pre>\n\n<p>However, it outputs:</p>\n\n<pre><code>Download error on https://pypi.python.org/simple/pbr/: timed out -- Some packages may not be found!\nCouldn't find index page for 'pbr' (maybe misspelled?)\nDownload error on https://pypi.python.org/simple/: timed out -- Some packages may not be found!\nNo local packages or download links found for pbr\nTraceback (most recent call last):\n  File \"setup.py\", line 5, in &lt;module&gt;\n    pbr=True)\n  File \"C:\\Python27\\lib\\distutils\\core.py\", line 111, in setup\n    _setup_distribution = dist = klass(attrs)\n  File \"C:\\Python27\\lib\\site-packages\\setuptools\\dist.py\", line 268, in __init__\n    self.fetch_build_eggs(attrs['setup_requires'])\n  File \"C:\\Python27\\lib\\site-packages\\setuptools\\dist.py\", line 313, in fetch_build_eggs\n    replace_conflicting=True,\n  File \"C:\\Python27\\lib\\site-packages\\pkg_resources\\__init__.py\", line 830, in resolve\n    dist = best[req.key] = env.best_match(req, ws, installer)\n  File \"C:\\Python27\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1075, in best_match\n    return self.obtain(req, installer)\n  File \"C:\\Python27\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1087, in obtain\n    return installer(requirement)\n  File \"C:\\Python27\\lib\\site-packages\\setuptools\\dist.py\", line 380, in fetch_build_egg\n    return cmd.easy_install(req)\n  File \"C:\\Python27\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 623, in easy_install\n    raise DistutilsError(msg)\ndistutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pbr')\n</code></pre>\n\n<p>Since I already have pbr, why is it trying to go look for pbr?</p>\n\n<p>Any help is greatly appreciated! Thanks!</p>\n"}, {"tags": ["python", "pytest"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1440022860, "post_id": 32106500, "comment_id": 52107710, "body": "Are the <code>return</code> statements in your decorator correct? They look to be at least indented wrong, and the inner one is probably supposed to be <code>return base_class</code> instead of <code>return module</code>. Also, which version of Python are you using (2 or 3)?"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1440045090, "post_id": 32106500, "comment_id": 52113092, "body": "Having a <code>return</code> statement at top level is going to be a <code>SyntaxError</code>, so I can&#39;t imagine you&#39;ve actually fixed it properly. Also, returning <code>module</code> will result in <code>BaseTest</code> being a dictionary, rather than a type, so you won&#39;t be able to subclass it in other code at all."}, {"owner": {"reputation": 1, "user_id": 5245059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eefc88c081f950ff01a990cc273e5062?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Cheung", "link": "https://stackoverflow.com/users/5245059/raymond-cheung"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1440114960, "post_id": 32106500, "comment_id": 52151472, "body": "You&#39;re right, I still didn&#39;t get the edit right.  But your comment does explain some behavior I didn&#39;t understand.  Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 0, "last_activity_date": 1440027920, "creation_date": 1440027920, "answer_id": 32107415, "question_id": 32106500, "link": "https://stackoverflow.com/questions/32106500/need-python-class-decorator-of-parent-to-run-when-class-is-inherited/32107415#32107415", "title": "Need python class decorator of parent to run when class is inherited", "body": "<p>I think you want to use a metaclass, rather than a decorator to create the extra versions of your <code>BaseClass</code>. The metaclass will be called to create any subclasses that are created by later code (while the decorator will not). This means you'll get copies of the subclasses automatically.</p>\n\n<pre><code>import sys\n\nbrowsers=['x','y','z']\n\nclass Meta(type):\n    def __new__(meta, name, bases, dct):\n        cls = type.__new__(meta, name, bases, dct)\n        mod_dct = sys.modules[cls.__module__].__dict__\n        if 'desired_capabilities' not in dct:\n            for i, platform in enumerate(cls.platforms):\n                sub_name = \"%s_%s\" % (name, i + 1)\n                sub_cls = meta(sub_name, (cls,), {'desired_capabilities': platform})\n                mod_dct[sub_name] = sub_cls\n        return cls\n\nclass BaseTest(metaclass=Meta):  # metaclass code will create BaseTest_1, BaseTest_2, ...\n    platforms = browsers\n    def setUp(self):\n        pass\n\nclass SubTest(BaseTest):  # metaclass code will create SubTest_1, SubTest_2, ...\n    pass\n</code></pre>\n\n<p>This uses Python 3 syntax for the metaclass. If you're using Python 2, inherit from <code>object</code> and use the <code>__metaclass__</code> class variable instead:</p>\n\n<pre><code>class BaseTest(object):\n    __metaclass__ = Meta\n    # ...\n</code></pre>\n\n<p>The <code>platforms</code> class attribute will be inherited by subclasses of <code>BaseTest</code> (though they can override it with their own list) and the metaclass will create the extra subclasses for them. The <code>if 'desired_capabilities' not in dct</code> test is needed to make sure the platform-specific subclasses the metaclass creates for you do not recursively get their own subclasses.</p>\n"}], "owner": {"reputation": 1, "user_id": 5245059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eefc88c081f950ff01a990cc273e5062?s=128&d=identicon&r=PG&f=1", "display_name": "Raymond Cheung", "link": "https://stackoverflow.com/users/5245059/raymond-cheung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440115014, "creation_date": 1440022369, "last_edit_date": 1440115014, "question_id": 32106500, "link": "https://stackoverflow.com/questions/32106500/need-python-class-decorator-of-parent-to-run-when-class-is-inherited", "title": "Need python class decorator of parent to run when class is inherited", "body": "<p>I'm working with an example from py.test(using xdist) that uses the unittest library.</p>\n\n<p>I have a class:</p>\n\n<pre><code>def on_platforms(platforms):\n    def decorator(base_class):\n        module = sys.modules[base_class.__module__].__dict__\n        for i, platform in enumerate(platforms):\n            d = dict(base_class.__dict__)\n            d['desired_capabilities'] = platform\n            name = \"%s_%s\" % (base_class.__name__, i + 1)\n        module[name] = new.classobj(name, (base_class,), d)\nreturn decorator\n\n@on_platforms(browsers)\nclass BaseTest:\n    def setUp(self):\n        pass\n</code></pre>\n\n<p>This contains common code that I need to run in all the test classes I will create.  In the files that contain actual tests to run I have:</p>\n\n<pre><code>from BaseTest.py import BaseTest\nclass FirstTest(BaseTest):\n    def test_to_run(self):\n        pass\n</code></pre>\n\n<p>Then I have a single main file which will import all the test classes and run them all when the main.py file is executed.</p>\n\n<p>main.py:\n    import unittest\n    from FirstTest.py import FirstTest</p>\n\n<pre><code>if __name__ == \"__main__\":\n    unittest.main()\n</code></pre>\n\n<p>Finally, I attempt to execute with:</p>\n\n<pre><code>py.test main.py -n3 --boxed\n</code></pre>\n\n<p>But what happens is it executes main.py succesfully but no tests are run.  Why aren't the test being run?  Thanks.</p>\n"}, {"tags": ["python", "csv", "soundcloud"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3549831, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/32808108/picture?type=large", "display_name": "ppadru1", "link": "https://stackoverflow.com/users/3549831/ppadru1"}, "edited": false, "score": 0, "creation_date": 1440029765, "post_id": 32106644, "comment_id": 52109551, "body": "Thanks!  How can I describe the format that this data object sits in?  So that I can understand how to convert the sub-sets of this object into CSV?"}], "tags": [], "owner": {"reputation": 26, "user_id": 5245089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ba91a0592ceabfde03f3751746d7ce1?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Menshenin", "link": "https://stackoverflow.com/users/5245089/ivan-menshenin"}, "is_accepted": false, "score": 0, "last_activity_date": 1440045080, "last_edit_date": 1440045080, "creation_date": 1440023067, "answer_id": 32106644, "question_id": 32106470, "link": "https://stackoverflow.com/questions/32106470/how-to-convert-soundcloud-api-responses-into-csv-in-python/32106644#32106644", "title": "How to Convert Soundcloud API Responses into CSV in Python?", "body": "<p>As any other object.</p>\n\n<pre><code>for favorite in favorites:\n    print dir(favorite)\n</code></pre>\n\n<p>There are many modules in the python world such as <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">csv module (python standard library)</a>.</p>\n\n<pre><code>import csv\nwith open('some.csv', 'wb') as f:\n    writer = csv.writer(f)\n    writer.writerows(someiterable)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 3549831, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/32808108/picture?type=large", "display_name": "ppadru1", "link": "https://stackoverflow.com/users/3549831/ppadru1"}, "edited": false, "score": 0, "creation_date": 1440029540, "post_id": 32107323, "comment_id": 52109508, "body": "Thanks!  So the data coming back from soundcloud, what format could you say it&#39;s in?  It&#39;s not JSON, right?  So I can&#39;t look at this from the perspective of converting JSON into CSV (unless I just straight hit up the API via HTTP) is that right?"}, {"owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "reply_to_user": {"reputation": 53, "user_id": 3549831, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/32808108/picture?type=large", "display_name": "ppadru1", "link": "https://stackoverflow.com/users/3549831/ppadru1"}, "edited": false, "score": 0, "creation_date": 1440030102, "post_id": 32107323, "comment_id": 52109616, "body": "If you look at the resource.py link, you&#39;ll see the code that translates the incoming request into the ResourceList.  The data coming back is indeed a JSON string, which is being converted to a dict() by the json module function <code>loads()</code> <a href=\"https://docs.python.org/2/library/json.html#json.loads\" rel=\"nofollow noreferrer\">ref</a>."}, {"owner": {"reputation": 53, "user_id": 3549831, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/32808108/picture?type=large", "display_name": "ppadru1", "link": "https://stackoverflow.com/users/3549831/ppadru1"}, "edited": false, "score": 0, "creation_date": 1440030738, "post_id": 32107323, "comment_id": 52109745, "body": "Ahh!  This is helpful!  I didn&#39;t think to look at the source of Soundcloud&#39;s wrapper!  Thanks, I&#39;ll take a deeper look :)"}], "tags": [], "owner": {"reputation": 5685, "user_id": 5240004, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j8eFV.jpg?s=128&g=1", "display_name": "theB", "link": "https://stackoverflow.com/users/5240004/theb"}, "is_accepted": false, "score": 1, "last_activity_date": 1440027346, "creation_date": 1440027346, "answer_id": 32107323, "question_id": 32106470, "link": "https://stackoverflow.com/questions/32106470/how-to-convert-soundcloud-api-responses-into-csv-in-python/32107323#32107323", "title": "How to Convert Soundcloud API Responses into CSV in Python?", "body": "<p>Assuming that you're using soundcloud-python you can use the <code>fields</code> method to get the internal dict or <code>keys</code> to just look at the available names.\nSource: <a href=\"https://github.com/soundcloud/soundcloud-python/blob/master/soundcloud/resource.py\" rel=\"nofollow\">resource.py</a></p>\n\n<p>As for the csv question, it would be helpful to have more information about what you've already tried, but you could use the csv module's <code>DictWriter</code> class, and pass it the dictionaries from <code>fields()</code>. More details are available in the <a href=\"https://docs.python.org/2/library/csv.html#csv.DictWriter\" rel=\"nofollow\">python documentation</a>.  </p>\n\n<p>Putting the two together:</p>\n\n<pre><code>import csv\nwith open('names.csv', 'w') as csvfile:\n    fieldnames = favorites[0].keys()\n    writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n\n    writer.writeheader()\n\n    for favorite in favorites:\n        writer.writerow(favorite.fields())\n</code></pre>\n\n<p>Keep in mind I haven't tested this and I don't have an API key. The <a href=\"https://developers.soundcloud.com/docs/api/guide\" rel=\"nofollow\">SoundCloud API Guide</a> also has a wealth of valuable information.  </p>\n"}], "owner": {"reputation": 53, "user_id": 3549831, "user_type": "registered", "accept_rate": 10, "profile_image": "https://graph.facebook.com/32808108/picture?type=large", "display_name": "ppadru1", "link": "https://stackoverflow.com/users/3549831/ppadru1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440045080, "creation_date": 1440022230, "question_id": 32106470, "link": "https://stackoverflow.com/questions/32106470/how-to-convert-soundcloud-api-responses-into-csv-in-python", "title": "How to Convert Soundcloud API Responses into CSV in Python?", "body": "<p>I, a newbie, am playing around with the Soundcloud API in Python, and when I get a chunk of data in return (as an object, I'm guessing) I am not really sure how to manipulate it:</p>\n\n<pre><code>favorites = client.get('/me/favorites')\n&lt;class 'soundcloud.resource.ResourceList'&gt;\n</code></pre>\n\n<p>I'm guessing this is sort of of a package of data, which has its own attributes.  I can do:</p>\n\n<pre><code>for favorite in favorites:\n    print favorite.id\n</code></pre>\n\n<p>And this will give me a list of the IDs of the songs I have favorited.  </p>\n\n<pre><code>146967741\n136766472\n</code></pre>\n\n<p>But, how can I see what attributes this object has for me to play with, and more importantly, how can I convert this into a CSV that I can look into?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "algorithm", "math", "image-manipulation", "pillow"], "comments": [{"owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "edited": false, "score": 1, "creation_date": 1440023325, "post_id": 32106443, "comment_id": 52107855, "body": "<a href=\"https://nomis80.org/ctmf.pdf\" rel=\"nofollow noreferrer\">This paper describes a fast 2D median filtering algorithm.</a> It doesn&#39;t do exactly what you asked for, but would at least be a good starting point."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1440024526, "post_id": 32106443, "comment_id": 52108219, "body": "One way to speed things up is to verify that <code>pixel[x,y] is black</code> before running the <code>r,k</code> loop. Another way to speed things up is to use a language that&#39;s actually designed to be fast. (Also note that the count of <code>black_pixels</code> includes <code>pixel[x,y]</code>, which affects the <code>if</code> statement)."}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 1, "creation_date": 1440026964, "post_id": 32106443, "comment_id": 52108823, "body": "There seems to be a problem with the algorithm.  Suppose in the first of the 9-pixel diagrams, there is another column, with the top middle pixel black and the top and bottom ones white.  Now pixel 6 is adjacent to 3 black pixels, so it should be retained.  But before we check 6, 5 has been turned white, and now pixel 6 is adjacent to only 2 black pixels.  You&#39;ll need a copy of the image to modify if you do it this way, unless I&#39;m missing something."}, {"owner": {"reputation": 3789, "user_id": 2284676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/13e34de97b1df53aac80c039b6ffc977?s=128&d=identicon&r=PG&f=1", "display_name": "octohedron", "link": "https://stackoverflow.com/users/2284676/octohedron"}, "reply_to_user": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1440057364, "post_id": 32106443, "comment_id": 52118298, "body": "@saulspatz that&#39;s why i&#39;m asking for a better one, got any ideas to fix it?"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1440118358, "post_id": 32106443, "comment_id": 52152308, "body": "@Gazta Do you have to do exactly what you describe, or are you simply trying to clean up the image?  I just had a thought.  Suppose you scale the image down by 50% (or whatever turns out to work well).  The resizing algorithm ought to get rid of a lot of the stray pixels, and when you scale it back to the original size, you ought to have a cleaner image.  Another thought is to try some of the filters in the GIMP and see if they produce the effect you want.  If neither of these ideas work for you, can you give more details about your image format?"}, {"owner": {"reputation": 3789, "user_id": 2284676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/13e34de97b1df53aac80c039b6ffc977?s=128&d=identicon&r=PG&f=1", "display_name": "octohedron", "link": "https://stackoverflow.com/users/2284676/octohedron"}, "edited": false, "score": 0, "creation_date": 1440124628, "post_id": 32106443, "comment_id": 52153767, "body": "i already solved the algorithm, might post the answer if i have time later, thank you anyways."}], "owner": {"reputation": 3789, "user_id": 2284676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/13e34de97b1df53aac80c039b6ffc977?s=128&d=identicon&r=PG&f=1", "display_name": "octohedron", "link": "https://stackoverflow.com/users/2284676/octohedron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1085, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1440022099, "creation_date": 1440022099, "last_edit_date": 1592644375, "question_id": 32106443, "link": "https://stackoverflow.com/questions/32106443/fast-algorithm-to-remove-stray-pixels-from-images-with-pil-pillow", "title": "Fast algorithm to remove stray pixels from images with PIL/Pillow", "body": "<p>I need to remove lonely/stray pixels from dynamically generated images, that is, pixels that don't belong to any shape of more than 4 pixels in width/height, this is image is just an example, a merelly illustrative one but the problem is the same.</p>\n<p><a href=\"https://i.stack.imgur.com/Q3RH5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q3RH5.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, i have a lot of &quot;stray pixels&quot; that i need to remove from my images, each of those black dots that don't belong to the shape in the center are 1px each, and sometimes there are two black pixels together or more, like this</p>\n<p><a href=\"https://i.stack.imgur.com/SMOfM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SMOfM.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Now, imagine we are checking a pixel and we have this: (pixel we are checking is always 5)</p>\n<p><a href=\"https://i.stack.imgur.com/zEBxb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zEBxb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I need to make 5 white, because 2 and 6 are not connected.</p>\n<p>So, for example in this case:</p>\n<p><a href=\"https://i.stack.imgur.com/2rrgh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2rrgh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>it shouldn't make 5 white because there are 3 pixels next to it.</p>\n<p>I think that would do it, dont you?</p>\n<p>My algorithm so far is very inefficient, i'm checking huge images and i need to do it fast, here's how it looks so far (pseudocode)</p>\n<pre><code># all pixels in the image\nfor x in range(image_width):\n    for y in range(image_height):\n\n        # all 8 pixels surrounding the pixel we are stepped into\n        for r in range (x -1, x + 1) and k in range (y -1, y + 1)):\n            if pixel[r, k] is black:\n               black_pixels += 1\n               if black_pixels &gt; 2:\n                  #make it white\n                  pixel[x, y] = (255, 255, 255)\n                  #stop\n                  break\n</code></pre>\n<p>Haven't tested the code but it should kind of work, although this is probably going to be too slow for what i need, i need a fast algorithm that can remove stray pixels from my image, as in <a href=\"https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life\" rel=\"nofollow noreferrer\">Conway's game of life</a></p>\n<p>Any suggestion is more than welcome.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1440022373, "post_id": 32106431, "comment_id": 52107534, "body": "<code>ord(field) - ord(&#39;A&#39;) + 1</code>"}, {"owner": {"reputation": 97, "user_id": 2977664, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/552b1eeca577046e2d97506b0537e866?s=128&d=identicon&r=PG&f=1", "display_name": "user2977664", "link": "https://stackoverflow.com/users/2977664/user2977664"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1440022551, "post_id": 32106431, "comment_id": 52107596, "body": "ord(test.[&#39;Column b&#39;]) - ord(&#39;A&#39;) + 1 but got similar Series error"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1440022636, "post_id": 32106431, "comment_id": 52107617, "body": "Read the line into a string, split it at spaces into a list. Then use that <code>ord()</code> function on <code>list[2]</code> and <code>list[4]</code>."}, {"owner": {"reputation": 97, "user_id": 2977664, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/552b1eeca577046e2d97506b0537e866?s=128&d=identicon&r=PG&f=1", "display_name": "user2977664", "link": "https://stackoverflow.com/users/2977664/user2977664"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1440022859, "post_id": 32106431, "comment_id": 52107709, "body": "I&#39;m still learning python, how would I do this? Thanks!"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1440023395, "post_id": 32106431, "comment_id": 52107878, "body": "Sorry are you wanting <code>df.applymap(ord)</code>?"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 0, "creation_date": 1440029650, "post_id": 32106431, "comment_id": 52109526, "body": "<code>df.B.astype(&#39;category&#39;).cat.codes</code>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 2977664, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/552b1eeca577046e2d97506b0537e866?s=128&d=identicon&r=PG&f=1", "display_name": "user2977664", "link": "https://stackoverflow.com/users/2977664/user2977664"}, "edited": false, "score": 0, "creation_date": 1440024241, "post_id": 32106714, "comment_id": 52108124, "body": "The #2 is perfect! Thanks YOBA!"}, {"owner": {"reputation": 2451, "user_id": 4702072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-hub0mTOr0DQ/AAAAAAAAAAI/AAAAAAAAABI/Kmd7FYRMRwY/photo.jpg?sz=128", "display_name": "YOBA", "link": "https://stackoverflow.com/users/4702072/yoba"}, "reply_to_user": {"reputation": 97, "user_id": 2977664, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/552b1eeca577046e2d97506b0537e866?s=128&d=identicon&r=PG&f=1", "display_name": "user2977664", "link": "https://stackoverflow.com/users/2977664/user2977664"}, "edited": false, "score": 0, "creation_date": 1440024632, "post_id": 32106714, "comment_id": 52108248, "body": "Sure @user2977664 , anytime, I guess you can mark the issue as resolved."}], "tags": [], "owner": {"reputation": 2451, "user_id": 4702072, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-hub0mTOr0DQ/AAAAAAAAAAI/AAAAAAAAABI/Kmd7FYRMRwY/photo.jpg?sz=128", "display_name": "YOBA", "link": "https://stackoverflow.com/users/4702072/yoba"}, "is_accepted": false, "score": 4, "last_activity_date": 1440026815, "last_edit_date": 1440026815, "creation_date": 1440023479, "answer_id": 32106714, "question_id": 32106431, "link": "https://stackoverflow.com/questions/32106431/python-convert-column-of-letters-into-number/32106714#32106714", "title": "Python: Convert Column of letters into number", "body": "<ol>\n<li><p>You can use this for column A for example:</p>\n\n<p><code>dataframe.A = [ ord(x) for x in dataframe.A ]</code></p></li>\n<li><p>If you want A to be 1, B to be 2 etc...</p>\n\n<p><code>dataframe.A = [ ord(x) - 64 for x in dataframe.A ]</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "is_accepted": false, "score": 1, "last_activity_date": 1440023924, "creation_date": 1440023924, "answer_id": 32106770, "question_id": 32106431, "link": "https://stackoverflow.com/questions/32106431/python-convert-column-of-letters-into-number/32106770#32106770", "title": "Python: Convert Column of letters into number", "body": "<p>Do something like: </p>\n\n<pre><code>for line in lines:\n   new_line = map(lambda x: ord(x) - 64 if x.isalpha() else x, line)\n</code></pre>\n\n<p>Go through the matrix line by line, than apply in each element <code>ord()- 65</code> if it is an alphabet else use it as it is. <code>64</code> is <code>ord(\"A\")-1</code>.</p>\n"}], "owner": {"reputation": 97, "user_id": 2977664, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/552b1eeca577046e2d97506b0537e866?s=128&d=identicon&r=PG&f=1", "display_name": "user2977664", "link": "https://stackoverflow.com/users/2977664/user2977664"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3700, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1440026815, "creation_date": 1440022049, "question_id": 32106431, "link": "https://stackoverflow.com/questions/32106431/python-convert-column-of-letters-into-number", "title": "Python: Convert Column of letters into number", "body": "<p>I read in a csv file into a pandas dataframe and have something like this:</p>\n\n<pre><code>  A B C D ...Z\n1 5 P 8 H ...1\n2 5 K 8 K ...2\n3 6 K 8 K ...5\n</code></pre>\n\n<p>How do I convert Column B and Column D (and any other columns in dataframe) into a number? It could be A =1, B =2, etc OR I tried ord() function but it would not accept the entire Series.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1440022079, "post_id": 32106423, "comment_id": 52107438, "body": "Just loop over the file instead? Why do you think you need to hardcode a number of iterations?"}, {"owner": {"reputation": 27, "user_id": 5189443, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-ko6bQBjoadg/AAAAAAAAAAI/AAAAAAAAAC0/Hn0L89MMmdU/photo.jpg?sz=128", "display_name": "Gary O&#39;Neill", "link": "https://stackoverflow.com/users/5189443/gary-oneill"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1440088998, "post_id": 32106423, "comment_id": 52139571, "body": "Hi Martijn, but how would you write this?"}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 3342213, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/787dca87f677ecd27581651d9f0443c0?s=128&d=identicon&r=PG&f=1", "display_name": "KNgu", "link": "https://stackoverflow.com/users/3342213/kngu"}, "is_accepted": false, "score": 0, "last_activity_date": 1440024403, "last_edit_date": 1440024403, "creation_date": 1440022316, "answer_id": 32106490, "question_id": 32106423, "link": "https://stackoverflow.com/questions/32106423/need-to-read-in-a-file-of-any-size/32106490#32106490", "title": "Need to read in a file of any size", "body": "<p>You can just open the file and it will return you an array of strings per line:</p>\n\n<pre><code>with open(file_name) as file:\n    line = file.readlines()\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5189443, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-ko6bQBjoadg/AAAAAAAAAAI/AAAAAAAAAC0/Hn0L89MMmdU/photo.jpg?sz=128", "display_name": "Gary O&#39;Neill", "link": "https://stackoverflow.com/users/5189443/gary-oneill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1440022437, "answer_count": 1, "score": 0, "last_activity_date": 1440024403, "creation_date": 1440022025, "question_id": 32106423, "link": "https://stackoverflow.com/questions/32106423/need-to-read-in-a-file-of-any-size", "closed_reason": "Duplicate", "title": "Need to read in a file of any size", "body": "<p>I am creating a for loop in Python, which allows me to go through each record of a file to see whether the line is a duplicate or not. I have created a range, which reads through each line in the specified range. I was thinking of putting a range of infinity so taht literally any file size could be read in. But I do not know how to write that or if that is even possible. Below is what I currently have:</p>\n\n<p>for i in range (0,10000): </p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 1, "creation_date": 1440022345, "post_id": 32106399, "comment_id": 52107517, "body": "What does <code>generator</code> do in your <code>win</code> function?"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1440022780, "post_id": 32106399, "comment_id": 52107682, "body": "<code>import random; random.choice((&#39;Cherry&#39;, &#39;Diamond&#39;, &#39;Hearts&#39;, &#39;Spade&#39;, &#39;Monkey&#39;))</code>. If you do <code>choices = (&#39;Cherry&#39;, &#39;Diamond&#39;, &#39;Hearts&#39;, &#39;Spade&#39;)</code> then it&#39;s even better."}, {"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1440022800, "post_id": 32106399, "comment_id": 52107690, "body": "ozgur beat me to an answer. As for suggestions for the generator, my only thought is that you have a lot of repeating code. It would be easier to maintain your code if you had a function to compute a wheel&#39;s value based on the random value rather than copying and pasting for each wheel."}, {"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 1, "creation_date": 1440022864, "post_id": 32106399, "comment_id": 52107712, "body": "@WayneWerner: That doesn&#39;t give the same result. random.choice will randomly choose any of the choices, without weighting. Scott&#39;s implementation weights outcomes differently (e.g., cherry is pretty unlikely)."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1440022978, "post_id": 32106399, "comment_id": 52107743, "body": "@bmhkim good catch. That can be remedied by putting more or less values in your choices though, e.g. <code>(&#39;Cherry&#39;, &#39;Diamond&#39;, &#39;Diamond&#39;, &#39;Hearts&#39;, &#39;Hearts&#39;, &#39;Hearts&#39;)</code>."}, {"owner": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "reply_to_user": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1440023003, "post_id": 32106399, "comment_id": 52107754, "body": "@bmhkim That is exactly right bmhkim, I cannot have random choice as having the same chance between cherry and monkey is illogical."}, {"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1440023032, "post_id": 32106399, "comment_id": 52107763, "body": "@WayneWerner Sort of. What if you need Cherry to come up 23.2232% of the time?"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1440023149, "post_id": 32106399, "comment_id": 52107807, "body": "@bmhkim Yeah, for that case you would need something a little bit more complicated."}, {"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "reply_to_user": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1440023306, "post_id": 32106399, "comment_id": 52107850, "body": "@WayneWerner I think that even in the presented case, your solution is suboptimal. Probability for Cherry: 5%, Diamond: 10%, Hearts: 15%, Spade: 35%, Monkey 35%. Your proposal would require a list (or tuple) that is 20 items long, with each occurrence of an item representing a 5% probability, and with two choices repeating 7 times each. Not great, in my opinion. Plus, when you want to adjust probabilities, you&#39;re stuck counting off how many of each item is in the list, as well as the full size of the list in order to determine what the current implementation does."}, {"owner": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "edited": false, "score": 0, "creation_date": 1440024424, "post_id": 32106399, "comment_id": 52108182, "body": "@ozgue Where did your answer go?"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1440024453, "post_id": 32106399, "comment_id": 52108195, "body": "@ScottMiller he deleted it"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1440032623, "post_id": 32106399, "comment_id": 52110117, "body": "Your extensive edit to the code have rendered both existing answers irrelevant. The <code>spin</code> and <code>win</code> functions look OK at first glance, what are your exact symptoms now?"}, {"owner": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1440033804, "post_id": 32106399, "comment_id": 52110370, "body": "@MarkRansom I have returned the code to the original. Please check it. All I want it to do is recognise wheel 1,2 and 3 as whatever I want it to recognise. There is no error, just when Monkey is returned 3 times, the if statement doesn&#39;t recognise it. Also I currently get the cannot concatenate str and int error in balance + winnings."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "edited": false, "score": 0, "creation_date": 1440025755, "post_id": 32106971, "comment_id": 52108517, "body": "<code>def win(balance):     wheel_1, wheel_2, wheel_3 = generator(balance)     if wheel1 == wheel2 == wheel3 == &quot;Monkey&quot;:         print &quot;JACKPOT!&quot;         winnings = 50         balance = balance + winnings         print &#39;JACKPOT!&#39;</code>"}, {"owner": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "edited": false, "score": 0, "creation_date": 1440025863, "post_id": 32106971, "comment_id": 52108546, "body": "Sorry I don&#39;t know how to format it correctly as a comment."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "edited": false, "score": 0, "creation_date": 1440026424, "post_id": 32106971, "comment_id": 52108699, "body": "@ScottMiller is there any reason you&#39;re passing <code>balance</code> to your generator? Unless balance is going to affect your odds, you shouldn&#39;t need it there. And yeah you can&#39;t do multiline comments ;)"}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "reply_to_user": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "edited": false, "score": 0, "creation_date": 1440027605, "post_id": 32106971, "comment_id": 52108999, "body": "@ScottMiller what problem do you still have?"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "reply_to_user": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "edited": false, "score": 0, "creation_date": 1440028289, "post_id": 32106971, "comment_id": 52109196, "body": "@ScottMiller Your win function returns None, so print win() will just print None.  You don&#39;t seem to be updating balance anywhere.  Also, there are only three outcomes that produce any sort of result (as indicated by the printing in the win function.)  Is that want you want?"}, {"owner": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "edited": false, "score": 0, "creation_date": 1440029482, "post_id": 32106971, "comment_id": 52109498, "body": "@WayneWerner It returns &quot;TypeError: &#39;str&#39; object is not callable&quot;. Its got something to do with wheels = [spin() for _ in xrange(3)]."}, {"owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "edited": false, "score": 0, "creation_date": 1440033772, "post_id": 32106971, "comment_id": 52110357, "body": "Ah, you have a variable named <code>spin</code>. You need to rename your function, the string input... or you could just get rid of that variable and the check for` &#39;&#39;`"}], "tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": true, "score": 0, "last_activity_date": 1440026674, "last_edit_date": 1495540361, "creation_date": 1440025113, "answer_id": 32106971, "question_id": 32106399, "link": "https://stackoverflow.com/questions/32106399/python-2-7-slot-machine-if-statement-issue/32106971#32106971", "title": "Python 2.7 Slot Machine if statement issue", "body": "<p>The problem that you have here is that your concept of scope needs a little help.</p>\n\n<p><a href=\"https://stackoverflow.com/a/292502/344286\">This answer</a> is a really good start.</p>\n\n<p>To make a short example of your code, let's just do this:</p>\n\n<pre><code>def generator(balance):\n    wheel_1 = 'Monkey'\n    wheel_2 = 'Diamond'\n    wheel_3 = 'Heart'\n\n    return wheel_1, wheel_2, wheel_3\n\n\ndef win(generator):\n    print wheel_1, wheel_2, wheel_3\n\nwin(generator)\n</code></pre>\n\n<p>What you'll get here is a <code>NameError</code>, because <code>wheel_1</code> (and 2 &amp; 3) don't actually exist within the <code>win</code> function. They only exist within the generator function. So what you need to do is get the values <em>from</em> the generator function, and put them somewhere that 'win' can see. You can actually do this pretty easily, since we're already returning the values from the <code>generator</code> function:</p>\n\n<pre><code># Note: generator was removed as a parameter.\n# We don't need it here, because if Python\n# can't find the name `generator` it will look\n# in the enclosing scope and find the function\n# `generator` there.\ndef win():\n    # What we want to do is *call* `generator` and \n    # assign the results to some variables that *are*\n    # in `win`'s scope\n    wheel_1, wheel_2, wheel_3 = generator()\n    print wheel_1, wheel_2, wheel_3\n</code></pre>\n\n<hr>\n\n<p>As you mentioned, you can definitely improve some things in your current code. You've noticed inside your <code>generator</code> function there's code that looks almost exactly the same. When you look at code and you get that feeling, that's what's called a \"code smell\". That's what happens when your (sub)conscious mind sees some code that it knows could be improved. In this particular case there's a principle called <strong>DRY</strong> - <strong>D</strong>on't <strong>R</strong>epeat <strong>Y</strong>ourself.</p>\n\n<p>You can replace your existing code with the following:</p>\n\n<pre><code>def spin_one():\n    number = random.random()\n\n    if number &lt; 0.05:\n        result = 'Cherry'\n    elif number &lt; 0.15:\n        result = 'Diamond'\n    elif number &lt; 0.30:\n        result = 'Hearts'\n    elif number &lt; 0.65:\n        result = 'Spade'    \n    else:\n        result = 'Monkey'\n\n    return result\n\ndef generator():\n    return spin_one(), spin_one(), spin_one()\n</code></pre>\n\n<p>And what I might even do is remove the generator call altogether and simply do this:</p>\n\n<pre><code>if all((spin_one() == 'Monkey' for _ in xrange(3))):\n</code></pre>\n\n<p>You can read the docs on <a href=\"https://docs.python.org/2/library/functions.html#all\" rel=\"nofollow noreferrer\">all</a>.</p>\n\n<p>Though, if you want to have more than just win a lot and win a little, then you'd need to keep the values:</p>\n\n<pre><code>wheels = [spin_one() for _ in xrange(3)]\n</code></pre>\n\n<p>Then you can do:</p>\n\n<pre><code>if all(wheel == 'Monkey' for wheel in wheels):\n    # Alternatively, wheels.count('Monkey') == 3\n    print 'Jackpot'\nelif wheels.count('Hearts') == 2:\n    print 'Win'\nelif all(wheel == 'Lemon' for wheel in wheels):\n    print 'You lose'\n</code></pre>\n\n<p>And any other kind of winning you might want to add.</p>\n\n<p><strong>Prompt</strong></p>\n\n<p>I don't think this is either better or worse than your current prompt approach, but I used to use it all the time in my C++ course.</p>\n\n<pre><code>def prompt():\n    choice = raw_input('(Y)es or (N)o: ').lower()\n    if choice == 'y':\n        return True\n    elif choice == 'n':\n        return False\n    else:\n        print '**ERROR** Please input \"y\" or \"n\"'\n        return prompt()\n</code></pre>\n\n<p>It's a nice, simple way to get a handle on recursion :)</p>\n"}], "owner": {"reputation": 27, "user_id": 4942484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fc9d5c75d494a053ee6ec6922ba5d1?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Miller", "link": "https://stackoverflow.com/users/4942484/scott-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 32106971, "answer_count": 1, "score": 1, "last_activity_date": 1440033851, "creation_date": 1440021886, "last_edit_date": 1440033851, "question_id": 32106399, "link": "https://stackoverflow.com/questions/32106399/python-2-7-slot-machine-if-statement-issue", "title": "Python 2.7 Slot Machine if statement issue", "body": "<pre><code>import random\nnumbers = []\nwheel1 = 0\nwheel2 = 0\nwheel3 = 0\nwinnings = int(0)\nbalance = int(50)\n\ndef generator(balance):\n\n    number1 = random.random()\n    number2 = random.random()\n    number3 = random.random()\n\n    if number1 &lt; 0.05:\n        wheel1 = \"Cherry\"\n    elif number1 &lt; 0.15:\n        wheel1 = \"Diamond\"\n    elif number1 &lt; 0.30:\n        wheel1 = \"Hearts\"    \n    elif number1 &lt; 0.65:\n        wheel1 = \"Spade\"    \n    elif number1 &lt; 1:\n        wheel1 = \"Monkey\"  \n\n    if number2 &lt; 0.05:\n        wheel2 = \"Cherry\"\n    elif number2 &lt; 0.15:\n        wheel2 = \"Diamond\"\n    elif number2 &lt; 0.30:\n        wheel2 = \"Hearts\"    \n    elif number2 &lt; 0.65:\n        wheel2 = \"Spade\"    \n    elif number2 &lt; 1:\n        wheel2 = \"Monkey\"\n\n    if number3 &lt; 0.05:\n        wheel3 = \"Cherry\"\n    elif number3 &lt; 0.15:\n        wheel3 = \"Diamond\"\n    elif number3 &lt; 0.30:\n        wheel3 = \"Hearts\"    \n    elif number3 &lt; 0.65:\n        wheel3 = \"Spade\"    \n    elif number3 &lt; 1:\n        wheel3 = \"Monkey\"\n\n    return wheel1\n    return wheel2\n    return wheel3\n\ndef win(generator,balance):\n\n    generator(balance)\n\n    if wheel1 ==\"Monkey\"and wheel2 == \"Monkey\"and wheel3 == \"Monkey\":\n        print \"JACKPOT!\"\n        winnings = int(50)\n        balance + winnings\n        print 'JACKPOT!'\n\n    else:\n        print 'noice'\n        winnings = int(10)\n        balance + winnings\n        print 'noice'\n\n    return balance\n\n\nprint \"Welcome to the International Slot Machine\"\nprint \"\"\nprint \"Balance: $\",balance\nprint ''\nspinyn = (raw_input(\"Would you like to spin? $5 per spin. Enter y or n:\\n\"))\nwhile True:\n    if spinyn == \"y\":\n        break\n    elif spinyn == \"n\":\n        print \"Final Balance: $\",balance\n        print \"Thank you for using the International Slot Machine\"\n        raise SystemExit\n    else:\n        spinyn = raw_input('\\033[31mPlease enter only y or n.\\033[0m\\n')    \nspin = (raw_input(\"Press enter to spin for $5:\\n\"))\nwhile True:\n    if spin == '':\n        balance = balance - 5\n        if balance &lt;= 0:\n            print \"\"\n            print \"Final Balance: $\",balance\n            print \"You have run out of money, the game has now ended.\"\n            raise SystemExit\n        print \"\"\n        print \"\\033[34mResult:\\033[0m\"\n        print \"\\033[34m-------\\033[0m\"\n        balance = generator(balance)\n        print \"\"\n        print win(generator,balance)\n        print \"New balance:$\",balance\n        print \"\"\n        spinagain = (raw_input(\"Would you like to spin again? Press enter to spin again, type anything to exit.\\n\"))\n        while True:\n            if spinagain == \"\":\n                break\n            else:\n                print \"Final Balance: $\",balance\n                print \"Thank you for using the International Slot Machine\"\n                raise SystemExit\n    else:\n        spin = (raw_input(\"Please press enter to spin.\\n\"))\n</code></pre>\n\n<p>I appreciate any suggestions about the method of selecting a random symbol, but please withhold as there is only one question I have. My question is: In the win function, how do I make it recognise the 3 wheel outputs. I've done what I thought would work however it does not, even when I land on 3 monkeys.</p>\n\n<p>Any other suggestions are welcome. But please keep in mind that is the most important.</p>\n\n<p>Thank you very much in advance.</p>\n"}, {"tags": ["python", "pyserial"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1440024669, "post_id": 32106391, "comment_id": 52108260, "body": "Have you tried creating a random-length bytes value and passing it to your ser.write() function? If not, what have you tried?"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1440028673, "post_id": 32106391, "comment_id": 52109302, "body": "Do you mean you want to restrict the number of bytes sent to a specific value?  Suppose that ser.write has another parameter numBytes.  What happens if NumBytes is 6 in your example?  What if numBytes is 16?"}], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": true, "score": 1, "last_activity_date": 1440035946, "last_edit_date": 1440035946, "creation_date": 1440035350, "answer_id": 32108302, "question_id": 32106391, "link": "https://stackoverflow.com/questions/32106391/python-3-how-to-send-random-number-of-bytes-over-the-comserial-port/32108302#32108302", "title": "Python 3: how to send random number of bytes over the COM(serial) port", "body": "<p>By \"random\" I think you mean \"arbitrary\", i.e. how to send an arbitrary number of bytes...</p>\n\n<p>You can generate a sequence of repeating digits like this:</p>\n\n<pre><code>&gt;&gt;&gt; ''.join([str(i%10) for i in range(21)])\n'012345678901234567890'\n</code></pre>\n\n<p>The number of bytes required can be passed to the script as a command line argument. Its value will be available in the <code>sys.argv[]</code> list.</p>\n\n<pre><code>import sys\nimport serial\n\ntry:\n    num_bytes = int(sys.argv[1])\nexcept (IndexError, ValueError):\n    sys.stderr.write('Usage: {} num-bytes\\n'.format(sys.argv[0]))\n    sys.exit(1)\n\nser = serial.Serial()    # set up your serial port\ndigits = ''.join(str(i%10) for i in range(num_bytes))\nnum_written = ser.write(bytes(digits, 'ascii'))\n</code></pre>\n\n<p>Invoke the command like this:</p>\n\n<pre><code>$ python3 send_bytes.py 42\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 3996507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318549ed699957ce68045c5b52ca2040?s=128&d=identicon&r=PG&f=1", "display_name": "S Kal", "link": "https://stackoverflow.com/users/3996507/s-kal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 32108302, "answer_count": 1, "score": 0, "last_activity_date": 1440035946, "creation_date": 1440021841, "question_id": 32106391, "link": "https://stackoverflow.com/questions/32106391/python-3-how-to-send-random-number-of-bytes-over-the-comserial-port", "title": "Python 3: how to send random number of bytes over the COM(serial) port", "body": "<p>I wrote a Python script in which I can send fixed bytes through a COM port.</p>\n\n<pre><code>ser.write(bytes('0123456789',encoding='ascii'))\n</code></pre>\n\n<p>I want to parameterize the number of bytes that the script can send.  </p>\n\n<p>Can anyone please suggest me how I can do this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "python-2.7", "tkinter", "python-imaging-library", "ipython-notebook"], "owner": {"reputation": 11, "user_id": 5245174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798c4961f49327563120ee3dcc659f15?s=128&d=identicon&r=PG&f=1", "display_name": "525delta", "link": "https://stackoverflow.com/users/5245174/525delta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440021529, "creation_date": 1440021529, "last_edit_date": 1495539859, "question_id": 32106332, "link": "https://stackoverflow.com/questions/32106332/ipython-notebook-dead-kernel-from-image-insert-in-tkinter-window-using-pil", "title": "Ipython notebook dead kernel from image insert in Tkinter window using PIL", "body": "<p>I have tried for several days to get an image displaying using the following code.</p>\n\n<pre><code>import Tkinter as tk\nfrom PIL import ImageTk, Image\n\n#This creates the main window of an application\nwindow = tk.Tk()\nwindow.title(\"Join\")\nwindow.geometry(\"300x300\")\nwindow.configure(background='grey')\n\npath = \"Aaron.jpg\"\n\nimg = ImageTk.PhotoImage(Image.open(path))\n\n\npanel = tk.Label(window, image = img)\n\n#The Pack geometry manager packs widgets in rows or columns.\npanel.pack(side = \"bottom\", fill = \"both\", expand = \"yes\")\n\n#Start the GUI\nwindow.mainloop()\n</code></pre>\n\n<p>The code is originally from this link.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/23901168/how-do-i-insert-a-jpeg-image-into-a-python-tkinter-window\">How do I insert a JPEG image into a python Tkinter window?</a></p>\n\n<p>When I run the code with my own path I get the following error messages</p>\n\n<p>Python quit unexpectedly warning</p>\n\n<p>and then:</p>\n\n<p>The kernel appears to have died.  It will restart automatically.</p>\n\n<p>System info</p>\n\n<p>Mac OS X Version 10.7.5\nAnaconda\nipython-notebook version 3.2.1\nPython 2.7.10-0\nPIL 1.1.7 \npillow 2.9.0</p>\n\n<p>This is my first question on stackoverflow so please excuse any formatting errors.  I will try to correct if there is an issue.  I've also tried many version of code that is similar with the same result.  This only happens with this specific code.</p>\n"}, {"tags": ["python", "html", "excel"], "comments": [{"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440021417, "post_id": 32106268, "comment_id": 52107181, "body": "Why don&#39;t you use a regular expression to remove it manually?"}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440021492, "post_id": 32106268, "comment_id": 52107209, "body": "how can I use it from Python?"}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440021526, "post_id": 32106268, "comment_id": 52107228, "body": "I tried to close excel of several ways but the footer still appears."}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440021645, "post_id": 32106268, "comment_id": 52107269, "body": "This footer gives me the sheet name... its a gray bar. Its not possible to remove it manually"}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440021824, "post_id": 32106268, "comment_id": 52107339, "body": "I think it may have to be with the fact Im converting the whole workbook and not just the sheet..."}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440060427, "post_id": 32106268, "comment_id": 52120111, "body": "show html source of the footer please."}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440100821, "post_id": 32106268, "comment_id": 52145932, "body": "@Lo&#239;c  Im programming in python....I want to get rid of the frame that shows the number of the sheet"}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440101000, "post_id": 32106268, "comment_id": 52146035, "body": "report.html contains html right? Edit it with your favorite text editor, and you&#39;ll find what lines you want to remove. Then create a regex matching those lines, so you can dynamically remove them with python."}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440183464, "post_id": 32106268, "comment_id": 52184441, "body": "@Lo&#239;cThis is the source code for the frame:      &lt;body topmargin=0 leftmargin=0 bgcolor=&quot;#808080&quot;&gt;      &lt;table border=0 cellspacing=1&gt;       &lt;tr&gt;       &lt;td bgcolor=&quot;#FFFFFF&quot; nowrap&gt;&lt;b&gt;&lt;small&gt;&lt;small&gt;&amp;nbsp;      &lt;a href=&quot;sheet001.html&quot; target=&quot;frSheet&quot;&gt;&lt;font face=&quot;Arial&quot;      color=&quot;#000000&quot;&gt;Sheet1&lt;/font&gt;&lt;/a&gt;&amp;nbsp;&lt;/small&gt;&lt;/small&gt;&lt;/b&gt;      &lt;/td&gt;       &lt;/tr&gt;      &lt;/table&gt;      &lt;/body&gt;  How would you do the regex?"}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440183596, "post_id": 32106268, "comment_id": 52184504, "body": "Im sorry but Im trying to edit my comment above, but something is going on, I cant edit it..."}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440266363, "post_id": 32106268, "comment_id": 52206112, "body": "just remove the frame... check beautifulsoup."}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440422195, "post_id": 32106268, "comment_id": 52251979, "body": "but this is the part where I cant connect, so I can remove the frame before creating the html from python???"}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440460803, "post_id": 32106268, "comment_id": 52272242, "body": "just after <code>del x1</code> open the html file, and do your regular expression on it before saving it."}, {"owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1440512092, "post_id": 32106268, "comment_id": 52296829, "body": "@Lo&#239;c I reviewd regular expressions, I dont really know how to implemented. Can you please show me how I can do the match between the frame that its not created yet and what I have?"}], "owner": {"reputation": 11, "user_id": 5245200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb728f1ec4631c0d455c79db63a23a3e?s=128&d=identicon&r=PG&f=1", "display_name": "The Coder", "link": "https://stackoverflow.com/users/5245200/the-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440021675, "creation_date": 1440021187, "last_edit_date": 1440021675, "question_id": 32106268, "link": "https://stackoverflow.com/questions/32106268/how-to-get-rid-of-the-footer-when-create-an-html-from-an-excel-file-with-python", "title": "How to get rid of the footer when create an html from an excel file with python", "body": "<p>Hi: Im creating an HTML from an excel file who has just 1 sheet. Im dont want to use any vb macro, just python code. I can create my HTML but when I open it, I have the excel footer in the HTML showing me the sheet name. I want to get rid of that. This is my code:</p>\n\n<pre><code>from win32com.client.gencache import EnsureDispatch\n\n\nfrom win32com.client import constants\n\n\n\nyourExcelFile = 'C:\\REPORT.xlsx'\n\n\nnewFileName = 'C:\\REPORT.html'\n\n\nxl = EnsureDispatch('Excel.Application')\n\n\nwb = xl.Workbooks.Open('C:\\REPORT.xlsx')\n\n\nwb.SaveAs(newFileName, constants.xlHtml)\n\n\nwb.Close(True)\n\n\nxl.Workbooks.Close()\n\n\nxl.Quit()\n\n\ndel xl\n</code></pre>\n\n<p>The error is that it keeps showing the excel footer in the HTML page.</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["python", "django", "django-views", "django-urls"], "answers": [{"tags": [], "owner": {"reputation": 255971, "user_id": 464744, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG", "display_name": "Blender", "link": "https://stackoverflow.com/users/464744/blender"}, "is_accepted": false, "score": 1, "last_activity_date": 1440021383, "creation_date": 1440021383, "answer_id": 32106305, "question_id": 32106151, "link": "https://stackoverflow.com/questions/32106151/where-does-django-request-object-originated-in-class-view/32106305#32106305", "title": "Where does Django request object originated in `class View`?", "body": "<p>The request is processed by <a href=\"https://github.com/django/django/blob/336512fae77ec214ad6db24166b9a8676007cc09/django/core/handlers/base.py#L94\" rel=\"nofollow\"><code>BaseHandler.get_response</code></a>:</p>\n\n<pre><code>wrapped_callback = self.make_view_atomic(callback)\ntry:\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n    ...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8735, "user_id": 2026351, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a42aa73e69ef82ce9afc8d639ab4bedf?s=128&d=identicon&r=PG", "display_name": "grantmcconnaughey", "link": "https://stackoverflow.com/users/2026351/grantmcconnaughey"}, "is_accepted": false, "score": 1, "last_activity_date": 1440021401, "creation_date": 1440021401, "answer_id": 32106312, "question_id": 32106151, "link": "https://stackoverflow.com/questions/32106151/where-does-django-request-object-originated-in-class-view/32106312#32106312", "title": "Where does Django request object originated in `class View`?", "body": "<p>The request is created from the <a href=\"https://github.com/django/django/blob/7da3923ba0c569aa23d0ab0a47a124af60a18f5b/django/core/handlers/wsgi.py#L146\" rel=\"nofollow\">WSGIHandler class</a>.</p>\n\n<p>James Bennett talks about this in <a href=\"https://youtu.be/tkwZ1jG3XgA?t=2h14m51s\" rel=\"nofollow\">Django In Depth at around 2 hours and 14 minutes</a>. Slides can be found <a href=\"http://media.b-list.org/s/django-in-depth-2015.pdf\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 3, "last_activity_date": 1440027071, "last_edit_date": 1440027071, "creation_date": 1440021933, "answer_id": 32106409, "question_id": 32106151, "link": "https://stackoverflow.com/questions/32106151/where-does-django-request-object-originated-in-class-view/32106409#32106409", "title": "Where does Django request object originated in `class View`?", "body": "<p>Note that the request is never passed to <code>as_view()</code>. </p>\n\n<p>The <code>as_view()</code> method is called when the url config is loaded, before any requests are handled. It defines a method <code>view</code>, and returns it.</p>\n\n<pre><code>def view(request, *args, **kwargs):\n    ...\nreturn view\n</code></pre>\n\n<p>This <code>view</code> method takes an argument <code>request</code>, positional and keyword arguments. The <code>view</code> method is then passed to the url instance. Note that <code>url</code> simply requires a callable that takes a <code>request</code> argument. This could be a callable returned by calling <code>as_view()</code> for a class based view, or a regular function based view, it makes no difference to how the request is passed to the view.</p>\n\n<pre><code>def function_view(request, *args, **kwargs):\n    return HttpResponse(\"I'm a function based view\")\n\nurl(r'^cbv/$', MyView.as_view()),\nurl(r'^fv/$', function_view), \n</code></pre>\n\n<p>Then, when a request is handled, the url is resolved into this <code>view</code>, and <code>BaseHandler.get_response</code> calls the view with the request, and args and kwargs captured from the url.</p>\n"}], "owner": {"reputation": 1819, "user_id": 4379891, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/00537a374fd78cbd4f92745dbb2ee0f0?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4379891/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 32106409, "answer_count": 3, "score": 1, "last_activity_date": 1440072394, "creation_date": 1440020619, "last_edit_date": 1440072394, "question_id": 32106151, "link": "https://stackoverflow.com/questions/32106151/where-does-django-request-object-originated-in-class-view", "title": "Where does Django request object originated in `class View`?", "body": "<p>Here is the code segment I am <a href=\"https://github.com/django/django/blob/7da3923ba0c569aa23d0ab0a47a124af60a18f5b/django/views/generic/base.py\" rel=\"nofollow\">referring to</a></p>\n\n<pre><code>@classonlymethod\ndef as_view(cls, **initkwargs):\n    \"\"\"\n    Main entry point for a request-response process.\n    \"\"\"\n    for key in initkwargs:\n        if key in cls.http_method_names:\n            raise TypeError(\"You tried to pass in the %s method name as a \"\n                            \"keyword argument to %s(). Don't do that.\"\n                            % (key, cls.__name__))\n        if not hasattr(cls, key):\n            raise TypeError(\"%s() received an invalid keyword %r. as_view \"\n                            \"only accepts arguments that are already \"\n                            \"attributes of the class.\" % (cls.__name__, key))\n\n    def view(request, *args, **kwargs):\n        self = cls(**initkwargs)\n        if hasattr(self, 'get') and not hasattr(self, 'head'):\n            self.head = self.get\n        self.request = request\n        self.args = args\n        self.kwargs = kwargs\n        return self.dispatch(request, *args, **kwargs)\n    view.view_class = cls\n    view.view_initkwargs = initkwargs\n\n    # take name and docstring from class\n    update_wrapper(view, cls, updated=())\n\n    # and possible attributes set by decorators\n    # like csrf_exempt from dispatch\n    update_wrapper(view, cls.dispatch, assigned=())\n    return view\n</code></pre>\n\n<p>I am looking for the code that the request object is passed in to.</p>\n\n<p>The common place where as_view is used is in <a href=\"https://github.com/django/django/blob/master/django/conf/urls/__init__.py\" rel=\"nofollow\">url</a></p>\n\n<p>However I couldn't reference to request object in</p>\n\n<pre><code>def url(regex, view, kwargs=None, name=None, prefix=''):\n    if isinstance(view, (list, tuple)):\n        # For include(...) processing.\n        urlconf_module, app_name, namespace = view\n        return RegexURLResolver(regex, urlconf_module, kwargs, app_name=app_name, namespace=namespace)\n    else:\n        if isinstance(view, six.string_types):\n            warnings.warn(\n                'Support for string view arguments to url() is deprecated and '\n                'will be removed in Django 1.10 (got %s). Pass the callable '\n               'instead.' % view,\n            RemovedInDjango110Warning, stacklevel=2\n            )\n            if not view:\n                raise ImproperlyConfigured('Empty URL pattern view name not permitted (for pattern %r)' % regex)\n            if prefix:\n                view = prefix + '.' + view\n        return RegexURLPattern(regex, view, kwargs, name)\n</code></pre>\n\n<p>Can someone point me a direction?</p>\n"}, {"tags": ["python", "json", "csv"], "comments": [{"owner": {"reputation": 2593, "user_id": 2344111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6341273c5c2cec8c209dd85ae50be838?s=128&d=identicon&r=PG", "display_name": "Tymoteusz Paul", "link": "https://stackoverflow.com/users/2344111/tymoteusz-paul"}, "edited": false, "score": 3, "creation_date": 1440020621, "post_id": 32106128, "comment_id": 52106870, "body": "If nothing works despite you trying everything then we are all doomed and world is about come to an end. But then I doubt it, so please post some of your attempts and explain what happens, and what is supposed to."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1440024840, "post_id": 32106128, "comment_id": 52108296, "body": "If you started with a small JSON file and wrote a program to convert that to CSV, that would be a step towards a solution to your HUGE problem?"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440025479, "post_id": 32106128, "comment_id": 52108449, "body": "How big is the JSON file?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1440025678, "post_id": 32106128, "comment_id": 52108502, "body": "searching for &#39;python convert json csv&#39; (without the &#39;&#39; quotes), or &#39;python read huge json&#39; both produce lots of answers, including several on stackoverflow."}, {"owner": {"reputation": 1784, "user_id": 4437066, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f34e553da9311ffbbbba05cb85f0c4da?s=128&d=identicon&r=PG&f=1", "display_name": "liga810", "link": "https://stackoverflow.com/users/4437066/liga810"}, "edited": false, "score": 0, "creation_date": 1440079679, "post_id": 32106128, "comment_id": 52133377, "body": "Thank you for all your answers, guys. The file is 350M by today, and it grows fast. I am still struggling, any help would be nice."}], "answers": [{"tags": [], "owner": {"reputation": 4072, "user_id": 5246906, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/227935ae79fee841eaea7f6641ebec41?s=128&d=identicon&r=PG&f=1", "display_name": "nigel222", "link": "https://stackoverflow.com/users/5246906/nigel222"}, "is_accepted": false, "score": 0, "last_activity_date": 1440069150, "creation_date": 1440069150, "answer_id": 32116699, "question_id": 32106128, "link": "https://stackoverflow.com/questions/32106128/convert-huge-json-file-to-csv-file/32116699#32116699", "title": "Convert huge JSON file to csv file", "body": "<p>I have a similar file myself!</p>\n\n<p>It's not a valid JSON file. It's a set of JSON files concatenanted into one. From the python json.dumps documentation</p>\n\n<blockquote>\n  <p><em>Unlike pickle and marshal, JSON is not a framed protocol, so trying to</em>\n  <em>serialize multiple objects with repeated calls to dump() using the</em>\n  <em>same fp will result in an invalid JSON file</em></p>\n</blockquote>\n\n<p>Which means that even if it would all fit in memory at once, you can't use json.load to read this file unless you edit a \"[\" prior to the first line and a \"]\" at the end and commas between each element (ie at the blank line between \"}\" and \"{\"</p>\n\n<p>You can fight with the python json module and get it to do what I think you want, to read sequentially each group of seven elements as a python dict with keys \"Gid\" \"rights\" etc.</p>\n\n<p>You have to use the raw_decode method of the JSONDecoder class, which will stop at the closing \"}\" and return the index into the string it is scanning so that you can chop off what it's just processed.</p>\n\n<p>So read a comfortably large chunk of the huge file, and inside an exception handler try to raw_decode an element. If it succeeds, save the decoded result, delete the part that's been successfully decoded, and repeat. If you get an exception, read another chunk from the file and append to the string you are decoding and repeat. If you still get an exception, the JSON element you are at is corrupt (or longer than your chunk size, or you've failed to correctly process end of file).</p>\n\n<p>It's far easier to code if your file is less than a few tens (hundreds? ) of Mbytes. Then, just read the entire thing into a string and start chomping JSON elements off the front of it until there's nothing but whitespace left or until you hit a decoder error.</p>\n"}, {"comments": [{"owner": {"reputation": 1784, "user_id": 4437066, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f34e553da9311ffbbbba05cb85f0c4da?s=128&d=identicon&r=PG&f=1", "display_name": "liga810", "link": "https://stackoverflow.com/users/4437066/liga810"}, "edited": false, "score": 0, "creation_date": 1440079721, "post_id": 32118114, "comment_id": 52133418, "body": "Thank you nigel222. Unfortunately my file is 350M by today, and it will easily go to 500M next week."}, {"owner": {"reputation": 4072, "user_id": 5246906, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/227935ae79fee841eaea7f6641ebec41?s=128&d=identicon&r=PG&f=1", "display_name": "nigel222", "link": "https://stackoverflow.com/users/5246906/nigel222"}, "reply_to_user": {"reputation": 1784, "user_id": 4437066, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f34e553da9311ffbbbba05cb85f0c4da?s=128&d=identicon&r=PG&f=1", "display_name": "liga810", "link": "https://stackoverflow.com/users/4437066/liga810"}, "edited": false, "score": 0, "creation_date": 1440088448, "post_id": 32118114, "comment_id": 52139289, "body": "A somewhat less brute-force way is to use re.split. I just tested splitting a 500Mb string into 500,000 strings and it took about two seconds on a cire-i3 PC with 8Gb."}], "tags": [], "owner": {"reputation": 4072, "user_id": 5246906, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/227935ae79fee841eaea7f6641ebec41?s=128&d=identicon&r=PG&f=1", "display_name": "nigel222", "link": "https://stackoverflow.com/users/5246906/nigel222"}, "is_accepted": false, "score": 0, "last_activity_date": 1440073179, "creation_date": 1440073179, "answer_id": 32118114, "question_id": 32106128, "link": "https://stackoverflow.com/questions/32106128/convert-huge-json-file-to-csv-file/32118114#32118114", "title": "Convert huge JSON file to csv file", "body": "<p>Here's the brute-force way, for when the file is small enough to treat as a single string without running out of memory</p>\n\n<pre><code>import json\nimport re\n\nmultijsons = open('file.json','r').read()\n\nsep = re.compile( r'\\}\\s*\\{' )\njsonlist = '[' + re.sub( sep, '}, {', multijsons ) + ']'\n\nload =  json.loads( jsonlist)\n\n# quick debug:\nfor item in load:\n    print item\n    print '\\n---\\n'\n</code></pre>\n\n<p>this is what I used because my file was not so very huge. Thought about coding the above but didn't need it and it looked as if it would be tricky-messy</p>\n"}, {"tags": [], "owner": {"reputation": 4072, "user_id": 5246906, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/227935ae79fee841eaea7f6641ebec41?s=128&d=identicon&r=PG&f=1", "display_name": "nigel222", "link": "https://stackoverflow.com/users/5246906/nigel222"}, "is_accepted": false, "score": 0, "last_activity_date": 1440089659, "creation_date": 1440089659, "answer_id": 32124017, "question_id": 32106128, "link": "https://stackoverflow.com/questions/32106128/convert-huge-json-file-to-csv-file/32124017#32124017", "title": "Convert huge JSON file to csv file", "body": "<p>Here's a slightly less brute-force way  using <code>re.split()</code> I have tested the following takes mere seconds on a core-i3 with 8Gb RAM</p>\n\n<pre><code>huge=\"{\" + \"a\"*1000 + \"}\\n\"\nhuge = huge * 500000\nlen(huge)/1000000.0\n# get 501.5 (Mbytes)\njsons =  re.split(r'\\}\\s*\\{', huge)\nlen(s)\n# get 500000, took about 2 seconds\ndel huge  # might be a good idea to free half a gigabyte asap.\n</code></pre>\n\n<p>split yields the individual JSON elements, each in its own string, minus open curly brace (except on the first) and close curly (except on the last). So the rest of the work (untested) would be</p>\n\n<pre><code>jsons[0] = jsons[0] + '}'\nn = len(jsons)\njsons[n-1] = '{' + jsons[n-1]\nfor i in range( 1, n-1 ): jsons[i] = '{' + jsons[i] + '}'\n\n# i'd anticipate another couple of seconds to get here\n\nfor j in jsons:\n    data = json.load( j)\n    # do whatever with data\n    # will take as long as it's going to take ....\n</code></pre>\n"}], "owner": {"reputation": 1784, "user_id": 4437066, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f34e553da9311ffbbbba05cb85f0c4da?s=128&d=identicon&r=PG&f=1", "display_name": "liga810", "link": "https://stackoverflow.com/users/4437066/liga810"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1075, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1440089659, "creation_date": 1440020506, "last_edit_date": 1440021535, "question_id": 32106128, "link": "https://stackoverflow.com/questions/32106128/convert-huge-json-file-to-csv-file", "title": "Convert huge JSON file to csv file", "body": "<p>I have a HUGE json file want to transfer to csv. I have searched a lot on  the internet, and I tried to write Python myself, but nothing works. I have been stuck here for one week. Would anyone please help me with it?\nThe json file format is:</p>\n\n<pre><code>{\"Gid\": \"5999043768223797248\", \n\"rights\": [{\"grantorContext\": \"Freemium right added by Netlife\", \"sku\": \"CMO-STO-2-FREE\", \"rightId\": \"5340e29a6dc01000\", \"grantorId\": \"NETLIFE_B2C\"}], \n\"used_quota\": \"16.95\", \n\"creationtime\": \"2001-04-29 12:58:33\", \n\"devices\": [{\"last_connection\": \"2001-05-30 22:06:08\", \"os_version\": \"4.2.2\", \"auto_upload\": \"wifi\", \"last_upload\": \"2002-04-29 13:12:26\", \"device_name\": \"i-mobile i-STYLE 7.5\", \"platform\": \"unknow\", \"client_version\": \"2.0.0\"}], \n\"total_quota\": 2.0, \n\"Uid\": [\"666927729520\"]}\n\n\n{\"Gid\": \"5999043740151320576\", \n\"rights\": [{\"grantorContext\": \"Freemium right added by Netlife\", \"sku\": \"CMO-STO-2-FREE\", \"rightId\": \"5340e29f72c05000\", \"grantorId\": \"NETLIFE_B2C\"}, \n           {\"grantorContext\": null, \"sku\": \"CMO-STO-25-M\", \"rightId\": \"53b5d2d8b0400000\", \"grantorId\": \"DTN\"}], \n\"used_quota\": \"480.85\", \n\"creationtime\": \"2001-04-29 12:58:38\", \n\"devices\": [{\"last_connection\": \"2001-08-02 03:46:05\", \"os_version\": \"8.4\", \"auto_upload\": \"wifi\", \"last_upload\": \"2015-08-02 03:46:05\", \"device_name\": \"Nokia\", \"platform\": \"unknow\", \"client_version\": \"1.0.0\"}], \n\"total_quota\": 27.0, \n\"Uid\": [\"465949097714\"]}\n\n\n{\"Gid\": \"5999043675907166208\", \n\"rights\": [{\"grantorContext\": null, \"sku\": \"CMO-STO-25-M\", \"rightId\": \"53b5d2e161000000\", \"grantorId\": \"DTN\"}, \n           {\"grantorContext\": \"Freemium right added by Netlife\", \"sku\": \"CMO-STO-2-FREE\", \"rightId\": \"5340e29b42805000\", \"grantorId\": \"NETLIFE_B2C\"}], \n\"used_quota\": \"8.26\", \n\"creationtime\": \"2001-04-29 12:58:35\", \n\"devices\": [{\"last_connection\": \"2001-04-29 13:08:24\", \"os_version\": \"4.2.2\", \"auto_upload\": \"wifi\", \"last_upload\": \"2002-04-29 13:03:25\", \"device_name\": \"Nokia V797\", \"platform\": \"unknow\", \"client_version\": \"2.0.0\"}], \n\"total_quota\": 27.0, \n\"Uid\": [\"666994575443\"]}\n</code></pre>\n"}, {"tags": ["python", "pandas", "machine-learning", "scikit-learn", "cluster-analysis"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4915698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rliwl.gif?s=128&g=1", "display_name": "Memristor", "link": "https://stackoverflow.com/users/4915698/memristor"}, "edited": false, "score": 1, "creation_date": 1601465438, "post_id": 32106980, "comment_id": 113415369, "body": "In case some one is traying on 2020, change:  <code>X = data[col].reshape(-1, 1)</code>  to <code>X = data[col].values.reshape(-1, 1)</code>"}], "tags": [], "owner": {"reputation": 1734, "user_id": 5230050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kyDt.jpg?s=128&g=1", "display_name": "Alexander Bauer", "link": "https://stackoverflow.com/users/5230050/alexander-bauer"}, "is_accepted": true, "score": 5, "last_activity_date": 1440025158, "creation_date": 1440025158, "answer_id": 32106980, "question_id": 32106092, "link": "https://stackoverflow.com/questions/32106092/clustering-uni-variate-time-series-using-sklearn/32106980#32106980", "title": "Clustering uni-variate Time series using sklearn", "body": "<p>The K-Means clusterer expects a 2D array, each row a data point, which can also be one-dimensional. In your case you have to reshape the pandas column to a matrix having <code>len(data)</code> rows and 1 column. See below an example that works:</p>\n\n<pre><code>from sklearn.cluster import KMeans\nimport pandas as pd\n\ndata = {'one': [1., 2., 3., 4., 3., 2., 1.], 'two': [4., 3., 2., 1., 2., 3., 4.]}\ndata = pd.DataFrame(data)\n\nn_clusters = 2\n\nfor col in data.columns:\n    kmeans = KMeans(n_clusters=n_clusters)\n    X = data[col].reshape(-1, 1)\n    kmeans.fit(X)\n    print \"{}: {}\".format(col, kmeans.predict(X))\n</code></pre>\n"}], "owner": {"reputation": 1909, "user_id": 3841581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93b431e49ed38b9c1602d7af199b6f15?s=128&d=identicon&r=PG&f=1", "display_name": "user3841581", "link": "https://stackoverflow.com/users/3841581/user3841581"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2592, "favorite_count": 0, "accepted_answer_id": 32106980, "answer_count": 1, "score": 4, "last_activity_date": 1440025158, "creation_date": 1440020347, "question_id": 32106092, "link": "https://stackoverflow.com/questions/32106092/clustering-uni-variate-time-series-using-sklearn", "title": "Clustering uni-variate Time series using sklearn", "body": "<p>I have a panda DataFrame from which, i would like to do clustering for each columns. I am using sklearn and this is what i have:</p>\n\n<pre><code>data= pd.read_csv(\"data.csv\")\ndata=pd.DataFrame(data)\ndata=data.set_index(\"Time\")\n#print(data)\ncluster_numbers=2\nlist_of_cluster=[]\nfor k,v in data.iteritems():\n   temp=KMeans(n_clusters=cluster_numbers)\n   temp.fit(data[k])\n   print(k)\n   print(\"predicted\",temp.predict(data[k]))\n   list_of_cluster.append(temp.predict(data[k]))\n</code></pre>\n\n<p>when i try to run it, i have this error: <code>ValueError: n_samples=1 should be &gt;= n_clusters=2</code></p>\n\n<p>I am wondering what is the problem as i have more samples than number of clusters. Any help will be appreciated</p>\n"}, {"tags": ["python", "nltk", "pos-tagger"], "answers": [{"tags": [], "owner": {"reputation": 1277, "user_id": 4094444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afa736ca76fe55000fe171b3085a1d01?s=128&d=identicon&r=PG&f=1", "display_name": "b3000", "link": "https://stackoverflow.com/users/4094444/b3000"}, "is_accepted": true, "score": 0, "last_activity_date": 1440024132, "creation_date": 1440024132, "answer_id": 32106813, "question_id": 32106090, "link": "https://stackoverflow.com/questions/32106090/nltk-brill-tagger-splitting-words/32106813#32106813", "title": "NLTK Brill Tagger Splitting Words", "body": "<p>Tag <code>tag()</code> function expects a list of tokens as input.\nSince you give it a string as input, this string gets interpreted as a list.\nTurning a string into a list gives you a list of characters:</p>\n\n<pre><code>&gt;&gt;&gt; list(\"abc\")\n['a', 'b', 'c']\n</code></pre>\n\n<p>All you need to do is turn your string into a list of tokens before tagging. For example with <a href=\"http://www.nltk.org/api/nltk.tokenize.html\" rel=\"nofollow\">nltk</a> or simply by splitting at whitespaces:</p>\n\n<pre><code>&gt;&gt;&gt; import nltk\n&gt;&gt;&gt; nltk.word_tokenize(\"Hi I am Harry Potter.\")\n['Hi', 'I', 'am', 'Harry', 'Potter', '.']\n&gt;&gt;&gt; \"Hi I am Harry Potter.\".split(' ')\n['Hi', 'I', 'am', 'Harry', 'Potter.']\n</code></pre>\n\n<p>Adding tokenization in the tagging gives the following result:</p>\n\n<pre><code>print(tagger.tag(nltk.word_tokenize(\"Hi I am Harry Potter.\")))\n[('Hi', 'NN'), ('I', 'PPSS'), ('am', 'VB'), ('Harry', 'NN'), ('Potter', 'NN'), ('.', '.')]\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 4586257, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bcc6d068a3ec7b1d84a5b425140225a7?s=128&d=identicon&r=PG&f=1", "display_name": "benj rei", "link": "https://stackoverflow.com/users/4586257/benj-rei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 1, "accepted_answer_id": 32106813, "answer_count": 1, "score": 2, "last_activity_date": 1440024132, "creation_date": 1440020345, "question_id": 32106090, "link": "https://stackoverflow.com/questions/32106090/nltk-brill-tagger-splitting-words", "title": "NLTK Brill Tagger Splitting Words", "body": "<p>I am using python version 3.4.1 and NLTK version 3 and I am trying to use their  Brill Tagger. </p>\n\n<p>Here is the training code for the brill tagger:</p>\n\n<pre><code>import nltk\nfrom nltk.tag.brill import *\nimport nltk.tag.brill_trainer as bt\nfrom nltk.corpus import brown\n\nTemplate._cleartemplates()\ntemplates = fntbl37()\ntagged_sentences = brown.tagged_sents(categories = 'news')\ntagged_sentences = tagged_sentences[:]\ntagger = nltk.tag.BigramTagger(tagged_sentences)\ntagger = bt.BrillTaggerTrainer(tagger, templates, trace=3)\ntagger = tagger.train(tagged_sentences, max_rules=250)\nprint(tagger.evaluate(brown.tagged_sents(categories='fiction')[:]))\nprint(tagger.tag(\"Hi I am Harry Potter.\"))\n</code></pre>\n\n<p>The output to the last command however is:</p>\n\n<pre><code>[('H', 'NN'), ('i', 'NN'), (' ', 'NN'), ('I', 'NN'), (' ', 'NN'), ('a', 'AT'), ('m', 'NN'), (' ', 'NN'), ('H', 'NN'), ('a', 'AT'), ('r', 'NN'), ('r', 'NN'), ('y', 'NN'), (' ', 'NN'), ('P', 'NN'), ('o', 'NN'), ('t', 'NN'), ('t', 'NN'), ('e', 'NN'), ('r', 'NN'), ('.', '.')]\n</code></pre>\n\n<p>How do I stop it from splitting the words into letters and tagging the letters instead of the word?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 1, "creation_date": 1440020502, "post_id": 32106065, "comment_id": 52106830, "body": "@Kasramvd That question doesn&#39;t address <code>type</code>"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1440020809, "post_id": 32106065, "comment_id": 52106934, "body": "A little fiddling in the interpreter suggests there&#39;s not much difference with the result of <code>type</code>, and either way it produces <code>False</code> with subclasses. Try <code>class A(float): pass; a = A(); type(a) == type(2.0)</code> and you will get False. However, there could be some real edge cases here that I&#39;m not aware of, so I&#39;ll let someone who&#39;s way more familiar with Python internals answer."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1440020836, "post_id": 32106065, "comment_id": 52106945, "body": "<code>==</code> checks for <i>equality</i>, while <code>is</code> checks for <i>identity</i>. For most types the two concepts are the same, as <code>==</code> will delegate to an identity check. Use <code>is</code> as that is clearer. That said, you shouldn&#39;t really compare types like this; check for functionality (ducktyping) instead."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1440020893, "post_id": 32106065, "comment_id": 52106967, "body": "You may want to check for <i>subclasses</i> for example; <code>isinstance(x, type(y))</code> or <code>isinstance(y, type(x))</code>."}, {"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1440021186, "post_id": 32106065, "comment_id": 52107080, "body": "@MartijnPieters the question explicitly states that &quot;if <code>type(x)</code> is a subclass of <code>type(y)</code> (or vice versa), the [wanted] comparison should return <code>False</code>.&quot;"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 0, "creation_date": 1440021817, "post_id": 32106065, "comment_id": 52107337, "body": "@das-g: right, then <code>isinstance()</code> and <code>issubclass()</code> are right out and you are left with <code>type(x) is type(y)</code>. I still feel that that&#39;s a sign of a bad design somewhere."}], "owner": {"reputation": 2585, "user_id": 655885, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/dd946b9538467776f9123ba72c71444f?s=128&d=identicon&r=PG", "display_name": "Wirawan Purwanto", "link": "https://stackoverflow.com/users/655885/wirawan-purwanto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1440020766, "answer_count": 0, "score": 2, "last_activity_date": 1440020379, "creation_date": 1440020256, "last_edit_date": 1440020379, "question_id": 32106065, "link": "https://stackoverflow.com/questions/32106065/determining-the-datatype-equivalence-of-two-objects-in-python", "closed_reason": "Duplicate", "title": "Determining the datatype equivalence of two objects in python", "body": "<p>In python, <code>type(x)</code> yields the datatype of an object <code>x</code>. If I want to ascertain if two objects are of the same type, which one is more correct:</p>\n\n<pre><code>type(x) is type(y)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>type(x) == type(y)\n</code></pre>\n\n<p>Are there difference of the two? I want to be sure that the two objects have exactly identical datatype; so if <code>type(x)</code> is a subclass of <code>type(y)</code> (or vice versa), the comparison should return <code>False</code>. Thanks!</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 18211, "user_id": 1266737, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/I4r3M.jpg?s=128&g=1", "display_name": "Radu Gheorghiu", "link": "https://stackoverflow.com/users/1266737/radu-gheorghiu"}, "edited": false, "score": 0, "creation_date": 1440023511, "post_id": 32106705, "comment_id": 52107911, "body": "Somehow I missed that, but it totally makes sense. Thank you!"}], "tags": [], "owner": {"reputation": 1734, "user_id": 5230050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8kyDt.jpg?s=128&g=1", "display_name": "Alexander Bauer", "link": "https://stackoverflow.com/users/5230050/alexander-bauer"}, "is_accepted": true, "score": 17, "last_activity_date": 1440023413, "creation_date": 1440023413, "answer_id": 32106705, "question_id": 32106063, "link": "https://stackoverflow.com/questions/32106063/sklearn-linearsvc-x-has-1-features-per-sample-expecting-5/32106705#32106705", "title": "sklearn LinearSVC - X has 1 features per sample; expecting 5", "body": "<p>The variable test is a string - the SVC needs a feature vector with the same number of dimensions as X. You have to transform the test string to a feature vector using the same vectorizer instance, before you feed it to the SVC:</p>\n\n<pre><code>X_test=tvect.transform(test)\nclassifier.predict(X_test)\n</code></pre>\n"}], "owner": {"reputation": 18211, "user_id": 1266737, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/I4r3M.jpg?s=128&g=1", "display_name": "Radu Gheorghiu", "link": "https://stackoverflow.com/users/1266737/radu-gheorghiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26795, "favorite_count": 2, "accepted_answer_id": 32106705, "answer_count": 1, "score": 8, "last_activity_date": 1547804409, "creation_date": 1440020248, "question_id": 32106063, "link": "https://stackoverflow.com/questions/32106063/sklearn-linearsvc-x-has-1-features-per-sample-expecting-5", "title": "sklearn LinearSVC - X has 1 features per sample; expecting 5", "body": "<p>I'm trying to predict the class of a test array, but I'm getting the below error, along with the stack trace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/radu/PycharmProjects/Recommender/Temporary/classify_dict_test.py\", line 24, in &lt;module&gt;\n    print classifier.predict(test)\n  File \"/home/radu/.local/lib/python2.7/site-packages/sklearn/linear_model/base.py\", line 215, in predict\n    scores = self.decision_function(X)\n  File \"/home/radu/.local/lib/python2.7/site-packages/sklearn/linear_model/base.py\", line 196, in decision_function\n    % (X.shape[1], n_features))\nValueError: X has 1 features per sample; expecting 5\n</code></pre>\n\n<p>The code which is generating this is:</p>\n\n<pre><code>from sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.svm import LinearSVC\n\ncorpus = [\n    \"I am super good with Java and JEE\",\n    \"I am super good with .NET and C#\",\n    \"I am really good with Python and R\",\n    \"I am really good with C++ and pointers\"\n    ]\n\nclasses = [\"java developer\", \".net developer\", \"data scientist\", \"C++ developer\"]\n\ntest = [\"I think I'm a good developer with really good understanding of .NET\"]\n\ntvect = TfidfVectorizer(min_df=1, max_df=1)\n\nX = tvect.fit_transform(corpus)\n\nclassifier = LinearSVC()\nclassifier.fit(X, classes)\n\nprint classifier.predict(test)\n</code></pre>\n\n<p>I've tried looking into the <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.svm.LinearSVC.html#sklearn.svm.LinearSVC\" rel=\"noreferrer\">LinearSVC documentation</a> for guidelines or hints as to what might throw this error, but I can't figure it out.</p>\n\n<p>Any help is greatly appreciated!</p>\n"}, {"tags": ["python", "git", "amazon-web-services", "configuration", "salt-stack"], "answers": [{"tags": [], "owner": {"reputation": 4288, "user_id": 1629362, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/hnWU3.png?s=128&g=1", "display_name": "bitkot", "link": "https://stackoverflow.com/users/1629362/bitkot"}, "is_accepted": false, "score": 1, "last_activity_date": 1440140466, "creation_date": 1440140466, "answer_id": 32134240, "question_id": 32106049, "link": "https://stackoverflow.com/questions/32106049/salt-gitfs-formulas-not-being-downloaded/32134240#32134240", "title": "Salt GITFS Formulas Not Being Downloaded", "body": "<p>You also need to specify the <code>fileserver_backend</code> in master configuration. This is by default set to <code>roots</code>.</p>\n\n<p><strong>/etc/salt/master</strong></p>\n\n<pre><code>fileserver_backend:\n  - roots\n  - git\n\ngitfs_remotes:\n  - https://github.com/saltstack-formulas/jenkins-formula.git\n  - https://github.com/saltstack-formulas/apache-formula.git\n</code></pre>\n"}], "owner": {"reputation": 10095, "user_id": 1158977, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/B6Za7.png?s=128&g=1", "display_name": "Sam Hammamy", "link": "https://stackoverflow.com/users/1158977/sam-hammamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1440140466, "creation_date": 1440020132, "question_id": 32106049, "link": "https://stackoverflow.com/questions/32106049/salt-gitfs-formulas-not-being-downloaded", "title": "Salt GITFS Formulas Not Being Downloaded", "body": "<p>I followed this <a href=\"http://docs.saltstack.com/en/latest/topics/development/conventions/formulas.html\" rel=\"nofollow\">tutorial</a> to try to install the apache-formual from github.  I updated the <code>/etc/salt/master</code> file, restarted the daemon in the foreground with <code>-l debug</code> and here is my <code>top.sls</code> and <code>test.sls</code></p>\n\n<pre><code>/etc/salt/master\ngitfs_remotes:\n   - https://github.com/saltstack-formulas/jenkins-formula.git\n   - https://github.com/saltstack-formulas/apache-formula.git\n\ntop.sls\nbase:\n    ip-172-31-56-169.ec2.internal:\n        - test\ntest.sls\ninclude:\n    - apache\n</code></pre>\n\n<p>I then try to run the minion and receive the following error</p>\n\n<pre><code>ip-172-31-56-169.ec2.internal:\nData failed to compile:\n----------\nSpecified SLS apache in saltenv base is not available on the salt master or through a configured fileserver.\n</code></pre>\n\n<p>The output of the salt daemon is:</p>\n\n<pre><code>[INFO    ] Clear payload received with command publish\n[DEBUG   ] LazyLoaded local_cache.prep_jid\n[DEBUG   ] Sending event - data = {'_stamp': '2015-08-  19T21:22:53.239357', 'minions': ['ip-172-31-56-169.ec2.internal']}\n[DEBUG   ] Sending event - data = {'tgt_type': 'glob', 'jid': '20150819212253239143', 'tgt': '*', '_stamp': '2015-08-19T21:22:53.240005', 'user': 'sudo_ubuntu', 'arg': [], 'fun': 'state.highstate', 'minions': ['ip-172-31-56-169.ec2.internal']}\n[INFO    ] User sudo_ubuntu Published command state.highstate with jid 20150819212253239143\n[DEBUG   ] Published command details {'tgt_type': 'glob', 'jid': '20150819212253239143', 'tgt': '*', 'ret': '', 'user': 'sudo_ubuntu', 'arg':   [], 'fun': 'state.highstate'}\n[INFO    ] Clear payload received with command _auth\n[INFO    ] Authentication request from ip-172-31-56-169.ec2.internal\n[INFO    ] Authentication accepted from ip-172-31-56-169.ec2.internal\n[DEBUG   ] Sending event - data = {'id': 'ip-172-31-56-169.ec2.internal', '_stamp': '2015-08-19T21:22:53.256533', 'result': True, 'pub': '-----BEGIN PUBLIC KEY-----\\nMII..-----END PUBLIC KEY-----\\n', 'act': 'accept'}\n[DEBUG   ] LazyLoaded roots.envs\n[DEBUG   ] LazyLoaded roots.envs\n[DEBUG   ] LazyLoaded jinja.render\n[DEBUG   ] LazyLoaded yaml.render\n[DEBUG   ] LazyLoaded roots.envs\n[DEBUG   ] LazyLoaded roots.envs\n[DEBUG   ] LazyLoaded local_cache.prep_jid\n[INFO    ] Got return from ip-172-31-56-169.ec2.internal for job 20150819212253239143  \n[DEBUG   ] Sending event - data = {'fun_args': [], 'jid': '20150819212253239143', 'return': ['Specified SLS apache in saltenv base is not available on the salt master or through a configured fileserver'], 'retcode': 1, 'success': True, 'cmd': '_return', '_stamp': '2015-08-19T21:22:53.520679', 'fun': 'state.highstate', 'id': 'ip-172-31-56-169.ec2.internal', 'out': 'highstate'}\n</code></pre>\n\n<p>As you can see there is nothing in there about python-git not working.  I did install <code>apt-get install python-git</code> before trying anything.</p>\n\n<p>What can be wrong?</p>\n"}, {"tags": ["python", "ssh", "passwords", "format"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1440020404, "post_id": 32106021, "comment_id": 52106789, "body": "Your post doesn&#39;t contain a question. Often times posts with no explicit question result in confusing answers.  <b>Do you have a specific question?</b>"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1440022267, "post_id": 32106021, "comment_id": 52107497, "body": "<code>Account(&#39;{}&#39;.format(user_name), &#39;{}&#39;.format(pswd))</code>, although I don&#39;t know why you don&#39;t do <code>Account(user_name, pswd)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 5245090, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5a943f222952418a41ffc93ea002b21d?s=128&d=identicon&r=PG&f=1", "display_name": "J.Chan", "link": "https://stackoverflow.com/users/5245090/j-chan"}, "edited": false, "score": 0, "creation_date": 1440025313, "post_id": 32106054, "comment_id": 52108408, "body": "Thanks for the replies.  Both these suggestions worked:  account1 = Account(user_name, pswd) account1 = Account(\u2018{}\u2019.format(user_name), \u2018{}\u2019.format(pswd))"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1440020176, "creation_date": 1440020176, "answer_id": 32106054, "question_id": 32106021, "link": "https://stackoverflow.com/questions/32106021/python-string-format-with-symbols-in-password/32106054#32106054", "title": "Python string format with symbols in password", "body": "<p>In this line from your question:</p>\n\n<pre><code>account1 = Account('{}', '{}'.format(user_name, pswd))\n</code></pre>\n\n<p>You are only formatting one of the strings. Try this:</p>\n\n<pre><code>account1 = Account('{}'.format(user_name), '{}'.format(pswd))\n</code></pre>\n\n<p>Or, equivalently and even more simply:</p>\n\n<pre><code>account1 = Account(user_name, pswd)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 656, "user_id": 961646, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/i8vsU.jpg?s=128&g=1", "display_name": "Monkeybrain", "link": "https://stackoverflow.com/users/961646/monkeybrain"}, "is_accepted": false, "score": 0, "last_activity_date": 1440020773, "creation_date": 1440020773, "answer_id": 32106178, "question_id": 32106021, "link": "https://stackoverflow.com/questions/32106021/python-string-format-with-symbols-in-password/32106178#32106178", "title": "Python string format with symbols in password", "body": "<p>I don't think you are using the format specifier correctly.</p>\n\n<p>Try </p>\n\n<pre><code>account1 = Account(\"'{}','{}'\".format(user_name,pswd))\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5245090, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5a943f222952418a41ffc93ea002b21d?s=128&d=identicon&r=PG&f=1", "display_name": "J.Chan", "link": "https://stackoverflow.com/users/5245090/j-chan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440021092, "creation_date": 1440019988, "last_edit_date": 1440021092, "question_id": 32106021, "link": "https://stackoverflow.com/questions/32106021/python-string-format-with-symbols-in-password", "title": "Python string format with symbols in password", "body": "<p><strong>Objective:</strong> I want to SSH to a switch and execute a traceroute from the source to the destination.  The source and destination addresses and username and password for authentication on the switch are inputted by the user and stored in variables.  I'm using Python 2.7.10</p>\n\n<p><strong>Working Code:</strong></p>\n\n<pre><code>from Exscript.util.start import start\n\nfrom Exscript import Host, Account\n\nfrom netaddr import *          \n\nsrc_addr = raw_input('Enter source address for trace:   ')\n\nSrcAddr = IPAddress(src_addr)     \n\ndest_addr = raw_input('Enter destination address for trace: ')    \n\nDesAddr = IPAddress(dest_addr)     \n\ndef do_something(job, host, conn):\n\n    conn.execute('terminal length 0')\n    conn.execute('tr {}'.format(DesAddr))\n\naccount1 = Account('username', 'password')  # &lt;&lt;&lt;&lt; THIS &lt;&lt;&lt;&lt;\n\nhost1 = Host('ssh://{}'.format(SrcAddr))\n\nhost1.set_account(account1)\n\nstart(account1, host1, do_something)\n</code></pre>\n\n<p><strong>Problem Code:</strong></p>\n\n<pre><code>from Exscript.util.start import start\n\nfrom Exscript import Host, Account\n\nfrom netaddr import *          \n\nsrc_addr = raw_input('Enter source address for trace:   ')\n\nSrcAddr = IPAddress(src_addr)       #function for IP address\n\ndest_addr = raw_input('Enter destination address for trace: ')    \n\nDesAddr = IPAddress(dest_addr)     #function for IP address\n\nuser_name = raw_input('Enter your CEC username:  ')\n\npswd = raw_input('Enter your password:  ')\n\ndef do_something(job, host, conn):\n\n    conn.execute('terminal length 0')\n    conn.execute('tr {}'.format(DesAddr))\n\naccount1 = Account('{}', '{}'.format(user_name, pswd))  # &lt;&lt;&lt;&lt; THIS &lt;&lt;&lt;&lt;\n\nhost1 = Host('ssh://{}'.format(SrcAddr))\n\nhost1.set_account(account1)\n\nstart(account1, host1, do_something)\n</code></pre>\n\n<p>I commented the focused code in the \"working\" and \"problem\" code sample.  Under the \"working\" sample, if I hard code the username and password it authenticates to the switch successfully.  Under the \"problem\" code sample, I'm trying to use format() so that the user can input credentials into variables.  But for some reason, it will just not authenticate using this method.  I'm suspecting it's because the password contain a '!' symbol, but I'm not sure.</p>\n\n<p><strong>Summary</strong></p>\n\n<p>Code that authenticates successfully</p>\n\n<pre><code>account1 = Account('username', 'password')\n</code></pre>\n\n<p>Code that does not authenticate</p>\n\n<pre><code>account1 = Account('{}', '{}'.format(user_name, pswd))\n</code></pre>\n"}, {"tags": ["python", "sockets", "eventlet"], "answers": [{"comments": [{"owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1440021440, "post_id": 32106250, "comment_id": 52107190, "body": "Thanks..that worked but still Im not getting the expected result..After the first call, it gets stuck..there is no response"}, {"owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "reply_to_user": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1440021862, "post_id": 32106250, "comment_id": 52107360, "body": "Don&#39;t know, after changing <code>s = c.recv(50)[::-1] c.send(s)</code> to <code>msg = c.recv(50)[::-1] c.send(msg)</code> it works fine for me. Prints &quot;new process started Sending data uoy era woH !!olleH new process started over&quot; multiple times."}], "tags": [], "owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "is_accepted": true, "score": 1, "last_activity_date": 1440021106, "creation_date": 1440021106, "answer_id": 32106250, "question_id": 32106020, "link": "https://stackoverflow.com/questions/32106020/python-socket-multiple-calls-using-eventlet/32106250#32106250", "title": "Python socket multiple calls using Eventlet", "body": "<p>You're overriding variable with socket by string received from socket:</p>\n\n<pre><code>s = socket.socket()\n...\ns = c.recv(50)[::-1]\n</code></pre>\n\n<p>Pick different variable name for the second case.</p>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 32106250, "answer_count": 1, "score": 1, "last_activity_date": 1440021406, "creation_date": 1440019985, "last_edit_date": 1440021406, "question_id": 32106020, "link": "https://stackoverflow.com/questions/32106020/python-socket-multiple-calls-using-eventlet", "title": "Python socket multiple calls using Eventlet", "body": "<p>I need to call a socker server multiple times and print its output.</p>\n\n<p>Here is my below code:-</p>\n\n<p>server.py</p>\n\n<pre><code>import socket\n\ns = socket.socket()\n\nhost = socket.gethostname()\n\nport = 1234\n\ns.bind((host, port))\n\ns.listen(5)\n\nprint \"Server started\"\nwhile True:\n    c, addr = s.accept()\n    print('Got connection from', addr)\n    #sprint('Received message == ',c.recv(50))\n    s = c.recv(50)[::-1]\n    c.send(s)\n    c.close()\n</code></pre>\n\n<p>client.py</p>\n\n<pre><code>    import socket\nfrom time import sleep\nimport eventlet\n\ndef socket_client():\n    s = socket.socket()\n\n    host = socket.gethostname()\n\n    port = 1234\n\n    s.connect((host, port))\n\n    print \"Sending data\"\n    s.sendall(\"Hello!! How are you\")\n    print(s.recv(1024))\n\n#socket_client()\npile = eventlet.GreenPile()\n\nfor x in range(10):\n        print 'new process started'\n        pile.spawn(socket_client())\n        print 'new process started over'\n\nprint 'over'\n</code></pre>\n\n<p>I use a python eventlet to call the socket_client() 10 times but its not returning the correct result..</p>\n"}, {"tags": ["python", "django", "django-queryset"], "comments": [{"owner": {"reputation": 976, "user_id": 3213313, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59ba364004f1e00b6fbf239d2891064d?s=128&d=identicon&r=PG&f=1", "display_name": "BarFooBar", "link": "https://stackoverflow.com/users/3213313/barfoobar"}, "edited": false, "score": 0, "creation_date": 1440033279, "post_id": 32106011, "comment_id": 52110248, "body": "Modifying the <code>parent</code> object I created does not modify the original QuerySet. I figured out a way to do it by iterating over the QuerySet 3 times, but it&#39;s not pretty. If you have suggestions I&#39;d love to see them on the <a href=\"http://codereview.stackexchange.com/questions/101426/changing-attributes-in-django-objects-outside-of-iteration\">code review question</a> that I just posted."}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1440033492, "post_id": 32106011, "comment_id": 52110289, "body": "A queryset cannot be modified after you take a slice of it or start iterating through it."}], "answers": [{"tags": [], "owner": {"reputation": 813, "user_id": 3017644, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ue0DG.jpg?s=128&g=1", "display_name": "Ramez Ashraf", "link": "https://stackoverflow.com/users/3017644/ramez-ashraf"}, "is_accepted": false, "score": 0, "last_activity_date": 1440158488, "creation_date": 1440158488, "answer_id": 32139805, "question_id": 32106011, "link": "https://stackoverflow.com/questions/32106011/on-the-fly-modification-of-django-queryset-objects/32139805#32139805", "title": "On the fly modification of Django QuerySet objects", "body": "<p>I think in all cases you would issue another query \nGet a better hold on your <code>filters</code> and you should be fine.</p>\n\n<pre><code>filters = {cause_set_version_id:cause_set_version_id}\n\ncauselist_data = CauseHierarchy.objects.filter(filters**\n).extra(order_by=['sort_order']\n).prefetch_related('cause_id','parent_id')\n\nfor c in causelist_data:\n    # adding this attribute works\n    c.display_name = c.cause_id.cause_name + \" (\" + c.cause_id.acause + \")\"\n    if len(c.path_to_top_parent.split(',')) == 1:\n        # adding this attribute works as well\n        c.immediate_parent = c.path_to_top_parent.split(',')[-1]\n    else:\n        c.immediate_parent = c.path_to_top_parent.split(',')[-2]\n\n    filters['cause_id'] = c.immediate_parent\n    parent = CauseHierarchy.objects.filter(filters**)[0]\n\n    parent.is_parent = True\n</code></pre>\n"}], "owner": {"reputation": 976, "user_id": 3213313, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/59ba364004f1e00b6fbf239d2891064d?s=128&d=identicon&r=PG&f=1", "display_name": "BarFooBar", "link": "https://stackoverflow.com/users/3213313/barfoobar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440158488, "creation_date": 1440019967, "last_edit_date": 1440033465, "question_id": 32106011, "link": "https://stackoverflow.com/questions/32106011/on-the-fly-modification-of-django-queryset-objects", "title": "On the fly modification of Django QuerySet objects", "body": "<p>I'm trying to add two attributes to every object in the queryset and add one more to a specific subset:</p>\n\n<pre><code>causelist_data = CauseHierarchy.objects.filter(cause_set_version_id=cause_set_version_id\n    ).extra(order_by=['sort_order']\n    ).prefetch_related('cause_id','parent_id')\n\nfor c in causelist_data:\n    # adding this attribute works\n    c.display_name = c.cause_id.cause_name + \" (\" + c.cause_id.acause + \")\"\n    if len(c.path_to_top_parent.split(',')) == 1:\n        # adding this attribute works as well\n        c.immediate_parent = c.path_to_top_parent.split(',')[-1]\n    else:\n        c.immediate_parent = c.path_to_top_parent.split(',')[-2]\n\n    # this is the problem\n    parent = causelist_data.filter(cause_id=c.immediate_parent)[0]\n    parent.is_parent = True\n</code></pre>\n\n<p>The modification works when I add a display name to each object and when I add an immediate_parent attribute based on a conditional. The problem arises when I try to set an is_parent attribute to objects that have been identified as children by pulling their id as each object identifies its parent in the iteration.</p>\n\n<p>In the shell I tried to print the <code>parent</code> object within the loop and it has the is_parent attribute, but when I look at causelist_data outside of the loop it has both the display_name and the immediate_parent attributes. I also tried to update the parent object after the filter (<code>parent = causelist_data.filter(cause_id=c.immediate_parent).update(is_parent=True)</code>), but it looks like I can't add an attribute like that, only update.</p>\n\n<p>Am I missing something here? Is my lookup incorrect?</p>\n"}, {"tags": ["php", "python", "html", "forms", "flask"], "comments": [{"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1440025969, "post_id": 32106009, "comment_id": 52108567, "body": "How are you rendering the template?"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1440102733, "post_id": 32106009, "comment_id": 52146954, "body": "Which are you using: Flask or PHP?"}], "answers": [{"tags": [], "owner": {"reputation": 2258, "user_id": 5270172, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2VVKW.jpg?s=128&g=1", "display_name": "Kelly Keller-Heikkila", "link": "https://stackoverflow.com/users/5270172/kelly-keller-heikkila"}, "is_accepted": false, "score": 0, "last_activity_date": 1440886340, "last_edit_date": 1495541178, "creation_date": 1440886340, "answer_id": 32291158, "question_id": 32106009, "link": "https://stackoverflow.com/questions/32106009/flask-keep-checkboxes-checked-after-form-submission/32291158#32291158", "title": "Flask - Keep checkboxes checked after form submission", "body": "<p>PHP and Python are completely different languages (Flask runs on top of Python). Trying to use PHP to improve the functionality of Flask is like trying to use German to improve your French. They are separate and don't work well together.</p>\n\n<p>The answer in <a href=\"https://stackoverflow.com/questions/31216179/php-within-html-not-working-using-flask\">PHP within HTML not working using Flask</a> is correct. You need to use Jinja2 commands within your .html file.</p>\n\n<p>I would recommend using <a href=\"https://wtforms.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">WTForms</a> to generate your checkbox instead of doing it yourself.</p>\n"}], "owner": {"reputation": 111, "user_id": 3821273, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/0f7bb37cb4aa7f70c5c74def3d0c4d9d?s=128&d=identicon&r=PG&f=1", "display_name": "user3821273", "link": "https://stackoverflow.com/users/3821273/user3821273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 601, "favorite_count": 0, "closed_date": 1441935150, "answer_count": 1, "score": 2, "last_activity_date": 1440886340, "creation_date": 1440019956, "last_edit_date": 1495540333, "question_id": 32106009, "link": "https://stackoverflow.com/questions/32106009/flask-keep-checkboxes-checked-after-form-submission", "closed_reason": "Needs details or clarity", "title": "Flask - Keep checkboxes checked after form submission", "body": "<p>I have a form with questions and checkboxes. I would like to show the checked boxes after the form has been submitted. </p>\n\n<pre><code>&lt;form action=\"/predict\" role=\"form\" method=\"POST\" id=\"prediction_form\"&gt;\n  &lt;p&gt;&lt;b&gt;Check the box next to the question&lt;/b&gt;&lt;/p&gt;\n  &lt;div class=\"checkbox\"&gt;\n  &lt;label&gt;\n    &lt;input type=\"checkbox\" name=\"q1\" value=\"1\"&gt;\n    1. question\n    ...\n</code></pre>\n\n<p>I searched answers to this question and found that some people use PHP (via <a href=\"https://stackoverflow.com/questions/12541419/php-keep-checkbox-checked-after-submitting-form\">PHP keep checkbox checked after submitting form</a>). However, this didn't work for me when I tried:</p>\n\n<pre><code>&lt;input type=\"checkbox\" name=\"q1\" value=\"1\" &lt;?php if(isset($_POST['q1'])) echo \"checked='checked'\"; ?&gt;  /&gt;\n</code></pre>\n\n<p>I also read from <a href=\"https://stackoverflow.com/questions/31216179/php-within-html-not-working-using-flask\">PHP within HTML not working using Flask</a> that you shouldn't use PHP with Flask.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 2746, "user_id": 3595907, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/oQQOc.png?s=128&g=1", "display_name": "DrBwts", "link": "https://stackoverflow.com/users/3595907/drbwts"}, "edited": false, "score": 0, "creation_date": 1440019834, "post_id": 32105954, "comment_id": 52106513, "body": "<a href=\"http://stackoverflow.com/questions/24269756/turning-binary-string-into-an-image-with-pil\">Possible duplicate</a>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1440019859, "post_id": 32105954, "comment_id": 52106525, "body": "Precisely what does &quot;save it as a bitmap&quot; mean to you? Do you mean that you want to display the image? That you want to save it in GIF or JPG form? That you want to simply write the bits to a file with no image metadata at all?"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 0, "creation_date": 1440020470, "post_id": 32105954, "comment_id": 52106818, "body": "You could save it as a netbpm pretty easily, if that&#39;s also acceptable: <a href=\"https://en.wikipedia.org/wiki/Netpbm_format#PGM_example\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Netpbm_format#PGM_example</a>"}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 2, "creation_date": 1440020566, "post_id": 32105954, "comment_id": 52106850, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/20304438/how-can-i-use-the-python-imaging-library-to-create-a-bitmap\">how can I use the python imaging library to create a bitmap</a>"}, {"owner": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "reply_to_user": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "edited": false, "score": 1, "creation_date": 1440021112, "post_id": 32105954, "comment_id": 52107053, "body": "@ap - The duplicate question was limiting the scope of the answer to the Python Imaging Library, when there are other ways to answer the question."}, {"owner": {"reputation": 2777, "user_id": 1002371, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/612ee2165cc4115ea14888dbf6ae24cf?s=128&d=identicon&r=PG", "display_name": "a p", "link": "https://stackoverflow.com/users/1002371/a-p"}, "reply_to_user": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "edited": false, "score": 1, "creation_date": 1440021306, "post_id": 32105954, "comment_id": 52107127, "body": "@Back2Basics asker specifically requests PIL responses, and has tagged his question with python-imaging-library"}, {"owner": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "edited": false, "score": 1, "creation_date": 1440021693, "post_id": 32105954, "comment_id": 52107281, "body": "...and yet the asker picked the matplotlib answer.  &quot;...People don&#39;t know what they want till you show it to them.&quot; - Steve Jobs"}], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 5086816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045beca65b66e8a454853a0fe75d82d0?s=128&d=identicon&r=PG&f=1", "display_name": "interplex", "link": "https://stackoverflow.com/users/5086816/interplex"}, "edited": false, "score": 0, "creation_date": 1440021062, "post_id": 32106115, "comment_id": 52107033, "body": "This works well for me! Only problem is the output is red and blue, not black and white. Any thoughts?"}, {"owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "reply_to_user": {"reputation": 267, "user_id": 5086816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045beca65b66e8a454853a0fe75d82d0?s=128&d=identicon&r=PG&f=1", "display_name": "interplex", "link": "https://stackoverflow.com/users/5086816/interplex"}, "edited": false, "score": 2, "creation_date": 1440024875, "post_id": 32106115, "comment_id": 52108307, "body": "By default it saves array in jet colormap, black and white would be gray colormap. Will update the answer when i get back to my machine"}], "tags": [], "owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "is_accepted": true, "score": 10, "last_activity_date": 1440026355, "last_edit_date": 1440026355, "creation_date": 1440020457, "answer_id": 32106115, "question_id": 32105954, "link": "https://stackoverflow.com/questions/32105954/how-can-i-write-a-binary-array-as-an-image-in-python/32106115#32106115", "title": "How can I write a binary array as an image in Python?", "body": "<p>The <code>numpy</code> and <code>matplotlib</code> way of doing it would be:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport matplotlib.cm as cm\nimport numpy as np\nplt.imsave('filename.png', np.array(data).reshape(50,50), cmap=cm.gray)\n</code></pre>\n\n<p>See <a href=\"http://matplotlib.org/api/image_api.html#matplotlib.image.imsave\" rel=\"noreferrer\">this</a></p>\n"}, {"tags": [], "owner": {"reputation": 6221, "user_id": 1499803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64d0702c82056cae179a5d46e79773c1?s=128&d=identicon&r=PG", "display_name": "Back2Basics", "link": "https://stackoverflow.com/users/1499803/back2basics"}, "is_accepted": false, "score": 3, "last_activity_date": 1440020464, "creation_date": 1440020464, "answer_id": 32106116, "question_id": 32105954, "link": "https://stackoverflow.com/questions/32105954/how-can-i-write-a-binary-array-as-an-image-in-python/32106116#32106116", "title": "How can I write a binary array as an image in Python?", "body": "<pre><code>import scipy.misc\nimport numpy as np\ndata = [1,0,1,0,1,0...]\ndata = np.array(data).reshape(50,50)\nscipy.misc.imsave('outfile.bmp', data)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 5, "creation_date": 1440021311, "post_id": 32106188, "comment_id": 52107129, "body": "Upvoting since this is the only answer not to use external libraries not mentioned in the original question or tags."}, {"owner": {"reputation": 1537, "user_id": 5863267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977d0b68fc4797a93071d327b612956d?s=128&d=identicon&r=PG", "display_name": "mh sattarian", "link": "https://stackoverflow.com/users/5863267/mh-sattarian"}, "edited": false, "score": 0, "creation_date": 1578670646, "post_id": 32106188, "comment_id": 105526335, "body": "I get <code>SystemError: new style getargs format but argument is not a tuple</code> on this line: <code>pixels[i, j] = data[i][j]</code>. it seems the assigned value must be a tuple so this fixes: <code>pixels[i, j] = data[i][j], </code>"}], "tags": [], "owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "is_accepted": false, "score": 18, "last_activity_date": 1496417822, "last_edit_date": 1496417822, "creation_date": 1440020805, "answer_id": 32106188, "question_id": 32105954, "link": "https://stackoverflow.com/questions/32105954/how-can-i-write-a-binary-array-as-an-image-in-python/32106188#32106188", "title": "How can I write a binary array as an image in Python?", "body": "<p>You can use <code>Image.new</code> with <a href=\"https://pillow.readthedocs.io/en/4.1.x/handbook/concepts.html#concept-modes\" rel=\"noreferrer\"><code>1</code></a> mode and put each integer as pixel in your initial image:</p>\n\n<pre><code>&gt;&gt;&gt; from PIL import Image\n&gt;&gt;&gt; import random\n\n&gt;&gt;&gt; data = [random.choice((0, 1)) for _ in range(2500)]\n&gt;&gt;&gt; data[:] = [data[i:i + 50] for i in range(0, 2500, 50)]\n&gt;&gt;&gt; print data\n[[0, 1, 0, 0, 1, ...], [0, 1, 1, 0, 1, ...], [1, 1, 0, 1, ...], ...]\n\n&gt;&gt;&gt; img = Image.new('1', (50, 50))\n&gt;&gt;&gt; pixels = img.load()\n\n&gt;&gt;&gt; for i in range(img.size[0]):\n...    for j in range(img.size[1]):\n...        pixels[i, j] = data[i][j]\n\n&gt;&gt;&gt; img.show()\n&gt;&gt;&gt; img.save('/tmp/image.bmp')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Kwycg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Kwycg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 5718148, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/30d6f5a0eddb41c8ef1add259c7f0006?s=128&d=identicon&r=PG&f=1", "display_name": "Shanid", "link": "https://stackoverflow.com/users/5718148/shanid"}, "is_accepted": false, "score": 1, "last_activity_date": 1525679271, "creation_date": 1525679271, "answer_id": 50209405, "question_id": 32105954, "link": "https://stackoverflow.com/questions/32105954/how-can-i-write-a-binary-array-as-an-image-in-python/50209405#50209405", "title": "How can I write a binary array as an image in Python?", "body": "<p><strong>Not for binary array</strong></p>\n\n<p>In case you have <strong>binary data</strong> in this format - <code>b'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00...</code>, then you may use this method to write it as an image file:</p>\n\n<pre><code>with open(\"image_name.png\", \"wb\") as img:\n    img.write(binary_data)\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 5086816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045beca65b66e8a454853a0fe75d82d0?s=128&d=identicon&r=PG&f=1", "display_name": "interplex", "link": "https://stackoverflow.com/users/5086816/interplex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29056, "favorite_count": 1, "accepted_answer_id": 32106115, "answer_count": 4, "score": 14, "last_activity_date": 1525679271, "creation_date": 1440019680, "question_id": 32105954, "link": "https://stackoverflow.com/questions/32105954/how-can-i-write-a-binary-array-as-an-image-in-python", "title": "How can I write a binary array as an image in Python?", "body": "<p>I have an array of binary numbers in Python:</p>\n\n<pre><code>data = [0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 1...]\n</code></pre>\n\n<p>I would like to take this data out and save it as a bitmap, with a '0' corresponding to white and a '1' corresponding to black. I know that there are 2500 numbers in the array, corresponding to a 50x50 bitmap. I've downloaded and installed PIL, but I'm not sure how to use it for this purpose. How can I convert this array into the corresponding image?</p>\n"}, {"tags": ["python", "linux", "pyside"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1440019535, "post_id": 32105909, "comment_id": 52106379, "body": "You need to install it for the interpreter you are going to use, <code>&#47;usr&#47;local&#47;bin&#47;python3</code> knows nothing about the packages installed for  <code>&#47;usr&#47;bin&#47;python3</code> , as a workaround you could add the path to your pythonpath but the best option is to use the pip that is pointing to /usr/local/bin/python3  and <code>pip install  PySide</code>"}, {"owner": {"reputation": 67, "user_id": 4962404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7ZQjEFJRVLE/AAAAAAAAAAI/AAAAAAAAAB8/A8gJodmLGyM/photo.jpg?sz=128", "display_name": "Gustavo Rodriguez", "link": "https://stackoverflow.com/users/4962404/gustavo-rodriguez"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1440019759, "post_id": 32105909, "comment_id": 52106474, "body": "@PadraicCunningham how do I know exactly which directory created by the pyside package to add to my pythonpath? I tried locate pyside but I have a ton of places where it is located. Thank you!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1440019999, "post_id": 32105909, "comment_id": 52106600, "body": "<code>import PySide;PySide.__file__</code>  from a /usr/bin/python3 shell, I would recommend trying the pip idea first"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1440021055, "post_id": 32105909, "comment_id": 52107028, "body": "Forget pip, just saw they don&#39;t supply a binary for ubuntu, use the instructions here <a href=\"http://pyside.readthedocs.org/en/latest/building/linux.html\" rel=\"nofollow noreferrer\">pyside.readthedocs.org/en/latest/building/linux.html</a> just amke sure you use <code>&#47;usr&#47;local&#47;bin&#47;python3</code> to run any commands"}, {"owner": {"reputation": 67, "user_id": 4962404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7ZQjEFJRVLE/AAAAAAAAAAI/AAAAAAAAAB8/A8gJodmLGyM/photo.jpg?sz=128", "display_name": "Gustavo Rodriguez", "link": "https://stackoverflow.com/users/4962404/gustavo-rodriguez"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1440085352, "post_id": 32105909, "comment_id": 52137506, "body": "@PadraicCunningham thank you - I tried to build/install pyside from the website you suggested, but the commands don&#39;t work with python3, only with python 2.7. I tried them all with python3 at first and there were many errors, but they worked fine with python2.7. I finished installing it and it still doesn&#39;t work because it was linked to python 2.7. Please help :("}], "owner": {"reputation": 67, "user_id": 4962404, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7ZQjEFJRVLE/AAAAAAAAAAI/AAAAAAAAAB8/A8gJodmLGyM/photo.jpg?sz=128", "display_name": "Gustavo Rodriguez", "link": "https://stackoverflow.com/users/4962404/gustavo-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1606922609, "creation_date": 1440019436, "last_edit_date": 1440089558, "question_id": 32105909, "link": "https://stackoverflow.com/questions/32105909/pyside-linked-to-the-wrong-python3-interpreter-no-module-named-pyside", "title": "PySide linked to the wrong python3 interpreter (no module named &#39;PySide&#39;)", "body": "<p>After installing pyside through <code>sudo apt-get install python3-pyside</code>, I am able to run pyside if I run my python script from <code>/usr/bin/python3</code> (the python that came with ubuntu), but when I try to run it from the python3 I installed from source, which is located in <code>/usr/local/bin/python3</code>, I get the error: </p>\n\n<pre><code>from PySide import QtCore, QtGui\nImportError: No module named 'PySide'\n</code></pre>\n\n<p>Could anyone help me figure out how to link PySide to this binary as well?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "plot"], "answers": [{"comments": [{"owner": {"reputation": 6193, "user_id": 5110870, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TVsCr.png?s=128&g=1", "display_name": "FaCoffee", "link": "https://stackoverflow.com/users/5110870/facoffee"}, "edited": false, "score": 1, "creation_date": 1469720672, "post_id": 32105953, "comment_id": 64665165, "body": "If you want to plot two rows, so that on the x axis you have the category and then you have two bars for each category, how do you avoid them being stacked?"}, {"owner": {"reputation": 2627, "user_id": 2095024, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/uhSof.png?s=128&g=1", "display_name": "jeromerg", "link": "https://stackoverflow.com/users/2095024/jeromerg"}, "edited": false, "score": 2, "creation_date": 1477409650, "post_id": 32105953, "comment_id": 67750210, "body": "It works, but how do you add a label for the row into the legend? How do you plot multiple rows?"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 10, "last_activity_date": 1440019680, "creation_date": 1440019680, "answer_id": 32105953, "question_id": 32105817, "link": "https://stackoverflow.com/questions/32105817/plot-entire-row-on-pandas/32105953#32105953", "title": "plot entire row on pandas", "body": "<p>Select the row:</p>\n\n<pre><code>row = df.iloc[0]\n</code></pre>\n\n<p>Plot the row (a <code>pandas.Series</code>):</p>\n\n<pre><code>row.plot(kind='bar')\n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\nd = {'columns': ['T', 'G', 'C', '-', 'A', 'C', 'T', '-', 'A', 'G', 'T', \n                 '-', 'A', 'G', 'C', '-', 'A', 'T', 'G', 'C'],\n     'data': [[97, 457, 178, 75, 718, 217, 193, 69, 184, 198,\n               777, 65, 100, 143, 477, 54, 63, 43, 55, 47]],\n     'index': [1]}\ndf = pd.DataFrame(d['data'], columns=d['columns'], index=d['index'])\ndf.columns.names = ['SAMPLE']\n\nrow = df.iloc[0]\nrow.plot(kind='bar')\nplt.show()\n</code></pre>\n\n<p>yields</p>\n\n<p><a href=\"https://i.stack.imgur.com/M4ieG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/M4ieG.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 151, "user_id": 5135559, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e7bea303e355868f927344a4230d60f6?s=128&d=identicon&r=PG&f=1", "display_name": "kant", "link": "https://stackoverflow.com/users/5135559/kant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26050, "favorite_count": 1, "accepted_answer_id": 32105953, "answer_count": 1, "score": 5, "last_activity_date": 1440019680, "creation_date": 1440019052, "question_id": 32105817, "link": "https://stackoverflow.com/questions/32105817/plot-entire-row-on-pandas", "title": "plot entire row on pandas", "body": "<p>I have an entire row from the matrix. And I try to do bar plot.I try to find any examples but I couldn't so, can somebody help me?</p>\n\n<pre><code>In [9]:Atot1\nOut[9]: \n     T    G    C   -    A    C    T   -    A    G    T   -    A    G    C   \nSAMPLE                                                                          \n1       97  457  178  75  718  217  193  69  184  198  777  65  100  143  477   \n\n     -   A   T   G   C  \nSAMPLE                      \n1       54  63  43  55  47  \n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1440019065, "post_id": 32105787, "comment_id": 52106141, "body": "<a href=\"http://stackoverflow.com/questions/480214/how-do-you-remove-duplicates-from-a-list-in-python-whilst-preserving-order?rq=1\" title=\"how do you remove duplicates from a list in python whilst preserving order\">stackoverflow.com/questions/480214/&hellip;</a>"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1440019120, "post_id": 32105787, "comment_id": 52106163, "body": "Or the one Marc suggested. Essentially this is a duplicate because it&#39;s exactly the same as deduping a regular list, but you&#39;ll end up doing it with a loop of some kind."}], "answers": [{"comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1440019221, "post_id": 32105831, "comment_id": 52106213, "body": "Worse suggestion than most answers in the duplicate questions, won&#39;t preserve initial order, and does not sort at the end (last part of question)."}, {"owner": {"reputation": 11, "user_id": 3938837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6f64001834def2addcc7be3521c6e7?s=128&d=identicon&r=PG&f=1", "display_name": "cs4", "link": "https://stackoverflow.com/users/3938837/cs4"}, "edited": false, "score": 0, "creation_date": 1440019256, "post_id": 32105831, "comment_id": 52106233, "body": "corrected the brackets, thank you for pointing that out."}, {"owner": {"reputation": 2082, "user_id": 2002580, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b2d16135241bda360d9fe3bfbfe08b0d?s=128&d=identicon&r=PG", "display_name": "BWStearns", "link": "https://stackoverflow.com/users/2002580/bwstearns"}, "edited": false, "score": 0, "creation_date": 1440019320, "post_id": 32105831, "comment_id": 52106259, "body": "Ah, fair, didn&#39;t see the sorted (or it was part of an edit?)."}, {"owner": {"reputation": 11, "user_id": 3938837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6f64001834def2addcc7be3521c6e7?s=128&d=identicon&r=PG&f=1", "display_name": "cs4", "link": "https://stackoverflow.com/users/3938837/cs4"}, "edited": false, "score": 0, "creation_date": 1440019371, "post_id": 32105831, "comment_id": 52106292, "body": "It was there, I just edited the brackets and tried to add a couple of things that I&#39;ve done."}], "tags": [], "owner": {"reputation": 2082, "user_id": 2002580, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b2d16135241bda360d9fe3bfbfe08b0d?s=128&d=identicon&r=PG", "display_name": "BWStearns", "link": "https://stackoverflow.com/users/2002580/bwstearns"}, "is_accepted": false, "score": 0, "last_activity_date": 1440019364, "last_edit_date": 1440019364, "creation_date": 1440019101, "answer_id": 32105831, "question_id": 32105787, "link": "https://stackoverflow.com/questions/32105787/how-to-remove-duplicates-from-each-list-in-a-list-of-lists/32105831#32105831", "title": "How to remove duplicates from each list in a list of lists", "body": "<p>Maybe something like: </p>\n\n<pre><code>In [21]: vv=[[234,354,400,400,230,300,500],[2,2,24],[56,102,98]]\n\nIn [22]: [sorted(list(set(v))) for v in vv]\nOut[22]: [[354, 230, 234, 300, 400, 500], [24, 2], [56, 98, 102]]\n</code></pre>\n\n<p>By the way, your data structure there is a bit weird. It has mismatched brackets and each second layer list is wrapped in an extra list, I've assumed for the moment that these are typos and not intentional.</p>\n"}], "owner": {"reputation": 11, "user_id": 3938837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6f64001834def2addcc7be3521c6e7?s=128&d=identicon&r=PG&f=1", "display_name": "cs4", "link": "https://stackoverflow.com/users/3938837/cs4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1440156455, "answer_count": 1, "score": -4, "last_activity_date": 1440019364, "creation_date": 1440018926, "last_edit_date": 1440019192, "question_id": 32105787, "link": "https://stackoverflow.com/questions/32105787/how-to-remove-duplicates-from-each-list-in-a-list-of-lists", "closed_reason": "Duplicate", "title": "How to remove duplicates from each list in a list of lists", "body": "<p>I want to remove duplicates from each list in a list of lists. Is there an efficient, pythonic way to do that?</p>\n\n<pre><code>v=[[[234,354,400,400,230,300,500]],[[2,2,24]],[[56,102,98]]]\n</code></pre>\n\n<p>And I'd liked to remove all the duplicates from each individual list, then sort each individual list, producing an output of:</p>\n\n<pre><code>[[[230,234,300,354,400,500]],[[2,24]],[[56,98,102]]]\n</code></pre>\n\n<p>If at all possible, I'd like to keep the structure of the lists as they are(double brackets). Is there any (relatively) easy way to do this in python?</p>\n\n<p>I've tried a few other ways, but found it difficult to work with the structure of the list and the fact that it is unhashable makes it a little tougher. </p>\n"}, {"tags": ["python", "class", "tkinter", "textbox"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1440022062, "post_id": 32105684, "comment_id": 52107429, "body": "<code>te.textbox()</code> - notice the lack of trailing parenthesis in your code."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1440352512, "post_id": 32105684, "comment_id": 52226047, "body": "Suggestions: get rid of the <code>#==label===#</code> dividers; call all initialization methods in <code>.__init__</code>"}], "owner": {"reputation": 17, "user_id": 5244982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9940e75afd0adb3f5b5e7cfc1d87defb?s=128&d=identicon&r=PG&f=1", "display_name": "xdwes", "link": "https://stackoverflow.com/users/5244982/xdwes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440018459, "creation_date": 1440018459, "question_id": 32105684, "link": "https://stackoverflow.com/questions/32105684/how-to-make-frame-and-text-box-appear-in-gui", "title": "How to make Frame and Text box appear in GUI?", "body": "<pre><code>from tkinter import *\n\n\nclass TextEdit:\n\n    def __init__  (self, master):\n        self.menubar = Menu(master)\n        self.topframe = Frame(master)\n\n#===================== Window =====================#\n    def window (self, master):\n        master.title(\"TextEdit\")\n        master.geometry(\"600x500\")   \n\n#===================== Menu =====================#\n#......\n\n#===================== Text Box =====================#\n\n    def textBox (self):\n        self.topframe.pack()\n        self.text = Text(self.topframe, width=50, height=50)\n        self.text.pack(side= LEFT)\n\n\nroot = Tk()\n\nte = TextEdit(root)\n\nte.menu(root)\nte.window(root)\nte.textBox\n\n\nroot.mainloop()\n</code></pre>\n\n<p>How do i make the text box visible in the gui?\nThe menu is visible but other than that its all blank.\nThe frame does not seem to appear (I tried coloring it).\nNo errors or nothing in shell. </p>\n"}, {"tags": ["python", "django", "firefox", "django-csrf"], "comments": [{"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 0, "creation_date": 1440018618, "post_id": 32105645, "comment_id": 52105947, "body": "Did you check <code>getCookie(&#39;csrftoken&#39;)</code> returns any value in Firefox?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1440019223, "post_id": 32105645, "comment_id": 52106214, "body": "Please show the code that is rendering the form."}, {"owner": {"reputation": 2154, "user_id": 2350219, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/K61LC.jpg?s=128&g=1", "display_name": "Ashish Gupta", "link": "https://stackoverflow.com/users/2350219/ashish-gupta"}, "edited": false, "score": 0, "creation_date": 1440019659, "post_id": 32105645, "comment_id": 52106425, "body": "form is a ajax form and I am posting serialized data to django with csrftoken that I get from cookie using this <code>xhr.setRequestHeader(&quot;X-CSRFToken&quot;, getCookie(&#39;csrftoken&#39;))</code>"}, {"owner": {"reputation": 2708, "user_id": 790474, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1c9830aee36bb043b3f415247c8a0424?s=128&d=identicon&r=PG", "display_name": "henrikstroem", "link": "https://stackoverflow.com/users/790474/henrikstroem"}, "edited": false, "score": 0, "creation_date": 1440021749, "post_id": 32105645, "comment_id": 52107301, "body": "If you look at the network traffic in the browser inspector, do you see the csrf token there?"}, {"owner": {"reputation": 2154, "user_id": 2350219, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/K61LC.jpg?s=128&g=1", "display_name": "Ashish Gupta", "link": "https://stackoverflow.com/users/2350219/ashish-gupta"}, "edited": false, "score": 0, "creation_date": 1440024245, "post_id": 32105645, "comment_id": 52108125, "body": "Its behaving weird, when I log in the application , I get csrf_token and then it stays there even after login. But if I clear all the cookies of the browser, then    I don&#39;t get any csrf_token till I log in . Why I am not getting csrf_token without login ?"}], "answers": [{"tags": [], "owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "is_accepted": true, "score": 4, "last_activity_date": 1440079541, "last_edit_date": 1440079541, "creation_date": 1440033725, "answer_id": 32108091, "question_id": 32105645, "link": "https://stackoverflow.com/questions/32105645/firefox-not-receiving-django-csrf-token/32108091#32108091", "title": "Firefox not receiving django csrf_token", "body": "<p>Add the following decorator to the view that generates the page that holds the form </p>\n\n<p>@ensure_csrf_cookie</p>\n\n<p>From the Django Docs -</p>\n\n<blockquote>\n  <p>Page uses AJAX without any HTML form</p>\n  \n  <p>A page makes a POST request via AJAX, and the page does not have an\n  HTML form with a csrf_token that would cause the required CSRF cookie\n  to be sent.</p>\n  \n  <p>Solution: use ensure_csrf_cookie() on the view that sends the page.</p>\n</blockquote>\n"}], "owner": {"reputation": 2154, "user_id": 2350219, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/K61LC.jpg?s=128&g=1", "display_name": "Ashish Gupta", "link": "https://stackoverflow.com/users/2350219/ashish-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1018, "favorite_count": 1, "accepted_answer_id": 32108091, "answer_count": 1, "score": 4, "last_activity_date": 1440079541, "creation_date": 1440018269, "question_id": 32105645, "link": "https://stackoverflow.com/questions/32105645/firefox-not-receiving-django-csrf-token", "title": "Firefox not receiving django csrf_token", "body": "<p>I am submitting a ajax form in django and using </p>\n\n<pre><code>xhr.setRequestHeader(\"X-CSRFToken\", getCookie('csrftoken'));\n</code></pre>\n\n<p>to get csrf_token. The form is working well in chrome. But in firefox the value of csrf_token is null and its giving 403 forbidden error. I am not receiving csrf_token in console when I checked cookies in console. Why django is not giving csrf_token to firefox browser ?</p>\n"}, {"tags": ["python", "parsing", "python-3.x", "robobrowser"], "answers": [{"tags": [], "owner": {"reputation": 1860, "user_id": 1212334, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c0c32dbaa68b4cd94a84038a52bc3aab?s=128&d=identicon&r=PG", "display_name": "RhymeGuy", "link": "https://stackoverflow.com/users/1212334/rhymeguy"}, "is_accepted": true, "score": 1, "last_activity_date": 1440020282, "creation_date": 1440020282, "answer_id": 32106073, "question_id": 32105605, "link": "https://stackoverflow.com/questions/32105605/python-robobrowser-how-to-get-content-from-this-page/32106073#32106073", "title": "Python RoboBrowser - How to get content from this page", "body": "<p>This has been solved by now.\nI have noticed that there are two forms on page with identical names. I think that the first one (which was hidden by display:none) was submitted as honeypot.</p>\n\n<p>Anyway the solutions is:</p>\n\n<pre><code>form = browser.get_forma(action='/ObjedinjenePretrage/Search/SearchResult')[1]\n</code></pre>\n"}], "owner": {"reputation": 1860, "user_id": 1212334, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c0c32dbaa68b4cd94a84038a52bc3aab?s=128&d=identicon&r=PG", "display_name": "RhymeGuy", "link": "https://stackoverflow.com/users/1212334/rhymeguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2487, "favorite_count": 1, "accepted_answer_id": 32106073, "answer_count": 1, "score": 3, "last_activity_date": 1440020282, "creation_date": 1440018100, "question_id": 32105605, "link": "https://stackoverflow.com/questions/32105605/python-robobrowser-how-to-get-content-from-this-page", "title": "Python RoboBrowser - How to get content from this page", "body": "<p>Im trying to submit form on page <a href=\"http://pretraga2.apr.gov.rs/ObjedinjenePretrage/Search/Search\" rel=\"nofollow\">http://pretraga2.apr.gov.rs/ObjedinjenePretrage/Search/Search</a></p>\n\n<p>However im receving error (HTML) like:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;head&gt;\n    &lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;\n        Sorry, an error occurred while processing your request.\n    &lt;/h2&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Current Python script:</p>\n\n<pre><code>#!/usr/bin/python\n# vim: set fileencoding=utf-8 :\nimport win_unicode_console\n\nwin_unicode_console.enable()\n\nimport requests\nfrom bs4 import BeautifulSoup\n\nimport urllib.parse\nimport re\nfrom robobrowser import RoboBrowser\n\n# import warnings\n# warnings.filterwarnings(\"ignore\")\n\n# Browse to Genius\nbrowser = RoboBrowser(history=True)\nhdr = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11',\n       'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n       'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.3',\n       'Accept-Encoding': 'none',\n       'Accept-Language': 'en-US,en;q=0.8',\n       'Connection': 'keep-alive'}\ns = requests.Session()\ns.headers = hdr\nbrowser = RoboBrowser(session=s)\nbrowser.open('http://pretraga2.apr.gov.rs/ObjedinjenePretrage/Search/Search')\n#\nform = browser.get_form(action='/ObjedinjenePretrage/Search/SearchResult')\nform['SearchByRegistryCodeString'].value = '53254136'\nbrowser.submit_form(form)\n\nprint(browser.parsed)\n</code></pre>\n\n<p>I have tried to add headers, but no luck.\n What else can be the problem?</p>\n"}, {"tags": ["python", "image", "opencv", "scipy", "dct"], "comments": [{"owner": {"reputation": 775, "user_id": 236480, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/325ec4dc98c9f15f62f07b4f8ce95558?s=128&d=identicon&r=PG", "display_name": "kineticac", "link": "https://stackoverflow.com/users/236480/kineticac"}, "edited": false, "score": 0, "creation_date": 1511821424, "post_id": 32105569, "comment_id": 81998185, "body": "Were you ever able to solve this? I&#39;m getting the same error when trying to use the dct function."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11835364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a26005e088a051a9696180982001556?s=128&d=identicon&r=PG&f=1", "display_name": "SleepSupreme", "link": "https://stackoverflow.com/users/11835364/sleepsupreme"}, "is_accepted": false, "score": 0, "last_activity_date": 1595566748, "creation_date": 1595566748, "answer_id": 63067118, "question_id": 32105569, "link": "https://stackoverflow.com/questions/32105569/dct-with-cv2-and-scipy/63067118#63067118", "title": "DCT With cv2 and scipy", "body": "<p>You should transform your image array type to 'float', 'uint8' type is not supported.</p>\n<pre><code>bgr = cv2.imread('C:\\imgtest\\DSC_0091.jpg').astype('float32')\n</code></pre>\n<p>Then it will be O.K.</p>\n"}], "owner": {"reputation": 11, "user_id": 5245083, "user_type": "registered", "profile_image": "https://graph.facebook.com/913302285424117/picture?type=large", "display_name": "Tiago Torresani", "link": "https://stackoverflow.com/users/5245083/tiago-torresani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1595566748, "creation_date": 1440017937, "question_id": 32105569, "link": "https://stackoverflow.com/questions/32105569/dct-with-cv2-and-scipy", "title": "DCT With cv2 and scipy", "body": "<p>I need take the DCTs of an image colorspace.</p>\n\n<p>I have the RGB imagem, and need transform this to the YUV Space and make the DCT.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>import cv2\nimport scipy\n\n# reading the imagem and salving it at bgr var.\n  bgr = cv2.imread('C:\\imgtest\\DSC_0091.jpg')\n# Vars B, G, R, receive the information of bgr.\n  b,g,r = cv2.split(bgr)\n# bgr will split the colorspace information in their respective variables.\n  bgr = cv2.merge((b,g,r))\n# Var YUV will receive the result of the cvtColor function, which is transforming the RGB(now bgr) image in YUV\n  yuv = cv2.cvtColor(bgr,cv2.COLOR_BGR2YUV)\n# Y, U, V will receive the YUV information, which is the oringinal image in YUV color channel.\n  y,u,v = cv2.split(yuv)\n# The information will be shared in their respective color channels.\n  yuv = cv2.merge ((y,u,v))\n# Then, i try make the DCT of the var R.\n  scipy.fftpack.dct(r, type=2, n=None, axis=-1, norm=None, overwrite_x=False)\n# Print r\n  print r\n</code></pre>\n\n<p>But when i run this code, i get this error:</p>\n\n<pre><code>ValueError                                Traceback (most recent call last)\nC:\\Python\\6.00.1x Files\\cvtcolor.py in &lt;module&gt;()\n     20 # Mostra a Imagem em YUV na Tela.\n     21 # cv2.imshow('YUV',yuv)\n---&gt; 22 scipy.fftpack.dct(r, type=2, n=None, axis=-1, norm=None, overwrite_x=False)\n     23 print r\n\nC:\\Users\\Tiago\\AppData\\Local\\Enthought\\Canopy\\User\\lib\\site-packages\\scipy\\fftpack\\realtransforms.pyc in dct(x, type, n, axis, norm, overwrite_x)\n    133         raise NotImplementedError(\n    134               \"Orthonormalization not yet supported for DCT-I\")\n--&gt; 135     return _dct(x, type, n, axis, normalize=norm, overwrite_x=overwrite_x)\n    136 \n    137 \n\nC:\\Users\\Tiago\\AppData\\Local\\Enthought\\Canopy\\User\\lib\\site-packages\\scipy\\fftpack\\realtransforms.pyc in _dct(x, type, n, axis, overwrite_x, normalize)\n    243             raise ValueError(\"Type %d not understood\" % type)\n    244     else:\n--&gt; 245         raise ValueError(\"dtype %s not supported\" % tmp.dtype)\n    246 \n    247     if normalize:\n\nValueError: dtype uint8 not supported \n</code></pre>\n\n<p>I dunno if is any error in the code, or its because the B,G,R,Y vars ins't correctly.</p>\n\n<p>Any can help me?</p>\n\n<p>thanks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440017953, "post_id": 32105540, "comment_id": 52105632, "body": "So you want to iterate over <code>reader</code> and then iterate over <code>my_dict_of_values</code>? sounds like two for-loops in that case. Please don&#39;t forget that Dicts are unordered."}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440018030, "post_id": 32105540, "comment_id": 52105673, "body": "@Dan -- exactly -- I just have about 100 lines of code in the <code>for</code> loop so want to condense it into one for loop if possible."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440018096, "post_id": 32105540, "comment_id": 52105708, "body": "Is <code>my_dict_of_values</code> actually a <code>dict</code>? Do you want to iterate over the <i>values</i> of the <code>dict</code>?"}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440018165, "post_id": 32105540, "comment_id": 52105738, "body": "Oh ok, you can try combining the dicts prior to the for loop, so that you have 1 dict. <a href=\"http://stackoverflow.com/questions/8930915/python-append-dictionary-to-dictionary\" title=\"python append dictionary to dictionary\">stackoverflow.com/questions/8930915/&hellip;</a>"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1440018228, "post_id": 32105540, "comment_id": 52105774, "body": "@David542, wait, are you just trying to add one more dict to the <code>dicts</code> in <code>reader</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1440018986, "post_id": 32105593, "comment_id": 52106113, "body": "Very helpful, I didn&#39;t know about that before. Thank you."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 1, "creation_date": 1440019122, "post_id": 32105593, "comment_id": 52106165, "body": "@David542, are you sure this works for you? You want to iterate over every <code>dict</code> in <code>reader</code>, then every <i>key</i> in <code>my_dict_of_values</code>?"}], "tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": true, "score": 4, "last_activity_date": 1440018049, "creation_date": 1440018049, "answer_id": 32105593, "question_id": 32105540, "link": "https://stackoverflow.com/questions/32105540/how-to-iterate-over-two-different-iterable-objects/32105593#32105593", "title": "How to iterate over two different iterable objects", "body": "<p>This should do what you want:</p>\n\n<pre><code>import csv\n\nfrom itertools import chain\n\nreader = csv.DictReader(f, delimiter='\\x01', lineterminator=\"\\x02\")\nmy_dict_of_values = {}  # whatever goes here\n\nfor line in chain(reader, my_dict_of_values):\n    do_something(line)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "is_accepted": false, "score": 0, "last_activity_date": 1440018253, "last_edit_date": 1592644375, "creation_date": 1440018253, "answer_id": 32105638, "question_id": 32105540, "link": "https://stackoverflow.com/questions/32105540/how-to-iterate-over-two-different-iterable-objects/32105638#32105638", "title": "How to iterate over two different iterable objects", "body": "<blockquote>\n<p>So you want to iterate over reader and then iterate over my_dict_of_values? sounds like two for-loops in that case.</p>\n<blockquote>\n<p>exactly -- I just have about 100 lines of code in the for loop so want to condense it into one for loop if possible</p>\n</blockquote>\n</blockquote>\n<p>What you need to do is make the body of your loop a function.  Then you can use it in both loops. Change:</p>\n<pre><code>for line in reader:\n    [100 lines of code]\n</code></pre>\n<p>to:</p>\n<pre><code>def do_something(line):\n    [100 lines of code]\n\nfor line in reader:\n    do_something(line)\nfor key in my_dict_of_values:\n    do_something(key)\n</code></pre>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 32105593, "answer_count": 2, "score": 1, "last_activity_date": 1440018253, "creation_date": 1440017809, "question_id": 32105540, "link": "https://stackoverflow.com/questions/32105540/how-to-iterate-over-two-different-iterable-objects", "title": "How to iterate over two different iterable objects", "body": "<p>I have the following code:</p>\n\n<pre><code>reader = csv.DictReader(f, delimiter='\\x01', lineterminator=\"\\x02\")\nfor line in (reader + my_dict_of_values):\n    do_something()\n</code></pre>\n\n<p>Is there a way that I can iterate over two different types like in the above without calling another function? Otherwise I get: <code>TypeError: unsupported operand type(s) for +: 'instance' and 'dict'</code>.</p>\n"}, {"tags": ["python", "django", "login", "views"], "comments": [{"owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440017798, "post_id": 32105517, "comment_id": 52105549, "body": "not sure how much code is pertinent to this question, so let me know if there are any other files you&#39;d like to see."}, {"owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 0, "creation_date": 1440018304, "post_id": 32105517, "comment_id": 52105810, "body": "Did you try printing <code>user</code> which is returned after authenticate method? You might have to check <code>if user:</code> and then call the login method to login the user."}, {"owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "reply_to_user": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 0, "creation_date": 1440018800, "post_id": 32105517, "comment_id": 52106029, "body": "I print the user that is logged in on the initial log_in page and it is the correct user"}, {"owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 0, "creation_date": 1440019350, "post_id": 32105517, "comment_id": 52106277, "body": "is SessionMiddleware added to your MIDDLEWARE_CLASSES settings?"}, {"owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "reply_to_user": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 0, "creation_date": 1440019441, "post_id": 32105517, "comment_id": 52106328, "body": "yes... &quot;&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;&quot;"}, {"owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 0, "creation_date": 1440019541, "post_id": 32105517, "comment_id": 52106381, "body": "can you post your <code>settings.py</code> here?"}, {"owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "reply_to_user": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440019662, "post_id": 32105517, "comment_id": 52106428, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/87422/discussion-between-anupsabraham-and-drsom\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2708, "user_id": 790474, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1c9830aee36bb043b3f415247c8a0424?s=128&d=identicon&r=PG", "display_name": "henrikstroem", "link": "https://stackoverflow.com/users/790474/henrikstroem"}, "edited": false, "score": 0, "creation_date": 1440021504, "post_id": 32105517, "comment_id": 52107218, "body": "Have you tested <code>user.is_active</code>?"}, {"owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440022025, "post_id": 32105517, "comment_id": 52107414, "body": "yes and it is active"}], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440038786, "post_id": 32108507, "comment_id": 52111569, "body": "Thanks for the ideas. Tried all you suggested, nothing worked :/. I posted my custom authentication backend."}, {"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "reply_to_user": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440039747, "post_id": 32108507, "comment_id": 52111806, "body": "@drsom Take a look at my edit. I strongly suggest you follow that method over the custom backend. Until you get more advanced, the custom backend is a bit overkill for what you&#39;re trying to accomplish."}, {"owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440040277, "post_id": 32108507, "comment_id": 52111917, "body": "I&#39;m not sure I follow your edits. Why would I throw an &quot;Email is already registered error&quot; in a log-in form? And what are the two passwords that are being checked against each other? The Log-in only has one."}, {"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "reply_to_user": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440040770, "post_id": 32108507, "comment_id": 52112020, "body": "@drsom Oops, the login form validations were my error. I just changed that. Tiredness catches up eventually."}, {"owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "edited": false, "score": 0, "creation_date": 1440041246, "post_id": 32108507, "comment_id": 52112121, "body": "I&#39;m not sure what this is trying to do? The custom backend is necessary for my log in to work as I&#39;m using a custom user type. And the clean method you removed from the login form is pretty necessary to show login errors. None of this seems to fix my original problem: why isn&#39;t the user login being preserved between views?"}], "tags": [], "owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "is_accepted": false, "score": 0, "last_activity_date": 1440040684, "last_edit_date": 1440040684, "creation_date": 1440036766, "answer_id": 32108507, "question_id": 32105517, "link": "https://stackoverflow.com/questions/32105517/python-django-keep-user-log-in-session-between-views/32108507#32108507", "title": "Python Django - Keep user log in session between views", "body": "<p>I would try rearranging the <code>context_processors</code> and put auth on top. If that doesn't work, can you please post your custom authentication backend?</p>\n\n<p><strong>settings.py:</strong></p>\n\n<pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                # Put auth on top\n                'django.contrib.auth.context_processors.auth',\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n</code></pre>\n\n<p>Additionally, I would make the following changes to cleanup your views a little:</p>\n\n<p><strong>views.py:</strong></p>\n\n<pre><code>from django.contrib import messages\nfrom django.core.urlresolvers import reverse\n\ndef log_in(request):\n    form = LogIn(request.POST or None)\n\n    if form.is_valid():\n        email = form.cleaned_data['email']\n        password = form.cleaned_data['password']\n        user = authenticate(email=email, password=password)\n\n        # May also help with your dilemma\n        if user is not None:\n            login(request, user)\n            # Be sure to change this to the appropriate template name\n            return HttpResponseRedirect(reverse('template_name'))\n        else:\n            messages.warning(request, \"Username or password is incorrect.\")\n    return render(request, 'events/log_in.html', {'form':form})\n\ndef log_in_success(request):\n    # \"{}\".format(value) is a more reliable string substitution\n    return HttpResponse(\"{} has logged in!\".format(request.user))\n</code></pre>\n\n<p><strong>- - - EDIT:</strong></p>\n\n<p>I would remove your custom backend and override the functions on your form instead. It'll save you a lot of trouble going forward.</p>\n\n<pre><code>class RegistrationForm(forms.ModelForm):\n    password1 = forms.CharField(widget=forms.PasswordInput(),\n                                label=\"Password\")\n    password2 = forms.CharField(widget=forms.PasswordInput(),\n                                label=\"Password (again)\")\n    class Meta:\n        model = Student\n        fields = ('firstname', 'lastname', 'email', 'password1', 'password2', 'is_second_year')\n\n    def clean_password2(self):\n        # Check that the two password entries match\n        password1 = self.cleaned_data.get(\"password1\")\n        password2 = self.cleaned_data.get(\"password2\")\n        email = self.cleaned_data.get(\"email\")\n        if password1 and password2:\n            if password1 != password2:\n                raise forms.ValidationError(\"Passwords don't match\")\n        return password2\n\n    def clean_email(self):\n        email = self.cleaned_data[\"email\"]\n        if email and Student.objects.filter(email=email):\n            raise forms.ValidationError(\"This email has already been registered\")\n        return email\n\n\nclass LogIn(forms.Form):\n    email = forms.EmailField(label=\"Email\")\n    password = forms.CharField(widget=forms.PasswordInput(), label=\"Password\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1383, "user_id": 487460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/329f63e22de30447c212302a8ad3a06f?s=128&d=identicon&r=PG", "display_name": "mtoloo", "link": "https://stackoverflow.com/users/487460/mtoloo"}, "is_accepted": false, "score": 0, "last_activity_date": 1603901387, "creation_date": 1603901387, "answer_id": 64576845, "question_id": 32105517, "link": "https://stackoverflow.com/questions/32105517/python-django-keep-user-log-in-session-between-views/64576845#64576845", "title": "Python Django - Keep user log in session between views", "body": "<p>You have to define your bakend into the settings.AUTHENTICATION_BACKENDS list:</p>\n<pre><code>AUTHENTICATION_BACKENDS = ['my_app.student_backend.StudentBackend']\n</code></pre>\n<p>Otherwise the <code>get_user</code> method in <code>django.contrib.auth</code> which contains the following lines:</p>\n<pre><code>user = None\n...\nif backend_path in settings.AUTHENTICATION_BACKENDS:\n    backend = load_backend(backend_path)\n    user = backend.get_user(user_id)\n    ...\nreturn user or AnonymousUser()\n</code></pre>\n<p>would return <code>AnonymousUser()</code></p>\n<p>Optionally you can set your backend when calling <code>login</code> method (if there are more than one auth backends):</p>\n<pre><code>    if form.is_valid():\n        email = form.cleaned_data.get(&quot;email&quot;)\n        password = form.cleaned_data.get(&quot;password&quot;)\n        user = authenticate(email=email, password=password)\n        login(request, user, 'my_app.student_backend.StudentBackend')\n        print request.user.email\n        return HttpResponseRedirect('/log_in_success/')\n</code></pre>\n<p>This will save the given backend for this user into the session.</p>\n"}], "owner": {"reputation": 340, "user_id": 2093579, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/14c21e5a6b9c1264294c70eda097d2df?s=128&d=identicon&r=PG", "display_name": "somil", "link": "https://stackoverflow.com/users/2093579/somil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3051, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1603901387, "creation_date": 1440017743, "last_edit_date": 1440041352, "question_id": 32105517, "link": "https://stackoverflow.com/questions/32105517/python-django-keep-user-log-in-session-between-views", "title": "Python Django - Keep user log in session between views", "body": "<p>I'm working on creating a method to log in users. I built a custom form and view and got the user to login fine. However, when I redirect to a new page, the current request.user automatically reverts back to AnonymousUser. What am I missing?</p>\n\n<p>The log_in view logs in fine and I can even print the correct request.user. However, once it redirects to the log_in_success page, it simply says AnonymousUser is logged in! Why isn't the logged in user being preserved between views?</p>\n\n<pre><code>def log_in(request):\n    if request.method == 'POST':\n        form = LogIn(request.POST)\n        if form.is_valid():\n            email = form.cleaned_data.get(\"email\")\n            password = form.cleaned_data.get(\"password\")\n            user = authenticate(email=email, password=password)\n            login(request, user)\n            print request.user.email\n            return HttpResponseRedirect('/log_in_success/')\n    else:\n        form = LogIn()\n    return render(request, 'events/log_in.html', {'form':form})\n\ndef log_in_success(request):\n    return HttpResponse(\"%s has logged in!\" % request.user)\n</code></pre>\n\n<p>settings.py :</p>\n\n<pre><code>\"\"\"\nDjango settings for NHS project.\n\nGenerated by 'django-admin startproject' using Django 1.8.3.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.8/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.8/ref/settings/\n\"\"\"\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nimport os\n\n#AUTH_USER_MODEL = 'events.Student'\nAUTHENTICATION_BACKENDS = ('events.backend.StudentBackend', )\n\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/1.8/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = '=6b_2=!3s2hq3-nc@#rx6v=##u53xt!b=(#)c(2nk%&amp;4qfpvy)'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\n\nALLOWED_HOSTS = []\n\n\n# Application definition\n\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'events',\n)\n\nMIDDLEWARE_CLASSES = (\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    'django.middleware.security.SecurityMiddleware',\n)\n\nROOT_URLCONF = 'NHS.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'NHS.wsgi.application'\n\n\n# Database\n# https://docs.djangoproject.com/en/1.8/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.postgresql_psycopg2',\n        'NAME': 'nhs',\n        'USER': 'nhsadmin',\n        'PASSWORD': '#cbwestnhs',\n        'HOST': 'localhost',\n        'PORT': '',\n    }\n}\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/1.8/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.8/howto/static-files/\n\nSTATIC_URL = '/static/'\n</code></pre>\n\n<p>Custom Authentication Backend:</p>\n\n<pre><code>from events.models import Student\nfrom django.contrib.auth.hashers import check_password\n\nclass StudentBackend(object):\n\n    def authenticate(self, email=None, password=None):\n        stud = Student.objects.filter(email=email)\n        if stud.exists():\n            if check_password(password, stud[0].password):\n                return stud[0]\n        return None\n    def get_user(self, email):\n        stud = Student.objects.filter(email=email)\n        if stud.exists():\n            return stud[0]\n        else:\n            return None\n</code></pre>\n\n<p>forms.py:</p>\n\n<pre><code>from django import forms\nfrom events.models import Student\nfrom django.contrib.auth.hashers import check_password\n\nclass RegistrationForm(forms.ModelForm):\n    \"\"\"\n    Form for registering a new account.\n    \"\"\"\n    password1 = forms.CharField(widget=forms.PasswordInput,\n                                label=\"Password\")\n    password2 = forms.CharField(widget=forms.PasswordInput,\n                                label=\"Password (again)\")\n    class Meta:\n        model = Student\n        fields = ('firstname', 'lastname', 'email', 'password1', 'password2', 'is_second_year')\n\n    def clean(self):\n        # Check that the two password entries match\n        password1 = self.cleaned_data.get(\"password1\")\n        password2 = self.cleaned_data.get(\"password2\")\n        email = self.cleaned_data.get(\"email\")\n        if password1 and password2 and password1 != password2:\n            raise forms.ValidationError(\"Passwords don't match\")\n        if Student.objects.filter(email=email).exists():\n            raise forms.ValidationError(\"This email has already been registered\")\n        return self.cleaned_data\n\n    def save(self, commit=True):\n        user = super(RegistrationForm, self).save(commit=False)\n        user.set_password(self.cleaned_data['password1'])\n        if commit:\n            user.save()\n        return user\n\nclass LogIn(forms.Form):\n    email = forms.EmailField(label = \"Email\")\n    password = forms.CharField(widget=forms.PasswordInput, label=\"Password\")\n\n    def clean(self):\n        password = self.cleaned_data.get(\"password\")\n        email = self.cleaned_data.get(\"email\")\n        stud = Student.objects.filter(email=email)\n        if (not (stud.exists())):\n            raise forms.ValidationError(\"This email has not been registered\")\n        else:\n            if check_password(password, stud[0].password):\n                pass\n            else:\n                raise forms.ValidationError(\"Email and password combination do not match.\")\n        return self.cleaned_data\n</code></pre>\n"}, {"tags": ["python", "regex", "findall"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1440018611, "post_id": 32105484, "comment_id": 52105943, "body": "Now <b>this</b> is a good question on regular expressions."}, {"owner": {"reputation": 9742, "user_id": 3848833, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/21958c044f4221396b316a0bdb70de4d?s=128&d=identicon&r=PG&f=1", "display_name": "cezar", "link": "https://stackoverflow.com/users/3848833/cezar"}, "edited": false, "score": 0, "creation_date": 1440018927, "post_id": 32105484, "comment_id": 52106085, "body": "Jordan H. welcome to SO. It is really nice to see a user on his first day to post a question which shows research effort, is well formulated and fulfills the SO guidelines."}], "answers": [{"comments": [{"owner": {"reputation": 9742, "user_id": 3848833, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/21958c044f4221396b316a0bdb70de4d?s=128&d=identicon&r=PG&f=1", "display_name": "cezar", "link": "https://stackoverflow.com/users/3848833/cezar"}, "edited": false, "score": 0, "creation_date": 1440017985, "post_id": 32105510, "comment_id": 52105649, "body": "I&#39;d also replace <code>[0-9][0-9]</code>, which looks redundant, to <code>[0-9]{2}</code> since there should be always two decimals in the price, if any."}, {"owner": {"reputation": 9742, "user_id": 3848833, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/21958c044f4221396b316a0bdb70de4d?s=128&d=identicon&r=PG&f=1", "display_name": "cezar", "link": "https://stackoverflow.com/users/3848833/cezar"}, "edited": false, "score": 0, "creation_date": 1440018544, "post_id": 32105510, "comment_id": 52105912, "body": "I was thinking on the same regarding your last edit. Unfortunately I can&#39;t upvote more than once."}, {"owner": {"reputation": 53, "user_id": 5245086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be19aab8fb626a55ef42594c251715f?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan H.", "link": "https://stackoverflow.com/users/5245086/jordan-h"}, "edited": false, "score": 1, "creation_date": 1440018691, "post_id": 32105510, "comment_id": 52105975, "body": "Your suggestion worked.Also, I&#39;m new to stackoverflow and I realize the text in the comment box says avoid using this box to say thanks, but I don&#39;t know how else to express my gratitude on this site so I&#39;m going to say it anyway. Thanks."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 53, "user_id": 5245086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be19aab8fb626a55ef42594c251715f?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan H.", "link": "https://stackoverflow.com/users/5245086/jordan-h"}, "edited": false, "score": 0, "creation_date": 1440019409, "post_id": 32105510, "comment_id": 52106310, "body": "@JordanH: Glad to help. Gratitude on SO means upvoting answers that are helpful to you and accepting the answers that solve your question. Best of luck."}, {"owner": {"reputation": 9742, "user_id": 3848833, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/21958c044f4221396b316a0bdb70de4d?s=128&d=identicon&r=PG&f=1", "display_name": "cezar", "link": "https://stackoverflow.com/users/3848833/cezar"}, "edited": false, "score": 0, "creation_date": 1440019413, "post_id": 32105510, "comment_id": 52106313, "body": "Even though I can&#39;t think of real life case, but what should happen if there is a string like &quot;abc$500.01dolar&quot;. This regular expression will still find &quot;$500.01&quot;. If you explicitly want to find only prices that begin with &quot;$&quot; after space and also have space after the second decimal, than the regex should also match the begin of string <code>^</code> and the end of string <code>$</code>. I don&#39;t want to split hairs, but just point out some pitfalls to the OP."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1440019625, "post_id": 32105510, "comment_id": 52106413, "body": "If it is validation and the whole string should only contain the price in USD, <code>^\\$\\d+(?:\\d{2})?$</code> would work. I think here OP needs to get all occurrences from a larger string."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1440018129, "last_edit_date": 1440018129, "creation_date": 1440017703, "answer_id": 32105510, "question_id": 32105484, "link": "https://stackoverflow.com/questions/32105484/python-regex-returns-a-part-of-the-match-when-used-with-re-findall/32105510#32105510", "title": "Python regex returns a part of the match when used with re.findall", "body": "<p>Use a non-capturing group:</p>\n\n<pre><code>result = re.findall( r'\\$[0-9]+(?:\\.[0-9][0-9])?', inputstring)\n                                ^^ \n</code></pre>\n\n<p>The <a href=\"https://docs.python.org/2/library/re.html#re.findall\" rel=\"nofollow\"><code>re.findall</code></a> function returns the list of captured texts if there are any defined in the pattern, and you have one in yours. You need to get rid of it by turning it into a non-capturing one.</p>\n\n<blockquote>\n  <p><strong>re.findall(pattern, string, flags=0)</strong>\n  <br/>If one or more groups are present in the pattern, return a list of groups; this will be a list of tuples if the pattern has more than one group.</p>\n</blockquote>\n\n<p><strong>Update</strong></p>\n\n<p>You can shorten your regex a bit by using a <em>limiting quantifier</em> <code>{2}</code> that requires exactly 2 occurrences of the preceding subpattern:</p>\n\n<pre><code>r'\\$[0-9]+(?:\\.[0-9]{2})?'\n                    ^^^\n</code></pre>\n\n<p>Or even replace <code>[0-9]</code> with <code>\\d</code>:</p>\n\n<pre><code>r'\\$\\d+(?:\\.\\d{2})?'\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5245086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be19aab8fb626a55ef42594c251715f?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan H.", "link": "https://stackoverflow.com/users/5245086/jordan-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 32105510, "answer_count": 1, "score": 5, "last_activity_date": 1486495970, "creation_date": 1440017592, "last_edit_date": 1486495970, "question_id": 32105484, "link": "https://stackoverflow.com/questions/32105484/python-regex-returns-a-part-of-the-match-when-used-with-re-findall", "title": "Python regex returns a part of the match when used with re.findall", "body": "<p>I have been trying to teach myself Python and am currently on regular expressions. The instructional text I have been using seems to be aimed at teaching Perl or some other language that is not Python, so I have had to adapt the expressions a bit to fit Python. I'm not very experienced, however, and I've hit a snag trying to get an expression to work.</p>\n\n<p>The problem involves searching a text for instances of prices, expressed either without decimals, $500, or with decimals, $500.10. </p>\n\n<p>This is what the text recommends:</p>\n\n<pre><code>\\$[0-9]+(\\.[0-9][0-9])?\n</code></pre>\n\n<p>Replicating the text, I use this code:</p>\n\n<pre><code>import re\n\ninputstring = \"$500.01\"\n\nresult = re.findall( r'\\$[0-9]+(\\.[0-9][0-9])?', inputstring)\n\nif result:\n    print(result)\nelse:\n    print(\"No match.\")\n</code></pre>\n\n<p>However, the result is not $500.01, but rather:</p>\n\n<pre><code>.01\n</code></pre>\n\n<p>I find this strange. If I remove the parentheses and the optional decimal portion, it works fine. So, using this:</p>\n\n<pre><code>\\$[0-9]+\\.[0-9][0-9]\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>$500.01\n</code></pre>\n\n<p>How can I get the regular expression to return values with and without decimal portions?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 2128, "user_id": 2673238, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/kkOrV.png?s=128&g=1", "display_name": "user2673238", "link": "https://stackoverflow.com/users/2673238/user2673238"}, "edited": false, "score": 0, "creation_date": 1440075570, "post_id": 32105368, "comment_id": 52130220, "body": "This is a good question, that is not covered by <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.melt.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/pandas.melt.h&zwnj;&#8203;tml</a> Since it deals with multiple columns that need to be stacked into two seperate columns. Perhaps the title should reflect that  &quot;pandas dataframe reshaping/stacking of multiple value variables into seperate columns&quot; -"}, {"owner": {"reputation": 779, "user_id": 4682755, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c9034da2c18262d1d141fd1c0a60b26c?s=128&d=identicon&r=PG&f=1", "display_name": "chungkim271", "link": "https://stackoverflow.com/users/4682755/chungkim271"}, "reply_to_user": {"reputation": 2128, "user_id": 2673238, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/kkOrV.png?s=128&g=1", "display_name": "user2673238", "link": "https://stackoverflow.com/users/2673238/user2673238"}, "edited": false, "score": 0, "creation_date": 1440079425, "post_id": 32105368, "comment_id": 52133190, "body": "per your recommendation, i changed the title. i hope people benefit from the helpful answers below."}], "answers": [{"tags": [], "owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "is_accepted": false, "score": 2, "last_activity_date": 1440019793, "last_edit_date": 1440019793, "creation_date": 1440018757, "answer_id": 32105754, "question_id": 32105368, "link": "https://stackoverflow.com/questions/32105368/pandas-dataframe-reshaping-stacking-of-multiple-value-variables-into-seperate-co/32105754#32105754", "title": "pandas dataframe reshaping/stacking of multiple value variables into seperate columns", "body": "<p>This might be a shorter approach:</p>\n\n<pre><code>[72]:\n\ndf.columns = pd.MultiIndex.from_tuples(map(lambda x: (x[:-1], x), df.columns))\nIn [73]:\n\nprint pd.DataFrame({key:df[key].stack().values for key in set(df.columns.get_level_values(0))},\n                   index = df['des'].stack().index.get_level_values(0))\n      des interval\nvalue             \naaa     a      ##1\naaa     b      ##2\naaa     c      ##3\nbbb     d      ##4\nbbb     e      ##5\nbbb     f      ##6\nccc     g      ##7\nccc     h      ##8\nccc     i      ##9\n</code></pre>\n\n<p>Or preserve the 1,2,3 info:</p>\n\n<pre><code>[73]:\n\ndf.columns = pd.MultiIndex.from_tuples(map(lambda x: (x[:-1], x[-1]), df.columns))\nKeys = set(df.columns.get_level_values(0))\ndf2  = pd.concat([df[key].stack() for key in Keys], axis=1)\ndf2.columns = Keys\nprint df2\n        des interval\nvalue               \naaa   1   a      ##1\n      2   b      ##2\n      3   c      ##3\nbbb   1   d      ##4\n      2   e      ##5\n      3   f      ##6\nccc   1   g      ##7\n      2   h      ##8\n      3   i      ##9\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 929, "user_id": 2261276, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/koxqK.jpg?s=128&g=1", "display_name": "oLas", "link": "https://stackoverflow.com/users/2261276/olas"}, "edited": false, "score": 0, "creation_date": 1480680740, "post_id": 32105896, "comment_id": 69074705, "body": "<code>.melt</code> only applies to aggregating a group of columns into one variable. The OP&#39;s example solution needs two."}], "tags": [], "owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "is_accepted": false, "score": 1, "last_activity_date": 1440019380, "creation_date": 1440019380, "answer_id": 32105896, "question_id": 32105368, "link": "https://stackoverflow.com/questions/32105368/pandas-dataframe-reshaping-stacking-of-multiple-value-variables-into-seperate-co/32105896#32105896", "title": "pandas dataframe reshaping/stacking of multiple value variables into seperate columns", "body": "<p>This is just a <code>.melt</code>, docs are <a href=\"http://pandas.pydata.org/pandas-docs/stable/reshaping.html#reshaping-by-melt\" rel=\"nofollow\">here</a></p>\n\n<pre><code>In [33]: pd.melt(df.reset_index(),\n                 id_vars=['values'],\n                 value_vars=['interval1','interval2','interval3'])\nOut[33]: \n  values   variable value\n0    aaa  interval1   ##1\n1    bbb  interval1   ##4\n2    ccc  interval1   ##7\n3    aaa  interval2   ##2\n4    bbb  interval2   ##5\n5    ccc  interval2   ##8\n6    aaa  interval3   ##3\n7    bbb  interval3   ##6\n8    ccc  interval3   ##9\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 82, "user_id": 5244403, "user_type": "registered", "profile_image": "https://graph.facebook.com/1609933582601846/picture?type=large", "display_name": "Fei Yuan", "link": "https://stackoverflow.com/users/5244403/fei-yuan"}, "is_accepted": false, "score": 1, "last_activity_date": 1440022798, "last_edit_date": 1495535390, "creation_date": 1440022798, "answer_id": 32106591, "question_id": 32105368, "link": "https://stackoverflow.com/questions/32105368/pandas-dataframe-reshaping-stacking-of-multiple-value-variables-into-seperate-co/32106591#32106591", "title": "pandas dataframe reshaping/stacking of multiple value variables into seperate columns", "body": "<p>I think the solution provided by <a href=\"https://stackoverflow.com/users/2487184/ct-zhu\">CT Zhu</a> is very genius. But you also can reshape this step by step (maybe this is the common way).   </p>\n\n<pre><code> d = {'des1' : ['', 'a', 'd', 'g'],\n     'des2' : ['', 'b', 'e', 'h'],\n     'des3' : ['', 'c', 'f', 'i'],\n     'interval1' : ['', '##1', '##4', '##7'],\n     'interval2' : ['', '##2', '##5', '##6'],\n     'interval3' : ['', '##3', '##6', '##9']}\n\ndf = pd.DataFrame(d, index=['value', 'aaa', 'bbb', 'ccc'], \n                  columns=['des1', 'des2', 'des3', 'interval1', 'interval2', 'interval3'])\n\nnd = {'des' : [''] + df.iloc[1, 0:3].tolist() + df.iloc[2, 0:3].tolist() + df.iloc[3, 0:3].tolist(),\n      'interval' : ['']+ df.iloc[1, 3:6].tolist() + df.iloc[2, 3:6].tolist() + df.iloc[3, 3:6].tolist()}\n\nndf = pd.DataFrame(nd, index=['value', 'aaa', 'aaa', 'aaa', 'bbb', 'bbb', 'bbb', 'ccc', 'ccc', 'ccc'], columns=['des', 'interval'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1172, "user_id": 14148248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a14280383c1abf80a96b23c6aba2485?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick FitzGerald", "link": "https://stackoverflow.com/users/14148248/patrick-fitzgerald"}, "is_accepted": false, "score": 0, "last_activity_date": 1615549383, "creation_date": 1615549383, "answer_id": 66599276, "question_id": 32105368, "link": "https://stackoverflow.com/questions/32105368/pandas-dataframe-reshaping-stacking-of-multiple-value-variables-into-seperate-co/66599276#66599276", "title": "pandas dataframe reshaping/stacking of multiple value variables into seperate columns", "body": "<p>This type of reshaping can be done conveniently with <a href=\"https://pandas.pydata.org/docs/reference/api/pandas.wide_to_long.html\" rel=\"nofollow noreferrer\"><code>pandas.wide_to_long</code></a>:</p>\n<pre><code>import io\nimport pandas as pd  # v 1.2.3\n\ndata = '''\nvalue des1 des2 des3 interval1 interval2 interval3  \naaa  a  b  c ##1 ##2 ##3\nbbb  d  e  f ##4 ##5 ##6\nccc  g  h  i ##7 ##8 ##9\n'''\ndf = pd.read_csv(io.StringIO(data), index_col=0, delim_whitespace=True)\n\npd.wide_to_long(df.reset_index(), stubnames=['des', 'interval'],\n                i='value', j='var_id').droplevel(1).sort_index()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IUI2s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IUI2s.png\" alt=\"wide_to_long\" /></a></p>\n"}], "owner": {"reputation": 779, "user_id": 4682755, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/c9034da2c18262d1d141fd1c0a60b26c?s=128&d=identicon&r=PG&f=1", "display_name": "chungkim271", "link": "https://stackoverflow.com/users/4682755/chungkim271"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1974, "favorite_count": 3, "answer_count": 4, "score": 3, "last_activity_date": 1615549383, "creation_date": 1440017179, "last_edit_date": 1440079351, "question_id": 32105368, "link": "https://stackoverflow.com/questions/32105368/pandas-dataframe-reshaping-stacking-of-multiple-value-variables-into-seperate-co", "title": "pandas dataframe reshaping/stacking of multiple value variables into seperate columns", "body": "<p>Hi I'm trying to reshape a data frame in a certain way.</p>\n\n<p>this is the data frame I have,</p>\n\n<pre><code>         des1 des2 des3 interval1 interval2 interval3\nvalue   \naaa       a    b    c     ##1         ##2       ##3\nbbb       d    e    f     ##4         ##5       ##6\nccc       g    h    i     ##7         ##8       ##9\n</code></pre>\n\n<p>des1 corresponds with interval1 and so on. interval columns have a range of dates and des columns have descriptions.</p>\n\n<p>I'd like to reshape the dataframe such that it looks like this:</p>\n\n<pre><code>         des      interval\nvalue   \naaa       a         ##1\naaa       b         ##2\naaa       c         ##3\nbbb       d         ##4\nbbb       e         ##5\nbbb       f         ##6\nccc       g         ##7\nccc       h         ##8\nccc       i         ##9\n</code></pre>\n\n<p>How would I go about doing this? I'm a little familar with .stack() but I haven't been able to get exactly what I wanted. </p>\n\n<p>Thank you for your help. feel free to post references. </p>\n"}, {"tags": ["python", "feature-extraction", "scikit-image"], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 2736583, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/GZnO1.png?s=128&g=1", "display_name": "mavillan", "link": "https://stackoverflow.com/users/2736583/mavillan"}, "edited": false, "score": 2, "creation_date": 1440043671, "post_id": 32108667, "comment_id": 52112690, "body": "All makes sense now, thanks. By the way, I think the method names are a little confusing. In most of literature, uniform LBP stands for the simple no rotational invariant version."}, {"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 1, "creation_date": 1493760233, "post_id": 32108667, "comment_id": 74538036, "body": "The &quot;LBP example&quot; link is broken"}, {"owner": {"reputation": 2370, "user_id": 260303, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b80364cc6fbb2eac7dcfdb7738bae083?s=128&d=identicon&r=PG", "display_name": "Tony S Yu", "link": "https://stackoverflow.com/users/260303/tony-s-yu"}, "reply_to_user": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 1, "creation_date": 1493777157, "post_id": 32108667, "comment_id": 74542439, "body": "@GrayCygnus: Thanks for the notification! Links should be fixed now."}, {"owner": {"reputation": 517, "user_id": 2367353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2058249385c6420b92e3755ab6baedf?s=128&d=identicon&r=PG", "display_name": "ultrasounder", "link": "https://stackoverflow.com/users/2367353/ultrasounder"}, "edited": false, "score": 1, "creation_date": 1494007389, "post_id": 32108667, "comment_id": 74661706, "body": "From the Master himself. Tony at some point in time was one of the Core developers of Scikit-image."}, {"owner": {"reputation": 931, "user_id": 5634636, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-AcZtYGLnruA/AAAAAAAAAAI/AAAAAAAAAC8/FU8OcjNHRTU/photo.jpg?sz=128", "display_name": "huangbiubiu", "link": "https://stackoverflow.com/users/5634636/huangbiubiu"}, "edited": false, "score": 0, "creation_date": 1518148063, "post_id": 32108667, "comment_id": 84395556, "body": "To my understanding, <code>&#39;nri_uniform&#39;</code> is non-rotation invariant uniform and will give 59 dimensions vector, but I was given a 555 d vector. Why?   How can I have 59-d descriptor? Where the 555-d descriptor comes from? Thanks!"}, {"owner": {"reputation": 1246, "user_id": 5224881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10207050763058284/picture?type=large", "display_name": "Mat\u011bj Ra\u010dinsk&#253;", "link": "https://stackoverflow.com/users/5224881/mat%c4%9bj-ra%c4%8dinsk%c3%bd"}, "reply_to_user": {"reputation": 931, "user_id": 5634636, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-AcZtYGLnruA/AAAAAAAAAAI/AAAAAAAAAC8/FU8OcjNHRTU/photo.jpg?sz=128", "display_name": "huangbiubiu", "link": "https://stackoverflow.com/users/5634636/huangbiubiu"}, "edited": false, "score": 0, "creation_date": 1540198469, "post_id": 32108667, "comment_id": 92760372, "body": "@HuangYuheng I guess you used different number of neighbours. All those above-mentioned numbers are specifically for 8 neighbours. It would be great to see that level of detail for general N neighbours."}], "tags": [], "owner": {"reputation": 2370, "user_id": 260303, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b80364cc6fbb2eac7dcfdb7738bae083?s=128&d=identicon&r=PG", "display_name": "Tony S Yu", "link": "https://stackoverflow.com/users/260303/tony-s-yu"}, "is_accepted": true, "score": 17, "last_activity_date": 1493777075, "last_edit_date": 1493777075, "creation_date": 1440038052, "answer_id": 32108667, "question_id": 32105338, "link": "https://stackoverflow.com/questions/32105338/uniform-lbp-with-scikit-image-local-binary-pattern-function/32108667#32108667", "title": "Uniform LBP with scikit-image local_binary_pattern function", "body": "<p>Good question. Take a look at the <a href=\"http://scikit-image.org/docs/dev/auto_examples/features_detection/plot_local_binary_pattern.html\" rel=\"noreferrer\">LBP example</a> in the <a href=\"http://scikit-image.org/docs/dev/auto_examples/\" rel=\"noreferrer\">gallery</a>. Specifically, look at the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tH5jp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tH5jp.png\" alt=\"LBP patterns\"></a></p>\n\n<ul>\n<li><strong>Uniformity:</strong> Since you chose <code>'uniform'</code>, the result only includes patterns where all black dots are adjacent and all white dots are adjacent. <em>All</em> other combinations are labeled 'non-uniform'.</li>\n<li><strong>Rotation invariance:</strong> Note that you chose <code>'uniform'</code>, not <code>'nri_uniform'</code> (see the <a href=\"http://scikit-image.org/docs/dev/api/skimage.feature.html#local-binary-pattern\" rel=\"noreferrer\">API docs</a>), where \"nri\" means non-rotation invariant. That means <code>'uniform'</code> <em>is</em> rotation invariant. As a result, an edge that is represented as 00001111 (0s and 1s represent black and white dots in the pic above) is collected into the same bin as 00111100 (the 0s are adjacent because we wrap around from front to back).</li>\n<li><strong>Rotation-invariant, uniform combinations:</strong> Considering rotation invariance, there are 9 unique, uniform combinations:\n\n<ul>\n<li>00000000</li>\n<li>00000001</li>\n<li>00000011</li>\n<li>00000111</li>\n<li>00001111</li>\n<li>00011111</li>\n<li>00111111</li>\n<li>01111111</li>\n<li>11111111</li>\n</ul></li>\n<li><strong>Non-uniform results:</strong> If you look at your result more closely, there are actually 10 bins, not 9. The 10th bin lumps together all non-uniform results.</li>\n</ul>\n\n<p>Hope that helps! If you haven't already, the <a href=\"http://scikit-image.org/docs/dev/auto_examples/features_detection/plot_local_binary_pattern.html\" rel=\"noreferrer\">LBP example</a> is worth a look. I hear that <em>somebody</em> spent a lot of time on it ;)</p>\n"}], "owner": {"reputation": 323, "user_id": 2736583, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/GZnO1.png?s=128&g=1", "display_name": "mavillan", "link": "https://stackoverflow.com/users/2736583/mavillan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9912, "favorite_count": 1, "accepted_answer_id": 32108667, "answer_count": 1, "score": 7, "last_activity_date": 1493777075, "creation_date": 1440017092, "last_edit_date": 1440026539, "question_id": 32105338, "link": "https://stackoverflow.com/questions/32105338/uniform-lbp-with-scikit-image-local-binary-pattern-function", "title": "Uniform LBP with scikit-image local_binary_pattern function", "body": "<p>I'm using the local_binary_pattern from skimage.feature with uniform mode like this:</p>\n\n<pre><code>&gt;&gt;&gt; from skimage.feature import local_binary_pattern\n&gt;&gt;&gt; lbp_image=local_binary_pattern(some_grayscale_image,8,2,method='uniform')\n&gt;&gt;&gt; histogram=scipy.stats.itemfreq(lbp_image)\n&gt;&gt;&gt; print histogram\n[[  0.00000000e+00   1.57210000e+04]\n [  1.00000000e+00   1.86520000e+04]\n [  2.00000000e+00   2.38530000e+04]\n [  3.00000000e+00   3.23200000e+04]\n [  4.00000000e+00   3.93960000e+04]\n [  5.00000000e+00   3.13570000e+04]\n [  6.00000000e+00   2.19800000e+04]\n [  7.00000000e+00   2.46530000e+04]\n [  8.00000000e+00   2.76230000e+04]\n [  9.00000000e+00   4.88030000e+04]]\n</code></pre>\n\n<p>As I'm taking 8 pixels in the neighborhood, it's expected to obtain 59 different LBP codes (because the uniform method), but instead it gives me only 9 different LBP codes. More generally, always return P+1 labels (where P is the number of neighbors).</p>\n\n<p>It's another kind of uniform method, or I'm misunderstanding something?</p>\n"}, {"tags": ["python", "scikit-learn"], "comments": [{"owner": {"reputation": 2723, "user_id": 1449460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YC7wd.jpg?s=128&g=1", "display_name": "Nikana Reklawyks", "link": "https://stackoverflow.com/users/1449460/nikana-reklawyks"}, "edited": false, "score": 0, "creation_date": 1477957738, "post_id": 32105302, "comment_id": 67958867, "body": "As the current answer points out, you can&#39;t apply t-sne to smaller chunks and merge the results in a meaningful way. Nevertheless, I&#39;m interested in the simpler question &quot;<b>I have small data (5k items in dim 66) and t-SNE produces a MemoryError, why is that so ?</b>&quot; (I personally have 24k rows in dim 50 and the same problem)."}], "answers": [{"comments": [{"owner": {"reputation": 2723, "user_id": 1449460, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YC7wd.jpg?s=128&g=1", "display_name": "Nikana Reklawyks", "link": "https://stackoverflow.com/users/1449460/nikana-reklawyks"}, "edited": false, "score": 2, "creation_date": 1477957908, "post_id": 36603861, "comment_id": 67958909, "body": "While this is all true, it&#39;s not very helpful for the people who have reasonnable-dimensioned data and run into <code>MemoryError</code>s. The t-SNE FAQ says to reduce the dimensionality of data when it&#39;s way too large, but my understanding is that millions of examples in dim 50 should be fine, if long. I have 24k points in dim 50, that&#39;s not too big. Why is it faililng ?"}, {"owner": {"reputation": 1001, "user_id": 5448552, "user_type": "registered", "accept_rate": 46, "profile_image": "https://lh4.googleusercontent.com/-KXfCGSb4Zm4/AAAAAAAAAAI/AAAAAAAAAc8/0EkQCATCSxU/photo.jpg?sz=128", "display_name": "Beyhan Gul", "link": "https://stackoverflow.com/users/5448552/beyhan-gul"}, "edited": false, "score": 0, "creation_date": 1482261602, "post_id": 36603861, "comment_id": 69699632, "body": "how can we avoid from Memory Error ? do partition or split the data manually ?"}], "tags": [], "owner": {"reputation": 2041, "user_id": 3731745, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2f391c0f1cf9143fd4c4605a4b1ffbe7?s=128&d=identicon&r=PG&f=1", "display_name": "Andreus", "link": "https://stackoverflow.com/users/3731745/andreus"}, "is_accepted": false, "score": 2, "last_activity_date": 1460563398, "creation_date": 1460563398, "answer_id": 36603861, "question_id": 32105302, "link": "https://stackoverflow.com/questions/32105302/dimension-reduction-with-t-sne/36603861#36603861", "title": "Dimension reduction with t-SNE", "body": "<p>I am not entirely certain what you mean by \"different outputs with the same data items\", but here are some comments that might help you.</p>\n\n<p>First, t-SNE is not really a \"dimension reduction\" technique in the same sense that PCA or other methods are. There is no way to take a fixed, learned t-SNE model and apply it to new data. (Note that the class has no <code>transform()</code> method, only <code>fit()</code> and <code>fit_transform()</code>.) You will, therefore, be unable to use a \"train\" and \"test\" set.</p>\n\n<p>Second, each and every time you call <code>fit_transform()</code> you are getting a completely different model. The meaning of your reduced dimensions is, therefore, not consistent from chunk to chunk. Each chunk has its own little low-dimensional space. The model is different each time, and therefore the data are not being projected into the same space. </p>\n\n<p>Third, you don't include the code where you divide \"train\" from \"test\". It may be that, while you are being careful to set the random seed of t-SNE, you are not setting the random seed of your train/test division, resulting in different data divisions, and thus different results on subsequent runs.</p>\n\n<p>Finally, if you want to use t-SNE to visualize your data, you might consider following the advice on the documentation page, and applying PCA to reduce the dimensionality of the input from 66 to, say, 15. That would dramatically reduce the memory footprint of t-SNE.</p>\n\n<p><a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.manifold.TSNE.html#sklearn.manifold.TSNE\" rel=\"nofollow\" title=\"TSNE in SKLearn docs\">TSNE in SKLearn Docs</a></p>\n"}], "owner": {"reputation": 79, "user_id": 5245020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b768cb8aa058a8a9400c0b9d2f4ab1ce?s=128&d=identicon&r=PG&f=1", "display_name": "D Lyzer", "link": "https://stackoverflow.com/users/5245020/d-lyzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4033, "favorite_count": 6, "answer_count": 1, "score": 7, "last_activity_date": 1460563398, "creation_date": 1440016957, "last_edit_date": 1440019848, "question_id": 32105302, "link": "https://stackoverflow.com/questions/32105302/dimension-reduction-with-t-sne", "title": "Dimension reduction with t-SNE", "body": "<p>I have two sets of data train and test. The two data sets have 30213 and 30235 items respectively with 66 dimensions each.</p>\n\n<p>I am trying to apply t-SNE of scikit learn to reduce the dimension to 2. Since the data sets are large and I get MemoryError if I try to process the entire data in one shot, I try to break them into chunks and transform one chunk at a time like this:</p>\n\n<pre><code>tsne = manifold.TSNE(n_components=2, perplexity=30, init='pca', random_state=0)\n\nX_tsne_train = np.array( [ [ 0.0 for j in range( 2 ) ] for i in range( X_train.shape[0] ) ] )\n\nX_tsne_test = np.array( [ [ 0.0 for j in range( 2 ) ] for i in range( X_test.shape[0] ) ] )\n\nd = ( ( X_train, X_tsne_train ), ( X_test, X_tsne_test ) )\n\nchunk = 5000\n\nfor Z in d:\n\n        x, x_tsne = Z[0], Z[1]\n        pstart, pend = 0, 0\n        while pend &lt; x.shape[0]:\n                if pend + chunk &lt; x.shape[0]:\n                        pend = pstart + chunk\n                else:\n                        pend = x.shape[0]\n                print 'pstart = ', pstart, 'pend = ', pend\n                x_part = x[pstart:pend]\n                x_tsne[pstart:pend] += tsne.fit_transform(x_part)\n                pstart = pend\n</code></pre>\n\n<p>It runs without MemoryError but I find that different runs of the script produce different outputs for the same data items. This could be due to the fit and transform operations happening together on each chunk of data. But if I try to fit on train data with <code>tsne.fit(X_train)</code>, I get <code>MemoryError</code>. How to correctly reduce the dimension of all data items in train and test sets to 2 without any incongruence among the chunks?</p>\n"}, {"tags": ["python", "mysql", "django", "date", "django-orm"], "answers": [{"tags": [], "owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "is_accepted": true, "score": 1, "last_activity_date": 1440020758, "creation_date": 1440020758, "answer_id": 32106173, "question_id": 32105298, "link": "https://stackoverflow.com/questions/32105298/mysql-date-import-issue/32106173#32106173", "title": "MySQL date import issue", "body": "<p>As an error message points out you should either:</p>\n\n<ul>\n<li>enable timezone support by setting <a href=\"https://docs.djangoproject.com/en/1.8/topics/i18n/timezones/\" rel=\"nofollow\"><code>USE_TZ = True</code></a></li>\n<li>remove timezone part from your dates before saving them to database</li>\n</ul>\n"}], "owner": {"reputation": 797, "user_id": 4758444, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jgAQ6.png?s=128&g=1", "display_name": "Alan Tingey", "link": "https://stackoverflow.com/users/4758444/alan-tingey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "accepted_answer_id": 32106173, "answer_count": 1, "score": 1, "last_activity_date": 1440073759, "creation_date": 1440016952, "last_edit_date": 1440073759, "question_id": 32105298, "link": "https://stackoverflow.com/questions/32105298/mysql-date-import-issue", "title": "MySQL date import issue", "body": "<p>I have the following MySQL database table:</p>\n\n<pre><code>+---------------------------+-------------+------+-----+---------+-------+\n| Field                     | Type        | Null | Key | Default | Extra |\n+---------------------------+-------------+------+-----+---------+-------+\n| fixtureid                 | int(11)     | NO   | PRI | NULL    |       |\n| fixturedate               | datetime    | YES  |     | NULL    |       |\n</code></pre>\n\n<p>I wish to pull in some data from an xmlsoccer.com website but it is returned in the following format \"2015-08-01T11:45:00+00:00\".</p>\n\n<p>When I try to import it I get the following error:</p>\n\n<blockquote>\n  <p>Exception Type:   ValueError Exception Value:  MySQL backend does not\n  support timezone-aware datetimes when USE_TZ is False.</p>\n</blockquote>\n\n<p>My django code is as follows:</p>\n\n<pre><code>fixtureUpdate = StraightredFixture(fixtureid=fixture['Id'],\n                                   away_team_id = fixture['AwayTeam_Id'],\n                                   home_team_id = fixture['HomeTeam_Id'],\n                                   fixturedate = fixture['Date'])             \n\nfixtureUpdate.save()\n</code></pre>\n\n<p>If anyone could point me in the right direction to make the date MySQL friendly that would be great.  Many thanks, Alan</p>\n"}, {"tags": ["python", "orm", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 926, "user_id": 4178530, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5e71113bf9de45d0854506326da510fd?s=128&d=identicon&r=PG&f=1", "display_name": "mvbentes", "link": "https://stackoverflow.com/users/4178530/mvbentes"}, "is_accepted": false, "score": 0, "last_activity_date": 1440438492, "creation_date": 1440438492, "answer_id": 32188501, "question_id": 32105019, "link": "https://stackoverflow.com/questions/32105019/how-to-map-a-class-to-multiple-databases-in-sqlalchemy-orm/32188501#32188501", "title": "How to map a Class to multiple databases in sqlalchemy orm", "body": "<p>I came up with the mixin below. I does not handle expunge or rollback, as I do not use those in my application nor know how to get about them.\nIt looks like it is working. I will proceed to expand it to handle collections. </p>\n\n<pre><code>import os\nfrom sqlalchemy import Column, Float, String, Enum, Integer, event\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import orm\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.orm import sessionmaker\n\nclass ReplicateMixin:\n    @classmethod\n    def get_or_create(cls,prime_session, sessoes = None, **kwargs):\n        if sessoes is None:\n            sessoes = []\n        if not isinstance(sessoes, list):\n            sessoes = [sessoes]\n        sessoes = [prime_session] + sessoes #They are passed separatelly just to make explicit that the first might receive diferent treatment\n        replicas = []\n\n        for sessao in sessoes: #Gets a result or creates a new instance from each database\n            instance = sessao.query(Datum).filter_by(**kwargs).first()\n            if instance is None: \n                instance = cls(**kwargs)\n                setattr(instance, \"__new\", True)\n            sessao.add(instance) \n            instance.sessao = sessao\n            replicas.append(instance)\n\n        fittest = cls.__select_fittest(replicas) #Selects the instance whose data will prevail \n        prime = replicas.pop(0) #Instance from the session we will be issuing commits to. The others must simply follow.\n        cls.__copy_data(fittest, prime, ReplicateMixin.__get_primary_keys(prime))\n\n        setattr(prime, \"__replicas\", replicas) #The object will carry references to its copies\n        return prime\n\n    @staticmethod\n    def __select_fittest(instances):\n        \"\"\"This method should contain logic for choosing the instance that has\n        the most relevant information. It may be altered by child classes\"\"\"\n        if getattr(instances[0], \"__new\", False):\n            return instances[1]\n        else:\n            return instances[0] \n\n    @staticmethod\n    def __copy_data(source, dest, primary_keys = None):\n        primary_keys = [] if primary_keys is None else primary_keys\n        for prop in orm.class_mapper(type(source)).iterate_properties:\n            if (isinstance(prop, orm.ColumnProperty)\n                and prop.key not in primary_keys):\n                setattr(dest, prop.key,\n                        getattr(source, prop.key))\n\n    @staticmethod\n    def __replicate(mapper, connection, original_obj):\n        replicants = getattr(original_obj, \"__replicas\", []) #if it IS a replicant it will not have a __replicas attribute\n        primary_keys = ReplicateMixin.__get_primary_keys(original_obj)\n        for objeto in replicants:\n            ReplicateMixin.__copy_data(original_obj, objeto, primary_keys)\n            objeto.sessao.commit()\n\n    @staticmethod\n    def __replicate_del(mapper, conection, original_obj):\n        replicants = getattr(original_obj, \"__replicas\", []) #if it IS a replicant it will not have a __replicas attribute\n        for objeto in replicants:\n            if objeto in objeto.sessao.new:\n                objeto.sessao.expunge(objeto)\n            else:\n                objeto.sessao.delete(objeto)\n            objeto.sessao.commit()\n\n    @staticmethod\n    def __get_primary_keys(mapped_object):\n        return [key.name for key in orm.class_mapper(type(mapped_object)).primary_key]\n\n    @classmethod\n    def __declare_last__(cls):\n        \"\"\"Binds certain events to functions\"\"\"\n        event.listen(cls, \"before_insert\", cls.__replicate)\n        event.listen(cls, \"before_update\", cls.__replicate)\n        event.listen(cls, \"before_delete\", cls.__replicate_del)\n        #FIXME might not play well with rollback  \n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>DeclarativeBase = declarative_base()\nclass Datum (ReplicateMixin, DeclarativeBase):\n    __tablename__ = \"xUnitTestData\"\n    Key = Column(Integer, primary_key=True)\n    Value = Column(Float)\n    nome = Column(String(10))\n    def __repr__(self):\n        return \"{}; {}; {}\".format(self.Key, self.Value, self.nome)\n\n\n\n\nend_local = os.path.join(os.path.expanduser(\"~\"), \"Desktop\", \"local.bd\")\nend_remoto = os.path.join(os.path.expanduser(\"~\"), \"Desktop\", \"remoto.bd\")\nsrc_engine = create_engine('sqlite:///'+end_local, echo=False)\ndst_engine = create_engine('sqlite:///'+end_remoto, echo=False)\nDeclarativeBase.metadata.create_all(src_engine)\nDeclarativeBase.metadata.create_all(dst_engine)\nSessionSRC = sessionmaker(bind=src_engine)\nSessionDST = sessionmaker(bind=dst_engine)\n\n\nsession1 = SessionSRC()\nsession2 = SessionDST()\n\nitem = Datum.pegar_ou_criar(session1, session2, Value = 0.5, nome = \"terceiro\")\n\nitem.Value = item.Value/2\nprint(item)\nsession1.delete(item)\n\nsession1.commit()\nsession1.close()\n</code></pre>\n"}], "owner": {"reputation": 926, "user_id": 4178530, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5e71113bf9de45d0854506326da510fd?s=128&d=identicon&r=PG&f=1", "display_name": "mvbentes", "link": "https://stackoverflow.com/users/4178530/mvbentes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 498, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440438492, "creation_date": 1440015970, "last_edit_date": 1440078199, "question_id": 32105019, "link": "https://stackoverflow.com/questions/32105019/how-to-map-a-class-to-multiple-databases-in-sqlalchemy-orm", "title": "How to map a Class to multiple databases in sqlalchemy orm", "body": "<p>I am using a sqlite database as my application file through sqlalchemy. I have a separate configuration file.</p>\n\n<p>There are some classes whose information I persist on my application file that I would like to replicate on my configuration file. The thing is that I would load it alternatively from one or the other source depending on availability.</p>\n\n<p>I saw this mention on the documentation, but I think it does not directly apply as the secondary mapping will not not persist the information. Also, the notion of which would be the primary is blurry. Both databases would carry the same information, maybe not on the same version, though.\n<a href=\"http://sqlalchemy.readthedocs.org/en/rel_1_0/orm/nonstandard_mappings.html#multiple-mappers-for-one-class\" rel=\"nofollow\">http://sqlalchemy.readthedocs.org/en/rel_1_0/orm/nonstandard_mappings.html#multiple-mappers-for-one-class</a></p>\n\n<p>I will try to make it clearer with an example:</p>\n\n<p>I have a class A which represents a multi-field user input. I save this on my application file. </p>\n\n<p>A class B also on my application file file is composed of an instance of Class A.</p>\n\n<p>The same instance from Class A may compose several suitable instances of Class B. These are all stored on my application file.</p>\n\n<p>My problem is that on another session, with a brand new configuration file I might want to reuse that Class A instance. I can not have it only on the application file, because if it gets updated, it will be relevant across all application files that use it. </p>\n\n<p>On the other hand, it can not be only in the configuration file, as a user might share his application file with another and the later might not have a suitable configuration and would have to do it manually.</p>\n\n<p>I need to have it in both places, be able to choose which database will be the source at runtime and have all changes persist on both databases at once.</p>\n\n<p>Can it be done in sqlalchemy+sqlite? Is it a good idea? Are there classic solutions for this? </p>\n\n<p>EDIT:\nI think I am describing something that looks like a cache, which sqlalchemy does not do. Does any other approach come to mind?\nDoes sqlalchemy allow me to map an instance to a database upon instance creation? This would allow for two instances of the same class to be mapped against different databases. Then I would listen for an update event by sqlalchemy and issue the same sql to the other database. I also do not know how to do this.</p>\n\n<p>Another option: map my class against a union query. Sqlalchemy might allow as it does for arbitrary selects, BUT then there is the persistence issue.</p>\n\n<p>Another option: add a layer to the engine so that it connects to two databases simultaneously, issuing the same commands to both for reading and writing. I could deal with the duplicated returns.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 2, "creation_date": 1440015931, "post_id": 32104995, "comment_id": 52104541, "body": "Can you explain - <i>this is not working</i> ? How is it not working? What else are you getting?"}, {"owner": {"reputation": 3605, "user_id": 36532, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/cyMAs.png?s=128&g=1", "display_name": "LuRsT", "link": "https://stackoverflow.com/users/36532/lurst"}, "edited": false, "score": 0, "creation_date": 1440016143, "post_id": 32104995, "comment_id": 52104671, "body": "He just used the wrong method for csv.writer, Padraic answer is the correct one."}, {"owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "edited": false, "score": 0, "creation_date": 1440016318, "post_id": 32104995, "comment_id": 52104775, "body": "I get this error:  with open(&#39;data.csv&#39;, &#39;w&#39;, newline=&#39;&#39;) as fp: TypeError: &#39;newline&#39; is an invalid keyword argument for this function"}], "answers": [{"comments": [{"owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "edited": false, "score": 0, "creation_date": 1440016171, "post_id": 32105040, "comment_id": 52104690, "body": "still not able to execute the sql"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "edited": false, "score": 1, "creation_date": 1440016210, "post_id": 32105040, "comment_id": 52104715, "body": "If you see <code>(&#39;Production&#39;, &#39;farm1&#39;, &#39;dc1prb01&#39;, &#39;web&#39;)</code> how is the sql not working? Using writerows on that will give you <code>P,r,o,d,u,c,t,i,o,n. ....</code>"}, {"owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "edited": false, "score": 0, "creation_date": 1440016342, "post_id": 32105040, "comment_id": 52104786, "body": "If I dont use the csv, and just print the line, I can print."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "edited": false, "score": 0, "creation_date": 1440016456, "post_id": 32105040, "comment_id": 52104842, "body": "@user1471980, newline=&quot;&quot; is for python3 not python2"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 6, "last_activity_date": 1440016568, "last_edit_date": 1440016568, "creation_date": 1440016023, "answer_id": 32105040, "question_id": 32104995, "link": "https://stackoverflow.com/questions/32104995/how-do-you-write-output-of-sql-to-a-csv-file-in-python/32105040#32105040", "title": "how do you write output of sql to a csv file in python", "body": "<p>It would be writerow for a single row:</p>\n\n<pre><code> a.writerow(line)\n</code></pre>\n\n<p><code>writerows</code> expects an iterable of iterables, so it will iterate over the substrings writing each char individually.</p>\n\n<p>If you want to use writerows call it on row:</p>\n\n<pre><code>    row = cursor.fetchall()\n    with open('data.csv', 'w', newline='') as fp:\n            a = csv.writer(fp, delimiter=',')\n            a.writerows(row)\n</code></pre>\n\n<p>If you are using python2 remove <code>newline=''</code>, newline is a *python*3 keyword:</p>\n\n<pre><code>  row = cursor.fetchall()\n    with open('data.csv', 'w') as fp:\n            a = csv.writer(fp, delimiter=',')\n            a.writerows(row)\n</code></pre>\n"}], "owner": {"reputation": 10221, "user_id": 1471980, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b27f5e6a33521d13e4e0e224c57003e4?s=128&d=identicon&r=PG", "display_name": "user1471980", "link": "https://stackoverflow.com/users/1471980/user1471980"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6483, "favorite_count": 0, "accepted_answer_id": 32105040, "answer_count": 1, "score": 3, "last_activity_date": 1440016568, "creation_date": 1440015848, "last_edit_date": 1440016149, "question_id": 32104995, "link": "https://stackoverflow.com/questions/32104995/how-do-you-write-output-of-sql-to-a-csv-file-in-python", "title": "how do you write output of sql to a csv file in python", "body": "<p>I am trying to connect to oracle table and execute a sql. I need to export result set to a csv file. My code is below:</p>\n\n<pre><code>import pyodbc\nimport csv\n\ncnxn = pyodbc.connect(\"DSN=11g;UID=test101;PWD=passwd\")\ncursor = cnxn.cursor()\ncursor.execute(sql)\nrow = cursor.fetchall()\nwith open('data.csv', 'w', newline='') as fp:\n    a = csv.writer(fp, delimiter=',')\n    for line in row:\n        a.writerows(line)\n\ncursor.close()\n</code></pre>\n\n<p>when I do print to line within for loop, I get something like this:</p>\n\n<pre><code>('Production', 'farm1', 'dc1prb01', 'web')\n('Production', 'farv2', 'dc2pr2db01', 'app.3')\n('Production', 'farm5', 'dc2pr2db02', 'db.3')\n</code></pre>\n\n<p>this is not working. Any ideas what I might be missing?</p>\n"}, {"tags": ["python", "django", "httprequest", "openshift"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2879327"}, "is_accepted": true, "score": 2, "last_activity_date": 1440016570, "creation_date": 1440016570, "answer_id": 32105205, "question_id": 32104950, "link": "https://stackoverflow.com/questions/32104950/unusual-requests-to-openshift-website/32105205#32105205", "title": "Unusual requests to openshift website", "body": "<p>That is HAProxy making sure that your application is running (since you are running a scaled application)</p>\n"}], "owner": {"reputation": 1321, "user_id": 1901114, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1facc09b0a900910f0aae6a5f35f180a?s=128&d=identicon&r=PG", "display_name": "Mirac7", "link": "https://stackoverflow.com/users/1901114/mirac7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 32105205, "answer_count": 1, "score": 0, "last_activity_date": 1440072935, "creation_date": 1440015702, "last_edit_date": 1440072935, "question_id": 32104950, "link": "https://stackoverflow.com/questions/32104950/unusual-requests-to-openshift-website", "title": "Unusual requests to openshift website", "body": "<p>I don't know whether it's related, but I've deleted my OpenShift Django app which was pointed to from my own domain because it wasn't scalable and created a new one (same name and everything) which could scale. I uploaded the code back, restarted the app and configured the custom domain. Everything works like it was earlier, however, I am receiving requests which I can't identify:</p>\n\n<pre><code>- - - [19/Aug/2015:16:15:57 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:15:59 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:01 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:03 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:05 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:07 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:10 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:12 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:14 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:16 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:18 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:20 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:22 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:24 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:26 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n- - - [19/Aug/2015:16:16:28 -0400] \"GET / HTTP/1.0\" 200 2569 \"-\" \"-\"\n</code></pre>\n\n<p>Neither IP address nor user agent is specified. What (or less likely who) could this be?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 2560, "user_id": 1813971, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0iiXu.jpg?s=128&g=1", "display_name": "Ninja420", "link": "https://stackoverflow.com/users/1813971/ninja420"}, "is_accepted": false, "score": 0, "last_activity_date": 1440016152, "creation_date": 1440016152, "answer_id": 32105083, "question_id": 32104943, "link": "https://stackoverflow.com/questions/32104943/django-template-inbuilt-tag-search/32105083#32105083", "title": "django template inbuilt tag search", "body": "<p>I did this </p>\n\n<p><code>[isinstance(node, ExtendsNode) for node in template.nodelist]</code></p>\n"}], "owner": {"reputation": 2560, "user_id": 1813971, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0iiXu.jpg?s=128&g=1", "display_name": "Ninja420", "link": "https://stackoverflow.com/users/1813971/ninja420"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440016152, "creation_date": 1440015677, "question_id": 32104943, "link": "https://stackoverflow.com/questions/32104943/django-template-inbuilt-tag-search", "title": "django template inbuilt tag search", "body": "<p>I want to check wether my django template has an <code>extends block</code> or not.</p>\n\n<p>Is there an <code>inbuilt function</code> in <code>django</code> that can tell whether the <code>template</code> contains a particular <code>tag</code> or not ?</p>\n"}, {"tags": ["python", "django", "rest", "titan", "nosql"], "answers": [{"tags": [], "owner": {"reputation": 4437, "user_id": 3122083, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f070ab3629e61bd74ed92ed7ec986bde?s=128&d=identicon&r=PG", "display_name": "dkarchmer", "link": "https://stackoverflow.com/users/3122083/dkarchmer"}, "is_accepted": false, "score": 4, "last_activity_date": 1440882406, "last_edit_date": 1440882406, "creation_date": 1440785627, "answer_id": 32277360, "question_id": 32104940, "link": "https://stackoverflow.com/questions/32104940/what-is-the-best-way-to-create-rest-for-nosql-with-django-and-titan/32277360#32277360", "title": "What is the best way to create REST for nosql with Django and Titan?", "body": "<p>I had to do something similar, in my case creating an API for a dynamoDB table, but I think this solution would apply to any NoSQL object, assuming it is serializable. For example, if you have a python Dict object.</p>\n\n<p>In short, a lot of the cool functionality in Django Rest Framework requires Django Models, but you can still do a lot without them.</p>\n\n<p>The following is an example for creating a 'list' of all objects. I am hard coding an array to make the case, but hopefully this makes it clear</p>\n\n<pre><code>from rest_framework import generics\nfrom rest_framework import serializers\n\nclass NoSQLSerializer(serializers.BaseSerializer):\n   def to_representation(self, obj):\n      # If you don't have a json serializable object\n      # you can do the transformations here\n      return obj\n\nclass NoSQLViewSet(generics.ListAPIView):\n\n   serializer_class = NoSQLSerializer\n\n   def get_queryset(self):\n     if self.request.user.is_anonymous():\n        return None\n\n     # This is just an example, In a real NoSQL database\n     # you can just return the python representation of the \n     # object\n     obj_list = [\n       { 'name':'foo', 'type':1 },\n       { 'name':'bar', 'type':2 },\n       { 'name':'foobar', 'type':1 },\n     ]\n\n     return obj_list\n</code></pre>\n\n<p>I have not been able to figure out how to use (or if I can use) a Router, so I had to add to the url list as:</p>\n\n<pre><code>from .api_views import NoSQLViewSet\n\nurlpatterns = patterns('',\n    url(r'^api/v1/yourObjName/', NoSQLViewSet.as_view(), name='api-nosql'),\n)\n</code></pre>\n\n<p>but after that, all works very well, including the HTML views.</p>\n\n<p>I don't know anything about Titan, but it may be that all you need to do in your case is define the get_queryset in my example as</p>\n\n<pre><code>class NoSQLViewSet(generics.ListAPIView):\n\n   serializer_class = TitanSerializer\n\n   def get_queryset(self):\n       return MyNosqlobject.objects.all()\n</code></pre>\n\n<p>and then just focus on getting a TitanSerializer to work.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 870, "user_id": 2443062, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/pTk9s.png?s=128&g=1", "display_name": "Dmitry Yudin", "link": "https://stackoverflow.com/users/2443062/dmitry-yudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1237, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1505435621, "creation_date": 1440015663, "last_edit_date": 1506103282, "question_id": 32104940, "link": "https://stackoverflow.com/questions/32104940/what-is-the-best-way-to-create-rest-for-nosql-with-django-and-titan", "title": "What is the best way to create REST for nosql with Django and Titan?", "body": "<p>Hello all and have a nice day! I wonder, how can i create REST with django-rest-framework and my nosql objects orm. For example i have bulbflow, which connects to my graph database  Titan. Bulbflow allows you to make usual queries in ORM style like this:</p>\n\n<pre><code>MyNosqlobject.objects.all()\n</code></pre>\n\n<p>What i want is to be able to access my object via REST interface from javascript, but MyNosqlobject is not usual django model. It is actually a proxy for graph vertice. </p>\n"}, {"tags": ["python", "sockets"], "comments": [{"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1440016176, "post_id": 32104917, "comment_id": 52104695, "body": "Do you get anything printed from the server side?  You are calling <code>recv</code> twice (in the server) without a send between, but I don&#39;t know if it is getting to the second one.  My guess it that it is deadlocking on the second <code>recv</code>."}, {"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 0, "creation_date": 1440016233, "post_id": 32104917, "comment_id": 52104729, "body": "socket is IP base not domain base ! Give ip or for binding all interfaces <b>&quot;0.0.0.0&quot;</b>"}], "answers": [{"tags": [], "owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1440019182, "last_edit_date": 1440019182, "creation_date": 1440016320, "answer_id": 32105127, "question_id": 32104917, "link": "https://stackoverflow.com/questions/32104917/python-socket-send-not-working/32105127#32105127", "title": "python socket send not working", "body": "<p>The problem is two lines in your server</p>\n\n<p>Your server calls <code>recv()</code> inside a print statement. This empties the buffer. Then you call <code>recv()</code> again, but it is already emptied by the previous statement and so it then blocks. </p>\n\n<p>You need to call <code>recv()</code> and store that in <code>s</code>. Then use <code>s</code> everywhere else. </p>\n\n<p>Try this for your server:</p>\n\n<pre><code>import socket\n\ns = socket.socket()\n\nhost = socket.gethostname()\n\nport = 1234\n\ns.bind((host, port))\n\ns.listen(5)\n\nwhile True:\n    c, addr = s.accept()\n    print('Got connection from', addr)\n    s = c.recv(50)\n    print('Received message == ',s)\n    c.send(s)\n    c.close()\n</code></pre>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3162, "favorite_count": 0, "accepted_answer_id": 32105127, "answer_count": 1, "score": 0, "last_activity_date": 1440019182, "creation_date": 1440015584, "question_id": 32104917, "link": "https://stackoverflow.com/questions/32104917/python-socket-send-not-working", "title": "python socket send not working", "body": "<p>Im writing a simple socket program to receive some data and reverse the contents.\nWhen I pass the reversed contents its not being sent..</p>\n\n<p>Server</p>\n\n<pre><code>import socket\n\ns = socket.socket()\n\nhost = socket.gethostname()\n\nport = 1234\n\ns.bind((host, port))\n\ns.listen(5)\n\nwhile True:\n    c, addr = s.accept()\n    print('Got connection from', addr)\n    print('Received message == ',c.recv(50))\n    s = c.recv(50)[::-1]\n    c.send(s)\n    c.close()\n</code></pre>\n\n<p>client</p>\n\n<pre><code>import socket\nfrom time import sleep\ns = socket.socket()\n\nhost = socket.gethostname()\n\nport = 1234\n\ns.connect((host, port))\n\nprint \"Sending data\"\ns.sendall(\"Hello!! How are you\")\nprint(s.recv(1024))\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "boto", "boto3"], "comments": [{"owner": {"reputation": 319, "user_id": 4088929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8a8c0513103010c83e61d15614ebd361?s=128&d=identicon&r=PG&f=1", "display_name": "max scalf", "link": "https://stackoverflow.com/users/4088929/max-scalf"}, "edited": false, "score": 0, "creation_date": 1440015976, "post_id": 32104915, "comment_id": 52104571, "body": "@CasualDemon...thank you but i get above error"}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 4088929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8a8c0513103010c83e61d15614ebd361?s=128&d=identicon&r=PG&f=1", "display_name": "max scalf", "link": "https://stackoverflow.com/users/4088929/max-scalf"}, "edited": false, "score": 0, "creation_date": 1440016102, "post_id": 32104936, "comment_id": 52104651, "body": "I think i need to do something like &quot;print(rs[&#39;Snapshots&#39;][0][&#39;VolumeId&#39;])&quot; to get the volumeid ?"}, {"owner": {"reputation": 4377, "user_id": 3244542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824d97462f60717863214b3efca87c24?s=128&d=identicon&r=PG&f=1", "display_name": "CasualDemon", "link": "https://stackoverflow.com/users/3244542/casualdemon"}, "reply_to_user": {"reputation": 319, "user_id": 4088929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8a8c0513103010c83e61d15614ebd361?s=128&d=identicon&r=PG&f=1", "display_name": "max scalf", "link": "https://stackoverflow.com/users/4088929/max-scalf"}, "edited": false, "score": 0, "creation_date": 1440016709, "post_id": 32104936, "comment_id": 52104975, "body": "You are correct, I missread the dictionary, thinking &quot;Snapshots&quot; was inside &quot;ResponseMetadata&quot;."}], "tags": [], "owner": {"reputation": 4377, "user_id": 3244542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824d97462f60717863214b3efca87c24?s=128&d=identicon&r=PG&f=1", "display_name": "CasualDemon", "link": "https://stackoverflow.com/users/3244542/casualdemon"}, "is_accepted": true, "score": 7, "last_activity_date": 1440016661, "last_edit_date": 1440016661, "creation_date": 1440015629, "answer_id": 32104936, "question_id": 32104915, "link": "https://stackoverflow.com/questions/32104915/get-value-out-of-the-key-value-pair/32104936#32104936", "title": "get value out of the key/value pair", "body": "<p>They are functions, call them like:</p>\n\n<pre><code>print rs.keys()\nprint rs.values()\n</code></pre>\n\n<p>To get that exact metadata:</p>\n\n<pre><code>print(rs['Snapshots'][0]['VolumeId'])\n</code></pre>\n\n<p>Edit: </p>\n\n<p>As @Anand S Kumar points out, if there are more than a single snapshot you will have to iterate over them in a loop as he demonstrated. </p>\n"}, {"tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": false, "score": 3, "last_activity_date": 1440016345, "last_edit_date": 1440016345, "creation_date": 1440015737, "answer_id": 32104962, "question_id": 32104915, "link": "https://stackoverflow.com/questions/32104915/get-value-out-of-the-key-value-pair/32104962#32104962", "title": "get value out of the key/value pair", "body": "<p><code>rs.values</code> is a function, you need to call it -</p>\n\n<pre><code>print rs.values()\n</code></pre>\n\n<p>Same for <code>rs.keys</code> , its also a function, call it - <code>rs.keys()</code> .</p>\n\n<p>But if your case to just get the <code>VolumeId</code> , you can directly access it using <code>subscript</code> after first getting the list of snapshots and then iterating over it and getting <code>volumeId</code> for each snapshot -</p>\n\n<pre><code>snapshots = rs['Snapshots']\nfor snapshot in snapshots:\n    print snapshot['VolumeId']\n</code></pre>\n\n<p>Or as @CasualDemon has given in his answer, if you only want the <code>VolumeId</code> for the first Snapshot, you can do -</p>\n\n<pre><code>print rs['Snapshots'][0]['VolumeId']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 5244931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/005c4db21f2c678d4197628537ee7571?s=128&d=identicon&r=PG&f=1", "display_name": "nameCensored", "link": "https://stackoverflow.com/users/5244931/namecensored"}, "is_accepted": false, "score": 0, "last_activity_date": 1440016484, "creation_date": 1440016484, "answer_id": 32105179, "question_id": 32104915, "link": "https://stackoverflow.com/questions/32104915/get-value-out-of-the-key-value-pair/32105179#32105179", "title": "get value out of the key/value pair", "body": "<p>If I am not mistaken what you want to get is the value(s) associated with u'VolumeId',\nthat is 'vol-41e14536' (and more values if you had several snapshots).</p>\n\n<p>rs is a dictionary whose u'Snapshot' key is associated with a list of dictionary (actually of only one dictionary), and these dictionary contain a key u'VolumeId' whose associated value you want.</p>\n\n<pre><code>{ ....                   u'Snapshot' : [                                 {...                        u'VolumeId': 'vol-41e14536' ...}  ] ... }\n^Beginning of dictionary ^key          ^Value(list of dictionaries)      ^firstElement(a dictionary) ^The key you are looking for and its value\n</code></pre>\n\n<p>What you could do is</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>snapshots = rs[u'Snapshots']\nvolumeIds = []\nfor snapshotDict in snapshots :\n    volumeIds.append(snapshotDict[u'VolumeId'])\nprint(volumeIds)\n</code></pre>\n\n<p>Assuming python3 syntaxe</p>\n"}], "owner": {"reputation": 319, "user_id": 4088929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8a8c0513103010c83e61d15614ebd361?s=128&d=identicon&r=PG&f=1", "display_name": "max scalf", "link": "https://stackoverflow.com/users/4088929/max-scalf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4103, "favorite_count": 0, "accepted_answer_id": 32104936, "answer_count": 3, "score": 0, "last_activity_date": 1440016661, "creation_date": 1440015568, "last_edit_date": 1440016014, "question_id": 32104915, "link": "https://stackoverflow.com/questions/32104915/get-value-out-of-the-key-value-pair", "title": "get value out of the key/value pair", "body": "<p>This might be really trivial question for some python pros out there, but i am using boto3 to get some snapshot information....i do the below and get a the out.... my question is how do i get just the \"VolumeId\", i thought as this is a key value output i can use something value rs.value to get that but i do not get desired output...</p>\n\n<pre><code>&gt;&gt;&gt; import boto3\n&gt;&gt;&gt; client = boto3.client('ec2')\n&gt;&gt;&gt; rs = client.describe_snapshots(SnapshotIds=['snap-656f5566'])\n&gt;&gt;&gt; print rs\n{'ResponseMetadata': {'HTTPStatusCode': 200, 'RequestId': '6f99cc31-f586-48cf-b9bd-f5ca48a536fe'}, u'Snapshots': [{u'Description': 'Created by CreateImage(i-bbe81dc1) for ami-28ne0f44 from vol-72e14126', u'Encrypted': False, u'VolumeId': 'vol-41e14536', u'State': 'completed', u'VolumeSize': 30, u'Progress': '100%', u'StartTime': datetime.datetime(2012, 10, 7, 14, 33, 16, tzinfo=tzlocal()), u'SnapshotId': 'snap-658f5566', u'OwnerId': '0111233286342'}]}\n&gt;&gt;&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; dir(rs)\n['__class__', '__cmp__', '__contains__', '__delattr__', '__delitem__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__init__', '__iter__', '__le__', '__len__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setitem__', '__sizeof__', '__str__', '__subclasshook__', 'clear', 'copy', 'fromkeys', 'get', 'has_key', 'items', 'iteritems', 'iterkeys', 'itervalues', 'keys', 'pop', 'popitem', 'setdefault', 'update', 'values']\n&gt;&gt;&gt;\n&gt;&gt;&gt; print rs.keys\n&lt;built-in method keys of dict object at 0x1e76a60&gt;\n&gt;&gt;&gt;\n&gt;&gt;&gt; print rs.values\n&lt;built-in method values of dict object at 0x1e76a60&gt;\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Error after fixing</p>\n\n<pre><code>&gt;&gt;&gt; print rs.keys()\n['ResponseMetadata', u'Snapshots']\n&gt;&gt;&gt; print(rs['ResponseMetadata']['Snapshots'][0]['VolumeId'])\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nKeyError: 'Snapshots'\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": ["python", "rabbitmq", "pika"], "comments": [{"owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "edited": false, "score": 0, "creation_date": 1440018426, "post_id": 32104906, "comment_id": 52105858, "body": "I even tried to use a queue that is allready existing for the command queue. and did a basic_consume on both the queues but neither of the queues are being consumed."}, {"owner": {"reputation": 23298, "user_id": 408182, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/02jXt.jpg?s=128&g=1", "display_name": "eandersson", "link": "https://stackoverflow.com/users/408182/eandersson"}, "edited": false, "score": 0, "creation_date": 1440028385, "post_id": 32104906, "comment_id": 52109217, "body": "Do you need to consume messages from the different queues to separate functions, or can messages from the different queue call the same function?"}, {"owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "reply_to_user": {"reputation": 23298, "user_id": 408182, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/02jXt.jpg?s=128&g=1", "display_name": "eandersson", "link": "https://stackoverflow.com/users/408182/eandersson"}, "edited": false, "score": 0, "creation_date": 1440028505, "post_id": 32104906, "comment_id": 52109250, "body": "It would be ideal to consume in a different callback method. but it you could get it to consume to the same method that will be great too."}], "answers": [{"comments": [{"owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "edited": false, "score": 0, "creation_date": 1440050439, "post_id": 32110205, "comment_id": 52114709, "body": "Yes, I did. My consumer looks very similar to the sync consumer example. It works fine when consuming from a single queue. But the problem is my consumer needs to consume from multiple queues. Is there an example for that?"}, {"owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "edited": false, "score": 0, "creation_date": 1440429495, "post_id": 32110205, "comment_id": 52257170, "body": "correction: My consumer looks very similar to the async consumer example"}, {"owner": {"reputation": 44, "user_id": 1778420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0518a170c1d4a609081e5d71078c850?s=128&d=identicon&r=PG", "display_name": "user1778420", "link": "https://stackoverflow.com/users/1778420/user1778420"}, "reply_to_user": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "edited": false, "score": 0, "creation_date": 1440521303, "post_id": 32110205, "comment_id": 52303186, "body": "Please post a complete code sample that demonstrates your issue. It will make it easier for the community to help you."}], "tags": [], "owner": {"reputation": 44, "user_id": 1778420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0518a170c1d4a609081e5d71078c850?s=128&d=identicon&r=PG", "display_name": "user1778420", "link": "https://stackoverflow.com/users/1778420/user1778420"}, "is_accepted": false, "score": -1, "last_activity_date": 1440048653, "creation_date": 1440048653, "answer_id": 32110205, "question_id": 32104906, "link": "https://stackoverflow.com/questions/32104906/how-to-asynchronously-consume-from-2-rabbitmq-queues-from-one-consumer-using-pik/32110205#32110205", "title": "how to Asynchronously consume from 2 RabbitMQ queues from one consumer using pika", "body": "<p>Have you looked at the example here: <a href=\"http://pika.readthedocs.org/en/latest/examples/asynchronous_consumer_example.html\" rel=\"nofollow\">http://pika.readthedocs.org/en/latest/examples/asynchronous_consumer_example.html</a> ?</p>\n\n<p>And some blocking examples:\n<a href=\"http://pika.readthedocs.org/en/latest/examples/blocking_consume.html\" rel=\"nofollow\">http://pika.readthedocs.org/en/latest/examples/blocking_consume.html</a>\n<a href=\"http://pika.readthedocs.org/en/latest/examples/blocking_consumer_generator.html\" rel=\"nofollow\">http://pika.readthedocs.org/en/latest/examples/blocking_consumer_generator.html</a></p>\n\n<p>Blocking and Select connection comparison: <a href=\"http://pika.readthedocs.org/en/latest/examples/comparing_publishing_sync_async.html\" rel=\"nofollow\">http://pika.readthedocs.org/en/latest/examples/comparing_publishing_sync_async.html</a></p>\n\n<p>Blocking and Select connections in pika 0.10.0 pre-release are faster and there are a number of bug fixes in that version.</p>\n"}], "owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4624, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1440048653, "creation_date": 1440015542, "question_id": 32104906, "link": "https://stackoverflow.com/questions/32104906/how-to-asynchronously-consume-from-2-rabbitmq-queues-from-one-consumer-using-pik", "title": "how to Asynchronously consume from 2 RabbitMQ queues from one consumer using pika", "body": "<p>I am writing a Consumer that need to consume from two different queues. </p>\n\n<p>1-> for the actual messages(queue declared before hand).</p>\n\n<p>2-> for command messages to control the behavior of the consumer(dynamically declared by the consumer and binds to an existing exchange with a routing key in a specific format(need one for each instance of consumer running))</p>\n\n<p>I am using selection connection to consume async'ly. </p>\n\n<pre><code>    self.channel.basic_qos(prefetch_count = self.prefetch_count)\n    log.info(\"Establishing channel with the Queue: \"+self.commandQueue)\n    print \"declaring command queue\"\n    self.channel.queue_declare(queue=self.commandQueue,\n                                durable = True,\n                                exclusive=False,\n                                auto_delete=True,\n                                callback = self.on_command_queue_declared)\n</code></pre>\n\n<p>The queue is not being declared or the callback is not getting called.</p>\n\n<p>On the other hand the messages from the actual message Queue are not being consumed since i added this block of code. </p>\n\n<p>Pika logs do not show any errors nor the consumer app crashes. </p>\n\n<p>does anybody know why this is happening or is there a better way to do this?</p>\n"}, {"tags": ["python", "buffer", "python-c-api", "pep3118", "pybuffer"], "comments": [{"owner": {"reputation": 7104, "user_id": 1612701, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cdF23.jpg?s=128&g=1", "display_name": "Cody Piersall", "link": "https://stackoverflow.com/users/1612701/cody-piersall"}, "edited": false, "score": 0, "creation_date": 1440015394, "post_id": 32104858, "comment_id": 52104253, "body": "Are you saving it to a .mat file?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1440015711, "post_id": 32104858, "comment_id": 52104413, "body": "have a look at  io.BytesIO <a href=\"https://docs.python.org/2/library/io.html#io.BytesIO\" rel=\"nofollow noreferrer\">docs.python.org/2/library/io.html#io.BytesIO</a>"}, {"owner": {"reputation": 1453, "user_id": 2133240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iz1JT.jpg?s=128&g=1", "display_name": "dsgdfg", "link": "https://stackoverflow.com/users/2133240/dsgdfg"}, "edited": false, "score": 1, "creation_date": 1440016703, "post_id": 32104858, "comment_id": 52104969, "body": "<a href=\"http://code.runnable.com/UqJdRnCIohYmAAGP/reading-binary-files-in-python-for-io\" rel=\"nofollow noreferrer\">code.runnable.com/UqJdRnCIohYmAAGP/&hellip;</a>"}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1440017255, "post_id": 32104858, "comment_id": 52105279, "body": "Can&#39;t you just treat the file as your buffer and readline one line from the file at a time and do your processing that way? Just asking because &quot;640x480&quot; doesn&#39;t necessarily translate to a specific buffer size. You could also just read the whole file with .<code>open(&quot;image_file.jpg&quot;, mode=&quot;rb&quot;).read()</code>"}, {"owner": {"reputation": 557, "user_id": 3397145, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e875728143b230a04700f0dd56b51ac9?s=128&d=identicon&r=PG&f=1", "display_name": "user3397145", "link": "https://stackoverflow.com/users/3397145/user3397145"}, "edited": false, "score": 1, "creation_date": 1440022152, "post_id": 32104858, "comment_id": 52107465, "body": "I have binary file. I want buffer my file because I gono send byte by byte with serial port and I think if I buffer the file, I can send bytes faster,am I right?"}, {"owner": {"reputation": 557, "user_id": 3397145, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e875728143b230a04700f0dd56b51ac9?s=128&d=identicon&r=PG&f=1", "display_name": "user3397145", "link": "https://stackoverflow.com/users/3397145/user3397145"}, "edited": false, "score": 1, "creation_date": 1440022277, "post_id": 32104858, "comment_id": 52107502, "body": "I mean does reading <b>file</b> byte by byte slower than reading <b>buffer</b> byte by byte?"}, {"owner": {"reputation": 3985, "user_id": 298171, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/fp85I.jpg?s=128&g=1", "display_name": "fish2000", "link": "https://stackoverflow.com/users/298171/fish2000"}, "edited": false, "score": 0, "creation_date": 1467341229, "post_id": 32104858, "comment_id": 63703350, "body": "@user3397145 depends on the size of the file and how you are doing the reads. Reading with a Py_buffer generally means Python reads the file into memory before populating the buffer you receive \u2013 several things affect how that performs: Python 2 vs 3 (file I/O was overhauled in Python 3); the infamous GIL state, and other concurrency gotchas; the files\u2019 disposition on disk and/or memory\u2026 etc. Reading with the unbuffered POSIX descriptor API is generally pretty fast (as is using a <code>std::istream_iterator&lt;uint8_t&gt;</code> in C++-land); <code>mmap()</code> can be very fast but not in all circumstances\u2026 basically."}], "answers": [{"tags": [], "owner": {"reputation": 3985, "user_id": 298171, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/fp85I.jpg?s=128&g=1", "display_name": "fish2000", "link": "https://stackoverflow.com/users/298171/fish2000"}, "is_accepted": false, "score": 0, "last_activity_date": 1455131424, "creation_date": 1455131424, "answer_id": 35323893, "question_id": 32104858, "link": "https://stackoverflow.com/questions/32104858/loading-binary-data-from-a-file-into-a-buffer-in-python/35323893#35323893", "title": "Loading binary data from a file into a buffer in Python", "body": "<p>If you are using the C-API, you are going to want to use a <code>Py_buffer</code> structure (which is not a Python object \u2013 it is unrelated to <code>PyObject*</code>-compatible structures in the C-API).</p>\n\n<ul>\n<li>Basic information is here: <a href=\"https://docs.python.org/2/c-api/buffer.html\" rel=\"nofollow\">https://docs.python.org/2/c-api/buffer.html</a></li>\n</ul>\n\n<p>If not using C, you will be interested in <code>memoryview</code> \u2013 the Python-level analog to <code>Py_buffer</code> \u2013 and the file I/O builtins and library module(s):</p>\n\n<ul>\n<li><a href=\"https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files\" rel=\"nofollow\">https://docs.python.org/2/tutorial/inputoutput.html#reading-and-writing-files</a></li>\n</ul>\n"}], "owner": {"reputation": 557, "user_id": 3397145, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/e875728143b230a04700f0dd56b51ac9?s=128&d=identicon&r=PG&f=1", "display_name": "user3397145", "link": "https://stackoverflow.com/users/3397145/user3397145"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1514063483, "creation_date": 1440015359, "last_edit_date": 1514063483, "question_id": 32104858, "link": "https://stackoverflow.com/questions/32104858/loading-binary-data-from-a-file-into-a-buffer-in-python", "title": "Loading binary data from a file into a buffer in Python", "body": "<p>I have a set of 640x480 images. I\u2019m converting these images to a binary file format via Matlab\u2026 Now, I need to load each of the binary files into a buffer in Python, and then read data from that buffer. Can anyone help me out with how I might do that, or suggest a link? \u2013Thanks.</p>\n"}, {"tags": ["python", "json", "dictionary", "tuples", "pickle"], "comments": [{"owner": {"reputation": 21422, "user_id": 333698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca080b4ef1c6cb4df9bc123d3b3af61?s=128&d=identicon&r=PG", "display_name": "psmears", "link": "https://stackoverflow.com/users/333698/psmears"}, "edited": false, "score": 2, "creation_date": 1440015131, "post_id": 32104774, "comment_id": 52104095, "body": "When you say &quot;neither of them seem to work&quot;, can you describe what problems you&#39;ve seen, exactly?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1440015327, "post_id": 32104774, "comment_id": 52104223, "body": "JSON and <code>pickle</code> are very popular modules that work fine as long as you use them properly. If they &quot;don&#39;t work,&quot; the problem lies elsewhere."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 4, "creation_date": 1440015420, "post_id": 32104774, "comment_id": 52104265, "body": "Include your code in the question; don&#39;t just link to code. And <i>especially</i> not to code that&#39;s going to change the next time there&#39;s a commit (as it&#39;s just pointing to <code>master</code>)."}, {"owner": {"reputation": 8490, "user_id": 674064, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf2cf5a797565e548088053644704e7?s=128&d=identicon&r=PG", "display_name": "das-g", "link": "https://stackoverflow.com/users/674064/das-g"}, "edited": false, "score": 3, "creation_date": 1440015546, "post_id": 32104774, "comment_id": 52104333, "body": "Instead of a link to your full code, please include a <a href=\"http://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a> in your question that reproduces the problem you&#39;re having."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 5244969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af54574f042d08ccb6fbaa4a609a28fd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Vasquez", "link": "https://stackoverflow.com/users/5244969/j-vasquez"}, "edited": false, "score": 0, "creation_date": 1440097012, "post_id": 32105609, "comment_id": 52143848, "body": "Thanks educating me! As BlackJack pointed out I was also using pickle incorrectly so the issue is now fixed."}, {"owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "reply_to_user": {"reputation": 131, "user_id": 5244969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af54574f042d08ccb6fbaa4a609a28fd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Vasquez", "link": "https://stackoverflow.com/users/5244969/j-vasquez"}, "edited": false, "score": 0, "creation_date": 1440184894, "post_id": 32105609, "comment_id": 52185130, "body": "glad it worked out for you. It seemed like you were getting an Exception thrown at. my bad assuming that. cheers!!"}], "tags": [], "owner": {"reputation": 204, "user_id": 1857805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51647164d42a0b1435994530b9540201?s=128&d=identicon&r=PG", "display_name": "rajesh.kanakabandi", "link": "https://stackoverflow.com/users/1857805/rajesh-kanakabandi"}, "is_accepted": false, "score": 1, "last_activity_date": 1440018133, "creation_date": 1440018133, "answer_id": 32105609, "question_id": 32104774, "link": "https://stackoverflow.com/questions/32104774/storing-a-nested-dictionary-of-tuples-in-python/32105609#32105609", "title": "Storing a nested dictionary of tuples in python", "body": "<p>json expects the key of the Key value pair to be a string or a number that can be properly converted to a string. bottom line - cant do a json.dumps on a dict with tuples as keys.</p>\n\n<p>pickle should work unless the dictionary object is not properly serialized.</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 5244969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af54574f042d08ccb6fbaa4a609a28fd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Vasquez", "link": "https://stackoverflow.com/users/5244969/j-vasquez"}, "edited": false, "score": 0, "creation_date": 1440096967, "post_id": 32106903, "comment_id": 52143831, "body": "Thanks, BlackJack! This is exactly the issue. This was my first time using pickle and of course the example code I used was in error."}], "tags": [], "owner": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "is_accepted": false, "score": 0, "last_activity_date": 1440024699, "creation_date": 1440024699, "answer_id": 32106903, "question_id": 32104774, "link": "https://stackoverflow.com/questions/32104774/storing-a-nested-dictionary-of-tuples-in-python/32106903#32106903", "title": "Storing a nested dictionary of tuples in python", "body": "<p>From your code:</p>\n\n<pre><code>with open(filename, 'rb') as df:\n    pickle.load(df)\nprint mapping\n</code></pre>\n\n<p>You don't bind the result of the <code>load()</code> call to a name, so that line has no effect (other than consuming processor time and moving the file pointer).  That should read:</p>\n\n<pre><code>with open(filename, 'rb') as df:\n    mapping = pickle.load(df)\nprint mapping\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 5244969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af54574f042d08ccb6fbaa4a609a28fd?s=128&d=identicon&r=PG&f=1", "display_name": "J. Vasquez", "link": "https://stackoverflow.com/users/5244969/j-vasquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1440024699, "creation_date": 1440015040, "question_id": 32104774, "link": "https://stackoverflow.com/questions/32104774/storing-a-nested-dictionary-of-tuples-in-python", "title": "Storing a nested dictionary of tuples in python", "body": "<p>I have a dictionary of dictionaries that uses tuples as it's keys and values. I would like to write this dictionary and have tried json and pickle but neither of them seem to work. Is there a better alternative? </p>\n\n<p><a href=\"https://github.com/jgv7/markov-generator/blob/master/sentence-generator.py\" rel=\"nofollow\">https://github.com/jgv7/markov-generator/blob/master/sentence-generator.py</a></p>\n"}, {"tags": ["python", "django", "django-templates", "django-admin"], "answers": [{"comments": [{"owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "edited": false, "score": 0, "creation_date": 1440069638, "post_id": 32113485, "comment_id": 52126182, "body": "Ok, I made that: the only fix I had to make in order not to get an exception was to do <code>return {&quot;is_empty&quot;: not MyTable.objects.exists()}</code>. Otherwise, absolutely perfect! Thanks!"}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 2, "last_activity_date": 1440070783, "last_edit_date": 1440070783, "creation_date": 1440060021, "answer_id": 32113485, "question_id": 32104735, "link": "https://stackoverflow.com/questions/32104735/where-is-the-django-administrations-view/32113485#32113485", "title": "Where is the Django Administration&#39;s view?", "body": "<p>Create a <a href=\"https://docs.djangoproject.com/en/1.8/ref/templates/api/#subclassing-context-requestcontext\" rel=\"nofollow\">template context processor</a> that calculates the value of <code>is_empty</code>.</p>\n\n<pre><code># in my_app/context_processors.py\nfrom my_app.models import MyTable\n\ndef is_empty(request):\n    \"\"\"Returns a bool depending on whether MyTable is empty\"\"\"\n    return {'is_empty': not MyTable.objects.exists()} \n</code></pre>\n\n<p>Add your context processor to your template settings (note this step is slightly different for Django &lt; 1.8). </p>\n\n<pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        ...\n        'OPTIONS': {\n            'context_processors': [\n                ...\n                'my_app.context_processors.is_empty',\n            ],\n        },\n    },\n]\n</code></pre>\n\n<p>You can then include <code>{{ is_empty }}</code> in any templates rendered with a request context. This includes admin views, generic class based views, and views that use the <code>render</code> shortcut.</p>\n"}], "owner": {"reputation": 2039, "user_id": 2339620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/858406bb3e274f28f148e8cc86dece68?s=128&d=identicon&r=PG", "display_name": "karlosss", "link": "https://stackoverflow.com/users/2339620/karlosss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 32113485, "answer_count": 1, "score": 0, "last_activity_date": 1440072269, "creation_date": 1440014957, "last_edit_date": 1440072269, "question_id": 32104735, "link": "https://stackoverflow.com/questions/32104735/where-is-the-django-administrations-view", "title": "Where is the Django Administration&#39;s view?", "body": "<p>I am trying to modify the original Django administration template. I successfully managed to add custom content. But I would need this content to appear only when a table in my database is empty. Thus, I would like to pass some content to the template via the view but I cannot find it.</p>\n\n<p>To be more specific, my extended admin template looks like this:</p>\n\n<pre><code>{% overextends \"admin/index.html\" %}\n{% load i18n admin_urls %}\n\n{% block content  %}\n     {{ block.super }}\n\n     {% if is_empty %}\n         &lt;a href=\"#\"&gt;This hyperlink appears only when the table is empty&lt;/a&gt;\n     {% endif %}\n\n{% endblock %}\n</code></pre>\n\n<p>and I would like to pass to the template to the variable is_empty either True or False, depending on whether the table is empty or not.</p>\n\n<p>Any ideas how to do that?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["python", "sockets"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 1, "last_activity_date": 1440016513, "last_edit_date": 1440016513, "creation_date": 1440014837, "answer_id": 32104699, "question_id": 32104652, "link": "https://stackoverflow.com/questions/32104652/python-socket-connection-example/32104699#32104699", "title": "Python socket connection example", "body": "<p>In socketserver.py, use <code>c.recv</code>, not <code>s.recv</code> <a href=\"https://docs.python.org/2/library/socket.html#example\" rel=\"nofollow\">to receive bytes from the connection</a>:</p>\n\n<pre><code>print('Received message == ', c.recv(50))\n</code></pre>\n\n<p>Also note that only bytes can be sent through a socket. Therefore, if you are using Python3, be sure to send <code>bytes</code> not <code>str</code>s:</p>\n\n<pre><code>c.send(b'Thank you for connecting')\ns.sendall(b\"Hello!! How are you\")\n</code></pre>\n\n<hr>\n\n<pre><code>import multiprocessing as mp\nimport socket\nimport time\n\ndef basic():\n    sproc = mp.Process(target=server)\n    sproc.daemon = True\n    sproc.start()\n    time.sleep(.5)\n    client()\n    sproc.join()\n\ndef server():\n    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n    host = socket.gethostname()\n    port = 1234\n    s.bind((host, port))\n    s.listen(5)\n    c, addr = s.accept()\n    print('Got connection from {}'.format(addr))\n    print('Received message == {}'.format(c.recv(50).decode('ascii')))\n    c.send(b'Thank you for connecting')\n    c.close()\n\ndef client():\n    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    host = socket.gethostname()\n    port = 1234\n    s.connect((host, port))\n    time.sleep(1)\n    s.sendall(b\"Hello!! How are you\")\n    print(s.recv(1024).decode('ascii'))\n    s.close()\n\nbasic()\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>Got connection from ('127.0.0.1', 48158)\nReceived message == Hello!! How are you\nThank you for connecting\n</code></pre>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440016513, "creation_date": 1440014643, "question_id": 32104652, "link": "https://stackoverflow.com/questions/32104652/python-socket-connection-example", "title": "Python socket connection example", "body": "<p>Im writing a simple socket program but get the below error -</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\ANAND\\workspace\\Python_Scratch\\Scratch\\sockettest.py\", line 16, in &lt;module&gt;\n    print('Received message == ',s.recv(50))\nsocket.error: [Errno 10057] A request to send or receive data was disallowed because the socket is not connected and (when sending on a datagram socket using a sendto call) no address was supplied\n</code></pre>\n\n<p>socketserver.py</p>\n\n<pre><code>import socket\n\ns = socket.socket()\n\nhost = socket.gethostname()\n\nport = 1234\n\ns.bind((host, port))\n\ns.listen(5)\n\nwhile True:\n    c, addr = s.accept()\n    print('Got connection from', addr)\n    print('Received message == ',s.recv(50))\n    c.send('Thank you for connecting')\n    c.close()\n</code></pre>\n\n<p>socketclient.py</p>\n\n<pre><code>import socket\nfrom time import sleep\ns = socket.socket()\n\nhost = socket.gethostname()\n\nport = 1234\n\ns.connect((host, port))\n\nsleep(10)\ns.sendall(\"Hello!! How are you\")\nprint(s.recv(1024))\n</code></pre>\n"}, {"tags": ["python", "google-app-engine", "google-bigquery"], "comments": [{"owner": {"reputation": 2424, "user_id": 3877822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bnjbb.png?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/3877822/ryan"}, "edited": false, "score": 1, "creation_date": 1440086782, "post_id": 32104643, "comment_id": 52138369, "body": "You should post a full working example on the Issue tracer <a href=\"https://code.google.com/p/google-cloud-platform/issues/entry\" rel=\"nofollow noreferrer\">code.google.com/p/google-cloud-platform/issues/entry</a>"}], "owner": {"reputation": 107, "user_id": 1422248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b5d28b6dd5173dffb1b9fa9350d17ad4?s=128&d=identicon&r=PG", "display_name": "matheus", "link": "https://stackoverflow.com/users/1422248/matheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440014611, "creation_date": 1440014611, "question_id": 32104643, "link": "https://stackoverflow.com/questions/32104643/utc-datastore-different-than-utc-gae", "title": "UTC Datastore different than UTC GAE", "body": "<p>I have to run some batches in Google App Engine and some records are updated and some aren't. I log all the operations in a bigquery table and the updated records are in datastore. To better understand what I mean, here is my code: </p>\n\n<p>Here is the entity:</p>\n\n<pre><code>class User(ndb.Model):     \n  modified = ndb.DateTimeProperty(auto_now=true)\n  name = ndb.StringProperty()\n</code></pre>\n\n<p>Here is the command to get the current time to record the log in BigQuery:</p>\n\n<pre><code>date = datetime.utcnow().isoformat()\n</code></pre>\n\n<p>After analyzing some records I found a difference of 1 hour between the  record in BigQuery and  the entity in Datastore. How could I be guaranteed that the time zone is the same for both? Thanks</p>\n"}, {"tags": ["python", "flash", "web-scraping"], "comments": [{"owner": {"reputation": 467, "user_id": 4966945, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f09b6f1a4128fd24623f028c4ec2316?s=128&d=identicon&r=PG&f=1", "display_name": "av abhishiek", "link": "https://stackoverflow.com/users/4966945/av-abhishiek"}, "edited": false, "score": 0, "creation_date": 1518523453, "post_id": 32104568, "comment_id": 84532948, "body": "I know it has been a very long time , can you please tell me if you were able to scrape the flash site, I am struggling with something similar."}, {"owner": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "edited": false, "score": 0, "creation_date": 1552242415, "post_id": 32104568, "comment_id": 96926522, "body": "check cheerio and puppeter"}], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 4966945, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f09b6f1a4128fd24623f028c4ec2316?s=128&d=identicon&r=PG&f=1", "display_name": "av abhishiek", "link": "https://stackoverflow.com/users/4966945/av-abhishiek"}, "edited": false, "score": 0, "creation_date": 1518523381, "post_id": 32111202, "comment_id": 84532915, "body": "Is the link dead, I tried opening it but was not able to open at all"}, {"owner": {"reputation": 654, "user_id": 3458484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sl4jg.png?s=128&g=1", "display_name": "Aiyion.Prime", "link": "https://stackoverflow.com/users/3458484/aiyion-prime"}, "edited": false, "score": 1, "creation_date": 1552089475, "post_id": 32111202, "comment_id": 96892849, "body": "This is the redirection of archive.org: <a href=\"https://web.archive.org/web/20151011001233/https://tudorbarbu.ninja/pywebkitgtk-execute-javascript-from-python/\" rel=\"nofollow noreferrer\">web.archive.org/web/20151011001233/https://tudorbarbu.ninja/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "edited": false, "score": 0, "creation_date": 1552242379, "post_id": 32111202, "comment_id": 96926511, "body": "check cheerio and puppeter"}, {"owner": {"reputation": 90, "user_id": 13809929, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Ggj-kOkJHq2hl5BfAhcZ4K_WFCVs7XQYwXtOe4m=k-s128", "display_name": "The Laggy Tablet", "link": "https://stackoverflow.com/users/13809929/the-laggy-tablet"}, "edited": false, "score": 0, "creation_date": 1602772576, "post_id": 32111202, "comment_id": 113831443, "body": "What do you mean by &#39;Cheerio and Puppeter&#39;?"}], "tags": [], "owner": {"reputation": 1179, "user_id": 4794848, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-BLoCqkGJWY0/AAAAAAAAAAI/AAAAAAAAA4Q/MkhdfIVjvmQ/photo.jpg?sz=128", "display_name": "Rahul Shrivastava", "link": "https://stackoverflow.com/users/4794848/rahul-shrivastava"}, "is_accepted": false, "score": 0, "last_activity_date": 1440052942, "creation_date": 1440052942, "answer_id": 32111202, "question_id": 32104568, "link": "https://stackoverflow.com/questions/32104568/scraping-information-from-a-flash-object-on-a-website-using-python-or-any-other/32111202#32111202", "title": "Scraping information from a flash object on a website using python or any other method", "body": "<p>I believe the following blog post answers your question well. The author had the same need, to scrape Flash content using Python. And the same problem came up. He realized that he just needed to instantiate a browser (even just an in-memory one that did not even display to the screen) and then scrape its output. I think this could be a successful approach for what you need, and he makes it easy to understand.</p>\n\n<p><a href=\"http://blog.motane.lu/2009/06/18/pywebkitgtk-execute-javascript-from-python/\" rel=\"nofollow\">http://blog.motane.lu/2009/06/18/pywebkitgtk-execute-javascript-from-python/</a></p>\n"}], "owner": {"reputation": 391, "user_id": 5050623, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3e68332b163bf6f0f07d05ecd4193db7?s=128&d=identicon&r=PG&f=1", "display_name": "Gonzalo68", "link": "https://stackoverflow.com/users/5050623/gonzalo68"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440052942, "creation_date": 1440014340, "question_id": 32104568, "link": "https://stackoverflow.com/questions/32104568/scraping-information-from-a-flash-object-on-a-website-using-python-or-any-other", "title": "Scraping information from a flash object on a website using python or any other method", "body": "<p>I was just wondering if it is possible to scrape information form this website that contained in a flash file.(<a href=\"http://www.tomtom.com/lib/doc/licensing/coverage/\" rel=\"nofollow\">http://www.tomtom.com/lib/doc/licensing/coverage/</a>)</p>\n\n<p>I am trying to get the all the text from the different components of this website. </p>\n\n<p>Can anyone suggest a good starting point in python or any simpler method.</p>\n"}, {"tags": ["python", "lambda", "functional-programming", "reduce"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1440014282, "post_id": 32104514, "comment_id": 52103614, "body": "What is a function fee?"}, {"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1440014418, "post_id": 32104514, "comment_id": 52103704, "body": "Can toy clarify what you are asking using an input/output example?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1440014544, "post_id": 32104514, "comment_id": 52103774, "body": "Welcome to Stack Overflow, Cheese. SO is a question-and-answer site. Readers, such as yourself, ask questions and other readers attempt to answer the questions. Your post is missing a key element: a question. Do you have a specific question?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1440020147, "post_id": 32104514, "comment_id": 52106683, "body": "fee = lambda t: sum((x-y)**2 for x, y in zip(t, t[1:]+(t[0],)))"}], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440014842, "post_id": 32104613, "comment_id": 52103923, "body": "You don&#39;t have to zip explicitly. Since the first argument to <code>map</code> is a function that takes two arguments, you can just pass the two tuples as separate arguments: <code>map(lambda x, y: ..., tup, tup[1:] + (tup[0],))</code>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1440015213, "post_id": 32104613, "comment_id": 52104157, "body": "The list comprehension makes it a moot point, though :) That&#39;s very much better than using <code>map</code> here."}, {"owner": {"reputation": 171, "user_id": 5199522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9dUd3.jpg?s=128&g=1", "display_name": "Cheese", "link": "https://stackoverflow.com/users/5199522/cheese"}, "edited": false, "score": 0, "creation_date": 1440016190, "post_id": 32104613, "comment_id": 52104705, "body": "In your first solution with sum and map, will the map take any tuple length?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 171, "user_id": 5199522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9dUd3.jpg?s=128&g=1", "display_name": "Cheese", "link": "https://stackoverflow.com/users/5199522/cheese"}, "edited": false, "score": 0, "creation_date": 1440017198, "post_id": 32104613, "comment_id": 52105237, "body": "@Cheese Yes, actually it&#39;s depends on your memory limit!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 3, "last_activity_date": 1440014897, "last_edit_date": 1440014897, "creation_date": 1440014499, "answer_id": 32104613, "question_id": 32104514, "link": "https://stackoverflow.com/questions/32104514/map-a-functions-argument-which-is-a-lambda-to-a-tuple/32104613#32104613", "title": "Map a function&#39;s argument, which is a lambda, to a tuple?", "body": "<p>You can play with python <a href=\"https://docs.python.org/3/library/functions.html\" rel=\"nofollow\">built-in functions</a> :</p>\n\n<pre><code>&gt;&gt;&gt; def fee(tup):\n...    return sum(map(lambda x,y:(x-y)**2,tup,tup[1:]+(tup[0],)))\n</code></pre>\n\n<p>Demo :</p>\n\n<pre><code>&gt;&gt;&gt; t=(6, 7, 1, 4)\n&gt;&gt;&gt; fee(t)\n50\n</code></pre>\n\n<p>You can use <code>map</code> function to apply the <code>lambda</code> function on pairs and sum the result :</p>\n\n<pre><code>&gt;&gt;&gt; zip(t,t[1:]+(t[0],))\n[(6, 7), (7, 1), (1, 4), (4, 6)]\n</code></pre>\n\n<p>Instead of <code>map</code> as a more efficient way you can use <code>zip</code> and a generator expression within <code>sum</code> :</p>\n\n<pre><code>&gt;&gt;&gt; def fee(tup):\n...    return sum((x-y)**2 for x,y in zip(tup,tup[1:]+(tup[0],))))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1440015141, "last_edit_date": 1440015141, "creation_date": 1440014531, "answer_id": 32104622, "question_id": 32104514, "link": "https://stackoverflow.com/questions/32104514/map-a-functions-argument-which-is-a-lambda-to-a-tuple/32104622#32104622", "title": "Map a function&#39;s argument, which is a lambda, to a tuple?", "body": "<p>You can do this with a combination of <code>zip</code>, <code>map</code>, and <code>sum</code>:</p>\n\n<pre><code>def fee(vals):\n    x1 = zip(vals, vals[1:] + [vals[0]])\n    x2 = map(lambda t: (t[0] - t[1]) ** 2, x1)\n    return sum(x2)\n</code></pre>\n\n<p>Explanation:</p>\n\n<ol>\n<li><code>zip(vals, vals[:-1] + [vals[0]])</code> combines <code>vals</code> into a list of 2-tuple pairs.</li>\n<li><code>map(lambda t: (t[0] - t[1]) ** 2, x1)</code> performs the mathematical operation on each 2-tuple element.</li>\n<li><code>sum(x2)</code> sums the results of #2 together.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": false, "score": 0, "last_activity_date": 1440015248, "creation_date": 1440015248, "answer_id": 32104824, "question_id": 32104514, "link": "https://stackoverflow.com/questions/32104514/map-a-functions-argument-which-is-a-lambda-to-a-tuple/32104824#32104824", "title": "Map a function&#39;s argument, which is a lambda, to a tuple?", "body": "<p>This should do it:</p>\n\n<pre><code>from itertools import tee\n\ntry:\n    from itertools import izip as zip  # Python 2\nexcept ImportError:\n    pass  # Python 3\n\n\n# An itertools recipe\n# https://docs.python.org/3/library/itertools.html#itertools-recipes\ndef pairwise(iterable):\n    \"s -&gt; (s0,s1), (s1,s2), (s2, s3), ...\"\n    a, b = tee(iterable)\n    next(b, None)\n    return zip(a, b)\n\n\ndef fee(args, func):\n    last_value = func(args[-1], args[0])\n    return sum(func(x, y) for x, y in pairwise(args)) + last_value\n\n\nprint(fee((6, 7, 1, 4), lambda x, y: (x-y) ** 2))  # 50\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 5199522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/9dUd3.jpg?s=128&g=1", "display_name": "Cheese", "link": "https://stackoverflow.com/users/5199522/cheese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 32104613, "answer_count": 3, "score": 1, "last_activity_date": 1440018521, "creation_date": 1440014157, "last_edit_date": 1440018521, "question_id": 32104514, "link": "https://stackoverflow.com/questions/32104514/map-a-functions-argument-which-is-a-lambda-to-a-tuple", "title": "Map a function&#39;s argument, which is a lambda, to a tuple?", "body": "<p>This is the function call below and I'm trying to construct the function <code>fee</code>, I need to map the tuple using functional prog. so that it turns into <code>(6-7)**2 + (7-1)**2 + (1-4)**2</code>, and the last one is <code>(4-6)**2</code>. Then I will sum these and return this value in <code>fee</code>.</p>\n\n<pre><code>fee((6, 7, 1, 4), lambda x, y: (x-y) ** 2)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1331, "user_id": 522599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/S1F3v.jpg?s=128&g=1", "display_name": "Dwight Spencer", "link": "https://stackoverflow.com/users/522599/dwight-spencer"}, "edited": false, "score": 0, "creation_date": 1440014691, "post_id": 32104464, "comment_id": 52103844, "body": "Could you expand on your question?"}, {"owner": {"reputation": 1, "user_id": 5244906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fee8da097f3650aa54f9b844cc66b8c?s=128&d=identicon&r=PG&f=1", "display_name": "LesterVynn", "link": "https://stackoverflow.com/users/5244906/lestervynn"}, "reply_to_user": {"reputation": 1331, "user_id": 522599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/S1F3v.jpg?s=128&g=1", "display_name": "Dwight Spencer", "link": "https://stackoverflow.com/users/522599/dwight-spencer"}, "edited": false, "score": 0, "creation_date": 1440015152, "post_id": 32104464, "comment_id": 52104111, "body": "I just modified the post, adding the question itself."}, {"owner": {"reputation": 1331, "user_id": 522599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/S1F3v.jpg?s=128&g=1", "display_name": "Dwight Spencer", "link": "https://stackoverflow.com/users/522599/dwight-spencer"}, "edited": false, "score": 0, "creation_date": 1440016970, "post_id": 32104464, "comment_id": 52105113, "body": "Thank you for the update. My answer follows below."}], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 522599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/S1F3v.jpg?s=128&g=1", "display_name": "Dwight Spencer", "link": "https://stackoverflow.com/users/522599/dwight-spencer"}, "is_accepted": false, "score": 0, "last_activity_date": 1440017211, "creation_date": 1440017211, "answer_id": 32105381, "question_id": 32104464, "link": "https://stackoverflow.com/questions/32104464/pat-table-sec-to-py-conversion/32105381#32105381", "title": "PAT table .sec to .py conversion", "body": "<p>Looks like your using opencaster to do the bulk of the conversion via system() calls. </p>\n\n<p>From what I can tell opencaster does not have a way to do the inverse but there is a python project <a href=\"http://pythonhackers.com/p/petrkutalek/telxcc\" rel=\"nofollow\">telxcc</a> which can extract <a href=\"https://en.wikipedia.org/wiki/Teletext\" rel=\"nofollow\">teletext</a> from Transport Stream files.</p>\n"}], "owner": {"reputation": 1, "user_id": 5244906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fee8da097f3650aa54f9b844cc66b8c?s=128&d=identicon&r=PG&f=1", "display_name": "LesterVynn", "link": "https://stackoverflow.com/users/5244906/lestervynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489872361, "creation_date": 1440013959, "last_edit_date": 1489872361, "question_id": 32104464, "link": "https://stackoverflow.com/questions/32104464/pat-table-sec-to-py-conversion", "title": "PAT table .sec to .py conversion", "body": "<p>In Digital Television there are some tables used for signaling. This tables can be defined in .py files, to later be converted to .sec and finally to .ts, so they can be muxed. To accomplish this, the next code is used:</p>\n\n<pre><code>out = open(\"./pat.sec\", \"wb\")\nout.write(pat.pack())\nout.close\nout = open(\"./pat.sec\", \"wb\") # python   flush bug\nout.close\nos.system('sec2ts 0 &lt; ./pat.sec &gt; ./pat.ts')\nos.remove('pat.sec')\n</code></pre>\n\n<p>... where PAT is the name of the table, sec2ts is a command from OpenCaster (software for muxing TS for digital television), and at the end I deleted the .sec file for it's no longer important.</p>\n\n<p>Now, from a muxed .ts file I extracted one of the tables (PAT) in .sec format, and I need to return it back to .py so I can analyze its code, or watch the code used to define it in the first place.</p>\n\n<p>My question is: how can I extract the code and save it in a .py file from a .sec file? Is there any kind of inverse process of what I did above?</p>\n\n<p>Here's the rest of the .py  file, just in case:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport os \n\nfrom dvbobjects.PSI.PAT import *\nfrom dvbobjects.DVB.Descriptors import * \nfrom dvbobjects.MPEG.Descriptors import *\n\npat = program_association_section(\n    table_id = 0,\n    section_syntax_indicator = 1,\n    current_next_indicator = 1,\n    transport_stream_id = 22,\n    version_number = 1,\n    section_number = 0,\n    last_section_number = 0,\n    program_loop = [\n        program_loop_item(\n            program_number = 47,\n            PID = 0x0010,\n        ),\n        program_loop_item(\n            program_number = 49,\n            PID = 0x0013,\n        ),\n        program_loop_item(\n            program_number = 51,\n            PID = 0x0014,\n        ),\n    ],\n)\n\nout = open(\"./pat.sec\", \"wb\")\nout.write(pat.pack())\nout.close\nout = open(\"./pat.sec\", \"wb\") # python   flush bug\nout.close\nos.system('sec2ts 0 &lt; ./pat.sec &gt; ./pat.ts')\nos.remove('pat.sec')\n</code></pre>\n"}, {"tags": ["python", "sockets", "asyncore"], "answers": [{"tags": [], "owner": {"reputation": 6872, "user_id": 2753095, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/AAZgP.png?s=128&g=1", "display_name": "mguijarr", "link": "https://stackoverflow.com/users/2753095/mguijarr"}, "is_accepted": false, "score": 0, "last_activity_date": 1440015545, "creation_date": 1440015545, "answer_id": 32104907, "question_id": 32104462, "link": "https://stackoverflow.com/questions/32104462/asyncoress-handle-close-keeps-firing-continuously/32104907#32104907", "title": "asyncores&#39;s handle_close keeps firing continuously", "body": "<p><code>handle_close</code> is not meant to detect if peer is disconnected, you get this information in <code>handle_read</code> if <code>.recv</code> call returns an empty string. Then you can close the socket, and then <code>handle_close</code> is called.</p>\n\n<p>Here is a modified version of your code:</p>\n\n<pre><code>def handle_close(self):\n    print 'Socket closed'\n    if(self.handlers.count(self) &gt; 0):\n        self.handlers.remove(self);\n\ndef handle_read(self):\n    data = ''\n    more = True\n    while more:\n        try:\n            new_data = self.recv(1024)\n            if not new_data:\n                self.close()\n                return\n            else:\n                data += new_data\n        except socket.error, e:\n            more = False\n\n    if data == '':\n        return\n\n    try:\n        message = json.loads(data)\n    except ValueError:\n        self.send('Invalid JSON\\n')\n        return\n\n    print message\n</code></pre>\n"}], "owner": {"reputation": 900, "user_id": 1342618, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7fe4c42445797e7295d0e3feea329388?s=128&d=identicon&r=PG", "display_name": "jangxx", "link": "https://stackoverflow.com/users/1342618/jangxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440015545, "creation_date": 1440013950, "question_id": 32104462, "link": "https://stackoverflow.com/questions/32104462/asyncoress-handle-close-keeps-firing-continuously", "title": "asyncores&#39;s handle_close keeps firing continuously", "body": "<p>self.handlers.append(ConnHandler(sock, self.handlers))I'm new to python and I tried to write a simple socket server to test stuff out and get to know the language better.</p>\n\n<pre><code>import asyncore\nimport socket\nimport json\n\nclass ConnHandler(asyncore.dispatcher_with_send):\n\n    def __init__(self, conn, handlerlist):\n        asyncore.dispatcher_with_send.__init__(self, conn)\n        self.handlers = handlerlist\n\n    def handle_close(self):\n        self.close()\n        print 'Socket closed'\n        if(self.handlers.count(self) &gt; 0):\n            self.handlers.remove(self);\n\n    def handle_read(self):\n        data = ''\n        more = True\n        while more:\n            try:\n                data += self.recv(1024)\n            except socket.error, e:\n                more = False\n\n        if data == '':\n            return\n\n        try:\n            message = json.loads(data)\n        except ValueError:\n            self.send('Invalid JSON\\n')\n            return\n\n        print message\n\n\nclass TestServer(asyncore.dispatcher):\n\n    def __init__(self, host, port):\n        asyncore.dispatcher.__init__(self)\n        self.create_socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.set_reuse_addr()\n        self.bind((host, port))\n        self.listen(5)\n        self.handlers = []\n\n    def handle_accept(self):\n        pair = self.accept()\n        if pair is not None:\n            sock, addr = pair\n            print 'Incoming connection from %s' % repr(addr)\n            self.handlers.append(ConnHandler(sock, self.handlers))\n\n    def sendToAll(self, string):\n        for h in self.handlers:\n            h.send(string + '\\n')\n\nserver = TestServer('localhost', 55555)\nasyncore.loop()\n</code></pre>\n\n<p>My problem is the following.\nIf I connect to the server with telnet and then quit telnet to close the connection, python just spams 'Socket closed' in the terminal. How can I fix this? Are there obvious beginner mistakes in the above code?</p>\n"}, {"tags": ["python", "tkinter", "wing-ide"], "answers": [{"comments": [{"owner": {"reputation": 1207, "user_id": 422333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc32a68dc8f4749f2a6be9a86cd00fd8?s=128&d=identicon&r=PG", "display_name": "Emma", "link": "https://stackoverflow.com/users/422333/emma"}, "edited": false, "score": 0, "creation_date": 1440016736, "post_id": 32105072, "comment_id": 52104994, "body": "That&#39;s true, but I&#39;m not so much confused about the attribute error as I am about the presence of a .text attribute in the stack data. Why is Wing showing me an attribute that doesn&#39;t actually exist?"}, {"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "reply_to_user": {"reputation": 1207, "user_id": 422333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc32a68dc8f4749f2a6be9a86cd00fd8?s=128&d=identicon&r=PG", "display_name": "Emma", "link": "https://stackoverflow.com/users/422333/emma"}, "edited": false, "score": 0, "creation_date": 1440017186, "post_id": 32105072, "comment_id": 52105231, "body": "@Emma I think that at least logically (from an OO point of view) <code>text</code> is considered an attribute, and that&#39;s probably why Wing developers decided to include it as an attribute."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 1, "last_activity_date": 1440016116, "creation_date": 1440016116, "answer_id": 32105072, "question_id": 32104409, "link": "https://stackoverflow.com/questions/32104409/incorrect-stack-data-in-wing-ide-with-tkinter/32105072#32105072", "title": "Incorrect stack data in Wing IDE with Tkinter?", "body": "<p>What you are calling attributes are not object attributes. Widgets use an internal system for managing the widget options. <code>.text</code> is not an attribute, which is why you get the error. To reference the configuration use <code>.cget(...)</code> to get the value and <code>.configure(...)</code> to change the value.</p>\n"}, {"tags": [], "owner": {"reputation": 1207, "user_id": 422333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc32a68dc8f4749f2a6be9a86cd00fd8?s=128&d=identicon&r=PG", "display_name": "Emma", "link": "https://stackoverflow.com/users/422333/emma"}, "is_accepted": true, "score": 3, "last_activity_date": 1440080318, "last_edit_date": 1440080318, "creation_date": 1440021406, "answer_id": 32106314, "question_id": 32104409, "link": "https://stackoverflow.com/questions/32104409/incorrect-stack-data-in-wing-ide-with-tkinter/32106314#32106314", "title": "Incorrect stack data in Wing IDE with Tkinter?", "body": "<p>I posted this to the Wing email list, and I got the following response from the developers:</p>\n\n<blockquote>\n  <p>It looks like a <code>ttk.Checkbutton</code> defines <code>keys()</code> and <code>__getitem__()</code>\n  methods to exposes tk attributes via <code>checkbutton[&lt;name&gt;]</code>.  Because\n  of the <code>keys()</code> and <code>__getitem__()</code>, Wing is displaying the instance\n  as if it were a dictionary, with the keys and values interspersed with\n  the attributes. Wing does this because often you want to view an\n  object that defines <code>keys()</code> and <code>__getitem__()</code> as if it were a\n  dictionary, but I agree that it's confusing in this instance.</p>\n  \n  <p>We'll try to improve this in a future release.</p>\n</blockquote>\n"}], "owner": {"reputation": 1207, "user_id": 422333, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc32a68dc8f4749f2a6be9a86cd00fd8?s=128&d=identicon&r=PG", "display_name": "Emma", "link": "https://stackoverflow.com/users/422333/emma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 1, "accepted_answer_id": 32106314, "answer_count": 2, "score": -2, "last_activity_date": 1440080318, "creation_date": 1440013756, "question_id": 32104409, "link": "https://stackoverflow.com/questions/32104409/incorrect-stack-data-in-wing-ide-with-tkinter", "title": "Incorrect stack data in Wing IDE with Tkinter?", "body": "<p>I am using Wing to write and debug a Tkinter GUI. I am finding that the Stack Data View doesn't seem to match the actual attributes of my widgets. Take this code for example:</p>\n\n<pre><code>import Tkinter\nimport ttk\n\nroot = Tkinter.Tk()\ncheckbutton = ttk.Checkbutton(root, text=\"Test Check Button\")\nprint checkbutton.text\n</code></pre>\n\n<p>This gives me an attribute error at the last line. However, when I look at the stack, there is clearly an attribute called 'text' with the value that I'm looking for:</p>\n\n<p><a href=\"https://i.stack.imgur.com/h5i25.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h5i25.png\" alt=\"Wing screen capture\"></a></p>\n\n<p>Anyone know what's going on?</p>\n\n<p>I'm using:</p>\n\n<ul>\n<li>Wing version: Wing IDE Pro 5.1.3-1 (rev 33002)</li>\n<li>Tkinter version: '$Revision: 81008 $' </li>\n<li>Python version: 2.7.10</li>\n</ul>\n"}, {"tags": ["python", "hash"], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440014317, "post_id": 32104422, "comment_id": 52103634, "body": "The OP is trying to determine if all values <i>are</i> <code>None</code>.  Your <code>all</code> command will return True if <i>none</i> of the entries are <code>None</code>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440014553, "post_id": 32104422, "comment_id": 52103777, "body": "Also, use <code>my_hash.itervalues()</code> in Python 2 to avoid constructing the entire list of values before you start examining them."}, {"owner": {"reputation": 3617, "user_id": 2980779, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hNKPO.png?s=128&g=1", "display_name": "Ben Hare", "link": "https://stackoverflow.com/users/2980779/ben-hare"}, "edited": false, "score": 0, "creation_date": 1440016168, "post_id": 32104422, "comment_id": 52104687, "body": "I can have other falsey items, so the second option doesn&#39;t work for me, but the first one works great thanks!"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 6, "last_activity_date": 1440014421, "last_edit_date": 1440014421, "creation_date": 1440013809, "answer_id": 32104422, "question_id": 32104408, "link": "https://stackoverflow.com/questions/32104408/find-if-a-hash-in-python-has-only-values-of-none/32104422#32104422", "title": "Find if a hash in Python has only values of None", "body": "<p>You could use</p>\n\n<pre><code>all(entry is None for entry in my_hash.values())\n</code></pre>\n\n<p>This will short-circuit upon hitting the first non-<code>None</code> value so you don't have to necessarily evaluate all the items. Since <code>None</code> is falsey you could simplify this to</p>\n\n<pre><code>not any(my_hash.values())\n</code></pre>\n\n<p>unless some of your values have other falsey items (like <code>0</code>, <code>''</code>, etc)</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1440015830, "post_id": 32104634, "comment_id": 52104473, "body": "This would return False is any value is falsey, not just for a None"}, {"owner": {"reputation": 3617, "user_id": 2980779, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hNKPO.png?s=128&g=1", "display_name": "Ben Hare", "link": "https://stackoverflow.com/users/2980779/ben-hare"}, "edited": false, "score": 0, "creation_date": 1440015868, "post_id": 32104634, "comment_id": 52104486, "body": "That&#39;s not what I&#39;m looking for, I don&#39;t want if there is &quot;a&quot; None, but if they&#39;re &quot;all&quot; None."}], "tags": [], "owner": {"reputation": 189, "user_id": 4714153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7SbrE.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/4714153/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1440014573, "creation_date": 1440014573, "answer_id": 32104634, "question_id": 32104408, "link": "https://stackoverflow.com/questions/32104408/find-if-a-hash-in-python-has-only-values-of-none/32104634#32104634", "title": "Find if a hash in Python has only values of None", "body": "<pre><code>all(i for i in my_hash.values())\n</code></pre>\n\n<p>will return False if there is a None, and True if there isn't</p>\n"}], "owner": {"reputation": 3617, "user_id": 2980779, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/hNKPO.png?s=128&g=1", "display_name": "Ben Hare", "link": "https://stackoverflow.com/users/2980779/ben-hare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 32104422, "answer_count": 2, "score": 2, "last_activity_date": 1440014573, "creation_date": 1440013753, "question_id": 32104408, "link": "https://stackoverflow.com/questions/32104408/find-if-a-hash-in-python-has-only-values-of-none", "title": "Find if a hash in Python has only values of None", "body": "<p>Does anyone know a better way of finding if a hash in Python has only None values than <code>len([entry for entry in my_hash.values() if entry is not None]) &gt; 0</code>? \nI couldn't find something more standard than that and it seems like there should be.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1440013703, "post_id": 32104378, "comment_id": 52103271, "body": "No, that&#39;s how file iterators work. If you&#39;ve read the content into a list, why does it matter that the iterator is exhausted?"}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1440013771, "post_id": 32104378, "comment_id": 52103323, "body": "Because I then need to use the information in the file to read into <code>DictReader</code>.  Should I do that at the same time I&#39;m finding recon totals?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1440013803, "post_id": 32104378, "comment_id": 52103350, "body": "Why not just give the list of lines to the <code>DictReader</code>? Why read the file more than once?"}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1440014197, "post_id": 32104378, "comment_id": 52103564, "body": "@jonrsharpe So would that be something like creating a list of lines in my <code>get_recon_total</code> function to then pass into my <code>open_reader</code> function to feed into my <code>DictReader</code>?  I&#39;m a bit inexperienced with what exactly I can feed <code>DictReader</code>."}], "answers": [{"tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1440014281, "creation_date": 1440014281, "answer_id": 32104552, "question_id": 32104378, "link": "https://stackoverflow.com/questions/32104378/my-function-to-extract-totals-is-exhausting-my-input-file-for-future-reading/32104552#32104552", "title": "My function to extract totals is exhausting my input file for future reading", "body": "<p>If your file is not very large, you can convert reader generator to a list of dcitonary , by calling <code>list()</code> on <code>reader</code> and then use it in your code instead of trying to read from the file directly.</p>\n\n<p>Example -</p>\n\n<pre><code>def main():\n    infile = sys.argv[1]\n    outfile = sys.argv[2]\n    with open(infile, 'rbU') as in_obj:\n        # Create reader object, get fieldnames for later on\n        reader, fieldnames = open_reader(in_obj)\n        reader_list = list(reader)\n        nav_tot_cnt, nav_rec_cnt, nav_erec_cnt = get_recon_totals(reader_list)\n        print nav_tot_cnt, nav_rec_cnt, nav_erec_cnt\n\n        # This switches the dictionary to a sorted list... necessary??\n        reader_list = sorted(reader_list, key=lambda key: (key['PEOPLE_ID'], \n                                                 key['DON_DATE']))\n        .\n        .\ndef get_recon_totals(reader_list):\n    print in_obj\n    client_tot_cnt = 0\n    client_rec_cnt = 0\n    client_erec_cnt = 0\n\n    for line in reader_list: #line here is a dict\n        if line[&lt;fieldname for first column&gt;] == 'T' and line[&lt;fieldname for secondcolumn&gt;] == 'Total Amount':\n            print 'Total Amount found.'\n            client_tot_cnt = line[&lt;fieldname for third column&gt;]\n        .\n        .                                                          #continued like above\n        .\n    return client_tot_cnt, client_rec_cnt, client_erec_cnt\n</code></pre>\n"}], "owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 32104552, "answer_count": 1, "score": 1, "last_activity_date": 1440014281, "creation_date": 1440013628, "last_edit_date": 1440013896, "question_id": 32104378, "link": "https://stackoverflow.com/questions/32104378/my-function-to-extract-totals-is-exhausting-my-input-file-for-future-reading", "title": "My function to extract totals is exhausting my input file for future reading", "body": "<p>The client includes 3 rows at the bottom that contain totals for me to reconcile against in my program.  Only problem is that my program is exhausting the input file with readlines() before it can do anything else.  Is there a way to keep the file from being exhausted during my get_recon_total function call?</p>\n\n<pre><code>#!/usr/bin/env python\n# pre_process.py\nimport csv\nimport sys\n\n\ndef main():\n    infile = sys.argv[1]\n    outfile = sys.argv[2]\n    with open(infile, 'rbU') as in_obj:\n        # Create reader object, get fieldnames for later on\n        reader, fieldnames = open_reader(in_obj)\n\n        nav_tot_cnt, nav_rec_cnt, nav_erec_cnt = get_recon_totals(in_obj)\n        print nav_tot_cnt, nav_rec_cnt, nav_erec_cnt\n\n        # This switches the dictionary to a sorted list... necessary??\n        reader_list = sorted(reader, key=lambda key: (key['PEOPLE_ID'], \n                                                 key['DON_DATE']))\n\n        # Create a list to contain section header information                                        \n        header_list = create_header_list(reader_list)\n\n        # Create dictionary that contains header list as the key,\n        # then all rows that match as a list of dictionaries.\n        master_dict = map_data(header_list, reader_list)\n\n        # Write data to processed file, create recon counts to compare \n        # to footer record\n        tot_cnt, rec_cnt, erec_cnt = write_data(master_dict, outfile, fieldnames)\n        print tot_cnt, rec_cnt, erec_cnt\n\n\ndef open_reader(file_obj):\n    '''\n    Uses DictReader from the csv module to take the first header line\n    as the fieldnames, then applies them to each element in the file.\n    Returns the DictReader object and the fieldnames being used (used\n    later when data is printed out with DictWriter.)\n    '''\n    reader = csv.DictReader(file_obj, delimiter=',')\n    return reader, reader.fieldnames\n\n\ndef create_header_list(in_obj):\n    p_id_list = []\n    for row in in_obj:\n        if (row['PEOPLE_ID'], row['DON_DATE']) not in p_id_list:\n            p_id_list.append((row['PEOPLE_ID'], row['DON_DATE']))\n    return p_id_list\n\n\ndef map_data(header_list, data_obj):\n    master_dict = {}\n    client_section_list = []\n    for element in header_list:\n        for row in data_obj:\n            if (row['PEOPLE_ID'], row['DON_DATE']) == element:\n                client_section_list.append(row)\n        element = list(element)\n        element_list = [client_section_list[0]['DEDUCT_AMT'],\n                    client_section_list[0]['ND_AMT'],\n                    client_section_list[0]['DEDUCT_YTD'],\n                    client_section_list[0]['NONDEDUCT_YTD']\n                    ]\n        try:\n            element_list.append((float(client_section_list[0]['DEDUCT_YTD']) +\n                                 float(client_section_list[0]['NONDEDUCT_YTD'])\n                                 ))\n        except ValueError:\n            pass\n\n        element.extend(element_list)\n        element = tuple(element)\n        master_dict[element] = client_section_list\n        client_section_list = []\n    return master_dict\n\n\ndef write_data(in_obj, outfile, in_fieldnames):\n    with open(outfile, 'wb') as writer_outfile:\n        writer = csv.writer(writer_outfile, delimiter=',')\n        dict_writer = csv.DictWriter(writer_outfile,\n                                     fieldnames=in_fieldnames,\n                                     extrasaction='ignore')\n        tot_cnt = 0\n        rec_cnt = 0\n        email_cnt = 0\n        for k, v in in_obj.iteritems():\n            writer_outfile.write(' -01- ')\n            writer.writerow(k)\n            rec_cnt += 1\n            for i, e in enumerate(v):\n                if v[i]['INT_CODE_EX0006'] != '' or v[i]['INT_CODE_EX0028'] != '':\n                    email_cnt += 1\n                writer_outfile.write(' -02- ')\n                dict_writer.writerow(e)\n                tot_cnt += 1\n        return tot_cnt, rec_cnt, email_cnt\n\n\ndef get_recon_totals(in_obj):\n    print in_obj\n    client_tot_cnt = 0\n    client_rec_cnt = 0\n    client_erec_cnt = 0\n\n    for line in in_obj.readlines():\n        line = line.split(',')\n        if line[0] == 'T' and line[1] == 'Total Amount':\n            print 'Total Amount found.'\n            client_tot_cnt = line[2]\n        elif line[0] == 'T' and line[1] == 'Receipt Count':\n            print 'Receipt Count found.'\n            client_rec_cnt = line[2]\n        elif line[0] == 'T' and line[1] == 'Email Receipt Count':\n            print 'E-Receipt Count Found.'\n            client_erec_cnt = line[2]\n    return client_tot_cnt, client_rec_cnt, client_erec_cnt\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "syntax-error", "nameerror"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 4, "creation_date": 1440013386, "post_id": 32104283, "comment_id": 52103048, "body": "My psychic powers are telling me you are using Python 2.x and this script was written in Python 3.x."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1440013738, "post_id": 32104283, "comment_id": 52103298, "body": "And that you should therefore use <code>raw_input</code> not <code>input</code>..."}, {"owner": {"reputation": 1716, "user_id": 3757614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56bd133b7feaee7fde836a20e59d9e49?s=128&d=identicon&r=PG&f=1", "display_name": "user3757614", "link": "https://stackoverflow.com/users/3757614/user3757614"}, "edited": false, "score": 0, "creation_date": 1440019818, "post_id": 32104283, "comment_id": 52106502, "body": "To specify what&#39;s happening, input() in Python 2 will read in a line, and run it as Python code. &quot;Hellow World!&quot; is not valid Python."}, {"owner": {"reputation": 23, "user_id": 3977040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af4cab94da23c9c89e666bb16cd60ec?s=128&d=identicon&r=PG&f=1", "display_name": "philxyz", "link": "https://stackoverflow.com/users/3977040/philxyz"}, "edited": false, "score": 0, "creation_date": 1440126884, "post_id": 32104283, "comment_id": 52154363, "body": "Ah, yes, your psychic powers were indeed correct. And I feel stupid now. But hey, live and learn."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5862785, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3bbf26bc8a4c16c373afae06464f8707?s=128&d=identicon&r=PG", "display_name": "gavin", "link": "https://stackoverflow.com/users/5862785/gavin"}, "is_accepted": false, "score": 0, "last_activity_date": 1454207317, "last_edit_date": 1454207317, "creation_date": 1454207108, "answer_id": 35109646, "question_id": 32104283, "link": "https://stackoverflow.com/questions/32104283/text-evolution-program-will-not-run/35109646#35109646", "title": "Text Evolution Program Will Not Run", "body": "<p>It is raw_input instead of input</p>\n"}], "owner": {"reputation": 23, "user_id": 3977040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0af4cab94da23c9c89e666bb16cd60ec?s=128&d=identicon&r=PG&f=1", "display_name": "philxyz", "link": "https://stackoverflow.com/users/3977040/philxyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1454207317, "creation_date": 1440013312, "question_id": 32104283, "link": "https://stackoverflow.com/questions/32104283/text-evolution-program-will-not-run", "title": "Text Evolution Program Will Not Run", "body": "<p>I downloaded a python program recently to see how exactly it works. It was a simple evolution of text program where you enter some text and it outputs random text/number/symbols until in evolves into the text you entered. The program was already created to work, which is the problem, it doesn't, and I'm uncertain why. Here is the program:</p>\n\n<pre><code>    #-----------------------------------------------------\n    # Python 'Evolution of Text' Program\n    # More programs at: usingpython.com/programs\n    #-----------------------------------------------------\n\n    import string\n    import random\n    import time\n\n\n    possibleCharacters = string.ascii_lowercase + string.digits + string.ascii_uppercase + ' .,!?;:'\n\n    target = input(\"Enter your target text: \")\n    attemptThis = ''.join(random.choice(possibleCharacters) for i in range(len(target)))   \n    attemptNext = ''\n\n    completed = False\n\n    generation = 0\n\n    while completed == False:\n        print(attemptThis)\n        attemptNext = ''\n        completed = True\n        for i in range(len(target)):\n           if attemptThis[i] != target[i]:\n                completed = False\n                attemptNext += random.choice(possibleCharacters)\n           else:\n                attemptNext += target[i]\n        generation += 1\n        attemptThis = attemptNext\n        time.sleep(0.1)\n\n    print(\"Target matched! That took \" + str(generation) + \" generation(s)\")\n</code></pre>\n\n<p>So, I ran the program a few times in Python Canopy and these are the errors it gave me:</p>\n\n<pre><code>    Welcome to Canopy's interactive data-analysis environment!\n    with pylab-backend set to: qt\n    Type '?' for more information.\n\n    In [1]: %run \"c:\\users\\phillip\\appdata\\local\\temp\\tmpxe9get.py\"\n\n    Enter your target text: Hellow World!\n      File \"&lt;string&gt;\", line 1\n        Hellow World!\n                   ^\n    SyntaxError: invalid syntax\n\n\n    In [2]: %run \"c:\\users\\phillip\\appdata\\local\\temp\\tmpvj64ac.py\"\n\n    Enter your target text: HellowWorld\n    ---------------------------------------------------------------------------\n    NameError                                 Traceback (most recent call last)\n    c:\\users\\phillip\\appdata\\local\\temp\\tmpvj64ac.py in &lt;module&gt;()\n         10 possibleCharacters = string.ascii_lowercase + string.digits + string.ascii_uppercase + ' .,!?;:'\n         11 \n    ---&gt; 12 target = input(\"Enter your target text: \")\n         13 attemptThis = ''.join(random.choice(possibleCharacters) for i in range(len(target)))\n         14 attemptNext = ''\n\n    C:\\Users\\Phillip\\AppData\\Local\\Enthought\\Canopy\\App\\appdata\\canopy- 1.5.1.2730.win-x86_64\\lib\\site-packages\\IPython\\kernel\\zmq\\ipkernel.pyc in &lt;lambda&gt;(prompt)\n        362         if content.get('allow_stdin', False):\n        363             raw_input = lambda prompt='': self._raw_input(prompt, ident, parent)\n    --&gt; 364             input = lambda prompt='': eval(raw_input(prompt))\n        365         else:\n        366             raw_input = input = lambda prompt='' : self._no_raw_input()\n\n    C:\\Users\\Phillip\\AppData\\Local\\Enthought\\Canopy\\App\\appdata\\canopy 1.5.1.2730.win-x86_64\\lib\\site-packages\\IPython\\kernel\\zmq\\ipkernel.pyc in &lt;module&gt;()\n\n    NameError: name 'HellowWorld' is not defined \n\n    In [3]: %run \"c:\\users\\phillip\\appdata\\local\\temp\\tmpulqoxo.py\"\n\n    Enter your target text: What is wrong with this stupid program?\n      File \"&lt;string&gt;\", line 1\n        What is wrong with this stupid program?\n                         ^\n    SyntaxError: invalid syntax\n</code></pre>\n\n<p>I'm uncertain if I'm simply entering my text incorrectly or if it's an issue with the program itself. It throws invalid syntax at random letters (lowercase it seems) when words are spaced. When entering a single letter or word or group of words with no spacing it throws a name error as though it is trying to define the entered text. I really don't understand the errors, so any help would be appreciated.</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 7104, "user_id": 1612701, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cdF23.jpg?s=128&g=1", "display_name": "Cody Piersall", "link": "https://stackoverflow.com/users/1612701/cody-piersall"}, "edited": false, "score": 1, "creation_date": 1440013571, "post_id": 32104282, "comment_id": 52103173, "body": "The interpreter does it automatically for all imported modules.  You may not have write permissions to the directories the .py files are in."}, {"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 3, "creation_date": 1440013624, "post_id": 32104282, "comment_id": 52103214, "body": "Why do you want it? <code>.pyc</code> file is created by python only when you import the script as a module"}, {"owner": {"reputation": 7104, "user_id": 1612701, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cdF23.jpg?s=128&g=1", "display_name": "Cody Piersall", "link": "https://stackoverflow.com/users/1612701/cody-piersall"}, "edited": false, "score": 1, "creation_date": 1440014097, "post_id": 32104282, "comment_id": 52103509, "body": "To be more clear, Python <i>only</i> creates .pyc files for <i>imported modules</i>.  If you want to create a .pyc for a file you call directly from teh command line, use <a href=\"https://docs.python.org/3.5/library/py_compile.html\" rel=\"nofollow noreferrer\">py_compile</a>; for a whole directory, use <a href=\"https://docs.python.org/3.5/library/compileall.html#module-compileall\" rel=\"nofollow noreferrer\">compileall</a>.  There is a command line interface for both modules; just do <code>python -m py_compile script_name</code>."}, {"owner": {"reputation": 2721, "user_id": 2002198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98684cf4e01d405c4bf5662b2fdcb842?s=128&d=identicon&r=PG", "display_name": "Felipe Lavratti", "link": "https://stackoverflow.com/users/2002198/felipe-lavratti"}, "edited": false, "score": 0, "creation_date": 1440014341, "post_id": 32104282, "comment_id": 52103652, "body": "Edited the question to handle comments: It is not creating .pyc for imported modules, fs permissions are fine."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1440014665, "post_id": 32104282, "comment_id": 52103829, "body": "Using <code>compileall</code> or <code>py_compile</code> ahead-of-time is better practice for an embedded system anyhow -- means you aren&#39;t wasting runtime writing out <code>.py[co]</code> files!"}, {"owner": {"reputation": 7104, "user_id": 1612701, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cdF23.jpg?s=128&g=1", "display_name": "Cody Piersall", "link": "https://stackoverflow.com/users/1612701/cody-piersall"}, "edited": false, "score": 0, "creation_date": 1440015011, "post_id": 32104282, "comment_id": 52104019, "body": "Check the value of <code>sys.dont_write_bytecode</code>.  It&#39;s probably set to True, and you can change it to False."}, {"owner": {"reputation": 7104, "user_id": 1612701, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/cdF23.jpg?s=128&g=1", "display_name": "Cody Piersall", "link": "https://stackoverflow.com/users/1612701/cody-piersall"}, "edited": false, "score": 0, "creation_date": 1440015088, "post_id": 32104282, "comment_id": 52104072, "body": "See if you have the environment variable <code>PYTHONDONTWRITEBYTECODE</code> set: <a href=\"https://docs.python.org/2/using/cmdline.html#envvar-PYTHONDONTWRITEBYTECODE\" rel=\"nofollow noreferrer\">docs.python.org/2/using/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2721, "user_id": 2002198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98684cf4e01d405c4bf5662b2fdcb842?s=128&d=identicon&r=PG", "display_name": "Felipe Lavratti", "link": "https://stackoverflow.com/users/2002198/felipe-lavratti"}, "edited": false, "score": 0, "creation_date": 1440072060, "post_id": 32104793, "comment_id": 52127815, "body": "That&#39;s the path I took: deploy pyc files pre generated on the host machine. Thanks for the detailed answer."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 2721, "user_id": 2002198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98684cf4e01d405c4bf5662b2fdcb842?s=128&d=identicon&r=PG", "display_name": "Felipe Lavratti", "link": "https://stackoverflow.com/users/2002198/felipe-lavratti"}, "edited": false, "score": 0, "creation_date": 1440086954, "post_id": 32104793, "comment_id": 52138494, "body": "@fanl, if you&#39;re generating them on the host, be certain the host is using the same release of Python; otherwise, they won&#39;t be compatible and thus will be ignored."}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 2, "last_activity_date": 1440015132, "creation_date": 1440015132, "answer_id": 32104793, "question_id": 32104282, "link": "https://stackoverflow.com/questions/32104282/python-is-not-saving-pyc-files-in-filesystem/32104793#32104793", "title": "Python is not saving .pyc files in filesystem", "body": "<p>There are a number of places where this enabled-by-default behavior could be turned off.</p>\n\n<ul>\n<li><code>PYTHONDONTWRITEBYTECODE</code> could be set in the environment</li>\n<li><code>sys.dont_write_bytecode</code> could be set through an out-of-band mechanism (ie. site-local initialization files, or a patched interpreter build).</li>\n<li>File permissions could fail to permit it. This need not be obvious! Anything from filesystem mount flags to SELinux tags could have this result. I'd suggest using <code>strace</code> or a similar tool (as available for your platform) to determine whether any <em>attempts</em> to create these files exist.</li>\n</ul>\n\n<p>On an embedded system, it makes much more sense to make this an explicit step rather than runtime behavior: This ensures that performance is consistent (rather than having some runs take longer than others to execute). Use <code>py_compile</code> or <code>compileall</code> to explicitly run ahead-of-time.</p>\n"}], "owner": {"reputation": 2721, "user_id": 2002198, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98684cf4e01d405c4bf5662b2fdcb842?s=128&d=identicon&r=PG", "display_name": "Felipe Lavratti", "link": "https://stackoverflow.com/users/2002198/felipe-lavratti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 32104793, "answer_count": 1, "score": 0, "last_activity_date": 1440015132, "creation_date": 1440013309, "last_edit_date": 1440014316, "question_id": 32104282, "link": "https://stackoverflow.com/questions/32104282/python-is-not-saving-pyc-files-in-filesystem", "title": "Python is not saving .pyc files in filesystem", "body": "<p>I have a python application running in an embedded Linux system. I have realized that the python interpreter is not saving the compiled .pyc files in the filesystem for the imported modules by default.</p>\n\n<p>How can I enable the interpreter to save it ? File system permission are right.</p>\n"}, {"tags": ["python", "django", "django-templates", "django-settings"], "answers": [{"tags": [], "owner": {"reputation": 1897, "user_id": 2399138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5cf132b224ff188a0075bec534bb5a?s=128&d=identicon&r=PG", "display_name": "Incognos", "link": "https://stackoverflow.com/users/2399138/incognos"}, "is_accepted": true, "score": 0, "last_activity_date": 1440014252, "creation_date": 1440014252, "answer_id": 32104545, "question_id": 32104278, "link": "https://stackoverflow.com/questions/32104278/django-not-loading-templates-but-gives-error-with-template-location/32104545#32104545", "title": "Django not loading templates, but gives error with template location", "body": "<p>You need to add your app to the installed apps and it will find your templates folder automatically.</p>\n\n<pre><code>INSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'static_pages',\n)\n</code></pre>\n\n<p>the <code>APPS_DIR</code> setting takes care of loading anything in the <code>templates</code> directory for any app you have installed without specifically specifying the directory.</p>\n\n<pre><code>TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4230685, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19be53b5deabac54745ff86d5c1862ef?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Dellinger", "link": "https://stackoverflow.com/users/4230685/anthony-dellinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 32104545, "answer_count": 1, "score": 2, "last_activity_date": 1440072368, "creation_date": 1440013282, "last_edit_date": 1440072368, "question_id": 32104278, "link": "https://stackoverflow.com/questions/32104278/django-not-loading-templates-but-gives-error-with-template-location", "title": "Django not loading templates, but gives error with template location", "body": "<p>Okay, I am using django 1.8. I am trying to get templates working with render in my views. Here's my layout:</p>\n\n<pre><code>\u251c\u2500\u2500 db.sqlite3\n\u251c\u2500\u2500 django_classr_test\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.cpython-34.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.cpython-34.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.cpython-34.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.cpython-34.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 wsgi.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.pyc\n\u251c\u2500\u2500 manage.py\n\u251c\u2500\u2500 static_pages\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 __pycache__\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 __init__.cpython-34.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.cpython-34.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.cpython-34.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 models.cpython-34.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.cpython-34.pyc\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 views.cpython-34.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 static_pages\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 contact.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 index.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 legal.html\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 tests.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.pyc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 views.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views.pyc\n</code></pre>\n\n<p>So I have a templates folder  inside my static_pages app folder. So, I should just be able to say <code>render(request, 'static_pages/index.html')</code>, right? Here's my view:</p>\n\n<pre><code>from django.shortcuts import render\n\nfrom django.http import HttpResponse\ndef index(request):\n    return render(request, 'static_pages/templates/static_pages/index.html')\n</code></pre>\n\n<p>And yet, it gives this error when I visit the page:</p>\n\n<pre><code>TemplateDoesNotExist at /\n\nstatic_pages/templates/static_pages/index.html\n\nRequest Method:     GET\nRequest URL:    http://localhost:8000/\nDjango Version:     1.8.3\nException Type:     TemplateDoesNotExist\nException Value:    \n\nstatic_pages/templates/static_pages/index.html\n\nException Location:     /usr/local/lib/python2.7/dist-packages/django/template/loader.py in get_template, line 46\nPython Executable:  /usr/bin/python\nPython Version:     2.7.6\nPython Path:    \n\n['/home/anthony/_/dev/django_classr_test',\n '/usr/lib/python2.7',\n '/usr/lib/python2.7/plat-x86_64-linux-gnu',\n '/usr/lib/python2.7/lib-tk',\n '/usr/lib/python2.7/lib-old',\n '/usr/lib/python2.7/lib-dynload',\n '/usr/local/lib/python2.7/dist-packages',\n '/usr/lib/python2.7/dist-packages',\n '/usr/lib/python2.7/dist-packages/PILcompat',\n '/usr/lib/python2.7/dist-packages/gtk-2.0',\n '/usr/lib/python2.7/dist-packages/ubuntu-sso-client']\n\nServer time:    Wed, 19 Aug 2015 19:27:59 +0000\n</code></pre>\n\n<p>The error says it can not find a template at <code>static_pages/templates/static_pages/index.html</code>. But that is exactly where it is? What's going on?</p>\n\n<p>If I do not use render and just return 'hello world' it does not give an error, so I do not think it is a problem with routing. </p>\n\n<p>Here is my project settings file:</p>\n\n<pre><code>\"\"\"\nDjango settings for django_classr_test project.\n\nGenerated by 'django-admin startproject' using Django 1.8.3.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.8/topics/settings/\n\nFor the full list of settings and their values, see\nhttps://docs.djangoproject.com/en/1.8/ref/settings/\n\"\"\"\n\n# Build paths inside the project like this: os.path.join(BASE_DIR, ...)\nimport os\n\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\n\n\n# Quick-start development settings - unsuitable for production\n# See https://docs.djangoproject.com/en/1.8/howto/deployment/checklist/\n\n# SECURITY WARNING: keep the secret key used in production secret!\nSECRET_KEY = '00000000000000000000000000000000000000000000'\n\n# SECURITY WARNING: don't run with debug turned on in production!\nDEBUG = True\n\nALLOWED_HOSTS = []\n\n\n# Application definition\n\nINSTALLED_APPS = (\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n)\n\nMIDDLEWARE_CLASSES = (\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.clickjacking.XFrameOptionsMiddleware',\n    'django.middleware.security.SecurityMiddleware',\n)\n\nROOT_URLCONF = 'django_classr_test.urls'\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n            ],\n        },\n    },\n]\n\nWSGI_APPLICATION = 'django_classr_test.wsgi.application'\n\n\n# Database\n# https://docs.djangoproject.com/en/1.8/ref/settings/#databases\n\nDATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.sqlite3',\n        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n    }\n}\n\n\n# Internationalization\n# https://docs.djangoproject.com/en/1.8/topics/i18n/\n\nLANGUAGE_CODE = 'en-us'\n\nTIME_ZONE = 'UTC'\n\nUSE_I18N = True\n\nUSE_L10N = True\n\nUSE_TZ = True\n\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.8/howto/static-files/\n\nSTATIC_URL = '/static/'\n</code></pre>\n\n<p>So, I'm guessing I don't have my settings configured correctly?</p>\n"}, {"tags": ["python", "mysql", "prepared-statement", "named-parameters"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1440013554, "post_id": 32104270, "comment_id": 52103162, "body": "When you use <code>%(group_name)</code> shouldn&#39;t the substitutions be in a dictionary rather than a list?"}, {"owner": {"reputation": 9641, "user_id": 311901, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ae735b7993ad5c05647c98c509a2a765?s=128&d=identicon&r=PG", "display_name": "Jordan Feldstein", "link": "https://stackoverflow.com/users/311901/jordan-feldstein"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1440015226, "post_id": 32104270, "comment_id": 52104167, "body": "<code>dict(zip(group_columns, group))</code> turns them into a dict (with the right key names). Something else is also still the issue, because I can&#39;t do list + <code>%s</code> or <code>?</code> format, either."}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "edited": false, "score": 0, "creation_date": 1440015579, "post_id": 32104270, "comment_id": 52104349, "body": "Can you paste your python script so we can look at indents and such?"}, {"owner": {"reputation": 9641, "user_id": 311901, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ae735b7993ad5c05647c98c509a2a765?s=128&d=identicon&r=PG", "display_name": "Jordan Feldstein", "link": "https://stackoverflow.com/users/311901/jordan-feldstein"}, "edited": false, "score": 0, "creation_date": 1440017500, "post_id": 32104270, "comment_id": 52105408, "body": "Source code: <a href=\"http://pastebin.com/8SwsuNF6\" rel=\"nofollow noreferrer\">pastebin.com/8SwsuNF6</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9641, "user_id": 311901, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ae735b7993ad5c05647c98c509a2a765?s=128&d=identicon&r=PG", "display_name": "Jordan Feldstein", "link": "https://stackoverflow.com/users/311901/jordan-feldstein"}, "edited": false, "score": 0, "creation_date": 1440018783, "post_id": 32105733, "comment_id": 52106018, "body": "This inserts, sort of, but I get rows that look like: <a href=\"http://cl.ly/image/0l1l2d3V181o\" rel=\"nofollow noreferrer\">cl.ly/image/0l1l2d3V181o</a> -- Where is this documented? I&#39;m getting confused between docs for Mysql, Mysql-python, and mysqldb which all do this differently."}, {"owner": {"reputation": 5418, "user_id": 838374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a3cbffc4ebada6c178f0e235e38b41?s=128&d=identicon&r=PG", "display_name": "twil", "link": "https://stackoverflow.com/users/838374/twil"}, "reply_to_user": {"reputation": 9641, "user_id": 311901, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ae735b7993ad5c05647c98c509a2a765?s=128&d=identicon&r=PG", "display_name": "Jordan Feldstein", "link": "https://stackoverflow.com/users/311901/jordan-feldstein"}, "edited": false, "score": 1, "creation_date": 1440020992, "post_id": 32105733, "comment_id": 52106998, "body": "Your <code>def row_to_group_values(row)</code> returns string, not list. When you <code>zip</code> it with <code>group_columns</code> you get what you see."}, {"owner": {"reputation": 9641, "user_id": 311901, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ae735b7993ad5c05647c98c509a2a765?s=128&d=identicon&r=PG", "display_name": "Jordan Feldstein", "link": "https://stackoverflow.com/users/311901/jordan-feldstein"}, "edited": false, "score": 0, "creation_date": 1440038838, "post_id": 32105733, "comment_id": 52111579, "body": "I&#39;m a big dummy. Thanks guys."}], "tags": [], "owner": {"reputation": 5418, "user_id": 838374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a3cbffc4ebada6c178f0e235e38b41?s=128&d=identicon&r=PG", "display_name": "twil", "link": "https://stackoverflow.com/users/838374/twil"}, "is_accepted": true, "score": 2, "last_activity_date": 1440020470, "last_edit_date": 1440020470, "creation_date": 1440018651, "answer_id": 32105733, "question_id": 32104270, "link": "https://stackoverflow.com/questions/32104270/sql-syntax-error-in-absurdly-simple-sql/32105733#32105733", "title": "SQL syntax error in absurdly simple sql?", "body": "<p>It looks like a small typo. You forgot to add <code>s</code> to the params</p>\n\n<pre><code>INSERT IGNORE INTO standard_group (group_name, subject, grade, country, state) VALUES (%(group_name)s, %(subject)s, %(grade)s, %(country)s, %(state)s);\n</code></pre>\n\n<p>The relevant code is here:</p>\n\n<ul>\n<li><a href=\"https://github.com/mysql/mysql-connector-python/blob/master/lib/mysql/connector/cursor.py#L460\" rel=\"nofollow\"><code>execute(self, operation, params=None, multi=False)</code></a></li>\n<li><a href=\"https://github.com/mysql/mysql-connector-python/blob/master/lib/mysql/connector/cursor.py#L351\" rel=\"nofollow\"><code>_process_params_dict(self, params)</code></a></li>\n</ul>\n"}], "owner": {"reputation": 9641, "user_id": 311901, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ae735b7993ad5c05647c98c509a2a765?s=128&d=identicon&r=PG", "display_name": "Jordan Feldstein", "link": "https://stackoverflow.com/users/311901/jordan-feldstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "closed_date": 1440035837, "accepted_answer_id": 32105733, "answer_count": 1, "score": 2, "last_activity_date": 1440020470, "creation_date": 1440013254, "last_edit_date": 1440015472, "question_id": 32104270, "link": "https://stackoverflow.com/questions/32104270/sql-syntax-error-in-absurdly-simple-sql", "closed_reason": "Not suitable for this site", "title": "SQL syntax error in absurdly simple sql?", "body": "<p>Calling: </p>\n\n<pre><code>INSERT IGNORE INTO standard_group (group_name, subject, grade, country, state) VALUES (%(group_name), %(subject), %(grade), %(country), %(state));\n</code></pre>\n\n<p>With </p>\n\n<pre><code>('Arizona Social Studies Standards', 'Social Studies', '1', 'United States', 'AZ')\n</code></pre>\n\n<p>eg:</p>\n\n<pre><code>    print group_columns\n    print group_sql\n    print group\n    cur.execute(group_sql, dict(zip(group_columns, group)))\n</code></pre>\n\n<p>But I always get:</p>\n\n<pre><code>['group_name', 'subject', 'standard_category', 'standard_sub_category', 'standard_name', 'standard_description', 'grade', 'country', 'state', 'is_common_core', 'is_state_standard']\nINSERT IGNORE INTO standard_group (group_name, subject, grade, country, state) VALUES (%(group_name), %(subject), %(grade), %(country), %(state));\n('Arizona Social Studies Standards', 'Social Studies', '1', 'United States', 'AZ')\nTraceback (most recent call last):\n  File \"standards-import/simport.py\", line 167, in &lt;module&gt;\n    cur.execute(group_sql, dict(zip(group_columns, group)))\n  File \"/Library/Python/2.7/site-packages/mysql/connector/cursor.py\", line 507, in execute\n    self._handle_result(self._connection.cmd_query(stmt))\n  File \"/Library/Python/2.7/site-packages/mysql/connector/connection.py\", line 722, in cmd_query\n    result = self._handle_result(self._send_cmd(ServerCmd.QUERY, query))\n  File \"/Library/Python/2.7/site-packages/mysql/connector/connection.py\", line 640, in _handle_result\n    raise errors.get_exception(packet)\nmysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '%(group_name), %(subject), %(grade), %(country), %(state))' at line 1\n</code></pre>\n\n<p>I've tried with named params, <code>?</code> and <code>%s</code>, and get </p>\n\n<ul>\n<li>Not all arguments used</li>\n<li>Wrong number of arguments for named parameter</li>\n<li>SQL syntax</li>\n</ul>\n\n<p><strong>What's going on?? What am I missing???</strong></p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 1835, "user_id": 2432586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/702ff02114c19ee71758c0ba2cdc0e41?s=128&d=identicon&r=PG", "display_name": "Donovan Thomson", "link": "https://stackoverflow.com/users/2432586/donovan-thomson"}, "edited": false, "score": 0, "creation_date": 1440014919, "post_id": 32104534, "comment_id": 52103961, "body": "how would the above solution be extended to handle a multi index ? Can you pass a 2d array to reindex ? Thanks in advance your answer has already been really helpful"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 1835, "user_id": 2432586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/702ff02114c19ee71758c0ba2cdc0e41?s=128&d=identicon&r=PG", "display_name": "Donovan Thomson", "link": "https://stackoverflow.com/users/2432586/donovan-thomson"}, "edited": false, "score": 1, "creation_date": 1440028688, "post_id": 32104534, "comment_id": 52109307, "body": "You have to pass either a MI or an array of tuples (I don&#39;t think a plain array will cut it) see <code>MultiIndex.from_arrays</code> or <code>MultiIndex.from_product</code> (you <i>may</i> have to splat the array...)."}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 1, "last_activity_date": 1440014228, "creation_date": 1440014228, "answer_id": 32104534, "question_id": 32104222, "link": "https://stackoverflow.com/questions/32104222/dont-drop-non-present-indexes-on-group-by-pandas/32104534#32104534", "title": "Dont drop non present indexes on group_by - Pandas", "body": "<p>You can reindex with the complete list of categories after the groupby:</p>\n\n<pre><code>In [11]: df = pd.DataFrame([[\"A\"], [\"A\"], [\"A\"]], columns=[\"category\"])\n\nIn [12]: df\nOut[12]:\n  category\n0        A\n1        A\n2        A\n\nIn [13]: res = df.groupby(\"category\").size()\n\nIn [14]: res\nOut[14]:\ncategory\nA    3\ndtype: int64\n</code></pre>\n\n<p>You have to use <code>fill_value</code> to ensure it 0s the missing values:</p>\n\n<pre><code>In [15]: res.reindex([\"A\", \"B\", \"C\"], fill_value=0)\nOut[15]:\ncategory\nA    3\nB    0\nC    0\ndtype: int64\n</code></pre>\n"}], "owner": {"reputation": 1835, "user_id": 2432586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/702ff02114c19ee71758c0ba2cdc0e41?s=128&d=identicon&r=PG", "display_name": "Donovan Thomson", "link": "https://stackoverflow.com/users/2432586/donovan-thomson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 32104534, "answer_count": 1, "score": 1, "last_activity_date": 1440014391, "creation_date": 1440013093, "last_edit_date": 1440014391, "question_id": 32104222, "link": "https://stackoverflow.com/questions/32104222/dont-drop-non-present-indexes-on-group-by-pandas", "title": "Dont drop non present indexes on group_by - Pandas", "body": "<p>I need to get counts of specific indexes. This is currently been done using an group_by and then size. The only problem is that this approach does not return 0 for non present indexes. We actually need this information. Is there a more elegant way to do this?</p>\n\n<p>When calculating it as follows:</p>\n\n<pre><code>counts = brands.groupby('categories').size()\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>          count\ncategory\nA             4\n</code></pre>\n\n<p>I need it to return:</p>\n\n<pre><code>         count\ncategory \nA            4\nB            0\nC            0\n</code></pre>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "reply_to_user": {"reputation": 3576, "user_id": 1296649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/873fa0e030ad05391955d5f750d27878?s=128&d=identicon&r=PG", "display_name": "Austin", "link": "https://stackoverflow.com/users/1296649/austin"}, "edited": false, "score": 0, "creation_date": 1440014063, "post_id": 32104220, "comment_id": 52103490, "body": "@austin: Consider removing fluff while you are at it: <a href=\"http://stackoverflow.com/help/behavior\">Do not use signature, taglines, or greetings</a>."}, {"owner": {"reputation": 2559, "user_id": 2660970, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/31deb30c1f8cf14c92fdf597e38568a8?s=128&d=identicon&r=PG", "display_name": "ig-melnyk", "link": "https://stackoverflow.com/users/2660970/ig-melnyk"}, "edited": false, "score": 0, "creation_date": 1440014209, "post_id": 32104220, "comment_id": 52103569, "body": "Is that possible that lines is one-element array? Then your loop doesn&#39;t run at all"}], "answers": [{"tags": [], "owner": {"reputation": 703, "user_id": 4933101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOgbt.png?s=128&g=1", "display_name": "Ben Beirut", "link": "https://stackoverflow.com/users/4933101/ben-beirut"}, "is_accepted": false, "score": 0, "last_activity_date": 1440013928, "creation_date": 1440013928, "answer_id": 32104455, "question_id": 32104220, "link": "https://stackoverflow.com/questions/32104220/reading-python-request-to-file/32104455#32104455", "title": "Reading Python Request to file", "body": "<p>Simply save the content of the response:</p>\n\n<pre><code>def download_file(url, cafile, user1, pass1, local_filename): # NOTE the stream=True\n    parameter r = requests.get(url, stream=True, auth=(user1, pass1), verify=cafile,\n            headers={'content-type':'application/xml'})\n    with open(local_filename, 'w') as  g: \n        g.write(r.text)\n    return (local_filename)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1440015615, "last_edit_date": 1440015615, "creation_date": 1440014246, "answer_id": 32104541, "question_id": 32104220, "link": "https://stackoverflow.com/questions/32104220/reading-python-request-to-file/32104541#32104541", "title": "Reading Python Request to file", "body": "<p>You keep overwriting by opening the file in the loop,  open outside the loop once:</p>\n\n<pre><code>  with open(local_filename, 'w')cas g:\n          for line in lines:\n</code></pre>\n\n<p><code>'w'</code> opens a file for writing and will truncate the file so you would only ever get a single line of data in your file.<br>\nYou could open in the loop with <code>a</code> for appending but it makes more sense to open the file once outside the loop.</p>\n\n<p>I would also print <code>first_line</code> and each line in your loop to verify exactly what is being returned. </p>\n"}], "owner": {"reputation": 29, "user_id": 4858269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b876cafee8cd0c853df592afd79611c0?s=128&d=identicon&r=PG&f=1", "display_name": "Linda", "link": "https://stackoverflow.com/users/4858269/linda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1440015615, "creation_date": 1440013089, "last_edit_date": 1440013969, "question_id": 32104220, "link": "https://stackoverflow.com/questions/32104220/reading-python-request-to-file", "title": "Reading Python Request to file", "body": "<p>I am using Requests Library to make RESTapi request.  I can successfully do a get and the receive the correct response back from the Server. I am trying to save the response from the GET to a file so that I can manipulate the data.</p>\n\n<p>I don't get an error but nothing is written to the file:</p>\n\n<pre><code>def download_file(url, cafile, user1, pass1, local_filename):\n    # NOTE the stream=True parameter\n    r = requests.get(url, \n                     stream=True,\n                     auth=(user1, pass1), \n                     verify=cafile,\n                     headers={'content-type':'application/xml'}\n                    )\n    lines = r.iter_lines()\n    first_line = next(lines)\n    for line in lines:\n        with open(local_filename, 'w')as g:\n            g.write((line)+ '/')\n    return (local_filename)\n</code></pre>\n"}, {"tags": ["python", "inheritance", "dynamic"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440013807, "post_id": 32104219, "comment_id": 52103352, "body": "Inheritance really just provides a model for how attribute lookup will proceed. It may not really matter if the new service inherits from <code>PluginCloudantNews</code> or <code>PluginNews</code>, as long as <code>Cloudant</code> appears as a base class <i>somewhere</i> in the ancestor DAG."}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1440013816, "post_id": 32104219, "comment_id": 52103360, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/9539052/python-dynamically-changing-base-classes-at-runtime-how-to\">Python: Dynamically changing base classes at runtime. How to?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "is_accepted": false, "score": 1, "last_activity_date": 1440013742, "last_edit_date": 1440013742, "creation_date": 1440013404, "answer_id": 32104309, "question_id": 32104219, "link": "https://stackoverflow.com/questions/32104219/dynamic-multiple-inheritance-in-python/32104309#32104309", "title": "Dynamic multiple inheritance in Python", "body": "<p>I'm not sure I have fully understood your question, however you can \"dynamically\" construct class objects using the <code>type</code> builtin. The following two lines produce the same result:</p>\n\n<pre><code>class PluginCloudantNews(PluginCloudant, PluginNews): pass\n\nPluginCloudantNews = type('PluginCloudantNews', (PluginCloudant, PluginNews), {})\n</code></pre>\n\n<p>As you can see, <code>type()</code> takes three arguments: the name of the new class, a list of base classes to inherit from, a dictionary with the attributes to add to the new class.</p>\n"}], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440013742, "creation_date": 1440013087, "last_edit_date": 1440013502, "question_id": 32104219, "link": "https://stackoverflow.com/questions/32104219/dynamic-multiple-inheritance-in-python", "title": "Dynamic multiple inheritance in Python", "body": "<p>I'm having a combination of \"backend\" together with a \"type\".</p>\n\n<p>Backends: Cloudant, ElasticSearch, File, ZODB</p>\n\n<p>Types: News, (potentially others)</p>\n\n<p>So I'm now defining classes like:</p>\n\n<pre><code>Plugin\nPluginCloudant (which inherits from Plugin)\nPluginNews (which inherits from Plugin)\n</code></pre>\n\n<p>The combined class is then:</p>\n\n<pre><code>class PluginCloudantNews(PluginCloudant, PluginNews)\n</code></pre>\n\n<p>Now, I'd like to dynamically allow people to define a Service (which takes a Plugin as an argument). </p>\n\n<p>The service's implementation will only rely on the backend, so it seems like that part of the class should automatically be used.</p>\n\n<p>My point is, I shouldn't have to give <code>PluginCloudantNews</code> as argument to the service (since the <code>Cloudant</code> part is a logical consequence of being in the <code>Cloudant</code> service), so rather the less specific <code>PluginNews</code>.</p>\n\n<p>How can I just pass <code>PluginNews</code> to the Service class (the type), but still end up with the <code>PluginCloudantNews</code> functionality?</p>\n\n<p>Some kind of dynamic inheritance...</p>\n\n<p>It should glue together PluginCloudant with class PluginNews, or other type, which are all defined upfront.</p>\n"}, {"tags": ["python", "login", "request"], "comments": [{"owner": {"reputation": 1732, "user_id": 2035688, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TswTH.jpg?s=128&g=1", "display_name": "GobSmack", "link": "https://stackoverflow.com/users/2035688/gobsmack"}, "edited": false, "score": 0, "creation_date": 1440014692, "post_id": 32104218, "comment_id": 52103845, "body": "What response are you getting? What are you expecting?"}, {"owner": {"reputation": 2935, "user_id": 4021630, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh6.googleusercontent.com/-Q_l5GXcVaeQ/AAAAAAAAAAI/AAAAAAAAA2A/yTS-2T3HPIk/photo.jpg?sz=128", "display_name": "RasmusGP", "link": "https://stackoverflow.com/users/4021630/rasmusgp"}, "reply_to_user": {"reputation": 1732, "user_id": 2035688, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TswTH.jpg?s=128&g=1", "display_name": "GobSmack", "link": "https://stackoverflow.com/users/2035688/gobsmack"}, "edited": false, "score": 0, "creation_date": 1440022761, "post_id": 32104218, "comment_id": 52107676, "body": "Looking in the returned html, it&#39;s the same login screen. Like if you attempt to go to a link that&#39;s required account information, I would ask you to login first."}], "answers": [{"comments": [{"owner": {"reputation": 1375, "user_id": 2639448, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98d54b73466a6ab1a3f68685987271c4?s=128&d=identicon&r=PG&f=1", "display_name": "ThisGuy", "link": "https://stackoverflow.com/users/2639448/thisguy"}, "edited": false, "score": 0, "creation_date": 1450634910, "post_id": 34384133, "comment_id": 56509631, "body": "side note: if you play still, on which server? :)"}], "tags": [], "owner": {"reputation": 1375, "user_id": 2639448, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/98d54b73466a6ab1a3f68685987271c4?s=128&d=identicon&r=PG&f=1", "display_name": "ThisGuy", "link": "https://stackoverflow.com/users/2639448/thisguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1450635417, "last_edit_date": 1450635417, "creation_date": 1450634880, "answer_id": 34384133, "question_id": 32104218, "link": "https://stackoverflow.com/questions/32104218/login-to-website-that-require-javascript-with-python/34384133#34384133", "title": "Login to website, that require javascript with python", "body": "<p>You're not sending all the correct params that they are expecting. They expect more than just the user/pass.</p>\n\n<p>Here's some of my code for params I've used with Delphi</p>\n\n<pre><code>  PostData.Add('name='+Username);\n  PostData.Add('password='+Password);\n  PostData.Add('s1='+'login');\n  PostData.Add('w='+'1440:900'); //mod'd for example \n  PostData.Add('login='+'1398184793'); // mod'd for example\n</code></pre>\n"}], "owner": {"reputation": 2935, "user_id": 4021630, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh6.googleusercontent.com/-Q_l5GXcVaeQ/AAAAAAAAAAI/AAAAAAAAA2A/yTS-2T3HPIk/photo.jpg?sz=128", "display_name": "RasmusGP", "link": "https://stackoverflow.com/users/4021630/rasmusgp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1450635417, "creation_date": 1440013084, "last_edit_date": 1440016761, "question_id": 32104218, "link": "https://stackoverflow.com/questions/32104218/login-to-website-that-require-javascript-with-python", "title": "Login to website, that require javascript with python", "body": "<p>I'm trying to login to this website/browsergame <a href=\"http://ts8.travian.com/?lang=en\" rel=\"nofollow\">Travian login</a>. I have been searching for some time now, tried different modules, but so far I haven't succeeded...</p>\n\n<pre><code>import requests\n\n# Fill in your details here to be posted to the login form.\npayload = {\n'name': 'username',\n'password': 'password'\n}\n\n# Use 'with' to ensure the session context is closed after use.\nwith requests.Session() as s:\np = s.post('http://ts8.travian.com/dorf1.php', data=payload)\n# print the html returned or something more intelligent to see if it's a     successful login page.\nprint(p.text)\n\n# An authorised request.\nr = s.get('http://ts8.travian.com/statistiken.php')\nprint(r.text)\n    # etc...\n</code></pre>\n\n<p>When it prints out r.text, the html code looks like it failed.. Anyone see what I'm doing wrong?</p>\n"}, {"tags": ["python", "django", "localization", "internationalization"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1440013064, "post_id": 32104164, "comment_id": 52102854, "body": "Did you read the <a href=\"https://docs.djangoproject.com/en/1.8/#internationalization-and-localization\" rel=\"nofollow noreferrer\">comprehensive documentation</a>?"}, {"owner": {"reputation": 2883, "user_id": 5170375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/829fb1e88517224981a370260767c555?s=128&d=identicon&r=PG&f=1", "display_name": "Rivadiz", "link": "https://stackoverflow.com/users/5170375/rivadiz"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440013498, "post_id": 32104164, "comment_id": 52103124, "body": "I found this package <a href=\"https://github.com/deschler/django-modeltranslation\" rel=\"nofollow noreferrer\">github.com/deschler/django-modeltranslation</a> and really am scared. I can&#39;t get a clue about the process! Does it need extra packages as with REST framework? Would be helpful if I get a simple overview so that I can get to read knowing what is it from outside."}, {"owner": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1440014120, "post_id": 32104164, "comment_id": 52103522, "body": "Read the documentation linked by @DanielRoseman - It&#39;s very descriptive. Short-version: You can do things like: <code>&quot;translate(&quot;Look at {{ publisher.name }}&#39;s website&quot;)</code> (translate isn&#39;t the actual function) and with publisher being Christopher it will e.g. in german become: <code>&quot;Schau dir Christophers Seite an&quot;</code>."}, {"owner": {"reputation": 2883, "user_id": 5170375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/829fb1e88517224981a370260767c555?s=128&d=identicon&r=PG&f=1", "display_name": "Rivadiz", "link": "https://stackoverflow.com/users/5170375/rivadiz"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440014335, "post_id": 32104164, "comment_id": 52103646, "body": "@DanielRoseman official docs seems translate help_text and at views and templates. So model wont be translated by default. If there is nested context, all must be separately mark for translation?"}, {"owner": {"reputation": 2883, "user_id": 5170375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/829fb1e88517224981a370260767c555?s=128&d=identicon&r=PG&f=1", "display_name": "Rivadiz", "link": "https://stackoverflow.com/users/5170375/rivadiz"}, "reply_to_user": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "edited": false, "score": 0, "creation_date": 1440014409, "post_id": 32104164, "comment_id": 52103695, "body": "@ChristopherSch&#228;pers have gone through, so can&#39;t mark the model for translation out of the box?"}, {"owner": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "edited": false, "score": 0, "creation_date": 1440014584, "post_id": 32104164, "comment_id": 52103787, "body": "Do you want to translate the models values, (E.g. <code>&quot;Royal English Press&quot;</code> would become <code>&quot;K&#246;niglicher englischer Verlag&quot;</code>) or do you want to translate the strings around it (<code>&quot;Look at ...&quot;</code> becomes <code>&quot;Schau nach \u2026&quot;</code>)? Latter is built into django, former isn&#39;t and needs a bit more complicated tools."}, {"owner": {"reputation": 2883, "user_id": 5170375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/829fb1e88517224981a370260767c555?s=128&d=identicon&r=PG&f=1", "display_name": "Rivadiz", "link": "https://stackoverflow.com/users/5170375/rivadiz"}, "reply_to_user": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "edited": false, "score": 0, "creation_date": 1440014768, "post_id": 32104164, "comment_id": 52103879, "body": "@ChristopherSch&#228;pers Publisher is just a model, would be nice if  description in a book model is translated !! still confused if objects can be marked for translation at model level or should do at template level."}], "owner": {"reputation": 2883, "user_id": 5170375, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/829fb1e88517224981a370260767c555?s=128&d=identicon&r=PG&f=1", "display_name": "Rivadiz", "link": "https://stackoverflow.com/users/5170375/rivadiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 781, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1440012884, "creation_date": 1440012884, "question_id": 32104164, "link": "https://stackoverflow.com/questions/32104164/understanding-django-i18n-and-l10n", "title": "Understanding Django i18n and l10n?", "body": "<p>Hi I'm relatively new to Django, but has a site running with Django,</p>\n\n<p>Recently came to know there is i18n in Django, but couldn't find any resources to know what i18n really is.</p>\n\n<p>I have a model in an app, where I have around 70 objects saved.</p>\n\n<pre><code>class Publisher(models.Model):\n    name = models.CharField(max_length=255)\n    slug = models.SlugField(max_length=255)\n    website = models.URLField(blank=True)\n\n    date_created = models.DateTimeField(auto_now_add=True)\n    date_updated = models.DateTimeField(auto_now=True)\n\n    def __unicode__(self):\n        return self.name\n</code></pre>\n\n<p>My Questions are, </p>\n\n<ol>\n<li>What is i18n actually? Does it translate the text in the admin panel or at the template?</li>\n<li>Can I add i18n to the model listed here? If yes how? (does migrations work with this?, I have some objects of this class in my database)</li>\n<li>Do I need to add new packages or databases to make the translation work (if the translation works)?</li>\n</ol>\n\n<p>Thank you so much.\nWould appreciate any answer.</p>\n"}, {"tags": ["python", "sql-server", "database", "excel"], "comments": [{"owner": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 0, "creation_date": 1440012933, "post_id": 32104109, "comment_id": 52102790, "body": "You&#39;re using data types that require more space than your data actually requires?"}, {"owner": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 0, "creation_date": 1440012987, "post_id": 32104109, "comment_id": 52102817, "body": "And of course, the .xlsx files are .zips, so compression might be a big issue here."}, {"owner": {"reputation": 1039, "user_id": 5020152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdb59ef74a06d62ddf2602d22f74cd02?s=128&d=identicon&r=PG&f=1", "display_name": "FirebladeDan", "link": "https://stackoverflow.com/users/5020152/firebladedan"}, "reply_to_user": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 0, "creation_date": 1440013017, "post_id": 32104109, "comment_id": 52102834, "body": "@JamesZ - agreed. Check your data types. If you have set lengths consider using varchars. etc"}, {"owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "reply_to_user": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 0, "creation_date": 1440013250, "post_id": 32104109, "comment_id": 52102963, "body": "@JamesZ, FirebladeDan Thanks for the responses. Is there a way to shrink the size in MSSQL without affecting data integrity?"}, {"owner": {"reputation": 11828, "user_id": 4420967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J6pYX.png?s=128&g=1", "display_name": "James Z", "link": "https://stackoverflow.com/users/4420967/james-z"}, "edited": false, "score": 0, "creation_date": 1440013479, "post_id": 32104109, "comment_id": 52103112, "body": "If you save your data in a text file from excel, I would assume that&#39;s more accurate estimate of how much data you have. Without knowing more, check that you don&#39;t have char/nchar fields or numeric / decimal fields with big precision or scale (unless you need it, of course)"}], "owner": {"reputation": 3719, "user_id": 4765705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ef22060315fb9245245ffadf43e11c2?s=128&d=identicon&r=PG&f=1", "display_name": "collarblind", "link": "https://stackoverflow.com/users/4765705/collarblind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1440012699, "creation_date": 1440012699, "question_id": 32104109, "link": "https://stackoverflow.com/questions/32104109/why-is-my-mssql-table-data-larger-than-excel-equivalent", "title": "Why is my mssql table data larger than excel equivalent?", "body": "<p>I have two data files that are 156 MB and 200 MB.\n I did some processing in python such as removing a column and adding a new column. </p>\n\n<p>When I import my data into MSSQL table the size explodes to 1GB+. </p>\n\n<p>Can someone explain to me what I am doing wrong or why it does this? Is there a way I can minimize the size of the MSSQL table?</p>\n\n<p>Thanks,</p>\n\n<p>Phil</p>\n"}, {"tags": ["python", "mongodb", "collections", "insert"], "comments": [{"owner": {"reputation": 40768, "user_id": 383478, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6a50460f24f28192a52734a91389a304?s=128&d=identicon&r=PG&f=1", "display_name": "Sammaye", "link": "https://stackoverflow.com/users/383478/sammaye"}, "edited": false, "score": 0, "creation_date": 1440014421, "post_id": 32104102, "comment_id": 52103708, "body": "Maybe a dupe: <a href=\"http://stackoverflow.com/questions/8109122/how-to-sort-mongodb-with-pymongo\" title=\"how to sort mongodb with pymongo\">stackoverflow.com/questions/8109122/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 40768, "user_id": 383478, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6a50460f24f28192a52734a91389a304?s=128&d=identicon&r=PG&f=1", "display_name": "Sammaye", "link": "https://stackoverflow.com/users/383478/sammaye"}, "edited": false, "score": 0, "creation_date": 1440015457, "post_id": 32104527, "comment_id": 52104283, "body": "I don&#39;t think that is actually a valid object, I believe python requires the defining of both properties and their values when defining a dict in that manner."}], "tags": [], "owner": {"reputation": 4334, "user_id": 4315049, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-VcImhtlzVjU/AAAAAAAAAAI/AAAAAAAAANo/LzEIa3Lq6uE/photo.jpg?sz=128", "display_name": "robjwilkins", "link": "https://stackoverflow.com/users/4315049/robjwilkins"}, "is_accepted": false, "score": 0, "last_activity_date": 1440014188, "creation_date": 1440014188, "answer_id": 32104527, "question_id": 32104102, "link": "https://stackoverflow.com/questions/32104102/how-to-add-documents-from-one-collection-to-another-in-reverse-order/32104527#32104527", "title": "How to add documents from one collection to another in reverse order?", "body": "<p>try changing the square braces on the sort to curly braces:</p>\n\n<pre><code>db.xdata.find().sort({\"_id\", -1}).forEach(function(doc) {\n    db.data.insert(doc)\n})\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 5020027, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/782b38d9e883bf06d03437fc50b29d72?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick R Miles", "link": "https://stackoverflow.com/users/5020027/patrick-r-miles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440014188, "creation_date": 1440012665, "question_id": 32104102, "link": "https://stackoverflow.com/questions/32104102/how-to-add-documents-from-one-collection-to-another-in-reverse-order", "title": "How to add documents from one collection to another in reverse order?", "body": "<p>Very new to pymongo. I have a database 'db' with a collection 'data' that I populate from a plain text file with one program. Another program runs every hour or so and checks for new entries in the log file. It looks at the last entry in the log file and converts it into a mongo document 'newdata', then compares the datetime of that document to the datetime of the latest entry in 'data'. If the datetime of 'newdata' is greater, it adds 'newdata' to another collection 'xdata'.</p>\n\n<p>This loop runs until the dates equal eachother, at which point I want it to take the documents from 'xdata' and add them to 'data' in the reverse of their order in 'xdata'. I'm trying to do this with:</p>\n\n<pre><code>db.xdata.find().sort([[\"_id\", -1]]).forEach(function(doc) {\n        db.data.insert(doc)\n    })\n</code></pre>\n\n<p>and then I clear 'xdata' with <code>db.xdata.remove()</code>.\nWhen I try to run this, I get </p>\n\n<blockquote>\n  <p>SyntaxError: invalid syntax</p>\n</blockquote>\n\n<p>With an arrow point to the first '{'.</p>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": true, "score": 2, "last_activity_date": 1440012536, "creation_date": 1440012536, "answer_id": 32104060, "question_id": 32104019, "link": "https://stackoverflow.com/questions/32104019/pygame-error-clock-tick40-attributeerror-function-object-has-no-attribute/32104060#32104060", "title": "PyGame Error: clock.tick(40) AttributeError: &#39;function&#39; object has no attribute &#39;tick&#39;", "body": "<p>You have a function named <code>clock()</code> -</p>\n\n<pre><code>def clock():\n    global fps_tick, seconds, hou\n    fps_tick += 1\n\n    if fps_tick == 40:\n        seconds += 1\n        fps_tick = 0\n\n    if seconds == 30:\n        hour += 1\n</code></pre>\n\n<p>Which is masking the <code>clock = pygame.time.Clock()</code> variable, hence when you access <code>clock</code> name, it accesses the function you have created.</p>\n\n<p>I do not see you using the function anywhere, if its actually in use in some part of code that you have not posted, you should rename it such that the name does not mask other variables you have created. If you are not using the function, remove it.</p>\n"}, {"tags": [], "owner": {"reputation": 4377, "user_id": 3244542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824d97462f60717863214b3efca87c24?s=128&d=identicon&r=PG&f=1", "display_name": "CasualDemon", "link": "https://stackoverflow.com/users/3244542/casualdemon"}, "is_accepted": false, "score": 0, "last_activity_date": 1440012567, "creation_date": 1440012567, "answer_id": 32104068, "question_id": 32104019, "link": "https://stackoverflow.com/questions/32104019/pygame-error-clock-tick40-attributeerror-function-object-has-no-attribute/32104068#32104068", "title": "PyGame Error: clock.tick(40) AttributeError: &#39;function&#39; object has no attribute &#39;tick&#39;", "body": "<p>You overwrote the <code>clock = pygame.time.Clock()</code> class at the top of the file with a function also called clock.</p>\n\n<pre><code>def clock():\n    global fps_tick, seconds, hou\n    fps_tick += 1\n\n    if fps_tick == 40:\n        seconds += 1\n        fps_tick = 0\n\n    if seconds == 30:\n        hour += 1\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 5244776, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1484982375151840/picture?type=large", "display_name": "Green Plasma", "link": "https://stackoverflow.com/users/5244776/green-plasma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1561, "favorite_count": 0, "accepted_answer_id": 32104060, "answer_count": 2, "score": 2, "last_activity_date": 1440012567, "creation_date": 1440012396, "question_id": 32104019, "link": "https://stackoverflow.com/questions/32104019/pygame-error-clock-tick40-attributeerror-function-object-has-no-attribute", "title": "PyGame Error: clock.tick(40) AttributeError: &#39;function&#39; object has no attribute &#39;tick&#39;", "body": "<p>I am making a \"fan game\" of Five Nights at Freddy's.  My code was working fine until I started getting this error:</p>\n\n<pre><code>File \"C:\\Users\\Admin\\Desktop\\Python\\Five Nights\\Five Nights.py\", line 116, in main\nclock.tick(40)\nAttributeError: 'function' object has no attribute 'tick'\n</code></pre>\n\n<p>I have compared the code to other working pygame games and the code for the clock is exactly the same, but I only get this error in this game.</p>\n\n<p>My code is as follows:</p>\n\n<pre><code>import pygame, random\npygame.init()\n\nscreen = pygame.display.set_mode((0,0), pygame.FULLSCREEN, 32)\npygame.display.toggle_fullscreen()\npygame.display.set_caption(\"Five Nights\")\nclock = pygame.time.Clock()\n\noffice_pic = pygame.image.load('images/office.png')\nstage = pygame.image.load('images/stage.jpg')\nbuilding_map = pygame.image.load('images/map.png')\nbuilding_map.convert_alpha()\n\nbreathing = pygame.mixer.Sound('sounds/breathing.wav')\n\nscreen_width = 1280\nscreen_height = 800\n\nx = 0\nx_move = 0\n\nv = 0\n\ncamera = stage\ncamera_up = False\n\nclick = None\n\nfps_tick = 0\nseconds = 0\nhour = 10\n\n\ndef clock():\n    global fps_tick, seconds, hou\n    fps_tick += 1\n\n    if fps_tick == 40:\n        seconds += 1\n        fps_tick = 0\n\n    if seconds == 30:\n        hour += 1\n\n\n\n\ndef cameras(mouse_x, mouse_y):\n    global click, camera\n\n    screen.blit(camera, (0,0))\n\n    screen.blit(building_map, (screen_width-650, screen_height-426))\n\n\n\n\ndef main():\n\n    global x, x_move, camera_up, v, click\n\n    while True:       \n\n        for event in pygame.event.get():\n            if event.type == pygame.KEYDOWN:\n               if event.key == pygame.K_ESCAPE:\n                   pygame.quit()\n                   quit()\n\n        mouse_xy = pygame.mouse.get_pos()\n        mouse_x = mouse_xy[0]\n        mouse_y = mouse_xy[1]\n        click = pygame.mouse.get_pressed()\n\n\n        if mouse_x &gt;= (screen_width/2) + 200 and mouse_x &lt;= (screen_width/2) + 400:\n            x_move = 5\n        elif mouse_x &lt;= (screen_width/2) - 200 and mouse_x &gt;= (screen_width/2) - 400:\n            x_move = -5\n        elif mouse_x &gt; (screen_width/2) + 400:\n            x_move = 10\n        elif mouse_x &lt; (screen_width/2) - 400:\n            x_move = -10\n        else:\n            x_move = 0\n\n        x -= x_move\n\n\n        if mouse_y &gt;= (screen_height - (screen_height / 6)) and camera_up == False and v == 0:\n            camera_up = True\n\n        if not mouse_y &gt;= (screen_height - (screen_height / 6)) and camera_up == True:\n            v = 1\n\n        if mouse_y &gt;= (screen_height - (screen_height / 6)) and camera_up == True and v == 1:\n            screen.fill((0,0,0))\n            camera_up = False\n\n        if not mouse_y &gt;= (screen_height - (screen_height / 6)) and camera_up == False:\n            v = 0\n\n\n        if camera_up == False:\n            screen.blit(office_pic, (x,0))\n\n\n        if camera_up == True:\n            cameras(mouse_x, mouse_y)\n\n\n\n\n\n        pygame.display.update()\n        clock.tick(40)\n\n\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "if-statement", "pandas", "indexing"], "comments": [{"owner": {"reputation": 169, "user_id": 4471354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/583871601f579b5bacc82203d32ad672?s=128&d=identicon&r=PG", "display_name": "Andy Kubiak", "link": "https://stackoverflow.com/users/4471354/andy-kubiak"}, "edited": false, "score": 0, "creation_date": 1440013236, "post_id": 32103907, "comment_id": 52102951, "body": "You keep using <code>&amp;</code>. <a href=\"http://stackoverflow.com/questions/22646463/difference-between-and-boolean-vs-bitwise-in-python-why-difference-i\">I do not think it means what you think it means.</a>"}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "reply_to_user": {"reputation": 169, "user_id": 4471354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/583871601f579b5bacc82203d32ad672?s=128&d=identicon&r=PG", "display_name": "Andy Kubiak", "link": "https://stackoverflow.com/users/4471354/andy-kubiak"}, "edited": false, "score": 0, "creation_date": 1440014489, "post_id": 32103907, "comment_id": 52103749, "body": "@AndyKubiak it does in numpy/pandas."}, {"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 0, "creation_date": 1440014654, "post_id": 32103907, "comment_id": 52103822, "body": "I&#39;m playing spot the difference here, it&#39;s too difficult. I think you should just put some print statements in your code and see which block it&#39;s hitting (or step through with pdb). Are you using a recent pandas? I&#39;m suprised it doesn&#39;t raise on <code>if new_occ:</code>."}, {"owner": {"reputation": 169, "user_id": 4471354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/583871601f579b5bacc82203d32ad672?s=128&d=identicon&r=PG", "display_name": "Andy Kubiak", "link": "https://stackoverflow.com/users/4471354/andy-kubiak"}, "edited": false, "score": 0, "creation_date": 1440014683, "post_id": 32103907, "comment_id": 52103836, "body": "Yes of course, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 524, "user_id": 3684651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a7c14b50aa4fcdfecd18696004a1699?s=128&d=identicon&r=PG&f=1", "display_name": "j riot", "link": "https://stackoverflow.com/users/3684651/j-riot"}, "edited": false, "score": 0, "creation_date": 1440016481, "post_id": 32104683, "comment_id": 52104855, "body": "Thank you, this worked. Out of curiosity, why can&#39;t I use the following code at the end of the function:      df  = df[[&#39;Year&#39;, &#39;Month&#39;, &#39;OccID&#39;, &#39;ageGrp&#39;, &#39;Sex&#39;, &#39;Race&#39;, &#39;Hisp&#39;, &#39;educGrp&#39;,                     &#39;OutWgt&#39;, &#39;LongWgt&#39;, &#39;FinWgt&#39;, &#39;Sample&#39;, &#39;PID&#39;, &#39;COW&#39;, &#39;estJobs&#39;,                     &#39;tot_sep&#39;, &#39;tot_hir&#39;]]"}], "tags": [], "owner": {"reputation": 3689, "user_id": 884410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aac7145e7fa914a0af9ed8eecd025d1?s=128&d=identicon&r=PG", "display_name": "Raj Ranjhan", "link": "https://stackoverflow.com/users/884410/raj-ranjhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1440014762, "creation_date": 1440014762, "answer_id": 32104683, "question_id": 32103907, "link": "https://stackoverflow.com/questions/32103907/pandas-if-statements-and-indexing/32104683#32104683", "title": "Pandas if statements and indexing", "body": "<p>You are using .apply which calls <code>tabulateHireSeps</code> on <em>each row</em> of your dataframe.  In your function you are resetting the dataframe.  </p>\n\n<p>Try this:</p>\n\n<pre><code>def tabulateHireSeps(df):\n# We need to create the job, hire and separation column within the data frame. \ndf['estJobs']   = 0\ndf['tot_sep']   = 0\ndf['tot_hir']   = 0 \n\n# These constants enable the logical statements below to be easier read\n# The naming acts a self-description\nemployee     = (df.EmpStat == 1)\nnon_employee = (df.EmpStat != 1)\nnew_emp      = (df.newEmp  == 2)\nnew_occ      = (df.newOcc  == 2)\n\nmaxMonth    = max(df.Month)\nminMonth    = min(df.Month)\nif ((maxMonth == 12) &amp; (minMonth == 1)):\n    maxMonth = 1\n    minMonth = 12\n\nlengthMonth = len(df.Month)\nif (lengthMonth &gt; 1):\n    # If an individual went from unemployed in the previous month \n    if ((df['Month'] == minMonth) &amp; (non_employee)).any():\n        # to employed in the current month, we calculate that as a hire\n        df.ix[((df.Month == maxMonth) &amp; (employee)), 'tot_hir'] = 1\n\n    # If an individual went from employed in the previous month\n    elif ((df['Month'] == minMonth) &amp; (employee)).any():\n        # to employed in the current month with a new employer \n        if ((df['Month'] == maxMonth) &amp; (employee) &amp; (new_emp)).any():\n            # and have a new occupation\n            if (new_occ).any():\n                # we calculate a hire in the current month\n                df.ix[(df['Month'] == maxMonth), 'tot_hir'] = 1\n                # we calculate a seperation in the previous month\n                df.ix[(df['Month'] == minMonth), 'tot_sep'] = 1\n            else:\n                # we calculate a hire and seperation for the current month\n                df.ix[(df['Month'] == maxMonth), ['tot_hir', 'tot_sep']] = 1, 1\n\n        else:\n            # to unemployed in the current month we calcualte a seperation\n            df.ix[((df['Month'] == maxMonth) &amp; (non_employee)), 'tot_sep'] = 1\n\nelse:\n    df.ix[(df['Month'].isin(maxMonth) &amp; (employee) &amp; ((new_occ) | (new_emp))), \\\n        'tot_hir'] = 1  \n\n## We keep only those columns we need to move through the process\n#df  = df[['Year', 'Month', 'OccID', 'ageGrp', 'Sex', 'Race', 'Hisp', 'educGrp', \n#          'OutWgt', 'LongWgt', 'FinWgt', 'Sample', 'PID', 'COW', 'estJobs', \n#          'tot_sep', 'tot_hir']]    \n\nreturn df\n</code></pre>\n"}], "owner": {"reputation": 524, "user_id": 3684651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a7c14b50aa4fcdfecd18696004a1699?s=128&d=identicon&r=PG&f=1", "display_name": "j riot", "link": "https://stackoverflow.com/users/3684651/j-riot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 32104683, "answer_count": 1, "score": 0, "last_activity_date": 1440014762, "creation_date": 1440012004, "last_edit_date": 1440012666, "question_id": 32103907, "link": "https://stackoverflow.com/questions/32103907/pandas-if-statements-and-indexing", "title": "Pandas if statements and indexing", "body": "<p>I am trying to calculate hires and separations for CPS data in a Python Pandas data frame, however my logical statements are not working correctly.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>test_tabData        = test_data.groupby('PID').apply(tabulateHireSeps)\n\ndef tabulateHireSeps(df):\n    # We need to create the job, hire and separation column within the data frame. \n    df['estJobs']   = 0\n    df['tot_sep']   = 0\n    df['tot_hir']   = 0 \n\n    # These constants enable the logical statements below to be easier read\n    # The naming acts a self-description\n    employee     = (df.EmpStat == 1)\n    non_employee = (df.EmpStat != 1)\n    new_emp      = (df.newEmp  == 2)\n    new_occ      = (df.newOcc  == 2)\n\n    maxMonth    = max(df.Month)\n    minMonth    = min(df.Month)\n    if ((maxMonth == 12) &amp; (minMonth == 01)):\n        maxMonth = 01\n        minMonth = 12\n\n    lengthMonth = len(df.Month)\n    if (lengthMonth &gt; 1):\n        # If an individual went from unemployed in the previous month \n        if ((df['Month'] == minMonth) &amp; (non_employee)).any():\n            # to employed in the current month, we calculate that as a hire\n            df.ix[((df.Month == maxMonth) &amp; (employee)), 'tot_hir'] = 1\n\n        # If an individual went from employed in the previous month\n        elif ((df['Month'] == minMonth) &amp; (employee)).any():\n            # to employed in the current month with a new employer \n            if ((df['Month'] == maxMonth) &amp; (employee) &amp; (new_emp)).any():\n                # and have a new occupation\n                if (new_occ):\n                    # we calculate a hire in the current month\n                    df.ix[(df['Month'] == maxMonth), 'tot_hir'] = 1\n                    # we calculate a seperation in the previous month\n                    df.ix[(df['Month'] == minMonth), 'tot_sep'] = 1\n                else:\n                    # we calculate a hire and seperation for the current month\n                    df.ix[(df['Month'] == maxMonth), ['tot_hir', 'tot_sep']] = 1, 1\n\n            else:\n                # to unemployed in the current month we calcualte a seperation\n                df.ix[((df['Month'] == maxMonth) &amp; (non_employee)), 'tot_sep'] = 1\n\n    else:\n        df.ix[(df['Month'].isin(maxMonth) &amp; (employee) &amp; ((new_occ) | (new_emp))), \\\n            'tot_hir'] = 1  \n\n    # We keep only those columns we need to move through the process\n    df  = df[['Year', 'Month', 'OccID', 'ageGrp', 'Sex', 'Race', 'Hisp', 'educGrp', \n              'OutWgt', 'LongWgt', 'FinWgt', 'Sample', 'PID', 'COW', 'estJobs', \n              'tot_sep', 'tot_hir']]    \n\n    return df\n</code></pre>\n\n<p>Here is my test data:</p>\n\n<pre><code>data_set = [[2015, 05, 9130, 4, 1, 1, 2, 1, 0, 51727030, 36527035, 3, 1, 1001, 1, 1, 1],\n            [2015, 04, 9130, 4, 1, 1, 2, 1, 0, 51897025, 36164620, 2, 1, 1001, 2, 1, 7],\n            [2015, 05, 9130, 4, 1, 1, 2, 1, 0, 51727030, 36527035, 3, 1, 1002, 2, 1, 7],\n            [2015, 04, 9130, 4, 1, 1, 2, 1, 0, 51897025, 36164620, 2, 1, 1002, 1, 1, 1],\n            [2015, 05, 9130, 4, 1, 1, 2, 1, 0, 51727030, 36527035, 3, 2, 1003, 1, 2, 1],\n            [2015, 04, 9130, 4, 1, 1, 2, 1, 0, 51897025, 36164620, 2, 1, 1003, 1, 1, 1]]\n\ntest_data = pandas.DataFrame(data       = data_set, \n                            columns     = ['Year',\n                                           'Month',\n                                           'OccID',\n                                           'ageGrp',\n                                           'Sex',\n                                           'Race',\n                                           'Hisp',\n                                           'educGrp', \n                                           'OutWgt',\n                                           'LongWgt',\n                                           'FinWgt',    \n                                           'Sample',    \n                                           'newEmp',    \n                                           'PID',   \n                                           'EmpStat',\n                                           'newOcc',\n                                           'COW'])\n</code></pre>\n\n<p>Here are my expected results:</p>\n\n<pre><code>expected_set = [[2015, 05, 9130, 4, 1, 1, 2, 1, 0, 51727030, 36527035, 3, 1001, 1, 0, 0, 1],\n               [2015, 04, 9130, 4, 1, 1, 2, 1, 0, 51897025, 36164620, 2, 1001, 7, 0, 0, 0],\n               [2015, 05, 9130, 4, 1, 1, 2, 1, 0, 51727030, 36527035, 3, 1002, 1, 0, 1, 0],\n               [2015, 04, 9130, 4, 1, 1, 2, 1, 0, 51897025, 36164620, 2, 1002, 7, 0, 0, 0],\n               [2015, 05, 9130, 4, 1, 1, 2, 1, 0, 51727030, 36527035, 3, 1003, 1, 0, 0, 1],\n               [2015, 04, 9130, 4, 1, 1, 2, 1, 0, 51897025, 36164620, 2, 1003, 7, 0, 1, 0]]\n\nexpected_data = pandas.DataFrame(data       = expected_set, \n                                columns     = ['Year',\n                                               'Month',\n                                               'OccID',\n                                               'ageGrp',\n                                               'Sex',\n                                               'Race',\n                                               'Hisp',\n                                               'educGrp',\n                                               'OutWgt',\n                                               'LongWgt',\n                                               'FinWgt',\n                                               'Sample',\n                                               'PID',\n                                               'COW',\n                                               'estJobs',\n                                               'tot_sep',\n                                               'tot_hir'])\n</code></pre>\n\n<p>Here is what the function is producing:</p>\n\n<pre><code>  Year  Month  OccID  ageGrp  Sex  Race  Hisp  educGrp  OutWgt   LongWgt  \\\n  2015      5   9130       4    1     1     2        1       0  51727030   \n   2015      4   9130       4    1     1     2        1       0  51897025   \n   2015      5   9130       4    1     1     2        1       0  51727030   \n   2015      4   9130       4    1     1     2        1       0  51897025   \n   2015      5   9130       4    1     1     2        1       0  51727030   \n   2015      4   9130       4    1     1     2        1       0  51897025   \n\n     FinWgt  Sample   PID  COW  estJobs  tot_sep  tot_hir  \n   36527035       3  1001    1        0        0        1  \n   36164620       2  1001    7        0        0        0  \n   36527035       3  1001    1        0        0        1  \n   36164620       2  1001    7        0        0        0  \n   36527035       3  1001    1        0        0        1  \n   36164620       2  1001    7        0        0        0\n</code></pre>\n"}, {"tags": ["python", "embedded", "pyserial"], "comments": [{"owner": {"reputation": 574, "user_id": 1203376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2ee37e862cae3a90bb2e141750a2038?s=128&d=identicon&r=PG&f=1", "display_name": "samuelschaefer", "link": "https://stackoverflow.com/users/1203376/samuelschaefer"}, "edited": false, "score": 0, "creation_date": 1440012164, "post_id": 32103900, "comment_id": 52102279, "body": "What output/errors are you getting when you run this code?"}, {"owner": {"reputation": 27, "user_id": 3996507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318549ed699957ce68045c5b52ca2040?s=128&d=identicon&r=PG&f=1", "display_name": "S Kal", "link": "https://stackoverflow.com/users/3996507/s-kal"}, "reply_to_user": {"reputation": 574, "user_id": 1203376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2ee37e862cae3a90bb2e141750a2038?s=128&d=identicon&r=PG&f=1", "display_name": "samuelschaefer", "link": "https://stackoverflow.com/users/1203376/samuelschaefer"}, "edited": false, "score": 0, "creation_date": 1440012334, "post_id": 32103900, "comment_id": 52102389, "body": "I am just getting back what I sent: b&#39;ver&#39; and b&#39;serv&#39;"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1440032945, "post_id": 32103900, "comment_id": 52110192, "body": "Python is a general purpose programming language, not a DSL scripting language."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 3996507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318549ed699957ce68045c5b52ca2040?s=128&d=identicon&r=PG&f=1", "display_name": "S Kal", "link": "https://stackoverflow.com/users/3996507/s-kal"}, "edited": false, "score": 1, "creation_date": 1440016836, "post_id": 32104467, "comment_id": 52105042, "body": "Thanks samuel...i got it resolve just by adding a \\n at the end of my commands. ser.write(bytes(&#39;ver \\n&#39;,encoding=&#39;ascii&#39;))"}, {"owner": {"reputation": 574, "user_id": 1203376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2ee37e862cae3a90bb2e141750a2038?s=128&d=identicon&r=PG&f=1", "display_name": "samuelschaefer", "link": "https://stackoverflow.com/users/1203376/samuelschaefer"}, "reply_to_user": {"reputation": 27, "user_id": 3996507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318549ed699957ce68045c5b52ca2040?s=128&d=identicon&r=PG&f=1", "display_name": "S Kal", "link": "https://stackoverflow.com/users/3996507/s-kal"}, "edited": false, "score": 0, "creation_date": 1440101019, "post_id": 32104467, "comment_id": 52146042, "body": "@SKal Yes, that&#39;s right, you will need to end the input with a newline! Glad it worked out for you!"}], "tags": [], "owner": {"reputation": 574, "user_id": 1203376, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2ee37e862cae3a90bb2e141750a2038?s=128&d=identicon&r=PG&f=1", "display_name": "samuelschaefer", "link": "https://stackoverflow.com/users/1203376/samuelschaefer"}, "is_accepted": true, "score": 1, "last_activity_date": 1440014354, "last_edit_date": 1440014354, "creation_date": 1440013985, "answer_id": 32104467, "question_id": 32103900, "link": "https://stackoverflow.com/questions/32103900/python-script-to-interact-with-embedded-board/32104467#32104467", "title": "python script to interact with embedded board", "body": "<p>Your code looks fine. When you send something over pySerial, what you get back is what you sent, along with anything the board responds with. I think your problem relates the the following lines:</p>\n\n<pre><code>print(ser.readline())\n</code></pre>\n\n<p>If you look through the <a href=\"http://pyserial.sourceforge.net/pyserial_api.html#serial.FileLike.readline\" rel=\"nofollow\">readline() documentation</a> you will notice that the readline() only reads up to the the eol character. </p>\n\n<p>What your board returns might look something like this:</p>\n\n<pre><code>serv           #your input\n\\n             #newline character\noutput_text    #board output\n\\n             #newline character\n</code></pre>\n\n<p>but ser.readline() stops reading at the newline character because it only reads one line. </p>\n\n<p>You should be able to fix this by calling ser.readline() several times (at least twice) until all of the output is read or use one of the <a href=\"http://pyserial.sourceforge.net/pyserial_api.html#serial.Serial.read\" rel=\"nofollow\">other reading methods</a></p>\n"}], "owner": {"reputation": 27, "user_id": 3996507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/318549ed699957ce68045c5b52ca2040?s=128&d=identicon&r=PG&f=1", "display_name": "S Kal", "link": "https://stackoverflow.com/users/3996507/s-kal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 32104467, "answer_count": 1, "score": 1, "last_activity_date": 1440014774, "creation_date": 1440011965, "last_edit_date": 1440014774, "question_id": 32103900, "link": "https://stackoverflow.com/questions/32103900/python-script-to-interact-with-embedded-board", "title": "python script to interact with embedded board", "body": "<p>I want to write a Python script to interact with an Embedded board through COM4.</p>\n\n<p>I used Teraterm and could able to execute what I wanted.  Basically, I just want to get some information from the board.<br>\nEx: If I send Ver, the board replies back with Version number\n    If I send Serv, the board replies back with the list of its services</p>\n\n<p>I don't know how to write a Python script to achieve the same.  </p>\n\n<p>Following is my code.  <i>The problem is that ser.readline() is reading what I am sending </i>.  The output is: b'ver' and b'serv'.</p>\n\n<p>Please suggest me what changes should I do in my script to make it work.</p>\n\n<p>Thanks.</p>\n\n<pre><code>    import serial\n    import time\n    import sys\n\n    ser = serial.Serial(baudrate=115200, bytesize=serial.EIGHTBITS, parity=serial.PARITY_NONE, stopbits=serial.STOPBITS_ONE, timeout=5.0)\n    ser.port = \"COM4\"\n    ser.open()\n    if ser.isOpen():\n      print(\"Open: \",ser.portstr)\n    print('--------')       \n\n\n    ser.write(bytes('ver',encoding='ascii'))\n    time.sleep(1)\n    print(ser.readline())\n\n    time.sleep(1)\n\n    ser.write(bytes('serv',encoding='ascii'))\n    time.sleep(1)\n    print(ser.readline())\n\n    ser.close()\n</code></pre>\n\n<p>To make it simple, I just used the following code.  In this case, I am getting a blank output as b'  ' continuously.</p>\n\n<pre><code>import serial\nimport time\nimport sys\n\nser = serial.Serial(baudrate=115200, bytesize=serial.EIGHTBITS, parity=serial.PARITY_NONE, stopbits=serial.STOPBITS_ONE, timeout=5.0)\nser.port = \"COM4\"\nser.open()\nif ser.isOpen():\n  print(\"Open: \",ser.portstr)\nprint('--------')       \n\nser.write(bytes('ver',encoding='ascii'))\nwhile 1:\n        print(ser.readline())\n\nser.close()\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1440011870, "post_id": 32103802, "comment_id": 52102097, "body": "have a look at <code>collections.defaultdict</code>."}, {"owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 0, "creation_date": 1440011896, "post_id": 32103802, "comment_id": 52102110, "body": "You are looking for <code>defaultdict</code> in <code>collections</code>. Just say <code>d = collections.defaultdict(list)</code> and now each element is an empty list.  By the way, don&#39;t name your variable <code>dict</code>, as that will clash with the type of the same name."}], "answers": [{"comments": [{"owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "edited": false, "score": 0, "creation_date": 1440015884, "post_id": 32104121, "comment_id": 52104503, "body": "done. The extended explanation was really helpful too!"}], "tags": [], "owner": {"reputation": 16633, "user_id": 2102634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab206b7dfa7c1759d8bd6dd222ae4751?s=128&d=identicon&r=PG", "display_name": "Rick Hanlon II", "link": "https://stackoverflow.com/users/2102634/rick-hanlon-ii"}, "is_accepted": true, "score": 2, "last_activity_date": 1440014328, "last_edit_date": 1440014328, "creation_date": 1440012744, "answer_id": 32104121, "question_id": 32103802, "link": "https://stackoverflow.com/questions/32103802/adding-to-the-value-of-a-key-in-a-dictionary/32104121#32104121", "title": "Adding to the value of a key in a dictionary", "body": "<h1>Simple Solution</h1>\n\n<p>The simple solution is to use <code>collections.defaultdict</code>:</p>\n\n<pre><code>from collections import defaultdict\n\n\ndef make_chains(input_list):\n    \"\"\"\n    Takes an input text as a list of strings and returns a dictionary of markov chains.\n    \"\"\"\n    chain = defaultdict(list)\n    for line in input_list:\n        line = line.replace(',', \"\")\n        words = line.split()\n        for i in range(0, len(words) - 2):\n            chain[words[i], words[i + 1]].append(words[i + 2])\n\n    return chain\n</code></pre>\n\n<p>With this then you get:</p>\n\n<pre><code>$ print make_chains([\"Would you like\", \"Would you could\"])\ndefaultdict(&lt;type 'list'&gt;, {('Would', 'you'): ['like', 'could']})\n</code></pre>\n\n<h1>Fixing the original</h1>\n\n<p>Just so you can get a better idea of what went wrong in your code, though, we can fix the original solution without using defaultdict. To do this there are a few things to mention about your original code. </p>\n\n<p>To start, let's look at this statement:</p>\n\n<pre><code>words_copy = words\n</code></pre>\n\n<p>Does not do what you think it does, nor is it necessary. This does not create a copy of <code>words</code>, it simply creates a new variable <code>words_copy</code> and points it to the existing <code>words</code> value. Therefore, if you change <code>words</code> you change <code>words_copy</code> as well. </p>\n\n<p>What you would want is <code>words_copy = copy.deepcopy(words)</code> but that's unnecessary in this case since you're not changing the state of <code>words</code> as you iterate.</p>\n\n<p>Next, this line:</p>\n\n<pre><code>if dict[(words[word], words[word + 1])] in dict:\n    dict.update(words[word+2])\n</code></pre>\n\n<p>Has a couple flaws. First, if the tuple is not already in the dict, then this will raise a key error. That's certain to happen on the first iteration. Second, the update method of dict adds the passed dict to the dict you're calling on. What you want to do is update the value of the dict at that key.</p>\n\n<p>So you want:</p>\n\n<pre><code>if (words[word], words[word + 1]) in dict:\n    # Add to the existing list\n    dict(words[word], words[word + 1]).append(words[word+2])\nelse:\n    # Create a new list\n    dict(words[word], words[word + 1]) = [words[word+2]]\n</code></pre>\n\n<p>Finally, this block is unnecessary:</p>\n\n<pre><code>if word == len(words_copy) - 3:\n    break\n</code></pre>\n\n<p>Instead, just iterate up to the third to last index as in:</p>\n\n<pre><code>for word in range(0, len(words) - 2):\n</code></pre>\n\n<p>Putting it altogether, you can use these changes to fix the original version:</p>\n\n<pre><code>def make_chains(corpus):\n    \"\"\"Takes an input text as a string and returns a dictionary of\n    markov chains.\"\"\"\n    dict = {}\n    for line in corpus:\n        line = line.replace(',', \"\")\n        words = line.split()\n        for word in range(0, len(words) - 2):\n            if (words[word], words[word + 1]) in dict:\n                # Add to the existing list\n                dict[(words[word], words[word + 1])].append(words[word + 2])\n            else:\n                # Create a new list\n                dict[(words[word], words[word + 1])] = [words[word + 2]]\n\n    return dict\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1298, "user_id": 3977233, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8e86fc1a6bac46abf2833972e287205e?s=128&d=identicon&r=PG&f=1", "display_name": "Gwater17", "link": "https://stackoverflow.com/users/3977233/gwater17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 32104121, "answer_count": 1, "score": 1, "last_activity_date": 1440014328, "creation_date": 1440011597, "question_id": 32103802, "link": "https://stackoverflow.com/questions/32103802/adding-to-the-value-of-a-key-in-a-dictionary", "title": "Adding to the value of a key in a dictionary", "body": "<p>I am trying to make a Markov chain in python. Currently, when I have text such as \"Would you could\" and \"Would you like\" my key of the tuple ('Would', 'you') 'could' is overwritten by like to become ('Would', 'you') 'like' as I iterate through my text file. </p>\n\n<p>I am trying to add each new value for a key to the value for that key. I.E. for the key ('Would', 'you') I want the value to show up as ('Would, 'you'): 'could', 'like' </p>\n\n<p>Here is my code:</p>\n\n<pre><code>def make_chains(corpus):\n    \"\"\"Takes an input text as a string and returns a dictionary of\n    markov chains.\"\"\"\n    dict = {}\n    for line in corpus:\n        line = line.replace(',', \"\")\n        words = line.split()\n        words_copy = words\n        for word in range(0, len(words_copy)):\n            #print words[word], words[word + 1]\n            if dict[(words[word], words[word + 1])] in dict:\n                dict.update(words[word+2])\n            dict[(words[word], words[word + 1])] = words[word + 2]\n            #print dict\n            if word == len(words_copy) - 3:\n                break\n\n    return dict\n</code></pre>\n"}, {"tags": ["python", "fabric"], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 4559226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e861fd667c0313ac6cf6680066b834c6?s=128&d=identicon&r=PG&f=1", "display_name": "avivb", "link": "https://stackoverflow.com/users/4559226/avivb"}, "is_accepted": false, "score": 0, "last_activity_date": 1440577212, "creation_date": 1440577212, "answer_id": 32221396, "question_id": 32103626, "link": "https://stackoverflow.com/questions/32103626/python-fabric-running-remote-bash-scripts/32221396#32221396", "title": "python fabric running remote bash scripts", "body": "<p>I think you are looking in wrong directory, out.txt file is probably in the home directory of root.</p>\n"}], "owner": {"reputation": 11, "user_id": 3768241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abc155b0ea504f49431d6bf368755f64?s=128&d=identicon&r=PG&f=1", "display_name": "Firemaster", "link": "https://stackoverflow.com/users/3768241/firemaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 665, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440577212, "creation_date": 1440011048, "question_id": 32103626, "link": "https://stackoverflow.com/questions/32103626/python-fabric-running-remote-bash-scripts", "title": "python fabric running remote bash scripts", "body": "<p>I have been working on python fabric module.\nCurrently I have written a fabfile to invoke a remote bash script on a remote server. However id doesnt seem to work.</p>\n\n<p>My fabfile looks like this:-</p>\n\n<pre><code>from fabric.api import *\n\nenv.hosts=['some-host']\nenv.user=\"root\"\n\ndef deploy():\n    run(\"/home/hduser/test.sh\")\n</code></pre>\n\n<p>It executes test.sh on the remote host.The script is a simple bash script which looks like this</p>\n\n<pre><code>#!/bin/bash\n\necho \"fabric works\" &gt;&gt; out.txt\n</code></pre>\n\n<p>However even though fabric returns a 0 success code I cannot \n    see out.txt file appended with fabric works</p>\n\n<p>Am I missing something here.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1440011223, "post_id": 32103525, "comment_id": 52101754, "body": "<a href=\"https://docs.python.org/3/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><code>enumerate</code></a> may help ... <code>for n, line in enumerate(gridlines): ...</code> and if you split <code>line</code> the <a href=\"https://docs.python.org/3/library/stdtypes.html#common-sequence-operations\" rel=\"nofollow noreferrer\"><code>index</code></a> method of sequences might help."}, {"owner": {"reputation": 16165, "user_id": 547820, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/29c81a4724590af17510dcd846eea411?s=128&d=identicon&r=PG", "display_name": "Sait", "link": "https://stackoverflow.com/users/547820/sait"}, "edited": false, "score": 1, "creation_date": 1440011394, "post_id": 32103525, "comment_id": 52101832, "body": "Please consider trying to produce a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> to get better/faster answers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1440012934, "post_id": 32103525, "comment_id": 52102791, "body": "If you read a file linewise its easy to track line numbers, then for each line (as a string) searching it with [(m.start(0), m.end(0)) for m in re.finditer(pattern, line)] gives an array of tuples of the starting and ending offsets of matches of pattern in the line."}, {"owner": {"reputation": 133, "user_id": 4789227, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/1eea6c313d9f52d692355095efa97a2a?s=128&d=identicon&r=PG&f=1", "display_name": "jayoguntino", "link": "https://stackoverflow.com/users/4789227/jayoguntino"}, "edited": false, "score": 0, "creation_date": 1440013137, "post_id": 32103525, "comment_id": 52102896, "body": "can you please be more clear how would I include this logic in my program and how would I search?"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4789227, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/1eea6c313d9f52d692355095efa97a2a?s=128&d=identicon&r=PG&f=1", "display_name": "jayoguntino", "link": "https://stackoverflow.com/users/4789227/jayoguntino"}, "edited": false, "score": 0, "creation_date": 1440018006, "post_id": 32104625, "comment_id": 52105662, "body": "In your example why have you created the variable keywords and given it a value? and then assigned it to word."}], "tags": [], "owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "is_accepted": false, "score": 0, "last_activity_date": 1440067873, "last_edit_date": 1440067873, "creation_date": 1440014543, "answer_id": 32104625, "question_id": 32103525, "link": "https://stackoverflow.com/questions/32103525/how-do-i-find-the-exact-location-of-the-word-that-is-found-in-the-word-search/32104625#32104625", "title": "How do I find the exact location of the word that is found in the word search", "body": "<p>You can try using <code>enumerate</code> as suggested in a comment: </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>keyword = 'w'\n\ngridlines = [['a', 'b', 'c'], ['d', 'e', 'f'], ['h', 'w', 'z']]\n\ndef findit(gridlines, keyword):\n    for i, line in enumerate(gridlines):\n        print i, line\n        for j, word in enumerate(line):\n            print j, word\n            if word == keyword:\n                return i, j\ni, j = findit(gridlines, keyword)\nprint 'Word found at line {} and index {}'.format(i, j)\n\n&gt;&gt;&gt; Word found at line 2 and index 1 \n</code></pre>\n\n<p>Using <code>enumerate</code> allows you to loop over a list whilst keeping track of the index at each iteration. This should allow you to find the location of what you are looking for.</p>\n\n<p>Sorry, your question is clearer now. I have this which works for simple situations. It creates a walker which walks around the board looking for letter matches, and returns if it finds all the letters.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import numpy as np\n\nkeyword = list('wol')  # Word to find in crossword\n\na = np.array([['w', 'b', 'l'],  # The board of the crossword\n              ['d', 'o', 'f'],\n              ['m', 't', 'd']])\n\na = np.pad(a, 1, 'constant')\n\nsearch = [(0,1), (1,0), (1,1), (-1,-1), (-1,0), (0,-1), (-1,1), (1,-1)]\n\nused = set()\n\nstarting_positions = np.where(a == keyword[0])\nstart = zip(starting_positions[0], starting_positions[1])\n\ndef find_route(start, search, a, keyword):\n    for i in start:\n        positions = [i]\n        count = 0\n        current = i\n        for j in keyword[1:]:\n            path = []\n            for s in search:\n                point = (s[0]+ current[0], s[1] + current[1])\n                if a[point] == j:\n                    path.append(s)                        \n                    positions.append(point)\n                    if count == len(keyword)-2:\n                        return True, [(j[0]-1, j[1]-1) for j in positions]\n                    current = point\n                    break\n                else:\n                    break\n            count += 1\n    return False, []\n\n\n\nprint find_route(start, search, a, keyword)\n&gt;&gt;&gt; (True, [(0, 0), (1, 1), (0, 2)])\n\nprint find_route(start, search, a, list('wok'))\n&gt;&gt;&gt; (False, [])\n\nprint find_route(start, search, a, list('wfd'))\n&gt;&gt;&gt; (False, [])\n</code></pre>\n\n<p>If you dont need diagonals, change the <code>search</code> parameters\nYou may need to debug/alter for more complex boards. Good luck!</p>\n"}], "owner": {"reputation": 133, "user_id": 4789227, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/1eea6c313d9f52d692355095efa97a2a?s=128&d=identicon&r=PG&f=1", "display_name": "jayoguntino", "link": "https://stackoverflow.com/users/4789227/jayoguntino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1440067873, "creation_date": 1440010670, "last_edit_date": 1440018624, "question_id": 32103525, "link": "https://stackoverflow.com/questions/32103525/how-do-i-find-the-exact-location-of-the-word-that-is-found-in-the-word-search", "title": "How do I find the exact location of the word that is found in the word search", "body": "<p>My program reads two external files one containing random words another containing the grid of the word search. My code reads the words from one file and then attempts to see if the word can be found in the grid. My code can successfully determine whether or not the word in present in the grid. I however need to print the exact location of where the word is found such as: </p>\n\n<p>active found: row 3 col 3 to row 3 col 8</p>\n\n<p>I am not sure as to how to get the program to locate the exact occurrence of the word.</p>\n\n<pre><code>print \"\"\n\n# To God be the Glory\n\ngridlines = []\nnot_found = []\nfound_words = {}\n\n# Printing the grid\ndef puzzle(fname) :     \n    print \"\"    \n    for line in f :       \n        gridlines.append(line)  \n    for line in gridlines :       \n        print line,\n\n# Searching for horizontal words    \ndef horizontal_search(word,gridlines) :\n    x = 0  \n    for line in gridlines :  \n        # Seeing if the word can be found in every line of the grid      \n        if word in line or word in line[::-1] : \n            return word\n\n        x = x + 1\n\n        elif word not in line or word not in line [::-1] :        \n            return None\n\n            # Putting all the words that are not found in a list\n\n            not_found.append(word)\n\n\n    # Asking the user to enter a file until the correct file is open\n\n    while True : \n        try:  \n            fname = input(\"Enter a filename between quotation marks : \") \n            with open(fname) as f:\n                puzzle(fname)\n\n         print \"\"        \n            while True :       \n                try :\n                    fname2 = input(\"Enter a filename between quotation marks : \")\n\n                    with open(fname2) as f:          \n                        for line in f :               \n                           line = word                     \n                           break\n\n        print \"\"\n\n        # Giving the words from the file to the horizontal word search function\n\n        horizontal_search(word,gridlines)\n\n        break        \n        except IOError as e :\n            print\"\"\n            print(\"Problem opening file...\")\n</code></pre>\n"}, {"tags": ["python", "django", "admin", "changelist"], "comments": [{"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 1, "creation_date": 1440010854, "post_id": 32103513, "comment_id": 52101527, "body": "Usually when that happens to me it&#39;s because I&#39;ve forgotten to add the new permissions to the appropriate user or group."}, {"owner": {"reputation": 1346, "user_id": 1094781, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5784a3046fa4addcb68d9ce4330ba063?s=128&d=identicon&r=PG", "display_name": "meesterguyperson", "link": "https://stackoverflow.com/users/1094781/meesterguyperson"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1440011026, "post_id": 32103513, "comment_id": 52101642, "body": "I considered that, but I&#39;m a superuser and should be seeing everything.  And I do see everything else.  It&#39;s just this one thing."}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1440013666, "post_id": 32103513, "comment_id": 52103239, "body": "Odd. Does the admin show up at all?"}, {"owner": {"reputation": 1346, "user_id": 1094781, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5784a3046fa4addcb68d9ce4330ba063?s=128&d=identicon&r=PG", "display_name": "meesterguyperson", "link": "https://stackoverflow.com/users/1094781/meesterguyperson"}, "reply_to_user": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1440013967, "post_id": 32103513, "comment_id": 52103438, "body": "Yup.  Can link to <code>&#47;admin&#47;proposal&#47;</code>, but that&#39;s it.  Initially I thought I had screwed up my environment somehow, but had some coworkers pull the branch down, and they&#39;re getting the same thing.  We are on Django 1.6.11 presently, BTW."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1440077486, "post_id": 32103513, "comment_id": 52131689, "body": "After reading your update, it still sounds like a permissions issue. The keys <code>model[&#39;add_url&#39;]</code> and<code>model[&#39;admin_url&#39;]</code> are set in the <code>AdminSite._build_app_dict</code>method of the user has the required permissions. I suggest stepping through that code to see why the keys are not added."}, {"owner": {"reputation": 1346, "user_id": 1094781, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5784a3046fa4addcb68d9ce4330ba063?s=128&d=identicon&r=PG", "display_name": "meesterguyperson", "link": "https://stackoverflow.com/users/1094781/meesterguyperson"}, "edited": false, "score": 0, "creation_date": 1440080814, "post_id": 32103513, "comment_id": 52134181, "body": "The permissions are fine.  I&#39;m getting into the admin code, and the issue is that it&#39;s not finding a reverse match for the add and change urls.  That throws an exception and these items never end up in the dictionary.  The admin is registered and is appearing.  Unsure why these urls aren&#39;t being generated with the autodiscover.  Continuing to dig."}, {"owner": {"reputation": 32227, "user_id": 2337736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77aacbcecad375ad6d8c45cfe43afbc5?s=128&d=identicon&r=PG", "display_name": "Peter DeGlopper", "link": "https://stackoverflow.com/users/2337736/peter-deglopper"}, "edited": false, "score": 0, "creation_date": 1440111030, "post_id": 32103513, "comment_id": 52150458, "body": "Since you&#39;ve found the issue, you might want to post what you found as an answer. It&#39;s totally normal to answer your own question if you found the answer and no one else did: <a href=\"http://meta.stackexchange.com/questions/17845/etiquette-for-answering-your-own-question\" title=\"etiquette for answering your own question\">meta.stackexchange.com/questions/17845/&hellip;</a> - though if you did this I at least would be interested in a link to the offending app (assuming it&#39;s third party and not proprietary) or the offending code snippet if you found the place where it modifies the admin in that manner."}], "owner": {"reputation": 1346, "user_id": 1094781, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5784a3046fa4addcb68d9ce4330ba063?s=128&d=identicon&r=PG", "display_name": "meesterguyperson", "link": "https://stackoverflow.com/users/1094781/meesterguyperson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 647, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1440083600, "creation_date": 1440010624, "last_edit_date": 1440083600, "question_id": 32103513, "link": "https://stackoverflow.com/questions/32103513/in-the-django-admin-add-and-change-options-are-not-appearing-for-a-brand-ne", "title": "In the Django admin, &quot;Add&quot; and &quot;Change&quot; options are not appearing for a brand new simple model admin. Why?", "body": "<p>This is probably something simple, but I'm just not seeing it.  So I started a new app called proposals.  The following I entered into the app's <code>models.py</code>:</p>\n\n<pre><code>from django.db import models\n\nclass Proposal(models.Model):\n    name = models.CharField(max_length=200)\n</code></pre>\n\n<p>I then entered the following into <code>admin.py</code>:</p>\n\n<pre><code>from django.contrib import admin\nfrom proposal.models import Proposal\n\nclass ProposalAdmin(admin.ModelAdmin):\n    pass\nadmin.site.register(Proposal, ProposalAdmin)\n</code></pre>\n\n<p>This seems incredibly straightforward, right out of the Django docs, but the \"Add\" and \"Change\" options for this admin are not appearing.  They do appear for everything else, but not this particular admin.  Any ideas on what might be causing this?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm continuing to check into this, and it's not a permission issue.  The permissions are all set to true for add / change / delete.  The template that generates the admin page requires a <code>model.add_url</code> for an \"Add\" link and <code>model.admin_url</code> for a \"Change\" link.  These attributes are missing for some reason.  Thus no links.  Why they are missing is the big question.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I finally discovered what was going on here.  An app which didn't need the add / change links was listed in the installed apps prior to this new one.  Whatever it's author did to cause these links not to appear ended up being inherited by all other apps that followed it in this list.  When I moved this new app above this one, the links appeared.  I didn't even know that it was possible for apps to affect each other like this, but that is something to look for in the future.</p>\n"}, {"tags": ["python", "django", "many-to-many"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440011117, "post_id": 32103488, "comment_id": 52101689, "body": "I can&#39;t really see what you&#39;re trying to do here. <code>users_tweets</code> is a queryset, it doesn&#39;t itself have a <code>retweet</code> property, only the individual Tweet object in that queryset do."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440011306, "post_id": 32103488, "comment_id": 52101788, "body": "so then how would I add a relationship I thought that was the way you were supposed to?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1440011830, "post_id": 32103488, "comment_id": 52102078, "body": "Well, no. You add a relationship to an instance."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440012560, "post_id": 32103488, "comment_id": 52102549, "body": "Alright, I will give it a try."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440095149, "post_id": 32103488, "comment_id": 52142821, "body": "@DanielRoseman what do you mean by adding to an instance I am still having trouble."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440095646, "post_id": 32103488, "comment_id": 52143131, "body": "@DanielRoseman just edited my question btw aswell"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1440096601, "post_id": 32103488, "comment_id": 52143646, "body": "@DanielRoseman I figured it out ty for what you do for django on stackoverflow btw."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "is_accepted": true, "score": 0, "last_activity_date": 1440096566, "creation_date": 1440096566, "answer_id": 32126073, "question_id": 32103488, "link": "https://stackoverflow.com/questions/32103488/adding-a-relationship-to-a-manytomayfield/32126073#32126073", "title": "Adding a relationship to a manytomayfield?", "body": "<p>Turns out the issue was in my views and I was going about it the wrong way so here's the answer for anyone who needs help with this in the future, and just completely disregard user_id in the above question that is not needed, without the user_id the URL, and template they both are then fine, and in turn correct.</p>\n\n<p>views.py</p>\n\n<pre><code> def retweet(request, tweet_id):\n   logged_user = request.user.userprofile\n   get_tweet = get_object_or_404(Tweet, pk=tweet_id)\n   add_retweet = get_tweet.retweet.add(logged_user)\n   return HttpResponse('Retweeted')\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 32126073, "answer_count": 1, "score": 0, "last_activity_date": 1440096566, "creation_date": 1440010556, "last_edit_date": 1440095590, "question_id": 32103488, "link": "https://stackoverflow.com/questions/32103488/adding-a-relationship-to-a-manytomayfield", "title": "Adding a relationship to a manytomayfield?", "body": "<p>views.py - I am trying to retweet(add a many to many relationship) to my users tweets but I keep getting the below error. It works fine when I add a relationship in the admin. It shows up on my template just fine but when I try to do this operation in my view it just does not seem to work, I have not done a lot of work with Django so I need some serious help I've checked the docs and other questions but can not seem to find anything relevant.</p>\n\n<p>--> 'RelatedManager' object has no attribute 'retweet'</p>\n\n<pre><code>  def retweet(request,user_id, tweet_id):\n    logged_user = request.user.userprofile.tweet_set\n    user_want_to_retweet = get_object_or_404(User, pk=user_id)\n    user_profile_want_to_retweet = get_object_or_404(UserProfile, user=user_want_to_retweet)\n    get_tweet = Tweet.objects.filter(userprofile=user_profile_want_to_retweet, id=tweet_id)\n    add_retweet = logged_user.retweet.add(get_tweet)\n    return HttpResponse('Retweeted')\n</code></pre>\n\n<p>models.py</p>\n\n<pre><code> class Tweet(models.Model):\n   userprofile = models.ForeignKey(UserProfile)\n   tweets = models.TextField(max_length=120)\n   retweet = models.ManyToManyField(UserProfile,   related_name='people_retweet', symmetrical=False, blank=True)\n   date = models.DateTimeField()\n</code></pre>\n\n<p>urls.py</p>\n\n<pre><code>  url(r'^retweet/(?P&lt;user_id&gt;[\\d]+)/(?P&lt;tweet_id&gt;[\\d]+)/$', views.retweet, name='retweet')\n</code></pre>\n\n<p>My Template - combined_tweets is just a combined list and is what I am using to get all the entries(tweets), from three separate queries. I am geting the logged in users tweets, the tweets from the people that the logged in user follows and the tweets that the logged in user retweeted. But I do not believe this is where the problem is.</p>\n\n<pre><code>     {% for combined_tweeters in combined_tweets %}\n             &lt;ul&gt;&lt;strong&gt;{{ combined_tweeters.userprofile.user }} | {{ combined_tweeters }} | {{ combined_tweeters.date }} |\n             {% if combined_tweeters.userprofile.user == request.user %} &lt;a href=\"{% url 'delete_tweet' user_id=combined_tweeters.userprofile.user.id tweet_id=combined_tweeters.id %}\"&gt;Delete &lt;/a&gt;\n             {%else%} &lt;a href='{% url \"retweet\" user_id=combined_tweeters.userprofile.user.id tweet_id=combined_tweeters.id %}'&gt;Retweet&lt;/a&gt; {% endif %}&lt;/strong&gt;&lt;/ul&gt;\n     {% endfor %}\n</code></pre>\n"}]