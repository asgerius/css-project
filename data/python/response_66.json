[{"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 10834, "user_id": 3156085, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b749799809f0e3d93d851d639afdbab9?s=128&d=identicon&r=PG&f=1", "display_name": "vmonteco", "link": "https://stackoverflow.com/users/3156085/vmonteco"}, "edited": false, "score": 1, "creation_date": 1460591606, "post_id": 36611503, "comment_id": 60819879, "body": "Could you post the error message please?"}, {"owner": {"reputation": 27, "user_id": 5544136, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e24303b8d869235944956c4e6eb8c855?s=128&d=identicon&r=PG&f=1", "display_name": "T.Cho", "link": "https://stackoverflow.com/users/5544136/t-cho"}, "reply_to_user": {"reputation": 10834, "user_id": 3156085, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b749799809f0e3d93d851d639afdbab9?s=128&d=identicon&r=PG&f=1", "display_name": "vmonteco", "link": "https://stackoverflow.com/users/3156085/vmonteco"}, "edited": false, "score": 0, "creation_date": 1460591699, "post_id": 36611503, "comment_id": 60819905, "body": "TypeError: unsupported operand type(s) for +: &#39;int&#39; and &#39;str&#39;"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 3, "creation_date": 1460591744, "post_id": 36611503, "comment_id": 60819924, "body": "<code>myDict[word] + &quot; &quot;</code> the value of the dict is an <code>int</code> so you need to convert it to a <code>str</code> before adding it: <code>str(myDict[word]) + &quot; &quot;</code>"}, {"owner": {"reputation": 2768, "user_id": 4054527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vKNcu.jpg?s=128&g=1", "display_name": "Hafiz Temuri", "link": "https://stackoverflow.com/users/4054527/hafiz-temuri"}, "edited": false, "score": 0, "creation_date": 1460591844, "post_id": 36611503, "comment_id": 60819952, "body": "there is a indentation problem that I can see, try to indent both lines after <code>if word not in myDict:</code> and see if that fixes the problem."}, {"owner": {"reputation": 27, "user_id": 5544136, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e24303b8d869235944956c4e6eb8c855?s=128&d=identicon&r=PG&f=1", "display_name": "T.Cho", "link": "https://stackoverflow.com/users/5544136/t-cho"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1460591971, "post_id": 36611503, "comment_id": 60819985, "body": "@TadhgMcDonald-Jensen I&#39;ve tried that and it comes up with this ValueError: I/O operation on closed file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4754843"}, "edited": false, "score": 0, "creation_date": 1460592078, "post_id": 36611503, "comment_id": 60820009, "body": "Try to use lowercase and underscores in your variables, it will look nicer."}, {"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 2, "creation_date": 1460592094, "post_id": 36611503, "comment_id": 60820013, "body": "That&#39;s because you are closing the file after each line-write, but you only open it the first time."}, {"owner": {"reputation": 27, "user_id": 5544136, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e24303b8d869235944956c4e6eb8c855?s=128&d=identicon&r=PG&f=1", "display_name": "T.Cho", "link": "https://stackoverflow.com/users/5544136/t-cho"}, "reply_to_user": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 0, "creation_date": 1460592310, "post_id": 36611503, "comment_id": 60820072, "body": "@TomDalton How do I solve this? I am quite new to coding so I am not the best at it."}, {"owner": {"reputation": 2123, "user_id": 4732620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9MNs.jpg?s=128&g=1", "display_name": "TheLazyScripter", "link": "https://stackoverflow.com/users/4732620/thelazyscripter"}, "edited": false, "score": 2, "creation_date": 1460592492, "post_id": 36611503, "comment_id": 60820124, "body": "Close the file after the loop. not during! or save the data of the file to a list using .readlines() and then loop through that!"}], "answers": [{"tags": [], "owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1460593567, "creation_date": 1460593567, "answer_id": 36611776, "question_id": 36611503, "link": "https://stackoverflow.com/questions/36611503/cannot-fix-mixed-operand-in-python/36611776#36611776", "title": "Cannot fix mixed operand in python", "body": "<p>Cast the <code>myDict[word]</code> to a <code>str</code> so you can perform the concatenation, as well as move the <code>file.close</code> outside the loop as mentioned by others. Thus, only changing the last loop like this should fix the errors you're getting:  </p>\n\n<pre><code>for word in sentence:\n    file.write((str(myDict[word]) + \" \"))\nfile.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1460593648, "creation_date": 1460593648, "answer_id": 36611789, "question_id": 36611503, "link": "https://stackoverflow.com/questions/36611503/cannot-fix-mixed-operand-in-python/36611789#36611789", "title": "Cannot fix mixed operand in python", "body": "<p>Python does not allow adding integers to strings:</p>\n\n<pre><code>&gt;&gt;&gt; 1 + \"a\"\nTraceback (most recent call last):\n  File \"&lt;pyshell#7&gt;\", line 1, in &lt;module&gt;\n    1 + \"a\"\nTypeError: unsupported operand type(s) for +: 'int' and 'str'\n</code></pre>\n\n<p>To put the number into the string you can either explicitly convert it:</p>\n\n<pre><code>&gt;&gt;&gt; str(1) + \"a\"\n'1a'\n</code></pre>\n\n<p>Or format it in with either the <code>%</code> notation or <code>{}</code> notation:</p>\n\n<pre><code>&gt;&gt;&gt; \"the number %d is prime\"%874193\n'the number 874193 is prime'\n&gt;&gt;&gt; \"please give me {n} apples\".format(n=2)\n'please give me 2 apples'\n</code></pre>\n\n<p>You could also use <code>print</code> to handle the conversion for you:</p>\n\n<pre><code>print(myDict[word], file = file, end=\" \")\n</code></pre>\n\n<p>Next you need to make sure you close a file after writing <em>all</em> the data that needs to be written to it, in your case that would be <em>after</em> the for loop:</p>\n\n<pre><code>for word in sentence:\n    print(myDict[word], file = file, end=\" \")\nfile.close() #un-indent\n</code></pre>\n\n<p>Although you may want to use a <code>with</code> statement to ensure the file is properly handled:</p>\n\n<pre><code>with open(\"Positions.txt\",\"w\") as file:\n    for word in sentence:\n        print(myDict[word], file = file, end=\" \")\nassert file.closed #the file is closed at the end of with block\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2768, "user_id": 4054527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vKNcu.jpg?s=128&g=1", "display_name": "Hafiz Temuri", "link": "https://stackoverflow.com/users/4054527/hafiz-temuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1460597487, "last_edit_date": 1460597487, "creation_date": 1460596561, "answer_id": 36612200, "question_id": 36611503, "link": "https://stackoverflow.com/questions/36611503/cannot-fix-mixed-operand-in-python/36612200#36612200", "title": "Cannot fix mixed operand in python", "body": "<p>try this, read my comments for the changes I've made</p>\n\n<pre><code>print(\"The compression program has started\")\n\nmyDict={}\nrevDict={}\nsentList=[]\nposList=[]\nnum = 0\nsentence = open(\"pyCompress.txt\",\"r\").read().split()\n\nfor word in sentence:\n    if word not in myDict:\n        # needs to convert to str\n        # also indentation problem here\n        myDict[word] = str(num)\n        num += 1\n\nprint(sentence)\nprint(myDict)\n\nfor k, v in myDict.items():\n    revDict[v] = k\n\nfile = open(\"Positions.txt\",\"w\")\nfor word in sentence:\n    file.write((myDict[word]) + \" \")\n# indentation problem here\nfile.close()\n</code></pre>\n\n<p>In case you want to write both keys and values into the file, try this,</p>\n\n<p><code>file.write(word + \":\" + myDict[word] + \" \")</code></p>\n"}], "owner": {"reputation": 27, "user_id": 5544136, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e24303b8d869235944956c4e6eb8c855?s=128&d=identicon&r=PG&f=1", "display_name": "T.Cho", "link": "https://stackoverflow.com/users/5544136/t-cho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1460597487, "creation_date": 1460591525, "last_edit_date": 1460591845, "question_id": 36611503, "link": "https://stackoverflow.com/questions/36611503/cannot-fix-mixed-operand-in-python", "title": "Cannot fix mixed operand in python", "body": "<p>I am creating a program in which compresses text, which includes normal letters and punctuation and etc. However I have come across a mixed operand Type error of some sort and I do not know how to fix this. I have tried reading other posts about the topic but I cannot understand how it works and how to apply this to my code. </p>\n\n<pre><code>  print(\"The compression program has started\")\n\n  myDict={}\n  revDict={}\n  sentList=[]\n  posList=[]\n  num = 0\n  sentence = open(\"pyCompress.txt\",\"r\").read().split()\n\n\n for word in sentence:\n      if word not in myDict:\n      myDict[word] = num\n      num += 1\n\n print(sentence)\n print(myDict)\n\n for k, v in myDict.items():\n       revDict[v] = k\n\n file = open(\"Positions.txt\",\"w\")\n for word in sentence:\n            file.write((myDict[word]) + \" \")\n            file.close()\n</code></pre>\n\n<p>There is more code beyond these lines</p>\n\n<p>The error I get is: TypeError: unsupported operand type(s) for +: 'int' and 'str'</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1460591413, "post_id": 36611432, "comment_id": 60819805, "body": "Just <code>print(is_between)</code>? Are you familiar with calling functions?"}, {"owner": {"reputation": 211, "user_id": 6090268, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1bedbffc9bb7a366fa3479030f68db3b?s=128&d=identicon&r=PG&f=1", "display_name": "PencilCrate", "link": "https://stackoverflow.com/users/6090268/pencilcrate"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1460591479, "post_id": 36611432, "comment_id": 60819833, "body": "I passed it values at the end, closing off the function. Jack has shown that it works if you pass the values in the print statement itself."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460591499, "post_id": 36611432, "comment_id": 60819837, "body": "And did you try the <code>bool()</code> function anywhere? Also note that the second function doesn&#39;t return <code>True</code> or <code>False</code>; it&#39;s always <code>None</code>."}, {"owner": {"reputation": 512, "user_id": 5059201, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/hes4w.jpg?s=128&g=1", "display_name": "Sam McCreery", "link": "https://stackoverflow.com/users/5059201/sam-mccreery"}, "edited": false, "score": 0, "creation_date": 1460591500, "post_id": 36611432, "comment_id": 60819839, "body": "You say the first function returns a boolean value more efficiently than the first. The second function does not return a value at all."}, {"owner": {"reputation": 211, "user_id": 6090268, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1bedbffc9bb7a366fa3479030f68db3b?s=128&d=identicon&r=PG&f=1", "display_name": "PencilCrate", "link": "https://stackoverflow.com/users/6090268/pencilcrate"}, "edited": false, "score": 1, "creation_date": 1460591572, "post_id": 36611432, "comment_id": 60819866, "body": "Yeah I know that the second function does not return a boolean. If you read into the context of the question which was more or less made explicit, I&#39;m interested in using or printing the value returned."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460591632, "post_id": 36611432, "comment_id": 60819887, "body": "Is your question about how to convert to boolean values? Or how to print? Or how to make a function call? Or what gets returned and when? This question is very unclear."}], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 6090268, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1bedbffc9bb7a366fa3479030f68db3b?s=128&d=identicon&r=PG&f=1", "display_name": "PencilCrate", "link": "https://stackoverflow.com/users/6090268/pencilcrate"}, "edited": false, "score": 0, "creation_date": 1460591519, "post_id": 36611475, "comment_id": 60819847, "body": "I was providing arguments at the end of the functions, and trying to print immediately after that. You method of including arguments in the print statement works. I don&#39;t know why you&#39;re getting downvoted. I will mark as correct answer after the time limit elapses and I am allowed to."}], "tags": [], "owner": {"reputation": 2525, "user_id": 662761, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/953e5e36a8ba6caef18e98175a5b4a74?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/662761/jack"}, "is_accepted": true, "score": 0, "last_activity_date": 1460592174, "last_edit_date": 1460592174, "creation_date": 1460591349, "answer_id": 36611475, "question_id": 36611432, "link": "https://stackoverflow.com/questions/36611432/how-to-print-boolean-return-value/36611475#36611475", "title": "How to print boolean return value", "body": "<p>Try <code>print(is_between(1, 2, 3))</code>.</p>\n\n<p>You <em>can</em> <code>print(is_between)</code>, but you'll get something like <code>&lt;function is_between at 0x7fde2aebee18&gt;</code>. That's because you haven't <em>called</em> the function. You need to pass in arguments to the function to get a result.</p>\n\n<p>You can either print the result directly, as above, or use the result -- assign it to a variable (e.g. <code>returned_value = is_between(1,2,3)</code>), use it in a conditional (<code>if is_between(1,2,3):</code>...), etc.</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 5481407, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1l53XcXRAEA/AAAAAAAAAAI/AAAAAAAAA_8/jBOOALIwS98/photo.jpg?sz=128", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/5481407/jimmy"}, "is_accepted": false, "score": -1, "last_activity_date": 1460591710, "creation_date": 1460591710, "answer_id": 36611529, "question_id": 36611432, "link": "https://stackoverflow.com/questions/36611432/how-to-print-boolean-return-value/36611529#36611529", "title": "How to print boolean return value", "body": "<p>To use simply do :</p>\n\n<pre><code>if is_between(1, 2, 3):\n    # Do somthing\n</code></pre>\n\n<p>To print simply:</p>\n\n<pre><code>print(is_between(1, 2, 3))\n</code></pre>\n\n<p>Problem in your code is that you are trying to print function not its return value.</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 7449940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7b0f8739ae8d4e6b6df5fdf32a2c21?s=128&d=identicon&r=PG", "display_name": "Roshan", "link": "https://stackoverflow.com/users/7449940/roshan"}, "is_accepted": false, "score": 0, "last_activity_date": 1493988496, "creation_date": 1493988496, "answer_id": 43805408, "question_id": 36611432, "link": "https://stackoverflow.com/questions/36611432/how-to-print-boolean-return-value/43805408#43805408", "title": "How to print boolean return value", "body": "<p>Here is Best Solution to print the return value of a function</p>\n\n<p>def is_between(x, y ,z):\n    return x &lt;= y &lt;= z\nprint is_between(1,2,3)</p>\n\n<p>Here is a link : <a href=\"https://www.tutorialspoint.com/execute_python_online.php\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/execute_python_online.php</a></p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 8700614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yVDlB.png?s=128&g=1", "display_name": "Nkoro Joseph Ahamefula", "link": "https://stackoverflow.com/users/8700614/nkoro-joseph-ahamefula"}, "is_accepted": false, "score": 0, "last_activity_date": 1529660001, "creation_date": 1529660001, "answer_id": 50984971, "question_id": 36611432, "link": "https://stackoverflow.com/questions/36611432/how-to-print-boolean-return-value/50984971#50984971", "title": "How to print boolean return value", "body": "<p>An easy way to print a boolean returned from a function is to use a ',' instead of concatenating with '+' sign. \nExample:</p>\n\n<pre><code>    def bird_available(name_of_bird):\n       bird_types = 'crow robin parrot seagle sandpiper hawk pigeon'\n       Case = name_of_bird.lower() in bird_types\n    return Case\n\n    name_of_bird = input('enter a type of bird to search: ')   \n    birds = bird_available(name_of_bird)\n    print('the bird '+name_of_bird+'is ' ,birds)\n</code></pre>\n\n<p>you can also print the <code>bird_available(name_of_bird)</code> using the ',' instead of making it a variable.</p>\n"}], "owner": {"reputation": 211, "user_id": 6090268, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1bedbffc9bb7a366fa3479030f68db3b?s=128&d=identicon&r=PG&f=1", "display_name": "PencilCrate", "link": "https://stackoverflow.com/users/6090268/pencilcrate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8068, "favorite_count": 0, "accepted_answer_id": 36611475, "answer_count": 4, "score": 0, "last_activity_date": 1529660001, "creation_date": 1460591101, "last_edit_date": 1460591880, "question_id": 36611432, "link": "https://stackoverflow.com/questions/36611432/how-to-print-boolean-return-value", "title": "How to print boolean return value", "body": "<p>The following two functions produce similar results</p>\n\n<pre><code>def is_between(x, y ,z):\n    return x &lt;= y &lt;= z\nis_between(1, 2, 3)\n\ndef is_between(x, y, z):\n    if x &lt;= y &lt;= z:\n        print(True)\n        return True\n    else:\n        print(False)\n        return False\nis_between(1, 2, 3)\n</code></pre>\n\n<p>The first function returns a boolean value more efficiently than the second function. The second function, on the other hand, uses conditionals to describe how it would return true and when it would return false, providing us with the opportunity to print each of those possibilities, were they to happen.</p>\n\n<p>Is it possible to print or otherwise use the boolean value returned by the first function? I tried print(is_between) but that was incorrect.</p>\n\n<p><strong>Solution:</strong></p>\n\n<p><em>This works</em></p>\n\n<pre><code>def is_between(x, y ,z):\n    return x &lt;= y &lt;= z\nprint(is_between(1,2,3))\n</code></pre>\n\n<p><em>This does not</em></p>\n\n<pre><code>def is_between(x, y ,z):\n    return x &lt;= y &lt;= z\nis_between(1,2,3)\nprint(is_between)\n</code></pre>\n"}, {"tags": ["python", "filenames", "filepath"], "comments": [{"owner": {"reputation": 2123, "user_id": 4732620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9MNs.jpg?s=128&g=1", "display_name": "TheLazyScripter", "link": "https://stackoverflow.com/users/4732620/thelazyscripter"}, "edited": false, "score": 0, "creation_date": 1460591231, "post_id": 36611411, "comment_id": 60819754, "body": "Not entirely sure what problem your are having. Are you only trying to determine how to find past versions and correctly name the new one?"}, {"owner": {"reputation": 1, "user_id": 6201280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea31c118fa9914f80429f8b1fe4ff4?s=128&d=identicon&r=PG&f=1", "display_name": "shagler", "link": "https://stackoverflow.com/users/6201280/shagler"}, "reply_to_user": {"reputation": 2123, "user_id": 4732620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9MNs.jpg?s=128&g=1", "display_name": "TheLazyScripter", "link": "https://stackoverflow.com/users/4732620/thelazyscripter"}, "edited": false, "score": 0, "creation_date": 1460591590, "post_id": 36611411, "comment_id": 60819872, "body": "basically, yes. I need to go through the wip folder to find the highest version number. I then need to add 1 to that version version number to get a string which I am storing in the variable nextVersion. I&#39;m then tacking that on to the final naming convention. Basically, if my wip directory has ex_v001.doc ex_v002.doc ex_v003.doc in it, I want my next save to be named: ex_v004.doc"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1460591711, "post_id": 36611411, "comment_id": 60819908, "body": "You only need to compile your regex once, outside the loop. Your question <i>does</i> makes sense btw. but it&#39;s not clear what your problem is. What&#39;s your current output? How isn&#39;t it working at the moment?"}, {"owner": {"reputation": 1, "user_id": 6201280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea31c118fa9914f80429f8b1fe4ff4?s=128&d=identicon&r=PG&f=1", "display_name": "shagler", "link": "https://stackoverflow.com/users/6201280/shagler"}, "edited": false, "score": 0, "creation_date": 1460591977, "post_id": 36611411, "comment_id": 60819987, "body": "I&#39;ve been testing it by trying print name to make sure that I&#39;m actually getting the proper naming convention, but pycharm doesn&#39;t print anything"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6201280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea31c118fa9914f80429f8b1fe4ff4?s=128&d=identicon&r=PG&f=1", "display_name": "shagler", "link": "https://stackoverflow.com/users/6201280/shagler"}, "edited": false, "score": 0, "creation_date": 1460593921, "post_id": 36611587, "comment_id": 60820470, "body": "Thank you for your response! I&#39;ll try this solution as soon as I can. I&#39;ll let you know how it goes!"}, {"owner": {"reputation": 2123, "user_id": 4732620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9MNs.jpg?s=128&g=1", "display_name": "TheLazyScripter", "link": "https://stackoverflow.com/users/4732620/thelazyscripter"}, "reply_to_user": {"reputation": 1, "user_id": 6201280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea31c118fa9914f80429f8b1fe4ff4?s=128&d=identicon&r=PG&f=1", "display_name": "shagler", "link": "https://stackoverflow.com/users/6201280/shagler"}, "edited": false, "score": 0, "creation_date": 1460595269, "post_id": 36611587, "comment_id": 60820818, "body": "Glad I could help!"}], "tags": [], "owner": {"reputation": 2123, "user_id": 4732620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9MNs.jpg?s=128&g=1", "display_name": "TheLazyScripter", "link": "https://stackoverflow.com/users/4732620/thelazyscripter"}, "is_accepted": false, "score": 0, "last_activity_date": 1460592217, "creation_date": 1460592217, "answer_id": 36611587, "question_id": 36611411, "link": "https://stackoverflow.com/questions/36611411/how-can-i-change-a-part-of-a-filename-with-python/36611587#36611587", "title": "How can I change a part of a filename with python", "body": "<p>You do not need to use re at all, programming is about simplification and you are over complicating it! I chose to return but anything in this function can be changed to whatever you need it to specifically do! Just read the comments and good luck!</p>\n\n<pre><code>def getVersioning(path):\n    #passing path\n\n    count = 1 #init count\n    versionStr = 'wip_path_v'\n    try: #in case path dosen't exist\n        for i in os.listdir(path): #loop thorough files in passed dir\n            if versionStr in i: #check if files contain default versioning string e.g. wip_path_V or any other (used in case other files are in the same dir)\n                count += 1 #incriment count\n    except:\n        os.mkdir(path) #makedir if one does not exist for future use\n\n    newName = versionStr + str(count) #new versioning file name\n    return newName #return new versioning name\n\nprint getVersioning('tstFold')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6201280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ea31c118fa9914f80429f8b1fe4ff4?s=128&d=identicon&r=PG&f=1", "display_name": "shagler", "link": "https://stackoverflow.com/users/6201280/shagler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460592217, "creation_date": 1460590984, "question_id": 36611411, "link": "https://stackoverflow.com/questions/36611411/how-can-i-change-a-part-of-a-filename-with-python", "title": "How can I change a part of a filename with python", "body": "<p>I am brand new to python (and coding in general) and I've been unable to find a solution to my specific problem online. I am currently creating a tool which will allow a user to save a file to a network location. The file will have a version number. What I would like to is to have the script auto version up before it saves. I have the rest of the script done, but it is the auto versioning that I am having issues with. Here's what I have so far:</p>\n\n<pre><code>import re\nimport os\n\ndef main():\n    wip_folder = \"L:/xxx/xxx/xxx/scenes/wip/\"  \n    _file_list = os.listdir('%s' % wip_folder)\n\n    if os.path.exists('%s' wip_path):\n        for file in _file_list:\n            versionPattern = re.compile('_v\\d{3}')\n            curVersions = versionPattern.findall('%s' % wip_folder)\n            curVersions.sort()\n            nextVersion = '_v%03d' % (int(curVersions[-1][2:]) + 1)\n        return nextVersion\n    else:\n        nextVersion = '_v001'\n\n    name = xxx_xxx_xx\n    name += '%s' nextVersion\n    name += '_xxx_wip\n</code></pre>\n\n<p>I should probably point out that main() is going to be called by a QPushbutton in another module. Also, that wip_path will most likely have several versions of a single file in it. So if there are 10 versions of this file in wip_path, this save should be v011. I apologize if this question makes no sense. Any help would be appreciated. Thank you!</p>\n"}, {"tags": ["python", "mocking"], "comments": [{"owner": {"reputation": 1123, "user_id": 6867099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y3i9z.jpg?s=128&g=1", "display_name": "Peter Thomassen", "link": "https://stackoverflow.com/users/6867099/peter-thomassen"}, "edited": false, "score": 0, "creation_date": 1573651912, "post_id": 36611393, "comment_id": 103950793, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/913549/how-to-unit-test-with-different-settings-in-django\">How to Unit test with different settings in Django?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 1673590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5d6342d5a7c82aa40b142999e70dca?s=128&d=identicon&r=PG", "display_name": "KePe", "link": "https://stackoverflow.com/users/1673590/kepe"}, "is_accepted": true, "score": 23, "last_activity_date": 1490005389, "creation_date": 1490005389, "answer_id": 42901104, "question_id": 36611393, "link": "https://stackoverflow.com/questions/36611393/how-to-mock-django-settings-attribute-used-in-another-module/42901104#42901104", "title": "How to mock django settings attribute used in another module?", "body": "<p>Try to use context manager settings() built-in django.</p>\n\n<pre><code>with self.settings(BASE_URL='http://localhost'):\n    # perform your test\n</code></pre>\n\n<p><a href=\"https://docs.djangoproject.com/en/dev/topics/testing/tools/#django.test.SimpleTestCase.settings\" rel=\"noreferrer\">https://docs.djangoproject.com/en/dev/topics/testing/tools/#django.test.SimpleTestCase.settings</a></p>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 4330966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OlZb3.jpg?s=128&g=1", "display_name": "Farhan Haider", "link": "https://stackoverflow.com/users/4330966/farhan-haider"}, "edited": false, "score": 0, "creation_date": 1592828344, "post_id": 62514208, "comment_id": 110555205, "body": "Django docs <a href=\"https://docs.djangoproject.com/en/3.0/topics/testing/tools/#django.test.override_settings\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/3.0/topics/testing/tools/&hellip;</a>"}], "tags": [], "owner": {"reputation": 403, "user_id": 4330966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OlZb3.jpg?s=128&g=1", "display_name": "Farhan Haider", "link": "https://stackoverflow.com/users/4330966/farhan-haider"}, "is_accepted": false, "score": 5, "last_activity_date": 1592828066, "creation_date": 1592828066, "answer_id": 62514208, "question_id": 36611393, "link": "https://stackoverflow.com/questions/36611393/how-to-mock-django-settings-attribute-used-in-another-module/62514208#62514208", "title": "How to mock django settings attribute used in another module?", "body": "<p>You can also use the following decorator on your individual test functions or test class as a whole.</p>\n<pre><code>@override_settings(BASE_URL='http://localhost')\n</code></pre>\n"}], "owner": {"reputation": 19827, "user_id": 342553, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zjZ6d.jpg?s=128&g=1", "display_name": "James Lin", "link": "https://stackoverflow.com/users/342553/james-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6555, "favorite_count": 2, "accepted_answer_id": 42901104, "answer_count": 2, "score": 16, "last_activity_date": 1592828066, "creation_date": 1460590880, "last_edit_date": 1549423875, "question_id": 36611393, "link": "https://stackoverflow.com/questions/36611393/how-to-mock-django-settings-attribute-used-in-another-module", "title": "How to mock django settings attribute used in another module?", "body": "<p>Lets say module <code>a</code> code:</p>\n\n<pre><code>from django.conf import settings\nprint settings.BASE_URL # prints http://example.com\n</code></pre>\n\n<p>In <code>tests.py</code> I want to mock the <code>BASE_URL</code> to <code>http://localhost</code></p>\n\n<p>I have tried the following:</p>\n\n<pre><code>with mock.patch('django.conf.settings.BASE_URL', 'http://localhost'):\n    pass\n\nwith mock.patch('a.settings.BASE_URL', 'http://localhost'):\n    pass\n\nfrom a import settings\n\nwith mock.patch.object(settings, 'BASE_URL', 'http://localhost'):\n    pass\n\nimport a\n\nwith mock.patch.object(a.settings, 'BASE_URL', 'http://localhost'):\n    pass\n</code></pre>\n\n<p>None of the above worked.</p>\n"}, {"tags": ["python", "google-app-engine", "data-modeling", "google-cloud-datastore"], "answers": [{"tags": [], "owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "is_accepted": true, "score": 0, "last_activity_date": 1460643236, "creation_date": 1460643236, "answer_id": 36625825, "question_id": 36611390, "link": "https://stackoverflow.com/questions/36611390/structured-property-or-any-better-way/36625825#36625825", "title": "Structured Property or any better way?", "body": "<p>A repeated property is basically a list so you can add a comment like this:</p>\n\n<pre><code>post.comentarios.append(dbComentarios(usuario=usuario, asunto=asunto,\n                        comentario=comentario)\n</code></pre>\n"}], "owner": {"reputation": 201, "user_id": 6045468, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh6.googleusercontent.com/-H7LV0SJMYCE/AAAAAAAAAAI/AAAAAAAABso/5TNLInaxe6U/photo.jpg?sz=128", "display_name": "Ordani Sanchez", "link": "https://stackoverflow.com/users/6045468/ordani-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 36625825, "answer_count": 1, "score": 0, "last_activity_date": 1474754146, "creation_date": 1460590872, "last_edit_date": 1474754146, "question_id": 36611390, "link": "https://stackoverflow.com/questions/36611390/structured-property-or-any-better-way", "title": "Structured Property or any better way?", "body": "<p>I'm building a blog for a project and I'm saving all post in a entity kind like this:</p>\n\n<pre><code>class dbEntradas(ndb.Model):\n    title= ndb.StringProperty(required=True)\n    post= ndb.TextProperty(required=True)\n    topic= ndb.StringProperty(required=True)\n    user= ndb.StringProperty(required=True)\n\n    comentarios= ndb.StructuredProperty(dbComentarios, repeated=True)\n    #some others properties\n</code></pre>\n\n<p>Now all my posts must have comments, what I tried to did was to save the comments in a StructuredProperty repeated in this way:</p>\n\n<pre><code>post.comentarios=[dbComentarios(usuario=usuario, asunto=asunto,\n                        comentario=comentario)]\n</code></pre>\n\n<p>This way only works if you have already created a instance of this property, but this just replace the old comment with the new one. What I want to do is to save all comments and these comments to be related with its post in the best possible way. Any suggestions?</p>\n"}, {"tags": ["python", "list", "comparison"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460590529, "post_id": 36611325, "comment_id": 60819536, "body": "Have you tried printing <code>num</code> and <code>getlar()</code> instead of comparing them and then conditionally printing something? I suspect those values aren&#39;t what you expected them to be."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460591245, "post_id": 36611325, "comment_id": 60819756, "body": "And is this code just a frequency counter? You might look into the <code>collections.Counter</code> class and the <code>max()</code> function."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1460591425, "post_id": 36611325, "comment_id": 60819814, "body": "Why aren&#39;t you using a Python dictionary for the dictionary, instead of an array of arrays?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1460591659, "post_id": 36611325, "comment_id": 60819891, "body": "Where do you initialize <code>array</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1460591839, "post_id": 36611325, "comment_id": 60819949, "body": "If you initialize it outside <code>mkdict</code>, then every time you call <code>mkdict</code> it adds to the counts, they don&#39;t start from <code>0</code>. And you&#39;re calling <code>mkdict()</code> every time you call <code>getlar()</code>, so it keeps increasing the counts."}, {"owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1460592258, "post_id": 36611325, "comment_id": 60820058, "body": "I guess @Barmar has pointed out the root cause - array should have been initialized in mkdict."}, {"owner": {"reputation": 33, "user_id": 4956432, "user_type": "registered", "profile_image": "https://graph.facebook.com/1342749813/picture?type=large", "display_name": "Ashley Dominique", "link": "https://stackoverflow.com/users/4956432/ashley-dominique"}, "edited": false, "score": 0, "creation_date": 1460594535, "post_id": 36611325, "comment_id": 60820605, "body": "Thanks for the help, everyone. I do have two other solutions one using the counter module and the other using Python a dictionary but I also want to try with using an &quot;array&quot;.  I&#39;ll take a look at using max()."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4956432, "user_type": "registered", "profile_image": "https://graph.facebook.com/1342749813/picture?type=large", "display_name": "Ashley Dominique", "link": "https://stackoverflow.com/users/4956432/ashley-dominique"}, "edited": false, "score": 0, "creation_date": 1460594335, "post_id": 36611586, "comment_id": 60820555, "body": "Thanks Barmar. I forgot to include my array variable in this post. My variable array = [[], []] was defined global and not locally."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 33, "user_id": 4956432, "user_type": "registered", "profile_image": "https://graph.facebook.com/1342749813/picture?type=large", "display_name": "Ashley Dominique", "link": "https://stackoverflow.com/users/4956432/ashley-dominique"}, "edited": false, "score": 0, "creation_date": 1460594410, "post_id": 36611586, "comment_id": 60820571, "body": "Get out of the habit of using global variables. Use local variables, function parameters, and return values."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1460592209, "creation_date": 1460592209, "answer_id": 36611586, "question_id": 36611325, "link": "https://stackoverflow.com/questions/36611325/why-are-the-equal-values-of-this-program-not-printing/36611586#36611586", "title": "Why are the equal values of this program not printing?", "body": "<p>The problem is that you don't initialize <code>array</code> in <code>mkdict()</code>, so every time you call it you add to the counts in the global <code>array</code> variable (which you haven't shown, but it obviously has to exist or you'd get an error). You should use a local variable.</p>\n\n<pre><code>def mkdict():\n    \"\"\" This function is creating a dictionary of letters and their frequency.\"\"\"\n    array = []\n    for string in strings:\n        for letter in string:\n            if letter in array[0]:\n                pos = array[0].index(letter)\n                array[1][pos] = array[1][pos] + 1\n            else:\n                array[0].append(letter)\n                array[1].append(1)\n     return array\n</code></pre>\n\n<p>Also, you shouldn't call <code>mkdict()</code> every time you call <code>lar()</code>. The counts aren't going to change, so you should just call it once, save the result in a variable, and pass that to <code>getlar()</code>.</p>\n\n<pre><code>def getlar(list):\n    large = list[1][0]\n    for item in list[1]:\n        if item &gt; large:\n            large = item\n    return large\n\ncounts = mkdict()\nfor num in counts[1]:\n    if num == getlar(counts):\n        print num\n</code></pre>\n\n<p>Actually, calling <code>getlar()</code> repeatedly is also unnecessary, since the largest isn't going to change.</p>\n\n<pre><code>counts = mkdict()\nlargest = getlar(counts)\nfor num in counts[1]:\n    if num = largest:\n        print num\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4956432, "user_type": "registered", "profile_image": "https://graph.facebook.com/1342749813/picture?type=large", "display_name": "Ashley Dominique", "link": "https://stackoverflow.com/users/4956432/ashley-dominique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 36611586, "answer_count": 1, "score": 1, "last_activity_date": 1460592209, "creation_date": 1460590317, "question_id": 36611325, "link": "https://stackoverflow.com/questions/36611325/why-are-the-equal-values-of-this-program-not-printing", "title": "Why are the equal values of this program not printing?", "body": "<p>I'm creating two functions, one that will return a list of lists: the first element in the list contains a list of letters that appear in a collection of strings and the second element contains a list of their counts. The second is iterating through the list of list returned from the first function, finding the largest count and returning it as the variable large. I'm trying to compare the letter counts returned from the first function with the largest number returned from the second function to print the equal values. For some reason, the equal values are not printing and i'm not sure why? Could someone point me in the right direction?</p>\n\n<pre><code>def mkdict():\n    \"\"\" This function is creating a dictionary of letters and their frequency.\"\"\"\n\n    for string in strings:\n        for letter in string:\n            if letter in array[0]:\n                pos = array[0].index(letter)\n                array[1][pos] = array[1][pos] + 1\n            else:\n                array[0].append(letter)\n                array[1].append(1)\n     return array\n  # Printing this function returns: [['a', 'b', 'c', 'd', 'e', 'f', 'g', 'i', 'h', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'z'], [5, 1, 2, 4, 1, 6, 3, 6, 1, 1, 1, 2, 4, 2, 3, 3, 3, 6]]\n\ndef getlar():\n    list = mkdict()\n    large = list[1][0]\n    for item in list[1]:\n        if item &gt; large:\n            large = item\n    return large\n    # Printing this function returns: 6.\n\nfor num in mkdict()[1]:\n    if num == getlar():\n        print num\n# This loop should print : 6 three times but it isn't.\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "parallel-processing", "python-multiprocessing", "dask"], "comments": [{"owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "edited": false, "score": 0, "creation_date": 1460591824, "post_id": 36611321, "comment_id": 60819946, "body": "Why the call to repartition?"}, {"owner": {"reputation": 47098, "user_id": 1281485, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/G4LdD.jpg?s=128&g=1", "display_name": "Alfe", "link": "https://stackoverflow.com/users/1281485/alfe"}, "edited": false, "score": 0, "creation_date": 1460592415, "post_id": 36611321, "comment_id": 60820100, "body": "Please enlighten me \u2026 which part of the posted source is supposed to generate output?  You are not just simply missing a <code>print output</code> after the last line?"}, {"owner": {"reputation": 79, "user_id": 6201327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581ab4cbebc646435a68f04a7aa9f995?s=128&d=identicon&r=PG&f=1", "display_name": "Adam P.", "link": "https://stackoverflow.com/users/6201327/adam-p"}, "edited": false, "score": 0, "creation_date": 1460599520, "post_id": 36611321, "comment_id": 60822023, "body": "PARTITION: the default partition method is 100. i just wanted to utilize 3 threads so I assumed that was how you could align threads with partitions.  Does it make sense to create more partitions that threads?  Perhaps a hack at load balancing?  PRINT: nope i tried to print but the program never completes once calling the .compute() method."}], "answers": [{"tags": [], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "is_accepted": false, "score": 0, "last_activity_date": 1460649139, "creation_date": 1460649139, "answer_id": 36628102, "question_id": 36611321, "link": "https://stackoverflow.com/questions/36611321/python-dask-program-failing-to-produce-output-even-though-it-seems-to-compute/36628102#36628102", "title": "Python dask program failing to produce output even though it seems to compute", "body": "<p>Two suggestions:</p>\n\n<ol>\n<li><p>Drop the call to <code>repartition</code>.  This will instantiate the data and then try to move it between processes, which is generally expensive.  You should trust the defaults provided by the system.  It will only use as many processes as you have cores.</p></li>\n<li><p>Call <code>.compute()</code> only at the very end of your computation.  You probably want to swap the following two lines:</p>\n\n<pre><code>output = f.map(reg).compute().concat()  # before\noutput = f.map(reg).concat().compute()  # after\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 79, "user_id": 6201327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/581ab4cbebc646435a68f04a7aa9f995?s=128&d=identicon&r=PG&f=1", "display_name": "Adam P.", "link": "https://stackoverflow.com/users/6201327/adam-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460649139, "creation_date": 1460590286, "last_edit_date": 1495541260, "question_id": 36611321, "link": "https://stackoverflow.com/questions/36611321/python-dask-program-failing-to-produce-output-even-though-it-seems-to-compute", "title": "Python dask program failing to produce output even though it seems to compute", "body": "<p>I am confused as to why my dask program is not producing any output, it simply hangs after submitting. I have specified to use processes instead of threads and can see all of the cores fire up upon submitting (as suggested here:<a href=\"https://stackoverflow.com/questions/35516305/dask-computation-not-executing-in-parallel\">dask computation not executing in parallel</a>) so it seems to compute but never finishes.  I am just trying to run a simple regex over a list of long text files.  Am I missing something obvious?</p>\n\n<pre><code>import re\nfrom os import listdir\n\nimport dask.bag as db\nimport dask.multiprocessing\ndask.set_options(get=dask.multiprocessing.get)\n\n\nloc = 'D:\\\\...\\\\text_files\\\\'\ntxts = [loc + i for i in listdir(loc)[:10]]\n\n#  Load data in parallel\nf = db.from_filenames(txts)\nf = f.repartition(3)\n\n# Define the regex\nregex = re.compile(r'\\b[A-Z][a-z]+\\b')\n\n# create function to parallelize\ndef reg(text):\n    return regex.findall(text)\n\n# distribute the function over cores\noutput = f.map(reg).compute().concat()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1118, "user_id": 5385625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CKfR0.jpg?s=128&g=1", "display_name": "Sam Orozco", "link": "https://stackoverflow.com/users/5385625/sam-orozco"}, "edited": false, "score": 0, "creation_date": 1460590097, "post_id": 36611285, "comment_id": 60819399, "body": "Show the Code you&#39;ve tried already."}, {"owner": {"reputation": 2371, "user_id": 1736344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e76ea018b54e89a188a6f8cf0c3e565?s=128&d=identicon&r=PG&f=1", "display_name": "nathan hayfield", "link": "https://stackoverflow.com/users/1736344/nathan-hayfield"}, "edited": false, "score": 4, "creation_date": 1460590111, "post_id": 36611285, "comment_id": 60819405, "body": "<a href=\"http://stackoverflow.com/questions/2356501/how-do-you-round-up-a-number-in-python\" title=\"how do you round up a number in python\">stackoverflow.com/questions/2356501/&hellip;</a>"}, {"owner": {"reputation": 2123, "user_id": 4732620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9MNs.jpg?s=128&g=1", "display_name": "TheLazyScripter", "link": "https://stackoverflow.com/users/4732620/thelazyscripter"}, "edited": false, "score": 1, "creation_date": 1460590791, "post_id": 36611285, "comment_id": 60819606, "body": "Use the math.ceil() function. e.g. final_number = math.ceil(.25) = 1.0, you can then take the int() to remove the decimal point and trailing zero e.g. final_number = int(math.ceil(.25)) = 1.. math also has another built in function math.floor() which rounds down rather than up! Good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1460591135, "post_id": 36611406, "comment_id": 60819714, "body": "You can just mark the question as a duplicate if you think it&#39;s been answered elsewhere already. Welcome to the site btw. :)"}, {"owner": {"reputation": 1, "user_id": 6201317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ygw5vBn-P1g/AAAAAAAAAAI/AAAAAAAAAGE/ztIUe6auzig/photo.jpg?sz=128", "display_name": "TasconTT", "link": "https://stackoverflow.com/users/6201317/tascontt"}, "reply_to_user": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1460591733, "post_id": 36611406, "comment_id": 60819917, "body": "Thank you, I think I need some reputation to use flags I don&#39;t have that option yet. :)"}], "tags": [], "owner": {"reputation": 1, "user_id": 6201317, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ygw5vBn-P1g/AAAAAAAAAAI/AAAAAAAAAGE/ztIUe6auzig/photo.jpg?sz=128", "display_name": "TasconTT", "link": "https://stackoverflow.com/users/6201317/tascontt"}, "is_accepted": false, "score": -1, "last_activity_date": 1460590946, "last_edit_date": 1495535293, "creation_date": 1460590946, "answer_id": 36611406, "question_id": 36611285, "link": "https://stackoverflow.com/questions/36611285/python-rounding-output-from-floating-point-input-to-an-integer/36611406#36611406", "title": "Python: Rounding output from floating point input to an integer", "body": "<p>Already answered, you can use the ceil function in the math module. <a href=\"https://stackoverflow.com/questions/2356501/how-do-you-round-up-a-number-in-python\">How do you round UP a number in Python?</a></p>\n"}], "owner": {"reputation": 11, "user_id": 6201331, "user_type": "registered", "profile_image": "https://graph.facebook.com/251507281860718/picture?type=large", "display_name": "Zachary McCauley", "link": "https://stackoverflow.com/users/6201331/zachary-mccauley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "closed_date": 1460591836, "answer_count": 1, "score": -2, "last_activity_date": 1460590946, "creation_date": 1460590031, "last_edit_date": 1460590677, "question_id": 36611285, "link": "https://stackoverflow.com/questions/36611285/python-rounding-output-from-floating-point-input-to-an-integer", "closed_reason": "Duplicate", "title": "Python: Rounding output from floating point input to an integer", "body": "<p>Example: User needs .5 gallons of paint for a wall. User must purchase entire gallon. </p>\n\n<p>This needs to be rounded up after calculations have taken place or it will affect the math</p>\n"}, {"tags": ["python", "sublimetext3", "sublimetext"], "comments": [{"owner": {"reputation": 83, "user_id": 5055941, "user_type": "registered", "profile_image": "https://graph.facebook.com/925246660872786/picture?type=large", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/5055941/jimmy"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1460615480, "post_id": 36611270, "comment_id": 60827187, "body": "Thanks for comment:)"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1460645323, "post_id": 36611270, "comment_id": 60849264, "body": "I&#39;ve fixed up the question as much as I can, and I have a well-formulated answer to give. Let&#39;s reopen it."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 5055941, "user_type": "registered", "profile_image": "https://graph.facebook.com/925246660872786/picture?type=large", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/5055941/jimmy"}, "edited": false, "score": 0, "creation_date": 1460648609, "post_id": 36627659, "comment_id": 60851834, "body": "I admire your knowledge. Thank you so much!"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 83, "user_id": 5055941, "user_type": "registered", "profile_image": "https://graph.facebook.com/925246660872786/picture?type=large", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/5055941/jimmy"}, "edited": false, "score": 0, "creation_date": 1460648915, "post_id": 36627659, "comment_id": 60852049, "body": "@Jimmy You&#39;re quite welcome, glad to help. It comes from many years using and studying the internals of Sublime :)"}, {"owner": {"reputation": 391, "user_id": 6097869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bc1c77e0c30e3196da064c87a8534d6?s=128&d=identicon&r=PG&f=1", "display_name": "TawabG", "link": "https://stackoverflow.com/users/6097869/tawabg"}, "edited": false, "score": 0, "creation_date": 1617281130, "post_id": 36627659, "comment_id": 118264512, "body": "Since &quot;shell_cmd&quot; and &quot;dir&quot; are also displayed by default, you can comment these lines as well, to only display the error message."}], "tags": [], "owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "is_accepted": true, "score": 19, "last_activity_date": 1460647877, "creation_date": 1460647877, "answer_id": 36627659, "question_id": 36611270, "link": "https://stackoverflow.com/questions/36611270/how-to-remove-the-windows-path-from-a-sublime-text-3-python-build-error/36627659#36627659", "title": "How to remove the Windows PATH from a Sublime Text 3 Python build error?", "body": "<p>This behavior can be changed by commenting out four specific lines in <code>Packages/Default/exec.py</code>, which is the system file that runs build systems by default.</p>\n\n<p>First, you'll need to install <a href=\"https://packagecontrol.io/packages/PackageResourceViewer\" rel=\"noreferrer\"><strong><code>PackageResourceViewer</code></strong></a> from Package Control. Next, open the Command Palette with <kbd>Ctrl</kbd><kbd>Shift</kbd><kbd>P</kbd> and type in <strong><em><code>prv</code></em></strong> to bring up the PackageResourceViewer options. Select <code>PackageResourceViewer: Open Resource</code>, then <code>Default</code>, then <code>exec.py</code>. You can now hit <kbd>Esc</kbd> to clear the Command Palette.</p>\n\n<p>In the open file, scroll down to approximately line 212, looking specifically for this code block:</p>\n\n<pre><code>if \"PATH\" in merged_env:\n    self.debug_text += \"[path: \" + str(merged_env[\"PATH\"]) + \"]\"\nelse:\n    self.debug_text += \"[path: \" + str(os.environ[\"PATH\"]) + \"]\"\n</code></pre>\n\n<p>Select all 4 lines, then comment them out by hitting <kbd>Ctrl</kbd><kbd>/</kbd>. Finally, hit <kbd>Ctrl</kbd><kbd>S</kbd> to save the file.</p>\n\n<p>This will create a new <code>Default</code> folder in your <code>Packages</code> directory (the one opened by selecting <strong><code>Preferences -&gt; Browse Packages...</code></strong>) with <code>exec.py</code> inside, and will override the original file stored in <code>Default.sublime-package</code>, which is stored elsewhere, in Sublime's installation directory. If at any time you wish to have the full <code>PATH</code> printed again, simply open <code>Packages/Default/exec.py</code> and uncomment the lines you commented before, then save the file. </p>\n\n<p>I would also recommend deleting <code>exec.py</code> and re-running through the procedure above <em>every time</em> you upgrade Sublime, as there may be vital changes to this file in the new release that are key for other parts of the build systems to work.</p>\n"}], "owner": {"reputation": 83, "user_id": 5055941, "user_type": "registered", "profile_image": "https://graph.facebook.com/925246660872786/picture?type=large", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/5055941/jimmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2087, "favorite_count": 13, "accepted_answer_id": 36627659, "answer_count": 1, "score": 7, "last_activity_date": 1460647877, "creation_date": 1460589955, "last_edit_date": 1460646222, "question_id": 36611270, "link": "https://stackoverflow.com/questions/36611270/how-to-remove-the-windows-path-from-a-sublime-text-3-python-build-error", "title": "How to remove the Windows PATH from a Sublime Text 3 Python build error?", "body": "<p>I am using Python 3 on Sublime Text 3 (win8.1 64bit). When I write some code and then build, if there is an error, the Windows <code>PATH</code> is displayed as part of the error.</p>\n\n<p>How do I remove the Windows <code>PATH</code> on Sublime Text 3 output when there is an error?</p>\n\n<p><img src=\"https://i.stack.imgur.com/R0OpY.png\" alt=\"\"></p>\n\n<p>I wont to remove ==> I want to erase.</p>\n"}, {"tags": ["python", "loops", "if-statement"], "answers": [{"tags": [], "owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "is_accepted": false, "score": 0, "last_activity_date": 1460590104, "creation_date": 1460590104, "answer_id": 36611292, "question_id": 36611233, "link": "https://stackoverflow.com/questions/36611233/how-to-remove-an-elif-from-a-loop-when-the-elif-is-used-once/36611292#36611292", "title": "How to remove an elif from a loop when the elif is used once", "body": "<p>Add a condition to check if the computer has already placed a piece where you are trying to place the piece. E.G. for your first if it would look something like this:</p>\n\n<pre><code>if(board[0][0] == board[0][1] and board[0][0] != \"\" and board[0,2] != \"\"):\n    computer_putThing(0,2)\n</code></pre>\n\n<p>Of course this is assuming that <code>computer_putThing(int,int)</code> simply changes the array at the position of its aruments</p>\n"}], "owner": {"reputation": 1, "user_id": 6201295, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-7oEI3zSJLr8/AAAAAAAAAAI/AAAAAAAAAEI/c-L5Y8M6xi4/photo.jpg?sz=128", "display_name": "DyllanH", "link": "https://stackoverflow.com/users/6201295/dyllanh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1460592525, "creation_date": 1460589767, "last_edit_date": 1460592525, "question_id": 36611233, "link": "https://stackoverflow.com/questions/36611233/how-to-remove-an-elif-from-a-loop-when-the-elif-is-used-once", "title": "How to remove an elif from a loop when the elif is used once", "body": "<pre><code>def AI():\n    if(board[0][0] == board[0][1] and board[0][0] != \"\"):\n        computer_putThing(0,2)\n    elif(board[0][2] == board[0][1] and board[0][2] != \"\"):\n        computer_putThing(0,0)\n    elif(board[1][0] == board[1][1] and board[1][0] != \"\"):\n        computer_putThing(1,2)\n</code></pre>\n\n<p>I am making a tic tac toe AI and these are a snippit of the conditions it uses to place it's piece. Because multiple conditions can occur in one game, I want to be able to remove or skip over an elif after the first time it is used. Otherwise it only gets to the first statement and doesn't use the rest of the statements.</p>\n"}, {"tags": ["python", "algorithm", "recursion"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460589648, "post_id": 36611194, "comment_id": 60819254, "body": "Briefly: that is Python&#39;s ternary operator. If <code>tail</code> is truthy, <code>sum(tail)</code> will be used. If it isn&#39;t, <code>head</code> will be used."}, {"owner": {"reputation": 11, "user_id": 6201231, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GGvRh9T2jwk/AAAAAAAAAAI/AAAAAAAAABs/IJaoK5U4CKU/photo.jpg?sz=128", "display_name": "Atlas Yu", "link": "https://stackoverflow.com/users/6201231/atlas-yu"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460589723, "post_id": 36611194, "comment_id": 60819276, "body": "Why it shows not enough values to unpack (expected at least 1, got 0) when I take &quot;if tail else head&quot; out?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460590189, "post_id": 36611194, "comment_id": 60819431, "body": "Because sometimes <code>sum(tail)</code> doesn&#39;t have enough values to unpack in <code>head, *tail = items</code>. <code>tail</code> being falsey would mean it&#39;s an empty <code>list</code>, which can&#39;t be unpacked into at least one item as required. That&#39;s when the recursion ends by returning <code>head + head</code> instead of <code>head + sum(tail)</code>."}], "owner": {"reputation": 11, "user_id": 6201231, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GGvRh9T2jwk/AAAAAAAAAAI/AAAAAAAAABs/IJaoK5U4CKU/photo.jpg?sz=128", "display_name": "Atlas Yu", "link": "https://stackoverflow.com/users/6201231/atlas-yu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1460589612, "answer_count": 0, "score": 0, "last_activity_date": 1460589939, "creation_date": 1460589508, "last_edit_date": 1460589939, "question_id": 36611194, "link": "https://stackoverflow.com/questions/36611194/python-recursive-algorithm", "closed_reason": "Duplicate", "title": "Python recursive algorithm", "body": "<p>What \"If tail else head\" do? If I take it out, it shows an error: \nValueError: not enough values to unpack (expected at least 1, got 0)</p>\n\n<pre><code>items = [1, 10, 7, 4, 5, 9]\n\ndef sum(items):  \n    head, *tail = items\n    return head + sum(tail) if tail else head  \n\nsum(items)\n</code></pre>\n"}, {"tags": ["python", "pycharm", "type-hinting"], "comments": [{"owner": {"reputation": 353, "user_id": 5041148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/655b932f38412fde4f7f1bd1c87f02ca?s=128&d=identicon&r=PG&f=1", "display_name": "Yariv", "link": "https://stackoverflow.com/users/5041148/yariv"}, "edited": false, "score": 1, "creation_date": 1577176430, "post_id": 36611188, "comment_id": 105111715, "body": "The headline is not related to the actual problem as answered here"}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 3908413, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f7c1f3b877caceed04fd52b1841e2ba?s=128&d=identicon&r=PG&f=1", "display_name": "Novark", "link": "https://stackoverflow.com/users/3908413/novark"}, "edited": false, "score": 0, "creation_date": 1460591805, "post_id": 36611300, "comment_id": 60819941, "body": "Thanks for the reply, I think I may have typo&#39;d that first line.  It should have been simply MY_GLOBAL = [], as you described.  I actually managed to solve my issue, however.  I had to remove the reference to &quot;global&quot; in the local function scope where I wanted type-hinting."}, {"owner": {"reputation": 702, "user_id": 3777314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/600103728/picture?type=large", "display_name": "ocket8888", "link": "https://stackoverflow.com/users/3777314/ocket8888"}, "edited": false, "score": 0, "creation_date": 1537817511, "post_id": 36611300, "comment_id": 91913648, "body": "actually, <code>max</code> and <code>open</code> etc. aren&#39;t global either, the thing is the module <code>__builtins__</code> gets imported (and adds its contents to the global scope like <code>globals()[&#39;thing&#39;] = thing</code>) every time the interpreter starts unless it&#39;s passed the <code>-S</code> switch."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 702, "user_id": 3777314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/600103728/picture?type=large", "display_name": "ocket8888", "link": "https://stackoverflow.com/users/3777314/ocket8888"}, "edited": false, "score": 0, "creation_date": 1537818524, "post_id": 36611300, "comment_id": 91914072, "body": "@ocket8888: No, that&#39;s not how it works. The module is <code>builtins</code> or <code>__builtin__</code>, and it doesn&#39;t dump its contents into <code>globals()</code>; it&#39;s used as a fallback when a name isn&#39;t found in module-globals. Under the hood, frame objects have an <code>f_builtins</code> member storing their global variable dict, which is set using either another frame&#39;s <code>f_builtins</code> or the <code>__builtins__</code> global variable, and <code>__builtins__</code> is usually set to either the <code>builtins</code>/<code>__builtin__</code> module or that module&#39;s dict."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1537818576, "post_id": 36611300, "comment_id": 91914098, "body": "Also, <code>-S</code> has no effect on the built-in variable fallback; it disables auto-importing of the <code>site</code> module."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1460590154, "creation_date": 1460590154, "answer_id": 36611300, "question_id": 36611188, "link": "https://stackoverflow.com/questions/36611188/does-pycharm-support-type-hinting-for-globals/36611300#36611300", "title": "Does PyCharm support type hinting for globals?", "body": "<p>This isn't a problem with type hinting. The problem is that you don't actually have a <code>MY_GLOBAL</code> variable at all.</p>\n\n<p><code>global MY_GLOBAL</code> isn't how you make a global variable. There's no such thing* as a truly-global variable in Python. You make a module-level global variable the same way you make a local variable:</p>\n\n<pre><code>MY_GLOBAL = []\n</code></pre>\n\n<p>but at module level instead of within a function. If you want to access it from another module, you need to import the module and use dotted access notation:</p>\n\n<pre><code>import whichever_module_defined_the_global as m\n\nm.MY_GLOBAL.append(3)\n</code></pre>\n\n<p>Trying to import it with a <code>from</code> import will cause weird problems, so don't do that.</p>\n\n<p><sup>*Aside from stuff like <code>max</code> or <code>open</code>.</sup></p>\n"}], "owner": {"reputation": 409, "user_id": 3908413, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0f7c1f3b877caceed04fd52b1841e2ba?s=128&d=identicon&r=PG&f=1", "display_name": "Novark", "link": "https://stackoverflow.com/users/3908413/novark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 36611300, "answer_count": 1, "score": 0, "last_activity_date": 1460590154, "creation_date": 1460589453, "question_id": 36611188, "link": "https://stackoverflow.com/questions/36611188/does-pycharm-support-type-hinting-for-globals", "title": "Does PyCharm support type hinting for globals?", "body": "<p>I've tried setting my global in a python_stub as follows:</p>\n\n<pre><code>#Inside MyModule.pyi\nglobal MY_GLOBAL #type: list[MyClass]\n</code></pre>\n\n<p>However, this doesn't seem to work when I try to index into my global list in the main .py file:</p>\n\n<pre><code>#Back inside MyModule.py\nMY_GLOBAL[0].xyz #&lt;-- Expecting type hinting to pop up after the '.'\n</code></pre>\n\n<p>Also, I've tried doing this without python_stub files as follows:</p>\n\n<pre><code>#Inside MyModule.py\nMY_GLOBAL #type: list[MyClass]\n\n#Still in the global scope here\nMY_GLOBAL[0].xyz #&lt;-- Type hinting works here!\n</code></pre>\n\n<p>When I do this (setting the type locally), it recognizes the type in the global scope, however, as soon as I try to use the global in a function scope, it forgets the type:</p>\n\n<pre><code>#Inside MyModule.py\nMY_GLOBAL #type: list[MyClass]\n\n#Still in the global scope here\nMY_GLOBAL[0].xyz #&lt;-- Type hinting works here!\n\ndef MyFunction():\n    global MY_GLOBAL\n    MY_GLOBAL[0].xyz #&lt;-- Expecting type hinting to pop up after the '.'\n</code></pre>\n\n<p>Does anyone know if this behaviour is supported?  I'm using PyCharm 5.0 Community Edition.</p>\n"}, {"tags": ["python", "bit-manipulation", "twos-complement"], "comments": [{"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1460589504, "post_id": 36611170, "comment_id": 60819197, "body": "If it multiples output by 16, why not just do <code>ch0 &gt;&gt; 4</code> after, which divides <code>ch0</code> by 2^4 = 16?"}], "answers": [{"comments": [{"owner": {"reputation": 828, "user_id": 2971299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vx2Qp.jpg?s=128&g=1", "display_name": "nico", "link": "https://stackoverflow.com/users/2971299/nico"}, "edited": false, "score": 0, "creation_date": 1460606806, "post_id": 36611616, "comment_id": 60824040, "body": "From the solutions presented, yours was the fastest. I <code>%timeit</code> and got <code>100000 loops, best of 3: 4.85 &#181;s per loop</code>.  I am still a little bit lost on how you got the values back together. If you could talk about it in more detail. One more thing. I had to <code>s = bytearray(data)</code> prior to usage (for future reference)"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 828, "user_id": 2971299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vx2Qp.jpg?s=128&g=1", "display_name": "nico", "link": "https://stackoverflow.com/users/2971299/nico"}, "edited": false, "score": 1, "creation_date": 1460616526, "post_id": 36611616, "comment_id": 60827733, "body": "Yeah, <code>s</code> should be a bytestring or bytearray with the data in it. The one tricky bit (which I noted as such) is getting the byte-short pairs out of the tuple returned by <code>struct.unpack</code>. The <code>zip(*([iter(x)]*2))</code> bit is a neat recipe for getting pairs from the iterable <code>x</code> (a slightly different version of this is in the <code>itertools</code> recipes, under the name <code>grouper</code>). Once you have the parsed value in pairs, getting them into a single integer value is not hard. Just left-shift the byte (which we parsed as signed), and add it to the unsigned short."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 1, "last_activity_date": 1460616869, "last_edit_date": 1460616869, "creation_date": 1460592375, "answer_id": 36611616, "question_id": 36611170, "link": "https://stackoverflow.com/questions/36611170/how-to-convert-an-array-of-27-bytes-where-each-3-bytes-is-a-2s-complement-numbe/36611616#36611616", "title": "How to convert an array of 27 bytes where each 3 bytes is a 2&#39;s complement number into its numeric equivalent?", "body": "<p>I suggest parsing your 3-byte values as a single signed byte and an unsigned (16-bit) short. You can then use mathematical operators to recombine them into single number.</p>\n\n<p>Here's a list comprehension that does it all in one step (given <code>s</code> as a <code>bytearray</code> or <code>bytes</code> string):</p>\n\n<pre><code>[(a&lt;&lt;16) + b for a, b in zip(*([iter(struct.unpack('&gt;'+'bH'*9, s))]*2))]\n</code></pre>\n\n<p>The inner-most part does the parsing as I described above, using <code>struct.unpack</code>. Then I use the <code>zip</code> on two copies of the same iterator to get the byte/short pairs (this is a nifty trick!), and left-shift the byte by 16 bits before adding them together.</p>\n\n<p>If you already have your bytes as unsigned integers, you don't even need to use <code>struct.unpack</code>, you can combine them directly in groups of three (with only a little bit of logic to get the sign right on the first byte):</p>\n\n<pre><code>[((a if a &lt; 128 else a-256)&lt;&lt;16) + (b&lt;&lt;8) + c for a, b, c in zip(*([iter(data)]*3))]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 828, "user_id": 2971299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vx2Qp.jpg?s=128&g=1", "display_name": "nico", "link": "https://stackoverflow.com/users/2971299/nico"}, "edited": false, "score": 0, "creation_date": 1460606466, "post_id": 36611941, "comment_id": 60823939, "body": "Thank you for your response. Really nice use of a lambda function. I <code>%timeit</code> and it provided me with <code>100000 loops, best of 3: 4.85 &#181;s per loop</code>. 10 times slower then @Blckknght solution."}, {"owner": {"reputation": 828, "user_id": 2971299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vx2Qp.jpg?s=128&g=1", "display_name": "nico", "link": "https://stackoverflow.com/users/2971299/nico"}, "edited": false, "score": 0, "creation_date": 1460606919, "post_id": 36611941, "comment_id": 60824075, "body": "I got the wrong paste for the output and I could not edit it. Your function executed in ``100000 loops, best of 3: 15.2 &#181;s per loop`"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 828, "user_id": 2971299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vx2Qp.jpg?s=128&g=1", "display_name": "nico", "link": "https://stackoverflow.com/users/2971299/nico"}, "edited": false, "score": 1, "creation_date": 1460616758, "post_id": 36611941, "comment_id": 60827870, "body": "So, it&#39;s about 3 time slower than Blckknght&#39;s. Not surprising considering the numerous function calls being made (besides the one to the lambda)."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 2, "last_activity_date": 1460598922, "last_edit_date": 1460598922, "creation_date": 1460594856, "answer_id": 36611941, "question_id": 36611170, "link": "https://stackoverflow.com/questions/36611170/how-to-convert-an-array-of-27-bytes-where-each-3-bytes-is-a-2s-complement-numbe/36611941#36611941", "title": "How to convert an array of 27 bytes where each 3 bytes is a 2&#39;s complement number into its numeric equivalent?", "body": "<p>You can use a helper function to extend the sign-bit of the third byte to make a fourth one:</p>\n\n<pre><code>import struct\n\ndata = [0x00, 0x00, 0x00,\n        0xff, 0xff, 0xff,\n        0x00, 0x00, 0x02,\n        0xff, 0xff, 0xfd,\n        0x00, 0x00, 0x04,\n        0xff, 0xff, 0xfb,\n        0x00, 0x00, 0x06,\n        0xff, 0xff, 0xf9,\n        0x00, 0x00, 0x08]\n\nsigned = lambda v: [0xff if v &amp; 0x80 else 0x00,]\nch = [struct.unpack('&gt;i', ''.join(map(chr, signed(data[i]) + data[i:i+3])))[0]\n                                                    for i in range(0, len(data), 3)]\n\nprint(ch)  # -&gt; [0, -1, 2, -3, 4, -5, 6, -7, 8]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 828, "user_id": 2971299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vx2Qp.jpg?s=128&g=1", "display_name": "nico", "link": "https://stackoverflow.com/users/2971299/nico"}, "edited": false, "score": 0, "creation_date": 1460606986, "post_id": 36612684, "comment_id": 60824098, "body": "Interesting solution. However I have to use 2.7. But I will definitely keep this in mind for the future."}], "tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": false, "score": 1, "last_activity_date": 1460600409, "last_edit_date": 1460600409, "creation_date": 1460600086, "answer_id": 36612684, "question_id": 36611170, "link": "https://stackoverflow.com/questions/36611170/how-to-convert-an-array-of-27-bytes-where-each-3-bytes-is-a-2s-complement-numbe/36612684#36612684", "title": "How to convert an array of 27 bytes where each 3 bytes is a 2&#39;s complement number into its numeric equivalent?", "body": "<p>If you are using Python 3, use the class method <a href=\"https://docs.python.org/3.5/library/stdtypes.html#int.from_bytes\" rel=\"nofollow\"><code>int.from_bytes</code></a>.  It can handle byte clusters of any length:</p>\n\n<pre><code>#!python3\ndata = bytes([0,0,0,0xff,0xff,0xff,0,0,1,0xff,0xff,0xfe,0,0,3,0xff,0xff,0xfd,0,0,4])\nfor i in range(0,len(data),3):\n    print(int.from_bytes(data[i:i+3],'big',signed=True))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0\n-1\n1\n-2\n3\n-3\n4\n</code></pre>\n\n<p>There is also <code>to_bytes</code>, if you need to generate them as well:</p>\n\n<pre><code>&gt;&gt;&gt; (-2).to_bytes(3,'big',signed=True)\nb'\\xff\\xff\\xfe'\n</code></pre>\n"}], "owner": {"reputation": 828, "user_id": 2971299, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Vx2Qp.jpg?s=128&g=1", "display_name": "nico", "link": "https://stackoverflow.com/users/2971299/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 36611616, "answer_count": 3, "score": 1, "last_activity_date": 1460616869, "creation_date": 1460589349, "last_edit_date": 1460599773, "question_id": 36611170, "link": "https://stackoverflow.com/questions/36611170/how-to-convert-an-array-of-27-bytes-where-each-3-bytes-is-a-2s-complement-numbe", "title": "How to convert an array of 27 bytes where each 3 bytes is a 2&#39;s complement number into its numeric equivalent?", "body": "<p>I want to unpack a data package that has 9 numbers, each number is in a 2's complement format with 3 bytes. Thus 27 bytes in my package.\nI have this, which allows me to use <code>struct.unpack</code> with 4 byte numbers but multiplies my numbers by 16.</p>\n\n<p><strong>Works but multiplies output by 16</strong></p>\n\n<pre><code>data = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\na = a[:3] + [0] + a[3:6] + [0] + a[6:9] + [0] + a[9:12] + [0] + a[12:15] + [0] + a[15:18] + a[18:21] + [0] + [0] + a[21:24] + [0] + a[24:27] + [0]\n\nch0, ch1, ch2, ch3, ch4, ch5, ch6, ch7, ch8 = struct.unpack('&gt;lllllllll', bytearray(a))\n</code></pre>\n\n<p>For 2's complement with 4 bytes I would have to add 0xFF to the front of negative numbers and 0x00 to the front of the positive numbers.</p>\n\n<p>Is there a smart way to perform that? What is the most efficient way to do it?</p>\n"}, {"tags": ["python", "exception-handling"], "answers": [{"comments": [{"owner": {"reputation": 1939, "user_id": 4907496, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lz1fz.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/4907496/phillip"}, "edited": false, "score": 0, "creation_date": 1460591540, "post_id": 36611118, "comment_id": 60819854, "body": "The only difference I needed was an added [0] index in order to access the tuple containing the error information: <code>print(extract_tb(exc_info()[2])[0][1])</code>"}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "reply_to_user": {"reputation": 1939, "user_id": 4907496, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lz1fz.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/4907496/phillip"}, "edited": false, "score": 0, "creation_date": 1460593055, "post_id": 36611118, "comment_id": 60820257, "body": "@Phillip: Thanks for catching that.  It&#39;s fixed now."}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": true, "score": 1, "last_activity_date": 1460593041, "last_edit_date": 1460593041, "creation_date": 1460588978, "answer_id": 36611118, "question_id": 36611084, "link": "https://stackoverflow.com/questions/36611084/is-it-possible-to-know-the-line-on-which-an-error-occurred-using-try-except-in-p/36611118#36611118", "title": "Is it possible to know the line on which an error occurred using try/except in Python?", "body": "<p>You can use the <code>traceback</code> module:</p>\n\n<pre><code>from sys import exc_info\nfrom traceback import extract_tb\n\ntry:\n    assert False\nexcept Exception as e:\n    print(extract_tb(exc_info()[2])[0][1])\n    print(e)\n</code></pre>\n"}], "owner": {"reputation": 1939, "user_id": 4907496, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/lz1fz.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/4907496/phillip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "closed_date": 1460588994, "accepted_answer_id": 36611118, "answer_count": 1, "score": 0, "last_activity_date": 1460593041, "creation_date": 1460588721, "question_id": 36611084, "link": "https://stackoverflow.com/questions/36611084/is-it-possible-to-know-the-line-on-which-an-error-occurred-using-try-except-in-p", "closed_reason": "Duplicate", "title": "Is it possible to know the line on which an error occurred using try/except in Python?", "body": "<p>For example, is there anything that could be added to the following that could provide the line number of the error?</p>\n\n<pre><code>try:\n    assert False\nexcept Exception, e:\n    # lineOfError = ?\n    # print lineOfError\n    print e\n</code></pre>\n"}, {"tags": ["python", "opengl", "glu"], "owner": {"reputation": 1455, "user_id": 5050863, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205087533363171/picture?type=large", "display_name": "sschilli", "link": "https://stackoverflow.com/users/5050863/sschilli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461008784, "creation_date": 1460588712, "last_edit_date": 1460642311, "question_id": 36611079, "link": "https://stackoverflow.com/questions/36611079/specifying-texture-coordinates-using-tesselation-in-glu", "title": "Specifying texture coordinates using tesselation in GLU", "body": "<p>When mapping textures to surfaces in OpenGL using the standard polygon method, you can do the following:</p>\n\n<pre><code>size = 10\nglBegin(GL_POLYGON)\n\nglNormal3f(0.0, 0.0,-1.0)\nglTexCoord2f(0.0, 0.0); glVertex3f(0.0, 0.0, 0.0);\nglTexCoord2f(size, 0.0); glVertex3f(0.0, size, 0.0);\nglTexCoord2f(size, size); glVertex3f(0.0, size, size);\nglTexCoord2f(0.0, size); glVertex3f(0.0, 0.0, size);\n\nglEnd()\n</code></pre>\n\n<p>However, I am using tesselation to render my surfaces, so my code looks like this:</p>\n\n<pre><code>gluTessBeginPolygon(self.tessellator, None)\ngluTessBeginContour(self.tessellator)\n\nfor vertex in vertices:\n    gluTessVertex(self.tessellator, vertex, vertex)\n\ngluTessEndContour(self.tessellator)\ngluTessEndPolygon(self.tessellator)\n</code></pre>\n\n<p>Is there a function for <code>gluTess</code> that can be used to specify texture coordinates, like the <code>glTexCoord2f</code> function available for polygons that do not use tesselation?</p>\n\n<p>Without specifying the texture coordinates, it seems like the color of the first pixel of the texture is chosen and then displayed over the entire surface, rather than actually displaying the texture.</p>\n"}, {"tags": ["python", "docker", "pip"], "comments": [{"owner": {"reputation": 2063, "user_id": 562106, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b32f903b988a6463c473a15fd897313?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/562106/nick"}, "edited": false, "score": 0, "creation_date": 1460589041, "post_id": 36611052, "comment_id": 60819027, "body": "What platform are you on?"}], "answers": [{"comments": [{"owner": {"reputation": 3608, "user_id": 1040915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5d4fad479f4b604d4acc731fdae68d9d?s=128&d=identicon&r=PG", "display_name": "scubbo", "link": "https://stackoverflow.com/users/1040915/scubbo"}, "edited": false, "score": 0, "creation_date": 1460626452, "post_id": 36611537, "comment_id": 60834325, "body": "No luck - there&#39;s no file <code>&#47;etc&#47;default&#47;docker</code> on my system (Mac OS X)"}, {"owner": {"reputation": 938, "user_id": 3980466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645862f30b05489c2f30f87875984171?s=128&d=identicon&r=PG&f=1", "display_name": "T. Arboreus", "link": "https://stackoverflow.com/users/3980466/t-arboreus"}, "reply_to_user": {"reputation": 3608, "user_id": 1040915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5d4fad479f4b604d4acc731fdae68d9d?s=128&d=identicon&r=PG", "display_name": "scubbo", "link": "https://stackoverflow.com/users/1040915/scubbo"}, "edited": false, "score": 0, "creation_date": 1460646883, "post_id": 36611537, "comment_id": 60850482, "body": "Sorry, tapped out on thisone"}], "tags": [], "owner": {"reputation": 938, "user_id": 3980466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/645862f30b05489c2f30f87875984171?s=128&d=identicon&r=PG&f=1", "display_name": "T. Arboreus", "link": "https://stackoverflow.com/users/3980466/t-arboreus"}, "is_accepted": false, "score": 0, "last_activity_date": 1460591777, "last_edit_date": 1495541864, "creation_date": 1460591777, "answer_id": 36611537, "question_id": 36611052, "link": "https://stackoverflow.com/questions/36611052/install-pip-in-docker/36611537#36611537", "title": "Install pip in docker", "body": "<p>Try this:</p>\n\n<ol>\n<li>Uncomment the following line in /etc/default/docker\nDOCKER_OPTS=\"--dns 8.8.8.8 --dns 8.8.4.4\"</li>\n<li>Restart the Docker service sudo service docker restart</li>\n<li>Delete any images which have cached the invalid DNS settings.</li>\n<li>Build again and the problem should be solved.</li>\n</ol>\n\n<p>From <a href=\"https://stackoverflow.com/questions/24991136/docker-build-could-not-resolve-archive-ubuntu-com-apt-get-fails-to-install-a\">this question</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3608, "user_id": 1040915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5d4fad479f4b604d4acc731fdae68d9d?s=128&d=identicon&r=PG", "display_name": "scubbo", "link": "https://stackoverflow.com/users/1040915/scubbo"}, "edited": false, "score": 2, "creation_date": 1460633390, "post_id": 36611580, "comment_id": 60839276, "body": "Thanks for the response! I&#39;m on Mac OS X (10.11.4), if that makes any difference (though I thought the whole point of Docker was that it ran independently of the underlying system? I&#39;m quite new to this, so I might be wrong...). I&#39;ll try your suggestions now."}, {"owner": {"reputation": 1586, "user_id": 5755166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c77d8378ae4eefe7c1a08a182f6c43ec?s=128&d=identicon&r=PG&f=1", "display_name": "mxscho", "link": "https://stackoverflow.com/users/5755166/mxscho"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 1, "creation_date": 1481326101, "post_id": 36611580, "comment_id": 69347919, "body": "@CharlieParker <code>apt-get update</code> updates the locally cached information about packages in the repository (e.g. where to download them or which versions are available). Without, you could e.g. run into installing outdated packages. See also: <a href=\"https://askubuntu.com/questions/337198/is-sudo-apt-get-update-mandatory-before-every-package-installation\" title=\"is sudo apt get update mandatory before every package installation\">askubuntu.com/questions/337198/&hellip;</a> I also edited the <code>apt-get update</code> and the <code>apt-get install</code> to be in one <code>RUN</code> command as recommended here: <a href=\"https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/\" rel=\"nofollow noreferrer\">docs.docker.com/engine/userguide/eng-image/&hellip;</a>"}, {"owner": {"reputation": 1401, "user_id": 2218905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f6955a4b9785afc061ae028b6cda5fa?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/2218905/jason"}, "edited": false, "score": 0, "creation_date": 1520546143, "post_id": 36611580, "comment_id": 85372073, "body": "apt-get update is required to prevent caching when building the container, see docker docs. -y is to prevent the prompt that says &#39;yes&#39;, download, to prevent errors on build"}], "tags": [], "owner": {"reputation": 1586, "user_id": 5755166, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c77d8378ae4eefe7c1a08a182f6c43ec?s=128&d=identicon&r=PG&f=1", "display_name": "mxscho", "link": "https://stackoverflow.com/users/5755166/mxscho"}, "is_accepted": true, "score": 63, "last_activity_date": 1492920116, "last_edit_date": 1492920116, "creation_date": 1460592115, "answer_id": 36611580, "question_id": 36611052, "link": "https://stackoverflow.com/questions/36611052/install-pip-in-docker/36611580#36611580", "title": "Install pip in docker", "body": "<p>While T. Arboreus's answer might fix the issues with resolving 'archive.ubuntu.com', I think the last error you're getting says that it doesn't know about the packages <code>php5-mcrypt</code> and <code>python-pip</code>.\nNevertheless, the reduced Dockerfile of you with just these two packages worked for me (using Debian 8.4 and Docker 1.11.0), but I'm not quite sure if that could be the case because my host system is different than yours.</p>\n\n<pre><code>FROM ubuntu:14.04\n\n# Install dependencies\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    php5-mcrypt \\\n    python-pip\n</code></pre>\n\n<p>However, according to <a href=\"https://stackoverflow.com/a/6587528/5755166\">this answer</a> you should think about installing the <code>python3-pip</code> package instead of the <code>python-pip</code> package when using Python 3.x.</p>\n\n<p>Furthermore, to make the <code>php5-mcrypt</code> package installation working, you might want to add the universe repository like it's shown <a href=\"https://askubuntu.com/a/483188\">right here</a>. I had trouble with the <code>add-apt-repository</code> command missing in the Ubuntu Docker image so I installed the package <code>software-properties-common</code> at first to make the command available.</p>\n\n<p>Splitting up the statements and putting <code>apt-get update</code> and <code>apt-get install</code> into one <code>RUN</code> command is also recommended <a href=\"https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Oh and by the way, you actually don't need the <code>-y</code> flag at <code>apt-get update</code> because there is nothing that has to be confirmed automatically.</p>\n\n<h1>Finally:</h1>\n\n<pre><code>FROM ubuntu:14.04\n\n# Install dependencies\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    software-properties-common\nRUN add-apt-repository universe\nRUN apt-get update &amp;&amp; apt-get install -y \\\n    apache2 \\\n    curl \\\n    git \\\n    libapache2-mod-php5 \\\n    php5 \\\n    php5-mcrypt \\\n    php5-mysql \\\n    python3.4 \\\n    python3-pip\n</code></pre>\n\n<p>Remark: The used versions (e.g. of Ubuntu) might be outdated in the future.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10285192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7474111274d0e1a0f7e8ed8837432a?s=128&d=identicon&r=PG", "display_name": "Rishich Mishra", "link": "https://stackoverflow.com/users/10285192/rishich-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1535465070, "last_edit_date": 1535465070, "creation_date": 1535464717, "answer_id": 52059705, "question_id": 36611052, "link": "https://stackoverflow.com/questions/36611052/install-pip-in-docker/52059705#52059705", "title": "Install pip in docker", "body": "<p>You might want to change the DNS settings of the Docker daemon. You can edit (or create) the configuration file at <code>/etc/docker/daemon.json</code> with the dns key, as </p>\n\n<pre><code>{\n    \"dns\": [\"your_dns_address\", \"8.8.8.8\"]\n}\n</code></pre>\n\n<p>In the example above, the first element of the list is the address of your DNS server. The second item is the Google\u2019s DNS which can be used when the first one is not available.</p>\n\n<p>Before proceeding, save daemon.json and restart the docker service.</p>\n\n<pre><code>sudo service docker restart\n</code></pre>\n\n<p>Once fixed, retry to run the build command.</p>\n"}, {"tags": [], "owner": {"reputation": 29117, "user_id": 1587329, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/UWmiP.png?s=128&g=1", "display_name": "serv-inc", "link": "https://stackoverflow.com/users/1587329/serv-inc"}, "is_accepted": false, "score": 1, "last_activity_date": 1560796468, "creation_date": 1560796468, "answer_id": 56637012, "question_id": 36611052, "link": "https://stackoverflow.com/questions/36611052/install-pip-in-docker/56637012#56637012", "title": "Install pip in docker", "body": "<p>An alternative is to use the Alpine Linux containers, e.g. <code>python:2.7-alpine</code>. They offer <code>pip</code> out of the box (and have a smaller footprint which leads to faster builds etc).</p>\n"}, {"tags": [], "owner": {"reputation": 1715, "user_id": 8712494, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iWUnn1PqAuw/AAAAAAAAAAI/AAAAAAAAAGQ/2OslFo_DLk4/photo.jpg?sz=128", "display_name": "Amin Shojaei", "link": "https://stackoverflow.com/users/8712494/amin-shojaei"}, "is_accepted": false, "score": 3, "last_activity_date": 1609420058, "creation_date": 1609420058, "answer_id": 65521291, "question_id": 36611052, "link": "https://stackoverflow.com/questions/36611052/install-pip-in-docker/65521291#65521291", "title": "Install pip in docker", "body": "<p>This command worked fine for me:</p>\n<pre><code>RUN apt-get -y install python3-pip\n</code></pre>\n"}], "owner": {"reputation": 3608, "user_id": 1040915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5d4fad479f4b604d4acc731fdae68d9d?s=128&d=identicon&r=PG", "display_name": "scubbo", "link": "https://stackoverflow.com/users/1040915/scubbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138862, "favorite_count": 6, "accepted_answer_id": 36611580, "answer_count": 5, "score": 48, "last_activity_date": 1609420058, "creation_date": 1460588570, "last_edit_date": 1495541864, "question_id": 36611052, "link": "https://stackoverflow.com/questions/36611052/install-pip-in-docker", "title": "Install pip in docker", "body": "<p>I'm not able to install pip in Docker.</p>\n\n<p>Here's my Dockerfile:</p>\n\n<pre><code>FROM ubuntu:14.04\n\n# Install dependencies\nRUN apt-get update -y\nRUN apt-get install -y git curl apache2 php5 libapache2-mod-php5 php5-mcrypt php5-mysql python3.4 python-pip\n</code></pre>\n\n<p>When building, I get:</p>\n\n<pre><code>Sending build context to Docker daemon 109.6 kB\nStep 1 : FROM ubuntu:14.04\n ---&gt; b549a9959a66\nStep 2 : RUN apt-get update -y\n ---&gt; Using cache\n ---&gt; 84577471562c\nStep 3 : RUN apt-get install -y git curl apache2 php5 libapache2-mod-php5 php5-mcrypt php5-mysql python3.4 python-pip\n ---&gt; Running in 49252a6d0eb1\nReading package lists...\nBuilding dependency tree...\nReading state information...\npython3.4 is already the newest version.\nThe following extra packages will be installed:\n  apache2-bin apache2-data binutils build-essential ca-certificates cpp\n  cpp-4.8 dpkg-dev fakeroot g++ g++-4.8 gcc gcc-4.8 git-man krb5-locales\n  libalgorithm-diff-perl libalgorithm-diff-xs-perl libalgorithm-merge-perl\n  libapr1 libaprutil1 libaprutil1-dbd-sqlite3 libaprutil1-ldap libasan0\n  libasn1-8-heimdal libatomic1 libc-dev-bin libc6-dev libcloog-isl4 libcurl3\n  libcurl3-gnutls libdpkg-perl libedit2 liberror-perl libfakeroot\n  libfile-fcntllock-perl libgcc-4.8-dev libgmp10 libgomp1 libgssapi-krb5-2\n  libgssapi3-heimdal libhcrypto4-heimdal libheimbase1-heimdal\n  libheimntlm0-heimdal libhx509-5-heimdal libidn11 libisl10 libitm1\n  libk5crypto3 libkeyutils1 libkrb5-26-heimdal libkrb5-3 libkrb5support0\n  libldap-2.4-2 libmcrypt4 libmpc3 libmpfr4 libmysqlclient18 libpython-stdlib\n  libpython2.7-minimal libpython2.7-stdlib libquadmath0 libroken18-heimdal\n  librtmp0 libsasl2-2 libsasl2-modules libsasl2-modules-db libstdc++-4.8-dev\n  libtimedate-perl libtsan0 libwind0-heimdal libx11-6 libx11-data libxau6\n  libxcb1 libxdmcp6 libxext6 libxml2 libxmuu1 linux-libc-dev lsof make\n  manpages manpages-dev mysql-common openssh-client openssl patch php5-cli\n  php5-common php5-json php5-readline psmisc python python-chardet\n  python-chardet-whl python-colorama python-colorama-whl python-distlib\n  python-distlib-whl python-html5lib python-html5lib-whl python-minimal\n  python-pip-whl python-pkg-resources python-requests python-requests-whl\n  python-setuptools python-setuptools-whl python-six python-six-whl\n  python-urllib3 python-urllib3-whl python-wheel python2.7 python2.7-minimal\n  python3-pkg-resources rsync sgml-base ssl-cert xauth xml-core xz-utils\nSuggested packages:\n  www-browser apache2-doc apache2-suexec-pristine apache2-suexec-custom ufw\n  apache2-utils binutils-doc cpp-doc gcc-4.8-locales debian-keyring\n  g++-multilib g++-4.8-multilib gcc-4.8-doc libstdc++6-4.8-dbg gcc-multilib\n  autoconf automake1.9 libtool flex bison gdb gcc-doc gcc-4.8-multilib\n  libgcc1-dbg libgomp1-dbg libitm1-dbg libatomic1-dbg libasan0-dbg\n  libtsan0-dbg libquadmath0-dbg gettext-base git-daemon-run\n  git-daemon-sysvinit git-doc git-el git-email git-gui gitk gitweb git-arch\n  git-bzr git-cvs git-mediawiki git-svn php-pear glibc-doc krb5-doc krb5-user\n  libmcrypt-dev mcrypt libsasl2-modules-otp libsasl2-modules-ldap\n  libsasl2-modules-sql libsasl2-modules-gssapi-mit\n  libsasl2-modules-gssapi-heimdal libstdc++-4.8-doc make-doc man-browser\n  ssh-askpass libpam-ssh keychain monkeysphere ed diffutils-doc\n  php5-user-cache python-doc python-tk python-genshi python-lxml\n  python-distribute python-distribute-doc python2.7-doc binfmt-support\n  python3-setuptools openssh-server sgml-base-doc openssl-blacklist debhelper\nRecommended packages:\n  ssh-client python-dev-all\nThe following NEW packages will be installed:\n  apache2 apache2-bin apache2-data binutils build-essential ca-certificates\n  cpp cpp-4.8 curl dpkg-dev fakeroot g++ g++-4.8 gcc gcc-4.8 git git-man\n  krb5-locales libalgorithm-diff-perl libalgorithm-diff-xs-perl\n  libalgorithm-merge-perl libapache2-mod-php5 libapr1 libaprutil1\n  libaprutil1-dbd-sqlite3 libaprutil1-ldap libasan0 libasn1-8-heimdal\n  libatomic1 libc-dev-bin libc6-dev libcloog-isl4 libcurl3 libcurl3-gnutls\n  libdpkg-perl libedit2 liberror-perl libfakeroot libfile-fcntllock-perl\n  libgcc-4.8-dev libgmp10 libgomp1 libgssapi-krb5-2 libgssapi3-heimdal\n  libhcrypto4-heimdal libheimbase1-heimdal libheimntlm0-heimdal\n  libhx509-5-heimdal libidn11 libisl10 libitm1 libk5crypto3 libkeyutils1\n  libkrb5-26-heimdal libkrb5-3 libkrb5support0 libldap-2.4-2 libmcrypt4\n  libmpc3 libmpfr4 libmysqlclient18 libpython-stdlib libpython2.7-minimal\n  libpython2.7-stdlib libquadmath0 libroken18-heimdal librtmp0 libsasl2-2\n  libsasl2-modules libsasl2-modules-db libstdc++-4.8-dev libtimedate-perl\n  libtsan0 libwind0-heimdal libx11-6 libx11-data libxau6 libxcb1 libxdmcp6\n  libxext6 libxml2 libxmuu1 linux-libc-dev lsof make manpages manpages-dev\n  mysql-common openssh-client openssl patch php5 php5-cli php5-common\n  php5-json php5-mcrypt php5-mysql php5-readline psmisc python python-chardet\n  python-chardet-whl python-colorama python-colorama-whl python-distlib\n  python-distlib-whl python-html5lib python-html5lib-whl python-minimal\n  python-pip python-pip-whl python-pkg-resources python-requests\n  python-requests-whl python-setuptools python-setuptools-whl python-six\n  python-six-whl python-urllib3 python-urllib3-whl python-wheel python2.7\n  python2.7-minimal python3-pkg-resources rsync sgml-base ssl-cert xauth\n  xml-core xz-utils\n0 upgraded, 130 newly installed, 0 to remove and 4 not upgraded.\nNeed to get 61.9 MB of archives.\nAfter this operation, 213 MB of additional disk space will be used.\nErr http://archive.ubuntu.com/ubuntu/ trusty-updates/main libroken18-heimdal amd64 1.6~git20131207+dfsg-1ubuntu1.1\n  Could not resolve 'archive.ubuntu.com'\nErr http://archive.ubuntu.com/ubuntu/ trusty-updates/main libasn1-8-heimdal amd64 1.6~git20131207+dfsg-1ubuntu1.1\n  Could not resolve 'archive.ubuntu.com'\n\n.\n.\n.\n\nErr http://archive.ubuntu.com/ubuntu/ trusty-security/main python2.7 amd64 2.7.6-8ubuntu0.2\n  Could not resolve 'archive.ubuntu.com'\nE: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/h/heimdal/libroken18-heimdal_1.6~git20131207+dfsg-1ubuntu1.1_amd64.deb  Could not resolve 'archive.ubuntu.com'\n\nE: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/h/heimdal/libasn1-8-heimdal_1.6~git20131207+dfsg-1ubuntu1.1_amd64.deb  Could not resolve 'archive.ubuntu.com'\n\nE: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/k/krb5/libkrb5support0_1.12+dfsg-2ubuntu5.2_amd64.deb  Could not resolve 'archive.ubuntu.com'\n\nE: Failed to fetch http://archive.ubuntu.com/ubuntu/pool/main/s/ssl-cert/ssl-cert_1.0.33_all.deb  Could not resolve 'archive.ubuntu.com'\n\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\nThe command '/bin/sh -c apt-get install -y git curl apache2 php5 libapache2-mod-php5 php5-mcrypt php5-mysql python3.4 python-pip' returned a non-zero code: 100\n</code></pre>\n\n<p>Having read <a href=\"https://stackoverflow.com/a/34145676/1040915\">this answer</a>, I tried adding the line <code>RUN \"sh\" \"-c\" \"echo nameserver 8.8.8.8 &gt;&gt; /etc/resolv.conf\"</code> - the error this time is:</p>\n\n<pre><code>...\n...\nReading state information...\nE: Unable to locate package php5-mcrypt\nE: Unable to locate package python-pip\nThe command '/bin/sh -c apt-get install -y git curl apache2 php5 libapache2-mod-php5 php5-mcrypt php5-mysql python3.4 python-pip' returned a non-zero code: 100\n</code></pre>\n\n<p>What am I doing wrong? I've seen some claims that I should try a different version of Ubuntu, but switching to 13.1 didn't change anything.</p>\n"}, {"tags": ["python", "image", "numpy", "iteration"], "answers": [{"comments": [{"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1460593644, "post_id": 36611749, "comment_id": 60820397, "body": "Parentheses are just clutter here"}, {"owner": {"reputation": 671, "user_id": 1658660, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f36b0d1d5faff509071d5e4242299698?s=128&d=identicon&r=PG", "display_name": "Devon M", "link": "https://stackoverflow.com/users/1658660/devon-m"}, "edited": false, "score": 0, "creation_date": 1460594200, "post_id": 36611749, "comment_id": 60820525, "body": "What details were you looking for?"}, {"owner": {"reputation": 2895, "user_id": 3412611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bPsp8.jpg?s=128&g=1", "display_name": "Tony Babarino", "link": "https://stackoverflow.com/users/3412611/tony-babarino"}, "reply_to_user": {"reputation": 671, "user_id": 1658660, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f36b0d1d5faff509071d5e4242299698?s=128&d=identicon&r=PG", "display_name": "Devon M", "link": "https://stackoverflow.com/users/1658660/devon-m"}, "edited": false, "score": 0, "creation_date": 1460594311, "post_id": 36611749, "comment_id": 60820548, "body": "@ChuckFulminata I meant example input, desired output format etc. so we could provide You more specific answer with complete implementation but I hope You will be able to produce it by yourself now."}], "tags": [], "owner": {"reputation": 2895, "user_id": 3412611, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/bPsp8.jpg?s=128&g=1", "display_name": "Tony Babarino", "link": "https://stackoverflow.com/users/3412611/tony-babarino"}, "is_accepted": false, "score": 1, "last_activity_date": 1460594293, "last_edit_date": 1460594293, "creation_date": 1460593347, "answer_id": 36611749, "question_id": 36611043, "link": "https://stackoverflow.com/questions/36611043/itereating-over-an-image-with-backtracking/36611749#36611749", "title": "Itereating over an image with backtracking", "body": "<p>If I have understood correctly You want to start in the corner of an image and set every pixel outside of any shape to <code>black</code>, lets give it a value <code>1</code>. So after this procedure You will have an array with inner pixels in every shape set to <code>white</code> or <code>0</code> and every outer or border pixel to <code>1</code>.</p>\n\n<p>You didn't specify any details so I can give You only some pseudocode. You want to iterate over 2d array using recurention:</p>\n\n<pre><code>def fill(A, x, y):\n    A[x][y] = 1\n    if x-1 &gt;= 0 and A[x-1][y] == 0:\n        fill(A, x-1, y)\n    if x+1 &lt; N and A[x+1][y] == 0:\n        fill(A, x+1, y)\n    if y-1 &gt;= 0 and A[x][y-1] == 0:\n        fill(A, x-1, y-1)\n    if y+1 &lt; N and A[x][y+1] == 0:\n        fill(A, x, y+1)\n\nfill(A, 0, 0)\n</code></pre>\n\n<p>It's pretty easy solution and will work unless <code>0,0</code> is inside of a shape or belongs to shape border. You can use 2d <code>numpy.array</code> for <code>A</code> in Your implementation.</p>\n"}], "owner": {"reputation": 671, "user_id": 1658660, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/f36b0d1d5faff509071d5e4242299698?s=128&d=identicon&r=PG", "display_name": "Devon M", "link": "https://stackoverflow.com/users/1658660/devon-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1460594293, "creation_date": 1460588506, "last_edit_date": 1495541760, "question_id": 36611043, "link": "https://stackoverflow.com/questions/36611043/itereating-over-an-image-with-backtracking", "title": "Itereating over an image with backtracking", "body": "<p>So I asked <a href=\"https://stackoverflow.com/questions/36585243/coloring-only-the-inside-of-a-shape?noredirect=1#comment60802570_36585243\">this question</a> and in one of the comments someone suggested </p>\n\n<blockquote>\n  <p>I don't see why you can't just start in the corner and walk through every pixel on the outside of the shape (and use backtracking to avoid the lines), which would give you your outside array, then just fill in the other pixels that aren't black.</p>\n</blockquote>\n\n<p>But I don't understand how you would actually go about implementing said solution, because from my understanding, if I have an iterable</p>\n\n<pre><code>list = [1,2,3,4,5,6,7,8,9,10]\n</code></pre>\n\n<p>I can iterate over it</p>\n\n<pre><code>for item in list:\n    do something\n</code></pre>\n\n<p>I can even make it stop, start or anything else using conditionals, but I do not know how I could get it to iterate over the outer white pixels without also picking up the inner white pixels</p>\n"}, {"tags": ["python", "windows", "python-2.7"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460589224, "post_id": 36611031, "comment_id": 60819086, "body": "Have you tried <code>dli.switch</code>?"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1460590782, "post_id": 36611031, "comment_id": 60819601, "body": "I&#39;m not sure there is a single answer to this question. What are the semantics associated with what switch you pass to the <code>Outlet</code> constructor? If you reuse it, does it work differently? If it&#39;s shared between many <code>dli</code> instances, does that matter? It&#39;s not clear to me why you have a <code>dli</code> class at all, since you don&#39;t ever use it to store any data (as attributes)."}, {"owner": {"reputation": 47, "user_id": 5472752, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/184ee0bf36addb7a0811d322869dfe1f?s=128&d=identicon&r=PG&f=1", "display_name": "atf", "link": "https://stackoverflow.com/users/5472752/atf"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1460591535, "post_id": 36611031, "comment_id": 60819852, "body": "@Blckknght the only reason I have a dli class is to share the instantiation of <code>switch</code> among all methods in <code>dli</code>. I only put in one function  here to illustrate my point, but what I actually have re-creates an instances of <code>PowerSwitch()</code> which is what I suspect is slowing down the script. <code>switch</code> is the same throughout the class, and there&#39;s no difference in various uses. For this particular class, I have no need for any attributes besides <code>switch</code>."}, {"owner": {"reputation": 47, "user_id": 5472752, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/184ee0bf36addb7a0811d322869dfe1f?s=128&d=identicon&r=PG&f=1", "display_name": "atf", "link": "https://stackoverflow.com/users/5472752/atf"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460591618, "post_id": 36611031, "comment_id": 60819882, "body": "@TigerhawkT3 I have, but Python was returning an error stating that <code>dli</code> doesn&#39;t have that attribute, or something along those lines. I just wrote up a mini script and it worked just fine, I must have referenced something incorrectly. I&#39;ll try implementing it again and let you know!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6191794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1bZ9a.jpg?s=128&g=1", "display_name": "Lyndon Ong Yiu", "link": "https://stackoverflow.com/users/6191794/lyndon-ong-yiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1460589740, "creation_date": 1460589740, "answer_id": 36611229, "question_id": 36611031, "link": "https://stackoverflow.com/questions/36611031/referencing-instantiation-of-class-inside-another-class/36611229#36611229", "title": "Referencing instantiation of class inside another class", "body": "<p>If you're trying to pass a specific instance of a PowerSwitch object into the Outlet object you're instantiating within the PowerOn function, pass it into the function as an argument, as such:</p>\n\n<pre><code>def PowerOn(self, port, switch):\n  outlet = dlipower.Outlet(switch)\n  outlet.on(port)\n</code></pre>\n\n<p>Then, whenever you want to instantiate a new Outlet, just instantiate the PowerSwitch before the function call, and include it as an argument. </p>\n\n<p>In order to reference a variable from outside a given function within a function, that variable must either be global (created outside any function or class), a class variable (created outside a function within a class), a variable created within the function, or an argument provided with the function. </p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 5472752, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/184ee0bf36addb7a0811d322869dfe1f?s=128&d=identicon&r=PG&f=1", "display_name": "atf", "link": "https://stackoverflow.com/users/5472752/atf"}, "edited": false, "score": 0, "creation_date": 1460651995, "post_id": 36611708, "comment_id": 60853970, "body": "I&#39;ve tried both ways in my main script and I&#39;m still getting the same issue that <code>switch</code> is uninstantiated. I try the exact same methods in a separate script and they work just fine. I made sure of my class instantiations and my globals, but I still have no clue what could be going wrong.... thank you for the tips, by the way :)"}, {"owner": {"reputation": 47, "user_id": 5472752, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/184ee0bf36addb7a0811d322869dfe1f?s=128&d=identicon&r=PG&f=1", "display_name": "atf", "link": "https://stackoverflow.com/users/5472752/atf"}, "edited": false, "score": 0, "creation_date": 1460670427, "post_id": 36611708, "comment_id": 60864297, "body": "i figured out what the problem was: i was instantiating the <code>switch</code> with a blank password variable, even though i change the variable later on in the script, it still istantiates with no password, which is what was causing the error. Thanks for the help!"}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 2, "last_activity_date": 1460593108, "creation_date": 1460593108, "answer_id": 36611708, "question_id": 36611031, "link": "https://stackoverflow.com/questions/36611031/referencing-instantiation-of-class-inside-another-class/36611708#36611708", "title": "Referencing instantiation of class inside another class", "body": "<p>If you want your method to access a class variable, you need to access it via the class name or via <code>self</code>. Either one should work:</p>\n\n<pre><code>class dli:\n    switch = dlipower.PowerSwitch()\n    # no need for an empty __init__ method\n    def PowerOn(self, port):\n        outlet = dlipower.Outlet(dli.switch)\n        outlet.on(port)\n</code></pre>\n\n<p>Or: </p>\n\n<pre><code>class dli:\n    switch = dlipower.PowerSwitch()\n    def PowerOn(self, port):\n        outlet = dlipower.Outlet(self.switch)\n        outlet.on(port)\n</code></pre>\n\n<p>This still recreates the <code>outlet</code> every time you call <code>PowerOn</code>, but perhaps that's cheap...</p>\n\n<p>You don't really need a class for this. The class variable <code>switch</code> is just a global variable tucked away in the class namespace. Since you don't have any other attributes (either class attributes or instance attributes), it might be simpler to just use an actual global instead:</p>\n\n<pre><code># no dli class needed any more, just use top level variables and functions!\n\n_switch = dlipower.PowerSwitch() # create a global PowerSwitch\n\ndef PowerOn(port):\n    outlet = dlipower.Outlet(_switch)\n    outlet.on(port)\n</code></pre>\n\n<p>I've used a name with an underscore for the global variable. That tells any other programmers looking at the code that it is an internal implementation detail, not part of your module's API. It's not \"private\" in the way some other programming languages mean (where the compiler prevents other code from accessing it), but it's Python's version of being private (where other code is <em>discouraged</em>, but not <em>prevented</em> from accessing internal stuff).</p>\n\n<p>Speaking of naming conventions, you might want to change yours. The most common convention for Python code is to use <code>CaptializedNames</code> only for classes, and <code>lower_case_names_with_underscores</code> for most other things (functions, variables, etc.). Using a different convention isn't <em>wrong</em> per se, but it may make it more difficult for others to read your code.</p>\n"}], "owner": {"reputation": 47, "user_id": 5472752, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/184ee0bf36addb7a0811d322869dfe1f?s=128&d=identicon&r=PG&f=1", "display_name": "atf", "link": "https://stackoverflow.com/users/5472752/atf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1225, "favorite_count": 0, "accepted_answer_id": 36611708, "answer_count": 2, "score": 0, "last_activity_date": 1460593108, "creation_date": 1460588455, "last_edit_date": 1460588772, "question_id": 36611031, "link": "https://stackoverflow.com/questions/36611031/referencing-instantiation-of-class-inside-another-class", "title": "Referencing instantiation of class inside another class", "body": "<p>The title of the question may be very weird, but I had no idea how to word it otherwise. I'm looking for some help in understanding class instantiation and variable referencing in Python, particularly when a class variable is an instance of another class. I'll use the <code>dlipower</code> Python module since that's what I'm working with right now.</p>\n\n<p><code>dlipower</code> is comprised of two classes, <code>dlipower.PowerSwitch()</code> and <code>dlipower.Outlet(switch)</code>. <code>Outlet(switch)</code> requires an instance of <code>PowerSwitch()</code> as its first argument. I wrote up a class that utilizes both of of these classes, but I have no idea how to reference the instance of <code>PowerSwitch</code> without instantiating it in every function I have. I am doing something similar to the following right now:</p>\n\n<pre><code>import dlipower\nclass dli:\n   switch = dlipower.PowerSwitch()  # should this be here?\n   def __init__(self):\n      pass\n   def PowerOn(self, port):\n      switch = dlipower.PowerSwitch()  # this is what I want to remove\n      outlet = dlipower.Outlet(switch)\n      outlet.on(port)\n</code></pre>\n\n<p>I've been coding Python code a while but still very new to OOP, so any tips and pointers would be of great help.</p>\n"}, {"tags": ["python", "function", "keyword-argument"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1460588366, "post_id": 36610950, "comment_id": 60818782, "body": "Care to explain what you mean about <i>type-preservation</i> vulnerabilities (in italics, no less)? What exactly changes? The code you show will, of course, not produce the result you say you expect, what is the <i>actual</i> code you are using?"}, {"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 1, "creation_date": 1460588415, "post_id": 36610950, "comment_id": 60818808, "body": "Does func() also take **kwargs?"}, {"owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "edited": false, "score": 0, "creation_date": 1460588566, "post_id": 36610950, "comment_id": 60818861, "body": "Hi Natecat. Great question, unfortunately it doesn&#39;t. The function is actually &#39;pandas.read_csv()&#39; (already implemented)."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1460588591, "post_id": 36610950, "comment_id": 60818867, "body": "What&#39;s wrong with <code>func(&#39;&#47;path&#47;to&#47;file.csv&#39;, **kwargs)</code>?"}, {"owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "edited": false, "score": 0, "creation_date": 1460588782, "post_id": 36610950, "comment_id": 60818946, "body": "Hi  user2357112. Thanks for the question. Functions calls (as opposed to Function definitions) don&#39;t accept **kwargs. One can use &#39;kwargs&#39;, but that is a dict() at that point, not the comma-separated k=v pairs expected."}, {"owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "edited": false, "score": 2, "creation_date": 1460588819, "post_id": 36610950, "comment_id": 60818952, "body": "@prismalytics.io actually they do"}, {"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 1, "creation_date": 1460588976, "post_id": 36610950, "comment_id": 60818998, "body": "** is the syntax for expanding dicts"}, {"owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "edited": false, "score": 0, "creation_date": 1460589060, "post_id": 36610950, "comment_id": 60819033, "body": "Hi Peter Gibson and Natecat. I tried it in the call but couldn&#39;t get that to work. I&#39;ll double-check what I did (b/c now you guys have me wondering). Be right back. :)"}], "answers": [{"comments": [{"owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "edited": false, "score": 0, "creation_date": 1460589780, "post_id": 36611027, "comment_id": 60819293, "body": "Thank you zondo. This (the solution you posted) is more like the pattern that I generally use. It wasn&#39;t applicable in this case (mostly because I&#39;m already using a Python metaclass (metaclass=abc.ABCMeta), in my code and didn&#39;t want one more level of indirection. =:). I upvoted you solution for it&#39;s alternative approach (one that I generally use)."}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 1, "last_activity_date": 1460588437, "creation_date": 1460588437, "answer_id": 36611027, "question_id": 36610950, "link": "https://stackoverflow.com/questions/36610950/passing-kwargs-received-in-a-wrapper-function-definition-to-arguments-of-an-e/36611027#36611027", "title": "Passing **kwargs received in a wrapper-function definition, to arguments of an enclosed (i.e. wrapped) function call", "body": "<p>An easy way to define a very custom wrapper is to define your own class:</p>\n\n<pre><code>class AdditionWrapper:\n    def __init__(self, func):\n        self.func = func\n    def __call__(self, **kwargs):\n        return self.func('/path/to/file.csv', **kwargs)\n</code></pre>\n\n<p>You could also make the path customizable:</p>\n\n<pre><code>class AdditionWrapper:\n    _path = '/path/to/file.csv'\n    def __init__(self, func):\n        self.func = func\n    def __call__(self, **kwargs):\n        return self.func(self._path, **kwargs)\n    def set_path(self, path):\n        self._path = path\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>@AdditionWrapper\ndef myfunc(...):\n    ...\n\nmyfunc.set_path(mypath)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "edited": false, "score": 0, "creation_date": 1460589528, "post_id": 36611057, "comment_id": 60819208, "body": "I upvoted this (and all of the helpful comments from you and others above, too) and checked it as the solution. Oh dear,... the issue was a total red-herring: It was a pandas exception, not the unpacking of **kwargs exception (which I had tried an hour ago -- but again, a red-herring pandas-specific error). Sometimes you need another set of eyes. Thank you all! :)"}], "tags": [], "owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "is_accepted": true, "score": 6, "last_activity_date": 1460588585, "creation_date": 1460588585, "answer_id": 36611057, "question_id": 36610950, "link": "https://stackoverflow.com/questions/36610950/passing-kwargs-received-in-a-wrapper-function-definition-to-arguments-of-an-e/36611057#36611057", "title": "Passing **kwargs received in a wrapper-function definition, to arguments of an enclosed (i.e. wrapped) function call", "body": "<p><code>**kwargs</code> is a dict, meaning you can use the double splat (<code>**</code>) to <a href=\"https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"noreferrer\">unpack it as a list of keyword arguments</a>. So your wrapper function could be like this:</p>\n\n<pre><code>def wrapped_func(**kwargs):\n   # Do some preparation stuff here.\n   func('/path/to/file.csv', **kwargs)\n   # Do some other stuff.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "edited": false, "score": 0, "creation_date": 1460590328, "post_id": 36611062, "comment_id": 60819478, "body": "Thank you Peter. Yeah you, Natecat (and others) were/are correct. This was the first thing I tried as it made total sense to do that. But the particular pandas exception threw me for a loop (believing that the expansion wasn&#39;t happening correctly, when in reality it was expanding correctly but pandas choking on the &#39;sep=&#39;:&#39; parameter I passed to it (again via **kwargs, which did expand). Oh brother. LOL You answer upvoted, too."}], "tags": [], "owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "is_accepted": false, "score": 1, "last_activity_date": 1460589096, "last_edit_date": 1460589096, "creation_date": 1460588597, "answer_id": 36611062, "question_id": 36610950, "link": "https://stackoverflow.com/questions/36610950/passing-kwargs-received-in-a-wrapper-function-definition-to-arguments-of-an-e/36611062#36611062", "title": "Passing **kwargs received in a wrapper-function definition, to arguments of an enclosed (i.e. wrapped) function call", "body": "<p>Just use the same syntax when you call a function to expand the kwargs dict as keyword arguments:</p>\n\n<pre><code>func('/path/to/file.csv', **kwargs)\n</code></pre>\n\n<p>You can also pass in positional arguments in the same way</p>\n\n<pre><code>func('/path/to/file.csv', *args, **kwargs)\n</code></pre>\n\n<p>Here's a link to the Python docs on the subject: <a href=\"https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"nofollow\">https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists</a></p>\n"}, {"comments": [{"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 1, "creation_date": 1460588704, "post_id": 36611063, "comment_id": 60818916, "body": "User has stated that func() isn&#39;t written by them"}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "reply_to_user": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 1, "creation_date": 1460588952, "post_id": 36611063, "comment_id": 60818990, "body": "Sure, i only wrote it to print what would arrive to the function. As long as all arguments match the ones defined by <code>pandas.read_csv</code> they will be set correctly."}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "reply_to_user": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 1, "creation_date": 1460589397, "post_id": 36611063, "comment_id": 60819152, "body": "If he&#39;s wrapping the call to <code>pandas.read_csv</code> with some default values, then it&#39;s reasonable to be able to have the ability to merge and overwrite."}, {"owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "edited": false, "score": 0, "creation_date": 1460590014, "post_id": 36611063, "comment_id": 60819364, "body": "Thank you guys (and girls in case user1434070). All comments valid and upvoted. Thank you for the suggestions and perspectives."}], "tags": [], "owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "is_accepted": false, "score": 2, "last_activity_date": 1460588827, "last_edit_date": 1460588827, "creation_date": 1460588599, "answer_id": 36611063, "question_id": 36610950, "link": "https://stackoverflow.com/questions/36610950/passing-kwargs-received-in-a-wrapper-function-definition-to-arguments-of-an-e/36611063#36611063", "title": "Passing **kwargs received in a wrapper-function definition, to arguments of an enclosed (i.e. wrapped) function call", "body": "<p>Why not simply merge the kwargs:</p>\n\n<pre><code>def func(*args, **kwargs):\n    print args\n    print kwargs\n\n\ndef wrapped_func(**kwargs):\n    # Do some preparation stuff here.\n    func('/path/to/file.csv', **dict(comma_separated_key='value_injected_here', **kwargs))\n    # Do some other stuff.\n\n\nwrapped_func(error_bad_lines=True, sep=':', skip_footer=0)\n\n# Outputs:\n('/path/to/file.csv',)\n{'skip_footer': 0, 'error_bad_lines': True, 'comma_separated_key': 'value_injected_here', 'sep': ':'}\n</code></pre>\n"}], "owner": {"reputation": 3761, "user_id": 1336758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oIp1q.png?s=128&g=1", "display_name": "NYCeyes", "link": "https://stackoverflow.com/users/1336758/nyceyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3004, "favorite_count": 0, "accepted_answer_id": 36611057, "answer_count": 4, "score": 4, "last_activity_date": 1460589096, "creation_date": 1460587968, "question_id": 36610950, "link": "https://stackoverflow.com/questions/36610950/passing-kwargs-received-in-a-wrapper-function-definition-to-arguments-of-an-e", "title": "Passing **kwargs received in a wrapper-function definition, to arguments of an enclosed (i.e. wrapped) function call", "body": "<p>Oh dear, I hope I got the title right. :)</p>\n\n<p>How can one pass the **kwargs supplied to a <em>wrapper-function</em> <em>definition</em>, to another (enclosed) function <em>call</em> that it wraps. For example:</p>\n\n<pre><code>def wrapped_func(**kwargs):\n   # Do some preparation stuff here.\n   func('/path/to/file.csv', comma_separated_key=value_injected_here)\n   # Do some other stuff.\n</code></pre>\n\n<p>So for example, this call:</p>\n\n<pre><code>wrapped_func(error_bad_lines=True, sep=':', skip_footer=0, ...)\n</code></pre>\n\n<p>Should result in this:</p>\n\n<pre><code>func('/path/to/file.csv', error_bad_lines=True, sep=':', skip_footer=0, ...)\n</code></pre>\n\n<p>I've tinkered with a variety of approaches over the past couple of hours, but each exposed <em>type-preservation</em> vulnerabilities (for the values). I've not used this particular wrapper pattern before, and was wondering if the community could give some help. Thank you in advance.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1460587751, "post_id": 36610889, "comment_id": 60818570, "body": "Welcome to StackOverflow, Lucas. Please be aware, the expectation is that you try to solve any given problem yourself, and then describe your particular problem in detail, and include an <a href=\"http://www.stackoverflow.com/help/mcve\">MCVE</a>. Please see <a href=\"http://www.stackoverflow.com/help/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1460587833, "post_id": 36610889, "comment_id": 60818598, "body": "What is it doing wrong?"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 5864919, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CtGX4suRkhk/AAAAAAAAAAI/AAAAAAAAAEo/aGH25h_vMas/photo.jpg?sz=128", "display_name": "Lucas Matheus", "link": "https://stackoverflow.com/users/5864919/lucas-matheus"}, "edited": false, "score": 0, "creation_date": 1460673791, "post_id": 36611966, "comment_id": 60865601, "body": "Although is a simple advice, it was really helpful, thank you"}, {"owner": {"reputation": 40596, "user_id": 1677912, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/craWj.png?s=128&g=1", "display_name": "Mogsdad", "link": "https://stackoverflow.com/users/1677912/mogsdad"}, "edited": false, "score": 1, "creation_date": 1461615582, "post_id": 36611966, "comment_id": 61269533, "body": "<i>I&#39;m new to Stack Overflow, otherwise I&#39;d post the code with the revisions to make it easier to understand.</i> There is no restriction on new users posting code."}], "tags": [], "owner": {"reputation": 11, "user_id": 6201437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad08e2cd69f446d39e42a7b96f5d6256?s=128&d=identicon&r=PG&f=1", "display_name": "Sparrow", "link": "https://stackoverflow.com/users/6201437/sparrow"}, "is_accepted": false, "score": 1, "last_activity_date": 1461615615, "last_edit_date": 1461615615, "creation_date": 1460595049, "answer_id": 36611966, "question_id": 36610889, "link": "https://stackoverflow.com/questions/36610889/rock-paper-scissors-how-to-start-a-new-game-when-theres-a-draw/36611966#36611966", "title": "Rock, Paper, Scissors - How to start a new game when there&#39;s a draw", "body": "<p>I'm semi-new to Python compared to some other people, but I've learnt a good amount so far. So here are some tips to solve your problem and other tips to make your code better. Now, I'm not totally sure what your exact problem is, but I believe you want to know how to start the game over if it's a tie.</p>\n\n<p>Put the game into a <code>while</code> loop that's equal to True. Then if it's a tie, use the <code>continue</code> statement (if you're unsure what that is look it up) to restart the while loop. At end of the while loop put <code>break</code>.</p>\n\n<p>I'm new to Stack Overflow, otherwise I'd post the code with the revisions to make it easier to understand. Also you don't need so many <code>elif</code> statements to check to see if its a tie. One simple <code>elif playerChoice == computerChoice:</code> should do it.</p>\n\n<p>If you haven't learnt how to make functions yet, you should try simplifying your code with making your own. If you haven't learnt that yet, it's not too hard to learn and it might also help with restarting the game if there's a tie.</p>\n\n<p>Another tip that I'm still working on myself is to add plenty of comments to code. I can't count how many programs I've returned to after a month or so, and I look at it confused, and ask what was the purpose of some function or statement. Hopefully I was helpful (my first posting on Stack Overflow).</p>\n"}, {"comments": [{"owner": {"reputation": 1604, "user_id": 5991423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/beK29.jpg?s=128&g=1", "display_name": "Aaron3468", "link": "https://stackoverflow.com/users/5991423/aaron3468"}, "edited": false, "score": 0, "creation_date": 1460599829, "post_id": 36612012, "comment_id": 60822105, "body": "The downside to this approach is that it simplifies in a lossy way; vaporization, crushing, and poisoning no longer exist."}], "tags": [], "owner": {"reputation": 78, "user_id": 6108588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95319029e56a6dc5e922ad5ded8ff4e0?s=128&d=identicon&r=PG&f=1", "display_name": "monoshiro", "link": "https://stackoverflow.com/users/6108588/monoshiro"}, "is_accepted": false, "score": 2, "last_activity_date": 1460595322, "creation_date": 1460595322, "answer_id": 36612012, "question_id": 36610889, "link": "https://stackoverflow.com/questions/36610889/rock-paper-scissors-how-to-start-a-new-game-when-theres-a-draw/36612012#36612012", "title": "Rock, Paper, Scissors - How to start a new game when there&#39;s a draw", "body": "<p>I think what you want to do is to make your code shorter<br/>\nMaybe instead of trying to use so many if else, consider the following first:</p>\n\n<pre><code>r   0\ns   1\np   2\n\nyou     player 2\nWin\nr   -   s           =   -1\ns   -   p           =   -1\np   -   r           =    2\n\nLose\ns   -   r           =    1\np   -   s           =    1\nr   -   p           =   -2 \n\nDraw\ns   -   s           =    0\np   -   p           =    0\nr   -   r           =    0\n</code></pre>\n\n<p>There are a set of values that you get when you subtract your choice with theirs. So winning will only result in -1 and 2.</p>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 5864919, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CtGX4suRkhk/AAAAAAAAAAI/AAAAAAAAAEo/aGH25h_vMas/photo.jpg?sz=128", "display_name": "Lucas Matheus", "link": "https://stackoverflow.com/users/5864919/lucas-matheus"}, "edited": false, "score": 0, "creation_date": 1460674696, "post_id": 36612016, "comment_id": 60865886, "body": "Your version of the code is indeed better, and tidier, I did learn a few things from your code, hopefully in a near future I will be writing like that,  what I don&#39;t get is how is that your print doesn&#39;t need any parentheses?"}, {"owner": {"reputation": 1604, "user_id": 5991423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/beK29.jpg?s=128&g=1", "display_name": "Aaron3468", "link": "https://stackoverflow.com/users/5991423/aaron3468"}, "reply_to_user": {"reputation": 59, "user_id": 5864919, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CtGX4suRkhk/AAAAAAAAAAI/AAAAAAAAAEo/aGH25h_vMas/photo.jpg?sz=128", "display_name": "Lucas Matheus", "link": "https://stackoverflow.com/users/5864919/lucas-matheus"}, "edited": false, "score": 0, "creation_date": 1460711383, "post_id": 36612016, "comment_id": 60879498, "body": "@LucasMatheus It&#39;s what is called &#39;syntactic sugar&#39;; many programming languages have shortcuts for really common code. In python, <code>print</code> is a function that doesn&#39;t need parenthesis. Python also uses tabs so that you don&#39;t need to type braces <code>{ ... }</code> around code."}], "tags": [], "owner": {"reputation": 1604, "user_id": 5991423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/beK29.jpg?s=128&g=1", "display_name": "Aaron3468", "link": "https://stackoverflow.com/users/5991423/aaron3468"}, "is_accepted": true, "score": 2, "last_activity_date": 1460609480, "last_edit_date": 1460609480, "creation_date": 1460595346, "answer_id": 36612016, "question_id": 36610889, "link": "https://stackoverflow.com/questions/36610889/rock-paper-scissors-how-to-start-a-new-game-when-theres-a-draw/36612016#36612016", "title": "Rock, Paper, Scissors - How to start a new game when there&#39;s a draw", "body": "<p>You'll want to wrap your code in a function definition called <code>play()</code>, or something similar. Then near the end:</p>\n\n<pre><code>answer = True\n\ndef play():\n    # your code\n\n    if playerChoice == computerChoice: \n        print \"It's a draw, want to try again?, please type YES or NO: \"\n        # use a dictionary to convert; default answer is False\n        answer = {'YES' : True, 'NO' : False}.get(input(), False)\n\nif answer:\n    play()\n</code></pre>\n\n<p>This is all strongly rooted in the idea of <a href=\"https://en.wikipedia.org/wiki/Control_flow\" rel=\"nofollow\">Control Flow</a>. Many languages, including Python, provide functions, classes, modules, if-else, and other control structures that allow you to control which direction your code <em>moves</em>. Many of these structures also help you to organize your code.</p>\n\n<p>If the output of your code only needed to be <em>win</em>, <em>lose</em>, or <em>draw</em>, then you could use more advanced structures to get rid of your if-else statement. In my opinion, it's close to the best implementation in your case, but it's quite ugly when it's not wrapped in a function.</p>\n\n<hr>\n\n<p>Here's a different way to approach the problem using python's built-ins:</p>\n\n<pre><code>import random\n\nnewgame = True\nchoosing = False\n\nplayerchoice = ''\ncomputerchoice = ''\n\noptions = ['rock', 'scissors', 'paper', 'lizard', 'spock']\n\ndef play():\n    global choosing, computerchoice, computerchoice, newgame\n    choosing = True\n\n    while choosing == True: # or while choosing \n        choose()\n\n    result = get_result(playerchoice, computerchoice)\n\n    if result[0] == 'Draw':\n        print \"It's a draw, want to try again?\", \"Please type YES or NO:\"\n\n        # convert input into uppercase string, use dictionary to convert to boolean\n        # default to False\n        newgame = {'YES' : True, 'NO' : False}.get(str(input()).upper(), False)\n        return # leave function back into 'while newgame' loop\n    else:\n        # fun code that converts the first value into the win/lose string, and combines it with the outcome of the round\n        # join uses the string ', ' in between the two things we print\n        values = [{True : 'You win!', False : 'You lose!'}[result[0]], result[1]]\n        string = ', '.join(values)\n        print string\n\ndef choose():\n    global playerchoice, choosing, computerchoice\n\n    print \"rock, paper, scissors, lizard, spock. What do you choose?\"\n    playerchoice = input()\n\n    if playerchoice in options: # if playerchoice == any option\n        print 'you chose', playerchoice\n\n        computerchoice = options[random.randint(0,4)] # take advantage of list indexes\n        print 'computer chose', computerchoice\n\n        choosing = False\n    else: \n        print \"this is not an option, please try again\"\n\ndef get_result(playerchoice, computerchoice):\n    results = {\n               'rock' : {\n                         'rock' : ('Draw',),\n                         'paper' : (False, 'paper covers rock!'),\n                         'scissors' : (True, 'rock crushes scissors!'),\n                         'lizard' : (True, 'rock crushes lizard!'),\n                         'spock' : (False, 'spock vaporizes rock!')\n                        },\n               'paper' : {\n                          'rock' : (True, 'paper covers rock!'),\n                          'paper' : ('Draw',),\n                          'scissors' : (False, 'scissors cut paper!'),\n                          'lizard' : (False, 'lizard eats paper!'),\n                          'spock' : (True, 'paper disproves spock!')\n                         },\n               'scissors' : {\n                             'rock' : (False, 'rock crushes scissors!'),\n                             'paper' : (True, 'scissors cut paper!'),\n                             'scissors' : ('Draw',),\n                             'lizard' : (True, 'scissors kills lizard!'),\n                             'spock' : (False, 'spock smashes scissors!')\n                            },\n               'lizard' : {\n                           'rock' : (False, 'rock crushes lizard!'),\n                           'paper' : (True, 'lizard eats paper!'),\n                           'scissors' : (False, 'scissors kills lizard!'),\n                           'lizard' : ('Draw',),\n                           'spock' : (True, 'lizard poisons spock!')\n                          },\n               'spock' : {\n                          'rock' : (True, 'spock vaporizes rock!'),\n                          'paper' : (False, 'paper disproves spock!'),\n                          'scissors' : (True, 'spock smashes scissors!'),\n                          'lizard' : (False, 'lizard poisons spock!'),\n                          'spock' : ('Draw',)\n                         },\n               }\n    return results[playerchoice][computerchoice]\n\nwhile newgame == True:\n    play()\n</code></pre>\n\n<hr>\n\n<p>Python has some very powerful built-in types and functions, so I intentionally used them in the code above to the point of absurdity. Hopefully you'll look at the code and find new things to learn about Python.</p>\n\n<p>When used well, if/else is sufficient, but I hope I've demonstrated a few powerful ways Python can simplify complex code. Little things like using dictionaries to convert are really useful to keep code concise. They come with a slight performance overhead, but execution speed isn't usually a priority if you use Python.</p>\n\n<p>Edit: Avoid using global variables because they get really hard to debug if you forget the <code>global</code> keyword ^^; Another common debugging difficulty is when you have a tuple with one element <code>('Draw')</code> and forget to tell python it's a tuple by adding a comma...</p>\n"}], "owner": {"reputation": 59, "user_id": 5864919, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CtGX4suRkhk/AAAAAAAAAAI/AAAAAAAAAEo/aGH25h_vMas/photo.jpg?sz=128", "display_name": "Lucas Matheus", "link": "https://stackoverflow.com/users/5864919/lucas-matheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "closed_date": 1461770590, "accepted_answer_id": 36612016, "answer_count": 3, "score": 2, "last_activity_date": 1461615615, "creation_date": 1460587639, "last_edit_date": 1460718241, "question_id": 36610889, "link": "https://stackoverflow.com/questions/36610889/rock-paper-scissors-how-to-start-a-new-game-when-theres-a-draw", "closed_reason": "Needs details or clarity", "title": "Rock, Paper, Scissors - How to start a new game when there&#39;s a draw", "body": "<p>I'm really new to coding in Python, and since I'm on basics, every code is literally a huge block full of messed up code. What I'm trying to do at the moment is a rock-paper-scissors-lizard-spock game which will be transformed into a game later on with visual, hoping to be a basic app to my phone to sharp my learning, anyway, here's the code.</p>\n\n<p>What I am trying to do is, when there's a draw with the player and the computer, ask the user if he wants to play again, I can't figure it out properly, I will appreciate any help.</p>\n\n<pre><code>import random\n\ncomputerChoice = random.randint(1,5)\nplayerChoosing = True\nanswer = True\n\nif computerChoice == 1:\n    computerChoice = \"rock\"\nelif computerChoice == 2:\n    computerChoice = \"paper\"\nelif computerChoice == 3:\n    computerChoice = \"scissors\"\nelif computerChoice == 4:\n    computerChoice = \"spock\"\nelif computerChoice == 5:\n    computerChoice = \"lizard\"\n\nwhile playerChoosing == True:\n    print(\"rock, paper, scissors, lizard, spock, What do you choose?\")\n    playerChoice = input()\n    if playerChoice == \"rock\":\n        print(\"you chose rock\")\n        playerChoosing = False\n    elif playerChoice == \"paper\":\n        print(\"you chose paper!\")\n        playerChoice = \"paper\"\n        playerChoosing = False\n    elif playerChoice == \"scissors\":\n        print(\"you chose scissors!\")\n    playerChoice = \"scissors\"\n    playerChoosing = False\nelif playerChoice == \"lizard\":\n    print(\"you chose lizard!\")\n    playerChoice = \"lizard\"\n    playerChoosing = False\nelif playerChoice == \"spock\":\n    print(\"you chose spock!\")\n    playerChoice = \"spock\"\n    playerChoosing = False\nelse:\n    print(\"this is not an option, please try again\")\n    playerChoosing = True\n\ninput()\n\nprint(\"The computer chose: \" +computerChoice+ \"!\")\n\ninput()\n#lose\n\n\nwhile answer == True:\n    if playerChoice == \"rock\" and computerChoice == \"paper\":\n        print(\"you lose!, the rock was covered by the paper!\")   \n    elif playerChoice == \"paper\" and computerChoice == \"scissors\":\n        print(\"you lose!, scissors cut the paper in half\")    \n    elif playerChoice == \"scissors\" and computerChoice == \"rock\":\n        print(\"you lose!, rock crushed the scissors\")    \n    elif playerChoice == \"spock\" and computerChoice == \"lizard\":\n        print(\"you lose!, lizard poisons spock\")    \n    elif playerChoice == \"scissors\" and computerChoice == \"spock\":\n        print(\"you lose!, spock smashes scissors\")    \n    elif playerChoice == \"rock\" and computerChoice == \"spock\":\n        print(\"you lose!, spock vaporizes the rock\")   \n    elif playerChoice == \"paper\" and computerChoice == \"lizard\":\n        print(\"you lose!, lizard eats paper\")    \n    elif playerChoice == \"lizard\" and computerChoice == \"rock\":\n        print(\"you lose!, rock crushes lizard\")    \n    elif playerChoice == \"lizard\" and computerChoice == \"scissors\":\n        print(\"you lose!, scissors kills lizard\")    \n    elif playerChoice == \"spock\" and computerChoice == \"paper\":\n        print(\"you lose!, paper disproves spock\")\n#win   \nelif playerChoice == \"paper\" and computerChoice == \"rock\":\n    print(\"you win!, the rock was covered by the paper!\")    \nelif playerChoice == \"scissors\" and computerChoice == \"paper\":\n    print(\"you win!, scissors cut the paper in half!\") \nelif playerChoice == \"rock\" and computerChoice == \"scissors\":\n    print(\"you win!, rock crushed the scissors!\")    \nelif playerChoice == \"lizard\" and computerChoice == \"spock\":\n    print(\"you win!, lizard poisons spock!\")   \nelif playerChoice == \"spock\" and computerChoice == \"scissors\":\n    print(\"you win!, spock smashes scissors!\")   \nelif playerChoice == \"lizard\" and computerChoice == \"paper\":\n    print(\"you win!, lizard eats paper!\")   \nelif playerChoice == \"rock\" and computerChoice == \"lizard\":\n    print(\"you win!, rock crushes lizard!\") \nelif playerChoice == \"scissors\" and computerChoice == \"lizard\":\n    print(\"you win!, scissors kills lizard!\")  \nelif playerChoice == \"paper\" and computerChoice == \"spock\":\n    print(\"you win!, paper disproves spock!\")\nelif playerChoice == \"spock\" and computerChoice == \"rock\":\n    print(\"you win!, spock vaporizes rock!\")\n#draw\nelif playerChoice == \"paper\" and computerChoice == \"paper\":\n    print(\"It's a draw, want to try again?, please type YES or NO: \")\n    answer = input()\n    if answer == \"yes\":\n        answer = False\n    else:\n        break\nelif playerChoice == \"rock\" and computerChoice == \"rock\":\n    print(\"It's a draw, want to try again?, please type YES or NO: \")\n    answer = input()\n    if answer == \"yes\":\n        answer = False\n    else:\n        break\nelif playerChoice == \"scissors\" and computerChoice == \"scissors\":\n    print(\"It's a draw, want to try again?, please type YES or NO: \")\n    answer = input()\n    if answer == \"yes\":\n        answer = False\n    else:\n        break\nelif playerChoice == \"lizard\" and computerChoice == \"lizard\":\n    print(\"It's a draw, want to try again?, please type YES or NO: \")\n    answer = input()\n\nelif playerChoice == \"spock\" and computerChoice == \"spock\":\n    print(\"It's a draw, want to try again?, please type YES or NO: \")\n    answer = input()\n</code></pre>\n"}, {"tags": ["javascript", "python", "selenium", "web-scraping", "phantomjs"], "comments": [{"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1460587463, "post_id": 36610829, "comment_id": 60818471, "body": "Have you checked if phantomjs even has a scroll? Surely a headless browser doesn&#39;t scroll..."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6201210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5894056a14d661cbc7ab8480176c396a?s=128&d=identicon&r=PG&f=1", "display_name": "Jiawei Zhang", "link": "https://stackoverflow.com/users/6201210/jiawei-zhang"}, "edited": false, "score": 1, "creation_date": 1460649096, "post_id": 36611244, "comment_id": 60852169, "body": "Thanks for the help! I tried this way but didn&#39;t get better results,I try to raise the wait time up to 60 seconds but still it&#39;s raising time out exception. I looked at the screenshot everything is fine it&#39;s looking at the right page. All it has to do is to scrolldown, but it doesn&#39;t .                                I believe my network connection is fine. Very weird problem."}, {"owner": {"reputation": 36798, "user_id": 2887618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e643417e67e5a3bb9f659e4491ed26b0?s=128&d=identicon&r=PG&f=1", "display_name": "Florent B.", "link": "https://stackoverflow.com/users/2887618/florent-b"}, "reply_to_user": {"reputation": 21, "user_id": 6201210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5894056a14d661cbc7ab8480176c396a?s=128&d=identicon&r=PG&f=1", "display_name": "Jiawei Zhang", "link": "https://stackoverflow.com/users/6201210/jiawei-zhang"}, "edited": false, "score": 0, "creation_date": 1460649557, "post_id": 36611244, "comment_id": 60852448, "body": "It works fine with me, though the page in this example is not scrollable. I&#39;ve updated the URL with a longer page."}], "tags": [], "owner": {"reputation": 36798, "user_id": 2887618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e643417e67e5a3bb9f659e4491ed26b0?s=128&d=identicon&r=PG&f=1", "display_name": "Florent B.", "link": "https://stackoverflow.com/users/2887618/florent-b"}, "is_accepted": false, "score": 3, "last_activity_date": 1460649592, "last_edit_date": 1460649592, "creation_date": 1460589822, "answer_id": 36611244, "question_id": 36610829, "link": "https://stackoverflow.com/questions/36610829/phantomjs-doesnt-scroll-down-using-window-scollto/36611244#36611244", "title": "phantomjs doesn&#39;t scroll down using window.scollTo", "body": "<p>I would wait for the scroll height to increase and use the <code>document.documentElement.scrollHeight</code> instead:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.support.ui import WebDriverWait\n\ndriver = webdriver.PhantomJS()\nwait = WebDriverWait(driver, 20)\n\ndriver.get(\"https://twitter.com/barackobama\")\ntime.sleep(1)\n\n# scroll the height\nheight = driver.execute_script(\"var h=document.documentElement.scrollHeight; window.scrollTo(0, h); return h;\")\n\n# wait for the scroll height to increase\nwait.until(lambda drv: drv.execute_script(\"return document.documentElement.scrollHeight;\") &gt; height)\n\n# display the final scroll height\nprint driver.execute_script(\"return document.documentElement.scrollHeight;\")\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6201210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5894056a14d661cbc7ab8480176c396a?s=128&d=identicon&r=PG&f=1", "display_name": "Jiawei Zhang", "link": "https://stackoverflow.com/users/6201210/jiawei-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1069, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1460649592, "creation_date": 1460587275, "question_id": 36610829, "link": "https://stackoverflow.com/questions/36610829/phantomjs-doesnt-scroll-down-using-window-scollto", "title": "phantomjs doesn&#39;t scroll down using window.scollTo", "body": "<p>So I was using the most basic way in selenium/phantomjs to do the scroll down action.\nIt seems to be all good in code, but doesn't work.\nI try to print \"document.body.scrollHeight\", after every scroll it stays the same. (e.g. height stays at 10532)</p>\n\n<p>I'm browsing twitter page of a certain person like \"twitter.com/XXXXX\"</p>\n\n<p>Can Any one give me a hint on what can I do here?</p>\n\n<p>The webdriver I'm using is phantomjs</p>\n\n<p>Here's the code:</p>\n\n<pre><code>def getfullpage(url):\n    print \"getting fullpage...\"\n    driver.get(url)\n    time.sleep(2)\n    reloads = 3000\n    pause = 0\n    driver.save_screenshot(\"what'shappening.jpg\")\n    for times in range(reloads):\n        driver.execute_script(\"window.scrollTo(0,document.body.scrollHeight);\")\n        time.sleep(pause)\n        newheight = driver.execute_script(\"return document.body.scrollHeight\")\n        print newheight\n    page = driver.page_source.encode(\"utf-8\",\"ignore\")\n    return page\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460588038, "post_id": 36610807, "comment_id": 60818668, "body": "Actually, I have use case here that needs guidance. Why not <code>TSCSYCTMAKK</code> instead of <code>FSKTSCSYCTM</code>, or would that matter?"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460589671, "post_id": 36610807, "comment_id": 60819260, "body": "I think I solved the problem by identifying all cases"}], "answers": [{"comments": [{"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460588117, "post_id": 36610836, "comment_id": 60818696, "body": "I noticed the output he provided skips the &quot;C&#39;s&quot; in the middle for some cases (like the one I commented). I was wondering if that&#39;s intentional? (Especially since your solution shows multiple cases)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460588160, "post_id": 36610836, "comment_id": 60818712, "body": "@Adib, I am rereading the question myself, some of it actually does not add up"}, {"owner": {"reputation": 45, "user_id": 6169548, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ab6893c7844fcffe514132cada2df1e?s=128&d=identicon&r=PG&f=1", "display_name": "samooo", "link": "https://stackoverflow.com/users/6169548/samooo"}, "edited": false, "score": 0, "creation_date": 1460588183, "post_id": 36610836, "comment_id": 60818722, "body": "think u for help but this will only make the position for each C"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 45, "user_id": 6169548, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ab6893c7844fcffe514132cada2df1e?s=128&d=identicon&r=PG&f=1", "display_name": "samooo", "link": "https://stackoverflow.com/users/6169548/samooo"}, "edited": false, "score": 0, "creation_date": 1460588249, "post_id": 36610836, "comment_id": 60818750, "body": "@samooo, <code>s[index-5:index+6]</code> but not sure about all of your expected output"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 45, "user_id": 6169548, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ab6893c7844fcffe514132cada2df1e?s=128&d=identicon&r=PG&f=1", "display_name": "samooo", "link": "https://stackoverflow.com/users/6169548/samooo"}, "edited": false, "score": 0, "creation_date": 1460588367, "post_id": 36610836, "comment_id": 60818783, "body": "@samooo can you explain your output? Like, which outputs matter?"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1460592726, "last_edit_date": 1460592726, "creation_date": 1460587295, "answer_id": 36610836, "question_id": 36610807, "link": "https://stackoverflow.com/questions/36610807/extract-substring-pattern/36610836#36610836", "title": "extract substring pattern", "body": "<p>You need to return <em>outside the loop</em>, you are returning on the first match so you only ever get a single character in your list:</p>\n\n<pre><code>def find(ch,string1):  \n    pos = []\n    for i in range(len(string1)):\n        if ch == string1[i]:\n            pos.append(i)\n    return pos # outside\n</code></pre>\n\n<p>You can also use <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\">enumerate</a> with a list comp in place of your range logic:</p>\n\n<pre><code>def indexes(ch, s1):  \n    return [index for index, char in enumerate(s1)if char == ch and 5 &gt;= index &lt;= len(s1) - 6]\n</code></pre>\n\n<p>Each <code>index</code> in the list comp is the character index and each <code>char</code> is the actual character so we keep each index where char is equal to ch.</p>\n\n<p>If you want the five chars that are both sides:</p>\n\n<pre><code>In [24]: s=\"CFLVNLNADPALNELLVYYLKEHTLIGSANSQDIQLCGMGILPEHCIIDITSEGQVMLTP QKNTRTFVNGSSVSSPIQLHHGDRILWGNNHFFRLNLP\"\n\nIn [25]: inds = indexes(\"C\",s)\n\nIn [26]: [s[i-5:i+6] for i in inds]\nOut[26]: ['QDIQLCGMGIL', 'ILPEHCIIDIT']\n</code></pre>\n\n<p>I added checking the index as we obviously cannot get five chars before <code>C</code> if the index is &lt; 5 and the same from the end.</p>\n\n<p>You can do it all in a single function, yielding a slice when you find a match:</p>\n\n<pre><code>def find(ch, s):\n    ln = len(s)\n    for i, char in enumerate(s):\n        if ch == char and 5 &lt;= i &lt;= ln - 6:\n            yield s[i- 5:i + 6]\n</code></pre>\n\n<p>Where presuming the data in your question is actually two lines from yoru file like:</p>\n\n<pre><code>s=\"\"\"\"&gt;3fm8|A|A0JLQ2CFLVNLNADPALNELLVYYLKEHTLIGSANSQDIQLCGMGILPEHCIIDITSEGQVMLTPQKNTRTFVNGSSVSSPIQLHHGDRILWGNNHFFRLNLP\n&gt;2ht9|A|A0JLT0LATAPVNQIQETISDNCVVIFSKTSCSYCTMAKKLFHDMNVNYKVVELDLLEYGNQFQDALYKMTGERTVPRIFVNGTFIGGATDTHRLHKEGKLLPLVHQCY\"\"\"\n</code></pre>\n\n<p>Running:</p>\n\n<pre><code>for line in s.splitlines():\n    print(list(find(\"C\" ,line)))\n</code></pre>\n\n<p>would output:</p>\n\n<pre><code>['0JLQ2CFLVNL', 'QDIQLCGMGIL', 'ILPEHCIIDIT']\n['TISDNCVVIFS', 'FSKTSCSYCTM', 'TSCSYCTMAKK']\n</code></pre>\n\n<p>Which gives six matches not four as your expected output suggest so I presume you did not include all possible matches.</p>\n\n<p>You can also speed up the code using <a href=\"https://docs.python.org/2/library/string.html#string.find\" rel=\"nofollow\"><code>str.find</code></a>, starting at the last match index + 1 for each subsequent match</p>\n\n<pre><code>def find(ch, s):\n    ln, i = len(s) - 6, s.find(ch)\n    while 5 &lt;= i &lt;= ln:\n        yield s[i - 5:i + 6]\n        i = s.find(ch, i + 1)\n</code></pre>\n\n<p>Which will give the same output. Of course if the strings cannot overlap you can start looking for the next match much further in the string each time.</p>\n"}, {"comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1460591044, "post_id": 36611038, "comment_id": 60819682, "body": "I would make this function into a generator in order to reduce the memory overhead for large input"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 45, "user_id": 6169548, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ab6893c7844fcffe514132cada2df1e?s=128&d=identicon&r=PG&f=1", "display_name": "samooo", "link": "https://stackoverflow.com/users/6169548/samooo"}, "edited": false, "score": 0, "creation_date": 1460591060, "post_id": 36611038, "comment_id": 60819689, "body": "@samooo Yup! And it doesn&#39;t care if it is one line, two line, 1200 lines, it&#39;ll find it fast :D"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 0, "creation_date": 1460592047, "post_id": 36611038, "comment_id": 60820001, "body": "@Smac89 I&#39;m not that proficient with generators yet. Could you provide a code example?"}, {"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 1, "creation_date": 1460592194, "post_id": 36611038, "comment_id": 60820040, "body": "It&#39;s simple with your current code. Replace <code>output.append(data.group(1))</code> with <code>yield data.group(1)</code>, next remove all instances of &quot;output&quot; from the function (including the return statement). Finally to call the generator, you do <code>print list(find_cysteine(string))</code>"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 1, "creation_date": 1460592432, "post_id": 36611038, "comment_id": 60820107, "body": "@Smac89 Wow...the efficiency possible with this D: Thank you so much!"}], "tags": [], "owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "is_accepted": false, "score": 1, "last_activity_date": 1460592570, "last_edit_date": 1460592570, "creation_date": 1460588481, "answer_id": 36611038, "question_id": 36610807, "link": "https://stackoverflow.com/questions/36610807/extract-substring-pattern/36611038#36611038", "title": "extract substring pattern", "body": "<p>My solution is based on regex, and shows all possible solutions using regex and while loop. Thanks to @Smac89 for improving it by transforming it into a generator:</p>\n\n<pre><code>import re\n\nstring = \"\"\"CFLVNLNADPALNELLVYYLKEHTLIGSANSQDIQLCGMGILPEHCIIDITSEGQVMLTPQKNTRTFVNGSSVSSPIQLHHGDRILWGNNHFFRLNLP\n\nLATAPVNQIQETISDNCVVIFSKTSCSYCTMAKKLFHDMNVNYKVVELDLLEYGNQFQDA LYKMTGERTVPRIFVNGTFIGGATDTHRLHKEGKLLPLVHQCYL\"\"\"\n\n# Generator\ndef find_cysteine2(string):\n\n    # Create a loop that will utilize regex multiple times\n    # in order to capture matches within groups\n    while True:\n        # Find a match\n        data = re.search(r'(\\w{5}C\\w{5})',string)\n\n        # If match exists, let's collect the data\n        if data:\n            # Collect the string\n            yield data.group(1)\n\n            # Shrink the string to not include \n            # the previous result\n            location = data.start() + 1\n            string = string[location:]\n\n        # If there are no matches, stop the loop\n        else:\n            break\n\nprint [x for x in find_cysteine2(string)]\n# ['QDIQLCGMGIL', 'ILPEHCIIDIT', 'TISDNCVVIFS', 'FSKTSCSYCTM', 'TSCSYCTMAKK']\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6169548, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1ab6893c7844fcffe514132cada2df1e?s=128&d=identicon&r=PG&f=1", "display_name": "samooo", "link": "https://stackoverflow.com/users/6169548/samooo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1460592877, "creation_date": 1460587186, "last_edit_date": 1460592877, "question_id": 36610807, "link": "https://stackoverflow.com/questions/36610807/extract-substring-pattern", "title": "extract substring pattern", "body": "<p>I have long file like 1200 sequences</p>\n\n<pre><code>&gt;3fm8|A|A0JLQ2\nCFLVNLNADPALNELLVYYLKEHTLIGSANSQDIQLCGMGILPEHCIIDITSEGQVMLTP\nQKNTRTFVNGSSVSSPIQLHHGDRILWGNNHFFRLNLP\n\n\n&gt;2ht9|A|A0JLT0\nLATAPVNQIQETISDNCVVIFSKTSCSYCTMAKKLFHDMNVNYKVVELDLLEYGNQFQDA\nLYKMTGERTVPRIFVNGTFIGGATDTHRLHKEGKLLPLVHQCYL\n</code></pre>\n\n<p>I want to read each possible pattern has cysteine in middle and has in the beginning five string and follow by other five string such as xxxxxCxxxxx</p>\n\n<p>the output should be like this:</p>\n\n<ul>\n<li>QDIQLCGMGIL</li>\n<li>ILPEHCIIDIT</li>\n<li>TISDNCVVIFS  </li>\n<li>FSKTSCSYCTM</li>\n</ul>\n\n<p>this is the pogram only give position of C . it is not work like what I want </p>\n\n<pre><code>pos=[]\n\ndef find(ch,string1):\n\n    for i in range(len(string1)):\n        if ch == string1[i]:\n            pos.append(i)\n            return pos\n\n\n\nz=find('C','AWERQRTCWERTYCTAAAACTTCTTT')\n\nprint z\n</code></pre>\n"}, {"tags": ["python", "c", "docker", "gdb", "gunicorn"], "comments": [{"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1460587084, "post_id": 36610765, "comment_id": 60818321, "body": "&quot;warning: exec file is newer than core file.&quot; should make you suspicious already."}, {"owner": {"reputation": 1498, "user_id": 2020593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c38293d3ead695bd858be7f9879d278?s=128&d=identicon&r=PG", "display_name": "Kron", "link": "https://stackoverflow.com/users/2020593/kron"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1460587907, "post_id": 36610765, "comment_id": 60818621, "body": "No, this is because core dump was built earlier than python."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1460588226, "post_id": 36610765, "comment_id": 60818745, "body": "Exactly. Just think what that can imply."}], "answers": [{"comments": [{"owner": {"reputation": 1498, "user_id": 2020593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c38293d3ead695bd858be7f9879d278?s=128&d=identicon&r=PG", "display_name": "Kron", "link": "https://stackoverflow.com/users/2020593/kron"}, "edited": false, "score": 0, "creation_date": 1460638099, "post_id": 36614006, "comment_id": 60843030, "body": "Even though I was building python in different containers the same way, they are really differs. Thank you a lot for your help!"}, {"owner": {"reputation": 1498, "user_id": 2020593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c38293d3ead695bd858be7f9879d278?s=128&d=identicon&r=PG", "display_name": "Kron", "link": "https://stackoverflow.com/users/2020593/kron"}, "edited": false, "score": 0, "creation_date": 1460648363, "post_id": 36614006, "comment_id": 60851659, "body": "I finally found the reason why python binaries was different. Original container was on ubuntu, but my debug container was on debian, so python was compiled in different environments."}], "tags": [], "owner": {"reputation": 162629, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "is_accepted": true, "score": 0, "last_activity_date": 1460608702, "creation_date": 1460608702, "answer_id": 36614006, "question_id": 36610765, "link": "https://stackoverflow.com/questions/36610765/gdb-empty-backtrace-when-using-gunicorn-core-dump/36614006#36614006", "title": "GDB empty backtrace when using gunicorn core dump", "body": "<blockquote>\n  <p>in the another container I have built for debugging purpose, I've got this:</p>\n</blockquote>\n\n<p>It's not clear what you mean by \"I have built for debugging\".</p>\n\n<p>In general, the binary you use to analyze the core dump <em>must</em> match the binary which produced this core dump <em>exactly</em>.</p>\n\n<p>That means you can't do this:</p>\n\n<pre><code>gcc -O2 -o foo t.c\n./foo  # crashes, produces core dump\n\ngcc -g -o foo-g t.c  # note lack of -O2\ngdb ./foo-g core     # will not work!\n</code></pre>\n\n<p>Instead, what you should do is this:</p>\n\n<pre><code>gcc -g -O2 -o foo-g t.c  # optimize with debug info\ncp foo-g foo\nstrip -g foo   # make a production binary by removing debug info\n\n./foo             # crashes, produces a core dump\ngdb ./foo-g core  # this works!\n</code></pre>\n\n<p>To test whether the two binaries are sufficiently \"same\", you can compare their symbols, e.g.</p>\n\n<pre><code>diff &lt;(readelf -Ws foo-g) &lt;(readelf -Ws foo)\n</code></pre>\n\n<p>The debug binary <em>can</em> have symbols not present in the stripped binary (such as <code>LOCAL</code> functions), but symbols that are present in both binaries must have the same value.</p>\n\n<p>I am guessing that your \"built for debugging\" <code>python3.5</code> is not the same as your \"production\" <code>python3.5</code>.</p>\n"}], "owner": {"reputation": 1498, "user_id": 2020593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c38293d3ead695bd858be7f9879d278?s=128&d=identicon&r=PG", "display_name": "Kron", "link": "https://stackoverflow.com/users/2020593/kron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 1, "accepted_answer_id": 36614006, "answer_count": 1, "score": 1, "last_activity_date": 1460608702, "creation_date": 1460586972, "question_id": 36610765, "link": "https://stackoverflow.com/questions/36610765/gdb-empty-backtrace-when-using-gunicorn-core-dump", "title": "GDB empty backtrace when using gunicorn core dump", "body": "<p>I'm trying to make a core dump of gunicorn in one docker container and debug it in another one.\nGunicorn is running with python3.5.\nWhen I'm opening core file in the container where it was dumped, everything looks fine:</p>\n\n<pre><code>Reading symbols from /opt/pyenv/versions/3.5.0/bin/python3.5...done.\n[New LWP 786]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nCore was generated by `/opt/pyenv/versions/3.5.0/bin/python3.5'.\n#0  0x00007f7caec93af3 in __epoll_wait_nocancel () at ../sysdeps/unix/syscall-template.S:81\n81      ../sysdeps/unix/syscall-template.S: No such file or directory.\n(gdb) bt\n#0  0x00007f7caec93af3 in __epoll_wait_nocancel () at ../sysdeps/unix/syscall-template.S:81\n#1  0x00007f7cacdaf213 in pyepoll_poll (self=0x7f7ca5aa9a80, args=&lt;optimized out&gt;, kwds=&lt;optimized out&gt;) at /tmp/python-build.20160412233915.330/Python-3.5.0/Modules/selectmodule.c:1549\n#2  0x00000000005a7579 in PyCFunction_Call (func=func@entry=0x7f7c98706090, args=args@entry=0x7f7c9feb5550, kwds=kwds@entry=0x0) at Objects/methodobject.c:98\n...\n</code></pre>\n\n<p>But when I'm trying to open this file in the another container I have built for debugging purpose, I've got this:</p>\n\n<pre><code>Reading symbols from /opt/pyenv/versions/3.5.0/bin/python3.5...done.\n\nwarning: exec file is newer than core file.\n[New LWP 356]\n\nwarning: Unexpected size of section `.reg-xstate/356' in core file.\nCore was generated by `/opt/pyenv/versions/3.5.0/bin/python3.5'.\n\nwarning: Unexpected size of section `.reg-xstate/356' in core file.\n#0  0x00007fb1e8695af3 in ?? ()\n(gdb) bt\n#0  0x00007fb1e8695af3 in ?? ()\n#1  0x00007fb1e67b1213 in ?? ()\n#2  0x000000000225b588 in ?? ()\n#3  0x0034e2b269edb810 in ?? ()\n#4  0x00000000000003ff in ?? ()\n#5  0x0000000400000001 in ?? ()\n</code></pre>\n\n<p>I can't understand why I'm getting the empty backtrace. Maybe someone can help me with this?\nThanks!</p>\n"}, {"tags": ["python", "ajax", "django", "selenium"], "comments": [{"owner": {"reputation": 842, "user_id": 1618432, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/AkQRk.jpg?s=128&g=1", "display_name": "MagicLAMP", "link": "https://stackoverflow.com/users/1618432/magiclamp"}, "edited": false, "score": 0, "creation_date": 1513304858, "post_id": 36610756, "comment_id": 82612410, "body": "I updated the timeout to 120 seconds. This seems to have fixed it for the last 4 builds."}], "owner": {"reputation": 378, "user_id": 2469439, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc728bab4b1be18f5e35f06a2b8f5953?s=128&d=identicon&r=PG", "display_name": "ishikun", "link": "https://stackoverflow.com/users/2469439/ishikun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1470, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1561280647, "creation_date": 1460586936, "last_edit_date": 1561280647, "question_id": 36610756, "link": "https://stackoverflow.com/questions/36610756/intermittent-broken-pipe-error-when-running-selenium-tests-on-django-app", "title": "Intermittent broken pipe error when running selenium tests on Django app", "body": "<p>I'm testing my Django app using LiveServerTestCase with Django version 1.4, Python 2.7, python bindings for selenium 2.53.1, Firefox 45.0.1 on Linux.</p>\n\n<p>I've been getting this broken pipe error similar to this <a href=\"https://stackoverflow.com/questions/13970694/broken-pipe-error-while-running-django-test-with-selenium\">question</a>. I've watched the webdriver and have narrowed it down to occur seemingly when WebDriver ends too quickly before the page (which has some ajax components) have fully loaded.  </p>\n\n<p>1) This occurs even when I run just one of my tests so it doesn't have to do with pipes breaking between tests.<br>\n2) For all button clicks that load a different page, I have added an explicit wait for the particular ajax component that doesn't seem to be loading \n3) Also added an overall page_load_timeout of 30 seconds.</p>\n\n<p>Even after all this still I get this error intermittently and am at my wits end, any suggestions?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 86, in run\n    self.finish_response()\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 128, in finish_response\n    self.write(data)\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 212, in write\n    self.send_headers()\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 270, in send_headers\n    self.send_preamble()\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 194, in send_preamble\n    'Date: %s\\r\\n' % format_date_time(time.time())\n  File \"/usr/lib/python2.7/socket.py\", line 324, in write\n    self.flush()\n  File \"/usr/lib/python2.7/socket.py\", line 303, in flush\n    self._sock.sendall(view[write_offset:write_offset+buffer_size])\nerror: [Errno 32] Broken pipe\n----------------------------------------\nException happened during processing of request from ('127.0.0.1', 41308)\nTraceback (most recent call last):\n  File \"/home/jw/.virtualenvs/istame1.4/local/lib/python2.7/site-packages/django/test/testcases.py\", line 981, in _handle_request_noblock\n    self.process_request(request, client_address)\n  File \"/usr/lib/python2.7/SocketServer.py\", line 321, in process_request\n    self.finish_request(request, client_address)\n  File \"/usr/lib/python2.7/SocketServer.py\", line 334, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n  File \"/home/jw/.virtualenvs/istame1.4/local/lib/python2.7/site-packages/django/core/servers/basehttp.py\", line 139, in __init__\n    super(WSGIRequestHandler, self).__init__(*args, **kwargs)\n  File \"/usr/lib/python2.7/SocketServer.py\", line 651, in __init__\n    self.finish()\n  File \"/usr/lib/python2.7/SocketServer.py\", line 710, in finish\n    self.wfile.close()\n  File \"/usr/lib/python2.7/socket.py\", line 279, in close\n    self.flush()\n  File \"/usr/lib/python2.7/socket.py\", line 303, in flush\n    self._sock.sendall(view[write_offset:write_offset+buffer_size])\nerror: [Errno 32] Broken pipe\n</code></pre>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 2, "creation_date": 1460589247, "post_id": 36610564, "comment_id": 60819097, "body": "BTW, the Thai currency is the baht, not the bath :)"}], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 3993156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZlvh.jpg?s=128&g=1", "display_name": "Xiflado", "link": "https://stackoverflow.com/users/3993156/xiflado"}, "edited": false, "score": 0, "creation_date": 1460586072, "post_id": 36610587, "comment_id": 60817891, "body": "You are missing the ending square bracket!"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1460587064, "post_id": 36610587, "comment_id": 60818310, "body": "would you humour me and offer an alternate version that is split onto two lines? <a href=\"https://www.python.org/dev/peps/pep-0008/#maximum-line-length\" rel=\"nofollow noreferrer\">PEP 8</a> suggests a maximum of 79 characters per line and you are quite a bit over that."}, {"owner": {"reputation": 23, "user_id": 6201155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20dec17dbf4e2202e0cf8807b508112e?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Flare", "link": "https://stackoverflow.com/users/6201155/ryan-flare"}, "edited": false, "score": 0, "creation_date": 1460587273, "post_id": 36610587, "comment_id": 60818401, "body": "So basically i just need to do a list comprehension with zip, if i want to combine multiple lists? @Akhsat Mahajan thank you so much for the provided solution."}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1460587819, "post_id": 36610587, "comment_id": 60818592, "body": "@TadhgMcDonald-Jensen I&#39;m actually not sure if doing <code>&#47;</code> in the middle of a list comprehension is the right thing to do. If you have the time, I&#39;d appreciate your edits."}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1460589263, "post_id": 36610587, "comment_id": 60819104, "body": "@TadhgMcDonald-Jensen Thanks!"}], "tags": [], "owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "is_accepted": true, "score": 8, "last_activity_date": 1460589292, "last_edit_date": 1460589292, "creation_date": 1460585981, "answer_id": 36610587, "question_id": 36610564, "link": "https://stackoverflow.com/questions/36610564/combining-3-lists-into-a-lists-of-dictionaries-in-python/36610587#36610587", "title": "Combining 3 Lists into a lists of dictionaries in python", "body": "<p>A simple list comprehension with <code>zip</code> is all you need:</p>\n\n<pre><code>data = [{'country':coun, 'capital': cap, 'currency': curr} for coun, cap, curr in zip(country, capital, currency)]\n</code></pre>\n\n<p>You can then iterate through <code>data</code> and print as so:</p>\n\n<pre><code>for dictionary in data:\n    print(\"Capital of {0} is {1} and currency is {2}\".format(dictionary['country'],dictionary['capital'], dictionary['currency']))\n</code></pre>\n\n<hr>\n\n<h2>Readability Tips</h2>\n\n<p>Note that, like all structures within brackets, you can split a list comprehension into multiple lines:</p>\n\n<pre><code>data = [{'country':coun, 'capital': cap, 'currency': curr}\n        for coun, cap, curr in zip(country, capital, currency)\n       ]\n</code></pre>\n\n<p>You may also want to save the string to format in a variable (possibly with other constants) as well so that it does not end up buried inside other statements:</p>\n\n<pre><code>message = \"Capital of {0} is {1} and currency is {2}\"\nfor dictionary in data:\n    print(message.format(dictionary['country'],dictionary['capital'], dictionary['currency']))\n</code></pre>\n\n<p>You can also specify the keys in the format space instead of <code>{0} {1}</code> then use <code>.format_map</code> to map the keys from the dictionary to the string:</p>\n\n<pre><code>message = \"Capital of {country} is {capital} and currency is {currency}\"\nfor dictionary in data:\n    print(message.format_map(dictionary))\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6201155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20dec17dbf4e2202e0cf8807b508112e?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Flare", "link": "https://stackoverflow.com/users/6201155/ryan-flare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1344, "favorite_count": 1, "accepted_answer_id": 36610587, "answer_count": 1, "score": 1, "last_activity_date": 1460589292, "creation_date": 1460585846, "last_edit_date": 1460589072, "question_id": 36610564, "link": "https://stackoverflow.com/questions/36610564/combining-3-lists-into-a-lists-of-dictionaries-in-python", "title": "Combining 3 Lists into a lists of dictionaries in python", "body": "<p>I just started to learn Python, and a completely a noob at it. So what I want to do is merge 3 lists into a lists of dictionary</p>\n\n<pre><code>country= [\"Japan\", \"Malaysia\", \"Philippine\", \"Thailand\"]\ncapital = [\"Tokyo\", \"Kuala Lumpur\", \"Manila\", \"Bangkok\"]\ncurrency = [\"Yen\", \"Ringgit\", \"Peso\", \"Bath\"]\n</code></pre>\n\n<p>into a list in this format:</p>\n\n<pre><code>data = [{\"country\":\"Japan\", \"capital\":\"Tokyo\", \"currency\":\"Yen\"}, {\"country\":\"Malaysia\", \"capital\":\"Kuala Lumpur\", \"currency\":\"Ringgit\"}, {\"country\":\"Philippine\", \"capital\":\"Manila\", \"currency\":\"Peso\"},{\"country\":\"Thailand\", \"capital\":\"Bangkok\", \"currency\":\"Bath\"}]\n</code></pre>\n\n<p>And then print the new list in this format:</p>\n\n<pre><code>Capital of Japan is Tokyo, and the currency is Yen.\nCapital of Malaysia is Kuala Lumpur, and the currency is Ringgit.\nCapital of Philippine is Manila, and the currency is Peso.\nCapital of Thailand is Bangkok, and the currency is Bath.\n</code></pre>\n"}, {"tags": ["python", "opencv", "pass-by-reference"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1460586013, "post_id": 36610560, "comment_id": 60817879, "body": "In terms of Python&#39;s passing behaviour, see <a href=\"http://stackoverflow.com/q/986006/3001761\">stackoverflow.com/q/986006/3001761</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460601746, "post_id": 36611479, "comment_id": 60822630, "body": "thank you for your comment but I am still confused. In case #1 (when I set img1a = cv2.imread(&#39;3D-Matplotlib.png&#39;)), then the transformations to img1a appear as expected. But in case #2(when I set img1a = img1), then the manipulations to img1a seem to be ignored and I see two copies of img1. Is that because in case#2 the variable img1a is pointing to the SAME bits as img1?"}, {"owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460601762, "post_id": 36611479, "comment_id": 60822633, "body": "here is simple code   <a href=\"http://pastebin.com/YZT73Qtt\" rel=\"nofollow noreferrer\">pastebin.com/YZT73Qtt</a>    a and b are set to some numbers. a is then set to equal b. then i &#39;manipulate&#39; b. but a does not change.  this is different behavior."}, {"owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460603251, "post_id": 36611479, "comment_id": 60823051, "body": "please look at my comments to zondo&#39;s remark below."}], "tags": [], "owner": {"reputation": 109950, "user_id": 86989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd262de5d82a235eeb64f71e4058198?s=128&d=identicon&r=PG", "display_name": "newacct", "link": "https://stackoverflow.com/users/86989/newacct"}, "is_accepted": false, "score": 1, "last_activity_date": 1460591401, "creation_date": 1460591401, "answer_id": 36611479, "question_id": 36610560, "link": "https://stackoverflow.com/questions/36610560/is-this-pythons-pass-by-reference-behavior/36611479#36611479", "title": "is this Python&#39;s pass by reference&#39; behavior?", "body": "<p>Like in Java, everything in Python is passed and assigned by value. All values (every expression and variable) in Python are references (pointers to objects), and assigning one variable to another make the second variable point to the same object as the first.</p>\n\n<p>When you say you are making \"manipulations onto img1\", what you are doing is you are calling methods on the object pointed to by <code>img1</code> (using the subscript or slice syntax, e.g. <code>img1[...] = dst</code>, is still implicitly calling methods on the object pointed to by <code>img1</code>) that are mutating that object. Those changes can be seen through any other object pointer that happens to be pointing to that object. That has nothing to do with passing or assigning. Calling methods is not assigning or passing. If all you did with <code>img1</code> was simply <em>assign</em> various things to the variable <code>img1</code> (i.e. <code>img1 = something</code>), you would indeed see that such statements never have an effect on what object <code>img1a</code> points to. That is what assigning by value means.</p>\n"}, {"comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 3, "creation_date": 1460592667, "post_id": 36611597, "comment_id": 60820168, "body": "No: Python passes all objects in exactly the same way, independent of the object&#39;s mutability.  This can be confirmed by printing the <code>id</code> of the objects outside the call and inside the function."}], "tags": [], "owner": {"reputation": 35, "user_id": 5481407, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1l53XcXRAEA/AAAAAAAAAAI/AAAAAAAAA_8/jBOOALIwS98/photo.jpg?sz=128", "display_name": "Jimmy", "link": "https://stackoverflow.com/users/5481407/jimmy"}, "is_accepted": false, "score": -2, "last_activity_date": 1460594246, "last_edit_date": 1460594246, "creation_date": 1460592252, "answer_id": 36611597, "question_id": 36610560, "link": "https://stackoverflow.com/questions/36610560/is-this-pythons-pass-by-reference-behavior/36611597#36611597", "title": "is this Python&#39;s pass by reference&#39; behavior?", "body": "<p>There are 2 types of objects: mutable and immutable as explained: \n<a href=\"https://en.wikibooks.org/wiki/Python_Programming/Data_Types#Mutable_vs_Immutable_Objects\" rel=\"nofollow\">https://en.wikibooks.org/wiki/Python_Programming/Data_Types#Mutable_vs_Immutable_Objects</a>\nFollowing are immutable (the rest all are mutables like list, dict, etc, even user defined objects.):\n. int, float, long, complex\n. str\n. bytes\n. tuple\n. frozen set</p>\n\n<p>If you assign a mutable object to a variable, its reference is copied. So any changes in one will always be reflected in other. Where as for immutable, this is not the case.  </p>\n"}, {"comments": [{"owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460602943, "post_id": 36611815, "comment_id": 60822953, "body": "please look at this code     <a href=\"http://pastebin.com/jHQDgpJD\" rel=\"nofollow noreferrer\">pastebin.com/jHQDgpJD</a>      There are two lists, a and b. b is initialized.  a is set equal to b. Then an element is appended to list b. Then printing out lists a and b gives different results. List a contains the original list with the appended element. But the object to which b refers is empty!"}, {"owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460603126, "post_id": 36611815, "comment_id": 60823015, "body": "If i use b = b + [3] instead of b.append([3]), then lists a and b are different and the object, to which list a refers, has not changed. And list b contains the new element as expected."}, {"owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460603223, "post_id": 36611815, "comment_id": 60823045, "body": "so it seems that using the function &#39;+&#39;  appends an element to a list &#39;differently than using .append method. I am SO CONFUSED."}, {"owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460607641, "post_id": 36611815, "comment_id": 60824305, "body": "this thread    <a href=\"http://stackoverflow.com/questions/986006/how-do-i-pass-a-variable-by-reference\" title=\"how do i pass a variable by reference\">stackoverflow.com/questions/986006/&hellip;</a>     and many other threads illustrate the difference using two kinds of subroutines - what we used to call procedures and functions. The idea was that you could only get information back out from the inside of a subroutine by using the keyword &#39;return&#39;. This idea was tied to the idea of &#39;scope&#39;. However in my examples above, there is no use of functions or returned parameters."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "reply_to_user": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "edited": false, "score": 0, "creation_date": 1460627480, "post_id": 36611815, "comment_id": 60835066, "body": "<code>.append()</code> works on the list itself.  It puts a new item at the end.  It returns <code>None</code>, but does some work on the list itself.  Therefore, the list is changed when you do <code>b.append([3])</code>, but <code>b</code> is then reassigned to what <code>.append()</code> returned: <code>None</code>.  When you do <code>b = b + [3]</code>, <code>b + [3]</code> is a new list that has <code>b</code>&#39;s items plus a three.  You then assign <code>b</code> to that new list and <code>a</code> is not changed."}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": true, "score": 2, "last_activity_date": 1460593890, "creation_date": 1460593890, "answer_id": 36611815, "question_id": 36610560, "link": "https://stackoverflow.com/questions/36610560/is-this-pythons-pass-by-reference-behavior/36611815#36611815", "title": "is this Python&#39;s pass by reference&#39; behavior?", "body": "<p>When a variable is defined, you are telling Python that future occurrences of this name are referring to ... object.  That holds even with definitions like <code>a = b</code>.  <code>b</code> refers to an object and you are telling Python that <code>a</code> is now also referring to that object.  Changing which object <code>b</code> refers to does not change <code>a</code> because <code>a</code> is not linked to <code>b</code>; it is linked to the object that <code>b</code> referred to at the moment that <code>a</code> was defined.  If you have a list called <code>b</code> and say <code>a = b</code>, then changing <code>a</code> with something like <code>a.append(4)</code> will of course change <code>b</code> because they are the same object.  Using <code>a = 4</code>, however, is just changing which object <code>a</code> is referring to; it does not change <code>b</code>.</p>\n"}], "owner": {"reputation": 3105, "user_id": 3418334, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9e8a91c87607327105bfdf3fc8a7c337?s=128&d=identicon&r=PG", "display_name": "aquagremlin", "link": "https://stackoverflow.com/users/3418334/aquagremlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 36611815, "answer_count": 3, "score": 1, "last_activity_date": 1460594246, "creation_date": 1460585834, "question_id": 36610560, "link": "https://stackoverflow.com/questions/36610560/is-this-pythons-pass-by-reference-behavior", "title": "is this Python&#39;s pass by reference&#39; behavior?", "body": "<p>I thought Python assignment statements were 'pass by value'. For example</p>\n\n<pre><code>b=0\na=b\nb=1\nprint(a) #prints 0\nprint \n(b) #prints 1\n</code></pre>\n\n<p>However, I am confused by a different behavior when dealing with other kinds of data. From this tutorial <a href=\"https://pythonprogramming.net/image-arithmetics-logic-python-opencv-tutorial/\" rel=\"nofollow noreferrer\">on openCV</a> I modified the code slightly to show two images. The code below takes this image:\n<a href=\"https://i.stack.imgur.com/Obn1w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Obn1w.png\" alt=\"\"></a>\nand adds it into this image\n<a href=\"https://i.stack.imgur.com/T4Ldd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T4Ldd.png\" alt=\"enter image description here\"></a></p>\n\n<p>and repeats the process, adding this image</p>\n\n<p><a href=\"https://i.stack.imgur.com/LCAh8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LCAh8.png\" alt=\"\"></a></p>\n\n<p>onto the same base image. </p>\n\n<pre><code>import cv2\nimport numpy as np\n\n# Load two images\nimg1 = cv2.imread('3D-Matplotlib.png')\n#img1a = img1\nimg1a = cv2.imread('3D-Matplotlib.png')\nimg2 = cv2.imread('mainlogo.png')\nimg3 = cv2.imread('helloo.png')\n# I want to put logo on top-left corner, So I create a ROI\nrows,cols,channels = img2.shape\nroi = img1[20:rows+20, 20:cols+20]\n\nrows3,cols3,channels3 = img3.shape\nroi3 = img1[50:rows3+50, 50:cols3+50 ]\n\n\n# Now create a mask of logo \nimg2gray = cv2.cvtColor(img2,cv2.COLOR_BGR2GRAY)\n# add a threshold\nret, mask = cv2.threshold(img2gray, 220, 255, cv2.THRESH_BINARY_INV)\n#anything crossing over 220 is thelower limit\n#binary threshold is 0 or 1\n#anything&gt; 220 goes to 255\n#anything below 220 goes to 0-&gt; black\n#and create its inverse mask\nmask_inv = cv2.bitwise_not(mask)\n#do same for img3\nimg3gray = cv2.cvtColor(img3,cv2.COLOR_BGR2GRAY)\nret3, mask3 = cv2.threshold(img3gray, 140, 255, cv2.THRESH_BINARY_INV)\nmask_inv3 = cv2.bitwise_not(mask3)\n\n\n# take the ROI of the plot, and throw the mask over it \nimg1_bg = cv2.bitwise_and(roi,roi,mask = mask_inv)\n\n# Take only region of logo from logo image.\nimg2_fg = cv2.bitwise_and(img2,img2,mask = mask)\n\n#do the same with the other mask\nimg3_bg = cv2.bitwise_and(roi3,roi3,mask = mask_inv3)\nimg3_fg = cv2.bitwise_and(img3,img3,mask = mask3)\n#\n\ndst = cv2.add(img1_bg,img2_fg)\ndst3 = cv2.add(img3_bg,img3_fg)\n\nimg1[0:rows, 0:cols ] = dst\nimg1a[50:rows3+50, 50:cols3+50 ] = dst3\n\ncv2.imshow('r1',img1)\ncv2.imshow('r3',img1a)\n\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p>In the above posted code, I get \n<a href=\"https://i.stack.imgur.com/qnTw3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qnTw3.png\" alt=\"two different images\"></a></p>\n\n<p>If I comment out line 7 and uncomment line 8, I would expect the same result if it was pass by value. But I get something else</p>\n\n<p><a href=\"https://i.stack.imgur.com/F5kBB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F5kBB.png\" alt=\"\"></a>.</p>\n\n<p>Both images are the same. Obviously, the manipulations onto img1 are 'carried over' to img1a because img1a is set to be equal to img1. If the assignment statement was 'pass by value' (as I would expect from python), then img1 and img1a should be different. But since they are the same, I conclude that img1 is a ptr that was passed to img1a. Thus, if I try to print img1a, I get the same data as I would from printing img1.</p>\n\n<p>So maybe images are passed by reference? What other data types in Python behave this way? Arrays? Dictionaries? Or am I totally wrong and confused.</p>\n"}, {"tags": ["python", "regex", "string", "format", "escaping"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1460585856, "post_id": 36610524, "comment_id": 60817817, "body": "I guess you can use it. The <code>\\\\</code> is actually 1 <code>\\</code>."}, {"owner": {"reputation": 187, "user_id": 2561339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1dbc3ba3cf1567138a938d9f1653704?s=128&d=identicon&r=PG&f=1", "display_name": "s.py", "link": "https://stackoverflow.com/users/2561339/s-py"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1460585907, "post_id": 36610524, "comment_id": 60817837, "body": "@WiktorStribi\u017cew that would cause it to match a &#39;\\&#39; and a &#39;s&#39; rather than a whitespace."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1460586140, "post_id": 36610524, "comment_id": 60817920, "body": "See <a href=\"http://ideone.com/6MyBCs\" rel=\"nofollow noreferrer\">this demo</a>"}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 1, "creation_date": 1460586276, "post_id": 36610524, "comment_id": 60817978, "body": "Use a raw string just how you would do it for regex.  The double backslashing is because of how the Python shell prints it.  It wants to indicate to you that this really is a backslash, not a special character."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1460586829, "post_id": 36610524, "comment_id": 60818208, "body": "<code>re.findall(&#39;foo{}bar&#39;.format(&#39;[\\s]+&#39;), &quot;hello foo bar&quot; )</code> works as does  <code>f = &#39;foo{}bar&#39;.format(&#39;[\\s]+&#39;);re.findall(f,s)</code>, how is it not working for you?"}], "answers": [{"tags": [], "owner": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "is_accepted": true, "score": 2, "last_activity_date": 1460591340, "creation_date": 1460591340, "answer_id": 36611473, "question_id": 36610524, "link": "https://stackoverflow.com/questions/36610524/format-string-with-regex-in-args-in-python/36611473#36611473", "title": "Format string with regex in args in Python", "body": "<p>In fact, you don't need to do anything, because the result is what you expect. <code>foo[\\\\s]+bar</code> is the representation, but not the real value, which is <code>foo[\\s]+bar</code>. Try this:</p>\n\n<pre><code>&gt;&gt; print 'foo{}bar'.format('[\\s]+')\n# and you will get\n&gt;&gt; 'foo[\\s]+bar'\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 3987019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc03b90cca2b640534c20ef4ac0a032a?s=128&d=identicon&r=PG", "display_name": "gduverger", "link": "https://stackoverflow.com/users/3987019/gduverger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1994, "favorite_count": 1, "accepted_answer_id": 36611473, "answer_count": 1, "score": 0, "last_activity_date": 1460591340, "creation_date": 1460585702, "question_id": 36610524, "link": "https://stackoverflow.com/questions/36610524/format-string-with-regex-in-args-in-python", "title": "Format string with regex in args in Python", "body": "<p>I am trying to create a string in Python using the format method, but one of the arguments is a regular expression. I tried:</p>\n\n<pre><code>&gt;&gt;&gt; 'foo{}bar'.format('[\\s]+')\n'foo[\\\\s]+bar'\n</code></pre>\n\n<p>Because of the escaping, I can't use the result as a <code>re.search</code> pattern. Is there a way not to escape it?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "oracle", "caching", "nat", "cx-oracle"], "comments": [{"owner": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 0, "creation_date": 1460604606, "post_id": 36610463, "comment_id": 60823396, "body": "Did you include a commit? Notifications are not sent until a commit is done. Did you try the sample for database query notification that comes with cx_Oracle itself?"}, {"owner": {"reputation": 183, "user_id": 5013047, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5dca2ce4399954b61c9dafdfe9f6aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Good Eats", "link": "https://stackoverflow.com/users/5013047/good-eats"}, "reply_to_user": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 0, "creation_date": 1460653928, "post_id": 36610463, "comment_id": 60855069, "body": "@AnthonyTuininga : Thanks for your response. I did make sure to commit. I took your suggestion and  tried to use the cx_Oracle example directly. I observe the same behavior."}, {"owner": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "edited": false, "score": 0, "creation_date": 1460662315, "post_id": 36610463, "comment_id": 60859909, "body": "That eliminates your code as the problem and it becomes an issue with your environment. Did you try the workaround provided in that link regarding the bug in 11.2.0.1? If that works for you, then you can use that to convince the DBA to upgrade to 11.2.0.3 anyway!"}], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 5013047, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5dca2ce4399954b61c9dafdfe9f6aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Good Eats", "link": "https://stackoverflow.com/users/5013047/good-eats"}, "is_accepted": true, "score": 0, "last_activity_date": 1462102531, "last_edit_date": 1462102531, "creation_date": 1461809487, "answer_id": 36904055, "question_id": 36610463, "link": "https://stackoverflow.com/questions/36610463/cx-oracle-cqn-callback-usage-across-a-router/36904055#36904055", "title": "cx_Oracle CQN Callback usage across a router", "body": "<p>I was able to receive change notifications using a test version of the code above by performing two tasks:</p>\n\n<ol>\n<li>invoke the \"set events\" hack provided at the link above. This is nice since I can still move forward even if I can't convince the DBA to update the server software to 11.2.0.4.</li>\n<li>set up port forwarding at the router to forward incoming connections on the specified port to my internal IP. I can control this while on my laptop at home, but I will need to convince my company's IT support to implement port forwarding for my production server at work.</li>\n</ol>\n\n<p>Item 2 above confirms my original suspicion that change notifications cannot be used (without hacking your router) if your database is on a network external to your LAN. The reason being that instead of the local client opening a long-lived connection that serves to communicate changes, change notification connections are initiated from the DB-side and a new connection is created for each change notification</p>\n\n<p>I was then able to implement the 2 steps above on the work LAN and successfully trigger my callback code. I needed to specify a fixed port for the subscription by modifying the subscription creation so that I could correctly implement port forwarding on the company firewall:</p>\n\n<pre><code>subs = conn.subscribe(callback = CQNCallback, operations=ops, rowids = False, timeout=3000, port=50000)\n</code></pre>\n\n<p>One other thing I learned that could help others is that you can't just close the python shell or ctrl-c code that registers a change notification using cx_Oracle. You need to explicitly call \"del subs\" otherwise the subscription will remain permanently registered in the database (forever?) with no mechanism to remove it. To get around this limitation during development be sure to explicitly specify a short timeout to the subscription. That way if you mistakenly hit ctrl-c you only have to wait a short period for the subscriptions to timeout before you can keep working. I do not intend to use a timeout for the production code, but I'm not yet sure how I will be able to clean up orphaned subscriptions that will arise from a crash.</p>\n\n<p>This effectively closes this question. There are still problems to getting this to work such as Oracle refusing to handle FIN and RST on the notification port, but that will be the subject for another question.</p>\n"}], "owner": {"reputation": 183, "user_id": 5013047, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5dca2ce4399954b61c9dafdfe9f6aa94?s=128&d=identicon&r=PG&f=1", "display_name": "Good Eats", "link": "https://stackoverflow.com/users/5013047/good-eats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 0, "accepted_answer_id": 36904055, "answer_count": 1, "score": 0, "last_activity_date": 1462102531, "creation_date": 1460585382, "last_edit_date": 1462102493, "question_id": 36610463, "link": "https://stackoverflow.com/questions/36610463/cx-oracle-cqn-callback-usage-across-a-router", "title": "cx_Oracle CQN Callback usage across a router", "body": "<p>I am using writing a flask webpage in python which maintains cached query results from an Oracle DB (v11.2). I want to use continuous query notification (CQN) to obtain notification when my caches become invalid. I am able to register the CQN notification listener, but my callback is not being called when the table changes. Note that the database is hosted externally on AWS and my dev (and eventual prod) computers are on a LAN behind the company router.</p>\n\n<p>I use this code to register the CQN callback:</p>\n\n<pre><code>import cx_Oracle\ndef CQNCallback(message):\n    print(\"Callback triggered.\")\n\nops = cx_Oracle.OPCODE_INSERT | cx_Oracle.OPCODE_DELETE | cx_Oracle.OPCODE_UPDATE\nconn = cx_Oracle.connect('userID','passwd','IP:port/ID',events=True)\nsubs = conn.subscribe(callback = CQNCallback, operations=ops, rowids = False, timeout=3000)\nsubs.registerquery('select * from MYTABLE')\n</code></pre>\n\n<p>This code executes sucessfully and I see a new entry in the DB USER_CHANGE_NOTIFICATION_REGS table: </p>\n\n<pre><code>REGID: 269\nREGFLAGS: 0\nCALLBACK: net8://(ADDRESS=(PROTOCOL=tcp)(HOST=&lt;gateway&gt;)(PORT=56824))?PR=0\nOPERATIONS_FILTER: 14\nCHANGELAG: 0\nTIMEOUT: 2987\nTABLE_NAME: MYTABLE\n</code></pre>\n\n<p>\"gateway\" is the public IP address for my company's gateway/router and port 56824 appears to have been assigned by cx_Oracle.\nTo verify that my dev machine is listening for these notifications, I run netstat and see that the computer is listening on port 56824 on both IPv4&amp;6</p>\n\n<pre><code>Proto  Local Address     Foreign Address    State\nTCP    0.0.0.0:56824     &lt;devComputer&gt;:0    LISTENING\nTCP    [::]:56824        &lt;devComputer&gt;:0    LISTENING\n</code></pre>\n\n<p>However, when I manually update or insert (and Commit!) changes to MYTABLE using SQLDeveloper, my callback is never called and I don't know why (I made sure the registration hadn't timed out when the changes were made).</p>\n\n<p>My Speculation: I am suspicious that the DB appears to be using the same port number as the local process -- which suggests a NAT problem. Perhaps the tcp connection for the notification is being originated by the database and it is sending notification messages to gateway:56824. If so, the router might not know what to do with the message and therefore drop it. If this is the case how can I configure cx_Oracle to correctly handle the intervening router?</p>\n\n<p>I found an OTN thread suggesting that this is a known bug in Oracle 11.2.0.1 (<a href=\"https://community.oracle.com/thread/2292328?tstart=0\" rel=\"nofollow\">https://community.oracle.com/thread/2292328?tstart=0</a>). I guess my new task is to convince the DB admin to upgrade the database and try this again. My question now becomes, \"What is the best way to bribe/convince a DB admin to upgrade Oracle on a system that he hasn't had to think about since 2009 without being told to 'go pound sand'?\" </p>\n"}, {"tags": ["python", "loops", "wordnet"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460595539, "post_id": 36611500, "comment_id": 60820880, "body": "Thanks a lot! But because of &quot;s = wordnet.synsets(&#39;bird&#39;)[0]&quot; for every word only synonym and hyponym of &quot;bird&quot; show up and synset doesnt accept a list. Any solution? Also i need the result as one list [&quot;bird&quot;, &quot;smart&quot;, &quot;cool&quot;, &quot;happy&quot;, &quot;synonym of bird&quot;, &quot;hyponym of bird&quot;, &quot;synonym of smart&quot;... ]"}, {"owner": {"reputation": 563, "user_id": 5183727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1l36i.jpg?s=128&g=1", "display_name": "Ares Ou", "link": "https://stackoverflow.com/users/5183727/ares-ou"}, "reply_to_user": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460607854, "post_id": 36611500, "comment_id": 60824380, "body": "@Ashwin Code edited, feel free to comment if you have any problems."}, {"owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460618753, "post_id": 36611500, "comment_id": 60829148, "body": "Thank you so much for your help. Really appreciate it!!"}], "tags": [], "owner": {"reputation": 563, "user_id": 5183727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1l36i.jpg?s=128&g=1", "display_name": "Ares Ou", "link": "https://stackoverflow.com/users/5183727/ares-ou"}, "is_accepted": false, "score": 0, "last_activity_date": 1460607824, "last_edit_date": 1460607824, "creation_date": 1460591510, "answer_id": 36611500, "question_id": 36610441, "link": "https://stackoverflow.com/questions/36610441/synset-function-to-include-synonym-in-a-list/36611500#36611500", "title": "Synset function to include synonym in a list", "body": "<p><strong>EDIT</strong>: according to OP's comment. Output format has been changed.</p>\n\n<p><s>Suppose you want an output like this:</p>\n\n<pre><code>result = [\n    [\"bird\", \"smart\", \"cool\", \"happy\"],\n    [[\"Synonym 1 of bird...\", ...], [\"Synonym 1 of smart...\", ...], [\"Synonym 1 of cool...\", ...], [\"Synonym 1 of happy...\", ...]],\n    ...\n]\n</code></pre>\n\n<p></s></p>\n\n<p>New output format:</p>\n\n<pre><code>[\"bird\", \"smart\", \"cool\", \"happy\", \"synonym of bird\", \"hyponym of bird\", \"synonym of smart\"... ]\n</code></pre>\n\n<p>You can iterate through the original word list as below:</p>\n\n<pre><code>from pattern.en import wordnet\n\nlist_of_words = [\"bird\", \"smart\", \"cool\", \"happy\"]\noriginal_length = len(list_of_words)\n\nfor word in list_of_words:\n    s = wordnet.synsets(word)[0]\n\n    # append synonyms list to the result\n    list_of_words.append([s.synonyms])\n\n    # append hyponyms list to the result\n    list_of_words.append(s.hyponyms())\n</code></pre>\n\n<p>After the iteration, you can access the lists by:</p>\n\n<pre><code>for index in range(original_length):\n    print 'Displaying word %s' % list_of_words[index]\n    print 'Synonyms: %s' % str(list_of_words[index + original_length])\n    print 'Hyponyms: %s' % str(list_of_words[index + original_length + 1])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460596463, "post_id": 36612076, "comment_id": 60821095, "body": "Thanks a lot! I get the output as [&#39;bird&#39;, &#39;smart&#39;, &#39;cool&#39;, &#39;happy&#39;, &#39;birdsyn1&#39;, &#39;birdsyn2&#39;, &#39;smartsyn1&#39;, &#39;smartsyn2&#39;, &#39;coolsyn1&#39;, &#39;coolsyn2&#39;, &#39;happysyn1&#39;, &#39;happysyn2&#39;, &#39;birdhyp1&#39;, &#39;birdhyp2&#39;, &#39;smarthyp1&#39;, &#39;smarthyp2&#39;, &#39;coolhyp1&#39;, &#39;coolhyp2&#39;, &#39;happyhyp1&#39;, &#39;happyhyp2&#39;]....birdsyn1 is not replaced by the actual synonym?"}, {"owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "reply_to_user": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460596949, "post_id": 36612076, "comment_id": 60821218, "body": "I don&#39;t understand your question here. could you please elaborate it? Do you mean when you replaced fakesynsets with wordnet.synsets, you didn&#39;t get the expected result?"}, {"owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "reply_to_user": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460597326, "post_id": 36612076, "comment_id": 60821336, "body": "And what&#39;s the type of  the return of wordnet.synsets(&#39;bird&#39;)? My understanding is that it is a list of objects, each of which has two fields - synonyms and hyponyms. And based on the plural form of the naming as well as the use in the question, synonyms is a list/tuple, and synonyms is a callable that returns a list/tuple. Is my understanding right?"}, {"owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460598151, "post_id": 36612076, "comment_id": 60821617, "body": "Sorry didnt understand the replacement.  I have modified the code in the question. Can u please take a look and point it out?"}, {"owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460598785, "post_id": 36612076, "comment_id": 60821820, "body": "The return of wordnet.synsets(&quot;bird&quot;) is as follows:  [&#39;bird&#39;, &#39;smart&#39;, &#39;cool&#39;, &#39;happy&#39;, u&#39;bird&#39;, u&#39;bird&#39;, u&#39;bird&#39;, u&#39;bird&#39;, Synset(u&#39;dickeybird&#39;), Synset(u&#39;cock&#39;), Synset(u&#39;hen&#39;), Synset(u&#39;nester&#39;),.......The code is not adding the corresponding synonyms to the list."}, {"owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "reply_to_user": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460599102, "post_id": 36612076, "comment_id": 60821904, "body": "@Ashwin, firstly you shouldn&#39;t update your question with my sample code, because this will confuse others and get the problem in your question lost. What you need to do is to update your question with 1) type of the return of wordnet.synsets and 2) your expected result"}, {"owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460599922, "post_id": 36612076, "comment_id": 60822135, "body": "I have edited the question with the expected result."}, {"owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "reply_to_user": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460612577, "post_id": 36612076, "comment_id": 60825916, "body": "@Ashwin, I created another answer. Please check it out"}], "tags": [], "owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "is_accepted": false, "score": 0, "last_activity_date": 1460595780, "creation_date": 1460595780, "answer_id": 36612076, "question_id": 36610441, "link": "https://stackoverflow.com/questions/36610441/synset-function-to-include-synonym-in-a-list/36612076#36612076", "title": "Synset function to include synonym in a list", "body": "<p>Here is a quick implementation. Don't worry much about fakesynsets, which is just a mockup of wordnet.synsets. You can directly check the code following this function.</p>\n\n<pre><code>def fakesynsets(word):\n    from collections import namedtuple\n    sysnset = namedtuple('sysnset', ['synonyms', 'hyponyms'])\n\n    return [sysnset(synonyms = [word+'syn'+str(ii) for ii in range(1,3)], hyponyms = lambda : [word+'hyp'+str(ii) for ii in range(1,3)])]\n\n\nlist_of_words = [\"bird\", \"smart\", \"cool\", \"happy\"]\nlist_of_words_synonyms = []\nlist_of_words_hypnonyms = []\n\nfor word in list_of_words:\n    s = fakesynsets(word)[0]\n    list_of_words_synonyms.extend(s.synonyms)\n    list_of_words_hypnonyms.extend(s.hyponyms())\n\nlist_of_words = list_of_words + list_of_words_synonyms + list_of_words_hypnonyms\n\nprint(list_of_words)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "edited": false, "score": 0, "creation_date": 1460618766, "post_id": 36614671, "comment_id": 60829156, "body": "Thank you so much for your help. Really appreciate it!!"}], "tags": [], "owner": {"reputation": 647, "user_id": 4328122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4VBJ.png?s=128&g=1", "display_name": "Lei Shi", "link": "https://stackoverflow.com/users/4328122/lei-shi"}, "is_accepted": true, "score": 0, "last_activity_date": 1460612532, "creation_date": 1460612532, "answer_id": 36614671, "question_id": 36610441, "link": "https://stackoverflow.com/questions/36610441/synset-function-to-include-synonym-in-a-list/36614671#36614671", "title": "Synset function to include synonym in a list", "body": "<p><em>(create this new answer rather than update my existing one, as the question has updated quite a lot)</em></p>\n\n<p>Finally understand what wordnet.sysets() returns by installing package \"pattern\" and doing a debugging. Here is the code that runs:</p>\n\n<pre><code>from pattern.en import wordnet\n\nlist_of_words = [u\"bird\", u\"smart\", u\"cool\", u\"happy\"]\nlist_of_words_synonyms = []\nlist_of_words_hypnonyms = []\n\nfor word in list_of_words:\n    sts = wordnet.synsets(word)\n    if len(sts):\n        st = sts[0]\n        list_of_words_synonyms.extend(st.synonyms)\n        list_of_words_hypnonyms.extend(hs.senses[0] for hs in st.hyponyms())        \n\nlist_of_words = list_of_words + list_of_words_synonyms + list_of_words_hypnonyms\nprint(list_of_words)\n</code></pre>\n\n<p>Please notes:</p>\n\n<ol>\n<li>the duplication is not considered. If removing duplication is a requirement, then you may use <a href=\"https://docs.python.org/2/library/sets.html?highlight=sets.set#sets.Set\" rel=\"nofollow\">sets.Set</a> instead of list</li>\n<li>for each hypnonym, it has multiple senses. list_of_words_hypnonyms just includes the first one. If you want to include all of them, use below code to replace the corresponing line:\n<code>list_of_words_hypnonyms.extend(sense for hs in st.hyponyms() for sense in hs.senses)</code></li>\n<li>for adding hypononyms to list_of_words_hypnonyms, <a href=\"https://docs.python.org/2/reference/expressions.html#generator-expressions\" rel=\"nofollow\">generator expression</a> is used</li>\n</ol>\n\n<p>The result is:</p>\n\n<pre><code>[u'bird', u'smart', u'cool', u'happy', u'bird', u'smart', u'smarting', u'smartness', u'cool', u'dickeybird', u'cock', u'hen', u'nester', u'night bird', u'bird of passage', u'protoavis', u'archaeopteryx', u'Sinornis', u'Ibero-mesornis', u'archaeornis', u'ratite', u'carinate', u'passerine', u'nonpasserine bird', u'bird of prey', u'gallinaceous bird', u'parrot', u'cuculiform bird', u'coraciiform bird', u'apodiform bird', u'caprimulgiform bird', u'piciform bird', u'trogon', u'aquatic bird', u'twitterer']\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5627769, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c5ed1a58f28335aa12bc84ab9e2f6c98?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/5627769/ashwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 376, "favorite_count": 0, "accepted_answer_id": 36614671, "answer_count": 3, "score": 0, "last_activity_date": 1460612532, "creation_date": 1460585280, "last_edit_date": 1460599660, "question_id": 36610441, "link": "https://stackoverflow.com/questions/36610441/synset-function-to-include-synonym-in-a-list", "title": "Synset function to include synonym in a list", "body": "<p>I need to iterate over a list and add synonyms and hyponyms of the words back to the list. For example:</p>\n\n<pre><code>list_of_words = [\"bird\", \"smart\", \"cool\", \"happy\"]\nlist_of_words = list_of_words + list_of_words_synonyms + list_of_words_hypnonyms\n</code></pre>\n\n<p>I'm able to get the synonyms and hypnonyms for individual words, but need to iterate over a list of values.</p>\n\n<pre><code>s = wordnet.synset(word)[0]\n</code></pre>\n\n<p>needs to return a list with individual synonyms added to the original list.</p>\n\n<p>Expected result is:\n    list_of_words = [\"bird\", \"smart\", \"cool\", \"happy\", \"hen\", \"cock\"..other synonyms of bird, \"clever\", \"intelligent\", other synonyms of smart....and so on]</p>\n\n<p>How can I get the synset function to iterate over the list_of_words and include these words in the list? I'm very new to text analysis. Any help is appreciated.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1460585104, "post_id": 36610385, "comment_id": 60817487, "body": "Possibly just use <a href=\"http://pandas.pydata.org/pandas-docs/version/0.17.1/generated/pandas.DataFrame.sort_values.html#pandas.DataFrame.sort_values\" rel=\"nofollow noreferrer\"><code>DataFrame.sort_values</code></a>"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1460585278, "post_id": 36610385, "comment_id": 60817563, "body": "Honestly you can just <a href=\"https://www.google.ca/webhp?hl=en#hl=en&amp;q=Python+pandas+sort+groupby+results\" rel=\"nofollow noreferrer\">use google</a> and probably find your answer."}], "answers": [{"comments": [{"owner": {"reputation": 5134, "user_id": 1134881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k4bte.jpg?s=128&g=1", "display_name": "SpeedCoder5", "link": "https://stackoverflow.com/users/1134881/speedcoder5"}, "edited": false, "score": 0, "creation_date": 1460586836, "post_id": 36610416, "comment_id": 60818209, "body": "This should be marked as the answer if there is guaranteed to be 1 unique id per name."}, {"owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "edited": false, "score": 0, "creation_date": 1460592276, "post_id": 36610416, "comment_id": 60820065, "body": "That&#39;s great! Thank you!"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 2, "last_activity_date": 1460585457, "last_edit_date": 1460585457, "creation_date": 1460585101, "answer_id": 36610416, "question_id": 36610385, "link": "https://stackoverflow.com/questions/36610385/python-pandas-sort-groupby-results/36610416#36610416", "title": "Python pandas sort groupby results", "body": "<p>You don't even need the groupby.  Just use value_counts().</p>\n\n<pre><code>&gt;&gt;&gt; df.Name.value_counts()\nnameD    6\nnameA    4\nnameE    2\nnameC    1\nnameB    1\nName: Name, dtype: int64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 2635790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6I9kD.png?s=128&g=1", "display_name": "ej_f", "link": "https://stackoverflow.com/users/2635790/ej-f"}, "is_accepted": false, "score": 1, "last_activity_date": 1460585828, "creation_date": 1460585828, "answer_id": 36610557, "question_id": 36610385, "link": "https://stackoverflow.com/questions/36610385/python-pandas-sort-groupby-results/36610557#36610557", "title": "Python pandas sort groupby results", "body": "<p>Try with:</p>\n\n<pre><code>my_df.groupby('name').Id.nunique().sort_values(ascending=False)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5134, "user_id": 1134881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k4bte.jpg?s=128&g=1", "display_name": "SpeedCoder5", "link": "https://stackoverflow.com/users/1134881/speedcoder5"}, "is_accepted": false, "score": 0, "last_activity_date": 1460586425, "creation_date": 1460586425, "answer_id": 36610681, "question_id": 36610385, "link": "https://stackoverflow.com/questions/36610385/python-pandas-sort-groupby-results/36610681#36610681", "title": "Python pandas sort groupby results", "body": "<p>@ej_f - right on.  Results for me were funny with nunique so I used count instead.</p>\n\n<pre><code>my_df.groupby('name').Id.count().sort_values(ascending=False)\n</code></pre>\n"}], "owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 36610416, "answer_count": 3, "score": 2, "last_activity_date": 1460586425, "creation_date": 1460584938, "question_id": 36610385, "link": "https://stackoverflow.com/questions/36610385/python-pandas-sort-groupby-results", "title": "Python pandas sort groupby results", "body": "<p>I'm successfully extracting and counting data from my dataframe but I'd like to sort on the resulting count values.</p>\n\n<p>groupby snippet:</p>\n\n<pre><code>my_df.groupby('name').Id.nunique().head(5)\n</code></pre>\n\n<p>Results: </p>\n\n<pre><code>Name\nnameA        4\nnameB        1\nnameC        1\nnameD        6\nnameE        2\n</code></pre>\n\n<p>But I'd like to order the results as follows;</p>\n\n<pre><code>Name\nnameD        6\nnameA        4\nnameE        2\nnameB        1\nnameC        1\n</code></pre>\n\n<p>I'm assuming this should be straight forward and I'm hoping someone can point me in the right direction.</p>\n"}, {"tags": ["python", "bokeh"], "comments": [{"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 1, "creation_date": 1460607808, "post_id": 36610328, "comment_id": 60824363, "body": "The HTTP Request is not currently available as of Bokeh 0.11.1, but it could be and various ideas have been suggested here and there. If you are interested in contributing to the direction of this development I encourage you to share your thoughts here: <a href=\"https://github.com/bokeh/bokeh/issues/3349\" rel=\"nofollow noreferrer\">github.com/bokeh/bokeh/issues/3349</a>"}, {"owner": {"reputation": 23426, "user_id": 1889400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af37d1daf2f9da7d04cbcd52b47c4a3?s=128&d=identicon&r=PG", "display_name": "TomAugspurger", "link": "https://stackoverflow.com/users/1889400/tomaugspurger"}, "reply_to_user": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1460637602, "post_id": 36610328, "comment_id": 60842620, "body": "Thanks. I&#39;ll follow along there and chime in if I see anything."}], "answers": [{"tags": [], "owner": {"reputation": 23426, "user_id": 1889400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af37d1daf2f9da7d04cbcd52b47c4a3?s=128&d=identicon&r=PG", "display_name": "TomAugspurger", "link": "https://stackoverflow.com/users/1889400/tomaugspurger"}, "is_accepted": false, "score": 0, "last_activity_date": 1461413794, "creation_date": 1461413794, "answer_id": 36810693, "question_id": 36610328, "link": "https://stackoverflow.com/questions/36610328/control-bokeh-plot-state-with-http-request/36810693#36810693", "title": "Control Bokeh plot state with HTTP Request", "body": "<p>Eventually I was able to get this working. I'm not sure I would really recommend anyone use this code, but in case it's useful....</p>\n\n<p>I wrapped the Bokeh application in a Flask app. The basic idea is to parse the query parameters in the flask view, and walk the Bokeh document, updating the objects as directed by the query parameter.</p>\n\n<p>I updated <code>main.py</code> to include <code>state</code>, a list of widgets controllable by the query parameter</p>\n\n<pre><code># file: main.py\n# ...\nstate = [selector]\n# ...\n</code></pre>\n\n<p>We import that in <code>app.py</code>, the Flask (or Django/whatever) app.</p>\n\n<pre><code># file: app.py\nimport json\nfrom urllib.parse import urlencode\n\nfrom flask import Flask, request, render_template\n\nfrom bokeh.client import pull_session\nfrom bokeh.embed import autoload_server\napp = Flask(__name__)\n\n\n@app.route('/')\ndef index():\n    session = pull_session(app_path='/main')\n    doc = session.document\n    update_document(doc, request)  # this is the important part\n    script = autoload_server(model=None,\n                             app_path='/main', session_id=session.id)\n    return render_template('index.html', script=script, session_id=session.id)\n\n\ndef update_document(doc, request):\n    '''\n    Update a Bokeh document according to the query string in ``request``\n\n    Parameters\n    ----------\n    doc: Bokeh.Document\n    request: flask.request\n\n    Returns\n    -------\n    None: (Modifies doc inplace)\n    '''\n    for k, v in request.args.items():\n        # titles must be unique\n        model = doc.select_one(dict(title=k))\n        v = parse_query_value(v)\n        model.update(value=v)\n\n\ndef parse_query_value(v):\n    '''\n    Parse a single parameter's value from the query string\n\n    Parameters\n    ----------\n    v : str\n\n    Returns\n    -------\n    parsed : object\n    '''\n    if v.startswith('['):\n        return json.loads(v.replace(\"'\", '\"'))\n    return v\n\n\n@app.route('/state/&lt;session_id&gt;')\ndef get_state(session_id):\n    '''\n    Get the current widget state.\n\n    Parameters\n    ----------\n    session_id : int\n        id of the connection to the bokeh server from ``session.id``.\n        this should be unique per tab.\n    '''\n    session = pull_session(app_path='/main',\n                           session_id=session_id)\n    doc = session.document\n    params = {}\n    for key in state:\n        params[key] = doc.select_one(dict(title=key)).value\n    return urlencode(params)\n\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n\n<p>And  <code>index.html</code></p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1 class='title'&gt;Title&lt;/h1&gt;\n\n    &lt;div class=\"plot\"&gt;{{ script|safe }}&lt;/div&gt;\n\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 23426, "user_id": 1889400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af37d1daf2f9da7d04cbcd52b47c4a3?s=128&d=identicon&r=PG", "display_name": "TomAugspurger", "link": "https://stackoverflow.com/users/1889400/tomaugspurger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1372, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1461413794, "creation_date": 1460584627, "last_edit_date": 1495540364, "question_id": 36610328, "link": "https://stackoverflow.com/questions/36610328/control-bokeh-plot-state-with-http-request", "title": "Control Bokeh plot state with HTTP Request", "body": "<p>I'm creating a bokeh application, and would like to make the state (widgets, which affect the figure) \"shareable\". My first thought was to use a query string in the URL. However, I'm not sure if the actual HTTP request is available to the application.</p>\n\n<p>An example:</p>\n\n<pre><code># main.py\nfrom bokeh.models.widgets import Select\nfrom bokeh.plotting import Figure\nfrom bokeh.io import curdoc, vform\n\np = Figure()\nselector = Select(title=\"Select\", options=[\"1\", \"2\", \"3\"], value=\"2\")\n\np.line([1, selector.value], [1, selector.value])\n\ncurdoc().add_root(vform(p, selector))\n</code></pre>\n\n<p>which is served with <code>bokeh serve main.py</code> and accessed at <code>http://localhost:5006/main</code>.</p>\n\n<p>If I navigate to <code>http://localhost:5006/main?select=3</code>, is there a way for the application to know that the original request included <code>select=3</code> and have that reflected in the figure going up to 3 instead of the default 2? Or am I approaching this entirely the wrong way, and missing a better solution?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32316959/get-url-parameters-for-bokeh-application\">This</a> question and answer is related, but I think out of date now that bokeh server is built on tornado.</p>\n"}, {"tags": ["python", "parallel-processing", "multiprocessing", "tensorflow", "reinforcement-learning"], "comments": [{"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 1, "creation_date": 1460585673, "post_id": 36610290, "comment_id": 60817728, "body": "I suspect you can&#39;t pass clones of Sessions between processes because there&#39;s state in C address space that Python doesn&#39;t know how to copy. But creating brand new sessions in each new process should work. I haven&#39;t used multiprocessing, but I often have couple of processes open in parallel that keep their own TensorFlow sessions"}, {"owner": {"reputation": 637, "user_id": 3691859, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bf6c494e43be19c45079cf12dee85b8d?s=128&d=identicon&r=PG&f=1", "display_name": "MrRed", "link": "https://stackoverflow.com/users/3691859/mrred"}, "reply_to_user": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1460585984, "post_id": 36610290, "comment_id": 60817868, "body": "The second link I provided runs several processes in parallel, but the issue is that I need the neural network to be the same for ALL the processes."}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 1, "creation_date": 1460588011, "post_id": 36610290, "comment_id": 60818654, "body": "You may be able to work-around it by using TensorFlow distributed -- ie, have a local worker and ps and create multiple sessions in parallel like <code>tf.Session(&quot;grpc:&#47;&#47;localhost:2222&quot;)</code> <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/how_tos/distributed/index.md\" rel=\"nofollow noreferrer\">github.com/tensorflow/tensorflow/blob/master/tensorflow/g3do&zwnj;&#8203;c/&hellip;</a>"}, {"owner": {"reputation": 535, "user_id": 3399275, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2bfadf051d39f1902a0b914305a90feb?s=128&d=identicon&r=PG&f=1", "display_name": "dd210", "link": "https://stackoverflow.com/users/3399275/dd210"}, "reply_to_user": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 1, "creation_date": 1486087782, "post_id": 36610290, "comment_id": 71206314, "body": "@YaroslavBulatov , any chance you could elaborate a little bit? I am implementing parallel TRPO (Viva RL) but now working with the minimal example [ <a href=\"https://gist.github.com/dd210/e8bad8eadc19f44cafcdc5313a39a53f\" rel=\"nofollow noreferrer\">gist.github.com/dd210/e8bad8eadc19f44cafcdc5313a39a53f</a> ]. Basically I would like to launch Session in main process, do some calculations, then transfer network to another X parallel processes and do some calculations in parallel there. Then repeat Y times. But I got stuck with this minimal example, because it seems that I need to work in one session all the time. Official tutorial is a &lt;bit&gt; vague. Appreciate any help and advice."}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 1, "creation_date": 1486089809, "post_id": 36610290, "comment_id": 71206807, "body": "Multiprocessing seems to be semi-broken with TensorFlow. Here&#39;s an example of using distributed tensorflow -- <a href=\"https://gist.github.com/yaroslavvb/ea1b1bae0a75c4aae593df7eca72d9ca\" rel=\"nofollow noreferrer\">gist.github.com/yaroslavvb/ea1b1bae0a75c4aae593df7eca72d9ca</a>"}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1486089902, "post_id": 36610290, "comment_id": 71206833, "body": "BTW, I&#39;ve seen people use TF with MPI before, it&#39;s fine if you launch processes and create sessions in each process separately and use MPI to communicate, as opposed to importing tensorflow -&gt; creating session -&gt; fork"}, {"owner": {"reputation": 535, "user_id": 3399275, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2bfadf051d39f1902a0b914305a90feb?s=128&d=identicon&r=PG&f=1", "display_name": "dd210", "link": "https://stackoverflow.com/users/3399275/dd210"}, "reply_to_user": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1486090354, "post_id": 36610290, "comment_id": 71206952, "body": "@YaroslavBulatov Exactly! I was one of such persons, but it is clearly very strange workaround.. And not perfect fit for my task either. Thank you for the example, I will look into it."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 5709630, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b4f9d39fab3acdf595230241468cff47?s=128&d=identicon&r=PG&f=1", "display_name": "Cola_Colin", "link": "https://stackoverflow.com/users/5709630/cola-colin"}, "edited": false, "score": 0, "creation_date": 1514557669, "post_id": 46779776, "comment_id": 83017250, "body": "this just saved my day. Thanks!"}], "tags": [], "owner": {"reputation": 871, "user_id": 5683778, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/bXLFl.jpg?s=128&g=1", "display_name": "June Skeeter", "link": "https://stackoverflow.com/users/5683778/june-skeeter"}, "is_accepted": false, "score": 10, "last_activity_date": 1508191503, "creation_date": 1508191503, "answer_id": 46779776, "question_id": 36610290, "link": "https://stackoverflow.com/questions/36610290/tensorflow-and-multiprocessing-passing-sessions/46779776#46779776", "title": "Tensorflow and Multiprocessing: Passing Sessions", "body": "<p>I use keras as a wrapper with tensorflow as a backed, but the same general principal should apply.</p>\n\n<p>If you try something like this:</p>\n\n<pre><code>import keras\nfrom functools import partial\nfrom multiprocessing import Pool\n\ndef ModelFunc(i,SomeData):\n    YourModel = Here\n    return(ModelScore)\n\npool = Pool(processes = 4)\nfor i,Score in enumerate(pool.imap(partial(ModelFunc,SomeData),range(4))):\n    print(Score)\n</code></pre>\n\n<p>It will fail.  However, if you try something like this:   </p>\n\n<pre><code>from functools import partial\nfrom multiprocessing import Pool\n\ndef ModelFunc(i,SomeData):\n    import keras\n    YourModel = Here\n    return(ModelScore)\n\npool = Pool(processes = 4)\nfor i,Score in enumerate(pool.imap(partial(ModelFunc,SomeData),range(4))):\n    print(Score)\n</code></pre>\n\n<p>It should work.  Try calling tensorflow separately for each process.</p>\n"}, {"comments": [{"owner": {"reputation": 300, "user_id": 6817325, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210988111127393/picture?type=large", "display_name": "David O&#39;Neill", "link": "https://stackoverflow.com/users/6817325/david-oneill"}, "edited": false, "score": 2, "creation_date": 1550757988, "post_id": 54562773, "comment_id": 96394364, "body": "Thank you so much for this - I&#39;d like to vouch that this also (maybe obviously) works with Keras. I needed a way to run prediction in multiple processes at once. My specific implementation entailed creating wrapper classes around my Keras models, each having their own <code>tf.Graph()</code> and <code>tf.Session()</code> objects, and creating a <code>ray</code> actor from an entry point module which exposes a single <code>run_prediction()</code> method."}], "tags": [], "owner": {"reputation": 2243, "user_id": 7858504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LaFDN.jpg?s=128&g=1", "display_name": "Robert Nishihara", "link": "https://stackoverflow.com/users/7858504/robert-nishihara"}, "is_accepted": false, "score": 13, "last_activity_date": 1549488361, "creation_date": 1549488361, "answer_id": 54562773, "question_id": 36610290, "link": "https://stackoverflow.com/questions/36610290/tensorflow-and-multiprocessing-passing-sessions/54562773#54562773", "title": "Tensorflow and Multiprocessing: Passing Sessions", "body": "<p>You can't use Python multiprocessing to pass a TensorFlow <code>Session</code> into a <code>multiprocessing.Pool</code> in the straightfoward way because the <code>Session</code> object can't be pickled (it's fundamentally not serializable because it may manage GPU memory and state like that).</p>\n\n<p>I'd suggest parallelizing the code using <a href=\"https://en.wikipedia.org/wiki/Actor_model\" rel=\"noreferrer\">actors</a>, which are essentially the parallel computing analog of \"objects\" and use used to manage state in the distributed setting.</p>\n\n<p><a href=\"https://github.com/ray-project/ray\" rel=\"noreferrer\">Ray</a> is a good framework for doing this. You can define a Python class which manages the TensorFlow <code>Session</code> and exposes a method for running your simulation.</p>\n\n<pre><code>import ray\nimport tensorflow as tf\n\nray.init()\n\n@ray.remote\nclass Simulator(object):\n    def __init__(self):\n        self.sess = tf.Session()\n        self.simple_model = tf.constant([1.0])\n\n    def simulate(self):\n        return self.sess.run(self.simple_model)\n\n# Create two actors.\nsimulators = [Simulator.remote() for _ in range(2)]\n\n# Run two simulations in parallel.\nresults = ray.get([s.simulate.remote() for s in simulators])\n</code></pre>\n\n<p>Here are a few more examples of <a href=\"https://ray.readthedocs.io/en/latest/using-ray-with-tensorflow.html\" rel=\"noreferrer\">parallelizing TensorFlow with Ray</a>.</p>\n\n<p>See the <a href=\"https://ray.readthedocs.io/en/latest/?badge=latest\" rel=\"noreferrer\">Ray documentation</a>. Note that I'm one of the Ray developers.</p>\n"}], "owner": {"reputation": 637, "user_id": 3691859, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bf6c494e43be19c45079cf12dee85b8d?s=128&d=identicon&r=PG&f=1", "display_name": "MrRed", "link": "https://stackoverflow.com/users/3691859/mrred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23856, "favorite_count": 15, "answer_count": 2, "score": 24, "last_activity_date": 1549488361, "creation_date": 1460584488, "last_edit_date": 1495535370, "question_id": 36610290, "link": "https://stackoverflow.com/questions/36610290/tensorflow-and-multiprocessing-passing-sessions", "title": "Tensorflow and Multiprocessing: Passing Sessions", "body": "<p>I have recently been working on a project that uses a neural network for virtual robot control. I used tensorflow to code it up and it runs smoothly. So far, I used sequential simulations to evaluate how good the neural network is, however, I want to run several simulations <strong>in parallel</strong> to reduce the amount of time it takes to get data.</p>\n\n<p>To do this I am importing python's <code>multiprocessing</code> package. Initially I was passing the sess variable (<code>sess=tf.Session()</code>) to a function that would run the simulation. However, once I get to any statement that uses this <code>sess</code> variable, the process quits without a warning. After searching around for a bit I found these two posts:\n<a href=\"https://stackoverflow.com/questions/34900246/tensorflow-passing-a-session-to-a-python-multiprocess\">Tensorflow: Passing a session to a python multiprocess</a>\nand <a href=\"https://stackoverflow.com/questions/33758669/running-multiple-tensorflow-sessions-concurrently\">Running multiple tensorflow sessions concurrently</a></p>\n\n<p>While they are highly related I haven't been able to figure out how to make it work. I tried creating a session for each individual process and assigning the weights of the neural net to its trainable parameters without success. I've also tried saving the session into a file and then loading it within a process, but no luck there either.</p>\n\n<p>Has someone been able to pass a session (or clones of sessions) to several processes?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 428, "user_id": 2510057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/808e0dc0098ed9a65b8a7f5b0498cb80?s=128&d=identicon&r=PG", "display_name": "George Adams", "link": "https://stackoverflow.com/users/2510057/george-adams"}, "edited": false, "score": 0, "creation_date": 1460599500, "post_id": 36610909, "comment_id": 60822019, "body": "Fantastic!  I don&#39;t fully understand how that works (the last line is particularly mysterious), but it does indeed work.  Thank you!"}, {"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "reply_to_user": {"reputation": 428, "user_id": 2510057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/808e0dc0098ed9a65b8a7f5b0498cb80?s=128&d=identicon&r=PG", "display_name": "George Adams", "link": "https://stackoverflow.com/users/2510057/george-adams"}, "edited": false, "score": 1, "creation_date": 1460600053, "post_id": 36610909, "comment_id": 60822179, "body": "@GeorgeAdams Last line calls the superclass&#39;s (<code>Base</code>) constructor, allowing you to use the default behavior, which is to set attributes by keyword arguments (e.g. <code>IpRange(start_ip=&quot;...&quot;, end_ip=&quot;...&quot;)</code>). Documentation for <code>super()</code> is <a href=\"https://docs.python.org/2/library/functions.html#super\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 428, "user_id": 2510057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/808e0dc0098ed9a65b8a7f5b0498cb80?s=128&d=identicon&r=PG", "display_name": "George Adams", "link": "https://stackoverflow.com/users/2510057/george-adams"}, "edited": false, "score": 0, "creation_date": 1460604860, "post_id": 36610909, "comment_id": 60823477, "body": "I think I understand.  It makes sense that the right thing to do (if no &quot;ip&quot; is specified) is to create an <code>IpRange</code> object the traditional way (<code>foo = IpRange(start_ip=&#39;...&#39;)</code>).  I guess I thought that we needed to use the original <code>__init__</code> for <code>IpRange</code>, but I believe what you&#39;re telling me is that there was never an <code>__init__</code> for IpRange, only one for <code>Base</code>.   One other question - why do you call <code>super(IpRange, self)</code> rather than just <code>super(IpRange)</code> ?"}, {"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "reply_to_user": {"reputation": 428, "user_id": 2510057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/808e0dc0098ed9a65b8a7f5b0498cb80?s=128&d=identicon&r=PG", "display_name": "George Adams", "link": "https://stackoverflow.com/users/2510057/george-adams"}, "edited": false, "score": 0, "creation_date": 1460651548, "post_id": 36610909, "comment_id": 60853714, "body": "@GeorgeAdams Short answer: it&#39;s just how you&#39;re supposed to do superclass calls. Long answer: it has to do with multiple inheritance. When you deal with multiple inheritance, the order in which methods are resolved is called method resolution order (mro), which cannot be inferred directly from the class itself. As an example, <code>class Foo(IpRange, Bar): pass</code> has the order <code>Foo</code>, <code>IpRange</code>, <code>Bar</code>, <code>Base</code>. As you can see, which <code>__init__</code> method you call depends on what object you have, not just the class itself."}], "tags": [], "owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "is_accepted": true, "score": 0, "last_activity_date": 1460587736, "creation_date": 1460587736, "answer_id": 36610909, "question_id": 36610269, "link": "https://stackoverflow.com/questions/36610269/can-i-use-context-sensitive-functions-in-sqlalchemy-with-parameters/36610909#36610909", "title": "Can I use context-sensitive functions in SQLAlchemy with parameters?", "body": "<p>Just override the constructor. Example:</p>\n\n<pre><code>class IpRange(Base):\n    def __init__(self, ip=None, **kwargs):\n        if ip is not None:\n            self.start_ip, self.end_ip = my_super_awesome_cidr_parser(ip)\n        else:\n            super(IpRange, self).__init__(**kwargs)\n</code></pre>\n"}], "owner": {"reputation": 428, "user_id": 2510057, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/808e0dc0098ed9a65b8a7f5b0498cb80?s=128&d=identicon&r=PG", "display_name": "George Adams", "link": "https://stackoverflow.com/users/2510057/george-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 36610909, "answer_count": 1, "score": 1, "last_activity_date": 1460587736, "creation_date": 1460584401, "question_id": 36610269, "link": "https://stackoverflow.com/questions/36610269/can-i-use-context-sensitive-functions-in-sqlalchemy-with-parameters", "title": "Can I use context-sensitive functions in SQLAlchemy with parameters?", "body": "<p>Here's a little table for holding IP address ranges in the form of a start address, end address, and number of IPs within the range</p>\n\n<pre><code>class IpRange(Base):\n    __tablename__ = 'ip_range'\n    ip_range_id = Column(Integer, Sequence('ip_range_id_seq'), primary_key=True)\n    start_ip = Column(String(15))\n    end_ip = Column(String(15))\n    num_ips = Column(Integer)\n</code></pre>\n\n<p>What I'd love to do is be able to create an object using a variety of styles, and have the class figure out how to populate its own fields.</p>\n\n<pre><code>foo = IpRange(ip='192.168.0.1')\nfoo = IpRange(ip='192.168.0.0/24')\nfoo = IpRange(ip='192.168.0.0-192.168.0.255')\n</code></pre>\n\n<p>It wouldn't be too hard to write a function that could parse various IP address/range notations:</p>\n\n<pre><code>def parseIp(desired_format):\n    ... stuff to parse any valid IP address/network format ...\n    if desired_format == 'start':\n        return start_ip\n    if desired_format == 'end':\n        return end_ip\n    if desired_format == 'num_ips':\n        return num_ips\n</code></pre>\n\n<p>And I was hoping I could then use the <code>default</code> method for my Columns to get the data that each column needed:</p>\n\n<pre><code>class IpRange(Base):\n    __tablename__ = 'ip_range'\n    ip_range_id = Column(Integer, Sequence('ip_range_id_seq'), primary_key=True)\n    start_ip = Column(String(15), default=parseIp('start'))\n    end_ip = Column(String(15), default=parseIp('end'))\n    num_ips = Column(Integer, default=parseIp('num_ips')\n</code></pre>\n\n<p>However, that is not valid SQLAlchemy syntax.  The documentation speaks of <a href=\"http://docs.sqlalchemy.org/en/latest/core/defaults.html#context-sensitive-default-functions\" rel=\"nofollow\">context-sensitive default columns</a>, but the syntax does not allow parameters to be passed to the function.  So even though I could call the function with <code>default=parseIp</code>, I wouldn't be able to tell it what kind of return value I'm looking for.</p>\n\n<p>Is there a way to do this within Column specification for SQLAlchemy?</p>\n\n<p>Or as an alternative idea, should I turn parseIp into a helper script that just generates the new IpRange object itself and returns it back to the caller?  Something like:</p>\n\n<pre><code>def parseIp(ipstring):\n    ... parse data ...\n    return IpRange(start_ip=parsed_start_ip, end_ip=parsed_end_ip, num_ips=parsed_num_ips)\n\n&gt;&gt;&gt; ipobj = parseIp('192.168.0.0/24')\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 3, "creation_date": 1460584564, "post_id": 36610261, "comment_id": 60817256, "body": "Stack Overflow is neither a forum nor a tutorial, code-writing, or homework service. This is a Q&amp;A site where <i>specific</i> programming questions (usually, but not always, including some code) get <i>specific</i> answers. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and carefully read through the <a href=\"https://stackoverflow.com/help\">help center</a> to learn more about the site, including <a href=\"http://stackoverflow.com/help/on-topic\">what is on-topic</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">what is not</a>, and how to <a href=\"http://stackoverflow.com/help/how-to-ask\">ask a good question</a>. Please also follow the <a href=\"http://meta.stackoverflow.com/q/260648\">question checklist</a>."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1460585007, "post_id": 36610261, "comment_id": 60817438, "body": "<a href=\"http://stackoverflow.com/questions/21014618/python-randomly-generated-ip-address-of-the-string\" title=\"python randomly generated ip address of the string\">stackoverflow.com/questions/21014618/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1460585053, "post_id": 36610394, "comment_id": 60817465, "body": "decent answer +1 ..."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1460585426, "post_id": 36610394, "comment_id": 60817628, "body": "that looks like a really neat package. Have an upvote."}, {"owner": {"reputation": 1, "user_id": 5822932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a710faafbb2855fa61a6d8e1d85033ff?s=128&d=identicon&r=PG&f=1", "display_name": "adonais1365", "link": "https://stackoverflow.com/users/5822932/adonais1365"}, "edited": false, "score": 0, "creation_date": 1460585848, "post_id": 36610394, "comment_id": 60817813, "body": "Thank you. I am new in python could you explain more.please."}, {"owner": {"reputation": 1, "user_id": 5822932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a710faafbb2855fa61a6d8e1d85033ff?s=128&d=identicon&r=PG&f=1", "display_name": "adonais1365", "link": "https://stackoverflow.com/users/5822932/adonais1365"}, "edited": false, "score": 0, "creation_date": 1460586002, "post_id": 36610394, "comment_id": 60817876, "body": "I have the code that is sending Synack packet In Internet  just for One IP. I need to send for more than one IP like 1000.How can I change the code?"}, {"owner": {"reputation": 1, "user_id": 5822932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a710faafbb2855fa61a6d8e1d85033ff?s=128&d=identicon&r=PG&f=1", "display_name": "adonais1365", "link": "https://stackoverflow.com/users/5822932/adonais1365"}, "edited": false, "score": 0, "creation_date": 1460586135, "post_id": 36610394, "comment_id": 60817916, "body": "This is part of the code:def main():     try:         if len(sys.argv) != 1:             usage()         a =ipaddr.IPAddress(&#39;198.83.87.23&#39;)         for x in xrange(1,10):              a=a+1             host=str(a)             print host              port = 80             repeat = 250              spoofed_host = &quot;198.82.80.91&quot;             addr = lookup_or_die(host)[0]             spoofed_addr = lookup_or_die(spoofed_host)[0]             start_sniffing(tests, False, args=(addr, spoofed_addr, port))"}, {"owner": {"reputation": 1, "user_id": 5822932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a710faafbb2855fa61a6d8e1d85033ff?s=128&d=identicon&r=PG&f=1", "display_name": "adonais1365", "link": "https://stackoverflow.com/users/5822932/adonais1365"}, "edited": false, "score": 0, "creation_date": 1460587213, "post_id": 36610394, "comment_id": 60818375, "body": "@copy and paste:    \t  \t I have the code that is sending Synack packet In Internet just for One IP. I need to send for more than one IP like 1000.How can I change the code?"}, {"owner": {"reputation": 500, "user_id": 1910527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2Yh9l.jpg?s=128&g=1", "display_name": "Copy and Paste", "link": "https://stackoverflow.com/users/1910527/copy-and-paste"}, "reply_to_user": {"reputation": 1, "user_id": 5822932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a710faafbb2855fa61a6d8e1d85033ff?s=128&d=identicon&r=PG&f=1", "display_name": "adonais1365", "link": "https://stackoverflow.com/users/5822932/adonais1365"}, "edited": false, "score": 0, "creation_date": 1460588645, "post_id": 36610394, "comment_id": 60818890, "body": "@adonais1365 instead of hard coding the ip address just use the get_random_ip() method. That will give you a random ip every call. If you need to test a 1000, you can just call the get_random_ip() method 1,000 times."}, {"owner": {"reputation": 1, "user_id": 5822932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a710faafbb2855fa61a6d8e1d85033ff?s=128&d=identicon&r=PG&f=1", "display_name": "adonais1365", "link": "https://stackoverflow.com/users/5822932/adonais1365"}, "edited": false, "score": 0, "creation_date": 1461035569, "post_id": 36610394, "comment_id": 61003316, "body": "Thanks @copy and paste"}], "tags": [], "owner": {"reputation": 500, "user_id": 1910527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2Yh9l.jpg?s=128&g=1", "display_name": "Copy and Paste", "link": "https://stackoverflow.com/users/1910527/copy-and-paste"}, "is_accepted": false, "score": 3, "last_activity_date": 1460584980, "creation_date": 1460584980, "answer_id": 36610394, "question_id": 36610261, "link": "https://stackoverflow.com/questions/36610261/how-can-i-generate-random-ip-in-the-internet-in-python/36610394#36610394", "title": "how can I generate random IP in the Internet in python?", "body": "<pre><code>from faker import Factory\n\nfake_generator = Factory.create()\n\ndef get_random_ip():\n    return fake_generator.ipv4()\n</code></pre>\n\n<p>Check out the package at <a href=\"http://fake-factory.readthedocs.org/en/latest/\" rel=\"nofollow\">http://fake-factory.readthedocs.org/en/latest/</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5822932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a710faafbb2855fa61a6d8e1d85033ff?s=128&d=identicon&r=PG&f=1", "display_name": "adonais1365", "link": "https://stackoverflow.com/users/5822932/adonais1365"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1886, "favorite_count": 0, "closed_date": 1460585025, "answer_count": 1, "score": -5, "last_activity_date": 1460584980, "creation_date": 1460584377, "last_edit_date": 1460584489, "question_id": 36610261, "link": "https://stackoverflow.com/questions/36610261/how-can-i-generate-random-ip-in-the-internet-in-python", "closed_reason": "Duplicate", "title": "how can I generate random IP in the Internet in python?", "body": "<p>Could someone please tell me how can I generate random IP in the Internet in Python to make sure the IPs are valid.</p>\n\n<p>Thanks\nSomething like this code:</p>\n\n<pre><code>#!/usr/bin/env/python\nimport random\ndef main()\n    print(get_random_ip())\n\ndef get_random_ip()\n</code></pre>\n"}, {"tags": ["python", "nlp", "scikit-learn", "nltk"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1460584680, "post_id": 36610253, "comment_id": 60817301, "body": "Stack Overflow is neither a forum nor a tutorial or code-writing service. This is a Q&amp;A site where <i>specific</i> programming questions (usually, but not always, including some code) get <i>specific</i> answers. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and carefully read through the <a href=\"https://stackoverflow.com/help\">help center</a> to learn more about the site, including <a href=\"http://stackoverflow.com/help/on-topic\">what is on-topic</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">what is not</a>, and how to <a href=\"http://stackoverflow.com/help/how-to-ask\">ask a good question</a>. Please also follow the <a href=\"http://meta.stackoverflow.com/q/260648\">question checklist</a>."}, {"owner": {"reputation": 721, "user_id": 667570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d4d2c92ba9a0fce1de04bb79c6cbe355?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/667570/sol"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1460585252, "post_id": 36610253, "comment_id": 60817555, "body": "@MattDMo The tour page has an example of &quot;does software x work on platform y?&quot; That&#39;s not a specific programming question in my mind. The tour also says that it&#39;s appropriate to ask about &quot;Specific programming problems, Software algorithms, Coding techniques, [and] Software development tools.&quot; And, I&#39;m missing your point about my expecting a forum, or a tutorial, or code writing service."}, {"owner": {"reputation": 721, "user_id": 667570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d4d2c92ba9a0fce1de04bb79c6cbe355?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/667570/sol"}, "reply_to_user": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1460585417, "post_id": 36610253, "comment_id": 60817626, "body": "My intent with my Q is: &quot;I&#39;ve got this technical problem to solve, what tools, and algorithms have folks used to solve it?&quot; I&#39;m hoping for responses of the form &quot;I&#39;ve solved something similar with this set of tools and this approach.&quot; I&#39;m certainly not asking for a tutorial or code."}, {"owner": {"reputation": 1301, "user_id": 4583366, "user_type": "registered", "accept_rate": 35, "profile_image": "https://graph.facebook.com/10153105323321823/picture?type=large", "display_name": "Lior Magen", "link": "https://stackoverflow.com/users/4583366/lior-magen"}, "edited": false, "score": 0, "creation_date": 1473843327, "post_id": 36610253, "comment_id": 66290761, "body": "You should check out the phrases in Word2Vec, it deals with MWU"}], "answers": [{"comments": [{"owner": {"reputation": 528, "user_id": 1743239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/48mc9.jpg?s=128&g=1", "display_name": "Mohamed Gad-Elrab", "link": "https://stackoverflow.com/users/1743239/mohamed-gad-elrab"}, "edited": false, "score": 1, "creation_date": 1460590849, "post_id": 36611367, "comment_id": 60819617, "body": "Anyways, It is hard to answer the full question, It looks like a research project or a master thesis description.. You seems to be on the right path. But better do more effort digging online and divide your question to more depth parts."}], "tags": [], "owner": {"reputation": 528, "user_id": 1743239, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/48mc9.jpg?s=128&g=1", "display_name": "Mohamed Gad-Elrab", "link": "https://stackoverflow.com/users/1743239/mohamed-gad-elrab"}, "is_accepted": true, "score": 1, "last_activity_date": 1460590720, "creation_date": 1460590720, "answer_id": 36611367, "question_id": 36610253, "link": "https://stackoverflow.com/questions/36610253/what-tools-can-provide-frequency-sorted-lists-of-interesting-multi-word-terms-in/36611367#36611367", "title": "What tools can provide frequency-sorted lists of interesting multi-word terms in documents?", "body": "<p>Most of what you have described is actually already exists in <a href=\"https://lucene.apache.org/\" rel=\"nofollow\">Lucene</a>  for Java. Also, It has a <a href=\"http://lucene.apache.org/pylucene/\" rel=\"nofollow\">Python interface</a> but not sure is it mature or not. </p>\n\n<p>Things like POS tagging, Stop words removal, tokenization .. etc. are really done well by stanford CoreNLP which I think is also included in NLTK.</p>\n"}], "owner": {"reputation": 721, "user_id": 667570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d4d2c92ba9a0fce1de04bb79c6cbe355?s=128&d=identicon&r=PG&f=1", "display_name": "Sol", "link": "https://stackoverflow.com/users/667570/sol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "closed_date": 1461287123, "accepted_answer_id": 36611367, "answer_count": 1, "score": -2, "last_activity_date": 1460590720, "creation_date": 1460584346, "question_id": 36610253, "link": "https://stackoverflow.com/questions/36610253/what-tools-can-provide-frequency-sorted-lists-of-interesting-multi-word-terms-in", "closed_reason": "Not suitable for this site", "title": "What tools can provide frequency-sorted lists of interesting multi-word terms in documents?", "body": "<p>I have a set of nearly half a million text documents. For each document I want to generate a list of interesting 1-, 2-, and 3-word phrases (i.e. unigrams, bigrams, and trigrams.) By interesting, I mean phrases that occur frequently in the document but relatively infrequently in the entire corpus and phrases that are not junky phrases (e.g. \"such that.\") Ideally, the phrases are characteristic of the contents of the document, i.e. those phrases would be helpful in word clouds. And, if there's a way to incorporate part of speech tagging to help identify meaningful phrases that would be a plus.</p>\n\n<p>I'm interested to know what tools and approaches I should consider.</p>\n\n<p>Here's what I am aware of:</p>\n\n<ol>\n<li>Elasticsearch (maybe with the Python elasticsearch-py library). Elasticsearch has very sophisticated full-search capabilities. Elasticsearch does have a \"significant terms aggregation\" feature. [1],[2] And, Elasticsearch can rank using TF/IDF. [3]</li>\n<li>NLTK. </li>\n<li>Scikit-learn.</li>\n</ol>\n\n<p>Aside from what tool or set of tools to use, I need to consider my approach. I imagine I'll be experimenting with different tokenizers to split my text into words, removing stop words, then building and indexing the n-grams. I may or may not want to stem words. I'll have to experiment and see. Then, for each document, I'll want to get a frequency-sorted list of n-grams and for each n-gram of each document I'll want to score the n-gram based on its frequency in the document and its frequency in the corpus and provide a scored list of n-grams for each document.</p>\n\n<p>My guess is that a Python-based toolkit and approach would work well as Python has a rich set of text mining tools and the power and flexibility to let me experiment with different parts of my processing pipeline.</p>\n\n<p>I'd appreciate your thoughts on how to proceed and links to similar efforts.</p>\n\n<p>[1]: Elasticsearch and significant terms aggregation <a href=\"https://www.elastic.co/blog/significant-terms-aggregation\" rel=\"nofollow\">https://www.elastic.co/blog/significant-terms-aggregation</a></p>\n\n<p>[2]: Tag clouds and significant term aggregation\n<a href=\"http://www.buzzcapture.com/en/2014/04/how-to-create-tag-clouds/\" rel=\"nofollow\">http://www.buzzcapture.com/en/2014/04/how-to-create-tag-clouds/</a></p>\n\n<p>[3]: Elasticsearch and TF/IDF <a href=\"https://www.elastic.co/guide/en/elasticsearch/guide/current/scoring-theory.html#tfidf\" rel=\"nofollow\">https://www.elastic.co/guide/en/elasticsearch/guide/current/scoring-theory.html#tfidf</a></p>\n"}, {"tags": ["python", "matplotlib", "colors", "label", "polar-coordinates"], "answers": [{"tags": [], "owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "is_accepted": true, "score": 1, "last_activity_date": 1460584971, "creation_date": 1460584971, "answer_id": 36610392, "question_id": 36610207, "link": "https://stackoverflow.com/questions/36610207/changing-the-color-of-the-rticklabels-in-a-polar-plot/36610392#36610392", "title": "Changing the color of the rticklabels in a polar plot", "body": "<p>There is a way:  for a polar plot, <code>theta</code> and <code>r</code> map onto <code>x</code> and <code>y</code> respectively for the generic axis actions.  So - you just do</p>\n\n<pre><code>rlabels = ax.get_ymajorticklabels()\nfor label in rlabels:\n    label.set_color('white')\n</code></pre>\n\n<p><a href=\"http://matplotlib.org/1.3.0/api/axes_api.html#matplotlib.axes.Axes.get_ymajorticklabels\" rel=\"nofollow\">Documentation for <code>get_ymajorticklabels()</code></a> shows that it returns a list of <code>Text</code> objects - the actions you can perform on a <code>Text</code> object are <a href=\"http://matplotlib.org/1.3.0/api/artist_api.html#matplotlib.text.Text\" rel=\"nofollow\">in the docs</a>.</p>\n"}], "owner": {"reputation": 497, "user_id": 1391683, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5ec137ff0ce393d5dbcf765205eaab90?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1391683/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 36610392, "answer_count": 1, "score": 0, "last_activity_date": 1460584971, "creation_date": 1460584173, "question_id": 36610207, "link": "https://stackoverflow.com/questions/36610207/changing-the-color-of-the-rticklabels-in-a-polar-plot", "title": "Changing the color of the rticklabels in a polar plot", "body": "<p>I want to change the color of the rticklabels in a polar plot to white.\nIt works with</p>\n\n<pre><code>ax.set_rgrids([1., 2., 3.], color='white')\n</code></pre>\n\n<p>However, using <code>set_rgrids</code> I have to give the positions of the ticklabels. I would rather like to use the standard positions, such that I don't have to think about their values for different data sets.</p>\n\n<p>I there a way to directly access and change the color of the rticklabels?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "edited": false, "score": 0, "creation_date": 1460584373, "post_id": 36610203, "comment_id": 60817173, "body": "Post your example input, output, what you have tried and what results you expect."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1460584422, "post_id": 36610203, "comment_id": 60817195, "body": "Are you getting an error message, if so, what?  Are you getting an incorrect result?  What is columns?  What result did you expect?  Are you using Python 2?"}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "edited": false, "score": 0, "creation_date": 1460585359, "post_id": 36610203, "comment_id": 60817601, "body": "Ok I have updated the post"}, {"owner": {"reputation": 497, "user_id": 1391683, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5ec137ff0ce393d5dbcf765205eaab90?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/1391683/sebastian"}, "edited": false, "score": 0, "creation_date": 1460588775, "post_id": 36610203, "comment_id": 60818943, "body": "Can you post the full error message? Meaning, also the information in which line the error occurs."}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1460589376, "post_id": 36610203, "comment_id": 60819143, "body": "the error message makes it pretty clear that <code>columns[3]</code> is <code>None</code> and <code>columns[5]</code> is a string.  you are attempting to subtract the latter from the former.  that makes no sense.  correct this."}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1460589475, "post_id": 36610203, "comment_id": 60819181, "body": "there&#39;s also no reason to keep the file open while you print things you&#39;ve already read out of the file."}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "edited": false, "score": 0, "creation_date": 1460589508, "post_id": 36610203, "comment_id": 60819202, "body": "I can&#39;t seem to find out how to, do you have a solution for the error?"}, {"owner": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "edited": false, "score": 0, "creation_date": 1460589921, "post_id": 36610203, "comment_id": 60819335, "body": "What happens if you convert the columns to <code>int</code> as you do in your <code>if</code> statement? I.e. <code>print int(column[3]) - int(column[5])</code>."}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "edited": false, "score": 0, "creation_date": 1460589968, "post_id": 36610203, "comment_id": 60819346, "body": "I get a syntax error"}, {"owner": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "edited": false, "score": 0, "creation_date": 1460590050, "post_id": 36610203, "comment_id": 60819379, "body": "Well you should probably use parenthesis as well: <code>print(int(column[3]) - int(column[5]))</code>"}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "edited": false, "score": 0, "creation_date": 1460590310, "post_id": 36610203, "comment_id": 60819469, "body": "Thanks that has worked, is there any way of labeling each outcome as Total Outstanding?"}, {"owner": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "edited": false, "score": 0, "creation_date": 1460591155, "post_id": 36610203, "comment_id": 60819724, "body": "@NigelHarrison If you use the @ tag next time I will be properly notified when you write. See my answer below."}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "reply_to_user": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "edited": false, "score": 0, "creation_date": 1460591258, "post_id": 36610203, "comment_id": 60819760, "body": "@pingul Ok thank you"}, {"owner": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "edited": false, "score": 0, "creation_date": 1460591401, "post_id": 36610203, "comment_id": 60819798, "body": "@NigelHarrison Also, if the answer helped you solve the problem, please accept the answer so others know as well. If the issue was something else you can post your own answer to the question and accept that one."}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "reply_to_user": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "edited": false, "score": 0, "creation_date": 1460591716, "post_id": 36610203, "comment_id": 60819911, "body": "@pingul Now I have printed out the Total amount on each one is there a way to add each total amount up to a variable?"}], "answers": [{"tags": [], "owner": {"reputation": 3046, "user_id": 3013887, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c1396249d91442e1dde6e93197c0b94a?s=128&d=identicon&r=PG&f=1", "display_name": "pingul", "link": "https://stackoverflow.com/users/3013887/pingul"}, "is_accepted": true, "score": 0, "last_activity_date": 1460591104, "creation_date": 1460591104, "answer_id": 36611433, "question_id": 36610203, "link": "https://stackoverflow.com/questions/36610203/how-can-i-take-away-2-values-from-a-txt-file/36611433#36611433", "title": "How can i take away 2 values from a .txt file", "body": "<p>You should probably convert your numbers before you print:</p>\n\n<pre><code>print(\"The result: \")\nprint(int(column[3]) - int(column[5]))\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 36611433, "answer_count": 1, "score": -1, "last_activity_date": 1460593005, "creation_date": 1460584155, "last_edit_date": 1460593005, "question_id": 36610203, "link": "https://stackoverflow.com/questions/36610203/how-can-i-take-away-2-values-from-a-txt-file", "title": "How can i take away 2 values from a .txt file", "body": "<pre><code> if \"A\" in columns and int(columns[5]) &lt; int(columns[3]):\n            print(columns)\n            print (columns[3]) - (columns[5])\n</code></pre>\n\n<p>What have I done wrong here? Bare in mind I recently started coding.</p>\n\n<p>This is the full code:</p>\n\n<pre><code>import csv\n\nFILE_NAME = \"paintingJobs.txt\" #I use this so that the file can be used easier\nCOL_HEADERS = ['Number', 'Date', 'ID', 'Total', 'Status', 'Paid']\nNUM_COLS = len(COL_HEADERS)#This will insure that the header of each column fits into the length of the data\n\n# read file once to determine maximum width of data in columns\nwith open(FILE_NAME) as f:\n    reader = csv.reader(f, delimiter=',')\n    # determine the maximum width of the data in each column\n    max_col_widths = [len(col_header) for col_header in COL_HEADERS]\n    for columns in reader:\n        for i, col in enumerate(columns):\n            if \"A\" in columns and int(columns[5]) &lt; int(columns[3]):\n                max_col_widths[i] = max(max_col_widths[i], len(repr(col)))\n    # add 1 to each for commas\n    max_col_widths = [col_width+1 for col_width in max_col_widths]\n\n# read file second time to display its contents with the headers\nwith open(FILE_NAME) as f:\n    reader = csv.reader(f, delimiter=',')\n    # display justified column headers\n    print(' ' + ' '.join(col_header.ljust(max_col_widths[i])\n                            for i, col_header in enumerate(COL_HEADERS)))\n    # display justified column data\n    for columns in reader:\n        if \"A\" in columns and int(columns[5]) &lt; int(columns[3]):\n            print(columns)\n            print (columns[3]) - (columns[5])`\n</code></pre>\n\n<p>And this is the error I get:</p>\n\n<pre><code>line 72, in Option_B\nprint (columns[3]) - (columns[5])\n</code></pre>\n\n<blockquote>\n  <p>TypeError: unsupported operand type(s) for -: 'NoneType' and 'str'</p>\n</blockquote>\n"}, {"tags": ["python", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 5274923, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Sl176.jpg?s=128&g=1", "display_name": "Gunner Stone", "link": "https://stackoverflow.com/users/5274923/gunner-stone"}, "is_accepted": true, "score": 1, "last_activity_date": 1460590613, "creation_date": 1460590613, "answer_id": 36611358, "question_id": 36610197, "link": "https://stackoverflow.com/questions/36610197/tkinter-exit-without-saving-warning-dialogue-box-or-askquestion/36611358#36611358", "title": "Tkinter- Exit without saving- Warning dialogue box or askquestion", "body": "<p>Have a <b>global</b> variable called       </p>\n\n<pre><code>hasBeenSaved = False\n</code></pre>\n\n<p>When you call the save() function, switch that global boolean <code>hasBeenSaved</code> to <code>True</code>.</p>\n\n<p>If the user does <b>anything</b> else to change their file, set <code>hasBeenSaved</code> back to <code>False</code> .</p>\n\n<p>Now, when you are going through your exit() function, if <code>hasBeenSaved</code> is <code>False</code>, prompt the user for:</p>\n\n<blockquote>\n  <p>\"Are you sure you wanna exit without saving?\" </p>\n</blockquote>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 97, "user_id": 5661083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e738a37d09ba5e21a925af3789e2a109?s=128&d=identicon&r=PG&f=1", "display_name": "user5661083", "link": "https://stackoverflow.com/users/5661083/user5661083"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 1, "accepted_answer_id": 36611358, "answer_count": 1, "score": 1, "last_activity_date": 1460590613, "creation_date": 1460584142, "last_edit_date": 1592644375, "question_id": 36610197, "link": "https://stackoverflow.com/questions/36610197/tkinter-exit-without-saving-warning-dialogue-box-or-askquestion", "title": "Tkinter- Exit without saving- Warning dialogue box or askquestion", "body": "<h2>Exit without Saving</h2>\n<p>How should I program my <em><strong>exit</strong></em> function that if user exit without saving then it should pop a question</p>\n<pre><code>def main(self):\n    ...\n    file.add_command(label=&quot;New&quot;,command=lambda: self.new())\n    file.add_command(label=&quot;Open&quot;,command=lambda: self.load())\n    file.add_command(label=&quot;Save&quot;,command=lambda: self.save())\n    file.add_command(label=&quot;Exit&quot;,command=self.exit)\n    menu.add_cascade(label=&quot;File&quot;,menu=file)\n\ndef exit(self):\n        result = askquestion(&quot;Exit&quot;, &quot;Are You Sure Without Saving?&quot;, icon='warning')\n        if result == &quot;yes&quot;:\n            exit()\n        else:\n            return False\n</code></pre>\n"}, {"tags": ["python", "recursion", "copy"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460584355, "post_id": 36610186, "comment_id": 60817163, "body": "I&#39;m not 100% familiar with Python&#39;s version of getters and setters, but I can tell you that the ones in your program are never called because the first thing you do when you instantiate an object of this class is to bind the <code>self.position</code> reference to a <code>list</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460584387, "post_id": 36610186, "comment_id": 60817180, "body": "@TigerhawkT3: No, they&#39;re called, and called again, and again..."}, {"owner": {"reputation": 301, "user_id": 5445423, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aed99cda4c5407e351091df27c4608e5?s=128&d=identicon&r=PG&f=1", "display_name": "Nelly", "link": "https://stackoverflow.com/users/5445423/nelly"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1460584513, "post_id": 36610186, "comment_id": 60817232, "body": "@user2357112: cant you please tell me the mistake I&#39;m making?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1460584513, "post_id": 36610186, "comment_id": 60817233, "body": "@user2357112 - Is there something about using properties with setters that prevents them from being masked by identical references?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1460584558, "post_id": 36610186, "comment_id": 60817252, "body": "@TigerhawkT3: The &quot;identical reference&quot; goes through the setter."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1460584535, "creation_date": 1460584535, "answer_id": 36610303, "question_id": 36610186, "link": "https://stackoverflow.com/questions/36610186/python-maximum-recursion-depth-exceeded-while-calling-a-python-object-when-call/36610303#36610303", "title": "Python: maximum recursion depth exceeded while calling a Python object when calling copy function", "body": "<p>It looks like you're trying to use <code>position</code> as the name of both the property and the ordinary attribute backing it. For example,</p>\n\n<pre><code>@position.setter\ndef position(self, newPosition):\n    self.position = newPosition.copy()\n#   ^^^^^^^^^^^^^^^\n</code></pre>\n\n<p>This attempt to set <code>self.position</code> will <em>use the setter you're defining</em>! Similarly,</p>\n\n<pre><code>@property\ndef position(self):\n    return self.position\n</code></pre>\n\n<p>This getter just calls itself!</p>\n\n<p>Trying to use <code>self.position</code> inside the <code>position</code> property definition won't bypass the property. If you want a \"regular\" attribute backing the property, call it something else, like <code>self._position</code> or something.</p>\n"}], "owner": {"reputation": 301, "user_id": 5445423, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aed99cda4c5407e351091df27c4608e5?s=128&d=identicon&r=PG&f=1", "display_name": "Nelly", "link": "https://stackoverflow.com/users/5445423/nelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4621, "favorite_count": 1, "accepted_answer_id": 36610303, "answer_count": 1, "score": 3, "last_activity_date": 1460584540, "creation_date": 1460584103, "last_edit_date": 1460584540, "question_id": 36610186, "link": "https://stackoverflow.com/questions/36610186/python-maximum-recursion-depth-exceeded-while-calling-a-python-object-when-call", "title": "Python: maximum recursion depth exceeded while calling a Python object when calling copy function", "body": "<p>I have a class <em>Particle</em> which has some parameters and attributes, as you can see below. But, when it does get to the function setter for position, and it executes the copy() function, I get the error message : <em>RuntimeError: maximum recursion depth exceeded while calling a Python object</em>. I've tried different options, like <em>deepcopy()</em>, or <em>import sys sys.setrecursionlimit(10000)</em> , but none of them worked... Does anyone have any idea? This is my code:</p>\n\n<pre><code>def initCost(n):\n    a = random.randint(0,10)              #gram.\n    b = random.randint(0,5)             #price\n    return [random.randint(0,a*b) for i in range(n)]\n\ncosts = initCost(10)\n\nclass Particle:\n    def __init__(self, n, maxWeight):\n        self.position = [random.randint(0,1) for i in range(n)]  #position\n        self.velocity = [0 for i in range(n)]                    #velocity\n        #self.fit = self.fitness(self.position)\n        self.bp = self.position.copy()                           #best position\n        self.bf = self.fit                                 #best fitness\n        self.evaluate()\n\n    def fit(self, x):\n        fitt = 0\n        for i in range(len(x)-1):\n            if (x[i] == 1):\n                fitt = fitt + costs[i]\n        return fitt\n\n    def evaluate(self):\n        \"\"\" evaluates the particle \"\"\"\n        self.fitness = self.fit(self.position)\n\n    @property\n    def position(self):\n        return self.position\n\n    @property\n    def bp(self):\n        return self.bp\n\n    @property\n    def bf(self):\n        return self.bf\n\n    @position.setter\n    def position(self, newPosition):\n        self.position = newPosition.copy()\n        #self.position = newPosition[:]\n        self.evaluate()\n        # automatic update of particle's memory\n        if (self.fit&lt;self.bf):\n            self.bp = self.position\n            self.bf  = self.fit\n</code></pre>\n"}, {"tags": ["python", "spacy"], "answers": [{"comments": [{"owner": {"reputation": 10825, "user_id": 46039, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/40997231d6407890ab2179cf7750ef4a?s=128&d=identicon&r=PG", "display_name": "Brian Low", "link": "https://stackoverflow.com/users/46039/brian-low"}, "edited": false, "score": 4, "creation_date": 1463242116, "post_id": 36612605, "comment_id": 61987561, "body": "A document will have 1 root per sentence"}, {"owner": {"reputation": 109227, "user_id": 1709587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/cP8pZ.jpg?s=128&g=1", "display_name": "Mark Amery", "link": "https://stackoverflow.com/users/1709587/mark-amery"}, "edited": false, "score": 1, "creation_date": 1477753291, "post_id": 36612605, "comment_id": 67896554, "body": "There&#39;s no need to iterate over the tokens to find the root; you can just access the <code>.root</code> property of a sentence. I&#39;ll post my own answer showing this."}], "tags": [], "owner": {"reputation": 1534, "user_id": 4148612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5287f1dbe0edc17ea630bbb5f475976d?s=128&d=identicon&r=PG", "display_name": "Nicolas Joseph", "link": "https://stackoverflow.com/users/4148612/nicolas-joseph"}, "is_accepted": true, "score": 7, "last_activity_date": 1460599631, "creation_date": 1460599631, "answer_id": 36612605, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy/36612605#36612605", "title": "How to get the dependency tree with spaCy?", "body": "<p>It turns out, the tree is available <a href=\"https://spacy.io/docs#token-navigating\" rel=\"noreferrer\">through the tokens</a> in a document.</p>\n\n<p>Would you want to find the root of the tree, you can just go though the document:</p>\n\n<pre><code>def find_root(docu):\n    for token in docu:\n        if token.head is token:\n            return token\n</code></pre>\n\n<p>To then navigate the tree, the tokens have API to get <a href=\"https://spacy.io/docs#token-navigating\" rel=\"noreferrer\">through the children</a></p>\n"}, {"comments": [{"owner": {"reputation": 438, "user_id": 1603156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e183337ebd5ee91099558eac2c1ce684?s=128&d=identicon&r=PG", "display_name": "Krzysiek", "link": "https://stackoverflow.com/users/1603156/krzysiek"}, "edited": false, "score": 0, "creation_date": 1472584012, "post_id": 38883133, "comment_id": 65807547, "body": "I just added module for printing as well as matching tree(or finding nodes) on regex like pattern. If you are interested here is the link: <a href=\"https://github.com/krzysiekfonal/grammaregex\" rel=\"nofollow noreferrer\">github.com/krzysiekfonal/grammaregex</a>  It&#39;s not installable ready yet but this week should be fulfilled and available via pip."}], "tags": [], "owner": {"reputation": 438, "user_id": 1603156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e183337ebd5ee91099558eac2c1ce684?s=128&d=identicon&r=PG", "display_name": "Krzysiek", "link": "https://stackoverflow.com/users/1603156/krzysiek"}, "is_accepted": false, "score": 5, "last_activity_date": 1479776282, "last_edit_date": 1479776282, "creation_date": 1470861629, "answer_id": 38883133, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy/38883133#38883133", "title": "How to get the dependency tree with spaCy?", "body": "<p>I also needed to do it so below full code:</p>\n\n<pre><code>import sys\ndef showTree(sent):\n    def __showTree(token):\n        sys.stdout.write(\"{\")\n        [__showTree(t) for t in token.lefts]\n        sys.stdout.write(\"%s-&gt;%s(%s)\" % (token,token.dep_,token.tag_))\n        [__showTree(t) for t in token.rights]\n        sys.stdout.write(\"}\")\n    return __showTree(sent.root)\n</code></pre>\n\n<p>And if you want spacing for the terminal:</p>\n\n<pre><code>def showTree(sent):\n    def __showTree(token, level):\n        tab = \"\\t\" * level\n        sys.stdout.write(\"\\n%s{\" % (tab))\n        [__showTree(t, level+1) for t in token.lefts]\n        sys.stdout.write(\"\\n%s\\t%s [%s] (%s)\" % (tab,token,token.dep_,token.tag_))\n        [__showTree(t, level+1) for t in token.rights]\n        sys.stdout.write(\"\\n%s}\" % (tab))\n    return __showTree(sent.root, 1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 438, "user_id": 1603156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e183337ebd5ee91099558eac2c1ce684?s=128&d=identicon&r=PG", "display_name": "Krzysiek", "link": "https://stackoverflow.com/users/1603156/krzysiek"}, "edited": false, "score": 2, "creation_date": 1472583925, "post_id": 39104235, "comment_id": 65807501, "body": "But in my opinion it is important to have/keep the dependencies as well as postags from Spacy."}, {"owner": {"reputation": 2494, "user_id": 4324153, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SeB7T.png?s=128&g=1", "display_name": "David Batista", "link": "https://stackoverflow.com/users/4324153/david-batista"}, "edited": false, "score": 0, "creation_date": 1475400983, "post_id": 39104235, "comment_id": 66921911, "body": "Nice job! Is there an easy way to add the dependency tag between two nodes?"}, {"owner": {"reputation": 5197, "user_id": 2442740, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/U7UZy.jpg?s=128&g=1", "display_name": "Christos Baziotis", "link": "https://stackoverflow.com/users/2442740/christos-baziotis"}, "reply_to_user": {"reputation": 2494, "user_id": 4324153, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SeB7T.png?s=128&g=1", "display_name": "David Batista", "link": "https://stackoverflow.com/users/4324153/david-batista"}, "edited": false, "score": 2, "creation_date": 1475419188, "post_id": 39104235, "comment_id": 66926259, "body": "@DavidBatista see my edit. If you want to add some other stuff to the tree edit  <code>tok_format(tok)</code>. Also you should read the docs. Spacy uses 2 different POS representations <code>tok.pos_</code> and <code>tok.tag_</code>. <a href=\"https://spacy.io/docs/#token-postags\" rel=\"nofollow noreferrer\">spacy.io/docs/#token-postags</a>"}, {"owner": {"reputation": 580, "user_id": 5129047, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FE7k_sKlGPY/AAAAAAAAAAI/AAAAAAAAAuw/szADqDh1hTA/photo.jpg?sz=128", "display_name": "Shirish Kadam", "link": "https://stackoverflow.com/users/5129047/shirish-kadam"}, "edited": false, "score": 2, "creation_date": 1478883287, "post_id": 39104235, "comment_id": 68343586, "body": "The <code>tok.dep_</code> attribute can also be used along with <code>tok.tag_</code> to state the syntactic dependency relation."}], "tags": [], "owner": {"reputation": 5197, "user_id": 2442740, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/U7UZy.jpg?s=128&g=1", "display_name": "Christos Baziotis", "link": "https://stackoverflow.com/users/2442740/christos-baziotis"}, "is_accepted": false, "score": 69, "last_activity_date": 1477755184, "last_edit_date": 1477755184, "creation_date": 1471963294, "answer_id": 39104235, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy/39104235#39104235", "title": "How to get the dependency tree with spaCy?", "body": "<p>In case someone wants to easily view the dependency tree produced by spacy, one solution would be to convert it to an <a href=\"http://www.nltk.org/api/nltk.html#nltk.tree.Tree\" rel=\"noreferrer\"><code>nltk.tree.Tree</code></a> and use the <a href=\"http://www.nltk.org/api/nltk.html#nltk.tree.Tree.pretty_print\" rel=\"noreferrer\"><code>nltk.tree.Tree.pretty_print</code></a> method. Here is an example:</p>\n\n<pre><code>import spacy\nfrom nltk import Tree\n\n\nen_nlp = spacy.load('en')\n\ndoc = en_nlp(\"The quick brown fox jumps over the lazy dog.\")\n\ndef to_nltk_tree(node):\n    if node.n_lefts + node.n_rights &gt; 0:\n        return Tree(node.orth_, [to_nltk_tree(child) for child in node.children])\n    else:\n        return node.orth_\n\n\n[to_nltk_tree(sent.root).pretty_print() for sent in doc.sents]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>                jumps                  \n  ________________|____________         \n |    |     |     |    |      over     \n |    |     |     |    |       |        \n |    |     |     |    |      dog      \n |    |     |     |    |    ___|____    \nThe quick brown  fox   .  the      lazy\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong> For changing the token representation you can do this:</p>\n\n<pre><code>def tok_format(tok):\n    return \"_\".join([tok.orth_, tok.tag_])\n\n\ndef to_nltk_tree(node):\n    if node.n_lefts + node.n_rights &gt; 0:\n        return Tree(tok_format(node), [to_nltk_tree(child) for child in node.children])\n    else:\n        return tok_format(node)\n</code></pre>\n\n<p>Which results in:</p>\n\n<pre><code>                         jumps_VBZ                           \n   __________________________|___________________             \n  |       |        |         |      |         over_IN        \n  |       |        |         |      |            |            \n  |       |        |         |      |          dog_NN        \n  |       |        |         |      |     _______|_______     \nThe_DT quick_JJ brown_JJ   fox_NN  ._. the_DT         lazy_JJ\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109227, "user_id": 1709587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/cP8pZ.jpg?s=128&g=1", "display_name": "Mark Amery", "link": "https://stackoverflow.com/users/1709587/mark-amery"}, "is_accepted": false, "score": 49, "last_activity_date": 1578608194, "last_edit_date": 1578608194, "creation_date": 1477754798, "answer_id": 40320647, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy/40320647#40320647", "title": "How to get the dependency tree with spaCy?", "body": "<p>The tree isn't an object in itself; you just navigate it via the relationships between tokens. That's why the docs talk about navigating the tree, but not 'getting' it.</p>\n\n<p>First, let's parse some text to get a <a href=\"https://spacy.io/docs/#doc\" rel=\"noreferrer\"><code>Doc</code></a> object:</p>\n\n<pre><code>&gt;&gt;&gt; import spacy\n&gt;&gt;&gt; nlp = spacy.load('en_core_web_sm')\n&gt;&gt;&gt; doc = nlp('First, I wrote some sentences. Then spaCy parsed them. Hooray!')\n</code></pre>\n\n<p><code>doc</code> is a <a href=\"https://spacy.io/docs/#doc-sequenceapi\" rel=\"noreferrer\"><code>Sequence</code></a> of <a href=\"https://spacy.io/docs/#token\" rel=\"noreferrer\"><code>Token</code></a> objects:</p>\n\n<pre><code>&gt;&gt;&gt; doc[0]\nFirst\n&gt;&gt;&gt; doc[1]\n,\n&gt;&gt;&gt; doc[2]\nI\n&gt;&gt;&gt; doc[3]\nwrote\n</code></pre>\n\n<p>But it doesn't have a single root token. We parsed a text made up of three sentences, so there are three distinct trees, each with their own root. If we want to start our parsing from the root of each sentence, it will help to get the sentences as distinct objects, first. Fortunately, <code>doc</code> exposes these to us via the <a href=\"https://spacy.io/docs/#doc-spans-sents\" rel=\"noreferrer\"><code>.sents</code></a> property:</p>\n\n<pre><code>&gt;&gt;&gt; sentences = list(doc.sents)\n&gt;&gt;&gt; for sentence in sentences:\n...     print(sentence)\n... \nFirst, I wrote some sentences.\nThen spaCy parsed them.\nHooray!\n</code></pre>\n\n<p>Each of these sentences is a <a href=\"https://spacy.io/docs/#span\" rel=\"noreferrer\"><code>Span</code></a> with a <code>.root</code> property pointing to its root token. Usually, the root token will be the main verb of the sentence (although this may not be true for unusual sentence structures, such as sentences without a verb):</p>\n\n<pre><code>&gt;&gt;&gt; for sentence in sentences:\n...     print(sentence.root)\n... \nwrote\nparsed\nHooray\n</code></pre>\n\n<p>With the root token found, we can navigate down the tree via the <code>.children</code> property of each token. For instance, let's find the subject and object of the verb in the first sentence. The <code>.dep_</code> property of each child token <a href=\"https://stackoverflow.com/q/40288323/1709587\">describes its relationship with its parent</a>; for instance a <code>dep_</code> of <code>'nsubj'</code> means that a token is the <em>nominal subject</em> of its parent.</p>\n\n<pre><code>&gt;&gt;&gt; root_token = sentences[0].root\n&gt;&gt;&gt; for child in root_token.children:\n...     if child.dep_ == 'nsubj':\n...         subj = child\n...     if child.dep_ == 'dobj':\n...         obj = child\n... \n&gt;&gt;&gt; subj\nI\n&gt;&gt;&gt; obj\nsentences\n</code></pre>\n\n<p>We can likewise keep going down the tree by viewing one of these token's children:</p>\n\n<pre><code>&gt;&gt;&gt; list(obj.children)\n[some]\n</code></pre>\n\n<p>Thus with the properties above, you can navigate the entire tree. If you want to visualise some dependency trees for example sentences to help you understand the structure, I recommend playing with <a href=\"https://demos.explosion.ai/displacy/\" rel=\"noreferrer\">displaCy</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 243, "user_id": 5440379, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2d9c73eaf8452a6defdf32f232503943?s=128&d=identicon&r=PG&f=1", "display_name": "lilienfa", "link": "https://stackoverflow.com/users/5440379/lilienfa"}, "is_accepted": false, "score": -3, "last_activity_date": 1487583672, "creation_date": 1487583672, "answer_id": 42341052, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy/42341052#42341052", "title": "How to get the dependency tree with spaCy?", "body": "<p>I do not have enough knowledge about the parsing yet. However, outcome of my literature study has resulted in knowing that spaCy has a shift-reduce dependency parsing algorithm. This parses the question/sentence, resulting in a parsing tree. To visualize this, you can use the DisplaCy, combination of CSS and Javascript, works with Python and Cython. \nFurthermore, you can parse using the SpaCy library, and import the Natural Language Toolkit (NLTK). Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 3149, "user_id": 5238639, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e5fa49836b93db67f1a46ce83d80107d?s=128&d=identicon&r=PG&f=1", "display_name": "prashanth", "link": "https://stackoverflow.com/users/5238639/prashanth"}, "edited": false, "score": 2, "creation_date": 1575440668, "post_id": 51714729, "comment_id": 104562904, "body": "JFI.. the serve option also opens the tree as a weblink. For static image (the render option is available <code>displacy.render(doc, style=&#39;dep&#39;)</code>"}, {"owner": {"reputation": 2972, "user_id": 1904943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T15Ql.jpg?s=128&g=1", "display_name": "Victoria Stuart", "link": "https://stackoverflow.com/users/1904943/victoria-stuart"}, "reply_to_user": {"reputation": 3149, "user_id": 5238639, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e5fa49836b93db67f1a46ce83d80107d?s=128&d=identicon&r=PG&f=1", "display_name": "prashanth", "link": "https://stackoverflow.com/users/5238639/prashanth"}, "edited": false, "score": 1, "creation_date": 1575594154, "post_id": 51714729, "comment_id": 104628716, "body": "To add to @prashanth&#39;s comment, you can also print to an image (that you can open/view, e.g., in Firefox; note that you need to specify the full path (<code>&#47;home&#47;victoria&#47;...</code>, not <code>~&#47;...</code>).   Code: <code>from pathlib import Path; output_path = Path(&quot;&#47;home&#47;victoria&#47;dependency_plot.svg&quot;); svg = displacy.render(doc, style=&#39;dep&#39;, jupyter=False); output_path.open(&quot;w&quot;, encoding=&quot;utf-8&quot;).write(svg)</code>"}, {"owner": {"reputation": 3990, "user_id": 1663614, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ghheX.png?s=128&g=1", "display_name": "Suzana", "link": "https://stackoverflow.com/users/1663614/suzana"}, "edited": false, "score": 0, "creation_date": 1582560208, "post_id": 51714729, "comment_id": 106810394, "body": "Strangely, when I render as svg, the dependency tags are missing, when I render with <code>serve</code>, they get printed."}], "tags": [], "owner": {"reputation": 3148, "user_id": 1587739, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/utAvT.jpg?s=128&g=1", "display_name": "Rohan", "link": "https://stackoverflow.com/users/1587739/rohan"}, "is_accepted": false, "score": 16, "last_activity_date": 1600072300, "last_edit_date": 1600072300, "creation_date": 1533585087, "answer_id": 51714729, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy/51714729#51714729", "title": "How to get the dependency tree with spaCy?", "body": "<p>You can use the library below to view your dependency tree, found it extremely helpful!</p>\n<pre><code>import spacy\nfrom spacy import displacy\n\nnlp = spacy.load('en')\ndoc = nlp(u'This is a sentence.')\ndisplacy.serve(doc, style='dep')\n</code></pre>\n<p>You can open it with your browser, and it looks like:\n<a href=\"https://i.stack.imgur.com/hiFNe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hiFNe.png\" alt=\"displacy serve output\" /></a></p>\n<p>To generate a SVG file:</p>\n<pre><code>from pathlib import Path\n\noutput_path = Path(&quot;yourpath/.svg&quot;)\nsvg = displacy.render(doc, style='dep')\nwith output_path.open(&quot;w&quot;, encoding=&quot;utf-8&quot;) as fh:\n    fh.write(svg)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 201, "user_id": 4289573, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/97cdf16074445b1ee749dbfd9c6eb125?s=128&d=identicon&r=PG&f=1", "display_name": "Viper", "link": "https://stackoverflow.com/users/4289573/viper"}, "edited": false, "score": 8, "creation_date": 1557361798, "post_id": 53256733, "comment_id": 98742513, "body": "Doc.print_tree method is deprecated in v2.1 in favour of Doc.to_json."}], "tags": [], "owner": {"reputation": 81, "user_id": 6358717, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209551633770481/picture?type=large", "display_name": "Christopher Reiss", "link": "https://stackoverflow.com/users/6358717/christopher-reiss"}, "is_accepted": false, "score": 8, "last_activity_date": 1542003446, "last_edit_date": 1542003446, "creation_date": 1542003139, "answer_id": 53256733, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy/53256733#53256733", "title": "How to get the dependency tree with spaCy?", "body": "<p>I don't know if this is a new API call or what, but there's a .print_tree() method on the Document class that makes quick work of this.  </p>\n\n<p><a href=\"https://spacy.io/api/doc#print_tree\" rel=\"noreferrer\">https://spacy.io/api/doc#print_tree</a></p>\n\n<p>It dumps the dependency tree to JSON.  It deals with multiple sentence roots and all that : </p>\n\n<pre><code>    import spacy    \n    nlp = spacy.load('en')\n    doc1 = nlp(u'This is the way the world ends.  So you say.')  \n    print(doc1.print_tree(light=True))\n</code></pre>\n\n<p>The name <strong>print</strong>_tree is a bit of a misnomer, the method itself doesn't print anything, rather it returns a list of dicts, one for each sentence.</p>\n"}], "owner": {"reputation": 1534, "user_id": 4148612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5287f1dbe0edc17ea630bbb5f475976d?s=128&d=identicon&r=PG", "display_name": "Nicolas Joseph", "link": "https://stackoverflow.com/users/4148612/nicolas-joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36355, "favorite_count": 27, "accepted_answer_id": 36612605, "answer_count": 7, "score": 60, "last_activity_date": 1600072300, "creation_date": 1460584075, "last_edit_date": 1526311007, "question_id": 36610179, "link": "https://stackoverflow.com/questions/36610179/how-to-get-the-dependency-tree-with-spacy", "title": "How to get the dependency tree with spaCy?", "body": "<p>I have been trying to find how to get the dependency tree with spaCy but I can't find anything on how to get the tree, only on <a href=\"https://spacy.io/usage/examples#subtrees\" rel=\"noreferrer\">how to navigate the tree</a>.</p>\n"}, {"tags": ["python", "django", "filefield", "django-file-upload"], "answers": [{"tags": [], "owner": {"reputation": 571, "user_id": 4235775, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oYzi9.jpg?s=128&g=1", "display_name": "John Paraskevopoulos", "link": "https://stackoverflow.com/users/4235775/john-paraskevopoulos"}, "is_accepted": false, "score": 4, "last_activity_date": 1493991807, "creation_date": 1493991807, "answer_id": 43806610, "question_id": 36610146, "link": "https://stackoverflow.com/questions/36610146/attributeerror-file-object-has-no-attribute-committed/43806610#43806610", "title": "AttributeError: &#39;file&#39; object has no attribute &#39;_committed&#39;", "body": "<p>django needs a <code>ContentFile</code> usually to do this passing it a stream of data, and it doesn't work the way you usually pass arguments to a model. The proper way to do this is the following</p>\n\n<pre><code>from django.core.files.base import ContentFile\n[...]\nmymodel = Mymodel()\nmymodel.audio.save(audio.name, ContentFile(audio.read()))\n</code></pre>\n\n<p>don't forget to pass the stream to ContentFile. Django won't raise any errors if you pass it <code>ContentFile(audio)</code> but in that case you won't save the file content..</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 11068854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afdb0089f61817682322c923c67ddce4?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Kumar", "link": "https://stackoverflow.com/users/11068854/ankit-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1599814314, "last_edit_date": 1599814314, "creation_date": 1588354680, "answer_id": 61547623, "question_id": 36610146, "link": "https://stackoverflow.com/questions/36610146/attributeerror-file-object-has-no-attribute-committed/61547623#61547623", "title": "AttributeError: &#39;file&#39; object has no attribute &#39;_committed&#39;", "body": "<p>I got same error that is solved now i would suggest you to open that file in read mode then save it. here is my code :</p>\n<pre><code>from django.core.files import File as DjangoFile\nfile_obj1 = DjangoFile(open(file_name, mode='rb'), name=file_name)\nFile.objects.create(title=file_name, file=file_obj1, content_object=task_obj, author=task_obj.client)\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 5635130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed14d29234c70a43dbaf5f2ed112c43?s=128&d=identicon&r=PG&f=1", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/5635130/abdul-rauf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6367, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1599814314, "creation_date": 1460583926, "last_edit_date": 1460591481, "question_id": 36610146, "link": "https://stackoverflow.com/questions/36610146/attributeerror-file-object-has-no-attribute-committed", "title": "AttributeError: &#39;file&#39; object has no attribute &#39;_committed&#39;", "body": "<p>I have a DjangoFileField in my model. I am trying to convert the type of the audio from that FielField to mp3 and then again trying to save it. But after converting the type and exporting it using pydub it is returning the following error  </p>\n\n<pre><code>AttributeError: 'file' object has no attribute '_committed'\n</code></pre>\n\n<p>My code is like this  </p>\n\n<pre><code>def get_from_function(AudioSegment, format):\n\n    form = \"from_{0}\".format(format)\n    print form\n    if hasattr(AudioSegment, form):\n        return getattr(AudioSegment, form)\n    return None\n\n\n    audio = request.FILES.get('audio', None)\n    if audio:\n        name_list = audio.name.rsplit(\".\")\n        voice_format =name_list[1]\n        from_format = get_from_function(AudioSegment, voice_format)\n        if from_format and callable(from_format):\n            sound = from_format(audio)\n            audio = sound.export(\"media/{0}\".format(name_list[0]), mp3\")\n</code></pre>\n\n<p>when i print the <code>audio</code> it prints   </p>\n\n<pre><code>&lt;open file 'media/barsandtone', mode 'wb+' at 0x7f771e5e2f60&gt;\n</code></pre>\n\n<p>and when i print the type of file it prints    </p>\n\n<pre><code>&lt;type 'file'&gt;\n</code></pre>\n\n<p>but when i assign the audio field to django model like  </p>\n\n<pre><code>Mymodel.objects.create(audio=audio)\n</code></pre>\n\n<p>it gives error   </p>\n\n<pre><code>AttributeError at /create/\n'file' object has no attribute '_committed'\n</code></pre>\n\n<p>What is the correct way to save the exported file into django model</p>\n"}, {"tags": ["python", "dynamic-programming"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 4, "creation_date": 1460583953, "post_id": 36610106, "comment_id": 60816990, "body": "I think you meant <code>print D[n-1][m-1]</code>, or just <code>D[-1][-1]</code>"}, {"owner": {"reputation": 5987, "user_id": 4414003, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2b49a0c830607a550fe7fe4d1efc2dd6?s=128&d=identicon&r=PG", "display_name": "Luke Taylor", "link": "https://stackoverflow.com/users/4414003/luke-taylor"}, "edited": false, "score": 1, "creation_date": 1460583995, "post_id": 36610106, "comment_id": 60817007, "body": "Please make sure your answer shows a minimal research effort. Have you googled the error to see what it means? How have you tried to debug your code so far?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1460584447, "post_id": 36610106, "comment_id": 60817206, "body": "Also, Python usually prints out the error line. It really tries to be helpful."}, {"owner": {"reputation": 11, "user_id": 6201086, "user_type": "registered", "profile_image": "https://graph.facebook.com/1328021590547946/picture?type=large", "display_name": "Lindsay Reindl", "link": "https://stackoverflow.com/users/6201086/lindsay-reindl"}, "edited": false, "score": 0, "creation_date": 1460585679, "post_id": 36610106, "comment_id": 60817731, "body": "Yes, I researched it and tried to debug my code...and that&#39;s why I&#39;m here."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6201086, "user_type": "registered", "profile_image": "https://graph.facebook.com/1328021590547946/picture?type=large", "display_name": "Lindsay Reindl", "link": "https://stackoverflow.com/users/6201086/lindsay-reindl"}, "edited": false, "score": 0, "creation_date": 1460586965, "post_id": 36610243, "comment_id": 60818268, "body": "THANK YOU SO MUCH that was the issue :-)"}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1460584319, "creation_date": 1460584319, "answer_id": 36610243, "question_id": 36610106, "link": "https://stackoverflow.com/questions/36610106/python-error-indexerror-list-index-out-of-range/36610243#36610243", "title": "python error - &quot;IndexError: list index out of range&quot;", "body": "<p>There seem to be two problems:</p>\n\n<ol>\n<li><p>In the definition of <code>D</code>, you should swap <code>n</code> and <code>m</code></p>\n\n<pre><code>D = [[0 for num in range(0, m)] for number in range(0, n)]\n</code></pre></li>\n<li><p>You have to print (or better: return) the last element of the matrix</p>\n\n<pre><code>return D[n-1][m-1] # or just D[-1][-1]\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 2, "creation_date": 1460584387, "post_id": 36610248, "comment_id": 60817178, "body": "This does not really answer the question what&#39;s wrong with OP&#39;s code, right?"}], "tags": [], "owner": {"reputation": 3642, "user_id": 4593743, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0212ffc5054bff1695ffa1e46f357746?s=128&d=identicon&r=PG&f=1", "display_name": "python", "link": "https://stackoverflow.com/users/4593743/python"}, "is_accepted": false, "score": 0, "last_activity_date": 1460585677, "last_edit_date": 1460585677, "creation_date": 1460584332, "answer_id": 36610248, "question_id": 36610106, "link": "https://stackoverflow.com/questions/36610106/python-error-indexerror-list-index-out-of-range/36610248#36610248", "title": "python error - &quot;IndexError: list index out of range&quot;", "body": "<p>The issue is with total rows and columns of the matrix(D). Size should be <code>(m+1)*(n+1)</code> and then loop over the matrix. Otherwise you need to return D[m-1][n-1].</p>\n\n<pre><code>def LCS(sequence1, sequence2):\n    n = len(sequence1)\n    m = len(sequence2)\n    D = [[0 for num in range(0,n+1)]for number in range(0, m+1)]\n    for i in range(1, n+1):\n        for j in range(1, m+1):\n            if(sequence1[i-1] == sequence2[j-1]):\n                D[i][j] = D[i-1][j-1] + 1\n            else:\n                D[i][j] = max(D[i-1][j], D[i][j-1])\n\n    print D[n][m]\n\nLCS('abcdef' , 'defjkl')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6201086, "user_type": "registered", "profile_image": "https://graph.facebook.com/1328021590547946/picture?type=large", "display_name": "Lindsay Reindl", "link": "https://stackoverflow.com/users/6201086/lindsay-reindl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1460585677, "creation_date": 1460583740, "last_edit_date": 1460583911, "question_id": 36610106, "link": "https://stackoverflow.com/questions/36610106/python-error-indexerror-list-index-out-of-range", "title": "python error - &quot;IndexError: list index out of range&quot;", "body": "<p>I'm really new at Python so I apologize in advance if this is a really dumb question. Pretty much, I'm writing a longest common subsequence algorithm with dynamic programming.<br>\nWhenever I try to run it, I get the <code>IndexError: list index out of range</code>, and I don't know why because the array I'm adding values to never changes in size. Code snippet for clarity:</p>\n\n<pre><code>def LCS(sequence1, sequence2):\n    n = len(sequence1)\n    m = len(sequence2)\n    D = [[0 for num in range(0,n)]for number in range(0, m)]\n    for i in range(1, n):\n        for j in range(1, m):\n            if(sequence1[i] == sequence2[j]):\n                D[i][j] = D[i-1][j-1] + 1\n            else:\n                D[i][j] = max(D[i-1][j], D[i][j-1])\n    print D[n][m]\n</code></pre>\n"}, {"tags": ["python", "list", "tuples"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1460583776, "post_id": 36610094, "comment_id": 60816897, "body": "SO is not a code writing service. Please show your own attempt at solving the problem (if you can&#39;t get it to work)."}, {"owner": {"reputation": 1031, "user_id": 5885293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6766a08a85456d9f046204502cb054?s=128&d=identicon&r=PG", "display_name": "jfive", "link": "https://stackoverflow.com/users/5885293/jfive"}, "edited": false, "score": 0, "creation_date": 1460584359, "post_id": 36610094, "comment_id": 60817165, "body": "Sorry guys, quite right."}, {"owner": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "edited": false, "score": 0, "creation_date": 1460584934, "post_id": 36610094, "comment_id": 60817407, "body": "do you care which capitalization is kept?"}, {"owner": {"reputation": 1031, "user_id": 5885293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6766a08a85456d9f046204502cb054?s=128&d=identicon&r=PG", "display_name": "jfive", "link": "https://stackoverflow.com/users/5885293/jfive"}, "reply_to_user": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "edited": false, "score": 0, "creation_date": 1460585145, "post_id": 36610094, "comment_id": 60817508, "body": "@haavee Ideally that with the maximum frequency"}], "answers": [{"comments": [{"owner": {"reputation": 1031, "user_id": 5885293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6766a08a85456d9f046204502cb054?s=128&d=identicon&r=PG", "display_name": "jfive", "link": "https://stackoverflow.com/users/5885293/jfive"}, "edited": false, "score": 1, "creation_date": 1460584995, "post_id": 36610373, "comment_id": 60817427, "body": "Would this always keep the maximum as <code>meta</code>? Reversing the input (<code>data = [(&#39;#example&#39;, 65544), (&#39;#Example&#39;, 92002)]</code>) would give: <code>[(&#39;#example&#39;, 157546)]</code>"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 1031, "user_id": 5885293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6766a08a85456d9f046204502cb054?s=128&d=identicon&r=PG", "display_name": "jfive", "link": "https://stackoverflow.com/users/5885293/jfive"}, "edited": false, "score": 0, "creation_date": 1460585875, "post_id": 36610373, "comment_id": 60817827, "body": "@jfive Fixed. Let me know what you think"}, {"owner": {"reputation": 1031, "user_id": 5885293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6766a08a85456d9f046204502cb054?s=128&d=identicon&r=PG", "display_name": "jfive", "link": "https://stackoverflow.com/users/5885293/jfive"}, "edited": false, "score": 0, "creation_date": 1460586078, "post_id": 36610373, "comment_id": 60817896, "body": "looks much better. I originally though this to be a more trivial problem. Recently, I have been working a lot with the built-in functionality of Pandas"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 1031, "user_id": 5885293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6766a08a85456d9f046204502cb054?s=128&d=identicon&r=PG", "display_name": "jfive", "link": "https://stackoverflow.com/users/5885293/jfive"}, "edited": false, "score": 0, "creation_date": 1460586381, "post_id": 36610373, "comment_id": 60818017, "body": "@jfive always easier to code from scratch :D Also it solves the problem far faster ;)"}], "tags": [], "owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "is_accepted": true, "score": 1, "last_activity_date": 1460586208, "last_edit_date": 1460586208, "creation_date": 1460584850, "answer_id": 36610373, "question_id": 36610094, "link": "https://stackoverflow.com/questions/36610094/python-sum-entries-in-list-of-tuples-entries-with-case-sensitive-keys/36610373#36610373", "title": "Python: Sum entries in list of tuples entries with case sensitive keys?", "body": "<p>I would use dictionary</p>\n\n<pre><code>data = [('#example', 65544),('#Example', 92002)]\n\nhashtable = {}\n\nfor i in data:\n\n    # See if this thing exists regardless of casing\n    if i[0].lower() not in hashtable:\n\n        # Create a dictionary\n        hashtable[i[0].lower()] = {\n            'meta':'',\n            'value':[]\n        }\n\n        # Copy the relevant information\n        hashtable[i[0].lower()]['value'].append(i[1])\n        hashtable[i[0].lower()]['meta'] = i[0]\n\n    # If the value exists\n    else:\n\n        # Check if the number it holds is the max against \n        # what was collected so far. If so, change meta\n        if i[1] &gt; max(hashtable[i[0].lower()]['value']):\n            hashtable[i[0].lower()]['meta'] = i[0]\n\n        # Append the value regardless\n        hashtable[i[0].lower()]['value'].append(i[1])\n\n# For output purposes\nmyList = []\n\n# Build the tuples\nfor node in hashtable:\n    myList.append((hashtable[node]['meta'],sum(hashtable[node]['value'])))\n\n# Voila!\nprint myList\n# [('#Example', 157546)]\n</code></pre>\n"}], "owner": {"reputation": 1031, "user_id": 5885293, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f6766a08a85456d9f046204502cb054?s=128&d=identicon&r=PG", "display_name": "jfive", "link": "https://stackoverflow.com/users/5885293/jfive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 36610373, "answer_count": 1, "score": -2, "last_activity_date": 1460586208, "creation_date": 1460583695, "last_edit_date": 1460585300, "question_id": 36610094, "link": "https://stackoverflow.com/questions/36610094/python-sum-entries-in-list-of-tuples-entries-with-case-sensitive-keys", "title": "Python: Sum entries in list of tuples entries with case sensitive keys?", "body": "<p>I have a list of tuples holding hashtags and frequencies for example:</p>\n\n<pre><code>[('#Example', 92002),\n ('#example', 65544)]\n</code></pre>\n\n<p>I want to sum entries which have have the same string as the first entry in the tuple (but a different case-sensitive version), keeping the first entry with the highest value in the second entry. The above would be transformed to:</p>\n\n<pre><code>[('#Example', 157,546)]\n</code></pre>\n\n<p>I've tried this so far:</p>\n\n<pre><code>import operator\n\nfor hashtag in hashtag_freq_list:\n    if hashtag[0].lower() not in [res_entry[0].lower() for res_entry in res]:\n        entries = [entry for entry in hashtag_freq_list if hashtag[0].lower() == entry[0].lower()]\n        k = max(entries,key=operator.itemgetter(1))[0]  \n        v = sum([entry[1] for entry in entries])\n        res.append((k,v))\n</code></pre>\n\n<p>I was just wondering if this could be approached in a more elegant way?</p>\n"}, {"tags": ["python", "json", "time-series", "urllib2", "timeserieschart"], "comments": [{"owner": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 1, "creation_date": 1460584145, "post_id": 36610093, "comment_id": 60817081, "body": "did you tried using <code>json.loads</code> instead of <code>json.load</code>?"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1460598201, "post_id": 36610093, "comment_id": 60821633, "body": "Can you show the full traceback, not just the last part of it? If the <code>response</code> object you&#39;re getting from <code>urlopen</code> has the data you show, it should be read properly by <code>json.load</code>. Perhaps you should call <code>read()</code> on <code>response</code> to get a string you can examine, then pass it to <code>json.loads</code> for parsing. When you pass the <code>response</code> directly to <code>load</code>, you can&#39;t inspect it as easily."}, {"owner": {"reputation": 13, "user_id": 2501570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/241a0d604807e713342001278c13bd8a?s=128&d=identicon&r=PG", "display_name": "Kushagra Thakur", "link": "https://stackoverflow.com/users/2501570/kushagra-thakur"}, "reply_to_user": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 0, "creation_date": 1460606695, "post_id": 36610093, "comment_id": 60824003, "body": "@Omar Tried json.loads as well, but it is still not able to read it             data = json.loads(response.read())."}, {"owner": {"reputation": 13, "user_id": 2501570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/241a0d604807e713342001278c13bd8a?s=128&d=identicon&r=PG", "display_name": "Kushagra Thakur", "link": "https://stackoverflow.com/users/2501570/kushagra-thakur"}, "reply_to_user": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1460606786, "post_id": 36610093, "comment_id": 60824034, "body": "@Blckknght Added the Stacktrace above. Its not working with json.loads as well."}, {"owner": {"reputation": 8538, "user_id": 1572077, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d0d48254c7058151e04dbc6f13e864d8?s=128&d=identicon&r=PG", "display_name": "miah", "link": "https://stackoverflow.com/users/1572077/miah"}, "edited": false, "score": 0, "creation_date": 1460607641, "post_id": 36610093, "comment_id": 60824303, "body": "what is the content type returned by your call to localhost?  <code>res.info().type</code>"}, {"owner": {"reputation": 13, "user_id": 2501570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/241a0d604807e713342001278c13bd8a?s=128&d=identicon&r=PG", "display_name": "Kushagra Thakur", "link": "https://stackoverflow.com/users/2501570/kushagra-thakur"}, "reply_to_user": {"reputation": 8538, "user_id": 1572077, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d0d48254c7058151e04dbc6f13e864d8?s=128&d=identicon&r=PG", "display_name": "miah", "link": "https://stackoverflow.com/users/1572077/miah"}, "edited": false, "score": 0, "creation_date": 1460611325, "post_id": 36610093, "comment_id": 60825459, "body": "@miah It&#39;s returning &quot;text/html&quot;. Is that the issue, that its not a true JSON response? As I wont be able to change the API, can this &quot;text/html&quot; response be used somehow?"}, {"owner": {"reputation": 13, "user_id": 2501570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/241a0d604807e713342001278c13bd8a?s=128&d=identicon&r=PG", "display_name": "Kushagra Thakur", "link": "https://stackoverflow.com/users/2501570/kushagra-thakur"}, "edited": false, "score": 0, "creation_date": 1460611998, "post_id": 36610093, "comment_id": 60825697, "body": "<code>k = json.dumps(response.read()) &#47;&#47;Change data = json.loads(k)</code> Miah I am able to get the response now. It&#39;s showing me the login page code. If I am logged in and typing this URL in browser, I am getting the timeseries data shown above. But from Python I am getting login page html code for the same."}, {"owner": {"reputation": 8538, "user_id": 1572077, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d0d48254c7058151e04dbc6f13e864d8?s=128&d=identicon&r=PG", "display_name": "miah", "link": "https://stackoverflow.com/users/1572077/miah"}, "edited": false, "score": 0, "creation_date": 1460635200, "post_id": 36610093, "comment_id": 60840654, "body": "So, if you didn&#39;t get there already, you need to login (most likely with a session), with the Python client, and then you can go about your business as you expect"}], "owner": {"reputation": 13, "user_id": 2501570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/241a0d604807e713342001278c13bd8a?s=128&d=identicon&r=PG", "display_name": "Kushagra Thakur", "link": "https://stackoverflow.com/users/2501570/kushagra-thakur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1460606870, "creation_date": 1460583693, "last_edit_date": 1460606870, "question_id": 36610093, "link": "https://stackoverflow.com/questions/36610093/issue-decoding-json-url-in-python", "title": "Issue decoding JSON URL in Python", "body": "<p>I need to extract time series data (timestamp, value) from the url mentioned below. I am using urllib2 to get the data. I am able to extract data other url's that give a json response. However, I am not able to decode the data from the URL shown below. I don't have an option to change the API's response. Is there a way to extract data from the url somehow? Any help would be greatly appreciated.</p>\n\n<pre><code>import ssl\nimport urllib2\nimport json\n\ncontext = ssl._create_unverified_context()\n\nresponse = urllib2.urlopen('https://localhost/app?json={\"requests\":[{\"message\":\"GetHist\",\"id\":\"XYZ\"}]}', context=context)\ndata = json.load(response)   \nprint data\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-12-aaa819691ae6&gt; in &lt;module&gt;()\n      6 \n      7 response = urllib2.urlopen('https://localhost/app?json={\"requests\":[{\"message\":\"GetHist\",\"id\":\"XYZ\"}]}', context=context)\n----&gt; 8 data = json.loads(response.read())\n      9 print data\n\nC:\\Users\\k2\\AppData\\Local\\Continuum\\Anaconda2\\lib\\json\\__init__.pyc in loads(s, encoding, cls, object_hook, parse_float, parse_int, parse_constant, object_pairs_hook, **kw)\n    337             parse_int is None and parse_float is None and\n    338             parse_constant is None and object_pairs_hook is None and not kw):\n--&gt; 339         return _default_decoder.decode(s)\n    340     if cls is None:\n    341         cls = JSONDecoder\n\nC:\\Users\\k2\\AppData\\Local\\Continuum\\Anaconda2\\lib\\json\\decoder.pyc in decode(self, s, _w)\n    362 \n    363         \"\"\"\n--&gt; 364         obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n    365         end = _w(s, end).end()\n    366         if end != len(s):\n\nC:\\Users\\k2\\AppData\\Local\\Continuum\\Anaconda2\\lib\\json\\decoder.pyc in raw_decode(self, s, idx)\n    380             obj, end = self.scan_once(s, idx)\n    381         except StopIteration:\n--&gt; 382             raise ValueError(\"No JSON object could be decoded\")\n    383         return obj, end\n\nValueError: No JSON object could be decoded\n</code></pre>\n\n<p>Data reponse from URL:</p>\n\n<pre><code>{ \"responses\" : [\n{\n  \"message\" : \"GetHist\",\n  \"id\" : \"XYZ\",\n  \"rows\" : [\n    [\n      \"2016-04-14T00:00:00.000+05:30\",\n      \"80000.0\",\n      \"ok\"\n    ],\n    [\n      \"2016-04-14T00:15:00.000+05:30\",\n      \"79652.83966064453\",\n      \"ok\"\n    ],\n    [\n      \"2016-04-14T00:30:00.000+05:30\",\n      \"86999.9008178711\",\n      \"ok\"\n    ],\n    [\n      \"2016-04-14T00:45:00.000+05:30\",\n      \"80000.0\",\n      \"ok\"\n    ],\n    [\n      \"2016-04-14T01:00:00.000+05:30\",\n      \"86078.55987548828\",\n      \"ok\"\n    ]\n ]\n}\n]}\n</code></pre>\n"}, {"tags": ["python", "pypi"], "comments": [{"owner": {"reputation": 302, "user_id": 3812388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09cebdb4c457b75201583658fa61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Cychih", "link": "https://stackoverflow.com/users/3812388/cychih"}, "edited": false, "score": 1, "creation_date": 1462975679, "post_id": 36610063, "comment_id": 61865764, "body": "Same question here, it looks like Python didn&#39;t check for NoneType password, <code>python setup.py sdist upload</code> complains <code>TypeError: Can&#39;t convert &#39;NoneType&#39; object to str implicitly</code>"}, {"owner": {"reputation": 302, "user_id": 3812388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09cebdb4c457b75201583658fa61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Cychih", "link": "https://stackoverflow.com/users/3812388/cychih"}, "edited": false, "score": 1, "creation_date": 1462978348, "post_id": 36610063, "comment_id": 61867790, "body": "It&#39;s an old issue: <a href=\"http://bugs.python.org/issue18454\" rel=\"nofollow noreferrer\">bugs.python.org/issue18454</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6585, "user_id": 225650, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dcab3d97b912e4ae717e0071a2d2ab7?s=128&d=identicon&r=PG", "display_name": "Dominic K", "link": "https://stackoverflow.com/users/225650/dominic-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1503010765, "creation_date": 1503010765, "answer_id": 45746112, "question_id": 36610063, "link": "https://stackoverflow.com/questions/36610063/how-to-not-store-password-in-pypirc/45746112#45746112", "title": "How to not store password in .pypirc?", "body": "<p>You omit the entire line completely:</p>\n\n<pre><code>[distutils]\nindex-servers =\n    pypi\n\n[pypi]\nrepository: &lt;repository-url&gt;\nusername: &lt;username&gt;\n</code></pre>\n\n<p>This has been tested on Python 3.6.2 and pip 9.0.1</p>\n"}], "owner": {"reputation": 321, "user_id": 6031663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8def04c31f949ad2f4378c4773450a3f?s=128&d=identicon&r=PG&f=1", "display_name": "F Zhu", "link": "https://stackoverflow.com/users/6031663/f-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1614, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1503010765, "creation_date": 1460583563, "question_id": 36610063, "link": "https://stackoverflow.com/questions/36610063/how-to-not-store-password-in-pypirc", "title": "How to not store password in .pypirc?", "body": "<p>I'm trying to set up a private Pypi cloud using CloudPypi. And I really don't want store my password in .pypirc. I want to be prompt to type in my password every time I upload a package.</p>\n\n<p>In <a href=\"https://docs.python.org/2/distutils/packageindex.html#the-pypirc-file\" rel=\"noreferrer\">Python document about .pypirc</a>, it says:</p>\n\n<blockquote>\n  <p>password, that will be used to authenticate. If omitted the user will\n  be prompt to type it when needed.</p>\n</blockquote>\n\n<p>But how do you \"omit\" the password here? I tried leaving the password line blank, tried do \"password : \" or \"password : password\". None of these works.</p>\n"}, {"tags": ["python", "apache-spark", "lambda", "pyspark", "rdd"], "comments": [{"owner": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 0, "creation_date": 1460582982, "post_id": 36609861, "comment_id": 60816480, "body": "what do you mean &quot;character&quot;"}, {"owner": {"reputation": 446, "user_id": 2664428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1837455c4c767dbb3cc9fb6eda338626?s=128&d=identicon&r=PG", "display_name": "Azeem Akhter", "link": "https://stackoverflow.com/users/2664428/azeem-akhter"}, "reply_to_user": {"reputation": 2046, "user_id": 1357527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e689f1fae96cb781cb487a0bc045b5be?s=128&d=identicon&r=PG", "display_name": "Natecat", "link": "https://stackoverflow.com/users/1357527/natecat"}, "edited": false, "score": 0, "creation_date": 1460583239, "post_id": 36609861, "comment_id": 60816631, "body": "@Natecat I have updated the question, character of small aphabets, also see the example"}], "answers": [{"comments": [{"owner": {"reputation": 446, "user_id": 2664428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1837455c4c767dbb3cc9fb6eda338626?s=128&d=identicon&r=PG", "display_name": "Azeem Akhter", "link": "https://stackoverflow.com/users/2664428/azeem-akhter"}, "edited": false, "score": 0, "creation_date": 1460627799, "post_id": 36610661, "comment_id": 60835269, "body": "does it scale nicely? like it makes sense to loop over 26 characters but for example if we are to find top 1000 queries by top 100 posters, will it have problems if we first find top 100 posters and then filter their top 1000 tweets one by one for each user?"}, {"owner": {"reputation": 1618, "user_id": 5353533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1Y0NrEQiNfE/AAAAAAAAAAI/AAAAAAAAAFs/CKFVHg6z5Ss/photo.jpg?sz=128", "display_name": "Matthew Graves", "link": "https://stackoverflow.com/users/5353533/matthew-graves"}, "reply_to_user": {"reputation": 446, "user_id": 2664428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1837455c4c767dbb3cc9fb6eda338626?s=128&d=identicon&r=PG", "display_name": "Azeem Akhter", "link": "https://stackoverflow.com/users/2664428/azeem-akhter"}, "edited": false, "score": 0, "creation_date": 1460656170, "post_id": 36610661, "comment_id": 60856286, "body": "@AzeemAkhter If you cache words_counted, it should scale linearly. If you want sublinear scaling, you&#39;ll need to do something cleverer. I&#39;ll edit the post to describe that."}], "tags": [], "owner": {"reputation": 1618, "user_id": 5353533, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1Y0NrEQiNfE/AAAAAAAAAAI/AAAAAAAAAFs/CKFVHg6z5Ss/photo.jpg?sz=128", "display_name": "Matthew Graves", "link": "https://stackoverflow.com/users/5353533/matthew-graves"}, "is_accepted": true, "score": 1, "last_activity_date": 1460656535, "last_edit_date": 1460656535, "creation_date": 1460586344, "answer_id": 36610661, "question_id": 36609861, "link": "https://stackoverflow.com/questions/36609861/finding-top-100-words-for-each-character-pyspark/36610661#36610661", "title": "finding top 100 words for each character pyspark", "body": "<p>Spark makes it easy to aggregate (key, value) pairs. Here, you have two stages--in the first stage, your key is (character, word) and then in the second stage your key is (character). (First, you need to calculate the counts; second, you need to find the most important ones.)</p>\n\n<p>The first is pretty simple using <code>reduceByKey</code> (<a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.html?highlight=reducebykey#pyspark.RDD.reduceByKey\" rel=\"nofollow\">docs</a>).</p>\n\n<pre><code>words_counted = words_mapped.map( lambda x: (x, 1))\n                            .reduceByKey(add)\n</code></pre>\n\n<p>Now we need to filter down to the top 100. This is something Spark is not as good at, because it requiring dealing with multiple rows at once. Scala has the <code>TopByKey</code> <a href=\"https://github.com/apache/spark/blob/master/mllib/src/main/scala/org/apache/spark/mllib/rdd/MLPairRDDFunctions.scala\" rel=\"nofollow\">function</a>, but that doesn't appear to be supported in PySpark yet.</p>\n\n<p>So instead let's loop over the characters (at least there are only 26) and use <code>takeOrdered</code> (<a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.html?highlight=takeordered#pyspark.RDD.takeOrdered\" rel=\"nofollow\">docs</a>) like so:</p>\n\n<pre><code>char = 'a'\ncharRDD = words_counted.filter(lambda x: x[0][0]==char).takeOrdered(100, key=lambda x: -x[1])\n</code></pre>\n\n<p>You can then concatenate those lists as appropriate.</p>\n\n<p>Some alternative approaches: use <code>partitionBy</code> (<a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.html?highlight=partitionby#pyspark.RDD.partitionBy\" rel=\"nofollow\">docs</a>) to put each group in its own partition, and then <code>mapPartitions</code> (<a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.html?highlight=partitionby#pyspark.RDD.mapPartitions\" rel=\"nofollow\">docs</a>) to convert the iterator for each group into the relevant object (say, sorting it and then taking the top 100).</p>\n\n<p>Another possibility to use <code>foldByKey</code> (<a href=\"http://spark.apache.org/docs/latest/api/python/pyspark.html?highlight=partitionby#pyspark.RDD.foldByKey\" rel=\"nofollow\">docs</a>), starting with an empty list, adding the next element to the list by binary insertion, and then dropping any elements after 100.</p>\n"}], "owner": {"reputation": 446, "user_id": 2664428, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1837455c4c767dbb3cc9fb6eda338626?s=128&d=identicon&r=PG", "display_name": "Azeem Akhter", "link": "https://stackoverflow.com/users/2664428/azeem-akhter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "accepted_answer_id": 36610661, "answer_count": 1, "score": 0, "last_activity_date": 1460656535, "creation_date": 1460582795, "last_edit_date": 1460583836, "question_id": 36609861, "link": "https://stackoverflow.com/questions/36609861/finding-top-100-words-for-each-character-pyspark", "title": "finding top 100 words for each character pyspark", "body": "<p>I am fairly new to spark, I have a task to get top hundred words from a set of tweets for each character from small alphabets. for example </p>\n\n<pre><code>a: (word1, count1), (word2, count2).. (word100, count100) \nb: (word1, count1), (word2, count2).. (word100, count100) \n.\n.\nz: (word1, count1), (word2, count2).. (word100, count100)\n</code></pre>\n\n<p>This is my code:</p>\n\n<pre><code>words_mapped = (en_text.flatMap(lambda x: x.split())\n                       .filter(lambda x: x[0] in valid_chars )\n                       .map(lambda x: (x[0], x)))\n</code></pre>\n\n<p>This gives a tuple with character and the word, now I have to group these characters and find the count of each word in values and show the top 100 words with their count.</p>\n\n<p>How can I translate this into pyspark. </p>\n"}, {"tags": ["python", "python-2.7", "numpy", "pip", "python-wheel"], "owner": {"reputation": 163, "user_id": 1978191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zZRYP.jpg?s=128&g=1", "display_name": "mike10010100", "link": "https://stackoverflow.com/users/1978191/mike10010100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1460582738, "creation_date": 1460582738, "question_id": 36609848, "link": "https://stackoverflow.com/questions/36609848/how-do-i-specify-to-pip-that-it-should-only-build-wheels-if-they-dont-exist-in", "title": "How do I specify to pip that it should only build wheels if they don&#39;t exist in the wheelhouse?", "body": "<p>So currently we have a build process that works like so:</p>\n\n<pre><code>#copy wheelhouse if it exists\nif [[ -d $WHEELHOUSE ]]; then\n        sudo cp -aTr $WHEELHOUSE $WORKSPACE/wheelhouse\nfi\n\ncd $WORKSPACE; pip install --find-links=$WORKSPACE/wheelhouse --use-wheel -r requirements-meta.txt; pip install --find-links=$WORKSPACE/wheelhouse --use-wheel -r requirements.txt; pip install --find-links=$WORKSPACE/wheelhouse --use-wheel -r requirements-dev.txt;\n\necho \"Now building wheels\"\n\npip wheel --wheel-dir=$WORKSPACE/wheelhouse --find-links $WORKSPACE/wheelhouse -r requirements-meta.txt; pip wheel --wheel-dir=$WORKSPACE/wheelhouse --find-links $WORKSPACE/wheelhouse -r requirements-dev.txt; pip wheel --wheel-dir=$WORKSPACE/wheelhouse --find-links $WORKSPACE/wheelhouse -r requirements.txt\n</code></pre>\n\n<p>This allows us to then copy over the wheelhouse with the rest of the workspace onto our production servers, and use those wheels as the install base for pip on those servers.</p>\n\n<p>For some reason, this <strong>always</strong> builds wheels for numpy and scipy (as well as pycrypto and a few others, but those are less time-consuming), even if they already exist in <code>$WORKSPACE/wheelhouse</code>.</p>\n\n<p>What we'd like to have happen is for pip wheel to skip building these wheels if they already exist in $WORKSPACE/wheelhouse. Is there something I'm missing on how to do this?</p>\n"}, {"tags": ["python", "html", "selenium", "xpath"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1460584883, "post_id": 36609845, "comment_id": 60817386, "body": "The function itself looks good, could you elaborate more about what your problem is? Thanks."}, {"owner": {"reputation": 1304, "user_id": 3132976, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/OgTDH.jpg?s=128&g=1", "display_name": "Pavel Zagalsky", "link": "https://stackoverflow.com/users/3132976/pavel-zagalsky"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1460584946, "post_id": 36609845, "comment_id": 60817410, "body": "When i check the isElement variable, it doesn&#39;t show me whether it&#39;s True or False"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1460585015, "post_id": 36609845, "comment_id": 60817442, "body": "Could you show how are you using the <code>isElement</code> variable after? Thanks."}, {"owner": {"reputation": 1304, "user_id": 3132976, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/OgTDH.jpg?s=128&g=1", "display_name": "Pavel Zagalsky", "link": "https://stackoverflow.com/users/3132976/pavel-zagalsky"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1460585121, "post_id": 36609845, "comment_id": 60817492, "body": "I try to check it as a Bool and as a String and for both I see &#39;error, not defined&#39; under the watch in Visual Studio:           isElement = self.isElementPresent(&quot;//li[@class=&#39;badgeList__item&#39;][6]&quot;)          isElement1 = str(isElement)"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1460585372, "post_id": 36609845, "comment_id": 60817609, "body": "Could you please post the complete code you have so far, just to see the bigger picture?"}, {"owner": {"reputation": 1304, "user_id": 3132976, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/OgTDH.jpg?s=128&g=1", "display_name": "Pavel Zagalsky", "link": "https://stackoverflow.com/users/3132976/pavel-zagalsky"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1460585493, "post_id": 36609845, "comment_id": 60817654, "body": "Sure, give me a min. Ok, added"}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 5, "last_activity_date": 1460586006, "creation_date": 1460586006, "answer_id": 36610594, "question_id": 36609845, "link": "https://stackoverflow.com/questions/36609845/checking-if-html-element-exists-with-python-selenium/36610594#36610594", "title": "Checking if HTML element exists with Python Selenium", "body": "<p>You need to un-indent the last code block:</p>\n\n<pre><code>class runSelenium(object):\n\n    def __init__(self):\n        # define a class attribute\n        self.driver = webdriver.Firefox()\n\n    def isElementPresent(self, locator):\n        try:\n            self.driver.find_element_by_xpath(locator)\n        except NoSuchElementException:\n            print ('No such thing')\n            return False\n        return True\n\n    def selenium(self):\n        self.driver.get(\"https://somepage.com\")\n        isElement = self.isElementPresent(\"//li[@class='item'][6]\")\n        isElement1 = str(isElement)\n\n\nif __name__ == '__main__':\n    run = runSelenium()\n    run.selenium()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1304, "user_id": 3132976, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/OgTDH.jpg?s=128&g=1", "display_name": "Pavel Zagalsky", "link": "https://stackoverflow.com/users/3132976/pavel-zagalsky"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1460659699, "post_id": 36614165, "comment_id": 60858418, "body": "What is the issue you are seeing here?"}], "tags": [], "owner": {"reputation": 1304, "user_id": 3132976, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/OgTDH.jpg?s=128&g=1", "display_name": "Pavel Zagalsky", "link": "https://stackoverflow.com/users/3132976/pavel-zagalsky"}, "is_accepted": false, "score": -2, "last_activity_date": 1460609780, "creation_date": 1460609780, "answer_id": 36614165, "question_id": 36609845, "link": "https://stackoverflow.com/questions/36609845/checking-if-html-element-exists-with-python-selenium/36614165#36614165", "title": "Checking if HTML element exists with Python Selenium", "body": "<p>So I restarted the IDE (Visual Studio 2013) and it works now fine.. The code is correct 100%</p>\n"}], "owner": {"reputation": 1304, "user_id": 3132976, "user_type": "registered", "accept_rate": 34, "profile_image": "https://i.stack.imgur.com/OgTDH.jpg?s=128&g=1", "display_name": "Pavel Zagalsky", "link": "https://stackoverflow.com/users/3132976/pavel-zagalsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9328, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1559786813, "creation_date": 1460582716, "last_edit_date": 1559786813, "question_id": 36609845, "link": "https://stackoverflow.com/questions/36609845/checking-if-html-element-exists-with-python-selenium", "title": "Checking if HTML element exists with Python Selenium", "body": "<p>I am trying to check if an element exists on an HTML page with Selenium/Python.</p>\n\n<p>This is my function:</p>\n\n<pre><code>class runSelenium(object):\n\n    def __init__(self):\n        # define a class attribute\n        self.driver = webdriver.Firefox()\n\n    def isElementPresent(self, locator):\n        try:\n            self.driver.find_element_by_xpath(locator)\n        except NoSuchElementException:\n            print ('No such thing')\n            return False\n        return True\n\n    def selenium(self):\n        self.driver.get(\"https://somepage.com\")\n        isElement = self.isElementPresent(\"//li[@class='item'][6]\")\n        isElement1 = str(isElement)\n\n\n    if __name__ == '__main__':\n        run = runSelenium()\n        run.selenium()\n</code></pre>\n\n<p>I am trying to pick the result with a Boolean value but with no luck:</p>\n\n<pre><code>isElement = self.isElementPresent(\"//li[@class='item'][6]\")\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 21, "user_id": 5396848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cbb02e4bff484d390c80af120f414e8?s=128&d=identicon&r=PG&f=1", "display_name": "user5396848", "link": "https://stackoverflow.com/users/5396848/user5396848"}, "edited": false, "score": 0, "creation_date": 1460583509, "post_id": 36609871, "comment_id": 60816779, "body": "@user5396848: That output (garbled as it is) looks like instead of entering an empty line, you just went straight from <code>it_count += 1</code> to the <code>x, info = ...</code> line. You need to enter an empty line."}, {"owner": {"reputation": 21, "user_id": 5396848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cbb02e4bff484d390c80af120f414e8?s=128&d=identicon&r=PG&f=1", "display_name": "user5396848", "link": "https://stackoverflow.com/users/5396848/user5396848"}, "edited": false, "score": 0, "creation_date": 1460583668, "post_id": 36609871, "comment_id": 60816849, "body": "Thanks, I added a new empty line and the problem is fixed"}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "reply_to_user": {"reputation": 21, "user_id": 5396848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cbb02e4bff484d390c80af120f414e8?s=128&d=identicon&r=PG&f=1", "display_name": "user5396848", "link": "https://stackoverflow.com/users/5396848/user5396848"}, "edited": false, "score": 0, "creation_date": 1460586543, "post_id": 36609871, "comment_id": 60818073, "body": "@user5396848 If this answer <a href=\"http://stackoverflow.com/help/someone-answers\">addressed your problem</a>, please consider <a href=\"http://meta.stackexchange.com/questions/5234\">accepting it</a> by clicking on the check mark/tick to the left of the answer, turning it green. This marks the question as resolved to your satisfaction, and awards <a href=\"http://stackoverflow.com/help/whats-reputation\">reputation</a> both to you and the person who answered."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 0, "last_activity_date": 1460582842, "creation_date": 1460582842, "answer_id": 36609871, "question_id": 36609783, "link": "https://stackoverflow.com/questions/36609783/python-syntax-running-bempp/36609871#36609871", "title": "Python syntax (running bempp)", "body": "<p>In interactive mode, you need to enter an empty line to terminate multi-line statements. You entered a line with four spaces, which Python interprets as you wanting to continue your function <code>def</code>inition.</p>\n"}], "owner": {"reputation": 21, "user_id": 5396848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cbb02e4bff484d390c80af120f414e8?s=128&d=identicon&r=PG&f=1", "display_name": "user5396848", "link": "https://stackoverflow.com/users/5396848/user5396848"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 36609871, "answer_count": 1, "score": 1, "last_activity_date": 1460582842, "creation_date": 1460582470, "question_id": 36609783, "link": "https://stackoverflow.com/questions/36609783/python-syntax-running-bempp", "title": "Python syntax (running bempp)", "body": "<p>I tried to test a found code in the site of the bempp library (<a href=\"http://nbviewer.jupyter.org/github/bempp/tutorials/blob/master/notebooks/osrc_burton_miller.ipynb\" rel=\"nofollow\">http://nbviewer.jupyter.org/github/bempp/tutorials/blob/master/notebooks/osrc_burton_miller.ipynb</a>). It is a library implemented in python. I have problems when executing the following istructions :</p>\n\n<pre><code>from scipy.sparse.linalg import gmres\n\nit_count = 0\ndef iteration_counter(x):\nglobal it_count\nit_count += 1\n\nx, info = gmres(discrete_op, rhs_coefficients, callback=iteration_counter)\n</code></pre>\n\n<p>I got the following error message :</p>\n\n<pre><code>from scipy.sparse.linalg import gmres\n&gt;&gt;&gt; \n&gt;&gt;&gt; it_count = 0\n&gt;&gt;&gt; def iteration_counter(x):\n...     global it_count\n...     it_count += 1\n...     \n... x, info = gmres(discrete_op, rhs_coefficients, callback=iteration_counter)\n  File \"&lt;stdin&gt;\", line 5\n    x, info = gmres(discrete_op, rhs_coefficients, callback=iteration_counter)\n^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Could you help me solving this syntaxe problem please ?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 470, "user_id": 1842146, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/04ac28ee9add537d41b2bc2921b2d940?s=128&d=identicon&r=PG", "display_name": "Jordon Birk", "link": "https://stackoverflow.com/users/1842146/jordon-birk"}, "edited": false, "score": 0, "creation_date": 1460583055, "post_id": 36609714, "comment_id": 60816520, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/23109244/unicodedecodeerror-with-runserver\">Unicodedecodeerror with runserver</a>"}], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 1842146, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/04ac28ee9add537d41b2bc2921b2d940?s=128&d=identicon&r=PG", "display_name": "Jordon Birk", "link": "https://stackoverflow.com/users/1842146/jordon-birk"}, "is_accepted": false, "score": 0, "last_activity_date": 1460582857, "last_edit_date": 1495535635, "creation_date": 1460582857, "answer_id": 36609875, "question_id": 36609714, "link": "https://stackoverflow.com/questions/36609714/django-1-9-5-tutorial-error-runserver-py/36609875#36609875", "title": "Django 1.9.5 tutorial error runserver.py", "body": "<p>This is a common problem that emerges when a unicode character not found in ascii is encountered. There are solutions <a href=\"https://stackoverflow.com/questions/23109244/unicodedecodeerror-with-runserver\">here</a> and <a href=\"https://stackoverflow.com/questions/25324014/error-while-runing-django-app\">here</a></p>\n"}], "owner": {"reputation": 11, "user_id": 1832399, "user_type": "registered", "profile_image": "https://graph.facebook.com/706982488/picture?type=large", "display_name": "Marco Nori", "link": "https://stackoverflow.com/users/1832399/marco-nori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460582963, "creation_date": 1460582184, "question_id": 36609714, "link": "https://stackoverflow.com/questions/36609714/django-1-9-5-tutorial-error-runserver-py", "title": "Django 1.9.5 tutorial error runserver.py", "body": "<p>I'm reading the Django tutorial and I would try to code one my little example based on it.\nWhen I type:</p>\n\n<pre><code>python3 manage.py runserver\n</code></pre>\n\n<p>I had this error:</p>\n\n<pre><code>Unhandled exception in thread started by &lt;function check_errors.&lt;locals&gt;.wrapper at 0x103da9488&gt;\n</code></pre>\n\n<p>I have only one simple url with one \"Hello Wordl\" simple view. Could someone help me?\n(I'm running Python 3.5.1 and Django 1.9.5). </p>\n"}, {"tags": ["php", "python", "csv"], "comments": [{"owner": {"reputation": 12341, "user_id": 3678068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QWjMd.png?s=128&g=1", "display_name": "Fabricator", "link": "https://stackoverflow.com/users/3678068/fabricator"}, "edited": false, "score": 0, "creation_date": 1460582450, "post_id": 36609672, "comment_id": 60816236, "body": "please fix your python code&#39;s indentation"}, {"owner": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 0, "creation_date": 1460583777, "post_id": 36609672, "comment_id": 60816899, "body": "does the user that runs <code>apache</code> have write access to the folder <code>&#47;var&#47;www&#47;html</code>?"}, {"owner": {"reputation": 13, "user_id": 6054515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7530131aef392d6855c956f344d6925e?s=128&d=identicon&r=PG&f=1", "display_name": "Ak-21", "link": "https://stackoverflow.com/users/6054515/ak-21"}, "edited": false, "score": 0, "creation_date": 1460585392, "post_id": 36609672, "comment_id": 60817620, "body": "I tried exec(&#39;whoami&#39;)  Result = www-data     Then i gave all permissions to folder by                        &#39; sudo chmod 777 /var/www/html/&#39;. Then also not working...?"}, {"owner": {"reputation": 2371, "user_id": 1736344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e76ea018b54e89a188a6f8cf0c3e565?s=128&d=identicon&r=PG&f=1", "display_name": "nathan hayfield", "link": "https://stackoverflow.com/users/1736344/nathan-hayfield"}, "edited": false, "score": 0, "creation_date": 1460586576, "post_id": 36609672, "comment_id": 60818086, "body": "did you try:   python /home/ankit/anaconda/bin/python data_pull.py --q kunal          adding python before the command might help. just a guess. or maybe try shell_exec instead of exec. also you need to chmod /home/ankit/anaconda/bin/python instead of /var/www/html"}, {"owner": {"reputation": 13, "user_id": 6054515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7530131aef392d6855c956f344d6925e?s=128&d=identicon&r=PG&f=1", "display_name": "Ak-21", "link": "https://stackoverflow.com/users/6054515/ak-21"}, "edited": false, "score": 0, "creation_date": 1460610530, "post_id": 36609672, "comment_id": 60825179, "body": "Again same thing happening I tried both things Shell_exec() and gave permissions to /home/ankit/anaconda/bin/python."}, {"owner": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 0, "creation_date": 1460733858, "post_id": 36609672, "comment_id": 60895374, "body": "do you get <code>&#47;var&#47;www&#47;html</code> if you put <code>os.system(&#39;pwd&#39;)</code> or <code>print os.getcwd()</code> in your python script?"}, {"owner": {"reputation": 13, "user_id": 6054515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7530131aef392d6855c956f344d6925e?s=128&d=identicon&r=PG&f=1", "display_name": "Ak-21", "link": "https://stackoverflow.com/users/6054515/ak-21"}, "reply_to_user": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 0, "creation_date": 1460734588, "post_id": 36609672, "comment_id": 60895867, "body": "@Omar Yeah got the output like <code>&#47;var&#47;www&#47;html 0 ankit is here3</code> after adding <code>print os.system(&#39;pwd&#39;)</code>"}, {"owner": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 0, "creation_date": 1460735467, "post_id": 36609672, "comment_id": 60896455, "body": "if you type <code>print os.access(&#39;.&#39;, os.W_OK)</code> in your python script, does it print True?, if so, is there a chance that you already have a <code>youtube.csv</code> file in the <code>&#47;var&#47;www&#47;html</code> folder?, if you have a &#39;youtube.csv&#39; file, it may be owned by a different user so <code>www-data</code> will no be able to modify it, and you will have to delete it first"}, {"owner": {"reputation": 13, "user_id": 6054515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7530131aef392d6855c956f344d6925e?s=128&d=identicon&r=PG&f=1", "display_name": "Ak-21", "link": "https://stackoverflow.com/users/6054515/ak-21"}, "reply_to_user": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 0, "creation_date": 1460789647, "post_id": 36609672, "comment_id": 60914795, "body": "@Omar It returned &#39;True&#39;  but there is no file youtube.csv in folder <code>&#47;var&#47;www&#47;html&#47;</code>"}, {"owner": {"reputation": 164, "user_id": 5970630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-meyscJCPwT4/AAAAAAAAAAI/AAAAAAAAAbM/o2JRxCZ0Kbc/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/5970630/omar"}, "edited": false, "score": 0, "creation_date": 1461077690, "post_id": 36609672, "comment_id": 61028684, "body": "I&#39;m running out of ideas, maybe surround your code with a try catch to see what&#39;s the exception <code>try:    #your_code  except:    print sys.exc_info()[1]</code>"}], "owner": {"reputation": 13, "user_id": 6054515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7530131aef392d6855c956f344d6925e?s=128&d=identicon&r=PG&f=1", "display_name": "Ak-21", "link": "https://stackoverflow.com/users/6054515/ak-21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1491633369, "creation_date": 1460581980, "last_edit_date": 1460610362, "question_id": 36609672, "link": "https://stackoverflow.com/questions/36609672/cant-create-csv-file-by-python-in-php-script", "title": "can&#39;t create .csv file by python in php script", "body": "<p>I have python code and i am running it from the php script.</p>\n\n<p>PHP code:</p>\n\n<pre><code>&lt;?php\nif(isset($_POST['submit'])) /* i.e. the PHP code is executed only when someone presses Submit button in the below given HTML Form */\n{\n$var = $_POST['any_name'];   // Here $var is the input taken from user.\n}\n\n$last=exec('/home/ankit/anaconda/bin/python data_pull.py --q kunal',$output,$return);\necho $last;\n?&gt;\n\n&lt;form action=\"&lt;?php echo $_SERVER['PHP_SELF']; ?&gt;\" method=\"POST\"&gt;\n&lt;input type=\"text\" name=\"any_name\"&gt;\n&lt;input type=\"submit\" name=\"submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code> from apiclient.discovery import build      #pip install google-api-python-client\nfrom apiclient.errors import HttpError      #pip install google-api-python-client\nfrom oauth2client.tools import argparser    #pip install oauth2client\nimport pandas as pd                 #pip install pandas\nimport csv\nimport sys \n\nDEVELOPER_KEY = \"key here\" \nYOUTUBE_API_SERVICE_NAME = \"youtube\"\nYOUTUBE_API_VERSION = \"v3\"\n\n\n#ALS Ice Bucket Challenge\n\nargparser.add_argument(\"--q\", help=\"Search term\", default = 'bollywood')\n                #change the default to the search term you want to search\nargparser.add_argument(\"--max-results\", help=\"Max results\", default=40)\n                #default number of results which are returned. It can vary from 0 - 100\nargs = argparser.parse_args()\noptions = args\n\nyoutube = build(YOUTUBE_API_SERVICE_NAME, YOUTUBE_API_VERSION, developerKey=DEVELOPER_KEY)\n\n# Call the search.list method to retrieve results matching the specified\n # query term.\nsearch_response = youtube.search().list(\n q=options.q,\n type=\"video\",\n part=\"id,snippet\",\n maxResults=options.max_results\n).execute()\n\nvideos = {}\n\n# Add each result to the appropriate list, and then display the lists of\n # matching videos.\n # Filter out channels, and playlists.\nfor search_result in search_response.get(\"items\", []):\n if search_result[\"id\"][\"kind\"] == \"youtube#video\":\n #videos.append(\"%s\" % (search_result[\"id\"][\"videoId\"]))\n    videos[search_result[\"id\"][\"videoId\"]] = search_result[\"snippet\"][\"title\"]\n\n#print \"Videos:\\n\", \"\\n\".join(videos), \"\\n\"\n\ns = ','.join(videos.keys())\n\n\nvideos_list_response = youtube.videos().list(\n id=s,\n part='id,statistics,snippet'\n).execute()\n\n\nres = []\nfor i in videos_list_response['items']:\n temp_res = dict(v_id = i['id'], v_title = videos[i['id']])\n temp_res.update(i['statistics'])\n temp_res.update(i['snippet'])\n res.append(temp_res)\n\npd.DataFrame.from_dict(res)\nprint 'ankit is here3'\n#print res\n\nf=open('youtube.csv', 'w')\nw=csv.writer(f)\nprint 'ankit is here3'\n\"\"\"\nfor r in res:\n#with open('youtube.csv', 'wb') as f:  # Just use 'w' mode in 3.x\n    w = csv.DictWriter(f,r.keys())\n    w.writeheader()\n    w.writerow(res)\n\nrow=[]\nfor key, value in res[0].iteritems() :\n    row.append(key)\nw.writerow(row)\nprint row\n\n\"\"\"\n#print res\n\nprint 'ankit is here3'\nfor r in res:\n    row=[]\n    small_row=''\n    if 'commentCount' in r.keys():\n        item=r['commentCount'].encode(\"ascii\")\n        row.append(item)\n    else:\n        row.append('0')\n    item=r['viewCount'].encode(\"ascii\") \n    #row.append(r['viewCount'].encode(\"ascii\"))\n    row.append(item)\n    #row.append(r['v_title'].encode(\"ascii\"))\n    item=r['v_title'].encode('ascii','ignore')\n    row.append(item)\n    #row.append(r['dislikeCount'].encode(\"ascii\"))  \n    if 'dislikeCount' in r.keys():\n        item=r['dislikeCount'].encode(\"ascii\")\n        row.append(item)\n    else:\n        row.append('0') \n    #item=r['dislikeCount'].encode(\"ascii\")\n    #row.append(item)\n    #row.append(r['v_id'].encode(\"ascii\"))\n    item=r['v_id'].encode(\"ascii\")\n    row.append(item)\n    #row.append(r['favoriteCount'].encode(\"ascii\"))\n    item=r['favoriteCount'].encode(\"ascii\") \n    row.append(item)\n    #row.append(r['likeCount'].encode(\"ascii\"))\n    #item=r['likeCount'].encode(\"ascii\")    \n    #row.append(item)\n    if 'likeCount' in r.keys():\n        item=r['likeCount'].encode(\"ascii\")\n        row.append(item)\n    else:\n        row.append('0')\n    if 'tags' in r.keys():      \n        for t in r['tags']:\n            t=t.encode(\"ascii\",'ignore')\n            small_row = small_row + '/' + t \n        row.append(small_row)\n    else:\n        row.append('0')\n    #row.append(r['channelId'])\n    #row.append(r['categoryId'])\n    #row.append(r['thumbnails'])\n    w.writerow(row)\n    print row\n</code></pre>\n\n<p>Actually i am writing a csv file in code for further use. The code is working fine without being in php, but it's not creating any file while running in php in folder <code>/var/www/html/</code>.</p>\n\n<p>The output while running in php is:</p>\n\n<pre><code>ankit is here3\n</code></pre>\n\n<p>I am not getting the error.</p>\n"}, {"tags": ["python", "docker", "pip", "requirements.txt"], "comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1460582411, "post_id": 36609656, "comment_id": 60816211, "body": "Different versions of pip, maybe?  What version are you running locally?  What version is in use in your container?  What if you upgrade pip first (<code>pip install -U pip</code>)?"}, {"owner": {"reputation": 8583, "user_id": 1073772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAyoy.jpg?s=128&g=1", "display_name": "Mano Marks", "link": "https://stackoverflow.com/users/1073772/mano-marks"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 1, "creation_date": 1460595210, "post_id": 36609656, "comment_id": 60820798, "body": "Can you post your Dockerfile? Likely there&#39;s a config issue as implied by @larsks"}], "answers": [{"tags": [], "owner": {"reputation": 177, "user_id": 5062232, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-PwEAMKhZhZo/AAAAAAAAAAI/AAAAAAAACKc/R3ILkjzb6w4/photo.jpg?sz=128", "display_name": "Ozzie Ghani", "link": "https://stackoverflow.com/users/5062232/ozzie-ghani"}, "is_accepted": false, "score": 0, "last_activity_date": 1530938267, "creation_date": 1530938267, "answer_id": 51219964, "question_id": 36609656, "link": "https://stackoverflow.com/questions/36609656/docker-congifparser-error-in-requirements-txt/51219964#51219964", "title": "Docker / congifparser error in requirements.txt", "body": "<p><strong>Following will work with docker</strong></p>\n\n<p>app.py</p>\n\n<pre><code>from configparser import ConfigParser\nconfig = ConfigParser()\nconfig.read('app.conf')\n_var = config.get(\u2018Section\u2019, 'Status')\n\nprint (_var)\n</code></pre>\n\n<p>requirements.txt</p>\n\n<pre><code>configparser\n</code></pre>\n\n<p><strong>Following will work locally</strong></p>\n\n<p>app.py</p>\n\n<pre><code>import ConfigParser\nconfig = ConfigParser.ConfigParser()\nconfig.read('app.conf')\n_var = config.get(\u2018Section\u2019, 'Status')\n\nprint (_var)\n</code></pre>\n"}], "owner": {"reputation": 12191, "user_id": 237696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/cUqoH.jpg?s=128&g=1", "display_name": "mr-sk", "link": "https://stackoverflow.com/users/237696/mr-sk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530938267, "creation_date": 1460581946, "last_edit_date": 1502281747, "question_id": 36609656, "link": "https://stackoverflow.com/questions/36609656/docker-congifparser-error-in-requirements-txt", "title": "Docker / congifparser error in requirements.txt", "body": "<p>In my code I'm using configparser: </p>\n\n<pre><code>from configparser import ConfigParser\n</code></pre>\n\n<p>And I'm using pip freeze to generate my requirements.txt</p>\n\n<pre><code>pip freeze &gt; requirements.txt\n</code></pre>\n\n<p>And for configparser it's writing</p>\n\n<pre><code>configparser==3.3.0.post2\n</code></pre>\n\n<p>But that fails when I do a <code>pip install -r requirements.txt</code> from within the docker container via a docker build:</p>\n\n<pre><code>docker build -t denzel .\n\nDownloading/unpacking configparser==3.3.0.post2 (from -r /home/denzel/requirements.txt (line 2))\nCould not find a version that satisfies the requirement configparser==3.3.0.post2 (from -r /home/denzel/requirements.txt (line 2)) (from versions: 3.2.0r1, 3.2.0r2, 3.2.0r3, 3.3.0r1, 3.3.0r2, 3.5.0b1, 3.5.0b2)\nCleaning up...\nNo distributions matching the version for configparser==3.3.0.post2 (from -r /home/denzel/requirements.txt (line 2))\n</code></pre>\n\n<p>But this works locally via <code>pip install</code>:</p>\n\n<pre><code> pip install -r requirements.txt\nRequirement already satisfied (use --upgrade to upgrade): aniso8601==1.1.0 in ./env/lib/python2.7/site-packages (from -r requirements.txt (line 1))\nRequirement already satisfied (use --upgrade to upgrade): configparser==3.3.0.post2 in ./env/lib/python2.7/site-packages (from -r requirements.txt (line 2))\n....\n....\n</code></pre>\n\n<p>NOTE: I fixed this by removing the version and just using <code>configparser</code>, no version. Still wanted to post my question to get the reason why it's failing. </p>\n"}, {"tags": ["python", "logfile"], "comments": [{"owner": {"reputation": 1212, "user_id": 1357569, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9a56d8ad2f580fe42feef606f94df993?s=128&d=identicon&r=PG", "display_name": "Rumbles", "link": "https://stackoverflow.com/users/1357569/rumbles"}, "edited": false, "score": 0, "creation_date": 1460582395, "post_id": 36609632, "comment_id": 60816203, "body": "You probably want to start reading into python regular expression usage, the re module will probably get all the info out of the line you&#39;re after. Learning how to write a regex can be a steep learning curve but will pay off massively in the long run. Log analyser programs like logstash use regex heavily to extract info"}], "answers": [{"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1460582539, "creation_date": 1460582539, "answer_id": 36609799, "question_id": 36609632, "link": "https://stackoverflow.com/questions/36609632/extracting-data-from-lines-of-log-file-in-python/36609799#36609799", "title": "Extracting data from lines of log file in python", "body": "<p>A simple regex can extract that. </p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = '''67.15.143.7 - - [02/Jan/2015:08:12] \"GET/click?article_id=25&amp;user_id=104 HTTP/1.1\" 200 2327\n... 67.15.143.7 - - [02/Jan/2015:08:12] \"GET/click?article_id=211&amp;user_id=9408 HTTP/1.1\" 200 380'''\n&gt;&gt;&gt; re.findall('\\[(.*?)\\].*?article_id=(\\d+).*?user_id=(\\d+)',s)\n[('02/Jan/2015:08:12', '25', '104'), ('02/Jan/2015:08:12', '211', '9408')]\n</code></pre>\n\n<p>Use <code>re.search</code> instead of <code>re.findall</code> if you want to apply the pattern to individual lines.</p>\n"}, {"tags": [], "owner": {"reputation": 9105, "user_id": 5019169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5d546860aba145b8c0450455f447cc88?s=128&d=identicon&r=PG&f=1", "display_name": "Ahsanul Haque", "link": "https://stackoverflow.com/users/5019169/ahsanul-haque"}, "is_accepted": false, "score": 1, "last_activity_date": 1460582587, "creation_date": 1460582587, "answer_id": 36609813, "question_id": 36609632, "link": "https://stackoverflow.com/questions/36609632/extracting-data-from-lines-of-log-file-in-python/36609813#36609813", "title": "Extracting data from lines of log file in python", "body": "<pre><code>import re\nresult = re.findall(r'.*\\[(.+)\\].+article\\_id\\=(\\d+)\\&amp;user_id\\=(\\d+).*',your_string) \n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6200486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c820bec2f5e8ffe1879c307dada0b24?s=128&d=identicon&r=PG&f=1", "display_name": "Ryueisan", "link": "https://stackoverflow.com/users/6200486/ryueisan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1460582587, "creation_date": 1460581854, "last_edit_date": 1460582328, "question_id": 36609632, "link": "https://stackoverflow.com/questions/36609632/extracting-data-from-lines-of-log-file-in-python", "title": "Extracting data from lines of log file in python", "body": "<p>I need to extract time(02/Jan/2015:08:12), article_id, and user_id</p>\n\n<p>line format looks like this:</p>\n\n<pre><code>67.15.143.7 - - [02/Jan/2015:08:12] \"GET/click?article_id=25&amp;user_id=104 HTTP/1.1\" 200 2327\n67.15.143.7 - - [02/Jan/2015:08:12] \"GET/click?article_id=211&amp;user_id=9408 HTTP/1.1\" 200 380\n</code></pre>\n\n<p>I'm a beginner and I did search on google and stack overflow, but I haven't find the way to solve it. Can anyone help me? Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1460581918, "post_id": 36609626, "comment_id": 60815939, "body": "Why do you say it doesn&#39;t work? It should work fine."}, {"owner": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "edited": false, "score": 0, "creation_date": 1460581945, "post_id": 36609626, "comment_id": 60815959, "body": "Try renaming <code>str</code> to something that doesn&#39;t collide with built-in names."}, {"owner": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "edited": false, "score": 1, "creation_date": 1460582033, "post_id": 36609626, "comment_id": 60816002, "body": "Please, reformat your code to indicate that <code>__enter__</code> and <code>__exit__</code> are methods within class, not just functions."}, {"owner": {"reputation": 466, "user_id": 6036363, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vuW8b.png?s=128&g=1", "display_name": "tmsblgh", "link": "https://stackoverflow.com/users/6036363/tmsblgh"}, "edited": false, "score": 0, "creation_date": 1460582180, "post_id": 36609626, "comment_id": 60816086, "body": "Sorry, I missed error message.. I renamed str to cd_path but it still not work"}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 6036363, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vuW8b.png?s=128&g=1", "display_name": "tmsblgh", "link": "https://stackoverflow.com/users/6036363/tmsblgh"}, "edited": false, "score": 0, "creation_date": 1460614218, "post_id": 36609882, "comment_id": 60826570, "body": "You are right, I leave &#39;cd&#39; right there, I should have copy my own code.."}], "tags": [], "owner": {"reputation": 199, "user_id": 1301258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RC3Wx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1301258/sam"}, "is_accepted": true, "score": 3, "last_activity_date": 1460582879, "creation_date": 1460582879, "answer_id": 36609882, "question_id": 36609626, "link": "https://stackoverflow.com/questions/36609626/how-to-pass-string-as-variable-in-python/36609882#36609882", "title": "How to pass string as variable in Python?", "body": "<p>Your example code seems to work as it should. I can only duplicate your error if I added 'cd' to the value of <code>str</code> such that it tried to change to a directory called 'cd ~/Library'. That is also what seems to have happened based on the error message you show.</p>\n\n<p>Broken</p>\n\n<pre><code>str = \"cd ~/Library\"\nwith cd(str):\n   subprocess.call(\"ls\")\n</code></pre>\n\n<p>Fine</p>\n\n<pre><code>str = \"~/Library\"\nwith cd(str):\n   subprocess.call(\"ls\")\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 6036363, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vuW8b.png?s=128&g=1", "display_name": "tmsblgh", "link": "https://stackoverflow.com/users/6036363/tmsblgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "closed_date": 1460908062, "accepted_answer_id": 36609882, "answer_count": 1, "score": 1, "last_activity_date": 1461073830, "creation_date": 1460581825, "last_edit_date": 1495540777, "question_id": 36609626, "link": "https://stackoverflow.com/questions/36609626/how-to-pass-string-as-variable-in-python", "closed_reason": "Not suitable for this site", "title": "How to pass string as variable in Python?", "body": "<p>I used Context Manager: cd from here: <a href=\"https://stackoverflow.com/questions/431684/how-do-i-cd-in-python/13197763#13197763\">How do I &quot;cd&quot; in Python?</a></p>\n\n<pre><code>import os\n\nclass cd:\n    \"\"\"Context manager for changing the current working directory\"\"\"\n    def __init__(self, newPath):\n        self.newPath = os.path.expanduser(newPath)\n\n    def __enter__(self):\n        self.savedPath = os.getcwd()\n        os.chdir(self.newPath)\n\n    def __exit__(self, etype, value, traceback):\n        os.chdir(self.savedPath)\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>import subprocess # just to call an arbitrary command e.g. 'ls'\n\n# enter the directory like this:\nwith cd(\"~/Library\"):\n   # we are in ~/Library\n   subprocess.call(\"ls\")\n\n# outside the context manager we are back wherever we started.\n</code></pre>\n\n<p>Why not work this code if I use like this:</p>\n\n<pre><code>str = \"~/Library\"\n\nwith cd(str):\n   subprocess.call(\"ls\")\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>OSError: [Errno 2] No such file or directory: 'cd ~/Library'\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "memory-leaks", "memory-profiling"], "comments": [{"owner": {"reputation": 5032, "user_id": 808044, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/27b5ac1b681853e7b87e811445865d02?s=128&d=identicon&r=PG", "display_name": "m-ric", "link": "https://stackoverflow.com/users/808044/m-ric"}, "edited": false, "score": 0, "creation_date": 1470842761, "post_id": 36609625, "comment_id": 65116464, "body": "Good question! I am getting started with muppy and have similar questions popping up in my head :-?"}, {"owner": {"reputation": 335, "user_id": 1712447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e562e2ff4b6d0fc005895c3a710e7cfa?s=128&d=identicon&r=PG", "display_name": "lucid_dreamer", "link": "https://stackoverflow.com/users/1712447/lucid-dreamer"}, "edited": false, "score": 0, "creation_date": 1526912227, "post_id": 36609625, "comment_id": 87914714, "body": "No replies. <i>Sigh</i>"}], "answers": [{"tags": [], "owner": {"reputation": 28156, "user_id": 1026, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea331e778d54effc15b5fbc694bc8232?s=128&d=identicon&r=PG", "display_name": "Nickolay", "link": "https://stackoverflow.com/users/1026/nickolay"}, "is_accepted": false, "score": 2, "last_activity_date": 1608035034, "last_edit_date": 1608035034, "creation_date": 1565594718, "answer_id": 57457100, "question_id": 36609625, "link": "https://stackoverflow.com/questions/36609625/pympler-summary-doesnt-seem-to-make-sense/57457100#57457100", "title": "Pympler summary doesn&#39;t seem to make sense", "body": "<h1>1 <code>get_objects</code> in a new Python session</h1>\n<p><code>summary.summarize(muppy.get_objects())</code> returns any objects instantiated during the startup and while <code>from pympler import summary, muppy</code> ran, which explains the large counts.</p>\n<h1>2 The difference between two <code>get_objects</code> invocations</h1>\n<h2>2.1. Lots of new objects we didn't create</h2>\n<p>Remember that the <code>sum</code> object generated by <code>summary.summarize()</code> was created after the first snapshot, which explains &quot;thousands of new strings and lists&quot;. You can fix this by rewriting your test as:</p>\n<pre><code>from pympler import summary, muppy\no1 = muppy.get_objects()\na = {}\nb = {}\nc = {}\nd = {'a': [0, 0, 1, 2], 't': [3, 3, 3, 1]}\no2 = muppy.get_objects()\nsummary.print_(summary.get_diff(summary.summarize(o1), summary.summarize(o2)))\n</code></pre>\n<p>This will reduce the extraneous diffs to the large list for <code>o1</code>, and a couple of other objects:</p>\n<pre><code>&gt;&gt;&gt; for o in diff['+']:\n...     print(&quot;%s - %s&quot; % (type(o), o if len(o) &lt; 10 else &quot;long list&quot;))\n...\n&lt;class 'str'&gt; - o2\n&lt;class 'list'&gt; - long list\n&lt;class 'dict'&gt; - {'a': [0, 0, 1, 2], 't': [3, 3, 3, 1]}\n&lt;class 'list'&gt; - ['o2', 'muppy', 'get_objects']\n&lt;class 'list'&gt; - [0, 0, 1, 2]\n&lt;class 'list'&gt; - [3, 3, 3, 1]\n</code></pre>\n<h2>2.2. The mismatch in the number of dicts created and reported</h2>\n<p>To understand this, we need to know what exactly pympler is inspecting.</p>\n<p><code>muppy.get_objects</code> implementation <a href=\"https://github.com/pympler/pympler/blob/97610ee48f04be0fbe09ffed0b574f3a763ecd52/pympler/muppy.py#L20\" rel=\"nofollow noreferrer\">relies</a> on</p>\n<ul>\n<li>Python's <code>gc.get_objects()</code>, which is &quot;a list of all objects tracked by the collector&quot; (<a href=\"https://docs.python.org/3/library/gc.html#gc.is_tracked\" rel=\"nofollow noreferrer\"><code>gc.is_tracked</code></a>), except stack frames.\n<blockquote>\n<p>instances of atomic types aren\u2019t tracked and instances of non-atomic types (containers, user-defined objects\u2026) are. However, some type-specific optimizations can be present in order to suppress the garbage collector footprint of simple instances (e.g. <strong>dicts containing only atomic keys and values</strong>)</p>\n</blockquote>\n</li>\n<li>Then it adds the objects that are referred (<a href=\"https://docs.python.org/3/library/gc.html#gc.get_referents\" rel=\"nofollow noreferrer\">gc.get_referents</a>) from the objects obtained at step 1, but <a href=\"https://github.com/pympler/pympler/blob/97610ee48f04be0fbe09ffed0b574f3a763ecd52/pympler/muppy.py#L47\" rel=\"nofollow noreferrer\">excluding</a> &quot;container objects&quot; - those that have <a href=\"https://docs.python.org/3/c-api/typeobj.html#Py_TPFLAGS_HAVE_GC\" rel=\"nofollow noreferrer\">Py_TPFLAGS_HAVE_GC</a> in their type's <code>__flags__</code>. (This seems to be a bug, since excluding all container objects misses the &quot;simple instances&quot; of container types, that are not GC-tracked. <strong>update</strong> <a href=\"https://github.com/pympler/pympler/commit/62df1f5ba695b2ddebf3612f2307b5527c16800f\" rel=\"nofollow noreferrer\">Should be fixed</a> in v0.8 released 2019-11-12)</li>\n</ul>\n<p>If you store the object list <code>o2</code> as suggested above and check which objects are accounted for using:</p>\n<pre><code>def tracked(obj_list, obj):\n    import gc\n    return {&quot;tracked_by_muppy&quot;: any(id(item) == id(obj) for item in obj_list),\n            &quot;gc_tracked&quot;: gc.is_tracked(obj)}\n</code></pre>\n<p>You'll see that:</p>\n<ul>\n<li><p>Empty dicts are not GC-tracked and as they are only referred to from local variables, they are not accounted for by muppy:</p>\n<pre><code>  tracked(o2, a)  # =&gt; {'tracked_by_muppy': False, 'gc_tracked': False}\n</code></pre>\n</li>\n<li><p>The non-trivial dict <code>d</code> <em>is</em> GC-tracked and thus appears in muppy report:</p>\n<pre><code>  tracked(o2, d)  # =&gt; {'tracked_by_muppy': True, 'gc_tracked': True}\n</code></pre>\n</li>\n</ul>\n"}], "owner": {"reputation": 379, "user_id": 6096125, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6c1ea677c6c5b51055871516c22c43e1?s=128&d=identicon&r=PG&f=1", "display_name": "itf", "link": "https://stackoverflow.com/users/6096125/itf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1608035034, "creation_date": 1460581824, "last_edit_date": 1461286128, "question_id": 36609625, "link": "https://stackoverflow.com/questions/36609625/pympler-summary-doesnt-seem-to-make-sense", "title": "Pympler summary doesn&#39;t seem to make sense", "body": "<p>I'm doing some sanity checks with Pympler to make sure that I understand results when I try to profile an actual script, but I'm a bit puzzled at the results. Here are the sanity checks I've tried:</p>\n\n<p>SANITY CHECK 1: I fire up a Python (3) console and do the following:</p>\n\n<pre><code>from pympler import summary, muppy\nsum = summary.summarize(muppy.get_objects())\nsummary.print_(sum)\n</code></pre>\n\n<p>This results in the following summary:</p>\n\n<pre><code>                               types |   # objects |   total size\n==================================== | =========== | ============\n                         &lt;class 'str |       16047 |      1.71 MB\n                        &lt;class 'dict |        2074 |      1.59 MB\n                        &lt;class 'type |         678 |    678.27 KB\n                        &lt;class 'code |        4789 |    673.68 KB\n                         &lt;class 'set |         464 |    211.00 KB\n                        &lt;class 'list |        1319 |    147.16 KB\n                       &lt;class 'tuple |        1810 |    120.03 KB\n                     &lt;class 'weakref |        1269 |     99.14 KB\n          &lt;class 'wrapper_descriptor |        1124 |     87.81 KB\n  &lt;class 'builtin_function_or_method |         918 |     64.55 KB\n                 &lt;class 'abc.ABCMeta |          64 |     62.25 KB\n           &lt;class 'method_descriptor |         877 |     61.66 KB\n                         &lt;class 'int |        1958 |     58.88 KB\n           &lt;class 'getset_descriptor |         696 |     48.94 KB\n                 function (__init__) |         306 |     40.64 KB\n</code></pre>\n\n<p>If I've just fired up a new Python session, how are there all these strings, dictionaries, lists etc. in memory already? I don't think that Pympler is summarizing the results across all sessions (that would make no sense, but it's the only possibility I could think of).</p>\n\n<p>SANITY CHECK 2: Since I don't quite understand the summary results of a tabula rasa Python session, let's look at the difference in summary after I've defined a few variables/data structures. I fire up another console and do the following:</p>\n\n<pre><code>from pympler import summary, muppy\nsum = summary.summarize(muppy.get_objects())\na = {}\nb = {}\nc = {}\nd = {'a': [0, 0, 1, 2], 't': [3, 3, 3, 1]}\nsum1 = summary.summarize(muppy.get_objects())\nsummary.print_(summary.get_diff(sum, sum1))\n</code></pre>\n\n<p>This results in the following summary:</p>\n\n<pre><code>                         types |   # objects |   total size\n============================== | =========== | ============\n                  &lt;class 'list |        3247 |    305.05 KB\n                   &lt;class 'str |        3234 |    226.04 KB\n                   &lt;class 'int |         552 |     15.09 KB\n                  &lt;class 'dict |           1 |    480     B\n              function (_keys) |           0 |      0     B\n           function (get_path) |           0 |      0     B\n          function (http_open) |           0 |      0     B\n            function (memoize) |           0 |      0     B\n                function (see) |           0 |      0     B\n           function (recvfrom) |           0 |      0     B\n              function (rfind) |           0 |      0     B\n      function (wm_focusmodel) |           0 |      0     B\n    function (_parse_makefile) |           0 |      0     B\n  function (_decode_pax_field) |           0 |      0     B\n             function (__gt__) |           0 |      0     B\n</code></pre>\n\n<p>I thought I'd just initialized four new dictionaries (albeit 3 are empty), so why does Muppy show a difference of only 1 new dictionary object? Furthermore, why are there thousands of new strings and lists, not to mention the ints?</p>\n\n<p>SANITY CHECK 3: Yet again, I start a new Python session but this time want to see how Pympler handles more complex data types like a list of dictionaries.</p>\n\n<pre><code>from pympler import muppy, summary\nsum = summary.summarize(muppy.get_objects())\na = [{}, {}, {}, {'a': [0, 0, 1, 2], 't': [3, 3, 3, 1]}, {'a': [1, 2, 3, 4]}]\nsum1 = summary.summarize(muppy.get_objects())\nsummary.print_(summary.get_diff(sum, sum1))\n</code></pre>\n\n<p>Which results in the following summary:</p>\n\n<pre><code>                                                types |   # objects |   total size\n===================================================== | =========== | ============\n                                         &lt;class 'list |        3233 |    303.88 KB\n                                          &lt;class 'str |        3270 |    230.71 KB\n                                          &lt;class 'int |         554 |     15.16 KB\n                                         &lt;class 'dict |          10 |      5.53 KB\n                                         &lt;class 'code |          16 |      2.25 KB\n                                         &lt;class 'type |           2 |      1.98 KB\n                                        &lt;class 'tuple |           6 |    512     B\n                            &lt;class 'getset_descriptor |           4 |    288     B\n                                  function (__init__) |           2 |    272     B\n  &lt;class '_frozen_importlib_external.SourceFileLoader |           3 |    168     B\n                 &lt;class '_frozen_importlib.ModuleSpec |           3 |    168     B\n                                      &lt;class 'weakref |           2 |    160     B\n                                  function (__call__) |           1 |    136     B\n                                      function (Find) |           1 |    136     B\n                                  function (&lt;lambda&gt;) |           1 |    136     B\n</code></pre>\n\n<p>Even though the lists and dictionaries are nested a bit convoluted, by my count I added 5 new dictionaries and four new lists.</p>\n\n<p>Can someone explain how Muppy is counting objects?</p>\n"}, {"tags": ["python", "django", "django-models", "django-forms"], "answers": [{"tags": [], "owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "is_accepted": true, "score": 1, "last_activity_date": 1460582296, "creation_date": 1460582296, "answer_id": 36609739, "question_id": 36609555, "link": "https://stackoverflow.com/questions/36609555/how-to-iterate-specific-table-column-in-django-form/36609739#36609739", "title": "How to iterate specific table column in django form", "body": "<p>I don't have a chance to try it, but if you want to show a different display for <code>ModelChoiceField</code> other than using <code>__unicode__</code>, you can define your own form field. It inherits from <code>ModelChoiceField</code>, but override <code>label_from_instance</code> method:</p>\n\n<pre><code>class LanguageChoiceField(forms.ModelChoiceField):\n    def __init__(self, *args, **kwargs):\n        self.language = kwargs.pop('language', None)\n        super(LanguageChoiceField, self).__init__(*args, **kwargs)\n\n    def label_from_instance(self, obj):\n         # return the field you want to display\n         if self.language:\n             return getattr(obj, self.language)\n         return obj.en\n\nclass RegistrationForm(forms.ModelForm):\n    # your code\n    self.fields['native'] = LanguageChoiceField(language=this_language, queryset=...)\n</code></pre>\n"}], "owner": {"reputation": 199, "user_id": 1177021, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/784407194/picture?type=large", "display_name": "Graeme MacFarlane", "link": "https://stackoverflow.com/users/1177021/graeme-macfarlane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 1, "accepted_answer_id": 36609739, "answer_count": 1, "score": 1, "last_activity_date": 1460582296, "creation_date": 1460581502, "question_id": 36609555, "link": "https://stackoverflow.com/questions/36609555/how-to-iterate-specific-table-column-in-django-form", "title": "How to iterate specific table column in django form", "body": "<p>I have a select menu which shows a list of foreign languages in English.  I would like to show the list in Spanish or Japanese depending on which language the site is currently being viewed in.</p>\n\n<p>The form on my template page renders en (English) by default. This is what it looks like in my template page:</p>\n\n<pre><code>{{ form.native }}\n</code></pre>\n\n<p>My form knows the current language the site is being viewed in from the \"this_language\" parameter. My form looks like this:</p>\n\n<pre><code>class RegistrationForm(forms.ModelForm):\n\n    def __init__(self,*args,**kwargs):\n\n        if 'this_language' in kwargs:\n            this_language = kwargs.pop('this_language')\n            super(RegistrationForm, self).__init__(*args, **kwargs)\n            self.fields['native'] = forms.ModelChoiceField(queryset=Language.objects.all().order_by(this_language), empty_label=_('Please select'))\n</code></pre>\n\n<p>The model looks like this:</p>\n\n<pre><code>class Language(models.Model):\n    en = models.CharField(max_length=250)\n    es = models.CharField(max_length=250, null=True)\n    ja = models.CharField(max_length=250, null=True)\n\n    def __unicode__(self):\n        return self.en\n</code></pre>\n\n<p>I noticed I can change \"return self.en\" in the model to either es or js and i get the desired result. </p>\n\n<p>But is it possible to do this dynamically in the template page or in the forms.py?</p>\n"}, {"tags": ["python", "arrays", "indices"], "comments": [{"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1460582001, "post_id": 36609547, "comment_id": 60815990, "body": "the issue is that you are trying to find the nearest item, but multiple times, so how many do you want? because if for example, every time we find the nearest we remove it from the list, then we can continue, and so on, but one must set a limit, otherwise one would end up with all the values at the end...."}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1460582079, "post_id": 36609547, "comment_id": 60816027, "body": "for the duplicates, it&#39;s simple, it&#39;s the index of all the values equal to the nearest just found, and so on."}, {"owner": {"reputation": 2953, "user_id": 2790838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1b32a4c6109138b1260310a7662f3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/2790838/markus"}, "edited": false, "score": 0, "creation_date": 1460582426, "post_id": 36609547, "comment_id": 60816218, "body": "You&#39;re looking for the n closest numbers, or all numbers within an interval [x-d, x+d]?"}, {"owner": {"reputation": 41, "user_id": 6200686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83d47f6f6029139a68b76695a09597b?s=128&d=identicon&r=PG&f=1", "display_name": "WXNerd", "link": "https://stackoverflow.com/users/6200686/wxnerd"}, "edited": false, "score": 0, "creation_date": 1460676824, "post_id": 36609547, "comment_id": 60866585, "body": "Given an array of values, find all the values from an array closest to a user given number.  For all the close values the code finds, return those indices."}, {"owner": {"reputation": 4446, "user_id": 5717589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebac146fb4581d2fdf6e788faf2fea15?s=128&d=identicon&r=PG&f=1", "display_name": "ptrj", "link": "https://stackoverflow.com/users/5717589/ptrj"}, "edited": false, "score": 1, "creation_date": 1460694314, "post_id": 36609547, "comment_id": 60871173, "body": "@WXNerd Does &quot;closest&quot; mean literally &quot;the closest&quot; or maybe &quot;within some tolerance interval&quot;? Judging on the values you provided, it may be the latter."}, {"owner": {"reputation": 41, "user_id": 6200686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83d47f6f6029139a68b76695a09597b?s=128&d=identicon&r=PG&f=1", "display_name": "WXNerd", "link": "https://stackoverflow.com/users/6200686/wxnerd"}, "edited": false, "score": 0, "creation_date": 1460841237, "post_id": 36609547, "comment_id": 60931181, "body": "After more information about the project, it seems a better option would be to break up the array into multiple arrays and then find the closest value from a number given by the user, for each smaller array."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6200686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83d47f6f6029139a68b76695a09597b?s=128&d=identicon&r=PG&f=1", "display_name": "WXNerd", "link": "https://stackoverflow.com/users/6200686/wxnerd"}, "edited": false, "score": 0, "creation_date": 1460675475, "post_id": 36609660, "comment_id": 60866114, "body": "I am getting an error message in the first line when I try to run this code.  I put in the name of my array in my_array and the number that I am looking for in some_value.  I am getting the message: &#39;TypeError: map() requires at least two args&#39;.  I do not see how an argument is missing."}, {"owner": {"reputation": 405, "user_id": 5278227, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/214c3fd7be9b2dc3bc55ec46672dd65c?s=128&d=identicon&r=PG&f=1", "display_name": "sebastianspiegel", "link": "https://stackoverflow.com/users/5278227/sebastianspiegel"}, "reply_to_user": {"reputation": 41, "user_id": 6200686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83d47f6f6029139a68b76695a09597b?s=128&d=identicon&r=PG&f=1", "display_name": "WXNerd", "link": "https://stackoverflow.com/users/6200686/wxnerd"}, "edited": false, "score": 0, "creation_date": 1460676925, "post_id": 36609660, "comment_id": 60866615, "body": "Should be fixed. You&#39;ll have to replace the variable names with your variables."}], "tags": [], "owner": {"reputation": 405, "user_id": 5278227, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/214c3fd7be9b2dc3bc55ec46672dd65c?s=128&d=identicon&r=PG&f=1", "display_name": "sebastianspiegel", "link": "https://stackoverflow.com/users/5278227/sebastianspiegel"}, "is_accepted": false, "score": 0, "last_activity_date": 1460676884, "last_edit_date": 1460676884, "creation_date": 1460581948, "answer_id": 36609660, "question_id": 36609547, "link": "https://stackoverflow.com/questions/36609547/find-multiple-values-in-python-array-close-to-given-number/36609660#36609660", "title": "Find multiple values in python array close to given number", "body": "<p>You can go through and find the keys corresponding to the closest values. Then append the values corresponding to those keys to a list.</p>\n\n<pre><code>new_array = map(lambda x: abs(x-some_value),my_array)\n\nmin_value=min(new_array)\n</code></pre>\n\n<p>Now find the indices of the new value</p>\n\n<pre><code>my_keys = []\nfor i,val in enumerate(new_array):\n    if val == min_value:\n        my_keys.append(i)\n</code></pre>\n\n<p>Finally create your output list. </p>\n\n<pre><code>my_answer=[]\nfor i in my_keys:\n    my_answer.append(my_array[i])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "is_accepted": false, "score": 4, "last_activity_date": 1460686762, "last_edit_date": 1460686762, "creation_date": 1460582303, "answer_id": 36609741, "question_id": 36609547, "link": "https://stackoverflow.com/questions/36609547/find-multiple-values-in-python-array-close-to-given-number/36609741#36609741", "title": "Find multiple values in python array close to given number", "body": "<p>If you sort the array in the order the elements are away from the pivot, then you will be able to take the first k elements and those are the ones closest to the element you are looking at</p>\n\n<pre><code>def k_closest(sample, pivot, k):\n    return sorted(sample, key=lambda i: abs(i - pivot))[:k]\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; l = [1,2,3,4]\n&gt;&gt;&gt; k_closest(l, 3, 2)\n[3,2]\n&gt;&gt;&gt; k_closest(l, 3, 3)\n[3,2,4]\n</code></pre>\n\n<p>To get the index of the elements as well, you can do this:</p>\n\n<pre><code>def k_closest(sample, pivot, k):\n    return sorted(enumerate(sample), key=lambda (n, v): abs(v - pivot))[:k]\n</code></pre>\n\n<p>Running it with the same elements as before, we get</p>\n\n<pre><code>&gt;&gt;&gt; l = [1,2,3,4]\n&gt;&gt;&gt; k_closest(l, 3, 2)\n[(2, 3), (1, 2)]\n&gt;&gt;&gt; k_closest(l, 3, 3)\n[(2, 3), (1, 2), (3, 4)]\n</code></pre>\n\n<p>For each tuple in the list, the first element is the index in the original array and the second is the number you are actually interested in</p>\n\n<p>If you just want the index, you can tweak the function a bit to become</p>\n\n<pre><code>import operator\n\ndef k_closest(sample, pivot, k):\n    return map(operator.itemgetter(0), sorted(enumerate(sample), key=lambda (n, v): abs(v - pivot)))[:k]\n</code></pre>\n\n<p>Running with the original input, will now give you</p>\n\n<pre><code>&gt;&gt;&gt; k_closest(l, 3, 2)\n[2, 1]\n&gt;&gt;&gt; k_closest(l, 3, 3)\n[2, 1, 3]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 6200686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83d47f6f6029139a68b76695a09597b?s=128&d=identicon&r=PG&f=1", "display_name": "WXNerd", "link": "https://stackoverflow.com/users/6200686/wxnerd"}, "edited": false, "score": 0, "creation_date": 1460677118, "post_id": 36609812, "comment_id": 60866682, "body": "The numbers at indices 7 and 10 are correct from my data."}, {"owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "reply_to_user": {"reputation": 41, "user_id": 6200686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83d47f6f6029139a68b76695a09597b?s=128&d=identicon&r=PG&f=1", "display_name": "WXNerd", "link": "https://stackoverflow.com/users/6200686/wxnerd"}, "edited": false, "score": 0, "creation_date": 1460686897, "post_id": 36609812, "comment_id": 60869315, "body": "Updated my answer with one by one comparison for those elements. Feel free to clarify if something is missing.."}], "tags": [], "owner": {"reputation": 3903, "user_id": 1434070, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/7uABI.jpg?s=128&g=1", "display_name": "fips", "link": "https://stackoverflow.com/users/1434070/fips"}, "is_accepted": false, "score": 0, "last_activity_date": 1460686825, "last_edit_date": 1460686825, "creation_date": 1460582586, "answer_id": 36609812, "question_id": 36609547, "link": "https://stackoverflow.com/questions/36609547/find-multiple-values-in-python-array-close-to-given-number/36609812#36609812", "title": "Find multiple values in python array close to given number", "body": "<p>If you like one-liners, take <code>k = 147.01</code> then you can do:</p>\n\n<pre><code>print [i for i, v in enumerate(array) if abs(v - k) == min([abs(x - k) for x in array])]\n</code></pre>\n\n<p>Outputs: [1, 4]</p>\n\n<p>It will print as many n indexes of elements equally close to <code>k</code>. In your list elements at index 7, 10 are not equally close, can you double check those numbers?</p>\n\n<p><strong>EDIT</strong>: Let's see one by one, using the array from the question:</p>\n\n<pre><code>[146.749,  147.249,  147.749,  146.749,  147.249,  147.749,  146.749,  147.263,  147.749,  146.472,  147.469,  148.471]\n</code></pre>\n\n<p>Distances for elements at indexes: 1, 4, 7, 10:</p>\n\n<pre><code>index = 1,  abs(147.249 - 147.01) = 0.239\nindex = 4,  abs(147.249 - 147.01) = 0.239\nindex = 7,  abs(147.263 - 147.01) = 0.253\nindex = 10, abs(147.469 - 147.01) = 0.459\n</code></pre>\n\n<p>According to these numbers, elements at indexes <code>1, 4</code> have a smaller distance from <code>147.01</code> than <code>7, 10</code>. Isn't this what you meant?</p>\n"}], "owner": {"reputation": 41, "user_id": 6200686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d83d47f6f6029139a68b76695a09597b?s=128&d=identicon&r=PG&f=1", "display_name": "WXNerd", "link": "https://stackoverflow.com/users/6200686/wxnerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2051, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1460686825, "creation_date": 1460581479, "question_id": 36609547, "link": "https://stackoverflow.com/questions/36609547/find-multiple-values-in-python-array-close-to-given-number", "title": "Find multiple values in python array close to given number", "body": "<p>Using Python 2.7, I have an array of values that goes from ~0.000 to ~360.000 multiple times.  I am trying to return all array indices with values closest to 147.010 (even duplicate values), so I can use each of these indices later on.  For example, a smaller sample from one array is:</p>\n\n<pre><code>array([  146.749,  147.249,  147.749,  146.749,  147.249,  147.749,  146.749,  147.263,  147.749,  146.472,  147.469,  148.471])\n</code></pre>\n\n<p>I am looking for an array, or list, of indices closest to 147.01, in this case would be:</p>\n\n<pre><code>1, 4, 7, 10\n</code></pre>\n\n<p>I have tried this:</p>\n\n<p><code>min(range(len(array)), key=lambda i: abs(array[i]-some_value))</code></p>\n\n<p>but this only returns one index, when multiple indices are needed.  I looked but have not found a similar question or answer. Thank you for any help.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1460581227, "post_id": 36609470, "comment_id": 60815559, "body": "Does the question - in principle - have anything to do with that blob of code, or can the nature of the problem be decoupled from your actual program? If so, please do so, and provide a <a href=\"http://stackoverflow.com/help/mcve\">minimal example</a>."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1460581273, "post_id": 36609470, "comment_id": 60815587, "body": "Or in other words: the title is such a simple question, why is the question so complicated?"}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1460581444, "post_id": 36609470, "comment_id": 60815692, "body": "Ok so far i have managed to get csv to display it from a .txt file now i want it to subtract the 6th column from the 4th column"}, {"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1460581474, "post_id": 36609470, "comment_id": 60815719, "body": "I cant find a way to shorten down the code without info being missing"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "edited": false, "score": 0, "creation_date": 1460582155, "post_id": 36609535, "comment_id": 60816073, "body": "Even if i do this i still dont know how to add a new column which is the difference of the total and the paid."}], "tags": [], "owner": {"reputation": 405, "user_id": 5278227, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/214c3fd7be9b2dc3bc55ec46672dd65c?s=128&d=identicon&r=PG&f=1", "display_name": "sebastianspiegel", "link": "https://stackoverflow.com/users/5278227/sebastianspiegel"}, "is_accepted": false, "score": 0, "last_activity_date": 1460585705, "last_edit_date": 1460585705, "creation_date": 1460581403, "answer_id": 36609535, "question_id": 36609470, "link": "https://stackoverflow.com/questions/36609470/how-can-i-subtract-two-values-which-i-have-got-from-a-txt-file/36609535#36609535", "title": "How can I subtract two values which I have got from a .txt file", "body": "<p>It looks like the data is being stored as strings. Have you tried changing them to integers? You would do it like this. Suppose we have:</p>\n\n<pre><code>x=\"1\"\n\ny=\"2\"\n</code></pre>\n\n<p>You can convert them to integers like this.</p>\n\n<pre><code>x=int(x)\n\ny=int(x)\n</code></pre>\n\n<p>Then you should have no problem adding them. </p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "edited": false, "score": 0, "creation_date": 1460584386, "post_id": 36610158, "comment_id": 60817177, "body": "I did as you said however I have encountered an I/O error: ValueError: I/O operation on closed file."}], "tags": [], "owner": {"reputation": 199, "user_id": 1301258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RC3Wx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1301258/sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1460583997, "creation_date": 1460583997, "answer_id": 36610158, "question_id": 36609470, "link": "https://stackoverflow.com/questions/36609470/how-can-i-subtract-two-values-which-i-have-got-from-a-txt-file/36610158#36610158", "title": "How can I subtract two values which I have got from a .txt file", "body": "<p>I've destroyed your column width sizing approach, but here is a simple change to the last for block in your file that should do what you want. Just replace everything after <code># display justified column data</code>.</p>\n\n<pre><code>for row in reader:\n    total = int(row[3])\n    paid = int(row[5])\n    if 'A' in row[4] and paid &lt; total:\n        print('\\t'.join((_ for _ in row)), total - paid)\n</code></pre>\n\n<p>Making the Total and Paid amounts integers is pretty simple, finding a way to display the new data is a little more work.</p>\n"}], "owner": {"reputation": 31, "user_id": 6200948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bef5015e398973c65ad82f5e92e44e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Nigel Harrison", "link": "https://stackoverflow.com/users/6200948/nigel-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 883, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1460585705, "creation_date": 1460581145, "last_edit_date": 1460582094, "question_id": 36609470, "link": "https://stackoverflow.com/questions/36609470/how-can-i-subtract-two-values-which-i-have-got-from-a-txt-file", "title": "How can I subtract two values which I have got from a .txt file", "body": "<p>So far I have managed to print out certain parts of the <code>.txt</code> file in Python however I cannot figure out how to subtract the amount paid from my total amount and then add up the outstanding value from each column. </p>\n\n<pre><code>import csv\n\nFILE_NAME = \"paintingJobs.txt\" #I use this so that the file can be used easier\nCOL_HEADERS = ['Number', 'Date', 'ID', 'Total', 'Status', 'Paid']\nNUM_COLS = len(COL_HEADERS)#This will insure that the header of each column fits into the length of the data\n\n# read file once to determine maximum width of data in columns\nwith open(FILE_NAME) as f:\n    reader = csv.reader(f, delimiter=',')\n    # determine the maximum width of the data in each column\n    max_col_widths = [len(col_header) for col_header in COL_HEADERS]\n    for columns in reader:\n        for i, col in enumerate(columns):\n            if \"A\" in columns and int(columns[5]) &lt; int(columns[3]):\n                max_col_widths[i] = max(max_col_widths[i], len(repr(col)))\n    # add 1 to each for commas\n    max_col_widths = [col_width+1 for col_width in max_col_widths]\n\n# read file second time to display its contents with the headers\nwith open(FILE_NAME) as f:\n    reader = csv.reader(f, delimiter=',')\n    # display justified column headers\n    print(' ' + ' '.join(col_header.ljust(max_col_widths[i])\n                            for i, col_header in enumerate(COL_HEADERS)))\n    # display justified column data\n    for columns in reader:\n        if \"A\" in columns and int(columns[5]) &lt; int(columns[3]):\n            print(columns)`\n</code></pre>\n\n<p>This is the result so far:</p>\n\n<pre><code> Number   Date          ID      Total   Status  Paid  \n['E5345', '22/09/2015', 'C106', '815', 'A', '400']\n['E5348', '23/09/2015', 'C109', '370', 'A', '200']\n['E5349', '25/09/2015', 'C110', '480', 'A', '250']\n['E5353', '28/09/2015', 'C114', '272', 'A', '200']\n['E5355', '29/09/2015', 'C116', '530', 'A', '450']\n['E5363', '01/10/2015', 'C124', '930', 'A', '500']\n['E5364', '02/10/2015', 'C125', '915', 'A', '800']\n['E5367', '03/10/2015', 'C128', '427', 'A', '350']\n['E5373', '10/10/2015', 'C134', '1023', 'A', '550']\n</code></pre>\n\n<p>What i want to do is add a new column which is the difference of the total and the paid</p>\n"}, {"tags": ["python", "ebay-api"], "answers": [{"tags": [], "owner": {"reputation": 587, "user_id": 3412846, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Gybr4.jpg?s=128&g=1", "display_name": "Povilas", "link": "https://stackoverflow.com/users/3412846/povilas"}, "is_accepted": true, "score": 0, "last_activity_date": 1460671294, "creation_date": 1460671294, "answer_id": 36634781, "question_id": 36609466, "link": "https://stackoverflow.com/questions/36609466/ebay-api-finditemsadvanced-unable-to-create-xml-stream/36634781#36634781", "title": "Ebay API findItemsAdvanced Unable to create xml stream", "body": "<p>Using list of tuples solved the problem.</p>\n"}], "owner": {"reputation": 587, "user_id": 3412846, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Gybr4.jpg?s=128&g=1", "display_name": "Povilas", "link": "https://stackoverflow.com/users/3412846/povilas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 36634781, "answer_count": 1, "score": 1, "last_activity_date": 1460671294, "creation_date": 1460581134, "question_id": 36609466, "link": "https://stackoverflow.com/questions/36609466/ebay-api-finditemsadvanced-unable-to-create-xml-stream", "title": "Ebay API findItemsAdvanced Unable to create xml stream", "body": "<p>Hi I just can't figure out what is wrong.</p>\n\n<p>If I use itemFilter with two values (0,1) everything is ok but if I uncomment(3,4 and ++) I get response with 5006 error from server. \nProblem is not with values I changed them still same.</p>\n\n<pre><code>ebay_parameters = {\n    \"OPERATION-NAME\":\"findItemsAdvanced\",\n    #\"SERVICE-VERSION\":\"1.13.0\",\n    \"SECURITY-APPNAME\":ebay_appID,\n    \"RESPONSE-DATA-FORMAT\":\"JSON\",\n    \"keywords\":keywords,\n    \"itemFilter(0).name\":\"Seller\",\n    \"itemFilter(0).value(0)\":\"william_sales\",\n    \"itemFilter(0).value(1)\":\"d$dparts\",\n    \"itemFilter(0).value(2)\":\"motodocparts\",\n    \"itemFilter(0).value(3)\":\"suncoastcyclesports\",\n    \"itemFilter(0).value(4)\":\"salvagedcycleparts\",\n    \"itemFilter(0).value(5)\":\"bnr_cycles\",\n    \"itemFilter(0).value(6)\":\"az_cycle_parts_phx\",\n    \"itemFilter(0).value(7)\":\"rubbersideupllc\"\n}\n\nr = requests.get(\"http://svcs.ebay.com/services/search/FindingService/v1\", params=payload).json()\n</code></pre>\n\n<p><strong>Response error:</strong></p>\n\n<pre><code>GET /services/search/FindingService/v1?SECURITY-APPNAME=XXXX-XXXX-PRD-XXXX-6dac998d&amp;RESPONSE-DATA-FORMAT=JSON&amp;OPERATION-NAME=findItemsAdvanced&amp;itemFilter%280%29.value%282%29=motodocparts&amp;itemFilter%280%29.value%283%29=suncoastcyclesports&amp;keywords=14+636+gauge&amp;itemFilter%280%29.name=Seller&amp;keywords=14+636+rear+shock HTTP/1.1\n</code></pre>\n\n<p><strong>Response success:</strong></p>\n\n<pre><code>GET /services/search/FindingService/v1?SECURITY-APPNAME=XXXX-XXXX-PRD-XXXX-6dac998d&amp;RESPONSE-DATA-FORMAT=JSON&amp;OPERATION-NAME=findItemsAdvanced&amp;keywords=14+636+gauge&amp;itemFilter%280%29.name=Seller&amp;itemFilter%280%29.value%280%29=william_sales&amp;itemFilter%280%29.value%281%29=d%24dparts HTTP/1.1\n</code></pre>\n\n<p><strong>Response:</strong>\n<a href=\"https://i.stack.imgur.com/Za8qU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Za8qU.png\" alt=\"enter image description here\"></a></p>\n\n<p>One thing I notice that sequence in url is diferent but I don't thin that can be a problem. Any Idea?</p>\n"}, {"tags": ["python", "function", "numpy", "pandas"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1460581472, "post_id": 36609457, "comment_id": 60815717, "body": "This sounds like a job for a <code>for</code> loop. There generally isn&#39;t a good way to vectorize side effects."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1460581591, "post_id": 36609457, "comment_id": 60815770, "body": "If the side effects don&#39;t depend on the operation for each row then it should be vectorizable"}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 1, "creation_date": 1460585474, "post_id": 36609457, "comment_id": 60817644, "body": "If you need to run an explicit loop, you may get better performance with <code>zip(df.a, df.b)</code> or <code>df.itertuples()</code>, as detailed in <a href=\"http://stackoverflow.com/a/34311080/3339965\">this answer</a>."}], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 5, "last_activity_date": 1460621440, "creation_date": 1460621440, "answer_id": 36617225, "question_id": 36609457, "link": "https://stackoverflow.com/questions/36609457/run-function-exactly-once-for-each-row-in-a-pandas-dataframe/36617225#36617225", "title": "Run function exactly once for each row in a Pandas dataframe", "body": "<p>It's unclear what your function is doing but to <code>apply</code> a function to each row you can do so by passing <code>axis=1</code> to <code>apply</code> your function row-wise and pass the column elements of interest:</p>\n\n<pre><code>In [155]:\ndef foo(a,b):\n    return a*b\n\u200b\ndf = pd.DataFrame([(0, 1), (2, 3), (4, 5)], columns=['a', 'b'])\ndf.apply(lambda x: foo(x['a'], x['b']), axis=1)\n\nOut[155]:\n0     0\n1     6\n2    20\ndtype: int64\n</code></pre>\n\n<p>However, so long as your function does not depend on the df mutating on each row, then you can just use a vectorised method to operate on the entire column:</p>\n\n<pre><code>In [156]:\ndf['a'] * df['b']\n\nOut[156]:\n0     0\n1     6\n2    20\ndtype: int64\n</code></pre>\n\n<p>The reason is that because the functions are vectorised then it will scale better whilst the <code>apply</code> is just syntactic sugar for iterating on your df so it's a <code>for</code> loop essentially</p>\n"}, {"tags": [], "owner": {"reputation": 680, "user_id": 6035139, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10156685056205201/picture?type=large", "display_name": "Rosa Alejandra", "link": "https://stackoverflow.com/users/6035139/rosa-alejandra"}, "is_accepted": false, "score": 14, "last_activity_date": 1512059519, "creation_date": 1512059519, "answer_id": 47578193, "question_id": 36609457, "link": "https://stackoverflow.com/questions/36609457/run-function-exactly-once-for-each-row-in-a-pandas-dataframe/47578193#47578193", "title": "Run function exactly once for each row in a Pandas dataframe", "body": "<p>The way I do it (because I also don't like the idea of looping with df.itertuples) is:</p>\n\n<pre><code>df.apply(do_irreversible_thing, axis=1)\n</code></pre>\n\n<p>and then your function should be like:</p>\n\n<pre><code>def do_irreversible_thing(x):\n    print x.a, x.b\n</code></pre>\n\n<p>this way you should be able to run your function over each row.</p>\n\n<p><strong>OR</strong></p>\n\n<p>if you can't modify your function you could <code>apply</code> it like this</p>\n\n<pre><code>df.apply(lambda x: do_irreversible_thing(x[0],x[1]), axis=1)\n</code></pre>\n"}], "owner": {"reputation": 20637, "user_id": 14167, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HYgOI.jpg?s=128&g=1", "display_name": "David Nehme", "link": "https://stackoverflow.com/users/14167/david-nehme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21739, "favorite_count": 1, "answer_count": 2, "score": 17, "last_activity_date": 1512059519, "creation_date": 1460581110, "last_edit_date": 1495541760, "question_id": 36609457, "link": "https://stackoverflow.com/questions/36609457/run-function-exactly-once-for-each-row-in-a-pandas-dataframe", "title": "Run function exactly once for each row in a Pandas dataframe", "body": "<p>If I have a function</p>\n\n<pre><code>def do_irreversible_thing(a, b):\n    print a, b\n</code></pre>\n\n<p>And a dataframe, say</p>\n\n<pre><code>df = pd.DataFrame([(0, 1), (2, 3), (4, 5)], columns=['a', 'b'])\n</code></pre>\n\n<p>What's the best way to run the function <strong>exactly once</strong> for each row in a pandas dataframe.  <a href=\"https://stackoverflow.com/questions/21635915/why-does-pandas-apply-calculate-twice\">As</a> pointed out in other <a href=\"https://stackoverflow.com/questions/33857895/working-around-pandas-bug-that-iterates-over-an-imaginary-row-of-a-dataframe-wit\">questions</a>, something like df.apply pandas will call the function twice for the first row.  Even using numpy</p>\n\n<pre><code>np.vectorize(do_irreversible_thing)(df.a, df.b)\n</code></pre>\n\n<p>causes the function to be called twice on the first row, as will <code>df.T.apply()</code> or df.apply(..., axis=1).</p>\n\n<p>Is there a faster or cleaner way to call the function with every row than this explicit loop?</p>\n\n<pre><code>   for idx, a, b in df.itertuples():\n       do_irreversible_thing(a, b)\n</code></pre>\n"}, {"tags": ["python", "arcmap"], "comments": [{"owner": {"reputation": 2167, "user_id": 2118067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Q6M8I.jpg?s=128&g=1", "display_name": "Erica", "link": "https://stackoverflow.com/users/2118067/erica"}, "edited": false, "score": 0, "creation_date": 1460596464, "post_id": 36609435, "comment_id": 60821096, "body": "Where are you running your code?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1460619028, "post_id": 36612218, "comment_id": 60829337, "body": "Thanks for the feedback, but I did have all three variables assigned and still get the error:    <code>in_layer_or_view = arcpy.GetParameterAsText(0) selection_type = arcpy.GetParameterAsText(1) where_clause = arcpy.GetParameterAsText(2)</code>"}, {"owner": {"reputation": 2167, "user_id": 2118067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Q6M8I.jpg?s=128&g=1", "display_name": "Erica", "link": "https://stackoverflow.com/users/2118067/erica"}, "reply_to_user": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1460629041, "post_id": 36612218, "comment_id": 60836159, "body": "Posting complete code helps with troubleshooting. Can you edit your question to include that, and also a screenshot of the parameter setup of the tool in ArcMap?"}, {"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1460661152, "post_id": 36612218, "comment_id": 60859219, "body": "I have updated the code and I apologize for not understanding exactly what your asking. The parameter setup of the tool in ArcMap, is that creating a new tool and defining the parameters in ArcMap?"}, {"owner": {"reputation": 2167, "user_id": 2118067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Q6M8I.jpg?s=128&g=1", "display_name": "Erica", "link": "https://stackoverflow.com/users/2118067/erica"}, "reply_to_user": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1460661238, "post_id": 36612218, "comment_id": 60859275, "body": "Yes -- what the data types of the parameters are when you defined them in the tool setup. Sometimes I&#39;ve had that be an issue when creating a tool. (I&#39;m just trying to eliminate possible causes.)"}, {"owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1460661497, "post_id": 36612218, "comment_id": 60859427, "body": "I haven&#39;t set up the parameters, for that has been something I have been unable to do. Do I go through catalog and select new and then make a new toolbox"}, {"owner": {"reputation": 2167, "user_id": 2118067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Q6M8I.jpg?s=128&g=1", "display_name": "Erica", "link": "https://stackoverflow.com/users/2118067/erica"}, "reply_to_user": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "edited": false, "score": 0, "creation_date": 1460662711, "post_id": 36612218, "comment_id": 60860150, "body": "@M_2210 Essentially, yes. New toolbox, new script tool within toolbox, and then add the parameters. I&#39;ve rewritten my answer to better answer your question :)"}], "tags": [], "owner": {"reputation": 2167, "user_id": 2118067, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Q6M8I.jpg?s=128&g=1", "display_name": "Erica", "link": "https://stackoverflow.com/users/2118067/erica"}, "is_accepted": true, "score": 0, "last_activity_date": 1460662676, "last_edit_date": 1460662676, "creation_date": 1460596710, "answer_id": 36612218, "question_id": 36609435, "link": "https://stackoverflow.com/questions/36609435/creating-tool-for-arcmap-from-script-updated/36612218#36612218", "title": "Creating tool for Arcmap from script Updated", "body": "<p>The <code>arcpy.GetParameterAsText(0)</code> function will read an input parameter from an ArcGIS tool.</p>\n\n<p>During scripting and debugging, it is simplest to hard-code the function's input variables to verify that the function is working. Once the tool is (essentially) the way you want it, create the toolbox and script tool within ArcMap.</p>\n\n<p>To accept input parameters from the tool execution dialog, you'll need to specify them when creating the script tool (and change the code to accept <code>GetParameterAsText</code> inputs). The best walkthrough for this is really the ArcGIS resource center.</p>\n\n<ul>\n<li><a href=\"http://help.arcgis.com/En/Arcgisdesktop/10.0/Help/index.html#/Adding_a_script_tool/00150000001r000000/\" rel=\"nofollow\">Adding a script tool</a></li>\n<li><a href=\"http://help.arcgis.com/En/Arcgisdesktop/10.0/Help/index.html#//00150000000n000000.htm\" rel=\"nofollow\">Setting script tool parameters</a></li>\n</ul>\n\n<hr>\n\n<p>On a secondary note: The ArcPy functions are case-sensitive, so always check that you're spelling them correctly.</p>\n\n<pre><code>arcpy.buffer_analysis(In_Buff_Feature, Out_Buff, Buffer_Dist,) # wrong\narcpy.Buffer_analysis(In_Buff_Feature, Out_Buff, Buffer_Dist) # right\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6174288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d305db412fd96b50d7bc975823aa1104?s=128&d=identicon&r=PG&f=1", "display_name": "M_2210", "link": "https://stackoverflow.com/users/6174288/m-2210"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 36612218, "answer_count": 1, "score": 0, "last_activity_date": 1460662676, "creation_date": 1460581044, "last_edit_date": 1460661056, "question_id": 36609435, "link": "https://stackoverflow.com/questions/36609435/creating-tool-for-arcmap-from-script-updated", "title": "Creating tool for Arcmap from script Updated", "body": "<p>I am attempting to create a tool for the first time from script for ArcMap but keep getting an error message when I run the script here is my code:</p>\n\n<pre><code>import arcpy\n\narcpy.env.overwriteOutput = True\n\n\nIn_Buff_Feature = arcpy.GetParameterAsText(0)\nOut_Buff = arcpy.GetParameterAsText(1)\nBuffer_Dist = arcpy.GetParameter(2)\n\narcpy.buffer_analysis(In_Buff_Feature, Out_Buff, Buffer_Dist,)\n</code></pre>\n\n<p>The error I receive is:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\Michaelf\\Desktop\\GEOG M173\\Week_3_Lab.py\", line 31, in &lt;module&gt;\narcpy.buffer_analysis(In_Buff_Feature, Out_Buff, Buffer_Dist,)\nAttributeError: 'module' object has no attribute 'buffer_analysis'\n</code></pre>\n\n<p>Any feedback would be much appreciated!!\nThank You</p>\n"}, {"tags": ["python", "google-api", "google-search-api"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1460581530, "post_id": 36609419, "comment_id": 60815750, "body": "Google search results are tailored based on a lot of criteria, what you get for a search and  what I get can be completely different, what is <i>strange</i> about your output?"}, {"owner": {"reputation": 37, "user_id": 6128681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ddff5ed432642d590e4169576ef66ad?s=128&d=identicon&r=PG&f=1", "display_name": "tc_qa", "link": "https://stackoverflow.com/users/6128681/tc-qa"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1460581893, "post_id": 36609419, "comment_id": 60815927, "body": "I got your point. All I mean is that the results I get are always with the domain &quot;<a href=\"http://www.google.com/\" rel=\"nofollow noreferrer\">google.com</a>.&quot; @PadraicCunningham"}], "owner": {"reputation": 37, "user_id": 6128681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ddff5ed432642d590e4169576ef66ad?s=128&d=identicon&r=PG&f=1", "display_name": "tc_qa", "link": "https://stackoverflow.com/users/6128681/tc-qa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 536, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1460580987, "creation_date": 1460580987, "question_id": 36609419, "link": "https://stackoverflow.com/questions/36609419/python-search-with-googles-customsearch-api", "title": "Python search with Google&#39;s Customsearch API", "body": "<p>I'm trying to configure in a good way my search script using Google's Search API. </p>\n\n<p>I have some keywords in my input file from whom I'd like to get first 10 results. When I'm searching them manually - the results are extremely different (expected). </p>\n\n<p>Doing it with API - I'm getting really strange output.\nDid anyone have similar problem before ? </p>\n\n<p>Maybe anyone would give me some tips how to configure search engine ? </p>\n\n<p>I've set: <code>*.google.com/*</code></p>\n\n<p>Python script:</p>\n\n<pre><code>#! /usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom googleapiclient.discovery import build\n\ndef main():\n    service = build('customsearch', 'v1', developerKey=\"key\")\n\n    file = open(\"./data.csv\", \"r\")\n    keys = []\n\n    for key in file.readlines():\n        keys.append(key)\n    keys.sort()\n\n    for keyword in keys:\n        print(u\"\\nRESULTS SEARCH FOR: %s\" % str(keyword))\n\n        res = service.cse().list(\n            q=keyword,\n            cx='cx',\n            num=10,\n            safe= 'off',\n        ).execute()\n\n        if not 'items' in res:\n            print (u\"No result !!\\nres is: %s\" % str(res))\n        else:\n            with open(\"results_data.txt\", \"w\") as f:\n                for item in res['items']:\n                    print('\\n%s:\\n\\t%s' % (item['title'], item['link']))\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "arrays", "alignment"], "comments": [{"owner": {"reputation": 2211, "user_id": 1667840, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3a0eb2aabd323d1e50b4f8fe0caf59b1?s=128&d=identicon&r=PG&f=1", "display_name": "gidim", "link": "https://stackoverflow.com/users/1667840/gidim"}, "edited": false, "score": 0, "creation_date": 1460580940, "post_id": 36609368, "comment_id": 60815418, "body": "have you tried anything?"}, {"owner": {"reputation": 455, "user_id": 4186430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh4.googleusercontent.com/-ZvVf8me1wWE/AAAAAAAAAAI/AAAAAAAAAFU/wLZvrOhPUnk/photo.jpg?sz=128", "display_name": "urgeo", "link": "https://stackoverflow.com/users/4186430/urgeo"}, "reply_to_user": {"reputation": 2211, "user_id": 1667840, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3a0eb2aabd323d1e50b4f8fe0caf59b1?s=128&d=identicon&r=PG&f=1", "display_name": "gidim", "link": "https://stackoverflow.com/users/1667840/gidim"}, "edited": false, "score": 0, "creation_date": 1460581292, "post_id": 36609368, "comment_id": 60815594, "body": "I feel a bit ashamed, but I&#39;ve got no ideas..."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1460581406, "post_id": 36609368, "comment_id": 60815668, "body": "Do you know how to read values from a file or are you stuck on that?"}, {"owner": {"reputation": 2211, "user_id": 1667840, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3a0eb2aabd323d1e50b4f8fe0caf59b1?s=128&d=identicon&r=PG&f=1", "display_name": "gidim", "link": "https://stackoverflow.com/users/1667840/gidim"}, "edited": false, "score": 0, "creation_date": 1460581439, "post_id": 36609368, "comment_id": 60815687, "body": "You can read each file to a dictionary with key = first column and value = second column. That should get you started.."}], "answers": [{"tags": [], "owner": {"reputation": 500, "user_id": 1910527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2Yh9l.jpg?s=128&g=1", "display_name": "Copy and Paste", "link": "https://stackoverflow.com/users/1910527/copy-and-paste"}, "is_accepted": false, "score": 0, "last_activity_date": 1460583195, "last_edit_date": 1460583195, "creation_date": 1460582232, "answer_id": 36609728, "question_id": 36609368, "link": "https://stackoverflow.com/questions/36609368/align-arrays-with-python/36609728#36609728", "title": "align arrays with python", "body": "<p>From start to finish, assuming the intended output is csv, as well as the input files are csv delimited via \",\". Output methods are very flexible however if something else was anticipated.</p>\n\n<pre><code>import petl\n\nfile1 = petl.fromcsv('file1.csv')\nfile1 = petl.pushheader(file1, ['position', 'value1'])\nfile2 = petl.fromcsv('file2.csv')\nfile2 = petl.pushheader(file2, ['position', 'value2'])\nfile3 = petl.fromcsv('file3.csv')\nfile3 = petl.pushheader(file3, ['position', 'value3'])\n\n\nfile1_joined_file2 = petl.outerjoin(file1, file2, key='position')\nall_joined = petl.outerjoin(file1_joined_file2, file3, key='position')\nall_joined = petl.convert(all_joined, 'value1', {None: 0})\nall_joined = petl.convert(all_joined, 'value2', {None: 0})\nall_joined = petl.convert(all_joined, 'value3', {None: 0})\nall_joined = petl.convert(all_joined, ('position', 'value1', 'value2', 'value3'), int)\nall_joined = petl.addfield(all_joined, 'sum', lambda rec: rec['value1'] + rec['value2'] + rec['value3'])\nall_joined = petl.sort(all_joined, 'position')\n\nprint petl.lookall(all_joined)\npetl.tocsv(all_joined, 'done.csv')\n</code></pre>\n\n<p>Output from the print above:</p>\n\n<pre><code>+----------+--------+--------+--------+-----+\n| position | value1 | value2 | value3 | sum |\n+==========+========+========+========+=====+\n|       -7 |     12 |      0 |      0 |  12 |\n+----------+--------+--------+--------+-----+\n|       -6 |     13 |      0 |      0 |  13 |\n+----------+--------+--------+--------+-----+\n|       -5 |     11 |     13 |      0 |  24 |\n+----------+--------+--------+--------+-----+\n|       -4 |     10 |      4 |      0 |  14 |\n+----------+--------+--------+--------+-----+\n|       -3 |      4 |      5 |      0 |   9 |\n+----------+--------+--------+--------+-----+\n|       -2 |      8 |      4 |      3 |  15 |\n+----------+--------+--------+--------+-----+\n|       -1 |      7 |      7 |     14 |  28 |\n+----------+--------+--------+--------+-----+\n|        0 |      9 |      6 |      8 |  23 |\n+----------+--------+--------+--------+-----+\n|        1 |     10 |      9 |      7 |  26 |\n+----------+--------+--------+--------+-----+\n|        2 |      0 |     10 |      3 |  13 |\n+----------+--------+--------+--------+-----+\n|        3 |      0 |      2 |      9 |  11 |\n+----------+--------+--------+--------+-----+\n|        4 |      0 |      0 |     10 |  10 |\n+----------+--------+--------+--------+-----+\n|        5 |      0 |      0 |      8 |   8 |\n+----------+--------+--------+--------+-----+\n|        6 |      0 |      0 |      3 |   3 |\n+----------+--------+--------+--------+-----+\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 839, "user_id": 6191855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/u8HTb.jpg?s=128&g=1", "display_name": "Julien Salinas", "link": "https://stackoverflow.com/users/6191855/julien-salinas"}, "is_accepted": false, "score": 1, "last_activity_date": 1460582306, "creation_date": 1460582306, "answer_id": 36609742, "question_id": 36609368, "link": "https://stackoverflow.com/questions/36609368/align-arrays-with-python/36609742#36609742", "title": "align arrays with python", "body": "<p>Just an idea but there would be a lot them: </p>\n\n<ol>\n<li>import all those pairs into one list of pairs</li>\n<li>create a second empty list of pairs</li>\n<li>parse every pair of the first list and check if the first element of the pair is somewhere among the first elements of the pairs of the second list. If it already is then sum the second element of the pairs, otherwise just append the pair to the second list.</li>\n</ol>\n"}], "owner": {"reputation": 455, "user_id": 4186430, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh4.googleusercontent.com/-ZvVf8me1wWE/AAAAAAAAAAI/AAAAAAAAAFU/wLZvrOhPUnk/photo.jpg?sz=128", "display_name": "urgeo", "link": "https://stackoverflow.com/users/4186430/urgeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1093, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1460583195, "creation_date": 1460580801, "question_id": 36609368, "link": "https://stackoverflow.com/questions/36609368/align-arrays-with-python", "title": "align arrays with python", "body": "<p>I have 3 files (<code>file1.txt</code>, <code>file2.txt</code>, <code>file3.txt</code>) that look like:</p>\n\n<p>file1:</p>\n\n<pre><code>-7  12\n-6  13\n-5  11\n-4  10\n-3  4\n-2  8\n-1  7\n0   9\n1   10\n</code></pre>\n\n<p>file2:</p>\n\n<pre><code>-5  13\n-4  4\n-3  5\n-2  4\n-1  7\n0   6\n1   9\n2   10\n3   2\n</code></pre>\n\n<p>file3:</p>\n\n<pre><code>-2  3\n-1  14\n0   8\n1   7\n2   3\n3   9\n4   10\n5   8\n6   3\n</code></pre>\n\n<p>I want to align the zeros of the arrays I read from these files and get the sum of the values on the right, that is getting something like:</p>\n\n<pre><code>-7  -&gt;  12  + 0  + 0  =  12\n-6  -&gt;  13  + 0  + 0  =  13\n-5  -&gt;  11  + 13 + 0  =  24\n-4  -&gt;  10  + 4  + 0  =  14\n-3  -&gt;  4   + 5  + 0  =  9\n-2  -&gt;  8   + 4  + 3  =  15\n-1  -&gt;  7   + 7  + 14 =  28\n0   -&gt;  9   + 6  + 8  =  23\n1   -&gt;  10  + 9  + 7  =  26\n2   -&gt;  0   + 10 + 3  =  13\n3   -&gt;  0   + 2  + 9  =  11\n4   -&gt;  0   + 0  + 10 =  10\n5   -&gt;  0   + 0  + 8  =  8\n6   -&gt;  0   + 0  + 3  =  3\n7   -&gt;  0   + 0  + 0  =  0\n</code></pre>\n\n<p>How could I do that, with Python? Thank you in advance.</p>\n"}, {"tags": ["python", "arrays", "string", "parsing", "substring"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1460581300, "post_id": 36609313, "comment_id": 60815600, "body": "Is this input supposed to be JSON or part of a larger JSON string? Python has a JSON parser. Even if it&#39;s not JSON, it looks like the kind of thing where regex parsing could be quite fragile."}, {"owner": {"reputation": 47, "user_id": 1806774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f231eb17491c84837362fbe5515f8d15?s=128&d=identicon&r=PG", "display_name": "Marc Morgan", "link": "https://stackoverflow.com/users/1806774/marc-morgan"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1460586287, "post_id": 36609313, "comment_id": 60817981, "body": "Thank you for the information @user2357112 .  The string is a compacted JSON file.  I&#39;ve been trying to convert old scripts done in bash, by a previous student, to that of python.  A majority of their script contains regex commands which I am not partial to, nor of which I like as it is impractical in this case."}], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 1301258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RC3Wx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/1301258/sam"}, "edited": false, "score": 0, "creation_date": 1460582079, "post_id": 36609503, "comment_id": 60816026, "body": "If you haven&#39;t done a lot of regex work before, Python&#39;s implementation isn&#39;t the kindest. I&#39;ve found <a href=\"http://pythex.org/\" rel=\"nofollow noreferrer\">Pythex</a> to be incredibly helpful when I haven&#39;t done one in a while and if you test the solution by @Blckknght you&#39;ll see just what changes when you use a non-greedy regex."}, {"owner": {"reputation": 47, "user_id": 1806774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f231eb17491c84837362fbe5515f8d15?s=128&d=identicon&r=PG", "display_name": "Marc Morgan", "link": "https://stackoverflow.com/users/1806774/marc-morgan"}, "edited": false, "score": 0, "creation_date": 1460586514, "post_id": 36609503, "comment_id": 60818065, "body": "Thank you both for the information and assistance on the matter.  The Pythex site will be very useful for future practice."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 2, "last_activity_date": 1460581261, "creation_date": 1460581261, "answer_id": 36609503, "question_id": 36609313, "link": "https://stackoverflow.com/questions/36609313/declaring-a-stopping-position-when-extracting-multiple-substrings-in-python/36609503#36609503", "title": "Declaring a stopping position when extracting multiple substrings in Python", "body": "<p>You need to change the pattern so that the <code>.</code> in the capturing group doesn't match the closing quotation mark. I can see two reasonable ways to do it:</p>\n\n<p>First, you could use a non-greedy wildcard: <code>pattern1\":\"(.*?)\"</code>. The <code>*?</code> tells it to match the smallest possible number of characters, rather than the largest possible number.</p>\n\n<p>The second option is to use a character class to exclude quotation marks from the captured part of the pattern: <code>pattern1\":\"([^\"]*)\"</code> Using a <code>^</code> as the first character in the brackets tells it to exclude the rest of the characters, so <code>[^\"]</code> is any non-quotation-mark character.</p>\n"}], "owner": {"reputation": 47, "user_id": 1806774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f231eb17491c84837362fbe5515f8d15?s=128&d=identicon&r=PG", "display_name": "Marc Morgan", "link": "https://stackoverflow.com/users/1806774/marc-morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 36609503, "answer_count": 1, "score": 2, "last_activity_date": 1460581261, "creation_date": 1460580589, "last_edit_date": 1495541260, "question_id": 36609313, "link": "https://stackoverflow.com/questions/36609313/declaring-a-stopping-position-when-extracting-multiple-substrings-in-python", "title": "Declaring a stopping position when extracting multiple substrings in Python", "body": "<p>I am new to python and am trying to parse a long text string for sub-strings between two exact patterns.  The problem lies in telling python to stop at the first occurrence of the end pattern.  I also need to collect all instances of the sub-strings into place them into an array storage to be used later on.  I am trying to utilize the (re) module example <a href=\"https://stackoverflow.com/questions/3368969/find-string-between-two-substrings\">here</a> by Nikolaus Gradwohl for simplicity. Below is an example of what I have done.</p>\n\n<pre><code>import re\nstring='valuepattern1\":\"capture\",abcdpattern1\":\"capture2\",defg'\nresult = re.search('pattern1\":\"(.*)\",', string)\nprint result.group(1)\n\nOutput: capture\",abcdpattern1\":\"capture2\"\n</code></pre>\n\n<p>Here I am trying to collect every instance of capture (capture and capture2) found in the string between the set beginning point of (pattern1\":\") and the immediate ending point (\",) after capture.  Each instance collected needs to be added to an array, as shown below.  </p>\n\n<pre><code>print result\nOutput: [capture,capture2]\n</code></pre>\n\n<p>Note that capture does not have a set length and varies all throughout the string, however, the beginning and ending patterns remain consistent through the string.</p>\n\n<p>Thank you in advance for any help on this matter.</p>\n"}, {"tags": ["python", "python-2.7", "loops", "for-loop", "while-loop"], "comments": [{"owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 1, "creation_date": 1460580574, "post_id": 36609286, "comment_id": 60815229, "body": "Is that your actual code or psuedo code?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 3, "creation_date": 1460580690, "post_id": 36609286, "comment_id": 60815283, "body": "Immediate response is <code>&gt; 100</code> means &#39;greater than&#39; 100, not &#39;less than&#39;"}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 0, "creation_date": 1460581003, "post_id": 36609286, "comment_id": 60815447, "body": "Also, indentation. If the <code>for</code> loop and everything following is supposed to be in the <code>while</code> loop, it&#39;s not and that is a problem."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1460581015, "post_id": 36609286, "comment_id": 60815452, "body": "The rest of the code is not valid Python currently. I can&#39;t really work out what this code is supposed to do, but I&#39;m guessing that the <code>for</code> loops are supposed to be under <code>while?</code>. Make sure your code is presented in the question as you see it so we can help. <code>for loop</code>... what is that?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460581279, "post_id": 36609286, "comment_id": 60815589, "body": "@juan Then you <i>have</i> to give some context of what this is supposed to do. The <code>for</code> loops are outside of the <code>while</code> clause so what is supposed to be evaluated?"}, {"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460581612, "post_id": 36609286, "comment_id": 60815783, "body": "@roganjosh here is my code for you to get a better understanding <a href=\"http://pastebin.com/Cdnet4Jr\" rel=\"nofollow noreferrer\">pastebin.com/Cdnet4Jr</a>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460582165, "post_id": 36609286, "comment_id": 60816078, "body": "Your use of <code>while</code> loops is off, even after you correct the <code>&lt;</code> / <code>&gt;</code> mistake. I would have posted the real code rather than (invalid syntax) pseudocode; it&#39;s always best to provide an <a href=\"http://stackoverflow.com/help/mcve\">MCV</a> but in this case you also need some description on expected behaviour"}, {"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460582443, "post_id": 36609286, "comment_id": 60816230, "body": "@roganjosh yeah i noticed when i tried changing the signs it ruined the rest of the program. Sorry for being to vague i&#39;ll try to be more clear in the future."}, {"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460583022, "post_id": 36609286, "comment_id": 60816499, "body": "@roganjosh essentially this program is suppose look at the user&#39;s input and locate keys from the dictionary  and  then define those abbreviations . The program will then output the user&#39;s input with the replaced value&#39;s. This will only run when the user input is less than 160"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460583381, "post_id": 36609286, "comment_id": 60816701, "body": "Ok, to clarify. Program runs forever, always asking for user input. Any input over 160 chars is invalid (but keep asking). If input contains a recognised abbreviation... print input with the full version of abbreviation or just the meaning of the abbreviation?"}, {"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "edited": false, "score": 0, "creation_date": 1460583784, "post_id": 36609286, "comment_id": 60816901, "body": "Yes it will run until the user states not to. I plan to add a quit &quot;Yes&quot; or &quot;No&quot; conditonal statement later on to stop the loop but at the moment I am focused on this issue.  Example of my current output:   user input: I want to go afk...   afk away from keyboard...   I want to go away from keyboard...    I already accomplished that part however my loops are all messed up."}, {"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460585690, "post_id": 36609286, "comment_id": 60817739, "body": "@roganjosh forgot to mention you."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460586146, "post_id": 36609286, "comment_id": 60817921, "body": "@juan no worries, I was watching anyway. I think I have it covered in my answer for you to build upon"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "edited": false, "score": 0, "creation_date": 1460581856, "post_id": 36609352, "comment_id": 60815910, "body": "Alright so I am dumb, now I have to fix my code in order for it to work properly with everything."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5744955"}, "is_accepted": false, "score": 0, "last_activity_date": 1460586058, "last_edit_date": 1460586058, "creation_date": 1460580761, "answer_id": 36609352, "question_id": 36609286, "link": "https://stackoverflow.com/questions/36609286/understanding-why-my-loop-is-not-restarting/36609352#36609352", "title": "Understanding why my loop is not restarting", "body": "<p>The while loop will only run if the length of the string is greater than 100.</p>\n\n<p>The code:</p>\n\n<pre><code>len(str) &gt; 100\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>len(str) &lt; 100\n</code></pre>\n\n<p>if you want the loop to execute if the length of the string is less than 100, as per your comment.</p>\n"}, {"comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460581447, "post_id": 36609496, "comment_id": 60815696, "body": "This suffers from the same problem I mentioned in my comment with the mix-up of <code>&gt;</code> and <code>&lt;</code> and then takes giant leaps into predicting OP&#39;s intended output"}, {"owner": {"reputation": 349, "user_id": 6047582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97f4720cbf4f8506e2b10d9582f28b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/6047582/chris-g"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460581654, "post_id": 36609496, "comment_id": 60815807, "body": "His comments are self-contradictory.  &quot;while len &gt; 100&quot;, its comment &quot;#loops for less than 100&quot;, and the print comment &quot;print statement #print message over 100&quot;  I went with the two statements that agreed rather than the one that disagreed. YMMV"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1460581802, "post_id": 36609496, "comment_id": 60815888, "body": "Don&#39;t go to the effort of answering then until it&#39;s clear :P I&#39;ve been burned on this with far bigger answers <a href=\"http://stackoverflow.com/questions/34878226/compare-2-lists-and-create-new-list-with-different-results-in-python/34880659#34880659\" title=\"compare 2 lists and create new list with different results in python\">stackoverflow.com/questions/34878226/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "edited": false, "score": 0, "creation_date": 1460582208, "post_id": 36609496, "comment_id": 60816097, "body": "It&#39;s been brought to my attention that my &quot;while&quot; statement conflicts with normal logic. Currently trying to fix my mistake"}], "tags": [], "owner": {"reputation": 349, "user_id": 6047582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97f4720cbf4f8506e2b10d9582f28b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/6047582/chris-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1460581221, "creation_date": 1460581221, "answer_id": 36609496, "question_id": 36609286, "link": "https://stackoverflow.com/questions/36609286/understanding-why-my-loop-is-not-restarting/36609496#36609496", "title": "Understanding why my loop is not restarting", "body": "<p>Currently, you have a linear program.</p>\n\n<p>It collects a user input.</p>\n\n<p>If the user input is too big, it keeps asking for input until it gets a small input.</p>\n\n<p>It then does some processing on the input</p>\n\n<p>It ends</p>\n\n<hr>\n\n<p>If you want the whole system to repeat, you would need an outer loop and good exit criteria (when does the loop end). Something like the following psuedo-code.</p>\n\n<pre><code>str = raw_input\nwhile toLower(str) != \"exit\"\n  while len(str) &gt; 100\n  ...\n  #your other code\n  ...\n  str = raw_input\nwend\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "edited": false, "score": 0, "creation_date": 1460586857, "post_id": 36610529, "comment_id": 60818221, "body": "Thank you for a reference. I haven&#39;t worked with &quot;try&quot; or &quot;except&quot; statements yet since I am still new to python So I won&#39;t use them yet. I&#39;ll modify my current program and try to base it off your logic."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "edited": false, "score": 0, "creation_date": 1460587763, "post_id": 36610529, "comment_id": 60818576, "body": "@juan if you&#39;re using dictionaries then your options are a <code>try</code> / <code>except</code> or <code>get</code> which will return <code>None</code> if it fails. Basically here, what it&#39;s doing in <code>try</code> is &quot;do I know the full sentence for this abbreviation?&quot; If it works, it gives you the sentence. The <code>except</code> is &quot;No I don&#39;t, keep the word as it is&quot;. You can&#39;t avoid this kind of structure for long..."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "edited": false, "score": 0, "creation_date": 1460588349, "post_id": 36610529, "comment_id": 60818774, "body": "@juan also, this code should work as a self-contained program. If you copy/paste it to a script, it should do what you want it to. I made it verbose on purpose; stick some <code>print</code> statements in to see what is happening."}], "tags": [], "owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "is_accepted": true, "score": 0, "last_activity_date": 1460585729, "creation_date": 1460585729, "answer_id": 36610529, "question_id": 36609286, "link": "https://stackoverflow.com/questions/36609286/understanding-why-my-loop-is-not-restarting/36610529#36610529", "title": "Understanding why my loop is not restarting", "body": "<p>Based on your comments, this should get you started:</p>\n\n<pre><code>abb_dict = {\n    'lol': 'laughing out loud',\n    'bfn': 'bye for now',\n    'cuz': 'because',\n    'omw': 'on my way',\n    'tbh':'to be honest',\n    'afk':'away from keyboard',\n    'brb':'be right back',\n    'afaik':'as far as i know',\n    'np':'no problem',\n    'rofl':'rolling on floor laughing',\n    'asap': 'as soon as possible',    \n}\n\nuser_wants_to_play = True\nwhile user_wants_to_play:\n    check = raw_input('Do you want to play? y/n:')\n    if check == 'y':\n        tweet_str = raw_input('Enter a statement with an abbreviation: ')\n        words = tweet_str.split(' ')\n        rtn_sentence = []\n        for word in words:\n            try:\n                replacement = abb_dict[word]\n                word = replacement\n                rtn_sentence.append(word)\n            except:\n                rtn_sentence.append(word)\n        print ' '.join(rtn_sentence)\n    else:\n        user_wants_to_play= False\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6195737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357004d3af35c86154da6ebc3f7846d4?s=128&d=identicon&r=PG&f=1", "display_name": "juan", "link": "https://stackoverflow.com/users/6195737/juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 36610529, "answer_count": 3, "score": 0, "last_activity_date": 1460586058, "creation_date": 1460580463, "last_edit_date": 1460582525, "question_id": 36609286, "link": "https://stackoverflow.com/questions/36609286/understanding-why-my-loop-is-not-restarting", "title": "Understanding why my loop is not restarting", "body": "<p>I know in order to loop back to the start I need to enclose it in a \"While\" loop. However I already have a while loop to restart if the user inputs more characters than necessary. Should I change that condition? or is it possible to fix this without adding a function?</p>\n\n<p>-edit- My fault for not being clear: Here's my actual code </p>\n\n<pre><code>abb_dict = {\n    'lol': 'laughing out loud',\n    'bfn': 'bye for now',\n    'cuz': 'because',\n    'omw': 'on my way',\n    'tbh':'to be honest',\n    'afk':'away from keyboard',\n    'brb':'be right back',\n    'afaik':'as far as i know',\n    'np':'no problem',\n    'rofl':'rolling on floor laughing',\n    'asap': 'as soon as possible',    \n}\n\nfor k, v in abb_dict.items(): # list all the abbreviations available to be translated\n    print k, v\ntweet_str = raw_input('Enter the sentence with an abbreviation in it :\\n').lower()\n\nwhile len(tweet_str) &gt; 160: ## if tweet_str passes 160 characters it will display a message\n    print \"Too long, keep it less than 160 characters\"\n    tweet_str= raw_input('Enter the sentence with an abbreviation in it :\\n').lower()# prompts user to re-enter new string\n\nfor k in abb_dict: # looks for any key variable in dictionary\n        if k in tweet_str: # if the key is seen in the user input\n            print k, abb_dict[k] # prints key variable along with dictionaries value which is the definition of the abbreviation\n\nfor key, value in abb_dict.iteritems():\n    tweet_str = tweet_str.replace(key, value) #replaces abbreviations with their definition\nprint tweet_str\n</code></pre>\n"}, {"tags": ["python", "tkinter", "sqlite"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1460582612, "post_id": 36609285, "comment_id": 60816317, "body": "please show what you&#39;ve tried. How are you inserting data into the widget? The <code>insert</code> method is fairly well documented."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1460583428, "post_id": 36609285, "comment_id": 60816728, "body": "Between <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/ttk-Treeview.html\" rel=\"nofollow noreferrer\">infohost.nmt.edu/tcc/help/pubs/tkinter/web/ttk-Treeview.html</a> and <a href=\"http://www.tkdocs.com/tutorial/tree.html\" rel=\"nofollow noreferrer\">tkdocs.com/tutorial/tree.html</a> you should be able to write something that works.  If not, show the failing code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1460583429, "post_id": 36609285, "comment_id": 60816729, "body": "No point reinventing the wheel.  I always search for &quot;ttk treeview multilist box&quot; when wanting to find it again.  You can just substitute your heads and list of data into a program that already works."}, {"owner": {"reputation": 75, "user_id": 6185438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed69ac67a65a3f19387d96682403f2ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ibrahim", "link": "https://stackoverflow.com/users/6185438/ibrahim"}, "edited": false, "score": 0, "creation_date": 1460586775, "post_id": 36609285, "comment_id": 60818182, "body": "Through trial and error i came up with this: tree.insert(&#39;&#39;, 1, values=invoiceid) However i need the values to be placed only in the left column and not across the row"}], "owner": {"reputation": 75, "user_id": 6185438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed69ac67a65a3f19387d96682403f2ed?s=128&d=identicon&r=PG&f=1", "display_name": "Ibrahim", "link": "https://stackoverflow.com/users/6185438/ibrahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1229, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1613754956, "creation_date": 1460580463, "last_edit_date": 1461621254, "question_id": 36609285, "link": "https://stackoverflow.com/questions/36609285/inserting-multiple-data-in-to-a-treeview-in-python-tkinter", "title": "Inserting multiple data in to a Treeview in Python Tkinter", "body": "<pre><code>RecreateBody()\nInvoicesScreen=ttk.Frame(bodyframe)\nInvoicesScreen.grid(column=0, row=0)\nInvoicesScreenTitle=ttk.Label(titleframe,text=\"Invoices Screen\")\nInvoicesScreenTitle.grid(row=0, column=0, padx=10, pady=5)\ntree.destroy()\ntree = ttk.Treeview(InvoicesScreen)\ntree.grid(column=0, row=0)\ntree['columns']=('one', 'two', 'three', 'four')\ntree.column(\"#0\", width=0)\ntree.column(\"one\", width=50 )\ntree.column(\"two\", width=200)\ntree.column(\"three\", width=100)\ntree.column(\"four\", width=100)\ntree.heading(\"one\", text=\"id\")\ntree.heading(\"two\", text=\"date\")\ntree.heading(\"three\", text=\"total\")\ntree.heading(\"four\", text=\"no of items\")\nc.execute('SELECT id FROM invoice')\ninvoiceid = c.fetchall()\n</code></pre>\n\n<p>I have tried every version of <code>tree.insert</code> and have been unable to to successfully pull data in to my <code>Treeview</code> from my database.</p>\n\n<p>I know the invoice <code>id</code> is fetching the right data because I tested it with the print command. Getting data in to the database from entry boxes was easy enough but have been stuck for an age trying to display the data within my program.</p>\n\n<p>Never used <code>Treeview</code> before in my life and the docs for <code>tree.insert</code> left me extremely confused.</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-models"], "comments": [{"owner": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 1, "creation_date": 1460580875, "post_id": 36609280, "comment_id": 60815386, "body": "You can always clone the project, point to a database you own and test with your own data. Relying on a Q&amp;A site for the functionality of your code is a BAD idea...just saying."}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "reply_to_user": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 0, "creation_date": 1460581296, "post_id": 36609280, "comment_id": 60815597, "body": "I&#39;m not going to implement this, the question is useful and the answer not easily found online...just saying."}, {"owner": {"reputation": 4935, "user_id": 1000378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57cb8c4b4f374ca2343b4c318eca27ac?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois Constant", "link": "https://stackoverflow.com/users/1000378/fran%c3%a7ois-constant"}, "edited": false, "score": 0, "creation_date": 1460581905, "post_id": 36609280, "comment_id": 60815930, "body": "I really don&#39;t understand why you cannot test it locally. All you need is 2 offices and 2 office cities. You could enter them via the admin or via a script (using factories)."}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1460583348, "post_id": 36609280, "comment_id": 60816680, "body": "I can&#39;t test here for the reason I stated, an example is here, <code>django.db.utils.IntegrityError: (1215, &#39;Cannot add foreign key constraint&#39;) </code>, I can&#39;t under the shell with that syntax <code>cs2.OfficeCity: (models.E015) &#39;ordering&#39; refers to the non-existent field &#39;office.office&#39;.</code> since my migration won&#39;t work since I can&#39;t change that db, and if you don&#39;t want to answer I&#39;m not stalking you forcing you to answer!"}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1460583434, "post_id": 36609280, "comment_id": 60816732, "body": "we&#39;re spending more time speaking here than speaking about the question! and you &quot;don&#39;t post anything on a question site&quot; guys waste more time than it would take to answer everytime. if you aren&#39;t using django, move along and let a django expert answer, I&#39;m trying to learn django better here. I&#39;m not even implementing this I&#39;m curious, hence the point of a forum"}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1460583983, "post_id": 36609280, "comment_id": 60817002, "body": "I&#39;ve updated the question to reflect what&#39;s pertinent when people ask a question"}, {"owner": {"reputation": 4935, "user_id": 1000378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57cb8c4b4f374ca2343b4c318eca27ac?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois Constant", "link": "https://stackoverflow.com/users/1000378/fran%c3%a7ois-constant"}, "edited": false, "score": 0, "creation_date": 1460584536, "post_id": 36609280, "comment_id": 60817241, "body": "&quot;I&#39;m trying to learn django better here.&quot; =&gt; great and we are trying to help you out. I&#39;ve answered below but that doesn&#39;t matter much. If you want to progress, the first thing would be to get the project running locally. Good luck."}, {"owner": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 0, "creation_date": 1460638748, "post_id": 36609280, "comment_id": 60843591, "body": "<a href=\"https://docs.djangoproject.com/es/1.9/topics/db/queries/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/es/1.9/topics/db/queries</a> =&gt; 15 seconds search"}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1460651788, "post_id": 36609280, "comment_id": 60853866, "body": "the project is running locally guy! Thank you for your answer, and I hope you have a better today today than yesterday lol..."}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1460651822, "post_id": 36609280, "comment_id": 60853881, "body": "I don&#39;t think being great at software helped you or cdvv&#39;s communication skills much"}, {"owner": {"reputation": 4935, "user_id": 1000378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57cb8c4b4f374ca2343b4c318eca27ac?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois Constant", "link": "https://stackoverflow.com/users/1000378/fran%c3%a7ois-constant"}, "edited": false, "score": 0, "creation_date": 1460670128, "post_id": 36609280, "comment_id": 60864152, "body": "codyc4321 at the matter of fact, it did ! Now, @cdw7788 and I took on our personal time to comment on your question. These were &quot;comments&quot; not &quot;answers&quot;; basically advising you to test locally. I have no idea who you are and how much experience you have BTW but that smelt like an XY problem. And thanks, tonight is going to be terrific :)"}], "answers": [{"comments": [{"owner": {"reputation": 7120, "user_id": 2026293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AohZn.jpg?s=128&g=1", "display_name": "pczeus", "link": "https://stackoverflow.com/users/2026293/pczeus"}, "edited": false, "score": 1, "creation_date": 1460597895, "post_id": 36610271, "comment_id": 60821538, "body": "Can you provide an explanation of how this solves the problem?"}, {"owner": {"reputation": 4935, "user_id": 1000378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57cb8c4b4f374ca2343b4c318eca27ac?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois Constant", "link": "https://stackoverflow.com/users/1000378/fran%c3%a7ois-constant"}, "reply_to_user": {"reputation": 7120, "user_id": 2026293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AohZn.jpg?s=128&g=1", "display_name": "pczeus", "link": "https://stackoverflow.com/users/2026293/pczeus"}, "edited": false, "score": 1, "creation_date": 1460600054, "post_id": 36610271, "comment_id": 60822181, "body": "&quot;I want to order a model based on a field of its foreign key&quot; =&gt; my reply is the correct syntax to do that."}, {"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1460652057, "post_id": 36610271, "comment_id": 60854005, "body": "pczues, after the pedantic, curmudgeonly discussion above, Francois decided to succinctly answer my question completely within 2 lines. As the temporal value &quot;15 seconds&quot; is a theme here, I just typed out his answer and it took me, lo and behold, 15 seconds. This solves the problem of the question I asked, but does not seem to solve mr. Francois&#39;s confusion as to why I could not test this in the shell without getting approval from one of the VPs at work, which is really the bigger issue here. Curing cancer &gt; understanding my local project config &gt; ending world hunger, in that order."}], "tags": [], "owner": {"reputation": 4935, "user_id": 1000378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/57cb8c4b4f374ca2343b4c318eca27ac?s=128&d=identicon&r=PG", "display_name": "Fran&#231;ois Constant", "link": "https://stackoverflow.com/users/1000378/fran%c3%a7ois-constant"}, "is_accepted": true, "score": 2, "last_activity_date": 1460599891, "last_edit_date": 1460599891, "creation_date": 1460584402, "answer_id": 36610271, "question_id": 36609280, "link": "https://stackoverflow.com/questions/36609280/determine-a-models-default-order-by-a-field-of-its-foreign-key-django/36610271#36610271", "title": "determine a model&#39;s default order by a field of its foreign key Django", "body": "<pre><code>class Meta:\n    ordering = ('office__description',)\n</code></pre>\n"}], "owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 36610271, "answer_count": 1, "score": 0, "last_activity_date": 1460651743, "creation_date": 1460580449, "last_edit_date": 1460651743, "question_id": 36609280, "link": "https://stackoverflow.com/questions/36609280/determine-a-models-default-order-by-a-field-of-its-foreign-key-django", "title": "determine a model&#39;s default order by a field of its foreign key Django", "body": "<p>I want to order a model based on a field of its foreign key. I find results when googling this as to the ORM, but I'm before that, declaring the metaclass. They show things such as</p>\n\n<pre><code> units = Unit.objecwhere to lookts.filter(color='red').order_by('location__label')\n</code></pre>\n\n<p>but I want to order on declaration automatically:</p>\n\n<pre><code>class Office(models.Model):\n    objects = OfficeManager()\n    id = models.IntegerField(db_column='office_id', primary_key=True)\n    office = models.CharField(max_length=20)\n    description = models.CharField(max_length=255)\n\n    class Meta:\n        db_table = 'tblOffices'\n        ordering = ('office',)\n\n    def __str__(self):\n        return self.office\n\n\nclass OfficeCity(models.Model):\n    office = models.ForeignKey(Office, db_column='tblOffices')\n    name = models.CharField(max_length=255)\n\n    class Meta:\n        db_table = 'cities'\n        ordering = ('office.description')\n</code></pre>\n\n<p>Is the above code snippet correct to order these cities by the FK description field? Thank you</p>\n\n<p>Attached is a demo of a django learner's \"googling it in less than or equal to 15 seconds\", end quote.</p>\n\n<p><a href=\"https://i.stack.imgur.com/17m8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/17m8g.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/fDu9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fDu9E.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that in the second picture, the django learner may be tempted to click on <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/fields/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.9/ref/models/fields/</a> and read the entire 26 pages (from if you were to print it), spending a few hours relearning useful things they've already read, but surely not finding an answer to the question by \"googling it within 15 seconds\". This leads one to believe that possibly the person who googled it within 15 seconds already knew <em>where to look</em> and <em>what to look for</em>, which is why it took them 15 seconds, but for the learner it would take several hours to find the answer. If the learner is not implementing this feature, but merely curious, it would seem a Q&amp;A forum is the proper place to seek answers (the A part of Q&amp;A) by positing questions (the Q part). Let's leave the ego to the brain surgeons guys, we understand if you've been doing this for 30 years you're an expert, those of us half your age learning this will be an expert when we're 60 too. Hopefully we remain humble, however...</p>\n"}, {"tags": ["python", "machine-learning", "theano", "deep-learning", "theano.scan"], "answers": [{"tags": [], "owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "is_accepted": false, "score": 0, "last_activity_date": 1460982930, "last_edit_date": 1460982930, "creation_date": 1460664419, "answer_id": 36632966, "question_id": 36609273, "link": "https://stackoverflow.com/questions/36609273/typeerror-inconsistency-in-the-inner-graph-of-scan-scan-fn-tensortypef/36632966#36632966", "title": "TypeError: Inconsistency in the inner graph of scan &#39;scan_fn&#39; .... &#39;TensorType(float64, col)&#39; and &#39;TensorType(float64, matrix)&#39;", "body": "<p>I think, I found the issue. I had to recheck all the dimensions of the matrices. I still have to double check my code. Once I'm finished I'll put the new code.</p>\n\n<p>Thankyou.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6945117, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_BBkA3akUJY/AAAAAAAAAAI/AAAAAAAAAEk/IPHKHp0XSYA/photo.jpg?sz=128", "display_name": "HAOTIAN CUI", "link": "https://stackoverflow.com/users/6945117/haotian-cui"}, "is_accepted": false, "score": 1, "last_activity_date": 1476093085, "creation_date": 1476093085, "answer_id": 39955633, "question_id": 36609273, "link": "https://stackoverflow.com/questions/36609273/typeerror-inconsistency-in-the-inner-graph-of-scan-scan-fn-tensortypef/39955633#39955633", "title": "TypeError: Inconsistency in the inner graph of scan &#39;scan_fn&#39; .... &#39;TensorType(float64, col)&#39; and &#39;TensorType(float64, matrix)&#39;", "body": "<p>use</p>\n\n<pre><code>outputs_info=[tensor.unbroadcast(tensor.alloc(numpy.asarray(0., dtype=floatX),\n                                              options['hidden_dim'], 1),1),\n              tensor.unbroadcast(tensor.alloc(numpy.asarray(0., dtype=floatX),\n                                              options['hidden_dim'], 1),1)]\n</code></pre>\n\n<p>instead of the original outputs_info.</p>\n\n<p>This is because the second dim of <code>tensor.alloc(numpy.asarray(0., dtype=floatX),options['hidden_dim'], 1)</code> is 1, then theano automatically make it broadcastable, and wrap the tensor variable as col instead of matrix. This this the <code>'TensorType(float64, col)'</code> in the error message</p>\n\n<pre><code>TypeError: Inconsistency in the inner graph of scan 'scan_fn' : an input and an output are associated with the same recurrent state and should have the same type but have type 'TensorType(float64, col)' and 'TensorType(float64, matrix)' respectively. \n</code></pre>\n\n<p>And <code>theano.unbroadcast</code> avoids this problem.</p>\n"}], "owner": {"reputation": 867, "user_id": 815539, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c57849a90452c9e09b721a01ea089b3d?s=128&d=identicon&r=PG", "display_name": "inblueswithu", "link": "https://stackoverflow.com/users/815539/inblueswithu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1476093085, "creation_date": 1460580424, "question_id": 36609273, "link": "https://stackoverflow.com/questions/36609273/typeerror-inconsistency-in-the-inner-graph-of-scan-scan-fn-tensortypef", "title": "TypeError: Inconsistency in the inner graph of scan &#39;scan_fn&#39; .... &#39;TensorType(float64, col)&#39; and &#39;TensorType(float64, matrix)&#39;", "body": "<p>I'm getting the following error when I try to run my LSTM program (for variable length inputs).    </p>\n\n<blockquote>\n  <p>TypeError: Inconsistency in the inner graph of scan 'scan_fn' : an\n  input and an output are associated with the same recurrent state and\n  should have the same type but have type 'TensorType(float64, col)' and\n  'TensorType(float64, matrix)' respectively.</p>\n</blockquote>\n\n<p>My program is based on the LSTM example for imdb sentiment analysis problem as in here: <a href=\"http://deeplearning.net/tutorial/lstm.html\" rel=\"nofollow\">http://deeplearning.net/tutorial/lstm.html</a> . My data is not of imdb but it is sensor data.</p>\n\n<p>I shared my source code: <a href=\"https://ohio.box.com/s/n3onzqub3cutgzdtsb2fws6u0m5buxmt\" rel=\"nofollow\"><strong>lstm_var_length.py</strong></a> and data: <strong><a href=\"https://ohio.box.com/s/vvkhamka60hphidizwrxvp49aw5wda7m\" rel=\"nofollow\">data.npz</a></strong>. (Click on the files)</p>\n\n<p>From the error above and a few google searches made me understand that I have some issue with the vector/matrix dimensions in my function. Below are the function definitions where this problem occurs: </p>\n\n<pre><code>def lstm_layer(shared_params, input_ex, options):\n\"\"\"\nLSTM Layer implementation. (Variable Length inputs)\n\nParameters\n----------\nshared_params: shared model parameters W, U, b etc\ninput_ex: input example (say dimension: 36 x 100 i.e 36 features and 100 time units)\noptions: Neural Network model options\n\nOutput / returns\n----------------\noutput of each lstm cell [h_0, h_1, ..... , h_t]\n\"\"\"\n\ndef slice(param, slice_no, height):\n    return param[slice_no*height : (slice_no+1)*height, :]\n\ndef cell(wxb, ht_1, ct_1):\n    pre_activation = tensor.dot(shared_params['U'], ht_1)\n    pre_activation += wxb\n\n    height = options['hidden_dim']\n    ft = tensor.nnet.sigmoid(slice(pre_activation, 0, height))\n    it = tensor.nnet.sigmoid(slice(pre_activation, 1, height))\n    c_t = tensor.tanh(slice(pre_activation, 2, height))\n    ot = tensor.nnet.sigmoid(slice(pre_activation, 3, height))\n\n    ct = ft * ct_1 + it * c_t\n    ht = ot * tensor.tanh(ct)\n\n    return ht, ct\n\nwxb = tensor.dot(shared_params['W'], input_ex) + shared_params['b']\nnum_frames = input_ex.shape[1]\nresult, updates = theano.scan(cell,\n                              sequences=[wxb.transpose()],\n                              outputs_info=[tensor.alloc(numpy.asarray(0., dtype=floatX),\n                                                         options['hidden_dim'], 1),\n                                            tensor.alloc(numpy.asarray(0., dtype=floatX),\n                                                         options['hidden_dim'], 1)],\n                              n_steps=num_frames)\n\nreturn result[0]  # only ht is needed\n\n\ndef build_model(shared_params, options):\n\"\"\"\nBuild the complete neural network model and return the symbolic variables\n\nParameters\n----------\nshared_params: shared, model parameters W, U, b etc\noptions: Neural Network model options\n\nreturn\n------\nx, y, f_pred_prob, f_pred, cost\n\"\"\"\n\nx = tensor.matrix(name='x', dtype=floatX)\ny = tensor.iscalar(name='y') # tensor.vector(name='y', dtype=floatX)\n\nnum_frames = x.shape[1]\n# lstm outputs from each cell\nlstm_result = lstm_layer(shared_params, x, options)\n# mean pool from the lstm cell outputs\npool_result = lstm_result.sum(axis=1)/(1. * num_frames)\n# Softmax / Logistic Regression\npred = tensor.nnet.softmax(tensor.dot(shared_params['softmax_W'], pool_result) +\n                           shared_params['softmax_b'])\n# predicted probability function\ntheano.printing.debugprint(pred)\nf_pred_prob = theano.function([x], pred, name='f_pred_prob', mode='DebugMode') # 'DebugMode' &lt;-- Problem seems to occur at this point\n# predicted class\nf_pred = theano.function([x], pred.argmax(axis=0), name='f_pred')\n# cost of the model: -ve log likelihood\noffset = 1e-8   # an offset to prevent log(0)\ncost = -tensor.log(pred[y-1, 0] + offset)    # y = 1,2,...n but indexing is 0,1,..(n-1)\n\nreturn x, y, f_pred_prob, f_pred, cost\n</code></pre>\n\n<p>The error above is caused when trying to compile <strong>f_pred_prob</strong> theano function.</p>\n\n<p>Exception and call stack is below: </p>\n\n<pre><code>File \"/home/inblueswithu/Documents/Theano_Trails/lstm_var_length.py\", line 450, in \n    main()\n  File \"/home/inblueswithu/Documents/Theano_Trails/lstm_var_length.py\", line 447, in main\n  train_lstm(model_options, train, valid)\n File \"/home/inblueswithu/Documents/Theano_Trails/lstm_var_length.py\", line 314, in train_lstm\n  (x, y, f_pred_prob, f_pred, cost) = build_model(shared_params, options)\nFile \"/home/inblueswithu/Documents/Theano_Trails/lstm_var_length.py\", line 95, in build_model\n  f_pred_prob = theano.function([x], pred, name='f_pred_prob', mode='DebugMode') # 'DebugMode'\nFile \"/usr/local/lib/python2.7/dist-packages/theano/compile/function.py\", line 320, in function\n  output_keys=output_keys)\nFile \"/usr/local/lib/python2.7/dist-packages/theano/compile/pfunc.py\", line 479, in pfunc\n  output_keys=output_keys)\nFile \"/usr/local/lib/python2.7/dist-packages/theano/compile/function_module.py\", line 1777, in orig_function\n  defaults)\nFile \"/usr/local/lib/python2.7/dist-packages/theano/compile/debugmode.py\", line 2571, in create\n  storage_map=storage_map)\nFile \"/usr/local/lib/python2.7/dist-packages/theano/gof/link.py\", line 690, in make_thunk\n  storage_map=storage_map)[:3]\nFile \"/usr/local/lib/python2.7/dist-packages/theano/compile/debugmode.py\", line 1809, in make_all\n  no_recycling)\nFile \"/usr/local/lib/python2.7/dist-packages/theano/scan_module/scan_op.py\", line 730, in make_thunk\n  self.validate_inner_graph()\nFile \"/usr/local/lib/python2.7/dist-packages/theano/scan_module/scan_op.py\", line 249, in validate_inner_graph\n  (self.name, type_input, type_output))\nTypeError: Inconsistency in the inner graph of scan 'scan_fn' : an input and an output are associated with the same recurrent state and should have the same type but have type 'TensorType(float64, col)' and 'TensorType(float64, matrix)' respectively. </code></pre>\n\n<p>I have been doing all the debugging for a week, but could not find the issue. I doubt the initializations at outputs_info in theano.scan to be the problem but when I delete the second dimension (1) I get an error in slice function even before getting to <strong>f_pred_prob</strong> function (near <em>lstm_result</em>). I'm not sure where the problem lies.</p>\n\n<p>A simple execution of this program by placing the data file in the same directory as the python source file can recreate this issue.</p>\n\n<p>Please help me out.</p>\n\n<p>Thanks &amp; Regards, \ninblueswithu</p>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 0, "creation_date": 1460580470, "post_id": 36609265, "comment_id": 60815178, "body": "What does your original input look like? Is it just <code>&quot;15:46:00 State:NY Phone:x-xxx-xxx&quot;</code>?"}, {"owner": {"reputation": 1084, "user_id": 6005062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9KbZp.jpg?s=128&g=1", "display_name": "estebanpdl", "link": "https://stackoverflow.com/users/6005062/estebanpdl"}, "reply_to_user": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 0, "creation_date": 1460580741, "post_id": 36609265, "comment_id": 60815318, "body": "Not, there are several items, like 100. And they change depending on content from pdf. However, almost 100% of the words are before a <code>:</code> character."}, {"owner": {"reputation": 1084, "user_id": 6005062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9KbZp.jpg?s=128&g=1", "display_name": "estebanpdl", "link": "https://stackoverflow.com/users/6005062/estebanpdl"}, "reply_to_user": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 0, "creation_date": 1460580802, "post_id": 36609265, "comment_id": 60815352, "body": "That&#39;s what makes me think <code>regex</code> could be a good option to <code>split</code> them"}], "answers": [{"comments": [{"owner": {"reputation": 1084, "user_id": 6005062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9KbZp.jpg?s=128&g=1", "display_name": "estebanpdl", "link": "https://stackoverflow.com/users/6005062/estebanpdl"}, "edited": false, "score": 0, "creation_date": 1460582343, "post_id": 36609681, "comment_id": 60816172, "body": "Excellent! Thanks a lot for your help. It prints just the output I was looking for. Gracias."}], "tags": [], "owner": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "is_accepted": true, "score": 4, "last_activity_date": 1460582020, "creation_date": 1460582020, "answer_id": 36609681, "question_id": 36609265, "link": "https://stackoverflow.com/questions/36609265/python-split-words-before-character-but-not-time-structure/36609681#36609681", "title": "Python split words before &#39;:&#39; character but not time structure", "body": "<p>You have two issues with your code.  First you used a raw string and then still doubled the backslashes on '\\\\d', change those to '\\d'.  The other issue is that your comparing the entire item with the value returned by re.findall.  If your regexp were correct, re.findall would have returned only a ':' for the items that are not dates, so you should either compare with ':' or just that anything is returned.</p>\n\n<p>Your regexp is also overly complex for a relatively simple match.  I would use something like:</p>\n\n<pre><code>if not re.findall(r'\\d\\d:\\d\\d:\\d\\d', item):\n    item = item.replace(':', ':\\n')\n</code></pre>\n\n<p>There are also likely simpler ways to do the whole job with re.sub or re.split, but this should get you over your current hurdle.</p>\n"}], "owner": {"reputation": 1084, "user_id": 6005062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9KbZp.jpg?s=128&g=1", "display_name": "estebanpdl", "link": "https://stackoverflow.com/users/6005062/estebanpdl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "accepted_answer_id": 36609681, "answer_count": 1, "score": 1, "last_activity_date": 1460582265, "creation_date": 1460580390, "last_edit_date": 1460582265, "question_id": 36609265, "link": "https://stackoverflow.com/questions/36609265/python-split-words-before-character-but-not-time-structure", "title": "Python split words before &#39;:&#39; character but not time structure", "body": "<p>I'm trying to <code>Split</code> words before <code>:</code> character using regex.</p>\n\n<p>However, I don't want to <code>split</code> time structure, like 15:46:00 hrs.</p>\n\n<p>All the information I have is inside a <code>for</code> loop, and comes from scraping a pdf file.</p>\n\n<p>so, using this code:</p>\n\n<pre><code>for item in result:\n    for key in keyHeaders:\n        if key in item.encode('utf-8'):\n            item = item.replace(key, '')\n    if ':' in item:\n        item = item.replace(':', ':\\n')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>15:\n46:\n00\nState:\nNY\nPhone:\nx-xxx-xxx\n</code></pre>\n\n<p>Using regex or non-regex how can I <code>split</code> specifically words but not numbers joined by <code>:</code> character.</p>\n\n<p>I tried this, but nothing happen. In fact, it doesn\u00b4t split anything.</p>\n\n<pre><code>for item in result:\n    for key in keyHeaders:\n        if key in item.encode('utf-8'):\n            item = item.replace(key, '')\n    lines = re.compile(r'(?&lt;!\\\\d\\\\d):(?!\\\\d\\\\d)') # expect split words before ':'\n    if item == re.findall(lines, item):\n        item = item.replace(':', ':\\n')\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>15:46:00\nState:NY\nPhone:x-xxx-xxx\n</code></pre>\n\n<p>Thanks for your support!</p>\n"}, {"tags": ["python", "django", "view"], "comments": [{"owner": {"reputation": 102535, "user_id": 20128, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4b62eef3ad218a5d3cbdd1077660ca8b?s=128&d=identicon&r=PG", "display_name": "serg", "link": "https://stackoverflow.com/users/20128/serg"}, "edited": false, "score": 1, "creation_date": 1460615891, "post_id": 36609224, "comment_id": 60827424, "body": "There are class based views, can have one generic view and then subclass it or use mixins <a href=\"https://docs.djangoproject.com/en/1.9/topics/class-based-views/intro/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/topics/class-based-views/intro</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "is_accepted": true, "score": 2, "last_activity_date": 1460580606, "creation_date": 1460580606, "answer_id": 36609317, "question_id": 36609224, "link": "https://stackoverflow.com/questions/36609224/share-context-between-views-in-django/36609317#36609317", "title": "Share context between views in Django?", "body": "<p>That's normal, but the solution is really trivial, you could extract them into a function and only pass in the parameters that it needs to produce the result like <code>costumer_profile_form</code>, <code>registration</code> in this case. Then you call the function and that should be it.</p>\n"}], "owner": {"reputation": 1233, "user_id": 1499512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0bf0f7ff2f574ccbc49c1120ff7a660?s=128&d=identicon&r=PG", "display_name": "Gustavo Reyes", "link": "https://stackoverflow.com/users/1499512/gustavo-reyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 36609317, "answer_count": 1, "score": 2, "last_activity_date": 1460581885, "creation_date": 1460580234, "last_edit_date": 1460581885, "question_id": 36609224, "link": "https://stackoverflow.com/questions/36609224/share-context-between-views-in-django", "title": "Share context between views in Django?", "body": "<p>I have 3 views for very similar views and templates.</p>\n\n<p>My code is becoming repetitive and it doesn't seem to be following Django <strong>DRY</strong> approach.</p>\n\n<p><strong>Views.py</strong></p>\n\n<pre><code>@login_required\ndef registrations_check1_detail(request, registration_pk):\n\n    registration = get_object_or_404(Registration, pk=registration_pk)\n\n    costumer_profile_form = forms.CostumerProfileForm()\n\n    # THIS CONTEXT IS REPEATED ACROSS  MANY OF MY VIEWS\n    request_context = {\n        'registration': registration,\n        'status': Registration.STATUS_CHOICES,\n        'costumer_profile_form': costumer_profile_form,\n        'duration_form':  pf.DurationForm(),\n        'REG_DURATION_CHOICES'  : Duration.REG_DURATION_CHOICES,\n        'EXT_DURATION_CHOICES'  : Duration.EXT_DURATION_CHOICES,\n        'is_editable': editable_fields_perm(request.user, registration)\n    }\n\n    return render(request, 'profiles/registrations_check1_detail.html', request_context)\n\n@login_required\ndef finance_review_detail(request, registration_pk):\n\n    costumer_profile_form = forms.CostumerProfileForm()\n\n    registration = get_object_or_404(Registration, pk=registration_pk)\n\n    request_context = {\n        'registration': registration,\n        'costumer_profile_form': costumer_profile_form,\n        'duration_form':  pf.DurationForm(),\n        'REG_DURATION_CHOICES'  : Duration.REG_DURATION_CHOICES,\n        'EXT_DURATION_CHOICES'  : Duration.EXT_DURATION_CHOICES,\n        'is_editable': editable_fields_perm(request.user, registration)\n    }\n\n    return render(request, 'profiles/finance_review_detail.html', request_context)\n</code></pre>\n\n<p>Which is the proper way to handle this?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Following Shang Wang's advice this is how it looks now:</p>\n\n<pre><code>@login_required\ndef registration_detail(request, registration_pk):\n\n    request_context = _registration_context(registration_pk, request.user)\n\n    return render(request, 'profiles/registration_detail.html', request_context)\n</code></pre>\n"}, {"tags": ["python", "django", "git", "github"], "comments": [{"owner": {"reputation": 470, "user_id": 1842146, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/04ac28ee9add537d41b2bc2921b2d940?s=128&d=identicon&r=PG", "display_name": "Jordon Birk", "link": "https://stackoverflow.com/users/1842146/jordon-birk"}, "edited": false, "score": 0, "creation_date": 1460581347, "post_id": 36609201, "comment_id": 60815624, "body": "It might be a good idea to show some of the errors. Indent 4 spaces (or highlight and use the &quot;{}&quot; sign in the editor) for code.  A lot of things can go wrong when running an app from a git clone: Wrong Python version, not having all the libraries/frameworks installed (which is why a requirements.txt  to<code>pip install</code> for Python projects on GitHub is important); unresolved references (such as environment/PATH variables that aren&#39;t in the same place on the new system).  Running <code>make migrations</code> and <code>migrate</code> doesn&#39;t always cut it, either -- there are times when deleting the db file is needed."}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 5128308, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9xk0xOVtdiU/AAAAAAAAAAI/AAAAAAAAAKE/I8c6XBJOzKg/photo.jpg?sz=128", "display_name": "Jordan Haines", "link": "https://stackoverflow.com/users/5128308/jordan-haines"}, "is_accepted": false, "score": 0, "last_activity_date": 1460605783, "creation_date": 1460605783, "answer_id": 36613541, "question_id": 36609201, "link": "https://stackoverflow.com/questions/36609201/problems-with-database-after-cloning-django-app-from-github/36613541#36613541", "title": "Problems with database after cloning Django app from Github", "body": "<p>The django_sessions table should get initialized when you run your first migrations. You said taht you made your migrations, but did you run them (with <code>python manage.py migrate</code>). Also, do you have <code>django.contrib.auth</code> in the <code>installed_apps</code> in your settings file? This is the app that owns that session table</p>\n"}], "owner": {"reputation": 69, "user_id": 6200891, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9dd2923e4708de4c799eff608b04649c?s=128&d=identicon&r=PG&f=1", "display_name": "rsa", "link": "https://stackoverflow.com/users/6200891/rsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1541578099, "creation_date": 1460580136, "last_edit_date": 1541578099, "question_id": 36609201, "link": "https://stackoverflow.com/questions/36609201/problems-with-database-after-cloning-django-app-from-github", "title": "Problems with database after cloning Django app from Github", "body": "<p>I have just cloned a Django app from Github to a local directory. I know for a fact that the app works because I've run it on others' computers. </p>\n\n<p>When I run the server, I can see the site and register for an account. This works fine (I get a confirmation email). But then my login information causes an error because the DB appears to not have configured properly on my machine. I get the following errors: </p>\n\n<p>/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/django/db/backends/utils.py in execute\n                return self.cursor.execute(sql, params) ...\n\u25b6 Local vars\n/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/django/db/backends/sqlite3/base.py in execute\n        return Database.Cursor.execute(self, query, params) ...\n\u25b6 Local vars\nThe above exception (no such table: django_session) was the direct cause of the following exception:</p>\n\n<p>(It then lists a bunch of problems with local vars). </p>\n\n<p>I tried making migrations with every part of the app but this didn't appear to fix anything. </p>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460581196, "post_id": 36609196, "comment_id": 60815542, "body": "Possible duplicate? <a href=\"http://stackoverflow.com/questions/18833639/attributeerror-in-python-numpy-when-constructing-function-for-certain-values\" title=\"attributeerror in python numpy when constructing function for certain values\">stackoverflow.com/questions/18833639/&hellip;</a>"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 2, "creation_date": 1460603022, "post_id": 36609196, "comment_id": 60822976, "body": "Don&#39;t pass sympy objects to scipy functions.  scipy doesn&#39;t handle sympy&#39;s <code>Float</code> object."}, {"owner": {"reputation": 41, "user_id": 6189563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb3b349e43f22627430ebb7c765c30b?s=128&d=identicon&r=PG&f=1", "display_name": "hchiang", "link": "https://stackoverflow.com/users/6189563/hchiang"}, "edited": false, "score": 0, "creation_date": 1461072157, "post_id": 36609196, "comment_id": 61024541, "body": "Would it be able to handle numpy arrays?"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 0, "creation_date": 1502858767, "post_id": 36609196, "comment_id": 78368658, "body": "did you manage to solve your issue?"}, {"owner": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1502858812, "post_id": 36609196, "comment_id": 78368675, "body": "@WarrenWeckesser so is the solution just to convert the <code>sympy</code> floats to normal <code>float</code>s?"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 13435, "user_id": 1601580, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/2B6rV.png?s=128&g=1", "display_name": "Charlie Parker", "link": "https://stackoverflow.com/users/1601580/charlie-parker"}, "edited": false, "score": 2, "creation_date": 1502858903, "post_id": 36609196, "comment_id": 78368713, "body": "@CharlieParker: Yes, that should work."}], "owner": {"reputation": 41, "user_id": 6189563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddb3b349e43f22627430ebb7c765c30b?s=128&d=identicon&r=PG&f=1", "display_name": "hchiang", "link": "https://stackoverflow.com/users/6189563/hchiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 7446, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1460580126, "creation_date": 1460580126, "question_id": 36609196, "link": "https://stackoverflow.com/questions/36609196/attributeerror-float-object-has-no-attribute-sqrt", "title": "AttributeError: &#39;Float&#39; object has no attribute &#39;sqrt&#39;", "body": "<p>I'm trying to utilize the scipy.stats.linregress() function. I double checked that both my inputs are the same size and both are arrays. However I keep getting the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/chianh/Desktop/Reliability Py Scripts/MedianRanks_Solver_Rev0.py\", line 48, in &lt;module&gt;\n    slope, intercept, r_value, p_value, std_err = stats.linregress(data, median_rank)\n  File \"C:\\Users\\chianh\\AppData\\Local\\Programs\\Python\\Python35-32\\lib\\site-packages\\scipy\\stats\\_stats_mstats_common.py\", line 81, in linregress\n    r_den = np.sqrt(ssxm * ssym)\nAttributeError: 'Float' object has no attribute 'sqrt'\n</code></pre>\n\n<p>The code that i wrote is pasted below:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plot\nimport scipy.stats as stats\nfrom sympy import Symbol, binomial, expand_func, solve, solveset\n\ndef eval_median_rank( mylist ):\n    P = 0.5                         # Percentage Point (would be 0.5 to be median)\n    Z = Symbol('Z', real=True)      # Median Rank (Should be solved for each test unit)\n    result = []                     # Place holder for the evaluated Median Ranks\n\n    # Re-iterate and perform for each data point\n    for j in range(1, mylist.size+1):\n        eq = 0\n        k = j\n\n        # Generate the Median Rank equation which will be solved for 'Z' or Median Rank\n        while k &lt;= mylist.size:\n            eq = eq + expand_func(binomial(mylist.size, k) * (Z**k) * (1 - Z)**(mylist.size-k))\n            k += 1\n        eq = eq - P\n\n        # Solve for only Median Rank solutions that only fall between 0 and 1.\n        # Then append to the returning list\n        sol = [i for i in solve(eq, Z, list=True) if (i &gt; 0) and (i &lt; 1)]\n        result.extend(sol)\n\n    result.sort(reverse=True)\n    return np.array(result)\n\n######################################################################################################\n\n\n\n# Note that the samples must be ordered in ascending fail-time/UOM,\n# and the system must be solved in that order.\n\ndata = np.array([96, 257, 498, 763, 1051, 1744], dtype=object)\nrank = np.arange(1, data.size+1)\nmedian_rank = eval_median_rank(rank)\nprint(median_rank)\n\n# Use Scipy's stats package to perform Least-Squares fit\nslope, intercept, r_value, p_value, std_err = stats.linregress(data, median_rank)\n</code></pre>\n"}, {"tags": ["python", "html", "http", "browser", "popup"], "comments": [{"owner": {"reputation": 844, "user_id": 2238336, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/8251441a2b6477c7c89a37e07596bc04?s=128&d=identicon&r=PG", "display_name": "mlegg", "link": "https://stackoverflow.com/users/2238336/mlegg"}, "edited": false, "score": 0, "creation_date": 1460582307, "post_id": 36609191, "comment_id": 60816152, "body": "is this what you want to do?  <a href=\"http://www.cssscript.com/demo/minimal-modal-component-vanilla-javascript-mimodal/\" rel=\"nofollow noreferrer\">cssscript.com/demo/&hellip;</a>"}, {"owner": {"reputation": 121, "user_id": 5925041, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b20db2566d08523a07e1ca81b91cb12?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe_asking", "link": "https://stackoverflow.com/users/5925041/johndoe-asking"}, "reply_to_user": {"reputation": 844, "user_id": 2238336, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/8251441a2b6477c7c89a37e07596bc04?s=128&d=identicon&r=PG", "display_name": "mlegg", "link": "https://stackoverflow.com/users/2238336/mlegg"}, "edited": false, "score": 0, "creation_date": 1460583879, "post_id": 36609191, "comment_id": 60816960, "body": "Not by link that the user need to click on, I mean I send the response and in the client browser it opens new window with the HTML code that I wrote, like the annoying popup commercial pages [btw I have socket with the browser so communication with the browser is not the problem]"}], "owner": {"reputation": 121, "user_id": 5925041, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5b20db2566d08523a07e1ca81b91cb12?s=128&d=identicon&r=PG&f=1", "display_name": "johndoe_asking", "link": "https://stackoverflow.com/users/5925041/johndoe-asking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1460580629, "creation_date": 1460580117, "last_edit_date": 1460580629, "question_id": 36609191, "link": "https://stackoverflow.com/questions/36609191/http-response-popup-new-webpage", "title": "HTTP Response Popup New Webpage", "body": "<p>I want to send HTTP Response that has HTML Code that will Popup [Open new Window]\nin the client browser.</p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;Virus Content Detected!&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h1&gt;The File You Download Has Malicious Content!&lt;/h1&gt;\n\n&lt;p&gt; This file known as \"Trojan/VB.gen\", please next time\ncheck where you download from.&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>How can I do that? </p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 23035, "user_id": 401828, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ea104f2947e580667d15b7403829b1ec?s=128&d=identicon&r=PG", "display_name": "heltonbiker", "link": "https://stackoverflow.com/users/401828/heltonbiker"}, "edited": false, "score": 1, "creation_date": 1460580311, "post_id": 36609172, "comment_id": 60815085, "body": "Have you tried anything yet?"}, {"owner": {"reputation": 2211, "user_id": 1667840, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3a0eb2aabd323d1e50b4f8fe0caf59b1?s=128&d=identicon&r=PG&f=1", "display_name": "gidim", "link": "https://stackoverflow.com/users/1667840/gidim"}, "edited": false, "score": 2, "creation_date": 1460580349, "post_id": 36609172, "comment_id": 60815104, "body": "what do you mean that the values of list_b are linearly interpolated? what is the logic?"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1460580377, "post_id": 36609172, "comment_id": 60815124, "body": "The first thing I ask myself when doing this is how would I do it by hand.  Then I carefully describe what I did and turn it into code."}, {"owner": {"reputation": 10831, "user_id": 300791, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b5bd432b4c4aba128fb803228b4d5878?s=128&d=identicon&r=PG", "display_name": "msvalkon", "link": "https://stackoverflow.com/users/300791/msvalkon"}, "edited": false, "score": 0, "creation_date": 1460580423, "post_id": 36609172, "comment_id": 60815150, "body": "Is it guaranteed that your lists are sorted?"}, {"owner": {"reputation": 2259, "user_id": 3646530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/668f24062be0d0ff0f30e04af21a2d30?s=128&d=identicon&r=PG&f=1", "display_name": "ashwinjv", "link": "https://stackoverflow.com/users/3646530/ashwinjv"}, "edited": false, "score": 0, "creation_date": 1460586118, "post_id": 36609172, "comment_id": 60817909, "body": "take a look at <a href=\"http://stackoverflow.com/questions/2732994/python-sort-a-list-and-change-another-one-consequently\" title=\"python sort a list and change another one consequently\">stackoverflow.com/questions/2732994/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3853, "user_id": 1833960, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/92d42253747f8ee3a83465dc04126f93?s=128&d=identicon&r=PG", "display_name": "George Sovetov", "link": "https://stackoverflow.com/users/1833960/george-sovetov"}, "is_accepted": true, "score": 0, "last_activity_date": 1460581635, "last_edit_date": 1460581635, "creation_date": 1460580773, "answer_id": 36609357, "question_id": 36609172, "link": "https://stackoverflow.com/questions/36609172/filling-in-2-lists-in-python/36609357#36609357", "title": "Filling in 2 lists in python", "body": "<p>Since this question has <code>numpy</code> tag, I assume that it's supposed to use numpy.</p>\n\n<p>Also, I assume that <code>list_a</code> is sorted.</p>\n\n<p><code>numpy.arange(list_a[0], list_a[-1])</code> gives numpy array <code>[2016, 2017, ...]</code>.</p>\n\n<p><code>numpy.interp(numpy.arange(list_a[0], list_a[-1]), list_a, list_b)</code> gives you linearly interpotaled function values <code>[34.5, 35.5, ...]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 1515575, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f2b3e970dfe7b2ee7c51f7f7012f17c?s=128&d=identicon&r=PG", "display_name": "Plamenk", "link": "https://stackoverflow.com/users/1515575/plamenk"}, "is_accepted": false, "score": -1, "last_activity_date": 1460581476, "last_edit_date": 1460581476, "creation_date": 1460580959, "answer_id": 36609414, "question_id": 36609172, "link": "https://stackoverflow.com/questions/36609172/filling-in-2-lists-in-python/36609414#36609414", "title": "Filling in 2 lists in python", "body": "<p>The first part is easy:</p>\n\n<p>list_aa = range(list_a[0],list_a[len(list_a)-1])</p>\n\n<p>For the second part you need to interpolate and sample the same number of points as in the new list_aa, e.g. like this: numpy.interp(list_aa,list_a,list_b) </p>\n"}, {"tags": [], "owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "is_accepted": false, "score": 0, "last_activity_date": 1460581263, "creation_date": 1460581263, "answer_id": 36609504, "question_id": 36609172, "link": "https://stackoverflow.com/questions/36609172/filling-in-2-lists-in-python/36609504#36609504", "title": "Filling in 2 lists in python", "body": "<p>You can do the following for a very naive interpolation</p>\n\n<pre><code>list_a_final = [i for i in range(list_a[0], list_a[-1] +1)]\nlist_b_final = [list_b[0] + (list_b[-1]-list_b[0])/(len(list_a_final) -1) * i for i in range(len(list_a_final))]\n</code></pre>\n\n<p>output </p>\n\n<pre><code>list_b_final = [34.5, 35.41016949152542, 36.320338983050846, 37.23050847457627, 38.140677966101\n7, 39.05084745762712, 39.961016949152544, 40.87118644067797, 41.78135593220339,\n42.69152542372881, 43.60169491525424, 44.511864406779665, 45.42203389830509, 46.\n33220338983051, 47.242372881355934, 48.152542372881356, 49.06271186440678, 49.97\n28813559322, 50.883050847457625, 51.79322033898305, 52.70338983050848, 53.613559\n3220339, 54.52372881355932, 55.433898305084746, 56.344067796610176, 57.254237288\n1356, 58.16440677966102, 59.074576271186444, 59.98474576271187, 60.8949152542372\n9, 61.80508474576271, 62.715254237288136, 63.62542372881356, 64.53559322033898,\n65.4457627118644, 66.35593220338984, 67.26610169491525, 68.17627118644069, 69.08\n64406779661, 69.99661016949153, 70.90677966101696, 71.81694915254238, 72.7271186\n440678, 73.63728813559322, 74.54745762711865, 75.45762711864407, 76.367796610169\n49, 77.27796610169491, 78.18813559322035, 79.09830508474576, 80.0084745762712, 8\n0.9186440677966, 81.82881355932204, 82.73898305084745, 83.64915254237289, 84.559\n32203389831, 85.46949152542373, 86.37966101694916, 87.28983050847458, 88.2]\n</code></pre>\n\n<p>As you can see, the two middle values are missed slightly because the interpolation is done from the starting and ending values> If you need something more precise, look into curve fitting.</p>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 36609357, "answer_count": 3, "score": -1, "last_activity_date": 1460584048, "creation_date": 1460580050, "last_edit_date": 1460584048, "question_id": 36609172, "link": "https://stackoverflow.com/questions/36609172/filling-in-2-lists-in-python", "title": "Filling in 2 lists in python", "body": "<p>I have 2 lists:</p>\n\n<pre><code>list_a = [2016, 2025, 2050, 2075]\nlist_b = [34.5, 43.5, 65.8, 88.2]\n</code></pre>\n\n<p>I want to extend list_a so that all values between 2016 to 2075 are filled i.e. 2016, 2017, ... 2074, 2075. list_b values should all be linearly interpolated, so that lengths of list_a and list_b are the same.</p>\n\n<p>Really not sure how to do this apart from maybe apply a for loop.</p>\n"}, {"tags": ["python", "dictionary", "sum"], "answers": [{"tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": false, "score": 0, "last_activity_date": 1460581124, "last_edit_date": 1460581124, "creation_date": 1460580585, "answer_id": 36609311, "question_id": 36609167, "link": "https://stackoverflow.com/questions/36609167/sum-of-tupled-values-in-dictionary-over-several-keys-from-2-dictionaries/36609311#36609311", "title": "Sum of tupled values in dictionary over several keys from 2 dictionaries", "body": "<p>One dict-comprehension and usage of built-in <a href=\"https://docs.python.org/2/library/functions.html#sum\" rel=\"nofollow\"><code>sum</code></a> will help:</p>\n\n<pre><code>avg_unemployment = {\n    p: sum(  # sum yearly averages ...\n        sum(unemploy[year])/len(unemploy[year])  # monthly average per year\n        for year in range(start, start+served)   # for each year of presidency\n    )/served  # ... and divide by number of years served\n    for p, (start, served) in pres.iteritems()  # for each presidency\n}\n\n# for provided years:\n# {'Bush': 7958}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 6150780, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1cca6e57c11bdbb669e7a6f1e0e8f2c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6150780/nick"}, "edited": false, "score": 0, "creation_date": 1460642024, "post_id": 36609621, "comment_id": 60846460, "body": "With some tinkering and removing unnecessary bits, I got this to work perfectly for just calling one definition."}], "tags": [], "owner": {"reputation": 543, "user_id": 2315747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Ljzp.jpg?s=128&g=1", "display_name": "Elijah", "link": "https://stackoverflow.com/users/2315747/elijah"}, "is_accepted": true, "score": 0, "last_activity_date": 1460581808, "creation_date": 1460581808, "answer_id": 36609621, "question_id": 36609167, "link": "https://stackoverflow.com/questions/36609167/sum-of-tupled-values-in-dictionary-over-several-keys-from-2-dictionaries/36609621#36609621", "title": "Sum of tupled values in dictionary over several keys from 2 dictionaries", "body": "<p>schwobaseggl's answer is really good and short, but if you need it in function format take a look below.</p>\n\n<pre><code>pres = {\n    \"Reagan\": (1981, 8),\n    \"Bush\": (1989, 4),\n    \"Bill Clinton\": (1993,8),\n}\n\nunemploy = {\n    1989:   (6682,  6359,   6205,   6468,   6375,   6577,   6495,   6511,   6590,   6630,   6725,   6667),\n    1990:   (6752,  6651,   6598,   6797,   6742,   6590,   6922,   7188,   7368,   7459,   7764,   7901),\n    1991:   (8015,  8265,   8586,   8439,   8736,   8692,   8586,   8666,   8722,   8842,   8931,   9198),\n    1992:   (9283,  9454,   9460,   9415,   9744,   10040,  9850,   9787,   9781,   9398,   9565,   9557),\n}\n\n\ndef avg_unemployment_for_pres_term(name):\n    if pres.get(name) is None:\n        return 0\n\n    the_pres = pres[name]\n\n    first_year = the_pres[0]\n    last_year = first_year + the_pres[1]\n\n    years = []\n\n    for year in range(first_year, last_year):\n        unemp_rates = unemploy.get(year, (0,))\n        years.append(sum(unemp_rates)/len(unemp_rates))\n\n    return sum(years) / len(years)\n\n\ndef avg_unemployment_for_pres_year(name, year):\n    if pres.get(name) is None:\n        return 0\n\n    the_pres = pres[name]\n\n    unemp_rates = unemploy.get(year, (0,))\n    return sum(unemp_rates)/len(unemp_rates)\n\n\nprint avg_unemployment_for_pres_term(\"Bush\")  # 7958\nprint avg_unemployment_for_pres_year(\"Bush\", 1989)  # 6523\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 6150780, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1cca6e57c11bdbb669e7a6f1e0e8f2c5?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6150780/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 36609621, "answer_count": 2, "score": 0, "last_activity_date": 1551007441, "creation_date": 1460580038, "last_edit_date": 1551007441, "question_id": 36609167, "link": "https://stackoverflow.com/questions/36609167/sum-of-tupled-values-in-dictionary-over-several-keys-from-2-dictionaries", "title": "Sum of tupled values in dictionary over several keys from 2 dictionaries", "body": "<p>I've been attempting to work on this for a bit and have been getting partially there, but not quite yet. I'm working with 2 dictionaries. My dictionaries are the following with the first dictionary's values standing for: year starting in office and years served. The second dictionary (shortened to just 3 years on there, too big to put everything on here), the key stands for the year and the values are by month (0 to 11) what the number of unemployed were:</p>\n\n<pre><code>pres={\"Reagan\": (1981, 8), \"Bush\":(1989, 4),\n    \"Bill Cliton\":(1993,8,}\n\nunemploy=   {\n1989:   (6682,  6359,   6205,   6468,   6375,   6577,   6495,   6511,   6590,   6630,   6725,   6667),  \n1990:   (6752,  6651,   6598,   6797,   6742,   6590,   6922,   7188,   7368,   7459,   7764,   7901),  \n1991:   (8015,  8265,   8586,   8439,   8736,   8692,   8586,   8666,   8722,   8842,   8931,   9198),\n1992:   (9283,  9454,   9460,   9415,   9744,   10040,  9850, 9787, 9781,   9398,   9565,   9557)   }\n</code></pre>\n\n<p>I've been trying to get the average unemployment if I were to call for one president, for example Reagan.  Where I've gotten so far:</p>\n\n<pre><code>def avg_unemployment_for_president (pres,unemploy,president):\n    total=0 \n    avg=0\n    for key,value in pres.items():\n        if key == president:\n            firstyear= value[0]\n            lastyear=value[0]+ value[1]\n            if (firstyear, lastyear) in unemploy.keys():\n                for x in range(firstyear,lastyear):\n\n                    allunemp = unemploy[x]\n                    listunemp=list(allunemp)\n                    total= sum(listunemp)\n\n                    return(total)\n\navg_unemployment_for_president(pres, unemploy \"Reagan\")\n</code></pre>\n\n<p>How can I get it to iterate through from the first year and add all the values in the tupled values for each year all the way until the end year? The output I'm hoping to get is a monthly unemployment average over the years served. </p>\n\n<p>I've done just the monthly average for one year :</p>\n\n<pre><code>def avg_unemployment_for_month(unemploy,month):\n\n    sum = 0\n    avg=0\n    if (0&gt;month) or (month &gt; 11):\n        return None\n    else:\n        for m in unemploy.values():\n            sum += m[month]\n        average=sum / len(unemploy)\n        avg=int(average)\n        return (avg)\n</code></pre>\n\n<p>and a total unemployment for a year:</p>\n\n<pre><code>def total_unemployment_for_year(unemploy,year): \n\n    total = 0\n    if year in unemploy.keys():\n        allunemp = unemploy[year]\n\n        listunemp=list(allunemp)\n\n        totalunemp= sum(listunemp)\n\n        return(totalunemp)\n</code></pre>\n"}, {"tags": ["python", "user-interface", "tkinter", "raspberry-pi2"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1460580151, "post_id": 36609151, "comment_id": 60814997, "body": "Do you want the top frame to stay its original size no matter what is inside the frame? By default frames will shrink or grow to fit their contents, which is usually the best behavior for a GUI."}, {"owner": {"reputation": 23, "user_id": 3406647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700b673ed5d2e3bf2054129c8fb07e2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3406647", "link": "https://stackoverflow.com/users/3406647/user3406647"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1460586925, "post_id": 36609151, "comment_id": 60818250, "body": "Yes, the width it is now I want it to stay like that but with 3 other labels in it, all of equal width."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1460589574, "post_id": 36609151, "comment_id": 60819229, "body": "What about the height? Do you want a fixed height, or just tall enough to contain the labels?"}, {"owner": {"reputation": 23, "user_id": 3406647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700b673ed5d2e3bf2054129c8fb07e2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3406647", "link": "https://stackoverflow.com/users/3406647/user3406647"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1460640880, "post_id": 36609151, "comment_id": 60845385, "body": "Tbh, now I think about it, it doesn&#39;t really matter? As long as the equation is as bold as it can be and takes up the whole width of the screen, I can increase the font size of the labels if need be and add padding to separate them out?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 3406647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700b673ed5d2e3bf2054129c8fb07e2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3406647", "link": "https://stackoverflow.com/users/3406647/user3406647"}, "edited": false, "score": 0, "creation_date": 1460588756, "post_id": 36610188, "comment_id": 60818935, "body": "I don&#39;t understand why the second part (XX + ...) has now reduced in width? <a href=\"http://puu.sh/ohfK3/b5abd131f3.png\" rel=\"nofollow noreferrer\">puu.sh/ohfK3/b5abd131f3.png</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "reply_to_user": {"reputation": 23, "user_id": 3406647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700b673ed5d2e3bf2054129c8fb07e2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3406647", "link": "https://stackoverflow.com/users/3406647/user3406647"}, "edited": false, "score": 0, "creation_date": 1460592607, "post_id": 36610188, "comment_id": 60820152, "body": "I changed the second frame to grid() from pack() so now everything in the column is the same width."}, {"owner": {"reputation": 23, "user_id": 3406647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700b673ed5d2e3bf2054129c8fb07e2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3406647", "link": "https://stackoverflow.com/users/3406647/user3406647"}, "edited": false, "score": 0, "creation_date": 1460643438, "post_id": 36610188, "comment_id": 60847665, "body": "Thank very much for your help but I think I was just too tired at the time and have now got it working with little more then padding. I will update my post."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "is_accepted": false, "score": 0, "last_activity_date": 1460584117, "creation_date": 1460584117, "answer_id": 36610188, "question_id": 36609151, "link": "https://stackoverflow.com/questions/36609151/layout-changes-using-tkinter/36610188#36610188", "title": "Layout changes using Tkinter", "body": "<p>This shows how to configure the top row so it shows, and uses sticky to stretch the frame so it occupies the entire space, and uses a set width for the Label as well.  You might also want to increase the font size of the label if you want the type to be larger.</p>\n\n<pre><code>root = Tk()\nroot.title(\"Learning Number Bonds!\")\n\ntest = StringVar(value=\"XX + XX = XXX\")\nscore = StringVar(value=\"0\")\nquestion = StringVar(value=\"7/10\")\ntime = StringVar(value=\"8s\")\n\n\nw, h = root.winfo_screenwidth(), root.winfo_screenheight()\nroot.geometry(\"%dx%d+0+0\" % (w, h))\n\ntopFrame = Frame(root, bg=\"red\", width=w, height=h/4)\n\n## put an empty row on top\ntopFrame.rowconfigure(0, weight=1, minsize=100)\nLabel(topFrame, text=\"test\", bg=\"lightblue\", width=50).grid(row=1,     column=1)\ntopFrame.grid(sticky=\"nsew\")\n\nbottomFrame = Frame(root, bg=\"blue\", width=w, height= h-(h/4))\nbottomFrame.grid(row=1)\n\nequation = Label(bottomFrame, textvariable=test, font=(\"Arial\", 70))\nequation.pack(fill=X)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 3406647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/700b673ed5d2e3bf2054129c8fb07e2f?s=128&d=identicon&r=PG&f=1", "display_name": "user3406647", "link": "https://stackoverflow.com/users/3406647/user3406647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460643874, "creation_date": 1460579967, "last_edit_date": 1460643874, "question_id": 36609151, "link": "https://stackoverflow.com/questions/36609151/layout-changes-using-tkinter", "title": "Layout changes using Tkinter", "body": "<p>I am trying to make a full screen app for my Raspberry Pi. I got the code working to a degree. All I want to do now is split the top red section into 3 parts which I can put labels in containing data that will frequently change.</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom tkinter import *\nfrom tkinter import ttk\n\nroot = Tk()\nroot.title(\"Learning Number Bonds!\")\n\ntest = StringVar(value=\"XX + XX = XXX\")\nscore = StringVar(value=\"0\")\nquestion = StringVar(value=\"7/10\")\ntime = StringVar(value=\"8s\")\n\n\nw, h = root.winfo_screenwidth(), root.winfo_screenheight()\nroot.geometry(\"%dx%d+0+0\" % (w, h))\n\ntopFrame = Frame(root, bg=\"red\", width=w, height=h/4)\n##Label(topFrame, text=\"test\").grid(row=1, column=1)\ntopFrame.pack()\n\nbottomFrame = Frame(root, bg=\"blue\", width=w, height= h-(h/4))\nbottomFrame.pack()\n\nequation = Label(bottomFrame, textvariable=test, font=(\"Arial\", 70))\nequation.pack(fill=X)\n\nroot.mainloop()\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/W45KO.png\" rel=\"nofollow\">This is what I have, and the bottom how I want</a></p>\n\n<p>But when I add the commented line it looks like this:</p>\n\n<p>[It all breaks - Removed]</p>\n\n<p>How can I get 3 equal size boxes at the top with labels in them?!</p>\n\n<p>EDIT:</p>\n\n<p>I must have just been too tired and stupid to think about this and got caught up in the fact the boxes \"HAD\" to be the same size. After a few minutes of code changes from the original above, I ended up with:</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom tkinter import *\nfrom tkinter import ttk\n\nroot = Tk()\nroot.title(\"Learning Number Bonds!\")\n\ntest = StringVar(value=\"XX + XX = XXX\")\nscore = StringVar(value=999)\nquestion = StringVar(value=\"10/10\")\ntime = StringVar(value=\"10\")\n\n\nw, h = root.winfo_screenwidth(), root.winfo_screenheight()\nroot.geometry(\"%dx%d+0+0\" % (w, h))\n\ntopFrame = Frame(root, bg=\"red\", width=w, height=h/4)\n\n##Score\nscoreTextLabel = Label(topFrame, text=\"Score: \", font=(\"Arial\", 30))\nscoreTextLabel.pack(side=LEFT)\n\nLabel2 = Label(topFrame, textvariable=score, font=(\"Arial\", 30))\nLabel2.pack(side=LEFT, padx=(0,50))\n\n##Question\nqTextLabel = Label(topFrame, text=\"Question: \", font=(\"Arial\", 30))\nqTextLabel.pack(side=LEFT)\n\nTextLabel2 = Label(topFrame, textvariable=question, font=(\"Arial\", 30))\nTextLabel2.pack(side=LEFT, padx=(0,50))\n\n##Time\ntTextLabel = Label(topFrame, text=\"Time: \", font=(\"Arial\", 30))\ntTextLabel.pack(side=LEFT)\n\nTextLabel3 = Label(topFrame, textvariable=time, font=(\"Arial\", 30))\nTextLabel3.pack(side=LEFT, padx=(0,50))\n\n\ntopFrame.pack(pady=(0,120))\n\nbottomFrame = Frame(root, bg=\"blue\", width=w, height= h-(h/4))\nbottomFrame.pack()\n\nequation = Label(bottomFrame, textvariable=test, font=(\"Arial\", 70))\nequation.pack(fill=X)\n\nroot.mainloop()\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/V0e8D.png\" rel=\"nofollow\">Which looks like this</a></p>\n\n<p>Thanks for all the help!</p>\n"}, {"tags": ["python", "django", "virtualenv"], "answers": [{"tags": [], "owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "is_accepted": true, "score": 5, "last_activity_date": 1460580123, "creation_date": 1460580123, "answer_id": 36609193, "question_id": 36609150, "link": "https://stackoverflow.com/questions/36609150/a-different-virtualenv-for-each-django-app/36609193#36609193", "title": "A different virtualenv for each Django app", "body": "<p>The entire project is loaded into the same Python process. You can't have two Python environments active at the same time in the same process. So the answer is no - you can't have concurrent virtual environments for apps in the same project.</p>\n"}], "owner": {"reputation": 6599, "user_id": 456550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5cd11130b5f8c988a54b663bad96cd68?s=128&d=identicon&r=PG", "display_name": "Christian Long", "link": "https://stackoverflow.com/users/456550/christian-long"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 36609193, "answer_count": 1, "score": 2, "last_activity_date": 1460580123, "creation_date": 1460579966, "question_id": 36609150, "link": "https://stackoverflow.com/questions/36609150/a-different-virtualenv-for-each-django-app", "title": "A different virtualenv for each Django app", "body": "<p>In Django, a project can contain many apps. Can each app have its own virtualenv? Or do all the apps in a Django project have to use the project's virtualenv?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 3520532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a071c6d3e3c0f2410dbcc46904f6718?s=128&d=identicon&r=PG&f=1", "display_name": "Quinto", "link": "https://stackoverflow.com/users/3520532/quinto"}, "is_accepted": true, "score": 5, "last_activity_date": 1460580430, "creation_date": 1460580430, "answer_id": 36609275, "question_id": 36609140, "link": "https://stackoverflow.com/questions/36609140/how-to-make-this-battleship-game-more-user-friendly-in-terms-of-values/36609275#36609275", "title": "How to make this Battleship game more user friendly in terms of values?", "body": "<p>You can just subtract one from the user's guess, and also add a note to say that the numbers are not zero-based.  Remember to check for valid input!</p>\n\n<pre><code>Guess_Battleship_Board_Row = int(input(\"Guess the X coordinate:\")) - 1\nGuess_Battleship_Board_Column = int(input(\"Guess the Y coordinate:\")) - 1\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5744955"}, "is_accepted": false, "score": 1, "last_activity_date": 1460580826, "last_edit_date": 1460580826, "creation_date": 1460580483, "answer_id": 36609289, "question_id": 36609140, "link": "https://stackoverflow.com/questions/36609140/how-to-make-this-battleship-game-more-user-friendly-in-terms-of-values/36609289#36609289", "title": "How to make this Battleship game more user friendly in terms of values?", "body": "<p>Get the user to input their row and columns in range 1 to 5, but then subtract 1 before you place their battleship etc. </p>\n\n<p>For example if they insert '5', subtract 1 then place ship etc.</p>\n\n<p>Guess_Battleship_Board_Row = int(input(\"Guess the X coordinate:\")) - 1\nGuess_Battleship_Board_Column = int(input(\"Guess the Y coordinate:\")) - 1</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 4209168, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MrXkk.png?s=128&g=1", "display_name": "abflett", "link": "https://stackoverflow.com/users/4209168/abflett"}, "is_accepted": false, "score": 0, "last_activity_date": 1460581766, "creation_date": 1460581766, "answer_id": 36609612, "question_id": 36609140, "link": "https://stackoverflow.com/questions/36609140/how-to-make-this-battleship-game-more-user-friendly-in-terms-of-values/36609612#36609612", "title": "How to make this Battleship game more user friendly in terms of values?", "body": "<p>Looks like a great project you got going here!</p>\n\n<p>There are many ways you could solve this issue so I thought I would just shoot off a few.</p>\n\n<p>Ok, so all arrays start at \u201c0\u201d but (0, 0) kinda looks ugly I agree. The easy way would be just to create a 6, 6 array and just don't use the 0, 0 part.</p>\n\n<p>The other way would be to add +1 to the array index before displaying it or -1 before accessing the array index.</p>\n\n<p>So when the user types 4, 5 all you would do is (arrayA[userinput - 1], arrayB[userinput \u2013 1]) effectively storing at 3, 4 and the user would never know.</p>\n\n<p>Also as maybe a fun challenge use alphanumeric letters for rows or columns instead.(eg. 3, C)</p>\n\n<p>using a switch statement or if/esle statements.</p>\n\n<p>eg.</p>\n\n<pre><code>if  userSelection == 'a' or userSelection == 'A'\n    arrayA[0] = true\n</code></pre>\n\n<p>(Sorry my python syntax is REALLY rusty but the concepts should still apply)</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 233, "user_id": 6002555, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/66243a2ff06aa14b60e06d3d90d24e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Henry Green", "link": "https://stackoverflow.com/users/6002555/henry-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 36609275, "answer_count": 3, "score": 1, "last_activity_date": 1460581766, "creation_date": 1460579950, "question_id": 36609140, "link": "https://stackoverflow.com/questions/36609140/how-to-make-this-battleship-game-more-user-friendly-in-terms-of-values", "title": "How to make this Battleship game more user friendly in terms of values?", "body": "<p>I have a Battleship game set up in Python, however the grid i set up ranged between 0 and 5. Meaning the first row and columns of the battleship will be (0,0) I don't want this however, as any stranded user will likely count from 1, so they'll put (1,1) or (1,2) the value 0 won't be a value they'd think to enter. How can I make my program reflect that, in a way where 1,1 is the beginning column and row not the 2nd.  As the user can only enter a value between 0 and 4, 5 is represented as an invalid value and it says it's not on the grid. </p>\n\n<p>So the only possible combinations are these:</p>\n\n<p>Row: 0, 1, 2, 3, 4,\nColumn: 0, 1, 2, 3, 4</p>\n\n<p>I want it to be:</p>\n\n<p>Row: 1, 2, 3, 4, 5\nColumn 1, 2, 3, 4, 5</p>\n\n<p>Here is my code: </p>\n\n<pre><code>import random\n\nBattleship_Board = []\n\nfor x in range(0,5):\n  Battleship_Board.append([\"O\"] * 5)\n\n\ndef print_Battleship_Board(Battleship_Board):\n  for row in Battleship_Board:\n    print (\" \".join(row))\n\nprint (\"Let's play a game of Battleships!\")\nprint_Battleship_Board(Battleship_Board)\n\n\ndef Random_Battleship_Board_Row(Battleship_Board):\nreturn random.randint(0, len(Battleship_Board)-1)\n\ndef Random_Battleship_Board_Column(Battleship_Board):\nreturn random.randint(0, len(Battleship_Board[0])-1)\n\nBattleship_Board_Row = Random_Battleship_Board_Row(Battleship_Board)\nBattleship_Board_Column = Random_Battleship_Board_Column(Battleship_Board)\n\n\nprint (Battleship_Board_Row) \nprint (Battleship_Board_Column) \n\nfor turn in range(5):\n\nGuess_Battleship_Board_Row = int(input(\"Guess the X coordinate:\"))\nGuess_Battleship_Board_Column = int(input(\"Guess the Y coordinate:\"))\n\n\nif Guess_Battleship_Board_Row == Battleship_Board_Row and Guess_Battleship_Board_Column == Battleship_Board_Column:\n    print (\"You sunk the battleship!\")\n    print (\"My ship was here: [\" + str(Battleship_Board_Row) + \"][\" + str(Battleship_Board_Column) + \"]\")\n    break\n\nelse:\n\n        if turn + 1 == 5:\n            Battleship_Board[Guess_Battleship_Board_Row][Guess_Battleship_Board_Column] = \"X\"\n            print_Battleship_Board(Battleship_Board)\n            print (\"Game Over\")\n            print (\"My ship was here: [\" + str(Battleship_Board_Row) + \"][\" + str(Battleship_Board_Column) + \"]\")\n\n        if (Guess_Battleship_Board_Row &lt; 0 or Guess_Battleship_Board_Row &gt; 4) or (Guess_Battleship_Board_Column &lt; 0 or Guess_Battleship_Board_Column &gt; 4):\n            print (\"The inserted value is not on the grid.\")\n        elif(Battleship_Board[Guess_Battleship_Board_Row ][Guess_Battleship_Board_Column] == \"X\"):\n            print (\"You already inserted this combination\")\n        else:\n            print (\"You missed my battleship\")\n            Battleship_Board[Guess_Battleship_Board_Row][Guess_Battleship_Board_Column] = \"X\"\n        print (\"Number of turns:\", turn + 1,\"out of 5\")\n        print_Battleship_Board(Battleship_Board)\n</code></pre>\n"}, {"tags": ["python", "spinner", "kivy", "multiple-select"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1460585674, "post_id": 36609017, "comment_id": 60817729, "body": "I&#39;m not completely clear what you&#39;re after, but I don&#39;t think such a widget exists already. Instead, it should be easy to combine other base widgets to get the result you want."}, {"owner": {"reputation": 683, "user_id": 5708480, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bd56b324652b2d3c3b4ac65a4e4df6bc?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Bridge", "link": "https://stackoverflow.com/users/5708480/bill-bridge"}, "reply_to_user": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1460628261, "post_id": 36609017, "comment_id": 60835619, "body": "I can understand. My didactical skills are not very well developed..... So I have edited the question and added some pictures to it. Hope this makes it more clear."}, {"owner": {"reputation": 1817, "user_id": 1544500, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b4bb4899b045ff2151b03836e2c29ba?s=128&d=identicon&r=PG&f=1", "display_name": "user1544500", "link": "https://stackoverflow.com/users/1544500/user1544500"}, "edited": false, "score": 0, "creation_date": 1460630276, "post_id": 36609017, "comment_id": 60836967, "body": "Please add the exact error that you are seeing, only through being specific you may obtain the needed help."}], "answers": [{"comments": [{"owner": {"reputation": 683, "user_id": 5708480, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bd56b324652b2d3c3b4ac65a4e4df6bc?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Bridge", "link": "https://stackoverflow.com/users/5708480/bill-bridge"}, "edited": false, "score": 0, "creation_date": 1460789066, "post_id": 36655886, "comment_id": 60914667, "body": "Hi Rafalo, this is exactly what I was looking for. Also very nice to learn on how to combine kivy widgets (am a beginner in Kivy). Thanks very much for your time and shared experience."}], "tags": [], "owner": {"reputation": 126, "user_id": 6199688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a702eb93814e325f99a9fe825c529a?s=128&d=identicon&r=PG", "display_name": "rafalo1333", "link": "https://stackoverflow.com/users/6199688/rafalo1333"}, "is_accepted": true, "score": 11, "last_activity_date": 1460750502, "creation_date": 1460750502, "answer_id": 36655886, "question_id": 36609017, "link": "https://stackoverflow.com/questions/36609017/kivy-spinner-widget-with-multiple-selection/36655886#36655886", "title": "kivy spinner widget with multiple selection", "body": "<p>Kivy does not have such widget by default, but it is quite easy to create the custom one using Button+DropDown+ToggleButton.</p>\n\n<pre><code>from kivy.base import runTouchApp\nfrom kivy.lang import Builder\nfrom kivy.factory import Factory\nfrom kivy.properties import ListProperty, ObjectProperty\nfrom kivy.uix.dropdown import DropDown\nfrom kivy.uix.button import Button\n\nclass MultiSelectSpinner(Button):\n    \"\"\"Widget allowing to select multiple text options.\"\"\"\n\n    dropdown = ObjectProperty(None)\n    \"\"\"(internal) DropDown used with MultiSelectSpinner.\"\"\"\n\n    values = ListProperty([])\n    \"\"\"Values to choose from.\"\"\"\n\n    selected_values = ListProperty([])\n    \"\"\"List of values selected by the user.\"\"\"\n\n    def __init__(self, **kwargs):\n        self.bind(dropdown=self.update_dropdown)\n        self.bind(values=self.update_dropdown)\n        super(MultiSelectSpinner, self).__init__(**kwargs)\n        self.bind(on_release=self.toggle_dropdown)\n\n    def toggle_dropdown(self, *args):\n        if self.dropdown.parent:\n            self.dropdown.dismiss()\n        else:\n            self.dropdown.open(self)\n\n    def update_dropdown(self, *args):\n        if not self.dropdown:\n            self.dropdown = DropDown()\n        values = self.values\n        if values:\n            if self.dropdown.children:\n                self.dropdown.clear_widgets()\n            for value in values:\n                b = Factory.MultiSelectOption(text=value)\n                b.bind(state=self.select_value)\n                self.dropdown.add_widget(b)\n\n    def select_value(self, instance, value):\n        if value == 'down':\n            if instance.text not in self.selected_values:\n                self.selected_values.append(instance.text)\n        else:\n            if instance.text in self.selected_values:\n                self.selected_values.remove(instance.text)\n\n    def on_selected_values(self, instance, value):\n        if value:\n            self.text = ', '.join(value)\n        else:\n            self.text = ''\n\n\nkv = '''\nBoxLayout:\n    orientation: 'vertical'\n\n    BoxLayout:\n\n        Label:\n            text: 'Select city'\n\n        MultiSelectSpinner:\n            id: city\n            values: 'Sydney', 'Moscow', 'Warsaw', 'New York', 'Tokio'\n\n    BoxLayout:\n\n        Label:\n            text: 'Select your favorite food'\n\n        MultiSelectSpinner:\n            id: food\n            values: 'Fish and chips', 'Hot-dog', 'Hamburger'\n\n    Label:\n        text: 'You selected {} cities and {} as your favourite food.'.format(city.text, food.text)\n\n&lt;MultiSelectOption@ToggleButton&gt;:\n    size_hint: 1, None\n    height: '48dp'\n\n'''\n\nrunTouchApp(Builder.load_string(kv))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7089381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d01e479851ecaef1786cce6bf934f67?s=128&d=identicon&r=PG&f=1", "display_name": "sharose", "link": "https://stackoverflow.com/users/7089381/sharose"}, "is_accepted": false, "score": 1, "last_activity_date": 1530441557, "creation_date": 1530441557, "answer_id": 51122522, "question_id": 36609017, "link": "https://stackoverflow.com/questions/36609017/kivy-spinner-widget-with-multiple-selection/51122522#51122522", "title": "kivy spinner widget with multiple selection", "body": "<p>I get the solution.. Here is the path: In kv file first we can mention Dropdown widget, under Drop down we will mention check boxes and this is the answer.. Here is the kv file code:</p>\n\n<pre><code>DropDown:\n                    padding: 0, 0, 0, root.width * 0.4\n                    id: dropdown\n                    on_select: btn.text = '{}'.format(args[1])\n\n                    GridLayout:\n                        size_hint_y: None\n                        height: 44\n                        cols: 2\n                        row_default_height: '10dp'\n                        Label:\n                            id: person\n                            text: 'Person'\n                            text_size: self.size\n                            valign: 'middle'\n                        CheckBox:\n                            text: 'check me'\n                            on_active:\n                                root.on_checkbox_active(person.text, self.active)\n                    GridLayout:\n                        size_hint_y: None\n                        height: 44\n                        cols: 2\n                        row_default_height: '10dp'\n                        Label:\n                            id: vehicle\n                            text: 'Vehicle'\n                            text_size: self.size\n                            valign: 'middle'\n                        CheckBox:\n                            id: vecle\n                            text: 'check me'\n                            on_active:\n                                root.on_checkbox_active(vehicle.text, self.active)\n                    GridLayout:\n                        size_hint_y: None\n                        height: 44\n                        cols: 2\n                        row_default_height: '10dp'\n                        Label:\n                            id: aircraft\n                            text: 'Air_craft'\n                            text_size: self.size\n                            valign: 'middle'\n                        CheckBox:\n                            text: 'check me'\n                            on_active:\n                                root.on_checkbox_active(aircraft.text, self.active)\n</code></pre>\n\n<p>The .py file:</p>\n\n<pre><code>class My_class(BoxLayout):\n\ndef on_checkbox_active(checkbox_ref, name, checkbox_value):\n    if checkbox_value:\n        print('', name, 'is active')\n    else:\n        print('', name, 'is inactive')\npass\n</code></pre>\n"}], "owner": {"reputation": 683, "user_id": 5708480, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bd56b324652b2d3c3b4ac65a4e4df6bc?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Bridge", "link": "https://stackoverflow.com/users/5708480/bill-bridge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3405, "favorite_count": 2, "accepted_answer_id": 36655886, "answer_count": 2, "score": 4, "last_activity_date": 1530441557, "creation_date": 1460579502, "last_edit_date": 1460628899, "question_id": 36609017, "link": "https://stackoverflow.com/questions/36609017/kivy-spinner-widget-with-multiple-selection", "title": "kivy spinner widget with multiple selection", "body": "<p>I am looking for a kivy widget (preferrably in python + kv file) of type spinner (or something alike) where I can select multiple items through a checkbox for example. The selected items should become available in a tuple (?).</p>\n\n<p>In the picture start.png you will find the starting situation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aIKPD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aIKPD.png\" alt=\"enter image description here\"></a></p>\n\n<p>In a form there is a label and a Textinput field. On click a list with available options should popup. For this I am using a Spinner widget. See picture select.png</p>\n\n<p><a href=\"https://i.stack.imgur.com/LuQYM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LuQYM.png\" alt=\"enter image description here\"></a></p>\n\n<p>From this list I want to select multiple items. In the example next to 'Nederlands' I have selected 'English'.</p>\n\n<p>When done, the Text input field should show the selected items in a comma separated list. See picture result.png</p>\n\n<p><a href=\"https://i.stack.imgur.com/6XS4T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6XS4T.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried this with e ListView using the multiple selection mode. But the ListView is bound in the Textfield area.\nI have tried to put the ListView in a popup window. But this doesn't work-out either for some or other reason....</p>\n\n<p>Any suggestions are highly appreciated.\nThanks in advance.</p>\n"}, {"tags": ["python", "django", "view", "path"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 1229067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54c37e8fb883746045de3d41fda8274?s=128&d=identicon&r=PG&f=1", "display_name": "gosling_", "link": "https://stackoverflow.com/users/1229067/gosling"}, "is_accepted": false, "score": 0, "last_activity_date": 1460581360, "creation_date": 1460581360, "answer_id": 36609528, "question_id": 36608855, "link": "https://stackoverflow.com/questions/36608855/use-of-staticfiles-dirs-in-django-view/36609528#36609528", "title": "Use of STATICFILES_DIRS in Django View", "body": "<p>STATICFILES_DIRS is a <strong>List</strong> more about lists you can read in official docs (see: <a href=\"https://docs.python.org/3/tutorial/datastructures.html\" rel=\"nofollow\">https://docs.python.org/3/tutorial/datastructures.html</a>).</p>\n\n<p>You can get the element of this list like this : <code>STATICFILES_DIRS[0]</code> when 0 is the position of a given element.</p>\n\n<p>So I'm not sure if it's usual manipulate staticfiles_dirs in views. Read more about Django to do on the right way:\n<a href=\"https://docs.djangoproject.com/en/1.9/howto/static-files/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.9/howto/static-files/</a></p>\n"}], "owner": {"reputation": 663, "user_id": 3825948, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/82ada1cb7432ff6215042c3df3dac434?s=128&d=identicon&r=PG&f=1", "display_name": "Foobar", "link": "https://stackoverflow.com/users/3825948/foobar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460581360, "creation_date": 1460578983, "question_id": 36608855, "link": "https://stackoverflow.com/questions/36608855/use-of-staticfiles-dirs-in-django-view", "title": "Use of STATICFILES_DIRS in Django View", "body": "<p>I'm using STATICFILES_DIRS in my view and it gives me the path in single quotes and surrounded by square brackets. How can I just get the path? For example, it gives me</p>\n\n<p>['/.../static']</p>\n\n<p>and I want</p>\n\n<p>/.../static</p>\n\n<p>Any help would be appreciated. Thanks.</p>\n"}, {"tags": ["python", "string", "variables", "text", "extract"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1460579111, "post_id": 36608834, "comment_id": 60814445, "body": "The simple change is <code>str(openFile.read())</code> becomes <code>openFile.readlines()</code>,"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 1, "creation_date": 1460579397, "post_id": 36608834, "comment_id": 60814593, "body": "Don&#39;t forget to <code>openFile.close()</code> afterwards"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4108625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72f2622c5f2db31540784d1da38b329?s=128&d=identicon&r=PG&f=1", "display_name": "Rico", "link": "https://stackoverflow.com/users/4108625/rico"}, "edited": false, "score": 0, "creation_date": 1460614712, "post_id": 36608898, "comment_id": 60826799, "body": "Thank you so much! Works like a charm :)"}, {"owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "reply_to_user": {"reputation": 3, "user_id": 4108625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72f2622c5f2db31540784d1da38b329?s=128&d=identicon&r=PG&f=1", "display_name": "Rico", "link": "https://stackoverflow.com/users/4108625/rico"}, "edited": false, "score": 0, "creation_date": 1460638673, "post_id": 36608898, "comment_id": 60843533, "body": "@Rico, glad to hear it.  Since this answer solved your problem, please mark it as &quot;accepted&quot;"}, {"owner": {"reputation": 3, "user_id": 4108625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72f2622c5f2db31540784d1da38b329?s=128&d=identicon&r=PG&f=1", "display_name": "Rico", "link": "https://stackoverflow.com/users/4108625/rico"}, "edited": false, "score": 0, "creation_date": 1460649795, "post_id": 36608898, "comment_id": 60852599, "body": "Done! Thank you :)"}], "tags": [], "owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1460580131, "last_edit_date": 1460580131, "creation_date": 1460579114, "answer_id": 36608898, "question_id": 36608834, "link": "https://stackoverflow.com/questions/36608834/retrieve-information-from-txt-file-to-use-as-a-variable-in-a-python-file/36608898#36608898", "title": "Retrieve information from txt file to use as a variable in a python file", "body": "<p>Your issue is the line </p>\n\n<pre><code>stockToPull = str(openFile.read())\n</code></pre>\n\n<p>This is taking the entire contents of <code>openFile</code> as a single string.  Therefore when you iterate through <code>stockToPull</code> you are iterating through a string, which produces a series of single letters</p>\n\n<p>Instead use</p>\n\n<pre><code>stockToPull = openFile.readlines()\n</code></pre>\n\n<p><code>file.readlines()</code> produces a list of a all lines in the file.  If the file is particularly large, or you don't want the intermediate variable, you can also loop directly through the file as:</p>\n\n<pre><code>while True:\n    for eachStock in openFile:\n         pullData(eachStock)\n</code></pre>\n\n<p>Some other unrelated critiques:</p>\n\n<ul>\n<li>As you have your code written, the <code>while True:</code> will create an infinite loop</li>\n<li>Data from files often has extra <code>\\n</code> or space characters, consider adding <code>pullData(eachStock.strip())</code> to remove these</li>\n<li>As pointed out in a comment, you neglect to close the file.  You can either add an explicit close statement or use a context manager such as shown below.  </li>\n<li>This may be just because of your stripped down code, but typical convention is to put function definitions before any executed code (excluding imports)</li>\n<li>This one is very minor, I've always seen it as <code>except Exception as e:</code>, which is thing is more readable</li>\n<li>Use <code>os.path.join()</code> to create file path strings.  Alternatively here you could use a raw string to prevent needing <code>\\\\</code></li>\n</ul>\n\n<p>Putting it all together</p>\n\n<pre><code>import urllib2\nimport time\nimport datetime\nimport os\n\ndef pullData(stock):\n    try:\n        saveFileLine = os.path.join(\"today_data\", stock+\".txt\")   \n    except Exception as e:\n        print 'main loop', str(e)\n\nfilePath = os.path.abspath('stocks.txt')\nwith open(filePath, 'r') as openFile:\n    for eachStock in openFile:\n         pullData(eachStock.strip())\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4108625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72f2622c5f2db31540784d1da38b329?s=128&d=identicon&r=PG&f=1", "display_name": "Rico", "link": "https://stackoverflow.com/users/4108625/rico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 36608898, "answer_count": 1, "score": 0, "last_activity_date": 1460580131, "creation_date": 1460578897, "question_id": 36608834, "link": "https://stackoverflow.com/questions/36608834/retrieve-information-from-txt-file-to-use-as-a-variable-in-a-python-file", "title": "Retrieve information from txt file to use as a variable in a python file", "body": "<p>I am dealing with a problem where I want to extract stock names from a text file to use in multiple python scripts, so that if I add one or more stocks I dont have to alter all the python files.</p>\n\n<p>My stocks.txt file is:</p>\n\n<pre><code>AAPL\nGOOG\nTSLA\n</code></pre>\n\n<p>If I import this the script saves A.txt, A.txt, P.txt, L.txt, G.txt etc. </p>\n\n<p>It takes every letter as seperate. How can I change my code so that it takes AAPL, GOOG and TSLA?</p>\n\n<p>Thank you!</p>\n\n<p>My reduced script: </p>\n\n<pre><code>import urllib2\nimport time\nimport datetime\nimport os\n\nfilePath = os.path.abspath('stocks.txt')\nopenFile = open(filePath, 'r')\nstockToPull = str(openFile.read())\n\ndef pullData(stock):\n    try:\n        saveFileLine = \"today_data\\\\\" +stock+\".txt\"\n\n    except Exception, e:\n        print 'main loop', str(e)\n\nwhile True:\n    for eachStock in stockToPull:\n        pullData(eachStock)\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "charts", "scikit-learn", "line"], "comments": [{"owner": {"reputation": 8877, "user_id": 992600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a07696b9e9f01acc66822c3c4a880b96?s=128&d=identicon&r=PG", "display_name": "adhg", "link": "https://stackoverflow.com/users/992600/adhg"}, "edited": false, "score": 0, "creation_date": 1475867513, "post_id": 36608756, "comment_id": 67132267, "body": "how&#39;s the book &quot;Mastering Machine Learning with scikit-learn&quot; was it helpful for you?"}, {"owner": {"reputation": 663, "user_id": 5719657, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6825415ba62905b043f036db98a898c6?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5719657/rich"}, "reply_to_user": {"reputation": 8877, "user_id": 992600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a07696b9e9f01acc66822c3c4a880b96?s=128&d=identicon&r=PG", "display_name": "adhg", "link": "https://stackoverflow.com/users/992600/adhg"}, "edited": false, "score": 0, "creation_date": 1475903390, "post_id": 36608756, "comment_id": 67140899, "body": "So. Many. Errors."}, {"owner": {"reputation": 8877, "user_id": 992600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a07696b9e9f01acc66822c3c4a880b96?s=128&d=identicon&r=PG", "display_name": "adhg", "link": "https://stackoverflow.com/users/992600/adhg"}, "edited": false, "score": 0, "creation_date": 1475945946, "post_id": 36608756, "comment_id": 67151745, "body": "Really? I was looking for a book in ML with scikit; too bad"}, {"owner": {"reputation": 663, "user_id": 5719657, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6825415ba62905b043f036db98a898c6?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5719657/rich"}, "reply_to_user": {"reputation": 8877, "user_id": 992600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a07696b9e9f01acc66822c3c4a880b96?s=128&d=identicon&r=PG", "display_name": "adhg", "link": "https://stackoverflow.com/users/992600/adhg"}, "edited": false, "score": 0, "creation_date": 1475991801, "post_id": 36608756, "comment_id": 67161993, "body": "Actually, this wasn&#39;t in the book. By all means read it, it&#39;s still the best book I&#39;ve read on the subject."}], "answers": [{"comments": [{"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1460605619, "post_id": 36611464, "comment_id": 60823701, "body": "unless you are scaling the markers by size or color using plot with no line ex <code>ax.plot(x, y, &#39;o&#39;)</code> gives slightly better performance (only really matters when you have large numbers of points)"}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1460605688, "post_id": 36611464, "comment_id": 60823721, "body": "also, can&#39;t you vectorize calls to <code>predict</code>?"}, {"owner": {"reputation": 8877, "user_id": 992600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a07696b9e9f01acc66822c3c4a880b96?s=128&d=identicon&r=PG", "display_name": "adhg", "link": "https://stackoverflow.com/users/992600/adhg"}, "edited": false, "score": 1, "creation_date": 1475867458, "post_id": 36611464, "comment_id": 67132242, "body": "@Reblochon Masque - why do you write z = np.array([12]).reshape(-1,1)? should it be simply z=12? wonder if there&#39;s a reason for this; thanks"}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "edited": false, "score": 0, "creation_date": 1475896194, "post_id": 36611464, "comment_id": 67139838, "body": "Good question. IDK - that is from the OP&#39;s code, maybe he had a good reason for using that and it was left in the simplified code he posted? Because it did not affect the solution to his problem, I did not give it a second thought."}], "tags": [], "owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "is_accepted": true, "score": 1, "last_activity_date": 1460592094, "last_edit_date": 1460592094, "creation_date": 1460591285, "answer_id": 36611464, "question_id": 36608756, "link": "https://stackoverflow.com/questions/36608756/display-a-line-in-matplotlib-so-that-my-results-match-up-with-my-textbook/36611464#36611464", "title": "Display a line in matplotlib, so that my results match up with my textbook", "body": "<p>This \"weird blue thing\" you get is your data joined together by line segments; your data should be plotted using <code>plt.scatter</code> which gives you a cloud of points.</p>\n\n<p>Your calculation of the regression line is correct, what needs to be fixed is how to plot that line over your data set:</p>\n\n<p>After fitting your data, you need to extract the values necessary to draw the regression line; the data you need are two points at each extremities of the x-axis (here, <code>x=0</code> and <code>x=25</code>). if we call <code>model.predict</code> on these two values, we obtain the corresponding predictions. These x values coupled with their corresponding predictions form two points that we will use to plot the line.</p>\n\n<p>First we extract the predicted values <code>y0</code> and <code>y25</code>. We then use <code>plt.plot</code> with the points (0, y0) and (25, y25) to draw the regression line in green.</p>\n\n<pre><code>from sklearn.linear_model import LinearRegression\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n\nX = [[6], [8], [10], [14],   [18]]\ny = [[7], [9], [13], [17.5], [18]]\n\n\nmodel = LinearRegression()\nmodel.fit(X, y)\n\nz = np.array([12]).reshape(-1,1)\n\nprint ('A 12\" pizza should cost: $%.2f' % model.predict(z)[0])\nprint (\"\\n\" + \"_\" * 50 + \"\\n\")\n\nplt.figure()\nplt.title('Pizza price plotted against diameter')\nplt.xlabel('Diameter in inches')\nplt.ylabel('Price in dollars')\nplt.scatter(X, y, z, 'k')\n\ny0, y25 = model.predict(0)[0][0], model.predict(25)[0][0]\nplt.plot((0, 25), (y0, y25), 'g')\n\nplt.axis([0, 25, 0, 25])\nplt.grid(True)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rXJlY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXJlY.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 663, "user_id": 5719657, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6825415ba62905b043f036db98a898c6?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/5719657/rich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 36611464, "answer_count": 1, "score": 2, "last_activity_date": 1460592094, "creation_date": 1460578659, "question_id": 36608756, "link": "https://stackoverflow.com/questions/36608756/display-a-line-in-matplotlib-so-that-my-results-match-up-with-my-textbook", "title": "Display a line in matplotlib, so that my results match up with my textbook", "body": "<p>I'm following along in a ML textbook: Mastering Machine Learning with scikit-learn, and while my code gives me the correct answers, it doesn't match up with what's in the book.</p>\n\n<p>First it gives me this code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nX = [[6], [8], [10], [14],   [18]]\ny = [[7], [9], [13], [17.5], [18]]\nplt.figure()\nplt.title('Pizza price plotted against diameter')\nplt.xlabel('Diameter in inches')\nplt.ylabel('Price in dollars')\nplt.plot(X, y, 'k.')\nplt.axis([0, 25, 0, 25])\nplt.grid(True)\nplt.show()\n</code></pre>\n\n<p>Which gives me this chart in matplotlib:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Oiqxj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oiqxj.png\" alt=\"enter image description here\"></a></p>\n\n<p>And that matches up with my results.</p>\n\n<p>However, in the next step it gives me this code: </p>\n\n<pre><code>from sklearn.linear_model import LinearRegression\n# Training data\nX = [[6], [8], [10], [14],   [18]]\ny = [[7], [9], [13], [17.5], [18]]\n# Create and fit the model\nmodel = LinearRegression()\nmodel.fit(X, y)\nprint 'A 12\" pizza should cost: $%.2f' % model.predict([12])[0]\n</code></pre>\n\n<p>And this chart:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8RV78.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8RV78.png\" alt=\"enter image description here\"></a></p>\n\n<p>That chard doesn't match up with my code, it doesn't have the matplotlib chart-maker function. I tried to read guides and make my own:</p>\n\n<pre><code>from sklearn.linear_model import LinearRegression\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n\nX = [[6], [8], [10], [14],   [18]]\ny = [[7], [9], [13], [17.5], [18]]\n\n\nmodel = LinearRegression()\nmodel.fit(X, y)\n\nz = np.array([12]).reshape(-1,1)\n\nprint ('A 12\" pizza should cost: $%.2f' % model.predict(z)[0])\nprint (\"\\n\" + \"_\" * 50 + \"\\n\")\n\nplt.figure()\nplt.title('Pizza price plotted against diameter')\nplt.xlabel('Diameter in inches')\nplt.ylabel('Price in dollars')\nplt.plot(X, y, z, 'k.')\nplt.axis([0, 25, 0, 25])\nplt.grid(True)\nplt.show()\n</code></pre>\n\n<p>But that just gave me this weird blue thing:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mK9bq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mK9bq.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm new to working with math in python, so if anyone could give me more information on how to solve this, it would be appreciated.</p>\n"}, {"tags": ["python", "sorting", "attributes", "namedtuple"], "comments": [{"owner": {"reputation": 6107, "user_id": 7851470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10f0dc1bc1f340708d6f6b4c8ec3866?s=128&d=identicon&r=PG&f=1", "display_name": "Georgy", "link": "https://stackoverflow.com/users/7851470/georgy"}, "edited": false, "score": 0, "creation_date": 1584893438, "post_id": 36608725, "comment_id": 107573617, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/12087905/pythonic-way-to-sorting-list-of-namedtuples-by-field-name\">Pythonic way to sorting list of namedtuples by field name</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 1, "last_activity_date": 1460585998, "creation_date": 1460585998, "answer_id": 36610593, "question_id": 36608725, "link": "https://stackoverflow.com/questions/36608725/how-to-get-a-sorted-list-of-namedtuples-attributes/36610593#36610593", "title": "How to get a sorted list of namedtuples&#39; attributes", "body": "<p>The problem is with <code>list(Book)</code>.  Book is a type.  The following might be what you want.</p>\n\n<pre><code>from collections import namedtuple\n\nBook = namedtuple('Book', 'author title genre year price instock')\n\nBSI = [\n    Book (\"J.K. Rowling\", \"Harry Potter\", \"Fantasy\", \"2005\", 12.00 ,     \"34\"),\n    Book (\"Dr. Seuss\", \"Green Eggs and Ham\", \"Children's\", \"2000\", 8.00 , \"12\"),\n    Book (\"Margaret Mitchell\", \"Gone with the Wind\", \"Fiction\", \"1980\", 9.00, \"30\"),\n    Book (\"John Green\", \"The Fault in our Stars\", \"Fiction\", \"2010\", 13.00, \"23\"),\n    Book (\"Stephanie Meyer\", \"Twilight\", \"Fantasy\", \"2008\", 15.00, \"8\"),\n    Book (\"Suzanne Collins\", \"The Hunger Games\", \"Fantasy\", \"2005\", 17.00, \"18\"),\n    ]\n\nfor x in BSI:\n    print (x.title)\nprint()\nfor x in sorted(BSI, key=lambda x: x.title):\n    print(x.title)\n</code></pre>\n\n<p>You can elaborate the key if you really think you might have duplicate titles.</p>\n"}], "owner": {"reputation": 1, "user_id": 6200730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e8b6eb7f78f743112295bfad1eb46f9?s=128&d=identicon&r=PG&f=1", "display_name": "Jesus Arteaga", "link": "https://stackoverflow.com/users/6200730/jesus-arteaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4392, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584893326, "creation_date": 1460578584, "last_edit_date": 1584893326, "question_id": 36608725, "link": "https://stackoverflow.com/questions/36608725/how-to-get-a-sorted-list-of-namedtuples-attributes", "title": "How to get a sorted list of namedtuples&#39; attributes", "body": "<p>I am totally lost as to why I keep getting errors. I am trying to print the titles of the books listed in alphabetical order using <code>sorted()</code>.</p>\n\n<p>I keep getting this error:</p>\n\n<pre><code>sorted(BSI, key=list(Book))\nTypeError: 'type' object is not iterable\n</code></pre>\n\n<p>Then this is the code</p>\n\n<pre><code>from collections import namedtuple\n\nBook = namedtuple('Book', 'author title genre year price instock')\nBSI = [Book(\"J.K. Rowling\", \"Harry Potter\", \"Fantasy\", \"2005\", 12.00, \"34\"),\n       Book(\"Dr. Seuss\", \"Green Eggs and Ham\", \"Children's\", \"2000\", 8.00, \"12\"),\n       Book(\"Margaret Mitchell\", \"Gone with the Wind\", \"Fiction\", \"1980\", 9.00, \"30\"),\n       Book(\"John Green\", \"The Fault in our Stars\", \"Fiction\", \"2010\", 13.00, \"23\"),\n       Book(\"Stephanie Meyer\", \"Twilight\", \"Fantasy\", \"2008\", 15.00, \"8\"),\n       Book(\"Suzanne Collins\", \"The Hunger Games\", \"Fantasy\", \"2005\", 17.00, \"18\")]\n\nfor x in BSI:\n    print(x.title)\n\ny = BSI\nfor x in BSI:\n    sorted(BSI, key=list(Book))\n</code></pre>\n"}, {"tags": ["python", "matrix", "matrix-multiplication", "python-multiprocessing"], "answers": [{"tags": [], "owner": {"reputation": 2012, "user_id": 3667217, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/37760b6c9391f5402c3cb3b77b3ed9a3?s=128&d=identicon&r=PG&f=1", "display_name": "user3667217", "link": "https://stackoverflow.com/users/3667217/user3667217"}, "is_accepted": false, "score": 0, "last_activity_date": 1461257733, "creation_date": 1461257733, "answer_id": 36776040, "question_id": 36608690, "link": "https://stackoverflow.com/questions/36608690/write-simultaneously-to-float-array-with-python-multiprocessing/36776040#36776040", "title": "Write simultaneously to float array with python multiprocessing", "body": "<p>You can use the <a href=\"https://github.com/rainwoodman/sharedmem\" rel=\"nofollow\">sharedmem</a> module, it's an enhanced version of the multiprocessing module that comes with Python. It offers a nice an easy way to share memory between processes. </p>\n\n<pre><code>import sharedmem as shmem\n\nout_matrix = shmem.empty((400,400))\n\ndef do_work(x):\n    out_matrix[100*x:100*(x+1), :] = x\n\ndef main():\n    with shmem.MapReduce(np=4) as pool:\n        pool.map(do_work, range(4))\n</code></pre>\n\n<p>In this minimal example, the output matrix will be filled by four workers in parallel.</p>\n"}], "owner": {"reputation": 19, "user_id": 5568813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3c6e1dcbc9fe8142e80c50af380315a?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/5568813/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461257733, "creation_date": 1460578498, "question_id": 36608690, "link": "https://stackoverflow.com/questions/36608690/write-simultaneously-to-float-array-with-python-multiprocessing", "title": "Write simultaneously to float array with python multiprocessing", "body": "<p>I coded a matrix multiplier a while ago, in an attempt to make it faster I tried to make it threaded just to discover that threads run on the same process.. I later discovered the multiprocessing library which I have implemented in the code below. Now, I don't know how to merge the work made by the processes spawned since the result is not in shared memory.</p>\n\n<p>How can I merge the distributed calculations into the \"final_multi\" variable?</p>\n\n<p>Heres my code:</p>\n\n<pre><code>#!/usr/bin/env python\nimport numpy as np\nfrom multiprocessing import Process, Array\n\nT=64\nv1 = np.empty([T,T], dtype=np.float32)\nv2 = np.empty_like(v1)\nfinal_multi = np.empty_like(v1)\n#shared = Array('f', final_multi) This doesnt work\ndef calclinea(mat1, mat2, fil, col):\n    escalar = 0\n    for vl in range(T):\n        escalar += mat1[fil,vl]*mat2[vl,col]\n    return escalar\n\ndef mulshared(vec1, vec2, froY, toY, froX, toX):\n    global final_multi\n    for y in range(froY,toY):\n        for x in range(froX, toX):\n            final_multi[x,y] = calclinea(vec1,vec2,x,y)\n            #shared[x,y] = calclinea(vec1,vec2,x,y)\n\ndef main():\n    for r in range(T):    ### Allocate host memory\n        for c in range(T):\n            v1[r,c] = r\n            v2[r,c] = c+2\n            final_multi[r,c] = 0\n\n    #p1 =Process(target=mulshared, args=(v1,v1,0,(T*1/4 -1),0,T))\n    #p2 =Process(target=mulshared, args=(v1,v1,(T*1/4),(T*2/4 -1),0,T))\n    #p3 =Process(target=mulshared, args=(v1,v1,(T*2/4),(T*3/4 -1),0,T))\n    p4 =Process(target=mulshared, args=(v1,v1,T*3/4,T*4/4,0,T)) #All four processes to demo distribution of data, only 4th is initialized so result can be seen, p1 result is all zeros so..\n\n    p4.start()\n    p4.join()\n\n    print \"\\nfinal_multi\\n\", final_multi\nmain()\n</code></pre>\n\n<p>I know this is a inefficient way of matrix multiplication, I just want to learn how multiprocessing works, Thanks in advance.</p>\n"}, {"tags": ["python", "sql", "django", "database-performance"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4358142, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a37c2a891ecb355123c5c75a47ee3df3?s=128&d=identicon&r=PG&f=1", "display_name": "Punyama", "link": "https://stackoverflow.com/users/4358142/punyama"}, "edited": false, "score": 0, "creation_date": 1460579783, "post_id": 36608781, "comment_id": 60814795, "body": "Thank you !  You solved my problem with __ str __ but I still have some issues with the second query."}], "tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": false, "score": 2, "last_activity_date": 1460579618, "last_edit_date": 1460579618, "creation_date": 1460578710, "answer_id": 36608781, "question_id": 36608642, "link": "https://stackoverflow.com/questions/36608642/django-str-reduce-sql-queries/36608781#36608781", "title": "Django __str__ reduce SQL queries", "body": "<p>In your <code>BookVolume</code>'s <code>__str__</code> you access <code>self.serie.title</code>. This hits the database every time, as the according <code>BookSerie</code> record must be retrieved. One way to reduce queries here is to use <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/querysets/#select-related\" rel=\"nofollow\"><code>select_related</code></a> when you query your <code>BookVolume</code>:</p>\n\n<pre><code># any reason why you don't store this QuerySet to a variable?\nBookVolume.objects.filter(serie=seriequery).order_by('volumeNumber').select_related('serie')\n\n# better:\nseriequery.bookvolume_set.order_by('volumeNumber').select_related('serie')\n</code></pre>\n\n<p>From the docs:\n<code>select_related</code>...</p>\n\n<blockquote>\n  <p>... will \u201cfollow\u201d foreign-key relationships, selecting additional related-object data when it executes its query. This is a performance booster which results in a single more complex query but means later use of foreign-key relationships won\u2019t require database queries.</p>\n</blockquote>\n"}], "owner": {"reputation": 45, "user_id": 4358142, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a37c2a891ecb355123c5c75a47ee3df3?s=128&d=identicon&r=PG&f=1", "display_name": "Punyama", "link": "https://stackoverflow.com/users/4358142/punyama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460579618, "creation_date": 1460578313, "question_id": 36608642, "link": "https://stackoverflow.com/questions/36608642/django-str-reduce-sql-queries", "title": "Django __str__ reduce SQL queries", "body": "<p>I have two models in my Django project</p>\n\n<pre><code>class BookSerie(models.Model):\n    id = models.AutoField(primary_key=True)\n    title = models.CharField(max_length=255)\n\nclass BookVolume(models.Model):\n    isbn = models.CharField(max_length=17)\n    volumeNumber = models.PositiveIntegerField()\n    serie = models.ForeignKey(BookSerie)\n\n    def __str__(self):\n        return self.serie.title+\" volume \"+str(self.volumeNumber)+\" - \"+str(self.isbn)\n</code></pre>\n\n<p>I only use  __ str __ for my admin panel but when I use this code in my view (serie with id=1 have 5 volumes) :</p>\n\n<pre><code>def serieDetails(request, title):\n    try:\n        seriequery = BookSerie.objects.get(slug=title)\n        BookVolume.objects.filter(serie=seriequery).order_by('volumeNumber')\n    except BookSerie.DoesNotExist:\n        raise Http404(\"Serie does not exist\")\n\n    return render(request, 'book/serieDetails.html', {'serie': seriequery, 'volumes' : volumesquery})\n</code></pre>\n\n<p>I have an important issue : </p>\n\n<p>Query SELECT \u2022\u2022\u2022 FROM \"book_bookserie\" WHERE \"book_bookserie\".\"id\" = '1' is performed 5 times (django debug toolbar give this code line   <strong>return self.serie.title+\" volume \"+str(self.volumeNumber)+\" - \"+str(self.isbn)</strong> </p>\n\n<p>Query \nSELECT \u2022\u2022\u2022 FROM \"book_bookvolume\" WHERE \"book_bookvolume\".\"serie_id\" = '1' ORDER BY \"book_bookvolume\".\"volumeNumber\" ASC\nis performed 2 times</p>\n"}, {"tags": ["python", "arrays", "performance", "numpy", "vectorization"], "answers": [{"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1460578459, "creation_date": 1460578459, "answer_id": 36608677, "question_id": 36608616, "link": "https://stackoverflow.com/questions/36608616/different-starting-indices-for-slices-in-numpy/36608677#36608677", "title": "Different starting indices for slices in NumPy", "body": "<p>You can use some <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/user/basics.broadcasting.html\" rel=\"nofollow\"><code>broadcasting</code></a> <em>magic</em> -</p>\n\n<pre><code>cleaver[:,None] &lt;= np.arange(a.shape[1])\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [60]: a\nOut[60]: \narray([[1, 2, 5, 3, 4],\n       [4, 5, 6, 7, 8]])\n\nIn [61]: cleaver\nOut[61]: array([2, 1])\n\nIn [62]: cleaver[:,None] &lt;= np.arange(a.shape[1])\nOut[62]: \narray([[False, False,  True,  True,  True],\n       [False,  True,  True,  True,  True]], dtype=bool)\n</code></pre>\n"}], "owner": {"reputation": 2341, "user_id": 3169714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8341ddff72be855729972665d1cc8ee7?s=128&d=identicon&r=PG&f=1", "display_name": "triphook", "link": "https://stackoverflow.com/users/3169714/triphook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 36608677, "answer_count": 1, "score": 1, "last_activity_date": 1460578569, "creation_date": 1460578248, "last_edit_date": 1460578569, "question_id": 36608616, "link": "https://stackoverflow.com/questions/36608616/different-starting-indices-for-slices-in-numpy", "title": "Different starting indices for slices in NumPy", "body": "<p>I'm wondering if it's possible without iterating with a for loop to do something like this:</p>\n\n<pre><code>a = np.array([[1, 2, 5, 3, 4],\n              [4, 5, 6, 7, 8]])\n\ncleaver = np.argmax(a == 5, axis=1)  # np.array([2, 1])\n\nfoo(a, cleaver)\n\n&gt;&gt;&gt; np.array([False, False, True, True, True],\n             [False, True, True, True, True])\n</code></pre>\n\n<p>Is there a way to accomplish this through slicing or some other non-iterative function? The arrays I'm using are quite large and iterating over them row by row is prohibitively expensive.</p>\n"}, {"tags": ["python", "hadoop", "apache-spark", "pyspark", "multiple-columns"], "comments": [{"owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 1, "creation_date": 1460578743, "post_id": 36608559, "comment_id": 60814222, "body": "<i>Is DataFrame way to go here ?</i> - yes it is. Or <code>namedtuple</code> if you plan to use a lot of plain Python code."}, {"owner": {"reputation": 1825, "user_id": 2990458, "user_type": "registered", "accept_rate": 38, "profile_image": "https://graph.facebook.com/1094777696/picture?type=large", "display_name": "Abhishek Anand", "link": "https://stackoverflow.com/users/2990458/abhishek-anand"}, "edited": false, "score": 0, "creation_date": 1460619889, "post_id": 36608559, "comment_id": 60829941, "body": "DataFrame is a combination of schema and rdd. Right now variable &quot;f&quot; in your code is a rdd. So, if you add schema to it, you will get DataFrame. Then it will have headers and column names. Also, post that you can register this data as table and do SQL on top of it."}], "answers": [{"tags": [], "owner": {"reputation": 2527, "user_id": 636398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/470adb3e2ae20a9b5964604f028eb0b8?s=128&d=identicon&r=PG", "display_name": "Ida", "link": "https://stackoverflow.com/users/636398/ida"}, "is_accepted": false, "score": 5, "last_activity_date": 1460639055, "last_edit_date": 1460639055, "creation_date": 1460628489, "answer_id": 36619932, "question_id": 36608559, "link": "https://stackoverflow.com/questions/36608559/how-to-assign-and-use-column-headers-in-spark/36619932#36619932", "title": "How to assign and use column headers in Spark?", "body": "<p>Here is how to add column names using DataFrame:</p>\n\n<p>Assume your csv has the delimiter ','. Prepare the data as follows before transferring it to DataFrame:</p>\n\n<pre><code>f = sc.textFile(\"s3://test/abc.csv\")\ndata_rdd = f.map(lambda line: [x for x in line.split(',')])\n</code></pre>\n\n<p>Suppose the data has 3 columns:</p>\n\n<pre><code>data_rdd.take(1)\n[[u'1.2', u'red', u'55.6']]\n</code></pre>\n\n<p>Now, you can specify the column names when transferring this RDD to DataFrame using <code>toDF()</code>:</p>\n\n<pre><code>df_withcol = data_rdd.toDF(['height','color','width'])\n\ndf_withcol.printSchema()\n\n    root\n     |-- height: string (nullable = true)\n     |-- color: string (nullable = true)\n     |-- width: string (nullable = true)\n</code></pre>\n\n<p>If you don't specify column names, you get a DataFrame with default column names '_1', '_2', ...:</p>\n\n<pre><code>df_default = data_rdd.toDF()\n\ndf_default.printSchema()\n\n    root\n     |-- _1: string (nullable = true)\n     |-- _2: string (nullable = true)\n     |-- _3: string (nullable = true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1005, "user_id": 2698270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dUyUh.jpg?s=128&g=1", "display_name": "BushMinusZero", "link": "https://stackoverflow.com/users/2698270/bushminuszero"}, "is_accepted": false, "score": 6, "last_activity_date": 1508884117, "creation_date": 1508884117, "answer_id": 46921012, "question_id": 36608559, "link": "https://stackoverflow.com/questions/36608559/how-to-assign-and-use-column-headers-in-spark/46921012#46921012", "title": "How to assign and use column headers in Spark?", "body": "<p>The solution to this question really depends on the version of Spark you are running. Assuming you are on Spark 2.0+ then you can read the CSV in as a DataFrame and add columns with toDF which is good for transforming a RDD to a DataFrame OR adding columns to an existing data frame.</p>\n\n<pre><code>filename = \"/path/to/file.csv\"\ndf = spark.read.csv(filename).toDF(\"col1\",\"col2\",\"col3\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10561153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d597cc59dd7d30c29b054ee4bbc07f9a?s=128&d=identicon&r=PG&f=1", "display_name": "Vinod Kumar", "link": "https://stackoverflow.com/users/10561153/vinod-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1541361912, "last_edit_date": 1541361912, "creation_date": 1541361148, "answer_id": 53144795, "question_id": 36608559, "link": "https://stackoverflow.com/questions/36608559/how-to-assign-and-use-column-headers-in-spark/53144795#53144795", "title": "How to assign and use column headers in Spark?", "body": "<pre><code>f = sc.textFile(\"s3://test/abc.csv\") &lt;br /&gt;\nheader = f.first()\n\nheader will give you as below:-&lt;br /&gt;\nu'col1,col2,col3'  --&gt; for example taking 3 columns name\n\nhead = str(header).split(\",\") &lt;br /&gt;\nhead will give you a list&lt;br/&gt;\n['col1','col2','col3']\n\nfDF = f.filter(lambda row: row!=header).map(lambda x: str(x).split(\",\")).toDF(head)&lt;br/&gt;\nfdF.show() &lt;br/&gt;\n</code></pre>\n\n<p>will give you header as well as the data in dataframe as required.</p>\n"}], "owner": {"reputation": 327, "user_id": 4052851, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a8bc55b6b9f77913f253e7531aca5c29?s=128&d=identicon&r=PG&f=1", "display_name": "GoldenPlatinum", "link": "https://stackoverflow.com/users/4052851/goldenplatinum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25270, "favorite_count": 3, "answer_count": 3, "score": 6, "last_activity_date": 1541361912, "creation_date": 1460578052, "last_edit_date": 1504161823, "question_id": 36608559, "link": "https://stackoverflow.com/questions/36608559/how-to-assign-and-use-column-headers-in-spark", "title": "How to assign and use column headers in Spark?", "body": "<p>I am reading a dataset as below.</p>\n\n<pre><code> f = sc.textFile(\"s3://test/abc.csv\")\n</code></pre>\n\n<p>My file contains 50+ fields and I want assign column headers for each of fields to reference later in my script. </p>\n\n<p>How do I do that in PySpark ?  Is DataFrame way to go here ?</p>\n\n<p>PS -  Newbie to Spark. </p>\n"}, {"tags": ["python", "pandas", "pivot-table"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6200218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PmoGG1vZPOo/AAAAAAAAAAI/AAAAAAAAADg/-jRJBzVjUy0/photo.jpg?sz=128", "display_name": "Daniel Hamill", "link": "https://stackoverflow.com/users/6200218/daniel-hamill"}, "is_accepted": false, "score": 0, "last_activity_date": 1460586725, "creation_date": 1460586725, "answer_id": 36610728, "question_id": 36608558, "link": "https://stackoverflow.com/questions/36608558/pandas-set-element-of-pivot-table-to-variable/36610728#36610728", "title": "Pandas- Set element of Pivot table to variable", "body": "<p>I have found an answer to my problem, although I am sure there is a much more elegant solution.</p>\n\n<p>In developing my solution, I created a pivot table with the earliest date using:</p>\n\n<pre><code>query2 = query1[query1.TripDate=='1990-06-10']\n</code></pre>\n\n<p>where <code>query1</code> is a subset of my original data file.</p>\n\n<p>I then created a piviot table is a way similar to <code>table1</code> and <code>table2</code> using:</p>\n\n<pre><code>table3 = pd.pivot_table(query2,values=['Volume'], index=['Site','TripDate'], aggfunc=np.sum)\ntable3 = table3.rename(columns = {'Volume':'Early_Vol'})\n</code></pre>\n\n<p>I can then merge <code>table1</code> and table3` using:</p>\n\n<pre><code>merge = pd.merge(table1.reset_index(),table3.reset_index(),on=['Site'],how='left')\n</code></pre>\n\n<p>And after a little formatting I am left with my desired output:</p>\n\n<pre><code>    Site   TripDate        Volume    Early_Vol\n0   003l 1990-06-10   2354.043820  2354.043820\n1   003l 1991-07-26   2745.673779  2354.043820\n2   003l 1993-10-08  22789.790846  2354.043820\n3   003l 1994-11-20  23072.306665  2354.043820\n4   003l 1995-04-24  25203.740194  2354.043820\n5   003l 1996-02-13  16505.985301  2354.043820\n6   003l 1996-04-15   8257.426317  2354.043820\n7   003l 1996-09-12   9148.369265  2354.043820\n8   003l 1997-02-13  10014.168593  2354.043820\n9   003l 1997-04-20  11154.686365  2354.043820\n10  003l 1997-08-23  13064.444117  2354.043820\n11  003l 1997-11-06  13704.596573  2354.043820\n12  003l 1998-04-15  14358.140459  2354.043820\n13  003l 1999-05-04  18100.457859  2354.043820\n14  003l 2000-03-17  22910.600843  2354.043820\n15  003l 2000-06-01    617.621794  2354.043820\n16  003l 2001-10-05    882.738323  2354.043820\n17  016l 1990-06-10    962.070643   962.070643\n18  016l 1991-07-26    761.409178   962.070643\n19  016l 1993-10-08    475.038362   962.070643\n20  016l 1994-11-20    312.339596   962.070643\n21  016l 1995-04-24  11569.523232   962.070643\n22  016l 1996-02-13  15272.175019   962.070643\n23  016l 1996-04-15  13542.057394   962.070643\n24  016l 1996-09-12  14556.930737   962.070643\n25  016l 1997-02-13  18905.265710   962.070643\n26  016l 1997-04-20  19832.509861   962.070643\n27  016l 1997-08-23  20914.494534   962.070643\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6200218, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PmoGG1vZPOo/AAAAAAAAAAI/AAAAAAAAADg/-jRJBzVjUy0/photo.jpg?sz=128", "display_name": "Daniel Hamill", "link": "https://stackoverflow.com/users/6200218/daniel-hamill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460586725, "creation_date": 1460578050, "last_edit_date": 1460581002, "question_id": 36608558, "link": "https://stackoverflow.com/questions/36608558/pandas-set-element-of-pivot-table-to-variable", "title": "Pandas- Set element of Pivot table to variable", "body": "<p>I have a Pivot table named <code>table1</code> that looks like:</p>\n\n<pre><code>                       Volume\nSite TripDate                \n003l 1990-06-10   2354.043820\n     1991-07-26   2745.673779\n     1993-10-08  22789.790846\n     1994-11-20  23072.306665\n     1995-04-24  25203.740194\n     1996-02-13  16505.985301\n     1996-04-15   8257.426317\n     1996-09-12   9148.369265\n     1997-02-13  10014.168593\n     1997-04-20  11154.686365\n     1997-08-23  13064.444117\n     1997-11-06  13704.596573\n     1998-04-15  14358.140459\n     1999-05-04  18100.457859\n     2000-03-17  22910.600843\n     2000-06-01    617.621794\n     2001-10-05    882.738323\n016l 1990-06-10    962.070643\n     1991-07-26    761.409178\n     1993-10-08    475.038362\n     1994-11-20    312.339596\n     1995-04-24  11569.523232\n     1996-02-13  15272.175019\n     1996-04-15  13542.057394\n     1996-09-12  14556.930737\n     1997-02-13  18905.265710\n     1997-04-20  19832.509861\n</code></pre>\n\n<p>I am interested in Calculating percent volume for each site using the earliest volume calculation as the \"theoretical value\" to normalize the data. For each site, is there a way to define a variable for the earliest volume calculation (i.e. 1990-06-10) directly from the pivot table?</p>\n\n<p>An example formula for %Volume would be:</p>\n\n<pre><code>%Volume=(V_survey-V_1990)/(V_1990)\n</code></pre>\n\n<p>I have tired to subset based on the level one index using:</p>\n\n<pre><code>test = table1[table1[['TripDate']]==1990-06-10]\n</code></pre>\n\n<p>but, it throws the following error:</p>\n\n<pre><code>KeyError: \"['TripDate'] not in index\"\n</code></pre>\n\n<p>If I check the names of the indices using <code>list(table1.index.names)</code> it returns:</p>\n\n<pre><code>['Site', 'TripDate']\n</code></pre>\n"}, {"tags": ["python", "xml", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 529899, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb03b71e72f04c9e95789cfb8b86b10?s=128&d=identicon&r=PG", "display_name": "ian", "link": "https://stackoverflow.com/users/529899/ian"}, "edited": false, "score": 0, "creation_date": 1460581432, "post_id": 36608864, "comment_id": 60815682, "body": "Interesting. I only posted a section of the doc into the gist. Here is the full thing: would you mind checking again? <a href=\"https://gist.github.com/ianseyer/e754cf3d3df34757025f295b1f264d75\" rel=\"nofollow noreferrer\">gist.github.com/ianseyer/e754cf3d3df34757025f295b1f264d75</a>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 463, "user_id": 529899, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb03b71e72f04c9e95789cfb8b86b10?s=128&d=identicon&r=PG", "display_name": "ian", "link": "https://stackoverflow.com/users/529899/ian"}, "edited": false, "score": 0, "creation_date": 1460582395, "post_id": 36608864, "comment_id": 60816201, "body": "@ian,  the issue is actually with the xml"}, {"owner": {"reputation": 463, "user_id": 529899, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb03b71e72f04c9e95789cfb8b86b10?s=128&d=identicon&r=PG", "display_name": "ian", "link": "https://stackoverflow.com/users/529899/ian"}, "edited": false, "score": 0, "creation_date": 1460582697, "post_id": 36608864, "comment_id": 60816352, "body": "are you inducing that, or did you find an error in it?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 463, "user_id": 529899, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb03b71e72f04c9e95789cfb8b86b10?s=128&d=identicon&r=PG", "display_name": "ian", "link": "https://stackoverflow.com/users/529899/ian"}, "edited": false, "score": 0, "creation_date": 1460582804, "post_id": 36608864, "comment_id": 60816407, "body": "@ian, look at the edit remove that line and run your code"}, {"owner": {"reputation": 463, "user_id": 529899, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb03b71e72f04c9e95789cfb8b86b10?s=128&d=identicon&r=PG", "display_name": "ian", "link": "https://stackoverflow.com/users/529899/ian"}, "edited": false, "score": 0, "creation_date": 1460583058, "post_id": 36608864, "comment_id": 60816524, "body": "Oh jeez. Thank you very much. Is there a way in bs4 to ignore all style tags? Or what would you recommend, given that I have hundreds and hundreds of these files?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 463, "user_id": 529899, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb03b71e72f04c9e95789cfb8b86b10?s=128&d=identicon&r=PG", "display_name": "ian", "link": "https://stackoverflow.com/users/529899/ian"}, "edited": false, "score": 0, "creation_date": 1460584323, "post_id": 36608864, "comment_id": 60817152, "body": "@ian, I would probably consider it a bug relating to  <code>wikiextractor.py</code>.  I added a couple of ways that should work."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1460584294, "last_edit_date": 1460584294, "creation_date": 1460579004, "answer_id": 36608864, "question_id": 36608540, "link": "https://stackoverflow.com/questions/36608540/beautifulsoup-first-element-incorrect/36608864#36608864", "title": "BeautifulSoup first element incorrect", "body": "<p>Using the full file, if you search the xml for <code>&lt;div style=\"float:left;\"&gt;</code> you will see there is no closing tag which is causing the issue.</p>\n\n<p>With the bad line:</p>\n\n<pre><code>In [2]: from bs4 import BeautifulSoup    \nIn [3]: collection = BeautifulSoup(open(\"foo.xml\").read(),\"lxml\")   \nIn [4]: e1 = collection.find('doc').find_all('a')    \nIn [5]: e2 = collection.find_all('doc')[1].find_all('a')    \nIn [6]: len(e1)\n6411    \nIn [7]: len(e2)\n43    \nIn [8]: len(collection.find_all(\"a\"))\n6411    \nIn [9]: len(collection.find('doc').text)\n819562    \nIn [10]:len(collection.find_all('doc')[1].text)\n3908    \nIn [11]: len(collection.text)\n819562\n</code></pre>\n\n<p>Bad line removed:</p>\n\n<pre><code>In [28]: from bs4 import BeautifulSoup    \nIn [29]: collection = BeautifulSoup(open(\"foo.xml\").read(),\"lxml\")    \nIn [30]: e1 = collection.find('doc').find_all('a')    \nIn [31]: e2 = collection.find_all('doc')[1].find_all('a')    \nIn [32]: len(e1)\nOut[32]: 260    \nIn [33]: len(e2)\nOut[33]: 43    \nIn [34]: len(collection.find_all(\"a\"))\nOut[34]: 6411   \nIn [35]: len(collection.find('doc').text\nOut[35]: 22882    \nIn [36]: len(collection.find_all('doc')[1].text)\nOut[36]: 3908    \nIn [37]: len(collection.text)\nOut[37]: 819564\n</code></pre>\n\n<p>For broken html you can use the html.parser with bs4 which is a little more forgiving:</p>\n\n<pre><code>In [57]: from bs4 import BeautifulSoup\n\nIn [58]: collection = BeautifulSoup(open(\"foo.xml\").read(),\"html.parser\")    \nIn [59]: e1 = collection.find('doc').find_all('a')    \nIn [60]: e2 = collection.find_all('doc')[1].find_all('a')    \nIn [61]: (len(e1))\nOut[61]: 260    \nIn [62]: (len(e2))\nOut[62]: 43    \nIn [63]: (len(collection.find_all(\"a\")))\nOut[63]: 6411    \nIn [64]: (len(collection.find('doc').text))\nOut[64]: 22881    \nIn [65]: (len(collection.find_all('doc')[1].text))\nOut[65]: 3910   \nIn [66]: (len(collection.text))\nOut[66]: 819582\n</code></pre>\n\n<p>Or combine both lxml and bs4 using <a href=\"http://lxml.de/elementsoup.html\" rel=\"nofollow\">lxml.html.soupparser</a>:</p>\n\n<pre><code>In [69]: from lxml.html.soupparser import parse    \nIn [70]: xml = parse(open(\"foo.xml\"))    \nIn [71]: e3 = xml.xpath(\"//doc[1]//a\")   \nIn [72]: e4 = xml.xpath(\"//doc[2]//a\")    \nIn [73]: (len(e3))\nOut[73]: 260    \nIn [74]: (len(e4))\nOut[74]: 43    \nIn [75]: (len(xml.xpath(\"//a\")))\nOut[75]: 6411\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 529899, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/6cb03b71e72f04c9e95789cfb8b86b10?s=128&d=identicon&r=PG", "display_name": "ian", "link": "https://stackoverflow.com/users/529899/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "accepted_answer_id": 36608864, "answer_count": 1, "score": 1, "last_activity_date": 1460584294, "creation_date": 1460578019, "last_edit_date": 1460582096, "question_id": 36608540, "link": "https://stackoverflow.com/questions/36608540/beautifulsoup-first-element-incorrect", "title": "BeautifulSoup first element incorrect", "body": "<p>Have an interesting problem.</p>\n\n<p>Note: upgraded lxml and bs4 to latest version, same issue.</p>\n\n<p>I am parsing english wikipedia. I have used <code>wikiextractor.py</code> to break my dump up into several xml documents, containing about 100 articles each, seperated into <code>&lt;doc&gt;</code> tags. Within each article are the anchor tags, which I am attempting to capture and store in a relations fields.</p>\n\n<p>However, I am having a strange issue:</p>\n\n<pre><code>collection = BeautifulSoup(file, 'lxml')\nentry = collection.find_all('doc')[0].find_all('a')\n#this returns ALL anchor tags in the entire xml file\n#but...\nentry = collection.find_all('doc')[1].find_all('a')\n#returns only the anchor tags for that specific entry.\n</code></pre>\n\n<p>The formatting of the xml is consistent (attached in gist <a href=\"http://gist.github.com/ianseyer/e754cf3d3df34757025f295b1f264d75\" rel=\"nofollow\" title=\"here\">here</a>)</p>\n\n<p>Calling <code>entry['title']</code> on element <code>0</code> returns <code>\"The Offspring\"</code>(correct) but calling <code>entry.text</code> on element <code>0</code> returns the entire file.</p>\n\n<p>Am I missing some xml header or something?</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 3, "last_activity_date": 1460577978, "creation_date": 1460577978, "answer_id": 36608521, "question_id": 36608506, "link": "https://stackoverflow.com/questions/36608506/python-syntax-error-args-with-optional-arg/36608521#36608521", "title": "python syntax error *args with optional arg", "body": "<p>That is not supported in python 2, where <code>*args</code> must appear after any named/defaulted arguments in a function call signature. </p>\n\n<p>The appropriate way to do that thing is to upgrade to python 3, where it is supported.  </p>\n\n<pre><code>&gt;&gt;&gt; def f(*args, option=None):\n...     print(args, option)\n...     \n&gt;&gt;&gt; f('not_option')\n('not_option',) None\n&gt;&gt;&gt; f(1, 2, option='beast mode on!!!')\n(1, 2) beast mode on!!!\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1460579161, "last_edit_date": 1460579161, "creation_date": 1460578623, "answer_id": 36608739, "question_id": 36608506, "link": "https://stackoverflow.com/questions/36608506/python-syntax-error-args-with-optional-arg/36608739#36608739", "title": "python syntax error *args with optional arg", "body": "<p>Python 2 doesn't have keyword-only argument support. If you really want your Python 2 function to have arguments that can only be passed by keyword, you need to take <code>**kwargs</code> and validate the keyword arguments yourself:</p>\n\n<pre><code>def my_max(*args, **kwargs):\n    '''Emulate the built-in max, including the keyword-only key argument.'''\n    key = kwargs.pop('key', None)\n    if kwargs:\n        raise TypeError('my_max() got an unexpected keyword argument {!r}'.format(next(iter(kwargs))))\n    if key is None:\n        # max doesn't support key=None\n        return max(*args)\n    else:\n        return max(*args, key=key)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 4, "last_activity_date": 1460578749, "creation_date": 1460578749, "answer_id": 36608794, "question_id": 36608506, "link": "https://stackoverflow.com/questions/36608506/python-syntax-error-args-with-optional-arg/36608794#36608794", "title": "python syntax error *args with optional arg", "body": "<p>In Python 2, all positional arguments must come before any <code>*args</code> argument. In Python 3, your current syntax is legal, creating <code>option</code> as a \"keyword-only\" argument.</p>\n\n<p>So, your options are to change the order of the arguments:</p>\n\n<pre><code>def f(option=None, *args):\n    ...\n</code></pre>\n\n<p>This would require you to provide an <code>option</code> argument if you wanted to provide any additional arguments though, which may not be what you want.</p>\n\n<p>Another option would be to use <code>**kwargs</code> syntax to catch keyword arguments passed to the function. You can check if it has <code>option</code> (and not any other unexpected keywords) without naming it as a positional argument:</p>\n\n<pre><code>def f(*args, **kwargs):\n    option = kwargs.pop(\"option\", None)\n    if kwargs:\n        raise TypeError(\"unexpected keyword arguments found: {}\".format(kwargs))\n    ...\n</code></pre>\n\n<p>Or you could upgrade to Python 3.</p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 4456593, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1274277319/picture?type=large", "display_name": "Axel Samyn", "link": "https://stackoverflow.com/users/4456593/axel-samyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1525298775, "creation_date": 1525298775, "answer_id": 50144224, "question_id": 36608506, "link": "https://stackoverflow.com/questions/36608506/python-syntax-error-args-with-optional-arg/50144224#50144224", "title": "python syntax error *args with optional arg", "body": "<p>In case it would help someone, i still had the error with python 3.X  installed... </p>\n\n<p>I am using a windows, and launched my code by right clicking my .py file and selecting \"Edit with IDLE\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/0108E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0108E.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Actually, i noticed my version of IDLE was running on python 2.X. At least... when clicking on the first \"Edit with IDLE\" button...</p>\n\n<p>Just click the second button and you'll find your solution...</p>\n\n<p><a href=\"https://i.stack.imgur.com/kKxQR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kKxQR.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I guess I have both versions installed :|</p>\n"}], "owner": {"reputation": 4240, "user_id": 2886575, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/mZtIe.jpg?s=128&g=1", "display_name": "Him", "link": "https://stackoverflow.com/users/2886575/him"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5504, "favorite_count": 0, "accepted_answer_id": 36608739, "answer_count": 4, "score": 3, "last_activity_date": 1525298775, "creation_date": 1460577932, "question_id": 36608506, "link": "https://stackoverflow.com/questions/36608506/python-syntax-error-args-with-optional-arg", "title": "python syntax error *args with optional arg", "body": "<p>Why is this a syntax error??  What is the appropriate way to do this thing?</p>\n\n<pre><code>&gt;&gt;&gt; def f(*args, option=None):\n  File \"&lt;stdin&gt;\", line 1\n    def f(*args, option=None):\n                      ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "range", "line"], "comments": [{"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1460577750, "post_id": 36608398, "comment_id": 60813646, "body": "What is the output of <code>print pos</code>. Looks like your first row might be a space or something."}, {"owner": {"reputation": 5515, "user_id": 4946896, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbe7e09627974c401e4eca85d23cefe5?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/4946896/rafael"}, "edited": false, "score": 0, "creation_date": 1460578302, "post_id": 36608398, "comment_id": 60813982, "body": "I will suggest learning to use a Debugger like the PyCharm&#39;s Debugger tool. Learn how to debug program will help you understand where your problem is and therefore to find a solution."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 5562845, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9fc2f5ac6475761c586b5566e1d7b890?s=128&d=identicon&r=PG&f=1", "display_name": "Veligkekas G.", "link": "https://stackoverflow.com/users/5562845/veligkekas-g"}, "edited": false, "score": 0, "creation_date": 1460586159, "post_id": 36608542, "comment_id": 60817924, "body": "Thank you I think I got what you mean :)  Still, when I run the program now I get a new error and I think it has to do with the way I read or open the file but I don&#39;t know gow to fix it.. :  NameError: name &#39;ATA&#39; is not defined  ATA is the first line of my txt file"}], "tags": [], "owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "is_accepted": false, "score": 2, "last_activity_date": 1460578021, "creation_date": 1460578021, "answer_id": 36608542, "question_id": 36608398, "link": "https://stackoverflow.com/questions/36608398/looping-the-characters-of-a-line-to-get-each-one-but-having-indexerror-string-i/36608542#36608542", "title": "Looping the characters of a line to get each one but having IndexError: string index out of range", "body": "<p>Your problem is that when you loop over with <code>for pos in line</code>, you are essentially looping over <code>for pos in 'ATA'</code>, taking the first line. Thus, <code>pos</code> first gets assigned to <code>'A'</code>, triggering an error when you try to access the 2nd item in it\u2014you are looping once too many.</p>\n\n<p>Instead, change your code to the following:</p>\n\n<pre><code>import sys\n\nfrom collections import defaultdict\n\nfilename = sys.argv[1]\n\ng = defaultdict(list)\n\nl = 0\n\nwith open(filename) as graph_file:\n    for line in graph_file:\n         g[l].append(line[0])\n         g[l].append(line[1])\n         g[l+1].append(line[1])\n         g[l+1].append(line[2])\n\n         l = l+1\n\nfor i in g.keys():\n    if '\\n' in g[i]:\n        g[i].remove('\\n')\n\nfor i in g.keys():\n    print (i, g[i])\n</code></pre>\n\n<hr>\n\n<pre><code>bash-3.2$ python foo.py foo.txt\n(0, ['A', 'T'])\n(1, ['T', 'A', 'G', 'T'])\n(2, ['T', 'G', 'T', 'A'])\n(3, ['A', 'C', 'A', 'C'])\n(4, ['C', 'C', 'A', 'A'])\n(5, ['A', 'G', 'C', 'C'])\n(6, ['C', 'A', 'T', 'G'])\n(7, ['G', 'G', 'G', 'T'])\n(8, ['T', 'A', 'T', 'A'])\n(9, ['A', 'T', 'A', 'T'])\n(10, ['T', 'G', 'T', 'G'])\n(11, ['G', 'T', 'A', 'G'])\n(12, ['G', 'T', 'G', 'G'])\n(13, ['G', 'A', 'G', 'A'])\n(14, ['A', 'C', 'A', 'C'])\n(15, ['C', 'T', 'C', 'T'])\n(16, ['T', 'T', 'T', 'T'])\n(17, ['T', 'C', 'C', 'A'])\n(18, ['A', 'A', 'T', 'C'])\n(19, ['C', 'A', 'C', 'A'])\n(20, ['A', 'T'])\nbash-3.2$ \n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5562845, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/9fc2f5ac6475761c586b5566e1d7b890?s=128&d=identicon&r=PG&f=1", "display_name": "Veligkekas G.", "link": "https://stackoverflow.com/users/5562845/veligkekas-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1460578039, "creation_date": 1460577596, "last_edit_date": 1460578039, "question_id": 36608398, "link": "https://stackoverflow.com/questions/36608398/looping-the-characters-of-a-line-to-get-each-one-but-having-indexerror-string-i", "title": "Looping the characters of a line to get each one but having IndexError: string index out of range", "body": "<p>I have the following code</p>\n\n<pre><code>import sys\n\nfrom collections import defaultdict\n\nfilename = sys.argv[1]\n\ng = defaultdict(list)\n\nl = 0\n\nwith open(filename) as graph_file:\n    for line in graph_file:\n        for pos in line:\n            g[l].append(pos[0])\n            g[l].append(pos[1])\n\n            g[l+1].append(pos[1])\n            g[l+1].append(pos[2])\n\n        l = l+1\n\nfor i in g.keys():\n    if '\\n' in g[i]:\n        g[i].remove('\\n')\n\nfor i in g.keys():\n    print (i, g[i])\n</code></pre>\n\n<p>When I use the cmd to run the program, I have the following error and I can't figure why.</p>\n\n<p>Traceback (most recent call last):\n  File \"test.py\", line 15, in \n    g[l].append(pos[1])\nIndexError: string index out of range</p>\n\n<p>I know what it means, but I can't understand why it happens. The text file that I'm trying to open is the following:</p>\n\n<pre><code>ATA\nGTG\nTAC\nACC\nAAG\nCCA\nTGG\nGTA\nTAT\nATG\nTGT\nAGT\nGGA\nGAC\nACT\nCTT\nTTC\nCAA\nTCA\nCAT\n</code></pre>\n"}, {"tags": ["python", "mysql", "tkinter", "mysql-python"], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 6184021, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a321c79a8bcc976084ba2881ca44695?s=128&d=identicon&r=PG&f=1", "display_name": "julianomontini", "link": "https://stackoverflow.com/users/6184021/julianomontini"}, "edited": false, "score": 0, "creation_date": 1460578346, "post_id": 36608496, "comment_id": 60814014, "body": "Thank you! Can you explain why??"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 165, "user_id": 6184021, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a321c79a8bcc976084ba2881ca44695?s=128&d=identicon&r=PG&f=1", "display_name": "julianomontini", "link": "https://stackoverflow.com/users/6184021/julianomontini"}, "edited": false, "score": 0, "creation_date": 1460580392, "post_id": 36608496, "comment_id": 60815133, "body": "@julianomontini sure, please see the related thread: <a href=\"http://stackoverflow.com/questions/24798411/mysql-cursors-execute-with-only-one-parameter-why-is-a-string-sliced-into-a-l\" title=\"mysql cursors execute with only one parameter why is a string sliced into a l\">stackoverflow.com/questions/24798411/&hellip;</a>. Hope that helps."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 0, "last_activity_date": 1460577884, "creation_date": 1460577884, "answer_id": 36608496, "question_id": 36608365, "link": "https://stackoverflow.com/questions/36608365/python-mysql-error-in-query-sintax/36608496#36608496", "title": "Python Mysql - Error in query sintax", "body": "<p>You need to pass the query parameters in a tuple:</p>\n\n<pre><code>cursor.execute(query, (cod_comanda, ))\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 6184021, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7a321c79a8bcc976084ba2881ca44695?s=128&d=identicon&r=PG&f=1", "display_name": "julianomontini", "link": "https://stackoverflow.com/users/6184021/julianomontini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "accepted_answer_id": 36608496, "answer_count": 1, "score": 1, "last_activity_date": 1460577884, "creation_date": 1460577501, "question_id": 36608365, "link": "https://stackoverflow.com/questions/36608365/python-mysql-error-in-query-sintax", "title": "Python Mysql - Error in query sintax", "body": "<p>I am using mysql connector in python and I dont know shy , but this query dont work and i have no ideia why! I know for sure that the connection is done correctly.</p>\n\n<pre><code>def lista_itens(cod_comanda):\n    print (cod_comanda)\n    cnx = mysql.connector.connect(user='root', password='123qwe', host='192.168.56.1', database='teste')\n    cursor = cnx\n    cursor = cnx.cursor()\n\n    query = (\"SELECT * FROM itens_comanda WHERE cod_comanda = %s\")\n    cursor.execute(query, (cod_comanda))\n    cnx.close()\n    return cursor\n</code></pre>\n\n<p>The error is:\nProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '%s' at line 1</p>\n\n<p>Full code:</p>\n\n<pre><code>from Tkinter import *\n\nimport mysql.connector\nimport tkMessageBox\n\nclass Tela_principal(Frame):\n    def __init__(self,master):\n        Frame.__init__(self,master)\n        self.grid()\n        self.create_widgets()\n        self.master.withdraw()\n        self.open_login()\n\n    def create_widgets(self):\n        self.b_controle_caixa = Button(text = \"Controle de caixa\",command = lambda : self.abrir_controle_cx())\n        self.b_controle_caixa.grid()\n        self.b_controle_comanda = Button(text = \"Controle de Comanda\",command= lambda  : self.abrir_comanda())\n        self.b_controle_comanda.grid()\n\n    def abrir_controle_cx(self):\n        self.root3 = Toplevel()\n        self.app3 = Tela_caixa(self.root3)\n\n    def abrir_comanda(self):\n        pass\n\n    def open_login(self):\n        self.root2 = Toplevel()\n        self.app2 = Tela_login(self.root2)\n\nclass Tela_login(Frame):\n    def __init__(self,master):\n        Frame.__init__(self,master)\n        self.grid()\n        self.create_widgets()\n\n    def create_widgets(self):\n        self.txt1 = Label(self,text = \"Login\")\n        self.txt2 = Label(self,text = \"Senha\")\n        self.login = Entry(self)\n        self.senha = Entry(self)\n        self.entrar = Button(self,text=\"Entrar\",command=lambda: self.valida_login())\n\n        self.txt1.grid()\n        self.txt2.grid()\n        self.login.grid()\n        self.senha.grid()\n        self.entrar.grid()\n\n    def valida_login(self):\n        self.usr_login = self.login.get()\n        self.usr_senha = self.senha.get()\n\n        self.cnx = mysql.connector.connect(user='root', password='123qwe', host='192.168.56.1', database='teste')\n        self.cursor = self.cnx\n        self.cursor = self.cnx.cursor()\n\n        self.query = (\"SELECT nome, senha FROM funcionario WHERE nome = %s AND senha = %s\")\n        self.cursor.execute(self.query, (self.usr_login, self.usr_senha))\n        self.row = self.cursor.fetchone()\n        self.cnx.close()\n\n        if self.row is None:\n\n            tkMessageBox.showinfo(\"Erro\", \"Usuario ou Senha Incorretos\")\n\n        else:\n            root.deiconify()\n            self.master.destroy()\n\nclass Tela_caixa(Frame):\n\n    def __init__(self,master):\n        Frame.__init__(self,master)\n        self.grid()\n        self.create_widgets()\n\n    def create_widgets(self):\n        scrollbar = Scrollbar(self.master)\n        self.txt1 = Label(self,text=\"Numero Comanda\")\n        self.comanda = Entry(self)\n        self.procura = Button(self,text=\"Procurar\",command = lambda : self.trazer_itens())\n        self.txt2 = Label(self,text=\"Cod.Item / Quan\")\n        self.item = Entry(self)\n        self.quan = Entry(self)\n        self.adiciona = Button(self,text=\"Adicionar\")\n        self.remover = Button(self,text = \"Remover\")\n        self.lista = Listbox(self,yscrollcommand=scrollbar.set)\n\n        self.txt1.grid()\n        self.comanda.grid()\n        self.procura.grid()\n        self.txt2.grid()\n        self.item.grid()\n        self.quan.grid()\n        self.adiciona.grid()\n        self.remover.grid()\n        self.lista.grid()\n\n    def trazer_itens(self):\n        self.lista.delete(0,(self.lista.size()-1))\n        self.itens_trazidos = lista_itens(self.comanda.get())\n\ndef lista_itens(cod_comanda):\n    print (cod_comanda)\n    cnx = mysql.connector.connect(user='root', password='123qwe', host='192.168.56.1', database='teste')\n    cursor = cnx\n    cursor = cnx.cursor()\n\n    query = (\"SELECT * FROM itens_comanda WHERE cod_comanda = %s\")\n    cursor.execute(query, (cod_comanda))\n    cnx.close()\n    return cursor\n\n\nroot = Tk()\napp = Tela_principal(root)\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1460577907, "post_id": 36608342, "comment_id": 60813741, "body": "Cast the list into a <code>set</code> first to remove dupes?"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1460577982, "post_id": 36608342, "comment_id": 60813792, "body": "@BAH wouldn&#39;t that change the index number?"}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "reply_to_user": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460578072, "post_id": 36608342, "comment_id": 60813842, "body": "@Adib, ah yes, you&#39;re right. Then maybe replace all dupes with a <code>None</code> or something first."}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460578098, "post_id": 36608342, "comment_id": 60813859, "body": "I don&#39;t understand this part <code>if value &lt;= 0:</code> since value is not declared anywhere else. What is it supposed to be?"}, {"owner": {"reputation": 359, "user_id": 5920298, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50d69f6319126e73fd46c6b3833bc632?s=128&d=identicon&r=PG&f=1", "display_name": "KR29", "link": "https://stackoverflow.com/users/5920298/kr29"}, "reply_to_user": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460578236, "post_id": 36608342, "comment_id": 60813935, "body": "@Adib corrected it"}, {"owner": {"reputation": 9564, "user_id": 743188, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gPyaY.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/743188/tommy"}, "edited": false, "score": 1, "creation_date": 1460578244, "post_id": 36608342, "comment_id": 60813942, "body": "There can be multiple answers. Do you want all of them returned? For example if the number is 50 then [0,1,2] and [3] are both valid answers."}, {"owner": {"reputation": 9564, "user_id": 743188, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gPyaY.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/743188/tommy"}, "edited": false, "score": 2, "creation_date": 1460578314, "post_id": 36608342, "comment_id": 60813988, "body": "Is the list sorted? If it is sorted you can atleast ignore all values &gt;= to the number, which you can quickly find the index of using bisection."}, {"owner": {"reputation": 359, "user_id": 5920298, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50d69f6319126e73fd46c6b3833bc632?s=128&d=identicon&r=PG&f=1", "display_name": "KR29", "link": "https://stackoverflow.com/users/5920298/kr29"}, "reply_to_user": {"reputation": 9564, "user_id": 743188, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gPyaY.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/743188/tommy"}, "edited": false, "score": 0, "creation_date": 1460578357, "post_id": 36608342, "comment_id": 60814021, "body": "@Tommy My solution would return [3] and that is how it should be. Only if you dont find the exact value return the other and the list is sorted"}, {"owner": {"reputation": 9564, "user_id": 743188, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gPyaY.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/743188/tommy"}, "edited": false, "score": 1, "creation_date": 1460578401, "post_id": 36608342, "comment_id": 60814050, "body": "@KR29 but 10+20+20 is also 50 so I don&#39;t understand"}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "reply_to_user": {"reputation": 9564, "user_id": 743188, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gPyaY.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/743188/tommy"}, "edited": false, "score": 0, "creation_date": 1460578773, "post_id": 36608342, "comment_id": 60814236, "body": "I agree with @Tommy. You&#39;ll get multiple answers and there is no one correct answer. Is that the goal?"}, {"owner": {"reputation": 359, "user_id": 5920298, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50d69f6319126e73fd46c6b3833bc632?s=128&d=identicon&r=PG&f=1", "display_name": "KR29", "link": "https://stackoverflow.com/users/5920298/kr29"}, "reply_to_user": {"reputation": 9564, "user_id": 743188, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gPyaY.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/743188/tommy"}, "edited": false, "score": 0, "creation_date": 1460578984, "post_id": 36608342, "comment_id": 60814373, "body": "@Tommy Am I not ignoring all the values&gt;= number already? The reason I dont want multiple results is because I am feeding the result into another function which I have no control of."}, {"owner": {"reputation": 9564, "user_id": 743188, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/gPyaY.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/743188/tommy"}, "edited": false, "score": 0, "creation_date": 1460580990, "post_id": 36608342, "comment_id": 60815439, "body": "but @KR29 the problem you identify <i>has multiple solutions</i> so <i>which one do you want</i>"}], "answers": [{"comments": [{"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460579556, "post_id": 36609003, "comment_id": 60814668, "body": "You might as well &#39;flip&#39; the list"}, {"owner": {"reputation": 2953, "user_id": 2790838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1b32a4c6109138b1260310a7662f3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/2790838/markus"}, "reply_to_user": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460579723, "post_id": 36609003, "comment_id": 60814766, "body": "Of course, if you can keep the list sorted backwards, you can walk the list forward."}, {"owner": {"reputation": 1097, "user_id": 1825632, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/u7zr5.png?s=128&g=1", "display_name": "Adib", "link": "https://stackoverflow.com/users/1825632/adib"}, "edited": false, "score": 0, "creation_date": 1460579791, "post_id": 36609003, "comment_id": 60814798, "body": "Also, this use case fails on something like n = 0 (even fails at n=10)"}, {"owner": {"reputation": 359, "user_id": 5920298, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50d69f6319126e73fd46c6b3833bc632?s=128&d=identicon&r=PG&f=1", "display_name": "KR29", "link": "https://stackoverflow.com/users/5920298/kr29"}, "edited": false, "score": 0, "creation_date": 1460583747, "post_id": 36609003, "comment_id": 60816883, "body": "@Markus Thanks that solves the problem. I dont need recursion afterall!"}, {"owner": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 1, "creation_date": 1460597531, "post_id": 36609003, "comment_id": 60821412, "body": "I think finalList should be defined in the function. Also you can do <code>return finalList[::-1]</code> instead"}, {"owner": {"reputation": 359, "user_id": 5920298, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50d69f6319126e73fd46c6b3833bc632?s=128&d=identicon&r=PG&f=1", "display_name": "KR29", "link": "https://stackoverflow.com/users/5920298/kr29"}, "reply_to_user": {"reputation": 4164, "user_id": 4831822, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_ceYetsPxZc/AAAAAAAAAAI/AAAAAAAAACQ/WjKu3LiDIH0/photo.jpg?sz=128", "display_name": "Steven Summers", "link": "https://stackoverflow.com/users/4831822/steven-summers"}, "edited": false, "score": 0, "creation_date": 1460598633, "post_id": 36609003, "comment_id": 60821784, "body": "@StevenSummers I wrote finalList out because of recursion and that got carried over. And I do not care how the order of the indices are as long as they are correct"}, {"owner": {"reputation": 2953, "user_id": 2790838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1b32a4c6109138b1260310a7662f3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/2790838/markus"}, "edited": false, "score": 0, "creation_date": 1460619329, "post_id": 36609003, "comment_id": 60829532, "body": "I have beautified the function and added documentation and tests. Unfortunately, I found that it does not always find a solution."}], "tags": [], "owner": {"reputation": 2953, "user_id": 2790838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1b32a4c6109138b1260310a7662f3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/2790838/markus"}, "is_accepted": true, "score": 3, "last_activity_date": 1460620978, "last_edit_date": 1460620978, "creation_date": 1460579456, "answer_id": 36609003, "question_id": 36608342, "link": "https://stackoverflow.com/questions/36608342/get-the-indices-of-a-list-whose-value-add-up-to-the-given-number/36609003#36609003", "title": "Get the indices of a list whose value add up to the given number", "body": "<p>If the list of values is sorted, the following code will do what you want. The trick here is to walk the list in reverse order.</p>\n\n<p><strong>But note the edit and the last test in the function!</strong></p>\n\n<p><strong>Edit:</strong> The problem is known as the <em>subset sum problem</em> (see <a href=\"https://en.wikipedia.org/wiki/Subset_sum_problem\" rel=\"nofollow\" title=\"Wikipedia\">Wikipedia</a>) and is NP-complete. Should have recognized it right away, my bad. This basically means that there is no simple &amp; efficient solution. The simplest solution would be to try all possible combinations, but if your list of values is large, it will simply take too long to complete.</p>\n\n<pre><code>def getIndices(number, values):\n    '''Return a tuple (n, l) where l is a list of indices in 'values' and the\n    following condition holds: n + sum(values[i] for i in l) == number.\n\n    values -- sorted list of numbers\n    number -- sum to search for\n\n    &gt;&gt;&gt; values=[10,20,20,50,100,200,200,500,1000,2000,2000,5000]\n    &gt;&gt;&gt; getIndices(18000, values)\n    (6900, [11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0])\n    &gt;&gt;&gt; getIndices(450, values)\n    (0, [6, 5, 3])\n    &gt;&gt;&gt; getIndices(15, values)\n    (5, [0])\n    &gt;&gt;&gt; getIndices(10, values)\n    (0, [0])\n    &gt;&gt;&gt; getIndices(5, values)\n    (5, [])\n    &gt;&gt;&gt; getIndices(0, values)\n    (0, [])\n\n    This simplicist algorithm does not always find a solution with 'n' == 0,\n    even if one exists. The following test fails, it returns (10, [2])\n    instead.\n\n    &gt;&gt;&gt; getIndices(40, [20, 20, 30])\n    (0, [0, 1])\n\n    '''\n    n = number\n    l = []\n\n    for i in range(len(values) - 1, -1, -1):\n        if values[i] &lt;= n:\n            l.append(i)\n            n -= values[i]\n\n    assert(n + sum(values[i] for i in l) == number)\n    return n, l\n\n\nif __name__ == '__main__':\n    import doctest\n    doctest.testmod()\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 5920298, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/50d69f6319126e73fd46c6b3833bc632?s=128&d=identicon&r=PG&f=1", "display_name": "KR29", "link": "https://stackoverflow.com/users/5920298/kr29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 1, "accepted_answer_id": 36609003, "answer_count": 1, "score": 0, "last_activity_date": 1460620978, "creation_date": 1460577402, "last_edit_date": 1460578212, "question_id": 36608342, "link": "https://stackoverflow.com/questions/36608342/get-the-indices-of-a-list-whose-value-add-up-to-the-given-number", "title": "Get the indices of a list whose value add up to the given number", "body": "<p>I have a list of values and I input a number. The function has to return the indices in the list whose value add up to the number. The problem is the list contains duplicate numbers and the returned indices should not be the same. Here is what I have but the solution does not look clean. Is there a better way?</p>\n\n<pre><code>finalList = []\ndef getIndices(number):\n  values = [10,20,20,50,100,200,200,500,1000,2000,2000,5000]\n  for i in range(len(values)):\n    if values[i] == number:\n      if i not in finalList:\n        finalList.append(i)\n      else:\n        finalList.append(i-1)\n      return values\n    elif values[i] &lt; number:\n      continue\n    else:\n      number = number - values[i-1]\n      if i-1 not in finalList:\n        finalList.append(i-1)\n      else:\n        finalList.append(i-2)\n      if number &lt;= 0:\n        break\n      return getIndices(number)\n\n\nresult = getIndices(450)\nprint(result)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[6, 5, 3]\n</code></pre>\n\n<p>If I didnt check the list before appending then I would get <code>[6, 6, 3]</code> which is not what I want.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1460577743, "post_id": 36608203, "comment_id": 60813642, "body": "I can&#39;t reproduce your error.  Please provide a small, self-contained example that demonstrates the problem."}], "answers": [{"comments": [{"owner": {"reputation": 1483, "user_id": 6213883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh6.googleusercontent.com/-Undmv-4m5tk/AAAAAAAAAAI/AAAAAAAAACA/LsFc3HVNVFE/photo.jpg?sz=128", "display_name": "Florian Castelain", "link": "https://stackoverflow.com/users/6213883/florian-castelain"}, "edited": false, "score": 0, "creation_date": 1611820531, "post_id": 36609474, "comment_id": 116574341, "body": "Dead image links. Please do not put images :("}, {"owner": {"reputation": 2291, "user_id": 4154548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-BNzoB40ZqD0/AAAAAAAAAAI/AAAAAAAAAA8/3muojOPIBTA/photo.jpg?sz=128", "display_name": "Thomas Matthew", "link": "https://stackoverflow.com/users/4154548/thomas-matthew"}, "reply_to_user": {"reputation": 1483, "user_id": 6213883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh6.googleusercontent.com/-Undmv-4m5tk/AAAAAAAAAAI/AAAAAAAAACA/LsFc3HVNVFE/photo.jpg?sz=128", "display_name": "Florian Castelain", "link": "https://stackoverflow.com/users/6213883/florian-castelain"}, "edited": false, "score": 0, "creation_date": 1611820632, "post_id": 36609474, "comment_id": 116574380, "body": "I see the images just fine..."}, {"owner": {"reputation": 1483, "user_id": 6213883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh6.googleusercontent.com/-Undmv-4m5tk/AAAAAAAAAAI/AAAAAAAAACA/LsFc3HVNVFE/photo.jpg?sz=128", "display_name": "Florian Castelain", "link": "https://stackoverflow.com/users/6213883/florian-castelain"}, "edited": false, "score": 0, "creation_date": 1611821097, "post_id": 36609474, "comment_id": 116574570, "body": "Woops. Blocked by vpn. Sorry"}], "tags": [], "owner": {"reputation": 2291, "user_id": 4154548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-BNzoB40ZqD0/AAAAAAAAAAI/AAAAAAAAAA8/3muojOPIBTA/photo.jpg?sz=128", "display_name": "Thomas Matthew", "link": "https://stackoverflow.com/users/4154548/thomas-matthew"}, "is_accepted": true, "score": 11, "last_activity_date": 1460581161, "creation_date": 1460581161, "answer_id": 36609474, "question_id": 36608203, "link": "https://stackoverflow.com/questions/36608203/length-mismatch-error-when-assigning-new-column-labels-in-pandas-dataframe/36609474#36609474", "title": "Length mismatch error when assigning new column labels in pandas dataframe", "body": "<p>The problem was the argument <code>index_col=0</code> was beginning column indexing at the gene names:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WHows.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WHows.png\" alt=\"enter image description here\"></a></p>\n\n<p>The above dataframe ended at 2073, which with 1-based indexing with the above argument, was 2073 elements: one element fewer than my repaired header.  This generated the following error:</p>\n\n<p><code>ValueError: Length mismatch: Expected axis has 2073 elements, new values have 2074 elements</code></p>\n\n<p>While the same <code>read_csv</code> command with <code>index_col=None</code> assigned a separate numerical index, putting the (in this case gene names) back into the dataframe from being just labels:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PCsZd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PCsZd.png\" alt=\"enter image description here\"></a></p>\n\n<p>The above dataframe ended at the column number 2073, which is 2074 elements with zero-based indexing: the same length as my repaired header!  Problem solved:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tpv36.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tpv36.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2291, "user_id": 4154548, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-BNzoB40ZqD0/AAAAAAAAAAI/AAAAAAAAAA8/3muojOPIBTA/photo.jpg?sz=128", "display_name": "Thomas Matthew", "link": "https://stackoverflow.com/users/4154548/thomas-matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47784, "favorite_count": 1, "accepted_answer_id": 36609474, "answer_count": 1, "score": 8, "last_activity_date": 1460581161, "creation_date": 1460576898, "last_edit_date": 1460577444, "question_id": 36608203, "link": "https://stackoverflow.com/questions/36608203/length-mismatch-error-when-assigning-new-column-labels-in-pandas-dataframe", "title": "Length mismatch error when assigning new column labels in pandas dataframe", "body": "<p>The tab file I'm working with is missing the final column name.  When I attempt to repair the header by appending the missing value, I get a mismatch error.  Here's an example to illustrate the problem:</p>\n\n<p><strong>toy example</strong></p>\n\n<p>There should be a '' as the last element of the first list:</p>\n\n<pre><code>missingcol = [[gene, cell_1, '', cell_2]\n               [MYC, 5.0, P, 4.0, A]\n               [AKT, 3.0, A, 1.0, P]]\n</code></pre>\n\n<p>To fix this, I read the first line, appended a <code>''</code>, loaded <code>missingcol</code> into a pandas dataframe with <code>header=None</code> and skipping the first row, and redefined the column names with the modified header, like so:</p>\n\n<pre><code>fullheader = missingcol[0].append('')\nfullheader = missingcol[0]\n\nmissingcol_dropheader = missingcol[1:]\n\ndf = pd.DataFrame(missingcol_dropheader, columns=fullheader)\ndf\n</code></pre>\n\n<p>Which gives me the error:</p>\n\n<pre><code>AssertionError: 4 columns passed, passed data had 5 columns\n</code></pre>\n\n<p>Last I checked, the new <code>fullheader</code> does, in fact, have 5 elements to match the five elements in the data frame.  <em>What is causing this continued mismatch and how do I fix it?</em></p>\n\n<p><strong>real example</strong></p>\n\n<p>I get a similar error when I repeat these same steps, but when using <code>read_csv</code> method with my actual test case.  I ignore the header at line 0, and the three blank lines from lines 1-3, and drop an unwanted first column, but otherwise it's similar:</p>\n\n<pre><code>with open('CCLE_Expression_Entrez_2012-10-18.res', 'r') as f:\n    header = f.readline().strip().split('\\t')\nheader.append('') # missing empty colname over last A/P col\n\nrnadf = pd.read_csv('CCLE_Expression_Entrez_2012-10-18.res', delimiter='\\t', index_col=0, header=None, skiprows=[0,1,2,3])  \nrnadf.columns = header\nrnadf.drop([], axis=1, inplace=True)\nrnadf.columns = header\n\nValueError: Length mismatch: Expected axis has 2073 elements, new values have 2074 elements\n</code></pre>\n\n<p>Very similar error to test case.  <em>What makes this error different to the test case and how do I fix it?</em></p>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "3d", "astronomy"], "comments": [{"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1460605739, "post_id": 36608197, "comment_id": 60823736, "body": "Please provide a minimal example (inline) to reproduce this."}, {"owner": {"reputation": 51, "user_id": 6002120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/noF60.png?s=128&g=1", "display_name": "D Vida", "link": "https://stackoverflow.com/users/6002120/d-vida"}, "reply_to_user": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1460616216, "post_id": 36608197, "comment_id": 60827580, "body": "@tcaswell Thank you for the suggestion! I have edited the post."}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1460616351, "post_id": 36608197, "comment_id": 60827651, "body": "looks like wrongly culled curve before rendering. Those 2 big lines cross the whole screen are most likely the 2 segments of curve intersecting the projection plane. One point is visible or very near visible area and the second is not. as the segment does not been culled off it was rendered and interpolated through the screen even if it is most likely behind camera (that is why is mirrored). at least that is my bet. Try to render only segments that are fully visible."}, {"owner": {"reputation": 51, "user_id": 6002120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/noF60.png?s=128&g=1", "display_name": "D Vida", "link": "https://stackoverflow.com/users/6002120/d-vida"}, "reply_to_user": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1460628168, "post_id": 36608197, "comment_id": 60835542, "body": "@Spektre It seems like I should post a bug report to matplotlib developers about this, this does not seem to be a minor bug then."}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1460629827, "post_id": 36608197, "comment_id": 60836664, "body": "@DVida most likely it is just wrong culling index +/-1 somewhere in the culling test or they do not cull at all (and the lines are just out of bound access from different scanline) and single <code>if</code> would repair it. So most likely it is minor bug. I render stuff like this by my self either by GDI or OpenGL  without any problems but at least I know what I am doing. Most people today use lib/framework for any trivial thing loosing the knowledge behind it."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 6002120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/noF60.png?s=128&g=1", "display_name": "D Vida", "link": "https://stackoverflow.com/users/6002120/d-vida"}, "edited": false, "score": 0, "creation_date": 1460629927, "post_id": 36618531, "comment_id": 60836732, "body": "Mayavi looks promising, thanks! Now the problem with clipping everything beyond some arbitrary limit is that when you look at the orbit from a ceratin perspective you will see that it is clipped, which is not really acceptable for orbital visualisations. That would imply that the orbit is possibly parabolic or hyperbolic, not elliptic. Nevertheless, thank you for the answer!"}], "tags": [], "owner": {"reputation": 10567, "user_id": 4680533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tee8v.jpg?s=128&g=1", "display_name": "Ed Smith", "link": "https://stackoverflow.com/users/4680533/ed-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1460625025, "creation_date": 1460625025, "answer_id": 36618531, "question_id": 36608197, "link": "https://stackoverflow.com/questions/36608197/matplotlib-3d-plot-parametric-curve-wraparound-from-certain-perspectives/36618531#36618531", "title": "Matplotlib 3D plot - parametric curve &quot;wraparound&quot; from certain perspectives", "body": "<p><code>matplotlib</code> isn't great for complex 3D plots in my experience (I've had similar strange behaviour with out of axis values). Something like mayavi could be worth considering as it's designed for 3D plots...</p>\n\n<p>A possible workaround is given in this <a href=\"http://mple.m-artwork.eu/home/posts/clip3darraypointsoutsideofaxes\" rel=\"nofollow\">blog</a>, basically just set out of axis values to np.NaN for your required axis. If I add the following to your example,</p>\n\n<pre><code>for r in [x,y,z]:\n    for i in np.arange(len(r)):\n        if r[i] &lt; -5:\n            x[i] = np.NaN\n            y[i] = np.NaN\n            z[i] = np.NaN\n        elif r[i] &gt; 5:\n            x[i] = np.NaN\n            y[i] = np.NaN\n            z[i] = np.NaN\n        else:\n            pass\n</code></pre>\n\n<p>it removes the wraparound. </p>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 4934344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Ww937.jpg?s=128&g=1", "display_name": "Rankinstudio", "link": "https://stackoverflow.com/users/4934344/rankinstudio"}, "is_accepted": false, "score": 0, "last_activity_date": 1478550782, "creation_date": 1478550782, "answer_id": 40474085, "question_id": 36608197, "link": "https://stackoverflow.com/questions/36608197/matplotlib-3d-plot-parametric-curve-wraparound-from-certain-perspectives/40474085#40474085", "title": "Matplotlib 3D plot - parametric curve &quot;wraparound&quot; from certain perspectives", "body": "<p>I had similar issues and wanted to make something a bit more user friendly. I moved all of the functions in this library over to javascript and created a webGL interface in Three.js which lets you do what you want here but also plots the location of the asteroid / comet with animation via time functions. Just need a web browser to use it. Check it out :)</p>\n\n<p><a href=\"http://rankinstudio.com/asteroids/asteroids.html\" rel=\"nofollow noreferrer\">http://rankinstudio.com/asteroids/asteroids.html</a></p>\n"}], "owner": {"reputation": 51, "user_id": 6002120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/noF60.png?s=128&g=1", "display_name": "D Vida", "link": "https://stackoverflow.com/users/6002120/d-vida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 760, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1478550782, "creation_date": 1460576872, "last_edit_date": 1460616152, "question_id": 36608197, "link": "https://stackoverflow.com/questions/36608197/matplotlib-3d-plot-parametric-curve-wraparound-from-certain-perspectives", "title": "Matplotlib 3D plot - parametric curve &quot;wraparound&quot; from certain perspectives", "body": "<p>I have been writing a Python script (<a href=\"https://github.com/CroatianMeteorNetwork/CMN-codes/blob/master/Orbit%20Plotter/PlotOrbits.py\" rel=\"nofollow noreferrer\">GitHub LINK</a>) for visualizing asteroid/comet/meteoroid orbits. The script also plots the position of planets and their orbits.</p>\n\n<p>It works just right for orbits with small semi-major axis (i.e. \"smaller\" orbits). But when I have an orbit that goes way beyond Neptune (e.g. of a Halley-type comet), and from certain perspectives, there is a weird \"wraparound\" (for lack of a better word) effect.</p>\n\n<p>Let me show you what I mean:</p>\n\n<p><strong>Image compilation:</strong> <a href=\"https://i.imgur.com/onSZG8s.png\" rel=\"nofollow noreferrer\">http://i.imgur.com/onSZG8s.png</a>\n<a href=\"https://i.stack.imgur.com/fAAE7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fAAE7.png\" alt=\"enter image description here\"></a></p>\n\n<ol>\n<li><p>This image shows the plot from a perspective where it does not break.</p></li>\n<li><p>When you rotate the same plot a bit to the right, it is as if the orbit folded in half and reversed its direction!</p></li>\n<li><p>And if you look at the plot from a great distance, you can see that the elipse is plotted as it should be.</p></li>\n</ol>\n\n<p>And here is a minimal version of the code with which the issue can be reproduced. The \"wraparound\" occurs only when the perspective of the camera is closely parallel with the large orbit.</p>\n\n<pre><code>from mpl_toolkits.mplot3d import Axes3D\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndef orbitalElements2Cartesian(a, e, I, peri, node, E):\n    \"\"\" Convert orbital elements to Cartesian coordinates in the Solar System.\n\n    Args: \n        a (float): semi-major axis (AU)\n        e (float): eccentricity\n        I (float): inclination (degrees)\n        peri (float): longitude of perihelion (degrees)\n        node (float): longitude of ascending node (degrees)\n        E (float): eccentric anomaly (radians)\n\n    \"\"\"\n\n    # The source of equations used:\n    # http://farside.ph.utexas.edu/teaching/celestial/Celestialhtml/node34.html\n\n    # Check if the orbit is parabolic or hyperbolic\n    if e &gt;=1:\n        e = 0.99999999\n\n    # Convert degrees to radians\n    I, peri, node = map(np.radians, [I, peri, node])\n\n    # True anomaly\n    theta = 2*np.arctan(np.sqrt((1.0 + e)/(1.0 - e))*np.tan(E/2.0))\n\n    # Distance from the Sun to the poin on orbit\n    r = a*(1.0 - e*np.cos(E))\n\n    # Cartesian coordinates\n    x = r*(np.cos(node)*np.cos(peri + theta) - np.sin(node)*np.sin(peri + theta)*np.cos(I))\n    y = r*(np.sin(node)*np.cos(peri + theta) + np.cos(node)*np.sin(peri + theta)*np.cos(I))\n    z = r*np.sin(peri + theta)*np.sin(I)\n\n    return x, y, z\n\n\nif __name__ == '__main__':\n\n    # Example orbital elements\n    # a, e, incl, peri, node\n    orb_elements = np.array([\n        [2.363, 0.515, 4.0, 205.0, 346.1],\n        [0.989, 0.089, 3.1, 55.6, 21.2],\n        [0.898, 0.460, 1.3, 77.1, 331.2],\n        [104.585332285, 0.994914, 89.3950, 130.8767, 282.4633]\n        ])\n\n    # Setup the plot\n    fig = plt.figure()\n    ax = fig.gca(projection='3d')\n\n\n    # Eccentric anomaly (full range)\n    E = np.linspace(-np.pi, np.pi, 100)\n\n    # Plot the given orbits\n    for i, orbit in enumerate(orb_elements):\n        a, e, I, peri, node = orbit\n\n        # Take extra steps in E if the orbit is very large\n        if a &gt; 50:\n            E = np.linspace(-np.pi, np.pi, (a/20.0)*100)\n\n        # Get the orbit in the cartesian space\n        x, y, z = orbitalElements2Cartesian(a, e, I, peri, node, E)\n\n        # Plot orbits\n        ax.plot(x, y, z, c='#32CD32')\n\n    # Add limits (in AU)\n    ax.set_xlim3d(-5,5)\n    ax.set_ylim3d(-5,5)\n    ax.set_zlim3d(-5,5)\n\n    plt.tight_layout()\n    plt.show()\n</code></pre>\n\n<p>I am a bit dumbfounded by this and cannot seem to find a proper solution. I would greatly appreciate some help!</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 4866, "user_id": 2084656, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f93ca28f809ae615adbb5e98d1a594f4?s=128&d=identicon&r=PG", "display_name": "wnnmaw", "link": "https://stackoverflow.com/users/2084656/wnnmaw"}, "edited": false, "score": 0, "creation_date": 1460576896, "post_id": 36608149, "comment_id": 60813162, "body": "Why does your first line of desired output have a year at the end as well?"}, {"owner": {"reputation": 2835, "user_id": 1660298, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7d94e3f7162dc1ee6589929559a474c6?s=128&d=identicon&r=PG", "display_name": "th3an0maly", "link": "https://stackoverflow.com/users/1660298/th3an0maly"}, "edited": false, "score": 0, "creation_date": 1460577061, "post_id": 36608149, "comment_id": 60813265, "body": "Tried using regex?"}, {"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1460577299, "post_id": 36608149, "comment_id": 60813403, "body": "To me...this does not look to have a regular pattern to develop a method or function for it, my suggestion is to try fix the output generate by the source function to have a better output than the one you posted.."}, {"owner": {"reputation": 1, "user_id": 6199806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/321ca8f4a9e47592aa3f462ab28f1045?s=128&d=identicon&r=PG&f=1", "display_name": "inxdiver", "link": "https://stackoverflow.com/users/6199806/inxdiver"}, "edited": false, "score": 0, "creation_date": 1460580532, "post_id": 36608149, "comment_id": 60815207, "body": "i updated my question with more details"}], "answers": [{"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 0, "last_activity_date": 1460583043, "creation_date": 1460583043, "answer_id": 36609933, "question_id": 36608149, "link": "https://stackoverflow.com/questions/36608149/python-how-can-i-format-a-long-output-string/36609933#36609933", "title": "Python - how can i format a long output string?", "body": "<p>It's messy but there is a pattern. It's the year, followed by 21 spaces, followed by the title, followed by 9 spaces, and then it starts again. Proof:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; map(len, re.findall(r'\\s{4,}', s))\n[21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9, 21, 9]\n</code></pre>\n\n<p>However, relying on these exact numbers is not wise. Let's just say that there's large gaps alternating with medium gaps, and capture them like that:</p>\n\n<pre><code>&gt;&gt;&gt; from pprint import *\n&gt;&gt;&gt; pprint(re.findall(r'(.+?)\\s{15,}(.+?)\\s{5,}', s))\n[('2015', 'The Merchant  Gaekju 2015'),\n ('2015',\n  'Murderers  Mobsters   Madmen Vol  2  Assassination in the 20th Century'),\n ('1993', 'The Manzai 2015 Pre Masters'),\n ('2015', 'The 2015 World Series'),\n ('2015', '2015 Foster Farms Bowl'),\n ('2015', '2015 Nephilim  Monsters   Giants Conference'),\n ('2015', '2015 The Disaster Diaries  2015 L Agenda Des Cataclysmes'),\n ('2015', 'The Lobster'),\n ('2015', 'Brooklyn Lobster'),\n ('2005', 'The Oscar Nominated Short Films 2015  Animation'),\n ('2015', 'The Oscar Nominated Short Films 2015  Live Action'),\n ('2015', 'La langosta azul'),\n ('1954', 'The Fresh Lobster'),\n ('1948', 'The Lobster'),\n ('2013', 'The Oscar Nominated Short Films 2015  Documentary'),\n ('2015', 'A Visit to a Crab and Lobster Factory'),\n ('1913', 'BBC Election Debate 2015  The Reaction'),\n ('2015', 'Easter Bowl 2011  Beneath the Surface'),\n ('2011', 'The Lonesome Lobster')]\n</code></pre>\n\n<p>The <code>pprint</code> is only for output formatting here. <a href=\"https://regex101.com/r/mX5uK6/1\" rel=\"nofollow\">Here</a> is an explanation of the regex.</p>\n"}], "owner": {"reputation": 1, "user_id": 6199806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/321ca8f4a9e47592aa3f462ab28f1045?s=128&d=identicon&r=PG&f=1", "display_name": "inxdiver", "link": "https://stackoverflow.com/users/6199806/inxdiver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1460583043, "creation_date": 1460576726, "last_edit_date": 1460582615, "question_id": 36608149, "link": "https://stackoverflow.com/questions/36608149/python-how-can-i-format-a-long-output-string", "title": "Python - how can i format a long output string?", "body": "<p><br><br>\nI'm using imdbpie module to query Imdb and get a movie titles.</p>\n\n<pre><code>from imdbpie import Imdb\nimdb = Imdb()\nfilm = str(imdb.search_for_title('some_title'))\ntit = re.sub(r'[^\\w]|year|title|imdb_id|tt[0-9]{7}', ' ', film)\nprint( tit )\n</code></pre>\n\n<p>I stripped unwanted patterns and get the output :</p>\n\n<pre><code>2015                     The Merchant  Gaekju 2015         2015                     Murderers  Mobsters   Madmen Vol  2  Assassination in the 20th Century         1993                     The Manzai 2015 Pre Masters         2015                     The 2015 World Series         2015                     2015 Foster Farms Bowl         2015                     2015 Nephilim  Monsters   Giants Conference         2015                     2015 The Disaster Diaries  2015 L Agenda Des Cataclysmes         2015                     The Lobster         2015                     Brooklyn Lobster         2005                     The Oscar Nominated Short Films 2015  Animation         2015                     The Oscar Nominated Short Films 2015  Live Action         2015                     La langosta azul         1954                     The Fresh Lobster         1948                     The Lobster         2013                     The Oscar Nominated Short Films 2015  Documentary         2015                     A Visit to a Crab and Lobster Factory         1913                     BBC Election Debate 2015  The Reaction         2015                     Easter Bowl 2011  Beneath the Surface         2011                     The Lonesome Lobster         2010  \n</code></pre>\n\n<p>String is a line and contains random vars \"year\" and \"Movie Title\". \nI'd like format this output like this :</p>\n\n<p>2015                     The Merchant  Gaekju 2015<br>\n2015                     Murderers  Mobsters   Madmen Vol  2  Assassination in the 20th Century<br>\n2015                     The 2015 World Series<br>\n2015                     Foster Farms Bowl<br>         2015                     Nephilim  Monsters   Giants Conference<br>         2015                     The Disaster Diaries<br> 2015 L Agenda Des Cataclysmes<br>\n...\n...\n...</p>\n\n<p>I've changed code a bit and add a new line character into output string and basically got what i needed, but maybe is there is other, more elegant way to do that.</p>\n\n<pre><code>tit = re.sub(r'[^\\w'+rlist+']|year|title|imdb_id|tt[0-9]{7}', ' ', film)\nntit = re.sub(r'}', '\\n', tits) \nf = open('titles.txt', 'wt')\nprint( ntit, file=f )\nf.close()\n</code></pre>\n\n<p>$ cat titles.txt<br>\nThe National Lottery Stars 2015         2015<br>           The Merchant  Gaekju 2015         2015<br>          Murderers  Mobsters   Madmen Vol  2  Assassination in the 20th Century         1993<br>          The Manzai 2015 Pre Masters         2015<br>           The 2015 World Series         2015<br>           Foster Farms Bowl         2015<br> </p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1460576989, "post_id": 36608105, "comment_id": 60813220, "body": "&quot;<i>echo key</i>&quot;? Do you mean &quot;each key&quot;?"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1460577254, "post_id": 36608105, "comment_id": 60813373, "body": "Also, please produce a short, self-contained program that demonstrates the error you are having.  In particular, please include the actual and expected output of your program. Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more information."}, {"owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 0, "creation_date": 1460578034, "post_id": 36608105, "comment_id": 60813823, "body": "What is your input, your output and what output do you want?"}], "answers": [{"tags": [], "owner": {"reputation": 2835, "user_id": 1660298, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7d94e3f7162dc1ee6589929559a474c6?s=128&d=identicon&r=PG", "display_name": "th3an0maly", "link": "https://stackoverflow.com/users/1660298/th3an0maly"}, "is_accepted": true, "score": 1, "last_activity_date": 1460576832, "creation_date": 1460576832, "answer_id": 36608181, "question_id": 36608105, "link": "https://stackoverflow.com/questions/36608105/dictionary-keys-in-alphabetical-order-with-multiple-values/36608181#36608181", "title": "Dictionary Keys in Alphabetical Order with multiple values", "body": "<p>This is what you need:</p>\n\n<pre><code>for k in sorted(class1.keys()):\n    print(\"{name} : {score}\".format(name=k, score=class1[k][-3:]))\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6100822"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 36608181, "answer_count": 1, "score": -3, "last_activity_date": 1461859999, "creation_date": 1460576603, "last_edit_date": 1461859999, "question_id": 36608105, "link": "https://stackoverflow.com/questions/36608105/dictionary-keys-in-alphabetical-order-with-multiple-values", "title": "Dictionary Keys in Alphabetical Order with multiple values", "body": "<p>I am trying to print a dictionary with the keys being in alphabetical order, but echo key has multiple values.</p>\n\n<p>I have already tried:</p>\n\n<pre><code>for name, scores in sorted(class1.items(), key=lambda x: x[0]):\n</code></pre>\n\n<p>above the </p>\n\n<pre><code>for k, v in class1.items():\n    print(\"{name} : {score}\".format(name=k, score=v[-3:]))\n</code></pre>\n\n<p>But that didn't make any change to the result of my code.</p>\n\n<p>UPDATE</p>\n\n<p>I fixed it now, I went to school and I realised that I just had to do this:</p>\n\n<pre><code>for k, v in sorted(class1.items()):\n    print(\"{name} : {score}\".format(name=k, score=v[-3:]))\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "global-variables"], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 1, "creation_date": 1460583204, "post_id": 36609654, "comment_id": 60816607, "body": "Made some changes to my code. Replaced <code>if __name__==&#39;__main__&#39;:</code> with <code>def main():</code> and added <code>person_dict = {}</code>."}], "tags": [], "owner": {"reputation": 1747, "user_id": 1759987, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/123bcfdcb5c7add924028320fc883683?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/1759987/aaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1460581938, "creation_date": 1460581938, "answer_id": 36609654, "question_id": 36608077, "link": "https://stackoverflow.com/questions/36608077/how-to-write-a-unit-test-for-a-function-that-accesses-a-global-dictionary-create/36609654#36609654", "title": "How to write a unit test for a function that accesses a global dictionary created from a csv file?", "body": "<p>I believe it's quite literally undefined. Please try replacing <code>global person_dict</code> with:</p>\n\n<pre><code>person_dict = {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460583114, "post_id": 36609670, "comment_id": 60816554, "body": "Made some changes to my code. Replaced <code>if __name__==&#39;__main__&#39;:</code> with <code>def main()</code> and added <code>person_dict = {}</code>."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460583276, "post_id": 36609670, "comment_id": 60816641, "body": "@Malgi <code>def main</code> is fine but put <code>person_dict = {}</code> outside, like what Tobias did. Drop the <code>global</code> stuff, you don&#39;t need it, and it&#39;s generally bad practice."}, {"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460584041, "post_id": 36609670, "comment_id": 60817032, "body": "Tobias&#39;s solution does not work because when we call <code>process_persons()</code> inside the unit test <code>test_process_persons()</code> the <code>person_dict</code> is empty and the CSV file has not yet stored in it"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460584183, "post_id": 36609670, "comment_id": 60817103, "body": "Ah, I see what you&#39;re talking about. Are you calling <code>main()</code> from your test then? In that case it probably shouldn&#39;t be called <code>main</code>, rather <code>initialise_person_dict</code> or something. Or don&#39;t put it in a function at all, but also not under <code>if __name__ == &#39;__main__&#39;</code> because that will only work when you run the module directly."}, {"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460585115, "post_id": 36609670, "comment_id": 60817491, "body": "Actually my actual <code>main()</code> is not that much simple. It has some input parameters that specify the path to the <code>person_file</code>.  So, If I put it in a function or call the &#39;main()&#39; from my test, I should know those parameters and pass them to that function or <code>main()</code>. I think there is no way than removing the global dictionary <code>person_dict</code>, and changing the <code>process_persons()</code> to &#39;process_persons(person_dict)&#39; :/"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460585797, "post_id": 36609670, "comment_id": 60817792, "body": "That&#39;s fine, just call <code>initialise_person_dict</code> from both <code>main</code> and your tests. Or just take the initialisation outside of any function so that it runs when you import/run the module, that may be fine for your use case. Having said that, avoiding globals is often good too."}], "tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1460581973, "creation_date": 1460581973, "answer_id": 36609670, "question_id": 36608077, "link": "https://stackoverflow.com/questions/36608077/how-to-write-a-unit-test-for-a-function-that-accesses-a-global-dictionary-create/36609670#36609670", "title": "How to write a unit test for a function that accesses a global dictionary created from a csv file?", "body": "<blockquote>\n  <p><code>NameError: global name 'person_dict' is not defined</code></p>\n</blockquote>\n\n<p>Well, that's because you didn't define it. How is it supposed to know what it is? You say <code>person_dict[key] = row[2]</code> but that doesn't automatically make it a dictionary. You have to initialise it with a value, e.g.</p>\n\n<pre><code>person_dict = {}\n</code></pre>\n\n<p>Which says it's an empty dictionary.</p>\n\n<p>There is also no need for the <code>global</code> declaration. You're executing this as the top level of the file (i.e. not inside a function or a class) so it can be worked with normally.</p>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460583315, "post_id": 36609841, "comment_id": 60816661, "body": "Thanks for the answer. I have made some changes to my code. Replaced if <code>__name__==&#39;__main__&#39;:</code> with <code>def main():</code> and added <code>person_dict = {}</code>. What do you think now?"}, {"owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460583973, "post_id": 36609841, "comment_id": 60816998, "body": "Your solution does not work because when we call <code>process_persons()</code> inside the unit test <code>test_process_persons()</code> the <code>person_dict</code> is empty and the CSV file has not yet stored in it."}, {"owner": {"reputation": 271, "user_id": 4621159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2074b013614ff775ea6b0368b0f8e6?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Gustafsson", "link": "https://stackoverflow.com/users/4621159/tobias-gustafsson"}, "reply_to_user": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "edited": false, "score": 0, "creation_date": 1460610813, "post_id": 36609841, "comment_id": 60825276, "body": "It all comes down to what you want to test I guess. Is it the functionality in <code>process_persons</code>, the functionality in <code>main</code>, or both together? To see the data read in your new <code>main</code> function from <code>process_persons</code> you would have to move the declaration of <code>person_dict</code> to the module level. Otherwise it won&#39;t be accessible from <code>process_persons</code>. Now from your test you can first call <code>main</code> followed by <code>process_persons</code>."}], "tags": [], "owner": {"reputation": 271, "user_id": 4621159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2074b013614ff775ea6b0368b0f8e6?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Gustafsson", "link": "https://stackoverflow.com/users/4621159/tobias-gustafsson"}, "is_accepted": false, "score": 0, "last_activity_date": 1460582703, "creation_date": 1460582703, "answer_id": 36609841, "question_id": 36608077, "link": "https://stackoverflow.com/questions/36608077/how-to-write-a-unit-test-for-a-function-that-accesses-a-global-dictionary-create/36609841#36609841", "title": "How to write a unit test for a function that accesses a global dictionary created from a csv file?", "body": "<p>Not exactly sure what your're trying to achive but I would probably do something like this given that the signature of the function under test is frozen.</p>\n\n<pre><code>def process_persons():\n    for k, v in person_dict.items():\n        # do some processing\n\nperson_dict = {}\nif __name__ == '__main__':\n    reader = csv.reader(open('person_file.csv', 'r'))\n    for row in reader:\n        key = (row[0], row[1])\n        person_dict[key] = row[2]\n</code></pre>\n\n<p>You need to define the person_dict somewhere. Stating that it is global does not  define it. <code>global</code> is used when you want to assign to a variable that has been defined on module level from within a function. If you did not specify <code>global</code>, a new, local, variable would be created in the function that would shadow the global variable. Then, when the function exits, your newly created variable would go out of scope, be garbage collected and forgotten about to no use.</p>\n\n<p>Now that you have the person_dict defined on the module level you can simply assign to it from your test code before calling <code>process_persons</code> to vary the input data.</p>\n"}], "owner": {"reputation": 489, "user_id": 5731482, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/029c401970013921b28e75ed2eb58210?s=128&d=identicon&r=PG&f=1", "display_name": "Malgi", "link": "https://stackoverflow.com/users/5731482/malgi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1460582901, "creation_date": 1460576528, "last_edit_date": 1460582901, "question_id": 36608077, "link": "https://stackoverflow.com/questions/36608077/how-to-write-a-unit-test-for-a-function-that-accesses-a-global-dictionary-create", "title": "How to write a unit test for a function that accesses a global dictionary created from a csv file?", "body": "<p>I have a process_persons() Python function that accesses a global dictionary as follows:</p>\n\n<pre><code>def process_persons():\n    for k, v in person_dict.items():\n        # do some processing\n\ndef main():\n\n    global person_dict        \n    person_dict = {}\n    reader = csv.reader(open('person_file.csv', 'r'))\n    for row in reader:\n        key = (row[0], row[1])\n        person_dict[key] = row[2]\n</code></pre>\n\n<p>I have written a unit test like this:</p>\n\n<pre><code>def test_process_persons(self):\n    process_persons()\n    # assert that the processing is done right!\n</code></pre>\n\n<p>But i get the error: NameError: global name 'person_dict' is not defined. Any help is appreciated.</p>\n\n<p>Please note that I cannot change the methods' signatures that i am testing!</p>\n"}, {"tags": ["python", "numpy", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1460576704, "post_id": 36608045, "comment_id": 60813048, "body": "are you after <code>df[[2]] == df[[0]]</code>?"}, {"owner": {"reputation": 175, "user_id": 4673147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Z3KfdbTLfpk/AAAAAAAAAAI/AAAAAAAAAEc/R1mdfgU4FIo/photo.jpg?sz=128", "display_name": "Maneet Giri", "link": "https://stackoverflow.com/users/4673147/maneet-giri"}, "edited": false, "score": 0, "creation_date": 1460576705, "post_id": 36608045, "comment_id": 60813050, "body": "I tried (1,Column1)=(1,Column3) and similar"}, {"owner": {"reputation": 175, "user_id": 4673147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Z3KfdbTLfpk/AAAAAAAAAAI/AAAAAAAAAEc/R1mdfgU4FIo/photo.jpg?sz=128", "display_name": "Maneet Giri", "link": "https://stackoverflow.com/users/4673147/maneet-giri"}, "edited": false, "score": 0, "creation_date": 1460576783, "post_id": 36608045, "comment_id": 60813097, "body": "Maxu - Yes, but I am not sure how will i loop it for whole column and that too cell by cell"}, {"owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1460579596, "post_id": 36608045, "comment_id": 60814695, "body": "Advice: Put the code you have an issue with in your question. Insert it in the style of a short unit test. This makes it easy for someone to copy and paste it straight into <code>ipython</code> and work with your issue."}, {"owner": {"reputation": 8680, "user_id": 4013571, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-G_CrKyh2orQ/AAAAAAAAAAI/AAAAAAAAADA/d4aRKztH0r4/photo.jpg?sz=128", "display_name": "Alexander McFarlane", "link": "https://stackoverflow.com/users/4013571/alexander-mcfarlane"}, "edited": false, "score": 0, "creation_date": 1460579749, "post_id": 36608045, "comment_id": 60814784, "body": "possibly a duplicate of <a href=\"http://stackoverflow.com/questions/16096627/pandas-select-row-of-data-frame-by-integer-index\" title=\"pandas select row of data frame by integer index\">stackoverflow.com/questions/16096627/&hellip;</a>"}, {"owner": {"reputation": 2753, "user_id": 1742489, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/df1a498926f9fd5faa7774e19dc7ee48?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1742489/alejandro"}, "edited": false, "score": 0, "creation_date": 1460582707, "post_id": 36608045, "comment_id": 60816359, "body": "This questions doesn&#39;t show signs of effort. You should show what have you tried so far. It seems to me that you want that we solve your problem."}, {"owner": {"reputation": 175, "user_id": 4673147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Z3KfdbTLfpk/AAAAAAAAAAI/AAAAAAAAAEc/R1mdfgU4FIo/photo.jpg?sz=128", "display_name": "Maneet Giri", "link": "https://stackoverflow.com/users/4673147/maneet-giri"}, "edited": false, "score": 0, "creation_date": 1460599645, "post_id": 36608045, "comment_id": 60822054, "body": "Alejandro - Well, as I mentioned I am a novice and as for my effort. I was trying to solve this for last three days. I tried list to list match and also and tried to match one cell to another by using (1,Column1)=(1,Column3) . apologies if you felt that way. It was first ever question I asked and joined stackoverflow.com in seach of my answer. I will be more specific with queries I tried and efforts made from next time."}], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 4673147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Z3KfdbTLfpk/AAAAAAAAAAI/AAAAAAAAAEc/R1mdfgU4FIo/photo.jpg?sz=128", "display_name": "Maneet Giri", "link": "https://stackoverflow.com/users/4673147/maneet-giri"}, "edited": false, "score": 0, "creation_date": 1460577504, "post_id": 36608161, "comment_id": 60813531, "body": "Thank you ,,, it worked by using  df.iloc[:, 0] == df.iloc[:, 2]"}], "tags": [], "owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "is_accepted": false, "score": 0, "last_activity_date": 1460576748, "creation_date": 1460576748, "answer_id": 36608161, "question_id": 36608045, "link": "https://stackoverflow.com/questions/36608045/column-to-column-match-using-pandas-or-numpy-in-python/36608161#36608161", "title": "Column to Column match using pandas or numpy in Python", "body": "<p>When you compare two Numpy arrays of the same dimensions, you get an array of booleans - one for each array elements.</p>\n\n<p>So if\n    a = np.array([1,2,3,4,5])\n    b = np.array([1,3,2,5,5])</p>\n\n<p>You get</p>\n\n<pre><code>a==b  ==&gt; [True, False, False, False, True] \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 175, "user_id": 4673147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Z3KfdbTLfpk/AAAAAAAAAAI/AAAAAAAAAEc/R1mdfgU4FIo/photo.jpg?sz=128", "display_name": "Maneet Giri", "link": "https://stackoverflow.com/users/4673147/maneet-giri"}, "edited": false, "score": 0, "creation_date": 1460577457, "post_id": 36608211, "comment_id": 60813501, "body": "MaxU  - I can&#39;t thank enough, I spent a 3 days trying to figure it out."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 0, "last_activity_date": 1460576920, "creation_date": 1460576920, "answer_id": 36608211, "question_id": 36608045, "link": "https://stackoverflow.com/questions/36608045/column-to-column-match-using-pandas-or-numpy-in-python/36608211#36608211", "title": "Column to Column match using pandas or numpy in Python", "body": "<p>try this:</p>\n\n<pre><code>In [28]: df\nOut[28]:\n   a  b  c\n0  5  1  2\n1  5  2  8\n2  3  3  8\n3  3  1  4\n4  6  3  4\n5  1  0  0\n6  6  0  0\n7  4  4  3\n8  3  0  4\n9  9  0  9\n\nIn [29]: df.iloc[:, 0] == df.iloc[:, 2]\nOut[29]:\n0    False\n1    False\n2    False\n3    False\n4    False\n5    False\n6    False\n7    False\n8    False\n9     True\ndtype: bool\n</code></pre>\n\n<p>if you need a new <em>boolean</em> column:</p>\n\n<pre><code>In [30]: df['bool'] = df.iloc[:, 0] == df.iloc[:, 2]\n\nIn [31]: df\nOut[31]:\n   a  b  c   bool\n0  5  1  2  False\n1  5  2  8  False\n2  3  3  8  False\n3  3  1  4  False\n4  6  3  4  False\n5  1  0  0  False\n6  6  0  0  False\n7  4  4  3  False\n8  3  0  4  False\n9  9  0  9   True\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4673147, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Z3KfdbTLfpk/AAAAAAAAAAI/AAAAAAAAAEc/R1mdfgU4FIo/photo.jpg?sz=128", "display_name": "Maneet Giri", "link": "https://stackoverflow.com/users/4673147/maneet-giri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 36608211, "answer_count": 2, "score": -3, "last_activity_date": 1460576920, "creation_date": 1460576436, "last_edit_date": 1460576561, "question_id": 36608045, "link": "https://stackoverflow.com/questions/36608045/column-to-column-match-using-pandas-or-numpy-in-python", "title": "Column to Column match using pandas or numpy in Python", "body": "<p>I am trying to match this data column to column. I want to match first cell of column 1 to first cell of Column 3, then second cell of column 1 to second cell of column 3 and so on. My requirement is to get the result in Boolean. I am a novice and working on python for a week now. </p>\n\n<p>My data is 1800 rows and 35 columns. What I am trying to do is simply use \n<code>=(A2=C2)</code> of excel but into python.</p>\n\n<p>Please provide the exact code for the given data frame. </p>\n\n<p>Thanks in advance</p>\n\n<p><a href=\"http://i.stack.imgur.com/cyI4j.png\" rel=\"nofollow\">Data Set</a></p>\n"}, {"tags": ["python", "inheritance"], "comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1460576692, "post_id": 36608033, "comment_id": 60813032, "body": "this is not the way how inheritance works."}, {"owner": {"reputation": 307, "user_id": 6200592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5edeb0d4d646882312befecfe954caf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warneke", "link": "https://stackoverflow.com/users/6200592/jon-warneke"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1460577090, "post_id": 36608033, "comment_id": 60813282, "body": "Is there a way to do what I want with inheritance, or some other way to do what I want?"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 6200592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5edeb0d4d646882312befecfe954caf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warneke", "link": "https://stackoverflow.com/users/6200592/jon-warneke"}, "edited": false, "score": 0, "creation_date": 1460577077, "post_id": 36608189, "comment_id": 60813272, "body": "I should have said that I&#39;d like to do this without writing down all of the attributes of <code>a</code> in a <code>super().__init__</code> call"}, {"owner": {"reputation": 149, "user_id": 6178235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a991cc07cee9d69900ecfb645ed0acf0?s=128&d=identicon&r=PG&f=1", "display_name": "sowrd299", "link": "https://stackoverflow.com/users/6178235/sowrd299"}, "reply_to_user": {"reputation": 307, "user_id": 6200592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5edeb0d4d646882312befecfe954caf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warneke", "link": "https://stackoverflow.com/users/6200592/jon-warneke"}, "edited": false, "score": 0, "creation_date": 1460577217, "post_id": 36608189, "comment_id": 60813352, "body": "You can replace that line with the lines <code>self.attr1 = a.attr1</code> and <code>self.attr2 = a.attr2</code> and achieve the exact same thing, but I don&#39;t think that&#39;s what you want either."}], "tags": [], "owner": {"reputation": 149, "user_id": 6178235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a991cc07cee9d69900ecfb645ed0acf0?s=128&d=identicon&r=PG&f=1", "display_name": "sowrd299", "link": "https://stackoverflow.com/users/6178235/sowrd299"}, "is_accepted": false, "score": 0, "last_activity_date": 1460577183, "last_edit_date": 1460577183, "creation_date": 1460576854, "answer_id": 36608189, "question_id": 36608033, "link": "https://stackoverflow.com/questions/36608033/subclass-that-adds/36608189#36608189", "title": "Subclass that adds", "body": "<p>The code you want is:</p>\n\n<pre><code>def __init__(self, a : Class, arg2):\n    super().__init__(a.attr1,a.attr2)\n    self.attr3 = arg2\n</code></pre>\n\n<p>However, unless your code specifically wants instances of SubClasses to initialize as pseudo-clones of pre-existing instance of Class, you may find this code more useful:</p>\n\n<pre><code>def __init__(self, attr1, attr2, arg2):\n    super().__init__(attr1,attr2)\n    self.attr3 = arg2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 6200592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5edeb0d4d646882312befecfe954caf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warneke", "link": "https://stackoverflow.com/users/6200592/jon-warneke"}, "edited": false, "score": 0, "creation_date": 1460579615, "post_id": 36608999, "comment_id": 60814711, "body": "This essentially makes a copy of <code>a</code> in the new object, though"}, {"owner": {"reputation": 149, "user_id": 6178235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a991cc07cee9d69900ecfb645ed0acf0?s=128&d=identicon&r=PG&f=1", "display_name": "sowrd299", "link": "https://stackoverflow.com/users/6178235/sowrd299"}, "reply_to_user": {"reputation": 307, "user_id": 6200592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5edeb0d4d646882312befecfe954caf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warneke", "link": "https://stackoverflow.com/users/6200592/jon-warneke"}, "edited": false, "score": 0, "creation_date": 1460579796, "post_id": 36608999, "comment_id": 60814805, "body": "That is why we say <code>dict(a.__dict__)</code> and not <code>a.__dict__</code>. <code>dict(myDictionary)</code> is a idiom for making a copy of a dictionary, meaning that <code>self.__dict__</code> and <code>a.__dict__</code> still point to two separate dictionary objects."}, {"owner": {"reputation": 149, "user_id": 6178235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a991cc07cee9d69900ecfb645ed0acf0?s=128&d=identicon&r=PG&f=1", "display_name": "sowrd299", "link": "https://stackoverflow.com/users/6178235/sowrd299"}, "reply_to_user": {"reputation": 307, "user_id": 6200592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5edeb0d4d646882312befecfe954caf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warneke", "link": "https://stackoverflow.com/users/6200592/jon-warneke"}, "edited": false, "score": 0, "creation_date": 1460580364, "post_id": 36608999, "comment_id": 60815114, "body": "Oh, okay, I misunderstood. In that case replace <code>dict(a.__dict__)</code> with <code>a.__dict__</code>, and then <code>a</code> and the new object will always have the exact same set of attributes."}], "tags": [], "owner": {"reputation": 149, "user_id": 6178235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a991cc07cee9d69900ecfb645ed0acf0?s=128&d=identicon&r=PG&f=1", "display_name": "sowrd299", "link": "https://stackoverflow.com/users/6178235/sowrd299"}, "is_accepted": true, "score": 1, "last_activity_date": 1460579448, "creation_date": 1460579448, "answer_id": 36608999, "question_id": 36608033, "link": "https://stackoverflow.com/questions/36608033/subclass-that-adds/36608999#36608999", "title": "Subclass that adds", "body": "<p>If you really want to do what you want to do, the constructor you want is:</p>\n\n<pre><code>def __init__(self, a, arg1):\n    self.__dict__ = dict(a.__dict__)\n    self.attr3 = arg1\n</code></pre>\n\n<p>The second line effectively takes every attribute currently assigned to a, and then assigns copies of them to self (__dict__ being the dictionary in which python stores an objects attributes).</p>\n"}], "owner": {"reputation": 307, "user_id": 6200592, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5edeb0d4d646882312befecfe954caf0?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Warneke", "link": "https://stackoverflow.com/users/6200592/jon-warneke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 36608999, "answer_count": 2, "score": 0, "last_activity_date": 1460579448, "creation_date": 1460576373, "last_edit_date": 1460577432, "question_id": 36608033, "link": "https://stackoverflow.com/questions/36608033/subclass-that-adds", "title": "Subclass that adds", "body": "<p>First, I have a class:</p>\n\n<pre><code>class MyClass(object):\n    def __init__(self, attr1, attr2):\n        self.attr1 = attr1\n        self.attr2 = attr2\n\nclass AnotherClass:\n    # what goes here ???\n</code></pre>\n\n<p>What I'd like to do is make <code>AnotherClass</code> take two inputs,</p>\n\n<ol>\n<li>an instance (call it <code>a</code>) of <code>MyClass</code></li>\n<li>another argument, <code>arg2</code>,</li>\n</ol>\n\n<p>so that <code>arg2</code> can be used to make additional attributes for <code>AnotherClass</code>, and every attribute of <code>MyClass</code> is also an attribute of the <code>AnotherClass</code>, which is not found anew or copied into the <code>AnotherClass</code> instance, but found by looking at <code>a</code>. (Assume that <code>MyClass</code> has lots of attributes, unlike the example shown.) For example, I'd like to be able to do</p>\n\n<pre><code>&gt;&gt;&gt; a = MyClass(1, 2)\n&gt;&gt;&gt; b = AnotherClass(a, 3)\n&gt;&gt;&gt; b.attr1 # found via a.attr1\n1\n&gt;&gt;&gt; b.attr2 # found via a.attr1\n2\n&gt;&gt;&gt; b.attr3\n3\n&gt;&gt;&gt; c = AnotherClass(a, 4)\n&gt;&gt;&gt; c.attr1 # found via a.attr1\n1\n&gt;&gt;&gt; c.attr2 # found via a.attr1\n2\n&gt;&gt;&gt; c.attr3\n4\n</code></pre>\n\n<p>What code should be found in <code>AnotherClass</code>?</p>\n"}]