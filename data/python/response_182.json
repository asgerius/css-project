[{"tags": ["python", "python-3.x", "webserver", "httpserver", "simplehttpserver"], "comments": [{"owner": {"reputation": 5056, "user_id": 8472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808aa1971d8e50ab541e1f54a705afad?s=128&d=identicon&r=PG&f=1", "display_name": "MegaIng", "link": "https://stackoverflow.com/users/8472976/megaing"}, "edited": false, "score": 0, "creation_date": 1530749016, "post_id": 51181876, "comment_id": 89346124, "body": "Never overwrite a builtin name (In your example <code>dir</code>). Use something more helpful for readers (<code>BASE_DIRECTORY</code>) or something like that."}, {"owner": {"reputation": 5056, "user_id": 8472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808aa1971d8e50ab541e1f54a705afad?s=128&d=identicon&r=PG&f=1", "display_name": "MegaIng", "link": "https://stackoverflow.com/users/8472976/megaing"}, "edited": false, "score": 0, "creation_date": 1530749081, "post_id": 51181876, "comment_id": 89346135, "body": "This is a simple scoping problem. In python you can&#39;t access the scope of a class inside its functions."}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 105, "user_id": 9766724, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211879935744753/picture?type=large", "display_name": "MAx Shvedov", "link": "https://stackoverflow.com/users/9766724/max-shvedov"}, "edited": false, "score": 0, "creation_date": 1530751615, "post_id": 51181923, "comment_id": 89346510, "body": "@MAxShvedov Sorry, I don\u2019t understand what you mean by that question."}, {"owner": {"reputation": 105, "user_id": 9766724, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211879935744753/picture?type=large", "display_name": "MAx Shvedov", "link": "https://stackoverflow.com/users/9766724/max-shvedov"}, "edited": false, "score": 0, "creation_date": 1530751740, "post_id": 51181923, "comment_id": 89346530, "body": "I mean if I will use <code>dir_path = path.abspath(path.dirname(__file__))</code> as a global constant, how it should be called from a class?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 105, "user_id": 9766724, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211879935744753/picture?type=large", "display_name": "MAx Shvedov", "link": "https://stackoverflow.com/users/9766724/max-shvedov"}, "edited": false, "score": 0, "creation_date": 1530752315, "post_id": 51181923, "comment_id": 89346606, "body": "@MAxShvedov The exact same way you use any global: just reference the name <code>dir_path</code>."}, {"owner": {"reputation": 105, "user_id": 9766724, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211879935744753/picture?type=large", "display_name": "MAx Shvedov", "link": "https://stackoverflow.com/users/9766724/max-shvedov"}, "edited": false, "score": 0, "creation_date": 1530752663, "post_id": 51181923, "comment_id": 89346661, "body": "Okay, thanks. Seems I rushed. Code works for <code>index.html</code> if it just request to <code>&#47;</code>, but for other files it doesn&#39;t works. That&#39;s why trying to request files from <code>c:&#47;</code> directory."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1530749082, "creation_date": 1530749082, "answer_id": 51181923, "question_id": 51181876, "link": "https://stackoverflow.com/questions/51181876/simple-http-server-in-python-how-to-get-files/51181923#51181923", "title": "Simple HTTP server in Python. How to GET files?", "body": "<p><a href=\"https://docs.python.org/3/library/functions.html#dir\" rel=\"nofollow noreferrer\"><code>dir</code></a> is a builtin function. You're trying to join that function to the string <code>'index.html'</code>, hence the error.</p>\n\n<hr>\n\n<p>The reason you're presumably confused is that you tried to hide <code>dir</code> with a string, here:</p>\n\n<pre><code>dir = path.abspath(path.dirname(__file__))\n</code></pre>\n\n<p>But when you put that inside a <code>class</code> definition, that doesn't create a global variable that hides the builtin, it creates a class attribute. To access a class attribute from within a method of that class, you have to do the same thing you do with a normal instance attribute:</p>\n\n<pre><code>content_path = path.join(self.dir, 'index.html')\n</code></pre>\n\n<p>The only differences between class attributes and instance attributes are that:</p>\n\n<ul>\n<li>All of your instances share the same <code>dir</code> attribute instead of each having their own copy.</li>\n<li>You can access it as <code>RequestHandler.dir</code> or <code>type(self).dir</code> instead of just as <code>self.dir</code>.</li>\n</ul>\n\n<hr>\n\n<p>To avoid this kind of confusion, it's a good idea to avoid reusing the names of any of the builtin functions. While it's <em>legal</em> to do so, it often leads to mistakes just like this one, and makes it harder to debug those mistakes.</p>\n\n<hr>\n\n<p>Also, given that <code>dir</code> is a constant across the entire program, just like <code>hostName</code> and <code>hostPort</code> are, and isn't all that closely tied to the <code>RequestHandler</code> type, maybe you just wanted a global constant, like <code>hostName</code>, instead of a class attribute.</p>\n"}], "owner": {"reputation": 105, "user_id": 9766724, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211879935744753/picture?type=large", "display_name": "MAx Shvedov", "link": "https://stackoverflow.com/users/9766724/max-shvedov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3716, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535140616, "creation_date": 1530748612, "last_edit_date": 1535140616, "question_id": 51181876, "link": "https://stackoverflow.com/questions/51181876/simple-http-server-in-python-how-to-get-files", "title": "Simple HTTP server in Python. How to GET files?", "body": "<p>I have such code for running simple server on Python 3. I know that I can just use something like this <code>python -m http.server 8080</code>, however I want to understand how it works and set limits for serving files extensions.</p>\n\n<p>I try to use <code>path.join(dir, 'index.html')</code>, but looks like that doesn't work.</p>\n\n<pre><code>&gt;&gt; TypeError: join() argument must be str or bytes, not 'builtin_function_or_method'\n</code></pre>\n\n<p>&lt;></p>\n\n<pre><code>from http.server import BaseHTTPRequestHandler, HTTPServer\nfrom os import path\n\nhostName = \"localhost\"\nhostPort = 8080\n\nclass RequestHandler(BaseHTTPRequestHandler):\n    dir = path.abspath(path.dirname(__file__))\n    content_type = 'text/html'\n\n    def _set_headers(self):\n        self.send_response(200)\n        self.send_header('Content-Type', self.content_type)\n        self.send_header('Content-Length', path.getsize(self.getPath()))\n        self.end_headers()\n\n    def do_GET(self):\n        self._set_headers()\n        self.wfile.write(self.getContent(self.getPath()))\n\n    def getPath(self):\n        if self.path == '/':\n            content_path = path.join(dir, 'index.html')\n        else:\n            content_path = path.join(dir, str(self.path))\n        return content_path\n\n    def getContent(self, content_path):\n        with open(content_path, mode='r', encoding='utf-8') as f:\n            content = f.read()\n        return bytes(content, 'utf-8')\n\nmyServer = HTTPServer((hostName, hostPort), RequestHandler)\nmyServer.serve_forever()\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 776, "user_id": 2251878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jFZb.jpg?s=128&g=1", "display_name": "mrehan", "link": "https://stackoverflow.com/users/2251878/mrehan"}, "is_accepted": true, "score": 5, "last_activity_date": 1530749249, "creation_date": 1530749249, "answer_id": 51181940, "question_id": 51181868, "link": "https://stackoverflow.com/questions/51181868/drf-one-to-many-serialization-attributeerror-from-missing-field/51181940#51181940", "title": "DRF one to many serialization -- AttributeError from missing field", "body": "<p>The <code>MatchSerializer</code> search for a <code>players</code> attribute in <code>Match</code>'s instance, but it couldn't find and you get the following error:</p>\n\n<pre><code>AttributeError at /stats/matches\n\nGot AttributeError when attempting to get a value for field players on \nserializer MatchSerializer. The serializer field might be named \nincorrectly and not match any attribute or key on the Match instance. \nOriginal exception text was: 'Match' object has no attribute 'players'.\n</code></pre>\n\n<p>In DRF serializer, a parameter called source will tell explicitly where to look for the data. So, change your <code>MatchSerializer</code> as follow:</p>\n\n<pre><code>class MatchSerializer(serializers.ModelSerializer):\n    players = PlayerSerializer(many=True, source='player_set')\n    class Meta:\n        model = Match\n        fields = (\"mid\", \"players\")\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "is_accepted": false, "score": 4, "last_activity_date": 1530767906, "last_edit_date": 1530767906, "creation_date": 1530767583, "answer_id": 51183799, "question_id": 51181868, "link": "https://stackoverflow.com/questions/51181868/drf-one-to-many-serialization-attributeerror-from-missing-field/51183799#51183799", "title": "DRF one to many serialization -- AttributeError from missing field", "body": "<p>The problem here is that <strong><code>Match</code></strong> model has not an attribute called <strong><code>players</code></strong>, remember that you are trying to get backwards relationship objects, so you need to use <strong><code>players_set</code></strong> as field as django <a href=\"https://docs.djangoproject.com/en/dev/topics/db/queries/#following-relationships-backward\" rel=\"nofollow noreferrer\">docs</a> says.</p>\n\n<p>You could solve this in <strong>Two Ways</strong><br>\n<strong>1.</strong> Adding a <code>source</code> parameter to the <code>PlayerSerializer</code></p>\n\n<pre><code>class MatchSerializer(serializers.ModelSerializer):\n    players = PlayerSerializer(many=True<b>, source='player_set')</b>\n    class Meta:\n        model = Match\n        fields = (\"mid\", \"players\")</code></pre>\n\n<p><strong>2.</strong> Change the <strong>lookup-field</strong></p>\n\n<pre><code>class MatchSerializer(serializers.ModelSerializer):\n    <b>player_set</b> = PlayerSerializer(many=True)\n    class Meta:\n        model = Match\n        fields = (\"mid\",<b>\"player_set\"</b>)</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7830513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f66fac4478a9cc574c96918f29482e3?s=128&d=identicon&r=PG&f=1", "display_name": "Phil Dwan", "link": "https://stackoverflow.com/users/7830513/phil-dwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 51181940, "answer_count": 2, "score": 1, "last_activity_date": 1530767906, "creation_date": 1530748497, "question_id": 51181868, "link": "https://stackoverflow.com/questions/51181868/drf-one-to-many-serialization-attributeerror-from-missing-field", "title": "DRF one to many serialization -- AttributeError from missing field", "body": "<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>AttributeError at /stats/matches</p>\n  \n  <p>Got AttributeError when attempting to get a value for field <code>players</code> on serializer <code>MatchSerializer</code>.\n  The serializer field might be named incorrectly and not match any attribute or key on the <code>Match</code> instance.\n  Original exception text was: 'Match' object has no attribute 'players'.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Models:</strong></p>\n\n<p>Every <code>Match</code> has 10 players.</p>\n\n<pre><code>class Match(models.Model):\n    tournament = models.ForeignKey(Tournament, blank=True)\n    mid = models.CharField(primary_key=True, max_length=255)\n    mlength = models.CharField(max_length=255)\n    win_rad = models.BooleanField(default=True)\n\nclass Player(models.Model):\n    match = models.ForeignKey(Match, on_delete=models.CASCADE)\n    playerid = models.CharField(max_length=255, default='novalue')\n    # There is also a Meta class that defines unique_together but its omitted for clarity.\n</code></pre>\n\n<hr>\n\n<p><strong>Serializers:</strong></p>\n\n<pre><code>class PlayerSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Player\n        fields = \"__all__\"\n\nclass MatchSerializer(serializers.ModelSerializer):\n    players = PlayerSerializer(many=True)\n    class Meta:\n        model = Match\n        fields = (\"mid\",\"players\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 0, "creation_date": 1530748567, "post_id": 51181865, "comment_id": 89346048, "body": "Does replacing a word with a prefix actually mean prepending the prefix string to the word?"}], "answers": [{"comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530749562, "post_id": 51181935, "comment_id": 89346200, "body": "The second version is going to be pretty confusing if either <code>word</code> or <code>prefix</code> contains any non-ASCII characters. Especially since in the latter case you&#39;re going to get an error about <code>ValueError: byte must be in range(0, 256)</code>, while in the former case you may get mojibake or you may get a <code>UnicodeDecodeError</code> far from where the problem occurred, and none of these are very debuggable."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530749598, "post_id": 51181935, "comment_id": 89346206, "body": "By the way, why not just <code>word[:n] = prefix.encode()</code>?"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530749895, "post_id": 51181935, "comment_id": 89346252, "body": "@abarnert awesome, always eager to learning new things :) ! Idk, I felt it is interesting to show how you can&#39;t manipulate strings and but <i>can</i> bytearrays. But truly that is not some code to put in your script, its &quot;just for fun&quot; haha. About <code>.encode()</code> the idea was to give some intuition about the bytes behind it. Just <code>encode()</code> would seem like a blackbox maybe"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 0, "last_activity_date": 1530749207, "creation_date": 1530749207, "answer_id": 51181935, "question_id": 51181865, "link": "https://stackoverflow.com/questions/51181865/need-help-replacing-prefix-of-words-in-python/51181935#51181935", "title": "Need help replacing prefix of words in python", "body": "<p>Simply</p>\n\n<pre><code>def function(word, n, prefix):\n    return prefix + word[n:]\n</code></pre>\n\n<p>Notice that strings are <em>immutable</em>, so you are actually creating a new string.</p>\n\n<hr>\n\n<p>Just for fun, you can also use a <code>bytearray</code> object, which is <em>mutable</em></p>\n\n<pre><code>def function(word, n, prefix):\n    word[:n] = [ord(i) for i in prefix]\n    return word\n\n&gt;&gt;&gt; word = bytearray(\"12345\", 'utf-8')\n&gt;&gt;&gt; function(word, 3, \"abc\")\nbytearray(b'abc45')\n&gt;&gt;&gt; function(word, 3, \"abc\").decode('utf-8')\n'abc45'\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10034334, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sMCX8ntjxHw/AAAAAAAAAAI/AAAAAAAAADA/_84coA-2d2A/photo.jpg?sz=128", "display_name": "Salar Tech", "link": "https://stackoverflow.com/users/10034334/salar-tech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "closed_date": 1530750265, "answer_count": 1, "score": -1, "last_activity_date": 1530749207, "creation_date": 1530748447, "question_id": 51181865, "link": "https://stackoverflow.com/questions/51181865/need-help-replacing-prefix-of-words-in-python", "closed_reason": "Duplicate", "title": "Need help replacing prefix of words in python", "body": "<p>How can I make let's say like a : function(word, n, prefix) in which the first \"n\" words of the \"word\" will be replaced by the \"prefix\" ? I don't wanna use Python's replace method.\nThank you</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "edited": false, "score": 1, "creation_date": 1530749164, "post_id": 51181861, "comment_id": 89346147, "body": "When you write <code>&#39;\\n&#39;</code> the shell doesn&#39;t interpret the escape sequence and Python sees literally backslash-n. Use <code>$&#39;...&#39;</code> string syntax to get the shell to pass newlines: <code>python -c $&#39;for i in range(0,3):\\n  print &quot;a&quot;\\nprint &quot;b&quot;&#39;</code>"}, {"owner": {"reputation": 512, "user_id": 8105524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrcPT.jpg?s=128&g=1", "display_name": "wowserx", "link": "https://stackoverflow.com/users/8105524/wowserx"}, "edited": false, "score": 2, "creation_date": 1530749234, "post_id": 51181861, "comment_id": 89346154, "body": "You could use a comprehension, for instance: <code>[print(&#39;a&#39;) for i in range(0, 3)]; print(&#39;b&#39;)</code>"}, {"owner": {"reputation": 991, "user_id": 1462505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yoXxn.jpg?s=128&g=1", "display_name": "SamuelN", "link": "https://stackoverflow.com/users/1462505/samueln"}, "reply_to_user": {"reputation": 512, "user_id": 8105524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrcPT.jpg?s=128&g=1", "display_name": "wowserx", "link": "https://stackoverflow.com/users/8105524/wowserx"}, "edited": false, "score": 0, "creation_date": 1530808012, "post_id": 51181861, "comment_id": 89373777, "body": "@wowserx ditto on list comprehension. Though this only works on Python 3 where <code>print</code> acts as a function."}, {"owner": {"reputation": 512, "user_id": 8105524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrcPT.jpg?s=128&g=1", "display_name": "wowserx", "link": "https://stackoverflow.com/users/8105524/wowserx"}, "edited": false, "score": 0, "creation_date": 1530885269, "post_id": 51181861, "comment_id": 89404869, "body": "to do it in python 2, <code>from __future__ import print_function</code>."}], "owner": {"reputation": 6201, "user_id": 1797006, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b1a413ea490f70dc5d27f3d7eba6b4f6?s=128&d=identicon&r=PG", "display_name": "Karl Richter", "link": "https://stackoverflow.com/users/1797006/karl-richter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 1, "closed_date": 1530749090, "answer_count": 0, "score": 3, "last_activity_date": 1530749059, "creation_date": 1530748392, "last_edit_date": 1530748990, "question_id": 51181861, "link": "https://stackoverflow.com/questions/51181861/how-to-limit-the-scope-of-a-for-statement-in-a-python-oneliner", "closed_reason": "Duplicate", "title": "How to limit the scope of a for statement in a Python oneliner?", "body": "<p>Assuming I pass a oneliner like <code>for i in range(0,3):print \"a\";print \"b\"</code> to <code>python -c</code>, how can I limit the scope (not a good word, but the best I can think of) of the <code>for</code> loop to the first <code>print</code>, i.e. make the invokation print</p>\n\n<pre><code>a\na\na\nb\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>a\nb\na\nb\na\nb\n</code></pre>\n\n<p>Placing brackets around the first <code>print</code> or the <code>for</code> loop and the first <code>print</code> causes <code>SyntaxError: invalid syntax</code>.</p>\n\n<p>Using identation characters fails due to</p>\n\n<pre><code>&gt; python -c 'for i in range(0,3):\\n  print \"a\"\\nprint \"b\"'\n  File \"&lt;string&gt;\", line 1\n    for i in range(0,3):\\n  print \"a\"\\nprint \"b\"\n                                               ^\nSyntaxError: unexpected character after line continuation character\n</code></pre>\n\n<p>maybe I'm doing it wrong (the use uncommon use of <code>;</code> is much more intuitive but causes the problem I try to solve with this question).</p>\n\n<p>The described outputs are examples, I'm not seeking for other solution to printing <code>aaab</code>.</p>\n"}, {"tags": ["python", "git", "github", "python-wheel"], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 6538935, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/16feb8ec4dc88be8dcc6e919cda76ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Chenlu", "link": "https://stackoverflow.com/users/6538935/chenlu"}, "edited": false, "score": 0, "creation_date": 1550242659, "post_id": 51181859, "comment_id": 96209298, "body": "Can you please specify the url format if the wheel.whl locates in the &quot;dist&quot; folder of a repo branch?"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "reply_to_user": {"reputation": 390, "user_id": 6538935, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/16feb8ec4dc88be8dcc6e919cda76ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Chenlu", "link": "https://stackoverflow.com/users/6538935/chenlu"}, "edited": false, "score": 0, "creation_date": 1550245173, "post_id": 51181859, "comment_id": 96210849, "body": "@Chenlu: If you want to install from a local file, simply give the path to the file: <code>pip install &#47;path&#47;to&#47;wheel.whl</code>"}, {"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "reply_to_user": {"reputation": 4052, "user_id": 13969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c6205448de1b8ad8d5baf0f3416d899?s=128&d=identicon&r=PG", "display_name": "rjurney", "link": "https://stackoverflow.com/users/13969/rjurney"}, "edited": false, "score": 0, "creation_date": 1574359759, "post_id": 51181859, "comment_id": 104215161, "body": "@rjurney: This Q&amp;A is for the case where you have a built wheel file that you want to install with pip.  If you have a git repo but no wheel file, this does not apply to you."}, {"owner": {"reputation": 4052, "user_id": 13969, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c6205448de1b8ad8d5baf0f3416d899?s=128&d=identicon&r=PG", "display_name": "rjurney", "link": "https://stackoverflow.com/users/13969/rjurney"}, "edited": false, "score": 0, "creation_date": 1574374076, "post_id": 51181859, "comment_id": 104221527, "body": "@jwodder I see, my mistake."}], "tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": false, "score": -3, "last_activity_date": 1530748348, "creation_date": 1530748348, "answer_id": 51181859, "question_id": 51181840, "link": "https://stackoverflow.com/questions/51181840/pip-install-wheel-version-from-private-github-repo/51181859#51181859", "title": "pip install wheel version from private github repo", "body": "<p>If you want to install a specific wheel, you give pip the path or URL for that wheel:</p>\n\n<pre><code>pip install https://example.com/url/of/wheel.whl\n</code></pre>\n"}], "owner": {"reputation": 2732, "user_id": 3088846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf2128907a1604226a1f12608de04f67?s=128&d=identicon&r=PG&f=1", "display_name": "skeller88", "link": "https://stackoverflow.com/users/3088846/skeller88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3496, "favorite_count": 3, "answer_count": 1, "score": 8, "last_activity_date": 1530748348, "creation_date": 1530748121, "question_id": 51181840, "link": "https://stackoverflow.com/questions/51181840/pip-install-wheel-version-from-private-github-repo", "title": "pip install wheel version from private github repo", "body": "<p>I've packaged my private repo into a wheel. There are different versions of the wheel. Is it possible to install a specific wheel version of the repo using pip from the command line and via the requirements.txt file? This feature <a href=\"https://pip.pypa.io/en/latest/reference/pip_install/#vcs-support\" rel=\"noreferrer\">isn't mentioned in the pip documentation</a> from what I can tell. </p>\n\n<p>I can install a pip package from a private repository with no problem, using a Github token. </p>\n\n<p><code>pip install git+https://$GITHUB_TOKEN@github.com/[username]/[reponame].git</code></p>\n\n<p>I can also install a private pip package with a specific commit:</p>\n\n<p><code>pip install git+https://$GITHUB_TOKEN@github.com/[username]/[reponame].git@[commit_sha]</code></p>\n"}, {"tags": ["python", "python-3.x", "int"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530748127, "post_id": 51181824, "comment_id": 89345985, "body": "A number cannot be a palindrome. Only a string can be. Convert your number to a string <code>i=str(i)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1530748028, "creation_date": 1530748028, "answer_id": 51181830, "question_id": 51181824, "link": "https://stackoverflow.com/questions/51181824/typeerror-int-object-is-not-subscriptable-when-reversing-a-number/51181830#51181830", "title": "TypeError: &#39;int&#39; object is not subscriptable when reversing a number", "body": "<p>The variable <code>i</code> is an integer, yet you try to access an element from it as if it were list, via </p>\n\n<pre><code>if i == i[::-1]:\n</code></pre>\n\n<p>I think in this case, you want</p>\n\n<pre><code>if str(i) == str(i)[::-1]:\n</code></pre>\n\n<p>And to also cast <code>i</code> to a string inside of <code>if len(str(i)) == n:</code></p>\n\n<p>However, it might be easier to instead do: </p>\n\n<pre><code>for i in map(str,range(max)):\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1530748101, "creation_date": 1530748101, "answer_id": 51181838, "question_id": 51181824, "link": "https://stackoverflow.com/questions/51181824/typeerror-int-object-is-not-subscriptable-when-reversing-a-number/51181838#51181838", "title": "TypeError: &#39;int&#39; object is not subscriptable when reversing a number", "body": "<p>You should convert <code>i</code> to a string first before trying to reverse it as a sequence. Integers otherwise can't be used as a sequence.</p>\n\n<pre><code>max = 10 ** n\nlength = 0\ntotal = 0\nfor i in range (max):\n    s = str(i)\n    if s == s[::-1]:\n        total += 1\n        if len(s) == n:\n            length += 1\n</code></pre>\n"}], "owner": {"reputation": 483, "user_id": 10034320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5372426f874fb19e695cd147bfb316a9?s=128&d=identicon&r=PG&f=1", "display_name": "Tori Harris", "link": "https://stackoverflow.com/users/10034320/tori-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 51181830, "answer_count": 2, "score": 1, "last_activity_date": 1530748101, "creation_date": 1530747919, "question_id": 51181824, "link": "https://stackoverflow.com/questions/51181824/typeerror-int-object-is-not-subscriptable-when-reversing-a-number", "title": "TypeError: &#39;int&#39; object is not subscriptable when reversing a number", "body": "<p>I am trying to find out if a number is a palindrome. My code is:</p>\n\n<pre><code>max = 10 ** n\nlength = 0\ntotal = 0\nfor i in range (max):\n    if i == i[::-1]:\n        total += 1\n        if len(i) == n:\n            length += 1\n</code></pre>\n\n<p>The line <code>if i == i[::-1]:</code> gives the error <code>TypeError: 'int' object is not subscriptable</code>. n is an integer.</p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 976, "user_id": 7609684, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10212185891671288/picture?type=large", "display_name": "Jason Howard", "link": "https://stackoverflow.com/users/7609684/jason-howard"}, "edited": false, "score": 0, "creation_date": 1530749259, "post_id": 51181866, "comment_id": 89346161, "body": "Strange.. Can you print a debugging message before <code>self.delete()</code> to see if the test is successful or not?"}, {"owner": {"reputation": 976, "user_id": 7609684, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10212185891671288/picture?type=large", "display_name": "Jason Howard", "link": "https://stackoverflow.com/users/7609684/jason-howard"}, "edited": false, "score": 0, "creation_date": 1530749878, "post_id": 51181866, "comment_id": 89346247, "body": "added          print(&quot;Hi there&quot;) above          if not self.body:   Nothing prints. I should note that I&#39;m trying to do this with a model formset (i.e. I have 5 forms on one page, each corresponds to a model that has been created)."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1530748453, "creation_date": 1530748453, "answer_id": 51181866, "question_id": 51181810, "link": "https://stackoverflow.com/questions/51181810/deleting-model-instance-on-save-if-field-in-model-is-null/51181866#51181866", "title": "Deleting model instance on save if field in model is null", "body": "<p>If <code>body</code> is blank you should test for <code>self.body == ''</code> rather than <code>self.body == None</code>.</p>\n\n<p>You can test both together by simply writing <code>if not self.body:</code> instead.</p>\n"}], "owner": {"reputation": 976, "user_id": 7609684, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10212185891671288/picture?type=large", "display_name": "Jason Howard", "link": "https://stackoverflow.com/users/7609684/jason-howard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530768865, "creation_date": 1530747717, "last_edit_date": 1530749207, "question_id": 51181810, "link": "https://stackoverflow.com/questions/51181810/deleting-model-instance-on-save-if-field-in-model-is-null", "title": "Deleting model instance on save if field in model is null", "body": "<p>I've got a model called Services. Upon the user saving the model form, I'd like the model instance to be deleted if the body is <code>null</code>. Here is my model:</p>\n\n<pre><code>class Services(models.Model):\n    user = models.ForeignKey(User, on_delete=models.CASCADE, default=None)\n    heading = models.CharField(max_length=60, null=True, blank=True)\n    body = models.TextField(max_length=5000, null=True, blank=True)\n    price = models.CharField(max_length=100, null=True, blank=True)\n\n    def __str__(self):\n        return self.user.username    \n\n    def save(self, *args, **kwargs):\n        super(Services, self).save(*args, **kwargs)\n        if self.body == None:  #also tried if bool(self.body) == False:\n            self.delete()\n        else:\n            pass\n</code></pre>\n\n<p>This code is not successful at deleting the model instance when body is <code>null</code> (or <code>blank</code>). Do you know where I've gone wrong?</p>\n\n<p>Edit: I've also tried the following to no avail:</p>\n\n<pre><code>@receiver(models.signals.post_save, sender=Services)\ndef delete_services(sender, instance, **kwargs):\n    if bool(instance.body) == False:\n        instance.delete()  \n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "scipy", "statistics", "goodness-of-fit", "kolmogorov-smirnov"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 2, "creation_date": 1530747805, "post_id": 51181798, "comment_id": 89345944, "body": "I have no experience in KS, but IMO this fit is VERY bad, and as such a p value that is so small it goes to 0 doesn&#39;t surprise me..."}, {"owner": {"reputation": 41871, "user_id": 6530970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c261ba0849b06fa0b34a50df358d7fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Maurits Evers", "link": "https://stackoverflow.com/users/6530970/maurits-evers"}, "edited": false, "score": 0, "creation_date": 1530762489, "post_id": 51181798, "comment_id": 89348210, "body": "The p-value issue aside: In a two-sample KS test the statistic of interest characterises the distance between two <i>cdfs</i>; so I&#39;m not sure why you&#39;re plotting a <i>pdf</i>."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530763903, "post_id": 51181798, "comment_id": 89348477, "body": "FYI: From the description of the parameter <code>N</code> in the <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kstest.html\" rel=\"nofollow noreferrer\"><code>kstest</code> docstring</a>: <i>Sample size if <code>rvs</code> is string or callable. Default is 20.</i>   <code>rvs</code> is the first argument, which is <code>df[&#39;col&#39;]</code> in your code.  You say this is your set of data points, so it is not a string or a callable.  In that case , <code>N</code> is ignored."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1530764568, "post_id": 51181798, "comment_id": 89348603, "body": "As Julien noted, the fit is qualitatively pretty bad--there is obvious asymmetry in the histogram.  In such a case, the more data you have, the lower the p-value will be, as more points add more &quot;evidence&quot; that the distribution does not match the data.  To investigate this, you could try applying the KS test to, say, 1/20 of your data points (selected at random), then 1/10, then 1/5, etc.  As you use more points, you&#39;ll see the p-value decrease,"}], "owner": {"reputation": 143, "user_id": 9961332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896a42bcd4413692bdd86880236db183?s=128&d=identicon&r=PG&f=1", "display_name": "Bonzogondo", "link": "https://stackoverflow.com/users/9961332/bonzogondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 768, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530747557, "creation_date": 1530747557, "question_id": 51181798, "link": "https://stackoverflow.com/questions/51181798/performing-kolmogorov-smirnov-test-for-goodness-of-fit-scipy", "title": "Performing Kolmogorov-Smirnov test for goodness of fit - scipy", "body": "<p>I am trying to perform KS test goodness of fit for my data and estimated distribution.\nPlot is like this\n<a href=\"https://i.stack.imgur.com/zmnxX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmnxX.png\" alt=\"enter image description here\"></a></p>\n\n<p>The code I am using and the results are as follows:</p>\n\n<p><code>sp.stats.kstest(df['col'], 'norm', args = (mean, sd), N = 1000000)</code></p>\n\n<p>KstestResult(statistic=0.06905359838747682, pvalue=0.0)</p>\n\n<ul>\n<li>from df I am taking my data points.</li>\n<li>'norm' because I assume normal distribution.</li>\n<li>args is a tuple with</li>\n<li>parameters for theoretical distribution function I estimated using my\ndataset.</li>\n<li>N = 1000000 as a sample size.</li>\n</ul>\n\n<p>Of course, the fit is not perfect, but I cannot understand why the p-value is just 0.0. Am I doing something wrong using the function or the fit is that bad? I would expect p-value to be small, even as small as 0.01 or 0.000000536 or whatever, but not dead nil.</p>\n\n<p>Any ideas what is wrong or what can be done to make it work?</p>\n\n<p>BTW: the raw data is originally log-normal distributed (looking at the original, here in the plot it is after log transformation)</p>\n"}, {"tags": ["python", "python-3.x", "generator"], "comments": [{"owner": {"reputation": 5056, "user_id": 8472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808aa1971d8e50ab541e1f54a705afad?s=128&d=identicon&r=PG&f=1", "display_name": "MegaIng", "link": "https://stackoverflow.com/users/8472976/megaing"}, "edited": false, "score": 1, "creation_date": 1530747860, "post_id": 51181765, "comment_id": 89345950, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1073396/is-generator-next-visible-in-python-3-0\">Is generator.next() visible in python 3.0?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1530747656, "last_edit_date": 1530747656, "creation_date": 1530747283, "answer_id": 51181775, "question_id": 51181765, "link": "https://stackoverflow.com/questions/51181765/getting-next-item-from-generator-fails/51181775#51181775", "title": "Getting next item from generator fails", "body": "<p>You need to use:</p>\n\n<pre><code>next(inf_data_gen)\n</code></pre>\n\n<p>Rather than:</p>\n\n<pre><code>inf_data_gen.next()\n</code></pre>\n\n<p>Python 3 did away with <code>.next()</code>, renaming it as <code>.__next__()</code>, but its best that you use <code>next(generator)</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 5056, "user_id": 8472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808aa1971d8e50ab541e1f54a705afad?s=128&d=identicon&r=PG&f=1", "display_name": "MegaIng", "link": "https://stackoverflow.com/users/8472976/megaing"}, "edited": false, "score": 0, "creation_date": 1530747692, "post_id": 51181789, "comment_id": 89345920, "body": "It is not just <i>better</i>, it is <i>required</i> to use <code>next()</code>."}, {"owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "edited": false, "score": 0, "creation_date": 1530747762, "post_id": 51181789, "comment_id": 89345935, "body": "You can use <code>.__next__()</code>- that&#39;s what it was renamed to. But its better to go with <code>next()</code>"}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 0, "creation_date": 1530747780, "post_id": 51181789, "comment_id": 89345940, "body": "Okay I&#39;ll add that too."}], "tags": [], "owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1530748509, "last_edit_date": 1530748509, "creation_date": 1530747472, "answer_id": 51181789, "question_id": 51181765, "link": "https://stackoverflow.com/questions/51181765/getting-next-item-from-generator-fails/51181789#51181789", "title": "Getting next item from generator fails", "body": "<p>Try this:</p>\n\n<pre><code>epoch, step, d_train_feed_dict, g_train_feed_dict = next(inf_data_gen)\n</code></pre>\n\n<p>See this: <a href=\"https://stackoverflow.com/questions/12274606/theres-no-next-function-in-a-yield-generator-in-python-3\">there&#39;s no next() function in a yield generator in python 3</a></p>\n\n<p>In Python 3 it's required to use <code>next()</code> rather than <code>.next()</code>.</p>\n\n<p>Suggested by Dillon Davis: You can also use <code>.__next__()</code>, although <code>.next()</code> is better.</p>\n"}], "owner": {"reputation": 10375, "user_id": 288609, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2ea29b2ac7bd486fdd8070ac6e10f5ac?s=128&d=identicon&r=PG", "display_name": "user288609", "link": "https://stackoverflow.com/users/288609/user288609"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 51181775, "answer_count": 2, "score": 5, "last_activity_date": 1530748509, "creation_date": 1530747141, "last_edit_date": 1530747572, "question_id": 51181765, "link": "https://stackoverflow.com/questions/51181765/getting-next-item-from-generator-fails", "title": "Getting next item from generator fails", "body": "<p>There is a code segment. running the program gets the following error </p>\n\n<pre><code>epoch, step, d_train_feed_dict, g_train_feed_dict = inf_data_gen.next()\nAttributeError: 'generator' object has no attribute 'next'\n</code></pre>\n\n<p>The corresponding code segment is listed as follows. What can be the reason underlying it?</p>\n\n<pre><code>inf_data_gen = self.inf_get_next_batch(config)\n\ndef inf_get_next_batch(self, config):\n        \"\"\"Loop through batches for infinite epoches.\n        \"\"\"\n        if config.dataset == 'mnist':\n            num_batches = min(len(self.data_X), config.train_size) // config.batch_size\n        else:\n            self.data = glob(os.path.join(\"./data\", config.dataset, self.input_fname_pattern))\n            num_batches = min(len(self.data), config.train_size) // config.batch_size\n\n        epoch = 0\n        while True:\n            epoch += 1\n            for (step, d_train_feed_dict, g_train_feed_dict) in \\\n                    self.get_next_batch_one_epoch(num_batches, config):\n                yield epoch, step, d_train_feed_dict, g_train_feed_dict\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 6413914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a6408c5fe7e99542787cc768a50d465?s=128&d=identicon&r=PG&f=1", "display_name": "Seen", "link": "https://stackoverflow.com/users/6413914/seen"}, "is_accepted": false, "score": 1, "last_activity_date": 1530800347, "creation_date": 1530800347, "answer_id": 51193665, "question_id": 51181754, "link": "https://stackoverflow.com/questions/51181754/keras-tensorflow-convlstm2d-object-has-no-attribute-outbound-nodes/51193665#51193665", "title": "Keras + Tensorflow: &#39;ConvLSTM2D&#39; object has no attribute &#39;outbound_nodes&#39;", "body": "<p>I found the solution, even though I don't know why it works.</p>\n\n<p>Currently I'm using Tensorflow 1.8 and Keras 2.2. If you downgrade Keras to ~2.1.1 it works without any problems and you can easily use Keras layers together with tensorflow. This fixed <code>AttributeError: 'ConvLSTM2D' object has no attribute 'outbound_nodes\u2019\u201d</code> and then I just used <code>layers.flatten(lstm_layer)</code> and everything worked.</p>\n"}, {"comments": [{"owner": {"reputation": 1415, "user_id": 2835427, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QWrnW.png?s=128&g=1", "display_name": "Tu Bui", "link": "https://stackoverflow.com/users/2835427/tu-bui"}, "edited": false, "score": 2, "creation_date": 1556892380, "post_id": 51239820, "comment_id": 98593656, "body": "An alternative solution is to be consistent with the keras version. Stick with either tensorflow&#39;s built-in keras (<code>tensorflow.python.keras</code>) or the external keras, but not both."}], "tags": [], "owner": {"reputation": 76, "user_id": 10052081, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e9k7IZAP3Do/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oS4Rxo8xgrSRVYtL68lvEXIc-SeA/mo/photo.jpg?sz=128", "display_name": "whatasunnday14", "link": "https://stackoverflow.com/users/10052081/whatasunnday14"}, "is_accepted": true, "score": 4, "last_activity_date": 1531119886, "creation_date": 1531119886, "answer_id": 51239820, "question_id": 51181754, "link": "https://stackoverflow.com/questions/51181754/keras-tensorflow-convlstm2d-object-has-no-attribute-outbound-nodes/51239820#51239820", "title": "Keras + Tensorflow: &#39;ConvLSTM2D&#39; object has no attribute &#39;outbound_nodes&#39;", "body": "<p>I encountered the same problem and had a bit of a dig into the tensorflow code.  The problem is that there was some refactoring done for Keras 2.2.0 and tf.keras hasn't yet been updated to this new API.</p>\n\n<p>The 'outbound_nodes' attribute was renamed to '_outbound_nodes' in Keras 2.2.0.  It's pretty easy to fix, there's two references in base.py you need to update:</p>\n\n<p>/site-packages/tensorflow/python/layers/base.py</p>\n\n<p>After updating it works fine for me.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8279583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67241bda350d5c0c42c24dbf345ccb0e?s=128&d=identicon&r=PG&f=1", "display_name": "Georgi Urumov", "link": "https://stackoverflow.com/users/8279583/georgi-urumov"}, "is_accepted": false, "score": 1, "last_activity_date": 1549728933, "creation_date": 1549728933, "answer_id": 54608086, "question_id": 51181754, "link": "https://stackoverflow.com/questions/51181754/keras-tensorflow-convlstm2d-object-has-no-attribute-outbound-nodes/54608086#54608086", "title": "Keras + Tensorflow: &#39;ConvLSTM2D&#39; object has no attribute &#39;outbound_nodes&#39;", "body": "<p>In my case I was getting the error on a custom subclass, but the following solution can be applied nonetheless, if you subclass <code>ConvLSTM2D</code> and add this to your new class:</p>\n\n<pre><code>@property\ndef outbound_nodes(self):\n    if hasattr(self, '_outbound_nodes'):\n        print(\"outbound_nodes called but _outbound_nodes found\")\n    return getattr(self, '_outbound_nodes', [])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 486, "user_id": 4210341, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99454d7c117d9d023812dbbc956f4c04?s=128&d=identicon&r=PG&f=1", "display_name": "Skum", "link": "https://stackoverflow.com/users/4210341/skum"}, "is_accepted": false, "score": 0, "last_activity_date": 1564759909, "creation_date": 1564759909, "answer_id": 57329552, "question_id": 51181754, "link": "https://stackoverflow.com/questions/51181754/keras-tensorflow-convlstm2d-object-has-no-attribute-outbound-nodes/57329552#57329552", "title": "Keras + Tensorflow: &#39;ConvLSTM2D&#39; object has no attribute &#39;outbound_nodes&#39;", "body": "<p>As others have pointed out, this is because of a mismatch between your installed tensorflow and keras libraries. </p>\n\n<p>Their solutions work, but in my opinion, the cleanest and easiest way to solve this is by using the keras layers contained within the tensorflow package itself rather than by using the keras library directly.</p>\n\n<p>i.e, replace </p>\n\n<p><code>from keras.layers import ConvLSTM2D</code> </p>\n\n<p>by </p>\n\n<p><code>from tensorflow.python.keras.layers import ConvLSTM2D</code></p>\n\n<p>This will ensure that your tensorflow and keras function calls / objects are always compatible, and solved this issue for me.</p>\n"}], "owner": {"reputation": 53, "user_id": 6413914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a6408c5fe7e99542787cc768a50d465?s=128&d=identicon&r=PG&f=1", "display_name": "Seen", "link": "https://stackoverflow.com/users/6413914/seen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6585, "favorite_count": 1, "accepted_answer_id": 51239820, "answer_count": 4, "score": 2, "last_activity_date": 1564759909, "creation_date": 1530747088, "question_id": 51181754, "link": "https://stackoverflow.com/questions/51181754/keras-tensorflow-convlstm2d-object-has-no-attribute-outbound-nodes", "title": "Keras + Tensorflow: &#39;ConvLSTM2D&#39; object has no attribute &#39;outbound_nodes&#39;", "body": "<p>I\u2019m trying to have a ConvLSTM as part of my functioning tensorflow network, because I had some issues with using the tensorflow ConvLSTM implementation, I settled for using the ConvLSTM2D Keras Layer instead.</p>\n\n<p>To make Keras available in my Tensorflow session I used the blogposts suggestion (I\u2019m using the Tensorflow backend):\n<a href=\"https://blog.keras.io/keras-as-a-simplified-interface-to-tensorflow-tutorial.html\" rel=\"nofollow noreferrer\">https://blog.keras.io/keras-as-a-simplified-interface-to-tensorflow-tutorial.html</a></p>\n\n<pre><code>import tensorflow as tf\nsess = tf.Session()\n\nfrom keras import backend as K\nK.set_session(sess)\n</code></pre>\n\n<p>A snippet of my code (that what causes the issues):</p>\n\n<pre><code># state has a shape of [1, 75, 32, 32] with batchsize=1\nstate = tf.concat([screen, screen2, non_spatial], axis=1)\n\n# Reshaping state to get time=1 to have the right shape for the ConvLSTM\nstate_reshaped = tf.reshape(state, [1, 1, 75, 32, 32])\n\n# Keras ConvLSTM2D Layer\n# I tried leaving out the batch_size for the input_shape but it didn't make a difference for the error and it seems to be fine\nlstm_layer = ConvLSTM2D(filters=5, kernel_size=(3, 3), input_shape=(1, 1, 75, 32, 32), data_format='channels_first', stateful=True)(state_reshaped)\n\nfc1 = layers.fully_connected(inputs=layers.flatten(lstm_layer), num_outputs=256, activation_fn=tf.nn.relu)\n</code></pre>\n\n<p>This gives me the following error:\n<code>AttributeError: 'ConvLSTM2D' object has no attribute 'outbound_nodes\u2019\u201d</code></p>\n\n<p>I have no idea what this means. I thought it might has to do with mixing Keras ConvLSTM and tensorflows flatten. So I tried using Keras <code>Flatten()</code> instead like this:</p>\n\n<pre><code># lstm_layer shape is (5, 5, 30, 30)\nlstm_layer = Flatten(data_format='channels_first')(lstm_layer)\n\nfc1 = layers.fully_connected(inputs=lstm_layer, num_outputs=256, activation_fn=tf.nn.relu)\n</code></pre>\n\n<p>and got the following error: <code>ValueError: The last dimension of the inputs to 'Dense' should be defined. Found 'None'.</code>\nThis error is caused by <code>Flatten()</code>, for whatever reason, having an output shape of <code>(?, ?)</code> and the fullyconnected layer needing to have a defined shape for the last dimension but I don't understand why it would be undefined. It was defined before.\nUsing <code>Reshape((4500,))(lstm_layer)</code> instead gives me the same <code>no attribute 'outbound_nodes'</code> error.</p>\n\n<p>I googled the issue and I seem to not be the only one but I couldn't find a solution.</p>\n\n<p>How can I solve this issue?\nIs the unknown output shape of Flatten() a bug or wanted behavior, if so why?</p>\n"}, {"tags": ["python", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 12368, "user_id": 5924562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lCWoZ.jpg?s=128&g=1", "display_name": "Naren Murali", "link": "https://stackoverflow.com/users/5924562/naren-murali"}, "is_accepted": false, "score": 2, "last_activity_date": 1530765212, "creation_date": 1530765212, "answer_id": 51183434, "question_id": 51181729, "link": "https://stackoverflow.com/questions/51181729/custom-plotly-markers-based-on-variable-value/51183434#51183434", "title": "Custom Plotly Markers based on variable value", "body": "<p>So for your use case, you need to use the property <code>marker.color</code> under line chart, which is given in the official documentation as.</p>\n\n<blockquote>\n  <p><strong>color (color)</strong> <br> Sets the marker color. It accepts either a specific color or an array of numbers that are mapped to the\n  colorscale relative to the max and min values of the array or relative\n  to <code>cmin</code> and <code>cmax</code> if set.</p>\n</blockquote>\n\n<p>Read more <a href=\"https://plot.ly/python/reference/#scatter-marker-color\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Below is a simple working example demonstrating your use case, please apply it to your solution and let me know if your issue is resolved.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot\ninit_notebook_mode(connected=True)\n\nx = [1,2,3,4,5,6,7,8,9]\ny = [100,200,300,400,500,600,700,800,900]\n\n# function below sets the color based on amount\ndef SetColor(x):\n    if(x &lt; 300):\n        return \"green\"\n    elif(x &gt;= 300 | x &lt;= 400):\n        return \"yellow\"\n    elif(x &gt; 400):\n        return \"red\"\n\n# Create a trace\ntrace = go.Scatter(\n    x = x,\n    y = y,\n    marker = dict(color=list(map(SetColor, y)))\n)\n\niplot([trace], filename='basic-line')\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/xxBxW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xxBxW.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1535, "user_id": 890803, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/66d48c4695ded08fe0a3c0cef23e4535?s=128&d=identicon&r=PG", "display_name": "DataGuy", "link": "https://stackoverflow.com/users/890803/dataguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6255, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1530765212, "creation_date": 1530746748, "question_id": 51181729, "link": "https://stackoverflow.com/questions/51181729/custom-plotly-markers-based-on-variable-value", "title": "Custom Plotly Markers based on variable value", "body": "<p>I am using the following code to create a simple plotly line chart in Python. I have two variables (at the bottom of the code):</p>\n\n<pre><code>ctime\namount\n</code></pre>\n\n<p>ctime just using the current time for each element in amount; there are 10 times\namount is a contained of amounts ranging from 0-1000; the are ten amounts</p>\n\n<p>I want to color my plot markers in the following way:</p>\n\n<p>amount is less than 300; that specific marker for that value will be green\namount is between 300 and 400; that specific marker for that value will be yellow\namount is greater than 400; that specific marker for that value will be red</p>\n\n<p>Is there any way I can build in a conditional type handler for this?</p>\n\n<pre><code>layout = Layout(\n    title='Current Amount',\n    titlefont=Font(\n        family='\"Open sans\", verdana, arial, sans-serif',\n        size=17,\n        color='#444'\n    ),\n    font=Font(\n        family='\"Open sans\", verdana, arial, sans-serif',\n        size=12,\n        color='#444'\n    ),\n    showlegend=True,\n    autosize=True,\n    width=803,\n    height=566,\n    xaxis=XAxis(\n        title='Time',\n        titlefont=Font(\n            family='\"Open sans\", verdana, arial, sans-serif',\n            size=14,\n            color='#444'\n        ),\n        range=[1418632334984.89, 1418632334986.89],\n        domain=[0, 1],\n        type='date',\n        rangemode='normal',\n        autorange=True,\n        showgrid=False,\n        zeroline=False,\n        showline=True,\n        autotick=True,\n        nticks=0,\n        ticks='inside',\n        showticklabels=True,\n        tick0=0,\n        dtick=1,\n        ticklen=5,\n        tickwidth=1,\n        tickcolor='#444',\n        tickangle='auto',\n        tickfont=Font(\n            family='\"Open sans\", verdana, arial, sans-serif',\n            size=12,\n            color='#444'\n        ),\n        mirror='allticks',\n        linecolor='rgb(34,34,34)',\n        linewidth=1,\n        anchor='y',\n        side='bottom'\n    ),\n    yaxis=YAxis(\n        title='GHI (W/m2)',\n        titlefont=Font(\n            family='\"Open sans\", verdana, arial, sans-serif',\n            size=14,\n            color='#444'\n        ),\n        range=[-5.968375815056313, 57.068375815056314],\n        domain=[0, 1],\n        type='linear',\n        rangemode='normal',\n        autorange=True,\n        showgrid=False,\n        zeroline=False,\n        showline=True,\n        autotick=True,\n        nticks=0,\n        ticks='inside',\n        showticklabels=True,\n        tick0=0,\n        dtick=1,\n        ticklen=5,\n        tickwidth=1,\n        tickcolor='#444',\n        tickangle='auto',\n        tickfont=Font(\n            family='\"Open sans\", verdana, arial, sans-serif',\n            size=12,\n            color='#444'\n        ),\n        exponentformat='B',\n        showexponent='all',\n        mirror='allticks',\n        linecolor='rgb(34,34,34)',\n        linewidth=1,\n        anchor='x',\n        side='left'\n    ),\n    legend=Legend(\n        x=1,\n        y=1.02,\n        traceorder='normal',\n        font=Font(\n            family='\"Open sans\", verdana, arial, sans-serif',\n            size=12,\n            color='#444'\n        ),\n        bgcolor='rgba(255, 255, 255, 0.5)',\n        bordercolor='#444',\n        borderwidth=0,\n        xanchor='left',\n        yanchor='auto'\n    )\n)\n\n\nnew_data = Scatter(x=ctime, y=amount)\ndata = Data( [ new_data ] )\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "is_accepted": true, "score": 0, "last_activity_date": 1531327258, "creation_date": 1531327258, "answer_id": 51290521, "question_id": 51181721, "link": "https://stackoverflow.com/questions/51181721/trying-to-scrape-information-from-a-website-that-is-not-located-inside-a-class-b/51290521#51290521", "title": "trying to scrape information from a website that is not located inside a class but located in a script as a variable", "body": "<p>You can use re module for parsing the parameters:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nimport re\nfrom pprint import pprint\n\nurl = \"http://services.runescape.com/m=itemdb_rs/Raw_shark/viewitem?obj=383\"\nr = requests.get(url)\nsoup = BeautifulSoup(r.content, \"lxml\")\n\nreturn_value = []\nfor s in soup.find_all('script'):\n    i = re.findall(\"average180.push\\(\\[new Date\\('(.*?)'\\).*?(\\d+).*?(\\d+)\", s.text)\n    for v in i:\n        return_value.append(v)\n\npprint(return_value)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[('2018/01/13', '1584', '1389'),\n ('2018/01/14', '1530', '1396'),\n ('2018/01/15', '1512', '1402'),\n ('2018/01/16', '1501', '1408'),\n ('2018/01/17', '1489', '1414'),\n ('2018/01/18', '1483', '1420'),\n ('2018/01/19', '1487', '1427'),\n ('2018/01/20', '1511', '1435'),\n ('2018/01/21', '1516', '1443'),\n ('2018/01/22', '1517', '1449'),\n ('2018/01/23', '1529', '1456'),\n ('2018/01/24', '1527', '1463'),\n ('2018/01/25', '1524', '1470'),\n ('2018/01/26', '1498', '1477'),\n ('2018/01/27', '1491', '1484'),\n...etc.\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9269328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7345006fb4fd773ca2c1e0dea162e8df?s=128&d=identicon&r=PG&f=1", "display_name": "GOD", "link": "https://stackoverflow.com/users/9269328/god"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 51290521, "answer_count": 1, "score": 0, "last_activity_date": 1531327258, "creation_date": 1530746708, "question_id": 51181721, "link": "https://stackoverflow.com/questions/51181721/trying-to-scrape-information-from-a-website-that-is-not-located-inside-a-class-b", "title": "trying to scrape information from a website that is not located inside a class but located in a script as a variable", "body": "<p>I'm trying to scrape a website. The data I want is NOT contained in a div or class it is a push variable. I want to be able to search for \"<strong>average180.push([new Date(</strong>\" then i want to grab the immediately following characters. For example I want to grab the following characters that are contained within '' and assign that to a list (in this instance it is the date). I then want to grab the immediately following text contained within the commas (the price value) and assign that to a list. Once I have these two lists I can ziper them together and create my datatable</p>\n\n<p>what I currently have</p>\n\n<pre><code>import sys\nimport requests\nfrom bs4 import BeautifulSoup\nurl = \"http://services.runescape.com/m=itemdb_rs/Raw_shark/viewitem?obj=383\"\nr = requests.get(url)\nsoup = BeautifulSoup(r.content, \"lxml\")\ninformation = soup.find_all(\"script\")\nprint(information)\n</code></pre>\n"}, {"tags": ["python", "client-server"], "comments": [{"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 1, "creation_date": 1530746848, "post_id": 51181716, "comment_id": 89345747, "body": "are you getting any errosr"}, {"owner": {"reputation": 530, "user_id": 7929028, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207794047781861/picture?type=large", "display_name": "Vishnu Kiran", "link": "https://stackoverflow.com/users/7929028/vishnu-kiran"}, "edited": false, "score": 1, "creation_date": 1530747005, "post_id": 51181716, "comment_id": 89345795, "body": "We will need details like error logs, which interpreter you are using and so on."}, {"owner": {"reputation": 73, "user_id": 6895557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdccccbad1680dc5e4918a593406f25a?s=128&d=identicon&r=PG&f=1", "display_name": "vm381", "link": "https://stackoverflow.com/users/6895557/vm381"}, "edited": false, "score": 0, "creation_date": 1530747059, "post_id": 51181716, "comment_id": 89345808, "body": "no, there is no any errors, i tought there is maybe infinite loop so I added that print(&#39;loop&#39;) in and it looks like after while loop nothing happens...no errors nor exceptions"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530747084, "post_id": 51181716, "comment_id": 89345812, "body": "What we need most of all is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Nobody can run this code to debug it as posted, so all anyone can do is guess at what you might have gotten wrong."}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 0, "creation_date": 1530747125, "post_id": 51181716, "comment_id": 89345821, "body": "put a print at the end of the loop that prints cmd_buffer"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530747137, "post_id": 51181716, "comment_id": 89345827, "body": "Although I do have a guess: <code>cmd_buffer += str(client_socket.recv(1024))</code>. This <code>str</code> call is useless for Python 2, and flat-out wrong for Python 3. It&#39;ll take a minute t think through whether it could cause your problem or not, but that&#39;s where I&#39;d look first."}, {"owner": {"reputation": 73, "user_id": 6895557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdccccbad1680dc5e4918a593406f25a?s=128&d=identicon&r=PG&f=1", "display_name": "vm381", "link": "https://stackoverflow.com/users/6895557/vm381"}, "edited": false, "score": 1, "creation_date": 1530747144, "post_id": 51181716, "comment_id": 89345830, "body": "im running it with python 3.6"}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 0, "creation_date": 1530747211, "post_id": 51181716, "comment_id": 89345845, "body": "then there is your problem @vm381"}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 0, "creation_date": 1530747636, "post_id": 51181716, "comment_id": 89345914, "body": "@abarnet Oh i see"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6895557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdccccbad1680dc5e4918a593406f25a?s=128&d=identicon&r=PG&f=1", "display_name": "vm381", "link": "https://stackoverflow.com/users/6895557/vm381"}, "edited": false, "score": 0, "creation_date": 1530747963, "post_id": 51181779, "comment_id": 89345969, "body": "thanks, this was a problem...sorry im totally new in python and networking :) thanks again"}, {"owner": {"reputation": 73, "user_id": 6895557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdccccbad1680dc5e4918a593406f25a?s=128&d=identicon&r=PG&f=1", "display_name": "vm381", "link": "https://stackoverflow.com/users/6895557/vm381"}, "edited": false, "score": 0, "creation_date": 1530748547, "post_id": 51181779, "comment_id": 89346041, "body": "the code is written for python 2 but that str i&#39;ve put there becouse of some exception with types"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 73, "user_id": 6895557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdccccbad1680dc5e4918a593406f25a?s=128&d=identicon&r=PG&f=1", "display_name": "vm381", "link": "https://stackoverflow.com/users/6895557/vm381"}, "edited": false, "score": 0, "creation_date": 1530748615, "post_id": 51181779, "comment_id": 89346058, "body": "@vm381 OK, then that&#39;s your problem; I&#39;ll edit the answer."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1530748859, "last_edit_date": 1530748859, "creation_date": 1530747316, "answer_id": 51181779, "question_id": 51181716, "link": "https://stackoverflow.com/questions/51181716/python-why-this-code-does-not-work/51181779#51181779", "title": "python - why this code does not work", "body": "<p>Here's your problem, or at least <em>a</em> problem that makes this code not work:</p>\n\n<pre><code>while '\\n' not in cmd_buffer:\n    cmd_buffer += str(client_socket.recv(1024))\n</code></pre>\n\n<p>Assuming this is Python 3, <code>recv</code> returns a <code>bytes</code>. Which presumably holds UTF-8-encoded text. Which you need to decode. You do that by calling <code>decode</code> on it, not <code>str</code>. What <code>str</code> does is just wrong here. For example:</p>\n\n<pre><code>&gt;&gt;&gt; b = b'abc'\n&gt;&gt;&gt; print(b.decode())\nabc\n&gt;&gt;&gt; print(str(b))\nb'abc'\n</code></pre>\n\n<p>You don't want that <code>b</code> or those <code>'</code> characters.</p>\n\n<p>And, more importantly, look what it does with newlines:</p>\n\n<pre><code>&gt;&gt;&gt; b = b'abc\\ndef\\n'\n&gt;&gt;&gt; print(b.decode())\nabc\ndef\n\n&gt;&gt;&gt; print(str(b))\nb'abc\\ndef\\n'\n</code></pre>\n\n<p>It escapes each newline as a backslash and an n. So when you ask if there's a newline in the buffer over and over, there never is one.</p>\n\n<hr>\n\n<p>If this code was written for Python 2, and didn't originally have that <code>str</code> call in it, porting Python 2 code to Python 3 can be a little trickier than just randomly throwing in <code>str</code> and <code>bytes</code> calls until you stop getting exceptions. The docs have <a href=\"https://docs.python.org/3/howto/pyporting.html\" rel=\"nofollow noreferrer\">a chapter on porting Python 2 to 3</a>, although it's really intended more for people who know Python 2 well, so you may want to search for third-party tutorials like <a href=\"https://portingguide.readthedocs.io/\" rel=\"nofollow noreferrer\">The Conservative Python 3 Porting Guide</a>. (I don't know that one particularly well, it's just the first thing that came up in a search, but it looks decent, and at least covers how to use <code>modernize</code> and <code>pylint</code>, which the official guide didn't, at least last time I looked.)</p>\n"}], "owner": {"reputation": 73, "user_id": 6895557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdccccbad1680dc5e4918a593406f25a?s=128&d=identicon&r=PG&f=1", "display_name": "vm381", "link": "https://stackoverflow.com/users/6895557/vm381"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "closed_date": 1530748878, "answer_count": 1, "score": -3, "last_activity_date": 1530758026, "creation_date": 1530746668, "last_edit_date": 1530758026, "question_id": 51181716, "link": "https://stackoverflow.com/questions/51181716/python-why-this-code-does-not-work", "closed_reason": "Not suitable for this site", "title": "python - why this code does not work", "body": "<p>I have the following piece of code from Black Hat Python book, but it does not work and I don't have idea why.</p>\n\n<pre><code>def client_handler(client_socket):\n    global command\n\n    ...\n\n    if command:\n        while True:\n            client_socket.send('&lt;ncreplace:#&gt; '.encode('utf-8'))\n            cmd_buffer = ''\n\n            while '\\n' not in cmd_buffer:\n                cmd_buffer += str(client_socket.recv(1024))\n                print('loop')\n\n            response = run_cmd(cmd_buffer)\n\n            client_socket.send(response.encode('utf-8'))\n\ndef run_cmd(command):\n    print('command')\n    command = command.strip()\n\n    try:\n        output = subprocess.check_output(command, stderr=subprocess.STDOUT, shell=True)\n    except:\n        output = 'Failed to execute command.\\r\\n'\n\n    return output\n</code></pre>\n\n<p>The problem is: when I run everything (it should be some client-server app, and this piece should run on server side) and when it comes to executing cliend_handler method it does not call run_cmd method. It prints once 'loop' but it does not print 'command' (I've put these print statements for debugging). Can someone  tell me why?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530747226, "post_id": 51181710, "comment_id": 89345849, "body": "Your code is ridiculously inefficient because you open the same output file at each iteration. The second inefficiency is looking up  value in a list <code>if x[i] in mylist</code> (linear search time!)."}, {"owner": {"reputation": 3814, "user_id": 3697273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f64bf8ecbbe130dac0956337bb181ce?s=128&d=identicon&r=PG&f=1", "display_name": "paisanco", "link": "https://stackoverflow.com/users/3697273/paisanco"}, "edited": false, "score": 0, "creation_date": 1530747573, "post_id": 51181710, "comment_id": 89345905, "body": "Other problems: List x is appending integers at first, then assigning strings, then being used to search for a string in mylist. Also, the time complexity of searching a list scales with the size of the list , so it is not the best choice of data structure for this problem. Have you covered data structures and time complexity in your study of Python yet? It would be needed for this type of problem."}, {"owner": {"reputation": 23, "user_id": 10033772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wn9uwYAzMDw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3uXXL1vhI6-Djup6OqfzYlXzYs8w/mo/photo.jpg?sz=128", "display_name": "sabri", "link": "https://stackoverflow.com/users/10033772/sabri"}, "edited": false, "score": 0, "creation_date": 1530749982, "post_id": 51181710, "comment_id": 89346269, "body": "haven&#39;t really, i&#39;m still dealing with the basics."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10033772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wn9uwYAzMDw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3uXXL1vhI6-Djup6OqfzYlXzYs8w/mo/photo.jpg?sz=128", "display_name": "sabri", "link": "https://stackoverflow.com/users/10033772/sabri"}, "edited": false, "score": 0, "creation_date": 1530750144, "post_id": 51181841, "comment_id": 89346291, "body": "hey thanks a lot! i&#39;ll try it now. what if the wordlist and testlist is the same, because they are in my case? i don&#39;t have a separate testlist."}, {"owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "reply_to_user": {"reputation": 23, "user_id": 10033772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wn9uwYAzMDw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3uXXL1vhI6-Djup6OqfzYlXzYs8w/mo/photo.jpg?sz=128", "display_name": "sabri", "link": "https://stackoverflow.com/users/10033772/sabri"}, "edited": false, "score": 0, "creation_date": 1530755263, "post_id": 51181841, "comment_id": 89347064, "body": "I mean, then replace all the test_lists with word_lists. That&#39;s totally fine. Also, if my answer is satisfactory, please make sure to vote and give best answer as appropiate!"}], "tags": [], "owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "is_accepted": true, "score": 0, "last_activity_date": 1530748142, "creation_date": 1530748142, "answer_id": 51181841, "question_id": 51181710, "link": "https://stackoverflow.com/questions/51181710/wordfinder-program-in-python/51181841#51181841", "title": "wordfinder program in python", "body": "<p>Your code takes quite a bit of time because of the numerous loops it runs through, and the fact that it opens a file each time it passes through the loop. Let's try to simplify the code here.</p>\n\n<p>Let <code>word_list</code> be the list of words you would like to pass to the program, and <code>test_list</code> the list you want to test the newly formed words against.</p>\n\n<p>The following code will print each word in <code>word_list</code> that has a new form in <code>test_list</code>, and print each of those words.</p>\n\n<pre><code>def word_mix(word):\n    return [word[i:]+word[:i] for i in range(1,len(word))]\nmy_list = [set(word_mix(i)).intersection(test_list) for i in word_list]\nfor i in range(0,len(word_list)):\n    if bool(my_list(i)):\n        print(word_list[i]+': '+','.join(my_list[i]))\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10033772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wn9uwYAzMDw/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3uXXL1vhI6-Djup6OqfzYlXzYs8w/mo/photo.jpg?sz=128", "display_name": "sabri", "link": "https://stackoverflow.com/users/10033772/sabri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "accepted_answer_id": 51181841, "answer_count": 1, "score": 0, "last_activity_date": 1530887540, "creation_date": 1530746629, "last_edit_date": 1530887540, "question_id": 51181710, "link": "https://stackoverflow.com/questions/51181710/wordfinder-program-in-python", "title": "wordfinder program in python", "body": "<p>I am really new to programming. I was trying to write a code that takes a word, changes its character order, and checks if the new form is in the list. for example, the word \"spam\" is changed to <code>pams</code>, <code>amsp</code> and <code>mspa</code>. \ncode is like this: </p>\n\n<pre><code># -*- coding: utf-8 -*-\nmylist = open(\"D:/python/wordfinder/wordlist.txt\").read().splitlines()\nfor item in mylist:\n    x = []\n    for i in range((len(item)-1)):\n        x.append(i) \n        x[i] = item[i+1:] + item[i-i:i+1:]\n        if x[i] in mylist: \n            print(x[i], file = open(\"output.txt\", \"a\"))\n</code></pre>\n\n<p>It works fine with my sample list with 10 words. However my actual list has got over a million words in it. I ran the script an hour ago, should I stop it and change the code? what is a better way for my use case?  </p>\n\n<p>apologies if duplicate. </p>\n\n<p>EDIT: It took 37 hours to search through a 1,337,898-item list and output a 10,882-item list. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 116, "user_id": 4691387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c488affa303c20d33bd46705bbed6c2c?s=128&d=identicon&r=PG&f=1", "display_name": "Clara", "link": "https://stackoverflow.com/users/4691387/clara"}, "edited": false, "score": 0, "creation_date": 1530747495, "post_id": 51181734, "comment_id": 89345892, "body": "Thanks a lot. This makes perfect sense."}], "tags": [], "owner": {"reputation": 3582, "user_id": 615397, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/tcKp2.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/615397/lex"}, "is_accepted": true, "score": 1, "last_activity_date": 1530746805, "creation_date": 1530746805, "answer_id": 51181734, "question_id": 51181707, "link": "https://stackoverflow.com/questions/51181707/why-does-formatting-of-a-dataframe-automatically-get-applied-to-another/51181734#51181734", "title": "Why does formatting of a dataframe automatically get applied to another?", "body": "<p>Using <code>formatted_df = numeric_df</code> mean the variables share the same memory footprint. Referencing the same object. To manipulate one independently you need a seperate object. For this you can <code>clone</code> an object or Pandas offers <code>copy()</code></p>\n\n<pre><code>formatted_df = numeric_df.copy()\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/27673231/why-should-i-make-a-copy-of-a-data-frame-in-pandas\">why should I make a copy of a data frame in pandas</a></p>\n"}], "owner": {"reputation": 116, "user_id": 4691387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c488affa303c20d33bd46705bbed6c2c?s=128&d=identicon&r=PG&f=1", "display_name": "Clara", "link": "https://stackoverflow.com/users/4691387/clara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1530746901, "accepted_answer_id": 51181734, "answer_count": 1, "score": 2, "last_activity_date": 1561176028, "creation_date": 1530746570, "last_edit_date": 1561176028, "question_id": 51181707, "link": "https://stackoverflow.com/questions/51181707/why-does-formatting-of-a-dataframe-automatically-get-applied-to-another", "closed_reason": "Duplicate", "title": "Why does formatting of a dataframe automatically get applied to another?", "body": "<p>Sorry if this is a really dumb question. I'm a total noob at pandas and can't even figure out what key words to use to search for a solution for the problem I have.</p>\n\n<p>Basically, I have a numeric data frame, </p>\n\n<pre><code>numeric_df = pd.DataFrame({\"colA\": [1.23, 2.34, 3.45],\n                    \"colB\":[1.00, 2.00, 3.00]})\n</code></pre>\n\n<p>Now I create a second df that duplicates the value of numeric_df</p>\n\n<pre><code>formatted_df = numeric_df\n</code></pre>\n\n<p>Then I format the two columns in \"formatted_df\" according  my needs, I'm doing it this way because I want to keep the values in numeric_df as numbers, so I can operate on them later.</p>\n\n<pre><code>formatted_df[\"colA\"] = formatted_df[\"colA\"].map(\"${:}\".format)\nformatted_df[\"colB\"] = formatted_df[\"colB\"].map(\"{:}Years\".format)\n</code></pre>\n\n<p>But now, if I view numeric_df, its columns are already formatted and converged into a string. What is causing the problem? Why does my map method modify the original data frame?</p>\n\n<p>Thank you in advance for any help you can give.</p>\n"}, {"tags": ["python", "python-3.x", "iteration", "itertools"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 3, "creation_date": 1530746311, "post_id": 51181674, "comment_id": 89345652, "body": "As a side note, you should not benchmark manually like this; use <a href=\"https://docs.python.org/3/library/timeit.html\" rel=\"nofollow noreferrer\"><code>timeit</code></a>. The docs for <code>time</code> even explain why. It may not be relevant here (although there are <i>some</i> questions where the whole answer turns out to be &quot;your benchmarks are wrong&quot;, it&#39;s certainly not always the case), but it&#39;s better to do the right thing than to do the wrong thing and hope it doesn&#39;t matter this time."}, {"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "edited": false, "score": 4, "creation_date": 1530746360, "post_id": 51181674, "comment_id": 89345657, "body": "Your first approach is written in a way that incredibly waste resources. It creates lists and pops elements all the time!! Maybe rewrite it using a set and generator functions, it will be closer to what <code>groupby()</code> does"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 2, "creation_date": 1530746790, "post_id": 51181674, "comment_id": 89345739, "body": "Please read <code>groupby</code>&#39;s implementation-equivalent python code: <a href=\"https://docs.python.org/3/library/itertools.html#itertools.groupby\" rel=\"nofollow noreferrer\">docs.python.org/3/library/itertools.html#itertools.groupby</a> , which costs just O(n), while your implementation costs O(n^2)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1530746858, "post_id": 51181674, "comment_id": 89345749, "body": "@PaulRooney That isn&#39;t really relevant here. Implementing something in C can&#39;t change quadratic time into constant time; all it can do is reduce the constant factor. I&#39;d be willing to be that if you just If you copy and paste the pure-Python &quot;rough equivalent&quot; <code>groupby</code> out of the <code>itertools</code> docs, it&#39;s somewhere between 1% and 1000% slower, but it retains the constant growth of the C implementation."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1530746984, "post_id": 51181674, "comment_id": 89345787, "body": "@PaulRooney The reason they&#39;re both N^2 faster than the OP&#39;s manual solution is that the OP does work per iteration that&#39;s quadratic on the size (popping N elements off the front of a list one by one, etc.), as nosklo explained, while <code>groupby</code> does constant work per iteration, so one is O(N^2M) while the other is just O(M)."}, {"owner": {"reputation": 409, "user_id": 9121039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ac158e91e1706c145099909b6671ee?s=128&d=identicon&r=PG&f=1", "display_name": "titiree", "link": "https://stackoverflow.com/users/9121039/titiree"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530827307, "post_id": 51181674, "comment_id": 89382307, "body": "Thanks for all the answers. I changed my code and dropped all instances of <code>list.pop()</code> and now it runs pretty fast too. @abarnert, after your suggestion I read about the <code>timeit</code> module and the problems it solves (quantization errors, other system processes), and I would like to use it. However, my problem is that <code>timeit</code> does not return the values computed while running the code, and I need each term of the sequence to generate the next one. Is there a way around this?"}], "owner": {"reputation": 409, "user_id": 9121039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ac158e91e1706c145099909b6671ee?s=128&d=identicon&r=PG&f=1", "display_name": "titiree", "link": "https://stackoverflow.com/users/9121039/titiree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1530746010, "creation_date": 1530746010, "question_id": 51181674, "link": "https://stackoverflow.com/questions/51181674/what-makes-pythons-itertools-groupby-so-fast", "title": "What makes python&#39;s itertools.groupby so fast?", "body": "<p>I am evaluating successive terms of the look and say sequence (more about it here: <a href=\"https://en.wikipedia.org/wiki/Look-and-say_sequence\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/Look-and-say_sequence</a>).</p>\n\n<p>I used two approaches and timed them both. In the first approach, I just iterated over each term to construct the next one. In the second, I used <code>itertools.groupby()</code> to do the same. The time difference is pretty dramatic, so I made a figure for fun:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OCFEq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OCFEq.png\" alt=\"graph\"></a></p>\n\n<p>What makes <code>itertools.groupby()</code> so efficient? The code for the two approaches is below:</p>\n\n<p>1st approach:</p>\n\n<pre><code>def find_block(seq):\n    block = [seq[0]]\n    seq.pop(0)\n\n    while seq and seq[0] == block[0]:\n        block.append(seq[0])\n        seq.pop(0)\n\n    return block\n\nold = list('1113222113')\nnew = []\nversion1_time = []\n\nfor i in range(40):\n    start = time.time()\n    while old:\n        block = find_block(old)\n        new.append(str(len(block)))\n        new.append(block[0])\n    old, new = new, []\n    end = time.time()\n    version1_time.append(end-start)\n</code></pre>\n\n<p>2nd approach:</p>\n\n<pre><code>seq = '1113222113'\nversion2_time = []\n\ndef lookandread(seq):\n    new = ''\n    for value, group in itertools.groupby(seq):\n        new += '{}{}'.format(len(list(group)), value)\n    return new\n\nfor i in range(40):\n    start = time.time()\n    seq = lookandread(seq)\n    end = time.time()\n    version2_time.append(end-start)\n</code></pre>\n"}, {"tags": ["python", "docker", "flask", "kubernetes", "minikube"], "comments": [{"owner": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 0, "creation_date": 1530745747, "post_id": 51181638, "comment_id": 89345558, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39646474/how-to-run-python-flask-within-a-docker-container\">How to run Python Flask within a Docker container</a>"}, {"owner": {"reputation": 5056, "user_id": 4276090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r87tb.jpg?s=128&g=1", "display_name": "Skam", "link": "https://stackoverflow.com/users/4276090/skam"}, "edited": false, "score": 0, "creation_date": 1530745905, "post_id": 51181638, "comment_id": 89345584, "body": "are you exposing your host port to the container? what does your deploy.yaml look like?"}, {"owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "reply_to_user": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "edited": false, "score": 0, "creation_date": 1530746074, "post_id": 51181638, "comment_id": 89345611, "body": "@DavidMaze i have that in my app.run and it still doesn&#39;t work sadly :/"}, {"owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "reply_to_user": {"reputation": 5056, "user_id": 4276090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r87tb.jpg?s=128&g=1", "display_name": "Skam", "link": "https://stackoverflow.com/users/4276090/skam"}, "edited": false, "score": 0, "creation_date": 1530746285, "post_id": 51181638, "comment_id": 89345647, "body": "@Skam added it up there! my nodePort is actually 30000 but curling <a href=\"https://localhost:30000\" rel=\"nofollow noreferrer\">localhost:30000</a> or 80 still gives a failed to connect error for some reason."}, {"owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "edited": false, "score": 0, "creation_date": 1530746370, "post_id": 51181638, "comment_id": 89345659, "body": "actually, forgot to mention, im exposing port 5000 in my dockerfile"}, {"owner": {"reputation": 13635, "user_id": 1061413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0beb915463288cb6e8b50e8121860717?s=128&d=identicon&r=PG", "display_name": "Amit Kumar Gupta", "link": "https://stackoverflow.com/users/1061413/amit-kumar-gupta"}, "edited": false, "score": 0, "creation_date": 1530746676, "post_id": 51181638, "comment_id": 89345720, "body": "Your <code>targetPort</code> in your service is 9376 but your container is exposed on 5000.  First try changing the <code>targetPort</code> to 5000.  Then you can <code>curl $(minikube service myapp --url)</code> as mentioned <a href=\"https://github.com/kubernetes/minikube/blame/master/README.md#L132\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "reply_to_user": {"reputation": 13635, "user_id": 1061413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0beb915463288cb6e8b50e8121860717?s=128&d=identicon&r=PG", "display_name": "Amit Kumar Gupta", "link": "https://stackoverflow.com/users/1061413/amit-kumar-gupta"}, "edited": false, "score": 0, "creation_date": 1530747284, "post_id": 51181638, "comment_id": 89345859, "body": "@AmitKumarGupta thanks! did that but im getting a different error <code>curl: (56) Recv failure: Connection reset by peer</code> which might mean that fixed my initial question?? anyways ill keep trying"}, {"owner": {"reputation": 12854, "user_id": 559504, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/87b61c83e24e695ac8528fcb1a3cbed3?s=128&d=identicon&r=PG", "display_name": "johnharris85", "link": "https://stackoverflow.com/users/559504/johnharris85"}, "edited": false, "score": 0, "creation_date": 1530748459, "post_id": 51181638, "comment_id": 89346025, "body": "Change flask to listen on <code>0.0.0.0</code>, localhost/127.0.0.1 in container != localhost outside of container."}, {"owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "reply_to_user": {"reputation": 12854, "user_id": 559504, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/87b61c83e24e695ac8528fcb1a3cbed3?s=128&d=identicon&r=PG", "display_name": "johnharris85", "link": "https://stackoverflow.com/users/559504/johnharris85"}, "edited": false, "score": 0, "creation_date": 1530749058, "post_id": 51181638, "comment_id": 89346133, "body": "@johnharris85 do you mean curling inside the container? and i have app.run(host=&#39;0.0.0.0&#39;) in there"}, {"owner": {"reputation": 12854, "user_id": 559504, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/87b61c83e24e695ac8528fcb1a3cbed3?s=128&d=identicon&r=PG", "display_name": "johnharris85", "link": "https://stackoverflow.com/users/559504/johnharris85"}, "edited": false, "score": 0, "creation_date": 1530749419, "post_id": 51181638, "comment_id": 89346180, "body": "Doesn&#39;t look like that&#39;s taking effect based on your flask output &quot;listening on 127.0.01 etc...&quot;"}, {"owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "edited": false, "score": 0, "creation_date": 1530749667, "post_id": 51181638, "comment_id": 89346217, "body": "sorry forgot to update that, changed it after i posted it"}, {"owner": {"reputation": 2002, "user_id": 9524052, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Artem Golenyaev", "link": "https://stackoverflow.com/users/9524052/artem-golenyaev"}, "edited": false, "score": 0, "creation_date": 1530783564, "post_id": 51181638, "comment_id": 89357658, "body": "Could you share your Dockerfile?"}, {"owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "reply_to_user": {"reputation": 2002, "user_id": 9524052, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Artem Golenyaev", "link": "https://stackoverflow.com/users/9524052/artem-golenyaev"}, "edited": false, "score": 0, "creation_date": 1530794375, "post_id": 51181638, "comment_id": 89364644, "body": "@ArtemGolenyaev added it!"}, {"owner": {"reputation": 13635, "user_id": 1061413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0beb915463288cb6e8b50e8121860717?s=128&d=identicon&r=PG", "display_name": "Amit Kumar Gupta", "link": "https://stackoverflow.com/users/1061413/amit-kumar-gupta"}, "edited": false, "score": 0, "creation_date": 1530800346, "post_id": 51181638, "comment_id": 89368719, "body": "Are you trying the <code>curl</code>s in your post, or the <code>curl $(minikube service myapp --url)</code> I suggested when you get that &quot;reset by peer&quot; error?"}], "answers": [{"tags": [], "owner": {"reputation": 2002, "user_id": 9524052, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Artem Golenyaev", "link": "https://stackoverflow.com/users/9524052/artem-golenyaev"}, "is_accepted": false, "score": 1, "last_activity_date": 1530796563, "creation_date": 1530796563, "answer_id": 51192322, "question_id": 51181638, "link": "https://stackoverflow.com/questions/51181638/run-flask-app-kubernetes/51192322#51192322", "title": "run flask app kubernetes", "body": "<p>As you have exposed <code>Port 5000</code> in the Dockerfile, you need to expose the same Port in the container in your Deployment. After that, you need to configure your Service to use this Port.</p>\n\n<p>It should look like this:</p>\n\n<pre><code>apiVersion: apps/v1beta1 \nkind: Deployment\nmetadata:\n  name: myapp\n  namespace: test-space\nspec:\n  selector:\n    matchLabels:\n      app: myapp\n  replicas: 3 \n  template: \n    metadata:\n      labels:\n        app: myapp\n    spec:\n      containers:\n      - name: myapp\n        image: myapp\n        imagePullPolicy: IfNotPresent\n        volumeMounts:\n        - name: secret-volume\n          mountPath: /etc/secret-volume\n        ports: \n        - containerPort: 5000 #&lt;&lt;&lt;PORT FIXED\n        env:\n        - name: \"SECRET_KEY\"\n          value: /etc/secret-volume/secret-key\n        - name: \"SECRET_CRT\"\n          value: /etc/secret-volume/secret-crt\n      volumes:\n        - name: secret-volume\n          secret: \n            secretName: my-secret3\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: myapp\n  namespace: test-space\nspec:\n  type: NodePort\n  selector:\n    app: myapp\n  ports:\n  - protocol: TCP\n    port: 5000 #&lt;&lt;&lt;PORT FIXED\n    targetPort: 5000\n    nodePort: 30000\n</code></pre>\n\n<p>After that, you can reach you application on <code>&lt;any-kubernetes-node-IP&gt;:30000</code></p>\n"}, {"tags": [], "owner": {"reputation": 419, "user_id": 8579664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6af610f803cd98ff4e85169b8c33169?s=128&d=identicon&r=PG&f=1", "display_name": "Rohit", "link": "https://stackoverflow.com/users/8579664/rohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1548156574, "creation_date": 1548156574, "answer_id": 54307302, "question_id": 51181638, "link": "https://stackoverflow.com/questions/51181638/run-flask-app-kubernetes/54307302#54307302", "title": "run flask app kubernetes", "body": "<p>You need to create service with label selector myapp.\nBut there is another way you can do curl\nby logging into running pod and execute curl from inside the pod.</p>\n\n<p>Just do</p>\n\n<p>kubectl exec -it podname /bin/bash This will open bash shell\nThen you can do curl localhost:5000</p>\n"}], "owner": {"reputation": 161, "user_id": 7916942, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/124af8fc95168eb085275c92f593dd95?s=128&d=identicon&r=PG&f=1", "display_name": "helloworld", "link": "https://stackoverflow.com/users/7916942/helloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548156574, "creation_date": 1530745548, "last_edit_date": 1530794361, "question_id": 51181638, "link": "https://stackoverflow.com/questions/51181638/run-flask-app-kubernetes", "title": "run flask app kubernetes", "body": "<p>this might be a silly question but how can i get my <a href=\"https://localhost:5000\" rel=\"nofollow noreferrer\">https://localhost:5000</a> working through my flask kuberenetes app to ensure its returning back the right info? </p>\n\n<p>This is my workflow so far: </p>\n\n<pre><code>$ eval $(minikube docker-env)\n$ docker build ...\n$ kubectl apply -f deploy.yaml (contains deployment &amp; service)\n$ kubectl set image...\n</code></pre>\n\n<p><code>kubectl logs...</code> returns this below: also my pods are up and running so nothing is failing </p>\n\n<pre><code> * Environment: production\n   WARNING: Do not use the development server in a production environment.\n   Use a production WSGI server instead.\n * Debug mode: on\n * Running on https://0.0.0.0:5000/  (Press CTRL+C to quit)\n * Restarting with stat\n * Debugger is active!\n * Debugger PIN: 443-461-677\n</code></pre>\n\n<p>the only thing is when i go to that address in my browser it says the site can't be reached. when i <code>curl https://localhost:5000</code> or <code>curl https://0.0.0.0:5000/</code> i get a failed to connect error. i feel like my enviroment/set up is wrong somehow. any tips/suggestions? \nthank you! </p>\n\n<p>also heres my deploy.yaml file: </p>\n\n<pre><code>apiVersion: apps/v1beta1 \nkind: Deployment\nmetadata:\n  name: myapp\n  namespace: test-space\nspec:\n  selector:\n    matchLabels:\n      app: myapp\n  replicas: 3 \n  template: \n    metadata:\n      labels:\n        app: myapp\n    spec:\n      containers:\n      - name: myapp\n        image: myapp\n        imagePullPolicy: IfNotPresent\n        volumeMounts:\n        - name: secret-volume\n          mountPath: /etc/secret-volume\n        ports: \n        - containerPort: 80\n        env:\n        - name: \"SECRET_KEY\"\n          value: /etc/secret-volume/secret-key\n        - name: \"SECRET_CRT\"\n          value: /etc/secret-volume/secret-crt\n      volumes:\n        - name: secret-volume\n          secret: \n            secretName: my-secret3\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: myapp\n  namespace: test-space\nspec:\n  type: NodePort\n  selector:\n    app: myapp\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 5000\n    nodePort: 30000\n</code></pre>\n\n<p><strong>Dockerfile:</strong></p>\n\n<pre><code>FROM python:2\n\nRUN mkdir -p /usr/src/app\n\nWORKDIR /usr/src/app\n\nCOPY requirements.txt /usr/src/app/\n\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY . /usr/src/app\n\nEXPOSE 5000\n\nCMD [\"python\", \"app.py\"]\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup", "python-requests", "urllib"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10034257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a280cce1953b9e9ca5e4cca7540d0168?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/10034257/j-doe"}, "edited": false, "score": 0, "creation_date": 1530747550, "post_id": 51181730, "comment_id": 89345898, "body": "how can i get the url in the iframe?"}, {"owner": {"reputation": 530, "user_id": 7929028, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207794047781861/picture?type=large", "display_name": "Vishnu Kiran", "link": "https://stackoverflow.com/users/7929028/vishnu-kiran"}, "reply_to_user": {"reputation": 3, "user_id": 10034257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a280cce1953b9e9ca5e4cca7540d0168?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/10034257/j-doe"}, "edited": false, "score": 0, "creation_date": 1530859430, "post_id": 51181730, "comment_id": 89389843, "body": "Inspect your page source and navigate to the iframe"}], "tags": [], "owner": {"reputation": 530, "user_id": 7929028, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207794047781861/picture?type=large", "display_name": "Vishnu Kiran", "link": "https://stackoverflow.com/users/7929028/vishnu-kiran"}, "is_accepted": false, "score": 0, "last_activity_date": 1530746760, "creation_date": 1530746760, "answer_id": 51181730, "question_id": 51181637, "link": "https://stackoverflow.com/questions/51181637/getting-a-specific-file-from-requested-iframe/51181730#51181730", "title": "Getting a specific file from requested iframe", "body": "<p>If the iframe's source is not the primary domain of the website(naruto-tube.org) its contents cannot be accessed via scraping.</p>\n\n<p>You will have to use a different website or you will need to get the url in the Iframe and use some library like requests to call the url. </p>\n\n<p>Note you must also pass all parameters to the url if any to actually get any result. Like so</p>\n\n<pre><code>import urllib\nurllib.urlretrieve (\"url from the Iframe\", \"mp4.mp4\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3531, "user_id": 1762193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a75e9.jpg?s=128&g=1", "display_name": "Mike Housky", "link": "https://stackoverflow.com/users/1762193/mike-housky"}, "is_accepted": true, "score": 0, "last_activity_date": 1530749572, "last_edit_date": 1530749572, "creation_date": 1530749103, "answer_id": 51181926, "question_id": 51181637, "link": "https://stackoverflow.com/questions/51181637/getting-a-specific-file-from-requested-iframe/51181926#51181926", "title": "Getting a specific file from requested iframe", "body": "<p>You can Beautiful Soup to parse the iframe source code and find the script elements, but from there you're on your own.  The <code>file: \"xxxxx\",</code> line is in JavaScript code, so you'll have to find the function call (to <code>playerInstance.setup()</code> in this case) and decide which of the two such \"file:\" lines is the one you want, and strip away the unwanted JS syntax around the URL.</p>\n\n<p>Regular expressions will help with that, and you're probably better off just looking for the lines in the iframe's HTML.  You already have <code>re</code> imported, so I just replaced your last line with:</p>\n\n<pre><code>lines = re.findall(\"file: .*$\", inner_content.text, re.MULTILINE)\nprint( '\\n'.join(lines) )\n</code></pre>\n\n<p>...to get a list of lines with \"file:\" in them.  You can (and should) use a fancier RE to find just the one with <code>\"http://</code> and allows only whitespace before \"file:\" on the lines.  (Python, Java and my text editor all have different ideas about what's in an RE, so I have to go to docs every time I write one.  You can do that too--it's your problem, after all.)</p>\n\n<p>The requests.get() function doesn't seem to work to get the bytes.  Try Vishnu Kiran's <code>urlretrieve</code> approach--maybe that will work.  Using the URL in a browser window does seem to get the right video, though, so there may be a user agent and/or cookie setting that you'll have to spoof.</p>\n"}], "owner": {"reputation": 3, "user_id": 10034257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a280cce1953b9e9ca5e4cca7540d0168?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/10034257/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 51181926, "answer_count": 2, "score": 0, "last_activity_date": 1530749572, "creation_date": 1530745546, "last_edit_date": 1530745948, "question_id": 51181637, "link": "https://stackoverflow.com/questions/51181637/getting-a-specific-file-from-requested-iframe", "title": "Getting a specific file from requested iframe", "body": "<p>I want to get the file link from the anime I'm watching from the site.</p>\n\n<pre><code>`import requests\nfrom bs4 import BeautifulSoup\nimport re\n\npage = requests.get(\"http://naruto-tube.org/shippuuden-sub-219\")\nsoup = BeautifulSoup(page.content, \"html.parser\")\ninner_content = requests.get(soup.find(\"iframe\")[\"src\"])\n\nprint(inner_content.text)`\n</code></pre>\n\n<p>the output is the source code from the filehoster's website (ani-stream). However, my problem now is how to i get the \"file: xxxxxxx\" line to be printed and not the whole source code? </p>\n"}, {"tags": ["python", "user-interface", "variables", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1530752130, "post_id": 51181605, "comment_id": 89346579, "body": "You are explicitly creating a new window everytime <code>update</code> Is called."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1530755981, "post_id": 51181605, "comment_id": 89347163, "body": "To be more specific, your code calls <code>Tk()</code> every time <code>update()</code> gets called. Generally this is only ever done once it a <code>tkinter</code>-based GUI, usually as part of its start-up initialization. Suggest you look more closely at any of the many <code>tkinter</code> examples available on-line."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1530756129, "post_id": 51181605, "comment_id": 89347187, "body": "Another suggestion: Read and start following <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 - Style Guide for Python Code</a>. It&#39;ll make your code more readable and maintainable. Beyond that, defining all those other functions inside the <code>main()</code> function is very unusual and unnecessary."}, {"owner": {"reputation": 45, "user_id": 10013403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z1tZsISDtYE/AAAAAAAAAAI/AAAAAAAAACA/X4_6xJbrJyM/photo.jpg?sz=128", "display_name": "Trubsworth", "link": "https://stackoverflow.com/users/10013403/trubsworth"}, "edited": false, "score": 1, "creation_date": 1530825614, "post_id": 51181605, "comment_id": 89381729, "body": "Thanks for the help/tips Martineau! Everything is now working and thank you for suggesting that style guide!"}], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1530812366, "post_id": 51182970, "comment_id": 89375952, "body": "Trubsworth: Does this answer your question or at least help?"}, {"owner": {"reputation": 45, "user_id": 10013403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z1tZsISDtYE/AAAAAAAAAAI/AAAAAAAAACA/X4_6xJbrJyM/photo.jpg?sz=128", "display_name": "Trubsworth", "link": "https://stackoverflow.com/users/10013403/trubsworth"}, "edited": false, "score": 0, "creation_date": 1530826745, "post_id": 51182970, "comment_id": 89382127, "body": "I guess I may of spoke too soon. How do I use the file locations? When I print out the input_file_location I get PY_VAR0. I&#39;m trying to use this variable in my excel() function to point to the correct location of an excel sheet."}, {"owner": {"reputation": 45, "user_id": 10013403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z1tZsISDtYE/AAAAAAAAAAI/AAAAAAAAACA/X4_6xJbrJyM/photo.jpg?sz=128", "display_name": "Trubsworth", "link": "https://stackoverflow.com/users/10013403/trubsworth"}, "edited": false, "score": 0, "creation_date": 1530829514, "post_id": 51182970, "comment_id": 89382899, "body": "Never mind I was able to figure it out. I used the .get() function command in my excel function, by doing file_location = input_file_location.get(). I was able to pass &quot; input_file_location&quot; into the function by using command = lambda"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 45, "user_id": 10013403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z1tZsISDtYE/AAAAAAAAAAI/AAAAAAAAACA/X4_6xJbrJyM/photo.jpg?sz=128", "display_name": "Trubsworth", "link": "https://stackoverflow.com/users/10013403/trubsworth"}, "edited": false, "score": 0, "creation_date": 1530830388, "post_id": 51182970, "comment_id": 89383138, "body": "Trubsworth: Yes, to get the current value of a <code>StringVar</code>, you must call its <code>get()</code> method. Anyway, in that case, please consider accepting my answer. See <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 45, "user_id": 10013403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z1tZsISDtYE/AAAAAAAAAAI/AAAAAAAAACA/X4_6xJbrJyM/photo.jpg?sz=128", "display_name": "Trubsworth", "link": "https://stackoverflow.com/users/10013403/trubsworth"}, "edited": false, "score": 0, "creation_date": 1530842752, "post_id": 51182970, "comment_id": 89385524, "body": "Trubsworth: Thanks for accepting my answer. Wanted to mention I was impressed you knew about using <code>lambda</code> to get access to the <code>nput_file_location</code> variable in the <code>excel()</code> function. It&#39;s something that&#39;s needed fairly often in <code>tkinter</code> programs\u2014I&#39;ve seen it called <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/extra-args.html\" rel=\"nofollow noreferrer\">&quot;The extra arguments trick&quot;</a>."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 0, "last_activity_date": 1530843359, "last_edit_date": 1530843359, "creation_date": 1530761098, "answer_id": 51182970, "question_id": 51181605, "link": "https://stackoverflow.com/questions/51181605/tkinter-changing-variables-assigned-to-labels-causes-duplicate-window/51182970#51182970", "title": "tkinter - Changing variables assigned to labels causes duplicate window", "body": "<p>Here's a version that doesn't create the duplicate window. I've incorporated most of the suggestions I made in comments\u2014except for the one about defining functions inside of other functions. The following still does this because doing so made it very easy to avoid using <code>global</code> variables (which are generally considered a poor programming practice).</p>\n\n<p>Notice that there's no <code>update()</code> function. The values of the two <code>tkinter.Label</code>s are now being stored in two <code>tkinter.StringVar</code>s objects instead of in regular Python strings.  A <code>StringVar</code> is one of the <code>tkinter</code> so-called \"Variable\" classes. Their primary feature is that they will cause all widgets referencing them to automatically update themselves whenever their contents get changed. To use them in a <code>Label</code>, they're specified by using the <code>textvariable=</code> option (<em>instead</em> of the <code>text=</code> option) when the constructor is called.\nHere's some <a href=\"http://effbot.org/tkinterbook/variable.htm\" rel=\"nofollow noreferrer\">documentation</a> I found about them with more details on how they work.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter.filedialog import askopenfilename, asksaveasfilename\n\ndef excel():\n    \"\"\" Undefined. \"\"\"\n    pass\n\n\ndef main():\n    def get_input_file_location():\n        input_file_location.set(askopenfilename())\n\n    def get_output_file_location():\n        output_file_location.set(asksaveasfilename(confirmoverwrite=False))\n\n    root = tk.Tk()\n    root.title('test')\n    root.resizable(width=True, height=True)\n\n    input_file_location = tk.StringVar()\n    input_file_location.set('&lt;undefined&gt;')\n    output_file_location = tk.StringVar()\n    output_file_location.set('&lt;undefined&gt;')\n\n    input_file = tk.Button(root, text=\"Input data\",\n                           command=get_input_file_location)\n    input_file.grid(row=0, column=0)\n    input_file_value = tk.Label(root, textvariable=input_file_location,\n                                bg='white')\n    input_file_value.grid(row=1, column=0)\n\n    output_file = tk.Button(root, text='Compiled data save loacation',\n                            command=get_output_file_location)\n    output_file.grid(row=4, column=0)\n    output_file_value = tk.Label(root, textvariable=output_file_location,\n                                 bg='white')\n    output_file_value.grid(row=5, column=0)\n\n    startButton = tk.Button(root, text='start', bg='light green',\n                            command=excel)\n    startButton.grid(row=7)\n\n    blank_ui = [tk.Label(root, text='') for _ in range(2)]\n    blank_ui[0].grid(row=2)\n    blank_ui[1].grid(row=6)\n\n    root.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10013403, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-z1tZsISDtYE/AAAAAAAAAAI/AAAAAAAAACA/X4_6xJbrJyM/photo.jpg?sz=128", "display_name": "Trubsworth", "link": "https://stackoverflow.com/users/10013403/trubsworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 51182970, "answer_count": 1, "score": -1, "last_activity_date": 1530843359, "creation_date": 1530745266, "last_edit_date": 1530755562, "question_id": 51181605, "link": "https://stackoverflow.com/questions/51181605/tkinter-changing-variables-assigned-to-labels-causes-duplicate-window", "title": "tkinter - Changing variables assigned to labels causes duplicate window", "body": "<p>I'm using python to interact with some excel spreadsheets. I have all that working and now I'm working on a UI using <code>tkinter</code>. I have 3 buttons one to pull the location of a data file, output file save location and I have a start button. </p>\n\n<p>I'm trying to use a <code>tkinter.Label</code> to display the value of the first two buttons, example <code>\"c:/user/data_file\"</code>. However, when ever I get the variable from the user and try to update the GUI with it, a copy of the window is created with the updated information. I need it to update directly to the current window seamlessly. I've been working to try to resolve this, but I just can't figure it out. Below is the code for my <code>tkinter</code> stuff.</p>\n\n<pre><code>def main(): \n\n    def InputFilePrompt():\n        global InputFileLocation\n        InputFileLocation = askopenfilename()\n        update()  \n\n    def OutputFilePrompt():\n        global OutputFileLocation\n        OutputFileLocation = filedialog.asksaveasfilename()\n        update()\n\n    def update():\n\n        root = Tk()\n\n        root.title(\"test\")\n        root.resizable(width=TRUE,height=TRUE)\n\n        InputFile = Button(root, text = \"input data\", command = InputFilePrompt)\n        InputFile.grid(row = 0,column = 0)\n\n        InputFileValue = Label(root, text = InputFileLocation, bg = 'white')\n        InputFileValue.grid(row = 1,column = 0)\n\n        OutputFile = Button(root, text = \"Compiled Data save loacation\", command = OutputFilePrompt)\n        OutputFile.grid(row = 4,column = 0)\n\n        OutputFileValue = Label(root, text = \"location: N/A\", bg = 'white')\n        OutputFileValue.grid(row = 5,column = 0)\n\n        startButton = Button(root, text = \"start\", bg = 'light green', command = Excel)\n        startButton.grid(row = 7)\n\n        BlankUI = [0 for x in range(2)]\n        for blankspace in range(2):\n            BlankUI[blankspace] = Label(root, text = \"\")\n        BlankUI[0].grid(row = 2)\n        BlankUI[1].grid(row = 6)\n\n        root.mainloop()   \n\n    update()\n</code></pre>\n\n<p>Error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3hUt5.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3hUt5.gif\" alt=\"Picture of the Error\"></a></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1530745476, "post_id": 51181603, "comment_id": 89345518, "body": "change <code>while user_input != users:</code> to <code>while user_input not in users:</code>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1530745552, "post_id": 51181603, "comment_id": 89345529, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10406130/check-if-something-is-not-in-a-list-in-python\">Check if something is not in a list in Python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7205, "user_id": 9288200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1c4dc5d3f7433e18f4aa04319ebaec?s=128&d=identicon&r=PG&f=1", "display_name": "Ondrej K.", "link": "https://stackoverflow.com/users/9288200/ondrej-k"}, "edited": false, "score": 0, "creation_date": 1530747420, "post_id": 51181664, "comment_id": 89345877, "body": "If your answer basically repeats what has been mentioned in the comments (and not even by yourself), it should probably be submitted as Community Wiki entry."}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "reply_to_user": {"reputation": 7205, "user_id": 9288200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1c4dc5d3f7433e18f4aa04319ebaec?s=128&d=identicon&r=PG&f=1", "display_name": "Ondrej K.", "link": "https://stackoverflow.com/users/9288200/ondrej-k"}, "edited": false, "score": 0, "creation_date": 1530747528, "post_id": 51181664, "comment_id": 89345894, "body": "@OndrejK. I was typing my answer here while they were talking. The answer is kind of obvious in this case, i was typing out my answer, I didn&#39;t see their answer"}, {"owner": {"reputation": 7205, "user_id": 9288200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1c4dc5d3f7433e18f4aa04319ebaec?s=128&d=identicon&r=PG&f=1", "display_name": "Ondrej K.", "link": "https://stackoverflow.com/users/9288200/ondrej-k"}, "edited": false, "score": 0, "creation_date": 1530747641, "post_id": 51181664, "comment_id": 89345916, "body": "Doesn&#39;t really look like 7 minutes worth of typing? See, how this could be just pointed out as a suggestion though?"}, {"owner": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530747713, "post_id": 51181664, "comment_id": 89345923, "body": "Thank you Sheshank. I was using &#39;while&#39; because the source I&#39;m using to self study python hasnt gotten to the &#39;not in&#39; function. I was just poking around and jumping ahead. But the &#39;not in&#39; makes sense. Thank you."}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "reply_to_user": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530747938, "post_id": 51181664, "comment_id": 89345967, "body": "@JonahMolina if it helped remember to upvote and mark as correct answer :)"}, {"owner": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530748647, "post_id": 51181664, "comment_id": 89346067, "body": "@SheshankS. Ok so I tried using the &#39;if user_input not in&#39; and it works for the first attempt, but with a second attempt, itll proceed to the password step if the user_input was correct or not. That is why I was using the &#39;while&#39; as a check to loop until the user entered a matching username from the list"}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "reply_to_user": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530750873, "post_id": 51181664, "comment_id": 89346402, "body": "@JonahMolina can you make a repl.it for this? I canhelp you better there"}, {"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 0, "creation_date": 1530751458, "post_id": 51181664, "comment_id": 89346483, "body": "It would actually be better to make a new question"}, {"owner": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530751518, "post_id": 51181664, "comment_id": 89346491, "body": "@SheshankS. Sorry about that. I wasnt getting a message if it registered my click or not so I clicked it a bunch of times hoping that it would go through / land on accept"}], "tags": [], "owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1530745925, "creation_date": 1530745925, "answer_id": 51181664, "question_id": 51181603, "link": "https://stackoverflow.com/questions/51181603/basic-user-log-in-pw-code/51181664#51181664", "title": "basic user log in/pw code", "body": "<p>Just do <code>while user_input not in users:</code></p>\n\n<p><code>not in</code> checks if <code>user_input</code> is literally <em>not in</em> <code>users</code></p>\n\n<p>It might also be better to do <code>if user_input not in users:</code>, I don't see the point of a while.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530750199, "post_id": 51181889, "comment_id": 89346298, "body": "Can I ask what is the significance of using the 0&lt;1 ? Does it give the while function something to check against?"}, {"owner": {"reputation": 46, "user_id": 7386154, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000053684283/picture?type=large", "display_name": "Ali Hassan", "link": "https://stackoverflow.com/users/7386154/ali-hassan"}, "reply_to_user": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530750610, "post_id": 51181889, "comment_id": 89346364, "body": "it&#39;s a True statement to continue the loop there are many other ways to do so but this one is simple and easy. nothing else :)"}, {"owner": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "edited": false, "score": 0, "creation_date": 1530751561, "post_id": 51181889, "comment_id": 89346500, "body": "Thank you Ali. Yes, I have yet to reach that point in my lesson. Thank you for clarifying."}], "tags": [], "owner": {"reputation": 46, "user_id": 7386154, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000053684283/picture?type=large", "display_name": "Ali Hassan", "link": "https://stackoverflow.com/users/7386154/ali-hassan"}, "is_accepted": true, "score": 0, "last_activity_date": 1530749166, "last_edit_date": 1530749166, "creation_date": 1530748799, "answer_id": 51181889, "question_id": 51181603, "link": "https://stackoverflow.com/questions/51181603/basic-user-log-in-pw-code/51181889#51181889", "title": "basic user log in/pw code", "body": "<p>Write it like this.</p>\n\n<pre><code>users = [\"Jon\",\"Joe\", \"Jole\"]\nwhile 0 &lt; 1 :\n  user_input = input('Username: ')\n  if user_input not in users:\n      print(\"I'm sorry but we dont recognize you. Please try another username: \")\n  elif user_input in users:\n    break\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10034251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7c6fde343ef5e97dbd07af6aad7bd7?s=128&d=identicon&r=PG", "display_name": "Jonah Molina", "link": "https://stackoverflow.com/users/10034251/jonah-molina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 51181889, "answer_count": 2, "score": 2, "last_activity_date": 1530749166, "creation_date": 1530745260, "last_edit_date": 1530745435, "question_id": 51181603, "link": "https://stackoverflow.com/questions/51181603/basic-user-log-in-pw-code", "title": "basic user log in/pw code", "body": "<p>Just started learning python a couple days ago and have been trying to use what code I know to practice a basic code of asking for a user name and password from a list. I know there are far better/cleaner/matching user to password inputs but I'm just playing with what I know at this point.</p>\n\n<pre><code>users = ['Jon','Joe', 'Jole']\n\nuser_input = input('Username: ')\n\nwhile user_input != users:\n    user_redo = input(\"I'm sorry but we dont recognize you. Please try another username: \")\n</code></pre>\n\n<p><strong>this is where my problem is. Is there a simple way of breaking the loop if the user enters a matching username from the list?</strong></p>\n\n<pre><code>passwords = ['donkey808','Hanna5006']\npassword = input('Password: ')\n</code></pre>\n\n<p><strong>I guess the same question would apply to the password entry as well</strong></p>\n\n<pre><code>while password != passwords:\n    pw_redo = input(f'Please enter correct password for user {user_input}: ')\nelse:\n    print(f'Access Granted {user_input}')\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 485, "user_id": 9195672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2NSqo.jpg?s=128&g=1", "display_name": "Youssef BH", "link": "https://stackoverflow.com/users/9195672/youssef-bh"}, "is_accepted": false, "score": 1, "last_activity_date": 1530748631, "creation_date": 1530748631, "answer_id": 51181877, "question_id": 51181600, "link": "https://stackoverflow.com/questions/51181600/oraginizing-django-urlpatterns-for-apis/51181877#51181877", "title": "Oraginizing django urlpatterns for APIs", "body": "<p>You can use <code>path</code> and <code>include</code> for <a href=\"https://docs.djangoproject.com/en/2.0/topics/http/urls/#including-other-urlconfs\" rel=\"nofollow noreferrer\">Including other URLconfs</a>.</p>\n\n<p>In you case you can Try:</p>\n\n<pre><code>apipatterns = [\n    path('units/', include('units.api.urls')),\n    path('accounts/', include('accounts.api.urls'))\n]\n\nurlpatterns = [\n    path('api/v1/', include(apipatterns)),\n]\n</code></pre>\n\n<p>So the route <code>api/v1/units/</code> will be handled by <code>'units.api.urls'</code>, and <code>api/v1/accounts/</code> will be handled by <code>'accounts.api.urls'</code></p>\n\n<p>I hope this will help.</p>\n"}, {"tags": [], "owner": {"reputation": 2644, "user_id": 747744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e40f54006383a41c5c00347a7a0cc7?s=128&d=identicon&r=PG", "display_name": "Eugene Primako", "link": "https://stackoverflow.com/users/747744/eugene-primako"}, "is_accepted": true, "score": 1, "last_activity_date": 1530748639, "creation_date": 1530748639, "answer_id": 51181878, "question_id": 51181600, "link": "https://stackoverflow.com/questions/51181600/oraginizing-django-urlpatterns-for-apis/51181878#51181878", "title": "Oraginizing django urlpatterns for APIs", "body": "<p>Your \"ideal\" urlpatterns are almost correct. Here is the corrected variant:</p>\n\n<pre><code>apipatterns = [\n     path('units/', include('units.api.urls')),\n     path('accounts/', include('accounts.api.urls')),\n]\n\nurlpatterns = [\n    path('api/v1/', include(apipatterns)),\n]\n</code></pre>\n\n<p>Here is a similar example in <a href=\"https://docs.djangoproject.com/en/2.0/topics/http/urls/#including-other-urlconfs\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 9714, "user_id": 874027, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9d3c9e17a73bce9955d7bd6b7d312878?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/874027/eugene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 51181878, "answer_count": 2, "score": 0, "last_activity_date": 1530748639, "creation_date": 1530745236, "question_id": 51181600, "link": "https://stackoverflow.com/questions/51181600/oraginizing-django-urlpatterns-for-apis", "title": "Oraginizing django urlpatterns for APIs", "body": "<p>I would like to use an api version index for all my API endpoints (<code>api/v1/</code>). Currently I'm achieving it by structuring my urlpatterns like so:</p>\n\n<pre><code>urlpatterns = [\n    path('api/v1/units/', include('units.api.urls')),\n    path('api/v1/accounts/', include('accounts.api.urls')),\n]\n</code></pre>\n\n<p>Is there a way to organize this more elegantly? Ideally I would like it to look something like this:</p>\n\n<pre><code>apipatterns = [\n    'units/', include('units.api.urls'),\n    'accounts/', include('accounts.api.urls')\n]\n\nurlpatterns = [\n    path('api/v1/', include(apipatterns)),\n]\n</code></pre>\n"}, {"tags": ["python", "pandas", "data-cleaning"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530746107, "post_id": 51181592, "comment_id": 89345617, "body": "The <code>r</code> in <code>for r in df</code> is a column header (which is a string, in your case). So, <code>r[&quot;dep&quot;]</code> is an attempt to index a string with a string."}], "answers": [{"tags": [], "owner": {"reputation": 632, "user_id": 7273886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/26ac35f03f943adc61a1208fcba6b53b?s=128&d=identicon&r=PG&f=1", "display_name": "Bartek Malysz", "link": "https://stackoverflow.com/users/7273886/bartek-malysz"}, "is_accepted": true, "score": 0, "last_activity_date": 1530748098, "last_edit_date": 1530748098, "creation_date": 1530745602, "answer_id": 51181642, "question_id": 51181592, "link": "https://stackoverflow.com/questions/51181592/using-pandas-cell-as-a-key/51181642#51181642", "title": "Using pandas cell as a key", "body": "<pre><code>df.region =  df.dep.apply(lambda x: dep_dict[x])\n</code></pre>\n\n<p>Would this help?</p>\n"}], "owner": {"reputation": 89, "user_id": 9268303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a70feb16cd7adad5f6ec5dd4ea1bfcb?s=128&d=identicon&r=PG", "display_name": "TLP", "link": "https://stackoverflow.com/users/9268303/tlp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "closed_date": 1530745809, "accepted_answer_id": 51181642, "answer_count": 1, "score": 0, "last_activity_date": 1530748098, "creation_date": 1530745173, "question_id": 51181592, "link": "https://stackoverflow.com/questions/51181592/using-pandas-cell-as-a-key", "closed_reason": "Duplicate", "title": "Using pandas cell as a key", "body": "<p>I have a df where each row has a code that indicates a department. </p>\n\n<p>On the other hand, I have a dictionary in which each code corresponds to a region name (a region is constituted of multiple departments).</p>\n\n<p>I thought of a loop to put the value in a new column that indicates the region. </p>\n\n<p>Here is what I thought would work:</p>\n\n<pre><code>for r in df:\n    dep = r[\"dep\"].astype(str)\n    r[\"region\"] = dep_dict.get(dep)\n</code></pre>\n\n<p>But the only thing I get is \"string indices must be integers\".\nDo you people know how could I make it work ? Or if I should take a totally different route (like joining) ?</p>\n\n<p>Thanks ! \ud83d\ude4f</p>\n"}, {"tags": ["python", "while-loop"], "comments": [{"owner": {"reputation": 3036, "user_id": 5491375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/acb34dbd1c452d932e5d116561d6ee26?s=128&d=identicon&r=PG&f=1", "display_name": "aydow", "link": "https://stackoverflow.com/users/5491375/aydow"}, "edited": false, "score": 1, "creation_date": 1530746215, "post_id": 51181570, "comment_id": 89345629, "body": "you shouldn&#39;t be using keywords for your variable names. variables like <code>max</code>, <code>min</code>, <code>file</code>, or any other word that your python editor highlights should not be used as variable names. what happens when you want to use the <code>max</code> function afterwards? you will get <code>TypeError: &#39;int&#39; object is not callable</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "is_accepted": true, "score": 2, "last_activity_date": 1530836127, "last_edit_date": 1530836127, "creation_date": 1530745370, "answer_id": 51181617, "question_id": 51181570, "link": "https://stackoverflow.com/questions/51181570/determining-prime-numbers-using-nested-while-loops-in-python/51181617#51181617", "title": "Determining Prime numbers using nested while loops in Python", "body": "<p>Might be easier to use for loops. This program assumes that a number is prime, and then checks everthing up to the number.</p>\n\n<p>Live demo: <a href=\"https://repl.it/repls/MidnightblueWobblyPlane\" rel=\"nofollow noreferrer\">https://repl.it/repls/MidnightblueWobblyPlane</a></p>\n\n<pre><code>max = int(input('Enter the max integer: '))\nfor number in range(2, max+1): \n    is_prime = True\n    for interval_num in range(2, number):\n        if number % interval_num == 0:\n            is_prime = False\n            break\n\n    if is_prime:\n        print(number)\n</code></pre>\n\n<p>If you must however, use while loops, here you go. It's the same logic:</p>\n\n<p>Live demo: <a href=\"https://repl.it/repls/BlandQualifiedBetatest\" rel=\"nofollow noreferrer\">https://repl.it/repls/BlandQualifiedBetatest</a></p>\n\n<pre><code>max = int(input('Enter the max integer: '))\npossiblePrime = 2\nwhile possiblePrime &lt; max+1: \n    isPrime = True\n    num = 2\n    while num &lt; possiblePrime:\n        if possiblePrime % num == 0:\n            isPrime = False\n            break\n        num += 1\n\n    if isPrime:\n        print(possiblePrime)\n\n    possiblePrime += 1\n</code></pre>\n\n<p>Hope it helped!</p>\n"}, {"tags": [], "owner": {"reputation": 473, "user_id": 1838793, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uZrN6.png?s=128&g=1", "display_name": "Phoenix87", "link": "https://stackoverflow.com/users/1838793/phoenix87"}, "is_accepted": false, "score": 0, "last_activity_date": 1531063302, "creation_date": 1531063302, "answer_id": 51233426, "question_id": 51181570, "link": "https://stackoverflow.com/questions/51181570/determining-prime-numbers-using-nested-while-loops-in-python/51233426#51233426", "title": "Determining Prime numbers using nested while loops in Python", "body": "<p>The best way would be to use the <a href=\"https://stackoverflow.com/questions/3939660/sieve-of-eratosthenes-finding-primes-python\">Sieve of Eratosthenes</a>. If you want to use two nested <code>while</code> loops, then consider that for each number you really need to check for the divisibility up to the square root of the current number. Hence somewhere you will have a condition of the type <code>while factor * factor &lt;= current_number:</code>.</p>\n"}], "owner": {"reputation": 33, "user_id": 10034222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddf6835545672724bd8637e0603c2ef2?s=128&d=identicon&r=PG&f=1", "display_name": "ea192", "link": "https://stackoverflow.com/users/10034222/ea192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2926, "favorite_count": 0, "accepted_answer_id": 51181617, "answer_count": 2, "score": 3, "last_activity_date": 1531063302, "creation_date": 1530744979, "last_edit_date": 1530841280, "question_id": 51181570, "link": "https://stackoverflow.com/questions/51181570/determining-prime-numbers-using-nested-while-loops-in-python", "title": "Determining Prime numbers using nested while loops in Python", "body": "<p>I have this prime numbers program to solve: given a max input, I am to determine all the prime numbers between 2 and the max input inclusive, using a while loop inside a while loop.<br>\nI know this would be simpler using a range and/or math functions but for the purposes of this assignment I need to use while-loops.  </p>\n\n<p>Testing the code below with <code>max = 5</code> outputs <code>2,3,4</code>.<br>\nCorrect output is <code>2,3,5</code>.</p>\n\n<pre><code>max = int(input('Enter the max integer: '))\nstart_number = 2\n\nwhile start_number &lt;= max:\n    interval_number = start_number\n    while interval_number &lt;= max: \n        if max % interval_number != 0: \n            print(interval_number)\n            interval_number += 1\n    start_number += 1\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 2, "creation_date": 1530745027, "post_id": 51181556, "comment_id": 89345461, "body": "To determine this the best way is to implement all of the possible ways you can think of and measure them."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1530746193, "post_id": 51181556, "comment_id": 89345625, "body": "Use a numpy array of indices within one big <code>mmap</code>ed string?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1530746241, "post_id": 51181556, "comment_id": 89345637, "body": "How fast does it have to be? How much slower than that is your current method? How fast can your disk write 5GB?"}, {"owner": {"reputation": 59, "user_id": 3904211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3d8ad4952fef69389ed30cd127a307?s=128&d=identicon&r=PG&f=1", "display_name": "MortyAndFam", "link": "https://stackoverflow.com/users/3904211/mortyandfam"}, "edited": false, "score": 0, "creation_date": 1530746979, "post_id": 51181556, "comment_id": 89345786, "body": "my current method takes somewhere around 1000 seconds. There is no special requirement to make it run faster. I am just experimenting with alternatives. My disk is a macbook pro 2017 model SSD"}, {"owner": {"reputation": 59, "user_id": 3904211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3d8ad4952fef69389ed30cd127a307?s=128&d=identicon&r=PG&f=1", "display_name": "MortyAndFam", "link": "https://stackoverflow.com/users/3904211/mortyandfam"}, "reply_to_user": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1530747045, "post_id": 51181556, "comment_id": 89345804, "body": "@o11c can you please elaborate more on this?"}], "answers": [{"tags": [], "owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "is_accepted": false, "score": 0, "last_activity_date": 1530753341, "creation_date": 1530753341, "answer_id": 51182242, "question_id": 51181556, "link": "https://stackoverflow.com/questions/51181556/whats-the-fastest-way-to-save-load-a-large-collection-list-set-of-strings-in/51182242#51182242", "title": "What&#39;s the fastest way to save/load a large collection (list/set) of strings in Python 3.6?", "body": "<p>For the read-only case:</p>\n\n<pre><code>import numpy as np\n\nclass IndexedBlob:\n    def __init__(self, filename):\n        index_filename = filename + '.index'\n        blob = np.memmap(filename, mode='r')\n\n        try:\n            # if there is an existing index\n            indices = np.memmap(index_filename, dtype='&gt;i8', mode='r')\n        except FileNotFoundError:\n            # else, create it\n            indices, = np.where(blob == ord('\\n'))\n            # force dtype to predictable file\n            indices = np.array(indices, dtype='&gt;i8')\n            with open(index_filename, 'wb') as f:\n                # add a virtual newline\n                np.array(-1, dtype='&gt;i8').tofile(f)\n                indices.tofile(f)\n            # then reopen it as a file to reduce memory\n            # (and also pick up that -1 we added)\n            indices = np.memmap(index_filename, dtype='&gt;i8', mode='r')\n\n        self.blob = blob\n        self.indices = indices\n\n    def __getitem__(self, line):\n        assert line &gt;= 0\n\n        lo = self.indices[line] + 1\n        hi = self.indices[line + 1]\n\n        return self.blob[lo:hi].tobytes().decode()\n</code></pre>\n\n<p>Some additional notes:</p>\n\n<ul>\n<li>Adding new strings at the end (by simply opening the file in append mode and writing a line - but beware of previous broken writes) is easy - but remember to manually update the index file too. But note that you'll need to re-<code>mmap</code> if you want to see it for existing <code>IndexedBlob</code> objects. You could avoid that and simply keep a list of \"loose\" objects.</li>\n<li>By design, if the last line is missing a newline, it is ignored (to detect truncation or concurrent writing)</li>\n<li>You could significantly shrink the size of the index by only storying every <code>n</code>th newline, then doing a linear search at lookup time. I found this not worth it, however.</li>\n<li>If you use separate indices for the start and end, you are no longer constrained to storing the strings in order, which opens up several possibilities for mutation. But if mutation is rare, rewriting the whole file and regenerating the index isn't <em>too</em> expensive.</li>\n<li>Consider using <code>'\\0'</code> as your separator instead of <code>'\\n</code>.</li>\n</ul>\n\n<p>And of course:</p>\n\n<ul>\n<li>General concurrent mutation is hard no matter what you do. If you need to do anything complicated, use a real database: it is the simplest solution at that point.</li>\n</ul>\n"}], "owner": {"reputation": 59, "user_id": 3904211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3d8ad4952fef69389ed30cd127a307?s=128&d=identicon&r=PG&f=1", "display_name": "MortyAndFam", "link": "https://stackoverflow.com/users/3904211/mortyandfam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 443, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530753341, "creation_date": 1530744864, "last_edit_date": 1530746911, "question_id": 51181556, "link": "https://stackoverflow.com/questions/51181556/whats-the-fastest-way-to-save-load-a-large-collection-list-set-of-strings-in", "title": "What&#39;s the fastest way to save/load a large collection (list/set) of strings in Python 3.6?", "body": "<p>The file is 5gb long.</p>\n\n<p>I did find a similar question on stackoverflow where people suggest the use of a numpy array but I suppose this solution would be applicable to a collection of numbers and not strings. </p>\n\n<p>would there be anything that beats eval(list.txt) or importing a python file with a variable set to the list?</p>\n\n<p>what is the most efficient way to load/save a python list of strings?</p>\n"}, {"tags": ["python", "text", "file-io"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 2, "creation_date": 1530744640, "post_id": 51181505, "comment_id": 89345398, "body": "It&#39;s almost always a bad idea to open a file in the &#39;r+&#39; mode (because of the way the current position is handled). Open a file for reading, read the data, replace the newlines, open the same file file for writing, write the data."}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 2, "creation_date": 1530744649, "post_id": 51181505, "comment_id": 89345401, "body": "Without <code>f.seek()</code>, I don&#39;t see this working as you state it does."}], "answers": [{"comments": [{"owner": {"reputation": 619, "user_id": 3719201, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5506d6452b5a8c3e600d34a2f0786847?s=128&d=identicon&r=PG", "display_name": "mburakergenc", "link": "https://stackoverflow.com/users/3719201/mburakergenc"}, "edited": false, "score": 0, "creation_date": 1530746708, "post_id": 51181552, "comment_id": 89345724, "body": "That did the trick, also thanks for pointing out the &#39;r+&#39; mode. However, when I open the file separately to save the file, the loop takes longer to complete. Do you think that trade-off worths?"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "reply_to_user": {"reputation": 619, "user_id": 3719201, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5506d6452b5a8c3e600d34a2f0786847?s=128&d=identicon&r=PG", "display_name": "mburakergenc", "link": "https://stackoverflow.com/users/3719201/mburakergenc"}, "edited": false, "score": 0, "creation_date": 1530746791, "post_id": 51181552, "comment_id": 89345740, "body": "If it is a one-time deal, I would prefer a loop that has a clear structure. You decide."}, {"owner": {"reputation": 619, "user_id": 3719201, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5506d6452b5a8c3e600d34a2f0786847?s=128&d=identicon&r=PG", "display_name": "mburakergenc", "link": "https://stackoverflow.com/users/3719201/mburakergenc"}, "edited": false, "score": 0, "creation_date": 1530746908, "post_id": 51181552, "comment_id": 89345769, "body": "I got you. It seems more elegant too. I used it that way in my script."}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 2, "last_activity_date": 1530744818, "creation_date": 1530744818, "answer_id": 51181552, "question_id": 51181505, "link": "https://stackoverflow.com/questions/51181505/replace-newlines-with-a-space-in-all-files-in-a-directory-python/51181552#51181552", "title": "Replace newlines with a space in all files in a directory - Python", "body": "<p>To further elaborate my comment (\"<em>It's almost always a bad idea to open a file in the 'r+' mode (because of the way the current position is handled). Open a file for reading, read the data, replace the newlines, open the same file file for writing, write the data</em>\"):</p>\n\n<pre><code>for file in glob.glob(path):\n    with open(file) as f:\n        data = f.read().replace('\\n', ' ')\n    with open(file, \"w\") as f:\n        f.write(data)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3036, "user_id": 5491375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/acb34dbd1c452d932e5d116561d6ee26?s=128&d=identicon&r=PG&f=1", "display_name": "aydow", "link": "https://stackoverflow.com/users/5491375/aydow"}, "edited": false, "score": 0, "creation_date": 1530745025, "post_id": 51181571, "comment_id": 89345460, "body": "what does <code>truncate</code> do?"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 3036, "user_id": 5491375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/acb34dbd1c452d932e5d116561d6ee26?s=128&d=identicon&r=PG&f=1", "display_name": "aydow", "link": "https://stackoverflow.com/users/5491375/aydow"}, "edited": false, "score": 0, "creation_date": 1530745102, "post_id": 51181571, "comment_id": 89345469, "body": "It truncates a file at the current position, unless a position is specified. See: <a href=\"https://www.tutorialspoint.com/python3/file_truncate.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/python3/file_truncate.htm</a>"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530746712, "post_id": 51181571, "comment_id": 89345727, "body": "Why do you need the <code>truncate</code> if both the old and the new files have exactly the same size?"}, {"owner": {"reputation": 619, "user_id": 3719201, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5506d6452b5a8c3e600d34a2f0786847?s=128&d=identicon&r=PG", "display_name": "mburakergenc", "link": "https://stackoverflow.com/users/3719201/mburakergenc"}, "edited": false, "score": 0, "creation_date": 1530746806, "post_id": 51181571, "comment_id": 89345742, "body": "This also works with the answer above, but do you think resetting a position is a safer way?"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1530746907, "post_id": 51181571, "comment_id": 89345768, "body": "@DyZ You&#39;re absolutely right that <code>truncate</code> isn&#39;t needed in this very case, but in general you want to truncate if you aren&#39;t sure about the size of the replacement versus the original in advance. I just put it there so that the solution is more generic."}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 619, "user_id": 3719201, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5506d6452b5a8c3e600d34a2f0786847?s=128&d=identicon&r=PG", "display_name": "mburakergenc", "link": "https://stackoverflow.com/users/3719201/mburakergenc"}, "edited": false, "score": 0, "creation_date": 1530747100, "post_id": 51181571, "comment_id": 89345814, "body": "@mburakergenc There&#39;s no harm in resetting file position. The only concern is if your replacement string is shorter than the original string then you will end up with leftover of the original, which is why I had this <code>truncate</code> method in the end, which, as DyZ pointed out, isn&#39;t actually needed because in your case your replacement string will always be of the same size as the original."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 1, "last_activity_date": 1530744980, "creation_date": 1530744980, "answer_id": 51181571, "question_id": 51181505, "link": "https://stackoverflow.com/questions/51181505/replace-newlines-with-a-space-in-all-files-in-a-directory-python/51181571#51181571", "title": "Replace newlines with a space in all files in a directory - Python", "body": "<p>You need to reset file position to 0 with <code>seek</code> and then truncate the leftover with <code>truncate</code> after you finishing writing the replacement string.</p>\n\n<pre><code>import glob\npath = \"path_to_files/*.txt\"\nfor file in glob.glob(path):\n    with open(file, \"r+\") as f:\n        data = f.read().replace('\\n', ' ')\n        f.seek(0)\n        f.write(data)\n        f.truncate()\n</code></pre>\n"}], "owner": {"reputation": 619, "user_id": 3719201, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5506d6452b5a8c3e600d34a2f0786847?s=128&d=identicon&r=PG", "display_name": "mburakergenc", "link": "https://stackoverflow.com/users/3719201/mburakergenc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51181552, "answer_count": 2, "score": 0, "last_activity_date": 1530744980, "creation_date": 1530744306, "question_id": 51181505, "link": "https://stackoverflow.com/questions/51181505/replace-newlines-with-a-space-in-all-files-in-a-directory-python", "title": "Replace newlines with a space in all files in a directory - Python", "body": "<p>I have about 4000 txt files in a directory. I'd like to replace newlines with spaces in each file using a for loop. Actually, the script works for that purpose but when I save the file, it doesn't get saved or it gets saved with newlines again. Here is my script;</p>\n\n<pre><code>import glob\npath = \"path_to_files/*.txt\"\nfor file in glob.glob(path):\n    with open(file, \"r+\") as f:\n        data = f.read().replace('\\n', ' ')\n        f.write(data)\n</code></pre>\n\n<p>As I said I'm able to replace the newlines with a space, but at the end, it doesn't get saved. I also don't get any errors. </p>\n"}, {"tags": ["python", "selenium-webdriver"], "comments": [{"owner": {"reputation": 4487, "user_id": 2329061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89e7e5642e4f608893b279c8438329a3?s=128&d=identicon&r=PG", "display_name": "Buaban", "link": "https://stackoverflow.com/users/2329061/buaban"}, "edited": false, "score": 0, "creation_date": 1530779556, "post_id": 51181487, "comment_id": 89355242, "body": "You need to know the expected value or pattern of text in the table."}], "answers": [{"tags": [], "owner": {"reputation": 1361, "user_id": 3347128, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WAEso.png?s=128&g=1", "display_name": "Alichino", "link": "https://stackoverflow.com/users/3347128/alichino"}, "is_accepted": false, "score": 0, "last_activity_date": 1530788182, "creation_date": 1530788182, "answer_id": 51189560, "question_id": 51181487, "link": "https://stackoverflow.com/questions/51181487/python-selenium-looking-for-recommendations-on-how-to-verify-the-contents-of/51189560#51189560", "title": "Python - Selenium - Looking for recommendations on how to verify the contents of a table", "body": "<p>As dogstar suggested, you need to know the contents of the table.</p>\n\n<p>Then just do something like <code>assert &lt;text&gt; in col.text</code>, using an assert library of your choice.</p>\n"}], "owner": {"reputation": 3, "user_id": 10034211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/149bca48529a547f4b5b0baa17b33116?s=128&d=identicon&r=PG&f=1", "display_name": "dogstar", "link": "https://stackoverflow.com/users/10034211/dogstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530788182, "creation_date": 1530744162, "question_id": 51181487, "link": "https://stackoverflow.com/questions/51181487/python-selenium-looking-for-recommendations-on-how-to-verify-the-contents-of", "title": "Python - Selenium - Looking for recommendations on how to verify the contents of a table", "body": "<p>I have a table that I am able to iterate through and print out the contents of each cell.  What I am looking for now is a suggestion on how to verify the contents of each of the cells.  Assume the table is 10 columns X 20 rows.</p>\n\n<p>Here's code for iterating through the table and printing out the contents of each cell:</p>\n\n<pre><code>table_id = self.driver.find_element(By.XPATH, \"//*[@id='clientTable']/div/div[6]/div/div/div/div/table\")\n    rows = table_id.find_elements(By.TAG_NAME, \"tr\")\n    for row in rows:\n        cols = row.find_elements(By.TAG_NAME, \"td\")\n        for col in cols:\n            print(col.text)\n</code></pre>\n"}, {"tags": ["python", "subprocess"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 2, "creation_date": 1530744455, "post_id": 51181483, "comment_id": 89345371, "body": "A few things to try that are common sources of issues: flush stdout after each print in <code>write_output.py</code> and call python using  the <code>-u</code> switch for unbuffered mode (e.g. <code>Popen([&#39;python&#39;, &#39;-u&#39;, ...</code>) (<a href=\"https://stackoverflow.com/questions/14258500/python-significance-of-u-option\">see this related</a>)."}, {"owner": {"reputation": 1478, "user_id": 6719277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/780349062051910/picture?type=large", "display_name": "Seb", "link": "https://stackoverflow.com/users/6719277/seb"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1530747081, "post_id": 51181483, "comment_id": 89345811, "body": "@jedwards this indeed fixes the issue for the example I gave, am I doomed if I can&#39;t control the buffer output of the subprocess child? (my use case has a .exe file instead of write_output.py)"}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1530748222, "post_id": 51181483, "comment_id": 89345997, "body": "I wouldn&#39;t say you&#39;re doomed.  There are often os-specific tricks you can do with the streams to help solve any issues that might arise when using the real child subprocess.  You might also find some guidance in looking at how libraries like <a href=\"https://pexpect.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">pexpect</a> do things."}, {"owner": {"reputation": 7205, "user_id": 9288200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1c4dc5d3f7433e18f4aa04319ebaec?s=128&d=identicon&r=PG&f=1", "display_name": "Ondrej K.", "link": "https://stackoverflow.com/users/9288200/ondrej-k"}, "edited": false, "score": 0, "creation_date": 1530794979, "post_id": 51181483, "comment_id": 89365030, "body": "You can add <code>bufsize=0</code> keyword argument to your <code>Popen()</code> call which forces (or should, I hope this is true for all platforms) unbuffered  stdin/out/err (the former two are normally line buffered)."}], "owner": {"reputation": 1478, "user_id": 6719277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/780349062051910/picture?type=large", "display_name": "Seb", "link": "https://stackoverflow.com/users/6719277/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530744119, "creation_date": 1530744119, "question_id": 51181483, "link": "https://stackoverflow.com/questions/51181483/why-does-subprocess-stdout-behave-differently-with-and-without-user-input", "title": "Why does subprocess stdout behave differently with and without user input", "body": "<p>I have an issue with writing the output of a program when it also prompts for user input.</p>\n\n<p>In <code>write_output.py</code>:</p>\n\n<pre><code>content = [str(i+1)+' blabla'*50 for i in range(200)]\nfor line in content:\n    print line\na = raw_input('Write something:\\n')\nprint 'You wrote:',a\n</code></pre>\n\n<p>In <code>show_output.py</code>:</p>\n\n<pre><code>from subprocess import Popen,PIPE\n\npopen = Popen(['python','write_output.py'],stdout=PIPE,stderr=PIPE)\nfor line in iter(popen.stdout.readline,''):\n    print line\npopen.wait()\n</code></pre>\n\n<p>The output of <code>show_output.py</code> stops at line 197, but you can still give the input value and it will print out the rest</p>\n\n<p>If I just use <code>'blabla'</code> instead of <code>'blabla'*50</code>, <code>show_output.py</code> prints nothing, and again the input can still be given and everything will be printed out. </p>\n\n<p>If I comment out the last two lines in <code>write_output.py</code>, then <code>show_output.py</code> writes everything as expected in both cases.</p>\n\n<p>Can someone explain what is going on?</p>\n\n<p>Why does asking for input changes the stdout of subprocess?</p>\n"}, {"tags": ["python", "pandas", "sdk", "tableau-api"], "answers": [{"tags": [], "owner": {"reputation": 5528, "user_id": 466066, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0ed1a417e659f1205cac821201ca0e9b?s=128&d=identicon&r=PG", "display_name": "Jose Cherian", "link": "https://stackoverflow.com/users/466066/jose-cherian"}, "is_accepted": true, "score": 2, "last_activity_date": 1530788095, "last_edit_date": 1530788095, "creation_date": 1530758196, "answer_id": 51182694, "question_id": 51181478, "link": "https://stackoverflow.com/questions/51181478/is-it-possible-to-extract-data-from-published-tableau-workbook-server-using-py/51182694#51182694", "title": "Is it possible to extract data from published Tableau workbook / server using python", "body": "<p>There are two options I am aware of:</p>\n\n<ol>\n<li><a href=\"https://onlinehelp.tableau.com/current/server/en-us/tabcmd.htm\" rel=\"nofollow noreferrer\">Tabcmd</a></li>\n</ol>\n\n<p>Download the data as csv then load it in to a pandas data frame.You can use the subprocess module to run tabcmd from python. </p>\n\n<p>Eg: <code>tabcmd export  \"Sales_Workbook\" --csv -f \"output.csv\" -s http://tabserver.mycompany.com -u admin -p mypassword -t your_sitename</code></p>\n\n<ol start=\"2\">\n<li><a href=\"https://onlinehelp.tableau.com/current/api/rest_api/en-us/REST/rest_api_ref.htm#Query_View_Data\" rel=\"nofollow noreferrer\">Tableau REST API</a></li>\n</ol>\n\n<p>Eg: <code>GET /api/api-version/sites/site-id/views/view-id/data?vf_&lt;fieldname&gt;=filter-value</code></p>\n"}], "owner": {"reputation": 632, "user_id": 7273886, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/26ac35f03f943adc61a1208fcba6b53b?s=128&d=identicon&r=PG&f=1", "display_name": "Bartek Malysz", "link": "https://stackoverflow.com/users/7273886/bartek-malysz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "accepted_answer_id": 51182694, "answer_count": 1, "score": 0, "last_activity_date": 1530788095, "creation_date": 1530744078, "question_id": 51181478, "link": "https://stackoverflow.com/questions/51181478/is-it-possible-to-extract-data-from-published-tableau-workbook-server-using-py", "title": "Is it possible to extract data from published Tableau workbook / server using python", "body": "<p>As in title, any way to read data to a Pandas DataFrame?</p>\n\n<p>Can't find much info about it anywhere. Found something about Tableau Data Extract and their SDK, but the first one doesn't seem to apply and can't find documentation for the latter.</p>\n\n<p>Anyone can point me into the right direction?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 1, "creation_date": 1530743913, "post_id": 51181443, "comment_id": 89345262, "body": "A custom metaclass would solve the specific issue you&#39;re asking about, but if you can elaborate on the <i>purpose</i> of this sort of thing, there may be an easier/more intuitive way."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530745380, "post_id": 51181443, "comment_id": 89345508, "body": "After your edit, i don&#39;t understand why you need separate classes rather than just separate instances of a single class here."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530745858, "post_id": 51181443, "comment_id": 89345575, "body": "Are you trying to reproduce Self/JavaScript/etc.-style prototype inheritance, by any chance? If so, I can probably find you some links to cleaner ways to do that (although of course the cleanest way is usually to not do it, and use what your language supports instead of fighting it)."}, {"owner": {"reputation": 3, "user_id": 10034146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JR2Hm.jpg?s=128&g=1", "display_name": "zeroraptor", "link": "https://stackoverflow.com/users/10034146/zeroraptor"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530746232, "post_id": 51181443, "comment_id": 89345634, "body": "@abarnert I have a feeling instances would solve the problem, though I haven\u2019t encountered them before so I was trying to work around using them, if they solve the problem I\u2019ll research them, though"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530747894, "post_id": 51181443, "comment_id": 89345959, "body": "@zeroraptor Instances are the whole <i>point</i> of classes. If you haven&#39;t learned how to create and use instances of classes, you shouldn&#39;t be messing with things like directly calling metaclasses. Go work through a basic tutorial before reading the advanced reference docs."}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1530745549, "last_edit_date": 1530745549, "creation_date": 1530744349, "answer_id": 51181508, "question_id": 51181443, "link": "https://stackoverflow.com/questions/51181443/python-inherited-classes-all-return-same-random-number/51181508#51181508", "title": "Python Inherited Classes all return same random number?", "body": "<p>When you write this:</p>\n\n<pre><code>b = type('b', a.__bases__, dict(a.__dict__))\n</code></pre>\n\n<p>\u2026 you're just copying  <code>a.__dict__</code>. Since <code>a.__dict__</code> is just <code>{'exampleData': 50}</code>, the new copy that ends up as <code>b.__dict__</code> is also going to be <code>{'exampleData': 50}</code>.</p>\n\n<p>There are many ways you could get a new random number. The simplest is to just create a new random number for <code>b</code> explicitly:</p>\n\n<pre><code>bdict = dict(a.__dict__)\nb['exampleData'] = random.randint(1,100)\nb = type('b', a.__bases__, bdict)\n</code></pre>\n\n<hr>\n\n<p>If you want to create a bunch of classes this way, you can wrap that up in a function:</p>\n\n<pre><code>def make_clone(proto, name):\n    clonedict = dict(proto.__dict__)\n    clonedict['exampleData'] = random.randint(1,100)\n    return type(name, proto.__bases__, clonedict)\n</code></pre>\n\n<p>You can make that factory function more complicated if you want to be (see <a href=\"https://github.com/python/cpython/blob/3.7/Lib/collections/__init__.py#L310\" rel=\"nofollow noreferrer\"><code>namedtuple</code></a> for a pretty extreme example).</p>\n\n<hr>\n\n<p>You could wrap that behavior up in a decorator:</p>\n\n<pre><code>def randomize(cls):\n    cls.exampleData = random.randint(1,100)\n\n@randomize\nclass a:\n    pass\n\nb = randomize(type('b', a.__bases__, dict(a.__dict__)))\n</code></pre>\n\n<p>Notice that I had to call the decorator with normal function-call syntax here, because there's no declaration statement to attach an <code>@decorator</code> to.</p>\n\n<hr>\n\n<p>Or you can wrap it up in a metaclass:</p>\n\n<pre><code>class RandomMeta(type):\n    def __new__(mcls, name, bases, namespace):\n        d = dict(namespace)\n        d['exampleData'] = random.randint(1,100)\n        return type.__new__(mcls, name, bases, d)\n\nclass a(metaclass=RandomMeta):\n    pass\n\nb = type(a)('b', a.__bases__, dict(a.__dict__))\n</code></pre>\n\n<p>Notice that we have to call <code>type(a)</code> here, the same way a <code>class</code> definition statement does, not the base metaclass <code>type</code>.</p>\n\n<p>Also notice that I'm not taking <code>**kwds</code> in the <code>__new__</code> method, and I'm calling <code>type.__new__</code> directly. This means that if you try to use <code>RandomMeta</code> together with another metaclass (besides <code>type</code>), you should get an immediate <code>TypeError</code>, rather than something that may or may not be correct.</p>\n\n<hr>\n\n<p>Meanwhile, I have a suspicion that what you're really trying to do here is build a prototype-based inheritance system, a la Self or JavaScript on top of Python's class-based system. While you <em>can</em> do that by using a special <code>Prototype</code> metaclass and a bunch of class objects, it's a whole lot simpler to just have a <code>Prototype</code> class and a bunch of instance objects. The only advantage to the metaclass approach is that you can use <code>class</code> statements (misleadingly, but conveniently) to clone prototypes, and you're explicitly not doing that here.</p>\n"}, {"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 0, "last_activity_date": 1530748590, "creation_date": 1530748590, "answer_id": 51181873, "question_id": 51181443, "link": "https://stackoverflow.com/questions/51181443/python-inherited-classes-all-return-same-random-number/51181873#51181873", "title": "Python Inherited Classes all return same random number?", "body": "<p>While <a href=\"https://stackoverflow.com/a/51181508/908494\">my other answer</a> covers the question as asked, I suspect it's all completely unnecessary to the OP's actual problem.</p>\n\n<p>If you just want to create a bunch of separate objects, which each have a separate value for <code>exampleData</code>, you just want a bunch of instances of a single class, not a bunch of separate classes.</p>\n\n<p>A class is a special kind of object that, in addition to doing all the normal object stuff, also works as a factory for other objects, which are instances of that class. You don't need <code>a</code>, <code>b</code>, and <code>c</code> to all be factories for for different kinds of objects, you just need them to be different objects of the same type. So:</p>\n\n<pre><code>class RandomThing:\n    def __init__(self):\n        self.exampleData = random.randint(1,100)\n\na = RandomThing()\nb = RandomThing() \n</code></pre>\n\n<p>\u2026 or, if you want to make sure <code>b</code> is the same type of thing as <code>a</code> but don't know what type that is:</p>\n\n<pre><code>b = type(a)()\n</code></pre>\n\n<p>That's as fancy as you need to get here.</p>\n\n<p>See <a href=\"https://docs.python.org/3/tutorial/classes.html\" rel=\"nofollow noreferrer\">the official tutorial on Classes</a> (or maybe search for a friendlier tutorial, because there are probably better ones out there).</p>\n"}], "owner": {"reputation": 3, "user_id": 10034146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JR2Hm.jpg?s=128&g=1", "display_name": "zeroraptor", "link": "https://stackoverflow.com/users/10034146/zeroraptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 51181873, "answer_count": 2, "score": 0, "last_activity_date": 1530748590, "creation_date": 1530743771, "last_edit_date": 1530744864, "question_id": 51181443, "link": "https://stackoverflow.com/questions/51181443/python-inherited-classes-all-return-same-random-number", "title": "Python Inherited Classes all return same random number?", "body": "<p>I have a few classes with almost identical contents, so I tried two methods to copy the classes and their attributes over. The classes copy correctly, but the randint function is only invoked in the main class, so the same number is output every time. Is there any way to recalculate the random number for each class?</p>\n\n<pre><code>class a:\n    exampleData = random.randint(1,100)\n\nb = type('b', a.__bases__, dict(a.__dict__))\n\nclass c(a):\n    pass\n</code></pre>\n\n<p>For example if a.exampleData = 50, b.exampleData and c.exampleData would be the same. Is there any way around this?</p>\n\n<p>Edit --  Part of my program displays characters with random stats each time, and the class contains the stats associated with each character. The random numbers pick the stats out of a list, but the same stats are being chosen, instead of being random in each class. I may not be explaining this right, so basically:</p>\n\n<pre><code>data = [stat1,stat2,stat3,ect,,]\ndata[random.randint(1,3)]\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1530743886, "post_id": 51181436, "comment_id": 89345256, "body": "Why not <code>ax1.hist(df[&#39;col&#39;])</code>?"}, {"owner": {"reputation": 143, "user_id": 9961332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896a42bcd4413692bdd86880236db183?s=128&d=identicon&r=PG&f=1", "display_name": "Bonzogondo", "link": "https://stackoverflow.com/users/9961332/bonzogondo"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530744113, "post_id": 51181436, "comment_id": 89345295, "body": "Because of the scale. pdf_g gives probabilities which are at most around 0.4 and histogram has values over 5000"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1530744232, "post_id": 51181436, "comment_id": 89345318, "body": "Oh, I see. Then change the lower limit of ax1 <code>ax1.set_ylim(ymin=0)</code>?"}, {"owner": {"reputation": 143, "user_id": 9961332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896a42bcd4413692bdd86880236db183?s=128&d=identicon&r=PG&f=1", "display_name": "Bonzogondo", "link": "https://stackoverflow.com/users/9961332/bonzogondo"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1530744409, "post_id": 51181436, "comment_id": 89345359, "body": "It was pertaining y-axis, but it solved the problem. I tried before but this time it worked. Thanks!"}], "owner": {"reputation": 143, "user_id": 9961332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896a42bcd4413692bdd86880236db183?s=128&d=identicon&r=PG&f=1", "display_name": "Bonzogondo", "link": "https://stackoverflow.com/users/9961332/bonzogondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530743959, "creation_date": 1530743691, "last_edit_date": 1530743959, "question_id": 51181436, "link": "https://stackoverflow.com/questions/51181436/how-to-set-the-origin-of-two-axes-on-the-same-level", "title": "How to set the origin of two axes on the same level", "body": "<p>I cannot solve my problem. I am using matplotlib and I am plotting histogram and theoretical pdf, but I am not able to set the 0 values on both y-axes on the same level. \nThis is my code and the plot I get:</p>\n\n<pre><code>fig, ax1 = plt.subplots()\nax1.plot(x, pdf_g, label=\"Norm\") \nax2 = ax1.twinx()\nax2.hist(df['col'])\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Zwgb0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zwgb0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530744008, "post_id": 51181411, "comment_id": 89345277, "body": "It would help if you showed us the batch file (or a stripped-down version)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530751714, "post_id": 51181411, "comment_id": 89346526, "body": "Also, you say here that you have a batch file that runs a Python script. But in a comment on my answer, you say that you have a Python script that runs a batch file. Which one is it? Please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the help; it\u2019s hard to know what needs to go into a question when you first start at SO, but the help does a pretty good job guiding you."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10001335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V_AJrIS5LNo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq12xeegweQ6w57t_hL9AjD8CYZtFA/mo/photo.jpg?sz=128", "display_name": "Arthur Buczynski", "link": "https://stackoverflow.com/users/10001335/arthur-buczynski"}, "edited": false, "score": 0, "creation_date": 1530751407, "post_id": 51181461, "comment_id": 89346474, "body": "Ok . I guess I should elaborate a bit further. My Python script just simulates what I would see the output as. So, going into the Python script and writing to a file wouldn&#39;t solve my problem. What I need to do is read from the batch file which produces these 3 lines every 5 seconds and log them to a .txt file"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 23, "user_id": 10001335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V_AJrIS5LNo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq12xeegweQ6w57t_hL9AjD8CYZtFA/mo/photo.jpg?sz=128", "display_name": "Arthur Buczynski", "link": "https://stackoverflow.com/users/10001335/arthur-buczynski"}, "edited": false, "score": 0, "creation_date": 1530751572, "post_id": 51181461, "comment_id": 89346501, "body": "@ArthurBuczynski Please edit your question to be closer to what you\u2019re actually asking, and to have enough information to be answerable. But if I can take a wild guess: you\u2019re probably running the batch script with <code>os.system</code>? If you read the docs for that function, it will explain that you want to use the <code>subprocess</code> module instead, and link you to the right place to find explanations and examples. I could find you a duplicate question here that covers the same ground, but in this case, the actual docs are a whole lot better."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 0, "last_activity_date": 1530743941, "creation_date": 1530743941, "answer_id": 51181461, "question_id": 51181411, "link": "https://stackoverflow.com/questions/51181411/reading-output-from-batch-file-which-runs-a-python-script/51181461#51181461", "title": "Reading output from batch file which runs a Python script", "body": "<blockquote>\n  <p>Is there a way for me to log these every 5 seconds to a single .txt file?</p>\n</blockquote>\n\n<p>Yes. Two and a half ways, in fact.</p>\n\n<hr>\n\n<p>First, you can modify the Python script to write to a text file instead of stdout:</p>\n\n<pre><code>with open('logfile.txt', 'w') as f:\n    while True:\n        print(\"Some Data\", file=f)\n        print(\"More Data\", file=f)\n        print(\"Some More Data\", file=f)\n\n        time.sleep(5)\n</code></pre>\n\n<hr>\n\n<p>Or, if you want to be able to pass it a filename instead of hardcoding <code>logfile.txt</code>:</p>\n\n<pre><code>import sys\n\nfilnename = sys.argv[1]\nwith open(filename, 'w') as f:\n    while True:\n        print(\"Some Data\", file=f)\n        print(\"More Data\", file=f)\n        print(\"Some More Data\", file=f)\n\n        time.sleep(5)\n</code></pre>\n\n<p>Now your batch file would do this:</p>\n\n<pre><code>py myscript.py logfile.txt\n</code></pre>\n\n<hr>\n\n<p>Of course in both of these cases, you don't have to use the <code>file=</code> argument to <code>print</code>; you could instead use <code>f.write(\"Some Data\\n\")</code> directly if you need more control over the file, or use <a href=\"https://docs.python.org/3/howto/logging.html#logging-basic-tutorial\" rel=\"nofollow noreferrer\">the <code>logging</code> module</a> to magically do fancier logging (e.g., with automatic timestamps).</p>\n\n<hr>\n\n<p>Alternatively, you can leave the Python script alone, and instead modify the batch file to use <a href=\"https://support.microsoft.com/en-us/help/110930/redirecting-error-messages-from-command-prompt-stderr-stdout\" rel=\"nofollow noreferrer\">shell redirection</a>:</p>\n\n<pre><code>py myscript.py &gt;logfile.txt\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10001335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V_AJrIS5LNo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq12xeegweQ6w57t_hL9AjD8CYZtFA/mo/photo.jpg?sz=128", "display_name": "Arthur Buczynski", "link": "https://stackoverflow.com/users/10001335/arthur-buczynski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1630, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530743941, "creation_date": 1530743475, "question_id": 51181411, "link": "https://stackoverflow.com/questions/51181411/reading-output-from-batch-file-which-runs-a-python-script", "title": "Reading output from batch file which runs a Python script", "body": "<p>I have a batch file which runs a Python script. This script simulates data that is printed 3 lines at a time every 5 seconds. Below is the simple code I have.</p>\n\n<pre><code>while True:\n    print(\"Some Data\")\n    print(\"More Data\")\n    print(\"Some More Data\")\n\n    time.sleep(5)\n</code></pre>\n\n<p>So, when running the batch file, these 3 lines are printed every 5 seconds in cmd. Is there a way for me to log these every 5 seconds to a single .txt file?</p>\n"}, {"tags": ["python", "machine-learning", "neural-network", "keras", "linear-regression"], "answers": [{"comments": [{"owner": {"reputation": 199, "user_id": 9433891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd7c89a26a365d580abaa40024b97a7?s=128&d=identicon&r=PG&f=1", "display_name": "mathnoob123", "link": "https://stackoverflow.com/users/9433891/mathnoob123"}, "edited": false, "score": 0, "creation_date": 1530754560, "post_id": 51182121, "comment_id": 89346971, "body": "I have provided an data for which literally a straight line fits perfectly. Hence the expected loss should be 0. But by this computation, the loss is oscillates around 0.015. Is this an inherent problem of the model or it can be perfected to get better values?"}, {"owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "reply_to_user": {"reputation": 199, "user_id": 9433891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd7c89a26a365d580abaa40024b97a7?s=128&d=identicon&r=PG&f=1", "display_name": "mathnoob123", "link": "https://stackoverflow.com/users/9433891/mathnoob123"}, "edited": false, "score": 1, "creation_date": 1530755201, "post_id": 51182121, "comment_id": 89347054, "body": "@mathnoob123 It is due to the method of optimization of neural networks, which is gradient based and gradual, and also due to the optimizer used. I guess since your case is a simple one you may get better results using a less sophisticated optimizer such as simple stochastic gradient method, i.e. <code>optimizers.SGD()</code> with a learning rate of <code>lr=0.1</code>. I guess after 200 epochs you would reach a loss of around <code>1e-4</code> or <code>1e-5</code> by using SGD. But as the optimization process is gradual and step by step, rather than definite, don&#39;t expect to reach an exact loss of zero."}], "tags": [], "owner": {"reputation": 26720, "user_id": 2099607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9208c4a1df963917bd2957c207fe519?s=128&d=identicon&r=PG", "display_name": "today", "link": "https://stackoverflow.com/users/2099607/today"}, "is_accepted": true, "score": 7, "last_activity_date": 1530754196, "last_edit_date": 1530754196, "creation_date": 1530751645, "answer_id": 51182121, "question_id": 51181393, "link": "https://stackoverflow.com/questions/51181393/simple-linear-regression-using-keras/51182121#51182121", "title": "Simple Linear Regression using Keras", "body": "<p>You should increase the learning rate of optimizer. The default value of learning rate in <code>RMSprop</code> optimizer is set to <code>0.001</code>, therefore the model takes a few hundred epochs to converge to a final solution (probably you have noticed this yourself that the loss value decreases slowly as shown in the training log). To set the learning rate import <code>optimizers</code> module:</p>\n\n<pre><code>from keras import optimizers\n\n# ...\nmodel.compile(optimizer=optimizers.RMSprop(lr=0.1), loss='mean_squared_error', metrics=['mae'])\n</code></pre>\n\n<p>Either of <code>0.01</code> or <code>0.1</code> should work fine. After this modification you may not need to train the model for 200 epochs. Even 5, 10 or 20 epochs may be enough. </p>\n\n<p>Also note that you are performing a regression task (i.e. predicting real numbers) and <code>'accuracy'</code> as metric is used when you are performing a classification task (i.e. predicting discrete labels like category of an image). Therefore, as you can see above, I have replaced it with <code>mae</code> (i.e. mean absolute error) which is also much more interpretable than the value of loss (i.e. mean squared error) used here.</p>\n"}, {"comments": [{"owner": {"reputation": 1667, "user_id": 1329739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41830c0600e277c0c3e0c956eb1716cb?s=128&d=identicon&r=PG", "display_name": "dturvene", "link": "https://stackoverflow.com/users/1329739/dturvene"}, "edited": false, "score": 0, "creation_date": 1565033393, "post_id": 56919528, "comment_id": 101216251, "body": "Im using TF2. This seems to work better for me than the accepted answer."}, {"owner": {"reputation": 68, "user_id": 11654229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d55fed791b0a4629108ce1faca035bc?s=128&d=identicon&r=PG&f=1", "display_name": "Kunam", "link": "https://stackoverflow.com/users/11654229/kunam"}, "reply_to_user": {"reputation": 1667, "user_id": 1329739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41830c0600e277c0c3e0c956eb1716cb?s=128&d=identicon&r=PG", "display_name": "dturvene", "link": "https://stackoverflow.com/users/1329739/dturvene"}, "edited": false, "score": 0, "creation_date": 1566528466, "post_id": 56919528, "comment_id": 101692999, "body": "I hope u got it."}], "tags": [], "owner": {"reputation": 68, "user_id": 11654229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d55fed791b0a4629108ce1faca035bc?s=128&d=identicon&r=PG&f=1", "display_name": "Kunam", "link": "https://stackoverflow.com/users/11654229/kunam"}, "is_accepted": false, "score": 1, "last_activity_date": 1562478122, "last_edit_date": 1592644375, "creation_date": 1562476351, "answer_id": 56919528, "question_id": 51181393, "link": "https://stackoverflow.com/questions/51181393/simple-linear-regression-using-keras/56919528#56919528", "title": "Simple Linear Regression using Keras", "body": "<blockquote>\n<p>The below code best fits for your data.</p>\n<p>Take a look at this.</p>\n</blockquote>\n<pre><code>from pylab import *\nfrom keras.models import Sequential\nfrom keras.layers import Dense\nimport matplotlib.pyplot as plt\n%matplotlib inline\n</code></pre>\n<p>\u200b# Generate dummy data</p>\n<pre><code>data = data = linspace(1,2,100).reshape(-1,1)\ny = data*5\n</code></pre>\n<p>\u200b    # Define the model</p>\n<pre><code>def baseline_model():\n    global num_neurons\n    model = Sequential()\n    model.add(Dense(num_neurons, activation = 'linear', input_dim = 1))\n    model.add(Dense(1 , activation = 'linear'))\n    model.compile(optimizer = 'rmsprop', loss = 'mean_squared_error')\n    return model\n</code></pre>\n<h1>set num_neurons in first dense layer</h1>\n<p>** You may change it later</p>\n<pre><code>num_neurons = 17\n</code></pre>\n<p>\u200b\n\u200b#Use the model</p>\n<pre><code>regr = baseline_model()\nregr.fit(data,y,epochs =200, verbose = 0)\nplot(data, regr.predict(data), 'bo', data,y, 'k-')\n</code></pre>\n<blockquote>\n<p>the first plot with num_neurons = 17 , is good fit.</p>\n<p>But even we can explore more.</p>\n<p>click on the links below to see the plots</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/BtAMH.png\" rel=\"nofollow noreferrer\">Plot for num_neurons = 12</a></p>\n<p><a href=\"https://i.stack.imgur.com/YOeis.png\" rel=\"nofollow noreferrer\">Plot for num_neurons = 17 </a></p>\n<p><a href=\"https://i.stack.imgur.com/Y34dT.png\" rel=\"nofollow noreferrer\">Plot for num_neurons = 19</a></p>\n<p><a href=\"https://i.stack.imgur.com/qsXjL.png\" rel=\"nofollow noreferrer\">Plot for num_neurons = 20</a></p>\n<p>You can see that , as we increase the num of neurons</p>\n<p>our model is becoming more intelligent.\nand best fit.</p>\n<blockquote>\n<p>I hope you got it.</p>\n<p>Thank you</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1667, "user_id": 1329739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41830c0600e277c0c3e0c956eb1716cb?s=128&d=identicon&r=PG", "display_name": "dturvene", "link": "https://stackoverflow.com/users/1329739/dturvene"}, "is_accepted": false, "score": 1, "last_activity_date": 1568146399, "creation_date": 1568146399, "answer_id": 57877630, "question_id": 51181393, "link": "https://stackoverflow.com/questions/51181393/simple-linear-regression-using-keras/57877630#57877630", "title": "Simple Linear Regression using Keras", "body": "<p>Interesting problem, so I plugged the dataset into a model-builder framework I wrote.  The framework has two callbacks: EarlyStopping callback for 'loss' and Tensorboard for analysis.  I removed the 'metric' attribute from the model compile - unnecessary, and should be 'mae' anyways.</p>\n\n<p>@mathnoob123 model as written and learning rate(lr) = 0.01 had a loss=1.2623e-06 in 2968 epochs</p>\n\n<p>BUT the same model replacing the RMSprop optimizer with Adam was most accurate with loss=1.22e-11 in 2387 epochs.</p>\n\n<p>The best compromise I found was @mathnoob123 model using lr=0.01 results in loss=1.5052e-4 in 230 epochs.  This is better than @Kunam's model with 20 nodes in the first dense layer with lr=0.001: loss=3.1824e-4 in 226 epochs.</p>\n\n<p>Now I'm going to look at randomizing the label dataset (y) and see what happens....</p>\n"}], "owner": {"reputation": 199, "user_id": 9433891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebd7c89a26a365d580abaa40024b97a7?s=128&d=identicon&r=PG&f=1", "display_name": "mathnoob123", "link": "https://stackoverflow.com/users/9433891/mathnoob123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4326, "favorite_count": 0, "accepted_answer_id": 51182121, "answer_count": 3, "score": 5, "last_activity_date": 1568146399, "creation_date": 1530743251, "last_edit_date": 1530752857, "question_id": 51181393, "link": "https://stackoverflow.com/questions/51181393/simple-linear-regression-using-keras", "title": "Simple Linear Regression using Keras", "body": "<p>I have been trying to implement a simple linear regression model using neural networks in Keras in hopes to understand how do we work in Keras library. Unfortunately, I am ending up with a very bad model. Here is the implementation:</p>\n\n<pre><code>from pylab import *\nfrom keras.models import Sequential\nfrom keras.layers import Dense\n\n#Generate dummy data\ndata = data = linspace(1,2,100).reshape(-1,1)\ny = data*5\n\n#Define the model\ndef baseline_model():\n   model = Sequential()\n   model.add(Dense(1, activation = 'linear', input_dim = 1))\n   model.compile(optimizer = 'rmsprop', loss = 'mean_squared_error', metrics = ['accuracy'])\n   return model\n\n\n#Use the model\nregr = baseline_model()\nregr.fit(data,y,epochs =200,batch_size = 32)\nplot(data, regr.predict(data), 'b', data,y, 'k.')\n</code></pre>\n\n<p>The generated plot is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8QyyE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8QyyE.png\" alt=\"Plot\"></a></p>\n\n<p>Can somebody point out the flaw in the above definition of the model (which could ensure a better fit)?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql"], "answers": [{"tags": [], "owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "is_accepted": true, "score": 4, "last_activity_date": 1530745657, "last_edit_date": 1530745657, "creation_date": 1530745307, "answer_id": 51181610, "question_id": 51181384, "link": "https://stackoverflow.com/questions/51181384/sum-of-a-pyspark-dataframe-column-containing-dictionaries/51181610#51181610", "title": "sum of a pyspark dataframe column containing dictionaries", "body": "<p><code>pyspark.sql.types</code> are schema descriptors, not collections or external language representations so cannot be used with <code>fold</code> or <code>Accumulator</code>.</p>\n\n<p>The most straightforward solution is to <code>explode</code> and aggregate</p>\n\n<pre><code>from pyspark.sql.functions import explode\n\ndf = spark.createDataFrame(\n    [{'a': 1, 'b': 2, 'c': 3}, {'a': 2, 'b': 4, 'd': 6}], \n    \"map&lt;string,integer&gt;\"\n).toDF(\"Maps\")\n\ndf.select(explode(\"Maps\")).groupBy(\"key\").sum(\"value\").rdd.collectAsMap()\n# {'d': 6, 'c': 3, 'b': 6, 'a': 3}  \n</code></pre>\n\n<p>With <code>RDD</code> you can do a similar thing:</p>\n\n<pre><code>from operator import add\n\ndf.rdd.flatMap(lambda row: row.Maps.items()).reduceByKey(add).collectAsMap()\n# {'b': 6, 'c': 3, 'a': 3, 'd': 6}\n</code></pre>\n\n<p>or if you really want <code>fold</code></p>\n\n<pre><code>from operator import attrgetter\nfrom collections import defaultdict\n\ndef merge(acc, d):\n    for k in d:\n        acc[k] += d[k]\n    return acc\n\ndf.rdd.map(attrgetter(\"Maps\")).fold(defaultdict(int), merge)\n# defaultdict(int, {'a': 3, 'b': 6, 'c': 3, 'd': 6})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 1, "last_activity_date": 1530810605, "last_edit_date": 1530810605, "creation_date": 1530807208, "answer_id": 51195896, "question_id": 51181384, "link": "https://stackoverflow.com/questions/51181384/sum-of-a-pyspark-dataframe-column-containing-dictionaries/51195896#51195896", "title": "sum of a pyspark dataframe column containing dictionaries", "body": "\n\n<p>@user8371915's <a href=\"https://stackoverflow.com/a/51181610/5858851\">answer</a> using <code>explode</code> is more generic, but here's another approach that may be faster if you knew the keys ahead of time:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import pyspark.sql.functions as f\nmyKeys = ['a', 'b', 'c', 'd']\ndf.select(*[f.sum(f.col('Maps').getItem(k)).alias(k) for k in myKeys]).show()\n#+---+---+---+---+\n#|  a|  b|  c|  d|\n#+---+---+---+---+\n#|  3|  6|  3|  6|\n#+---+---+---+---+\n</code></pre>\n\n<p>And if you wanted the result in a <code>MapType()</code>, you could use <code>pyspark.sql.functions.create_map</code> like:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from itertools import chain\ndf.select(\n    f.create_map(\n        list(\n            chain.from_iterable(\n                [[f.lit(k), f.sum(f.col('Maps').getItem(k))] for k in myKeys]\n            )\n        )\n    ).alias(\"Maps\")\n).show(truncate=False)\n#+-----------------------------------+\n#|Maps                               |\n#+-----------------------------------+\n#|Map(a -&gt; 3, b -&gt; 6, c -&gt; 3, d -&gt; 6)|\n#+-----------------------------------+\n</code></pre>\n"}], "owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 51181610, "answer_count": 2, "score": 1, "last_activity_date": 1530810605, "creation_date": 1530743156, "last_edit_date": 1530746287, "question_id": 51181384, "link": "https://stackoverflow.com/questions/51181384/sum-of-a-pyspark-dataframe-column-containing-dictionaries", "title": "sum of a pyspark dataframe column containing dictionaries", "body": "<p>I have a dataframe containing only one column which has elements of the type <code>MapType(StringType(), IntegerType())</code>. I would like to obtain the cumulative sum of that column, where the <code>sum</code> operation would mean adding two dictionaries.</p>\n\n<p><strong>Minimal example</strong> </p>\n\n<pre><code>a = [{'Maps': ({'a': 1, 'b': 2, 'c': 3})}, {'Maps': ({'a': 2, 'b': 4, 'd': 6})}]\ndf = spark.createDataFrame(a)\ndf.show(5, False)\n\n+---------------------------+\n|Maps                       |\n+---------------------------+\n|Map(a -&gt; 1, b -&gt; 2, c -&gt; 3)|\n|Map(a -&gt; 2, b -&gt; 4, d -&gt; 6)|\n+---------------------------+\n</code></pre>\n\n<p>If I were to obtain the cumulative sum of the column <code>Maps</code>, I should get the following result.</p>\n\n<pre><code>+-----------------------------------+\n|Maps                               |\n+-----------------------------------+\n|Map(a -&gt; 3, b -&gt; 6, c -&gt; 3, d -&gt; 6)|\n+-----------------------------------+\n</code></pre>\n\n<p>P. S. I am using Python 2.6, so <code>collections.Counter</code> is not available. I can probably install it if absolutely necessary.</p>\n\n<p><strong>My attempts:</strong></p>\n\n<p>I have tried an <code>accumulator</code> based approach and an approach that uses <code>fold</code>.</p>\n\n<p><strong>Accumulator</strong></p>\n\n<pre><code>def addDictFun(x):\n    global v\n    v += x\n\nclass DictAccumulatorParam(AccumulatorParam):\n    def zero(self, d):\n        return d\n    def addInPlace(self, d1, d2):\n        for k in d1:\n            d1[k] = d1[k] + (d2[k] if k in d2 else 0)\n        for k in d2:\n            if k not in d1:\n                d1[k] = d2[k]\n        return d1\n\nv = sc.accumulator(MapType(StringType(), IntegerType()), DictAccumulatorParam())\ncumsum_dict = df.rdd.foreach(addDictFun)\n</code></pre>\n\n<p>Now at the end, I should have the resulting dictionary in <code>v</code>. Instead, I get the error <code>MapType</code> is not iterable (mostly on the line <code>for k in d1</code> in the function <code>addInPlace</code>).</p>\n\n<p><strong>rdd.fold</strong></p>\n\n<p>The <code>rdd.fold</code> based approach is as follows:</p>\n\n<pre><code>def add_dicts(d1, d2):\n    for k in d1:\n        d1[k] = d1[k] + (d2[k] if k in d2 else 0)\n    for k in d2:\n        if k not in d1:\n            d1[k] = d2[k]\n    return d1\n\ncumsum_dict = df.rdd.fold(MapType(StringType(), IntegerType()), add_dicts)\n</code></pre>\n\n<p>However, I get the same <code>MapType is not iterable</code> error here. Any idea where I am going wrong?</p>\n"}, {"tags": ["python", "python-3.x", "while-loop", "sentinel"], "answers": [{"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1530743581, "creation_date": 1530743581, "answer_id": 51181420, "question_id": 51181371, "link": "https://stackoverflow.com/questions/51181371/sentinel-values-with-while-loop/51181420#51181420", "title": "Sentinel values with while loop", "body": "<p>If you want all of the inputs to be able to detect the sentinel value, you can use a custom input function that raises a <code>RuntimeError</code> (or a custom exception of your own) and handle the exception in a uniform way.</p>\n\n<pre><code>def main():\n    def get_input(prompt):\n        i = input(prompt)\n        if i == '-1':\n            raise RuntimeError()\n        return i\n    cont = \"y\"\n    while cont.lower() == \"y\":\n        try:\n            income = float(get_input(\"Please enter the annual household income:\"))\n            children = int(get_input(\"How many children live in the house?\"))\n            amountAssistance = assistanceTotal(income, children)\n            print(\"For a household making\", income, \"per year with\", children, \" children the amount of assistance would be\", amountAssistance)\n            cont = input(\"Would you like to run this again? (Y/N)\")\n        except RuntimeError:\n            print(\"Done.\")\n            break\n        except:\n            print(\"Something went wrong.\")\n            print(\"Did you enter a whole number of children?\")\n            cont = input(\"Would you like to try again? (Y/N)\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "is_accepted": false, "score": 0, "last_activity_date": 1530745751, "last_edit_date": 1530745751, "creation_date": 1530745447, "answer_id": 51181629, "question_id": 51181371, "link": "https://stackoverflow.com/questions/51181371/sentinel-values-with-while-loop/51181629#51181629", "title": "Sentinel values with while loop", "body": "<p>Generally you would use the <code>sentinel</code> to exit the loop, in this case entering <code>-1</code> for <code>income</code>, e.g.:</p>\n\n<pre><code>while True:\n    try:\n        income = int(input(\"Please enter the annual household income (-1 to exit):\"))\n        if income == -1:\n            break\n        children = int(input(\"How many children live in the house?\"))\n        amountAssistance = assistanceTotal(income, children)\n        print(\"For a household making\", income, \"per year with\", children, \" children the amount of assistance would be\", amountAssistance)\n    except ValueError:\n        print(\"Something went wrong.\")\n        print(\"Did you enter a whole number of children?\")\n</code></pre>\n\n<p>NB 1: given the sentinel is <code>-1</code> and all of the tests for <code>income</code> are against <code>int</code>s I would suggest keeping <code>income</code> an <code>int</code>.<br>\nNB 2: it is best to catch explicit exceptions, e.g. <code>ValueError</code> vs a catch-all <code>except:</code> clause</p>\n"}], "owner": {"reputation": 47, "user_id": 9980640, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cqkVC3L1nbY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1JoCH-itquopT0JQfZfEfeLAgZmw/mo/photo.jpg?sz=128", "display_name": "OzzyPyro", "link": "https://stackoverflow.com/users/9980640/ozzypyro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1353, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1530745751, "creation_date": 1530743044, "last_edit_date": 1530745217, "question_id": 51181371, "link": "https://stackoverflow.com/questions/51181371/sentinel-values-with-while-loop", "title": "Sentinel values with while loop", "body": "<p>The program I'm writing is to use a given formula to calculate financial assistance for families that loops back and asks the user if they want to do it for another family. Part of the instructs was also to use -1 as a sentinel value for the input. Here is what I have at the moment:</p>\n\n<pre><code>def main():\ncont = \"y\"\nwhile cont.lower() == \"y\":\n    try:\n        income = float(input(\"Please enter the annual household income:\"))\n        children = int(input(\"How many children live in the house?\"))\n        amountAssistance = assistanceTotal(income, children)\n        print(\"For a household making\", income, \"per year with\", children, \" children the amount of assistance would be\", amountAssistance)\n        cont = input(\"Would you like to run this again? (Y/N)\")\n    except:\n        print(\"Something went wrong.\")\n        print(\"Did you enter a whole number of children?\")\n        cont = input(\"Would you like to try again? (Y/N)\")\n\ndef assistanceTotal(money, kids):\n    if (money &gt;= 30000 and money &lt;= 40000) and kids &gt;= 3:\n        moneyTotal = 1000 * kids\n        return moneyTotal\n    if (money &gt;= 20000 and money &lt;= 30000) and kids &gt;= 2:\n        moneyTotal = 1500 * kids\n        return moneyTotal\n    if money &lt; 20000:\n        moneyTotal = 2000 * kids\n        return moneyTotal\nmain()\n</code></pre>\n\n<p>I've tried looking up info on using sentinel values with loops like this but I haven't been able to quite grasp if how I'm thinking of using it is correct. For this type of a situation would I need one sentinel value or two, one for income and one for children? I think I would also need to alter my cont statements and change how it reacts if they type in a -1. Any help is appreciated even if it is just directing me to accurate info on how to use sentinels.</p>\n\n<p>Edit to add another sort of follow up question:\nDo sentinel values have to be numbers or are they most commonly numbers? What is the difference between having a continue portion using yes/no inputs to using sentinel values? For an example: In my text book it shows using a sentinel to stop the loop by asking for either an input of an integer or enter -1 to exit, is this not the same thing as asking continue Y/N?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 12061, "user_id": 6415268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hHWNQ.png?s=128&g=1", "display_name": "j_4321", "link": "https://stackoverflow.com/users/6415268/j-4321"}, "edited": false, "score": 0, "creation_date": 1530790835, "post_id": 51181368, "comment_id": 89362427, "body": "As far as I know there is no option to set the tab size of the ttk.Notebook."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 1427471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace850c970f9bc1b294649d0e569a616?s=128&d=identicon&r=PG", "display_name": "rengel", "link": "https://stackoverflow.com/users/1427471/rengel"}, "edited": false, "score": 0, "creation_date": 1535555991, "post_id": 52078899, "comment_id": 91112082, "body": "As an afterthought: Of course, this is just another way to add space to the text, so it doesn&#39;t quite answer your question. But then: it works."}, {"owner": {"reputation": 70, "user_id": 9442659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46d2c963e2844592204671b55465464?s=128&d=identicon&r=PG&f=1", "display_name": "wscheib", "link": "https://stackoverflow.com/users/9442659/wscheib"}, "edited": false, "score": 0, "creation_date": 1552972006, "post_id": 52078899, "comment_id": 97201580, "body": "Do you mind explaining why this works/what you&#39;re doing? I&#39;m a bit lost..."}, {"owner": {"reputation": 383, "user_id": 1427471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace850c970f9bc1b294649d0e569a616?s=128&d=identicon&r=PG", "display_name": "rengel", "link": "https://stackoverflow.com/users/1427471/rengel"}, "reply_to_user": {"reputation": 70, "user_id": 9442659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46d2c963e2844592204671b55465464?s=128&d=identicon&r=PG&f=1", "display_name": "wscheib", "link": "https://stackoverflow.com/users/9442659/wscheib"}, "edited": false, "score": 0, "creation_date": 1555565097, "post_id": 52078899, "comment_id": 98156447, "body": "notebook treats the whole string (including trailing spaces) passed in as the title of the tab."}], "tags": [], "owner": {"reputation": 383, "user_id": 1427471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace850c970f9bc1b294649d0e569a616?s=128&d=identicon&r=PG", "display_name": "rengel", "link": "https://stackoverflow.com/users/1427471/rengel"}, "is_accepted": false, "score": 1, "last_activity_date": 1535550958, "last_edit_date": 1535550958, "creation_date": 1535550125, "answer_id": 52078899, "question_id": 51181368, "link": "https://stackoverflow.com/questions/51181368/changing-width-of-notebook-tab-in-tkinter-without/52078899#52078899", "title": "Changing width of notebook tab in tkinter without", "body": "<p>Use string formatting, when defining the text of your tabs:</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import ttk\n\nroot = tk.Tk()\nnotebook = ttk.Notebook(root)\n\nf1 = tk.Frame(notebook, bg='red', width=200, height=200)\nf2 = tk.Frame(notebook, bg='blue', width=200, height=200)\n\nnotebook.add(f1, text=f'{\"frame 1\": ^20s}')\nnotebook.add(f2, text=f'{\"frame 2 longer\": ^20s}')\n\nnotebook.grid(row=0, column=0, sticky=\"nw\")\nroot.mainloop()\n</code></pre>\n\n<p>Instead of '20' use a size of your choice.\nBe careful to use the correct quote characters:</p>\n\n<pre><code>f'{\"something\": ^20s}'\n</code></pre>\n\n<p>or the other way round:</p>\n\n<pre><code>f\"{'something': ^20s}\"\n</code></pre>\n"}], "owner": {"reputation": 2052, "user_id": 9749124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96bc792b252c540523faea0fb803cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "taga", "link": "https://stackoverflow.com/users/9749124/taga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1985, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1535550958, "creation_date": 1530742994, "last_edit_date": 1530779014, "question_id": 51181368, "link": "https://stackoverflow.com/questions/51181368/changing-width-of-notebook-tab-in-tkinter-without", "title": "Changing width of notebook tab in tkinter without", "body": "<p>Is it possible to change width of notebooks tabs in tkinter without just entering <code>space</code> in the name of the tab? I have tried to put width but I didnt succeed.\nIs there any option like <code>tabwidht</code> or something like that, so that I can have fixed size of tab?</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import ttk\n\nroot = tk.Tk()\n\nstyle = ttk.Style(root)\nstyle.configure('lefttab.TNotebook', tabposition='wn',width=80)\n\nnotebook = ttk.Notebook(root, style='lefttab.TNotebook')\n\nf1 = tk.Frame(notebook, bg='red', width=200, height=200)\nf2 = tk.Frame(notebook, bg='blue', width=200, height=200)\n\nnotebook.add(f1, text=\"frame 1\")\nnotebook.add(f2, text=\"frame 2 longer\")\n\nnotebook.grid(row=0, column=0, sticky=\"nw\")\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "scrapy"], "comments": [{"owner": {"reputation": 102, "user_id": 6623394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CbuTqMTQ_io/AAAAAAAAAAI/AAAAAAAAABg/v58Nm4a26jM/photo.jpg?sz=128", "display_name": "jirarium", "link": "https://stackoverflow.com/users/6623394/jirarium"}, "edited": false, "score": 0, "creation_date": 1530757138, "post_id": 51181348, "comment_id": 89347327, "body": "Maybe using  <a href=\"https://docs.python.org/2/library/threading.html\" rel=\"nofollow noreferrer\">Threads</a> ."}], "answers": [{"tags": [], "owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "is_accepted": true, "score": 1, "last_activity_date": 1530757472, "last_edit_date": 1530757472, "creation_date": 1530757172, "answer_id": 51182601, "question_id": 51181348, "link": "https://stackoverflow.com/questions/51181348/how-do-i-run-multiple-scrapy-spiders-that-each-scrape-a-different-url/51182601#51182601", "title": "How do I run multiple Scrapy spiders that each scrape a different URL?", "body": "<p>Scrapy doesn't support running multiple spiders as a single process, so you'd simply run two processes:</p>\n\n<pre><code>scrapy crawl s1 -o s1.json\nscrapy crawl s2 -o s2.json\n</code></pre>\n\n<p>if you want to do it in the same terminal window you'd have to either: </p>\n\n<ul>\n<li>run 1st spider -> put it to background (ctrl+z) -> run 2nd spider</li>\n<li><p>use <code>nohup</code>, e.g.:  </p>\n\n<pre><code>nohup scrapy crawl s1 -o s1.json --logfile s1.log &amp;\n</code></pre></li>\n<li><p>use <code>screen</code> command.</p>\n\n<pre><code>$ screen\n$ scrapy crawl s1 -o s1.json\n$ ctrl+a ctrL+d  # detach screen\n$ screen\n$ scrapy crawl s2 -o s2.json\n$ ctrl+a ctrL+d  # detach screen\n$ screen -r  # to reattach to one of your sessions to see how the spider is doing\n</code></pre></li>\n</ul>\n\n<p>Personally I prefer nohup or screen options as they are clean and do not mess up your terminal with logging and whatnot.</p>\n"}], "owner": {"reputation": 2635, "user_id": 1435711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9fac7fe4c7290024faee8bfe6367f130?s=128&d=identicon&r=PG", "display_name": "Username", "link": "https://stackoverflow.com/users/1435711/username"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 51182601, "answer_count": 1, "score": 0, "last_activity_date": 1530757472, "creation_date": 1530742790, "last_edit_date": 1530756938, "question_id": 51181348, "link": "https://stackoverflow.com/questions/51181348/how-do-i-run-multiple-scrapy-spiders-that-each-scrape-a-different-url", "title": "How do I run multiple Scrapy spiders that each scrape a different URL?", "body": "<p>I have a <code>spiders.py</code> in a Scrapy project with the following spiders...</p>\n\n<pre><code>class OneSpider(scrapy.Spider):\n    name = \"s1\"\n\n    def start_requests(self):\n        urls = [\"url1.com\",]\n        yield scrapy.Request(\n            url=\"http://url1.com\",\n            callback=self.parse\n        )\n\n    def parse(self,response):\n        ## Scrape stuff, put it in a dict\n        yield dictOfScrapedStuff\n\nclass TwoSpider(scrapy.Spider):\n    name = \"s2\"\n\n    def start_requests(self):\n        urls = [\"url2.com\",]\n        yield scrapy.Request(\n            url=\"http://url2.com\",\n            callback=self.parse\n        )\n\n    def parse(self,response):\n        ## Scrape stuff, put it in a dict\n        yield dictOfScrapedStuff\n</code></pre>\n\n<p>How do I run spiders <code>s1</code> and <code>s2</code>, and write their scraped results to <code>s1.json</code> and <code>s2.json</code>?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1530745662, "post_id": 51181327, "comment_id": 89345541, "body": "Did you mean <code>a=&quot;11010010&quot;</code>? And what is <code>encode</code>?"}, {"owner": {"reputation": 45, "user_id": 10034155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd41bce9b7ae455565f05794675f50bb?s=128&d=identicon&r=PG&f=1", "display_name": "Zie", "link": "https://stackoverflow.com/users/10034155/zie"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1530746318, "post_id": 51181327, "comment_id": 89345654, "body": "it is a, not encode. Sorry for the typo. split=[a[i:i+n] for i in range(0, len(a), n)]  yes..it is a=&quot;11010010&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10034155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd41bce9b7ae455565f05794675f50bb?s=128&d=identicon&r=PG&f=1", "display_name": "Zie", "link": "https://stackoverflow.com/users/10034155/zie"}, "edited": false, "score": 0, "creation_date": 1530755477, "post_id": 51181717, "comment_id": 89347095, "body": "Noted and thank you so much. I will try this code later."}, {"owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "reply_to_user": {"reputation": 45, "user_id": 10034155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd41bce9b7ae455565f05794675f50bb?s=128&d=identicon&r=PG&f=1", "display_name": "Zie", "link": "https://stackoverflow.com/users/10034155/zie"}, "edited": false, "score": 0, "creation_date": 1530755536, "post_id": 51181717, "comment_id": 89347104, "body": "No problem man! If you like my answer, make sure to vote and give best answer as appropriate! (green tick on the left)"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530866528, "post_id": 51181717, "comment_id": 89393474, "body": "In my opinion, this is not recommended if you have multiple <code>if</code> / <code>else</code> conditions. This works for a single replacement but becomes unreadable for multiple."}, {"owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530908345, "post_id": 51181717, "comment_id": 89415421, "body": "@jpp I agree. However, I just don&#39;t know what exact conditions he wants, so going down the list comprehension route at least gives him a starting point."}], "tags": [], "owner": {"reputation": 1202, "user_id": 9937273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJAip.png?s=128&g=1", "display_name": "Don Thousand", "link": "https://stackoverflow.com/users/9937273/don-thousand"}, "is_accepted": true, "score": 0, "last_activity_date": 1530746669, "creation_date": 1530746669, "answer_id": 51181717, "question_id": 51181327, "link": "https://stackoverflow.com/questions/51181327/update-element-in-the-list-in-python/51181717#51181717", "title": "Update element in the list in Python", "body": "<p>This is a pretty unclear question, given that <code>encode</code> isn't a standard python function, and saying that '11'=3*2 doesn't make much sense, but I'll try to point you in the right direction here.</p>\n\n<p>A lot of the <code>if-else</code> looping in Python can be done with <a href=\"http://www.pythonforbeginners.com/basics/list-comprehensions-in-python\" rel=\"nofollow noreferrer\">list comprehensions</a>. These structures allow you to construct lists based on conditions and loops you specify. They tend to have the following structure</p>\n\n<pre><code>[value(i) for i in list if condition else value2(i)]\n</code></pre>\n\n<p>You can try to use this to solve your problem!</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 10034155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd41bce9b7ae455565f05794675f50bb?s=128&d=identicon&r=PG&f=1", "display_name": "Zie", "link": "https://stackoverflow.com/users/10034155/zie"}, "edited": false, "score": 1, "creation_date": 1530755256, "post_id": 51181845, "comment_id": 89347062, "body": "This is very helpful. Thank you so much. ;)"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1530748189, "creation_date": 1530748189, "answer_id": 51181845, "question_id": 51181327, "link": "https://stackoverflow.com/questions/51181327/update-element-in-the-list-in-python/51181845#51181845", "title": "Update element in the list in Python", "body": "<blockquote>\n  <p>The problem is the list need to updated automatically based on the\n  value of the elements.</p>\n</blockquote>\n\n<p>Setting aside the rest of your question, which to me is unclear, you can achieve this goal via a dictionary. First define a dictionary mapping:</p>\n\n<pre><code>d = {'11': 6, '01': 28, '00': 30, '10': 32}\n</code></pre>\n\n<p>Then, using <code>map</code> or a list comprehension, apply the mapping to the elements of your list:</p>\n\n<pre><code># map\nres = list(map(d.get, split))\n\n# list comprehension\nres = [d[i] for i in split]\n\nprint(res)\n\n[6, 28, 30, 32, 28, 32, 6]\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10034155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd41bce9b7ae455565f05794675f50bb?s=128&d=identicon&r=PG&f=1", "display_name": "Zie", "link": "https://stackoverflow.com/users/10034155/zie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 445, "favorite_count": 0, "accepted_answer_id": 51181717, "answer_count": 2, "score": 0, "last_activity_date": 1530845574, "creation_date": 1530742660, "last_edit_date": 1530845574, "question_id": 51181327, "link": "https://stackoverflow.com/questions/51181327/update-element-in-the-list-in-python", "title": "Update element in the list in Python", "body": "<p>I have a list of binary number, its about 100 elements in a list:</p>\n\n<pre><code>a='11010010'\nn = 2\nsplit=[a[i:i+n] for i in range(0, len(a), n)]\n</code></pre>\n\n<p>The result showing like this:</p>\n\n<pre><code>split =['11', '01', '00', '10', '01', '10', '11'.....]\n</code></pre>\n\n<p>My question is how to assign if else looping for my list? The problem is the list need to updated automatically based on the value of the elements.</p>\n\n<p>For example, if <code>'11'=3*2, '01'=7*4, '00'=5*6, '10'=4*8</code></p>\n\n<p>And I want my result updated to this:</p>\n\n<pre><code>split =[6,28,30,32,28,32, 6 .....]\n</code></pre>\n\n<p>Thanks a lot! ;)</p>\n"}, {"tags": ["python", "interpreter", "built-in", "bnf"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1530743134, "post_id": 51181325, "comment_id": 89345138, "body": "<code>foo</code> is a valid Python expressions. Functions are just another type of object. Try it in the interpreter"}], "answers": [{"tags": [], "owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "is_accepted": false, "score": 4, "last_activity_date": 1530742904, "creation_date": 1530742904, "answer_id": 51181363, "question_id": 51181325, "link": "https://stackoverflow.com/questions/51181325/python-eval-builtin-function/51181363#51181363", "title": "Python eval() builtin function", "body": "<p>This is a valid Python expression:  <code>foo</code>.  It evaluates to the function.  You can then call it.  This is why <code>foo(1, 2)</code> works.  You can also do this:</p>\n\n<pre><code>x = foo\nx(1, 2)\n</code></pre>\n\n<p>So <code>eval(\"foo\")</code> evaluates to the function foo, which you can then call.</p>\n"}], "owner": {"reputation": 317, "user_id": 2171775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/178a3d84f18fccded4fe3438b0bdd035?s=128&d=identicon&r=PG", "display_name": "user2171775", "link": "https://stackoverflow.com/users/2171775/user2171775"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530742904, "creation_date": 1530742640, "question_id": 51181325, "link": "https://stackoverflow.com/questions/51181325/python-eval-builtin-function", "title": "Python eval() builtin function", "body": "<p>After looking for some reference online I still do not understand how eval() really works, maybe I am missing a key component, hopefully someone can guide me to the right docs or explanation.</p>\n\n<p>Suppose:</p>\n\n<pre><code>def foo(x,y):\n    print(x)\n    print(y)\n</code></pre>\n\n<p>Use eval() to call foo().</p>\n\n<p>Example 1:</p>\n\n<pre><code>eval('foo(1,2)') \n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>eval('foo')(1,2)\n</code></pre>\n\n<p>According to python 3.6 documentation, the way I am calling eval() on example is how it should be done, as I am passing everything as a string, However, for example #2 I still do not understand why python interpreter also evaluates correctly.To me when running eval() on the second example the python interpreter should return a TypeError requiring 2 missing arguments. I am hoping if someone can point me in the right direction.</p>\n"}, {"tags": ["python", "flask", "wtforms"], "comments": [{"owner": {"reputation": 27241, "user_id": 5320906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=128&g=1", "display_name": "snakecharmerb", "link": "https://stackoverflow.com/users/5320906/snakecharmerb"}, "edited": false, "score": 0, "creation_date": 1530899195, "post_id": 51181324, "comment_id": 89411993, "body": "Similar to your answer <a href=\"https://stackoverflow.com/a/51112483/5320906\">stackoverflow.com/a/51112483/5320906</a>"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 10034149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39306d155277b296726bcb775b7db2cd?s=128&d=identicon&r=PG&f=1", "display_name": "SkyTemple", "link": "https://stackoverflow.com/users/10034149/skytemple"}, "is_accepted": false, "score": 1, "last_activity_date": 1530748233, "last_edit_date": 1530748233, "creation_date": 1530747818, "answer_id": 51181817, "question_id": 51181324, "link": "https://stackoverflow.com/questions/51181324/flaskform-pass-a-variable-wtforms/51181817#51181817", "title": "flaskform pass a variable (WTForms)", "body": "<p>So, I still don't have an answer to the question, but I did manage to come up with a solution. </p>\n\n<pre><code>class PostForm(FlaskForm):\n    post = TextAreaField(_l('This no longer matters'), validators=[DataRequired()])\n    submit = SubmitField(_l('Submit'))\n</code></pre>\n\n<p>And then in the routes</p>\n\n<pre><code>from wtforms.fields.core import Label\nform = PostForm()\nform.post.label = Label(\"post\", 'Real question goes here')}\n</code></pre>\n\n<p>The explanation for this is that TextAreaField creates a label attribute on post that is accessible and changable, but it needs to be formated correctly as a Label object from wtforms.fields.core. (Simply reassigning it as a string did not work). The representation of this object is: </p>\n\n<pre><code>&lt;label for=\"post\"&gt;Real question goes here&lt;/label&gt;\n</code></pre>\n\n<p>And it is of type </p>\n\n<pre><code>&lt;class 'wtforms.fields.core.Label'&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 12181022, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Wtv4mMo2dz0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcV14QU38zk5cIi9V2_BADAc0O2Mg/photo.jpg?sz=128", "display_name": "Kyrylo Kundik", "link": "https://stackoverflow.com/users/12181022/kyrylo-kundik"}, "is_accepted": false, "score": 1, "last_activity_date": 1587053058, "creation_date": 1587053058, "answer_id": 61254763, "question_id": 51181324, "link": "https://stackoverflow.com/questions/51181324/flaskform-pass-a-variable-wtforms/61254763#61254763", "title": "flaskform pass a variable (WTForms)", "body": "<p>Today I'm figured out about a similar problem as yours. I wanted to pass a variable to <code>FlaskForm</code>. For a small CV creation app, I want to give the user an opportunity to create more than 1 entry for his work experience and I wanted to do it with <code>FieldList</code> and <code>FormField</code>. And I needed to do it on one page so in one form.</p>\n\n<p>My solution is pretty simple python implementation of factory pattern for forms:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class ConstructorForm(FlaskForm):\n    ...\n    work_experience_form = FieldList(FormField(WorkExperienceForm), min_entries=1, max_entries=1)\n    skills_form = FieldList(FormField(SkillsForm), min_entries=1, max_entries=1)\n    ...\n</code></pre>\n\n<p>And here is my function for building extending forms:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def constructor_form(work_experience_forms=1, skills_forms=1):\n    class _ConstructorForm(ConstructorForm):\n        pass\n\n    _ConstructorForm.work_experience_form = FieldList(\n        FormField(WorkExperienceForm), min_entries=work_experience_forms, max_entries=work_experience_forms\n    )\n    _ConstructorForm.skills_form = FieldList(\n        FormField(SkillsForm), min_entries=skills_forms, max_entries=skills_forms\n    )\n\n    return _ConstructorForm()\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 10034149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39306d155277b296726bcb775b7db2cd?s=128&d=identicon&r=PG&f=1", "display_name": "SkyTemple", "link": "https://stackoverflow.com/users/10034149/skytemple"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1587053058, "creation_date": 1530742635, "last_edit_date": 1530749406, "question_id": 51181324, "link": "https://stackoverflow.com/questions/51181324/flaskform-pass-a-variable-wtforms", "title": "flaskform pass a variable (WTForms)", "body": "<p>I want to pass a str to be used as the prompt for a form. I thought it would be simple but it is proving to be difficult. </p>\n\n<p>Here is my code: </p>\n\n<pre><code>class PostForm(FlaskForm):\n    post = TextAreaField(Question, validators=[DataRequired()])\n    submit = SubmitField('Submit')`\n</code></pre>\n\n<p>And, </p>\n\n<pre><code>form = PostForm('my question')\n</code></pre>\n\n<p>the corresponding html</p>\n\n<pre><code>{{ wtf.quick_form(form) }}\n</code></pre>\n"}, {"tags": ["python", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530745243, "post_id": 51181340, "comment_id": 89345490, "body": "Andrei, thanks a lot for your quick reply. I just tried it. It seems the last line does not work. It gives error like this: <code>TypeError: find_element() argument after * must be an iterable, not WebElement</code>     If I change <code>answers[2]</code> to &#39;answers&#39;, the error will be like :  <code>TypeError: find_element() takes from 1 to 3 positional arguments but 71 were given</code>   @Andrei Suvorkov"}, {"owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "reply_to_user": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530745314, "post_id": 51181340, "comment_id": 89345497, "body": "Yes, I have noticed this as well, wait some minutes. I think I have found the issue"}, {"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530745879, "post_id": 51181340, "comment_id": 89345577, "body": "<code>element = wait.until(EC.element_to_be_clickable((By.ID, &#39;option_q-2-h6F2_4&#39;))) element.click()</code>  If I try this way using each option&#39;s ID, it will give TimeoutException."}, {"owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "reply_to_user": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530746550, "post_id": 51181340, "comment_id": 89345690, "body": "I have found the issue. Please have a look"}], "tags": [], "owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1530748353, "last_edit_date": 1530748353, "creation_date": 1530742730, "answer_id": 51181340, "question_id": 51181292, "link": "https://stackoverflow.com/questions/51181292/python-selenium-how-to-repeatedly-select-buttons-on-multiple-pages-element-n/51181340#51181340", "title": "Python selenium - How to repeatedly select buttons on multiple pages - element not visible", "body": "<p>The problem is that there are 70 elements on the page with class name <code>star_item</code>. And when you are trying to click on second page <code>answers[2].click()</code> actually it is the third element from the first page, which of course is not visible anymore. So you have to change your selector, or use this solution:</p>\n\n<p>As I see there are 5 elements on every page, so you can deal with your issue like this:</p>\n\n<pre><code>add = 0 # value to add\nNextButton = browser.find_element_by_class_name('survey_nextpage') # got to next page\nNextButton.click()\n\n\n# Second page - click one of the scale button between 1-5\n# you don't have to locate this elements on every page, only once\nanswers = browser.find_elements_by_class_name('star_item') # locate all elements \nanswers[4 + add].click() # it will peek an item 4 plus add value\nadd += 5 # increase the value at 5\n\nNextButton.click()\n\n\n# Third page - click one of the scale button as 2nd page\nanswers[2 + add].click()\nadd += 5\nNextButton.click()\n</code></pre>\n\n<p>Explanation to the code: if we know that there are 5 elements on every page, and with this locator we are selecting 70 elements, the 70/5 = 14 pages are having this elements. So to be able to click on the right element of 70 on particular page we introduce a variable that counts the pages already done. This variable is <code>add</code>. after passing every page it will be increased at 5.</p>\n"}], "owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 945, "favorite_count": 0, "accepted_answer_id": 51181340, "answer_count": 1, "score": 1, "last_activity_date": 1530748353, "creation_date": 1530742379, "question_id": 51181292, "link": "https://stackoverflow.com/questions/51181292/python-selenium-how-to-repeatedly-select-buttons-on-multiple-pages-element-n", "title": "Python selenium - How to repeatedly select buttons on multiple pages - element not visible", "body": "<pre><code>import selenium\nfrom selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\n\nbrowser = webdriver.Chrome()\nbrowser.get('https://wj.qq.com/s/2214142/51db') # survey link\n\n# First page - click \"Next\" button, it works\nNextButton = browser.find_element_by_class_name('survey_nextpage') # got to next page\nNextButton.click()\n\n\n# Second page - click one of the scale button between 1-5\nanswers = browser.find_elements_by_class_name('star_item') # it works\nanswers[4].click() # it works\n\nNextButton.click() # it works\n\n\n# Third page - click one of the scale button as 2nd page\nanswers = browser.find_elements_by_class_name('star_item') # either with or without this statement, the next line will give error\nanswers[2].click() # it throws error\n\nNextButton.click()\n</code></pre>\n\n<p>Starting from page 2, each webpage contains a 1-5 scale (5 buttons) with exactly same format. When the code runs till 3nd page, it will give error like this: </p>\n\n<pre><code>ElementNotVisibleException: element not visible\n  (Session info: chrome=67.0.3396.87)\n  (Driver info: chromedriver=2.40.565498 (ea082db3280dd6843ebfb08a625e3eb905c4f5ab),platform=Windows NT 10.0.17134 x86_64)\n</code></pre>\n\n<p>As I already catched the answer options on Page 2, I don't know why it does work for page 3 which has exactly same scale format as Page 2. </p>\n\n<p>How can I repeatedly apply the same method to choose an option to next following 5 pages with the same survey format?</p>\n\n<p>Any suggests will be greatly appreciated. Thanks!</p>\n"}, {"tags": ["python", "django", "python-3.x"], "comments": [{"owner": {"reputation": 485, "user_id": 9195672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2NSqo.jpg?s=128&g=1", "display_name": "Youssef BH", "link": "https://stackoverflow.com/users/9195672/youssef-bh"}, "edited": false, "score": 0, "creation_date": 1530750050, "post_id": 51181282, "comment_id": 89346281, "body": "Try copy pasting the code directly, avoid images for code to make it easy for us to help ;)"}, {"owner": {"reputation": 93, "user_id": 9888750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d2114b8071fd80212fcf6ecd2c8deb?s=128&d=identicon&r=PG&f=1", "display_name": "Minhduong243", "link": "https://stackoverflow.com/users/9888750/minhduong243"}, "reply_to_user": {"reputation": 485, "user_id": 9195672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2NSqo.jpg?s=128&g=1", "display_name": "Youssef BH", "link": "https://stackoverflow.com/users/9195672/youssef-bh"}, "edited": false, "score": 0, "creation_date": 1530828500, "post_id": 51181282, "comment_id": 89382646, "body": "Feedback noted. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9888750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d2114b8071fd80212fcf6ecd2c8deb?s=128&d=identicon&r=PG&f=1", "display_name": "Minhduong243", "link": "https://stackoverflow.com/users/9888750/minhduong243"}, "edited": false, "score": 0, "creation_date": 1530743753, "post_id": 51181313, "comment_id": 89345230, "body": "Thanks for your comment. I tried to add some entries in the blog/urls.py to mysite/urls.py but none worked. I am a newbie in this. Can you be more specific on what I should add?"}], "tags": [], "owner": {"reputation": 5358, "user_id": 6731765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/851df22ef596b0dad4e237f738852108?s=128&d=identicon&r=PG&f=1", "display_name": "NS0", "link": "https://stackoverflow.com/users/6731765/ns0"}, "is_accepted": false, "score": 0, "last_activity_date": 1530742546, "creation_date": 1530742546, "answer_id": 51181313, "question_id": 51181282, "link": "https://stackoverflow.com/questions/51181282/the-empty-path-didnt-match-any-of-these-django-2-by-example/51181313#51181313", "title": "The empty path didn&#39;t match any of these - Django 2 By Example", "body": "<p>You need to add an empty path in <code>mysite/urls.py</code> -- like the first entry in <code>blog/urls.py</code>-- that goes somewhere. Either to the same view from just <code>/blog</code> or to another view of your choice. </p>\n\n<p>That's the file that get searched through, and you currently only define paths that start with <code>/admin</code> and <code>/blog</code>, so it doesn't know what to do for the empty case.</p>\n"}, {"tags": [], "owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "is_accepted": false, "score": 3, "last_activity_date": 1530773431, "creation_date": 1530773431, "answer_id": 51184953, "question_id": 51181282, "link": "https://stackoverflow.com/questions/51181282/the-empty-path-didnt-match-any-of-these-django-2-by-example/51184953#51184953", "title": "The empty path didn&#39;t match any of these - Django 2 By Example", "body": "<p>add this snippet in <code>/mysite2/urls.py</code><br></p>\n\n<pre><code>from django.http import HttpResponse\n\n\ndef empty_view(request):\n    return HttpResponse(\"Empty View\")\n\n\nurlpatterns = [\n    ... your code\n    path('', empty_view, name='empty_view'),\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 9888750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d2114b8071fd80212fcf6ecd2c8deb?s=128&d=identicon&r=PG&f=1", "display_name": "Minhduong243", "link": "https://stackoverflow.com/users/9888750/minhduong243"}, "is_accepted": false, "score": 0, "last_activity_date": 1531108179, "creation_date": 1531108179, "answer_id": 51237992, "question_id": 51181282, "link": "https://stackoverflow.com/questions/51181282/the-empty-path-didnt-match-any-of-these-django-2-by-example/51237992#51237992", "title": "The empty path didn&#39;t match any of these - Django 2 By Example", "body": "<p>It turns out that as I was following detailed instructions from Django 2 By Example, the issue I had was standard due to the way the authors wanted to teach newbies like me to develop an app. I asked my professor and he confirmed that. It's weird in a sense that the book never mentioned this issue. Thanks for all the help. </p>\n"}], "owner": {"reputation": 93, "user_id": 9888750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3d2114b8071fd80212fcf6ecd2c8deb?s=128&d=identicon&r=PG&f=1", "display_name": "Minhduong243", "link": "https://stackoverflow.com/users/9888750/minhduong243"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3188, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1531108179, "creation_date": 1530742315, "question_id": 51181282, "link": "https://stackoverflow.com/questions/51181282/the-empty-path-didnt-match-any-of-these-django-2-by-example", "title": "The empty path didn&#39;t match any of these - Django 2 By Example", "body": "<p>I am trying to complete the Django Girls blog in the Django 2 by example book. I ran into this error:\n<a href=\"https://i.stack.imgur.com/i6QFr.png\" rel=\"nofollow noreferrer\">error message</a></p>\n\n<p>This is the code in my urls.py:\n<a href=\"https://i.stack.imgur.com/Hz73z.png\" rel=\"nofollow noreferrer\">code in mysite/urls.py</a></p>\n\n<p>Here is the code in the blog/urls.py</p>\n\n<p><a href=\"https://i.stack.imgur.com/FVHpp.png\" rel=\"nofollow noreferrer\">code in blog/urls.py</a></p>\n\n<p>I did add this 'blog.apps.BlogConfig' to settings.py\nI followed carefully the instructions but somehow couldn't fix the problem. Can you please help me?</p>\n\n<p>Thanks a ton</p>\n"}, {"tags": ["python", "syntax", "arguments", "operators"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 1, "creation_date": 1530742965, "post_id": 51181275, "comment_id": 89345099, "body": "Classes can implement the bitshift operator however they choose, some less intuitively than others.  The magic method you should be looking for in the class definition is <code>__rshift__(self, other)</code>, <code>__rrshift__(self, other)</code>, or <code>__irshift__(self, other)</code>"}, {"owner": {"reputation": 33, "user_id": 10033543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a520f03452577b2e33eac6782796898?s=128&d=identicon&r=PG&f=1", "display_name": "go4it", "link": "https://stackoverflow.com/users/10033543/go4it"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1530773268, "post_id": 51181275, "comment_id": 89351602, "body": "@jedwards is right. It is <code>__rshift__()</code>  defined in a base object, <code>ThingClass</code>, do the trick. Details can be found <a href=\"https://stackoverflow.com/a/51184773/10033543\">here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": true, "score": 3, "last_activity_date": 1530776147, "last_edit_date": 1530776147, "creation_date": 1530743067, "answer_id": 51181373, "question_id": 51181275, "link": "https://stackoverflow.com/questions/51181275/what-does-do-if-it-is-neither-bitwise-operation-nor-print-chevron/51181373#51181373", "title": "What does &gt;&gt; do if it is neither bitwise operation nor print chevron?", "body": "<p><code>Drug &gt;&gt; float</code> calls <code>Drug</code>'s <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__rshift__\" rel=\"nofollow noreferrer\"><code>__rshift__</code></a> method. That method can do whatever it wants; it doesn't have to be a binary shift operation.</p>\n\n<p>Reading <a href=\"https://owlready2.readthedocs.io/en/latest/properties.html\" rel=\"nofollow noreferrer\">the owlready2 documentation</a> reveals that <code>domain &gt;&gt; range</code> is a fancy way of creating an <code>ObjectProperty</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10033543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a520f03452577b2e33eac6782796898?s=128&d=identicon&r=PG&f=1", "display_name": "go4it", "link": "https://stackoverflow.com/users/10033543/go4it"}, "is_accepted": false, "score": 2, "last_activity_date": 1530772733, "creation_date": 1530772733, "answer_id": 51184773, "question_id": 51181275, "link": "https://stackoverflow.com/questions/51181275/what-does-do-if-it-is-neither-bitwise-operation-nor-print-chevron/51184773#51184773", "title": "What does &gt;&gt; do if it is neither bitwise operation nor print chevron?", "body": "<p><a href=\"https://stackoverflow.com/a/51181373/10033543\">Aran-Fey</a> has answered the question in brief. Below is just to save time for those who don't want to download and parse the source codes of <a href=\"https://bitbucket.org/jibalamy/owlready2/src\" rel=\"nofollow noreferrer\">owlready2</a> but still want to trace how it works in the actual codes.  </p>\n\n<ol>\n<li><code>Drug</code> is an object created on the basis of another object <code>ThingClass</code>, as defined in /owlready2/entity.py.</li>\n<li><code>Drug &gt;&gt; float</code> calls <code>Drug.__rshift__(self, float)</code> [<a href=\"https://docs.python.org/3/reference/datamodel.html#object.__rshift__\" rel=\"nofollow noreferrer\">explained</a>].</li>\n<li><p>It is not <code>Drug</code> but its base object <code>ThingClass</code> that has a <code>__rshift__</code> method, which reads in the entity.py:  </p>\n\n<pre><code>class ThingClass(EntityClass):\n    ...\n    def __rshift__(Domain, Range):\n        import owlready2.prop\n        owlready2.prop._next_domain_range = (Domain, Range)\n        if isinstance(Range, ThingClass) or isinstance(Range, ClassConstruct):\n            return owlready2.prop.ObjectProperty\n        else:\n            return owlready2.prop.DataProperty\n</code></pre></li>\n<li><p><code>Drug &gt;&gt; float</code> is equivalent to <code>__rshift__(Domain=Drug, Range=float)</code>, which is in fact <strong><em>not</em></strong> doing a binary arithmetic operation but returns/creates either a DataProperty or an ObjectProperty, depending on the type of Range.</p></li>\n</ol>\n"}], "owner": {"reputation": 33, "user_id": 10033543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a520f03452577b2e33eac6782796898?s=128&d=identicon&r=PG&f=1", "display_name": "go4it", "link": "https://stackoverflow.com/users/10033543/go4it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 51181373, "answer_count": 2, "score": 1, "last_activity_date": 1530776147, "creation_date": 1530742289, "question_id": 51181275, "link": "https://stackoverflow.com/questions/51181275/what-does-do-if-it-is-neither-bitwise-operation-nor-print-chevron", "title": "What does &gt;&gt; do if it is neither bitwise operation nor print chevron?", "body": "<p>Is there anyone who could help figure out what the double greater-than symbol (i.e. <code>Drug &gt;&gt; float</code> in line 10 and <code>Drug &gt;&gt; int</code> in line 13) means in the following python scripts? </p>\n\n<pre><code> 1  from owlready2 import *\n 2\n 3  onto = get_ontology(\"http://test.org/onto.owl\")\n 4\n 5  with onto:\n 6      class Drug(Thing):\n 7          def get_per_tablet_cost(self):\n 8              return self.cost / self.number_of_tablets\n 9\n10      class has_for_cost(Drug &gt;&gt; float, FunctionalProperty):\n11          python_name = \"cost\"\n12\n13      class has_for_number_of_tablets(Drug &gt;&gt; int, FunctionalProperty):\n14          python_name = \"number_of_tablets\"\n15\n16  my_drug = Drug(cost = 10.0, number_of_tablets = 5)\n17  print(my_drug.get_per_tablet_cost())\n\n--- Below is the printing outcome. ---\n2.0\n</code></pre>\n\n<p>The code is copied from <a href=\"https://owlready2.readthedocs.io/en/latest/mixing_python_owl.html#adding-python-methods-to-an-owl-class\" rel=\"nofollow noreferrer\">here</a> and runs in python 3.  </p>\n\n<p>The <code>&gt;&gt;</code> symbol here is not bitwise operator. <a href=\"https://docs.python.org/3/library/stdtypes.html#bitwise-operations-on-integer-types\" rel=\"nofollow noreferrer\">Python's bitwise operation</a>, say <code>x &gt;&gt; y</code>, requires <code>y</code> to be an integer. It is clear that the code here (<code>Drug &gt;&gt; float</code>) is not shifting <code>Drug</code> right by <code>float</code> bits. </p>\n\n<p>Although similar questions were asked before (see <a href=\"https://stackoverflow.com/questions/22832615/what-do-and-mean-in-python\">here</a> and <a href=\"https://stackoverflow.com/questions/34385674/what-does-print-do-in-python\">here</a>), their answers mostly pointed to the so-called <a href=\"https://docs.python.org/2/reference/simple_stmts.html#the-print-statement\" rel=\"nofollow noreferrer\">\"print chevron\"</a> in python 2, where the <code>&gt;&gt;</code> redirects the to-be-printed messages to the file-like object specified right after the <code>&gt;&gt;</code>. They do not apply to my question because here is not a case of print statement.  </p>\n\n<p>To trace the <code>&gt;&gt;</code> in the code above, I revised the script in line 10 as <code>class has_for_cost(Drug &gt;&gt; list, FunctionalProperty)</code> (namely replace <code>&gt;&gt; float</code> with <code>&gt;&gt; list</code>) and ran the code again. It raised an AttributeError as follows:</p>\n\n<pre><code>AttributeError                            Traceback (most recent call last)\n&lt;ipython-input-1-1be374b27b04&gt; in &lt;module&gt;()\n      8             return self.cost / self.number_of_tablets\n      9 \n---&gt; 10     class has_for_cost(Drug &gt;&gt; list, FunctionalProperty):\n     11         python_name = \"cost\"\n     12 \n\n~/anaconda3/lib/python3.6/site-packages/owlready2/prop.py in __init__(Prop, name, bases, obj_dict)\n    254 class ReasoningPropertyClass(PropertyClass):\n    255   def __init__(Prop, name, bases, obj_dict):\n--&gt; 256     super().__init__(name, bases, obj_dict)\n    257 \n    258     if (not Prop.namespace.world is owl_world):\n\n~/anaconda3/lib/python3.6/site-packages/owlready2/prop.py in __init__(Prop, name, bases, obj_dict)\n     78 \n     79       if not range is False:\n---&gt; 80         Prop.range.extend(range)\n     81 \n     82       if not inverse_property is False:\n\n~/anaconda3/lib/python3.6/site-packages/owlready2/util.py in extend(self, l)\n     58   def append(self, x):          old = list(self); super().append(x)         ; self._callback(self._obj, old)\n     59   def insert(self, i, x):       old = list(self); super().insert(i, x)      ; self._callback(self._obj, old)\n---&gt; 60   def extend(self, l):          old = list(self); super().extend(l)         ; self._callback(self._obj, old)\n     61   def remove(self, x):          old = list(self); super().remove(x)         ; self._callback(self._obj, old)\n     62   def __delitem__(self, i):     old = list(self); super().__delitem__(i)    ; self._callback(self._obj, old)\n\n~/anaconda3/lib/python3.6/site-packages/owlready2/prop.py in _range_changed(Prop, old)\n    143     for x in new - old:\n    144       if isinstance(x, ClassConstruct): x._set_ontology(Prop.namespace.ontology)\n--&gt; 145       x2 = _universal_datatype_2_abbrev.get(x) or x.storid\n    146       Prop.namespace.ontology.add_triple(Prop.storid, rdf_range, x2)\n    147 \n\nAttributeError: type object 'list' has no attribute 'storid'\n</code></pre>\n\n<p>With the traceback info, though, I still could not find the answer. I would be very thankful if anyone could help figure out what the <code>&gt;&gt;</code> does in the code. </p>\n"}, {"tags": ["python", "pandas", "google-sheets"], "comments": [{"owner": {"reputation": 3746, "user_id": 3704368, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1585b68aa4256705af091781aa50497a?s=128&d=identicon&r=PG&f=1", "display_name": "min2bro", "link": "https://stackoverflow.com/users/3704368/min2bro"}, "edited": false, "score": 0, "creation_date": 1530752378, "post_id": 51181274, "comment_id": 89346612, "body": "Looks like you are not setting the index df.set_index(0)"}], "owner": {"reputation": 1921, "user_id": 2621316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ynUyn.jpg?s=128&g=1", "display_name": "Amon", "link": "https://stackoverflow.com/users/2621316/amon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2413, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1530742288, "creation_date": 1530742288, "question_id": 51181274, "link": "https://stackoverflow.com/questions/51181274/converting-pandas-dataframe-to-google-spreadsheet", "title": "Converting pandas Dataframe to Google spreadsheet", "body": "<p>I followed this answer to this question (<a href=\"https://stackoverflow.com/questions/45540827/appending-pandas-data-frame-to-google-spreadsheet\">Appending pandas Data Frame to Google spreadsheet</a>) to append by dataframe to an empty google spreadheet. Some data is being added to it but not how I want:</p>\n\n<p>code:</p>\n\n<pre><code>#complete_dict is just a dictionary I created from JSON \ndf = pd.DataFrame(complete_dict).fillna(value='0').T\n\n        convert_to_csv = df.to_csv('C:/Users/Elitebook/Documents/GitHub/test3.csv')\n        print df\n\n        scope = ['https://spreadsheets.google.com/feeds',\n         'https://www.googleapis.com/auth/drive']\n\n        credentials = ServiceAccountCredentials.from_json_keyfile_name('C:/Users/Elitebook/Documents/GitHub/TrackRev-caad86be6e44.json', scope)\n\n\n        file = gspread.authorize(credentials)\n        #create the empty spreadsheet\n        new_spreadsheet = file.create('CSV-test-6')\n        #this step is necessary so we can view the spreadsheet\n        new_spreadsheet.share(\"charlesdsmith25@gmail.com\", perm_type='user', role='writer')\n\n        #after the spreadsheet is created, open it\n        spreadsheet = file.open('CSV-test-6').sheet1\n\n        existing = gd.get_as_dataframe(spreadsheet)\n        updated = existing.append(df)\n        df_spreadsheet = set_with_dataframe(spreadsheet, updated)\n</code></pre>\n\n<p>This is what my dataframe looks like:</p>\n\n<pre><code>          add_classes add_grades change_classes     ...     delete_grades view_classes view_grades\nprinciple           1          0              1     ...                 0            1           1\nstudent1            0          0              0     ...                 0            1           1\nstudent2            0          0              0     ...                 0            1           1\nteacher             0          1              0     ...                 1            1           1\n</code></pre>\n\n<p>But this is what the spreadsheet looks like:</p>\n\n<pre><code>Unnamed: 0  Unnamed: 1  Unnamed: 10 Unnamed: 11 Unnamed: 12 Unnamed: 13 Unnamed: 14 Unnamed: 15 Unnamed: 16 Unnamed: 17 Unnamed: 18 Unnamed: 19 Unnamed: 2  Unnamed: 20 Unnamed: 21 Unnamed: 22 Unnamed: 23 Unnamed: 24 Unnamed: 25 Unnamed: 3  Unnamed: 4  Unnamed: 5  Unnamed: 6  Unnamed: 7  Unnamed: 8  Unnamed: 9  add_classes add_grades  change_classes  change_grades   delete_classes  delete_grades   view_classes    view_grades\n</code></pre>\n\n<p>No rows and way too many columns and the values (1s and 0s) aren't there</p>\n"}, {"tags": ["python", "cpython", "python-internals"], "answers": [{"comments": [{"owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 2, "creation_date": 1530743047, "post_id": 51181336, "comment_id": 89345119, "body": "I&#39;ve actually searched for the C implementation, but never thought of looking inside <code>enumobject.c</code>. Thank you for that. Any tips for finding builtin functions scattered in the source code?"}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 2, "creation_date": 1530743247, "post_id": 51181336, "comment_id": 89345153, "body": "@Bharel Builtins are mostly present in <a href=\"https://github.com/python/cpython/blob/master/Python/bltinmodule.c\" rel=\"nofollow noreferrer\">Python/bltinmodule.c</a>, there you can do a basic search and go ahead from there. For this case you can see that <code>reversed</code> points to <code>PyReversed_Type</code> and that is present in <code>enumobject.c</code>."}, {"owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 0, "creation_date": 1530743591, "post_id": 51181336, "comment_id": 89345201, "body": "Thank you for that! Last but not least, I&#39;m not sure if you would know, but why would they check specifically for <code>dict</code> and not just make <code>dict</code> set <code>__reversed__</code> to <code>None</code>? It seems like a hacky solution that offers no optimization (as lookup for the dunder is done beforehand) ."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 0, "creation_date": 1530746335, "post_id": 51181336, "comment_id": 89345656, "body": "@Bharel I think it&#39;s a basic way to differentiate between a mapping and sequence, with <code>dict</code> check they are sure we have a subclass of <code>dict</code> and that case can be handled. In general the chances of defining a custom mapping type are lesser than inheriting from dict and modifying some methods there. Hence, for a dict it will be much common to see <code>KeyError</code>s because of people trying to reverse iterate it."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 1, "creation_date": 1530746434, "post_id": 51181336, "comment_id": 89345668, "body": "@Bharel C-API docs for <a href=\"https://docs.python.org/3/c-api/sequence.html#sequence-protocol\" rel=\"nofollow noreferrer\"><code>PySequence_Check</code></a> say: Note that it returns 1 for Python classes with a <code>__getitem__()</code> method unless they are <code>dict</code> subclasses since in general case it is impossible to determine what the type of keys it supports. This function always succeeds."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 0, "creation_date": 1530746741, "post_id": 51181336, "comment_id": 89345733, "body": "@Bharel Also check: <a href=\"http://grokbase.com/t/python/python-list/054erpfcep/new-style-classes-iter-and-pysequence-check#20050414oq3okaw2kfbymmfn7ow32enfz4\" rel=\"nofollow noreferrer\">grokbase.com/t/python/python-list/054erpfcep/&hellip;</a>"}], "tags": [], "owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "is_accepted": true, "score": 7, "last_activity_date": 1530743015, "last_edit_date": 1530743015, "creation_date": 1530742706, "answer_id": 51181336, "question_id": 51181249, "link": "https://stackoverflow.com/questions/51181249/how-does-pythons-reversed-function-work/51181336#51181336", "title": "How does Python&#39;s reversed() function work?", "body": "<p>Yes, there's a check for <code>dict</code> type in <a href=\"https://github.com/python/cpython/blob/master/Objects/abstract.c#L1508\" rel=\"noreferrer\"><code>PySequence_Check</code></a> <a href=\"https://github.com/python/cpython/blob/55edd0c185ad2d895b5d73e47d67049bc156b654/Objects/enumobject.c#L294\" rel=\"noreferrer\">used by <code>reversed</code></a>.</p>\n\n<pre><code>// cpython/Objects/enumobject.c\nif (!PySequence_Check(seq)) {\n    PyErr_Format(PyExc_TypeError,\n                 \"'%.200s' object is not reversible\",\n                 Py_TYPE(seq)-&gt;tp_name);\n    return NULL;\n}\n\n\n// cpython/Objects/abstract.c\n\nint\nPySequence_Check(PyObject *s)\n{\n    if (PyDict_Check(s))\n        return 0;\n    return s != NULL &amp;&amp; s-&gt;ob_type-&gt;tp_as_sequence &amp;&amp;\n        s-&gt;ob_type-&gt;tp_as_sequence-&gt;sq_item != NULL;\n}\n</code></pre>\n"}], "owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 51181336, "answer_count": 1, "score": 3, "last_activity_date": 1612145538, "creation_date": 1530742051, "last_edit_date": 1612145538, "question_id": 51181249, "link": "https://stackoverflow.com/questions/51181249/how-does-pythons-reversed-function-work", "title": "How does Python&#39;s reversed() function work?", "body": "<p>According to <a href=\"https://docs.python.org/3/library/functions.html#reversed\" rel=\"nofollow noreferrer\">Python's docs</a>, <code>reversed()</code> uses <code>__getitem__</code> and <code>__len__</code> if <code>__reversed__</code> is not implemented.</p>\n<p>I've encountered a weird behavior and failed to explain it:</p>\n<pre><code>&gt;&gt;&gt; class A(dict):\n...     pass\n...\n&gt;&gt;&gt; reversed(A())\nTraceback (most recent call last):\n    ...\nTypeError: 'A' object is not reversible\n\n&gt;&gt;&gt; class B(dict):\n...     def __getitem__(self, key):\n...         return super().__getitem__(key)\n...     def __len__(self):\n...         return super().__len__()\n...\n&gt;&gt;&gt; reversed(B())\nTraceback (most recent call last):\n    ...\nTypeError: 'B' object is not reversible\n\n&gt;&gt;&gt; class C:\n...     def __getitem__(self, key):\n...         return &quot;item&quot;\n...     def __len__(self):\n...         return 1\n...\n&gt;&gt;&gt; reversed(C())\n&lt;reversed object at 0x00000000022BB9B0&gt;\n</code></pre>\n<p>Although calling <code>reversed()</code> on mapping types makes no sense, how does it know it's a mapping? Does it internally check <code>isinstance(inst, dict)</code>? Does it check for any general mapping like <code>collections.abc.Mapping</code>? Is there any way to override this behavior without implementing <code>__reversed__</code>?</p>\n<p>I thought it might be due to <code>dict</code> implementing a <code>__reversed__</code> that throws a <code>TypeError</code>, or one that equals <code>None</code> much like how you disable <code>__hash__</code>, but <code>dict.__reversed__</code> turned out empty with <code>AttributeError</code> thrown.</p>\n<h1>UPDATE:</h1>\n<p>New Python versions implement <code>__reversed__</code> for dictionaries. Mapping protocols (such as collections.abc.Mapping) set <code>__reversed__</code> to <code>None</code>.</p>\n"}, {"tags": ["python", "python-3.x", "list", "dictionary", "counter"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1530742095, "post_id": 51181229, "comment_id": 89344904, "body": "Ok. What have you tried?"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1530742422, "post_id": 51181229, "comment_id": 89344988, "body": "You don&#39;t mean &#39;value&#39;, you mean &#39;count&#39; or &#39;multiplicity&#39;. Hence your dictionary is not really a dictionary, rather a Counter."}], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530745667, "post_id": 51181262, "comment_id": 89345542, "body": "Is all the inner list creation required?"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530745903, "post_id": 51181262, "comment_id": 89345583, "body": "If you use this method then yes it&#39;s required. But there are plenty of other methods that do not need the inner list creation as demonstrated in the other answers."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 2, "last_activity_date": 1530742157, "creation_date": 1530742157, "answer_id": 51181262, "question_id": 51181229, "link": "https://stackoverflow.com/questions/51181229/create-a-list-out-of-the-keys-in-a-dictionary-taking-into-account-their-correspo/51181262#51181262", "title": "Create a list out of the keys in a dictionary taking into account their corresponding value", "body": "<pre><code>from itertools import chain\nprint(list(chain.from_iterable([[k] * v for k, v in {1:2,2:3}.items()])))\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>[1, 1, 2, 2, 2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1530742311, "creation_date": 1530742311, "answer_id": 51181281, "question_id": 51181229, "link": "https://stackoverflow.com/questions/51181229/create-a-list-out-of-the-keys-in-a-dictionary-taking-into-account-their-correspo/51181281#51181281", "title": "Create a list out of the keys in a dictionary taking into account their corresponding value", "body": "<p>You could e.g. use a nested list comprehension with a <code>range</code> over the corresponding value:</p>\n\n<pre><code>&gt;&gt;&gt; d = {1: 2, 2: 3}\n&gt;&gt;&gt; [k for k in d for _ in range(d[k])]\n[1, 1, 2, 2, 2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 9388706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Felka98", "link": "https://stackoverflow.com/users/9388706/felka98"}, "edited": false, "score": 0, "creation_date": 1530759773, "post_id": 51181361, "comment_id": 89347737, "body": "Just a quick question. Why did you write in the third line of code ([key]*val) and why doesn&#180;t it work if I write (list(key)*val)?"}, {"owner": {"reputation": 41, "user_id": 5291252, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v7bo2b-wxI0/AAAAAAAAAAI/AAAAAAAAAO8/arG8QJ4AEbw/photo.jpg?sz=128", "display_name": "Shreenath Iyer", "link": "https://stackoverflow.com/users/5291252/shreenath-iyer"}, "reply_to_user": {"reputation": 109, "user_id": 9388706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Felka98", "link": "https://stackoverflow.com/users/9388706/felka98"}, "edited": false, "score": 0, "creation_date": 1530818347, "post_id": 51181361, "comment_id": 89378701, "body": "In order to create a list using a type constructor, you can either do <code>list()</code> or <code>list([iterable])</code>. &#39;key&#39; in your case, is an integer, and that produces an error. You can look at <a href=\"https://docs.python.org/3/library/stdtypes.html#list\" rel=\"nofollow noreferrer\">docs.python.org/3/library/stdtypes.html#list</a> for a detailed explanation as well."}], "tags": [], "owner": {"reputation": 41, "user_id": 5291252, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v7bo2b-wxI0/AAAAAAAAAAI/AAAAAAAAAO8/arG8QJ4AEbw/photo.jpg?sz=128", "display_name": "Shreenath Iyer", "link": "https://stackoverflow.com/users/5291252/shreenath-iyer"}, "is_accepted": true, "score": 0, "last_activity_date": 1530752335, "last_edit_date": 1530752335, "creation_date": 1530742887, "answer_id": 51181361, "question_id": 51181229, "link": "https://stackoverflow.com/questions/51181229/create-a-list-out-of-the-keys-in-a-dictionary-taking-into-account-their-correspo/51181361#51181361", "title": "Create a list out of the keys in a dictionary taking into account their corresponding value", "body": "<pre><code>list_of_values = list()\nfor key, val in d.items():\n    list_of_values.extend([key] * val)\nprint(list_of_values)\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>[1, 1, 2, 2, 2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1530743220, "post_id": 51181362, "comment_id": 89345149, "body": "Nice, did not even know this function."}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 3, "last_activity_date": 1530742898, "creation_date": 1530742898, "answer_id": 51181362, "question_id": 51181229, "link": "https://stackoverflow.com/questions/51181229/create-a-list-out-of-the-keys-in-a-dictionary-taking-into-account-their-correspo/51181362#51181362", "title": "Create a list out of the keys in a dictionary taking into account their corresponding value", "body": "<p>You could create a <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>Counter</code> object</a> and then use the <code>.elements()</code> method to get an iterable which you can convert to a list:</p>\n\n<pre><code>from collections import Counter\nlist(Counter({1:2,2:3}).elements())\n#[1, 1, 2, 2, 2]\n</code></pre>\n\n<p>This allows you to also use other methods which may be of interest to you. For instance <code>.most_common</code> is often handy.</p>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 2, "last_activity_date": 1530745479, "last_edit_date": 1530745479, "creation_date": 1530743107, "answer_id": 51181377, "question_id": 51181229, "link": "https://stackoverflow.com/questions/51181229/create-a-list-out-of-the-keys-in-a-dictionary-taking-into-account-their-correspo/51181377#51181377", "title": "Create a list out of the keys in a dictionary taking into account their corresponding value", "body": "<p>Using <code>chain</code>, <code>repeat</code> and <code>starmap</code> from <code>itertools</code>:</p>\n\n<pre><code>from itertools import chain, repeat, starmap\n\nd = {1:2,2:3}\nres = chain.from_iterable(starmap(repeat, d.items()))\n\nprint(list(res))\n\n[1, 1, 2, 2, 2]\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 9388706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Felka98", "link": "https://stackoverflow.com/users/9388706/felka98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 51181361, "answer_count": 5, "score": 2, "last_activity_date": 1530752335, "creation_date": 1530741899, "last_edit_date": 1530745721, "question_id": 51181229, "link": "https://stackoverflow.com/questions/51181229/create-a-list-out-of-the-keys-in-a-dictionary-taking-into-account-their-correspo", "title": "Create a list out of the keys in a dictionary taking into account their corresponding value", "body": "<p>For example if I have this dictionary: {1:2,2:3}, I would like to obtain this list:\n[1,1,2,2,2]</p>\n"}, {"tags": ["python", "arrays", "list", "casting"], "comments": [{"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1530741823, "post_id": 51181193, "comment_id": 89344839, "body": "Whenever you are using arrays in python, the answer is <i>always</i> &quot;use numpy&quot;"}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1530741829, "post_id": 51181193, "comment_id": 89344840, "body": "Do you have a preferred endianness?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1530741884, "post_id": 51181193, "comment_id": 89344857, "body": "Your <code>[.. for .. in ..]</code> also iterates over the whole string. But you can simply use <a href=\"https://docs.python.org/3/library/struct.html\" rel=\"nofollow noreferrer\"><code>struct unpack</code></a> as it&#39;s, well, <i>made</i> to do this. Do note that the string length always must be a multiple of 4 (your example is, but I don&#39;t get the impression that was intentional)."}, {"owner": {"reputation": 613, "user_id": 1732694, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/bQKtd.jpg?s=128&g=1", "display_name": "AntoineLev", "link": "https://stackoverflow.com/users/1732694/antoinelev"}, "edited": false, "score": 0, "creation_date": 1530741966, "post_id": 51181193, "comment_id": 89344876, "body": "No preference, as long as I am able to retrieve the original data with reverse process"}, {"owner": {"reputation": 367, "user_id": 2321145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a6447f6df923c9aaac74a3b47a1e81c?s=128&d=identicon&r=PG", "display_name": "hmaarrfk", "link": "https://stackoverflow.com/users/2321145/hmaarrfk"}, "edited": false, "score": 0, "creation_date": 1530743681, "post_id": 51181193, "comment_id": 89345217, "body": "Are you using 8bit data, or strings? they are different! Can you pl.ease specify?"}], "answers": [{"tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1530742409, "creation_date": 1530742409, "answer_id": 51181295, "question_id": 51181193, "link": "https://stackoverflow.com/questions/51181193/convert-a-8bit-list-to-a-32-bit-integer-array-in-python/51181295#51181295", "title": "Convert a 8bit list to a 32 bit integer array in python", "body": "<p>You could use something like the following, which uses bit manipulation (big-endian):</p>\n\n<pre><code>def chunk2int(chunk):\n    \"\"\" Converts a chunk (string) into an int, 8 bits per character \"\"\"\n    val = 0\n    for c in chunk:\n        val = (val &lt;&lt; 8) | (ord(c) &amp; 0xFF)\n    return val\n\ndef int2chunk(val):\n    \"\"\" Converts an int into a chunk, consuming 8 bits per character \"\"\"\n    rchunk = []\n    while val:\n        rchunk.append(val &amp; 0xFF)\n        val &gt;&gt;= 8\n\n    return ''.join(chr(c) for c in reversed(rchunk))\n\ntextdata = \"this is my test data\"\n\nchunks = [textdata[i:i + 4] for i in range(0, len(textdata), 4)]\nprint(chunks)\n\ndata = [chunk2int(c) for c in chunks]\nprint(data)\n\nchunks = [int2chunk(d) for d in data]\nprint(chunks)\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>['this', ' is ', 'my t', 'est ', 'data']\n[1952999795, 543781664, 1836654708, 1702065184, 1684108385]\n['this', ' is ', 'my t', 'est ', 'data']\n</code></pre>\n\n<p>If you're using characters with <code>1 &lt;= ord(c) &lt;= 255</code> in your input text, this will work.  If there are null bytes in your string, the <code>int2chunk</code> method may terminate early, in which case you'd have to pad the chunks.</p>\n\n<p>There's also the <a href=\"https://docs.python.org/3/library/struct.html\" rel=\"nofollow noreferrer\">struct</a> module, which may be worth looking into, and where you can change the endianness much more simply.</p>\n"}, {"comments": [{"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1530742854, "post_id": 51181310, "comment_id": 89345075, "body": "<code>fromstring</code> is deprecated since 1.14 for good reason ... OP probably shouldn&#39;t touch strings at all."}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 1, "last_activity_date": 1530743069, "last_edit_date": 1530743069, "creation_date": 1530742525, "answer_id": 51181310, "question_id": 51181193, "link": "https://stackoverflow.com/questions/51181193/convert-a-8bit-list-to-a-32-bit-integer-array-in-python/51181310#51181310", "title": "Convert a 8bit list to a 32 bit integer array in python", "body": "<p>As long as your string is an integer multiple of 4, you can use NumPy in a very efficient way:</p>\n\n<pre><code>import numpy as np\ndata = np.fromstring(textdata, dtype='&gt;u4')\n# array([1952999795,  543781664, 1836654708, 1702065184, 1684108385])\n</code></pre>\n\n<p><code>'&gt;u4'</code> means 'big-endian unsigned 4-byte integer'.</p>\n\n<p><strong>Edit</strong>: If you use NumPy >= 1.14, then <code>np.fromstring</code> is deprecated, and the right way to process your text is by calling <code>np.frombuffer(textdata.encode(), dtype='&gt;u4')</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 613, "user_id": 1732694, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/bQKtd.jpg?s=128&g=1", "display_name": "AntoineLev", "link": "https://stackoverflow.com/users/1732694/antoinelev"}, "edited": false, "score": 0, "creation_date": 1530795317, "post_id": 51181311, "comment_id": 89365279, "body": "this seems to works, but from a python begginer standpoint, how would I replace the b<code>string</code> with an actual string variable?"}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "reply_to_user": {"reputation": 613, "user_id": 1732694, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/bQKtd.jpg?s=128&g=1", "display_name": "AntoineLev", "link": "https://stackoverflow.com/users/1732694/antoinelev"}, "edited": false, "score": 0, "creation_date": 1530808844, "post_id": 51181311, "comment_id": 89374183, "body": "@AntoineLev You <i>can</i>, but you should probably guarantee that it stayed as <code>bytes</code> in the first place."}], "tags": [], "owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "is_accepted": true, "score": 1, "last_activity_date": 1530742533, "creation_date": 1530742533, "answer_id": 51181311, "question_id": 51181193, "link": "https://stackoverflow.com/questions/51181193/convert-a-8bit-list-to-a-32-bit-integer-array-in-python/51181311#51181311", "title": "Convert a 8bit list to a 32 bit integer array in python", "body": "<p>Using numpy:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n\n&gt;&gt;&gt; a = np.frombuffer(b'this is my test data', dtype=np.int32)\n&gt;&gt;&gt; a\narray([1936287860,  544434464, 1948285293,  544502629, 1635017060], dtype=int32)\n&gt;&gt;&gt; a.tobytes()\nb'this is my test data'\n</code></pre>\n\n<p>Use <code>'&lt;i4'</code> or similar as dtype for endianness that's portable between machines.</p>\n\n<p>I'm assuming that you can keep your initial data as <code>bytes</code> rather than <code>unicode</code>, because you really should try hard to do that.</p>\n"}, {"comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530742834, "post_id": 51181326, "comment_id": 89345072, "body": "Unless you use Python-2.7, <code>&#39;i&#39;*(len(textdata)&#47;4)</code> raises an error."}, {"owner": {"reputation": 247, "user_id": 5129398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c2f5f22091e7400a28cc05f8898ceedf?s=128&d=identicon&r=PG&f=1", "display_name": "abdelhalimresu", "link": "https://stackoverflow.com/users/5129398/abdelhalimresu"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530742996, "post_id": 51181326, "comment_id": 89345108, "body": "Are you sure? I just tried it with python 2.7. you can cast it to int to avoid the <code>TypeError</code>, I&#39;ll update it."}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 1, "creation_date": 1530743086, "post_id": 51181326, "comment_id": 89345127, "body": "I could see it raising an error since <code>str * float</code> isn&#39;t defined.  <code>&#47;&#47;</code> would &quot;solve&quot; it though (but it&#39;d still be at the risk of truncating characters in <code>textdata</code>)."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1530743217, "post_id": 51181326, "comment_id": 89345147, "body": "@abdelhalimresu That&#39;s what I said. It works in 2.7, but not in 3.x."}, {"owner": {"reputation": 247, "user_id": 5129398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c2f5f22091e7400a28cc05f8898ceedf?s=128&d=identicon&r=PG&f=1", "display_name": "abdelhalimresu", "link": "https://stackoverflow.com/users/5129398/abdelhalimresu"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1530743407, "post_id": 51181326, "comment_id": 89345177, "body": "@jedwards I see.. but the data length must be a multiple of 4, otherwise the reverse operation will output a different string from the original."}], "tags": [], "owner": {"reputation": 247, "user_id": 5129398, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c2f5f22091e7400a28cc05f8898ceedf?s=128&d=identicon&r=PG&f=1", "display_name": "abdelhalimresu", "link": "https://stackoverflow.com/users/5129398/abdelhalimresu"}, "is_accepted": false, "score": 1, "last_activity_date": 1530744120, "last_edit_date": 1530744120, "creation_date": 1530742645, "answer_id": 51181326, "question_id": 51181193, "link": "https://stackoverflow.com/questions/51181193/convert-a-8bit-list-to-a-32-bit-integer-array-in-python/51181326#51181326", "title": "Convert a 8bit list to a 32 bit integer array in python", "body": "<p>You can use the <a href=\"https://docs.python.org/3.6/library/struct.html\" rel=\"nofollow noreferrer\">struct</a> built-in python module:</p>\n\n<pre><code>from struct import unpack\n\ntextdata = \"this is my test data\"\ndata = list(unpack('i'*(len(textdata)//4), textdata))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[1936287860, 544434464, 1948285293, 544502629, 1635017060]\n</code></pre>\n\n<p>You won't need to iterate over the string and you can find other <a href=\"https://docs.python.org/3.6/library/struct.html#format-characters\" rel=\"nofollow noreferrer\">Format Characters</a> if you want to use unsigned integers for example. </p>\n"}], "owner": {"reputation": 613, "user_id": 1732694, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/bQKtd.jpg?s=128&g=1", "display_name": "AntoineLev", "link": "https://stackoverflow.com/users/1732694/antoinelev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2575, "favorite_count": 0, "accepted_answer_id": 51181311, "answer_count": 4, "score": 0, "last_activity_date": 1530744120, "creation_date": 1530741617, "question_id": 51181193, "link": "https://stackoverflow.com/questions/51181193/convert-a-8bit-list-to-a-32-bit-integer-array-in-python", "title": "Convert a 8bit list to a 32 bit integer array in python", "body": "<p>what I have :</p>\n\n<pre><code>textdata = \"this is my test data\"\nDataArray = [ord(c) for c in textdata]\n</code></pre>\n\n<p>now I want to transform this is into x 32 bit integer by combining 4 elements of the list together</p>\n\n<p>Ex : DataArray[0:4] would become a 32 bit integer, and then iterate to the next 4 elements and do the same. In the end, I would have a 32-bit array with all my results in it.</p>\n\n<p>How can I do this in python whitout iterating over the whole string. Is there a simple way to do this?</p>\n"}, {"tags": ["python", "pandas", "csv", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 8450218, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3c39c16e1d02992848a1ab4006afde92?s=128&d=identicon&r=PG&f=1", "display_name": "JonDoe", "link": "https://stackoverflow.com/users/8450218/jondoe"}, "edited": false, "score": 0, "creation_date": 1531032994, "post_id": 51181277, "comment_id": 89438666, "body": "thanks a lot for your help. I receive the following error message: KeyError: &#39;Valuegroup&#39;"}, {"owner": {"reputation": 1952, "user_id": 4472331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b141db9afcc2c331f5f7f397fd667926?s=128&d=identicon&r=PG", "display_name": "gyoza", "link": "https://stackoverflow.com/users/4472331/gyoza"}, "reply_to_user": {"reputation": 107, "user_id": 8450218, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3c39c16e1d02992848a1ab4006afde92?s=128&d=identicon&r=PG&f=1", "display_name": "JonDoe", "link": "https://stackoverflow.com/users/8450218/jondoe"}, "edited": false, "score": 0, "creation_date": 1531045517, "post_id": 51181277, "comment_id": 89441244, "body": "I edited my solution. Please try again. The name of your dataframe is <code>csv_loader</code>, while my initial solution used <code>df</code>"}], "tags": [], "owner": {"reputation": 1952, "user_id": 4472331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b141db9afcc2c331f5f7f397fd667926?s=128&d=identicon&r=PG", "display_name": "gyoza", "link": "https://stackoverflow.com/users/4472331/gyoza"}, "is_accepted": true, "score": 2, "last_activity_date": 1531045642, "last_edit_date": 1531045642, "creation_date": 1530742295, "answer_id": 51181277, "question_id": 51181171, "link": "https://stackoverflow.com/questions/51181171/plot-data-from-csv-and-group-values-in-colum/51181277#51181277", "title": "Plot Data from CSV and group values in colum", "body": "<p>If you want to take a mean of <code>Value</code> for each <code>Valuegroup</code> and show them with line chart, use    </p>\n\n<pre><code>csv_loader.groupby('Valuegroup')['Value'].mean().plot()\n</code></pre>\n\n<p>There are various chart types available, please refer to <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.plot.html\" rel=\"nofollow noreferrer\">pandas documentation on plot</a></p>\n"}], "owner": {"reputation": 107, "user_id": 8450218, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3c39c16e1d02992848a1ab4006afde92?s=128&d=identicon&r=PG&f=1", "display_name": "JonDoe", "link": "https://stackoverflow.com/users/8450218/jondoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 51181277, "answer_count": 1, "score": 2, "last_activity_date": 1531231996, "creation_date": 1530741464, "last_edit_date": 1531231996, "question_id": 51181171, "link": "https://stackoverflow.com/questions/51181171/plot-data-from-csv-and-group-values-in-colum", "title": "Plot Data from CSV and group values in colum", "body": "<p>I am pretty new in python and try to understand how to do the following:</p>\n\n<p>I am trying to plot data from a csv file where I have values for A values for B and values for C. How can I group it and plot it based on the Valuegroup and as values using the colum values? </p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\n\ncsv_loader = pd.read_csv('C:/Test.csv', encoding='cp1252', sep=';', index_col=0).dropna()\n#csv_loader.plot()\n\nprint(csv_loader)\n\nfig, ax = plt.subplots()\ncsv_loader.groupby('Valuegroup').plot(x='Date', y='Value', ax=ax, legend=False, kind='line')\n</code></pre>\n\n<p>The data looks like the following:</p>\n\n<pre><code>Calcgroup;Valuegroup;id;Date;Value\nGroup1;A;1;20080103;0.1\nGroup1;A;1;20080104;0.3\nGroup1;A;1;20080107;0.5\nGroup1;A;1;20080108;0.9\nGroup1;B;1;20080103;0.5\nGroup1;B;1;20080104;1.3\nGroup1;B;1;20080107;2.0\nGroup1;B;1;20080108;0.15\nGroup1;C;1;20080103;1.9\nGroup1;C;1;20080104;2.1\nGroup1;C;1;20080107;2.9\nGroup1;C;1;20080108;0.45\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "cross-validation", "feature-extraction"], "comments": [{"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1530769815, "post_id": 51181170, "comment_id": 89350047, "body": "In addition to the answer below, <a href=\"http://scikit-learn.org/stable/auto_examples/feature_selection/plot_rfe_with_cross_validation.html#sphx-glr-auto-examples-feature-selection-plot-rfe-with-cross-validation-py\" rel=\"nofollow noreferrer\">look at this example</a> which illustrates the working of RFECV. As the answer suggested, RFECV tunes the number of features itself, so dont provide features to select."}], "answers": [{"tags": [], "owner": {"reputation": 3617, "user_id": 4804108, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1d68c8aa71250dcf1a948837cf98b087?s=128&d=identicon&r=PG&f=1", "display_name": "shanmuga", "link": "https://stackoverflow.com/users/4804108/shanmuga"}, "is_accepted": true, "score": 5, "last_activity_date": 1530743900, "creation_date": 1530743900, "answer_id": 51181457, "question_id": 51181170, "link": "https://stackoverflow.com/questions/51181170/selecting-a-specific-number-of-features-via-sklearns-rfecv-recursive-feature-e/51181457#51181457", "title": "Selecting a Specific Number of Features via Sklearn&#39;s RFECV (Recursive Feature Elimination with Cross-validation)", "body": "<p>According to this <a href=\"https://www.quora.com/scikit-learn-How-does-RFECV-make-use-of-cross-validation\" rel=\"noreferrer\">quora post</a></p>\n\n<blockquote>\n  <p>The RFECV object helps to tune or find this n_features parameter using cross-validation. For every step where \"step\" number of features are eliminated, it calculates the score on the validation data. The number of features left at the step which gives the maximum score on the validation data, is considered to be \"the best n_features\" of your data.</p>\n</blockquote>\n\n<p>Which says RFECV determines the optimal number of features (n_features) to get best result.<br>\nThe fitted <code>RFECV</code> object contains an attribute <code>ranking_</code>  with feature ranking, and <code>support_</code> mask to select optimal features found.<br>\nHowever if you <strong>MUST</strong> select top n_features from RFECV you can use the <code>ranking_</code> attribute</p>\n\n<pre><code>optimal_features = X[:, selector.support_] # selector is a RFECV fitted object\n\nn = 6 # to select top 6 features\nfeature_ranks = selector.ranking_  # selector is a RFECV fitted object\nfeature_ranks_with_idx = enumerate(feature_ranks)\nsorted_ranks_with_idx = sorted(feature_ranks_with_idx, key=lambda x: x[1])\ntop_n_idx = [idx for idx, rnk in sorted_ranks_with_idx[:n]]\n\ntop_n_features = X[:5, top_n_idx]\n</code></pre>\n\n<p>Reference: \n<a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.feature_selection.RFECV.html#sklearn.feature_selection.RFECV\" rel=\"noreferrer\">sklearn documentation</a>, <a href=\"https://www.quora.com/scikit-learn-How-does-RFECV-make-use-of-cross-validation\" rel=\"noreferrer\">Quora post</a></p>\n"}], "owner": {"reputation": 45, "user_id": 6942584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RZMP.jpg?s=128&g=1", "display_name": "toenails_sauce", "link": "https://stackoverflow.com/users/6942584/toenails-sauce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2220, "favorite_count": 0, "accepted_answer_id": 51181457, "answer_count": 1, "score": 4, "last_activity_date": 1530743900, "creation_date": 1530741454, "question_id": 51181170, "link": "https://stackoverflow.com/questions/51181170/selecting-a-specific-number-of-features-via-sklearns-rfecv-recursive-feature-e", "title": "Selecting a Specific Number of Features via Sklearn&#39;s RFECV (Recursive Feature Elimination with Cross-validation)", "body": "<p>I'm wondering if it is possible for Sklearn's RFECV to select a fixed number of the most important features. For example, working on a dataset with 617 features, I have been trying to use RFECV to see which 5 of those features are the most significant. However, RFECV does not have the parameter 'n_features_to_select', unlike RFE (which confuses me). How should I deal with this?</p>\n"}, {"tags": ["python", "machine-learning", "neural-network", "keras", "word2vec"], "comments": [{"owner": {"reputation": 4231, "user_id": 1947216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b52eaf82bd907e8b39e49aeea74273e?s=128&d=identicon&r=PG", "display_name": "mentallurg", "link": "https://stackoverflow.com/users/1947216/mentallurg"}, "edited": false, "score": 0, "creation_date": 1530742385, "post_id": 51181152, "comment_id": 89344976, "body": "What you mean by &quot;better&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 10034028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1WGKA_7JBXU/AAAAAAAAAAI/AAAAAAAAABg/VlJUphxJ8TA/photo.jpg?sz=128", "display_name": "Szymon P\u0142otka", "link": "https://stackoverflow.com/users/10034028/szymon-p%c5%82otka"}, "is_accepted": true, "score": 1, "last_activity_date": 1530743697, "creation_date": 1530743697, "answer_id": 51181437, "question_id": 51181152, "link": "https://stackoverflow.com/questions/51181152/how-to-fix-do-better-text-classification-model-with-using-word2vec/51181437#51181437", "title": "How to fix (do better) text classification model with using word2vec", "body": "<p>The problem with which we are dealing here is called overfitting. \nFirst of all, make sure your input data is properly cleaned. One of the principles of machine learning is: \u2018Garbage In, Garbage Out\u201d. Next, you should balance your data collection, for example on 400k positive and 400k negative records. In sequence, the data set should be divided into a training, test and validation set (60%:20%:20%), for example using scikit-learn library, as in the following example:</p>\n\n<pre><code>from sklearn.model_selection import train_test_split\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)\nX_train, X_val, y_train, y_val = train_test_split(X_train, y_train, test_size=0.2)\n</code></pre>\n\n<p>Then I would use a different neural network architecture and try to optimize the parameters.\nPersonally, I would suggest using a 2-layer LSTM neural network or a combination of a convolutional and recurrent neural network (faster and reading articles that give better results).</p>\n\n<p><strong>1) 2-layer LSTM:</strong></p>\n\n<pre><code>model = Sequential()\nmodel.add(emb_layer)\nmodel.add(LSTM(64, dropout=0.5, recurrent_dropout=0.5, return_sequences=True)\nmodel.add(LSTM(64, dropout=0.5, recurrent_dropout=0.5))\nmodel.add(Dense(2))\nmodel.add(Activation(\u2018sigmoid\u2019))\n</code></pre>\n\n<p>You can try using 2 layers with 64 hidden neurons, add recurrent_dropout parameter. \nThe main reason why we use sigmoid function is because it exists between (0 to 1). Therefore, it is especially used for models where we have to predict the probability as an output.Since probability of anything exists only between the range of 0 and 1, sigmoid is the right choice.</p>\n\n<p><strong>2) CNN + LSTM</strong></p>\n\n<pre><code>model = Sequential()\nmodel.add(emb_layer)\nmodel.add(Convolution1D(32, 3, padding=\u2019same\u2019))\nmodel.add(Activation(\u2018relu\u2019))\nmodel.add(MaxPool1D(pool_size=2))\nmodel.add(Dropout(0.5))\nmodel.add(LSTM(32, dropout(0.5, recurrent_dropout=0.5, return_sequences=True))\nmodel.add(LSTM(64, dropout(0.5, recurrent_dropout=0.5))\nmodel.add(Dense(2))\nmodel.add(Activation(\u2018sigmoid\u2019))\n</code></pre>\n\n<p>You can try using combination of a CNN and RNN. In this architecture, the model learns faster (up to 5 times faster).</p>\n\n<p>Then, in both cases, you need to apply optimization, loss function.</p>\n\n<p>A good optimizer for both cases is the \"Adam\" optimizer.</p>\n\n<pre><code>model.compile(optimizer='adam', loss='binary_crossentropy', metrics=['accuracy'])\n</code></pre>\n\n<p>In the last step, we validate our network on the validation set.\nIn addition, we use callback, which will stop the network learning process, in case when, for example, in 3 more iterations, there are no changes in the accuracy of the classification.</p>\n\n<pre><code>from keras.callbacks import EarlyStopping\n\nearly_stopping = EarlyStopping(patience=3)\n\nmodel.fit(X_train, y_train, epochs=100, batch_size=32, validation_data=(X_val, y_val), callbacks=[early_stopping])\n</code></pre>\n\n<p>We can also control the overfitting using graphs. If you want to see how to do it, check <a href=\"https://machinelearningmastery.com/display-deep-learning-model-training-history-in-keras/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If you need further help, let me know in a comment.</p>\n"}], "owner": {"reputation": 3, "user_id": 10034112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d3963e1afc7f5fac413f4625d5cd156?s=128&d=identicon&r=PG&f=1", "display_name": "NatalieK", "link": "https://stackoverflow.com/users/10034112/nataliek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 51181437, "answer_count": 1, "score": 0, "last_activity_date": 1530743697, "creation_date": 1530741315, "question_id": 51181152, "link": "https://stackoverflow.com/questions/51181152/how-to-fix-do-better-text-classification-model-with-using-word2vec", "title": "How to fix (do better) text classification model with using word2vec", "body": "<p>I'm the freshman in Machine Learning and Neural Network. I've got the problem with text classification. I use LSTM NN architecture system with Keras library. \nMy model every time reach the results about 97%. I got the database with something about 1 million records, where 600k of them are positive and 400k are negative. \nI got also 2 labeled classes as 0 (for negative) and 1 (for positive). My database is split for training database and tests database in relation 80:20. For the NN input, I use Word2Vec trained on PubMed articles.\nMy network architecure: </p>\n\n<pre><code>model = Sequential()\nmodel.add(emb_layer)\nmodel.add(LSTM(64, dropout =0.5))\nmodel.add(Dense(2))\nmodel.add(Activation(\u2018softmax\u2019)\nmodel.compile(optimizer=\u2019rmsprop\u2019, loss=\u2019binary_crossentropy\u2019, metrics=[\u2018accuracy\u2019])\nmodel.fit(X_train, y_train, epochs=50, batch_size=32)\n</code></pre>\n\n<p>How can I fix (do better) my NN created model in this kind of text classification?</p>\n"}, {"tags": ["python", "python-3.x", "scipy", "normalization", "nan"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530747225, "post_id": 51181129, "comment_id": 89345848, "body": "Test for the existence of <code>nan</code> in <code>gpoa</code> with, for example, <code>print(np.isnan(gpoa).any())</code>.  If that prints <code>True</code>, you have a <code>nan</code> in your input array."}, {"owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530747473, "post_id": 51181129, "comment_id": 89345887, "body": "@Warren Weckesser- hello, as you see, gpoa is calculated from revt, cogs and at. One step prior to this one was that I filled all missing data within these three columns with the mean value of its residual non-missing values. So that in revt, cogs, at, there is no nan."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530747742, "post_id": 51181129, "comment_id": 89345930, "body": "OK, but maybe you can humor me and check anyway.  Thanks."}, {"owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530747804, "post_id": 51181129, "comment_id": 89345943, "body": "@WarrenWeckesser-Yes I will definitely check it. And I will let you know:)))"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530747891, "post_id": 51181129, "comment_id": 89345957, "body": "Hold on... you say <code>gpoa_mean</code> is <code>inf</code>?!  That means you have the value <code>inf</code> in <code>gpoa</code>, and that will also cause the z-score to be <code>nan</code>."}, {"owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530748012, "post_id": 51181129, "comment_id": 89345972, "body": "@WarrenWeckesser so how can I check if there is any inf in the series? now it&#39;s a series, do I have to change to array and then check??"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530748319, "post_id": 51181129, "comment_id": 89346007, "body": "For a numpy array, you can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.isinf.html\" rel=\"nofollow noreferrer\"><code>numpy.isinf</code></a> or <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.isfinite.html\" rel=\"nofollow noreferrer\"><code>numpy.isfinite</code></a>.  I think you can pass a Pandas <code>Series</code> to these function, or you can convert the <code>Series</code> to a numpy array first."}, {"owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530748382, "post_id": 51181129, "comment_id": 89346013, "body": "@WarrenWeckesser-ok I will let you know how it works thank youso much!!!"}, {"owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530750286, "post_id": 51181129, "comment_id": 89346314, "body": "@WarrenWeckesser I just checked using the code you give me, there is no inf in my series since it returns [False,False,False...False, False,False]"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530757970, "post_id": 51181129, "comment_id": 89347468, "body": "That shows six values are False.  What about the values hidden in <code>...</code>?  Did you try <code>np.any(np.isinf(gpoa))</code>?"}, {"owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530785608, "post_id": 51181129, "comment_id": 89358903, "body": "@WarrenWeckesser-yes there is inf data in gpoa. and we use gpoa.replace(np.inf,(gpoa.mean()). But this cannot kill all inf data, there are still inf data there, we checked."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530795434, "post_id": 51181129, "comment_id": 89365362, "body": "<code>gpoa.replace(np.inf,(gpoa.mean())</code> won&#39;t work, because if <code>inf</code> occurs in <code>gpoa</code>, then <code>gpoa.mean()</code> is <code>inf</code>."}, {"owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1530795568, "post_id": 51181129, "comment_id": 89365473, "body": "@WarrenWeckesser so my goal is to replace all inf or nan into the mean of the remaining data. Is there any method?"}], "answers": [{"tags": [], "owner": {"reputation": 483, "user_id": 1779895, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e7578bde9e47cb7af0aeb90ebaabb532?s=128&d=identicon&r=PG&f=1", "display_name": "Veliko", "link": "https://stackoverflow.com/users/1779895/veliko"}, "is_accepted": false, "score": 0, "last_activity_date": 1601462176, "creation_date": 1601462176, "answer_id": 64135777, "question_id": 51181129, "link": "https://stackoverflow.com/questions/51181129/why-the-series-give-me-zscore-of-nan-when-series-data-are-not-constant/64135777#64135777", "title": "why the series give me zscore of NAN when series data are not constant", "body": "<p>You can use the <code>nan_policy='omit'</code> option in <code>stats.zscore</code>. See <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mstats.zscore.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>gpoa_z=stats.zscore(gpoa, nan_policy='omit')\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10025998, "user_type": "registered", "profile_image": "https://graph.facebook.com/2081078168797276/picture?type=large", "display_name": "Jazmine Wang", "link": "https://stackoverflow.com/users/10025998/jazmine-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1849, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1601462176, "creation_date": 1530741107, "last_edit_date": 1530747309, "question_id": 51181129, "link": "https://stackoverflow.com/questions/51181129/why-the-series-give-me-zscore-of-nan-when-series-data-are-not-constant", "title": "why the series give me zscore of NAN when series data are not constant", "body": "<p>I have a question regarding to z-score in python. I plan to calculate an coounting ratio-GPOA and generating its z-score values in the form of series.\nHere is what I did: </p>\n\n<pre><code> #Profitablity\n    # GPOA\n    gpoa=(ccm_['revt']-ccm_['cogs'])/ccm_['at']\n    gpoa=np.array(gpoa)\n    gpoa_z=stats.zscore(gpoa)\n    print (gpoa)\n    print(gpoa_z)\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>[ 0.09561083  0.09561083  0.09561083 ...,  0.02845481  0.00311008  0.        ]\n[ nan  nan  nan ...,  nan  nan  nan]\n</code></pre>\n\n<p>the first several data gave NAN, I can understand. It was because the data is constant so standard deviation is zero, hence cannot be parameter, and resulted in NAN. But as you can see the following data is not constant anymore, the z-score is still NAN.</p>\n\n<p>Update 1:</p>\n\n<p>I changed the gpoa from <code>series</code> to <code>array</code>, and then apply <code>stats.zcore</code>, still does not work.</p>\n\n<p>Update 2:</p>\n\n<pre><code>#Profitablity\n# GPOA\ngpoa=(ccm_['revt']-ccm_['cogs'])/ccm_['at']\ngpoa=np.array(gpoa, dtype=pd.Series)\ngpoa_mean=np.mean(gpoa)\ngpoa_std=np.std(gpoa)\ngpoa_z=(gpoa-gpoa_mean)/gpoa_std\nprint(gpoa_z)\n</code></pre>\n\n<p>Still not working. The output is as follows:</p>\n\n<pre><code>[nan nan nan ..., nan nan nan]\n</code></pre>\n\n<p>my gpoa_mean is a <code>inf</code>and it is already float64.</p>\n\n<p>I appreciate your help!</p>\n"}, {"tags": ["python", "machine-learning", "artificial-intelligence", "prediction"], "comments": [{"owner": {"reputation": 787, "user_id": 7224142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63eb4c2b31a647580ff5bdc5fb78fb83?s=128&d=identicon&r=PG&f=1", "display_name": "morsecodist", "link": "https://stackoverflow.com/users/7224142/morsecodist"}, "edited": false, "score": 1, "creation_date": 1530741393, "post_id": 51181082, "comment_id": 89344744, "body": "Are you working with a library? Have you implemented this by hand? If so can we know which library or see some code. I don&#39;t think this question is answerable with the information presented."}, {"owner": {"reputation": 58, "user_id": 7876989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GVWkT3AXp2s/AAAAAAAAAAI/AAAAAAAAAR8/T1irH1XPG_E/photo.jpg?sz=128", "display_name": "Luis Hernandez", "link": "https://stackoverflow.com/users/7876989/luis-hernandez"}, "reply_to_user": {"reputation": 787, "user_id": 7224142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63eb4c2b31a647580ff5bdc5fb78fb83?s=128&d=identicon&r=PG&f=1", "display_name": "morsecodist", "link": "https://stackoverflow.com/users/7224142/morsecodist"}, "edited": false, "score": 0, "creation_date": 1530742738, "post_id": 51181082, "comment_id": 89345051, "body": "there is the code."}, {"owner": {"reputation": 58, "user_id": 7876989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GVWkT3AXp2s/AAAAAAAAAAI/AAAAAAAAAR8/T1irH1XPG_E/photo.jpg?sz=128", "display_name": "Luis Hernandez", "link": "https://stackoverflow.com/users/7876989/luis-hernandez"}, "reply_to_user": {"reputation": 787, "user_id": 7224142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63eb4c2b31a647580ff5bdc5fb78fb83?s=128&d=identicon&r=PG&f=1", "display_name": "morsecodist", "link": "https://stackoverflow.com/users/7224142/morsecodist"}, "edited": false, "score": 0, "creation_date": 1530743013, "post_id": 51181082, "comment_id": 89345113, "body": "Im wondering if there is some way to know which combination of [0,0,0,1,0] corresponds to which value or if i can just give it a String(in the categorical variables) and  change it according to the binary code it corresponds"}], "answers": [{"tags": [], "owner": {"reputation": 2172, "user_id": 3703716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c43df21005cb7ef471ee7019a32de0c7?s=128&d=identicon&r=PG&f=1", "display_name": "mab", "link": "https://stackoverflow.com/users/3703716/mab"}, "is_accepted": false, "score": 0, "last_activity_date": 1530742464, "creation_date": 1530742464, "answer_id": 51181300, "question_id": 51181082, "link": "https://stackoverflow.com/questions/51181082/how-to-make-a-new-prediction/51181300#51181300", "title": "How to make a new prediction", "body": "<p>If you want to encode all days of the week for a prediction, monday should probably be <code>[1,0,0,0,0,0,0]</code>. Or you use regression (0.0 - 6.0) instead of classification.</p>\n\n<p>But, since you used <code>X</code> instead of <code>y</code> here, I'm not sure if your provided <code>X=['Monday','January','South']</code> is meant to be the input rather than the output (<code>y</code>). If it is, you do not need a one-hot encoding and you can just encode as e.g. <code>X=[0,0,2]</code> with </p>\n\n<ul>\n<li>Monday 0</li>\n<li>Tuesday 1</li>\n<li>...</li>\n<li>January 0</li>\n<li>February 1</li>\n<li>North 0</li>\n<li>East 1</li>\n<li>...</li>\n</ul>\n\n<p>I agree with @morsecodist that more information is needed for a proper answer to your question.</p>\n"}], "owner": {"reputation": 58, "user_id": 7876989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GVWkT3AXp2s/AAAAAAAAAAI/AAAAAAAAAR8/T1irH1XPG_E/photo.jpg?sz=128", "display_name": "Luis Hernandez", "link": "https://stackoverflow.com/users/7876989/luis-hernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530742713, "creation_date": 1530740795, "last_edit_date": 1530742713, "question_id": 51181082, "link": "https://stackoverflow.com/questions/51181082/how-to-make-a-new-prediction", "title": "How to make a new prediction", "body": "<p>Let me explain, i'm working with an Artificial Neural Network.\nThis model has 15 variables, 14 independents and one dependent.\nIn the independent variables i've 3 categorical variables \n<code>(day of week, month, direction(north,south, etc...))</code>.\nI already enconde them <code>(monday = 1, tuesday = 2, and so...),</code> \nalso i hot encode them \n<code>(monday = [1,0,0,0], tuesday = [0,1,0,0])</code>.</p>\n\n<p>My question is, How can i make a prediction with new values, somethig like this.</p>\n\n<pre><code>X=['Monday','January','South']\n</code></pre>\n\n<p>Here is the code</p>\n\n<pre><code># Classification template\n\n# Importing the libraries\nimport numpy as np\nimport pandas as pd\n\n# Importing the dataset\n\ndataset = pd.read_csv('clean.csv')\n\nX = dataset.iloc[:, [4,5,6,9,12,15,16]].values\ny = dataset.iloc[:, 14].values\n\n#Encoding categorical Data\nfrom sklearn.preprocessing import LabelEncoder, OneHotEncoder\nlabelenconder_X = LabelEncoder()\nX[:,1] = labelenconder_X.fit_transform(X[:,1])\n\nlabelenconder_X_2 = LabelEncoder()\nX[:,2] = labelenconder_X_2.fit_transform(X[:,2])\n\nlabelenconder_X_7 = LabelEncoder()\nX[:,4] = labelenconder_X_7.fit_transform(X[:,4])\n\nlabelenconder_X_9 = LabelEncoder()\nX[:,5] = labelenconder_X_9.fit_transform(X[:,5])\n\nlabelenconder_X_10 = LabelEncoder()\nX[:,6] = labelenconder_X_10.fit_transform(X[:,6])\n\nonehotencoder = OneHotEncoder(categorical_features=[1,2,4,5,6])\n\nX = onehotencoder.fit_transform(X).toarray()\n\nX = X[:, 1:]\n\n\n\n# Splitting the dataset into the Training set and Test set\nfrom sklearn.cross_validation import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.25, random_state = 0)\n\n# Feature Scaling\n#from sklearn.preprocessing import StandardScaler\n#sc = StandardScaler()\n#X_train = sc.fit_transform(X_train)\n#X_test = sc.transform(X_test)\n\n# Fitting classifier to the Training set\n# Create your classifier here\nimport keras\nfrom keras.models import Sequential\nfrom keras.layers import Dense\n\n\nclassifier = Sequential()\n\n                    #INPUT LAYER AND HIDDEN LAYER\nclassifier.add(Dense(units = 5, kernel_initializer = 'uniform', activation = 'relu', input_dim =9))\n\n                    #ADDING SECOND HIDDEN LAYER\nclassifier.add(Dense(units = 5, kernel_initializer = 'uniform', activation =  'relu'))\n\n                    #adding output node \nclassifier.add(Dense(units= 1, kernel_initializer = 'uniform', activation = 'sigmoid'))\n\n                    #Applygin Stochasting Gradient Descent\n\nclassifier.compile(optimizer='adam', loss = 'binary_crossentropy', metrics=['accuracy'])\n\nclassifier.fit(X_train, y_train, batch_size =28, epochs = 100)\n\n\nclassifier.save('ANN2.h5')\nmodel = keras.models.load_model('ANN2.h5')\ny_predict = model.predict(X_test)\ny_predict = (y_predict &gt; 0.40)\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "tensorflow-probability"], "comments": [{"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1530742168, "post_id": 51181050, "comment_id": 89344924, "body": "Can you provide us with <a href=\"https://stackoverflow.com/help/mcve\"><i>minimal, complete, and verifiable example</i></a>?"}, {"owner": {"reputation": 1022, "user_id": 5105207, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dd8f2464a13b90c1abf929d3e8624ad7?s=128&d=identicon&r=PG", "display_name": "Page David", "link": "https://stackoverflow.com/users/5105207/page-david"}, "edited": false, "score": 0, "creation_date": 1530768665, "post_id": 51181050, "comment_id": 89349601, "body": "It seems that you do not feed anything into your placeholder when <code>eval</code> is called. Could you show us more of your code?"}], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 2281298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05cd12e3d773bad7f8d068c4b551e580?s=128&d=identicon&r=PG", "display_name": "srvasude", "link": "https://stackoverflow.com/users/2281298/srvasude"}, "is_accepted": false, "score": 0, "last_activity_date": 1531683438, "creation_date": 1531683438, "answer_id": 51351610, "question_id": 51181050, "link": "https://stackoverflow.com/questions/51181050/how-do-i-multiply-two-gaussian-distributions/51351610#51351610", "title": "How do I multiply two Gaussian distributions?", "body": "<p>For this example, you are using x as a tf.float64. Unless you explicitly specify, tensorflow will auto-convert list inputs to tf.float32. You want to do something like (not executable code, but demonstrating you need to signal float64):</p>\n\n<pre><code>import numpy as np\nlikelihood = tf.contrib.distributions.MultivariateNormalDiag(loc=np.float64([0., 0., 0.]), scale_diag=np.float64([1., 1., 1.]))\ny_LL = likelihood.prob(x).eval() \n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4627855, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202627630571670/picture?type=large", "display_name": "Anil Gaddam", "link": "https://stackoverflow.com/users/4627855/anil-gaddam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 705, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531683438, "creation_date": 1530740524, "last_edit_date": 1530767276, "question_id": 51181050, "link": "https://stackoverflow.com/questions/51181050/how-do-i-multiply-two-gaussian-distributions", "title": "How do I multiply two Gaussian distributions?", "body": "<p>I am trying to multiply two Gaussian distributions to obtain posterior for GMM data.  In order to do that, I am trying to use <code>.prob()</code> function from <code>tf.contrib.distributions.MultivariateNormalDiag</code>, but every time I am getting the same error, even if I am providing the argument with <code>float64</code>.</p>\n\n<p>I am using TensorFlow 1.8 version.</p>\n\n<pre><code>x = tf.placeholder(tf.float64, [None,2], name=\"input\")\nlikelihood = tf.contrib.distributions.MultivariateNormalDiag(loc = [0., 0., 0.], scale_diag= [1., 1., 1.])\n\ny_LL = likelihood.prob(x).eval() \n</code></pre>\n\n<blockquote>\n  <p>TypeError: Input had dtype <code>&lt;dtype: 'float32'&gt;</code> but expected <code>&lt;dtype: 'float64'&gt;.</code></p>\n</blockquote>\n\n<p>I am confused whether I am doing it the wrong way, or what? Can someone please help me with this?</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "is_accepted": true, "score": 2, "last_activity_date": 1530745391, "last_edit_date": 1530745391, "creation_date": 1530741514, "answer_id": 51181179, "question_id": 51181041, "link": "https://stackoverflow.com/questions/51181041/valueerror-index-out-of-range-using-input-dim-1-input-has-only-1-dims-for-stri/51181179#51181179", "title": "ValueError: Index out of range using input dim 1; input has only 1 dims for strided_slice", "body": "<p><code>[5.0, 3.0, 7.1]</code> is a vector, which is a 1D tensor. Vectors cannot be sliced or indexed using the syntax for matrices, e.g. using <code>[:, 0]</code>, but, to access the first element of the vector, you need to (simply) use <code>[0]</code>. So, your code would work as follows</p>\n\n<pre><code>import tensorflow as tf\n\n\ndef compute_area(sides):\n    a, b, c = sides[0], sides[1], sides[2]\n    # Heron formula\n    s = (a + b + c) * 0.5\n    area_sq = s * (s - a) * (s - b) * (s - c)\n    return tf.sqrt(area_sq)\n\n\nwith tf.Session() as sess:\n    area = compute_area(tf.constant([5.0, 3.0, 7.1]))\n    result = sess.run(area)\n    print(result)\n</code></pre>\n\n<p>In the section \"<em><a href=\"https://www.tensorflow.org/programmers_guide/tensors\" rel=\"nofollow noreferrer\">Referring to tf.Tensor slices</a></em>\" (of the official TensorFlow article regarding tensors), you have more info regarding indexing and slicing tensors in TensorFlow.</p>\n"}], "owner": {"reputation": 7303, "user_id": 260826, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/D40aN.jpg?s=128&g=1", "display_name": "gogasca", "link": "https://stackoverflow.com/users/260826/gogasca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4117, "favorite_count": 1, "accepted_answer_id": 51181179, "answer_count": 1, "score": 0, "last_activity_date": 1530745391, "creation_date": 1530740497, "last_edit_date": 1530741799, "question_id": 51181041, "link": "https://stackoverflow.com/questions/51181041/valueerror-index-out-of-range-using-input-dim-1-input-has-only-1-dims-for-stri", "title": "ValueError: Index out of range using input dim 1; input has only 1 dims for strided_slice", "body": "<p>When I run the following piece of code</p>\n\n<pre><code>import tensorflow as tf\n\n\ndef compute_area(sides):\n    a = sides[:, 0]\n    b = sides[:, 1]\n    c = sides[:, 2]\n    # Heron formula\n    s = (a + b + c) * 0.5\n    area_sq = s * (s - a) * (s - b) * (s - c)\n    return tf.sqrt(area_sq)\n\n\nwith tf.Session() as sess:\n    area = compute_area(tf.constant([5.0, 3.0, 7.1]))\n    result = sess.run(area)\n    print(result)\n</code></pre>\n\n<p>I get the following error</p>\n\n<pre><code>ValueError: Index out of range using input dim 1; input has only 1 dims for 'strided_slice' (op: 'StridedSlice') with input shapes: [3], [2], [2], [2] and with computed input tensors: input[3] = &lt;1 1&gt;.\n</code></pre>\n\n<p>Why is that?</p>\n"}, {"tags": ["python", "python-3.x", "inheritance"], "comments": [{"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 2, "creation_date": 1530740608, "post_id": 51181034, "comment_id": 89344550, "body": "<code>Super(name)</code> creates a <code>new</code> instance of <code>Super</code> which is immediately discarded. You need to call <code>__init__()</code> on the specific instance (<code>self</code>), <code>super()</code> is preferred and you no longer need to pass arguments to <code>super()</code>, e.g. <code>super().__init__(name)</code> is sufficient."}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1530742131, "post_id": 51181034, "comment_id": 89344913, "body": "In your class <code>Sub</code>, you are initializing a new instance of the parent class, which is not what you want to do. <code>Subclass</code> wants to initialize all attributes/methods (inherits) from parent&#39;s class (see abarnert&#39;s answer for how-to). Because you don&#39;t initialize parent&#39;s class attribute, you do not give your Sub&#39;s instance (you called it <code>a</code>) the attribute <code>name</code>. And you&#39;re trying to access an attribute that doesn&#39;t exist, this is why the error is raised."}], "answers": [{"comments": [{"owner": {"reputation": 3480, "user_id": 5713272, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0ec3b3c05f82a246934e2dcb94e35a7e?s=128&d=identicon&r=PG&f=1", "display_name": "watchtower", "link": "https://stackoverflow.com/users/5713272/watchtower"}, "edited": false, "score": 0, "creation_date": 1530740772, "post_id": 51181059, "comment_id": 89344593, "body": "Thanks for your help. Wouldn&#39;t <code>Super(name)</code> also attach <code>self</code> (i.e. object <code>a</code>)? What happens to implicit <code>self</code> passed to <code>Super</code>?"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 0, "creation_date": 1530740823, "post_id": 51181059, "comment_id": 89344603, "body": "A new <code>self</code> which it passes to <code>Super.__init__()</code> which is returned but you are not assigning the return from <code>Super(name)</code> to a value so it is immediately discarded."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 3480, "user_id": 5713272, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0ec3b3c05f82a246934e2dcb94e35a7e?s=128&d=identicon&r=PG&f=1", "display_name": "watchtower", "link": "https://stackoverflow.com/users/5713272/watchtower"}, "edited": false, "score": 2, "creation_date": 1530740845, "post_id": 51181059, "comment_id": 89344609, "body": "@watchtower: There isn&#39;t just one <code>self</code> across the whole program. <code>Super(name)</code> creates a new <code>Super</code> instance to use as <code>self</code>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1530740652, "creation_date": 1530740652, "answer_id": 51181059, "question_id": 51181034, "link": "https://stackoverflow.com/questions/51181034/reason-for-calling-super-class-constructor-using-superclass-init-instead-o/51181059#51181059", "title": "Reason for calling super class constructor using superclass.__init()__ instead of superclass()", "body": "<p><code>Super(name)</code> is not a \"direct call\" to the superclass <code>__init__</code>. After all, you called <code>Super</code>, not <code>Super.__init__</code>.</p>\n\n<p><code>Super.__init__</code> takes an uninitialized <code>Super</code> instance and initializes it. <code>Super</code> <em>creates</em> and initializes a new, completely separate instance from the one you wanted to initialize (and then you immediately throw the new instance away). The instance you wanted to initialize is untouched.</p>\n"}, {"comments": [{"owner": {"reputation": 3480, "user_id": 5713272, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0ec3b3c05f82a246934e2dcb94e35a7e?s=128&d=identicon&r=PG&f=1", "display_name": "watchtower", "link": "https://stackoverflow.com/users/5713272/watchtower"}, "edited": false, "score": 1, "creation_date": 1530744240, "post_id": 51181186, "comment_id": 89345321, "body": "Thanks for excellent response. In the first example, <code>LocalRot13Reader</code> didn&#39;t inherit from <code>Rot13Reader</code>. So, I believe this example is different from what I have posted."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 3480, "user_id": 5713272, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0ec3b3c05f82a246934e2dcb94e35a7e?s=128&d=identicon&r=PG&f=1", "display_name": "watchtower", "link": "https://stackoverflow.com/users/5713272/watchtower"}, "edited": false, "score": 0, "creation_date": 1530745881, "post_id": 51181186, "comment_id": 89345579, "body": "@watchtower Oops; that&#39;s a typo. Thanks for catching it, and I&#39;ll fix it. If you add the inheritance, it all works\u2014initializing a <code>LocalRot13Reader</code> skips the <code>open</code> call, but <code>close</code> and <code>dostuff</code> are inherited as expected."}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1530745892, "last_edit_date": 1530745892, "creation_date": 1530741575, "answer_id": 51181186, "question_id": 51181034, "link": "https://stackoverflow.com/questions/51181034/reason-for-calling-super-class-constructor-using-superclass-init-instead-o/51181186#51181186", "title": "Reason for calling super class constructor using superclass.__init()__ instead of superclass()", "body": "<blockquote>\n  <p>As I understand from the book, if Sub inherits Super then one need not call superclass' (<code>Super</code>'s) <code>__init__()</code> method.</p>\n</blockquote>\n\n<p>This is misleading. It's true that you aren't <em>required</em> to call the superclass's <code>__init__</code> method\u2014but if you don't, whatever it does in <code>__init__</code> never happens. And for normal classes, all of that needs to be done. It is <em>occasionally</em> useful, usually when a class wasn't designed to be inherited from, like this:</p>\n\n<pre><code>class Rot13Reader:\n    def __init__(self, filename):\n        self.file = open(filename):\n    def close(self):\n        self.file.close()\n    def dostuff(self):\n        line = next(file)\n        return codecs.encode(line, 'rot13')\n</code></pre>\n\n<p>Imagine that you want all the behavior of this class, but with a string rather than a file. The only way to do that is to skip the <code>open</code>:</p>\n\n<pre><code>class LocalRot13Reader(Rot13Reader):\n    def __init__(self, s):\n        # don't call super().__init__, because we don't have a filename to open\n        # instead, set up self.file with something else\n        self.file = io.StringIO(s)\n</code></pre>\n\n<p>Here, we wanted to avoid the <code>self.file</code> assignment in the superclass. In your case\u2014as with almost all classes you're ever going to write\u2014you <em>don't</em> want to avoid the <code>self.name</code> assignment in the superclass. That's why, even though Python <em>allows</em> you to not call the superclass's <code>__init__</code>, you almost always call it.</p>\n\n<p>Notice that there's nothing special about <code>__init__</code> here. For example, we can override <code>dostuff</code> to call the base class's version and then do extra stuff:</p>\n\n<pre><code>def dostuff(self):\n    result = super().dostuff()\n    return result.upper()\n</code></pre>\n\n<p>\u2026 or we can override <code>close</code> and intentionally not call the base class:</p>\n\n<pre><code>def close(self):\n    # do nothing, including no super, because we borrowed our file\n</code></pre>\n\n<p>The only difference is that good reasons to avoid calling the base class tend to be much more common in normal methods than in <code>__init__</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Question: Why do I need to call <code>Super's __init__</code> using <code>Super.__init__(self, name)</code> OR <code>super(Sub, self).__init__(name)</code> instead of a direct call <code>Super(name)</code>?</p>\n</blockquote>\n\n<p>Because these do very different things.</p>\n\n<p><code>Super(name)</code> constructs a new <code>Super</code> instance, calls <code>__init__(name)</code> on it, and returns it to you. And you then ignore that value.</p>\n\n<p>In particular, <code>Super.__init__</code> does get called one time either way\u2014but the <code>self</code> it gets called with is that new <code>Super</code> instance, that you're just going to throw away, in the <code>Super(name)</code> case, while it's your own <code>self</code> in the <code>super(Sub, self).__init__(name)</code> case.</p>\n\n<p>So, in the first case, it sets the <code>name</code> attribute on some other object that gets thrown away, and nobody ever sets it on your object, which is why <code>self.name</code> later raises an <code>AttributeError</code>.</p>\n\n<p>It might help you understand this if you add something to both class's <code>__init__</code> methods to show which instance is involved:</p>\n\n<pre><code>class Super:\n    def __init__(self,name):\n        print(f\"Inside Super __init__ for {self}\")\n        self.name=name\n        print(\"Name is:\",name)\n\nclass Sub(Super):\n    def __init__(self,name):\n        print(f\"Inside Sub __init__ for {self}\")\n        # line you want to experiment with goes here.\n</code></pre>\n\n<p>If that last line is <code>super().__init__(name)</code>, <code>super(Sub, self).__init__name)</code>, or <code>Super.__init__(self, name)</code>, you will see something like this:</p>\n\n<pre><code>Inside Sub __init__ for &lt;__main__.Sub object at 0x10f7a9e80&gt;\nInside Super __init__ for &lt;__main__.Sub object at 0x10f7a9e80&gt;\n</code></pre>\n\n<p>Notice that it's the same object, the <code>Sub</code> at address 0x10f7a9e80, in both cases.</p>\n\n<p>\u2026 but if that last line is <code>Super(name)</code>:</p>\n\n<pre><code>Inside Sub __init__ for &lt;__main__.Sub object at 0x10f7a9ea0&gt;\nInside Super __init__ for &lt;__main__.Super object at 0x10f7a9ec0&gt;\n</code></pre>\n\n<p>Now we have two different objects, at different addresses 0x10f7a9ea0 and 0x10f7a9ec0, and with different types.</p>\n\n<hr>\n\n<p>If you're curious about what the magic all looks like under the covers, <code>Super(name)</code> does something like this (oversimplifying a bit and skipping over some steps<sup>1</sup>):</p>\n\n<pre><code>_newobj = Super.__new__(Super)\nif isinstance(_newobj, Super):\n    Super.__init__(_newobj, name)\n</code></pre>\n\n<p>\u2026 while <code>super(Sub, self).__init__(name)</code> does something like this:</p>\n\n<pre><code>_basecls = magically_find_next_class_in_mro(Sub)\n_basecls.__init__(self, name)\n</code></pre>\n\n<hr>\n\n<p>As a side note, if a book is telling you to use <code>super(Sub, self).__init__(name)</code> or <code>Super.__init__(self, name)</code>, it's probably an obsolete book written for Python 2.</p>\n\n<p>In Python 3, you just do this:</p>\n\n<ul>\n<li><code>super().__init__(name)</code>: Calls the correct next superclass by method resolution order. You almost always want this.</li>\n<li><code>super(Sub, self).__init__(name)</code>: Calls the correct next superclass\u2014unless you make a mistake and get <code>Sub</code> wrong there. You only need this if you're writing dual-version code that has to run in 2.7 as well as 3.x.</li>\n<li><code>Super.__init__(self, name)</code>: Calls <code>Super</code>, whether it's the correct next superclass or not. You only need this if the method resolution order is wrong and you have to work around it.<sup>2</sup></li>\n</ul>\n\n<hr>\n\n<p>If you want to understand more, it's all in the docs, but it can be a bit daunting:</p>\n\n<ul>\n<li><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__new__\" rel=\"nofollow noreferrer\"><code>__new__</code></a></li>\n<li><a href=\"https://docs.python.org/3/reference/datamodel.html#object.__init__\" rel=\"nofollow noreferrer\"><code>__init__</code></a></li>\n<li><a href=\"https://docs.python.org/3/library/functions.html#super\" rel=\"nofollow noreferrer\"><code>super</code></a> (also see <a href=\"https://rhettinger.wordpress.com/2011/05/26/super-considered-super/\" rel=\"nofollow noreferrer\">Raymond Hettinger's blog post</a>)</li>\n<li><a href=\"https://docs.python.org/3/reference/datamodel.html#invoking-descriptors\" rel=\"nofollow noreferrer\">method invocation</a> (also see the <a href=\"https://docs.python.org/3/howto/descriptor.html\" rel=\"nofollow noreferrer\">HOWTO</a>)</li>\n</ul>\n\n<p>The <a href=\"https://www.python.org/download/releases/2.2.3/descrintro/\" rel=\"nofollow noreferrer\">original introduction to <code>super</code>, <code>__new__</code>, and all the related features</a> was very helpful to me in understanding all of this. I'm not sure if it'll be as helpful to someone who's not coming at this already understanding old-style Python classes, but it's pretty well written, and Guido (obviously) knows what he's talking about, so it might be worth reading.</p>\n\n<hr>\n\n<p><sub>1. The biggest cheat in this explanation is that <code>super</code> actually returns a proxy object that acts like <code>_baseclass</code> bound to <code>self</code> in the same way methods are bound, which can be used to bind methods, like <code>__init__</code>. This is useful/interesting knowledge if you know how methods work, but probably just extra confusion if you don't.</sub></p>\n\n<p><sub>2. \u2026 or if you're working with old-style classes, which don't support <code>super</code> (or proper method-resolution order). This never comes up in Python 3, which doesn't have old-style classes. But, unfortunately, you will see it in lots of tkinter examples, because the best tutorial is still Effbot's, which was written for Python 2.3, when Tkinter was all old-style classes, and has never been updated.</sub></p>\n"}, {"comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530817087, "post_id": 51181241, "comment_id": 89378105, "body": "@abarnert My example actually has multiple inheritance, so I don&#39;t see how what you are saying contradicts to it. Am I missing something? Or did I just not write the answer clearly enough to make the point clear?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530818107, "post_id": 51181241, "comment_id": 89378602, "body": "Your original answer didn&#39;t have the MI. You quickly edited it to add that, and I upvoted your answer. Maybe I should have deleted my comment too? I&#39;ll do that now."}], "tags": [], "owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "is_accepted": false, "score": 1, "last_activity_date": 1530741983, "creation_date": 1530741983, "answer_id": 51181241, "question_id": 51181034, "link": "https://stackoverflow.com/questions/51181034/reason-for-calling-super-class-constructor-using-superclass-init-instead-o/51181241#51181241", "title": "Reason for calling super class constructor using superclass.__init()__ instead of superclass()", "body": "<p><code>Super(name)</code> instantiates a new instance of super. Think of this example:</p>\n\n<pre><code>def __init__(self, name):\n    x1 = Super(name)\n    x2 = Super(\"some other name\")\n    assert x1 is not self\n    assert x2 is not self\n</code></pre>\n\n<p>In order to explicitly call The <code>Super</code>'s constructor on the current instance, you'd have to use the following syntax:</p>\n\n<pre><code>def __init__(self, name):\n    Super.__init__(self, name)\n</code></pre>\n\n<hr>\n\n<p>Now, maybe you don't want read further if you are a beginner.</p>\n\n<p>If you do, you will see that there is a good reason to use <code>super(Sub, self).__init__(name)</code> (or <code>super().__init__(name)</code> in Python 3) instead of  <code>Super.__init__(self, name)</code>.</p>\n\n<hr>\n\n<p><code>Super.__init__(self, name)</code> works fine, as long as you are certain that <code>Super</code> is in fact your superclass. But in fact, you don't know ever that for sure.</p>\n\n<p>You could have the following code:</p>\n\n<pre><code>class Super:\n    def __init__(self):\n        print('Super __init__')\n\nclass Sub(Super):\n    def __init__(self):\n        print('Sub __init__')\n        Super.__init__(self)\n\nclass Sub2(Super):\n    def __init__(self):\n        print('Sub2 __init__')\n        Super.__init__(self)\n\nclass SubSub(Sub, Sub2):\n    pass\n</code></pre>\n\n<p>You would now expect that <code>SubSub()</code> ends up calling all of the above constructors, but it does not:</p>\n\n<pre><code>&gt;&gt;&gt; x = SubSub()\nSub __init__\nSuper __init__\n&gt;&gt;&gt;\n</code></pre>\n\n<p>To correct it, you'd have to do:</p>\n\n<pre><code>class Super:\n    def __init__(self):\n        print('Super __init__')\n\nclass Sub(Super):\n    def __init__(self):\n        print('Sub __init__')\n        super().__init__()\n\nclass Sub2(Super):\n    def __init__(self):\n        print('Sub2 __init__')\n        super().__init__()\n\nclass SubSub(Sub, Sub2):\n    pass\n</code></pre>\n\n<p>Now it works:</p>\n\n<pre><code>&gt;&gt;&gt; x = SubSub()\nSub __init__\nSub2 __init__\nSuper __init__\n&gt;&gt;&gt;\n</code></pre>\n\n<p>The reason is that the super class of <code>Sub</code> is declared to be <code>Super</code>, in case of multiple inheritance in class <code>SubSub</code>, Python's MRO establishes the inheritance as: <code>SubSub</code> inherits from <code>Sub</code>, which inherits from <code>Sub2</code>, which inherits from <code>Super</code>, which inherits from <code>object</code>.</p>\n\n<p>You can test that:</p>\n\n<pre><code>&gt;&gt;&gt; SubSub.__mro__\n(&lt;class '__main__.SubSub'&gt;, &lt;class '__main__.Sub'&gt;, &lt;class '__main__.Sub2'&gt;, &lt;class '__main__.Super'&gt;, &lt;class 'object'&gt;)\n</code></pre>\n\n<p>Now, the <code>super()</code> call in constructors of each of the classes finds the next class in the MRO so that the constructor of that class can be called.</p>\n\n<p>See <a href=\"https://www.python.org/download/releases/2.3/mro/\" rel=\"nofollow noreferrer\">https://www.python.org/download/releases/2.3/mro/</a></p>\n"}], "owner": {"reputation": 3480, "user_id": 5713272, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0ec3b3c05f82a246934e2dcb94e35a7e?s=128&d=identicon&r=PG&f=1", "display_name": "watchtower", "link": "https://stackoverflow.com/users/5713272/watchtower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1932, "favorite_count": 1, "accepted_answer_id": 51181186, "answer_count": 3, "score": 1, "last_activity_date": 1530745892, "creation_date": 1530740436, "last_edit_date": 1530745883, "question_id": 51181034, "link": "https://stackoverflow.com/questions/51181034/reason-for-calling-super-class-constructor-using-superclass-init-instead-o", "title": "Reason for calling super class constructor using superclass.__init()__ instead of superclass()", "body": "<p>I am a beginner in Python and using Lutz's book to understand OOPS in Python. This question might be basic, but I'd appreciate any help. I researched SO and found answers on \"how\", but not \"why.\"</p>\n\n<p>As I understand from the book, if <code>Sub</code> inherits <code>Super</code> then one need not call superclass' (<code>Super</code>'s) <code>__init__()</code> method.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>class Super:\n    def __init__(self,name):\n        self.name=name\n        print(\"Name is:\",name)\n\nclass Sub(Super):\n    pass\n\na = Sub(\"Harry\")\na.name\n</code></pre>\n\n<p>Above code does assign attribute <code>name</code> to the object <code>a</code>. It also prints the <code>name</code> as expected. </p>\n\n<p>However, if I modify the code as:</p>\n\n<pre><code>class Super:\n    def __init__(self,name):\n        print(\"Inside Super __init__\")\n        self.name=name\n        print(\"Name is:\",name)\n\nclass Sub(Super):\n      def __init__(self,name):\n          Super(name) #Call __init__ directly\n\na = Sub(\"Harry\")\na.name\n</code></pre>\n\n<p>The above code doesn't work fine. By fine, I mean that although <code>Super.__init__()</code> does get called (as seen from the print statements), there is no attribute attached to <code>a</code>. When I run <code>a.name</code>, I get an error, <code>AttributeError: 'Sub' object has no attribute 'name'</code></p>\n\n<p>I researched this topic on SO, and found the fix on <a href=\"https://stackoverflow.com/questions/904036/chain-calling-parent-constructors-in-python?noredirect=1&amp;lq=1\">Chain-calling parent constructors in python</a> and <a href=\"https://stackoverflow.com/questions/3782827/why-arent-superclass-init-methods-automatically-invoked\">Why aren&#39;t superclass __init__ methods automatically invoked?</a></p>\n\n<p>These two threads talk about how to fix it, but they don't provide a reason for why. </p>\n\n<p>Question: <strong>Why</strong> do I need to call <code>Super</code>'s <code>__init__</code> using <code>Super.__init__(self, name)</code> OR <code>super(Sub, self).__init__(name)</code> instead of a direct call <code>Super(name)</code>? </p>\n\n<p>In <code>Super.__init__(self, name)</code> and  <code>Super(name)</code>, we see that Super's <code>__init__()</code> gets called, (as seen from print statements), but only in <code>Super.__init__(self, name)</code> we see that the attribute gets attached to <code>Sub</code> class.</p>\n\n<p>Wouldn't <code>Super(name)</code> automatically pass <code>self</code> (child) object to <code>Super</code>? Now, you might ask that how do I know that <code>self</code> is automatically passed? If I modify <code>Super(name)</code> to <code>Super(self,name)</code>, I get an error message that <code>TypeError: __init__() takes 2 positional arguments but 3 were given</code>. As I understand from the book, <code>self</code> is automatically passed. So, effectively, we end up passing <code>self</code> twice. </p>\n\n<p>I don't know why <code>Super(name)</code> doesn't attach <code>name</code> attribute to <code>Sub</code> even though <code>Super.__init__()</code> is run. I'd appreciate any help. </p>\n\n<hr>\n\n<p>For reference, here's the working version of the code based on my research from SO:</p>\n\n<pre><code>class Super:\n    def __init__(self,name):\n        print(\"Inside __init__\")\n        self.name=name\n        print(\"Name is:\",name)\n\nclass Sub(Super):\n    def __init__(self,name):\n        #Super.__init__(self, name) #One way to fix this\n        super(Sub, self).__init__(name) #Another way to fix  this\n\na = Sub(\"Harry\")\na.name\n</code></pre>\n\n<p>PS: I am using <code>Python-3.6.5</code> under Anaconda Distribution.</p>\n"}, {"tags": ["python", "pandas", "numpy", "matplotlib", "scipy"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 9990311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e59a6d8af589f00227f3e6301a211c2f?s=128&d=identicon&r=PG&f=1", "display_name": "Lani", "link": "https://stackoverflow.com/users/9990311/lani"}, "is_accepted": true, "score": 0, "last_activity_date": 1530746163, "creation_date": 1530746163, "answer_id": 51181685, "question_id": 51180972, "link": "https://stackoverflow.com/questions/51180972/two-csv-files-with-same-column-names-i-need-to-perform-linear-regression-compa/51181685#51181685", "title": "Two CSV files with same column names,. I need to perform linear regression comparing columns with same header name from both files", "body": "<p>I found the answer to my question. It was all about the syntax in the df.values portion of my script. Here is the new script that loops over different headers you want to compare from two files and perform a linear regression on them:</p>\n\n<pre><code>import pandas\nimport csv\nimport pandas as pd\nimport numpy as np\nfrom pandas import DataFrame\nimport matplotlib.pyplot as plt\nimport glob\nfrom scipy import linspace, polyval, polyfit, sqrt, stats, randn\n\n\n\n\n\ninput_file = \"headers.csv\"\nheaderfile = open(input_file,\"r\")\n\nfields = headerfile.read().splitlines()\n#print(fields)\n\n#File1\ndata1 = pd.read_csv('sorted_42650files_from_the_1.7chembl_database.csv',low_memory=False) #read large csv filei\n\n#File2\ndata2 = pd.read_csv('sorted_60kdat_without_duplicates.csv',low_memory=False)\n\n#create my x and y column for linear regression comparison based only on the ASA header\n\nfor lines in fields:\n    #print(lines)\n    x = data1[lines]\n    y = data2[lines]\n#    print(x)\n#    print(y)\n\n\n\n#plot it\n    slope, intercept, r_value, p_value, std_err = stats.linregress(x, y)\n    plt.plot(x,y, 'o', color='purple')\n    plt.plot(x,intercept + slope*x, color=\"black\", label='fitted line' + ',' + '$R^2$={:.4f}'.format(r_value))\n    plt.suptitle('MOE ASA+ Descriptor Correlation Plot', fontsize=14)\n    plt.xlabel('Ab Initio', fontsize=16)\n    plt.ylabel('Molecular Mechanics', fontsize=16)\n    plt.legend(loc=4)\n    print(lines + '$R^2$={:.4f}'.format(r_value))\n   # plt.show()\n    plt.savefig(lines)\n    plt.close()\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9990311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e59a6d8af589f00227f3e6301a211c2f?s=128&d=identicon&r=PG&f=1", "display_name": "Lani", "link": "https://stackoverflow.com/users/9990311/lani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 51181685, "answer_count": 1, "score": 0, "last_activity_date": 1530746163, "creation_date": 1530739980, "question_id": 51180972, "link": "https://stackoverflow.com/questions/51180972/two-csv-files-with-same-column-names-i-need-to-perform-linear-regression-compa", "title": "Two CSV files with same column names,. I need to perform linear regression comparing columns with same header name from both files", "body": "<p>I have two csv files with the same column names in different orders. I need to correlate columns between both csv files between their common headers and plot a correlation plot of the data. For example from file1 and file2 I want to compare the 'ASA' column and form a correlation plot from this. I have a seperate file with all of the column names I need to compare so if can loop through the millions of files I have but pandas keeps telling me I have an attribute error when I add my 'list' to the y = data2.lines.values or x = data1.lines.values. I tried looping and making matching conditions but nothing has worked. </p>\n\n<pre><code>import csv\nimport pandas as pd\nimport numpy as np\nfrom pandas import DataFrame\nimport matplotlib.pyplot as plt\nfrom scipy import linspace, polyval, polyfit, sqrt, stats, randn\n\n\n#File1\ndata1 = pd.read_csv('sorted_42650files_from_the_1.7chembl_database.csv',low_memory=False) #read large csv filei\n\n#File2\ndata2 = pd.read_csv('sorted_60kdat_without_duplicates.csv',low_memory=False)\n\n#File3\n\ndata3 = pd.read_csv('headers.csv',low_memory=False)\nlines = data3.readlines()\n#create my x and y column for linear regression comparison based only on the descritor.csv header name\n\n\nx = data1.lines.values\ny = data2.lines.values\nprint(x)\nprint(y)\n\n\n\n#plot it\nslope, intercept, r_value, p_value, std_err = stats.linregress(x, y)\nplt.plot(x,y, 'o', color='purple')\nplt.plot(x,intercept + slope*x, color=\"black\", label='fitted line' + ',' + '$R^2$={:.4f}'.format(r_value))\nplt.suptitle('MOE ASA+ Descriptor Correlation Plot', fontsize=14)\nplt.xlabel('Ab Initio', fontsize=16)\nplt.ylabel('Molecular Mechanics', fontsize=16)\nplt.legend(loc=4)\nprint('$R^2$={:.4f}'.format(r_value))\nplt.show()\nplt.savefig('ASA+')\nplt.close()\n</code></pre>\n\n<p><a href=\"https://www.dropbox.com/s/eerpp2dxp384t2t/sorted_42650files_from_the_1.7chembl_database.csv?dl=0\" rel=\"nofollow noreferrer\">file data1</a></p>\n\n<p><a href=\"https://www.dropbox.com/s/s9jrcvdcp2c964v/sorted_60kdat_without_duplicates.csv?dl=0\" rel=\"nofollow noreferrer\">file data2</a></p>\n\n<p><a href=\"https://www.dropbox.com/s/ss3lf0rleul4ksz/descriptors.csv?dl=0\" rel=\"nofollow noreferrer\">file data3</a> (all of the headers I want to correlate between the files)</p>\n\n<p>Thank you for any help you can give me.</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 1899, "user_id": 7678093, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pmOoYwmTf74/AAAAAAAAAAI/AAAAAAAAAL8/Y_o2wrESTgc/photo.jpg?sz=128", "display_name": "Mohammad Ali", "link": "https://stackoverflow.com/users/7678093/mohammad-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1530794622, "creation_date": 1530794622, "answer_id": 51191634, "question_id": 51180967, "link": "https://stackoverflow.com/questions/51180967/how-to-give-a-parent-name-in-serializers/51191634#51191634", "title": "How to give a parent name in serializers?", "body": "<p>you can define serializer like this:</p>\n\n<pre><code>AnotherSerializer(serializers.Serializer):\n    malb = serializers.SerializerMethodField()\n    masr = serializers.SerializerMethodField()\n    mata = serializers.SerializerMethodField()\n\n    class Meta:\n        fields = ('malb', 'masr', 'mamta',)\n\n    def get_malb(self):\n        return MalbSerializer(malb.objects.filter(maid=maid), many=True)\n\n    def get_masr(self):\n        return MasrSerializer(masr.objects.filter(maid=maid), many=True)\n\n    def get_mata(self):\n        return MataSerializer(mata.objects.filter(maid=maid), many=True)\n</code></pre>\n"}], "owner": {"reputation": 251, "user_id": 9790807, "user_type": "registered", "profile_image": "https://graph.facebook.com/844964232357409/picture?type=large", "display_name": "Yuchen Huang", "link": "https://stackoverflow.com/users/9790807/yuchen-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530794622, "creation_date": 1530739926, "question_id": 51180967, "link": "https://stackoverflow.com/questions/51180967/how-to-give-a-parent-name-in-serializers", "title": "How to give a parent name in serializers?", "body": "<p>I have three serializers as below:</p>\n\n<pre><code>class MalbSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = malb\n        fields = ('zoning', 'zoningdesc', )\n\nclass MasrSerializer(serializers.ModelSerializer):\n\n    class Meta:\n        model = masr\n        fields = ('solddate', 'soldprice', )\n\nclass MataSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = mata\n        fields = ('assessyear', 'landvalue', )\n</code></pre>\n\n<p>The views is as below:</p>\n\n<pre><code>    malb_serializer = MalbSerializer(malb.objects.filter(maid=maid), many=True)\n    masr_serializer = MasrSerializer(masr.objects.filter(maid=maid), many=True)\n    mata_serializer = MataSerializer(mata.objects.filter(maid=maid), many=True)\n\n    reponse = malb_serializer.data + masr_serializer.data + mata_serializer.data\n\n    return Response(reponse)\n</code></pre>\n\n<p>as a result, the response is as below:</p>\n\n<pre><code>[\n    {\n        \"zoning\": null,\n        \"zoningdesc\": null,\n    },\n    {\n        \"solddate\": null,\n        \"soldprice\": null,\n    },\n    {\n        \"assessyear\": null,\n        \"landvalue\": null,\n    }\n]\n</code></pre>\n\n<p>I want to give each element a tag like as below:</p>\n\n<pre><code>[\n    {\"Land Building\": {\n        \"zoning\": null,\n        \"zoningdesc\": null,\n    }},\n    { \"Sales Record\":{\n        \"solddate\": null,\n        \"soldprice\": null,\n    }},\n     {\"Tax Assessment\":{\n        \"assessyear\": null,\n        \"landvalue\": null,\n    }}\n]\n</code></pre>\n\n<p>I have tried to use a nested serializer, but I don't have a model which includes all these three messages, which can I use to give them a json parent name base on my current code?</p>\n\n<p>Any help will be many appreciated. Thanks!</p>\n"}, {"tags": ["python", "list", "recursion"], "comments": [{"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "edited": false, "score": 1, "creation_date": 1530740034, "post_id": 51180949, "comment_id": 89344402, "body": "function names should stylistically be lower case ;) oh and you shouldn&#39;t override the built-in <code>list</code> function"}, {"owner": {"reputation": 1747, "user_id": 3726902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kV59z.png?s=128&g=1", "display_name": "Miket25", "link": "https://stackoverflow.com/users/3726902/miket25"}, "edited": false, "score": 0, "creation_date": 1530740175, "post_id": 51180949, "comment_id": 89344432, "body": "I would recommend instead of making a function that handles the special case of <code>2nd</code> largest, take a look instead on finding the <code>kth</code> largest, which can give you the <code>2nd</code> largest through <a href=\"https://stackoverflow.com/questions/33625995/kth-smallest-element-in-an-array-using-partition\">pivoting</a>, since your solution requires recursion."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10034040"}, "edited": false, "score": 0, "creation_date": 1530741645, "post_id": 51180949, "comment_id": 89344796, "body": "Fixed the styling errors.  I still have no idea how to start this second smallest function.I can only have one input which is the list if that matters."}, {"owner": {"reputation": 35205, "user_id": 2891664, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9df9d7af70d46f8db2ecd4392bb76087?s=128&d=identicon&r=PG&f=1", "display_name": "Radiodef", "link": "https://stackoverflow.com/users/2891664/radiodef"}, "edited": false, "score": 0, "creation_date": 1530752486, "post_id": 51180949, "comment_id": 89346631, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28144569/python-3-2-find-second-smallest-number-in-a-list-using-recursion\">python 3.2 - find second smallest number in a list using recursion</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 0, "last_activity_date": 1530741927, "creation_date": 1530741927, "answer_id": 51181233, "question_id": 51180949, "link": "https://stackoverflow.com/questions/51180949/return-2nd-smallest-item-in-list-using-only-recursion/51181233#51181233", "title": "Return 2nd smallest item in list using only recursion", "body": "<p>I would <a href=\"https://en.wikipedia.org/wiki/Sorting_algorithm\" rel=\"nofollow noreferrer\">sort it</a> (<a href=\"https://en.wikipedia.org/wiki/Merge_sort\" rel=\"nofollow noreferrer\">merge sort</a>), then take the second element, giving time complexity <code>O(nlog(n))</code>:</p>\n\n<pre><code>def second_max(lst):\n    #takes two sorted lists and merges them together\n    def merge(a,b):\n        if len(a) == 0: return b\n        if a[0] &lt; b[0]:\n            return [a[0]] + merge(a[1:],b)\n        else:\n            return [b[0]] + merge(b[1:],a)\n    #breaks list down and then merges back up - sorting\n    def merge_sort(lst):\n        if len(lst) == 1: return lst\n        h = int(len(lst)/2)\n        return merge(merge_sort(lst[:h]), merge_sort(lst[h:]))\n    #return second element from sorted list\n    return merge_sort(lst)[1]\n</code></pre>\n\n<p>and a test:</p>\n\n<pre><code>&gt;&gt;&gt; second_max([9, 3, 9, 6, 2, 4])\n3\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10034040"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530741927, "creation_date": 1530739759, "last_edit_date": 1530741608, "question_id": 51180949, "link": "https://stackoverflow.com/questions/51180949/return-2nd-smallest-item-in-list-using-only-recursion", "title": "Return 2nd smallest item in list using only recursion", "body": "<p>Im having trouble with this more advanced scenario.</p>\n\n<p>I understand this:</p>\n\n<pre><code>def max(alist):\n    if len(alist) == 1:\n        return alist[0]\n    else:\n        m = max(alist[1:])\n        return m if m &gt; alist[0] else alist[0]\n</code></pre>\n\n<p>Which finds the max number in a list using just recursion. This repeats the function slowly shrinking the list every time which I get. My problem is I need to create a function that returns the 2nd smallest number. I dont understand how to do this since you need to compare each item with the rest of the items in the list. How would I do this with only recursion and no built in functions or for loops?</p>\n"}, {"tags": ["python", "list", "append", "sublist"], "answers": [{"comments": [{"owner": {"reputation": 1168, "user_id": 3640965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7f57e7c966746b9149d63009013316a7?s=128&d=identicon&r=PG&f=1", "display_name": "Bierbarbar", "link": "https://stackoverflow.com/users/3640965/bierbarbar"}, "edited": false, "score": 0, "creation_date": 1530739904, "post_id": 51180955, "comment_id": 89344365, "body": "Lol who voted this down this is pretty correct..."}, {"owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "reply_to_user": {"reputation": 1168, "user_id": 3640965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7f57e7c966746b9149d63009013316a7?s=128&d=identicon&r=PG&f=1", "display_name": "Bierbarbar", "link": "https://stackoverflow.com/users/3640965/bierbarbar"}, "edited": false, "score": 0, "creation_date": 1530739958, "post_id": 51180955, "comment_id": 89344380, "body": "I made a mistake at first, but corrected it after the dv"}], "tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 0, "last_activity_date": 1530739797, "creation_date": 1530739797, "answer_id": 51180955, "question_id": 51180924, "link": "https://stackoverflow.com/questions/51180924/separating-a-list-into-sublists-in-python/51180955#51180955", "title": "Separating a list into sublists in python", "body": "<p>Calculate chunk size:</p>\n\n<pre><code>chunk_sz = int(len(lst) / chunks) + 1\n</code></pre>\n\n<p>then chunk:</p>\n\n<pre><code>[lst[i:i+chunk_sz] for i in range(0, len(lst), chunk_sz)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1530740010, "creation_date": 1530740010, "answer_id": 51180973, "question_id": 51180924, "link": "https://stackoverflow.com/questions/51180924/separating-a-list-into-sublists-in-python/51180973#51180973", "title": "Separating a list into sublists in python", "body": "<pre><code>l = list(range(1, 10))\ndef split(l, size):\n    return [l[i : i + size] for i in range(0, len(l), size)]\nprint(split(l, 3))\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>[[1, 2, 3], [4, 5, 6], [7, 8, 9]]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9969915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c4435c158218996ecc8629a02c2adf8?s=128&d=identicon&r=PG&f=1", "display_name": "ihavemadefire", "link": "https://stackoverflow.com/users/9969915/ihavemadefire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "closed_date": 1530739780, "answer_count": 2, "score": 0, "last_activity_date": 1530740010, "creation_date": 1530739603, "last_edit_date": 1530739844, "question_id": 51180924, "link": "https://stackoverflow.com/questions/51180924/separating-a-list-into-sublists-in-python", "closed_reason": "Duplicate", "title": "Separating a list into sublists in python", "body": "<p>I am trying to create a tool that takes in a str of integers and a number of items per sublist, then produces a list object that has all the sublists nested inside of it.  For example:</p>\n\n<blockquote>\n  <p>inputs:</p>\n\n<pre><code>str of ints: '1 2 3 4 5 6 7 8 9'\nlength of subsets:3\n</code></pre>\n  \n  <p>output:\n      [[1,2,3],[4,5,6],[7,8,9]]</p>\n</blockquote>\n\n<p>I am stuck as to how to create the sublists given the user input of sublist length.  Here is my code so far....</p>\n\n<pre><code>b= []\n\ndef makeList():\n    c = input(\"Drop your number list in here\")\n    d = input(\"How many per sublist?\")\n    newList = c.split()\n    for i in newList:\n        b.append(int(i))\n</code></pre>\n\n<p>this only leaves me with a list of integers.  Is there a method that will do this easily? Or do I need to fight with a subloop iterating over the list, appending and popping as I go?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 2604, "user_id": 3385948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YJIjJ.png?s=128&g=1", "display_name": "Sean McCarthy", "link": "https://stackoverflow.com/users/3385948/sean-mccarthy"}, "is_accepted": true, "score": 6, "last_activity_date": 1530746228, "creation_date": 1530746228, "answer_id": 51181690, "question_id": 51180917, "link": "https://stackoverflow.com/questions/51180917/python-flask-unsupportedoperation-not-writable/51181690#51181690", "title": "Python Flask UnsupportedOperation: not writable", "body": "<p>I found the answer here, courtesy of josechval:\n<a href=\"https://github.com/plotly/dash/issues/257\" rel=\"noreferrer\">https://github.com/plotly/dash/issues/257</a></p>\n\n<p>Jose says:\n\"You need to edit the \"echo\" function definition at ../site-packages/click/<strong>utils.py</strong> . The default value for the \"file\" parameter must be <strong>sys.stdout</strong> instead of <strong>None</strong>.\nDo the same for the \"secho\" function definition at ../site-packages/click/<strong>termui.py</strong>\"</p>\n"}, {"tags": [], "owner": {"reputation": 938, "user_id": 7648578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p3zKg.jpg?s=128&g=1", "display_name": "nocibambi", "link": "https://stackoverflow.com/users/7648578/nocibambi"}, "is_accepted": false, "score": 4, "last_activity_date": 1532338147, "creation_date": 1532338147, "answer_id": 51475551, "question_id": 51180917, "link": "https://stackoverflow.com/questions/51180917/python-flask-unsupportedoperation-not-writable/51475551#51475551", "title": "Python Flask UnsupportedOperation: not writable", "body": "<p>Another solution from the same <a href=\"https://github.com/plotly/dash/issues/257\" rel=\"nofollow noreferrer\">issue</a> already quoted:</p>\n\n<p>Downgrade flask:</p>\n\n<blockquote>\n  <p>conda install flask=0.12.2</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 9578785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15b3bec6eadf1a83a634d5cc62eed820?s=128&d=identicon&r=PG&f=1", "display_name": "Mayank Khanna", "link": "https://stackoverflow.com/users/9578785/mayank-khanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1609574071, "creation_date": 1609574071, "answer_id": 65537056, "question_id": 51180917, "link": "https://stackoverflow.com/questions/51180917/python-flask-unsupportedoperation-not-writable/65537056#65537056", "title": "Python Flask UnsupportedOperation: not writable", "body": "<p>Try this:</p>\n<pre><code> starting the app on port\ntry: \n    # works fine while running the py script in the command-line \n    app.run(debug=True,port=8000)\nexcept:\n    # internal issue with Jupyter Notebook\n    print(&quot;Exception occured!&quot;)\n    # running manually\n    from werkzeug.serving import run_simple\n    run_simple('localhost', 9000, app)\n</code></pre>\n<p>There seems to be an internal issue with jupyter notebook.</p>\n"}], "owner": {"reputation": 2604, "user_id": 3385948, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YJIjJ.png?s=128&g=1", "display_name": "Sean McCarthy", "link": "https://stackoverflow.com/users/3385948/sean-mccarthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10231, "favorite_count": 1, "accepted_answer_id": 51181690, "answer_count": 3, "score": 4, "last_activity_date": 1609574071, "creation_date": 1530739557, "last_edit_date": 1530739890, "question_id": 51180917, "link": "https://stackoverflow.com/questions/51180917/python-flask-unsupportedoperation-not-writable", "title": "Python Flask UnsupportedOperation: not writable", "body": "<p>When I run the following code, I get the error message: \"UnsupportedOperation: not writable\":</p>\n\n<pre><code>from flask import Flask\n\napp_flask = Flask(__name__)\n\n@app_flask.route('/')\ndef hello_method():\n    return \"Hello, main page!\"\n\nif __name__ == '__main__':\n    app_flask.run()\n</code></pre>\n\n<p>Can anyone offer some guidance? I know there's another question like this one, but the answers were not helpful at all. Here's the rest of the error message:</p>\n\n<pre><code>Traceback (most recent call last):\n\n  File \"&lt;ipython-input-13-a122d150300b&gt;\", line 20, in &lt;module&gt;\n    app_flask.run()\n\n  File \"C:\\anaconda3\\lib\\site-packages\\flask\\app.py\", line 938, in run\n    cli.show_server_banner(self.env, self.debug, self.name, False)\n\n  File \"C:\\anaconda3\\lib\\site-packages\\flask\\cli.py\", line 629, in show_server_banner\n    click.echo(message)\n\n  File \"C:\\anaconda3\\lib\\site-packages\\click\\utils.py\", line 259, in echo\n    file.write(message)\n\nUnsupportedOperation: not writable\n</code></pre>\n"}, {"tags": ["python", "image", "class", "gdal"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10034079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55cdbec758bfadf07496f1f9e0d47e49?s=128&d=identicon&r=PG&f=1", "display_name": "jayb", "link": "https://stackoverflow.com/users/10034079/jayb"}, "edited": false, "score": 0, "creation_date": 1531149258, "post_id": 51220661, "comment_id": 89476495, "body": "Awesome! So I had to make individual functions for x, y and image array. Thanks a lot!"}], "tags": [], "owner": {"reputation": 54, "user_id": 9985764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YgRce.jpg?s=128&g=1", "display_name": "Mostafa Farrag", "link": "https://stackoverflow.com/users/9985764/mostafa-farrag"}, "is_accepted": true, "score": 0, "last_activity_date": 1530945736, "creation_date": 1530945736, "answer_id": 51220661, "question_id": 51180913, "link": "https://stackoverflow.com/questions/51180913/construct-class-for-gdal-open/51220661#51220661", "title": "Construct class for gdal open", "body": "<p>here is the class its name is IMG</p>\n\n<p><code>class IMG:</code></p>\n\n<pre><code>def __init__(self,path):\n    if type(path)==str and os.path.isfile(path):\n        self.path=path\n        self.Raster=gdal.Open(path)\n    elif type(path)==str and not os.path.isfile(path):\n        raise IOError\n\ndef X(self):\n    return self.Raster.RasterXSize\n\ndef Y(self):\n    return self.Raster.RasterYSize\n\ndef RasterArray(self):\n    return self.Raster.ReadAsArray()\n</code></pre>\n\n<p>and to use it </p>\n\n<p>filepath=\"path/raster_name.tif\"</p>\n\n<p>raster=IMG(filepath)</p>\n\n<p>xsize=raster.X()</p>\n\n<p>ysize=raster.Y()</p>\n\n<p>array=raster.RasterArray()</p>\n"}], "owner": {"reputation": 3, "user_id": 10034079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55cdbec758bfadf07496f1f9e0d47e49?s=128&d=identicon&r=PG&f=1", "display_name": "jayb", "link": "https://stackoverflow.com/users/10034079/jayb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 1, "accepted_answer_id": 51220661, "answer_count": 1, "score": 0, "last_activity_date": 1530945736, "creation_date": 1530739522, "last_edit_date": 1530893797, "question_id": 51180913, "link": "https://stackoverflow.com/questions/51180913/construct-class-for-gdal-open", "title": "Construct class for gdal open", "body": "<p>I an very new to python (2.6) and have a simple function to open geotif using gdal. It returns image array and image size (x,y).</p>\n\n<pre><code>def gdal_open(raster_file):\n\n    if type(raster_file) is str and os.path.isfile(raster_file):\n        gd_img = gdal.Open(raster_file)\n        img_x = gd_img.RasterXSize # column\n        img_y = gd_img.RasterYSize # row\n        img = gd_img.ReadAsArray(0, 0, img_x, img_y)\n\n    elif type(raster_file) is str and not os.path.isfile(raster_file):\n        raise IOError\n\n    return img, img_x, img_y\n</code></pre>\n\n<p>I want to convert this to class to get img, img.x and img.y as outputs. Can somebody help me?</p>\n\n<p>Thanks,\nJay</p>\n"}, {"tags": ["python", "list", "nested"], "comments": [{"owner": {"reputation": 1168, "user_id": 3640965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7f57e7c966746b9149d63009013316a7?s=128&d=identicon&r=PG&f=1", "display_name": "Bierbarbar", "link": "https://stackoverflow.com/users/3640965/bierbarbar"}, "edited": false, "score": 0, "creation_date": 1530739639, "post_id": 51180906, "comment_id": 89344282, "body": "Sorry i don&#39;t get you question could you provide a more clear example?"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 0, "creation_date": 1530739676, "post_id": 51180906, "comment_id": 89344290, "body": "Show us a sample list in python."}, {"owner": {"reputation": 214, "user_id": 7621333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2e0c4681fc03ca7899e0494ebd5c616b?s=128&d=identicon&r=PG", "display_name": "Ashok", "link": "https://stackoverflow.com/users/7621333/ashok"}, "reply_to_user": {"reputation": 1168, "user_id": 3640965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7f57e7c966746b9149d63009013316a7?s=128&d=identicon&r=PG&f=1", "display_name": "Bierbarbar", "link": "https://stackoverflow.com/users/3640965/bierbarbar"}, "edited": false, "score": 0, "creation_date": 1530740810, "post_id": 51180906, "comment_id": 89344600, "body": "@Pils19, thanks for commenting. Edited, am I clear now ?"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1530741137, "post_id": 51180906, "comment_id": 89344684, "body": "Please update your question with the approaches you have tried and what problems you faced."}, {"owner": {"reputation": 214, "user_id": 7621333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2e0c4681fc03ca7899e0494ebd5c616b?s=128&d=identicon&r=PG", "display_name": "Ashok", "link": "https://stackoverflow.com/users/7621333/ashok"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1530742489, "post_id": 51180906, "comment_id": 89345003, "body": "@PauloScardine, thanks for commenting, please have a look at my edited question."}], "answers": [{"comments": [{"owner": {"reputation": 214, "user_id": 7621333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2e0c4681fc03ca7899e0494ebd5c616b?s=128&d=identicon&r=PG", "display_name": "Ashok", "link": "https://stackoverflow.com/users/7621333/ashok"}, "edited": false, "score": 0, "creation_date": 1530742778, "post_id": 51181212, "comment_id": 89345060, "body": "Thanks for commenting @Alg. I have edited my answer. What I am asking is how to automate the printing when I have a situation like: print: list[a][b] or list[a]. I mean how to automatically put the number of indexes required."}], "tags": [], "owner": {"reputation": 1790, "user_id": 3624549, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/6d64dd9adf330105e883f79fd0e669ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alg_D", "link": "https://stackoverflow.com/users/3624549/alg-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1530741769, "creation_date": 1530741769, "answer_id": 51181212, "question_id": 51180906, "link": "https://stackoverflow.com/questions/51180906/python-printing-nth-level-sublist/51181212#51181212", "title": "Python- printing n&#39;th level sublist", "body": "<p>Can you post a better example? how does your list look like and what's the desired output when printing?</p>\n\n<p>You can open the file, read the indexes and lists names you want to print into a list and iterate that list to print what you want.</p>\n\n<p>There are many ways to print a list a simple one, you can use:</p>\n\n<pre><code>mylist = ['hello', 'world', ':)']\nprint ', '.join(mylist)\n\n\nmylist2 = [['hello', 'world'], ['Good', 'morning']]\nfor l in mylist2:\n   print(*l)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 214, "user_id": 7621333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2e0c4681fc03ca7899e0494ebd5c616b?s=128&d=identicon&r=PG", "display_name": "Ashok", "link": "https://stackoverflow.com/users/7621333/ashok"}, "edited": false, "score": 0, "creation_date": 1530784835, "post_id": 51183397, "comment_id": 89358423, "body": "Thank you very much Paulo, this was the answer I was seeking for."}], "tags": [], "owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "is_accepted": true, "score": 1, "last_activity_date": 1530764875, "creation_date": 1530764875, "answer_id": 51183397, "question_id": 51180906, "link": "https://stackoverflow.com/questions/51180906/python-printing-nth-level-sublist/51183397#51183397", "title": "Python- printing n&#39;th level sublist", "body": "<p>Suppose you have data like this:</p>\n\n<pre><code>data = {\n    \"list1\": [[100, 101, 102], [110, 111, 112], [120, 121, 123]],\n    \"list2\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9],\n    \"list3\": [[200, 201, 202], [210, 211, 212], [220, 221, 223]],\n}\n</code></pre>\n\n<p>If it is homework, your teacher probably want you to solve it using recursion, but I recommend using an iterative version in Python unless you can assure you would not stack more than 999 calls:</p>\n\n<pre><code>fetch_element(data, listname, *indices):\n    value = data[listname]\n    for index in indices:\n        value = value[index]\n    return value\n</code></pre>\n\n<p>Then you have the list of elements you want:</p>\n\n<pre><code>desired = [\n    [\"list1\", 0, 0],\n    [\"list2\", 7],\n    [\"list3\", 2, 2],\n]\n</code></pre>\n\n<p>Now you can do:</p>\n\n<pre><code>&gt;&gt;&gt; [fetch_element(data, *line) for line in desired]\n[100, 7, 223]\n</code></pre>\n\n<p>Which is the same as:</p>\n\n<pre><code>&gt;&gt;&gt; [data[\"list1\"][0][0], data[\"list2\"][7], data[\"list3\"][2][2]]\n[100, 7, 223]\n</code></pre>\n"}], "owner": {"reputation": 214, "user_id": 7621333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2e0c4681fc03ca7899e0494ebd5c616b?s=128&d=identicon&r=PG", "display_name": "Ashok", "link": "https://stackoverflow.com/users/7621333/ashok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51183397, "answer_count": 2, "score": 0, "last_activity_date": 1530764875, "creation_date": 1530739471, "last_edit_date": 1530743404, "question_id": 51180906, "link": "https://stackoverflow.com/questions/51180906/python-printing-nth-level-sublist", "title": "Python- printing n&#39;th level sublist", "body": "<p>I have a complicated list arrangement. There are many lists, and some of them have sub-lists. Now, some of the elements from the aforementioned lists are to be printed. What makes it more complicated is, the index of the value to be printed is in an excel file, as shown here:</p>\n\n<pre><code>   [list_1,1,2] #Means - list[1][2] is to be printed (sub-lists are there)\n   [list_2,7]   #Means - list_2[7] is to be printed (no sub-list)\n   ................\n   [list_100,3,6] #Means list_100[3][6] is to be printed (sub list is there)\n</code></pre>\n\n<p>The number of the lists is so long, so that I was using a for loop and multiple <em>if statements</em>. For example (pseudo code):</p>\n\n<pre><code>for i in range(100): #because 100 lists are there in excel\n    if len(row_i) == 3:\n        print(list_name[excel_column_1_value][excel_column_2_value])\n    else:\n        print(list_name[excel_column_1_value])\n</code></pre>\n\n<p>Please note that, the excel sheet is only to get the list name and index, the lists are all saved in the main code.</p>\n\n<p>Is there any way to avoid the <code>if statements</code> and automate that part as well ? Asking because, the if condition value is only based on the length given by the excel sheet. Thanks in advance.</p>\n"}, {"tags": ["python", "tkinter", "dropdown"], "comments": [{"owner": {"reputation": 2011, "user_id": 9445557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ybcW.gif?s=128&g=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/9445557/artemis"}, "edited": false, "score": 0, "creation_date": 1530740264, "post_id": 51180903, "comment_id": 89344449, "body": "For lbl6, do you mean that you have a list of entries, and don&#39;t want to put them in one at a time, or that you want to create the entries automagically, and them add them in?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1530740932, "post_id": 51180903, "comment_id": 89344634, "body": "Have you tried using the ttk combobox?"}, {"owner": {"reputation": 1, "user_id": 9392626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f5abec5c543c9989d52fe1e248b7158?s=128&d=identicon&r=PG&f=1", "display_name": "buzz2012", "link": "https://stackoverflow.com/users/9392626/buzz2012"}, "edited": false, "score": 0, "creation_date": 1530743713, "post_id": 51180903, "comment_id": 89345224, "body": "Artemis Fowl I want to create the entires automatically."}, {"owner": {"reputation": 1, "user_id": 9392626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f5abec5c543c9989d52fe1e248b7158?s=128&d=identicon&r=PG&f=1", "display_name": "buzz2012", "link": "https://stackoverflow.com/users/9392626/buzz2012"}, "edited": false, "score": 0, "creation_date": 1530743756, "post_id": 51180903, "comment_id": 89345231, "body": "Bryan Oakley yes but it showed me so many errors that i gave up on it :s"}, {"owner": {"reputation": 2011, "user_id": 9445557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ybcW.gif?s=128&g=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/9445557/artemis"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1530890377, "post_id": 51180903, "comment_id": 89407711, "body": "@BryanOakley I didn&#39;t get pinged for above, so just pinging you on behalf of the OP."}], "owner": {"reputation": 1, "user_id": 9392626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f5abec5c543c9989d52fe1e248b7158?s=128&d=identicon&r=PG&f=1", "display_name": "buzz2012", "link": "https://stackoverflow.com/users/9392626/buzz2012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530739437, "creation_date": 1530739437, "question_id": 51180903, "link": "https://stackoverflow.com/questions/51180903/how-to-create-a-drop-down-list-using-tkinter-and-set-it-in-a-specific-row-column", "title": "How to create a drop down list using tkinter and set it in a specific row/column? (Python)", "body": "<p>I'm having some difficulties using tkinter to create a drop down list. \nI'm not looking for creating a menu i want to make a little app to let me add new entries to an excel file. \nSome of the entries are directly typed by the user but others must be selected from a drop down list.</p>\n\n<p>I don't know how to set up this lists so that they appear at the right row/ column. </p>\n\n<p>here is my code: </p>\n\n<pre><code>import tkinter as tk\n\nwindow = tk.Tk()\n\nwindow.title(\"Ajouter une nouvelle entr\u00e9e\")\n\nwindow.geometry('400x350')\n\nlbl1 = tk.Label(window, text=\"Num\u00e9ro OF\")\ne1=tk.Entry() \nlbl1.grid(column=0, row=0)\ne1.grid(column=1,row=0)\nlbl2 = tk.Label(window, text=\"Produit/carte\")\ne2=tk.Entry()\ne2.grid(column=1,row=1) \nlbl2.grid(column=0, row=1)\nlbl3 = tk.Label(window, text=\"Famille\")\n\nlbl3.grid(column=0, row=2)\n\nlbl4 = tk.Label(window, text=\"Test\")\n\nlbl4.grid(column=0, row=3)\n\nlbl5 = tk.Label(window, text=\"Constats technique\")\ne5= tk.Entry()\ne5.grid(column=1,row=4) \nlbl5.grid(column=0, row=4)\n\nlbl6 = tk.Label(window, text=\"Type de panne\")\n\nlbl6.grid(column=0, row=5)\n\nlbl7 = tk.Label(window, text=\"Solutions\")\ne7= tk.Entry()\ne7.grid(column=1,row=6) \nlbl7.grid(column=0, row=6)\n\nlbl8 = tk.Label(window, text=\"Composant chang\u00e9\")\ne8= tk.Entry()\ne8.grid(column=1,row=7)\nlbl8.grid(column=0, row=7)\n\nlbl9 = tk.Label(window, text=\"Qui?\")\n\nlbl9.grid(column=0, row=8)\n\nlbl10 = tk.Label(window, text=\"Quand\")\ne10= tk.Entry()\ne10.grid(column=1,row=9)\nlbl10.grid(column=0, row=9)\n\nlbl11 = tk.Label(window, text=\"Etat\")\n\nlbl11.grid(column=0, row=10)\n\nlbl12 = tk.Label(window, text=\"Commentaires\")\ne12=tk.Entry()\ne12.grid(column=1,row=11) \nlbl12.grid(column=0, row=11)\n\nwindow.mainloop()\n</code></pre>\n\n<p>you can see that the lables that have an entry to their right side don't need to be modified but for lbl3, lbl4, lbl6,lbl9, and lbl11 i need drop down lists. \nfor example for lbl3 i need a list in column 1 row 2 with this 4 entries: \n'XS2444', 'XB3248', 'DEf23', DEf24' and 'DEf2500'.</p>\n\n<p>You will see it more clearly when you open the window.</p>\n\n<p>Moreover for lbl6 i have a list of more than 100 items to put in the drop down list, I don't know how to add them automatically so that i don't have to enter every item. </p>\n\n<p>Thank you very much you will be truly helping!  </p>\n"}, {"tags": ["python", "python-3.x", "pandas", "pandas-datareader", "jsondecoder"], "comments": [{"owner": {"reputation": 645, "user_id": 5862958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5029b5f5bd2832dbe1099d5f71565fb?s=128&d=identicon&r=PG&f=1", "display_name": "Addison Lynch", "link": "https://stackoverflow.com/users/5862958/addison-lynch"}, "edited": false, "score": 0, "creation_date": 1531721244, "post_id": 51180864, "comment_id": 89683204, "body": "Can you please provide a copy of your copy of your full code?"}], "owner": {"reputation": 359, "user_id": 7550640, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/300a19f0598fe4c13c9adc30c219ed62?s=128&d=identicon&r=PG&f=1", "display_name": "Neil Dey", "link": "https://stackoverflow.com/users/7550640/neil-dey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530740904, "creation_date": 1530739222, "last_edit_date": 1530740904, "question_id": 51180864, "link": "https://stackoverflow.com/questions/51180864/jsondecodeerror-when-using-pandas-datareader", "title": "JSONDecodeError when using Pandas Datareader", "body": "<p>Following <a href=\"https://pythonprogramming.net/getting-stock-prices-python-programming-for-finance/\" rel=\"nofollow noreferrer\">this tutorial</a>, I get the error in the screenshot below when I run the command: <code>df = web.DataReader(\"TSLA\", 'morningstar', start, end)</code></p>\n\n<p>This is the error I get. What to do?</p>\n\n<p><a href=\"https://i.stack.imgur.com/gqMOg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gqMOg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1530739562, "creation_date": 1530739562, "answer_id": 51180918, "question_id": 51180858, "link": "https://stackoverflow.com/questions/51180858/how-to-filter-data-in-python-using-pandas/51180918#51180918", "title": "How to filter data in python using pandas?", "body": "<p>First, do not shadow built-in class names:</p>\n\n<pre><code>L = ['firstname', 'lastname', 'email', 'phonenumber']\n</code></pre>\n\n<p>Then use <code>notnull</code> with <code>any</code> along <code>axis=1</code> to construct a Boolean series mask:</p>\n\n<pre><code>res = df[df[L].notnull().any(1)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4832, "user_id": 5661594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbbbec01ce0c53edbdf4001d81bb4865?s=128&d=identicon&r=PG", "display_name": "Harry_pb", "link": "https://stackoverflow.com/users/5661594/harry-pb"}, "is_accepted": false, "score": 1, "last_activity_date": 1530740700, "last_edit_date": 1530740700, "creation_date": 1530739736, "answer_id": 51180946, "question_id": 51180858, "link": "https://stackoverflow.com/questions/51180858/how-to-filter-data-in-python-using-pandas/51180946#51180946", "title": "How to filter data in python using pandas?", "body": "<p>You can <code>filter</code> using <code>columns</code> with null values.</p>\n\n<pre><code>df.isnull().any()\n&gt;&gt; \nfirstname True\nlastname True\n...\n\ndf.isnull().sum()\n</code></pre>\n\n<p>It shows all columns and the total NaNs of each column (your list).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9552436"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530740700, "creation_date": 1530739183, "last_edit_date": 1530739591, "question_id": 51180858, "link": "https://stackoverflow.com/questions/51180858/how-to-filter-data-in-python-using-pandas", "title": "How to filter data in python using pandas?", "body": "<p>I have a list:</p>\n\n<pre><code>list = ['firstname', 'lastname', 'email', 'phonenumber']\n</code></pre>\n\n<p>I want to iterate for this list as:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv(filepath)\n\ndf[ pd.notnull(df[firstname]) | pd.notnull(df[lastname]) | \n    pd.notnull(df[email]) | pd.notnull(df[phonenumber])]\n</code></pre>\n\n<p>How do I perform the above process using a loop?</p>\n"}, {"tags": ["python", "vectorization"], "answers": [{"tags": [], "owner": {"reputation": 1168, "user_id": 3640965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7f57e7c966746b9149d63009013316a7?s=128&d=identicon&r=PG&f=1", "display_name": "Bierbarbar", "link": "https://stackoverflow.com/users/3640965/bierbarbar"}, "is_accepted": false, "score": 0, "last_activity_date": 1530739648, "creation_date": 1530739648, "answer_id": 51180929, "question_id": 51180854, "link": "https://stackoverflow.com/questions/51180854/operation-on-blocks-of-a-matrix-efficiently-in-python/51180929#51180929", "title": "operation on blocks of a matrix efficiently in python", "body": "<p>You can iterate over the array and just call <code>numpy.average</code> on the 5x5 blocks ?</p>\n"}], "owner": {"reputation": 189, "user_id": 6560462, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001154412535/picture?type=large", "display_name": "Masoud Ghaderi", "link": "https://stackoverflow.com/users/6560462/masoud-ghaderi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1530772788, "answer_count": 1, "score": 0, "last_activity_date": 1530739648, "creation_date": 1530739152, "question_id": 51180854, "link": "https://stackoverflow.com/questions/51180854/operation-on-blocks-of-a-matrix-efficiently-in-python", "closed_reason": "Duplicate", "title": "operation on blocks of a matrix efficiently in python", "body": "<p>Let's say I have 100x200 numpy array of random numbers and wish to average blocks of 5x5 in the this array, that is I need the operation to be done on all 800 distinct blocks that are 5x5. I wonder if there is an efficient way to do this without nested loop and possibly without any loop.</p>\n"}, {"tags": ["python", "search", "gensim", "word2vec", "doc2vec"], "answers": [{"tags": [], "owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "is_accepted": true, "score": 1, "last_activity_date": 1530824430, "creation_date": 1530824430, "answer_id": 51199856, "question_id": 51180848, "link": "https://stackoverflow.com/questions/51180848/how-to-i-get-the-similiarity-between-a-word-to-a-document-in-gensim/51199856#51199856", "title": "How to I get the similiarity between a word to a document in gensim", "body": "<p>Averaging all the word-vectors of a longer text is one crude but somewhat effective way to get a single vector for the full text. The resulting vector might then be usefully comparable to single word-vectors. </p>\n\n<p>The <code>Doc2Vec</code> modes that train word-vectors into the same 'space' as the doc-vectors \u2013 PV-DM (<code>dm=1</code>), or PV-DBOW if word-training is added (<code>dm=0, dbow_words=1</code>) \u2013 could be considered. The doc-vectors closest to a single word-vector might work for your purposes. </p>\n\n<p>Another technique for calculating a 'closeness' of two sets-of-word-vectors is \"Word Mover's Distance\" ('WMD'). It's more expensive to calculate than those techniques that reduce a text to a single vector, because it's essentially considering many possible cost-minimizing ways of correlating the sets-of-vectors. I'm not sure how well it works in the degenerate case of one 'text' being just a single word (or very short phrase), but it could be worth trying. (The method <code>wmd_distance()</code> in gensim offers this.)</p>\n\n<p>I've also seen mention of another calculation, called 'Soft Cosine Similarity', that may be more efficient that WMD but offer similar benefits. It's also now available in gensim; there's a <a href=\"https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/soft_cosine_tutorial.ipynb\" rel=\"nofollow noreferrer\">Jupyter notebook intro tutorial as well</a>. </p>\n"}], "owner": {"reputation": 93, "user_id": 5272422, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153338320442949/picture?type=large", "display_name": "Julian Kurz", "link": "https://stackoverflow.com/users/5272422/julian-kurz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "closed_date": 1530964200, "accepted_answer_id": 51199856, "answer_count": 1, "score": 0, "last_activity_date": 1530824430, "creation_date": 1530739126, "question_id": 51180848, "link": "https://stackoverflow.com/questions/51180848/how-to-i-get-the-similiarity-between-a-word-to-a-document-in-gensim", "closed_reason": "Opinion-based", "title": "How to I get the similiarity between a word to a document in gensim", "body": "<p>So I have started to learn gensim for both word2vec and doc2vec and it works. The similarity scores actually work really well. For an experiment, however, I wanted to optimize a key word based search algorithm by comparing a single word and getting how similar it is to a piece of text. </p>\n\n<p>What is the best way to do this? I considered averaging the the word vectors of all words in the text (maybe remove fill and stop word first) and and comparing this to the search word? But this really is just intuition, what would be the best way to do this?</p>\n"}, {"tags": ["python", "cryptography", "rsa"], "comments": [{"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1530739824, "post_id": 51180839, "comment_id": 89344335, "body": "There is more to the key than a single number of a specific size (although the rsa public key might be a single number, I forget the exact details). Then It has headers and stuff. Additionally, the hex encoding is larger than the binary encoding."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1530741470, "post_id": 51180839, "comment_id": 89344759, "body": "Both keys (public and private) contain two numbers, the module N and an exponent either d or e."}], "answers": [{"tags": [], "owner": {"reputation": 21326, "user_id": 1679849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lpvxY.png?s=128&g=1", "display_name": "r3mainer", "link": "https://stackoverflow.com/users/1679849/r3mainer"}, "is_accepted": true, "score": 3, "last_activity_date": 1530743681, "creation_date": 1530743681, "answer_id": 51181434, "question_id": 51180839, "link": "https://stackoverflow.com/questions/51180839/rsa-public-key-size-python/51181434#51181434", "title": "RSA public key size python", "body": "<p>If you want to export the key for use somewhere else, you will probably find it easier to export the key in PEM format as follows:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&gt;&gt;&gt; print (key.publickey().exportKey('PEM'))\n-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtd2o9NY7P9CvXzECu4Ky\ntieqYGAkOFrvuRnZpf3VP4VK0XMFSXM8/i5c0Q3Ml44If/zqVo/cXAO85YqV8ZtJ\nYRtK9wcEr5epTX6iahxqgObgjFAbIRd6+we6znxBy+OG0JfEGn/GSBoq9g8mcr2e\nHhKflp3B57X3+Qn1EbIYDFThWxy4HUZXh64LJiA5s0yeYzlGyjcC6R/Q59/CsyKP\nK5LdcRp+CUrHfqwimiFUEZ+KNOob1klAyY4UKX9CI1AnWwZuSrmtbH+11Cfwgnnk\n5RpqDvFNB30qsuD0elE+9zLOrq0jGicEoPtYAC3Z7phoODoR5vHbJ0R38qGItLMl\n/wIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n\n<p>The DER format contains the same data, but in binary form, which is perhaps a little less portable.</p>\n\n<p>The key length isn't 2048 bits because a public key contains not only the modulus <em>n</em>, but also the encryption exponent <em>e</em>.</p>\n\n<p>If you just want the 2048-bit modulus <em>n</em>, then you can extract it as follows:</p>\n\n<pre><code>&gt;&gt;&gt; print key.n\n22958437811749378126735904957386766172644032831528249830706401935201456098524775\n93935742531467773637499977046456570312080938678104306767641814358663672099815985\n37166257748568890906635464134344070390567919827141645499361303936386291407244786\n88192939984906393278409502460458733268776367836168349094440408475953441252058796\n28391483565417017898863634275114447933217938009351306832376849011143622553495660\n63424041991601059614183085270921567421339154500925080655811214971889251644612159\n17495238196068931081086234165571014450595993262432428425126883651547622718096951\n337250550253777137307186332200705951701212904813212411391\n</code></pre>\n\n<p>And yes, this is a 2048-bit value:</p>\n\n<pre><code>&gt;&gt;&gt; print key.n.bit_length()\n2048\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": false, "score": 2, "last_activity_date": 1583240317, "last_edit_date": 1583240317, "creation_date": 1530833116, "answer_id": 51201131, "question_id": 51180839, "link": "https://stackoverflow.com/questions/51180839/rsa-public-key-size-python/51201131#51201131", "title": "RSA public key size python", "body": "<p>An RSA public key consists of two components: the modulus and the public exponent. The size of the modulus determines the key size. It is therefore 2048 bits if that's the size given to the key pair generator. The public exponent <em>can</em> be any value and <em>could be</em> up to 2048 bits as well. However, it is usually small. Nowadays it is commonly set to the value 65537, which is <code>010001</code> in hexadecimals. It is a special number called the fifth prime of Fermat, usually indicated by \"F4\" (zero based indexation).</p>\n\n<p>The public key structure should contain both components. The <em>encoded</em> key size is generally larger than the key size for any asymmetric primitive such as RSA. Besides that is may contain overhead (to identify the location of the modulus and exponent) and information about the key itself (for instance an OID that indicates that it is indeed an RSA public key).</p>\n\n<hr>\n\n<p>To know more about this you could take a look at the PKCS#1 and X.509 certificate specifications. The latter specifies a structure called <code>SubjectPublicKeyInfo</code> which is PEM encoded <a href=\"https://stackoverflow.com/a/51181434/589259\">in the answer of squeamish ossifrage</a>. You can parse it online <a href=\"https://lapo.it/asn1js/#30820122300D06092A864886F70D01010105000382010F003082010A0282010100B5DDA8F4D63B3FD0AF5F3102BB82B2B627AA606024385AEFB919D9A5FDD53F854AD1730549733CFE2E5CD10DCC978E087FFCEA568FDC5C03BCE58A95F19B49611B4AF70704AF97A94D7EA26A1C6A80E6E08C501B21177AFB07BACE7C41CBE386D097C41A7FC6481A2AF60F2672BD9E1E129F969DC1E7B5F7F909F511B2180C54E15B1CB81D465787AE0B262039B34C9E633946CA3702E91FD0E7DFC2B3228F2B92DD711A7E094AC77EAC229A2154119F8A34EA1BD64940C98E14297F422350275B066E4AB9AD6C7FB5D427F08279E4E51A6A0EF14D077D2AB2E0F47A513EF732CEAEAD231A2704A0FB58002DD9EE9868383A11E6F1DB274477F2A188B4B325FF0203010001\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>SEQUENCE (2 elem)\n    SEQUENCE (2 elem)\n        OBJECT IDENTIFIER1.2.840.113549.1.1.1 rsaEncryption (PKCS #1)\n        NULL\n    BIT STRING (1 elem)\n        SEQUENCE (2 elem)\n            INTEGER (2048 bit) 229584378117493781267359049573867661726440328315282498307064019352014\u2026\n            INTEGER 65537\n</code></pre>\n\n<p>Here the first number is the modulus and the second is the public exponent.</p>\n\n<hr>\n\n<p>So in short there is a difference between key size, encoded key size and key strength.</p>\n\n<hr>\n\n<p>Notes:</p>\n\n<ul>\n<li>An RSA key pair of 2048 bits only provides a key strength of 112 bits (i.e. 112 bits of security), while AES-128 provides about 127  bits of security. In general you should try to use a 3072 bit key instead.</li>\n<li>The private key often contains the parameters for the Chinese Remainder Theorem and the public exponent on top  of the 2048 bit modulus and 2048 bit private exponent, so it will be even larger.</li>\n</ul>\n"}], "owner": {"reputation": 465, "user_id": 1687645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abd5e098bf00af6593dda1596cffdda?s=128&d=identicon&r=PG", "display_name": "Aymn Alaney", "link": "https://stackoverflow.com/users/1687645/aymn-alaney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3791, "favorite_count": 0, "accepted_answer_id": 51181434, "answer_count": 2, "score": 2, "last_activity_date": 1583240317, "creation_date": 1530739082, "question_id": 51180839, "link": "https://stackoverflow.com/questions/51180839/rsa-public-key-size-python", "title": "RSA public key size python", "body": "<p>I need help using RSA encryption and decryption in Python.\nI tried to generate a public key and a private key by using RSA 2048, then send the public key as hex to a destination. However, I faced a problem, the generated public key size is greater than 2048 bit. I used the following script. Could I know why the key size is greater than 2048 bit?</p>\n\n<pre><code>import Crypto\nfrom Crypto.PublicKey import RSA\n\nkey = RSA.generate(2048)\n\nbinPrivKey = key.exportKey('DER')\nbinPubKey = key.publickey().exportKey('DER')\n\nprint(binPubKey.encode('hex'))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "flask", "flask-sqlalchemy", "marshmallow"], "comments": [{"owner": {"reputation": 53, "user_id": 5679437, "user_type": "registered", "profile_image": "https://graph.facebook.com/1042179732480076/picture?type=large", "display_name": "Dom Hall", "link": "https://stackoverflow.com/users/5679437/dom-hall"}, "edited": false, "score": 0, "creation_date": 1530738965, "post_id": 51180795, "comment_id": 89344070, "body": "I&#39;m sorry if this is too vague I&#39;ve been trying to work out what&#39;s going on for the last hour I have the workaround of just sending &quot;data&quot; back instead but I&#39;d rather do this properly."}], "owner": {"reputation": 53, "user_id": 5679437, "user_type": "registered", "profile_image": "https://graph.facebook.com/1042179732480076/picture?type=large", "display_name": "Dom Hall", "link": "https://stackoverflow.com/users/5679437/dom-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530738827, "creation_date": 1530738827, "question_id": 51180795, "link": "https://stackoverflow.com/questions/51180795/marshmallow-schema-doesnt-have-data-and-error-field-on-different-computer-code", "title": "Marshmallow Schema doesn&#39;t have data and error field on different computer. Code is the same", "body": "<p><a href=\"https://i.stack.imgur.com/nkCdP.png\" rel=\"nofollow noreferrer\">Server version</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/kRR9Y.png\" rel=\"nofollow noreferrer\">Local Version</a></p>\n\n<p>Apparently I'm not allowed to embed images so here are some links.</p>\n\n<p>When I run my code (Pyhon Flask Marshmallow SQLAlchemy) on my machine the \"data\" and \"error\" fields are outputted properly by jsonify.</p>\n\n<p>When I run my code on a digital ocean droplet the fields don't get jsonified. I'm not sure why because their contents are still there. </p>\n\n<p>This appears to be an issue with all my flask applications on the server. I have verified that the data and error fields exist by adapting the code to return .data and this returns fine.</p>\n\n<p>Here is the code from this example of this happening:</p>\n\n<pre><code>    return jsonify(meme_schemas.dump(\n    [\n        Meme.query.filter_by(id=id1).first(),\n        Meme.query.filter_by(id=id2).first()\n    ]))\n</code></pre>\n\n<p>jsonify is a function from flask.\nmeme_schemas.dump converts the Meme SQLAlchemy model into a combination of JSON equivalent types in python. (Using Marshmallow I didn't write the conversion code)</p>\n\n<p>The only differences other than hardware is the droplet runs python 3.5 and my laptop runs 3.6.5</p>\n\n<p>I should probably have used a more serious example rather than one from this dumb practice project</p>\n"}, {"tags": ["python", "python-2.7", "telnet", "telnetlib"], "answers": [{"tags": [], "owner": {"reputation": 4609, "user_id": 4636715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ebd8c54bb287f99b94373429b588e21?s=128&d=identicon&r=PG&f=1", "display_name": "vahdet", "link": "https://stackoverflow.com/users/4636715/vahdet"}, "is_accepted": false, "score": 0, "last_activity_date": 1530739200, "creation_date": 1530739200, "answer_id": 51180860, "question_id": 51180775, "link": "https://stackoverflow.com/questions/51180775/how-do-i-send-telnetlib-control-command-in-python/51180860#51180860", "title": "How do I send telnetlib control + ] command in python", "body": "<p><code>ctrl-]</code> cannot be sent on the wire. You have to use a, let's say, synonym for it like <code>close()</code></p>\n\n<p>For further reading, see the pinpoint answer here: <a href=\"https://mail.python.org/pipermail/python-list/2012-December/636929.html\" rel=\"nofollow noreferrer\">https://mail.python.org/pipermail/python-list/2012-December/636929.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 0, "last_activity_date": 1530739273, "creation_date": 1530739273, "answer_id": 51180876, "question_id": 51180775, "link": "https://stackoverflow.com/questions/51180775/how-do-i-send-telnetlib-control-command-in-python/51180876#51180876", "title": "How do I send telnetlib control + ] command in python", "body": "<p>The ^] command is not actually sent to the server. It is a command to the telnet client.  When you run the <code>telnet</code> program (not related to python at all) you see:</p>\n\n<pre><code>~$ telnet localhost 2050\nTrying 127.0.0.1...\nConnected to localhost.\nEscape character is '^]'.\n</code></pre>\n\n<p>That means <code>^]</code> is a escape character. It is a way to make the local telnet program exit the input mode that sends everything to the server, and enter the input mode that accepts local commands. When you type <code>^]</code> in this case, the telnet program won't send it to the server, it will just change the input mode.</p>\n\n<p>Since you're connecting using the telnet protocol directly to the server, and not using the telnet <strong>program</strong>, it doesn't make sense to send <code>^]</code>.</p>\n"}], "owner": {"reputation": 37, "user_id": 6776053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a8676dc4b3ccc39625152c8c66e25d8?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Standley", "link": "https://stackoverflow.com/users/6776053/matt-standley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530739273, "creation_date": 1530738624, "last_edit_date": 1530739161, "question_id": 51180775, "link": "https://stackoverflow.com/questions/51180775/how-do-i-send-telnetlib-control-command-in-python", "title": "How do I send telnetlib control + ] command in python", "body": "<p>I am trying to send <code>control + ]</code> command in python using telnetlib library. </p>\n\n<p>Currently I am doing:</p>\n\n<pre><code>tn.write('^]')\n</code></pre>\n\n<p>and also </p>\n\n<pre><code>tn.write('\\x1D') \n</code></pre>\n\n<p>which i got from <a href=\"http://donsnotes.com/tech/charsets/ascii.html\" rel=\"nofollow noreferrer\">http://donsnotes.com/tech/charsets/ascii.html</a></p>\n\n<p>To type <code>control-A</code> I use <code>tn.write('\\x01')</code> and it works so I am confused why <code>tn.write('\\x1D')</code> is not working for <code>control-]</code>. </p>\n\n<p>Thanks for any help </p>\n"}, {"tags": ["python", "pandas", "dataframe", "null"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1530738716, "post_id": 51180771, "comment_id": 89344002, "body": "df.loc[df.ne(&#39;&#39;).all(1),:]"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 1, "creation_date": 1530738722, "post_id": 51180771, "comment_id": 89344004, "body": "You have to understand what values are in your data frames. For example, if it is an empty string, <code>df[df.B != &quot;&quot;]</code> would do. If it is <code>None</code> or <code>NA</code>, then <code>notnull()</code> shoud lwork etc"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530738854, "post_id": 51180771, "comment_id": 89344038, "body": "Hint: try <code>print(type(df[&#39;B&#39;].iloc[2]))</code> with your dataframe above to see what type you have."}, {"owner": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530738913, "post_id": 51180771, "comment_id": 89344057, "body": "@jpp: Thanks. I have done that and got: <code>&lt;class &#39;str&#39;&gt;</code>"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1530738968, "post_id": 51180771, "comment_id": 89344072, "body": "So you should try @Wen&#39;s solution.. looks like you have empty strings."}, {"owner": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "reply_to_user": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530739082, "post_id": 51180771, "comment_id": 89344109, "body": "@jpp: Strangely enough, Wen&#39;s solution does not work either. It leaves the original DataFrame unaltered."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530739289, "post_id": 51180771, "comment_id": 89344166, "body": "@user3483203, I don&#39;t think that&#39;s true. You can use <code>df.loc</code> to drop rows via a Boolean series, no need for <code>drop</code>. I suggest OP do some more debugging themselves,  e.g. try <code>df[&#39;B&#39;].iloc[2] == &#39;&#39;</code>. This is basic debugging which should be learnt when using Python (or any language)."}, {"owner": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "edited": false, "score": 0, "creation_date": 1530739426, "post_id": 51180771, "comment_id": 89344204, "body": "@user3483203: <code>df.drop(df.loc[df.eq(&#39;&#39;).any(1)].index)</code> leaves the original DataFrame unaltered."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1530739540, "post_id": 51180771, "comment_id": 89344241, "body": "@twhale You have to check <i>what</i> is it in those cells. It could be whitespace(s), tabs, etc.."}], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "edited": false, "score": 0, "creation_date": 1530740119, "post_id": 51180953, "comment_id": 89344419, "body": "The empty cells are cells that have never been filled after the column was created. This solution does not yet do the trick. Would it be possible to fill those cells with something (e.g. &#39;0&#39;) and then drop?"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "edited": false, "score": 0, "creation_date": 1530740212, "post_id": 51180953, "comment_id": 89344437, "body": "Can you post how you are creating this data frame? If a csv file, how you post a sample csv?"}, {"owner": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "edited": false, "score": 0, "creation_date": 1530740622, "post_id": 51180953, "comment_id": 89344555, "body": "My function is complicated. But it either returns a string to the cell or it returns a white space &#39;&#39;. (So I expected your solution to work.) And then writes the result to a csv file."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "edited": false, "score": 0, "creation_date": 1530740757, "post_id": 51180953, "comment_id": 89344590, "body": "Following jpps&#39; suggestion, what does <code>df[&#39;B&#39;].iloc[2] == &#39;&#39;</code> print ?"}, {"owner": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "edited": false, "score": 0, "creation_date": 1530740814, "post_id": 51180953, "comment_id": 89344601, "body": "It prints <code>False</code>."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "reply_to_user": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "edited": false, "score": 0, "creation_date": 1530740911, "post_id": 51180953, "comment_id": 89344625, "body": "Awesome. So do it untill you find out what the hell is in that cell :) (i.e. until something returns <code>True</code>)"}], "tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 0, "last_activity_date": 1530739785, "creation_date": 1530739785, "answer_id": 51180953, "question_id": 51180771, "link": "https://stackoverflow.com/questions/51180771/how-to-drop-empty-rows-from-a-dataframe-when-pd-notnull-does-not-work-python/51180953#51180953", "title": "How to drop empty rows from a DataFrame when &#39;pd.notnull&#39; does not work? Python", "body": "<p>Basically, you could have whitespaces, tabs or even a <code>\\n</code> in these blank cells. </p>\n\n<p>For all those cases, you can <code>strip</code> values first, and then remove the rows, i.e.</p>\n\n<pre><code>df[df.B.str.strip().ne(\"\") &amp; df.B.notnull()]\n</code></pre>\n\n<p>I believe this should cover all cases.</p>\n"}], "owner": {"reputation": 625, "user_id": 8612523, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/23e38ee7c863c775e43716fd53734a81?s=128&d=identicon&r=PG&f=1", "display_name": "twhale", "link": "https://stackoverflow.com/users/8612523/twhale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1530785068, "creation_date": 1530738590, "last_edit_date": 1530785068, "question_id": 51180771, "link": "https://stackoverflow.com/questions/51180771/how-to-drop-empty-rows-from-a-dataframe-when-pd-notnull-does-not-work-python", "title": "How to drop empty rows from a DataFrame when &#39;pd.notnull&#39; does not work? Python", "body": "<p>I have a DataFrame with two columns 'A' and 'B'. My goal is to delete rows where 'B' is empty. Others have recommended to use <code>df[pd.notnull(df['B'])]</code>. For example here: <a href=\"https://stackoverflow.com/questions/46091924/python-how-to-drop-a-row-whose-particular-column-is-empty-nan\">Python: How to drop a row whose particular column is empty/NaN?</a></p>\n\n<p>However, somehow this does not work in this case. Why not and how to solve this?</p>\n\n<pre><code>    A          B\n0   Lorema     Ipsuma\n1   Corpusa    Dominusa\n2   Loremb     \n3   Corpusc    Dominusc\n4   Loremd     \n5   Corpuse    Dominuse\n</code></pre>\n\n<p>This is the desired result:</p>\n\n<pre><code>    A          B\n0   Lorema     Ipsuma\n1   Corpusa    Dominusa\n2   Corpusc    Dominusc\n3   Corpuse    Dominuse\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9168924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4b67c5d455723633debb5c042bf7a9?s=128&d=identicon&r=PG&f=1", "display_name": "Baron", "link": "https://stackoverflow.com/users/9168924/baron"}, "edited": false, "score": 0, "creation_date": 1530775190, "post_id": 51180793, "comment_id": 89352728, "body": "How can I restructure the paths so the error can stop. Honestly have done the much I can and really need help."}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 1, "last_activity_date": 1530738818, "creation_date": 1530738818, "answer_id": 51180793, "question_id": 51180751, "link": "https://stackoverflow.com/questions/51180751/getting-an-error-whenever-i-click-on-add-to-cart-button/51180793#51180793", "title": "Getting an error whenever i click on add to cart button", "body": "<p>As you can see in your error message</p>\n\n<pre><code>Raised by:catalog.views.show_category\n</code></pre>\n\n<p><code>catalog.views.show_category</code> raised the error, so since it is a 404 it is probably raised by </p>\n\n<pre><code>c = get_object_or_404(Category, slug=category_slug)\n</code></pre>\n\n<p>Now, it is trying to search a category... Why? The url is <code>http://127.0.0.1:8000/catalog/product/</code></p>\n\n<p>Let's check your paths</p>\n\n<pre><code> path('&lt;category_slug&gt;/', views.show_category, name='show_category'),\n</code></pre>\n\n<p>Interesting, so any path followed by a slash calls <code>show_category</code>! Not what you would want, that means that <code>http://127.0.0.1:8000/catalog/product/</code> is trying to show a category with slug name <code>'product'</code>!!</p>\n\n<p>Now there are multiple ways to fix it. All of them involve restructuring your paths (and changing the rest of the application accordingly)</p>\n"}], "owner": {"reputation": 1, "user_id": 9168924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4b67c5d455723633debb5c042bf7a9?s=128&d=identicon&r=PG&f=1", "display_name": "Baron", "link": "https://stackoverflow.com/users/9168924/baron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530738818, "creation_date": 1530738439, "last_edit_date": 1530738543, "question_id": 51180751, "link": "https://stackoverflow.com/questions/51180751/getting-an-error-whenever-i-click-on-add-to-cart-button", "title": "Getting an error whenever i click on add to cart button", "body": "<p>i created a cart app inside an ecommerce site am building but when i click on\nthe add cart form that is rendered on my page, it doesn't come through. any \nhelp will be appreciated</p>\n\n<p>inside the cart app, i have the normal django files in it.(<code>__init__.py</code>,\n<code>admin.py</code>, <code>apps.py</code>, <code>cart.py</code> (added by me), <code>models.py</code>, <code>tests.py</code>, <code>urls.py</code> and <code>views.py</code>)</p>\n\n<p>Here are the content of files in my cart app that i filled with content.\nfor\ncart.py:</p>\n\n<pre><code>from cart.models import CartItems\nfrom catalog.models import Product\nfrom django.shortcuts import get_object_or_404\nfrom django.http import HttpResponseRedirect\nimport decimal\nimport random\n\nCART_ID_SESSION_KEY = 'cart_id'\n# get the current user's cart id, sets new one if blank\ndef _cart_id(request):\n    if request.session.get(CART_ID_SESSION_KEY,'') == '':\n        request.session[CART_ID_SESSION_KEY] = _generate_cart_id()\n    return request.session[CART_ID_SESSION_KEY]\n\n\ndef _generate_cart_id():\n    cart_id = ''\n    characters =\n'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890!@#$%^&amp;*()'\n    cart_id_length = 50\n    for y in range(cart_id_length):\n        cart_id += characters[random.randint(0, len(characters)-1)]\n    return cart_id\n\n# return all items from the current user's cart\ndef get_cart_items(request):\n    return CartItems.objects.filter(cart_id=_cart_id(request))\n\n\n# add an item to the cart\ndef add_to_cart(request):\n    postdata = request.POST.copy()\n    # get product slug from post data, return blank if empty\n    product_slug = postdata.get('self.slug','')\n    # get quantity added, return 1 if empty\n    quantity = postdata.get('quantity',1)\n    # fetch the product or return a missing page error\n    p = get_object_or_404(Product, slug=product_slug)\n    #get products in cart\n    cart_products = get_cart_items(request)\n    product_in_cart = False\n    # check to see if item is already in cart\n    for cart_item in cart_products:\n        if cart_item.product.id == p.id:\n        # update the quantity if found\n            cart_item.augment_quantity(quantity)\n            product_in_cart = True\n    if not product_in_cart:\n        # create and save a new cart item\n        ci = CartItems()\n        ci.product = p\n        ci.quantity = quantity\n        ci.cart_id = _cart_id(request)\n        ci.save()\n\n\n# returns the total number of items in the user's cart\ndef cart_distinct_item_count(request):\n    return get_cart_items(request).count()\n\nmodels.py:   \nfrom django.db import models\nfrom catalog.models import Product\n\nclass CartItems(models.Model):\n    cart_id = models.CharField(max_length=50)\n    date_added = models.DateTimeField(auto_now_add=True)\n    quantity = models.IntegerField(default=1)\n    product = models.ForeignKey(Product, unique=False, \non_delete=models.CASCADE)\n\n    class Meta:\n        db_table = 'cart_items'\n        ordering = ['date_added']\n\n    def total(self):\n        return self.quantity * self.product.price\n\n    def name(self):\n        return self.product.name\n\n    def price(self):\n        return self.product.price\n\n    def get_absolute_url(self):\n        return self.product.get_absolute_url\n</code></pre>\n\n<p>urls.py: </p>\n\n<pre><code>   from django.urls import path\n   from cart import views\n\n   urlpatterns = [\n       path('', views.show_cart, name='show_cart')\n    ]\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.template import RequestContext\nfrom cart import cart\n\ndef show_cart(request):\n    cart_item_count = cart.get_cart_items(request)\n    context_instance = RequestContext(request)\n    page_title = \"showing Cart\"\n    context = {'page_title' : page_title,\n                'cart_item_count': cart_item_count,\n                'context_instance': context_instance\n                }\n    template = 'cart/cart.html'\n    return render(request, template, context)\n</code></pre>\n\n<p>Below are the models.py, views.py and forms.py of another app(catalog) \nin the project that have inheritance of the cart app</p>\n\n<p>models.py: </p>\n\n<pre><code>    from django.db import models\n    from django.urls import reverse\n\nclass Category(models.Model):\n    name = models.CharField(max_length=50, db_index=True)\n    slug = models.SlugField(max_length=50, unique=True, help_text=\"Unique \n           value for product page URL, created from name.\")\n    description = models.TextField(blank=False)\n    is_active = models.BooleanField(default=True)\n    meta_keywords = models.CharField(\"Meta Keywords\", max_length=255, \n         help_text=\"Comma-delimited set of SEO keywords for meta tag\")\n    meta_description = models.CharField(\"Meta Description\", max_length=255, \n                    help_text=\"Content for description meta tag\")\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    class Meta:\n        verbose_name = \"category\"\n        ordering = [\"-created_at\"]\n        verbose_name_plural = \"Categories\"\n\n    def __str__(self):\n        return self.name\n\n    def get_absolute_url(self):\n        return reverse('catalog:show_category', args=[self.slug])\n\n\nclass Product(models.Model):\n    name = models.CharField(max_length=255, unique=True)\n    slug = models.SlugField(max_length=255, unique=True, help_text=\"Unique \n           value for product page URL, created from name.\")\n    brand = models.CharField(max_length=50)\n    sku = models.CharField(max_length=50)\n    price = models.DecimalField(max_digits=9, decimal_places=2)\n    old_price = models.DecimalField(max_digits=9, decimal_places=2, \n               blank=True, default=0.00)\n    image = models.ImageField(upload_to='media', blank=True)\n    is_active = models.BooleanField(default=True)\n    is_bestseller = models.BooleanField(default=False)\n    is_featured = models.BooleanField(default=False)\n    quantity = models.IntegerField()\n    description = models.TextField(blank=False)\n    meta_keywords = models.CharField(max_length=255, help_text = 'Comma- \n              delimited set of SEO keywords for meta tag')\n    meta_description = models.CharField(max_length=255, help_text = 'Content \n                     for description meta tag')\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    categories = models.ManyToManyField(Category)\n\n    class Meta:\n        db_table = 'products'\n\n        ordering = ['-created_at']\n\n    def __str__(self):\n        return self.name\n\n    def get_absolute_url(self):\n        return reverse('catalog:show_product', args=[self.slug])\n\n    def sale_price(self):\n        if self.old_price &gt; self.price:\n            return self.price\n        else:\n            return None\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>    from django.shortcuts import render, get_object_or_404, redirect\n    from catalog.models import Category, Product\n    from django.template import RequestContext\n    from django.urls import reverse\n    from cart import cart\n    from django.http import HttpResponseRedirect\n    from catalog.forms import ProductAddToCartForm\n\ndef index(request):\n    context_instance = RequestContext(request)\n    template = \"catalog/index.html\"\n    page_title = 'Musical Instruments and Sheet Music for Musicians'\n    context = {'page_title': page_title,\n           'context_instance': context_instance}\n    return render(request, template, context)\n\n\ndef show_category(request, category_slug):\n    template = \"catalog/category.html\"\n    context_instance = RequestContext(request)\n    c = get_object_or_404(Category, slug=category_slug)\n    products = c.product_set.all()\n    page_title = c.name\n    meta_keywords = c.meta_keywords\n    meta_description = c.meta_description\n    context = {\n        'context_instance': context_instance,\n        'c': c,\n        'products': products,\n        'page_title': page_title,\n        'meta_keywords': meta_keywords,\n        'meta_description': meta_description,\n    }\n    return render(request, template, context)\n\n\ndef show_product(request, product_slug):\n    p = get_object_or_404(Product, slug=product_slug)\n    context_instance = RequestContext(request)\n    categories = p.categories.filter(is_active=True)\n    page_title = p.name\n    meta_keywords = p.meta_keywords\n    meta_description = p.meta_description\n    if request.method == 'POST':\n        postdata = request.POST.copy()\n        form = ProductAddToCartForm(request, postdata)\n        if form.is_valid():\n            cart.add_to_cart(request)\n            if request.session.test_cookie_worked():\n                request.session.delete_test_cookies()\n            return redirect('cart: show_cart')\n    else:\n        form = ProductAddToCartForm(request=request, label_suffix=':')\n    form.fields['product_slug'].widget.attrs['value'] = product_slug\n    request.session.set_test_cookie()\n    context = {\n        'context_instance': context_instance,\n        'p': p,\n        'categories': categories,\n        'page_title': page_title,\n        'meta_keywords': meta_keywords,\n        'meta_description': meta_description,\n        'form':form\n    }\n    template = \"catalog/product.html\"\n    return render(request, template, context)\n</code></pre>\n\n<p>urls.py:  </p>\n\n<pre><code>    from django.urls import path\n    from catalog import views\n\napp_name = 'catalog'\nurlpatterns = [\n    path('', views.index, name='index'),\n    path('&lt;category_slug&gt;/', views.show_category, name='show_category'),\n    path('product/&lt;product_slug&gt;', views.show_product, name='show_product'),\n\n]\n</code></pre>\n\n<p>template that the form is embedded in</p>\n\n<pre><code>    {% extends \"catalog.html\" %}\n    {% block content %}\n    {% block sidebar %}\n    {% endblock %}\n    &lt;div class=\"container mt-2 pl-5\"&gt;\n&lt;div class=\"row text-justify ml-5 pl-5\"&gt;\n    &lt;div class=\"col-md img-responsive\"&gt;\n        &lt;img src=\"{{ p.image.url }}\" alt=\"{{ p.name }}\" class=\"img-responsive \ncenter-block img-thumbnail\"  width=\"100%\"/&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-md\"&gt;\n        &lt;h4&gt;{{ p.name }}&lt;/h4&gt;\n        Brand: &lt;em&gt;{{ p.brand }}&lt;/em&gt;\n        &lt;br /&gt;&lt;br /&gt;\n        SKU: {{ p.sku }}\n        &lt;br /&gt;\n        In categor{{ categories.count|pluralize:\"y,ies\" }}:\n            {% for c in categories %}\n        &lt;a href=\"{{ c.get_absolute_url }}\"&gt;{{ c.name }}&lt;/a&gt;\n        {% if not forloop.last %}, {% endif %}\n            {% endfor %}\n            &lt;br /&gt;&lt;br /&gt;\n        {% if p.sale_price %}\n        Was: &lt;s&gt;$ {{ p.old_price }}&lt;/s&gt;\n        &lt;br /&gt;\n        Now: $ {{ p.price }}\n        {% else %}\n        Price: $ {{ p.price }}\n        {% endif %}\n        &lt;br /&gt;&lt;br /&gt;\n&lt;form method=\"POST\" action=\".\"&gt;\n    {{ form.as_p }}\n     {% csrf_token %}\n    &lt;br /&gt;\n    &lt;input type=\"submit\" value=\"Add To Cart\" name=\"submit\" alt=\"Add To Cart\" \n/&gt;\n&lt;/form&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\" text-center pt-5 mb-5 pb-5\"&gt;\n    &lt;h3&gt;Product Description&lt;/h3&gt;\n    {{ p.description }}\n&lt;/div&gt;\n    &lt;/div&gt;\n {% endblock %}\n</code></pre>\n\n<p>whenever i click the add to cart, i get this error:</p>\n\n<pre><code>Page not found (404)\n    Request Method: POST\n    Request URL:http://127.0.0.1:8000/catalog/product/\n    Raised by:catalog.views.show_category\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1530738606, "post_id": 51180707, "comment_id": 89343970, "body": "What are you querying? If it&#39;s some sort of database you probably don&#39;t want to use string formatting."}, {"owner": {"reputation": 1092, "user_id": 6341182, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c37c2a0f46b44ffbc5ac9a82abf60abd?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/6341182/mary"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530738886, "post_id": 51180707, "comment_id": 89344047, "body": "I am going to sue pubmed to search for some journals."}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530738923, "post_id": 51180707, "comment_id": 89344061, "body": "OK, then assuming their API sanitizes the queries (I can&#39;t imagine it wouldn&#39;t), you should be fine to use string formatting here."}], "answers": [{"comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1530738370, "post_id": 51180734, "comment_id": 89343903, "body": "There is no list comprehension in there ;p"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1530738420, "post_id": 51180734, "comment_id": 89343924, "body": "@RafaelC Now, there is."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 2, "creation_date": 1530738506, "post_id": 51180734, "comment_id": 89343946, "body": "You dont have to use a list comprehension. The generator from before was just fine"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1530738566, "post_id": 51180734, "comment_id": 89343961, "body": "@RafaelC I know. But it may be easier for the beginner to see how a list is created before it is joined."}, {"owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "edited": false, "score": 1, "creation_date": 1530738577, "post_id": 51180734, "comment_id": 89343963, "body": "It would probably be cleaner (and less error prone) to use <code>.format()</code> in both cases- for the [Journal] part, and to glue those to the <code>( OR </code> part."}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 2, "creation_date": 1530738658, "post_id": 51180734, "comment_id": 89343984, "body": "<code>join</code> is faster if you use a list as opposed to a generator, because the first thing join does if you pass it a generator is convert to a list anyways"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1530738686, "post_id": 51180734, "comment_id": 89343991, "body": "@user3483203 Not sure if it maters for a 5-member list, but yes, you are right."}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 4, "last_activity_date": 1530738825, "last_edit_date": 1530738825, "creation_date": 1530738323, "answer_id": 51180734, "question_id": 51180707, "link": "https://stackoverflow.com/questions/51180707/creating-a-query-using-a-data-in-a-list-format/51180734#51180734", "title": "creating a query using a data in a list format", "body": "<p>You indeed need the <code>join</code> and a list comprehension:</p>\n\n<pre><code>pieces = ['(\"{}\" [Journal])'.format(j) for j in mylist]\njournal_list = \" OR \".join(pieces)\nquery = \"({}) {}\".format(journal_list, more_stuff)\n</code></pre>\n\n<p><code>more_stuff</code> is the \"date\" part of your query (say, <code>'AND (\"2007/01/01\"[Date] : \"2017/12/31\"[Date])'</code>.</p>\n\n<p>Another approach (less Pythonic) is to apply the format function to the list of journals:</p>\n\n<pre><code>pieces = map('(\"{}\" [Journal])'.format, mylist)\njournal_list = \" OR \".join(pieces)\nquery = \"({}) {}\".format(journal_list, more_stuff)\n</code></pre>\n\n<p>The result, of course, is the same.</p>\n"}], "owner": {"reputation": 1092, "user_id": 6341182, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c37c2a0f46b44ffbc5ac9a82abf60abd?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/6341182/mary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 51180734, "answer_count": 1, "score": -1, "last_activity_date": 1530738825, "creation_date": 1530738134, "question_id": 51180707, "link": "https://stackoverflow.com/questions/51180707/creating-a-query-using-a-data-in-a-list-format", "title": "creating a query using a data in a list format", "body": "<p>For this list:</p>\n\n<pre><code>mylist = ['a', 'b', 'c', 'd', 'm']\n</code></pre>\n\n<p>I need to create a query as follows:</p>\n\n<pre><code>((\"a\"[Journal]) OR (\"b\" [Journal]) OR (\"c\" [Journal]) OR (\"d\" [Journal]) OR (\"m\" [Journal])) AND (\"2007/01/01\"[Date] : \"2017/12/31\"[Date])\n</code></pre>\n\n<p>I tried to use \"join\" to print output but I could not create this query. </p>\n\n<p>any suggestion? </p>\n"}, {"tags": ["python", "json"], "answers": [{"tags": [], "owner": {"reputation": 1202, "user_id": 8118087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AbMWy.jpg?s=128&g=1", "display_name": "pLOPeGG", "link": "https://stackoverflow.com/users/8118087/plopegg"}, "is_accepted": false, "score": 1, "last_activity_date": 1530738815, "creation_date": 1530738815, "answer_id": 51180792, "question_id": 51180563, "link": "https://stackoverflow.com/questions/51180563/printing-parent-data-along-with-child-data-of-nested-json/51180792#51180792", "title": "Printing parent data along with child data of nested JSON", "body": "<p>If I understand well, all you want is given a path like <code>Parent/Children/0/Children/0/Name</code> get the path for the same property of its parent. In this case it would be <code>Parent/Children/0/Name</code></p>\n\n<p>Here is my try on a python interpreter, hope it helps you :</p>\n\n<pre><code>&gt;&gt;&gt; path = \"Parent/Children/0/Children/0/Name\"\n&gt;&gt;&gt; path_l = path.split('/')\n&gt;&gt;&gt; rev = path_l[::-1]\n&gt;&gt;&gt; rev\n['Name', '0', 'Children', '0', 'Children', 'Parent']\n&gt;&gt;&gt; rev.index('Children')\n2\n&gt;&gt;&gt; rev = rev[rev.index('Children')+1:]\n&gt;&gt;&gt; rev\n['0', 'Children', 'Parent']\n&gt;&gt;&gt; final = rev[::-1] + [path_l[-1]]\n&gt;&gt;&gt; final\n['Parent', 'Children', '0', 'Name']\n&gt;&gt;&gt; parent_path = '/'.join(final)\n&gt;&gt;&gt; parent_path\n'Parent/Children/0/Name'\n</code></pre>\n\n<p>Then using your function you can add your two value to a dataframe</p>\n\n<pre><code>&gt;&gt;&gt; df = pandas.DataFrame({'Parent': [], 'Children':[]})\n&gt;&gt;&gt; df.append([parent], [children])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": true, "score": 1, "last_activity_date": 1530739507, "creation_date": 1530739507, "answer_id": 51180911, "question_id": 51180563, "link": "https://stackoverflow.com/questions/51180563/printing-parent-data-along-with-child-data-of-nested-json/51180911#51180911", "title": "Printing parent data along with child data of nested JSON", "body": "<p>To get the last parent, you need to traverse your path up to the last time you follow a <code>Children</code> list.</p>\n\n<p>I.e. Given your path: <code>'Parent/Children/0/Children/0/Name'</code> you want to return the data for the parent at <code>'Parent/Children/0'</code>.</p>\n\n<p>This is easy enough to do in Python, just slice the <code>path</code> string up to the last occurrence of the substring <code>/Children</code>:</p>\n\n<pre><code>path[:path.rfind('/Children')]\n</code></pre>\n\n<p>You can then use similar code to what you currently have to get the parent's data:</p>\n\n<pre><code>parent = json_data\npath = path[:path.rfind('/Children')]\nfor attr in path.split('/'):\n    parent = parent[int(attr) if isinstance(parent, list) else attr]\n</code></pre>\n\n<p>which, for this example, would give us <code>parent</code> as:</p>\n\n<pre><code>{\n  \"Name\": \"Michael\",\n  \"Gender\": \"M\",\n  \"Children\": [\n    {\n      \"Name\": \"Ezee\",\n      \"Gender\": \"M\",\n      \"Age\": 20\n    },\n    {\n      \"Name\": \"Ezee\",\n      \"Gender\": \"M\",\n      \"Age\": 28,\n      \"Children\": [\n        {\n          \"Name\": \"Dre\",\n          \"Age\": 1\n        },\n        {\n          \"Name\": \"George\",\n          \"Age\": 2\n        }\n      ]\n    }\n  ],\n  \"Age\": 50,\n  \"MiddleName\": \"Jay\"\n}\n</code></pre>\n\n<p>And to complete your question fully, if you wanted this person's attributes (without their list of <code>Children</code>) as a single row, you would have to decide to store them in a set way (such as alphabetically) and then you could use the <code>.items()</code> method of a dict to extract these into the right format:</p>\n\n<pre><code>[v for k,v in sorted(t for t in parent.items() if t[0] != 'Children')]\n</code></pre>\n\n<p>giving, for our example:</p>\n\n<pre><code>[50, 'M', 'Jay', 'Michael']\n#Age, Gender, Middle Name, Name\n</code></pre>\n\n<hr>\n\n<p>Oh, and the whole of the first code can be compressed to a one-liner if you wanted:</p>\n\n<pre><code>__import__('functools').reduce(lambda d,a:d[int(a) if isintance(d,list) else a], path[:path.rfind('/Children')].split('/'), json_data)\n</code></pre>\n"}], "owner": {"reputation": 368, "user_id": 6439449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a42610ea68403e86acdb193aaee69f9?s=128&d=identicon&r=PG&f=1", "display_name": "Visualisation App", "link": "https://stackoverflow.com/users/6439449/visualisation-app"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 51180911, "answer_count": 2, "score": 0, "last_activity_date": 1530739507, "creation_date": 1530737155, "last_edit_date": 1530737972, "question_id": 51180563, "link": "https://stackoverflow.com/questions/51180563/printing-parent-data-along-with-child-data-of-nested-json", "title": "Printing parent data along with child data of nested JSON", "body": "<p>I have a JSON of the following sort. In another table, I have JSONPaths, which tells me to get certain values. If I am to get the values of child elements, I need to get all the corresponding parent attribute values and store all of these values in a dataframe as a single row.</p>\n\n<pre><code>{\n  \"Parent\": {\n    \"Name\": \"Bob\",\n    \"Age\": \"80\",\n    \"Children\": [\n      {\n        \"Name\": \"Michael\",\n        \"Gender\":\"M\",\n        \"Children\": [\n          {\n            \"Name\": \"Ezee\",\n            \"Gender\": \"M\",\n            \"Age\": 20\n          },\n          {\n            \"Name\": \"Ezee\",\n            \"Gender\": \"M\",\n            \"Age\": 28,\n            \"Children\": [\n              {\n                \"Name\": \"Dre\",\n                \"Age\": 1\n              },\n              {\n                \"Name\": \"George\",\n                \"Age\": 2\n              }\n            ]\n          }\n        ],\n        \"Age\": 50,\n        \"MiddleName\": \"Jay\"\n      },\n      {\n        \"Name\": \"Justin\",\n        \"Gender\": \"M\",\n        \"Children\": [\n          {\n            \"Name\": \"Emily\",\n            \"Age\": 18,\n            \"Gender\": \"F\"\n          }\n        ],\n        \"Age\": 45\n      }\n    ]\n  }\n}\n</code></pre>\n\n<p>Say I need to get the values for the JSON path: <code>Parent/Children/0/Children/0/Name</code>, I need to get the attribute values of name, age, etc. for the corresponding parent (Parent/Children/0/[Name or Age or etc.]) and store all the above values as a single row.</p>\n\n<p>Currently, I am able to get the parent values separately by passing the related path and children values separately by passing that path.</p>\n\n<pre><code>def findValue(path, json_data):\n    paths = path.split(\"/\")    \n    data = json_data\n    for i in range(0,len(paths)):\n        if isinstance(data, list):\n            paths[i]=int(paths[i])\n            data = data[paths[i]]\n        else:\n            data = data.get(paths[i])\n    return data\n</code></pre>\n\n<p>How could I achieve this?</p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 76, "user_id": 7733772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I7XmY.png?s=128&g=1", "display_name": "Lane Terry", "link": "https://stackoverflow.com/users/7733772/lane-terry"}, "edited": false, "score": 0, "creation_date": 1530737660, "post_id": 51180548, "comment_id": 89343669, "body": "Trying installing a package using <code>python3 -m pip3 install x</code>. What distro and version are you on?"}, {"owner": {"reputation": 3022, "user_id": 5848185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb8aeaba2acf07cd6dbd0a44b8862484?s=128&d=identicon&r=PG&f=1", "display_name": "GAD3R", "link": "https://stackoverflow.com/users/5848185/gad3r"}, "edited": false, "score": 0, "creation_date": 1530739791, "post_id": 51180548, "comment_id": 89344322, "body": "What is your linux distribution?"}, {"owner": {"reputation": 137, "user_id": 8049643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753aef4d5b850435908a318c28d167e?s=128&d=identicon&r=PG&f=1", "display_name": "MOHAMMED SALEH", "link": "https://stackoverflow.com/users/8049643/mohammed-saleh"}, "reply_to_user": {"reputation": 3022, "user_id": 5848185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb8aeaba2acf07cd6dbd0a44b8862484?s=128&d=identicon&r=PG&f=1", "display_name": "GAD3R", "link": "https://stackoverflow.com/users/5848185/gad3r"}, "edited": false, "score": 0, "creation_date": 1530750758, "post_id": 51180548, "comment_id": 89346385, "body": "@GAD3R the distribution is 16.04"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 8049643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753aef4d5b850435908a318c28d167e?s=128&d=identicon&r=PG&f=1", "display_name": "MOHAMMED SALEH", "link": "https://stackoverflow.com/users/8049643/mohammed-saleh"}, "edited": false, "score": 0, "creation_date": 1530750675, "post_id": 51180847, "comment_id": 89346371, "body": "So my pip is linked to my python 2.7 distribution. how would I like it to my python 3.5 distribution"}, {"owner": {"reputation": 1168, "user_id": 3640965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7f57e7c966746b9149d63009013316a7?s=128&d=identicon&r=PG&f=1", "display_name": "Bierbarbar", "link": "https://stackoverflow.com/users/3640965/bierbarbar"}, "reply_to_user": {"reputation": 137, "user_id": 8049643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753aef4d5b850435908a318c28d167e?s=128&d=identicon&r=PG&f=1", "display_name": "MOHAMMED SALEH", "link": "https://stackoverflow.com/users/8049643/mohammed-saleh"}, "edited": false, "score": 0, "creation_date": 1530909717, "post_id": 51180847, "comment_id": 89415914, "body": "Did you try if pip3 (linked to python 3) is working correctly - if it is just set an alias for pip to pip3."}], "tags": [], "owner": {"reputation": 1168, "user_id": 3640965, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7f57e7c966746b9149d63009013316a7?s=128&d=identicon&r=PG&f=1", "display_name": "Bierbarbar", "link": "https://stackoverflow.com/users/3640965/bierbarbar"}, "is_accepted": true, "score": 0, "last_activity_date": 1530909603, "last_edit_date": 1530909603, "creation_date": 1530739116, "answer_id": 51180847, "question_id": 51180548, "link": "https://stackoverflow.com/questions/51180548/getting-an-error-with-pip3-no-module-named-pip-vendor-pkg-resources/51180847#51180847", "title": "Getting an error with pip3: No module named &#39;pip._vendor.pkg_resources&#39;", "body": "<p>Are you sure that installed pip is linked to <code>pip3</code>? I had a similar error some time ago. The installed pip for my python version was simply linked to <code>pip</code>, while there was an old version liked to <code>pip3</code>. Just try run:</p>\n\n<pre><code>pip --version\n</code></pre>\n\n<p>This shows you if its pip for python 2 or 3.</p>\n"}], "owner": {"reputation": 137, "user_id": 8049643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a753aef4d5b850435908a318c28d167e?s=128&d=identicon&r=PG&f=1", "display_name": "MOHAMMED SALEH", "link": "https://stackoverflow.com/users/8049643/mohammed-saleh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3073, "favorite_count": 0, "accepted_answer_id": 51180847, "answer_count": 1, "score": 0, "last_activity_date": 1541783468, "creation_date": 1530737062, "last_edit_date": 1541783468, "question_id": 51180548, "link": "https://stackoverflow.com/questions/51180548/getting-an-error-with-pip3-no-module-named-pip-vendor-pkg-resources", "title": "Getting an error with pip3: No module named &#39;pip._vendor.pkg_resources&#39;", "body": "<p>When every I try to use pip3, either with pip3 install <em>package</em>  or pip3 list, or any other command that includes pip3 I get this error </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\", line 33, in vendored\n    __import__(vendored_name, globals(), locals(), level=0)\nImportError: No module named 'pip._vendor.pkg_resources'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/bin/pip3\", line 9, in &lt;module&gt;\n    from pip import main\n  File \"/usr/lib/python3/dist-packages/pip/__init__.py\", line 13, in &lt;module&gt;\n    from pip.exceptions import InstallationError, CommandError, PipError\n  File \"/usr/lib/python3/dist-packages/pip/exceptions.py\", line 6, in &lt;module&gt;\n    from pip._vendor.six import iteritems\n  File \"/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\", line 75, in &lt;module&gt;\n    vendored(\"pkg_resources\")\n  File \"/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\", line 36, in vendored\n    __import__(modulename, globals(), locals(), level=0)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 664, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 634, in _load_backward_compatible\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2927, in &lt;module&gt;\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2913, in _call_aside\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2952, in _initialize_master_working_set\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 956, in subscribe\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2952, in &lt;lambda&gt;\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2515, in activate\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2097, in declare_namespace\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2047, in _handle_ns\n  File \"/usr/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2066, in _rebuild_mod_path\nAttributeError: '_NamespacePath' object has no attribute 'sort'\n</code></pre>\n\n<p>So far I have already tried to run <code>sudo apt remove python3-pip</code> then running <code>sudo apt install python3-pip</code> but that doesnt work. And I also looked at doing this, <strong>look at the code portion below</strong>, to try and uninstall and then reinstall pip3, but nothing I have done so far seems to be working. </p>\n\n<pre><code>sudo apt purge python3-pip  \nsudo rm -rf '/usr/lib/python3/dist-packages/pip'  \nsudo apt install python3-pip   \ncd\ncd .local/lib/python3/site-packages\nsudo rm -rf pip*  \ncd\ncd .local/lib/python3.5/site-packages\nsudo rm -rf pip*  \nsudo pip3 install xlwt\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "mockito", "pytest", "python-unittest"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 2, "creation_date": 1530737054, "post_id": 51180486, "comment_id": 89343499, "body": "I have to ask: why do you need to mock a trivial string-manipulation helper function?"}, {"owner": {"reputation": 169, "user_id": 2623692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a094607cf5c13732c3a00f5931ddca11?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/2623692/rajiv"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1530766508, "post_id": 51180486, "comment_id": 89348991, "body": "I had to go through tat function which as this piece of line and i need to mock this in order to get the file where i want"}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1530737971, "post_id": 51180626, "comment_id": 89343760, "body": "<code>os.path.join</code> takes one or more arguments. <code>os.path.join(&quot;one_thing&quot;)</code> is valid."}], "tags": [], "owner": {"reputation": 3442, "user_id": 5951320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aZ8G2.jpg?s=128&g=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5951320/ash"}, "is_accepted": false, "score": 1, "last_activity_date": 1530789043, "last_edit_date": 1530789043, "creation_date": 1530737550, "answer_id": 51180626, "question_id": 51180486, "link": "https://stackoverflow.com/questions/51180486/how-to-mock-os-path-join-using-mockito/51180626#51180626", "title": "How to mock os.path.join using mockito", "body": "<p><code>os.path.join</code> takes one or more arguments, but your replacement (<code>lambda str:'test.txt'</code>) only takes one. Could that be the cause of the error?</p>\n\n<p>If so, you could try <code>lambda s, *args: \"test.txt\"</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 1526957, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e30eeb10846ce11118d4689cc0acc91b?s=128&d=identicon&r=PG", "display_name": "herr.kaste", "link": "https://stackoverflow.com/users/1526957/herr-kaste"}, "is_accepted": false, "score": 1, "last_activity_date": 1538769974, "creation_date": 1538769974, "answer_id": 52672655, "question_id": 51180486, "link": "https://stackoverflow.com/questions/51180486/how-to-mock-os-path-join-using-mockito/52672655#52672655", "title": "How to mock os.path.join using mockito", "body": "<p>Well, the typical mockito usage here would be <code>when(os.path).join(...).thenReturn('one_thing')</code>. The literal <code>...</code> (Ellipsis) I'm using here is valid in Python3.</p>\n\n<p>For Python 2.7, you could</p>\n\n<p><code>from mockito import args\nwhen(os.path).join(*args).thenReturn('one_thing')\n</code> </p>\n"}], "owner": {"reputation": 169, "user_id": 2623692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a094607cf5c13732c3a00f5931ddca11?s=128&d=identicon&r=PG&f=1", "display_name": "Rajiv", "link": "https://stackoverflow.com/users/2623692/rajiv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1538769974, "creation_date": 1530736639, "last_edit_date": 1530736838, "question_id": 51180486, "link": "https://stackoverflow.com/questions/51180486/how-to-mock-os-path-join-using-mockito", "title": "How to mock os.path.join using mockito", "body": "<p>I tried mocking <code>mock.patch('os.path.join',lambda str:'test.txt')</code>.</p>\n\n<p>I observed the below error:</p>\n\n<pre><code>INTERNALERROR&gt; Traceback (most recent call last):\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/main.py\", line 178, in wrap_session\nINTERNALERROR&gt;     session.exitstatus = doit(config, session) or 0\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/main.py\", line 215, in _main\nINTERNALERROR&gt;     config.hook.pytest_runtestloop(session=session)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 617, in __call__\nINTERNALERROR&gt;     return self._hookexec(self, self._nonwrappers + self._wrappers, kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 222, in _hookexec\nINTERNALERROR&gt;     return self._inner_hookexec(hook, methods, kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 216, in &lt;lambda&gt;\nINTERNALERROR&gt;     firstresult=hook.spec_opts.get('firstresult'),\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 201, in _multicall\nINTERNALERROR&gt;     return outcome.get_result()\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 77, in get_result\nINTERNALERROR&gt;     _reraise(*ex)  # noqa\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 180, in _multicall\nINTERNALERROR&gt;     res = hook_impl.function(*args)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/main.py\", line 236, in pytest_runtestloop\nINTERNALERROR&gt;     item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 617, in __call__\nINTERNALERROR&gt;     return self._hookexec(self, self._nonwrappers + self._wrappers, kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 222, in _hookexec\nINTERNALERROR&gt;     return self._inner_hookexec(hook, methods, kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 216, in &lt;lambda&gt;\nINTERNALERROR&gt;     firstresult=hook.spec_opts.get('firstresult'),\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 201, in _multicall\nINTERNALERROR&gt;     return outcome.get_result()\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 77, in get_result\nINTERNALERROR&gt;     _reraise(*ex)  # noqa\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 180, in _multicall\nINTERNALERROR&gt;     res = hook_impl.function(*args)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/runner.py\", line 64, in pytest_runtest_protocol\nINTERNALERROR&gt;     runtestprotocol(item, nextitem=nextitem)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/runner.py\", line 79, in runtestprotocol\nINTERNALERROR&gt;     reports.append(call_and_report(item, \"call\", log))\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/runner.py\", line 161, in call_and_report\nINTERNALERROR&gt;     report = hook.pytest_runtest_makereport(item=item, call=call)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 617, in __call__\nINTERNALERROR&gt;     return self._hookexec(self, self._nonwrappers + self._wrappers, kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 222, in _hookexec\nINTERNALERROR&gt;     return self._inner_hookexec(hook, methods, kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/__init__.py\", line 216, in &lt;lambda&gt;\nINTERNALERROR&gt;     firstresult=hook.spec_opts.get('firstresult'),\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 196, in _multicall\nINTERNALERROR&gt;     gen.send(outcome)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/skipping.py\", line 123, in pytest_runtest_makereport\nINTERNALERROR&gt;     rep = outcome.get_result()\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 77, in get_result\nINTERNALERROR&gt;     _reraise(*ex)  # noqa\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/pluggy/callers.py\", line 180, in _multicall\nINTERNALERROR&gt;     res = hook_impl.function(*args)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/runner.py\", line 328, in pytest_runtest_makereport\nINTERNALERROR&gt;     longrepr = item.repr_failure(excinfo)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/python.py\", line 672, in repr_failure\nINTERNALERROR&gt;     return self._repr_failure_py(excinfo, style=style)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/python.py\", line 665, in _repr_failure_py\nINTERNALERROR&gt;     return super(FunctionMixin, self)._repr_failure_py(excinfo, style=style)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/nodes.py\", line 295, in _repr_failure_py\nINTERNALERROR&gt;     tbfilter=tbfilter,\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/_code/code.py\", line 472, in getrepr\nINTERNALERROR&gt;     return fmt.repr_excinfo(self)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/_code/code.py\", line 702, in repr_excinfo\nINTERNALERROR&gt;     reprtraceback = self.repr_traceback(excinfo)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/_code/code.py\", line 659, in repr_traceback\nINTERNALERROR&gt;     reprentry = self.repr_traceback_entry(entry, einfo)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/_code/code.py\", line 618, in repr_traceback_entry\nINTERNALERROR&gt;     reprargs = self.repr_args(entry) if not short else None\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/_code/code.py\", line 539, in repr_args\nINTERNALERROR&gt;     args.append((argname, self._saferepr(argvalue)))\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/_code/code.py\", line 533, in _saferepr\nINTERNALERROR&gt;     return py.io.saferepr(obj)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/py/_vendored_packages/apipkg.py\", line 148, in __makeattr\nINTERNALERROR&gt;     result = importobj(modpath, attrname)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/py/_vendored_packages/apipkg.py\", line 69, in importobj\nINTERNALERROR&gt;     module = __import__(modpath, None, None, ['__doc__'])\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/_pytest/assertion/rewrite.py\", line 97, in find_module\nINTERNALERROR&gt;     fn = os.path.join(pth, name.rpartition(\".\")[2] + \".py\")\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/mockito/mocking.py\", line 88, in new_mocked_method\nINTERNALERROR&gt;     self, method_name, *args, **kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/mockito/mocking.py\", line 44, in remembered_invocation_builder\nINTERNALERROR&gt;     return invoc(*args, **kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/mockito/invocation.py\", line 164, in __call__\nINTERNALERROR&gt;     *params, **named_params)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/mockito/invocation.py\", line 293, in answer_first\nINTERNALERROR&gt;     return self.answers.answer(*args, **kwargs)\nINTERNALERROR&gt;   File \"/usr/lib/python2.7/site-packages/mockito/invocation.py\", line 402, in answer\nINTERNALERROR&gt;     return a(*args, **kwargs)\nINTERNALERROR&gt; TypeError: &lt;lambda&gt;() takes exactly 1 argument (2 given)\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["python", "if-statement", "text"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1530736617, "post_id": 51180464, "comment_id": 89343392, "body": "Use a dictionary: p code as key, info as value. Can easily be loaded from a JSON file."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1530736641, "post_id": 51180464, "comment_id": 89343401, "body": "Make a JSON file that maps codes to messages.  Then just <a href=\"https://docs.python.org/3/library/json.html#json.load\" rel=\"nofollow noreferrer\"><code>load</code></a> that file into a dictionary when you start your program. Or use a database."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10033951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c98c24267e919fa85ce560347a17a5?s=128&d=identicon&r=PG&f=1", "display_name": "Rico", "link": "https://stackoverflow.com/users/10033951/rico"}, "edited": false, "score": 0, "creation_date": 1530811180, "post_id": 51180492, "comment_id": 89375396, "body": "Did a quick test and it seems to work like a charm :-) Thank you! Now I just need a quick way to load the textfile to the dictionary format but I bet I can work something out."}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": true, "score": 2, "last_activity_date": 1530736710, "creation_date": 1530736710, "answer_id": 51180492, "question_id": 51180464, "link": "https://stackoverflow.com/questions/51180464/thousands-of-if-statements-in-python/51180492#51180492", "title": "Thousands of IF statements in Python", "body": "<p>Use a dictionary:</p>\n\n<pre><code>code_descr = {\n   'P2348': 'Misfire detected',\n   'P8866': 'Engine is on fire',\n   'P7777': 'Tires missing',\n}\n</code></pre>\n\n<p>then you can lookup a key in the dict, no <code>if</code> needed:</p>\n\n<pre><code>print('{} - {}'.format(code, code_descr[code]))\n</code></pre>\n\n<p>You can write code to read a database in some format (csv, json, etc) and generate the dict, so you have the descriptions external to the program</p>\n"}], "owner": {"reputation": 3, "user_id": 10033951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c98c24267e919fa85ce560347a17a5?s=128&d=identicon&r=PG&f=1", "display_name": "Rico", "link": "https://stackoverflow.com/users/10033951/rico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 51180492, "answer_count": 1, "score": 0, "last_activity_date": 1530737475, "creation_date": 1530736511, "last_edit_date": 1530737475, "question_id": 51180464, "link": "https://stackoverflow.com/questions/51180464/thousands-of-if-statements-in-python", "title": "Thousands of IF statements in Python", "body": "<p>I'm a beginner with Python. Currently I'm making a car reading tool just to build some programming skill. All works well.</p>\n\n<p>When I get a fault code from a control module from a car, I get a P-code. Like:</p>\n\n<p>P2348 and P21E2 (random P codes)</p>\n\n<p>I can retrieve these P codes, but I want to add a little more info to them. P codes can be linked to a fault description:</p>\n\n<blockquote>\n  <p>P2348 - Misfire detected (random)</p>\n</blockquote>\n\n<p>I want my program to give the extended information, and not just the P code. There are thousands of P codes and I have them all with discription. But a thousand If statements would be bad coding. I could look the P code up in a textfile and get the complete string from it, but that's not really an option (unless it's possible in the code itself or compiled with the executable).</p>\n\n<p>What would be a neat way to do this? I have encountered this problem before when I took programming lessons. I used IF statements then (about 20) and I hated it.</p>\n"}, {"tags": ["python", "list", "arraylist"], "answers": [{"tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": true, "score": 0, "last_activity_date": 1530736541, "creation_date": 1530736541, "answer_id": 51180468, "question_id": 51180460, "link": "https://stackoverflow.com/questions/51180460/cycle-through-specific-items-in-list-retaining-original-index-number/51180468#51180468", "title": "Cycle through specific items in list retaining original index number", "body": "<pre><code>for pos, item in enumerate(mylist):\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18540, "user_id": 7434365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h6XG2.jpg?s=128&g=1", "display_name": "Joe Iddon", "link": "https://stackoverflow.com/users/7434365/joe-iddon"}, "is_accepted": false, "score": 1, "last_activity_date": 1530737848, "creation_date": 1530737848, "answer_id": 51180674, "question_id": 51180460, "link": "https://stackoverflow.com/questions/51180460/cycle-through-specific-items-in-list-retaining-original-index-number/51180674#51180674", "title": "Cycle through specific items in list retaining original index number", "body": "<p>I would use enumerate to get an iterator of tuples containing the items and their respective indexes (the tuple is actually the other way around: <code>(index, item)</code>)). </p>\n\n<p>You could then use a generator-comprehension to filter out those which do not have the <code>type</code> attribute: <code>\"BOLD\"</code> and unpack this in a for-loop. You then have the bold items to work with, but also the indexes from the original list.</p>\n\n<p>So something like:</p>\n\n<pre><code>for i, e in (t for t in enumerate(lst) if t[1].type == \"BOLD\"):\n    print(e.name, 'is at index', i)\n    print(lst[i-1].name, 'is before')\n    print(lst[i+1].name, 'is after')\n</code></pre>\n\n<p>and when run after the following declarations:</p>\n\n<pre><code>class Item:\n    def __init__(self, type, name):\n        self.type = type\n        self.name = name\n\nlst = [Item('ITALIC','Bob'), Item('BOLD','Bill'), Item('BOLD','Jim'), Item('ITALIC','Tim')]\n</code></pre>\n\n<p>we get:</p>\n\n<pre><code>Bill is at index 1\nBob is before\nJim is after\nJim is at index 2\nBill is before\nTim is after\n</code></pre>\n\n<p>of course, you could use an if-statement inside the loop, but I would consider this more Pythonic as you are iterating over just the bold elements.</p>\n"}], "owner": {"reputation": 393, "user_id": 1377409, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NUG9t.gif?s=128&g=1", "display_name": "NewbCake", "link": "https://stackoverflow.com/users/1377409/newbcake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 51180468, "answer_count": 2, "score": 1, "last_activity_date": 1530737848, "creation_date": 1530736492, "question_id": 51180460, "link": "https://stackoverflow.com/questions/51180460/cycle-through-specific-items-in-list-retaining-original-index-number", "title": "Cycle through specific items in list retaining original index number", "body": "<p>I'll try to explain what I would like to accomplish with a simple example. I am looking for a solution using Python. </p>\n\n<p>There is an Original List of Items:</p>\n\n<p>[<em>0</em>, <em>1</em>, <strong>2</strong>, <em>3</em>, <strong>4</strong>, <em>5</em>, <em>6</em>, <em>7</em>, <strong>8</strong>, <em>9</em>]</p>\n\n<p>Items [<strong>2,4,8</strong>] have a common property of <strong>Bold</strong></p>\n\n<p>From Original List of Items I would like to be able to cycle through only the Items which has the common property of <strong>Bold</strong> [<strong>2,4,8</strong>] skipping over the numbers in <em>Italic</em> e.g. items.type == BOLD</p>\n\n<p>I know I am able to create a new list with the <strong>Bold</strong> items and index through those, however, I would like to be able to cycle through the Original List of Items and selecting the <strong>Bold</strong> items by their Original Index Number.</p>\n\n<p>The reason I want to retain the Original Index Number is that when, for example, I select number <strong>8</strong> that I can still have access to it's previous and following numbers, <em>7</em> and <em>9</em>. </p>\n\n<p>I hope that makes sense. \nAny help will be appreciated. </p>\n"}, {"tags": ["python", "web-scraping", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530739986, "post_id": 51180611, "comment_id": 89344389, "body": "i found a similar statement which also somewhat &quot;clarifies&quot; the issue. check my updated Q"}], "tags": [], "owner": {"reputation": 1134, "user_id": 9894142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OVdfY.jpg?s=128&g=1", "display_name": "Swaroop Humane", "link": "https://stackoverflow.com/users/9894142/swaroop-humane"}, "is_accepted": false, "score": 2, "last_activity_date": 1530737476, "creation_date": 1530737476, "answer_id": 51180611, "question_id": 51180443, "link": "https://stackoverflow.com/questions/51180443/does-autothrottle-override-download-delay/51180611#51180611", "title": "Does AUTOTHROTTLE override DOWNLOAD_DELAY?", "body": "<blockquote>\n  <p>The AutoThrottle extension honours the standard Scrapy settings for\n  concurrency and delay. This means that it will respect\n  <code>CONCURRENT_REQUESTS_PER_DOMAIN</code> and <code>CONCURRENT_REQUESTS_PER_IP</code> options\n  and never set a download delay lower than <code>DOWNLOAD_DELAY</code>.</p>\n</blockquote>\n\n<p>I found this note in the documentation and may solve your query.</p>\n"}], "owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530740563, "creation_date": 1530736382, "last_edit_date": 1530740563, "question_id": 51180443, "link": "https://stackoverflow.com/questions/51180443/does-autothrottle-override-download-delay", "title": "Does AUTOTHROTTLE override DOWNLOAD_DELAY?", "body": "<p>The Scrapy documentation for <a href=\"https://doc.scrapy.org/en/latest/topics/autothrottle.html\" rel=\"nofollow noreferrer\"><code>AUTOTHROTTLE</code></a> says, \"AutoThrottle extension adjusts download delays.\" The documentation in the Throttling Algorithm section then goes on to state that \"[the] download delay can\u2019t become less than <code>DOWNLOAD_DELAY</code> or greater than <code>AUTOTHROTTLE_MAX_DELAY</code>,\" so I'm assuming they can be used in conjunction with one another?</p>\n\n<p>I'm wondering whether or not <code>AUTOTHROTTLE</code> overrides <code>DOWNLOAD_DELAY</code>, if the values compound, and or whether or not the two settings can be used in conjunction with one another? Definitively which is the case?</p>\n"}, {"tags": ["python", "python-2.7", "web-scraping", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 2635, "user_id": 1435711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9fac7fe4c7290024faee8bfe6367f130?s=128&d=identicon&r=PG", "display_name": "Username", "link": "https://stackoverflow.com/users/1435711/username"}, "edited": false, "score": 0, "creation_date": 1530831529, "post_id": 51180603, "comment_id": 89383393, "body": "Updated question with more output"}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 0, "last_activity_date": 1530737413, "creation_date": 1530737413, "answer_id": 51180603, "question_id": 51180439, "link": "https://stackoverflow.com/questions/51180439/scrapy-cant-open-this-url-response-is-none/51180603#51180603", "title": "Scrapy can&#39;t open this URL? `response` is None", "body": "<p>I can't reproduce it - I used the same commands you type and it works fine here. I can see the answer in the browser. Do you get more output? Maybe a traceback? Edit the question and put the full output please.</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6135262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11344a0d7080c9b4de8cd89efcb4055?s=128&d=identicon&r=PG&f=1", "display_name": "Joesmaker", "link": "https://stackoverflow.com/users/6135262/joesmaker"}, "is_accepted": false, "score": 1, "last_activity_date": 1536221419, "creation_date": 1536221419, "answer_id": 52199432, "question_id": 51180439, "link": "https://stackoverflow.com/questions/51180439/scrapy-cant-open-this-url-response-is-none/52199432#52199432", "title": "Scrapy can&#39;t open this URL? `response` is None", "body": "<p>I can see the message 'Forbidden by robots.txt'.</p>\n\n<p>Maybe just edit ROBOTSTXT_OBEY=False in your setting.</p>\n\n<p>Similar answer can be found on SO: <a href=\"https://stackoverflow.com/questions/37274835/getting-forbidden-by-robots-txt-scrapy\">getting Forbidden by robots.txt: scrapy</a></p>\n"}, {"tags": [], "owner": {"reputation": 9446, "user_id": 347767, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/013da2590dd9f46e31cb022ec51eb192?s=128&d=identicon&r=PG", "display_name": "gangabass", "link": "https://stackoverflow.com/users/347767/gangabass"}, "is_accepted": false, "score": 1, "last_activity_date": 1536233663, "creation_date": 1536233663, "answer_id": 52203187, "question_id": 51180439, "link": "https://stackoverflow.com/questions/51180439/scrapy-cant-open-this-url-response-is-none/52203187#52203187", "title": "Scrapy can&#39;t open this URL? `response` is None", "body": "<p>You have <code>ROBOTSTXT_OBEY=True</code> (default value) in your settings.py file and <code>scrapy shell</code> reads this value and use it.</p>\n\n<p>You can try this command:\n<code>scrapy shell https://brpurch.ionwave.net/CurrentSourcingEvents.aspx --set=\"ROBOTSTXT_OBEY=False\"</code></p>\n"}], "owner": {"reputation": 2635, "user_id": 1435711, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9fac7fe4c7290024faee8bfe6367f130?s=128&d=identicon&r=PG", "display_name": "Username", "link": "https://stackoverflow.com/users/1435711/username"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 650, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1536233663, "creation_date": 1530736352, "last_edit_date": 1530831518, "question_id": 51180439, "link": "https://stackoverflow.com/questions/51180439/scrapy-cant-open-this-url-response-is-none", "title": "Scrapy can&#39;t open this URL? `response` is None", "body": "<p>When I run these commands...</p>\n\n<pre><code>scrapy shell \"https://brpurch.ionwave.net/CurrentSourcingEvents.aspx\"\nview(response)\n</code></pre>\n\n<p>I get this error...</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;console&gt;\", line 1, in &lt;module&gt;\n  File \"/home/me/ENV/stuff/local/lib/python2.7/site-packages/scrapy/utils/response.py\", line 70, in open_in_browser\n    body = response.body\nAttributeError: 'NoneType' object has no attribute 'body'\n</code></pre>\n\n<p>How do I parse this page in Scrapy?</p>\n\n<p>My browser is Chromium v67.0.3396.87. My OS is Debian 9.3.</p>\n\n<p>Here's the full output when I run <code>scrapy shell</code>, before <code>view(response)</code>.</p>\n\n<pre><code>2018-07-05 18:57:29 [scrapy.utils.log] INFO: Scrapy 1.5.0 started (bot: pbc_rfp)\n2018-07-05 18:57:29 [scrapy.utils.log] INFO: Versions: lxml 4.2.3.0, libxml2 2.9.8, cssselect 1.0.3, parsel 1.4.0, w3lib 1.19.0, Twisted 18.4.0, Python 2.7.13 (default, Nov 24 2017, 17:33:09) - [GCC 6.3.0 20170516], pyOpenSSL 18.0.0 (OpenSSL 1.1.0h  27 Mar 2018), cryptography 2.2.2, Platform Linux-4.9.0-6-amd64-x86_64-with-debian-9.4\n2018-07-05 18:57:29 [scrapy.crawler] INFO: Overridden settings: {'NEWSPIDER_MODULE': 'pbc_rfp.spiders', 'ROBOTSTXT_OBEY': True, 'DUPEFILTER_CLASS': 'scrapy.dupefilters.BaseDupeFilter', 'SPIDER_MODULES': ['pbc_rfp.spiders'], 'BOT_NAME': 'pbc_rfp', 'LOGSTATS_INTERVAL': 0, 'COOKIES_ENABLED': False}\n2018-07-05 18:57:29 [scrapy.middleware] INFO: Enabled extensions:\n['scrapy.extensions.memusage.MemoryUsage',\n 'scrapy.extensions.telnet.TelnetConsole',\n 'scrapy.extensions.corestats.CoreStats']\n2018-07-05 18:57:29 [scrapy.middleware] INFO: Enabled downloader middlewares:\n['scrapy.downloadermiddlewares.robotstxt.RobotsTxtMiddleware',\n 'scrapy.downloadermiddlewares.httpauth.HttpAuthMiddleware',\n 'scrapy.downloadermiddlewares.downloadtimeout.DownloadTimeoutMiddleware',\n 'scrapy.downloadermiddlewares.defaultheaders.DefaultHeadersMiddleware',\n 'scrapy.downloadermiddlewares.useragent.UserAgentMiddleware',\n 'scrapy.downloadermiddlewares.retry.RetryMiddleware',\n 'scrapy.downloadermiddlewares.redirect.MetaRefreshMiddleware',\n 'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware',\n 'scrapy.downloadermiddlewares.redirect.RedirectMiddleware',\n 'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware',\n 'scrapy.downloadermiddlewares.stats.DownloaderStats']\n2018-07-05 18:57:29 [scrapy.middleware] INFO: Enabled spider middlewares:\n['scrapy.spidermiddlewares.httperror.HttpErrorMiddleware',\n 'scrapy.spidermiddlewares.offsite.OffsiteMiddleware',\n 'scrapy.spidermiddlewares.referer.RefererMiddleware',\n 'scrapy.spidermiddlewares.urllength.UrlLengthMiddleware',\n 'scrapy.spidermiddlewares.depth.DepthMiddleware']\n2018-07-05 18:57:29 [scrapy.middleware] INFO: Enabled item pipelines:\n[]\n2018-07-05 18:57:29 [scrapy.extensions.telnet] DEBUG: Telnet console listening on 127.0.0.1:6031\n2018-07-05 18:57:29 [scrapy.core.engine] INFO: Spider opened\n2018-07-05 18:57:29 [scrapy.core.engine] DEBUG: Crawled (200) &lt;GET https://brpurch.ionwave.net/robots.txt&gt; (referer: None)\n2018-07-05 18:57:29 [scrapy.downloadermiddlewares.robotstxt] DEBUG: Forbidden by robots.txt: &lt;GET https://brpurch.ionwave.net/CurrentSourcingEvents.aspx&gt;\n[s] Available Scrapy objects:\n[s]   scrapy     scrapy module (contains scrapy.Request, scrapy.Selector, etc)\n[s]   crawler    &lt;scrapy.crawler.Crawler object at 0x7f57de8dfa10&gt;\n[s]   item       {}\n[s]   request    &lt;GET https://brpurch.ionwave.net/CurrentSourcingEvents.aspx&gt;\n[s]   settings   &lt;scrapy.settings.Settings object at 0x7f57de8dfb90&gt;\n[s] Useful shortcuts:\n[s]   fetch(url[, redirect=True]) Fetch URL and update local objects (by default, redirects are followed)\n[s]   fetch(req)                  Fetch a scrapy.Request and update local objects \n[s]   shelp()           Shell help (print this help)\n[s]   view(response)    View response in a browser\n</code></pre>\n"}, {"tags": ["python", "flask", "jinja2", "bokeh"], "answers": [{"tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": false, "score": 0, "last_activity_date": 1530810647, "creation_date": 1530810647, "answer_id": 51196759, "question_id": 51180424, "link": "https://stackoverflow.com/questions/51180424/is-it-possible-to-add-the-functionality-of-xwheel-zoom-using-slider-widget-on-bo/51196759#51196759", "title": "Is it possible to add the functionality of xwheel_zoom using slider widget on bokeh?", "body": "<p>As of Bokeh <code>0.13.0</code>, the built-in <code>Slider</code> widget does not support that interaction. Your options are:</p>\n\n<ul>\n<li><p>Request that this be added as a new feature by <a href=\"https://github.com/bokeh/bokeh/issues\" rel=\"nofollow noreferrer\">making an issue on GitHub</a>. I can't speculate when the core time might be able to prioritize such a request, however. </p></li>\n<li><p>Create a <a href=\"https://bokeh.pydata.org/en/latest/docs/user_guide/extensions.html\" rel=\"nofollow noreferrer\">custom extension</a> that wraps some other JS slider widget that does support scroll interactions. This is not trivial, however, there is a complete <a href=\"https://bokeh.pydata.org/en/latest/docs/user_guide/extensions_gallery/widget.html\" rel=\"nofollow noreferrer\">\"Adding a Custom Widget\"</a> example that might get you started. </p></li>\n</ul>\n"}], "owner": {"reputation": 96, "user_id": 10029882, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e4Vt5kjJmPk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3z89cwjwHs9_FACwLS8SBm0Lra-w/mo/photo.jpg?sz=128", "display_name": "lohith ", "link": "https://stackoverflow.com/users/10029882/lohith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530810647, "creation_date": 1530736283, "question_id": 51180424, "link": "https://stackoverflow.com/questions/51180424/is-it-possible-to-add-the-functionality-of-xwheel-zoom-using-slider-widget-on-bo", "title": "Is it possible to add the functionality of xwheel_zoom using slider widget on bokeh?", "body": "<p>I basically want the functionality of xwheel_zoom tool in a slider. I know that we can change the values of the plot itself using slider widget with a callback function. But is it possible to have the functionality of xwheel_zoom in a slider.  I am developing the app using python flask and rendering html files.</p>\n"}, {"tags": ["python", "image-processing", "gpu", "gpgpu", "pytorch"], "answers": [{"comments": [{"owner": {"reputation": 3510, "user_id": 3881984, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/704c8f09d4342545ebbc19f0eb627a6d?s=128&d=identicon&r=PG&f=1", "display_name": "McLawrence", "link": "https://stackoverflow.com/users/3881984/mclawrence"}, "edited": false, "score": 0, "creation_date": 1530778276, "post_id": 51181024, "comment_id": 89354560, "body": "While small batches only approximate the error landscape, they actually achieve better generalization, even when the number of update steps is the same, <a href=\"https://arxiv.org/abs/1804.07612\" rel=\"nofollow noreferrer\">Paper: Revisiting Small Batch Training for Deep Neural Networks</a>"}], "tags": [], "owner": {"reputation": 1211, "user_id": 1637798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eda2486d62d04f18f07bdc6bc893a3a?s=128&d=identicon&r=PG", "display_name": "Lars Ericson", "link": "https://stackoverflow.com/users/1637798/lars-ericson"}, "is_accepted": false, "score": 3, "last_activity_date": 1530740375, "creation_date": 1530740375, "answer_id": 51181024, "question_id": 51180423, "link": "https://stackoverflow.com/questions/51180423/is-there-a-bug-with-pytorch-training-for-large-batch-sizes-or-with-this-script/51181024#51181024", "title": "Is there a bug with PyTorch training for large batch sizes, or with this script?", "body": "<p>Sorry I just realized this was a dumb question.  I am doing far fewer updates -- by a factor of 1,024.  That's why the accuracy is much lower.  I could adjust the learning rate but there is clearly a <a href=\"https://stats.stackexchange.com/questions/164876/tradeoff-batch-size-vs-number-of-iterations-to-train-a-neural-network\">tradeoff between batch size and learning rate</a> that I am just learning about now.</p>\n"}], "owner": {"reputation": 1211, "user_id": 1637798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eda2486d62d04f18f07bdc6bc893a3a?s=128&d=identicon&r=PG", "display_name": "Lars Ericson", "link": "https://stackoverflow.com/users/1637798/lars-ericson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4016, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1530740375, "creation_date": 1530736250, "question_id": 51180423, "link": "https://stackoverflow.com/questions/51180423/is-there-a-bug-with-pytorch-training-for-large-batch-sizes-or-with-this-script", "title": "Is there a bug with PyTorch training for large batch sizes, or with this script?", "body": "<p>I am following <a href=\"https://lelon.io/blog/2018/02/08/pytorch-with-baby-steps\" rel=\"nofollow noreferrer\">this PyTorch tutorial</a> by Joshua L. Mitchell.  The grand finale of the tutorial is the following PyTorch training script.  One element, the batch size, I have parameterized in the first line of the script, which I run in a newly started Jupyter notebook.  The key parameter in question is BIGGER_BATCH, initially set to 4:</p>\n\n<pre><code>BIGGER_BATCH=4\n\nimport numpy as np\nimport torch # Tensor Package (for use on GPU)\nimport torch.nn as nn ## Neural Network package\nimport torch.optim as optim # Optimization package\nimport torchvision # for dealing with vision data\nimport torchvision.transforms as transforms # for modifying vision data to run it through models\nfrom torch.autograd import Variable # for computational graph\nimport torch.nn.functional as F # Non-linearities package\nimport matplotlib.pyplot as plt # for plotting\n\ndef imshow(img):\n    img = img / 2 + 0.5     # unnormalize\n    npimg = img.numpy()\n    plt.imshow(np.transpose(npimg, (1, 2, 0)))\n\ntransform = transforms.Compose( # we're going to use this to transform our data to make each sample more uniform\n   [\n    transforms.ToTensor(), # converts each sample from a (0-255, 0-255, 0-255) PIL Image format to a (0-1, 0-1, 0-1) FloatTensor format\n    transforms.Normalize((0.5, 0.5, 0.5), (0.5, 0.5, 0.5)) # for each of the 3 channels of the image, subtract mean 0.5 and divide by stdev 0.5\n   ]) # the normalization makes each SGD iteration more stable and overall makes convergence easier\n\ntrainset = torchvision.datasets.CIFAR10(root='./data', train=True,\n                                        download=True, transform=transform) # this is all we need to get/wrangle the dataset!\n\ntestset = torchvision.datasets.CIFAR10(root='./data', train=False,\n                                       download=True, transform=transform)\n\ntrainloader = torch.utils.data.DataLoader(trainset, batch_size=BIGGER_BATCH,\n                                          shuffle=False)\ntestloader = torch.utils.data.DataLoader(testset, batch_size=BIGGER_BATCH,\n                                         shuffle=False)\n\nclasses = ('plane', 'car', 'bird', 'cat', 'deer', 'dog', 'frog', 'horse', 'ship', 'truck') # each image can have 1 of 10 labels\n\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        self.conv1 = nn.Conv2d(3, 10, 5) # Let's add more feature maps - that might help\n        self.pool = nn.MaxPool2d(2, 2)\n        self.conv2 = nn.Conv2d(10, 20, 5) # And another conv layer with even more feature maps\n        self.fc1 = nn.Linear(20 * 5 * 5, 120) # and finally, adjusting our first linear layer's input to our previous output\n        self.fc2 = nn.Linear(120, 10)\n\n    def forward(self, x):\n        x = self.conv1(x)\n        x = F.relu(x) # we're changing our nonlinearity / activation function from sigmoid to ReLU for a slight speedup\n        x = self.pool(x)\n        x = self.conv2(x)\n        x = F.relu(x)\n        x = self.pool(x) # after this pooling layer, we're down to a torch.Size([4, 20, 5, 5]) tensor.\n        x = x.view(-1, 20 * 5 * 5) # so let's adjust our tensor again.\n        x = self.fc1(x)             \n        x = F.relu(x)\n        x = self.fc2(x)\n        x = F.relu(x)\n        return x\n\nnet = Net().cuda()\n\nNUMBER_OF_EPOCHS = 25\nLEARNING_RATE = 1e-2\nloss_function = nn.CrossEntropyLoss()\noptimizer = optim.SGD(net.parameters(), lr=LEARNING_RATE)\n\nfor epoch in range(NUMBER_OF_EPOCHS):\n    train_loader_iter = iter(trainloader)\n    for batch_idx, (inputs, labels) in enumerate(train_loader_iter):\n        net.zero_grad()\n        inputs, labels = Variable(inputs.float().cuda()), Variable(labels.cuda())\n        output = net(inputs)\n        loss = loss_function(output, labels)\n        loss.backward()\n        optimizer.step()\n    if epoch % 5 is 0:\n        print(\"Iteration: \" + str(epoch + 1))\n\ndataiter = iter(testloader)\nimages, labels = dataiter.next()\n\nimshow(torchvision.utils.make_grid(images[0:4]))\n\noutputs = net(Variable(images.cuda()))\n_, predicted = torch.max(outputs.data, 1)\nprint('Predicted: ', ' '.join('%5s' % classes[predicted[j]]\n                              for j in range(4)))\nprint('GroundTruth: ', ' '.join('%5s' % classes[labels[j]] for j in range(4)))\n\ncorrect = 0\ntotal = 0\nfor data in testloader:\n    images, labels = data\n    labels = labels.cuda()\n    outputs = net(Variable(images.cuda()))\n    _, predicted = torch.max(outputs.data, 1)\n    total += labels.size(0)\n    correct += (predicted == labels).sum()\nprint('Accuracy of the network on the 10000 test images: %d %%' % (\n    100 * correct / total))\n</code></pre>\n\n<p>This gets a good, expected result of 58% accuracy:</p>\n\n<pre><code>Predicted:    cat  ship  ship plane\nGroundTruth:    cat  ship  ship plane\nAccuracy of the network on the 10000 test images: 58 %\n</code></pre>\n\n<p>Now if I change the first line of the above script to </p>\n\n<pre><code>BIGGER_BATCH=4096\n</code></pre>\n\n<p>and I restart the kernel and run the script I get 19% accuracy, consistently:</p>\n\n<pre><code>Predicted:    car  ship  ship  ship\nGroundTruth:    cat  ship  ship plane\nAccuracy of the network on the 10000 test images: 19 %\n</code></pre>\n\n<p>Note that I am <em>not</em> shuffling the inputs, so I can't attribute this change to the order of inputs in the training:</p>\n\n<pre><code>trainloader = torch.utils.data.DataLoader(trainset, batch_size=BIGGER_BATCH,\n                                          shuffle=False)\ntestloader = torch.utils.data.DataLoader(testset, batch_size=BIGGER_BATCH,\n                                         shuffle=False)\n</code></pre>\n\n<p>What accounts for the huge drop in accuracy when I increase the batch size?  Is there something wrong in the script, or something wrong in PyTorch, or something else I'm not thinking of?</p>\n"}, {"tags": ["python", "tkinter", "background", "widget", "tix"], "answers": [{"tags": [], "owner": {"reputation": 286, "user_id": 9053258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4b30f4f17cd2614503594bac866d1b8?s=128&d=identicon&r=PG&f=1", "display_name": "TheOne", "link": "https://stackoverflow.com/users/9053258/theone"}, "is_accepted": false, "score": 0, "last_activity_date": 1530874337, "creation_date": 1530874337, "answer_id": 51208786, "question_id": 51180388, "link": "https://stackoverflow.com/questions/51180388/how-to-change-background-color-for-a-checklist-widget-from-tkinter-tix-module/51208786#51208786", "title": "How to change background color for a CheckList widget from tkinter.tix module?", "body": "<p>Try to modify background option afterwards declaration with <strong>.config</strong> function of the CheckList.\nIn particular:</p>\n\n<pre><code>checklist=tk.CheckList()\nchecklist.pack()\nchecklist.config(bg='blue')\n</code></pre>\n\n<p>Most of the tkinter widget are likely to work in that way...</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11517084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b3d7fdab09187db71a1695d669e481d?s=128&d=identicon&r=PG&f=1", "display_name": "king_fisher09", "link": "https://stackoverflow.com/users/11517084/king-fisher09"}, "is_accepted": false, "score": 0, "last_activity_date": 1574962347, "creation_date": 1574962347, "answer_id": 59093935, "question_id": 51180388, "link": "https://stackoverflow.com/questions/51180388/how-to-change-background-color-for-a-checklist-widget-from-tkinter-tix-module/59093935#59093935", "title": "How to change background color for a CheckList widget from tkinter.tix module?", "body": "<p>I know this is a year late but I found the answer:</p>\n\n<p><code>checklist.hlist.config(bg='white')</code></p>\n\n<p>is what you need.</p>\n"}], "owner": {"reputation": 173, "user_id": 6665979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e41c511c82004629cec6f666bfbce7b?s=128&d=identicon&r=PG&f=1", "display_name": "pawliux", "link": "https://stackoverflow.com/users/6665979/pawliux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574962347, "creation_date": 1530735961, "question_id": 51180388, "link": "https://stackoverflow.com/questions/51180388/how-to-change-background-color-for-a-checklist-widget-from-tkinter-tix-module", "title": "How to change background color for a CheckList widget from tkinter.tix module?", "body": "<p>I tried to google it but couldn't find out. I am trying to create a CheckList widget with a tkinter.tix package in Python3.5 and set background color to white with this code:</p>\n\n<pre><code>from tkinter import tix as tk\nchecklist = tk.CheckList(parent, browsecmd=br, width=650)\nchecklist.tk_setPalette(background=\"white\")\n</code></pre>\n\n<p>Unluckily all of the widgets on the screen got white background.</p>\n\n<p>I have tried </p>\n\n<pre><code>checklist = tk.CheckList(parent, browsecmd=br, width=650, background=\"white\")\n</code></pre>\n\n<p>but it seems not to have any effect on the background of CheckList</p>\n\n<p>any ideas?</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 0, "creation_date": 1530735811, "post_id": 51180363, "comment_id": 89343155, "body": "Why is javascirpt a tag for this?"}, {"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "reply_to_user": {"reputation": 2382, "user_id": 9414889, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--7r4JaWADqA/AAAAAAAAAAI/AAAAAAAAFYw/DV7r38djnk4/photo.jpg?sz=128", "display_name": "Sheshank S.", "link": "https://stackoverflow.com/users/9414889/sheshank-s"}, "edited": false, "score": 0, "creation_date": 1530736120, "post_id": 51180363, "comment_id": 89343233, "body": "@SheshankS. I removed the tag."}], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530736365, "post_id": 51180392, "comment_id": 89343316, "body": "<code>ElementNotVisibleException: element not visible   (Session info: chrome=67.0.3396.87)   (Driver info: chromedriver=2.40.565498 (ea082db3280dd6843ebfb08a625e3eb905c4f5ab),platform=Windows NT 10.0.17134 x86_64)</code>  I just tried this method, it gives error like this. It this a Chrome problem? @nosklo"}, {"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530736692, "post_id": 51180392, "comment_id": 89343411, "body": "I tried it on Edge. It works.  I don&#39;t know why it does not work with Chrome."}, {"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "reply_to_user": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530736800, "post_id": 51180392, "comment_id": 89343439, "body": "@QianLi that is a different problem, maybe ask another question?"}, {"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530737323, "post_id": 51180392, "comment_id": 89343570, "body": "I will. Thanks a lot for the help! @nosklo"}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": true, "score": 2, "last_activity_date": 1530736018, "creation_date": 1530736018, "answer_id": 51180392, "question_id": 51180363, "link": "https://stackoverflow.com/questions/51180363/python-selenium-click-on-multiple-survey-buttons-error/51180392#51180392", "title": "python selenium click on multiple survey buttons error", "body": "<p>If all elements have the same class name, you can use the plural <code>elements</code> to use the function that returns a list of the elements instead of just the first one:</p>\n\n<pre><code>answers = browser.find_elements_by_class_name('star_item') \nanswers[2].click() \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 0, "creation_date": 1530739026, "post_id": 51180515, "comment_id": 89344093, "body": "Thanks for the help, much appreciated! @NewBee"}], "tags": [], "owner": {"reputation": 1134, "user_id": 9894142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OVdfY.jpg?s=128&g=1", "display_name": "Swaroop Humane", "link": "https://stackoverflow.com/users/9894142/swaroop-humane"}, "is_accepted": false, "score": 2, "last_activity_date": 1530736861, "creation_date": 1530736861, "answer_id": 51180515, "question_id": 51180363, "link": "https://stackoverflow.com/questions/51180363/python-selenium-click-on-multiple-survey-buttons-error/51180515#51180515", "title": "python selenium click on multiple survey buttons error", "body": "<pre><code>import random\n\noptions = browser.find_elements_by_xpath(\"//*[starts-with(@class, 'star_item')]\") \n\noption = random.choice(options)\noption.click()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "edited": false, "score": 1, "creation_date": 1530738996, "post_id": 51180594, "comment_id": 89344085, "body": "Thanks for the solution and detailed explanation! @Andrei Suvorkov"}], "tags": [], "owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "is_accepted": false, "score": 1, "last_activity_date": 1530737339, "creation_date": 1530737339, "answer_id": 51180594, "question_id": 51180363, "link": "https://stackoverflow.com/questions/51180363/python-selenium-click-on-multiple-survey-buttons-error/51180594#51180594", "title": "python selenium click on multiple survey buttons error", "body": "<p>Lets say you have 5 buttons with tag <code>&lt;button&gt;</code>. Then you can locate this buttons like this:</p>\n\n<pre><code>answers = browser.find_elements_by_xpath('xpath') # gives a list with 5 elements (buttons)\n</code></pre>\n\n<p>PS if you provide HTML block with all 5 buttons I can find a <code>xPath</code> to them. Then you want to peak randomly one of this buttons. You can do like this:</p>\n\n<pre><code>import random\n\nlist = [20, 16, 10, 5];\nrandom.shuffle(list)\nprint (\"Reshuffled list : \",  list)\n\nrandom.shuffle(list)\nprint (\"Reshuffled list : \",  list)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Reshuffled list :  [16, 5, 10, 20]\nreshuffled list :  [20, 5, 10, 16] \n</code></pre>\n\n<p>In your case it would be like this:</p>\n\n<pre><code>import random\n\nanswers = browser.find_elements_by_xpath('xpath')\nrandom_list = list(range(len(answers))) # creates a list with ascending numbers 0 ... len(answers)\nrandom.shuffle(random_list)\nanswers[random_list[0]].click() # click randomly on one of the buttons\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 51180392, "answer_count": 3, "score": 1, "last_activity_date": 1530740307, "creation_date": 1530735772, "last_edit_date": 1530740307, "question_id": 51180363, "link": "https://stackoverflow.com/questions/51180363/python-selenium-click-on-multiple-survey-buttons-error", "title": "python selenium click on multiple survey buttons error", "body": "<pre><code>import selenium\nfrom selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\n\nbrowser = webdriver.Chrome()\nbrowser.get('https://wj.qq.com/s/2214142/51db') # survey link\n\n# First page - click \"Next\" button, it works\nbutton = browser.find_element_by_class_name('survey_nextpage') # it works\nbutton.click()\n\n\n# Second page - click one of the scale button between 1-5 \n# it always clicks the first button found. how to set to randomly \n# choose from one of the five buttons?\n\nanswer = browser.find_element_by_class_name('star_item') \nanswer.click() \n</code></pre>\n\n<p>I am new to selenium and testing my code on a survey website link. </p>\n\n<p>The first page - It successfully clicks the \"Next\" button .</p>\n\n<p>The second page - It contains first button which indicates a 1-5 scale. \nMy code always clicks the first button it found. My goal is to randomly pick a button between 1-5 scale and click it. I tried to write a loop but it does not work. </p>\n\n<p>Any suggestions will be greatly appreciated. Thanks.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10033914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282133d5148c329726bf73245ccd0d09?s=128&d=identicon&r=PG&f=1", "display_name": "M. Lap", "link": "https://stackoverflow.com/users/10033914/m-lap"}, "edited": false, "score": 0, "creation_date": 1530826989, "post_id": 51180406, "comment_id": 89382203, "body": "I tried that and it worked - kind of.  It gave me the max 5 minute sum for each hour of the day"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 1, "user_id": 10033914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282133d5148c329726bf73245ccd0d09?s=128&d=identicon&r=PG&f=1", "display_name": "M. Lap", "link": "https://stackoverflow.com/users/10033914/m-lap"}, "edited": false, "score": 0, "creation_date": 1530829513, "post_id": 51180406, "comment_id": 89382898, "body": "Yes.  What did you want?  Not the sum but the actual records themselves?"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 1, "user_id": 10033914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282133d5148c329726bf73245ccd0d09?s=128&d=identicon&r=PG&f=1", "display_name": "M. Lap", "link": "https://stackoverflow.com/users/10033914/m-lap"}, "edited": false, "score": 0, "creation_date": 1530833729, "post_id": 51180406, "comment_id": 89383797, "body": "Can you posted your expected output in  the question? thanks."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 4, "last_activity_date": 1530737701, "last_edit_date": 1530737701, "creation_date": 1530736124, "answer_id": 51180406, "question_id": 51180348, "link": "https://stackoverflow.com/questions/51180348/python-pandas-find-max-sum-of-5-consecutive-values-in-a-dataframe/51180406#51180406", "title": "Python pandas find max sum of 5 consecutive values in a dataframe", "body": "<p>Let's try:</p>\n\n<pre><code>df.set_index(['year','julian','hour']).rolling(5, axis=1).sum().max(1)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10033914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282133d5148c329726bf73245ccd0d09?s=128&d=identicon&r=PG&f=1", "display_name": "M. Lap", "link": "https://stackoverflow.com/users/10033914/m-lap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530737701, "creation_date": 1530735642, "last_edit_date": 1530737637, "question_id": 51180348, "link": "https://stackoverflow.com/questions/51180348/python-pandas-find-max-sum-of-5-consecutive-values-in-a-dataframe", "title": "Python pandas find max sum of 5 consecutive values in a dataframe", "body": "<p>I have the following dataframe</p>\n\n<pre><code>    year  julian  hour    1    2  3    4 ...    54  55   56   57   58   59   60\n0   2018     152     0  0.0  0.0  0  0.0 ...   0.0   0  0.2  0.0  0.0  0.0  0.0\n1   2018     152     1  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n2   2018     152     2  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n3   2018     152     3  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n4   2018     152     4  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n5   2018     152     5  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n6   2018     152     6  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n7   2018     152     7  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n8   2018     152     8  0.0  0.2  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.4\n9   2018     152     9  0.0  0.2  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n10  2018     152    10  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n11  2018     152    11  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n12  2018     152    12  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n13  2018     152    13  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.2  0.0  0.0  0.0\n14  2018     152    14  0.2  1.0  1  0.8 ...   0.0   0  0.0  0.0  0.0  0.2  0.0\n15  2018     152    15  0.0  0.0  0  0.0 ...   0.2   0  0.0  0.0  0.0  0.0  0.2\n16  2018     152    16  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n17  2018     152    17  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n18  2018     152    18  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n19  2018     152    19  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n20  2018     152    20  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.0\n21  2018     152    21  0.0  0.0  0  0.0 ...   0.8   1  0.8  0.6  0.0  0.0  0.0\n22  2018     152    22  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.0  0.0  0.0  0.2\n23  2018     152    23  0.0  0.0  0  0.0 ...   0.0   0  0.0  0.2  0.4  0.2  0.2\n</code></pre>\n\n<p>It contains minute rainfall totals.  I have 60 values for each hour of the day.  How would I find the maximum 5 minute consecutive total for each julian day?</p>\n"}, {"tags": ["python", "list", "pandas", "list-comprehension"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1530735431, "post_id": 51180293, "comment_id": 89343045, "body": "Currently you&#39;re passing a generator to apply. If you meant that to be a lambda <i>returning</i> a generator, you need to add parentheses."}, {"owner": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1530735543, "post_id": 51180293, "comment_id": 89343079, "body": "@jonrsharpe Sorry I am not exactly sure where to add the paranthesis since I think the lambda syntax will become incorrect ? Can you please give an example or show the correct expression :)"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1530735572, "post_id": 51180293, "comment_id": 89343087, "body": "<code>lambda x: (...)</code>. But it&#39;s not clear to me what output you were expecting."}, {"owner": {"reputation": 5994, "user_id": 5710637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAM5l.jpg?s=128&g=1", "display_name": "fafl", "link": "https://stackoverflow.com/users/5710637/fafl"}, "edited": false, "score": 1, "creation_date": 1530735629, "post_id": 51180293, "comment_id": 89343110, "body": "try <code>lambda x: [i for (i,row) in correct.iteritems()]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "edited": false, "score": 0, "creation_date": 1530735613, "post_id": 51180341, "comment_id": 89343107, "body": "So there is no way to modify this expression so that it contains <code>lambda</code> and also a list comprehension ?"}, {"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "reply_to_user": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "edited": false, "score": 0, "creation_date": 1530735728, "post_id": 51180341, "comment_id": 89343129, "body": "if you really want list comprehension, you have to add square brackets. Otherwise you can&#39;t make a list comprehension. @MohammedKashif"}, {"owner": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "edited": false, "score": 0, "creation_date": 1530735757, "post_id": 51180341, "comment_id": 89343137, "body": "Thanks! it worked :) I actually didn&#39;t knew about this case of <code>apply</code> and <code>generators</code>. Learned something new today :)"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1530736158, "post_id": 51180341, "comment_id": 89343254, "body": "The list comprehension of lambdas probably won&#39;t behave as expected, see e.g. <a href=\"https://stackoverflow.com/a/34021333/3001761\">stackoverflow.com/a/34021333/3001761</a>"}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": true, "score": 1, "last_activity_date": 1530735784, "last_edit_date": 1530735784, "creation_date": 1530735550, "answer_id": 51180341, "question_id": 51180293, "link": "https://stackoverflow.com/questions/51180293/why-does-this-comprehension-return-a-generator/51180341#51180341", "title": "Why does this comprehension return a generator?", "body": "<p>list comprehensions have the <code>[]</code> square brackets.\nif you don't have the <code>[]</code> square brackets, you have a generator expression</p>\n\n<pre><code>.apply(lambda x: (i for (i,row) in correct.iteritems())) \n</code></pre>\n\n<p>The code above would make a function that returns a generator expression, and pass  it to the <code>.apply</code></p>\n\n<pre><code>.apply([lambda x: i for (i,row) in correct.iteritems()]) \n</code></pre>\n\n<p>The code above would create a list of functions, and pass that list to  <code>.apply</code></p>\n\n<pre><code>.apply(lambda x: [i for (i,row) in correct.iteritems()]) \n</code></pre>\n\n<p>The code above would make a function that returns a list, and pass  it to the <code>.apply</code>.</p>\n"}], "owner": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 51180341, "answer_count": 1, "score": 1, "last_activity_date": 1530735784, "creation_date": 1530735228, "question_id": 51180293, "link": "https://stackoverflow.com/questions/51180293/why-does-this-comprehension-return-a-generator", "title": "Why does this comprehension return a generator?", "body": "<p>This is a follow up question I read just now : <a href=\"https://stackoverflow.com/questions/51180102/dataframe-apply-lambda-list-comprehension#51180102\">DataFrame, apply, lambda, list comprehension</a>.</p>\n\n<p>So I tried the following code</p>\n\n<pre><code>import pandas as pd\n\n# This is a dataframe containing the correct values\ncorrect = pd.DataFrame([{\"letters\":\"abc\",\"data\":1},{\"letters\":\"ast\",\"data\":2},{\"letters\":\"bkgf\",\"data\":3}])\n\n# This is the dataframe containing source data\nsource = pd.DataFrame([{\"c\":\"ab\"},{\"c\":\"kh\"},{\"c\":\"bkg\"}])\n\ntemp_result = source[\"c\"].apply(lambda x: i for (i,row) in correct.values)\n</code></pre>\n\n<p>So i tried different variations like this</p>\n\n<pre><code>temp_result = source[\"c\"].apply(lambda x: i for (i,row) in correct.iteritems())\n</code></pre>\n\n<p>Yet all return the error :<code>Genrator object is not callable</code>\nSo my question is why is it returning a generator instead of treating it as a list of items ? I know what generator expressions are, but I am not able to understand why this expression is being treated as a generator instead of a list comprehension (or a lambda expression )?</p>\n"}, {"tags": ["python", "algorithm", "extract", "extraction"], "comments": [{"owner": {"reputation": 4018, "user_id": 4935452, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/740beec4e62c85c0d00c00bfe418c664?s=128&d=identicon&r=PG&f=1", "display_name": "Jaime", "link": "https://stackoverflow.com/users/4935452/jaime"}, "edited": false, "score": 0, "creation_date": 1530735403, "post_id": 51180268, "comment_id": 89343033, "body": "Please post what you have done so far, some code. Also specify a programming language in your tags for attracting more people."}], "answers": [{"tags": [], "owner": {"reputation": 5636, "user_id": 8207228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bea1f01a8f41b0714de4eddc3c93ce8?s=128&d=identicon&r=PG", "display_name": "Ralf Kleberhoff", "link": "https://stackoverflow.com/users/8207228/ralf-kleberhoff"}, "is_accepted": true, "score": 0, "last_activity_date": 1530736555, "creation_date": 1530736555, "answer_id": 51180470, "question_id": 51180268, "link": "https://stackoverflow.com/questions/51180268/minimum-bounding-rectangle-of-an-array/51180470#51180470", "title": "Minimum bounding rectangle of an array", "body": "<p>Main idea is:</p>\n\n<ul>\n<li>Start with a candidate box being the whole array.</li>\n<li>While the first or the last row or the first or the last column of the candidate box only contains zeroes, shrink the box by that row or column.</li>\n<li>If you can't shrink any more following that rule, you have the bounding box (maybe 0 by 0 elements, if there was no 1 in the array).</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 1, "last_activity_date": 1530736598, "creation_date": 1530736598, "answer_id": 51180476, "question_id": 51180268, "link": "https://stackoverflow.com/questions/51180268/minimum-bounding-rectangle-of-an-array/51180476#51180476", "title": "Minimum bounding rectangle of an array", "body": "<pre><code>m = [\n    [0, 0, 0, 0, 0, 0],\n    [0, 0, 0, 1, 0, 0],\n    [0, 0, 1, 1, 0, 0],\n    [0, 1, 0, 0, 0, 0],\n    [0, 0, 0, 0, 1, 0],\n    [0, 0, 0, 0, 0, 0],\n]\nmin_col = max_col = min_row = max_row = None\nfor i, row in enumerate(m):\n    for j, col in enumerate(row):\n        if col:\n            if min_row is None:\n                min_row = i\n            if min_col is None or min_col &gt; j:\n                min_col = j\n            if max_row is None or max_row &lt; i:\n                max_row = i\n            if max_col is None or max_col &lt; j:\n                max_col = j\nprint('starting row = %s' % min_row)\nprint('starting column = %s' % min_col)\nprint('ending row = %s' % max_row)\nprint('ending column = %s' % max_col)\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>starting row = 1\nstarting column = 1\nending row = 4\nending column = 4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11001, "user_id": 3316882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbfd45c99a28cab8fe0c8ddcb19aea3?s=128&d=identicon&r=PG&f=1", "display_name": "Sunitha", "link": "https://stackoverflow.com/users/3316882/sunitha"}, "is_accepted": false, "score": 0, "last_activity_date": 1530737521, "last_edit_date": 1530737521, "creation_date": 1530737192, "answer_id": 51180569, "question_id": 51180268, "link": "https://stackoverflow.com/questions/51180268/minimum-bounding-rectangle-of-an-array/51180569#51180569", "title": "Minimum bounding rectangle of an array", "body": "<pre><code>arr = [[0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0], [0, 0, 1, 1, 0, 0], [0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0], [0, 0, 0, 0, 0, 0]]\n# Find all positions where arr value is 1\npos_list = [(i,j) for i,r in enumerate(arr) for j,e in enumerate(r) if e]\n# [(1, 3), (2, 2), (2, 3), (3, 1), (4, 4)]\n\n# Get min of all (x, y) values as start_pos and max of all (x, y) values as end_pos\nx_pos, y_pos = zip(*[(i,j) for i,r in enumerate(arr) for j,e in enumerate(r) if e])\nstart_pos, end_pos = (min(x_pos), min(y_pos)), (max(x_pos), max(y_pos))\nprint (start_pos, end_pos)\n# (1, 1), (4, 4)\n</code></pre>\n\n<p>Eliminate all blank rows, transpose array (by zipping it), again eliminate all rows, transpose it back again, to get the smallest sub array for original array that fits all 1's</p>\n\n<pre><code>sub_arr = list(zip(*[r for r in zip(*[r for r in arr if any(r)]) if any(r)]))\nprint (sub_arr)\n# [(0, 0, 1, 0), (0, 1, 1, 0), (1, 0, 0, 0), (0, 0, 0, 1)]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9471817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82da1b17550521c373108b57033dc91e?s=128&d=identicon&r=PG&f=1", "display_name": "Searm", "link": "https://stackoverflow.com/users/9471817/searm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 51180470, "answer_count": 3, "score": 0, "last_activity_date": 1530737521, "creation_date": 1530735038, "last_edit_date": 1530735609, "question_id": 51180268, "link": "https://stackoverflow.com/questions/51180268/minimum-bounding-rectangle-of-an-array", "title": "Minimum bounding rectangle of an array", "body": "<p>The problem is the following: a matrix with only 0s and 1s is provided (example below), I need to be able to identify (and extract eventually) the minimum bounding rectangle to the 1s.<br>\ne.g.</p>\n\n<pre><code>0  0 0 0 0  0  \n0 [0 0 1 0] 0  \n0 [0 1 1 0] 0  \n0 [1 0 0 0] 0  \n0 [0 0 0 1] 0  \n0  0 0 0 0  0\n</code></pre>\n\n<p>I am not able to come up with a good solution. Thanks for your help!</p>\n"}, {"tags": ["python", "neural-network", "keras", "deep-learning", "conv-neural-network"], "answers": [{"comments": [{"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 1, "creation_date": 1530735830, "post_id": 51180353, "comment_id": 89343160, "body": "So channels and filters and depth all mean the same thing?"}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1530737963, "post_id": 51180353, "comment_id": 89343758, "body": "Just to make sure, FW above is a single new variable, it&#39;s not like F*W, right?"}, {"owner": {"reputation": 1405, "user_id": 3801361, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d44823bba0c84a54e4c8eef17dfccff?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/3801361/dinesh"}, "reply_to_user": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1530740692, "post_id": 51180353, "comment_id": 89344576, "body": "Yeah, FW is width of filter and FH is height of filter."}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1530770383, "post_id": 51180353, "comment_id": 89350265, "body": "So, in the input, the 3 channels have clear meanings, R,G,B values. But in the hidden values, sometimes we have more than 3 channels, what are their meanings? Also, can a value in a single hidden neuron incorporate values from multiple input channels (e.g. both R and B), or there&#39;s no &quot;mixing&quot; between the input channels through the convolution process?"}, {"owner": {"reputation": 1405, "user_id": 3801361, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d44823bba0c84a54e4c8eef17dfccff?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/3801361/dinesh"}, "reply_to_user": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1531231604, "post_id": 51180353, "comment_id": 89512906, "body": "I modified above for interpretation of filters."}], "tags": [], "owner": {"reputation": 1405, "user_id": 3801361, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d44823bba0c84a54e4c8eef17dfccff?s=128&d=identicon&r=PG&f=1", "display_name": "dinesh", "link": "https://stackoverflow.com/users/3801361/dinesh"}, "is_accepted": true, "score": 14, "last_activity_date": 1574192137, "last_edit_date": 1574192137, "creation_date": 1530735671, "answer_id": 51180353, "question_id": 51180234, "link": "https://stackoverflow.com/questions/51180234/keras-conv2d-filters-vs-kernel-size/51180353#51180353", "title": "Keras Conv2D: filters vs kernel_size", "body": "<p>Each convolution layer consists of several convolution channels (aka. depth or filters). In practice, they are a number such as <code>64, 128, 256, 512</code> etc. This is equal to number of channels in the output of a convolutional layer. <code>kernel_size</code>, on the other hand, is the size of these convolution filters. In practice, they take values such as <code>3x3</code> or <code>1x1</code> or <code>5x5</code>. To abbreviate, they can be written as <code>1</code> or <code>3</code> or <code>5</code> as they are mostly square in practice.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Following quote should make it more clear.</p>\n\n<p><a href=\"https://github.com/vlfeat/matconvnet/issues/457\" rel=\"noreferrer\">Discussion on vlfeat</a></p>\n\n<p>Suppose <code>X</code> is an input with size <code>W x H x D x N</code> (where <code>N</code> is the size of the batch) to a convolutional layer containing filter <code>F</code> (with size <code>FW x FH x FD x K</code>) in a network.</p>\n\n<p>The number of feature channels <code>D</code> is the third dimension of the input <code>X</code> here (for example, this is typically 3 at the first input to the network if the input consists of colour images).\nThe number of filters <code>K</code> is the fourth dimension of <code>F</code>.\nThe two concepts are closely linked because if the number of filters in a layer is <code>K</code>, it produces an output with K feature channels. So the input to the next layer will have <code>K</code> feature channels.</p>\n\n<p>The <code>FW x FH</code> above is filter size you are looking for.</p>\n\n<p><strong>Added</strong></p>\n\n<p>You should be familiar with  <a href=\"https://en.wikipedia.org/wiki/Kernel_(image_processing)\" rel=\"noreferrer\">filters</a>. You can consider each filter to be responsible for extracting some type of feature from a raw image. The CNNs try to learn such filters i.e. the filters parametrized in CNNs are learned during training of CNNs. You apply each filter in a Conv2D to each input channel and combine these to get output channels. So, the number of filters and the number of output channels are the same.</p>\n"}], "owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12051, "favorite_count": 1, "accepted_answer_id": 51180353, "answer_count": 1, "score": 21, "last_activity_date": 1574192137, "creation_date": 1530734829, "question_id": 51180234, "link": "https://stackoverflow.com/questions/51180234/keras-conv2d-filters-vs-kernel-size", "title": "Keras Conv2D: filters vs kernel_size", "body": "<p>What's the difference between those two? It would also help to explain in the more general context of convolutional networks.</p>\n\n<p>Also, as a side note, what is channels? In other words, please break down the 3 terms for me: channels vs filters vs kernel.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1530735052, "post_id": 51180191, "comment_id": 89342907, "body": "Try to share some data (or a small example), see: <b><a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></b>"}, {"owner": {"reputation": 2739, "user_id": 4871110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b40e6d41ada62f0b8c0a270c68c0d0?s=128&d=identicon&r=PG&f=1", "display_name": "iDrwish", "link": "https://stackoverflow.com/users/4871110/idrwish"}, "edited": false, "score": 2, "creation_date": 1530735059, "post_id": 51180191, "comment_id": 89342908, "body": "The more elegant way is not to include lists or <code>dicts</code> in a <code>DataFrame</code> records. Pandas is best suited for vectorized data and their operations, nesting data structures within it contradicts its purpose and you lose many of the features. I would advise against this."}, {"owner": {"reputation": 139, "user_id": 6944323, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10202682292134495/picture?type=large", "display_name": "Janko", "link": "https://stackoverflow.com/users/6944323/janko"}, "edited": false, "score": 0, "creation_date": 1530735144, "post_id": 51180191, "comment_id": 89342935, "body": "so you want to replace certain items in your dataframe with data from a dictionary?  Can you give the data you are working with (for the dataframe and for the dictionary)?"}, {"owner": {"reputation": 1083, "user_id": 5819113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ECON.jpg?s=128&g=1", "display_name": "bluesmonk", "link": "https://stackoverflow.com/users/5819113/bluesmonk"}, "edited": false, "score": 0, "creation_date": 1530735203, "post_id": 51180191, "comment_id": 89342963, "body": "can you provide an example of what you want to achieve with dummy data?"}, {"owner": {"reputation": 21903, "user_id": 9274732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2713715b9156a66c16d7c1331528dce8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben.T", "link": "https://stackoverflow.com/users/9274732/ben-t"}, "edited": false, "score": 1, "creation_date": 1530737224, "post_id": 51180191, "comment_id": 89343540, "body": "with your example, you can do <code>df.loc[0] = [ d, None]</code> and then <code>df.loc[0, &#39;count&#39;]</code> is a <code>dict</code>, not a <code>list</code> with a <code>dict</code>."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1530749351, "post_id": 51180191, "comment_id": 89346172, "body": "Excellent comment @iDrwish...use pandas for data analysis not a middle stack container. OP does not explain the full picture either of <i>why</i> the need to store dicts. Hence, this is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>."}, {"owner": {"reputation": 187, "user_id": 7577786, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fz0j6zxPu5s/AAAAAAAAAAI/AAAAAAAAE5c/41BXkqpl1xY/photo.jpg?sz=128", "display_name": "Nathan Tew", "link": "https://stackoverflow.com/users/7577786/nathan-tew"}, "reply_to_user": {"reputation": 2739, "user_id": 4871110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b40e6d41ada62f0b8c0a270c68c0d0?s=128&d=identicon&r=PG&f=1", "display_name": "iDrwish", "link": "https://stackoverflow.com/users/4871110/idrwish"}, "edited": false, "score": 0, "creation_date": 1544165268, "post_id": 51180191, "comment_id": 94186761, "body": "@iDrwish how else would you implement this?"}, {"owner": {"reputation": 2739, "user_id": 4871110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b40e6d41ada62f0b8c0a270c68c0d0?s=128&d=identicon&r=PG&f=1", "display_name": "iDrwish", "link": "https://stackoverflow.com/users/4871110/idrwish"}, "edited": false, "score": 0, "creation_date": 1544191574, "post_id": 51180191, "comment_id": 94199574, "body": "There is not a very obvious answer to this, you can use native python <code>list</code> to do the job, if you are working with <code>dict</code> objects, then opting for <code>json</code> might be beneficial. However, given that <code>pandas</code> is built on augmenting <code>np.array</code>, which is mainly designed to handle vectorized data formats."}], "owner": {"reputation": 596, "user_id": 3889486, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70ff6a58fcd99bfc49aa7f7d32e1962a?s=128&d=identicon&r=PG&f=1", "display_name": "user3889486", "link": "https://stackoverflow.com/users/3889486/user3889486"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530736120, "creation_date": 1530734542, "last_edit_date": 1530736120, "question_id": 51180191, "link": "https://stackoverflow.com/questions/51180191/need-to-assign-dic-to-pandas-dataframe", "title": "Need to assign dic to Pandas Dataframe", "body": "<p>I have problems when I try to assign a dict to the df DataFrame,</p>\n\n<pre><code>df.loc[index,'count'] = dict()\n</code></pre>\n\n<p>as I get this error message:</p>\n\n<pre><code>Incompatible indexer with Series\n</code></pre>\n\n<p>To work around this problem, I can do this,</p>\n\n<pre><code>df.loc[index,'count'] = [dict()]\n</code></pre>\n\n<p>, but I don't like this solution since I have to resolve the list before getting the dictionary i.e.</p>\n\n<pre><code>a = (df.loc[index,'count'])[0]\n</code></pre>\n\n<p>How can I solve this situation in a more elegant way?</p>\n\n<p><strong>EDIT1</strong></p>\n\n<p>One way to replicate the whole code is as follow</p>\n\n<p>Code:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame(columns= ['count', 'aaa'])\nd = dict()\ndf.loc[0, 'count'] = [d]; print('OK!'); \ndf.loc[0, 'count'] = d\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>OK!\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-193-67bbd89f2c69&gt;\", line 4, in &lt;module&gt;\n    df.loc[0, 'count'] = d\n\n  File \"/usr/lib64/python3.6/site-packages/pandas/core/indexing.py\", line 194, in __setitem__\n    self._setitem_with_indexer(indexer, value)\n\n  File \"/usr/lib64/python3.6/site-packages/pandas/core/indexing.py\", line 625, in _setitem_with_indexer\n    value = self._align_series(indexer, Series(value))\n\n  File \"/usr/lib64/python3.6/site-packages/pandas/core/indexing.py\", line 765, in _align_series\n    raise ValueError('Incompatible indexer with Series')\n\nValueError: Incompatible indexer with Series\n</code></pre>\n"}, {"tags": ["python", "dataset", "keyerror"], "comments": [{"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "edited": false, "score": 0, "creation_date": 1530734464, "post_id": 51180138, "comment_id": 89342723, "body": "Can you put the full error traceback in the question body, please?"}], "answers": [{"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": true, "score": 1, "last_activity_date": 1530735391, "creation_date": 1530735391, "answer_id": 51180315, "question_id": 51180138, "link": "https://stackoverflow.com/questions/51180138/keyerror-l194-python/51180315#51180315", "title": "KeyError: &#39;L194&#39; Python", "body": "<p>The delimiter for your movie lines should be <code>' +++$+++ '</code> (with spaces), which you correctly used in your second <code>for</code> loop, but in your first <code>for</code> loop you used <code>'+++$+++'</code> (without spaces) as a delimiter instead, so the line numbers extracted there will have a trailing space, causing the correct line numbers from <code>list_of_lineids</code> not to be found in <code>map_line_id_with_text</code>.</p>\n"}], "owner": {"reputation": 123, "user_id": 9816921, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Naya Keto", "link": "https://stackoverflow.com/users/9816921/naya-keto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 51180315, "answer_count": 1, "score": 0, "last_activity_date": 1530735391, "creation_date": 1530734228, "last_edit_date": 1530734782, "question_id": 51180138, "link": "https://stackoverflow.com/questions/51180138/keyerror-l194-python", "title": "KeyError: &#39;L194&#39; Python", "body": "<p>Here is a screenshot of the file I am working with. It contains 'L194'. <a href=\"https://i.stack.imgur.com/8bxk6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8bxk6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the full line, just to show that after splitting, it only has 5 elements, like the other sentences. </p>\n\n<p>L194 +++$+++ u0 +++$+++ m0 +++$+++ BIANCA +++$+++ Can we make this quick?  Roxanne Korrine and Andrew Barrett are having an incredibly horrendous public break- up on the quad.  Again.</p>\n\n<pre><code>movie_lines = open('movie_lines.txt', mode = 'r', encoding = 'utf-8', errors = 'ignore').read().split('\\n')\nmovie_convo_lines = open('movie_conversations.txt', mode ='r', encoding = 'utf-8', errors='ignore').read().split('\\n')\n\nmap_line_id_with_text = {}\n\nfor line in movie_lines:\n    extract = line.split('+++$+++')\n    if len(extract)== 5:\n        map_line_id_with_text[extract[0]] = extract[4]\n\nlist_of_lineids = []\nfor line in movie_convo_lines[:-1]:\n    extract = line.split(' +++$+++ ')[-1][1:-1].replace(\"'\",\"\").replace(\" \",\"\")\n    list_of_lineids.append(extract.split(','))\n\n\nprompts = []\nresponses = [] \n\n\nfor _ in list_of_lineids:\n    for i in range(len(_)-1):\n        prompts.append(map_line_id_with_text[_[i]])\n        responses.append(map_line_id_with_text[_[i+1]])\n\nlimit = 0 \nfor i in range (limit, limit+5):\n    print(prompts[i])\n    print(responses[i])\n</code></pre>\n\n<p>When I run this code, I keep getting the error above, but the file that I have opened does contain 'L194' so I am confused as to why it is not working. The error is shown in the prompts.append command. </p>\n\n<p><a href=\"https://i.stack.imgur.com/KrWV9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KrWV9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "dataframe", "lambda", "series"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1530734540, "creation_date": 1530734540, "answer_id": 51180189, "question_id": 51180102, "link": "https://stackoverflow.com/questions/51180102/dataframe-apply-lambda-list-comprehension/51180189#51180189", "title": "DataFrame, apply, lambda, list comprehension", "body": "<p>Here's one solution using <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.apply.html\" rel=\"nofollow noreferrer\"><code>pd.Series.apply</code></a> with <code>next</code> and a generator expression:</p>\n\n<pre><code>def update_value(x):\n    return next((k for k, v in correct.set_index('data')['letters'].items() if x in v), x)\n\nsource['c'] = source['c'].apply(update_value)\n\nprint(source)\n\n    c\n0   1\n1  kh\n2   3\n</code></pre>\n"}], "owner": {"reputation": 102, "user_id": 3264329, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/bdebfaafbdb694fb16b800d3933b5057?s=128&d=identicon&r=PG&f=1", "display_name": "SebastianC", "link": "https://stackoverflow.com/users/3264329/sebastianc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1465, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1530734626, "creation_date": 1530734005, "last_edit_date": 1530734626, "question_id": 51180102, "link": "https://stackoverflow.com/questions/51180102/dataframe-apply-lambda-list-comprehension", "title": "DataFrame, apply, lambda, list comprehension", "body": "<p>I'm trying to do a bit of cleanse to some data sets, I can accomplish the task with some for loops but I wanted a more pythonic/pandorable way to do this.</p>\n\n<p>This is the code I came up with, the data is not real..but it should work</p>\n\n<pre><code>import pandas as pd\n\n# This is a dataframe containing the correct values\ncorrect = pd.DataFrame([{\"letters\":\"abc\",\"data\":1},{\"letters\":\"ast\",\"data\":2},{\"letters\":\"bkgf\",\"data\":3}])\n\n# This is the dataframe containing source data\nsource = pd.DataFrame([{\"c\":\"ab\"},{\"c\":\"kh\"},{\"c\":\"bkg\"}])\n\nfor i,word in source[\"c\"].iteritems():\n    for j,row in correct.iterrows():       \n        if word in row[\"letters\"]:           \n            source.at[i,\"c\"] = row[\"data\"]    \n            break\n</code></pre>\n\n<hr>\n\n<p>This is my attempt to a pandorable way but it fails because of the list comprehension returning a generator:</p>\n\n<pre><code>source[\"c\"] = source[\"c\"].apply(\nlambda x: row[\"data\"] if x in row[\"letters\"] else x for row in \ncorrect.iterrows() \n)\n</code></pre>\n"}, {"tags": ["python", "pyautogui"], "comments": [{"owner": {"reputation": 2125, "user_id": 1446543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/934816c610f53abdab5f26510478bc24?s=128&d=identicon&r=PG", "display_name": "ForeverZer0", "link": "https://stackoverflow.com/users/1446543/foreverzer0"}, "edited": false, "score": 0, "creation_date": 1530734309, "post_id": 51180071, "comment_id": 89342674, "body": "Is <code>pip</code> in your PATH?"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10030496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c89f36ec5797def723e1a14c27e60f?s=128&d=identicon&r=PG&f=1", "display_name": "WaZzer4893", "link": "https://stackoverflow.com/users/10030496/wazzer4893"}, "edited": false, "score": 0, "creation_date": 1530734113, "post_id": 51180080, "comment_id": 89342606, "body": "I tried to use cmd.exe in windows but it didn&#39;t work but i could try the other thing"}, {"owner": {"reputation": 9, "user_id": 10030496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c89f36ec5797def723e1a14c27e60f?s=128&d=identicon&r=PG&f=1", "display_name": "WaZzer4893", "link": "https://stackoverflow.com/users/10030496/wazzer4893"}, "edited": false, "score": 0, "creation_date": 1530789101, "post_id": 51180080, "comment_id": 89361202, "body": "It will work i think, thanks"}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 2, "last_activity_date": 1530733891, "creation_date": 1530733891, "answer_id": 51180080, "question_id": 51180071, "link": "https://stackoverflow.com/questions/51180071/syntaxerror-when-trying-to-pip-install-pyautogui/51180080#51180080", "title": "SyntaxError when trying to pip install pyautogui", "body": "<p><code>pip</code> should be used in shell command prompt, not in python prompt</p>\n\n<p>Open the <code>cmd.exe</code> program from your windows and type the commands there.</p>\n\n<p>The pip.exe is not in the same folder as python - it is installed in the <code>Scripts</code> subfolder so you have to navigate to that folder or add it to the <code>PATH</code> too.</p>\n\n<pre><code>C:\\&gt; CD \\Python36\\Scripts\nC:\\Python36\\Scripts&gt; pip install pyautogui\n</code></pre>\n\n<p>Or wherever your python is installed</p>\n"}], "owner": {"reputation": 9, "user_id": 10030496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c89f36ec5797def723e1a14c27e60f?s=128&d=identicon&r=PG&f=1", "display_name": "WaZzer4893", "link": "https://stackoverflow.com/users/10030496/wazzer4893"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7127, "favorite_count": 0, "closed_date": 1531171351, "answer_count": 1, "score": 0, "last_activity_date": 1531202608, "creation_date": 1530733819, "last_edit_date": 1531202608, "question_id": 51180071, "link": "https://stackoverflow.com/questions/51180071/syntaxerror-when-trying-to-pip-install-pyautogui", "closed_reason": "Duplicate", "title": "SyntaxError when trying to pip install pyautogui", "body": "<p>When i type in python 3.6.5 shell:</p>\n\n<pre><code>import pip\npip install pyautogui\n</code></pre>\n\n<p>it returns this:</p>\n\n<pre><code>&gt;&gt;&gt; pip install pyautogui   \nSyntaxError: invalid syntax\n</code></pre>\n\n<p>in cmd it returns this:</p>\n\n<pre><code>&gt;&gt;&gt; pip install pyautogui\n  File \"&lt;stdin&gt;\", line 1\n    pip install pyautogui\n              ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>if i dont import pip it says this:</p>\n\n<p>Python 3.6.5 shell</p>\n\n<pre><code>&gt;&gt;&gt; pip install pyautogui\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>cmd (with python on path)</p>\n\n<pre><code> &gt;&gt;&gt; pip install pyautogui\n File \"&lt;stdin&gt;\", line 1\n    pip install pyautogui\n              ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>So what do i need to do?</p>\n\n<p>'install' is no command of pip.\nWhat? everyone says yeah write pip install pyautogui. tadaaa.</p>\n\n<p>Edit------------------------------------------------------------\nIt worked when i put pip in my path and then run the command. (In cmd of course)</p>\n"}, {"tags": ["python", "azure", "machine-learning", "scikit-learn", "grid-search"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 9913654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f516225c40e529eebe0ed30f133503e?s=128&d=identicon&r=PG&f=1", "display_name": "Asif.Khan", "link": "https://stackoverflow.com/users/9913654/asif-khan"}, "edited": false, "score": 0, "creation_date": 1530735914, "post_id": 51180160, "comment_id": 89343179, "body": "Just wanted to ask,  if I am using Jupyter  Azure would  n_jobs=-1 still imply? Just curious, also as the code has been compiling for 25 minutes and nothing has happened"}, {"owner": {"reputation": 1518, "user_id": 12340179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LkbSZ.jpg?s=128&g=1", "display_name": "Shayan Shafiq", "link": "https://stackoverflow.com/users/12340179/shayan-shafiq"}, "reply_to_user": {"reputation": 147, "user_id": 9913654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f516225c40e529eebe0ed30f133503e?s=128&d=identicon&r=PG&f=1", "display_name": "Asif.Khan", "link": "https://stackoverflow.com/users/9913654/asif-khan"}, "edited": false, "score": 0, "creation_date": 1614520528, "post_id": 51180160, "comment_id": 117404706, "body": "@Asif.Khan <code>n_jobs = -1</code> implies all processors are to be used."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1530734339, "creation_date": 1530734339, "answer_id": 51180160, "question_id": 51180033, "link": "https://stackoverflow.com/questions/51180033/grid-search-taking-takes-30-minutes-is-there-any-way-of-reducing-this-jupyter/51180160#51180160", "title": "Grid-search taking takes 30+ minutes is there any way of reducing this? (Jupyter Azure)", "body": "<p>Use <code>GridSearchCV(..., n_jobs=-1)</code> in order to use all available CPU cores in parallel.</p>\n\n<p>Alternatively you can use <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.model_selection.RandomizedSearchCV.html#sklearn.model_selection.RandomizedSearchCV\" rel=\"nofollow noreferrer\">RandomizedSearchCV</a></p>\n"}, {"comments": [{"owner": {"reputation": 147, "user_id": 9913654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f516225c40e529eebe0ed30f133503e?s=128&d=identicon&r=PG&f=1", "display_name": "Asif.Khan", "link": "https://stackoverflow.com/users/9913654/asif-khan"}, "edited": false, "score": 0, "creation_date": 1530788501, "post_id": 51181088, "comment_id": 89360818, "body": "This is faster as the code is split but I think this will take a while regardless because of the amount of data. Thank you very much! @Mohammed Kashif"}], "tags": [], "owner": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "is_accepted": false, "score": -2, "last_activity_date": 1530740837, "creation_date": 1530740837, "answer_id": 51181088, "question_id": 51180033, "link": "https://stackoverflow.com/questions/51180033/grid-search-taking-takes-30-minutes-is-there-any-way-of-reducing-this-jupyter/51181088#51181088", "title": "Grid-search taking takes 30+ minutes is there any way of reducing this? (Jupyter Azure)", "body": "<p>Depending on the datasize and the classifier, it might take a long time. Alternatively, you can try breaking the process into smaller parts, by using only one time of kernel at a time like this,</p>\n\n<pre><code>param_rbf = {'kernel': ['rbf'], 'gamma': [1e-2, 1e-3, 1e-4, 1e-5],\n                   'C': [1, 10, 100, 1000]}\n</code></pre>\n\n<p>Then use it like this</p>\n\n<pre><code>clf = GridSearchCV(reg, param_rbf, cv=timeseries_split, scoring='neg_mean_squared_error')\n</code></pre>\n\n<p>Similarly, make predictions seperately for different kernels, by different params dictionary</p>\n\n<pre><code>params_poly = {'kernel': ['poly'], 'C': [1, 10, 100, 1000], 'degree': [1, 2, 3, 4]}\n</code></pre>\n\n<p>I know this is not exactly a solutions, but just a few suggestions to help you reduce time if possible.</p>\n\n<p>Also, set the <code>verbose</code> option to <code>True</code>. This will help you show progress of the classifier.</p>\n\n<p>Also, setting <code>n_jobs=-1</code> might not necessarily lead to reduction in speed. <a href=\"https://stackoverflow.com/questions/50993867/increasing-n-jobs-has-no-effect-on-gridsearchcv/50996992#50996992\">See this answer</a> for reference.</p>\n"}], "owner": {"reputation": 147, "user_id": 9913654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f516225c40e529eebe0ed30f133503e?s=128&d=identicon&r=PG&f=1", "display_name": "Asif.Khan", "link": "https://stackoverflow.com/users/9913654/asif-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1530740837, "creation_date": 1530733542, "last_edit_date": 1530740560, "question_id": 51180033, "link": "https://stackoverflow.com/questions/51180033/grid-search-taking-takes-30-minutes-is-there-any-way-of-reducing-this-jupyter", "title": "Grid-search taking takes 30+ minutes is there any way of reducing this? (Jupyter Azure)", "body": "<p>I am carrying out a <code>grid-search</code> for a SVR design which has a time series split. My problem is the grid-search takes roughly 30+ minutes which is too long. I have a large data set consisting of 17,800 bits of data however, this duration is too long. Is there any way that I could reduce this duration?  My code is:</p>\n\n<pre><code>from sklearn.svm import SVR\nfrom sklearn.model_selection import TimeSeriesSplit\nfrom sklearn import svm\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn import preprocessing as pre\n\nX_feature = X_feature.reshape(-1, 1)\ny_label = y_label.reshape(-1,1)\n\nparam = [{'kernel': ['rbf'], 'gamma': [1e-2, 1e-3, 1e-4, 1e-5],\n                       'C': [1, 10, 100, 1000]},\n                       {'kernel': ['poly'], 'C': [1, 10, 100, 1000], 'degree': [1, 2, 3, 4]}] \n\n\nreg = SVR(C=1)\ntimeseries_split = TimeSeriesSplit(n_splits=3)\nclf = GridSearchCV(reg, param, cv=timeseries_split, scoring='neg_mean_squared_error')\n\n\nX= pre.MinMaxScaler(feature_range=(0,1)).fit(X_feature)\n\nscaled_X = X.transform(X_feature)\n\n\ny = pre.MinMaxScaler(feature_range=(0,1)).fit(y_label)\n\nscaled_y = y.transform(y_label)\n\n\n\nclf.fit(scaled_X,scaled_y )\n</code></pre>\n\n<p>My data for scaled y is:</p>\n\n<pre><code> [0.11321139]\n [0.07218848]\n ...\n [0.64844211]\n [0.4926122 ]\n [0.4030334 ]]\n</code></pre>\n\n<p>And my data for scaled X is:</p>\n\n<pre><code>[[0.2681013 ]\n [0.03454225]\n [0.02062136]\n ...\n [0.92857565]\n [0.64930691]\n [0.20325924]]\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 2739, "user_id": 4871110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b40e6d41ada62f0b8c0a270c68c0d0?s=128&d=identicon&r=PG&f=1", "display_name": "iDrwish", "link": "https://stackoverflow.com/users/4871110/idrwish"}, "is_accepted": false, "score": 1, "last_activity_date": 1530737902, "last_edit_date": 1530737902, "creation_date": 1530735922, "answer_id": 51180381, "question_id": 51180025, "link": "https://stackoverflow.com/questions/51180025/how-to-find-text-coincidences-in-pandas-dataframe-column-and-counting-it/51180381#51180381", "title": "How to find text coincidences in pandas dataframe column and counting it", "body": "<p>Instead of using <code>iterrows</code>, you can achieve this vectorized per column.</p>\n\n<pre><code>In [41]: df.columns.to_series().drop('Text').values\nOut[41]: array(['like=&gt;apple', 'not=&gt;here'], dtype=object)\n\n\nIn [42]: for ele in df.columns.to_series().drop('Text'):\n    ...:     column_name = ele.replace('=&gt;', ' ')\n    ...:     df[ele] = df.Text.str.count(column_name)\n    ...:     \n    ...: \n\nIn [43]: df\nOut[43]: \n                  Text  like=&gt;apple  not=&gt;here\n0         i like apple            1          0\n1  i do not like pears            0          0\n2        one two three            0          0\n3       something here            0          0\n4   something not here            0          1\n5          vla bla bla            0          0\n</code></pre>\n"}], "owner": {"reputation": 374, "user_id": 3159428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fb141af014c5c52e86ddceb240616e3?s=128&d=identicon&r=PG&f=1", "display_name": "Fermin Pitol", "link": "https://stackoverflow.com/users/3159428/fermin-pitol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530737902, "creation_date": 1530733483, "question_id": 51180025, "link": "https://stackoverflow.com/questions/51180025/how-to-find-text-coincidences-in-pandas-dataframe-column-and-counting-it", "title": "How to find text coincidences in pandas dataframe column and counting it", "body": "<p>I have a pandas dataframe like this:</p>\n\n<pre><code>Text                       like=&gt;apple        not=&gt;here                  \ni like apple                    0                 0\ni do not like pears             0                 0\none two three                   0                 0\nsomething here                  0                 0\nsomething not here              0                 0\nvla bla bla                     0                 0\n</code></pre>\n\n<p>And I need to fill the columns as:</p>\n\n<pre><code>Text                       like=&gt;apple        not=&gt;here                  \ni like apple                    1                 0\ni do not like pears             0                 0\none two three                   0                 0\nsomething here                  0                 0\nsomething not here              0                 1\nvla bla bla                     0                 0\n</code></pre>\n\n<p>I do not know the the columns names except the Text column name, I need to take the column name and count the text coincidences in the data of the Text column. </p>\n\n<p>the only idea that i have is take all the columns except the Text column in a list an iterate via iterrows row by row and column by column name and fill the data, but I suppose exist a better way to do that.</p>\n"}, {"tags": ["python", "maya"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 1413363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/717559d57de8fcc81ca2e8a8f0583ec9?s=128&d=identicon&r=PG", "display_name": "dege", "link": "https://stackoverflow.com/users/1413363/dege"}, "edited": false, "score": 0, "creation_date": 1531175112, "post_id": 51187373, "comment_id": 89488591, "body": "sorry for the late reply, got caught up on some deadlines. I&#39;ll try that out. The spheres were just used as an example, the idea is mainly to be used to tweak geometries in the same area, like a character wearing a tshirt and jacket and you want to tweak a section using the same tweak without having to make more than 1 deformer or apply the same deformer and then have to paint it. So looking to make it efficient and save time."}], "tags": [], "owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "is_accepted": true, "score": 1, "last_activity_date": 1530781615, "creation_date": 1530781615, "answer_id": 51187373, "question_id": 51180023, "link": "https://stackoverflow.com/questions/51180023/maya-python-finding-closest-vertex-to-copy-deformer-map-from-one-geometry-to-ano/51187373#51187373", "title": "Maya python finding closest vertex to copy deformer map from one geometry to another", "body": "<p>You can use this node. You just have to loop sphere1 vertices to the inPosition value and getAttr the closestVertexIndex attribute :\n<a href=\"https://download.autodesk.com/us/maya/2008help/Nodes/closestPointOnMesh.html\" rel=\"nofollow noreferrer\">https://download.autodesk.com/us/maya/2008help/Nodes/closestPointOnMesh.html</a></p>\n\n<p>but you will have to make both of your spheres to have the same center</p>\n\n<p>another solution :\nanother solution could be : if you have the same uvs on spheres, you could be transfering the weight by evaluating uv coordinate. Or even outputing a texture and sampling the picture to get values back on another sphere.</p>\n"}], "owner": {"reputation": 75, "user_id": 1413363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/717559d57de8fcc81ca2e8a8f0583ec9?s=128&d=identicon&r=PG", "display_name": "dege", "link": "https://stackoverflow.com/users/1413363/dege"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 51187373, "answer_count": 1, "score": 0, "last_activity_date": 1530781615, "creation_date": 1530733478, "question_id": 51180023, "link": "https://stackoverflow.com/questions/51180023/maya-python-finding-closest-vertex-to-copy-deformer-map-from-one-geometry-to-ano", "title": "Maya python finding closest vertex to copy deformer map from one geometry to another", "body": "<p>I'm trying to copy a deformer's map from one geometry to another based off proximity. </p>\n\n<p>Eg I have sphere1 with 10x10 subdivision and has a radius 1 which has a cluster deformer on it with a painted map that's and another sphere, sphere2 with 30x30 subdivision in the same area but with radius 1.1. I want to apply the same cluster that's affecting sphere1 on sphere2 with the same map. I can't figure out how to get the map over so I figured if I can get the vertices of sphere2 closest to a vertex in sphere1, I can apply that vertex value to sphere2's vertices. </p>\n\n<p>If there is an easier way of doing this, I am all ears. Just couldn't think of any other logic to use in this scenario.</p>\n\n<p>Cheers!!</p>\n\n<p>PS. I have seen a script of the same thing with API but my API knowledge is next to 0 and don't want to use that and not know how to improve on it. I'm trying to learn and not copy paste code without knowing why. </p>\n"}, {"tags": ["python", "python-3.x", "hex", "png"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1530733315, "post_id": 51179980, "comment_id": 89342366, "body": "hex is not binary. You need to read the image in binary mode. Don&#39;t use <code>codecs</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7811809"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1530733807, "post_id": 51179980, "comment_id": 89342523, "body": "@Jean-Fran&#231;ois Fabre I don&#39;t know how to read a file in binary mode. When reading it without codecs (using open), I get this error:  <code>Traceback (most recent call last):   File &quot;main.py&quot;, line 7, in &lt;module&gt;     imagel = imagef.read()   File &quot;&#47;usr&#47;local&#47;Cellar&#47;python&#47;3.6.5&#47;Frameworks&#47;Python.framework&#47;&zwnj;&#8203;Versions&#47;3.6&#47;lib&#47;pyt&zwnj;&#8203;hon3.6&#47;codecs.py&quot;, line 321, in decode     (result, consumed) = self._buffer_decode(data, self.errors, final) UnicodeDecodeError: &#39;utf-8&#39; codec can&#39;t decode byte 0x89 in position 0: invalid start byte</code>"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 1, "creation_date": 1530737219, "post_id": 51179980, "comment_id": 89343538, "body": "But now you are using a decoder <i>again</i>. (Python&#39;s default decoder, designed to read UTF8 text.) A PNG is not &quot;encoded text&quot;, in any form, way, or meaning. Read up about reading <i>bytes</i>. Then \u2013 and <i>only</i> then, if you can succesfully read those bytes \u2013 read up on the PNG specifications. Pay particular attention to the parts that explain the Flate compression, it is tough even for more experienced programmers than you. And then, give up and use a library."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7811809"}, "edited": false, "score": 1, "creation_date": 1530734242, "post_id": 51180026, "comment_id": 89342656, "body": "Sorry, I didn&#39;t know that. Is there a way of reading/modifying the bytes of a PNG in python?"}, {"owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "edited": false, "score": 0, "creation_date": 1530734279, "post_id": 51180026, "comment_id": 89342665, "body": "@JohnSmith sure! But how? Why? What do you want to modify?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7811809"}, "edited": false, "score": 0, "creation_date": 1530734475, "post_id": 51180026, "comment_id": 89342725, "body": "I had an assignment to hide messages in an image. My idea was to add eight null bytes to the end, then encode a message in hexadecimal - or bytes, I guess. Then write a program to look for eight null bytes and from there start decoding the message."}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 2, "last_activity_date": 1530796305, "last_edit_date": 1530796305, "creation_date": 1530733494, "answer_id": 51180026, "question_id": 51179980, "link": "https://stackoverflow.com/questions/51179980/read-bytes-of-a-png-in-python/51180026#51180026", "title": "Read bytes of a PNG in python", "body": "<p>step back - your assumptions are not correct</p>\n\n<p>png files don't have \"hexadecimal content\" - they have bytes - \"hexadecimal\" is not what you think, it is just another way of representing a number.</p>\n\n<p>Your code is not fixable because it doesn't make any sense in first place - there is nothing to decode.</p>\n\n<p>Hexadecimal is used by programmers as a convenience because each hex digit \n can represent 4 bits so it takes only two hexadecimal digits to represent a byte. However this is just representation. </p>\n\n<p>EDIT:</p>\n\n<p>From the comments it seems what you want is to add binary data to the end of the file:</p>\n\n<pre><code>message = 'Hello World!'\n\nwith open(image, 'ab') as f: # open the file for appending, binary mode\n    f.write(bytes(8))  # write 8 null bytes to the file\n    f.write(message.encode('utf-8'))  # add the message, encoded to bytes\n                                      # by using the utf-8 encoding\n</code></pre>\n\n<p>Then to read again the message:</p>\n\n<pre><code>with open(image, 'rb') as f: # open the file in read binary mode\n    data = f.read() # read the bytes from the file to a variable\n\npos = data.find(bytes(8)) # locate the 8 null bytes\nmessage = data[pos + 8:].decode('utf-8')  # decode the message\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7811809"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3130, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1530796305, "creation_date": 1530733160, "last_edit_date": 1530734308, "question_id": 51179980, "link": "https://stackoverflow.com/questions/51179980/read-bytes-of-a-png-in-python", "title": "Read bytes of a PNG in python", "body": "<p>I want to read the bytes of a PNG, and modify them. I already tried this code:</p>\n\n<pre><code>import codecs\ned = input(\"Would you like to encode or decode?\\n(e/d)&gt; \")\nimage = input(\"What image would you like to use?\\n&gt; \")\nif(ed == 'e'):\n    imagef = codecs.open(image, encoding = \"hex\")\n    imagel = imagef.read()\n    img = imagel.decode('hex')\n    print(img)\n</code></pre>\n\n<p>but I get the following error:</p>\n\n<pre><code>Would you like to encode or decode?\n(e/d)&gt; e\nWhat image would you like to use?\n&gt; i.png\nTraceback (most recent call last):\n  File \"main.py\", line 7, in &lt;module&gt;\n    imagel = imagef.read()\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/codecs.py\", line 700, in read\n    return self.reader.read(size)\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/codecs.py\", line 503, in read\n    newchars, decodedbytes = self.decode(data, self.errors)\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/encodings/hex_codec.py\", line 25, in decode\n    return hex_decode(input, errors)\n  File \"/usr/local/Cellar/python/3.6.5/Frameworks/Python.framework/Versions/3.6/lib/python3.6/encodings/hex_codec.py\", line 19, in hex_decode\n    return (binascii.a2b_hex(input), len(input))\n\nbinascii.Error: Non-hexadecimal digit found\n</code></pre>\n\n<p>How would I fix this?</p>\n"}, {"tags": ["python", "beautifulsoup", "python-requests"], "comments": [{"owner": {"reputation": 387, "user_id": 9065083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aG_myocmiq8/AAAAAAAAAAI/AAAAAAAAAEQ/yKnUcLUfDbU/photo.jpg?sz=128", "display_name": "Ivam", "link": "https://stackoverflow.com/users/9065083/ivam"}, "edited": false, "score": 0, "creation_date": 1530733121, "post_id": 51179961, "comment_id": 89342308, "body": "Can you clarify your question and post necessary code?"}, {"owner": {"reputation": 37, "user_id": 8960557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f15a69e6a167b322a96c71348f00a0f?s=128&d=identicon&r=PG&f=1", "display_name": "exist", "link": "https://stackoverflow.com/users/8960557/exist"}, "reply_to_user": {"reputation": 387, "user_id": 9065083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aG_myocmiq8/AAAAAAAAAAI/AAAAAAAAAEQ/yKnUcLUfDbU/photo.jpg?sz=128", "display_name": "Ivam", "link": "https://stackoverflow.com/users/9065083/ivam"}, "edited": false, "score": 0, "creation_date": 1530733475, "post_id": 51179961, "comment_id": 89342423, "body": "I added some code, I hope it clarifies a little bit."}, {"owner": {"reputation": 194, "user_id": 9969284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5QDn.png?s=128&g=1", "display_name": "BenG", "link": "https://stackoverflow.com/users/9969284/beng"}, "edited": false, "score": 0, "creation_date": 1530734123, "post_id": 51179961, "comment_id": 89342608, "body": "Have you tried getting the element by its index in the bs4 result set of your find_all?"}, {"owner": {"reputation": 37, "user_id": 8960557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f15a69e6a167b322a96c71348f00a0f?s=128&d=identicon&r=PG&f=1", "display_name": "exist", "link": "https://stackoverflow.com/users/8960557/exist"}, "edited": false, "score": 0, "creation_date": 1530734295, "post_id": 51179961, "comment_id": 89342670, "body": "I am an idiot, I didn&#39;t index it because it only returned one. Thank you so much for your help, I appreciate it."}], "owner": {"reputation": 37, "user_id": 8960557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f15a69e6a167b322a96c71348f00a0f?s=128&d=identicon&r=PG&f=1", "display_name": "exist", "link": "https://stackoverflow.com/users/8960557/exist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530734343, "creation_date": 1530733004, "last_edit_date": 1530734343, "question_id": 51179961, "link": "https://stackoverflow.com/questions/51179961/python-requests-bs4-submitting-a-button-with-no-name", "title": "Python, Requests, BS4: Submitting a button with no name", "body": "<p>Essentially, I have an html form. I can post everything I need, but because the button has no name, I cannot pass \"Login\" to it. However, I can find the button using BS.find_all. Is there a way I can feed data to the button without knowing its name?</p>\n\n<pre><code>m[\"username\"] = \"test\"\nm[\"password\"] = \"password\"\nm[{this is were my problem is}] = \"Login\"\nt = requests.post(URL, data=m)\n</code></pre>\n\n<p>As you can see I am getting elements from their names and filling in data. I since the button does not have a name, I cannot use it as data. </p>\n\n<pre><code>    submitbtn = soup.find_all(\"button\", class_=\"submit button\")\n</code></pre>\n\n<p>I can find the button like this.<br>\nEDIT: Answer:</p>\n\n<pre><code>submitbtn = soup.find_all(\"button\", class_=\"submit button\")\nm[submitbtn] = \"Login\"\n</code></pre>\n"}, {"tags": ["python", "mypy"], "comments": [{"owner": {"reputation": 6893, "user_id": 5997596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e957a1791225fee518cc14ff5553a5?s=128&d=identicon&r=PG", "display_name": "Azat Ibrakov", "link": "https://stackoverflow.com/users/5997596/azat-ibrakov"}, "edited": false, "score": 0, "creation_date": 1530732992, "post_id": 51179928, "comment_id": 89342268, "body": "try <code>import queue</code> instead of <code>import queue as queue</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4142, "user_id": 9962955, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q_I2uCDh94A/AAAAAAAAAAI/AAAAAAAAABY/7dXHe3szfmQ/photo.jpg?sz=128", "display_name": "Leo K", "link": "https://stackoverflow.com/users/9962955/leo-k"}, "reply_to_user": {"reputation": 3436, "user_id": 729294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/de7b24414ca6c375479bdab7ba824eb0?s=128&d=identicon&r=PG", "display_name": "rajan sthapit", "link": "https://stackoverflow.com/users/729294/rajan-sthapit"}, "edited": false, "score": 0, "creation_date": 1530744371, "post_id": 51180141, "comment_id": 89345357, "body": "Try this (before attempting to import): <code>print ( type(queue), repr(queue)) </code> to see what it is and (hopefully) find out where it is defined."}], "tags": [], "owner": {"reputation": 4142, "user_id": 9962955, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q_I2uCDh94A/AAAAAAAAAAI/AAAAAAAAABY/7dXHe3szfmQ/photo.jpg?sz=128", "display_name": "Leo K", "link": "https://stackoverflow.com/users/9962955/leo-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1530734248, "creation_date": 1530734248, "answer_id": 51180141, "question_id": 51179928, "link": "https://stackoverflow.com/questions/51179928/lint-and-mypy-error-when-importing-queue/51180141#51180141", "title": "lint and mypy error when importing queue", "body": "<p>Why not use the 'better ask for forgiveness' design rule in Python and do it like this:</p>\n\n<pre><code>try:\n    import queue\nexcept ImportError:\n    import Queue as queue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40179, "user_id": 646543, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/a6xF2.jpg?s=128&g=1", "display_name": "Michael0x2a", "link": "https://stackoverflow.com/users/646543/michael0x2a"}, "is_accepted": false, "score": 1, "last_activity_date": 1530810795, "creation_date": 1530810795, "answer_id": 51196791, "question_id": 51179928, "link": "https://stackoverflow.com/questions/51179928/lint-and-mypy-error-when-importing-queue/51196791#51196791", "title": "lint and mypy error when importing queue", "body": "<p>You should either edit your code to look like this:</p>\n\n<pre><code>import sys\nif sys.version_info &lt; (3, 0):\n    import Queue as queue\nelse:\n    import queue as queue\n</code></pre>\n\n<p>...or alternatively, keep your code as-is and run either:</p>\n\n<pre><code># Type-check your code assuming it will be run using python 3\nmypy your_code.py --always-false py_2\n\n# Type-check your code assuming it will be run using python 2\nmypy your_code.py --always-true py_3 --py2\n</code></pre>\n\n<p>The upshot is that mypy understands very basic <a href=\"http://mypy.readthedocs.io/en/latest/common_issues.html#version-and-platform-checks\" rel=\"nofollow noreferrer\">\"platform checks\"</a>, including if statements that use <code>sys.version_info</code>. (Mypy does not understand code using <code>sys.version</code>, though).</p>\n\n<p>Mypy also will not check any branches that it knows is unreachable. These two features in combination will make mypy only ever load one of the two modules.</p>\n\n<p>That said, if you decide to use <code>sys.version_info</code> checks, you have to repeat that check everywhere instead of using the constant: it's simply too intractable for mypy to keep track of extra metadata associated with a constant except in certain limited cases, so it doesn't bother.</p>\n\n<p>Thankfully, mypy does come with a mechanism that lets you tell mypy to assume a particular constant will always be true or false -- the <code>--always-false CONST</code> and <code>--always-true CONST</code> flags.</p>\n"}], "owner": {"reputation": 3436, "user_id": 729294, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/de7b24414ca6c375479bdab7ba824eb0?s=128&d=identicon&r=PG", "display_name": "rajan sthapit", "link": "https://stackoverflow.com/users/729294/rajan-sthapit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1530810795, "creation_date": 1530732850, "question_id": 51179928, "link": "https://stackoverflow.com/questions/51179928/lint-and-mypy-error-when-importing-queue", "title": "lint and mypy error when importing queue", "body": "<p>I am trying to import the <code>queue</code> something like this</p>\n\n<pre><code>import sys\nis_py2 = sys.version[0] == '2'\nif is_py2:\n    import Queue as queue\nelse:\n    import queue as queue\n</code></pre>\n\n<p>However lint is complaining saying</p>\n\n<pre><code>Unnecessary import alias - rewrite as 'import queue'\n</code></pre>\n\n<p>and mypy is complaining saying</p>\n\n<pre><code>Name 'queue' already defined\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "cv2", "sobel"], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 1778537, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0d7b915c9a3eb711e0473b35662867f7?s=128&d=identicon&r=PG", "display_name": "Sigur", "link": "https://stackoverflow.com/users/1778537/sigur"}, "edited": false, "score": 0, "creation_date": 1530895403, "post_id": 51212112, "comment_id": 89410243, "body": "Oh, thanks so much for this very clearly explanation."}], "tags": [], "owner": {"reputation": 5790, "user_id": 5407270, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NsKU95wNnz8/AAAAAAAAAAI/AAAAAAAAAlI/JsEGfhwPOqU/photo.jpg?sz=128", "display_name": "Andriy Makukha", "link": "https://stackoverflow.com/users/5407270/andriy-makukha"}, "is_accepted": true, "score": 5, "last_activity_date": 1530885574, "creation_date": 1530885574, "answer_id": 51212112, "question_id": 51179926, "link": "https://stackoverflow.com/questions/51179926/interpreting-sobel-from-cv2/51212112#51212112", "title": "Interpreting Sobel from cv2", "body": "<p>Read the second paragraph of your <a href=\"https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=sobel\" rel=\"noreferrer\">documentation</a> page:</p>\n\n<blockquote>\n  <p>Another common feature of the functions and classes described in this section is that, unlike simple arithmetic functions, they need to extrapolate values of some non-existing pixels. For example, if you want to smooth an image using a Gaussian 3x3 filter, then, when processing the left-most pixels in each row, you need pixels to the left of them, that is, outside of the image. You can let these pixels be the same as the left-most image pixels (\u201creplicated border\u201d extrapolation method), or assume that all the non-existing pixels are zeros (\u201cconstant border\u201d extrapolation method), and so on. OpenCV enables you to specify the extrapolation method. For details, see the function <code>borderInterpolate()</code> and discussion of the <code>borderType</code> parameter in the section and various functions below.</p>\n</blockquote>\n\n<h1>Make it work as you expected</h1>\n\n<p>For it to work as you expected it to work, you had to explicitly specify that you want to interpolate your border with zero values. Like this:</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg = np.array([[0,1,0],[1,0,1],[0,1,0]]).astype(float)\n\nborder = cv2.borderInterpolate(0, 1, cv2.BORDER_CONSTANT)\nsobelx64f = cv2.Sobel(img,cv2.CV_64F,1,0,ksize=3, borderType=border)\n\nprint 'img'\nprint img\n\nprint 'sobelx64f'\nprint sobelx64f\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>img\n[[ 0.  1.  0.]\n [ 1.  0.  1.]\n [ 0.  1.  0.]]\nsobelx64f\n[[ 2.  0. -2.]\n [ 2.  0. -2.]\n [ 2.  0. -2.]]\n</code></pre>\n\n<h1>Default border type</h1>\n\n<p>The default value of <code>borderType</code> is <code>BORDER_DEFAULT</code> which on my machine is the same as <code>BORDER_REFLECT_101</code>. You can run this script to confirm it on your machine:</p>\n\n<pre><code>import cv2\n\nfor var in dir(cv2):\n    if not var.startswith('BORDER_'): continue\n    if cv2.__dict__[var] == cv2.BORDER_DEFAULT:\n        print 'BORDER_DEFAULT ==', var\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>BORDER_DEFAULT == BORDER_DEFAULT\nBORDER_DEFAULT == BORDER_REFLECT101\nBORDER_DEFAULT == BORDER_REFLECT_101\n</code></pre>\n\n<p>And <code>BORDER_REFLECT_101</code> works exactly the way that is consistent with your results. Here is explanation of different border types:</p>\n\n<pre><code>BORDER_REPLICATE:     aaaaaa|abcdefgh|hhhhhhh\nBORDER_REFLECT:       fedcba|abcdefgh|hgfedcb\nBORDER_REFLECT_101:   gfedcb|abcdefgh|gfedcba\nBORDER_WRAP:          cdefgh|abcdefgh|abcdefg\nBORDER_CONSTANT:      iiiiii|abcdefgh|iiiiiii  with some specified 'i'\n</code></pre>\n\n<h1>Explanation of what you get</h1>\n\n<p>So the default border interpolation type (which is <code>BORDER_REFLECT_101</code>) makes your array to look like this prior to computation:</p>\n\n<pre><code>0 1 0 1 0\n1 0 1 0 1\n0 1 0 1 0\n1 0 1 0 1\n0 1 0 1 0\n</code></pre>\n\n<p>By simple arithmetics you can confirm that the correct values after applying Sobel kernel to inner 3x3 pixels are all zeroes \u2013 that's what you got by running your script.</p>\n"}], "owner": {"reputation": 345, "user_id": 1778537, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/0d7b915c9a3eb711e0473b35662867f7?s=128&d=identicon&r=PG", "display_name": "Sigur", "link": "https://stackoverflow.com/users/1778537/sigur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2751, "favorite_count": 0, "accepted_answer_id": 51212112, "answer_count": 1, "score": 4, "last_activity_date": 1530885574, "creation_date": 1530732837, "question_id": 51179926, "link": "https://stackoverflow.com/questions/51179926/interpreting-sobel-from-cv2", "title": "Interpreting Sobel from cv2", "body": "<p>I'm trying to understand the Sobel convolution from <code>cv2</code> in Python. </p>\n\n<p>According to <a href=\"https://docs.opencv.org/2.4/modules/imgproc/doc/filtering.html?highlight=sobel#sobel\" rel=\"nofollow noreferrer\">documentation</a> the Sobel kernel is </p>\n\n<pre><code>-1 0 1\n-2 0 2\n-1 0 1\n</code></pre>\n\n<p>So, I tried to apply it to the following <code>img</code> (a binary <code>3x3</code> array):</p>\n\n<pre><code>0 1 0\n1 0 1\n0 1 0\n</code></pre>\n\n<p>Now, I have a problem to interpret the output. I computed by hand and got different result. As fas as I know, I have to center the kernel at each pixel <code>(i,j)</code> and multiply element wise and sum.</p>\n\n<p>So, the first entry in output <em>should be</em> <code>2</code>. The program returns <code>0</code>. </p>\n\n<p>Am I wrong? I hope so.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg = np.array([[0,1,0],[1,0,1],[0,1,0]]).astype(float)\n\n# Output dtype = cv2.CV_8U\nsobelx8u = cv2.Sobel(img,cv2.CV_8U,1,0,ksize=3)\n\n# Output dtype = cv2.CV_64F. Then take its absolute and convert to cv2.CV_8U\nsobelx64f = cv2.Sobel(img,cv2.CV_64F,1,0,ksize=3)\n\nabs_sobel64f = np.absolute(sobelx64f)\nsobel_8u = np.uint8(abs_sobel64f)\n\nprint 'img'\nprint img\n\nprint 'sobelx8u'\nprint sobelx8u\n\nprint 'sobelx64f'\nprint sobelx64f\n\nprint 'abs_sobel64f'\nprint abs_sobel64f\n\nprint 'sobel_8u'\nprint sobel_8u\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>img\n[[ 0.  1.  0.]\n [ 1.  0.  1.]\n [ 0.  1.  0.]]\nsobelx8u\n[[0 0 0]\n [0 0 0]\n [0 0 0]]\nsobelx64f\n[[ 0.  0.  0.]\n [ 0.  0.  0.]\n [ 0.  0.  0.]]\nabs_sobel64f\n[[ 0.  0.  0.]\n [ 0.  0.  0.]\n [ 0.  0.  0.]]\nsobel_8u\n[[0 0 0]\n [0 0 0]\n [0 0 0]]\n</code></pre>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 2836, "user_id": 3529197, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ceed214a6e603c456a8ebaacc036b407?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/3529197/neo"}, "edited": false, "score": 0, "creation_date": 1530732919, "post_id": 51179920, "comment_id": 89342250, "body": "If you don&#39;t have anonymous users (and each user is tracked), you can make it based on user_id or whatever."}, {"owner": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 0, "creation_date": 1530732951, "post_id": 51179920, "comment_id": 89342257, "body": "rate limiting is typically something done at the load balancer or webserver level. It would help if you could tell us more about your infrastructure."}, {"owner": {"reputation": 13, "user_id": 7309487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJqNI.jpg?s=128&g=1", "display_name": "Nameless AI", "link": "https://stackoverflow.com/users/7309487/nameless-ai"}, "edited": false, "score": 0, "creation_date": 1530733806, "post_id": 51179920, "comment_id": 89342522, "body": "I want to keep it anonymous, so I&#39;ve left out the ability to register users.Also, I&#39;m using mongoDB and planning on doing the same once I start testing it on Heroku. I&#39;ve only used mongoDB and sqlite3 so far, but I&#39;d be happy to try something else since this is my first large web project."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7309487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJqNI.jpg?s=128&g=1", "display_name": "Nameless AI", "link": "https://stackoverflow.com/users/7309487/nameless-ai"}, "edited": false, "score": 0, "creation_date": 1530734253, "post_id": 51180040, "comment_id": 89342658, "body": "I&#39;m forgot to mention that there will be no registered users. Even so, this still works if I create a &#39;user_id&#39; cookie(if there isn&#39;t one already) the moment someone tries to submit a new post, right?"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 13, "user_id": 7309487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJqNI.jpg?s=128&g=1", "display_name": "Nameless AI", "link": "https://stackoverflow.com/users/7309487/nameless-ai"}, "edited": false, "score": 0, "creation_date": 1530734583, "post_id": 51180040, "comment_id": 89342753, "body": "@NamelessAI I would generate the cookie when the user first accesses the page. Then, commit the username into the database when the user first posts an article. If you create a new cookie the moment a submission attempt is made, it would erase the original user session value should the poster at that moment be a returning user. More to the point, this answer will work as long as you are using and maintaining a database that stores at least the timestamp and poster_name/poster_id."}, {"owner": {"reputation": 13, "user_id": 7309487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJqNI.jpg?s=128&g=1", "display_name": "Nameless AI", "link": "https://stackoverflow.com/users/7309487/nameless-ai"}, "edited": false, "score": 0, "creation_date": 1530735430, "post_id": 51180040, "comment_id": 89343044, "body": "I&#39;m sorry to keep dragging this, but i want to make sure I&#39;ve got it right because I&#39;m new to the web dev side of Python. It goes: create cookies when user lands on the website(user_id) even though they won&#39;t register/login, add timestamp and user_id attributes to Post class, check user&#39;s latest timestamp(based on user_id) when creating a new post, raise an error if not enough time has passed since last post or allow post submission and make that timestamp the user&#39;s new timestamp."}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 13, "user_id": 7309487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJqNI.jpg?s=128&g=1", "display_name": "Nameless AI", "link": "https://stackoverflow.com/users/7309487/nameless-ai"}, "edited": false, "score": 0, "creation_date": 1530735571, "post_id": 51180040, "comment_id": 89343086, "body": "@NamelessAI No problem. What you detailed above should work, but note that you cannot raise an error (<code>raise SomeError</code>), as that will crash your app. Rather, return a bit of HTML detailing the time violation, or redirect to another part of the page."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 0, "last_activity_date": 1530734074, "last_edit_date": 1530734074, "creation_date": 1530733593, "answer_id": 51180040, "question_id": 51179920, "link": "https://stackoverflow.com/questions/51179920/how-can-i-add-a-posting-limit-to-a-flask-forum-website/51180040#51180040", "title": "How can I add a posting limit to a Flask forum website?", "body": "<p>Assuming you have a database that stores the the post data, including the name of the poster and the timestamp, you can create a class that can determine if the user is posting at a valid time:</p>\n\n<pre><code>import re, itertools, sqlite3\nclass Posts:\n   def __init__(self, _username[str, int], _rate = 5) -&gt; None:\n      '''rate: number of posts per hour'''\n      self.username = _username\n      self.rate = _rate\n   def __bool__(self):\n      '''assuming database has columns \"author\" and \"timestamp\"\n         timestamp: mm/dd/yy hh:mm:ss\n      '''\n      data = list(sqlite3.connect('filename.db').cursor().execute(\"SELECT author, timestamp from TABLENAME\"))\n      user_posts = [re.findall('\\w+/\\w+/\\w+\\s\\d+', b)[0] for a, b in data if a == self.username]\n      if not user_posts:\n        return True\n      groups = [list(b) for _, b in itertools.groupby(user_posts)]\n      return len(groups[-1]) &lt; self.rate\n</code></pre>\n\n<p>Then, in the app, on a route such as <code>/post_article</code>:</p>\n\n<pre><code>@app.route('/post_article', methods=['GET', 'POST'])\ndef post_article():\n  if flask.request.method == 'POST':\n     poster = Posts(flask.session['current_user'])\n     if not poster:\n      return '&lt;p&gt;Posting limit exceeded. Try again soon&lt;/p&gt;'\n     #take in user form data and update db\n     return flask.redirect('/new_article_name')\n  return flask.render_template('post_article.html')\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7309487, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJqNI.jpg?s=128&g=1", "display_name": "Nameless AI", "link": "https://stackoverflow.com/users/7309487/nameless-ai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 51180040, "answer_count": 1, "score": 0, "last_activity_date": 1530735457, "creation_date": 1530732774, "last_edit_date": 1530735457, "question_id": 51179920, "link": "https://stackoverflow.com/questions/51179920/how-can-i-add-a-posting-limit-to-a-flask-forum-website", "title": "How can I add a posting limit to a Flask forum website?", "body": "<p>Is there a way to limit the posts per hour a user can make in order to avoid spam? I've thought of making it based on cookies or IP address, but I haven't had any luck finding examples of how to do it that way.</p>\n\n<p>EDIT: I want to keep it anonymous, so there will be no registered users.</p>\n"}, {"tags": ["python", "mysql", "wrds"], "comments": [{"owner": {"reputation": 583, "user_id": 8872639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1cvZb.jpg?s=128&g=1", "display_name": "skybunk", "link": "https://stackoverflow.com/users/8872639/skybunk"}, "edited": false, "score": 1, "creation_date": 1530733531, "post_id": 51179906, "comment_id": 89342438, "body": "you could save result of the query directly to a csv using the -e command with mysql on the command line. Also if the data is too big, try using chunking and store it in multiple csv s or append on the same csv.... also where are you running out of memory ? are you sure it is because the query is too big ?"}, {"owner": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "reply_to_user": {"reputation": 583, "user_id": 8872639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1cvZb.jpg?s=128&g=1", "display_name": "skybunk", "link": "https://stackoverflow.com/users/8872639/skybunk"}, "edited": false, "score": 0, "creation_date": 1530771019, "post_id": 51179906, "comment_id": 89350522, "body": "@skybunk yes, I am sure it is too big. We are talking many many gigabytes. Could you provide a code example where you use chunking on my example?"}, {"owner": {"reputation": 10169, "user_id": 6017840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0178fd0ada940a400e40867315020b2?s=128&d=identicon&r=PG&f=1", "display_name": "mootmoot", "link": "https://stackoverflow.com/users/6017840/mootmoot"}, "edited": false, "score": 0, "creation_date": 1530784897, "post_id": 51179906, "comment_id": 89358463, "body": "This is utterly inefficient, I don&#39;t see a reason to use python as a data exporter when you can use various sql client tools to format and export to csv file directly without worrying about memory limit."}, {"owner": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "edited": false, "score": 0, "creation_date": 1530785670, "post_id": 51179906, "comment_id": 89358951, "body": "When using the WRDS library you don&#39;t have many options for the choice of program."}], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "edited": false, "score": 0, "creation_date": 1530773785, "post_id": 51184846, "comment_id": 89351870, "body": "Thank you the help. I am not sure if I can do this? My problem atm. is that i run out of memory before all the data is stored in compustatq which is a dataframe btw. So instead of storing the data in a temporary variable I would like to just write it to csv directly."}, {"owner": {"reputation": 1036, "user_id": 7687641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tqz_Mg9pnAw/AAAAAAAAAAI/AAAAAAAADVE/7ve6rzsX7Qg/photo.jpg?sz=128", "display_name": "Yun Luo", "link": "https://stackoverflow.com/users/7687641/yun-luo"}, "reply_to_user": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "edited": false, "score": 0, "creation_date": 1530778103, "post_id": 51184846, "comment_id": 89354446, "body": "@Chris if you write the csv file row by row, like my code shows, you will overcome the memory error.  By doing so you don&#39;t have to create a big csv file in memory to write to disk, you write directly to disk."}, {"owner": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "edited": false, "score": 0, "creation_date": 1530785648, "post_id": 51184846, "comment_id": 89358940, "body": "But I get an error when i try to use your code. the compustatq part of your code should in effect be replaced by the SQL expression (db.raw_sql).. or am I missing something?"}, {"owner": {"reputation": 1036, "user_id": 7687641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tqz_Mg9pnAw/AAAAAAAAAAI/AAAAAAAADVE/7ve6rzsX7Qg/photo.jpg?sz=128", "display_name": "Yun Luo", "link": "https://stackoverflow.com/users/7687641/yun-luo"}, "reply_to_user": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "edited": false, "score": 0, "creation_date": 1530788839, "post_id": 51184846, "comment_id": 89361019, "body": "@Chris I didn&#39;t known what exact type of <code>compustatq</code> is, so I assumed that it can be treat like a nested iterator(like a python db-api cursor object). You got an error when doing that so apparently it&#39;s not a cursor like object. I think you need to find a way to read rows in it one by one. Try read related API documents of it, or try do a <code>dir(compustatq)</code> to see what attributes seem like iterable. guess <code>rows</code> maybe?"}, {"owner": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "edited": false, "score": 0, "creation_date": 1530814065, "post_id": 51184846, "comment_id": 89376758, "body": "I am clueless what to do."}], "tags": [], "owner": {"reputation": 1036, "user_id": 7687641, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Tqz_Mg9pnAw/AAAAAAAAAAI/AAAAAAAADVE/7ve6rzsX7Qg/photo.jpg?sz=128", "display_name": "Yun Luo", "link": "https://stackoverflow.com/users/7687641/yun-luo"}, "is_accepted": true, "score": 0, "last_activity_date": 1530858737, "last_edit_date": 1530858737, "creation_date": 1530773011, "answer_id": 51184846, "question_id": 51179906, "link": "https://stackoverflow.com/questions/51179906/save-wrds-sql-query-to-file-in-python/51184846#51184846", "title": "Save WRDS SQL query to file in python", "body": "<p>you can use <code>csv</code> library to do it. it's a python built-in library.\nI don't known what type is your <code>compustatq</code>. but find your way to read it by each row.</p>\n\n<p>use it like this:</p>\n\n<pre><code>import csv\n\nwriter = csv.writer(open('path.csv', 'wb+'), dialect='excel')\nfor row in compustatq:\n    writer.writerow([str(v) for v in row])\n</code></pre>\n\n<p>ref: <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\">csv</a></p>\n\n<hr>\n\n<p>I just read the source code of <code>wrds.Connection.raw_sql</code>. it tells your <code>compustatq</code> is an instance of pandas.DataFrame.\nSo you can still use the method <code>to_csv</code> but in a slightly different way:</p>\n\n<pre><code>f = open('path.csv', 'wb+')\nfor i in xrange(len(compustatq)):\n    f.write(df[i:i+1].to_csv(header=i==0))\nf.close()\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 8925552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f9fc0eb6a74ede8199bcf17ba187b221?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/8925552/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 51184846, "answer_count": 1, "score": 0, "last_activity_date": 1530858737, "creation_date": 1530732699, "last_edit_date": 1530814396, "question_id": 51179906, "link": "https://stackoverflow.com/questions/51179906/save-wrds-sql-query-to-file-in-python", "title": "Save WRDS SQL query to file in python", "body": "<p>My code is:</p>\n\n<pre><code>import wrds\ndb = wrds.Connection() \ncompustatq = db.raw_sql(\"\"\"\n              select *\n              from comp.fundq \n              \"\"\")\n\ncompustatq.to_csv('path.csv',index=False)\n</code></pre>\n\n<p>The problem is that the dataset is so large that I run out of RAM memory. I was therefore thinking if it is possible to download/save the data directly on the disk? Hence, avoiding the 2 step procedure of downloading into a dataframe and then exporting to a csv file. </p>\n"}]