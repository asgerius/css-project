[{"tags": ["python", "python-3.x", "pandas", "dataframe", "data-science"], "answers": [{"tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": true, "score": 3, "last_activity_date": 1574899951, "creation_date": 1574899951, "answer_id": 59080110, "question_id": 59080026, "link": "https://stackoverflow.com/questions/59080026/how-convert-multi-value-row-to-columns-using-pandas/59080110#59080110", "title": "How convert multi value row to columns using pandas?", "body": "<p>You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.concat.html\" rel=\"nofollow noreferrer\"><code>pd.concat</code></a> with <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.get_dummies.html\" rel=\"nofollow noreferrer\"><code>Series.str.dummies</code></a> with <code>', '</code> as seperator:</p>\n\n<pre><code>df = pd.concat([\n    df[['id', 'name']], df['genre'].str.get_dummies(sep=', ')\n], axis=1)\n</code></pre>\n\n<pre><code>   id   name  action  animation  comedy\n0   1  Fiml1       1          0       1\n1   2  Fiml2       0          1       0\n2   3  Fiml3       0          0       1\n3   4  Fiml4       1          1       0\n4   5  Fiml5       1          0       0\n5   6  Fiml6       0          1       1\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12442630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84f3b104b9cabb7cdd47be008e9a533?s=128&d=identicon&r=PG&f=1", "display_name": "Renan Gustavo", "link": "https://stackoverflow.com/users/12442630/renan-gustavo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 1, "accepted_answer_id": 59080110, "answer_count": 1, "score": 1, "last_activity_date": 1574899951, "creation_date": 1574899157, "question_id": 59080026, "link": "https://stackoverflow.com/questions/59080026/how-convert-multi-value-row-to-columns-using-pandas", "title": "How convert multi value row to columns using pandas?", "body": "<p>What functions do I use to convert this Dataframe:</p>\n\n<pre><code>id name genre\n\n1 Fiml1 action, comedy\n2 Fiml2 animation\n3 Fiml3 comedy\n4 Fiml4 action, animation\n5 Fiml5 action\n6 Fiml6 animation, comedy\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>id name action animation comedy\n\n1  Fiml1   1       0       1\n2  Fiml2   0       1       0\n3  Fiml3   0       0       1\n4  Fiml4   1       1       0\n5  Fiml5   1       0       0\n6  Fiml6   0       1       1\n</code></pre>\n\n<p>This dataframe is to be used in vector space model, answer or any suggestions?</p>\n"}, {"tags": ["python", "pyqt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1574899532, "post_id": 59080020, "comment_id": 104397081, "body": "provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and show complete error message"}, {"owner": {"reputation": 3580, "user_id": 3246449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Oh5uF.jpg?s=128&g=1", "display_name": "Maxim Paperno", "link": "https://stackoverflow.com/users/3246449/maxim-paperno"}, "edited": false, "score": 1, "creation_date": 1574899711, "post_id": 59080020, "comment_id": 104397124, "body": "Probably want <code>ename[p-1] = child.text()</code>. objectName() is already a string, doesn&#39;t have a text() method, and is not the contents of the line edit."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1574899763, "post_id": 59080020, "comment_id": 104397133, "body": "Typo: change <code>child.objectName().text()</code> to <code>child.text()</code>"}, {"owner": {"reputation": 213, "user_id": 7441235, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6fa7561e8779d02f9e2f049584533009?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7441235/dennis"}, "edited": false, "score": 0, "creation_date": 1574901345, "post_id": 59080020, "comment_id": 104397421, "body": "Works. Thanks to all."}], "owner": {"reputation": 213, "user_id": 7441235, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6fa7561e8779d02f9e2f049584533009?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7441235/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574899474, "creation_date": 1574899122, "last_edit_date": 1574899474, "question_id": 59080020, "link": "https://stackoverflow.com/questions/59080020/loop-to-get-value-of-line-edit-error-in-code", "title": "Loop to get value of line edit; error in code", "body": "<p>I want to search line edits on a UI and put the contents of certain line edits into a list. The line edits I am searching for have object names like \"equity1, equity2, equity3, .....\"  and I want to put each of these into list ename in same order.</p>\n\n<p>I am getting an error with my code, specifically the line:</p>\n\n<pre><code>ename[p-1] = child.objectName().text() \n</code></pre>\n\n<p>I think there is a syntax error.</p>\n\n<pre><code>p = 1\nfor child in self.ui.frame_23.findChildren(QLineEdit):\n    if child.objectName() == \"equity\" + str(p):\n        ename[p-1] = child.objectName().text()\n        p += 1\n</code></pre>\n"}, {"tags": ["python", "excel", "azure"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11086855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dff3e8af0f62ff88ed1c546e05d5783?s=128&d=identicon&r=PG&f=1", "display_name": "Roxy", "link": "https://stackoverflow.com/users/11086855/roxy"}, "edited": false, "score": 0, "creation_date": 1575033519, "post_id": 59084425, "comment_id": 104442839, "body": "Thanks Peter. But my requirement is slightly different. Reading different sheets from excel work book will not be same structure. I mean not necessarily same number of columns and I don&#39;t want to merge into one dataframe and load into one table.Please clarify."}, {"owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "reply_to_user": {"reputation": 3, "user_id": 11086855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dff3e8af0f62ff88ed1c546e05d5783?s=128&d=identicon&r=PG&f=1", "display_name": "Roxy", "link": "https://stackoverflow.com/users/11086855/roxy"}, "edited": false, "score": 0, "creation_date": 1575033817, "post_id": 59084425, "comment_id": 104442982, "body": "@Roxy Of couse yes, I don&#39;t know your real purpose and your data structure. But I think my sample code is enough for you to be changed by yourself to satisfy your real needs."}], "tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574929252, "creation_date": 1574929252, "answer_id": 59084425, "question_id": 59079963, "link": "https://stackoverflow.com/questions/59079963/python-script-to-read-from-multiple-excel-sheets-and-load-to-azure-sql-db-tables/59084425#59084425", "title": "Python Script to read from multiple excel sheets and load to Azure SQL DB Tables", "body": "<p>Just for example, I created an excel file with two sheets, as the figure below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XCl1K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XCl1K.png\" alt=\"enter image description here\"></a></p>\n\n<p>There are two solutions for your needs to transfer data from excel sheets to the tables of SQL Azure.</p>\n\n<ol>\n<li><p>To read the data of echo sheet via <a href=\"https://pypi.org/project/xlrd/\" rel=\"nofollow noreferrer\"><code>xlrd</code></a> (<a href=\"https://xlrd.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">its document</a>) to generate the insert sql, then to execute these insert sqls via <a href=\"https://pypi.org/project/pyodbc/\" rel=\"nofollow noreferrer\"><code>pyodbc</code></a>, <a href=\"https://pypi.org/project/pymssql/\" rel=\"nofollow noreferrer\"><code>pymssql</code></a> or others. Here is my sample code for reading data from excel sheets in Python.</p>\n\n<pre><code>import xlrd\n\nbook = xlrd.open_workbook(\"samples.xlsx\")\nsheet_names = book.sheet_names()\nfor sheet_name in sheet_names:\n    sheet = book.sheet_by_name(sheet_name)\n    recs = \",\".join([\"('{0[0]}', {0[1]})\".format(sheet.row_values(i)) for i in range(sheet.nrows)])\n    insert_sql = f\"insert into {sheet_name} (name, age) values {recs};\"\n    print(insert_sql)\n    # Connect to execute the insert data sql via pyodbc, pymssql or others\n</code></pre>\n\n<p>The result of the code above is.</p>\n\n<pre><code>insert into Table_A values ('Peason1', 18.0),('Peason2', 19.0),('Peason3', 20.0),('Peason4', 21.0),('Peason5', 22.0),('Peason6', 23.0),('Peason7', 24.0),('Peason8', 25.0),('Peason9', 26.0),('Peason10', 27.0);\ninsert into Table_B values ('Peason11', 27.0),('Peason12', 26.0),('Peason13', 25.0),('Peason14', 24.0),('Peason15', 23.0),('Peason16', 22.0),('Peason17', 21.0),('Peason18', 20.0),('Peason19', 19.0),('Peason20', 18.0);\n</code></pre>\n\n<p>Meanwhile, please refer to Azure offical documents <a href=\"https://docs.microsoft.com/en-us/sql/connect/python/python-driver-for-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\"><code>Python SQL Driver</code></a> and <a href=\"https://docs.microsoft.com/en-us/azure/sql-database/sql-database-connect-query-python\" rel=\"nofollow noreferrer\"><code>Quickstart: Use Python to query an Azure SQL database</code></a> to know how to use pyodbc or pymssql to connect and query Azure SQL Database.</p></li>\n<li><p>You can read the sheet data of excel file via <code>pandas</code>, and then to write data to SQL Azure via the function <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.to_sql.html\" rel=\"nofollow noreferrer\"><code>pandas.DataFrame.to_sql</code></a> through <a href=\"http://docs.sqlalchemy.org/\" rel=\"nofollow noreferrer\">SQLAlchemy</a> connection. Here is my sample code to read the sheet data of excel file to get pandas dataframe.</p>\n\n<pre><code>import xlrd\nimport pandas as pd\n\nfile_name = \"samples.xlsx\"\ncol_names = [\"name\", \"age\"]\nbook = xlrd.open_workbook(file_name)\nsheet_names = book.sheet_names()\nfor sheet_name in sheet_names:\n    df = pd.read_excel(file_name, sheet_name=sheet_name, index_col=None, header=None, names=col_names)\n    print(df)\n    # Use df.to_sql with SQLAlchemy connection, that you can do it by yourself via refer to the pandas and SQLAlchemy documents.\n</code></pre>\n\n<p>The result of the code above is.</p>\n\n<pre><code>       name  age\n0   Peason1   18\n1   Peason2   19\n2   Peason3   20\n3   Peason4   21\n4   Peason5   22\n5   Peason6   23\n6   Peason7   24\n7   Peason8   25\n8   Peason9   26\n9  Peason10   27\n       name  age\n0  Peason11   27\n1  Peason12   26\n2  Peason13   25\n3  Peason14   24\n4  Peason15   23\n5  Peason16   22\n6  Peason17   21\n7  Peason18   20\n8  Peason19   19\n9  Peason20   18\n</code></pre>\n\n<p>For connecting SQL Azure by SQLAlchemy, please refer to SQLAlchemy document <a href=\"https://docs.sqlalchemy.org/en/13/dialects/mssql.html\" rel=\"nofollow noreferrer\"><code>Microsoft SQL Server</code></a> and the other SO thread <a href=\"https://stackoverflow.com/questions/53704187/connecting-to-an-azure-database-using-sqlalchemy-in-python\">Connecting to an Azure database using SQLAlchemy in Python</a>.</p></li>\n</ol>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 3, "user_id": 11086855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dff3e8af0f62ff88ed1c546e05d5783?s=128&d=identicon&r=PG&f=1", "display_name": "Roxy", "link": "https://stackoverflow.com/users/11086855/roxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 809, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574929252, "creation_date": 1574898708, "question_id": 59079963, "link": "https://stackoverflow.com/questions/59079963/python-script-to-read-from-multiple-excel-sheets-and-load-to-azure-sql-db-tables", "title": "Python Script to read from multiple excel sheets and load to Azure SQL DB Tables", "body": "<p>I Have a excel file with multiple spreadsheets and I need to use python script to read from this excel file each sheet and load the data into corresponding Azure SQL DB Tables.</p>\n\n<p>1 Excel file 6 sheets = 6 Azure SQL DB tables</p>\n\n<p>Appreciate any inputs on this requirement at the earliest.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 0, "creation_date": 1574898746, "post_id": 59079947, "comment_id": 104396907, "body": "you can convert to tuples which are hashable."}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1574898791, "post_id": 59079947, "comment_id": 104396923, "body": "Or better convert them to sets, so that <code>set([&#39;Chocolate&#39;, &#39;Vanilla&#39;]) == set([&#39;Vanilla&#39;, &#39;Chocolate&#39;])</code>"}, {"owner": {"reputation": 10628, "user_id": 4565947, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e5b166ea39cc61a22e0c04a67ef53bd7?s=128&d=identicon&r=PG&f=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/4565947/julien"}, "edited": false, "score": 1, "creation_date": 1574899551, "post_id": 59079947, "comment_id": 104397084, "body": "Except sets aren&#39;t hashable either..."}], "answers": [{"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 4, "last_activity_date": 1574899148, "creation_date": 1574899148, "answer_id": 59080022, "question_id": 59079947, "link": "https://stackoverflow.com/questions/59079947/count-frequency-of-specific-list-in-a-dictionary/59080022#59080022", "title": "Count frequency of specific list in a dictionary", "body": "<p>It looks like you want to count the value in a manner that order doesn't matter. You can convert to a set, but sets are not hashable, which makes that a little harder. You can use a <a href=\"https://docs.python.org/3/library/stdtypes.html#frozenset\" rel=\"nofollow noreferrer\">frozenset</a>, which is hashable and will allow <code>['Chocolate','Vanilla']</code> to count the same as <code>['Vanilla','Chocolate']</code>:</p>\n\n<pre><code>from collections import Counter\n\nthisdict = {\n  \"1\": ['Vanilla','Chocolate'],\n  \"2\": ['Vanilla'],\n  \"7\": ['Chocolate'],\n  \"8\": ['Chocolate','Vanilla']\n}\n\ncounts = Counter(map(frozenset, thisdict.values()))\n</code></pre>\n\n<p><code>counts</code> will be a counter instance like:</p>\n\n<pre><code>Counter({frozenset({'Chocolate', 'Vanilla'}): 2,\n     frozenset({'Vanilla'}): 1,\n     frozenset({'Chocolate'}): 1})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 1, "last_activity_date": 1574899157, "creation_date": 1574899157, "answer_id": 59080025, "question_id": 59079947, "link": "https://stackoverflow.com/questions/59079947/count-frequency-of-specific-list-in-a-dictionary/59080025#59080025", "title": "Count frequency of specific list in a dictionary", "body": "<p>Since order is to be disregarded you can convert the lists to <code>frozenset</code>s so that you can use <code>collections.Counter</code> to count the frequencies of each set of values:</p>\n\n<pre><code>from collections import Counter\n\nfor combination, count in Counter(map(frozenset, thisdict.values())).items():\n    print(f'{list(combination)} = {count}')\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>['Vanilla', 'Chocolate'] = 2\n['Vanilla'] = 1\n['Chocolate'] = 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1219, "user_id": 11547576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8YD74.jpg?s=128&g=1", "display_name": "neutrino_logic", "link": "https://stackoverflow.com/users/11547576/neutrino-logic"}, "is_accepted": false, "score": 1, "last_activity_date": 1574909373, "last_edit_date": 1574909373, "creation_date": 1574902043, "answer_id": 59080330, "question_id": 59079947, "link": "https://stackoverflow.com/questions/59079947/count-frequency-of-specific-list-in-a-dictionary/59080330#59080330", "title": "Count frequency of specific list in a dictionary", "body": "<p>How about first generating sorted copies of all the lists in the dict, then converting each to tuple, then hashing each tuple? This should deal with duplicated values perhaps better than a set:</p>\n\n<pre><code>test =[tuple(sorted(x)) for x in thisdict.values()]\n</code></pre>\n\n<p>make an equivalently ordered hash table for lookup:</p>\n\n<pre><code>mytable = [hash(x) for x in test])\n</code></pre>\n\n<p>Then run a loop over it:</p>\n\n<pre><code>result = []\nfor item in test:\n    count = 0\n    for i, value in enumerate(mytable):\n        if hash(item) == value and count == 0:\n            count += 1\n            result.append([item, count])\n        elif hash(item) == value and count &gt;= 1:\n            result[:1][0][1] += 1\n            test[i] = '(None)'\n        else:\n            pass\n</code></pre>\n\n<p>Gives:</p>\n\n<pre><code>[[('Chocolate', 'Vanilla'), 2], [('Vanilla',), 1], [('Chocolate',), 1]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "is_accepted": false, "score": 0, "last_activity_date": 1574911348, "creation_date": 1574911348, "answer_id": 59081279, "question_id": 59079947, "link": "https://stackoverflow.com/questions/59079947/count-frequency-of-specific-list-in-a-dictionary/59081279#59081279", "title": "Count frequency of specific list in a dictionary", "body": "<p>FYI - your dict is improperly formatted, but once properly formatted you can also do this in a relatively straightforward way with pandas:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'vals':[*thisdict.values()],'keys':[*thisdict.keys()]})\n\ndf\n\n                   vals keys\n0  [Vanilla, Chocolate]    1\n1             [Vanilla]    2\n2           [Chocolate]    7\n3  [Chocolate, Vanilla]    8\n\nout = df['vals'].apply(lambda x: tuple(sorted(x))).value_counts()\n\nout\n\n(Chocolate, Vanilla)    2\n(Chocolate,)            1\n(Vanilla,)              1\nName: vals, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 9910799, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oN19NE9uSAQ/AAAAAAAAAAI/AAAAAAAAGPY/iO5OahZzzbI/photo.jpg?sz=128", "display_name": "Zachary Donnini", "link": "https://stackoverflow.com/users/9910799/zachary-donnini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1574911348, "creation_date": 1574898585, "question_id": 59079947, "link": "https://stackoverflow.com/questions/59079947/count-frequency-of-specific-list-in-a-dictionary", "title": "Count frequency of specific list in a dictionary", "body": "<p>Let's say I have a dictionary:</p>\n\n<pre><code>thisdict = {\n  \"1\": ['Vanilla','Chocolate']\n  \"2\": ['Vanilla']\n  \"7\": ['Chocolate']\n  \"8\": ['Chocolate','Vanilla']\n}\n</code></pre>\n\n<p>(note: the keys are ID Numbers)</p>\n\n<p>I want to see a frequency of how many times a specific list occurs, disregarding the order of the elements. So I would want my result to be:</p>\n\n<pre><code>['Chocolate','Vanilla'] = 2\n['Chocolate'] = 1\n['Vanilla'] = 1\n</code></pre>\n\n<p>How would I do this?</p>\n\n<p>Right now I tried, with Chief being the name of the dictionary I want to find the frequency of the values of:</p>\n\n<pre><code>track = {}\n\nfor key,value in chief.items():\n    if value not in track:\n        track[value]=0\n    else:\n        track[value]+=1\n\nprint(track)\n\n</code></pre>\n\n<p>But lists are not hashable, so it does not work.</p>\n\n<p>Thank you very much for your help!</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 736, "user_id": 5518510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SWxmZSBk6X4/AAAAAAAAAAI/AAAAAAAABUo/IYVOQ29qXu0/photo.jpg?sz=128", "display_name": "James Mchugh", "link": "https://stackoverflow.com/users/5518510/james-mchugh"}, "edited": false, "score": 2, "creation_date": 1574898874, "post_id": 59079941, "comment_id": 104396941, "body": "It cannot be used in this case since <code>and</code> will attempt to treat the operands as <code>bool</code>s, causing their magic method <code>__bool__</code> to run. It will return the error &quot;ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().&quot;."}, {"owner": {"reputation": 2042, "user_id": 11424673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ecf0fd0aa656482af8bc20d0d22c88?s=128&d=identicon&r=PG&f=1", "display_name": "Hymns For Disco", "link": "https://stackoverflow.com/users/11424673/hymns-for-disco"}, "edited": false, "score": 2, "creation_date": 1574898916, "post_id": 59079941, "comment_id": 104396949, "body": "<code>&amp;</code> operator is not an equivalent to <code>and</code>.  <code>&amp;</code> is a bit-wise operator. Maybe you are thinking of <code>&amp;&amp;</code> (boolean and) in other languages, python does not have this. Or rather, it has <code>and</code>"}, {"owner": {"reputation": 2039, "user_id": 2825403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d81c88311d9512d0e83bcdf806ba3a4?s=128&d=identicon&r=PG&f=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/2825403/pavel"}, "edited": false, "score": 0, "creation_date": 1574899007, "post_id": 59079941, "comment_id": 104396972, "body": "Yeah, this is where I got confused. Now I noticed that one is boolean and the other is bitwise. Good to know. Explains a lot of issues I&#39;ve been having."}, {"owner": {"reputation": 736, "user_id": 5518510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SWxmZSBk6X4/AAAAAAAAAAI/AAAAAAAABUo/IYVOQ29qXu0/photo.jpg?sz=128", "display_name": "James Mchugh", "link": "https://stackoverflow.com/users/5518510/james-mchugh"}, "reply_to_user": {"reputation": 2042, "user_id": 11424673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ecf0fd0aa656482af8bc20d0d22c88?s=128&d=identicon&r=PG&f=1", "display_name": "Hymns For Disco", "link": "https://stackoverflow.com/users/11424673/hymns-for-disco"}, "edited": false, "score": 0, "creation_date": 1574899110, "post_id": 59079941, "comment_id": 104397000, "body": "@HymnsForDisco While <code>&amp;</code> is normally the bitwise operator, it is overloaded in DataFrames and Series to do element-wise operations, either bitwise or logical operations depending on the context. In the case of <code>bool</code>s, it does the logical and operation."}], "owner": {"reputation": 2039, "user_id": 2825403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d81c88311d9512d0e83bcdf806ba3a4?s=128&d=identicon&r=PG&f=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/2825403/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1574899100, "answer_count": 0, "score": 0, "last_activity_date": 1574898771, "creation_date": 1574898552, "last_edit_date": 1574898771, "question_id": 59079941, "link": "https://stackoverflow.com/questions/59079941/using-and-instead-of-when-filtering-a-dataframe-based-on-multiple-conditio", "closed_reason": "Duplicate", "title": "Using &#39;AND&#39; instead of &#39;&amp;&#39; when filtering a dataframe based on multiple conditions", "body": "<p>I was checking out the answer to <a href=\"https://stackoverflow.com/questions/17071871/how-to-select-rows-from-a-dataframe-based-on-column-values\">this question</a> and had a quick follow-up question. The answer says that in case of multiple conditions parentheses are required since operator \"&amp;\" is more binding than comparison operators:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df.loc[(df['column_name'] &gt;= A) &amp; (df['column_name'] &lt;= B)]\n</code></pre>\n\n<p>And missing parentheses here will result in 'value ambiguous' error.</p>\n\n<p>Looking at <a href=\"https://docs.python.org/3/reference/expressions.html#operator-precedence\" rel=\"nofollow noreferrer\">operator precedence rules</a> I noticed that <code>and</code> is less binding than comparison operators. In this case can the same be re-written like this?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df.loc[df['column_name'] &gt;= A and df['column_name'] &lt;= B]\n</code></pre>\n"}, {"tags": ["python", "flask", "raspberry-pi", "hardware"], "comments": [{"owner": {"reputation": 2940, "user_id": 3677457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/16n9h.png?s=128&g=1", "display_name": "Brien Foss", "link": "https://stackoverflow.com/users/3677457/brien-foss"}, "edited": false, "score": 0, "creation_date": 1583296700, "post_id": 59079926, "comment_id": 107064139, "body": "Did an answer below solve your problem?"}], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 4568679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47a3061a5209488e3c6a7078ff5398ca?s=128&d=identicon&r=PG", "display_name": "Slav", "link": "https://stackoverflow.com/users/4568679/slav"}, "edited": false, "score": 0, "creation_date": 1586023404, "post_id": 59915601, "comment_id": 107975034, "body": "In my case, <code>pgrep libgpiod_pulsein</code> returned nothing. But changing pin to <code>D18</code> solved the issue. Seems to me like something else is blocking GPIO4, but no idea what."}], "tags": [], "owner": {"reputation": 2940, "user_id": 3677457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/16n9h.png?s=128&g=1", "display_name": "Brien Foss", "link": "https://stackoverflow.com/users/3677457/brien-foss"}, "is_accepted": false, "score": 0, "last_activity_date": 1580017071, "last_edit_date": 1580017071, "creation_date": 1580013517, "answer_id": 59915601, "question_id": 59079926, "link": "https://stackoverflow.com/questions/59079926/rpi-dht22-with-flask-unable-to-set-line-4-to-input-timed-out-waiting-for-puls/59915601#59915601", "title": "RPI dht22 with flask: Unable to set line 4 to input - Timed out waiting for PulseIn message", "body": "<p>Locating the process <code>libgpiod_pulsein</code> and killing it resolved the issue.</p>\n\n<p>In your terminal, search for the process ID:</p>\n\n<p><code>pgrep libgpiod_pulsein</code></p>\n\n<p>and </p>\n\n<p><code>kill &lt;PID&gt;</code> (found from above - you might have more than one running)</p>\n\n<hr>\n\n<p>I was experiencing the exact same thing with the <a href=\"https://learn.adafruit.com/dht\" rel=\"nofollow noreferrer\">DHT11</a>. In my situation I had to kill the process: <code>libgpiod_pulsein</code>.</p>\n\n<p>Worked on the first try when on fresh boot, but then subsequent executions would fail. Changing the GPIO I was using and running the program had the same effect, worked the first time and subsequent attempts would fail with example: </p>\n\n<blockquote>\n  <p>Unable to set line 4 to input</p>\n  \n  <p>Timed out waiting for PulseIn message</p>\n  \n  <p>Timed out waiting for PulseIn message\n  ...</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3664721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28b87b3ff85dd018f7d122ead0a81cc0?s=128&d=identicon&r=PG&f=1", "display_name": "jsubirat", "link": "https://stackoverflow.com/users/3664721/jsubirat"}, "is_accepted": false, "score": 2, "last_activity_date": 1587077152, "creation_date": 1587077152, "answer_id": 61261314, "question_id": 59079926, "link": "https://stackoverflow.com/questions/59079926/rpi-dht22-with-flask-unable-to-set-line-4-to-input-timed-out-waiting-for-puls/61261314#61261314", "title": "RPI dht22 with flask: Unable to set line 4 to input - Timed out waiting for PulseIn message", "body": "<h3>Short answer</h3>\n\n<p>Remove <code>debug=True</code> and enjoy. :-)</p>\n\n<h3>What was going on?</h3>\n\n<p>This problem drove me nuts but I think I found the root cause! In my case, I was encapsulating the DHT22 object in another object, like so:</p>\n\n<pre><code>...\nclass DHT22Custom:\n    def __init__(self):\n        print(\"**** BUILDING by {0}!\".format(threading.currentThread().getName()))\n        self.dht_device = adafruit_dht.DHT22(board.D17)\n...\n</code></pre>\n\n<p>My <code>main.py</code> looked like:</p>\n\n<pre><code>import RPi.GPIO as GPIO\nfrom sensor.config.app_config import create_app\n\nif __name__ == '__main__':\n    app = create_app()         # builds DHT22Custom inside\n    app.run(debug=True)\n    print(\"Cleaning up GPIO before exiting...\")\n    GPIO.cleanup()\n</code></pre>\n\n<p>And look what an interesting output I got:</p>\n\n<pre><code>root@05600e5:/app# python -m sensor.main\n**** BUILDING by MainThread!\n * Serving Flask app \"FlaskWS\" (lazy loading)\n * Environment: production\n   WARNING: This is a development server. Do not use it in a production deployment.\n   Use a production WSGI server instead.\n * Debug mode: on\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n * Restarting with stat\n**** BUILDING by MainThread!\nUnable to set line 17 to input\n</code></pre>\n\n<p>The MainThread was initializing my object twice! How was that? Well, if you look at the documentation of Flask's <code>run()</code>, you'll see the following:</p>\n\n<pre><code>If the :attr:`debug` flag is set the server will automatically reload\n for code changes and show a debugger in case an exception happened.\n</code></pre>\n\n<p>So, it seems that Flask just relaunches the application or something like this. Not clear to me, to be honest. But well, if you just remove <code>debug</code>, you'll see something like:</p>\n\n<pre><code>root@05600e5:/app# python -m sensor.main\n**** BUILDING by MainThread!\n * Serving Flask app \"FlaskWS\" (lazy loading)\n * Environment: production\n   WARNING: This is a development server. Do not use it in a production deployment.\n   Use a production WSGI server instead.\n * Debug mode: off\n * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)\n</code></pre>\n\n<p>I hope this helps. Happy coding!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10240126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d46cd6b80a03352b61773a73382c6c1?s=128&d=identicon&r=PG", "display_name": "sirpask", "link": "https://stackoverflow.com/users/10240126/sirpask"}, "is_accepted": false, "score": 0, "last_activity_date": 1603532287, "creation_date": 1603532287, "answer_id": 64511961, "question_id": 59079926, "link": "https://stackoverflow.com/questions/59079926/rpi-dht22-with-flask-unable-to-set-line-4-to-input-timed-out-waiting-for-puls/64511961#64511961", "title": "RPI dht22 with flask: Unable to set line 4 to input - Timed out waiting for PulseIn message", "body": "<blockquote>\n<p>Blockquote\nIn my case, pgrep libgpiod_pulsein returned nothing. But changing pin to D18 solved the issue. Seems to me like something else is blocking GPIO4, but no idea what. \u2013 Slav Apr 4 at 18:03</p>\n</blockquote>\n<p>thanks,with the pin 18 its ok</p>\n<p>but it is strange:</p>\n<p>The pin 4, only run it: (version deprecated of adafruit)&gt; runing before:</p>\n<p>sudo modprobe w1-gpio</p>\n<p>sudo modprobe w1-therm</p>\n<pre><code>#!/usr/bin/python\nimport sys\nimport Adafruit_DHT\n\nwhile True:\n\n    humidity, temperature = Adafruit_DHT.read_retry(11, 4)\n    print 'Temp: {0:0.1f} C Humidity: {1:0.1f} %'.format(temperature, humidity)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15219721, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/824b63a874cd648d5fde17e6fa8787c0?s=128&d=identicon&r=PG", "display_name": "THEMISTOKLIS ANASTASOPOULOS", "link": "https://stackoverflow.com/users/15219721/themistoklis-anastasopoulos"}, "is_accepted": false, "score": 0, "last_activity_date": 1613485935, "last_edit_date": 1613485935, "creation_date": 1613470378, "answer_id": 66222428, "question_id": 59079926, "link": "https://stackoverflow.com/questions/59079926/rpi-dht22-with-flask-unable-to-set-line-4-to-input-timed-out-waiting-for-puls/66222428#66222428", "title": "RPI dht22 with flask: Unable to set line 4 to input - Timed out waiting for PulseIn message", "body": "<p>I am facing the same issue with you meaning that using python, flask and cyrcuitpython adafruit_sht library I can only run once for every pin on rpi 4 the code. Finally the solution was in front of me and was the line <code>dhtDevice.exit()</code></p>\n<p>So before ending my code and return to the main class I run the command <code>dhtDevice.exit()</code>\nso the next time I run the same code evrything works fine!</p>\n"}], "owner": {"reputation": 73, "user_id": 6569493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qOP3U.jpg?s=128&g=1", "display_name": "a1p4ca", "link": "https://stackoverflow.com/users/6569493/a1p4ca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2465, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1613485935, "creation_date": 1574898403, "last_edit_date": 1580019206, "question_id": 59079926, "link": "https://stackoverflow.com/questions/59079926/rpi-dht22-with-flask-unable-to-set-line-4-to-input-timed-out-waiting-for-puls", "title": "RPI dht22 with flask: Unable to set line 4 to input - Timed out waiting for PulseIn message", "body": "<p>I'm trying to make a Raspberry Pi 3 REST API that provides temperature and humidity with DHT22. The whole code:</p>\n\n<pre><code>from flask import Flask, jsonify, request\nfrom sds011 import SDS011\nfrom adafruit_dht import DHT22\nimport board\nimport os\nimport time\n\napp = Flask(__name__)\ndht = DHT22(board.D4)\n\ndef get_dht_data():\n    while True:\n        try:\n            temperature, humidity = dht.temperature, dht.humidity\n            print(temperature, humidity)\n            if temperature is not None and humidity is not None:\n                return temperature, humidity\n            else:\n                raise\n        except:\n            time.sleep(0.5)\n\n@app.route('/', methods=['GET'])\ndef status():\n    temperature, humidity = get_dht_data()\n\n    return jsonify({\n        'temperature': temperature,\n        'humidity': humidity\n    })\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>I used <a href=\"https://github.com/adafruit/Adafruit_CircuitPython_DHT\" rel=\"nofollow noreferrer\">https://github.com/adafruit/Adafruit_CircuitPython_DHT</a></p>\n\n<p>However, when I start server, it shows message </p>\n\n<blockquote>\n  <p>'Unable to set line 4 to input'</p>\n</blockquote>\n\n<p>and temperature and humidity is always <code>None</code>. If I don't run flask app but just DHT code, it works.</p>\n"}, {"tags": ["python", "pandas", "jupyter-notebook", "data-science"], "comments": [{"owner": {"reputation": 653, "user_id": 10981911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l3kQk.jpg?s=128&g=1", "display_name": "manesioz", "link": "https://stackoverflow.com/users/10981911/manesioz"}, "edited": false, "score": 0, "creation_date": 1574908183, "post_id": 59079922, "comment_id": 104398629, "body": "What are you using for the ML models?"}, {"owner": {"reputation": 191, "user_id": 6322924, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Xw12VD32U0A/AAAAAAAAAAI/AAAAAAAAAGI/-MIO7xKqH8s/photo.jpg?sz=128", "display_name": "Falco Peregrinus", "link": "https://stackoverflow.com/users/6322924/falco-peregrinus"}, "reply_to_user": {"reputation": 653, "user_id": 10981911, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l3kQk.jpg?s=128&g=1", "display_name": "manesioz", "link": "https://stackoverflow.com/users/10981911/manesioz"}, "edited": false, "score": 0, "creation_date": 1574932849, "post_id": 59079922, "comment_id": 104406539, "body": "If I understood your question, I am using jupyter notebook with 16GB of RAM"}], "owner": {"reputation": 191, "user_id": 6322924, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Xw12VD32U0A/AAAAAAAAAAI/AAAAAAAAAGI/-MIO7xKqH8s/photo.jpg?sz=128", "display_name": "Falco Peregrinus", "link": "https://stackoverflow.com/users/6322924/falco-peregrinus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574898372, "creation_date": 1574898372, "question_id": 59079922, "link": "https://stackoverflow.com/questions/59079922/kernel-restart-when-fitting-model", "title": "Kernel restart - when fitting model", "body": "<p>I have a 10GB root file with 30 columns and 60 million rows.\nI got an error when I tried to import all data at once in pandas dataframe. I managed it by reading it in chunks, performing some pre selection cut, and managing data types.</p>\n\n<p>After all that, I am finished with 2GB dataframe.\nBut still, when I tried to fit data to let\u2019s say logistic regression or Random Forest, my kernel keeps dying/restarting.\nAny solution?</p>\n"}, {"tags": ["python", "fasta"], "comments": [{"owner": {"reputation": 4056, "user_id": 10521959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DymiN.png?s=128&g=1", "display_name": "Yaakov Bressler", "link": "https://stackoverflow.com/users/10521959/yaakov-bressler"}, "edited": false, "score": 0, "creation_date": 1574898271, "post_id": 59079879, "comment_id": 104396791, "body": "what functionality does <code>k</code> have in your function?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1574898310, "post_id": 59079879, "comment_id": 104396803, "body": "How large is the resulting dictionary? I doubt it is the actual dictionary creation that takes a long time, but rather, something else you are doing."}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 2, "creation_date": 1574898356, "post_id": 59079879, "comment_id": 104396819, "body": "It is probably the i/o operation that takes most of the time, not the dictionary creation itself."}, {"owner": {"reputation": 3753, "user_id": 1718575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f36e2abcb1e57219a4b58d32c5bc6d?s=128&d=identicon&r=PG", "display_name": "NicholasM", "link": "https://stackoverflow.com/users/1718575/nicholasm"}, "edited": false, "score": 1, "creation_date": 1574899065, "post_id": 59079879, "comment_id": 104396988, "body": "You are creating a large string inside the loop; you could hoist that out. You can probably slice more efficiently, too, and use <code>collections.Counter</code>."}, {"owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "edited": false, "score": 0, "creation_date": 1574903945, "post_id": 59079879, "comment_id": 104397890, "body": "Have you tried benchmarking this against a simple shell version?  <code>fold -w2 filename | sort | uniq -c</code>?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11590533"}, "edited": false, "score": 0, "creation_date": 1574944424, "post_id": 59080225, "comment_id": 104412812, "body": "the first solution is already very efficient, I&#39;ll also try with suffix automation to see if it&#39;s even better"}], "tags": [], "owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": true, "score": 0, "last_activity_date": 1574904789, "last_edit_date": 1574904789, "creation_date": 1574901088, "answer_id": 59080225, "question_id": 59079879, "link": "https://stackoverflow.com/questions/59079879/optimize-python-dictionary-creation-for-counting-substring-occurrences/59080225#59080225", "title": "Optimize python dictionary creation for counting substring occurrences", "body": "<p>There is a trivial improvement to make: you're doing <code>str(record.seq)</code> in the inner loop. This operation takes O(n) time where n is the length of the string, and you're doing it O(n) times, so the time complexity of the algorithm O(n\u00b2). But the string is the same each time, so you should just build it once in the outer loop:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    for record in SeqIO.parse(file, \"fasta\"):\n        seq_str = str(record.seq)\n        for i in range(len(seq_str) - k + 1):\n            kseq = seq_str[i:i + k]\n            # ...\n</code></pre>\n\n<p>After applying this fix, this straightforward algorithm has a running time of O(nk) where n is the length of the string, and k is the length of the substrings you want to count. If that's good enough, then great, you can stop reading here.</p>\n\n<hr>\n\n<p>A more efficient solution is possible using a <a href=\"https://cp-algorithms.com/string/suffix-automaton.html\" rel=\"nofollow noreferrer\">suffix automaton</a>, which is the smallest <a href=\"https://en.wikipedia.org/wiki/Deterministic_finite_automaton\" rel=\"nofollow noreferrer\">deterministic finite automaton</a> accepting all suffixes of the string:</p>\n\n<blockquote>\n  <p>Intuitively a suffix automaton can be understood as compressed form of all substrings of a given string. An impressive fact is, that the suffix automaton contains all this information in a highly compressed form. For a string of length n it only requires O(n) memory. Moreover, it can also be build in O(n) time (if we consider the size k of the alphabet as a constant), otherwise both the memory and the time complexity will be O(n log k).</p>\n</blockquote>\n\n<p>The idea is to construct a suffix automaton for <code>record.seq</code>, and then use it to count occurrences for every possible substring of length k.</p>\n\n<p>It takes O(n) time to <a href=\"https://cp-algorithms.com/string/suffix-automaton.html#toc-tgt-3\" rel=\"nofollow noreferrer\">build the suffix automaton</a>, and then O(k) time to <a href=\"https://cp-algorithms.com/string/suffix-automaton.html#toc-tgt-20\" rel=\"nofollow noreferrer\">count occurrences for each substring</a>. There are a^k possible substrings, where a is the size of the alphabet (5 in your example), so the overall running time for your problem will be O(n + 5^k). If n is quite a lot larger than 5^k, then this could be a significant speedup; but almost certainly not if k is very small.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11590533"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 59080225, "answer_count": 1, "score": 2, "last_activity_date": 1574904789, "creation_date": 1574898057, "last_edit_date": 1574899170, "question_id": 59079879, "link": "https://stackoverflow.com/questions/59079879/optimize-python-dictionary-creation-for-counting-substring-occurrences", "title": "Optimize python dictionary creation for counting substring occurrences", "body": "<p>The function receives the name of a file containing thousands of lines and a K value.\nThe function must divide each line of the file in K sequences and create a dictionary in which the sequence is the key and the value is the number of times that is present in the file.\n<strong>The problem is that it takes a long time (75s).</strong></p>\n\n<pre><code>def dictionary_creator(file, k):\n    dictionary = dict()\n    for record in SeqIO.parse(file, \"fasta\"):\n        for i in range(len(record.seq) - k + 1):\n            kseq = str(record.seq)[i:i + k]\n            if kseq in dictionary:\n                dictionary[kseq] += 1\n            else:\n                dictionary[kseq] = 1\n    return dictionary\n</code></pre>\n\n<p>EXAMPLE:</p>\n\n<p>sampleC.fa</p>\n\n<blockquote>\n  <p>D00535:66:CCE77ANXX:5:2306:5138:1999 1:N:0:ATTACTCG+GTACTGAC\n  AGTCTGAGTAGCGTCGTGGTATTCCTGAAAGGNNNNNNNNNNNTNNNNNNNNNNNTGTTATGTTTACTCCTACGAATNTGATGGCGAAGTGGGCTNTTGCT\n  D00535:66:CCE77ANXX:5:2306:6815:1999 1:N:0:ATTACTCG+GTACTGAC\n  GATGATCTGCCGAAGCTCAGGAATTCGGTCGTNNNNNNNNNNNGNNNNNNNNNNNCTCTGGTCCAGCCTTTCCACGTNCTCCACTCGCATGCCGANGATGA\n  D00535:66:CCE77ANXX:5:2306:17450:1999 1:N:0:ATTACTCG+GTACTGAC\n  GGCTTCATGCTGCAGCGTGGCCTCCTCCAGGTNNNNNNNNNNNTNNNNNNNNNNNGCCTCTCTCTTCTTGTTCATCTNGATCTGGGCTGAAGTGGNNCCGC\n  D00535:66:CCE77ANXX:5:2306:18797:2000 1:N:0:ATTACTCG+GTACTGAC\n  AAGCTGTTAGTGAAATAAATGATCCTATAGAANNNNNNNNNNNTNNNNNNNNGNNAGCATCTGGGTAGTCTGAGTAGNGTCGTGGTATTCCTGAANGGCCC\n  D00535:66:CCE77ANXX:5:2306:1210:2146 1:N:0:ATTACTCG+GTACTGAC\n  GTCATGTCTTCCTTTTCAAAAAACTTCAGTTTTGTAGATTTTCGTTGAAACAGCAAGCGAAGCACCAGGTCCTCTCTTCTCATCGGAGCGTCTGCAGATCG</p>\n</blockquote>\n\n<p>Python:</p>\n\n<pre><code>dictionary_creator('sampleC.fa',2)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>{'AG': 26, 'GT': 31, 'TC': 42, 'CT': 38, 'TG': 32, 'GA': 24, 'TA': 13, 'GC': 25, 'CG': 18, 'GG': 20, 'AT': 22, 'TT': 27, 'CC': 20, 'AA': 23, 'GN': 5, 'NN': 79, 'NT': 6, 'TN': 9, 'AC': 7, 'CA': 19, 'NG': 7, 'NC': 3, 'AN': 3, 'NA': 1}\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tkinter-canvas", "traveling-salesman"], "answers": [{"tags": [], "owner": {"reputation": 955, "user_id": 4134847, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/513b1d7f1e558bd8b063bfcb508a9e5b?s=128&d=identicon&r=PG", "display_name": "Daniel Huckson", "link": "https://stackoverflow.com/users/4134847/daniel-huckson"}, "is_accepted": true, "score": 1, "last_activity_date": 1574898644, "creation_date": 1574898644, "answer_id": 59079953, "question_id": 59079870, "link": "https://stackoverflow.com/questions/59079870/drawing-and-clearing-several-lines-in-tkinter/59079953#59079953", "title": "Drawing and Clearing several lines in Tkinter", "body": "<p>Not sure if this is what you want, you have not shown enough code.\nAdd the lines to a list then you can delete the items in the list at another time.</p>\n\n<pre><code>lines = []\nfor i in range(0, numCities - 1):\n    x1 = points[bestOrder[i]][0]\n    y1 = points[bestOrder[i]][1]\n    x2 = points[bestOrder[i + 1]][0]\n    y2 = points[bestOrder[i + 1]][1]\n    lines.append(w.create_line(x1, y1, x2, y2))\n\n\nfor line in lines:\n    w.delete(line)\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11110527, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z8jaGMJs9Jw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reJ-CUYrhOPDRXfmQF27PnmmYyByA/mo/photo.jpg?sz=128", "display_name": "Jordan Lejman", "link": "https://stackoverflow.com/users/11110527/jordan-lejman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 59079953, "answer_count": 1, "score": 0, "last_activity_date": 1574993553, "creation_date": 1574897940, "last_edit_date": 1574993553, "question_id": 59079870, "link": "https://stackoverflow.com/questions/59079870/drawing-and-clearing-several-lines-in-tkinter", "title": "Drawing and Clearing several lines in Tkinter", "body": "<p>So I'm working on developing a genetic algorithm for Traveling Salesman Problem in Python currently using Tkinter to display my results. The algorithm is going well, but I need to figure out some issues with displaying the results. </p>\n\n<p>Basically, I have it generate a random set of points and display them in the window, then when I have it run the solution, it creates lines connecting all the points in the best order it finds in a single set (or \"generation\") of orders. From there, it should have the option to generate the next generation which will clear all current lines, leaving the points visible, then draw new lines based on the next generation's best solution. Currently, however I'm having trouble determining the best way to clear the lines without clearing the points.</p>\n\n<p>This is the code I'm using to generate the lines:</p>\n\n<pre><code>    for i in range(0, numCities-1):\n        x1 = points[bestOrder[i]][0]\n        y1 = points[bestOrder[i]][1]\n        x2 = points[bestOrder[i+1]][0]\n        y2 = points[bestOrder[i+1]][1]\n        w.create_line(x1, y1, x2, y2)\n</code></pre>\n\n<p>In this example, 'w' represents my canvas and 'numCities' is a value assigned in the window to determine how many points to create. I plan to tie the clearing of the lines to a function that will be called when a button is pressed.</p>\n\n<p>Any suggestions for the best way to achieve what I'm trying to do here? Even if it requires restructuring how I've got the line generating working, I'm up for anything.</p>\n"}, {"tags": ["python", "sequential", "one-hot-encoding", "dummy-variable"], "answers": [{"tags": [], "owner": {"reputation": 450, "user_id": 11099842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7d07450dd1e1fa9b7fd8cd48fa73a55?s=128&d=identicon&r=PG&f=1", "display_name": "Al-Baraa El-Hag", "link": "https://stackoverflow.com/users/11099842/al-baraa-el-hag"}, "is_accepted": true, "score": 0, "last_activity_date": 1574901718, "creation_date": 1574901718, "answer_id": 59080297, "question_id": 59079773, "link": "https://stackoverflow.com/questions/59079773/how-to-encode-dummy-variables-in-python-for-sequential-data-such-that-the-same-o/59080297#59080297", "title": "How to encode dummy variables in Python for sequential data such that the same order is maintained always?", "body": "<p>So if you pass the categories in the exact order that you want, get_dummies will maintain it regardless. The code shows how its done. </p>\n\n<pre><code>In[1]: from pandas.api.types import CategoricalDtype\n\n       splice1 = pd.Series(list('bdcccb'))\n       splice1 = splice1.astype(CategoricalDtype(categories=['a','c','b','d']))\n\n       splice2 = pd.Series(list('accd'))\n       splice2 = splice2.astype(CategoricalDtype(categories=['a','c','b','d']))\n\nIn[2]: splice1_dummy = pd.get_dummies(splice1)\nOut[2]:     a   c   b   d\n        0   0   0   1   0\n        1   0   0   0   1\n        2   0   1   0   0\n        3   0   1   0   0\n        4   0   1   0   0\n        5   0   0   1   0\n\nIn[3]:  splice2_dummy = pd.get_dummies(splice2)\nOut[3]:     a   c   b   d\n        0   1   0   0   0\n        1   0   1   0   0\n        2   0   1   0   0\n        3   0   0   0   1\n</code></pre>\n\n<p><strong><em>Although, I still haven't solved the issue of which variable to drop.</em></strong> </p>\n"}], "owner": {"reputation": 450, "user_id": 11099842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7d07450dd1e1fa9b7fd8cd48fa73a55?s=128&d=identicon&r=PG&f=1", "display_name": "Al-Baraa El-Hag", "link": "https://stackoverflow.com/users/11099842/al-baraa-el-hag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 59080297, "answer_count": 1, "score": 1, "last_activity_date": 1574901718, "creation_date": 1574897132, "last_edit_date": 1574900834, "question_id": 59079773, "link": "https://stackoverflow.com/questions/59079773/how-to-encode-dummy-variables-in-python-for-sequential-data-such-that-the-same-o", "title": "How to encode dummy variables in Python for sequential data such that the same order is maintained always?", "body": "<p>A simple issue really, I have a dataset that is too large to hold in to memory and thus must load it then perform machine learning on it sequentially. One of my features is categorical and I would like to do convert it to a dummy variable, but I have two issues:</p>\n\n<p>1) Not all of the categories are present during a splice. So I would like to add the extra categories even if they are not presented in the current slice</p>\n\n<p>2) The columns would have to maintain the same order as they were before.</p>\n\n<hr>\n\n<hr>\n\n<p>This is an example of the problem:</p>\n\n<pre><code>In[1]: import pandas as pd\n        splice1 = pd.Series(list('bdcccb'))\nOut[1]: 0    b\n        1    d\n        2    c\n        3    c\n        4    c\n        5    b \n        dtype: object\n\nIn[2]: splice2 = pd.Series(list('accd'))\nOut[2]: 0    a\n        1    c\n        2    c\n        3    d\n        dtype: object\n\nIn[3]: splice1_dummy = pd.get_dummies(splice1)\nOut[3]:     b   c   d\n          0 1   0   0\n          1 0   0   1\n          2 0   1   0\n          3 0   1   0\n          4 0   1   0\n          5 1   0   0\n\nIn[4]: splice2_dummy = pd.get_dummies(splice2)\nOut[4]:     a   c   d\n          0 1   0   0\n          1 0   1   0\n          2 0   1   0\n          3 0   0   1\n</code></pre>\n\n<hr>\n\n<p>Edit: How to deal with the N-1 rule. A dummy variable has to be dropped, but which one to drop? Every new splice would hold different categorical variables.</p>\n"}, {"tags": ["python", "algorithm", "dictionary", "mesh", "finite-element-analysis"], "comments": [{"owner": {"reputation": 1809, "user_id": 3715819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUGc0.jpg?s=128&g=1", "display_name": "Rockcat", "link": "https://stackoverflow.com/users/3715819/rockcat"}, "edited": false, "score": 1, "creation_date": 1574906191, "post_id": 59079755, "comment_id": 104398256, "body": "Is A: [1,2,4,5] correct? Should not be [1,2,5,4] to keep consistent orientation?"}, {"owner": {"reputation": 21, "user_id": 5727930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYx6I.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/5727930/cosmin"}, "reply_to_user": {"reputation": 1809, "user_id": 3715819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUGc0.jpg?s=128&g=1", "display_name": "Rockcat", "link": "https://stackoverflow.com/users/3715819/rockcat"}, "edited": false, "score": 0, "creation_date": 1574936360, "post_id": 59079755, "comment_id": 104408499, "body": "yes that is correct @Rockcat, I have edited the post to solve the error, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5727930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYx6I.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/5727930/cosmin"}, "edited": false, "score": 0, "creation_date": 1574937501, "post_id": 59080931, "comment_id": 104409104, "body": "The contraint of the problem is not the angle, but the edges. I have a list of edges that I do not want to merge, any other edges that are not in the list must be merged. The angle threshold is more like a check to see if the elements are in the same plane, if the angle between them is higher than the threshold they must not be merged even if the edge allows for a merge."}, {"owner": {"reputation": 1809, "user_id": 3715819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUGc0.jpg?s=128&g=1", "display_name": "Rockcat", "link": "https://stackoverflow.com/users/3715819/rockcat"}, "reply_to_user": {"reputation": 21, "user_id": 5727930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYx6I.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/5727930/cosmin"}, "edited": false, "score": 0, "creation_date": 1574940883, "post_id": 59080931, "comment_id": 104410976, "body": "Of course... when I say  &quot;store the dihedral angles&quot; I mean &quot;Store the edge and its dihedral angle&quot; and &quot;choose the edge with minimun dihedral angle&quot; to &quot;merge elements that share that edge&quot;"}, {"owner": {"reputation": 21, "user_id": 5727930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYx6I.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/5727930/cosmin"}, "edited": false, "score": 0, "creation_date": 1574948900, "post_id": 59080931, "comment_id": 104415209, "body": "what happens when multiple elements have the same angles (like they are on the same plane surface) ? don&#39;t I need to remove the elements that have merged ?"}, {"owner": {"reputation": 1809, "user_id": 3715819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUGc0.jpg?s=128&g=1", "display_name": "Rockcat", "link": "https://stackoverflow.com/users/3715819/rockcat"}, "reply_to_user": {"reputation": 21, "user_id": 5727930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYx6I.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/5727930/cosmin"}, "edited": false, "score": 0, "creation_date": 1574958781, "post_id": 59080931, "comment_id": 104420420, "body": "When multiple elements have the same angle, the minimum is not unique. You merge &quot;any&quot; element, and then probably you will merge the other later, because step 4 is a loop that repeat from step 2. Maybe that after merging the first edge and updating the angles around the new element you desist of merging because new element has increased its angle, but that&#39;s normal."}], "tags": [], "owner": {"reputation": 1809, "user_id": 3715819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wUGc0.jpg?s=128&g=1", "display_name": "Rockcat", "link": "https://stackoverflow.com/users/3715819/rockcat"}, "is_accepted": false, "score": 1, "last_activity_date": 1574929457, "last_edit_date": 1574929457, "creation_date": 1574907943, "answer_id": 59080931, "question_id": 59079755, "link": "https://stackoverflow.com/questions/59079755/how-to-merge-values-from-dictionary-on-different-keys-while-iterating-through-it/59080931#59080931", "title": "How to merge values from dictionary on different keys while iterating through it ? Finite element mesh merge algorithm", "body": "<p>It can be done updating the elements on-the-fly. But I should not recommend it because your algorithm will depend on the order you iterate the elements, and may be not deterministic. This mean that two meshes with identical geometry and topology could give different results depending on the labels you use.</p>\n\n<p>The recommendation is :</p>\n\n<ol>\n<li>Compute all dihedral angles in your mesh. Store those that are under your merge threshold. </li>\n<li>Find the minimum angle and merge the two elements that share that edge.</li>\n<li>Update the dihedral angles around the new element. This include removing angles from elements that have merged, and optionally include new angles for the new element. </li>\n<li>Repeat from step 2 until every angle is over the threshold, or until the number of elements is the desired.</li>\n</ol>\n\n<p>The optional part in step 3 allows to determine the aggressiveness of your method. Sometimes it is better not to include new angles and repeat several times the complete process to avoid focus the reduction too much in a zone. </p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 5727930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYx6I.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/5727930/cosmin"}, "edited": false, "score": 0, "creation_date": 1575221413, "post_id": 59097337, "comment_id": 104484332, "body": "Interesting idea for iterating on common edges. I&#39;ll expand on this and check it out on my model, and if I end up using this I will be sure to mention you. Thanks!"}], "tags": [], "owner": {"reputation": 4252, "user_id": 10562, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/89f032bea7ea14c8157aaa72a243bd06?s=128&d=identicon&r=PG", "display_name": "Paddy3118", "link": "https://stackoverflow.com/users/10562/paddy3118"}, "is_accepted": false, "score": 0, "last_activity_date": 1574987512, "last_edit_date": 1574987512, "creation_date": 1574985874, "answer_id": 59097337, "question_id": 59079755, "link": "https://stackoverflow.com/questions/59079755/how-to-merge-values-from-dictionary-on-different-keys-while-iterating-through-it/59097337#59097337", "title": "How to merge values from dictionary on different keys while iterating through it ? Finite element mesh merge algorithm", "body": "<p>I thought about how to find adjacent elements by finding elements that shared the same edge - but I had to have edges as a pair of end indices in sorted order.\nI could then work out <code>touches</code> (should work for triangle elements too).</p>\n\n<p>I introduce <code>dont_merge</code> as a set of ordered edge indices that cannot be merged away then merge into <code>merged_ordered_edges</code> and finally convert back to the mesh format of your original with edges going around each element.</p>\n\n<p>I have commented out a call to check_angle(name1, name2) which you would have to add in. I assume that the check would succeed every time by the comment.</p>\n\n<pre><code># -*- coding: utf-8 -*-\n\"\"\"\nFinite element mesh merge algorithm\n    https://stackoverflow.com/questions/59079755/how-to-merge-values-from-dictionary-on-different-keys-while-iterating-through-it\n\nCreated on Thu Nov 28 21:59:07 2019\n\n@author: Paddy3118\n\"\"\"\n\n#%%\nmesh_dict={'A': [1,2,5,4], 'B':[2,3,6,5], 'C':[4,5,8,7],'D':[5,6,9,8]}\n# \nordered_edges = {k: {tuple(sorted(endpoints))\n                     for endpoints in zip(v, v[1:] + v[:1])}\n                 for k, v in mesh_dict.items()}\n# = {'A': {(1, 2), (1, 4), (2, 5), (4, 5)},\n#    'B': {(2, 3), (2, 5), (3, 6), (5, 6)},\n#    'C': {(4, 5), (4, 7), (5, 8), (7, 8)},\n#    'D': {(5, 6), (5, 8), (6, 9), (8, 9)}}\n\n#%%\nfrom collections import defaultdict\n\ntouching = defaultdict(list)\nfor name, edges in ordered_edges.items():\n    for edge in edges:\n        touching[edge].append(name)\ntouches = {edge: names \n           for edge, names in touching.items()\n           if len(names) &gt; 1}\n# = {(2, 5): ['A', 'B'],\n#    (4, 5): ['A', 'C'],\n#    (5, 6): ['B', 'D'],\n#    (5, 8): ['C', 'D']}\n\n#%%\ndont_merge = set([(4, 5), (23, 24)])\nfor edge, (name1, name2) in touches.items():\n    if (edge not in dont_merge\n        and ordered_edges[name1] and ordered_edges[name2]\n        #and check_angle(name1, name2)\n        ):\n        # merge\n        ordered_edges[name1].update(ordered_edges[name2])\n        ordered_edges[name1].discard(edge)  # that edge is merged away\n        ordered_edges[name2] = set()  # gone\nmerged_ordered_edges = {}\nfor name, edges in ordered_edges.items():\n    if edges:\n        merged_ordered_edges[name] = sorted(edges)\n        edges.clear()  # Only one name of shared object used\n# = {'A': [(1, 2), (1, 4), (2, 3), (3, 6), (4, 5), (5, 6)],\n#    'C': [(4, 5), (4, 7), (5, 6), (6, 9), (7, 8), (8, 9)]}\n## You would then need a routine to change the ordered edges format \n## back to your initial mesh_dict format that goes around the periphery\n## (Or would you)?\n\n#%%\ndef ordered_to_periphery(edges):\n    \"\"\"\nIn [124]: ordered_to_periphery([(1, 2), (1, 4), (2, 3), (3, 6), (4, 5), (5, 8), (6, 9), (8, 9)])\nOut[124]: [(1, 2), (2, 3), (3, 6), (6, 9), (9, 8), (8, 5), (5, 4), (4, 1)]\n    \"\"\"\n    p = [edges.pop(0)] if edges else []\n    last = p[-1][-1] if p else None\n    while edges:\n        for n, (i, j) in enumerate(edges):\n            if i == last:\n                p.append((i, j))\n                last = j\n                edges.pop(n)\n                break\n            elif j == last:\n                p.append((j, i))\n                last = i\n                edges.pop(n)\n                break\n\n    return p\n\n#%%\nmerged_mesh = {name: ordered_to_periphery(edges)\n               for name, edges in merged_ordered_edges.items()}\n\n# = {'A': [(1, 2), (2, 3), (3, 6), (6, 5), (5, 4), (4, 1)],\n#    'C': [(4, 5), (5, 6), (6, 9), (9, 8), (8, 7), (7, 4)]}\n</code></pre>\n\n<p>P.S. Any chance of a mention if you use this?</p>\n"}], "owner": {"reputation": 21, "user_id": 5727930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gYx6I.jpg?s=128&g=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/5727930/cosmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1574987512, "creation_date": 1574897034, "last_edit_date": 1574936217, "question_id": 59079755, "link": "https://stackoverflow.com/questions/59079755/how-to-merge-values-from-dictionary-on-different-keys-while-iterating-through-it", "title": "How to merge values from dictionary on different keys while iterating through it ? Finite element mesh merge algorithm", "body": "<p>I am working on my phd and I am stuck on this step. The problem consists of implementing a finite element mesh merging algorithm and maybe my solution is not the best, so if you think of a better one I am open to suggestions.</p>\n\n<p>Regarding the problem: I have a finite element mesh, which is composed of QUAD elements (squares with 4 nodes) and TRIA elements (triangles with 3 nodes). These elements are connected on edges, an edge is defined by 2 nodes (edge=[node1,node2]). I have a list of edges that I do not want to merge, but for the rest of the edges I want the program to merge the elements with the common edge.</p>\n\n<p>As a simple example: assume I have 4 elements A,B,C and D (QUAD elms, defined by 4 nodes). The mesh looks something like this</p>\n\n<pre><code>1--------------2----------------3  \n|              |                |      \n|      A       |        B       |   \n|              |                |  \n4--------------5----------------6\n|              |                |\n|      C       |        D       |\n|              |                |\n7--------------8----------------9\n</code></pre>\n\n<p>These elements are defined in a dictionary:   </p>\n\n<p><code>mesh_dict={'A': [1,2,5,4], 'B':[2,3,6,5], 'C':[4,5,8,7],'D':[5,6,9,8]}</code></p>\n\n<p>I also have a dictionary for the node position with values for X,Y,Z coordinates. Let's say I want to merge on edge [4,5] and [5,6].</p>\n\n<p>My solution is the following: I start iterating through the elements in mesh_dict, I find the neighbors of the element with a function get_elm_neighbors(element), I check the angle between elements with function check_angle(elm1,elm2,angle) (I need the angle between elements to be below a certain threshold), than I check for which edge should be merged by get_edge_not_bar(), than I have a function which updates the nodes for the first element to complete the merging.</p>\n\n<pre><code>for e in mesh_dict:\n        if e not in delete_keys:\n            neighbors=get_elm_neighbors(e)\n            for key,value in neighbors.items():\n                check = check_angle(e,key,0.5)\n                if check:\n                    nodes = get_edge_not_bar(value)\n                    if nodes:\n                        new_values=merge_elms(e,key,nodes)\n                        d = {e: new_values}\n                        mesh_dict_merged.update(d)\n                        mesh_dict.update(d)\n                        delete_keys.append(key)\n</code></pre>\n\n<p>My problem is that I need to delete the elements that remain after the merging. For example in the above case I start on element A and I merge on the edge [4,5], after that the elm A definition will be <code>'A':[1,2,8,7]</code>, then I need to delete elm C and proceed with the iteration. </p>\n\n<p>My solution was to create a duplicate dictionary <code>mesh_dict_merge</code> in which I update the values for the elements and then delete the ones that I don't want to while iterating through the original dict but taking into consideration the deleted elements (deleted_keys list) to not go through them </p>\n\n<p>I guess my question is if there is a way to iterate through the dictionary, update values and delete keys while doing so ? Or if there is a better solution to approach this problem, maybe iterate through nodes instead of elements ?</p>\n\n<blockquote>\n  <p>EDIT: changed 'A': [1,2,4,5] to 'A': [1,2,5,4]</p>\n</blockquote>\n"}, {"tags": ["python", "jupyter-notebook"], "answers": [{"tags": [], "owner": {"reputation": 627, "user_id": 2059078, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ad0a5003c5624bc14d90132d964ba56d?s=128&d=identicon&r=PG", "display_name": "MiniMe", "link": "https://stackoverflow.com/users/2059078/minime"}, "is_accepted": false, "score": 0, "last_activity_date": 1574897755, "creation_date": 1574897755, "answer_id": 59079841, "question_id": 59079711, "link": "https://stackoverflow.com/questions/59079711/jupyter-is-not-executing-the-scratchpad-cell/59079841#59079841", "title": "Jupyter is not executing the scratchpad cell", "body": "<p>I disabled all the extensions that could break Jupyter (as per the nbextensions tab) and then I enabled then one by one to see which one is breaking the scratchpad.\nMagically they are all working now, including the scratchpad</p>\n"}], "owner": {"reputation": 627, "user_id": 2059078, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ad0a5003c5624bc14d90132d964ba56d?s=128&d=identicon&r=PG", "display_name": "MiniMe", "link": "https://stackoverflow.com/users/2059078/minime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574897755, "creation_date": 1574896758, "question_id": 59079711, "link": "https://stackoverflow.com/questions/59079711/jupyter-is-not-executing-the-scratchpad-cell", "title": "Jupyter is not executing the scratchpad cell", "body": "<p>I am facing an odd issue\nI just downloaded WinPython and installed the community notebook extensions\nThe scratchpad extension comes up with Ctrl+B but when I hit Ctrl+Enter Jupyter executes the cell that has focus in the notebook not the scratchpad cell</p>\n\n<p>Any idea why is this is happening?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1574896846, "post_id": 59079699, "comment_id": 104396460, "body": "Maybe you want the print statement indented in the <code>main()</code> function?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1574896872, "post_id": 59079699, "comment_id": 104396464, "body": "move <code>print(f&quot;...&quot;)</code> after <code>sin = ...</code>"}, {"owner": {"reputation": 1, "user_id": 10502800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YZw1q7zGMIY/AAAAAAAAAAI/AAAAAAAAE5k/RkEnu3gCaFs/photo.jpg?sz=128", "display_name": "sidra rizvi", "link": "https://stackoverflow.com/users/10502800/sidra-rizvi"}, "edited": false, "score": 0, "creation_date": 1574897170, "post_id": 59079699, "comment_id": 104396521, "body": "That worked. Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10502800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YZw1q7zGMIY/AAAAAAAAAAI/AAAAAAAAE5k/RkEnu3gCaFs/photo.jpg?sz=128", "display_name": "sidra rizvi", "link": "https://stackoverflow.com/users/10502800/sidra-rizvi"}, "edited": false, "score": 0, "creation_date": 1574897242, "post_id": 59079741, "comment_id": 104396551, "body": "How do I incorporate  he/she in my sentence based on the answer provided by the input, female or male?"}, {"owner": {"reputation": 1671, "user_id": 1690893, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7kFv9.jpg?s=128&g=1", "display_name": "A.Raouf", "link": "https://stackoverflow.com/users/1690893/a-raouf"}, "reply_to_user": {"reputation": 1, "user_id": 10502800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YZw1q7zGMIY/AAAAAAAAAAI/AAAAAAAAE5k/RkEnu3gCaFs/photo.jpg?sz=128", "display_name": "sidra rizvi", "link": "https://stackoverflow.com/users/10502800/sidra-rizvi"}, "edited": false, "score": 0, "creation_date": 1574897412, "post_id": 59079741, "comment_id": 104396590, "body": "you can add <code>pronoun = &#39;he&#39; if sex==&#39;m&#39; else &#39;she&#39;</code> and edit <code>print(f&#39;{name} is a {age} years old {sex}. {pronoun} was born in {place} and her SIN # is {sin}&#39;)</code>"}], "tags": [], "owner": {"reputation": 1671, "user_id": 1690893, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7kFv9.jpg?s=128&g=1", "display_name": "A.Raouf", "link": "https://stackoverflow.com/users/1690893/a-raouf"}, "is_accepted": false, "score": 2, "last_activity_date": 1574896948, "creation_date": 1574896948, "answer_id": 59079741, "question_id": 59079699, "link": "https://stackoverflow.com/questions/59079699/my-python-code-is-not-executing-a-function-program-i-coded/59079741#59079741", "title": "My python code is not executing a function (program) I coded", "body": "<p>just make sure that <code>print(f'{name} is a {age} years old {sex}. He was born in {place} and her SIN # is {sin}')</code> indented right inside the function</p>\n"}, {"tags": [], "owner": {"reputation": 6288, "user_id": 235146, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a2ffcadce1f8df6419084de7e0aad6a0?s=128&d=identicon&r=PG", "display_name": "Glycerine", "link": "https://stackoverflow.com/users/235146/glycerine"}, "is_accepted": false, "score": 1, "last_activity_date": 1574897212, "creation_date": 1574897212, "answer_id": 59079781, "question_id": 59079699, "link": "https://stackoverflow.com/questions/59079699/my-python-code-is-not-executing-a-function-program-i-coded/59079781#59079781", "title": "My python code is not executing a function (program) I coded", "body": "<p>move the print state into the function. The current indentation means <code>main()</code> (containing your <code>name</code> var) is not in the same scope as the print function:</p>\n\n<pre><code>from datetime import datetime\n\ndef main():\n    name = input('Please enter your name:')\n\n    sex = input('Please enter your sex, Male (M) or Female (F) or Non-Binanry(N):')\n\n    birthday = input ('Enter your date of birth in YYYY-mm-dd format:')\n\n    birthday1 = datetime.strptime(birthday, '%Y-%m-%d')\n    age =  ((datetime.today() - birthday1).days/365)\n\n    place = input('What City were you born in:')\n\n    try:\n        sin = int(input('What is your sin number:'))\n    except ValueError:\n        print('Error:Please enter a number')\n\n    # Indent here to inside the function\n    print(f'{name} is a {age} years old {sex}. He was born in {place} and her SIN # is {sin}')\n</code></pre>\n\n<p>Hope it helps</p>\n"}], "owner": {"reputation": 1, "user_id": 10502800, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YZw1q7zGMIY/AAAAAAAAAAI/AAAAAAAAE5k/RkEnu3gCaFs/photo.jpg?sz=128", "display_name": "sidra rizvi", "link": "https://stackoverflow.com/users/10502800/sidra-rizvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574900013, "creation_date": 1574896700, "last_edit_date": 1574900013, "question_id": 59079699, "link": "https://stackoverflow.com/questions/59079699/my-python-code-is-not-executing-a-function-program-i-coded", "title": "My python code is not executing a function (program) I coded", "body": "<p>I created a program that asks a bunch of input questions and prints out the following line, for example, Marc Gibbons is a 103 year old male. He was born in Ottawa and his SIN # is 1234567890. </p>\n\n<p>But when I keep getting an error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/oNpxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oNpxJ.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>from datetime import datetime\n\ndef main():\nname = input('Please enter your name:')\n\nsex = input('Please enter your sex, Male (M) or Female (F) or Non-Binanry(N):')\n\nbirthday = input ('Enter your date of birth in YYYY-mm-dd format:')\n\nbirthday1 = datetime.strptime(birthday, '%Y-%m-%d')\nage =  ((datetime.today() - birthday1).days/365)\n\nplace = input('What City were you born in:')\n\n    try:\n        sin = int(input('What is your sin number:'))\n    except ValueError:\n        print('Error:Please enter a number')\n\nprint(f'{name} is a {age} years old {sex}. He was born in {place} and her SIN # is {sin}')\n\n# Do not edit below\nif __name__ == '__main__': main()\n</code></pre>\n"}, {"tags": ["python", "for-loop", "if-statement"], "comments": [{"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 2, "creation_date": 1574896787, "post_id": 59079675, "comment_id": 104396448, "body": "The example 1...9 doesn&#39;t make sense to me. Why is the first ascending sublist <code>[1,2,3]</code> instead of <code>[1,2,3,5]</code>?"}, {"owner": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "reply_to_user": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1574898343, "post_id": 59079675, "comment_id": 104396813, "body": "@JeremyFisher woops, did not read that through that properly. [5, 7, 10, 4, 2, 7, 8, 1, 3] would be a better example, I would like it to return [10, 7, 5, 4, 8, 7, 2, 3, 1]"}, {"owner": {"reputation": 520, "user_id": 5003570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c076b36bd93429f5d269358182972c4b?s=128&d=identicon&r=PG&f=1", "display_name": "Mats Wichmann", "link": "https://stackoverflow.com/users/5003570/mats-wichmann"}, "edited": false, "score": 0, "creation_date": 1574898522, "post_id": 59079675, "comment_id": 104396863, "body": "There&#39;s a lot going on here that causes problems. Misunderstanding: calling the reverse method on a list reverses it in place, you expect it to be returned. If you want sublst to be the result of reversing something, use slicing: <code>sublst = something[::-1]</code>.  The problems in this snippet are deeper: you don&#39;t really collect a sublist, you&#39;re doing odd things with how you decide elements out of order, etc.  Advice: do this in much smaller chunks and build up to the solution! It will leave you less confused."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574899559, "post_id": 59079933, "comment_id": 104397088, "body": "Sorry for the confusion but this wouls be a better example for what I am looking for, given the list: [5, 7, 10, 4, 2, 7, 8, 1, 3]. I would like it to return [10, 7, 5, 4, 8, 7, 2, 3, 1]."}, {"owner": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574900420, "post_id": 59079933, "comment_id": 104397247, "body": "Thank you for the reply, I don&#39;t want touch the sublists that are already in descending order. It&#39;s just the sublists that are in ascending order which need to be reversed. The first output is the closest outcome to what I would like to have."}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574900679, "post_id": 59079933, "comment_id": 104397294, "body": "@farhan I updated the result list, but you can get a lot of combination, now I placed the one you need in the first place."}, {"owner": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574900962, "post_id": 59079933, "comment_id": 104397346, "body": "Thank you so much for the reply, can you clarify how I can get just the first outcome to print? I don&#39;t need to use random.randint."}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574901089, "post_id": 59079933, "comment_id": 104397371, "body": "@farhan You need use random. I make addition to get your exact result from n-th try. See my update"}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574901629, "post_id": 59079933, "comment_id": 104397478, "body": "@farhan you either need to use random, or you have to give the sublist&#39;s first member."}, {"owner": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574901773, "post_id": 59079933, "comment_id": 104397504, "body": "ah okay, but the issue now is that I have to put in my desired/predicted outcome at the &quot;bl&quot; spot. Is there any way to get my desired outcome without having to put it in? I want the function to work so that the list of numbers that need their sublists to be reversed could be put in by the user without touching the inside of the function."}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574902463, "post_id": 59079933, "comment_id": 104397632, "body": "@farhan this is another question already. Please accept my answer, create a new question regarding the new topic and I answer to it happily."}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "edited": false, "score": 0, "creation_date": 1574903007, "post_id": 59079933, "comment_id": 104397737, "body": "@farhan anyway you can get input with <code>input()</code>"}, {"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1575307874, "post_id": 59079933, "comment_id": 104514064, "body": "@Geeeocode This solution basically randomizes the list until you reach the desired output. This isn&#39;t sufficient because a) you don&#39;t know the desired output on an unknown input list and b) the algorithm runtime is O(n!)."}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "reply_to_user": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1575314121, "post_id": 59079933, "comment_id": 104516627, "body": "@JeremyFisher No, it only randomly choose the sublists&#39; first element as it is not determined by OP. So we need somehow chose them."}], "tags": [], "owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "is_accepted": false, "score": 0, "last_activity_date": 1574901183, "last_edit_date": 1574901183, "creation_date": 1574898454, "answer_id": 59079933, "question_id": 59079675, "link": "https://stackoverflow.com/questions/59079675/how-to-make-ascending-sublists-in-a-list-of-integers-go-in-descending-order/59079933#59079933", "title": "How to make ascending sublists in a list of integers go in descending order?", "body": "<p>It was a bit challenging to figure out what you need.\nI think you want something like as follows:</p>\n\n<pre><code>import random\n\nl = [5, 7, 10, 4, 2, 7, 8, 1, 3]\nbl =[]\n\nwhile True:\n    if len(l) == 0:\n        break\n    r = random.randint(0, len(l))\n    bl.extend(l[r:None:-1])\n    l = l[r+1:]\n\nprint(bl)\n</code></pre>\n\n<p><strong>Out1:</strong></p>\n\n<pre><code>[10, 7, 5, 4, 8, 7, 2, 3, 1]\n</code></pre>\n\n<p><strong>Out2:</strong></p>\n\n<pre><code>[10, 7, 5, 2, 4, 1, 8, 7, 3]\n</code></pre>\n\n<p><strong>Out3:</strong></p>\n\n<pre><code>[3, 1, 8, 7, 2, 4, 10, 7, 5]\n</code></pre>\n\n<p><strong>Out4:</strong></p>\n\n<pre><code>[2, 4, 10, 7, 5, 3, 1, 8, 7]\n</code></pre>\n\n<p>etc.</p>\n\n<p>If you want a specific reverse random list:</p>\n\n<pre><code>import random\n\nloop_number = 0\nwhile True:\n    l = [5, 7, 10, 4, 2, 7, 8, 1, 3]\n    bl =[]\n    while True:\n        if len(l) == 0:\n            break\n        r = random.randint(0, len(l))\n        bl.extend(l[r:None:-1])\n        l = l[r+1:]\n    loop_number += 1\n    if bl == [10, 7, 5, 4, 8, 7, 2, 3, 1]:\n        print(bl)\n        print(\"I tried {} times\".format(loop_number))\n        break\n</code></pre>\n\n<p><strong>Out:</strong></p>\n\n<pre><code>[10, 7, 5, 4, 8, 7, 2, 3, 1]\nI tried 336 times\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1575307679, "creation_date": 1575307679, "answer_id": 59143914, "question_id": 59079675, "link": "https://stackoverflow.com/questions/59079675/how-to-make-ascending-sublists-in-a-list-of-integers-go-in-descending-order/59143914#59143914", "title": "How to make ascending sublists in a list of integers go in descending order?", "body": "<p>The general algorithm is to keep track of the current ascending sublist you are processing using 2 pointers, perhaps a \"start\" and \"curr\" pointer. <code>curr</code> iterates over each element of the list. As long as the current element is greater than the previous element, you have an ascending sublist, and you move <code>curr</code> to the next number. If the <code>curr</code> number is less than the previous number, you know your ascending sublist has ended, so you collect all numbers from <code>start</code> to <code>curr - 1</code> (because <code>array[curr]</code> is less than <code>array[curr - 1]</code> so it can't be part of the ascending sublist) and reverse them. You then set <code>start = curr</code> before incrementing <code>curr</code>. </p>\n\n<p>You will have to deal with the details of the most efficient way of reversing them, as well as the edge cases with the pointers like what should the initial value of <code>start</code> be, as well as how to deal with the case that the current ascending sublist extends past the end of the array. But the above paragraph should be sufficient in getting you to think in the right direction. </p>\n"}], "owner": {"reputation": 55, "user_id": 12432192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef6c4ce645277f9256002db13c619c3f?s=128&d=identicon&r=PG&f=1", "display_name": "piethon", "link": "https://stackoverflow.com/users/12432192/piethon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575307679, "creation_date": 1574896523, "last_edit_date": 1574900507, "question_id": 59079675, "link": "https://stackoverflow.com/questions/59079675/how-to-make-ascending-sublists-in-a-list-of-integers-go-in-descending-order", "title": "How to make ascending sublists in a list of integers go in descending order?", "body": "<p>Working on some example questions, the particular one asks to make a function which would take a list and return a new one which would make every ascending sublist in the list go in descending order and leave the descending sublists as they are. For example, given the list <code>[1,2,3,4,5]</code>, I need the list <code>[5,4,3,2,1]</code> or given a list like <code>[1,2,3,5,4,6,7,9,8]</code> would return <code>[5,3,2,1,9,7,6,4,8]</code></p>\n\n<p>Here's what I have so far, but it does not do anything close to what I'd like it to do:</p>\n\n<pre><code>def example3(items):\n    sublst = list()\n\n\n    for i in items:\n\n        current_element = [i]\n\n        next_element = [i+1]\n\n        if next_element &gt; current_element:\n            sublst = items.reverse()\n\n        else:\n            return items\n    return sublst\n\nprint (example3([1,2,3,2])) #[[1, 2, 3, 2], [1, 2, 3, 2], [1, 2, 3, 2], [1, 2, 3, 2]]\n</code></pre>\n\n<p>EDIT:\nI feel like people are a little confused as to what I want to do in this case, heres a better example of what I'd like my function to do. Given a list like: <code>[5, 7, 10, 4, 2, 7, 8, 1, 3]</code> I would like it to return <code>[10, 7, 5, 4, 8, 7, 2, 3, 1]</code>. As you can see all the sublists that are in descending order such as (<code>[5,7,10]</code>) gets reversed to <code>[10, 7, 5]</code>.</p>\n"}, {"tags": ["python", "json"], "answers": [{"comments": [{"owner": {"reputation": 595, "user_id": 2961127, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/807c5a0abb32ce9365b0181020d091ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2961127", "link": "https://stackoverflow.com/users/2961127/user2961127"}, "edited": false, "score": 0, "creation_date": 1574898328, "post_id": 59079769, "comment_id": 104396810, "body": "I am getting   <code>File &quot;ConvertToExcel.py&quot;, line 113, in Process     for type, value in ref[&#39;properties&#39;]: ValueError: too many values to unpack (expected 2)</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 595, "user_id": 2961127, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/807c5a0abb32ce9365b0181020d091ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2961127", "link": "https://stackoverflow.com/users/2961127/user2961127"}, "edited": false, "score": 0, "creation_date": 1574899817, "post_id": 59079769, "comment_id": 104397136, "body": "I didn&#39;t notice that some of the properties have 3 elements: two strings and a nested list, like the <code>entity</code> property."}, {"owner": {"reputation": 595, "user_id": 2961127, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/807c5a0abb32ce9365b0181020d091ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2961127", "link": "https://stackoverflow.com/users/2961127/user2961127"}, "edited": false, "score": 0, "creation_date": 1574900068, "post_id": 59079769, "comment_id": 104397187, "body": "From those nested list I just need to pull 2 lists: <code>[&quot;name&quot;,&quot;TOM DOE&quot;] [&quot;value&quot;,&quot;132&quot;]</code> and exclude others. Post that, Excel should have &#39;TOM DOE&#39; under <code>name</code> column and <code>132</code> under <code>value</code> column"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 595, "user_id": 2961127, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/807c5a0abb32ce9365b0181020d091ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2961127", "link": "https://stackoverflow.com/users/2961127/user2961127"}, "edited": false, "score": 0, "creation_date": 1574900324, "post_id": 59079769, "comment_id": 104397227, "body": "Oh, I also misread your image, I thought <code>Name</code> and <code>Value</code> were in the row, not headings."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 595, "user_id": 2961127, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/807c5a0abb32ce9365b0181020d091ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2961127", "link": "https://stackoverflow.com/users/2961127/user2961127"}, "edited": false, "score": 0, "creation_date": 1574900639, "post_id": 59079769, "comment_id": 104397285, "body": "Updated the answer"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1574900634, "last_edit_date": 1574900634, "creation_date": 1574897111, "answer_id": 59079769, "question_id": 59079666, "link": "https://stackoverflow.com/questions/59079666/get-elements-from-nested-list-inside-json-file-using-python/59079769#59079769", "title": "Get elements from nested list inside JSON file using python", "body": "<p>You can loop over the properties like this:</p>\n\n<pre><code>for type, val, *_ in data['log'][i]['refs'][k]['href']['properties']:\n</code></pre>\n\n<p><code>*_</code> ignores any extra elements in the <code>properties</code> sublists.</p>\n\n<p>Then you can test whether <code>type</code> is <code>name</code> or <code>value</code> and set the appropriate variables.</p>\n\n<pre><code>    def Process(self):\n        with open('C:/Users/Desktop/SampleTestFiles/new17.json') as json_file:\n            dataarray = json.load(json_file)\n\n        data1 = []\n        logcount = 0\n        for data in dataarray:\n            logcount = logcount + 1\n            for x in data['log']:\n                code = x['code']\n                message = x['message']\n                try:\n                    cid = x['message']['cid']\n                except:\n                    cid = 0\n                text = x['message']['text']\n                refs = x['refs']\n                name = ''\n                value = ''\n                for ref in x['refs']:\n                    try:\n                        hrefs = ref['href']\n                    except:\n                        hrefs =''\n                    try:\n                        hrefsFacts = ref['href']\n                    except:\n                        hrefsFacts =''\n\n                    for type, val, *_ in ref['properties']:\n                        if type = 'name':\n                            name = val\n                        elif type = 'value':\n                            value = val\n\n                hrefspropertiesvalue = 'a'\n                level = x['level']\n                data1.append((logcount,i, code, message,cid, text, refs,hrefs,hrefsFacts, hrefspropertiesvalue, level, name, value))\n\n        pandas.DataFrame(data1, columns=['Log', 'Innerlog', 'code', 'message','cid','text','refs','hrefs','hrefsFacts','hrefspropertiesvalue', 'level', 'name', 'value']).to_excel(\"output.xlsx\")\n</code></pre>\n\n<p>I've also simplified all the loops to use <code>for &lt;variable&gt; in &lt;list&gt;</code> instead of <code>for &lt;indexvariable&gt; in range(len(&lt;list&gt;))</code>.</p>\n"}], "owner": {"reputation": 595, "user_id": 2961127, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/807c5a0abb32ce9365b0181020d091ac?s=128&d=identicon&r=PG&f=1", "display_name": "user2961127", "link": "https://stackoverflow.com/users/2961127/user2961127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 59079769, "answer_count": 1, "score": -1, "last_activity_date": 1574900634, "creation_date": 1574896431, "question_id": 59079666, "link": "https://stackoverflow.com/questions/59079666/get-elements-from-nested-list-inside-json-file-using-python", "title": "Get elements from nested list inside JSON file using python", "body": "<p>I am reading a JSON file and trying to pull below information from each <code>log</code> and store it in Excel sheet.</p>\n\n<pre><code>[\"name\",\"TOM DOE\"]\n[\"value\",\"132\"]\n</code></pre>\n\n<p>My python code is able to pull couple of other required information from JSON. But, Since the JSON includes multiple nested list and dictionaries I am unable to pull above two information and store it. Please can anyone help me with python code.</p>\n\n<p>This is my python code:</p>\n\n<pre><code>import json\nimport pandas\nclass ConvertToExcel:\n\n    def Process(self):\n        with open('C:/Users/Desktop/SampleTestFiles/new17.json') as json_file:\n            dataarray = json.load(json_file)\n\n        data1 = []\n        logcount = 0\n        for data in dataarray:\n            logcount = logcount + 1\n            for i in range(len(data['log'])):\n                code = data['log'][i]['code']\n                message = data['log'][i]['message']\n                try:\n                    cid = data['log'][i]['message']['cid']\n                except:\n                    cid = 0\n                text = data['log'][i]['message']['text']\n                refs = data['log'][i]['refs']\n                for k in range(len(data['log'][i]['refs'])):\n                    try:\n                        hrefs = data['log'][i]['refs'][k]['href']\n                    except:\n                        hrefs =''\n                    try:\n                        hrefsFacts = data['log'][i]['refs'][k]['href']\n                    except:\n                        hrefsFacts =''\n\n                    # print(type(data['log'][i]['refs'][k]['href']['properties']))\n                    # res1 = 'name' in chain(*data['log'][i]['refs'][k]['href']['properties'])\n\n                    # for elem in len(data['log'][i]['refs'][k]['href']['properties']):\n                    #     for item in elem:\n                    #         if(item == 'val'):\n                    #             hrefspropertiesvalue = item\n                    #         else:\n                    #             pass\n\n                hrefspropertiesvalue = 'a'\n                level = data['log'][i]['level']\n                data1.append((logcount,i, code, message,cid, text, refs,hrefs,hrefsFacts, hrefspropertiesvalue, level))\n\n        pandas.DataFrame(data1, columns=['Log', 'Innerlog', 'code', 'message','cid','text','refs','hrefs','hrefsFacts','hrefspropertiesvalue', 'level']).to_excel(\"output.xlsx\")\n\nA = ConvertToExcel()\nA.Process()\n</code></pre>\n\n<p>and, JSON:</p>\n\n<pre><code>[{ \"log\": [\n   {\n   \"code\": \"nikv.F1.all.1\",\n   \"message\": {\n    \"cid\": \"61785360\",\n    \"filing_url\": \"C:\\\\Users\\\\farizaleta\\\\Desktop\\\\test-428-2016Q4F1.abcd\",\n    \"severity\": \"error\",\n    \"text\": \"[nikv.F1.all.1] The values of 6,075,786 for the elements nikv:OtherChargestested is duplicated in the filing 2 times.\\n\\nElement : nikv:OtherChargestested\\nPeriod : 2016-01-01 to 2016-12-31\\n\\n\\nRule Id:nikv.F1.all.1 - test-428-2016Q4F1.abcd 4122\"\n   },\n   \"refs\": [\n    {\n     \"href\": \"test-428-2016Q4F1.abcd#f-743\",\n     \"sourceLine\": 4122,\n     \"properties\": [\n      [\n       \"label\",\n       \"Other charges, tested\"\n      ],\n      [\n       \"namespace\",\n       \"http://nikv.com/form/2002-01-01/nikv\"\n      ],\n      [\n       \"name\",\n       \"TOM DOE\"\n      ],\n      [\n       \"QName\",\n       \"nikv:OtherChargestested\"\n      ],\n      [\n       \"contextRef\",\n       \"c-01\",\n       [\n        [\n         \"entity\",\n         \"C002089\",\n         [\n          [\n           \"scheme\",\n           \"http://tested.com/entity/identification/scheme\"\n          ]\n         ]\n        ],\n        [\n         \"startDate\",\n         \"2016-01-01\"\n        ],\n        [\n         \"endDate\",\n         \"2016-12-31\"\n        ],\n        [\n         \"dimensions\",\n         \"(1)\",\n         [\n          [\n           \"nikv:OfficerAxis\",\n           \"&lt;nikv:OfficerDomain&gt;0-1&lt;/nikv:OfficerDomain&gt;\\n\\t\\t\\t\\t\\n\"\n          ]\n         ]\n        ]\n       ]\n      ],\n      [\n       \"unitRef\",\n       \"u-02\",\n       [\n        [\n         \"measure\",\n         \"iso4217\"\n        ]\n       ]\n      ],\n      [\n       \"decimals\",\n       \"INF\"\n      ],\n      [\n       \"precision\",\n       \"None\"\n      ],\n      [\n       \"xsi:nil\",\n       \"false\"\n      ],\n      [\n       \"value\",\n       \"132\"\n      ]\n     ],\n     \"objectId\": \"91269\"\n    }\n   ],\n   \"level\": \"error\"\n  }]\n  }]\n</code></pre>\n\n<p>Below Highlighted columns need to be populated in excel output:\n<a href=\"https://i.stack.imgur.com/Ze6h5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ze6h5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "dataframe", "pyspark", "row"], "comments": [{"owner": {"reputation": 5730, "user_id": 8805315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391c509601d010c0ae3b15ca9197547b?s=128&d=identicon&r=PG", "display_name": "pissall", "link": "https://stackoverflow.com/users/8805315/pissall"}, "edited": false, "score": 0, "creation_date": 1574913117, "post_id": 59079656, "comment_id": 104399619, "body": "<code>split</code> and then <code>explode</code>"}, {"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1574938783, "post_id": 59079656, "comment_id": 104409807, "body": "How did you get this data? It seems the last columns should be in an array format, as the length is variable."}], "owner": {"reputation": 1, "user_id": 12448656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/265c44bafa79862e7d3f79ab776d9f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/12448656/randy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574938666, "creation_date": 1574896324, "last_edit_date": 1574938666, "question_id": 59079656, "link": "https://stackoverflow.com/questions/59079656/row-operations-in-pyspark-dataframe", "title": "Row Operations in pyspark dataframe", "body": "<p>I have a Spark DataFrame, like the one shown below. </p>\n\n<p>I need an algorithm that whenever I find 'M' in the row, I need to select the next two columns after 'M' and create a new row. If there are two 'M' in a single row, then I need to create two rows 1 with the two columns from first 'M' and 2nd row with two columns from second 'M'.</p>\n\n<p>Input Dataframe:</p>\n\n<pre><code>+------+---+--------------------+---+--------+--------+-----+----+-----------+----+                            \n|rownum|_c0|                 _c1|_c2|     _c3|     _c4|  _c5| _c6| _c7| _c8|  _c9|_c10|_c11|  \n+------+---+--------------------+---+--------+--------+-----+----+-----------+---\n\n|     1|CS1|Jack Binions | 19|20191122|45796416|50021|M|Drinks|30|M|Food|20| \n\n|     2|CS1|Jack Binions | 19|20191122|45794779|50022|M|Food|40| M|Bar |50|M|Drinks|100\n\n+------+---+--------------------+---+--------+--------+-----+----+-----------+----+-----+\n</code></pre>\n\n<p>New Output Dataframe:</p>\n\n<pre><code>+------+---+--------------------+---+--------+--------+-----+----+-------                             \n|rownum|_c0| _c1|_c2|     _c3|     _c4|  _c5| _c6|        _c7| _c8|  _c9|   \n+------+---+--------------------+---+--------+--------+-----+----+-------\n\n|     1|CS1|Jack Binions | 19|20191122|45796416|50021|M|Drinks|30|\n\n|     1|CS1|Jack Binions | 19|20191122|45796416|50021|M|Food|20|\n\n|     2|CS1|Jack Binions | 19|20191122|45794779|50022|M|Food|40|\n\n|     2|CS1|Jack Binions | 19|20191122|45794779|50022|M|Bar |50|\n\n|     2|CS1|Jack Binions | 19|20191122|45794779|50022|M|Drinks |100|\n\n+------+---+--------------------+---+--------+--------+-----+----+--+\n</code></pre>\n"}, {"tags": ["python", "optimization", "pyomo"], "answers": [{"tags": [], "owner": {"reputation": 2058, "user_id": 6775884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3fe64f3d7ca8a603738e4783250e98e?s=128&d=identicon&r=PG&f=1", "display_name": "Bethany Nicholson", "link": "https://stackoverflow.com/users/6775884/bethany-nicholson"}, "is_accepted": false, "score": 0, "last_activity_date": 1575559412, "creation_date": 1575559412, "answer_id": 59198272, "question_id": 59079655, "link": "https://stackoverflow.com/questions/59079655/pyomo-access-issues/59198272#59198272", "title": "Pyomo access issues", "body": "<p>You can run any of the examples in the ND Pyomo cookbook online using Google colab, just click on the blue badge at the top of the page. If you want to run them locally you need to run them using Jupyter. The cookbook examples are all Jupyter notebooks and not standard Python scripts. Jupyter is usually available in Anaconda so you should be able to launch it by typing the command <code>jupyter notebook</code> in an Anaconda prompt. You should then be able to navigate to the directory where you've downloaded the cookbook example and run it.</p>\n"}], "owner": {"reputation": 1, "user_id": 12448618, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9sQaSIA_2zM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXEpKvHIuA8iZ7-qnZvvPBZs0Hdg/photo.jpg?sz=128", "display_name": "Enthusiast", "link": "https://stackoverflow.com/users/12448618/enthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575559412, "creation_date": 1574896316, "question_id": 59079655, "link": "https://stackoverflow.com/questions/59079655/pyomo-access-issues", "title": "Pyomo access issues", "body": "<p>I have managed to successfully install Anaconda and Pyomo using Conda. I would like to know how to access Pyomo and run examples. For example, if I use Spyder to run the example given in the ND Pyomo cookbook I get error message of syntax error: <a href=\"https://nbviewer.jupyter.org/github/jckantor/ND-Pyomo-Cookbook/blob/master/notebooks/02.02-Linear-Blending-Problem.ipynb\" rel=\"nofollow noreferrer\">https://nbviewer.jupyter.org/github/jckantor/ND-Pyomo-Cookbook/blob/master/notebooks/02.02-Linear-Blending-Problem.ipynb</a></p>\n\n<p>I am new to Python and Pyomo, so I need some help in getting started. Can someone explain step by step as to how to access Pyomo and run examples from the cookbook, e.g:\n1. which GUI should be used (I have installed Anaconda);\n2. do I need to past the code from the cookbook into Spyder, and save it and then run it?</p>\n"}, {"tags": ["python", "django", "postgresql", "serialization"], "comments": [{"owner": {"reputation": 2480, "user_id": 2999347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1393151316/picture?type=large", "display_name": "Pawe\u0142 Kordowski", "link": "https://stackoverflow.com/users/2999347/pawe%c5%82-kordowski"}, "edited": false, "score": 0, "creation_date": 1574898746, "post_id": 59079617, "comment_id": 104396906, "body": "how do you send the POST request?"}, {"owner": {"reputation": 769, "user_id": 9739007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18Kgd.png?s=128&g=1", "display_name": "McFloofenbork", "link": "https://stackoverflow.com/users/9739007/mcfloofenbork"}, "reply_to_user": {"reputation": 2480, "user_id": 2999347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1393151316/picture?type=large", "display_name": "Pawe\u0142 Kordowski", "link": "https://stackoverflow.com/users/2999347/pawe%c5%82-kordowski"}, "edited": false, "score": 0, "creation_date": 1574907038, "post_id": 59079617, "comment_id": 104398404, "body": "I use Postman, I send a JSON dict. For ex: <code>{&#39;email&#39;:&#39;fake@gmail.com&#39;, &#39;password&#39;:&#39;password&#39;, &#39;codename&#39;:&#39;sneakyboi&#39;}</code>"}, {"owner": {"reputation": 2480, "user_id": 2999347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1393151316/picture?type=large", "display_name": "Pawe\u0142 Kordowski", "link": "https://stackoverflow.com/users/2999347/pawe%c5%82-kordowski"}, "edited": false, "score": 0, "creation_date": 1574938904, "post_id": 59079617, "comment_id": 104409870, "body": "what does <code>print(&quot;request.data:\\n&quot;, request.data)</code> print?"}, {"owner": {"reputation": 769, "user_id": 9739007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18Kgd.png?s=128&g=1", "display_name": "McFloofenbork", "link": "https://stackoverflow.com/users/9739007/mcfloofenbork"}, "reply_to_user": {"reputation": 2480, "user_id": 2999347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1393151316/picture?type=large", "display_name": "Pawe\u0142 Kordowski", "link": "https://stackoverflow.com/users/2999347/pawe%c5%82-kordowski"}, "edited": false, "score": 0, "creation_date": 1574969033, "post_id": 59079617, "comment_id": 104423975, "body": "It prints: <code>(&#39;request.data:\\n&#39;, &lt;QueryDict: {u&quot;{\\n&#39;email&#39;:&#39;pizza@gmail.com&#39;,\\n&#39;password&#39;:&#39;password&#39;,\\n&#39;c&zwnj;&#8203;odename&#39;:&#39;sneakyass&#39;&zwnj;&#8203;\\n}&quot;: [u&#39;&#39;]}&gt;)</code> (I changed the POST request, so it&#39;s different from above)"}], "answers": [{"tags": [], "owner": {"reputation": 769, "user_id": 9739007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18Kgd.png?s=128&g=1", "display_name": "McFloofenbork", "link": "https://stackoverflow.com/users/9739007/mcfloofenbork"}, "is_accepted": false, "score": 0, "last_activity_date": 1574972146, "creation_date": 1574972146, "answer_id": 59095650, "question_id": 59079617, "link": "https://stackoverflow.com/questions/59079617/serializer-is-not-valid/59095650#59095650", "title": "Serializer is not valid", "body": "<p>I ended up finding a <a href=\"https://stackoverflow.com/questions/30953481/django-rest-framework-how-to-make-model-serializer-fields-required\">Stack Overflow post</a> where they suggested to add <code>extra_kwargs</code> which specify that they are <em>not</em> required. This made my <code>if serializers.is_valid()</code> pass!</p>\n\n<pre><code>class UserPostSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User \n        fields = ('email', 'password', 'codename')\n        extra_kwargs = {'email': {'required': False}, 'password': {'required': False}, 'codename': {'required': False}}\n</code></pre>\n"}], "owner": {"reputation": 769, "user_id": 9739007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/18Kgd.png?s=128&g=1", "display_name": "McFloofenbork", "link": "https://stackoverflow.com/users/9739007/mcfloofenbork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574972146, "creation_date": 1574896020, "question_id": 59079617, "link": "https://stackoverflow.com/questions/59079617/serializer-is-not-valid", "title": "Serializer is not valid", "body": "<p>When I try to make a POST request to my API endpoint to create a user in my Users table, I get mysterious Serializer errors. The error says that the <code>email</code>, <code>password</code>, <code>codename</code> (3 strings needed to create a user) are required. But I am sending all three strings. It is because the serializer is NOT valid (go to <code>serializers.py</code>, the <code>if serializer.is_valid()</code> check)... but I can't figure out why it's not valid.</p>\n\n<p>Entire said error message:</p>\n\n<pre><code>{'codename': [ErrorDetail(string=u'This field is required.', code=u'required')], 'password': [ErrorDetail(string=u'This field is required.', code=u'required')], 'email': [ErrorDetail(string=u'This field is required.', code=u'required')]}\n</code></pre>\n\n<p>All these files are in my <code>users</code> folder within my Django directory.</p>\n\n<p>serializers.py:</p>\n\n<pre><code>from rest_framework import serializers\nfrom .models import User\n\nclass UserPostSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = User \n        fields = ('email', 'password', 'codename')\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>from rest_framework.response import Response\nfrom rest_framework.decorators import api_view\nfrom rest_framework import status\n\nfrom .serializers import *\nfrom .models import User\nfrom argon2 import PasswordHasher\nimport json\n\n@api_view(['POST'])\ndef create_user(request):\n    print(\"inside create_user\")\n    \"\"\" POST = Create user. \"\"\"\n    data = {}\n    # print(\"request.data:\\n\", request.data)\n    serializer = UserPostSerializer(data=request.data)\n    print(\"got serializer\")\n    if serializer.is_valid():\n        print(\"serializer is valid!\")\n        email = serializer.data['email']\n        codename = serializer.data['codename']\n        password = serializer.data['password']\n\n        user = User.objects.filter(email=email)\n\n        if not user:\n            # Apply Argon2\n            ph = PasswordHasher()\n            hash = ph.hash(password)\n\n            # Create user\n            new_user = User(email=email, password=hash, codename=codename)\n            new_user.save()\n\n            request.session['email'] = email\n            request.session['id'] = new_user.pk\n            print(request.session['email'], \"has logged in!\")\n            print(request.session['id'], \"user's id\")\n            return Response(serializer.data, status=status.HTTP_200_OK)\n\n        # User with this email found... Please login...\n        else:\n            return Response(status=status.HTTP_409_CONFLICT)\n\n    else:\n        print(serializer.errors)\n        return Response(status=status.HTTP_500_INTERNAL_SERVER_ERROR)\n</code></pre>\n\n<p>models.py:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nfrom django.db import models\n\n# Create your models here.\nclass User(models.Model):\n    email = models.CharField(max_length=255, blank=False)\n    codename = models.CharField(max_length=255, blank=False)\n    password = models.CharField(max_length=255, blank=False)\n    profilePic = models.ImageField(upload_to='images/', blank=True)\n</code></pre>\n"}, {"tags": ["python", "arduino", "pyserial"], "answers": [{"tags": [], "owner": {"reputation": 4063, "user_id": 8741781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea926dcee3f547fcf84b039290ee6b8?s=128&d=identicon&r=PG&f=1", "display_name": "bdoubleu", "link": "https://stackoverflow.com/users/8741781/bdoubleu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574944501, "creation_date": 1574944501, "answer_id": 59089046, "question_id": 59079614, "link": "https://stackoverflow.com/questions/59079614/attributeerror-module-object-has-no-attribute-serial-with-connection-for-pi/59089046#59089046", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;Serial&#39; with connection for pi and arduino", "body": "<p>There's a namespace conflict between <code>pyserial</code> (the module you want to use) and <code>serial</code> (a module for serializing/deserializing).</p>\n\n<p>Basically python is looking for the <code>Serial</code> object in the incorrect module and because it doesn't exist in that module you're getting an error.</p>\n\n<p>Assuming you don't need both you can just do:</p>\n\n<pre><code>pip uninstall serial\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12448686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAumlNT0Fb2tRhbMMbKMK-nZJuEiTGQ0uV1nOtghw=k-s128", "display_name": "\uc774\ubcd1\uc6b1", "link": "https://stackoverflow.com/users/12448686/%ec%9d%b4%eb%b3%91%ec%9a%b1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574944501, "creation_date": 1574896008, "last_edit_date": 1574900088, "question_id": 59079614, "link": "https://stackoverflow.com/questions/59079614/attributeerror-module-object-has-no-attribute-serial-with-connection-for-pi", "title": "AttributeError: &#39;module&#39; object has no attribute &#39;Serial&#39; with connection for pi and arduino", "body": "<p>I'm trying to connect Raspberry pi and Arduino UNO with just a simple code.</p>\n\n<p>For Arduino, </p>\n\n<hr>\n\n<pre><code>void setup(){\n  Serial.begin(9600);\n}\n\nvoid loop(){\n  Serial.println(\"Hello Pi\");\n  delay(1000);\n}\n</code></pre>\n\n<hr>\n\n<p>For pi,</p>\n\n<hr>\n\n<pre><code>import serial\n\nser = serial.Serial('/dev/ttyACM0', 9600)\n\nwhile 1:\n    print ser.readline()\n</code></pre>\n\n<hr>\n\n<p>I installed libraries, maybe all I need, </p>\n\n<pre><code>sudo apt-get install python-pip \n\nsudo pip install pyserial\n\nsudo pip install serial \n</code></pre>\n\n<p>and more</p>\n\n<p>Also my python file name isn't serial. It's tq.py</p>\n\n<p>Is there any recommendation for this problem..?</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 308, "user_id": 10568803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52162e3e9d643e5918f4958f354f9d3?s=128&d=identicon&r=PG&f=1", "display_name": "kdf", "link": "https://stackoverflow.com/users/10568803/kdf"}, "edited": false, "score": 0, "creation_date": 1575164462, "post_id": 59091061, "comment_id": 104473240, "body": "Is it possible to get the coordinate of the center of the object?"}, {"owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "reply_to_user": {"reputation": 308, "user_id": 10568803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52162e3e9d643e5918f4958f354f9d3?s=128&d=identicon&r=PG&f=1", "display_name": "kdf", "link": "https://stackoverflow.com/users/10568803/kdf"}, "edited": false, "score": 0, "creation_date": 1575207402, "post_id": 59091061, "comment_id": 104480446, "body": "Anything is possible! The easiest thing is just to take the mean (or some sort of centrality measure) of all the row and column indices. But it depends a bit what you mean by &#39;center&#39;... for example, does the center have to be inside the object?"}, {"owner": {"reputation": 308, "user_id": 10568803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52162e3e9d643e5918f4958f354f9d3?s=128&d=identicon&r=PG&f=1", "display_name": "kdf", "link": "https://stackoverflow.com/users/10568803/kdf"}, "edited": false, "score": 1, "creation_date": 1575242044, "post_id": 59091061, "comment_id": 104489761, "body": "I figured it out. There is a simple function in Scipy where you can find the coordinate of the &quot;mass&quot; of an object, and since there is only one object, it works perfectly. Thank you!"}, {"owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "reply_to_user": {"reputation": 308, "user_id": 10568803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52162e3e9d643e5918f4958f354f9d3?s=128&d=identicon&r=PG&f=1", "display_name": "kdf", "link": "https://stackoverflow.com/users/10568803/kdf"}, "edited": false, "score": 0, "creation_date": 1575307197, "post_id": 59091061, "comment_id": 104513812, "body": "@kdf - nice! Good solution."}], "tags": [], "owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "is_accepted": true, "score": 0, "last_activity_date": 1574951246, "creation_date": 1574951246, "answer_id": 59091061, "question_id": 59079602, "link": "https://stackoverflow.com/questions/59079602/how-to-return-the-coordinates-of-a-region-in-an-image-and-its-dimension-in-numpy/59091061#59091061", "title": "How to return the coordinates of a region in an image and its dimension in numpy?", "body": "<p>Let's call the 'full' image <code>img</code> and the object label image <code>mask</code>. I'll use 5 &times; 5 arrays for illustration:</p>\n\n<pre><code>import numpy as np\n\nimg = np.random.random((5, 5))\nmask = np.array([\n        [0, 0, 0, 0, 0],\n        [0, 1, 1, 1, 0],\n        [1, 1, 1, 1, 1],\n        [0, 1, 1, 1, 0],\n        [0, 0, 1, 0, 0],\n       ], dtype=bool)\n</code></pre>\n\n<p>Then you can easily get the area of <code>True</code> points in the mask: it's just the sum because <code>True</code> is 1 and <code>False</code> is 0:</p>\n\n<pre><code>np.sum(mask)\n</code></pre>\n\n<p>You can get the coordinates where <code>mask</code> is <code>True</code> with <code>np.argwhere(mask)</code>, but in practice you probably don't need to because you can just index into <code>img</code> directly using <code>mask</code>. That is, you can get the data from <code>img</code> where <code>mask</code> is <code>True</code> like so:</p>\n\n<pre><code>img[mask]\n</code></pre>\n\n<p>So for example, you can get the mean of data points where <code>mask</code> is <code>True</code> like so:</p>\n\n<pre><code>np.mean(img[mask])\n</code></pre>\n\n<p>You can get <code>img</code> with only the masked data, letting everything else be 0:</p>\n\n<pre><code>img * mask\n</code></pre>\n\n<p>Or if you prefer <code>nan</code>s for the masked-off areas:</p>\n\n<pre><code>masked = img.copy()\nmasked[~mask] = np.nan\n</code></pre>\n\n<p>Finally, you can get the <code>[height, width]</code> of the masked area like so:</p>\n\n<pre><code>[np.sum(np.max(mask, axis=i)) for i in (1, 0)]\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 10568803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f52162e3e9d643e5918f4958f354f9d3?s=128&d=identicon&r=PG&f=1", "display_name": "kdf", "link": "https://stackoverflow.com/users/10568803/kdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 59091061, "answer_count": 1, "score": 1, "last_activity_date": 1574951302, "creation_date": 1574895932, "last_edit_date": 1574951302, "question_id": 59079602, "link": "https://stackoverflow.com/questions/59079602/how-to-return-the-coordinates-of-a-region-in-an-image-and-its-dimension-in-numpy", "title": "How to return the coordinates of a region in an image and its dimension in numpy?", "body": "<p>I have two datasets, both of which have 25 x 25 dimensions. One dataset is the \"full\" image and the second dataset shows an object in the first image, which means everything outside of the object is a zero.</p>\n\n<p>How do I return the coordinates of where the object in the second dataset exists so it can be applied found in the first dataset?</p>\n\n<p>And how I do find the dimensions of where the object exists (the height and width of the object in the numpy array)?</p>\n"}, {"tags": ["python", "pandas", "function", "one-hot-encoding"], "comments": [{"owner": {"reputation": 2587, "user_id": 772521, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c82cd3d728849548aa896ce780672d33?s=128&d=identicon&r=PG", "display_name": "jlewkovich", "link": "https://stackoverflow.com/users/772521/jlewkovich"}, "edited": false, "score": 1, "creation_date": 1574896046, "post_id": 59079550, "comment_id": 104396272, "body": "Did you try just calling it like this: <code>df1 = dummies(df, &#39;X&#39;)</code>"}, {"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 1, "creation_date": 1574897249, "post_id": 59079550, "comment_id": 104396553, "body": "you need to return a value .. that should fix it, although I can&#39;t test it without example df"}], "answers": [{"comments": [{"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574897217, "post_id": 59079762, "comment_id": 104396539, "body": "what if they want to make a new df with the results"}], "tags": [], "owner": {"reputation": 447, "user_id": 9366940, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joseph Rajchwald", "link": "https://stackoverflow.com/users/9366940/joseph-rajchwald"}, "is_accepted": false, "score": -1, "last_activity_date": 1574897085, "creation_date": 1574897085, "answer_id": 59079762, "question_id": 59079550, "link": "https://stackoverflow.com/questions/59079550/applying-function-to-dataframe-column/59079762#59079762", "title": "Applying function to dataframe column?", "body": "<p>If you want to apply it to that one column you don't need to make a new dataframe. This is the correct syntax. <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.apply.html\" rel=\"nofollow noreferrer\">Please read the docs</a>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df['X'] = df['X'].apply(lambda x : dummies(x))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "edited": false, "score": 0, "creation_date": 1574900423, "post_id": 59079829, "comment_id": 104397249, "body": "Thanks Derek, can&#39;t believe I missed the return statement. Side question.. is it possible to apply this function to multiple columns in one line?"}, {"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "reply_to_user": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "edited": false, "score": 0, "creation_date": 1574900707, "post_id": 59079829, "comment_id": 104397302, "body": "like apply the same function to multiple columns individually? or apply a function that uses multiple columns as input?"}, {"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "reply_to_user": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "edited": false, "score": 0, "creation_date": 1574900857, "post_id": 59079829, "comment_id": 104397328, "body": "in either case, check these questions, they cover both: <a href=\"https://stackoverflow.com/questions/50519983/how-to-apply-a-function-to-multiple-columns-in-pandas\" title=\"how to apply a function to multiple columns in pandas\">stackoverflow.com/questions/50519983/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/13331698/how-to-apply-a-function-to-two-columns-of-pandas-dataframe\" title=\"how to apply a function to two columns of pandas dataframe\">stackoverflow.com/questions/13331698/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "is_accepted": true, "score": 2, "last_activity_date": 1574897629, "creation_date": 1574897629, "answer_id": 59079829, "question_id": 59079550, "link": "https://stackoverflow.com/questions/59079550/applying-function-to-dataframe-column/59079829#59079829", "title": "Applying function to dataframe column?", "body": "<p>you need to make sure you're returning a value from the function, currently you are not..also when you apply a function to a column you are basically passing the value of each row in the column into the function, so your function is set up wrong..typically you'd do it like this:</p>\n\n<pre><code>def function1(value):\n    new_value = value*2 #some operation\n    return new_value\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>df['X'].apply(function1)\n</code></pre>\n\n<p>currently your function is set up to take entire df, and the name of a column, so likely your function might work if you call it like this:</p>\n\n<pre><code>df1 = dummies(df, 'X')\n</code></pre>\n\n<p>but you still need to add a return statement</p>\n"}], "owner": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59079829, "answer_count": 2, "score": 0, "last_activity_date": 1574897629, "creation_date": 1574895552, "question_id": 59079550, "link": "https://stackoverflow.com/questions/59079550/applying-function-to-dataframe-column", "title": "Applying function to dataframe column?", "body": "<p>I have the following function (one-hot encoding function that takes a column as an input). I basically want to apply it to a column in my dataframe, but can't seem to understand what's going wrong.</p>\n\n<pre><code>def dummies(dataframe, col):\n    dataframe[col] = pd.Categorical(dataframe[col])\n    pd.concat([dataframe,pd.get_dummies(dataframe[col],prefix = 'c')],axis=1)\n\ndf1 = df['X'].apply(dummies)\n</code></pre>\n\n<p>Guessing something is wrong with how I'm calling it? </p>\n"}, {"tags": ["python", "asynchronous", "generator", "python-asyncio"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3759629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Lo4r.jpg?s=128&g=1", "display_name": "mxp", "link": "https://stackoverflow.com/users/3759629/mxp"}, "edited": false, "score": 0, "creation_date": 1574983531, "post_id": 59079548, "comment_id": 104427475, "body": "Thanks! The next paragraph of the PEP is saying that &quot;to compose asynchronous generators a simple async for loop can be used&quot; but my example is showing that this doesn&#39;t work with asend (or athrow)."}], "tags": [], "owner": {"reputation": 192011, "user_id": 17160, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG", "display_name": "nosklo", "link": "https://stackoverflow.com/users/17160/nosklo"}, "is_accepted": false, "score": 1, "last_activity_date": 1574895535, "creation_date": 1574895535, "answer_id": 59079548, "question_id": 59079512, "link": "https://stackoverflow.com/questions/59079512/delegating-to-async-subgenerators/59079548#59079548", "title": "Delegating to async subgenerators", "body": "<p>No.</p>\n\n<p>According to PEP 525 <a href=\"https://www.python.org/dev/peps/pep-0525/#asynchronous-yield-from\" rel=\"nofollow noreferrer\">https://www.python.org/dev/peps/pep-0525/#asynchronous-yield-from</a> <code>async yield from</code> \"would require a serious redesign of the generators implementation.\"</p>\n"}], "owner": {"reputation": 31, "user_id": 3759629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Lo4r.jpg?s=128&g=1", "display_name": "mxp", "link": "https://stackoverflow.com/users/3759629/mxp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1574895535, "creation_date": 1574895328, "question_id": 59079512, "link": "https://stackoverflow.com/questions/59079512/delegating-to-async-subgenerators", "title": "Delegating to async subgenerators", "body": "<p><a href=\"https://www.python.org/dev/peps/pep-0380/\" rel=\"nofollow noreferrer\">PEP 380</a> introduced <code>yield from</code> to let a generator delegate to a subgenerator.\nNotably, <code>send()</code>, <code>throw()</code> or <code>close()</code> calls on the delegating generator will be forwarded to the subgenerator:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def gen1():\n    res = yield 1\n    print('Received:', res)\n    res = yield 2\n\ndef gen2():\n    yield from gen1()\n\ng = gen2()\nprint(g.send(None))\nprint(g.send('msg1'))\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>1\nReceived: msg1\n2\n</code></pre>\n\n<p><a href=\"https://www.python.org/dev/peps/pep-0525/\" rel=\"nofollow noreferrer\">PEP 525</a> introduced asynchronous generators, which are able to await on async coroutines and yield results that can be awaited by the consumer. Like generators, async generators can also receive values sent using <code>asend()</code> (and support <code>athrow()</code>/<code>aclose()</code>).</p>\n\n<p><strong>Is there a way to delegate to async subgenerators?</strong> The following does not work: the subgenerator doesn't receive the sent value, because <code>asend()</code> is not forwarded. It could be done manually in <code>agen2</code>, but <code>yield from</code> has spoiled us with its simplicity. Does anything like <code>async yield from</code> exist?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>async def agen1():\n    res = yield 1\n    print('Received:', res)\n    res = yield 2\n\nasync def agen2():\n    async for x in agen1():\n        yield x\n\nasync def consumer():\n    ag = agen2()\n    print(await ag.asend(None))\n    print(await ag.asend('msg1'))\n\nimport asyncio\nasyncio.run(consumer())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\nReceived: None\n2\n</code></pre>\n"}, {"tags": ["python", "logging", "starlette", "uvicorn"], "comments": [{"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1574896717, "post_id": 59079453, "comment_id": 104396436, "body": "have you read this ?  <a href=\"https://www.uvicorn.org/settings/#logging\" rel=\"nofollow noreferrer\">uvicorn.org/settings/#logging</a> the point --no-access-log"}, {"owner": {"reputation": 341, "user_id": 3002486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bdb350a48bd09bbd75d306e4c8f7dede?s=128&d=identicon&r=PG&f=1", "display_name": "user3002486", "link": "https://stackoverflow.com/users/3002486/user3002486"}, "reply_to_user": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1574897853, "post_id": 59079453, "comment_id": 104396679, "body": "I am using uvicorn.run(), couldn&#39;t find the arg to pass in"}, {"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1574898404, "post_id": 59079453, "comment_id": 104396834, "body": "This is a quote from the official web &quot;If you&#39;re running using programmatically, using uvicorn.run(...), then use equivalent keyword arguments, eg. uvicorn.run(&quot;example:app&quot;, port=5000, reload=True, access_log=False)&quot;"}, {"owner": {"reputation": 341, "user_id": 3002486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bdb350a48bd09bbd75d306e4c8f7dede?s=128&d=identicon&r=PG&f=1", "display_name": "user3002486", "link": "https://stackoverflow.com/users/3002486/user3002486"}, "reply_to_user": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1574899944, "post_id": 59079453, "comment_id": 104397162, "body": "woops my bad, however, disabling that disables the message completely. I need just to remove the duplicate one."}, {"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1574900502, "post_id": 59079453, "comment_id": 104397263, "body": "Wait but first line is your custom log?.."}, {"owner": {"reputation": 2697, "user_id": 1353861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6txY.jpg?s=128&g=1", "display_name": "Shagun Sodhani", "link": "https://stackoverflow.com/users/1353861/shagun-sodhani"}, "edited": false, "score": 0, "creation_date": 1574905610, "post_id": 59079453, "comment_id": 104398152, "body": "Can you post the output after using <code>--no-access-log</code>."}, {"owner": {"reputation": 3465, "user_id": 803194, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/517b0b537f276b8dcf84c55ed078035a?s=128&d=identicon&r=PG", "display_name": "blues", "link": "https://stackoverflow.com/users/803194/blues"}, "edited": false, "score": 0, "creation_date": 1574928757, "post_id": 59079453, "comment_id": 104404478, "body": "Can you show how you configure your logging? uvicorn set&#39;s propagation to false on the access logger, so if they still end up in your logger there either is a bug or you are doing something that conflicts with that."}, {"owner": {"reputation": 341, "user_id": 3002486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bdb350a48bd09bbd75d306e4c8f7dede?s=128&d=identicon&r=PG&f=1", "display_name": "user3002486", "link": "https://stackoverflow.com/users/3002486/user3002486"}, "reply_to_user": {"reputation": 2697, "user_id": 1353861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6txY.jpg?s=128&g=1", "display_name": "Shagun Sodhani", "link": "https://stackoverflow.com/users/1353861/shagun-sodhani"}, "edited": false, "score": 0, "creation_date": 1575310758, "post_id": 59079453, "comment_id": 104515242, "body": "@ShagunSodhani - updated"}, {"owner": {"reputation": 341, "user_id": 3002486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bdb350a48bd09bbd75d306e4c8f7dede?s=128&d=identicon&r=PG&f=1", "display_name": "user3002486", "link": "https://stackoverflow.com/users/3002486/user3002486"}, "reply_to_user": {"reputation": 3465, "user_id": 803194, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/517b0b537f276b8dcf84c55ed078035a?s=128&d=identicon&r=PG", "display_name": "blues", "link": "https://stackoverflow.com/users/803194/blues"}, "edited": false, "score": 0, "creation_date": 1575311025, "post_id": 59079453, "comment_id": 104515348, "body": "@blues - yes, it is probably something to do with my configuration. I am just using basicConfig, but updated my question above"}], "answers": [{"comments": [{"owner": {"reputation": 341, "user_id": 3002486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bdb350a48bd09bbd75d306e4c8f7dede?s=128&d=identicon&r=PG&f=1", "display_name": "user3002486", "link": "https://stackoverflow.com/users/3002486/user3002486"}, "edited": false, "score": 1, "creation_date": 1575322675, "post_id": 59145158, "comment_id": 104519926, "body": "you sir are a gentleman. Thank you for explaining the code in-depth. I understand now that the logger object I was using only needed one handler rather than multiple handlers. I was unaware of the handler added in basicConfig so thanks for looking into it."}, {"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "reply_to_user": {"reputation": 341, "user_id": 3002486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bdb350a48bd09bbd75d306e4c8f7dede?s=128&d=identicon&r=PG&f=1", "display_name": "user3002486", "link": "https://stackoverflow.com/users/3002486/user3002486"}, "edited": false, "score": 1, "creation_date": 1575358245, "post_id": 59145158, "comment_id": 104529055, "body": "Thank you :). I had thought I might have picked out an issue unrelated to the cause. It is sometimes useful to have multiple handlers as each can have their own format, level, and filters. But not when both are going to the same file."}], "tags": [], "owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1575313314, "creation_date": 1575313314, "answer_id": 59145158, "question_id": 59079453, "link": "https://stackoverflow.com/questions/59079453/python-logging-how-do-i-disable-a-packages-logging/59145158#59145158", "title": "Python Logging - How do I disable a package&#39;s Logging?", "body": "<p><code>logging.basicConfig</code> adds a <code>Handler</code>. Then you go and add another. Both directed to the same file.</p>\n\n<pre><code>logging.basicConfig(filename=f'{CFG.get(\"log_path\")}',\n                    filemode='w',\n                    level=logging.DEBUG,\n                    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n                    )\nrotating = RotatingFileHandler(f'{CFG.get(\"log_path\")}', maxBytes=1024*1024*500, backupCount=4)\nlogging.getLogger('').addHandler(rotating)\n</code></pre>\n\n<p>So to see how to fix this it is best to look at what <code>logging.basicConfig</code> actually does:</p>\n\n<pre><code>def basicConfig(**kwargs):\n\n    _acquireLock()\n    try:\n        if len(root.handlers) == 0:\n            filename = kwargs.get(\"filename\")\n            if filename:\n                mode = kwargs.get(\"filemode\", 'a')\n                hdlr = FileHandler(filename, mode)\n            else:\n                stream = kwargs.get(\"stream\")\n                hdlr = StreamHandler(stream)\n            fs = kwargs.get(\"format\", BASIC_FORMAT)\n            dfs = kwargs.get(\"datefmt\", None)\n            fmt = Formatter(fs, dfs)\n            hdlr.setFormatter(fmt)\n            root.addHandler(hdlr)\n            level = kwargs.get(\"level\")\n            if level is not None:\n                root.setLevel(level)\n    finally:\n        _releaseLock()\n</code></pre>\n\n<p>Inlining <code>basicConfig</code> results in:</p>\n\n<pre><code>root = logging.getLogger('')\nif len(root.handlers) == 0:\n    filename = f'{CFG.get(\"log_path\")}'\n    mode = 'w'\n    hdlr = FileHandler(filename, mode)\n    fs = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n    dfs = None\n    fmt = Formatter(fs, dfs)\n    hdlr.setFormatter(fmt)\n    root.addHandler(hdlr)\n    root.setLevel(logging.DEBUG)\n\nrotating = RotatingFileHandler(f'{CFG.get(\"log_path\")}', maxBytes=1024*1024*500, backupCount=4)\nroot.addHandler(rotating)\n</code></pre>\n\n<p>Can you see the issue? The same file is setup with a <code>Handler</code> twice so to fix this write it as:</p>\n\n<pre><code>root = logging.getLogger('')\nif len(root.handlers) == 0:\n    filename = f'{CFG.get(\"log_path\")}'\n    hdlr = RotatingFileHandler(filename, maxBytes=1024*1024*500, backupCount=4)\n    fs = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n    fmt = Formatter(fs)\n    hdlr.setFormatter(fmt)\n    root.addHandler(hdlr)\n    root.setLevel(logging.DEBUG)\n</code></pre>\n"}], "owner": {"reputation": 341, "user_id": 3002486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bdb350a48bd09bbd75d306e4c8f7dede?s=128&d=identicon&r=PG&f=1", "display_name": "user3002486", "link": "https://stackoverflow.com/users/3002486/user3002486"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1484, "favorite_count": 1, "accepted_answer_id": 59145158, "answer_count": 1, "score": 3, "last_activity_date": 1575313314, "creation_date": 1574894948, "last_edit_date": 1575310645, "question_id": 59079453, "link": "https://stackoverflow.com/questions/59079453/python-logging-how-do-i-disable-a-packages-logging", "title": "Python Logging - How do I disable a package&#39;s Logging?", "body": "<p>I am being driven mad by this issue. I want to just log using my basicConfig, but the module (uvicorn) is also logging to the file as well.</p>\n\n<p>Example:</p>\n\n<pre><code>2019-11-27 14:44:29,595 - uvicorn - INFO - ('127.0.0.1', 62211) - \"GET /consumption/xyz HTTP/1.1\" 200\n\n('127.0.0.1', 62211) - \"GET /consumption/xyz HTTP/1.1\" 200\n</code></pre>\n\n<p>I don't want the 2nd message to appear because it is a duplicate...how do I disable that?</p>\n\n<p>Update:\nCode used...</p>\n\n<pre><code>formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')\nlogging.getLogger(\"snowflake.connector.network\").disabled = True # remove snowflake network logging\nlogging.getLogger(\"snowflake.connector.connection\").disabled = True\nlogging.getLogger('snowflake.connector').setLevel(logging.INFO)\nlogging.getLogger('boto3').setLevel(logging.INFO)\nlogging.getLogger('botocore').setLevel(logging.CRITICAL)\nlogging.getLogger('urllib3').setLevel(logging.CRITICAL)\nlogging.basicConfig(filename=f'{CFG.get(\"log_path\")}',\n                    filemode='w',\n                    level=logging.DEBUG,\n                    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n                    )\nrotating = RotatingFileHandler(f'{CFG.get(\"log_path\")}', maxBytes=1024*1024*500, backupCount=4)\nlogging.getLogger('').addHandler(rotating)\n</code></pre>\n\n<p>Log after setting access-log = False. I hit the API a few times:</p>\n\n<pre><code>2019-12-02 10:16:26,635 - uvicorn - WARNING - auto-reload only works when app is passed as an import string.\n2019-12-02 10:16:26,656 - uvicorn - INFO - Started server process [20653]\n2019-12-02 10:16:26,656 - uvicorn - INFO - Waiting for application startup.\n2019-12-02 10:16:26,657 - uvicorn - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n2019-12-02 10:16:43,379 - uvicorn - INFO - Shutting down\n2019-12-02 10:16:43,479 - uvicorn - INFO - Waiting for application shutdown.\n2019-12-02 10:16:43,479 - uvicorn - INFO - Finished server process [20653]\nFinished server process [20653]\n</code></pre>\n\n<p>Log when access_log = True:</p>\n\n<pre><code>2019-12-02 10:17:44,438 - uvicorn - WARNING - auto-reload only works when app is passed as an import string.\n2019-12-02 10:17:44,459 - uvicorn - INFO - Started server process [20791]\n2019-12-02 10:17:44,459 - uvicorn - INFO - Waiting for application startup.\n2019-12-02 10:17:44,460 - uvicorn - INFO - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n2019-12-02 10:17:58,571 - uvicorn - INFO - ('127.0.0.1', 55861) - \"GET / HTTP/1.1\" 200\n('127.0.0.1', 55861) - \"GET / HTTP/1.1\" 200\n</code></pre>\n"}, {"tags": ["python", "image", "opencv", "image-processing", "computer-vision"], "answers": [{"comments": [{"owner": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "edited": false, "score": 0, "creation_date": 1574895290, "post_id": 59079486, "comment_id": 104396098, "body": "Would HoughCircles also pick up the inner black rings of the numbers (assuming they were within the min/max radius spread? Or does it only work on high intensity areas."}, {"owner": {"reputation": 519, "user_id": 9549835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Felipe Gutierrez", "link": "https://stackoverflow.com/users/9549835/felipe-gutierrez"}, "reply_to_user": {"reputation": 1336, "user_id": 8763097, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07748010c90ca48d262a588483d84367?s=128&d=identicon&r=PG&f=1", "display_name": "PeptideWitch", "link": "https://stackoverflow.com/users/8763097/peptidewitch"}, "edited": false, "score": 1, "creation_date": 1574916312, "post_id": 59079486, "comment_id": 104400278, "body": "@PeptideWitch the algorithm searches for candidates with a high degree of radial symmetry so if the font characters has ellipses they won&#39;t be picked, if the font has chars with circular inner rings, then as you say, the min/max radius should be carefully picked."}], "tags": [], "owner": {"reputation": 519, "user_id": 9549835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Felipe Gutierrez", "link": "https://stackoverflow.com/users/9549835/felipe-gutierrez"}, "is_accepted": false, "score": 1, "last_activity_date": 1574895194, "creation_date": 1574895194, "answer_id": 59079486, "question_id": 59079447, "link": "https://stackoverflow.com/questions/59079447/detecting-decimal-points-using-opencv/59079486#59079486", "title": "Detecting decimal points using OpenCV", "body": "<p>You can try with <code>Hough-Circles</code>:</p>\n\n<pre><code>circles = cv2.HoughCircles(img,cv2.HOUGH_GRADIENT,1,20,\n                            param1=50,param2=30,minRadius=5,maxRadius=25)\n</code></pre>\n\n<p>Taken from <a href=\"https://stackoverflow.com/questions/59014406/circle-detection-in-noisy-a-image?noredirect=1#comment104276244_59014406\">here</a>.</p>\n\n<p><a href=\"https://docs.opencv.org/2.4/modules/imgproc/doc/feature_detection.html?highlight=houghcircles#houghcircles\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 25800, "user_id": 11162165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5kgh.png?s=128&g=1", "display_name": "nathancy", "link": "https://stackoverflow.com/users/11162165/nathancy"}, "is_accepted": true, "score": 4, "last_activity_date": 1574896499, "last_edit_date": 1574896499, "creation_date": 1574895464, "answer_id": 59079533, "question_id": 59079447, "link": "https://stackoverflow.com/questions/59079447/detecting-decimal-points-using-opencv/59079533#59079533", "title": "Detecting decimal points using OpenCV", "body": "<p>Instead of using <code>SimpleBlobDetector</code> here's a simple approach using thresholding + contour filtering:</p>\n\n<ul>\n<li>Convert image to grayscale then Otsu's threshold to obtain a binary image</li>\n<li>Perform morphological opening to remove small noise</li>\n<li>Find contours and filter using contour area</li>\n</ul>\n\n<hr>\n\n<p>Here's the result with some of your images. The decimal is highlighted in green</p>\n\n<p><a href=\"https://i.stack.imgur.com/Lv59J.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lv59J.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/CbBo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CbBo5.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ImmiO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ImmiO.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/hIaJN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hIaJN.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gbYZw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbYZw.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/gEhxZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gEhxZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimage = cv2.imread('3.jpg')\noriginal = image.copy()\ngray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\nthresh = cv2.threshold(gray, 0, 255, cv2.THRESH_BINARY + cv2.THRESH_OTSU)[1]\n\nkernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (3,3))\nopening = cv2.morphologyEx(thresh, cv2.MORPH_OPEN, kernel, iterations=2)\n\ncnts = cv2.findContours(opening, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\ncnts = cnts[0] if len(cnts) == 2 else cnts[1]\nfor c in cnts:\n    area = cv2.contourArea(c)\n    print(area)\n    if area &lt; 200:\n        cv2.drawContours(original, [c], -1, (36,255,12), -1)\n\ncv2.imshow('thresh', thresh)\ncv2.imshow('opening', opening)\ncv2.imshow('original', original)\ncv2.waitKey()\n</code></pre>\n\n<hr>\n\n<p><strong>Note:</strong> This method will work well with the assumption that the images include only the numbers and no other artifacts. Alternative approaches include: </p>\n\n<ul>\n<li>Hough Circle Transform already implemented as <a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_houghcircles/py_houghcircles.html\" rel=\"nofollow noreferrer\"><code>cv2.HoughCircles()</code></a>. The downside is that the function has plenty of arguments and usually only works for \"perfect\" circles. Since your images have decimal dots that are not perfect circles, you may not get consistent results and may get false-positives. </li>\n<li>Contour approximation using <code>cv2.arcLength()</code> and <code>cv2.approxPolyDP()</code> which uses the <a href=\"https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm\" rel=\"nofollow noreferrer\">Ramer-Douglas-Peucker</a> algorithm, also known as the split-and-merge algorithm. The idea is that a curve can be approximated by a series of <strong>short line segments</strong>. In order to do this, we compute the perimeter of the contour and then approximate the shape of the contour depending on the number of vertices. Take a look at <a href=\"https://www.pyimagesearch.com/2016/02/08/opencv-shape-detection/\" rel=\"nofollow noreferrer\">this</a> for an example. </li>\n</ul>\n"}], "owner": {"reputation": 4426, "user_id": 1068397, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/SmWCl.jpg?s=128&g=1", "display_name": "aviran", "link": "https://stackoverflow.com/users/1068397/aviran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 59079533, "answer_count": 2, "score": 3, "last_activity_date": 1574896499, "creation_date": 1574894870, "last_edit_date": 1574895717, "question_id": 59079447, "link": "https://stackoverflow.com/questions/59079447/detecting-decimal-points-using-opencv", "title": "Detecting decimal points using OpenCV", "body": "<p>Using <code>opencv-python</code>, I'm trying to find the location of <code>dot</code> characters in images similar to this one: </p>\n\n<p><a href=\"https://i.stack.imgur.com/8LoUu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8LoUu.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>42 images set here can be seen found here: <a href=\"https://imgur.com/a/i4GPQwE\" rel=\"nofollow noreferrer\">https://imgur.com/a/i4GPQwE</a> - Bulk download available</p>\n\n<p>I cant create an <code>opencv</code> detector that can consistently find most of the dots in those type of images, whatever works on a single image (blob detector with some parameters) usually fails on other images.</p>\n\n<p>Most of my tries were around using <code>SimpleBlobDetector</code> is it the right approach?\nIs opencv not the right tool for the task? (I need a ready to use tool, training a neural net is not possible at the moment)</p>\n\n<p>Your help is appreciated.</p>\n"}, {"tags": ["python", "integer", "hex", "bit"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1574895301, "post_id": 59079415, "comment_id": 104396101, "body": "Some place you say 36-bit integer and in others 38-bit integer. Which is it?"}], "answers": [{"comments": [{"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 1, "creation_date": 1574904279, "post_id": 59080341, "comment_id": 104397955, "body": "Can you show him how to get those two 18 bit numbers back to 36 bit pls? :-) Nice post btw. I think that would help him as he can confirm the results"}, {"owner": {"reputation": 362, "user_id": 5599281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bad66353f1837e0b876a16af8ea860?s=128&d=identicon&r=PG&f=1", "display_name": "fhgd", "link": "https://stackoverflow.com/users/5599281/fhgd"}, "reply_to_user": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 0, "creation_date": 1574905151, "post_id": 59080341, "comment_id": 104398073, "body": "FYI: The ceil operation can be <a href=\"https://stackoverflow.com/a/54585138/5599281\">replaced</a> with <code>num = -(value.bit_length() &#47;&#47; -bits)</code>"}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 0, "creation_date": 1574907223, "post_id": 59080341, "comment_id": 104398441, "body": "Thanks fhgd, many answers related to this question on stackoverflow aren&#39;t very helpful, i think your answer will help many who search on the topic."}], "tags": [], "owner": {"reputation": 362, "user_id": 5599281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2bad66353f1837e0b876a16af8ea860?s=128&d=identicon&r=PG&f=1", "display_name": "fhgd", "link": "https://stackoverflow.com/users/5599281/fhgd"}, "is_accepted": true, "score": 2, "last_activity_date": 1574904987, "last_edit_date": 1574904987, "creation_date": 1574902192, "answer_id": 59080341, "question_id": 59079415, "link": "https://stackoverflow.com/questions/59079415/hexadecimal-string-to-two-18-bit-integer/59080341#59080341", "title": "Hexadecimal string to two 18-bit integer", "body": "<p>Assuming that a hex-string represents a positive integer you can just modify your last two lines into</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; value = 0x50f116bcf\n&gt;&gt;&gt; msb = (value &gt;&gt; 18) &amp; (2**18 - 1)\n&gt;&gt;&gt; lsb = value &amp; (2**18 - 1)\n\n# and convert (msb, lsb) back into value by using the binary OR \n&gt;&gt;&gt; (msb &lt;&lt; 18) | lsb == value\nTrue\n</code></pre>\n\n<p>or generalize this idea and use the following function</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def bin_grouper(value, bits):\n    \"\"\"bin_grouper(0b1011010, 3) --&gt; 001 011 010\"\"\"\n    import math\n    num = math.ceil(value.bit_length() / bits)  # number of blocks\n    mask = 2**bits - 1\n    blocks = [(value &gt;&gt; idx*bits) &amp; mask for idx in range(num)]\n    fmtstr = f'{{:0{bits}b}}'\n    return [fmtstr.format(v) for v in reversed(blocks)]\n</code></pre>\n\n<p>in order split a 36-bit number into two 18-bit numbers:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; bin_grouper(0x50f116bcf, 18)\n['010100001111000100', '010110101111001111']\n\n# or\n\n&gt;&gt;&gt; bin_grouper(int('50f116bcf', 16), 18)\n['010100001111000100', '010110101111001111']\n</code></pre>\n\n<p>In order to compare the result you can convert the <code>0x50f116bcf</code> into a 36-bit binary string and test the upper 18-bits (msb) and the lower 18-bits (lsb):</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; bstr = f'{0x50f116bcf:036b}'\n&gt;&gt;&gt; bstr\n'010100001111000100010110101111001111'\n\n&gt;&gt;&gt; blocks = bin_grouper(0x50f116bcf, 18)\n&gt;&gt;&gt; blocks[0] == bstr[:18] == f'{msb:018b}'\nTrue\n&gt;&gt;&gt; blocks[1] == bstr[18:] == f'{lsb:018b}'\nTrue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "is_accepted": false, "score": 0, "last_activity_date": 1574902223, "creation_date": 1574902223, "answer_id": 59080347, "question_id": 59079415, "link": "https://stackoverflow.com/questions/59079415/hexadecimal-string-to-two-18-bit-integer/59080347#59080347", "title": "Hexadecimal string to two 18-bit integer", "body": "<p>Here's a base converter:</p>\n\n<pre><code>def getbasetasifintisbaset(orig,basefrom=10, baseto=16):\n   num=orig\n   result = 0\n   i=0\n   while num != 0:\n       result += (num % basefrom) * (baseto ** i) \n       num //=basefrom\n       i += 1\n   return result \n\ngetbasetasifintisbaset(100,10,16)                                                                                                                                   \n#256\n\ngetbasetasifintisbaset(256,16,10)                                                                                                                                   \n#100\n</code></pre>\n"}], "owner": {"reputation": 273, "user_id": 12055013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4f3c475e7acebbec12a684dbdde9ccc?s=128&d=identicon&r=PG&f=1", "display_name": "pairwiseseq", "link": "https://stackoverflow.com/users/12055013/pairwiseseq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 59080341, "answer_count": 2, "score": 2, "last_activity_date": 1574904987, "creation_date": 1574894590, "question_id": 59079415, "link": "https://stackoverflow.com/questions/59079415/hexadecimal-string-to-two-18-bit-integer", "title": "Hexadecimal string to two 18-bit integer", "body": "<p>I am new to hexadecimals and couldn't find any similar previous posts. I have a hexadecimal string <code>50f116bcf</code>, <code>b3b4d25d0</code>, for example, that is known to be a 36-bit integer. Not sure if it's signed or unsigned. I was wondering how I can go about converting the hexadecimal to 38-bit integer to two 18-bit integers in python.</p>\n\n<p>I saw in this <a href=\"https://stackoverflow.com/questions/6727875/hex-string-to-signed-int-in-python-3-2\">post</a> about converting hex to 16-bit signed integer using </p>\n\n<pre><code>def twos_complement(hexstr,bits):\n     value = int(hexstr,16)\n     if value &amp; (1 &lt;&lt; (bits-1)):\n         value -= 1 &lt;&lt; bits\n     return value\n\ntwos_complement('FFFE',16)\n-2\n</code></pre>\n\n<p>Would this generalize to a 38-bit integer as well <code>twos_complement('b3b4d25d0',38)</code>?</p>\n\n<p>For splitting an integer, I saw <a href=\"https://stackoverflow.com/questions/3123371/splitting-a-16-bit-int-into-two-8-bit-ints-in-python\">this post</a> splitting a 16-bit int (<code>x</code> variable) to two 8-bit using</p>\n\n<pre><code>c = (x &gt;&gt; 8) &amp; 0xff\nf = x &amp; 0xff\n\n(1030333333 &gt;&gt; 8) &amp; 0xff\n163\n(1030333333 &gt;&gt; 8) \n4024739\n</code></pre>\n\n<p>Can this also be generalized to splitting a known 38-bit integer to two 16-bit integer using the method below?</p>\n\n<pre><code>c = (x &gt;&gt; 16) &amp; 0xff\nf = x &amp; 0xff\n</code></pre>\n"}, {"tags": ["python", "html", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 595, "user_id": 5340149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e5yMc.jpg?s=128&g=1", "display_name": "ScriptAutomate", "link": "https://stackoverflow.com/users/5340149/scriptautomate"}, "edited": false, "score": 0, "creation_date": 1574895460, "post_id": 59079396, "comment_id": 104396131, "body": "What are you running that returns &quot;None&quot;? The <code>print(price_scripts)</code> is doing so or? There isn&#39;t enough information here. What are the contents of <code>soup.find_all(&#39;script&#39;)[23]</code>? Can you provide some form of output for what is being stored in <code>price_scripts</code>? Also, in HTML, these are not Python but are Javascript. If the <code>&lt;script&gt;</code> output is what your output is from print, what are you doing that is returning &quot;None&quot; when attempting to grab the list?"}, {"owner": {"reputation": 1531, "user_id": 1265167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd7b1867f23b89d9ed1b0bfcbc85a82?s=128&d=identicon&r=PG", "display_name": "Claire Furney", "link": "https://stackoverflow.com/users/1265167/claire-furney"}, "edited": false, "score": 0, "creation_date": 1574895479, "post_id": 59079396, "comment_id": 104396135, "body": "Is www.website.com the actual website you are trying to scrape?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10554638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb91b5d5c07e87904f36e83d1f9cfc4?s=128&d=identicon&r=PG&f=1", "display_name": "ttammountain", "link": "https://stackoverflow.com/users/10554638/ttammountain"}, "edited": false, "score": 0, "creation_date": 1574898881, "post_id": 59079603, "comment_id": 104396943, "body": "that did it! thank you! Don&#39;t know why I didn&#39;t think about using a split method. cheers!"}], "tags": [], "owner": {"reputation": 15659, "user_id": 9448090, "user_type": "registered", "profile_image": "https://graph.facebook.com/600951510246447/picture?type=large", "display_name": "Jack Fleeting", "link": "https://stackoverflow.com/users/9448090/jack-fleeting"}, "is_accepted": true, "score": 1, "last_activity_date": 1574895940, "creation_date": 1574895940, "answer_id": 59079603, "question_id": 59079396, "link": "https://stackoverflow.com/questions/59079396/extract-list-from-a-python-script-in-web-scraped-html-page/59079603#59079603", "title": "Extract list from a Python script in web scraped html page", "body": "<p>You should be able to extract the data this way:</p>\n\n<pre><code>target = price_scripts.text\n</code></pre>\n\n<p>which outputs:</p>\n\n<pre><code>p.a = [0,\"6.93\",\"9.34\",\"3.42\",\"7.88\"];\n    p.output();\n</code></pre>\n\n<p>At this point you need to resort to string manipulation, by stripping out everything between the brackets, like so:</p>\n\n<pre><code>print(target.text.split('[')[1].split(']')[0])\n</code></pre>\n\n<p>Note that each use of the <code>split()</code> method creates a list, so you have to choose the correct element from the list.\noutput:</p>\n\n<blockquote>\n  <p>0,\"6.93\",\"9.34\",\"3.42\",\"7.88\"</p>\n</blockquote>\n"}], "owner": {"reputation": 17, "user_id": 10554638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb91b5d5c07e87904f36e83d1f9cfc4?s=128&d=identicon&r=PG&f=1", "display_name": "ttammountain", "link": "https://stackoverflow.com/users/10554638/ttammountain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 59079603, "answer_count": 1, "score": 1, "last_activity_date": 1574895940, "creation_date": 1574894474, "question_id": 59079396, "link": "https://stackoverflow.com/questions/59079396/extract-list-from-a-python-script-in-web-scraped-html-page", "title": "Extract list from a Python script in web scraped html page", "body": "<p>I'm new to web scraping and ran into a small road block with the following code:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nurl = \"www.website.com\"\npage = requests.get(url)\nsoup = BeautifulSoup(page.content, \"html.parser\")\nprice_scripts = soup.find_all('script')[23]\nprint(price_scripts)\n</code></pre>\n\n<p>The scripts that are pulled all appear to be Python scripts. Here's what's printed from the above code: </p>\n\n<pre><code>&lt;script&gt;\n        p.a = [0,\"6.93\",\"9.34\",\"3.42\",\"7.88\"];\n        p.output();\n&lt;/script&gt;\n</code></pre>\n\n<p>What I'm trying to do is pull the list from this script, but when I attempt it just returns \"None\".</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1574894854, "post_id": 59079392, "comment_id": 104395985, "body": "You don&#39;t.  It&#39;s for subclass to override behavior of parent, and it&#39;s none of parent class business about that..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1574895026, "post_id": 59079392, "comment_id": 104396038, "body": "No, <code>__len__</code> doesn&#39;t do that, but <code>len</code> does. Those are two different, but related things"}, {"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "edited": false, "score": 1, "creation_date": 1574895107, "post_id": 59079392, "comment_id": 104396058, "body": "You can&#39;t do <i>exactly</i> this, but the usual thing is to expose a method that users of the class use, and then another method that the child class overrides. The former calls the latter, and can do whatever it wants to validate the result. (As others have pointed out, this is essentially what is happening here, with the built-in <code>len()</code> instead of another method)."}], "answers": [{"tags": [], "owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "is_accepted": false, "score": 2, "last_activity_date": 1574895093, "creation_date": 1574895093, "answer_id": 59079467, "question_id": 59079392, "link": "https://stackoverflow.com/questions/59079392/how-can-len-check-type-of-output-despite-being-overridden/59079467#59079467", "title": "How can __len__ check type of output despite being overridden?", "body": "<p>The <code>__len__</code> and <code>__str__</code> methods don't do this, as demonstrated below:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; class A:\n...     def __len__(self):\n...         return 'foo'\n...     def __str__(self):\n...         return 22\n... \n&gt;&gt;&gt; a = A()\n&gt;&gt;&gt; a.__len__()\n'foo'\n&gt;&gt;&gt; a.__str__()\n22\n</code></pre>\n\n<p>It is the <code>len</code> and <code>str</code> functions which check it:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; len(a)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: 'str' object cannot be interpreted as an integer\n&gt;&gt;&gt; str(a)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: __str__ returned non-string (type int)\n</code></pre>\n\n<p>So the answer is simple: those functions are built-in in Python, and they are written to check the type returned by the <code>__len__</code> and <code>__str__</code> methods before passing those return values on.</p>\n"}, {"comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 1, "creation_date": 1574895845, "post_id": 59079530, "comment_id": 104396222, "body": "I like this answer, because it shows the behaviour as a pattern that can be adopted in one&#39;s own code; +1. I think <code>do_something</code> should still be a function (like <code>len</code> and <code>str</code>) rather than a method, though, so it can&#39;t be overridden accidentally."}, {"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 1, "creation_date": 1574895993, "post_id": 59079530, "comment_id": 104396257, "body": "@kaya3 &quot;Can&#39;t be&quot; is a bit strong\u2014you can always just assign over the top of that function, but I agree that this does present more opportunity for a user to incorrectly override the wrong method by mistake. I would argue that the more important thing is if a module-level function makes sense for the API you are going for."}, {"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1574896022, "post_id": 59079530, "comment_id": 104396267, "body": "Yes, I agree with that. The difference is in what the code communicates; most programmers know it&#39;s usually wrong to reassign an existing global name, whereas overriding a method is generally not expected to be a mistake."}, {"owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 1, "creation_date": 1574898370, "post_id": 59079530, "comment_id": 104396823, "body": "@kaya3 Agreed. As another potential factor: it could also be valid to allow the implementing class to override the validation too in some cases, so it really comes down to what works best in the situation."}], "tags": [], "owner": {"reputation": 77580, "user_id": 722121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG", "display_name": "Gareth Latty", "link": "https://stackoverflow.com/users/722121/gareth-latty"}, "is_accepted": true, "score": 2, "last_activity_date": 1574896072, "last_edit_date": 1574896072, "creation_date": 1574895441, "answer_id": 59079530, "question_id": 59079392, "link": "https://stackoverflow.com/questions/59079392/how-can-len-check-type-of-output-despite-being-overridden/59079530#59079530", "title": "How can __len__ check type of output despite being overridden?", "body": "<p>You can't do this, and <code>__len__()</code> doesn't, the trick here is you don't call <code>__len__()</code> directly, you call <code>len()</code> which then calls <code>__len__()</code>, as pointed out in <a href=\"https://stackoverflow.com/a/59079467/722121\">\nkaya3's answer</a>.</p>\n\n<p>You can, however, repeat this pattern to do a similar thing in your code. Provide a method the user should override, and then another one that calls that method and validates it as necessary for end-users of the type to call.</p>\n\n<p>E.g:</p>\n\n<pre><code>class SomeClass(ABC):\n    def do_something(self):\n        \"\"\"Call to do something.\"\"\"\n        result = do_something_unsafe()\n        if validate(result):\n            return result\n        else:\n            raise ...\n\n    @abstractmethod\n    def do_something_unsafe(self):\n        \"\"\"Override me in subclasses.\"\"\"\n        return ...\n</code></pre>\n\n<p>Of course, if it makes sense in your API, you could also follow the given example use a top-level function, which is less likely to be overridden by mistake.</p>\n"}], "owner": {"reputation": 150, "user_id": 9018916, "user_type": "registered", "profile_image": "https://graph.facebook.com/1642562202471573/picture?type=large", "display_name": "Omar Cusma Fait", "link": "https://stackoverflow.com/users/9018916/omar-cusma-fait"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 59079530, "answer_count": 2, "score": 0, "last_activity_date": 1574896072, "creation_date": 1574894446, "last_edit_date": 1574894861, "question_id": 59079392, "link": "https://stackoverflow.com/questions/59079392/how-can-len-check-type-of-output-despite-being-overridden", "title": "How can __len__ check type of output despite being overridden?", "body": "<p>The <code>__len__/__repr__</code> methods make sure that the output is always int/str even when I override them.</p>\n\n<p>My question is: \nHow can I <strong>inherit</strong> a functionality around a method of a <strong>subclass</strong>? \n(just like I can override <code>__len__</code> but it still checks that the output is integer?)</p>\n\n<p>For example, even if overridden, <code>__len_</code> still does something like this:</p>\n\n<pre><code>def __len__(self):\n   out = ...\n   assert type(out) == int\n   return out\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1574894416, "post_id": 59079376, "comment_id": 104395861, "body": "Welcome to StackOverflow. <a href=\"https://stackoverflow.com/help/on-topic\">On topic</a>, <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>, and ... <a href=\"https://codeblog.jonskeet.uk/2010/08/29/writing-the-perfect-question/\" rel=\"nofollow noreferrer\">the perfect question</a> apply here.  StackOverflow is a knowledge base for <i>specific</i> programming problems -- not a design, coding, research, or tutorial resource. If you were to make an honest solution attempt, and run into a problem, you&#39;d have a good example to post."}], "answers": [{"tags": [], "owner": {"reputation": 400, "user_id": 6480819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f35e7dfa3a7489c7ffd7a97307872f12?s=128&d=identicon&r=PG&f=1", "display_name": "dannyxn", "link": "https://stackoverflow.com/users/6480819/dannyxn"}, "is_accepted": false, "score": 0, "last_activity_date": 1574895682, "creation_date": 1574895682, "answer_id": 59079566, "question_id": 59079376, "link": "https://stackoverflow.com/questions/59079376/python-script-to-replace-characters-in-string-with-sequential-integers/59079566#59079566", "title": "Python script to replace characters in string with sequential integers?", "body": "<p>This code should help you.</p>\n\n<pre><code> strings = ['&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',  \n'&amp;asdf01&amp;',\n'&amp;asdf01&amp;', \n'&amp;asdf01&amp;'\n]\n\nfor i, element in zip(range(1, len(strings)+1), strings):\n    element = list(element)\n    if i&lt;10:\n        element[-3] = '0'\n    else:\n        element[-3] = ''\n    element[-2] = str(i)\n    element = ''.join(element)\n    strings[i-1] = element\n\nprint(strings)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<p>['&amp;asdf01&amp;', '&amp;asdf02&amp;', '&amp;asdf03&amp;', '&amp;asdf04&amp;', '&amp;asdf05&amp;', '&amp;asdf06&amp;', '&amp;asdf07&amp;', '&amp;asdf08&amp;', '&amp;asdf09&amp;', '&amp;asdf10&amp;', '&amp;asdf11&amp;']</p>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 4720160, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8id_cXWZ3bk/AAAAAAAAAAI/AAAAAAAAD6I/0l6aoTTGpSc/photo.jpg?sz=128", "display_name": "Michael S", "link": "https://stackoverflow.com/users/4720160/michael-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1574898827, "last_edit_date": 1574898827, "creation_date": 1574898466, "answer_id": 59079936, "question_id": 59079376, "link": "https://stackoverflow.com/questions/59079376/python-script-to-replace-characters-in-string-with-sequential-integers/59079936#59079936", "title": "Python script to replace characters in string with sequential integers?", "body": "<p>It depends a little on what exactly you want to increment. Should it work for arbitrary structured input strings or can we assume to always have the pattern <code>&amp;asdf01&amp;</code>?.</p>\n\n<p>This piece of code is kind of flexible and would increment the first 2 digits it does find in a string:</p>\n\n<pre><code>import re\n\ndef increment_digits(input_string):\n\n  pattern = r'(\\d{2})'\n  match = re.search(pattern, input_string)\n\n  if match:\n\n    digits = match.group(1)\n    increment = int(digits) + 1 \n    zero_padded_increment = \"{:02d}\".format(increment)\n\n    s = match.start(1)\n    e = match.end(1)\n\n    composed_string = input_string[:s] + zero_padded_increment + input_string[e:]\n    return composed_string\n\n  else:\n\n    return input_string\n\nin_list = [\n  'Ihave20apples',\n  'Ilike452people',\n  'With99dollarsIbuy20iphones',\n  '88abc99def0123xyz',\n  '43',\n  '0',\n  'Hello',\n  '&amp;asdf01&amp;']\n\nfor i in in_list:\n  o = increment_digits(i)\n  print(\"{:25s} -&gt; {:25s}\".format(i, o))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Ihave20apples             -&gt; Ihave21apples\nIlike452people            -&gt; Ilike462people\nWith99dollarsIbuy20iphones -&gt; With100dollarsIbuy20iphones\n88abc99def0123xyz         -&gt; 89abc99def0123xyz\n43                        -&gt; 44\n0                         -&gt; 0\nHello                     -&gt; Hello\n&amp;asdf01&amp;                  -&gt; &amp;asdf02&amp;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12448601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed8f5dae0edabe496c3f1383aea6f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "Piano94", "link": "https://stackoverflow.com/users/12448601/piano94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1574898827, "creation_date": 1574894325, "last_edit_date": 1574894351, "question_id": 59079376, "link": "https://stackoverflow.com/questions/59079376/python-script-to-replace-characters-in-string-with-sequential-integers", "title": "Python script to replace characters in string with sequential integers?", "body": "<p>I would like to create a script in Python to do the following:</p>\n\n<p>take multiple lines of text:</p>\n\n<pre><code>&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;  \n&amp;asdf01&amp;\n</code></pre>\n\n<p>and replace as follows:</p>\n\n<pre><code>&amp;asdf01&amp;  \n&amp;asdf02&amp;  \n&amp;asdf03&amp;  \n&amp;asdf04&amp;  \n&amp;asdf05&amp;  \n&amp;asdf06&amp;  \n&amp;asdf07&amp;  \n&amp;asdf08&amp;  \n&amp;asdf09&amp;  \n&amp;asdf10&amp;  \n&amp;asdf11&amp;\n</code></pre>\n\n<p>Basically I need to replace consecutive characters in a string with a numerical value based off the line number of the string.</p>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1574895203, "post_id": 59079372, "comment_id": 104396078, "body": "You should learn about closures, they&#39;re in many programming languages."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1574894805, "creation_date": 1574894805, "answer_id": 59079435, "question_id": 59079372, "link": "https://stackoverflow.com/questions/59079372/i-cannot-understand-this-enclosing-function/59079435#59079435", "title": "i cannot understand this enclosing function", "body": "<p><code>funtionsaufsummerier_fabrik</code> is a function that builds another function, returning that construction.  Yes, <code>x</code> is a function reference.  The inner function will call <code>x</code> on each value in the indicated range, returning the sum of those powers.</p>\n\n<p><code>kubiksumme</code> is a constructed function to sum cubes; <code>quadratsumme</code> is a constructed function to sum squares.  When you call <code>kubiksumme(4)</code>, the effect will be</p>\n\n<pre><code>    return sum([kubik(i) for i in range (1, 4+1)])\n</code></pre>\n\n<p>Does that clear up the functions for you?</p>\n"}], "owner": {"reputation": 1, "user_id": 12380954, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2cn4R5wul3g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfx8_pJn00V8FWyGqCbCYDZEJ00qw/photo.jpg?sz=128", "display_name": "Jason Lu", "link": "https://stackoverflow.com/users/12380954/jason-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1574894805, "creation_date": 1574894277, "question_id": 59079372, "link": "https://stackoverflow.com/questions/59079372/i-cannot-understand-this-enclosing-function", "title": "i cannot understand this enclosing function", "body": "<p>why kubik() can be called?</p>\n\n<pre><code>def funtionsaufsummerier_fabrik(x):\n    def funktionaufsummerier(n):\n        return sum([x(i) for i in range (1, n+1)])\n    return funktionaufsummerier\n</code></pre>\n\n<p>i cannot understand the function above. x = kubik or x= kubik()?\nand when i run this code on python tutor,  <code>def funktionaufsummerier(n):</code> is run first. But i think, <code>funtionsaufsummerier_fabrik(x)</code> will jump straight to <code>return</code> and then return <code>def funktionaufsummerier(n):</code> </p>\n\n<pre><code>def kubik(i):\n    return i*i*i\n\ndef quadrat(i):\n    return i*i\n\n\nkubiksumme = funtionsaufsummerier_fabrik(kubik)\nquadratsumme = funtionsaufsummerier_fabrik(quadrat)\n\nprint(kubiksumme(4))\n\n</code></pre>\n"}, {"tags": ["python", ".htaccess", "mod-wsgi", "wsgi", "bottle"], "answers": [{"tags": [], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "is_accepted": true, "score": 0, "last_activity_date": 1574898259, "last_edit_date": 1592644375, "creation_date": 1574898259, "answer_id": 59079909, "question_id": 59079366, "link": "https://stackoverflow.com/questions/59079366/python-wsgi-handler-directly-in-apache-htaccess-not-in-virtualhost/59079909#59079909", "title": "Python WSGI handler directly in Apache .htaccess, not in VirtualHost", "body": "<p>I just found the <a href=\"https://modwsgi.readthedocs.io/en/develop/user-guides/quick-configuration-guide.html#mounting-the-wsgi-application\" rel=\"nofollow noreferrer\">doc</a>, and it seems that the answer is no, sadly:</p>\n<blockquote>\n<p>When using mod_cgi to host CGI applications, this would be done using the ScriptAlias directive. For mod_wsgi, the directive is instead called WSGIScriptAlias:</p>\n<pre><code>WSGIScriptAlias /myapp /usr/local/www/wsgi-scripts/myapp.wsgi\n</code></pre>\n<p>This directive can only appear in the main Apache configuration files. The directive can be used at server scope but would normally be placed within the VirtualHost container for a particular site. It cannot be used within either of the Location, Directory or Files container directives, <strong>nor can it be used within a \u201c.htaccess\u201d file.</strong></p>\n</blockquote>\n<p>(emphasis mine)</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 59079909, "answer_count": 1, "score": 0, "last_activity_date": 1574898259, "creation_date": 1574894247, "last_edit_date": 1574898200, "question_id": 59079366, "link": "https://stackoverflow.com/questions/59079366/python-wsgi-handler-directly-in-apache-htaccess-not-in-virtualhost", "title": "Python WSGI handler directly in Apache .htaccess, not in VirtualHost", "body": "<p>I know how to have a Python Bottle server:</p>\n\n<pre><code>import os\nfrom bottle import route, template, default_app\nos.chdir(os.path.dirname(__file__))\n\n@route('/hello')\ndef hello():\n    return template('Hello world')\n\napplication = default_app()\n</code></pre>\n\n<p>run with WSGI, configured like this with Apache:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n  ServerName example.com\n  &lt;Directory /&gt;\n    AllowOverride All\n    Require all granted\n  &lt;/Directory&gt;\n  WSGIScriptAlias / /var/www/wsgi_test/app.wsgi\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p><strong>Is it possible to do the WSGI configuration directly in the <code>.htaccess</code></strong>?</p>\n"}, {"tags": ["python", "opencv", "feature-detection"], "comments": [{"owner": {"reputation": 668, "user_id": 1814498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9ab68708b84bec34fa7e097d3275fc4?s=128&d=identicon&r=PG", "display_name": "Ziri", "link": "https://stackoverflow.com/users/1814498/ziri"}, "edited": false, "score": 0, "creation_date": 1574900291, "post_id": 59079351, "comment_id": 104397221, "body": "If it&#39;s only rotated it&#39;s bounding box size will remain the same right ?"}, {"owner": {"reputation": 125, "user_id": 6901561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bed5434eec97c532e423c4d534c31f4?s=128&d=identicon&r=PG&f=1", "display_name": "rpi_guru", "link": "https://stackoverflow.com/users/6901561/rpi-guru"}, "reply_to_user": {"reputation": 668, "user_id": 1814498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9ab68708b84bec34fa7e097d3275fc4?s=128&d=identicon&r=PG", "display_name": "Ziri", "link": "https://stackoverflow.com/users/1814498/ziri"}, "edited": false, "score": 0, "creation_date": 1574900650, "post_id": 59079351, "comment_id": 104397286, "body": "@Ziri Yeah, almost same..."}, {"owner": {"reputation": 668, "user_id": 1814498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9ab68708b84bec34fa7e097d3275fc4?s=128&d=identicon&r=PG", "display_name": "Ziri", "link": "https://stackoverflow.com/users/1814498/ziri"}, "edited": false, "score": 0, "creation_date": 1574914511, "post_id": 59079351, "comment_id": 104399889, "body": "So i think you can easly detect the outer edge and it&#39;s minimum rotated rectagle. If your camera is fixed and aligned 90 deg it will work i guess ."}, {"owner": {"reputation": 125, "user_id": 6901561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bed5434eec97c532e423c4d534c31f4?s=128&d=identicon&r=PG&f=1", "display_name": "rpi_guru", "link": "https://stackoverflow.com/users/6901561/rpi-guru"}, "reply_to_user": {"reputation": 668, "user_id": 1814498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9ab68708b84bec34fa7e097d3275fc4?s=128&d=identicon&r=PG", "display_name": "Ziri", "link": "https://stackoverflow.com/users/1814498/ziri"}, "edited": false, "score": 0, "creation_date": 1574914875, "post_id": 59079351, "comment_id": 104399969, "body": "@Ziri  I just took the left-top part as an example. In fact, the rotated angle is not fixed, so I may have to detect any part regardless of its rotated angle."}, {"owner": {"reputation": 668, "user_id": 1814498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9ab68708b84bec34fa7e097d3275fc4?s=128&d=identicon&r=PG", "display_name": "Ziri", "link": "https://stackoverflow.com/users/1814498/ziri"}, "edited": false, "score": 0, "creation_date": 1574915016, "post_id": 59079351, "comment_id": 104399987, "body": "Method 1 : Use the outer edge bounding rotated rectangle Size , if it&#39;s only rotated that should remain the same.  Method 2 : Your model image has  3 black circles with known Diameter. detect those in your model and target and then calculate the transformation matrix.   (you can add more point&#39;s if easly detectable)."}, {"owner": {"reputation": 125, "user_id": 6901561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bed5434eec97c532e423c4d534c31f4?s=128&d=identicon&r=PG&f=1", "display_name": "rpi_guru", "link": "https://stackoverflow.com/users/6901561/rpi-guru"}, "reply_to_user": {"reputation": 668, "user_id": 1814498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e9ab68708b84bec34fa7e097d3275fc4?s=128&d=identicon&r=PG", "display_name": "Ziri", "link": "https://stackoverflow.com/users/1814498/ziri"}, "edited": false, "score": 0, "creation_date": 1574935748, "post_id": 59079351, "comment_id": 104408169, "body": "@Ziri Thanks for your patience. But neither would work as the target object will be ANY one we are seeing in our lives... lol"}], "owner": {"reputation": 125, "user_id": 6901561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bed5434eec97c532e423c4d534c31f4?s=128&d=identicon&r=PG&f=1", "display_name": "rpi_guru", "link": "https://stackoverflow.com/users/6901561/rpi-guru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574894367, "creation_date": 1574894133, "last_edit_date": 1574894367, "question_id": 59079351, "link": "https://stackoverflow.com/questions/59079351/how-to-detect-rotated-images-only-not-flipped", "title": "How to detect &quot;rotated&quot; images only? (not flipped)", "body": "<p>The standard object is like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sk5cp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sk5cp.png\" alt=\"Standard Image\"></a></p>\n\n<p>And I'd like to detect <strong>rotated</strong> objects only from this image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VtlqV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VtlqV.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I detect the left-top object only as others are flipped and flopped?</p>\n\n<p>I tried ORB/SURF/SIFT, but it detects too many features.\nSo just need to detect the ones that the orientation is rotated only.</p>\n\n<p>Cheers.</p>\n"}, {"tags": ["python", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 25800, "user_id": 11162165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5kgh.png?s=128&g=1", "display_name": "nathancy", "link": "https://stackoverflow.com/users/11162165/nathancy"}, "edited": false, "score": 0, "creation_date": 1574894943, "post_id": 59079343, "comment_id": 104396016, "body": "Could you add your original input image and an expected output image?"}, {"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1574896080, "post_id": 59079343, "comment_id": 104396284, "body": "Which is the expected landing area in your image?"}, {"owner": {"reputation": 9, "user_id": 12448483, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8f5dneWfgeA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re853f69E3ReztHmQYBCqGs79UzgA/photo.jpg?sz=128", "display_name": "Veysel Turan", "link": "https://stackoverflow.com/users/12448483/veysel-turan"}, "edited": false, "score": 0, "creation_date": 1574965775, "post_id": 59079343, "comment_id": 104422997, "body": "I&#39;ve added input and output(expected) images. You can see them on post. I can detect objects and draw a rectangle as a marker but this rectangle is drawn randomly. So it can be drawn over objects and I don&#39;t want it. I just want to detect object and select a safe area randomly for landing. And I want to use this safe area as a marker using rectangle."}, {"owner": {"reputation": 9, "user_id": 12448483, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8f5dneWfgeA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re853f69E3ReztHmQYBCqGs79UzgA/photo.jpg?sz=128", "display_name": "Veysel Turan", "link": "https://stackoverflow.com/users/12448483/veysel-turan"}, "edited": false, "score": 0, "creation_date": 1574967529, "post_id": 59079343, "comment_id": 104423532, "body": "If you can&#39;t open images then you can use this link:  <a href=\"https://drive.google.com/open?id=1fHfE3IP0JKPNk8DpQaFXX4jk6mnEq3Xz\" rel=\"nofollow noreferrer\">drive.google.com/open?id=1fHfE3IP0JKPNk8DpQaFXX4jk6mnEq3Xz</a>"}], "owner": {"reputation": 9, "user_id": 12448483, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8f5dneWfgeA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re853f69E3ReztHmQYBCqGs79UzgA/photo.jpg?sz=128", "display_name": "Veysel Turan", "link": "https://stackoverflow.com/users/12448483/veysel-turan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574967505, "creation_date": 1574894031, "last_edit_date": 1574967505, "question_id": 59079343, "link": "https://stackoverflow.com/questions/59079343/is-there-a-way-to-detect-landing-area-for-autonomous-landing-using-only-opencv", "title": "Is there a way to detect landing-area for autonomous landing using only opencv?", "body": "<p>My Goals:\n1- Detecting the  appropriate landing area for the drone using only image-processing in a known area</p>\n\n<p>2- Detecting the objects and avoid from them while drone is landing.</p>\n\n<p>I am trying to make an area detection for a drone autonomous landing in a known area. \nI've drawn a small marker as a rectangle for autonomous landing. But I want the system to draw this rectangle in random area where is appropriate for landing and this marker should not go over any object. If there is an object then will make another choice to detect area.</p>\n\n<p>If you can't open images then you can use this link:</p>\n\n<p><a href=\"https://drive.google.com/open?id=1fHfE3IP0JKPNk8DpQaFXX4jk6mnEq3Xz\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=1fHfE3IP0JKPNk8DpQaFXX4jk6mnEq3Xz</a></p>\n\n<pre><code>Created on Mon Oct 28 16:23:44 2019\n\n@author: Veysel\n\"\"\"\n\nfrom skimage.feature import peak_local_max\nfrom skimage.morphology import watershed\nfrom scipy import ndimage\nimport numpy as np\nimport imutils\nimport cv2\n\n\nimg = cv2.imread('grass.jpg')\nkernel = np.array([\n       [0, 0, 1, 0, 0], # elliptical Kernel 5x5\n       [0, 1, 1, 1, 0],\n       [1, 1, 1, 1, 1],\n       [0, 1, 1, 1, 0],\n       [0, 0, 1, 0, 0]], dtype=\"uint8\")\n\ngray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)\nblur = cv2.GaussianBlur(gray,(5,5),0)\n\n\nhsv_img = cv2.cvtColor(img,cv2.COLOR_BGR2HSV)\n\nedge_low = np.array([ 30 , 25, 25])\nedge_high = np.array([ 74 ,  255, 105])\nmask = cv2.inRange(hsv_img,edge_low,edge_high)\n\n\nimask = mask&gt;0\ngreen = np.zeros_like(img,np.uint8)\ngreen[imask] = img[imask]\n\nret,th = cv2.threshold(gray, 177, 255,cv2.THRESH_BINARY)\n\n\n\nopening = cv2.morphologyEx(blur, cv2.MORPH_OPEN, kernel)\nclosing = cv2.morphologyEx(opening, cv2.MORPH_CLOSE, kernel)\n\n\nedges = cv2.Canny(closing,100,200)\ndilation = cv2.dilate(edges, kernel, iterations=2)\n\ncontours, hierarchy = cv2.findContours(dilation.copy(),cv2.RETR_TREE,cv2.CHAIN_APPROX_SIMPLE)\n\ncontours = sorted(contours, key = cv2.contourArea, reverse = True)\n\ncnt = contours[0]\n\n\narea = cv2.contourArea(cnt)\n\n# Draw the contour \nimg_copy = img.copy()\nfinal = cv2.drawContours(img_copy, contours, contourIdx = -1, color = (255, 0, 0), thickness = 2)\n\n\ndraw = cv2.drawContours(img, contours, -1, (0,255,0), 2)\n\n# The first order of the contours\nc_0 = contours[0]\n\n# Detect the convex contour\nhull = cv2.convexHull(c_0)\nimg_copy = img.copy()\nimg_hull = cv2.drawContours(img_copy, contours = [hull], \n                            contourIdx = -0, \n                            color = (255, 0, 0), thickness = 2)\n\nhierarchy = hierarchy[0] # get the actual inner list of hierarchy descriptions\nfor component in zip(contours, hierarchy):\n    currentContour = component[0]\n    currentHierarchy = component[1]\n    x,y,w,h = cv2.boundingRect(currentContour)\n    if currentHierarchy[2] &lt; 0:\n        # these are the innermost child components\n        cv2.rectangle(img,(x,y),(x+w,y+h),(0,0,255),2)\n    elif currentHierarchy[3] &lt; 0:\n        # these are the outermost parent components\n        cv2.rectangle(img,(x,y),(x+w,y+h),(255,0,0),2)\n\n\nmask = np.zeros(shape = img.shape, dtype = \"uint8\")\n\nfor c in contours:\n    (x, y, w, h) = cv2.boundingRect(c)\n\n    cv2.rectangle(img = mask, \n        pt1 = (x, y), \n        pt2 = (x + w, y + h), \n        color = (255, 255, 255), \n        thickness = -1)\nimage = cv2.bitwise_and(src1 = img, src2 = mask)\n\n\n\ncolor =(255,0,0)\nx1 = np.random.random_integers(300) #I want this rectangle should be drawn\ny1 = np.random.random_integers(300) # any area where is no objects\nh1 = 50\nw1 = 50\n\ncv2.rectangle(green, (x1,y1), (x1+w1,y1+h1), color, -1)\n\ncv2.imshow(\"FilterImage\",image1)\ncv2.imshow(\"DilationCanny\",dilation)\ncv2.imshow(\"HSV\",hsv_img)\ncv2.imshow(\"HSV2BGR\",green)\n\n\n\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Vr20D.jpg\" rel=\"nofollow noreferrer\">Input_Image_Simplest_area_for_landing</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lvv7O.png\" rel=\"nofollow noreferrer\">Output_Image</a></p>\n"}, {"tags": ["python", "list", "zip"], "comments": [{"owner": {"reputation": 357, "user_id": 10190971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aEzI.jpg?s=128&g=1", "display_name": "okawo", "link": "https://stackoverflow.com/users/10190971/okawo"}, "edited": false, "score": 1, "creation_date": 1574894152, "post_id": 59079339, "comment_id": 104395793, "body": "do you have any code?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 7, "creation_date": 1574894175, "post_id": 59079339, "comment_id": 104395796, "body": "Just <code>zip</code> the lists and compare: <code>c = [x for x,y in zip(a,b) if x == y]</code>"}, {"owner": {"reputation": 13, "user_id": 12064765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBuRiopi8PdrTBi3eDunMGyzDxvtKLHTET9fqWm3Q=k-s128", "display_name": "nddragoon", "link": "https://stackoverflow.com/users/12064765/nddragoon"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1574894966, "post_id": 59079339, "comment_id": 104396023, "body": "@MarkMeyer This worked, thank you so much!"}], "answers": [{"comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1574894648, "post_id": 59079405, "comment_id": 104395914, "body": "The OP gave an example of the return value:  <code>[1, 2, 7, 1]</code> your code returns booleans."}, {"owner": {"reputation": 13, "user_id": 12064765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBuRiopi8PdrTBi3eDunMGyzDxvtKLHTET9fqWm3Q=k-s128", "display_name": "nddragoon", "link": "https://stackoverflow.com/users/12064765/nddragoon"}, "edited": false, "score": 0, "creation_date": 1574894697, "post_id": 59079405, "comment_id": 104395933, "body": "The thing is I don&#39;t wanna see IF there are any that are equal, I wanna see their values"}], "tags": [], "owner": {"reputation": 689, "user_id": 12423932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f358225ae926f27c3eb0d33e7a101581?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Cortinovis", "link": "https://stackoverflow.com/users/12423932/enrico-cortinovis"}, "is_accepted": false, "score": 0, "last_activity_date": 1574894516, "creation_date": 1574894516, "answer_id": 59079405, "question_id": 59079339, "link": "https://stackoverflow.com/questions/59079339/how-can-i-compare-elements-in-2-lists-in-the-same-index-in-their-respective-list/59079405#59079405", "title": "How can I compare elements in 2 lists in the same index in their respective lists in Python?", "body": "<p>You can <a href=\"https://docs.python.org/2/library/functions.html#zip\" rel=\"nofollow noreferrer\"><code>zip</code></a> the lists and return the test (which will return a variable of type <code>boolean</code>):</p>\n\n<pre><code>[i == j for i, j in zip(x_list, y_list)]\n</code></pre>\n\n<p>You could use <code>any</code> to quickly check for the existence of a <code>False</code> (it will be false when the two items are not the same) if you don't need the values:</p>\n\n<pre><code>any(i != j for i, j in zip(x_list, y_list))\n</code></pre>\n\n<p>The <code>any</code> version would break once a <code>False</code> is found meaning you may not have to traverse the whole lists except in the worst case.</p>\n"}, {"tags": [], "owner": {"reputation": 374, "user_id": 5070837, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Upmfc3UeMCA/AAAAAAAAAAI/AAAAAAAABjM/y_3npsKR19k/photo.jpg?sz=128", "display_name": "darthbhyrava", "link": "https://stackoverflow.com/users/5070837/darthbhyrava"}, "is_accepted": false, "score": 0, "last_activity_date": 1574895256, "creation_date": 1574895256, "answer_id": 59079501, "question_id": 59079339, "link": "https://stackoverflow.com/questions/59079339/how-can-i-compare-elements-in-2-lists-in-the-same-index-in-their-respective-list/59079501#59079501", "title": "How can I compare elements in 2 lists in the same index in their respective lists in Python?", "body": "<p>If both lists are of equal length,<code>c = [val for ind, val in enumerate(a) if b[ind] == val]</code> should work.</p>\n"}, {"tags": [], "owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "is_accepted": true, "score": 3, "last_activity_date": 1574898983, "creation_date": 1574898983, "answer_id": 59080001, "question_id": 59079339, "link": "https://stackoverflow.com/questions/59079339/how-can-i-compare-elements-in-2-lists-in-the-same-index-in-their-respective-list/59080001#59080001", "title": "How can I compare elements in 2 lists in the same index in their respective lists in Python?", "body": "<p>simplest method would probably just be doing a list comprehension:</p>\n\n<pre><code>c = [x for x,y in zip(a,b) if x == y]\n</code></pre>\n\n<p>for the sake of a different approach and just out of interest..could also do it this way:</p>\n\n<pre><code>from itertools import compress\nmask = [x==y for x,y in zip(a,b)]\nc = list(compress(a,mask))\n</code></pre>\n\n<p>or if numpy is an option (good for larger lists):</p>\n\n<pre><code>import numpy as np\na,b = np.array(a), np.array(b)\nc = a[np.equal(a,b)].tolist()\n</code></pre>\n\n<p>all ways give: </p>\n\n<pre><code>[1, 2, 7, 1]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12064765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBuRiopi8PdrTBi3eDunMGyzDxvtKLHTET9fqWm3Q=k-s128", "display_name": "nddragoon", "link": "https://stackoverflow.com/users/12064765/nddragoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 59080001, "answer_count": 3, "score": 1, "last_activity_date": 1574898983, "creation_date": 1574894018, "last_edit_date": 1574898234, "question_id": 59079339, "link": "https://stackoverflow.com/questions/59079339/how-can-i-compare-elements-in-2-lists-in-the-same-index-in-their-respective-list", "title": "How can I compare elements in 2 lists in the same index in their respective lists in Python?", "body": "<p>Say I have 2 lists</p>\n\n<pre><code>a = [1, 2, 3, 4, 7, 1]\nb = [1, 2, 4, 5, 7, 1]\n</code></pre>\n\n<p>I want it to make a third list with only the elements that are equal in the same index in each list, in this case</p>\n\n<pre><code>c = [1, 2, 7, 1]\n</code></pre>\n\n<p>Is there a simple way to do this?</p>\n"}, {"tags": ["python", "python-3.x", "command-line", "parameter-passing", "command-line-arguments"], "answers": [{"tags": [], "owner": {"reputation": 1909, "user_id": 11758896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a02c66bfc9e9d899156c73891518e6?s=128&d=identicon&r=PG&f=1", "display_name": "Raserhin", "link": "https://stackoverflow.com/users/11758896/raserhin"}, "is_accepted": false, "score": 0, "last_activity_date": 1574895429, "creation_date": 1574895429, "answer_id": 59079528, "question_id": 59079320, "link": "https://stackoverflow.com/questions/59079320/how-to-respond-to-second-argument/59079528#59079528", "title": "How to respond to second argument?", "body": "<p>You should take a look at the docuemntation for <a href=\"https://docs.python.org/3.8/library/sys.html#sys.argv\" rel=\"nofollow noreferrer\">sys.argv</a>.\nBasically if you call your script as <code>python script.py console xbox</code> you would get a behaviour like:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\n\n\"script.py\" == sys.argv[0] # True\n\"console\" == sys.argv[1]   # True\n\"xbox\" == sys.argv[2]      # True\n\"console xbox\" == sys.argv # False\n\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11998052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9663e5607f7aa77e4698cce5b65dd56c?s=128&d=identicon&r=PG", "display_name": "user11998052", "link": "https://stackoverflow.com/users/11998052/user11998052"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1574895429, "creation_date": 1574893859, "question_id": 59079320, "link": "https://stackoverflow.com/questions/59079320/how-to-respond-to-second-argument", "title": "How to respond to second argument?", "body": "<p>I'm working on a program that would take 2 arguments in an input so for example:</p>\n\n<pre><code>console xbox\n</code></pre>\n\n<p>\"console\" was the first argument, \"xbox\" was the second one</p>\n\n<p>i tried to do something like:</p>\n\n<pre><code>if game == \"console\" + variable:\n</code></pre>\n\n<p>...\n...</p>\n\n<p>As \"variable\" would be where the second argument goes to, but the variable shouldn't have any lists with predefined strings or anything like that, i want the second argument to be completely random and then would like for the program to be able to interact with it. How would i go about doing that?</p>\n"}, {"tags": ["python", "select", "sqlalchemy"], "comments": [{"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1574896595, "post_id": 59079313, "comment_id": 104396402, "body": "can you share us how is schema table and the type ?..."}], "owner": {"reputation": 11, "user_id": 9101109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c6a749c4ff91681086b7339dd278d6?s=128&d=identicon&r=PG&f=1", "display_name": "RagedThe Hunter", "link": "https://stackoverflow.com/users/9101109/ragedthe-hunter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574893817, "creation_date": 1574893817, "question_id": 59079313, "link": "https://stackoverflow.com/questions/59079313/python-sqlalchemy-mysql-where-clause-on-a-date", "title": "Python sqlalchemy mysql .where clause on a date", "body": "<p>I have the following code which selects all records with the speciific ticker which works but im also trying to filter on the records past a specific date but it doesnt work it returns all records of that ticker and ignores the date condition, anyone help with this? </p>\n\n<pre><code>engine = get_engine()\nmetadata = MetaData(bind=engine)\nsession = sessionmaker(bind=engine)()\ntable = Table('market_data', metadata, autoload=True, autoload_with=engine)\nstmt = select([table]).where(and_(table.columns.date &gt; '2019-01-01',\n                                  table.columns.ticker == ticker\n                                  ))\n\nfields = ['date', 'ticker', 'high', 'low', 'open', 'close', 'volume', 'adj_close']\nstocks = session.query()\n\nconnection = engine.connect()\nresults = connection.execute(stmt).fetchall()\n\nreturn results\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 628, "user_id": 9291575, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JImm-luWgdQ/AAAAAAAAAAI/AAAAAAAACtQ/qARpsNYVCdM/photo.jpg?sz=128", "display_name": "Aule Mahal", "link": "https://stackoverflow.com/users/9291575/aule-mahal"}, "edited": false, "score": 2, "creation_date": 1574894191, "post_id": 59079307, "comment_id": 104395802, "body": "You should probably use <code>print(a, b)</code> as it is more general. Let Python do the string-casting.  Also,  <code>print()</code> accepts a parameter <code>sep</code> that defaults to one space, like in your example, but could be modified."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 0, "creation_date": 1574894406, "post_id": 59079307, "comment_id": 104395858, "body": "@SethMMorton. I don&#39;t think that&#39;s true unless you modify <code>sep</code>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 2, "creation_date": 1574894743, "post_id": 59079307, "comment_id": 104395947, "body": "@MadPhysicist: The question was edited to remove the difference (by adding in the space manually in the second case). Seth commented before the edit."}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 1, "creation_date": 1574895010, "post_id": 59079307, "comment_id": 104396035, "body": "@MartinEG It sounds like you observed these produce the same results and  (correctly) concluded that they do the same thing. Given that the first form requires <i>significantly</i> less typing and is much easier to understand at a glance, which do you think you should choose?"}], "answers": [{"comments": [{"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "reply_to_user": {"reputation": 1297, "user_id": 6074182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eea96ceabd30de865464b40ddbd2e64d?s=128&d=identicon&r=PG&f=1", "display_name": "Aemyl", "link": "https://stackoverflow.com/users/6074182/aemyl"}, "edited": false, "score": 0, "creation_date": 1574895451, "post_id": 59079359, "comment_id": 104396129, "body": "@Aemyl I don&#39;t think that&#39;s correct. Try this: <code>a = &quot;hello&quot;; print(a); print(str(a)); print(repr(a))</code> and report back the differences."}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "reply_to_user": {"reputation": 1297, "user_id": 6074182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eea96ceabd30de865464b40ddbd2e64d?s=128&d=identicon&r=PG&f=1", "display_name": "Aemyl", "link": "https://stackoverflow.com/users/6074182/aemyl"}, "edited": false, "score": 0, "creation_date": 1574895712, "post_id": 59079359, "comment_id": 104396190, "body": "@Aemyl Another, more definitive way to prove it uses <code>str</code> and not <code>repr</code> is to create a custom class where <code>__str__</code> is defined to return &quot;Banana&quot;, and <code>__repr__</code> is defined to return &quot;Apple&quot;, and then print an instance of the class."}, {"owner": {"reputation": 1297, "user_id": 6074182, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/eea96ceabd30de865464b40ddbd2e64d?s=128&d=identicon&r=PG&f=1", "display_name": "Aemyl", "link": "https://stackoverflow.com/users/6074182/aemyl"}, "reply_to_user": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 0, "creation_date": 1574896119, "post_id": 59079359, "comment_id": 104396291, "body": "@SethMMorton you&#39;re right, I got confused due to the behaviour of the interactive interpreter"}], "tags": [], "owner": {"reputation": 463, "user_id": 9758284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wuapn.jpg?s=128&g=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/9758284/tino"}, "is_accepted": false, "score": 2, "last_activity_date": 1596718541, "last_edit_date": 1596718541, "creation_date": 1574894189, "answer_id": 59079359, "question_id": 59079307, "link": "https://stackoverflow.com/questions/59079307/what-is-the-difference-between-printing-two-variables-using-and-in-pytho/59079359#59079359", "title": "What is the difference between printing two variables using &quot;+&quot; and &quot;,&quot; in Python?", "body": "<p><code>print(a, b)</code> uses <code>a</code> and <code>b</code> as function parameters.</p>\n<p><code>print(str(a) + str(b))</code> actually concatenates strings and then passes result to <code>print()</code> function.</p>\n<p>That's the only difference.</p>\n<p>But you can get the advantage from <code>print(a, b)</code> by using <code>sep</code> argument.  This can be helpful when you're passing multiple arguments and you want all of them to be separated with certain text.</p>\n<p>Ex:</p>\n<pre class=\"lang-py prettyprint-override\"><code>a, b, c = 1, 2, 3\nprint(a, b, c, sep='--')   # prints 1--2--3\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11362468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3c371090b5a366fad4bd852fa9f646c?s=128&d=identicon&r=PG&f=1", "display_name": "MartinEG", "link": "https://stackoverflow.com/users/11362468/martineg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1596718541, "creation_date": 1574893782, "last_edit_date": 1596718462, "question_id": 59079307, "link": "https://stackoverflow.com/questions/59079307/what-is-the-difference-between-printing-two-variables-using-and-in-pytho", "title": "What is the difference between printing two variables using &quot;+&quot; and &quot;,&quot; in Python?", "body": "<pre><code>a = 2\nb = 4\nprint(a, b)\nprint(str(a) +&quot; &quot; + str(b))\n</code></pre>\n<p>Is there a difference between the first print and the second print? If there is, which one should I use?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1574893834, "post_id": 59079244, "comment_id": 104395705, "body": "What input are you giving? I tried with <code>&#39;1 + 1 = 2&#39;</code> and didn&#39;t get an error."}, {"owner": {"reputation": 520, "user_id": 5003570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c076b36bd93429f5d269358182972c4b?s=128&d=identicon&r=PG&f=1", "display_name": "Mats Wichmann", "link": "https://stackoverflow.com/users/5003570/mats-wichmann"}, "edited": false, "score": 1, "creation_date": 1574894159, "post_id": 59079244, "comment_id": 104395795, "body": "You can also unpack directly from splitting: a string&#39;s split method returns a list, which you know since you pick the 0&#39;th and 1st elements of it, but you can write like this: <code>left, right = equation.split(&#39; = &#39;)</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574894279, "post_id": 59079244, "comment_id": 104395826, "body": "AttributeError: &#39;Equation&#39; object has no attribute &#39;balance&#39;"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1574894289, "post_id": 59079244, "comment_id": 104395829, "body": "Welcome to StackOverflow. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified."}, {"owner": {"reputation": 3753, "user_id": 1718575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f36e2abcb1e57219a4b58d32c5bc6d?s=128&d=identicon&r=PG", "display_name": "NicholasM", "link": "https://stackoverflow.com/users/1718575/nicholasm"}, "edited": false, "score": 4, "creation_date": 1574895382, "post_id": 59079244, "comment_id": 104396113, "body": "I suspect that the code you\u2019re running, and the Python source file you\u2019re looking at, are not in sync."}], "answers": [{"tags": [], "owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "is_accepted": false, "score": 0, "last_activity_date": 1574895908, "creation_date": 1574895908, "answer_id": 59079598, "question_id": 59079244, "link": "https://stackoverflow.com/questions/59079244/list-object-is-not-callable-trying-to-access-an-item-in-a-list-and-assign-it/59079598#59079598", "title": "&#39;list&#39; object is not callable, Trying to access an item in a list and assign it to an object", "body": "<p>Your traceback doesn't make sense, probably for good reason.  Try to find that reason.</p>\n\n<p>Sometimes the problem in this situation is that you have an old <code>.pyc</code> file lying around from a previous version of the code.  This can happen if e.g. you had an <code>equation</code> library, as well as a <code>equation.py</code> that got deleted at some point.</p>\n"}], "owner": {"reputation": 29, "user_id": 12448541, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219993348494421/picture?type=large", "display_name": "Tyler Nam Nguyen", "link": "https://stackoverflow.com/users/12448541/tyler-nam-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574895908, "creation_date": 1574893441, "question_id": 59079244, "link": "https://stackoverflow.com/questions/59079244/list-object-is-not-callable-trying-to-access-an-item-in-a-list-and-assign-it", "title": "&#39;list&#39; object is not callable, Trying to access an item in a list and assign it to an object", "body": "<p>I am running code that is serving to balance chemical equations for general chemistry. The file that I'm running from contains this code:</p>\n\n<pre><code>from equation import Equation\nfrom time import sleep\n\n\ndef run_balance():\n    # Runs the chemical equation balance algorithm\n    print('=================================================')\n    print('Insert chemical equation with elements in parentheses followed by the number of atoms:')\n    print('Example: (H)2 + (O)2 = (H)2(O)1')\n    user_input = str(input('&gt;&gt;&gt; '))\n    try:\n        equation = Equation(user_input)\n        print('Balanced equation: ' + equation.balance())\n        sleep(3)\n        run_balance()\n    except IndexError:\n        print('Invalid input...')\n        sleep(3)\n        run_balance()\n\nrun_balance()\n</code></pre>\n\n<p>The file where the <code>Equation</code> class is located contains the following code:</p>\n\n<pre><code>class Equation:\n    # Create a class for chemical equations\n    def __init__(self, equation):\n        # Initialize equation into an object the code understands\n        self.left = list()\n        self.right = list()\n        self.balanced = True\n\n        integers = '0123456789'\n        split = equation.split(' = ')\n        left = split[0]\n        right = split[1]\n        left_components = left.split(' + ')\n        right_components = right.split(' + ')\n        total_left = dict()\n        total_right = dict()\n</code></pre>\n\n<p>When I give any input, I receive the following error:</p>\n\n<pre><code>     14         integers = '0123456789'\n     15         split = equation.split(' = ')\n---&gt; 16         left = split[0]\n     17         right = split[1]\n     18         left_components = left.split(' + ')\n\nTypeError: 'list' object is not callable\n</code></pre>\n\n<p>I'm confused as I understand this error normally comes from using parentheses when trying to access an item in a list, for which you would just change the parentheses to square brackets. However, I am trying to assign <code>left</code> as the first half of <code>equation</code> after splitting it. Any advice?</p>\n"}, {"tags": ["python", "python-3.x", "algorithm", "math"], "comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1574893527, "post_id": 59079241, "comment_id": 104395583, "body": "You have <code>if</code>/<code>elif</code>/<code>elif</code> at the end of your function, but not all of them <code>return</code>. If your code takes the first branch then it reaches the end, and there is no explicit <code>return</code> statement so it returns <code>None</code>."}, {"owner": {"reputation": 266, "user_id": 5438236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uI4df.jpg?s=128&g=1", "display_name": "Mochamethod", "link": "https://stackoverflow.com/users/5438236/mochamethod"}, "reply_to_user": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1574894324, "post_id": 59079241, "comment_id": 104395841, "body": "Thanks guys. The book I&#39;m reading, Grokking Algorithms, didn&#39;t include a return statement when calling its recursive function in one example. I didn&#39;t think about that. I refactored the code to include a base case as well."}], "answers": [{"tags": [], "owner": {"reputation": 5056, "user_id": 4276090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r87tb.jpg?s=128&g=1", "display_name": "Skam", "link": "https://stackoverflow.com/users/4276090/skam"}, "is_accepted": true, "score": 0, "last_activity_date": 1574893510, "creation_date": 1574893510, "answer_id": 59079257, "question_id": 59079241, "link": "https://stackoverflow.com/questions/59079241/euclidean-gcd-function-returns-type-none-instead-of-int/59079257#59079257", "title": "Euclidean GCD function returns type None instead of int", "body": "<p>You are making a recursive call but not returning the value. i.e.</p>\n\n<pre><code>if a != 0 and b != 0:\n    euclidian(a, b)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if a != 0 and b != 0:\n    return euclidian(a, b)\n</code></pre>\n\n<p>You also have no base case as others have said.</p>\n"}, {"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 0, "last_activity_date": 1574893555, "creation_date": 1574893555, "answer_id": 59079267, "question_id": 59079241, "link": "https://stackoverflow.com/questions/59079241/euclidean-gcd-function-returns-type-none-instead-of-int/59079267#59079267", "title": "Euclidean GCD function returns type None instead of int", "body": "<p>When a function returns <code>None</code>, it usually means it ran off the end of the code without hitting a <code>return</code> statement.  In your case you have a bunch of <code>if</code> statements, and I'm guessing none of them applied.</p>\n"}], "owner": {"reputation": 266, "user_id": 5438236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uI4df.jpg?s=128&g=1", "display_name": "Mochamethod", "link": "https://stackoverflow.com/users/5438236/mochamethod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "closed_date": 1574894335, "accepted_answer_id": 59079257, "answer_count": 2, "score": -2, "last_activity_date": 1574893555, "creation_date": 1574893385, "question_id": 59079241, "link": "https://stackoverflow.com/questions/59079241/euclidean-gcd-function-returns-type-none-instead-of-int", "closed_reason": "Duplicate", "title": "Euclidean GCD function returns type None instead of int", "body": "<p>I'm getting back into mathematics, algorithms, and data structures. Today, I spent time studying up on the Euclidean algorithm and greatest common divisors.  </p>\n\n<p>Below, I implemented a function to demonstrate what I learned:  </p>\n\n<pre><code>from math import floor\n\ndef euclidian(a: int, b: int):\n    # a = b * q + r\n    _q: int = int(floor(a / b))\n    print(f\"Quotient: {_q}\")\n    r: int = a % b\n    print(f\"Remainder: {r}\")\n    a = b\n    print(f\"A = B({a})\")\n    b = r\n    print(f\"B = R({b})\")\n\n    if a != 0 and b != 0:\n        euclidian(a, b)\n\n    # a = 0; gcd(0, b) = b\n    elif a == 0:\n        print(f\"Returning value a({b}) | type: {type(b)}\")\n        return b\n\n    # b = 0; gcd(a, 0) = a \n    elif b == 0:\n        print(f\"Returning value a({a}) | type: {type(a)}\")\n        return a\n\na: int = 270\nb: int = 192\ngcd: int = euclidian(a, b)\nprint(f\"GCD type: {type(gcd)}\")\nprint(f\"GCD({a}, {b}) = {gcd}\")\n</code></pre>\n\n<p>This recursive function goes through a couple iterations, and ends up returning these results: </p>\n\n<pre><code>Quotient: 6\nRemainder: 0\nA = B(6)\nB = R(0)\nReturning value a(6) | type: &lt;class 'int'&gt;\n\nGCD type: &lt;class 'NoneType'&gt;\nGCD(270, 192) = None\n</code></pre>\n\n<p>It's getting later in the day, so perhaps I just need a cup of tea to wake myself up. But I can't seem to wrap my head around why the variable <code>gcd</code> is <code>None</code> and not the integer value of <code>a</code>. What am I missing?   </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "gensim", "word2vec", "doc2vec"], "comments": [{"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1574900124, "post_id": 59079173, "comment_id": 104397193, "body": "Does the machine still show as busily executing one or more Python threads? Is there any other output at any console or log? Is it running in a form (interpreter or Jupyter notebook) where you could plausibly interrupt the last cell/script you executed (via a menu option or CTRL-C) and get back a stack of where it was interrupted? Is there any hint of files appearing at the location the save was intended? (It&#39;s highly likely the attempted-save is implicated: normal training that succeeds for more than 1 epoch would normally continue to the end without challenges.)"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1574900262, "post_id": 59079173, "comment_id": 104397210, "body": "Can you show the code that&#39;s trying to save the model? Are you sure you need to do such a save-after-epochs rather than just one save at the very end? Could you test your saving code (and full pipeline) with a tiny dummy corpus \u2013 for example, just the 1st 1000 documents \u2013 to make sure all steps run to completion quickly in that reduced case?"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1574900364, "post_id": 59079173, "comment_id": 104397233, "body": "Finally, that rate (<code>8566 words&#47;s</code>) is quite slow. Are all the progress log lines showing a similar rate? Are you sure the optimized cython code is being used? (If not there should have been a logged warning or two earlier in your output, and training will be 100x or more slower, and fixing that would be the topmost priority.) Is there anything else custom/extreme about your chosen training parameters or data/preprocessing that might account for very-slow training?"}, {"owner": {"reputation": 9, "user_id": 12448547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8691b9818f107496417ea27162aa67bb?s=128&d=identicon&r=PG&f=1", "display_name": "SaimonRoll", "link": "https://stackoverflow.com/users/12448547/saimonroll"}, "reply_to_user": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1575311025, "post_id": 59079173, "comment_id": 104515347, "body": "The save code does run at the very end, after all 10 epochs have run. It is a simple one that uses pickle to convert it to a bytes object and saves to s3.  It&#39;s running on Amazon ECS and it does indicate that Python is still running, but there is nothing being output to the log.  That rate seems to be constant throughout training. I&#39;m not sure if the cython code was being used, but it did not receive any warnings. It is just training on CPU, no GPUs, if that helps."}, {"owner": {"reputation": 9, "user_id": 12448547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8691b9818f107496417ea27162aa67bb?s=128&d=identicon&r=PG&f=1", "display_name": "SaimonRoll", "link": "https://stackoverflow.com/users/12448547/saimonroll"}, "reply_to_user": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1575311787, "post_id": 59079173, "comment_id": 104515700, "body": "Running <code>gensim.models.doc2vec.FAST_VERSION</code> returns 1, so I think it&#39;s using the cython code."}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1575313389, "post_id": 59079173, "comment_id": 104516343, "body": "I&#39;m unfamiliar with ECS, but on a normal Linux/UNIX machine there&#39;d be a way to monitor if the processes are still keeping CPUs busy \u2013 such as via the <code>top</code> command \u2013 and that&#39;s what should be checked. Is it running in a form (interpreter or Jupyter notebook) where you could plausibly interrupt the last cell/script you executed (via a menu option or CTRL-C) and get back a stack of where it was interrupted? (If not, how is it launched &amp; how are you viewing its output?)"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1575313545, "post_id": 59079173, "comment_id": 104516410, "body": "Is still likely the saving code is implicated in the problem. Normally, if you let the training finish and then ran code-to-save, there&#39;d be a bunch of additional INFO-logged lines \u2013 which is why it sounded like you were trying to save in some other per-epoch handler (which is probably a bad idea in your situatiion). Can you show the code you&#39;re using the train &amp; save the model? Is there anything else custom/extreme about your chosen training parameters or data/preprocessing that might account for very-slow training?"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "edited": false, "score": 0, "creation_date": 1575313652, "post_id": 59079173, "comment_id": 104516449, "body": "Also, note that plain Python pickle has problems with larger models; the <code>gensim</code> built-in <code>.save()</code> will be more effective (though will also tend to split larger models among multiple files). How large is your corpus and model, in terms of the number-of-unique words &amp; number-of-unique tags reported early in the logging? Could you test your saving code (and full pipeline) with a tiny dummy corpus \u2013 for example, just the 1st 1000 documents \u2013 to make sure all steps run to completion quickly in that reduced case?"}], "owner": {"reputation": 9, "user_id": 12448547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8691b9818f107496417ea27162aa67bb?s=128&d=identicon&r=PG&f=1", "display_name": "SaimonRoll", "link": "https://stackoverflow.com/users/12448547/saimonroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574892971, "creation_date": 1574892971, "question_id": 59079173, "link": "https://stackoverflow.com/questions/59079173/gensim-doc2vec-training-stalled", "title": "Gensim doc2vec training stalled", "body": "<p>I have been training a gensim doc2vec model for a couple days on 10 epochs. It's been running smoothly until it got to 79.29% on the last Epoch, and it suddenly stopped logging anything new. The last message logged was:</p>\n\n<blockquote>\n  <p>INFO:gensim.models.base_any2vec:EPOCH 10 - PROGRESS: at 79.29% examples, 8566 words/s, in_qsize 0, out_qsize 0</p>\n</blockquote>\n\n<p>There is a line of code that saves the model after the 10 epochs, but it hasn't saved anything. Any idea what could be the issue?</p>\n"}, {"tags": ["python", "numpy", "linear-algebra", "blas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1574893415, "post_id": 59079148, "comment_id": 104395552, "body": "Are you on Windows by any chance?"}, {"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1574893603, "post_id": 59079148, "comment_id": 104395612, "body": "macbook pro, I get the fastest to be t3 = 0.09004902839660645"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1574893981, "post_id": 59079148, "comment_id": 104395738, "body": "I get <code>A</code> to be fastest. But this is a silly comparison; 1) it&#39;s a single pass and the variation is all over the place, 2) OSs like Windows throttle CPU power to be power-saving and gradually release resources if there&#39;s something that is CPU-intensive. Use <code>timeit</code>, otherwise it&#39;s a pointless debate"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1574895896, "post_id": 59079148, "comment_id": 104396234, "body": "I get the same pattern (as the OP) with linux and <code>timeit</code>.  <code>t1</code> is noticeably faster; <code>t2</code> is slightly slower than <code>t3</code>.  I think there&#39;s something about the modern <code>dot&#47;@</code> that can detect the common base of <code>A.T</code> and <code>A</code>, and take an optimized <code>BLAS</code> route."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1574896056, "post_id": 59079148, "comment_id": 104396273, "body": "@hpaulj I&#39;ll have to look into MKL speeds tomorrow, then."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1574896297, "post_id": 59079148, "comment_id": 104396339, "body": "You edited @hpaulj , and I can&#39;t remember what statement I replied to :/"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1574896431, "post_id": 59079148, "comment_id": 104396368, "body": "<a href=\"https://stackoverflow.com/questions/43453707/numpy-dot-too-clever-about-symmetric-multiplications\">Numpy dot too clever about symmetric multiplications</a>; <a href=\"https://stackoverflow.com/questions/50733148/numpy-efficient-matrix-self-multiplication-gram-matrix\">Numpy efficient matrix self-multiplication (gram matrix)</a>"}, {"owner": {"reputation": 133, "user_id": 4913660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aee7b3f3908eecd53ff9e037b003480?s=128&d=identicon&r=PG&f=1", "display_name": "user37292", "link": "https://stackoverflow.com/users/4913660/user37292"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1574897054, "post_id": 59079148, "comment_id": 104396500, "body": "@roganjosh, I am on Windows yes. I get the nudge that it could make this comparison meaningless...But will be looking forward to hearing more about MKL speeds and this modern dot/ features. Thanks"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1574897331, "post_id": 59079148, "comment_id": 104396573, "body": "@user37292 first, <a href=\"https://stackoverflow.com/a/38562303/4799172\">this</a> lesson for me. Second, you need to use <code>np.show_config()</code> to see if there are any MKL libraries in there"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1574897568, "post_id": 59079148, "comment_id": 104396629, "body": "Beyond that, if you don&#39;t want anaconda, you can use one of the <a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/#numpy\" rel=\"nofollow noreferrer\">unofficial binaries</a>"}, {"owner": {"reputation": 133, "user_id": 4913660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aee7b3f3908eecd53ff9e037b003480?s=128&d=identicon&r=PG&f=1", "display_name": "user37292", "link": "https://stackoverflow.com/users/4913660/user37292"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1575019548, "post_id": 59079148, "comment_id": 104436295, "body": "@roganjosh, Thanks real interesting."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 4913660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aee7b3f3908eecd53ff9e037b003480?s=128&d=identicon&r=PG&f=1", "display_name": "user37292", "link": "https://stackoverflow.com/users/4913660/user37292"}, "edited": false, "score": 0, "creation_date": 1574897267, "post_id": 59079689, "comment_id": 104396559, "body": "most interesting, so it has to do with the use of BLAS syrk, making what I read on the quoted link rather obsolete."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 1, "last_activity_date": 1574896619, "creation_date": 1574896619, "answer_id": 59079689, "question_id": 59079148, "link": "https://stackoverflow.com/questions/59079148/numpy-optimisation-c-and-f-contiguous-matrices/59079689#59079689", "title": "Numpy optimisation - C and F_Contiguous Matrices", "body": "<p>My linux/timeit times:</p>\n\n<pre><code>In [122]: timeit A.T@A                                                          \n258 ms \u00b1 523 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nIn [123]: timeit AT_F@A                                                         \n402 ms \u00b1 2.66 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nIn [124]: timeit AT_C@A                                                         \n392 ms \u00b1 9.16 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nIn [125]: %%timeit x=A.T.copy(order='F') \n     ...: x@A                                                                       \n410 ms \u00b1 18.5 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 4913660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8aee7b3f3908eecd53ff9e037b003480?s=128&d=identicon&r=PG&f=1", "display_name": "user37292", "link": "https://stackoverflow.com/users/4913660/user37292"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59079689, "answer_count": 1, "score": 0, "last_activity_date": 1574896619, "creation_date": 1574892819, "last_edit_date": 1574895027, "question_id": 59079148, "link": "https://stackoverflow.com/questions/59079148/numpy-optimisation-c-and-f-contiguous-matrices", "title": "Numpy optimisation - C and F_Contiguous Matrices", "body": "<p>I got intrigued by the discussion in <a href=\"http://scipy.github.io/old-wiki/pages/PerformanceTips\" rel=\"nofollow noreferrer\">http://scipy.github.io/old-wiki/pages/PerformanceTips</a> on how to get faster dot computations. </p>\n\n<p>It is concluded dotting C_contiguous matrices should be faster, and the following results are presented</p>\n\n<pre><code>import numpy as np\nfrom time import time\nN = 1000000\nn = 40\nA = np.ones((N,n))\n\nAT_F = np.ones((n,N), order='F')\nAT_C = np.ones((n,N), order='C')\n&gt;&gt;&gt; t = time();C = np.dot(A.T, A);t1 = time() - t\n3.9203271865844727\n&gt;&gt;&gt; t = time();C = np.dot(AT_F, A);t2 = time() - t\n3.9461679458618164\n&gt;&gt;&gt; t = time();C = np.dot(AT_C, A);t3 = time() - t\n2.4167969226837158\n</code></pre>\n\n<p>I tried it as well (Python 3.7) and the final computation, using C_contiguous matrices, is not faster at all!</p>\n\n<p>I get the following results</p>\n\n<pre><code> &gt;&gt;&gt; t1\n 0.2102820873260498\n &gt;&gt;&gt; t2\n 0.4134488105773926\n &gt;&gt;&gt; t3\n 0.28309035301208496\n</code></pre>\n\n<p>It turns out the first approach is the fastest.</p>\n\n<p>Where is this discrepancy between their and mine calculations coming from?\nHow can transposing in the first case not slow the calculation down?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "scikit-learn", "scipy"], "comments": [{"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574899412, "post_id": 59079086, "comment_id": 104397056, "body": "what if you uninstall scikit and reinstall?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6940047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75375f752d2715f0cdff0754419602e?s=128&d=identicon&r=PG&f=1", "display_name": "cbatu", "link": "https://stackoverflow.com/users/6940047/cbatu"}, "edited": false, "score": 0, "creation_date": 1574894145, "post_id": 59079103, "comment_id": 104395790, "body": "I just ran &quot;pip install -U scikit-learn&quot; and it still showing me the same error message. When I hover over &quot;resample&quot; I get a warning saying &#39;resample is not declared in <b>all</b>&#39;"}, {"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "reply_to_user": {"reputation": 11, "user_id": 6940047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75375f752d2715f0cdff0754419602e?s=128&d=identicon&r=PG&f=1", "display_name": "cbatu", "link": "https://stackoverflow.com/users/6940047/cbatu"}, "edited": false, "score": 0, "creation_date": 1574931872, "post_id": 59079103, "comment_id": 104406022, "body": "try to install again scipy. see my answer"}], "tags": [], "owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "is_accepted": false, "score": 1, "last_activity_date": 1574931831, "last_edit_date": 1574931831, "creation_date": 1574892488, "answer_id": 59079103, "question_id": 59079086, "link": "https://stackoverflow.com/questions/59079086/importerror-cannot-import-name-qr-insert/59079103#59079103", "title": "ImportError: cannot import name qr_insert", "body": "<p>Broken instalaltion. Use:</p>\n\n<pre><code>pip install -U scikit-learn\n</code></pre>\n\n<p>or</p>\n\n<pre><code>conda install scikit-learn\n</code></pre>\n\n<p>and </p>\n\n<pre><code>pip install scipy\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6940047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75375f752d2715f0cdff0754419602e?s=128&d=identicon&r=PG&f=1", "display_name": "cbatu", "link": "https://stackoverflow.com/users/6940047/cbatu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574956969, "creation_date": 1574956969, "answer_id": 59092656, "question_id": 59079086, "link": "https://stackoverflow.com/questions/59079086/importerror-cannot-import-name-qr-insert/59092656#59092656", "title": "ImportError: cannot import name qr_insert", "body": "<p>I switched from python 2.7 to a virtual env using python 3.7 and it worked. The <code>qr_insert</code> module might not have been supported by python 2.7, but that is an issue in and of itself. Thanks again for the help!</p>\n"}], "owner": {"reputation": 11, "user_id": 6940047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75375f752d2715f0cdff0754419602e?s=128&d=identicon&r=PG&f=1", "display_name": "cbatu", "link": "https://stackoverflow.com/users/6940047/cbatu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574956969, "creation_date": 1574892383, "question_id": 59079086, "link": "https://stackoverflow.com/questions/59079086/importerror-cannot-import-name-qr-insert", "title": "ImportError: cannot import name qr_insert", "body": "<p>I run the following import statement:</p>\n\n<pre><code>from sklearn.utils import resample\n</code></pre>\n\n<p>and I get the following error:</p>\n\n<pre><code>File \"/Library/Python/2.7/site-packages/scipy/sparse/linalg/isolve/_gcrotmk.py\", line 10, in &lt;module&gt;\n  from scipy.linalg import (get_blas_funcs, qr, solve, svd, qr_insert, lstsq)\nImportError: cannot import name qr_insert\n</code></pre>\n\n<p>How can I go about fixing this issue? </p>\n"}, {"tags": ["python", "statistics", "histogram"], "comments": [{"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574899627, "post_id": 59079075, "comment_id": 104397102, "body": "you simply just want to make the y values between 0 and 1?"}, {"owner": {"reputation": 1, "user_id": 11877178, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m7167-BXHCI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbUS0yzyfYKtbVdgITeyUjbGHhyjQ/mo/photo.jpg?sz=128", "display_name": "Royi Avron", "link": "https://stackoverflow.com/users/11877178/royi-avron"}, "reply_to_user": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574920482, "post_id": 59079075, "comment_id": 104401452, "body": "yes, but of still be mathematically correct, if the x values will also be between 0,1 as it is in the M=10000 example, its no good"}, {"owner": {"reputation": 1, "user_id": 11877178, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m7167-BXHCI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbUS0yzyfYKtbVdgITeyUjbGHhyjQ/mo/photo.jpg?sz=128", "display_name": "Royi Avron", "link": "https://stackoverflow.com/users/11877178/royi-avron"}, "reply_to_user": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574921160, "post_id": 59079075, "comment_id": 104401652, "body": "I would like that the y axis will show probability, therefor be between [0,1]"}, {"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574940748, "post_id": 59079075, "comment_id": 104410901, "body": "why don&#39;t you just scale them?"}, {"owner": {"reputation": 1, "user_id": 11877178, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m7167-BXHCI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbUS0yzyfYKtbVdgITeyUjbGHhyjQ/mo/photo.jpg?sz=128", "display_name": "Royi Avron", "link": "https://stackoverflow.com/users/11877178/royi-avron"}, "reply_to_user": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574942011, "post_id": 59079075, "comment_id": 104411589, "body": "can you elaborate?"}, {"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574949652, "post_id": 59079075, "comment_id": 104415665, "body": "scale your x-values so the max is 1, and do the same for the y-axis?"}], "owner": {"reputation": 1, "user_id": 11877178, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-m7167-BXHCI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbUS0yzyfYKtbVdgITeyUjbGHhyjQ/mo/photo.jpg?sz=128", "display_name": "Royi Avron", "link": "https://stackoverflow.com/users/11877178/royi-avron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574893426, "creation_date": 1574892327, "last_edit_date": 1574893426, "question_id": 59079075, "link": "https://stackoverflow.com/questions/59079075/python-histogram-plotting-y-axis-not-normalized-for-large-array", "title": "Python histogram plotting: - y axis not normalized for large array", "body": "<p>hi all i have the following code for an assignment for class-\ni was asked to plot an normalized histogram for M={1000,10000,1000000} vector of Random variables with an exponential distribution, and to see Central limit theorem for large enough vector.\nfor an array of 1000 (m=1000) i get a histgram were the y axis is &lt;1\nhowever when i go up to an array of 10000 and above i get a histogram were the y axis is >1, and the x axis shrunken in return.\nthis of course is still mathematically correct  but i would like to get the y axis to be between<br>\n y=[0,1]</p>\n\n<p>i have tried density=True, and tried via plt.hist but has not worked, also i have tried a weights solution with the size of the array, that was posted here, but non have worked. :(<a href=\"https://i.stack.imgur.com/NDTfQ.png\" rel=\"nofollow noreferrer\">10000</a> <a href=\"https://i.stack.imgur.com/9wA0d.png\" rel=\"nofollow noreferrer\">1000</a></p>\n\n<p>and advise? </p>\n\n<p>i have added a picture of the histogram for an array of M=1000, and M=10000</p>\n\n<pre><code>import random \nimport math\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.mlab as mlab\nimport seaborn as sns\ndef questb(M):\nLambda=0.1\nL=5\nN=500\nhistgram=[]\nSum=0\nw=0\ntemp=[]\nfor m in range(0,M):\n    for i in range (0, N//L):\n        for j in range (0,5):\n            temp.append((-1/Lambda)*math.log(random.uniform(0.0,1.0)))\n        w=(min(temp))\n        Sum=Sum+(w-2)\n        w=0\n        temp=[]\n    Sum=(L*1.0/M*1.0)*math.sqrt(N*1.0/L*1.0)*Sum\n    histgram.append(Sum)\n    Sum=0\nreturn histgram\nM=10000\nthefinalhistgram=questb(M)\nsns.set(color_codes=True)\nsns.distplot(thefinalhistgram);\nplt.title(M)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 185, "user_id": 8185239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed11af270cf8f2f40b242374e1421738?s=128&d=identicon&r=PG", "display_name": "Edoardo Facchinelli", "link": "https://stackoverflow.com/users/8185239/edoardo-facchinelli"}, "edited": false, "score": 0, "creation_date": 1574892479, "post_id": 59079021, "comment_id": 104395246, "body": "I recall having slow results using YEAR or MONTH, especially in WHERE conditions, depending on how consistent the data is in the column maybe you can avoid it or use regex?"}, {"owner": {"reputation": 3, "user_id": 12358454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCCk5Z04mtXV2ogX08KpRTICE0ikc-0eOnwN-oZ=k-s128", "display_name": "Miranda QY", "link": "https://stackoverflow.com/users/12358454/miranda-qy"}, "reply_to_user": {"reputation": 185, "user_id": 8185239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed11af270cf8f2f40b242374e1421738?s=128&d=identicon&r=PG", "display_name": "Edoardo Facchinelli", "link": "https://stackoverflow.com/users/8185239/edoardo-facchinelli"}, "edited": false, "score": 0, "creation_date": 1574894477, "post_id": 59079021, "comment_id": 104395876, "body": "I do not know if it is a problem of django cursor towards mysql because in mysql 4 queries it is done very fast and if the 4 questions with processes I try to make them with a cursor and the time too high to mysql configure it to allow more than 1 connection @EdoardoFacchinelli"}], "owner": {"reputation": 3, "user_id": 12358454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCCk5Z04mtXV2ogX08KpRTICE0ikc-0eOnwN-oZ=k-s128", "display_name": "Miranda QY", "link": "https://stackoverflow.com/users/12358454/miranda-qy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574892006, "creation_date": 1574892006, "question_id": 59079021, "link": "https://stackoverflow.com/questions/59079021/django-queries-with-cursor-slow", "title": "Django queries with cursor slow", "body": "<p>I have a problem with some queries that are taking 15 seconds onwards (it is a lot) with cursor in Djando (without using orm because it takes even more) and directly in mysql it takes 4 or 5 seconds, which I think I can be affecting</p>\n\n<pre><code>cursor = connection.cursor()\ncursor.execute(\"select m.ub ,m.eq , MONTH(m.fecha) as fecha,\nAVG(m.cantidad) as cantidad , e.contt from mytable as m \nleft join table2 as e on e.id = m.equipo_id where m.equipo_id = %s and m.udm = 8 and \nYEAR(m.fecha) = %s  GROUP BY MONTH(m.fecha)\",[eq,anio])\n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyqt5"], "answers": [{"tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1574893121, "creation_date": 1574893121, "answer_id": 59079203, "question_id": 59079006, "link": "https://stackoverflow.com/questions/59079006/pyqt-accessing-label-and-lineedit-that-are-dynamically-created/59079203#59079203", "title": "PyQt accessing Label and LineEdit that are dynamically created", "body": "<p>The current design makes it difficult to access the widgets since you do not save access to the elements (you could use a filter using findChildren but that method is not scalable or elegant.).</p>\n\n<p>In these cases it is better than creating a class that inherits from QGroupBox by making internal elements such as the QLabel and QLineEdit class members. On the other hand, having many QGroupBox, it is best to use a container that allows us to access each element by means of an index or key, in this one a list is enough.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class GroupBox(QtWidgets.QGroupBox):\n    def __init__(self, title, parent=None):\n        super().__init__(title, parent)\n        grid = QtWidgets.QGridLayout()\n\n        self.serial_label = QtWidgets.QLabel(\"Serial No:\")\n        self.serial_lineedit = QtWidgets.QLineEdit(\"XXXX\")\n\n        grid.addWidget(self.serial_label, 0, 0)\n        grid.addWidget(self.serial_lineedit, 0, 1)\n\n        self.setLayout(grid)\n\n\nclass MainWindow(QtWidgets.QMainWindow):\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        self.setWindowTitle(\"BiPolar Power Supply Testing\")\n\n        tab_widget = QtWidgets.QTabWidget()\n        self.setCentralWidget(tab_widget)\n\n        pstest_widget = QtWidgets.QWidget()\n        tab_widget.addTab(pstest_widget, \"PS Tests\")\n\n        pstest_vlay = QtWidgets.QVBoxLayout()\n\n        self.group_boxes = []\n\n        for i in range(1, 9):\n            title = \"PS{}\".format(i)\n            group_box = GroupBox(title)\n            pstest_vlay.addWidget(group_box)\n            self.group_boxes.append(group_box)\n\n        self.PSFStart_btn = QtWidgets.QPushButton(\"Start\")\n        self.PSFStop_btn = QtWidgets.QPushButton(\"Stop\")\n        pstest_vlay.addWidget(self.PSFStart_btn)\n        pstest_vlay.addWidget(self.PSFStop_btn)\n        pstest_vlay.addStretch()\n\n        grid_lay_1 = QtWidgets.QGridLayout(pstest_widget)\n        # grid_lay_1.addWidget(pstest_widget)\n        grid_lay_1.addLayout(pstest_vlay, 0, 0)\n\n        self.PSFStart_btn.clicked.connect(self.on_start_clicked)\n\n    @QtCore.pyqtSlot()\n    def on_start_clicked(self):\n        group_box = self.group_boxes[0]\n        group_box.serial_lineedit.setText(\"YYYY\")\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 7520527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AIe1X.jpg?s=128&g=1", "display_name": "Sahil", "link": "https://stackoverflow.com/users/7520527/sahil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 59079203, "answer_count": 1, "score": 1, "last_activity_date": 1574893199, "creation_date": 1574891918, "last_edit_date": 1574893199, "question_id": 59079006, "link": "https://stackoverflow.com/questions/59079006/pyqt-accessing-label-and-lineedit-that-are-dynamically-created", "title": "PyQt accessing Label and LineEdit that are dynamically created", "body": "<p>I am trying to access dynamically created Labels and LineEdit to change their texts.</p>\n\n<p>I have no idea how is that possible ?</p>\n\n<p>As an example, when <strong>Start</strong> button is clicked it should change the text of <code>PS1 QLineEdit</code> from <code>XXXX</code> to <code>YYYY</code> .</p>\n\n<pre><code>from PyQt5 import QtCore, QtGui, QtWidgets\n\n\nclass MainWindow(QtWidgets.QMainWindow):\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        self.setWindowTitle(\"BiPolar Power Supply Testing\")\n        widget_map = {}\n\n        tab_widget = QtWidgets.QTabWidget()\n        self.setCentralWidget(tab_widget)\n\n        pstest_widget = QtWidgets.QWidget()\n        tab_widget.addTab(pstest_widget, \"PS Tests\")\n\n        pstest_vlay = QtWidgets.QVBoxLayout()        \n\n        for i in range(1, 9):\n            title = \"PS{}\".format(i)\n            group_box = MainWindow.create_pstest_element(title)\n            pstest_vlay.addWidget(group_box)\n\n        self.PSFStart_btn = QtWidgets.QPushButton(\"Start\")\n        self.PSFStop_btn = QtWidgets.QPushButton(\"Stop\")\n        pstest_vlay.addWidget(self.PSFStart_btn)\n        pstest_vlay.addWidget(self.PSFStop_btn)\n        pstest_vlay.addStretch()\n\n        grid_lay_1 = QtWidgets.QGridLayout(pstest_widget)\n        #grid_lay_1.addWidget(pstest_widget)\n        grid_lay_1.addLayout(pstest_vlay, 0, 0)\n\n    @staticmethod\n    def create_pstest_element(title):\n        group_box = QtWidgets.QGroupBox(title)\n        grid = QtWidgets.QGridLayout()        \n\n        serial_label = QtWidgets.QLabel(\"Serial No:\")\n        serial_lineedit = QtWidgets.QLineEdit(\"XXXX\")\n\n        grid.addWidget(serial_label, 0, 0)\n        grid.addWidget(serial_lineedit, 0, 1)\n\n        group_box.setLayout(grid)\n        return group_box\n\nif __name__ == \"__main__\":\n    import sys\n\n    app = QtWidgets.QApplication(sys.argv)\n    w = MainWindow()   \n    w.show()\n    sys.exit(app.exec_())\n\n</code></pre>\n\n<p>Here is how the GUI looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/qvHSc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qvHSc.png\" alt=\"GUI Screenshot\"></a></p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1574892076, "post_id": 59078982, "comment_id": 104395128, "body": "if your data is in <code>df</code> then do <code>pd.DataFrame(df[&#39;res&#39;].values.tolist())</code>"}, {"owner": {"reputation": 2339, "user_id": 11070463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w4qy.jpg?s=128&g=1", "display_name": "Jay Mody", "link": "https://stackoverflow.com/users/11070463/jay-mody"}, "edited": false, "score": 0, "creation_date": 1574892249, "post_id": 59078982, "comment_id": 104395171, "body": "Is it guaranteed that the list in <code>&#39;res&#39;</code> is a range with an increment of 1?"}, {"owner": {"reputation": 1390, "user_id": 2013652, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/feaf1fd0ef4cb148c596e303e84cc538?s=128&d=identicon&r=PG", "display_name": "Fabian Bosler", "link": "https://stackoverflow.com/users/2013652/fabian-bosler"}, "reply_to_user": {"reputation": 2339, "user_id": 11070463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w4qy.jpg?s=128&g=1", "display_name": "Jay Mody", "link": "https://stackoverflow.com/users/11070463/jay-mody"}, "edited": false, "score": 0, "creation_date": 1574893902, "post_id": 59078982, "comment_id": 104395720, "body": "@JayMody yes it is, random start and random end though"}], "answers": [{"comments": [{"owner": {"reputation": 1390, "user_id": 2013652, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/feaf1fd0ef4cb148c596e303e84cc538?s=128&d=identicon&r=PG", "display_name": "Fabian Bosler", "link": "https://stackoverflow.com/users/2013652/fabian-bosler"}, "edited": false, "score": 0, "creation_date": 1574955293, "post_id": 59089752, "comment_id": 104418684, "body": "Very interesting. Thank you!"}], "tags": [], "owner": {"reputation": 17050, "user_id": 3944322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fb31e86bf22c094d34b240544e458ec?s=128&d=identicon&r=PG&f=1", "display_name": "Stef", "link": "https://stackoverflow.com/users/3944322/stef"}, "is_accepted": true, "score": 1, "last_activity_date": 1574946924, "creation_date": 1574946924, "answer_id": 59089752, "question_id": 59078982, "link": "https://stackoverflow.com/questions/59078982/pandas-how-to-turn-column-of-lists-into-multiple-columns/59089752#59089752", "title": "Pandas how to turn column of lists into multiple columns?", "body": "<p>You can try and do the calculations in <code>numpy</code> and then insert the <code>numpy</code> array to the dataframe. This is about 5 times faster:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport time\n\nOBSERVATIONS = 100_000 # number of values 600000\nMAX_VALUE = 400 # 400\n\n_ = pd.DataFrame({\n    'a':np.random.randint(2,20,OBSERVATIONS),\n    'b':np.random.randint(30,MAX_VALUE,OBSERVATIONS)\n})\n_['res'] = _.apply(lambda x: range(x['a'],x['b']),axis=1)\n\nres1 = _.copy()\n\nstart = time.time()\nfor i in range(MAX_VALUE):\n    res1[f'{i}'] = res1['res'].apply(lambda x: 1 if i in x else 0)\nprint(f'original: {time.time() - start}')\n\nstart = time.time()\nz = np.zeros((len(_), MAX_VALUE), dtype=np.int64)\nfor i,r in enumerate(_.res):\n    z[i,range(r.start,r.stop)]=1\nres2 = pd.concat([_, pd.DataFrame(z)], axis=1)\nres2.columns = list(map(str, res2.columns))\nprint(f'new     : {time.time() - start}')\n\nassert res1.equals(res2)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>original: 23.649751663208008\nnew     : 4.586429595947266\n</code></pre>\n"}], "owner": {"reputation": 1390, "user_id": 2013652, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/feaf1fd0ef4cb148c596e303e84cc538?s=128&d=identicon&r=PG", "display_name": "Fabian Bosler", "link": "https://stackoverflow.com/users/2013652/fabian-bosler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 59089752, "answer_count": 1, "score": 1, "last_activity_date": 1574946924, "creation_date": 1574891836, "question_id": 59078982, "link": "https://stackoverflow.com/questions/59078982/pandas-how-to-turn-column-of-lists-into-multiple-columns", "title": "Pandas how to turn column of lists into multiple columns?", "body": "<p>I have a very large DataFrame where one column (COL) includes a range (i.e. list) of values. I want to turn this COL into individual columns labeled with the specific number and containing a 1 if the specific number is in COL else 0.</p>\n\n<p>Below is my current approach. However, this is slow with high number of OBSERVATIONS and MAX_VALUE.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nOBSERVATIONS = 100000 # number of values 600000\nMAX_VALUE = 400 # 400\n\n_ = pd.DataFrame({\n    'a':np.random.randint(2,20,OBSERVATIONS),\n    'b':np.random.randint(30,MAX_VALUE,OBSERVATIONS)\n})\n\n\n_['res'] = _.apply(lambda x: range(x['a'],x['b']),axis=1)\n\nfor i in range(MAX_VALUE):\n    _[f'{i}'] = _['res'].apply(lambda x: 1 if i in x else 0)\n</code></pre>\n"}, {"tags": ["python", "ubuntu", "pycharm", "virtualenv", "gnuradio"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574891679, "post_id": 59078932, "comment_id": 104395005, "body": "I think  you are just missing the actual libgnuradio ... <code>apt-get install libgnuradio</code>  ... thats what it looks like to me at least"}, {"owner": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574892437, "post_id": 59078932, "comment_id": 104395227, "body": "@JoranBeasley, I think I do have libgnuradio installed (see listing added to original question)."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574892683, "post_id": 59078932, "comment_id": 104395315, "body": "its not usually installed there i htink ... its usually installed in like /var/lib or something ... it looks like you might have downloaded that and extracted it? instead of apt-get install? maybe? also it might need to be <code>apt-get install libgnuradio-dev</code> or <code>apt-get install libgnuradio-devel</code> ... maybe"}, {"owner": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574895674, "post_id": 59078932, "comment_id": 104396184, "body": "Yes.  I have gnuradio3.7 in the usual place and 3.8 is here under my home directory."}, {"owner": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574899248, "post_id": 59078932, "comment_id": 104397022, "body": "I should probably uninstall 3.7 and re-install 3.8 in the usual locaiton."}], "answers": [{"comments": [{"owner": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "edited": false, "score": 0, "creation_date": 1575316708, "post_id": 59112738, "comment_id": 104517673, "body": "Pybombs was used.  The setup_env.sh has a line: export LD_LIBRARY_PATH=&quot;/home/my_name/devel/gnuradio3_8/lib:/home/m&zwnj;&#8203;y_name/devel/gnuradi&zwnj;&#8203;o3_8/lib64/:$LD_LIBR&zwnj;&#8203;ARY_PATH&quot;  When I run this script and call pycharm from the command line it works.  LD_LIBRARY_PATH also appears in pycharm&#39;s list of env variables.  When I attempt to define LD_LIBRARY_PATH as a user defined env variable in pycharm, I get the original error.  I wonder if there are additional env variables I need to define w/in pycharm."}, {"owner": {"reputation": 911, "user_id": 2315085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/coGrM.jpg?s=128&g=1", "display_name": "Vasil Velichkov", "link": "https://stackoverflow.com/users/2315085/vasil-velichkov"}, "reply_to_user": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "edited": false, "score": 0, "creation_date": 1575333688, "post_id": 59112738, "comment_id": 104522881, "body": "What is the value of LD_LIBRARY_PATH in the pycharm&#39;s list ov env variables? All variables that you need to define are listed in the setup_env.sh and the two most important ones are <code>PYTHONPATH</code> and <code>LD_LIBRARY_PATH</code>. The fact that it works when you manually source setup_env.sh and start pycharm from the terminal proves that those are the only variables that you need. You could also try adding those variables (or source setup_env.sh) in your ~/.bash_profile and then logout/login."}, {"owner": {"reputation": 911, "user_id": 2315085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/coGrM.jpg?s=128&g=1", "display_name": "Vasil Velichkov", "link": "https://stackoverflow.com/users/2315085/vasil-velichkov"}, "reply_to_user": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "edited": false, "score": 0, "creation_date": 1575334252, "post_id": 59112738, "comment_id": 104522994, "body": "See also <a href=\"https://stackoverflow.com/a/40323147/2315085\">stackoverflow.com/a/40323147/2315085</a> and   <a href=\"https://stackoverflow.com/a/38048618/2315085\">stackoverflow.com/a/38048618/2315085</a>"}, {"owner": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "edited": false, "score": 0, "creation_date": 1575425384, "post_id": 59112738, "comment_id": 104559326, "body": "All the environment variables in setup_env.sh appear in pycharm&#39;s list of system env variables:  GRC_BLOCKS_PATH, LD_LIBRARY_PATH, LIBRARY_PATH, PATH, PKG_CONFIG_PATH, PYBOMBS_PREFIX, PYTHON_PATH. In answer to your question, the value of LD_LIBRARY_PATH as read from pycharm&#39;s list of system env variables is: /home/my_name/devel/gnuradio3_8/lib:/home/my_name/devel/gnur&zwnj;&#8203;adio3_8/lib64/:"}, {"owner": {"reputation": 911, "user_id": 2315085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/coGrM.jpg?s=128&g=1", "display_name": "Vasil Velichkov", "link": "https://stackoverflow.com/users/2315085/vasil-velichkov"}, "reply_to_user": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "edited": false, "score": 0, "creation_date": 1575485925, "post_id": 59112738, "comment_id": 104586692, "body": "How do you set the env variables in pycharm? Try following this <a href=\"https://www.techcoil.com/blog/how-to-set-environment-variables-for-your-python-application-from-pycharm/\" rel=\"nofollow noreferrer\">techcoil.com/blog/&hellip;</a>.  And then try to validate you have set them correctly with a simple python script that only prints the value <code>import os; print(os.environ.get(&#39;LD_LIBRARY_PATH&#39;));</code>"}], "tags": [], "owner": {"reputation": 911, "user_id": 2315085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/coGrM.jpg?s=128&g=1", "display_name": "Vasil Velichkov", "link": "https://stackoverflow.com/users/2315085/vasil-velichkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1575082022, "last_edit_date": 1592644375, "creation_date": 1575082022, "answer_id": 59112738, "question_id": 59078932, "link": "https://stackoverflow.com/questions/59078932/importing-gnuradio-while-using-pycharm-on-ubuntu/59112738#59112738", "title": "importing gnuradio while using pycharm on ubuntu", "body": "<blockquote>\n<p>ImportError: libgnuradio-blocks.so.3.8.0: cannot open shared object file: No such file or directory</p>\n<p>Yes. I have gnuradio3.7 in the usual place and 3.8 is here under my home directory</p>\n</blockquote>\n<p>You need to add the path were you've installed gnuradio libs (<code>~/devel/gnuradio3_8/lib</code>) to the <code>LD_LIBRARY_PATH</code> environment variable.</p>\n<p>I'm not familiar with pycharm but from your terminal you could execute</p>\n<pre><code>$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:~/devel/gnuradio3_8/lib\n</code></pre>\n<p>and then start pycharm from the same terminal or add the same to your <code>~/.bash_profile</code></p>\n<p>In case you've installed <code>gnuradio</code> using <code>pybombs</code> there will be A <code>setup_env.sh</code> script in <code>~/devel/gnuradio3_8</code> that you could source from the terminal</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ source setup_env.sh\n</code></pre>\n"}], "owner": {"reputation": 530, "user_id": 6462301, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/86327da4f97cbb6b639de9b70ba6c933?s=128&d=identicon&r=PG&f=1", "display_name": "rhz", "link": "https://stackoverflow.com/users/6462301/rhz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 482, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1582583486, "creation_date": 1574891523, "last_edit_date": 1574892385, "question_id": 59078932, "link": "https://stackoverflow.com/questions/59078932/importing-gnuradio-while-using-pycharm-on-ubuntu", "title": "importing gnuradio while using pycharm on ubuntu", "body": "<p>I would like to make calls from python to blocks in gnuradio 3.8 from PyCharm CE 2019.2 on Ubuntu 18.04.  The project interpreter set in Pycharm is the virtual environment created when the pycharm project was created.  I have seen suggestions (<a href=\"https://stackoverflow.com/questions/19885821/how-do-i-import-modules-in-pycharm\">How do I import modules in pycharm?</a>) to add a line like:</p>\n\n<pre><code>/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages\n</code></pre>\n\n<p>to the interpreter path (under File->Settings->Project:my_proj->Project Interpreter->Gear Symbol->Show All->Show Paths for Selected Interpreter).</p>\n\n<p>From the python console, this results in the following error when I attempt to import gnuradio blocks:</p>\n\n<pre><code>PyDev console: starting.\nPython 3.6.8 (default, Oct  7 2019, 12:59:55) \n[GCC 8.3.0] on linux\nimport gnuradio\nfrom gnuradio import blocks\nTraceback (most recent call last):\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig0.py\", line 14, in swig_import_helper\n    return importlib.import_module(mname)\n  File \"/usr/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 994, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 971, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 955, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 658, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 571, in module_from_spec\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 922, in create_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 219, in _call_with_frames_removed\nImportError: libgnuradio-blocks.so.3.8.0: cannot open shared object file: No such file or directory\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/__init__.py\", line 32, in &lt;module&gt;\n    from .blocks_swig import *\n  File \"/snap/pycharm-community/167/helpers/pydev/_pydev_bundle/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig.py\", line 24, in &lt;module&gt;\n    from .blocks_swig0 import *\n  File \"/snap/pycharm-community/167/helpers/pydev/_pydev_bundle/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig0.py\", line 17, in &lt;module&gt;\n    _blocks_swig0 = swig_import_helper()\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig0.py\", line 16, in swig_import_helper\n    return importlib.import_module('_blocks_swig0')\n  File \"/usr/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\nModuleNotFoundError: No module named '_blocks_swig0'\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig0.py\", line 14, in swig_import_helper\n    return importlib.import_module(mname)\n  File \"/usr/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 994, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 971, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 955, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 658, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 571, in module_from_spec\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 922, in create_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 219, in _call_with_frames_removed\nImportError: libgnuradio-blocks.so.3.8.0: cannot open shared object file: No such file or directory\nDuring handling of the above exception, another exception occurred:\nTraceback (most recent call last):\n  File \"&lt;input&gt;\", line 1, in &lt;module&gt;\n  File \"/snap/pycharm-community/167/helpers/pydev/_pydev_bundle/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/__init__.py\", line 36, in &lt;module&gt;\n    from .blocks_swig import *\n  File \"/snap/pycharm-community/167/helpers/pydev/_pydev_bundle/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig.py\", line 24, in &lt;module&gt;\n    from .blocks_swig0 import *\n  File \"/snap/pycharm-community/167/helpers/pydev/_pydev_bundle/pydev_import_hook.py\", line 21, in do_import\n    module = self._system_import(name, *args, **kwargs)\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig0.py\", line 17, in &lt;module&gt;\n    _blocks_swig0 = swig_import_helper()\n  File \"/home/my_name/devel/gnuradio3_8/lib/python3.6/dist-packages/gnuradio/blocks/blocks_swig0.py\", line 16, in swig_import_helper\n    return importlib.import_module('_blocks_swig0')\n  File \"/usr/lib/python3.6/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\nModuleNotFoundError: No module named '_blocks_swig0'\n\n</code></pre>\n\n<p>I believe that I have libgnuradio installed:</p>\n\n<pre><code>~/devel/gnuradio3_8/lib$ ls\ncmake                            libgnuradio-qtgui.so.3.8.0\nlibgnuradio-analog.so            libgnuradio-qtgui.so.3.8.0.0\nlibgnuradio-analog.so.3.8.0      libgnuradio-runtime.so\nlibgnuradio-analog.so.3.8.0.0    libgnuradio-runtime.so.3.8.0\nlibgnuradio-audio.so             libgnuradio-runtime.so.3.8.0.0\nlibgnuradio-audio.so.3.8.0       libgnuradio-trellis.so\nlibgnuradio-audio.so.3.8.0.0     libgnuradio-trellis.so.3.8.0\nlibgnuradio-blocks.so            libgnuradio-trellis.so.3.8.0.0\nlibgnuradio-blocks.so.3.8.0      libgnuradio-uhd.so\nlibgnuradio-blocks.so.3.8.0.0    libgnuradio-uhd.so.3.8.0\nlibgnuradio-channels.so          libgnuradio-uhd.so.3.8.0.0\nlibgnuradio-channels.so.3.8.0    libgnuradio-utilities.so\nlibgnuradio-channels.so.3.8.0.0  libgnuradio-utilities.so.1.0.0git\nlibgnuradio-digital.so           libgnuradio-utilities.so.v1.0-compat-xxx-xunknown\nlibgnuradio-digital.so.3.8.0     libgnuradio-vocoder.so\nlibgnuradio-digital.so.3.8.0.0   libgnuradio-vocoder.so.3.8.0\nlibgnuradio-dtv.so               libgnuradio-vocoder.so.3.8.0.0\nlibgnuradio-dtv.so.3.8.0         libgnuradio-wavelet.so\nlibgnuradio-dtv.so.3.8.0.0       libgnuradio-wavelet.so.3.8.0\nlibgnuradio-fec.so               libgnuradio-wavelet.so.3.8.0.0\nlibgnuradio-fec.so.3.8.0         libgnuradio-zeromq.so\nlibgnuradio-fec.so.3.8.0.0       libgnuradio-zeromq.so.3.8.0\nlibgnuradio-fft.so               libgnuradio-zeromq.so.3.8.0.0\nlibgnuradio-fft.so.3.8.0         libuhd.so\nlibgnuradio-fft.so.3.8.0.0       libuhd.so.3.14.1\nlibgnuradio-filter.so            libvolk.so\nlibgnuradio-filter.so.3.8.0      libvolk.so.2.0\nlibgnuradio-filter.so.3.8.0.0    pkgconfig\nlibgnuradio-pmt.so               python2.7\nlibgnuradio-pmt.so.3.8.0         python3\nlibgnuradio-pmt.so.3.8.0.0       python3.6\nlibgnuradio-qtgui.so             uhd\n</code></pre>\n\n<p>What is the right way to import gnuradio?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 1752, "user_id": 12335841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZUCt.png?s=128&g=1", "display_name": "Mukul Kumar", "link": "https://stackoverflow.com/users/12335841/mukul-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574900821, "creation_date": 1574900821, "answer_id": 59080197, "question_id": 59078892, "link": "https://stackoverflow.com/questions/59078892/django-get-model-field/59080197#59080197", "title": "Django get model field", "body": "<pre><code># You can use session variables\n\n# set session value\nrequest.session['user_id'] = value\n\n# get session value\nrequest.session['user_id']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 11766958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f62769f2356de5aec0452653368dec?s=128&d=identicon&r=PG&f=1", "display_name": "user11766958", "link": "https://stackoverflow.com/users/11766958/user11766958"}, "is_accepted": false, "score": 0, "last_activity_date": 1575350108, "creation_date": 1575350108, "answer_id": 59150557, "question_id": 59078892, "link": "https://stackoverflow.com/questions/59078892/django-get-model-field/59150557#59150557", "title": "Django get model field", "body": "<p>I fixed it by getting the selected field value and passing the value to the function that performs the calculation. </p>\n\n<p>form.cleaned_data[fieldname]</p>\n\n<p>hopes this can help someone in the future</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>def update_monthly_entitlement(request):\r\n    if request.POST:\r\n        entitlement_form = update_entitlement_form(request.POST)\r\n        if entitlement_form.is_valid():\r\n            my_field = entitlement_form.cleaned_data['user']\r\n            calculate_monthly_entitlement(my_field)\r\n            entitlement_form.save()\r\n            return HttpResponseRedirect('/staff_balances')\r\n    else:\r\n        entitlement_form = update_entitlement_form\r\n    args = {}\r\n    args.update(csrf(request))\r\n    args['form'] = entitlement_form\r\n    return render(request, 'update_entitlement_form.html', args)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 321, "user_id": 11766958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f62769f2356de5aec0452653368dec?s=128&d=identicon&r=PG&f=1", "display_name": "user11766958", "link": "https://stackoverflow.com/users/11766958/user11766958"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1575350108, "creation_date": 1574891227, "question_id": 59078892, "link": "https://stackoverflow.com/questions/59078892/django-get-model-field", "title": "Django get model field", "body": "<p>I am trying to select a user_id base on the user that was selected and then pass the user_id to another function to perform some calculation for the selected user when a form entry is saved. But I am not sure how to accomplish that. When a new entry is added and save (add_monthly_entitlement) and the form is saved, I want to pass the selected user_id to another method to perform some calculation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pRQK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pRQK5.png\" alt=\"Image of the form\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> class month_and_year(models.Model):\r\n        user = models.ForeignKey(User, default='', on_delete=models.CASCADE)\r\n        Month = models.CharField(max_length=100, default=\"\", null=True)\r\n        Year = models.CharField(max_length=100, default='')\r\n\r\n        def __str__(self):\r\n            return self.user.first_name\r\n\r\n\r\n\r\n@login_required()\r\ndef add_monthly_entitlement(request):\r\n    if request.POST:\r\n        entitlement_form = update_entitlement_form(request.POST)\r\n        my_field = month_and_year._meta.get_field('user_id')\r\n\r\n        if entitlement_form.is_valid():\r\n            calculate_monthly_entitlement(my_field)\r\n            entitlement_form.save()\r\n            return HttpResponseRedirect('/staff_balances')\r\n    else:\r\n        entitlement_form = update_entitlement_form\r\n    args = {}\r\n    args.update(csrf(request))\r\n    args['form'] = entitlement_form\r\n    return render(request, 'update_entitlement_form.html', args)\r\n\r\n\r\ndef calculate_monthly_entitlement(get_id):\r\n    get_id = get_id\r\n    get_leave_balance_id = Leave_Balance.objects.get(user_id=get_id)\r\n    get_entitlement_id = monthly_entitlement.objects.get(user_id=get_id)\r\n    get_leave_balance_id.Leave_current_balance = get_leave_balance_id.Leave_current_balance + get_entitlement_id.entitlement\r\n    get_leave_balance_id.save()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "inheritance", "pycharm", "typing", "base-class"], "comments": [{"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 1, "creation_date": 1574891266, "post_id": 59078860, "comment_id": 104394841, "body": "Why not just use <code>B</code> instead of <code>Type[B]</code>?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574891748, "post_id": 59078860, "comment_id": 104395024, "body": "<code>def __init__(self, some_param: B)</code> doesnt work?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1574893223, "post_id": 59078860, "comment_id": 104395486, "body": "<code>Type[B]</code> is the annotation for the the <i>class</i> <code>B</code> not instances of that class/type. You seem to be mistaking classes for their instances. Your class doesn&#39;t use &quot;uses child classes of a specific base class&quot; it uses <i>instances</i> of child classes of that specific base class. As others have noted, you simply want <code>B</code> not <code>Type[B]</code>"}, {"owner": {"reputation": 135, "user_id": 6798071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc35edf990748073f41fb122b05aeee7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael A", "link": "https://stackoverflow.com/users/6798071/michael-a"}, "edited": false, "score": 0, "creation_date": 1574926984, "post_id": 59078860, "comment_id": 104403728, "body": "Yes I want to use instances of the base class or any derived class of it, which is why I figured I need Type[B] as per the docs of mypy:  &quot;Sometimes you want to talk about class objects that inherit from a given class. This can be spelled as Type[C] where C is a class. In other words, when C is the name of a class, using C to annotate an argument declares that the argument is an instance of C (or of a subclass of C), but using Type[C] as an argument annotation declares that the argument is a class object deriving from C (or C itself).&quot; I fail to see the misunderstanding, what is my mistake?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574958022, "post_id": 59078860, "comment_id": 104420060, "body": "<code>Type[B]</code> is used if you want to pass <code>B</code> itself (or a subclass of <code>B</code>) as an argument. You want to pass an <i>instance</i> of such a class, so you want <code>B</code> as the annotation. <code>B</code> and <code>Type[B]</code> are two entirely separate things."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574958629, "post_id": 59078860, "comment_id": 104420353, "body": "<code>TypeVar</code> is basically for defining aliases to complex (or for use with <code>Generic</code>, unknown) classes."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574959163, "post_id": 59078860, "comment_id": 104420574, "body": "If <code>C</code> is a subclass of <code>B</code>, an instance of <code>C</code> is <i>also</i> considered an instance of <code>B</code>, despite the fact that the <i>type</i> of <code>C</code> is not <code>B</code>."}, {"owner": {"reputation": 135, "user_id": 6798071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc35edf990748073f41fb122b05aeee7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael A", "link": "https://stackoverflow.com/users/6798071/michael-a"}, "edited": false, "score": 0, "creation_date": 1575021085, "post_id": 59078860, "comment_id": 104437049, "body": "Thanks to you all for the helpful comments!"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 6798071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc35edf990748073f41fb122b05aeee7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael A", "link": "https://stackoverflow.com/users/6798071/michael-a"}, "edited": false, "score": 0, "creation_date": 1575021016, "post_id": 59093095, "comment_id": 104437007, "body": "This was precisely the issue. I misunderstood the mypy docs when they talked about &quot;class objects&quot;, not seeing that it refers to the class itself as an object literally. I had presumed object to mean instance as well. Thanks a lot for the clarification."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 2, "last_activity_date": 1574958591, "creation_date": 1574958591, "answer_id": 59093095, "question_id": 59078860, "link": "https://stackoverflow.com/questions/59078860/type-annotation-with-inheritance-in-python/59093095#59093095", "title": "type annotation with inheritance in python", "body": "<p><code>Type[B]</code> is for indication that the argument should be a class object itself.</p>\n\n<p>For example,</p>\n\n<pre><code>class A:\n    pass\n\nclass B:\n    pass\n\nclass C(B):\n    pass\n\ndef foo(x: Type[B]):\n    pass\n\nfoo(A)    # fails\nfoo(B)    # passes\nfoo(C)    # passes\nfoo(B())  # fails - an instance of B is not B or a subclass of B\n</code></pre>\n\n<p>You just want <code>B</code> as the type hint, to allow an <em>instance</em> of <code>B</code> (or a subclass of <code>B</code>) as an argument.</p>\n\n<pre><code>class SomeClass:\n\n    def __init__(self, some_param: B):\n        self.sp = some_param\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 6798071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc35edf990748073f41fb122b05aeee7?s=128&d=identicon&r=PG&f=1", "display_name": "Michael A", "link": "https://stackoverflow.com/users/6798071/michael-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 941, "favorite_count": 1, "closed_date": 1608956194, "accepted_answer_id": 59093095, "answer_count": 1, "score": 2, "last_activity_date": 1574958591, "creation_date": 1574891044, "last_edit_date": 1574957853, "question_id": 59078860, "link": "https://stackoverflow.com/questions/59078860/type-annotation-with-inheritance-in-python", "closed_reason": "Duplicate", "title": "type annotation with inheritance in python", "body": "<p>I am trying to provide type hints for a class init method, that uses child classes of a specific base class. Gooling how to do this tells me to use <code>Type[BaseClass]</code> as annotation, however inspections keep telling me i'm wrong.</p>\n\n<p>As an example for my problem, let's say this is <code>base.py</code>:</p>\n\n<pre><code>class B:\n    def __init__(self):\n        return\n</code></pre>\n\n<p>..and another <code>class.py</code>...</p>\n\n<pre><code>class SomeClass:\n\n    def __init__(self, some_param: Type[B]):\n        self.sp = some_param\n</code></pre>\n\n<p>Now, using these classes in the following way in a third file <code>test.py</code> brings forth some confusion for me:</p>\n\n<pre><code>from base import B\nfrom class import SomeClass \n\nif __name__ == '__main__':\n    sc = SomeClass(B())\n</code></pre>\n\n<p>I would have guessed this to be correct, yet the pycharm inspections underline it with the hint:</p>\n\n<blockquote>\n  <p>Excpected type 'Type[B]', got 'B' instead</p>\n</blockquote>\n\n<p>So since this didn't work, I figured I might need to use a <code>TypeVar</code>, so I changed <code>base.py</code> to:</p>\n\n<pre><code>class B:\n    def __init__(self):\n        return\n\nTB = TypeVar('TB', bound=B)\n</code></pre>\n\n<p>and <code>class.py</code> to:</p>\n\n<pre><code>class SomeClass:\n\n    def __init__(self, some_param: Type[TB]):\n        self.sp = some_param\n</code></pre>\n\n<p>However, this merely changes the pycharm inspection to say:</p>\n\n<blockquote>\n  <p>Excpected type 'Type[TB]', got 'B' instead</p>\n</blockquote>\n\n<p>Finally, if I set <code>class.py</code> to:</p>\n\n<pre><code>class SomeClass:\n\n    TB = TypeVar('TB', bound=B)\n\n    def __init__(self, some_param: Type[TB]):\n        self.sp = some_param\n</code></pre>\n\n<p>The inspection error in <code>test.py</code> is gone and there are no complaints from pycharm!</p>\n\n<p>(Curiously though, there are still complaints if I move <code>if __name__ == '__main__': sc = SomeClass(B())</code> to <code>class.py</code>.)</p>\n\n<p>As I said I'm a bit puzzled as to how to truly use base classes with typing in Python:</p>\n\n<ul>\n<li>Is this all just a pycharm error?</li>\n</ul>\n\n<p>If not,</p>\n\n<ul>\n<li>why is <code>Type[B]</code> not enough/working?</li>\n<li>why would one need to specify a <code>TypeVar</code> within the class and can't simply <strong>import</strong> the <code>TypeVar</code>?</li>\n</ul>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 0, "creation_date": 1574891104, "post_id": 59078839, "comment_id": 104394791, "body": "I would use the model name Library for most contexts. Also you have a circular import."}, {"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 0, "creation_date": 1574891149, "post_id": 59078839, "comment_id": 104394803, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/4379042/django-circular-model-import-issue\">Django - Circular model import issue</a>"}, {"owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "reply_to_user": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 0, "creation_date": 1574893168, "post_id": 59078839, "comment_id": 104395474, "body": "I resolved the circular model problem, but the counter didn&#39;t work. I edited the post to make it easier."}, {"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 0, "creation_date": 1574893311, "post_id": 59078839, "comment_id": 104395509, "body": "I still see <code>from books.models import Books</code>"}, {"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 0, "creation_date": 1574893345, "post_id": 59078839, "comment_id": 104395523, "body": "Also you didn&#39;t have to remove <code>Books</code> to resolve the circular import."}, {"owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "reply_to_user": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 0, "creation_date": 1574893752, "post_id": 59078839, "comment_id": 104395671, "body": "sorry, i&#39;m still starting in Django but i think it has now cleared."}, {"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 0, "creation_date": 1574894181, "post_id": 59078839, "comment_id": 104395799, "body": "What is the error message now?"}, {"owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "reply_to_user": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "edited": false, "score": 1, "creation_date": 1574894554, "post_id": 59078839, "comment_id": 104395895, "body": "Now have no error message. But I need know How can I create a field to book count, in the model of each library?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "edited": false, "score": 0, "creation_date": 1574896822, "post_id": 59079642, "comment_id": 104396455, "body": "I can not do this refactoring. I am already finalizing the project and it would be a very difficult change.  And &quot;book_count&quot; must be in a field of libreries/models.py. It will be register in DB."}, {"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "reply_to_user": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "edited": false, "score": 0, "creation_date": 1574897971, "post_id": 59079642, "comment_id": 104396716, "body": "You could make <code>book_count</code> a property. See my edit above."}, {"owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "edited": false, "score": 0, "creation_date": 1574899090, "post_id": 59079642, "comment_id": 104396992, "body": "But you exclude &quot;book_count&quot; field from Library class. Didn&#39;t work.  Because I need the IntegerField to be automatically completed/edit by the book count."}, {"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "reply_to_user": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "edited": false, "score": 0, "creation_date": 1574900353, "post_id": 59079642, "comment_id": 104397231, "body": "Fair enough. Please see my edit above. Note that I find this less elegant of a design but given how I&#39;m unaware of the rest of the app maybe it is necessary."}, {"owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "edited": false, "score": 0, "creation_date": 1574911184, "post_id": 59079642, "comment_id": 104399199, "body": "I got it using Signals."}, {"owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "reply_to_user": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "edited": false, "score": 0, "creation_date": 1574913118, "post_id": 59079642, "comment_id": 104399620, "body": "Nice; you made me realize I was missing the delete side."}], "tags": [], "owner": {"reputation": 3306, "user_id": 2750819, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/gOFsQ.png?s=128&g=1", "display_name": "Kent Shikama", "link": "https://stackoverflow.com/users/2750819/kent-shikama"}, "is_accepted": false, "score": 1, "last_activity_date": 1574913060, "last_edit_date": 1574913060, "creation_date": 1574896196, "answer_id": 59079642, "question_id": 59078839, "link": "https://stackoverflow.com/questions/59078839/django-count-objects-field/59079642#59079642", "title": "Django count objects field", "body": "<p>Given the following app</p>\n\n<pre><code>$ tree -L 2\n.\n\u251c\u2500\u2500 db.sqlite3\n\u251c\u2500\u2500 libraryapp\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __pycache__\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 admin.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 migrations\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 settings.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 urls.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 wsgi.py\n\u2514\u2500\u2500 manage.py    \n</code></pre>\n\n<p>and your models (I've done a small bit of refactoring)</p>\n\n<pre><code>$ cat libraryapp/models.py \nfrom django.db import models\n\nclass Library(models.Model):\n    name = models.CharField(max_length=50)\n    book_count = models.IntegerField(default=0)\n\n    def __str__(self):\n        return self.name\n\nclass Book(models.Model):\n    name = models.CharField(max_length=200, null=True, blank=True)\n    library = models.ForeignKey(Library, on_delete=models.DO_NOTHING, blank=True, null=True)\n\n    def __str__(self):\n        return self.name\n\n    def save(self):\n        super().save()\n        self.update_book_count()\n\n    def delete(self):\n        super().delete()\n        self.update_book_count()\n\n    def update_book_count(self):\n        if self.library:\n            self.library.book_count = self.library.book_set.count()\n            self.library.save()\n</code></pre>\n\n<p>you can get the count of books in a certain library as follows:</p>\n\n<pre><code>$ python3 manage.py shell\n&gt;&gt;&gt; from libraryapp.models import Book, Library\n&gt;&gt;&gt; library = Library.objects.first()\n&gt;&gt;&gt; library.book_count\n1\n</code></pre>\n\n<p>Note that this assumes the only way to update the book count of a library is through adding or deleting a book.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "is_accepted": true, "score": 1, "last_activity_date": 1574911407, "creation_date": 1574911407, "answer_id": 59081289, "question_id": 59078839, "link": "https://stackoverflow.com/questions/59078839/django-count-objects-field/59081289#59081289", "title": "Django count objects field", "body": "<p>I got it using Signals.</p>\n\n<pre><code>@receiver(post_save, sender=Book)\ndef add_book_count(instance, created, **kwargs):\n    if created:\n        instance.library.book_count += 1\n        instance.library.save()\n\n\n@receiver(post_delete, sender=Book)\ndef rem_statement_count(instance, **kwargs):\n    instance.library.book_count -= 1\n    instance.library.save()\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 12447406, "user_type": "registered", "profile_image": "https://graph.facebook.com/2412239475654258/picture?type=large", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12447406/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 59081289, "answer_count": 2, "score": 0, "last_activity_date": 1574913060, "creation_date": 1574890891, "last_edit_date": 1574893629, "question_id": 59078839, "link": "https://stackoverflow.com/questions/59078839/django-count-objects-field", "title": "Django count objects field", "body": "<p>I need to create a field that count the number of registered books of each own library.</p>\n\n<p>Each book is related to a library by a ForeighKey</p>\n\n<p>If I register or delete a book it should update automatically in a \"book_count\" field related to your own library.</p>\n\n<p>libraries/models.py</p>\n\n<pre><code>from django.db import models\n\nclass Libraries(models.Model):\n    name = models.CharField(max_length=50)\n    book_count = models.IntegerField(default=0)\n\n    def __str__(self):\n        return self.name\n</code></pre>\n\n<p>books/models.py</p>\n\n<pre><code>from django.db import models\n\nfrom libraries.models import Libraries\n\nclass Books(models.Model):\n    library = models.ForeignKey(Libraries, on_delete=models.DO_NOTHING, blank=True, null=True)\n    book = models.CharField(max_length=200, null=True, blank=True)\n\n    def __str__(self):\n        return self.book\n</code></pre>\n\n<p>How can I create this simple book counter in the model of each library?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1574891019, "post_id": 59078821, "comment_id": 104394756, "body": "I for one do not understand what you are asking ... but the answer is assuredly yes whatever you are trying to do is possible (ish)"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1574891063, "post_id": 59078821, "comment_id": 104394776, "body": "This depends on what <i>exactly</i> you&#39;re trying to do in the real code. You could have it return a function object that can be treated as an integer, but you can&#39;t have just a plain int since it would also need to be callable in case the caller wants to add more arguments."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 2, "creation_date": 1574892839, "post_id": 59078821, "comment_id": 104395359, "body": "Why do you need the brackets? What&#39;s wrong with using one function with a variable number of arguments?"}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 9729959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc220e3c692f79466f2ccb8ba7e7d0e3?s=128&d=identicon&r=PG&f=1", "display_name": "Ingor Sievaz", "link": "https://stackoverflow.com/users/9729959/ingor-sievaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1574893495, "creation_date": 1574893495, "answer_id": 59079253, "question_id": 59078821, "link": "https://stackoverflow.com/questions/59078821/python-function-with-multiple-parameter-brackets/59079253#59079253", "title": "Python function with multiple parameter brackets", "body": "<p>Do you want to create a function with optional arguments?\nIf yes, you could use *args.</p>\n\n<p>For example:</p>\n\n<pre><code>def fun(a, *args):\n    if len(args) == 1:\n        return a + args[0]\n    elif len(args) == 2:\n        return a + args[0] - args[1]\n    else:\n        return a\n</code></pre>\n\n<p>Another solution could be using prenamed optional arguments arguments:</p>\n\n<pre><code>def foo(a, b=None, c=None):\n    if b:\n        return a + b\n    elif b and c:\n        return a + b - c\n    else:\n        return a\n\nprint(foo(1, 2, 3))\n&gt;&gt;&gt;3\nprint(fun(7))\n&gt;&gt;&gt;7\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 461, "user_id": 2856064, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/53fc0571902685d290eb08cdd08c1602?s=128&d=identicon&r=PG&f=1", "display_name": "user2856064", "link": "https://stackoverflow.com/users/2856064/user2856064"}, "edited": false, "score": 0, "creation_date": 1574898130, "post_id": 59079502, "comment_id": 104396745, "body": "This is what I expected. I&#39;m curious how you could do something like this in c++ or java. There is no <b>call</b> method, but that&#39;s another question:-)"}], "tags": [], "owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "is_accepted": true, "score": 1, "last_activity_date": 1574896134, "last_edit_date": 1574896134, "creation_date": 1574895263, "answer_id": 59079502, "question_id": 59078821, "link": "https://stackoverflow.com/questions/59078821/python-function-with-multiple-parameter-brackets/59079502#59079502", "title": "Python function with multiple parameter brackets", "body": "<p>With a callable class instead of a function it's possible to do something like this, which will produce the desired output for the two cases you supplied:</p>\n\n<pre><code>class f:\n    def __init__(self, value, multi=1):\n        self.value = value\n        self.multi = multi\n\n    def __call__(self, value):\n        return f(self.value + (value * self.multi), self.multi * -1)\n\n    def __str__(self):\n        return str(self.value)\n\nprint(f(1)(2)(3))\nprint(f(-5)(10)(3)(9))\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 2856064, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/53fc0571902685d290eb08cdd08c1602?s=128&d=identicon&r=PG&f=1", "display_name": "user2856064", "link": "https://stackoverflow.com/users/2856064/user2856064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "accepted_answer_id": 59079502, "answer_count": 2, "score": -3, "last_activity_date": 1574897729, "creation_date": 1574890821, "last_edit_date": 1574897205, "question_id": 59078821, "link": "https://stackoverflow.com/questions/59078821/python-function-with-multiple-parameter-brackets", "title": "Python function with multiple parameter brackets", "body": "<p>Having python code like that which is only an idea:</p>\n\n<pre><code>def f(a):\n    def g(b):\n        def h(c):\n            return a + b - c\n        return h\n    return g\nprint(f(2)(3)(4))    # 1\n</code></pre>\n\n<p>Is it possible to modify above code to write a function which allowed for that?</p>\n\n<pre><code>f(7) -&gt; 7\nf(1)(2)(3) -&gt; 1 + 2 - 3 -&gt; 0\nf(-5)(10)(3)(9) -&gt; -5 + 10 - 3 + 9 -&gt; 11\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "fractions"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1574891523, "post_id": 59078817, "comment_id": 104394942, "body": "You&#39;re returning a string from <code>__eq__</code> (which isn&#39;t good), then passing the string <code>eq</code> to <code>str</code> when you write <code>Fraction.__str__(eq)</code>. Why are you manually calling the <code>__</code> methods, and why are you returning a string from <code>__eq__</code>? Both of those problems are contributing to this error (although the manual calling of the magic methods is the bigger issue)."}, {"owner": {"reputation": 19, "user_id": 12350782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lvrsbICI7Kw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMe4A6ETJxTVuDCOZdr1DzgwW7KQ/photo.jpg?sz=128", "display_name": "NotHamzah", "link": "https://stackoverflow.com/users/12350782/nothamzah"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1574892019, "post_id": 59078817, "comment_id": 104395108, "body": "I am kind of new to programming but I have been told to show the output and they specifically wanted me to use &quot;__ x __&quot; to define the methods"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1574892851, "post_id": 59078817, "comment_id": 104395364, "body": "@NotHamzah yes, you should define them that way but never call them like that explicitly (outside very peculiar and particular circumstances). So, instead of ` Fraction.__add__(f1, f2)` you should use <code>f1 + f2</code> ... that&#39;s the <i>whole point</i>. Also, why on earth are you checking <code>if type(self) is tuple:</code> in your <code>__str__</code> implementation? Why would <code>self</code> ever be a <code>tuple</code>???"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574893350, "post_id": 59078817, "comment_id": 104395524, "body": "@juanpa.arrivillaga I honestly didn&#39;t even know until now that you could just bs what <code>self</code> is. I&#39;d never tried. This code messed with my head for a good couple minutes. I&#39;d never seen <code>self</code> be anything other than the type of the enclosing class before."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1574893498, "post_id": 59078817, "comment_id": 104395576, "body": "@Carcigenicate yeah I mean, <code>SomeClass.func</code> will always return <i>just a normal function</i> which is what methods are. <code>self</code> is just a normal parameter, it is merely bound to the instance if called through an instance via the descriptor protocol, because function objects are descriptors! You can define <code>def foo(self): ...</code> outside a function, and then assign it to the class <code>SomeClass.foo = foo</code> and now it is a method that will work on instances, and again, <code>self</code> is merely a <i>convention</i> it is only important because it is the <i>first positional argument</i>"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1574893644, "post_id": 59078817, "comment_id": 104395626, "body": "I understand that the instance is just always given as the first argument, and that the name <code>self</code> is convention, but I&#39;d never tried to call an instance method as though it were a static method before with arguments other than an instance of that class. I thought that&#39;d be an error. Apparently I need to review what&#39;s going on behind the scenes here."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1574893706, "post_id": 59078817, "comment_id": 104395647, "body": "@Carcigenicate they aren&#39;t &quot;static methods&quot;, they are <i>just regular old functions</i>. I wrote <a href=\"https://stackoverflow.com/a/55114843/5014455\">this answer</a> that might be illuminating to another question a while back that shows exactly whats going on behind the scenes... The key is understanding descriptors and the descriptor protocol. EDIT and another answer that might be illuminating: <a href=\"https://stackoverflow.com/a/45645637/5014455\">stackoverflow.com/a/45645637/5014455</a>"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574894381, "post_id": 59078817, "comment_id": 104395852, "body": "@juanpa.arrivillaga Thanks. I think descriptors touch on some stuff that I&#39;ve been meaning to look into for awhile now. I&#39;ll look over those links after I&#39;m done my current project. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 12350782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lvrsbICI7Kw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMe4A6ETJxTVuDCOZdr1DzgwW7KQ/photo.jpg?sz=128", "display_name": "NotHamzah", "link": "https://stackoverflow.com/users/12350782/nothamzah"}, "edited": false, "score": 0, "creation_date": 1574898805, "post_id": 59079219, "comment_id": 104396925, "body": "Thanks, it is now working and I managed to get the tuple answer into the form I needed as well."}], "tags": [], "owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "is_accepted": false, "score": 1, "last_activity_date": 1574893225, "creation_date": 1574893225, "answer_id": 59079219, "question_id": 59078817, "link": "https://stackoverflow.com/questions/59078817/keep-on-getting-an-attributeerror-and-not-sure-why/59079219#59079219", "title": "Keep on getting an AttributeError and not sure why", "body": "<p>They want you to use <code>__</code> to <em>define</em> the methods, but that's not how you <em>use</em> the methods.</p>\n\n<p><code>__add__</code> for example is <code>+</code>. Instead of writing</p>\n\n<pre><code>add = Fraction.__add__(f1, f2)\n</code></pre>\n\n<p>Just write</p>\n\n<pre><code>add = f1 + f2\n</code></pre>\n\n<p>The same goes for all your other mathematical operators, as well as <code>__str__</code> (which is what the <code>str</code> built-in uses).</p>\n\n<p>Your main problem is that <code>eq</code> is a string*, and you're passing it to your <code>__str__</code> method when you write</p>\n\n<pre><code>Fraction.__str__(eq)\n</code></pre>\n\n<p>Which means <code>self</code> inside of your <code>__str__</code> is a <em>string</em>, not a <em><code>Fraction</code></em>, which means that <code>self.denom</code> is, as the error says, trying to get the <code>denom</code> attribute from the string <code>self</code>.</p>\n\n<p>Since you have <code>eq</code> as a string, just change</p>\n\n<pre><code>Fraction.__str__(eq)\n</code></pre>\n\n<p>to just</p>\n\n<pre><code>eq\n</code></pre>\n\n<hr>\n\n<p>*Really though, <code>__eq__</code> shouldn't be returning a string. It isn't disallowed, but it is bizarre and makes <code>__eq__</code> not very useful. Just have</p>\n\n<pre><code>def __eq__(self, other):\n    return self.num == other.num and self.denom == other.denom\n</code></pre>\n\n<p>Then change the fix above I mentioned to</p>\n\n<pre><code>str(eq)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 12350782, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lvrsbICI7Kw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcMe4A6ETJxTVuDCOZdr1DzgwW7KQ/photo.jpg?sz=128", "display_name": "NotHamzah", "link": "https://stackoverflow.com/users/12350782/nothamzah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1574898429, "answer_count": 1, "score": 0, "last_activity_date": 1574894459, "creation_date": 1574890806, "last_edit_date": 1574894459, "question_id": 59078817, "link": "https://stackoverflow.com/questions/59078817/keep-on-getting-an-attributeerror-and-not-sure-why", "closed_reason": "Not suitable for this site", "title": "Keep on getting an AttributeError and not sure why", "body": "<pre><code>def gcd(n, d):\n        if n==0 or d==0:\n            return 1\n        while(n != d):\n            if(n &gt; d):\n                n = n - d\n            else:\n                d = d - n\n        return n\n\nclass Fraction:\n    def __init__(self, n, d):\n        self.num = int(n / gcd(abs(n), abs(d)))\n        self.denom = int(d / gcd(abs(n), abs(d)))\n        if self.denom &lt; 0:\n            self.denom = abs(self.denom)\n            self.num = -1 * self.num\n        elif self.denom == 0:\n            raise ZeroDivisionError\n    def __str__(self):\n        if type(self) is tuple:\n            if self[1] &lt; 0:\n                return '%s/%s' %(self[0], -1*self[1])\n            else:\n                return '%s/%s' %(self[0], self[1])\n        elif self.denom == 1:\n            return str(self.num)\n        else:\n            return '%s/%s' %(self.num, self.denom)\n\n    def __add__(self, other):\n        return self.num*other.denom + self.denom*other.num, self.denom*other.denom\n\n    def __sub__(self, other):\n        return self.num*other.denom - self.denom*other.num, self.denom*other.denom\n\n    def __mul__(self, other):\n        return self.num*other.num, self.denom*other.denom\n\n    def __div__(self, other):\n        return self.num*other.denom, self.denom*other.num\n\n    def __eq__(self, other):\n        if self.num == other.num and self.denom == other.denom:\n            return \"Equal\"\n        else:\n            return \"Not Equal\"\n\n\nf1 = Fraction(2, 4)\nf2 = Fraction(4, 20)\nadd = Fraction.__add__(f1, f2)\nsub = Fraction.__sub__(f1, f2)\neq = Fraction.__eq__(f1, f2)\nmul = Fraction.__mul__(f1, f2)\ndiv = Fraction.__div__(f1, f2)\nprint(\"Fraction one: \"+str(Fraction.__str__(f1))+\"\\n\"+\"Second Fraction: \"+str(Fraction.__str__(f2))+\"\\n\"+\"Add: \"+str(Fraction.__str__(add))+\"\\n\"+\"Subtract: \"+str(Fraction.__str__(sub))+\"\\n\"+\"Multiply: \"+str(Fraction.__str__(mul))+\"\\n\"+\"Divide: \"+str(Fraction.__str__(div))+Fraction.__str__(eq))\n</code></pre>\n\n<p>So my assignment requires me to make a fraction function but I keep on getting the following error for my code and I am not sure why:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"G:\\Workshops\\Week9.py\", line 57, in &lt;module&gt;\n    print(\"Fraction one: \"+str(Fraction.__str__(f1))+\"\\n\"+\"Second Fraction: \"+str(Fraction.__str__(f2))+\"\\n\"+\"Add: \"+str(Fraction.__str__(add))+\"\\n\"+\"Subtract: \"+str(Fraction.__str__(sub))+\"\\n\"+\"Multiply: \"+str(Fraction.__str__(mul))+\"\\n\"+\"Divide: \"+str(Fraction.__str__(div))+Fraction.__str__(eq))\n  File \"G:\\Workshops\\Week9.py\", line 26, in __str__\n    elif self.denom == 1:\nAttributeError: 'str' object has no attribute 'denom'\n</code></pre>\n"}, {"tags": ["python", "pandas", "unit-testing", "class"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 1, "creation_date": 1574890731, "post_id": 59078787, "comment_id": 104394672, "body": "sounds like this might be better suited for code review"}, {"owner": {"reputation": 3753, "user_id": 1718575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f36e2abcb1e57219a4b58d32c5bc6d?s=128&d=identicon&r=PG", "display_name": "NicholasM", "link": "https://stackoverflow.com/users/1718575/nicholasm"}, "edited": false, "score": 0, "creation_date": 1574891030, "post_id": 59078787, "comment_id": 104394765, "body": "One suggestion is to decide what <i>invariants</i> ought to hold for any instance, and then make assertions in a unit test (or even in the class itself). For instance, one invariant might be:  for each client, the region ID refers to a record in the regions dataframe (referential integrity). Another invariant might be that all risk allocations add up to 100% (or some other value).  In your tests, you could explicitly check these."}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1574891186, "post_id": 59078787, "comment_id": 104394813, "body": "you also need to mock loading the CSVs, you are assuming whoever runs this has these CVSs in a specific location/naming convention"}], "owner": {"reputation": 11, "user_id": 12448118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42e361ecd54c026c4a13a2223c154ae4?s=128&d=identicon&r=PG&f=1", "display_name": "user12448118", "link": "https://stackoverflow.com/users/12448118/user12448118"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574890661, "creation_date": 1574890661, "question_id": 59078787, "link": "https://stackoverflow.com/questions/59078787/how-to-develop-tests-for-methods-called-in-the-initializer-of-a-complex-python-c", "title": "How to develop tests for methods called in the initializer of a complex Python class?", "body": "<p>I am hoping to get some advice on better understanding developing tests for more complex class with many methods.</p>\n\n<p>I am currently working on a set of algorithms and reports that will all use data of a similar structure. I have created a class so I can simply initialize it when I need it and be sure I have all my DataFrames and other data in the correct format whenever I want.</p>\n\n<p>I do this additionally due to the fact that the aggregation of this data is quite time consuming. While I use spreadsheet imports in this example, for another data attribute it could involve a SQL pull.</p>\n\n<p>Using this class I will build out different reports or other calculations that work by using the attributes in this class. So for example:</p>\n\n<pre><code># Expensive DAM process...\ndata = CoreData(run_date='11262019')\n\n# Now just use the current state of data attributes to do what I need...\nsome_function1(data.df_client, data.df_product)\nsome_function2(data.run_date)\n</code></pre>\n\n<p>Here is a skeleton of the idea of the class. I call a few \"private\" methods in the initializer that do the work of assembling the data attributes. This involves a method that even calls additional calculation methods to further proceed with the initialization.</p>\n\n<p>Then it would have additional \"public\" methods like <code>CoreData.summarize_import_info</code> that I could call that might report or do other data cuts or calculations with the initialized data.</p>\n\n<pre><code>import pandas as pd\n\nclass CoreData(object):\n\n    # Path to read in Excel data.\n    path = 'C:'\n\n    def __init__(self, run_date):\n        \"\"\"Initializer sets up case for a particular date.\"\"\"\n\n        self.run_date = run_date\n\n        # Call more complex methods to initialize data.\n        self._import_data()\n        self._rename_dataframe_columns()\n        self._merge_items()\n        self._call_analysis_methods()\n\n    def _import_data(self):\n        \"\"\"Read in spreadsheets into DataFrames.\"\"\"\n        file_input = CoreData.path + self.run_date + '_data.xlsx'\n\n        self.df_region = pd.read_excel(file_input, sheet_name='Region')\n        self.df_client = pd.read_excel(file_input, sheet_name='Client')\n\n    def _rename_columns(self):\n        \"\"\"Adjust DataFrames to only include desired columns.\"\"\"\n        self.df_region = self.df_region[CoreData.cols_region]\n        self.df_client = self.df_client[CoreData.cols_client]\n\n    def _merge_items(self):\n        \"\"\"Merge core data to create new product level frame.\"\"\"\n        # Bring in attributes as copies.\n        df_region = self.df_region.copy()\n        df_client = self.df_client.copy()\n\n        # Perform some slice to get US rows.\n        mask_us = (df_region['COUNTRY'] == 'US')\n        df_cut = df_region.loc[mask_us]\n\n        # Merge two initial frames.\n        df_all = df_cut.merge(df_client, how='left', on='PRODUCT')\n\n        self.df_product = df_all\n\n    def _call_analysis_methods(self):\n        self._transform_data()\n        self._multiply_data()\n        self._allocate_risk()\n\n    def _transform_data(self):\n        \"\"\"Do some complicated transformng...\"\"\"\n        # Assume there is lots of code in each of these...\n        pass\n\n    def _multiply_data(self):\n        \"\"\"Calculate revenue by another complicated calcualtion.\"\"\"\n        # Assume there is lots of code in each of these...\n        pass\n\n    def _allocate_risk(self):\n        \"\"\"Calculate client level exposure.\"\"\"\n        # Assume there is lots of code in each of these...\n        pass\n\n    def summarize_import_info(self):\n        return 'We imported with {0}.'.format(self.run_date))\n\n\n    cols_region = ['COUNTRY', 'PRODUCT', 'CUSTOMERS', 'ANOTHERONE']\n    cols_client = ['NAME', 'PRODUCT', 'FEE']\n\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Is it appropriate style-wise to call this many methods in the <code>CoreData.__init__</code> method to set up the data attributes? Or should this be broken up?</li>\n<li>As these objects evolve with time, the spreadsheets might add new fields, the team delivering them will likely mess up or change their format, they might have missing data. How do I test this class with <code>unittest</code>? Initially it felt like breaking up the initialization steps into methods with a single purpose each made more sense, but now I am realizing there is no way to do a test on one of these \"private\" methods that got called during the initialization:</li>\n</ol>\n\n<pre><code>import unittest\n\nclass TestCoreData(unittest.TestCase):\n\n    # This test would work fine because I initialize the class, call the\n    # method then test the result.\n    def test_summarize_import_info(self):\n        \"\"\"Test our summary method produces the correct output.\"\"\"\n        data = CoreData(run_date='11262019')\n        msg = data.summarize_import_info()\n\n        self.assertEqual(msg, 'We imported with 11262019.')\n\n    # This won't work as it is locked up inside __init__!\n    def test__rename_columns(self):\n        \"\"\"Tests the columns of the imported frame match the expected list.\"\"\"\n\n        data = CoreData(run_date='11262019')\n        data._rename_columns()                            # Already called...                         \n        self.assertEqual(data.df_client.columns.tolist(), # These lines won't\n                         data.cols_client)                # work right.\n\nif __name__ == '__main__':\n    unittest.main()\n\n\n</code></pre>\n\n<p>How do you suggest I proceed in this scenario? I am very concerned about getting these initial structures down correctly, because as they scale, without tests and good initial design they will become nightmares due to all their dependencies down the line.</p>\n\n<p>Any recommendations on style or best practices here would be hugely appreciated. I am a self taught programmer so forgive me if some of this would be obvious.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pandas", "csv"], "comments": [{"owner": {"reputation": 9, "user_id": 12448133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae5bd97a387eaae7a717b0061250f1b?s=128&d=identicon&r=PG&f=1", "display_name": "timboslice", "link": "https://stackoverflow.com/users/12448133/timboslice"}, "edited": false, "score": 0, "creation_date": 1574890647, "post_id": 59078768, "comment_id": 104394638, "body": "I apologize - it should be *deduplicated"}, {"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1574890658, "post_id": 59078768, "comment_id": 104394645, "body": "can you show what you have tried so far, but this sounds like an outer join problem regardless"}, {"owner": {"reputation": 3952, "user_id": 6696657, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c78dbc81728388bd956e9d4f4c1a6759?s=128&d=identicon&r=PG&f=1", "display_name": "MattR", "link": "https://stackoverflow.com/users/6696657/mattr"}, "edited": false, "score": 0, "creation_date": 1574890934, "post_id": 59078768, "comment_id": 104394733, "body": "<a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html\" rel=\"nofollow noreferrer\"><code>read_csv</code></a> and <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.merge.html\" rel=\"nofollow noreferrer\"><code>merge</code></a> are going to be your friends here. Read -&gt; Merge on video_url. done."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 12448331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/488ac9522f389742376dcec8293ca040?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge A. Salazar", "link": "https://stackoverflow.com/users/12448331/jorge-a-salazar"}, "edited": false, "score": 0, "creation_date": 1574891293, "post_id": 59078883, "comment_id": 104394855, "body": "however if your datasets are too big, it may take too much time"}, {"owner": {"reputation": 9, "user_id": 12448133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae5bd97a387eaae7a717b0061250f1b?s=128&d=identicon&r=PG&f=1", "display_name": "timboslice", "link": "https://stackoverflow.com/users/12448133/timboslice"}, "edited": false, "score": 0, "creation_date": 1575252044, "post_id": 59078883, "comment_id": 104491514, "body": "I apologize for the late reply. My code was something similar to this as this was a similar problem to here (<a href=\"https://stackoverflow.com/questions/38996033/python-compare-two-csv-files-and-print-out-differences/38996374\" title=\"python compare two csv files and print out differences\">stackoverflow.com/questions/38996033/&hellip;</a>). However, I am receiving a &quot;TypeError: string indices must be integers&quot;."}], "tags": [], "owner": {"reputation": 67, "user_id": 12448331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/488ac9522f389742376dcec8293ca040?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge A. Salazar", "link": "https://stackoverflow.com/users/12448331/jorge-a-salazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574891180, "creation_date": 1574891180, "answer_id": 59078883, "question_id": 59078768, "link": "https://stackoverflow.com/questions/59078768/how-to-compare-two-csvs-and-produce-deuplicated-output/59078883#59078883", "title": "How to compare two CSV&#39;s and produce deuplicated output", "body": "<p>What I would do is iterate row by row on your dataframe2 and checking if it is in the dataframe1, and if not, adding it to a new dataframe. For example:</p>\n\n<pre><code>    dataframe1 = pd.read_csv('your_file_1.csv')\n    dataframe2 = pd.read_csv('your_file_2.csv')\n\n    new_dataframe = []\n\n    for i in dataframe2:\n        if i['video_url'] not in dataframe1['video_url']:\n           new_dataframe.append(i)\n</code></pre>\n\n<p>After doing this you can print new_dataframe and it should be a list with the rows where the video_url of dataframe2 are not in dataframe1</p>\n"}], "owner": {"reputation": 9, "user_id": 12448133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bae5bd97a387eaae7a717b0061250f1b?s=128&d=identicon&r=PG&f=1", "display_name": "timboslice", "link": "https://stackoverflow.com/users/12448133/timboslice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574891180, "creation_date": 1574890555, "question_id": 59078768, "link": "https://stackoverflow.com/questions/59078768/how-to-compare-two-csvs-and-produce-deuplicated-output", "title": "How to compare two CSV&#39;s and produce deuplicated output", "body": "<p>I have 2 CSV files. </p>\n\n<ul>\n<li>The <strong>first CSV file</strong> simply has one field (or column) name titled 'video_url' that contains a list of unique URL's.</li>\n<li>The <strong>second CSV file</strong> contains a wide array of 10-15 field names. HOWEVER, one of the field names has the same 'video_url' field name mentioned in the first CSV file. </li>\n</ul>\n\n<p>Here is my dilemma/problem statement:</p>\n\n<p>I am trying to write python code that can compare these two csv files using only the 'video_url' column/field, and if there is an exact match, that record is NOT included in a new CSV file. The new CSV file would include only records where there wasn't an exact match.</p>\n\n<p>(and please bear with me as I am completely new to Python and programming in general).</p>\n"}, {"tags": ["python", "beautifulsoup", "conditional-statements"], "comments": [{"owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "edited": false, "score": 1, "creation_date": 1574890828, "post_id": 59078761, "comment_id": 104394704, "body": "I don&#39;t understand the question, wouldn&#39;t standard <code>if .. else</code> construct suffice?"}, {"owner": {"reputation": 13, "user_id": 12447833, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hW3gNFfjabY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQjWR_R4d-NuOEFY13rgTC0ohDQw/photo.jpg?sz=128", "display_name": "Viva", "link": "https://stackoverflow.com/users/12447833/viva"}, "reply_to_user": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "edited": false, "score": 0, "creation_date": 1574890871, "post_id": 59078761, "comment_id": 104394719, "body": "The if else is based on the content I am scraping so how do I read the content while I scrape it?"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1574890877, "creation_date": 1574890877, "answer_id": 59078833, "question_id": 59078761, "link": "https://stackoverflow.com/questions/59078761/can-beautifulsoup-python-include-conditional-coding/59078833#59078833", "title": "Can BeautifulSoup (Python) include conditional coding?", "body": "<pre><code>if '3' in page.title:\n   do_thing1(page)\nelif '4' in page.title:\n   do_thing2(page)\nelse:\n   do_something(page)\n</code></pre>\n\n<p>I guess ....</p>\n"}], "owner": {"reputation": 13, "user_id": 12447833, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hW3gNFfjabY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQjWR_R4d-NuOEFY13rgTC0ohDQw/photo.jpg?sz=128", "display_name": "Viva", "link": "https://stackoverflow.com/users/12447833/viva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574890877, "creation_date": 1574890535, "question_id": 59078761, "link": "https://stackoverflow.com/questions/59078761/can-beautifulsoup-python-include-conditional-coding", "title": "Can BeautifulSoup (Python) include conditional coding?", "body": "<p>How can I run code conditional upon the data I collect using BeautifulSoup and Python?\nFor example, if I want to collect data on a website only if the title of the page has a link and continue scraping to the next if it doesn't, how do I do that?\nIn other words, 'collect lines a and b if the title has a '3', but collect lines C and D if the title has a '4'</p>\n\n<p>Thank you in advance for your help</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 3225, "user_id": 9917694, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-eYLrricMNLQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3U1NPjt3ei5L4we8FlqCJz7mWBlg/mo/photo.jpg?sz=128", "display_name": "N Chauhan", "link": "https://stackoverflow.com/users/9917694/n-chauhan"}, "edited": false, "score": 0, "creation_date": 1574890516, "post_id": 59078727, "comment_id": 104394590, "body": "Your function doesn\u2019t stop recurring when n goes below 1."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574890639, "post_id": 59078727, "comment_id": 104394634, "body": "also you are not saving the result of your recursive call"}], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 12423932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f358225ae926f27c3eb0d33e7a101581?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Cortinovis", "link": "https://stackoverflow.com/users/12423932/enrico-cortinovis"}, "is_accepted": false, "score": 0, "last_activity_date": 1574890627, "creation_date": 1574890627, "answer_id": 59078782, "question_id": 59078727, "link": "https://stackoverflow.com/questions/59078727/recursive-function-to-find-the-smallest-number-divisible-by-three-numbers-simult/59078782#59078782", "title": "Recursive function to find the smallest number divisible by three numbers simultaneously", "body": "<p>To fix it, before calling <code>recursiva()</code> again, check if <em>n</em> is equal or less than 0 (<code>n&lt;=0</code>). Without a condition, it will not stop, and will loop infinitely.</p>\n"}, {"tags": [], "owner": {"reputation": 256, "user_id": 3343630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4po0.jpg?s=128&g=1", "display_name": "Hotpepper", "link": "https://stackoverflow.com/users/3343630/hotpepper"}, "is_accepted": false, "score": 0, "last_activity_date": 1574894276, "creation_date": 1574894276, "answer_id": 59079371, "question_id": 59078727, "link": "https://stackoverflow.com/questions/59078727/recursive-function-to-find-the-smallest-number-divisible-by-three-numbers-simult/59079371#59079371", "title": "Recursive function to find the smallest number divisible by three numbers simultaneously", "body": "<p>In a recursive function you need to have at least 2 possible return statements, 1 where some end condition is met and the answer is returned and 1 where what is returned is new call to the function with some modified input. </p>\n\n<p>Additionally for your problem you need a method of saving the results of the previous calls somewhere. You might consider passing the list of successful calls as a parameter to the function. </p>\n"}, {"tags": [], "owner": {"reputation": 678, "user_id": 9403338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9509b669f167b10edf15932e6c012ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Costa.Gustavo", "link": "https://stackoverflow.com/users/9403338/costa-gustavo"}, "is_accepted": false, "score": 0, "last_activity_date": 1574912006, "creation_date": 1574912006, "answer_id": 59081358, "question_id": 59078727, "link": "https://stackoverflow.com/questions/59078727/recursive-function-to-find-the-smallest-number-divisible-by-three-numbers-simult/59081358#59081358", "title": "Recursive function to find the smallest number divisible by three numbers simultaneously", "body": "<p>I got it like this:</p>\n\n<pre><code>def recursiva(n = 1):\n    if (n%2==0 and n%3==0 and n%10==0):\n        return n\n    else:\n        return recursiva(n+1)\nrecursiva()\n</code></pre>\n"}], "owner": {"reputation": 678, "user_id": 9403338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9509b669f167b10edf15932e6c012ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Costa.Gustavo", "link": "https://stackoverflow.com/users/9403338/costa-gustavo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1574912006, "creation_date": 1574890366, "question_id": 59078727, "link": "https://stackoverflow.com/questions/59078727/recursive-function-to-find-the-smallest-number-divisible-by-three-numbers-simult", "title": "Recursive function to find the smallest number divisible by three numbers simultaneously", "body": "<p>I am trying to find the smallest integer that is divisible by 2, 3, and 5 through a recursive function as follows:</p>\n\n<pre><code>def recursiva(n):\n\n    lista = []\n    if(n%2==0 and n%3==0 and n%10==0):\n        lista.append(n)\n\n    n = n - 1\n    recursiva(n)\n\n    return min(lista)\n\nrecursiva(100)\n</code></pre>\n\n<p>But even for small numbers like 100 I am having stack overflow, as seen in the error message:</p>\n\n<pre><code>RecursionError: maximum recursion depth exceeded in comparison\n</code></pre>\n\n<p>I wonder:</p>\n\n<ul>\n<li>What am I doing wrong?</li>\n<li>Is there any way, instead of passing a fixed value per parameter, to\nmake the function look for the smallest number divisible by 2,3 and 5\nwithin the set of integers?</li>\n</ul>\n"}, {"tags": ["python", "sqlalchemy", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 1, "creation_date": 1574890798, "post_id": 59078688, "comment_id": 104394689, "body": "@aws_apprentice the docs don&#39;t seem to support that being an issue? None of the example suggest it should be in the class, only that it required a mapped class"}, {"owner": {"reputation": 13761, "user_id": 1909, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44d4d7681bfc6f7e6f0c8d606c33d832?s=128&d=identicon&r=PG", "display_name": "ashwnacharya", "link": "https://stackoverflow.com/users/1909/ashwnacharya"}, "reply_to_user": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1574890823, "post_id": 59078688, "comment_id": 104394702, "body": "@aws_apprentice it is intentional. It is supposed to work. Please look at the documentation here <a href=\"https://docs.sqlalchemy.org/en/13/orm/events.html#sqlalchemy.orm.events.InstanceEvents\" rel=\"nofollow noreferrer\">docs.sqlalchemy.org/en/13/orm/&hellip;</a>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1574891024, "post_id": 59078688, "comment_id": 104394761, "body": "I&#39;m <i>guessing</i>; what happens if you define the event listener (<code>event.listen(User, &#39;load&#39;, receive_load)</code>) <i>after</i> you use <code>session_factory = scoped_session(sessionmaker(engine),)</code>?"}, {"owner": {"reputation": 13761, "user_id": 1909, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44d4d7681bfc6f7e6f0c8d606c33d832?s=128&d=identicon&r=PG", "display_name": "ashwnacharya", "link": "https://stackoverflow.com/users/1909/ashwnacharya"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1574891512, "post_id": 59078688, "comment_id": 104394940, "body": "@roganjosh Thanks, but nope.. didn&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 13761, "user_id": 1909, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44d4d7681bfc6f7e6f0c8d606c33d832?s=128&d=identicon&r=PG", "display_name": "ashwnacharya", "link": "https://stackoverflow.com/users/1909/ashwnacharya"}, "is_accepted": false, "score": 0, "last_activity_date": 1574931280, "last_edit_date": 1574931280, "creation_date": 1574930090, "answer_id": 59084621, "question_id": 59078688, "link": "https://stackoverflow.com/questions/59078688/sqlalchemy-load-instance-event-not-firing/59084621#59084621", "title": "Sqlalchemy load instance event not firing", "body": "<p>I got the answer from the sqlalchemy github issues from the creator of sqlalchemy himself, reposting it here so that someone else also finds it useful.</p>\n\n<p><a href=\"https://github.com/sqlalchemy/sqlalchemy/issues/5008\" rel=\"nofollow noreferrer\">https://github.com/sqlalchemy/sqlalchemy/issues/5008</a></p>\n\n<p>Basically, the bug was that I was not actually creating two different sessions in my code because the <code>session_factory()</code> returned the same session both times, since it is a thread scoped session.</p>\n\n<p>I can see the the load event fires if I split my code into two separate scripts, and run them one after the other.</p>\n\n<pre><code># test1.py\nfrom sqlalchemy import create_engine, MetaData, Table, Column, String, Integer, event\nfrom sqlalchemy.orm import mapper, scoped_session, sessionmaker\nfrom sqlalchemy_utils.functions import create_database, drop_database\nfrom sqlalchemy.ext.declarative import declarative_base\n\nengine = create_engine('sqlite:///sqlite3.db')\nengine.connect()\n\nmetadata = MetaData(engine)\n\nuser_table = Table('user', metadata, \n    Column('id', Integer(), primary_key=True),\n    Column('name', String(200), nullable=False),\n)\n\nclass User:\n\n    def __init__(self, *args, **kwargs):\n        pass\n\n\nBase = declarative_base()\n\nmapper(User, user_table)\n\n\ncreate_database(engine.url)\nmetadata.create_all()\n\nsession_factory = scoped_session(sessionmaker(engine),)\n\nsession = session_factory()\n\nuser = User()\nuser.id = 1\nuser.name = 'ashwin'\n\nsession.add(user)\nsession.flush()\nsession.commit()\n\n</code></pre>\n\n<p>and </p>\n\n<pre><code>from sqlalchemy import create_engine, MetaData, Table, Column, String, Integer, event\nfrom sqlalchemy.orm import mapper, scoped_session, sessionmaker\nfrom sqlalchemy_utils.functions import create_database, drop_database\nfrom sqlalchemy.ext.declarative import declarative_base\n\nengine = create_engine('sqlite:///sqlite3.db')\nengine.connect()\n\nmetadata = MetaData(engine)\n\nuser_table = Table(\n    'user', \n    metadata,\n    Column('id', Integer(), primary_key=True),\n    Column('name', String(200), nullable=False),\n)\n\n\nclass User:\n\n    def __init__(self, *args, **kwargs):\n        pass\n\n\ndef receive_load(target, context):\n    print(\"listen for the 'load' event\")\n    print(target)\n    print(context)\n\ndef receive_refresh(target, context, only_load_props=None):\n    print(\"listen for the 'refresh' event\")\n\n\nevent.listen(User, 'load', receive_load)\nevent.listen(User, \"refresh\", receive_load)\n\nBase = declarative_base()\n\nmapper(User, user_table)\n\n\nsession_factory = scoped_session(sessionmaker(engine),)\n\nnew_session = session_factory()\n\n# Event should fire here when I run this line\nobj = new_session.query(User).filter_by(id=1).first()\ndrop_database(engine.url)\n\n</code></pre>\n\n<p>And, if I need to make it work in the same script, I need to call <code>session_factory.remove()</code> to dispose the first session.</p>\n\n<pre><code>from sqlalchemy import create_engine, MetaData, Table, Column, String, Integer, event\nfrom sqlalchemy.orm import mapper, scoped_session, sessionmaker\nfrom sqlalchemy_utils.functions import create_database, drop_database\nfrom sqlalchemy.ext.declarative import declarative_base\n\nengine = create_engine('sqlite:///sqlite3.db')\nengine.connect()\n\nmetadata = MetaData(engine)\n\nuser_table = Table('user', metadata,\n    Column('id', Integer(), primary_key=True),\n    Column('name', String(200), nullable=False),\n)\n\n\nclass User:\n\n    def __init__(self, *args, **kwargs):\n        pass\n\n\ndef receive_load(target, context):\n    print(\"listen for the 'load' event\")\n    print(target)\n    print(context)\n\n\ndef receive_refresh(target, context, only_load_props=None):\n    print(\"listen for the 'refresh' event\")\n\n\nevent.listen(User, 'load', receive_load)\nevent.listen(User, \"refresh\", receive_load)\n\nBase = declarative_base()\n\nmapper(User, user_table)\n\n\ncreate_database(engine.url)\nmetadata.create_all()\n\nsession_factory = scoped_session(sessionmaker(engine),)\n\nsession_factory.remove()\n\nsession = session_factory()\n\nuser = User()\nuser.id = 1\nuser.name = 'ashwin'\n\nsession.add(user)\nsession.flush()\nsession.commit()\n\nsession_factory = scoped_session(sessionmaker(engine),)\n\nnew_session = session_factory()\n\n# Event should fire here when I run this line\nobj = new_session.query(User).filter_by(id=1).first()\ndrop_database(engine.url)\n\n</code></pre>\n"}], "owner": {"reputation": 13761, "user_id": 1909, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/44d4d7681bfc6f7e6f0c8d606c33d832?s=128&d=identicon&r=PG", "display_name": "ashwnacharya", "link": "https://stackoverflow.com/users/1909/ashwnacharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1574931280, "creation_date": 1574890114, "question_id": 59078688, "link": "https://stackoverflow.com/questions/59078688/sqlalchemy-load-instance-event-not-firing", "title": "Sqlalchemy load instance event not firing", "body": "<p>I am trying to customize my object that is getting loaded from the database.</p>\n\n<p>As per the documentation <a href=\"https://docs.sqlalchemy.org/en/13/orm/events.html#instance-events\" rel=\"nofollow noreferrer\">here</a> the event should fire when the object gets loaded, but it doesnt.</p>\n\n<p>How do I make the Load Instance event fire? \nHere is my code</p>\n\n<pre><code># test.py\nfrom sqlalchemy import create_engine, MetaData, Table, Column, String, Integer, event\nfrom sqlalchemy.orm import mapper, scoped_session, sessionmaker\nfrom sqlalchemy_utils.functions import create_database, drop_database\n\n\nengine = create_engine('sqlite:///sqlite3.db')\nengine.connect()\n\nmetadata = MetaData(engine)\n\nuser_table = Table('user', metadata, \n    Column('id', Integer(), primary_key=True),\n    Column('name', String(200), nullable=False),\n)\n\nclass User:\n\n    def __init__(self, *args, **kwargs):\n        pass\n\n\ndef receive_load(target, context):\n    print(\"listen for the 'load' event\")\n\n\nevent.listen(User, 'load', receive_load)\n\nmapper(User, user_table)\ncreate_database(engine.url)\nmetadata.create_all()\n\nsession_factory = scoped_session(sessionmaker(engine),)\nsession = session_factory()\n\nuser = User()\nuser.id = 1\nuser.name = 'ashwin'\n\nsession.add(user)\nsession.flush()\nsession.commit()\n\nnew_session = session_factory()\n\nobj = new_session.query(User).filter_by(id=1).first() # Event should fire here when I run this line\ndrop_database(engine.url)\n\n</code></pre>\n"}, {"tags": ["python", "moviepy"], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 7381375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/187723ee115be713721f6a7f7ae96cbc?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelCG8", "link": "https://stackoverflow.com/users/7381375/michaelcg8"}, "is_accepted": false, "score": 1, "last_activity_date": 1575756825, "creation_date": 1575756825, "answer_id": 59230695, "question_id": 59078680, "link": "https://stackoverflow.com/questions/59078680/how-do-i-fix-attributeerror-nonetype-object-has-no-attribute-stdout-when/59230695#59230695", "title": "How do I fix &quot;AttributeError: &#39;NoneType&#39; object has no attribute &#39;stdout&#39;&quot; when trying to write a CompositeVideoClip with moviepy?", "body": "<p>This is a known issue with moveipy 1.0.1 that has an open github issue here <a href=\"https://github.com/Zulko/moviepy/issues/938\" rel=\"nofollow noreferrer\">https://github.com/Zulko/moviepy/issues/938</a></p>\n\n<p>For now the best course of action seems to be reverting to version 1.0.0 which has helped a few people on that thread and myself also.\nYou can do this using <code>pip install moviepy==1.0.0</code>(note the double \"=\")</p>\n"}], "owner": {"reputation": 31, "user_id": 8858186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab2bc24c4eeac3cb434fb392a746426?s=128&d=identicon&r=PG&f=1", "display_name": "Odd-Harald Myhren", "link": "https://stackoverflow.com/users/8858186/odd-harald-myhren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1926, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575756825, "creation_date": 1574890077, "question_id": 59078680, "link": "https://stackoverflow.com/questions/59078680/how-do-i-fix-attributeerror-nonetype-object-has-no-attribute-stdout-when", "title": "How do I fix &quot;AttributeError: &#39;NoneType&#39; object has no attribute &#39;stdout&#39;&quot; when trying to write a CompositeVideoClip with moviepy?", "body": "<p>I am using the following:</p>\n\n<pre><code>from moviepy.editor import *\n\nukulele = VideoFileClip(\"./clips/513732763.mp4\")\n\ntxt = TextClip(\"some text\", color='white').set_duration(3)\n\nfinal = CompositeVideoClip([ukulele,txt])\nfinal.write_videofile(\"video.mp4\",codec=\"libx264\")\n</code></pre>\n\n<p>What I am trying to do is to add text over a video file clip. Writing normally with\nVideoFileClip is working, however, when using CompositeVideoClip it doesn't. \nHowever, when running with Python 3.6.9 I get the following errors:</p>\n\n<pre><code>Moviepy - Building video video.mp4.\nMoviePy - Writing audio in videoTEMP_MPY_wvf_snd.mp3\nchunk:  12% 52/447 [00:00&lt;00:00, 518.22it/s, now=None]Traceback (most recent call last):\n  File \"main.py\", line 8, in &lt;module&gt;\n    final.write_videofile(\"video.mp4\",codec=\"libx264\")\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-51&gt;\", line 2, in write_videofile\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\n    return f(clip, *a, **k)\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-50&gt;\", line 2, in write_videofile\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 137, in use_clip_fps_by_default\n    return f(clip, *new_a, **new_kw)\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-49&gt;\", line 2, in write_videofile\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 22, in convert_masks_to_RGB\n    return f(clip, *a, **k)\n  File \"/usr/lib/python3.6/site-packages/moviepy/video/VideoClip.py\", line 317, in write_videofile\n    logger=logger)\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-73&gt;\", line 2, in write_audiofile\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\n    return f(clip, *a, **k)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 209, in write_audiofile\n    logger=logger)\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-70&gt;\", line 2, in ffmpeg_audiowrite\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\n    return f(clip, *a, **k)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/io/ffmpeg_audiowriter.py\", line 169, in ffmpeg_audiowrite\n    logger=logger):\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 85, in iter_chunks\n    fps=fps, buffersize=chunksize)\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-72&gt;\", line 2, in to_soundarray\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 54, in requires_duration\n    return f(clip, *a, **k)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 126, in to_soundarray\n    snd_array = self.get_frame(tt)\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-10&gt;\", line 2, in get_frame\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\n    return f(*new_a, **new_kw)\n  File \"/usr/lib/python3.6/site-packages/moviepy/Clip.py\", line 95, in get_frame\n    return self.make_frame(t)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 296, in make_frame\n    for c, part in zip(self.clips, played_parts)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/AudioClip.py\", line 297, in &lt;listcomp&gt;\n    if (part is not False)]\n  File \"&lt;/usr/lib/python3.6/site-packages/decorator.py:decorator-gen-10&gt;\", line 2, in get_frame\n  File \"/usr/lib/python3.6/site-packages/moviepy/decorators.py\", line 89, in wrapper\n    return f(*new_a, **new_kw)\n  File \"/usr/lib/python3.6/site-packages/moviepy/Clip.py\", line 95, in get_frame\n    return self.make_frame(t)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/io/AudioFileClip.py\", line 78, in &lt;lambda&gt;\n    self.make_frame = lambda t: self.reader.get_frame(t)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 184, in get_frame\n    self.buffer_around(fr_max)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 238, in buffer_around\n    array = self.read_chunk(chunksize)\n  File \"/usr/lib/python3.6/site-packages/moviepy/audio/io/readers.py\", line 112, in read_chunk\n    s = self.proc.stdout.read(L)\nAttributeError: 'NoneType' object has no attribute 'stdout'\n</code></pre>\n\n<p>Everything is correct and is working except for writing the CompositeVideoClip. How would I\ngo about fixing this?</p>\n"}, {"tags": ["python", "memory", "jupyter-notebook", "local"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1574891682, "post_id": 59078675, "comment_id": 104395009, "body": "A lot of those variables are maintained by <code>ipython&#47;jupyter</code>. You don&#39;t want/need to delete those.  In a notebook only worry about large numpy arrays."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1574891713, "post_id": 59078675, "comment_id": 104395019, "body": "<code>name</code> does <i>not</i> only exist in the loop; it persists as a local variable <i>after</i> the loop completes as well. A <code>for</code> loop is a fancy kind of assignment statement. <code>name</code> is not yet defined the first time you call <code>locals()</code>, but it is the second time."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574892516, "post_id": 59078675, "comment_id": 104395257, "body": "The problems you are seeing here are inherent to the way jupyter notebooks work. But in any case, you have a couple fundamental misunderstandings of Python: &quot;From my understanding, del frees the allocated memory of currentlocals. Since the variable name only exists insides the for loop, I assume it should be freed automatically when exiting the loop.&quot; So <i>no</i> <code>del</code> does not free anything. <code>del</code> merely removes names from namespaces. Objects are only freed when their reference count goes to zero, which may or may not happen when you <code>del</code> a name. Also, Python does not have block scope."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574892631, "post_id": 59078675, "comment_id": 104395296, "body": "All of these <code>_i3</code> etc variables are created by jupyter for its various history magics. To avoid global variabels from keeping objects around for longer than you want, the best strategy to organize your code into functions."}], "owner": {"reputation": 1, "user_id": 12299726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3a23f21ff6038fa115b303b1271d309?s=128&d=identicon&r=PG&f=1", "display_name": "Ginok", "link": "https://stackoverflow.com/users/12299726/ginok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574891537, "creation_date": 1574890036, "last_edit_date": 1574891537, "question_id": 59078675, "link": "https://stackoverflow.com/questions/59078675/python-keeps-memory-fragments-in-local-after-for-loop-how-to-prevent-it", "title": "Python keeps memory fragments in local() after for loop. How to prevent it?", "body": "<p>Memory allocation in Python seems to be keep some fragments after exiting for loops.\nWhen I run the following snippet:</p>\n\n<pre><code>currentlocals = locals().copy()\nfor name in currentlocals:\n    print(name)\ndel currentlocals\n</code></pre>\n\n<p>I get the following output</p>\n\n<pre><code>__name__\n__doc__\n__package__\n__loader__\n__spec__\n__builtin__\n__builtins__\n_ih\n_oh\n_dh\nIn\nOut\nget_ipython\nexit\nquit\n_\n__\n___\n_i\n_ii\n_iii\n_i1\n</code></pre>\n\n<p>From my understanding, <code>del</code> frees the allocated memory of <code>currentlocals</code>.\nSince the variable <code>name</code> only exists insides the for loop, I assume it should be freed automatically when exiting the loop.\nTherefore, after executing the snippet, the allocated memory should be the same as before.\nHowever, running the snippet twice in one python script prints me an additional</p>\n\n<pre><code>name\n_i2\n</code></pre>\n\n<p>at the end. Every additional time I run the snippet after the initial time, I get an additional <code>_i3</code>, where the number keeps counting up.\nActively using <code>del</code> to free the memory of e.g. <code>_i3</code> or <code>name</code> only deletes the current name. The next time the snippet is executed, <code>_i3</code> is missing, but instead <code>_i4</code> and <code>_i5</code> appear in the list.</p>\n\n<p>Where does this memory leak come from?\nI assume, that it is some kind of memory allocated for the iterating index of the for loop.\nHow do I prevent python from keeping parts of the working memory allocated with those objects that shouldn't exist anymore?</p>\n\n<p>I am working with python3 in jupyter notebook.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 1, "creation_date": 1574890317, "post_id": 59078650, "comment_id": 104394517, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4174941/how-to-sort-a-list-of-lists-by-a-specific-index-of-the-inner-list\">How to sort a list of lists by a specific index of the inner list?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 10365747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5991376b8a15bae64da8c19550a5f91a?s=128&d=identicon&r=PG&f=1", "display_name": "mandosoft", "link": "https://stackoverflow.com/users/10365747/mandosoft"}, "edited": false, "score": 0, "creation_date": 1574891022, "post_id": 59078819, "comment_id": 104394758, "body": "Edited above. It should be sorted by the name of the first column in each DataFrame."}], "tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 2, "last_activity_date": 1574891243, "last_edit_date": 1574891243, "creation_date": 1574890817, "answer_id": 59078819, "question_id": 59078650, "link": "https://stackoverflow.com/questions/59078650/python-sort-list-of-dataframes-on-first-column/59078819#59078819", "title": "Python sort list of DataFrames on first column", "body": "<p>As I understood, the sort criterion is the first element in the first\ncolumn of each DataFrame. To sort this way, try the following code:</p>\n\n<pre><code>sorted_dflist = sorted(df_list, key = lambda x: x.iloc[0,0])\n</code></pre>\n\n<p>To sort by the <strong>name</strong> of the first column, run:</p>\n\n<pre><code>sorted_dflist = sorted(df_list, key = lambda x: x.columns[0])\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 10365747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5991376b8a15bae64da8c19550a5f91a?s=128&d=identicon&r=PG&f=1", "display_name": "mandosoft", "link": "https://stackoverflow.com/users/10365747/mandosoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574891243, "creation_date": 1574889930, "last_edit_date": 1574891040, "question_id": 59078650, "link": "https://stackoverflow.com/questions/59078650/python-sort-list-of-dataframes-on-first-column", "title": "Python sort list of DataFrames on first column", "body": "<p>I have a list of DataFrames where I am outputting just the column names for each. I am able to sort each DataFrame by column name, but I also want to sort the list itself based on the name of the first column in each DataFrame. I've searched around but can't find what the appropriate key for <code>sorted()</code> would be. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nfor df in df_list:\n        df = df.reindex(sorted(df.columns), axis=1)\n\nsorted_dflist = sorted(df_list, key = ???)\n\nMy Output: \n( 3  4  5  8 11 12)( 7 10)( 1  6  9 13 14)(2)\n\nExpected Output: \n( 1  6  9 13 14)(2)( 3  4  5  8 11 12)( 7 10)\n\n\n\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 11951414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xXU4GOXljqo/AAAAAAAAAAI/AAAAAAAAABo/1-PLKR8ibRU/photo.jpg?sz=128", "display_name": "Venkatesh Gandi", "link": "https://stackoverflow.com/users/11951414/venkatesh-gandi"}, "edited": false, "score": 0, "creation_date": 1574894076, "post_id": 59079223, "comment_id": 104395770, "body": "Thanks a lot. This is what exactly I&#39;m looking for."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1574893238, "creation_date": 1574893238, "answer_id": 59079223, "question_id": 59078622, "link": "https://stackoverflow.com/questions/59078622/mark-the-maximum-deviation-distance-between-curves/59079223#59079223", "title": "Mark the maximum deviation/distance between curves", "body": "<p>You would need to interpolate one of the curves on the x values of the other. Then find the maximum of their difference.</p>\n\n<pre><code>import numpy as np \nimport matplotlib.pyplot as plt\nimport scipy.stats as stats\n#------------------------------------\ndata=np.random.uniform(low=1,high=10,size=300)\nx1= np.sort(data-np.mean(data))/np.std(data)\ny = np.arange(1.0, 301)/300\n\nx2 = stats.norm.ppf(y)\nyc = np.interp(x1, x2, y)\n\nind_max = np.argmax((yc-y)**2)\n\n\nplt.plot(x1, y) #curve1\nplt.plot(x2, y) #curve2\n\nplt.axvline(x1[ind_max], color=\"red\", linestyle=\"dashed\", alpha=0.4)\nplt.plot([x1[ind_max], x1[ind_max]], [y[ind_max], yc[ind_max]], color=\"red\")\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3RzUa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3RzUa.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 381, "user_id": 11951414, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xXU4GOXljqo/AAAAAAAAAAI/AAAAAAAAABo/1-PLKR8ibRU/photo.jpg?sz=128", "display_name": "Venkatesh Gandi", "link": "https://stackoverflow.com/users/11951414/venkatesh-gandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 1, "accepted_answer_id": 59079223, "answer_count": 1, "score": 1, "last_activity_date": 1574895718, "creation_date": 1574889750, "last_edit_date": 1574895718, "question_id": 59078622, "link": "https://stackoverflow.com/questions/59078622/mark-the-maximum-deviation-distance-between-curves", "title": "Mark the maximum deviation/distance between curves", "body": "<p>I just want to mark where the maximum deviation is occurred between two curves using matplotlib. Please help me.</p>\n\n<p>The vertical distance is for the <a href=\"https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test\" rel=\"nofollow noreferrer\">Kolmogorov\u2013Smirnov test</a></p>\n\n<pre><code>import numpy as np \n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport scipy.stats as stats\n#------------------------------------\ndata=np.random.uniform(low=1,high=10,size=300)\nstandardized_data=np.sort(data-np.mean(data))/np.std(data)\nprobs=np.arange(1.0, 301)/300\nplt.plot(standardized_data,probs) #curve1\nplt.plot(stats.norm.ppf(probs),probs) #curve2\nplt.show()\n</code></pre>\n\n<p>output:\n<a href=\"https://i.stack.imgur.com/X2FBq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X2FBq.png\" alt=\"enter image description here\"></a></p>\n\n<p>like this \n<a href=\"https://i.stack.imgur.com/ylB3j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ylB3j.png\" alt=\"enter image description here\"></a></p>\n\n<p>or like this\n<a href=\"https://i.stack.imgur.com/VpBpy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VpBpy.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas", "itertools"], "comments": [{"owner": {"reputation": 4314, "user_id": 5152563, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/ca2290acd27712398ff5bf1d469129dd?s=128&d=identicon&r=PG", "display_name": "Quickbeam2k1", "link": "https://stackoverflow.com/users/5152563/quickbeam2k1"}, "edited": false, "score": 0, "creation_date": 1574891727, "post_id": 59078615, "comment_id": 104395022, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19384532/get-statistics-for-each-group-such-as-count-mean-etc-using-pandas-groupby\">Get statistics for each group (such as count, mean, etc) using pandas GroupBy?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8412, "user_id": 8973620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qt6R.jpg?s=128&g=1", "display_name": "Mykola Zotko", "link": "https://stackoverflow.com/users/8973620/mykola-zotko"}, "is_accepted": true, "score": 3, "last_activity_date": 1574891306, "last_edit_date": 1574891306, "creation_date": 1574890616, "answer_id": 59078780, "question_id": 59078615, "link": "https://stackoverflow.com/questions/59078615/python-itertools-groupby-with-aggregate/59078780#59078780", "title": "Python itertools groupby with aggregate", "body": "<p>You can use the function <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\"><code>groupby</code></a>:</p>\n\n<pre><code>df1 = df.assign(Count=np.nan).\\\ngroupby(df['T/F'].ne(df['T/F'].shift()).cumsum(), as_index=False).\\\nagg({'Date': 'first', 'T/F': 'first', 'X1': 'mean', 'Count': 'size'})\n\nprint(df1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>       Date T/F  X1  Count\n0  12/02/19   T  15      2\n1  12/02/19   F  15      1\n2  12/02/19   T  12      1\n3  12/03/19   F  15      2\n4  12/03/19   T  35      2\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12448369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a562e50a3128d1fb24ab7545919261?s=128&d=identicon&r=PG&f=1", "display_name": "Bebugger", "link": "https://stackoverflow.com/users/12448369/bebugger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "accepted_answer_id": 59078780, "answer_count": 1, "score": 1, "last_activity_date": 1574891306, "creation_date": 1574889717, "question_id": 59078615, "link": "https://stackoverflow.com/questions/59078615/python-itertools-groupby-with-aggregate", "title": "Python itertools groupby with aggregate", "body": "<p>I am trying to group on a column based on the sequence it appears (timestamp) and simultaneously finding aggregate (mean) on the other variables within the small group. I can successfully group it but unable to aggregate</p>\n\n<p>Here is my sample input:</p>\n\n<pre><code>Date        T/F X1\n12/02/19    T   10\n12/02/19    T   20\n12/02/19    F   15\n12/02/19    T   12\n12/03/19    F   10\n12/03/19    F   20\n12/03/19    T   30\n12/04/19    T   40\n</code></pre>\n\n<p>Expected O/P</p>\n\n<pre><code>Date        T/F X1  Count\n12/02/19    T   15  2\n12/02/19    F   15  1\n12/02/19    T   12  1\n12/03/19    F   15  2\n12/03/19    T   35  2\n</code></pre>\n\n<p>Here is the code I am using, which groups and give me the count for each group, how do I get the avg of X1 as well, within that group</p>\n\n<pre><code>import itertools \nfor (key,group) in itertools.groupby(df['T/F']): \n    print (key, len(list(group))) \n</code></pre>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["python", "amazon-emr", "amazon-sagemaker"], "answers": [{"tags": [], "owner": {"reputation": 212, "user_id": 8899112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60a04605af3139d3c076c2c803ba55d1?s=128&d=identicon&r=PG&f=1", "display_name": "Jaipreet", "link": "https://stackoverflow.com/users/8899112/jaipreet"}, "is_accepted": false, "score": 0, "last_activity_date": 1583521377, "creation_date": 1583521377, "answer_id": 60570150, "question_id": 59078589, "link": "https://stackoverflow.com/questions/59078589/sagemaker-notebook-connected-to-emr-import-custom-python-module/60570150#60570150", "title": "SageMaker notebook connected to EMR import custom Python module", "body": "<p>The repo is on your Notebook Instance, whereas the PySpark kernel is executing code on the EMR cluster. </p>\n\n<p>To access these local modules on the EMR cluster, you can clone the repository on the EMR cluster.</p>\n\n<p>Also, SparkMagic has a useful magic <code>send_to_spark</code> which can be used to send data from the Notebook locally to the Spark kernel. <a href=\"https://github.com/jupyter-incubator/sparkmagic/blob/master/examples/Send%20local%20data%20to%20Spark.ipynb\" rel=\"nofollow noreferrer\">https://github.com/jupyter-incubator/sparkmagic/blob/master/examples/Send%20local%20data%20to%20Spark.ipynb</a></p>\n"}], "owner": {"reputation": 735, "user_id": 8388519, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28a52ea60bfbc695fe9e95afc44cbadf?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan", "link": "https://stackoverflow.com/users/8388519/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1583521377, "creation_date": 1574889575, "question_id": 59078589, "link": "https://stackoverflow.com/questions/59078589/sagemaker-notebook-connected-to-emr-import-custom-python-module", "title": "SageMaker notebook connected to EMR import custom Python module", "body": "<p>I looked through similar questions but none of them solved my problem.\nI have a SageMaker notebook instance, opened a SparkMagic Pyspark notebook connected to a AWS EMR cluster. I have a SageMaker repo connected to this notebook as well called dsci-Python</p>\n\n<p>Directory looks like:</p>\n\n<pre><code>/home/ec2-user/SageMaker/dsci-Python\n/home/ec2-user/SageMaker/dsci-Python/pyspark_mle/datalake_data_object/SomeClass\n/home/ec2-user/SageMaker/dsci-Python/Pyspark_playground.ipynb\n</code></pre>\n\n<p>There are <code>__init__.py</code> under both pyspark_mle and datalake_data_object directory and I have no problem importing them in other environments</p>\n\n<p>when I'm running this code in Pyspark_playground.ipynb:</p>\n\n<pre><code>from pyspark_mle.datalake_data_object.SomeClass.SomeClass import Something\n</code></pre>\n\n<p>I got No module named 'pyspark_mle'</p>\n\n<p>I think this is an environment path thing.  </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 849, "user_id": 5105118, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d9c39421c0c1defed08d0ae7f93df58?s=128&d=identicon&r=PG&f=1", "display_name": "v.tralala", "link": "https://stackoverflow.com/users/5105118/v-tralala"}, "edited": false, "score": 0, "creation_date": 1574889749, "post_id": 59078565, "comment_id": 104394309, "body": "You can look into the module <code>datetime</code>. You can convert strings to datetime objects and then you can do calculations on datetime objects such as summing(substracting dates. The first step is described here <a href=\"https://stackoverflow.com/questions/466345/converting-string-into-datetime\" title=\"converting string into datetime\">stackoverflow.com/questions/466345/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1574889856, "creation_date": 1574889856, "answer_id": 59078638, "question_id": 59078565, "link": "https://stackoverflow.com/questions/59078565/change-string-object-to-duration-and-sum/59078638#59078638", "title": "Change string / object to Duration and sum", "body": "<p>I think you just need to make it a timedelta column</p>\n\n<pre><code>pandas.to_timedelta(df['Avg Handle Time'])\n\npandas.to_timedelta(df['Avg Handle Time']).to_series().sum()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574890201, "post_id": 59078684, "comment_id": 104394458, "body": "datetimes are subtly different than datetimes... but i think this works nice answer!"}], "tags": [], "owner": {"reputation": 67, "user_id": 12448331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/488ac9522f389742376dcec8293ca040?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge A. Salazar", "link": "https://stackoverflow.com/users/12448331/jorge-a-salazar"}, "is_accepted": false, "score": 1, "last_activity_date": 1574890103, "creation_date": 1574890103, "answer_id": 59078684, "question_id": 59078565, "link": "https://stackoverflow.com/questions/59078565/change-string-object-to-duration-and-sum/59078684#59078684", "title": "Change string / object to Duration and sum", "body": "<p>when you read your csv file, you need to parse the dates so they can be read as such. For example:</p>\n\n<p>df = pd.read_csv('your_path.csv', parse_dates=['Avg Handle Time'])</p>\n\n<p>After doing this, the type of your column will be date-type. Once you have done this try to sum it.</p>\n"}, {"tags": [], "owner": {"reputation": 1227, "user_id": 10443817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f8e3d5838b5ebc68cd1e11abf51e63?s=128&d=identicon&r=PG&f=1", "display_name": "exan", "link": "https://stackoverflow.com/users/10443817/exan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574897375, "creation_date": 1574897375, "answer_id": 59079796, "question_id": 59078565, "link": "https://stackoverflow.com/questions/59078565/change-string-object-to-duration-and-sum/59079796#59079796", "title": "Change string / object to Duration and sum", "body": "<p>You need to convert the column from string/object to timedelta type and then just sum it up </p>\n\n<pre><code>    df = pd.DataFrame({\"AvgHandleTime\": ['-', '0:05:07', '-', '-', '-', '0:05:03', '-', '-']})\n    pd.to_timedelta(df['AvgHandleTime']).sum()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12425936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c70be770dce7ee50a2972e03c28ab028?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmed", "link": "https://stackoverflow.com/users/12425936/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1574897375, "creation_date": 1574889449, "last_edit_date": 1574895476, "question_id": 59078565, "link": "https://stackoverflow.com/questions/59078565/change-string-object-to-duration-and-sum", "title": "Change string / object to Duration and sum", "body": "<p>I am new to Pandas and python,\nI have a CSV file which contains a duration column ( Time ) when I read the file it's read-only as a string and I can't sum it:</p>\n\n<pre><code>agents['Avg Handle Time'][1:10]\nOut[12]: \n1          -\n2    0:05:07\n3          -\n4          -\n5          -\n6    0:05:03\n7          -\n8          -\n9          -\nName: Avg Handle Time, dtype: object\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "imgui"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10796972, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XV4us1b5U1o/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hTDcfArTxHgpDBU3T1z-gzhDQ9jg/mo/photo.jpg?sz=128", "display_name": "3 agle", "link": "https://stackoverflow.com/users/10796972/3-agle"}, "edited": false, "score": 0, "creation_date": 1576354437, "post_id": 59111605, "comment_id": 104875219, "body": "Thanks now i noticed, that i cannot render pyimgui itself. Is there a way to render only the imgui or attach imgui to a dynamic window that automatically moves and resizes when imgui gets bigger (drop down Menu for example)?"}], "tags": [], "owner": {"reputation": 11, "user_id": 9407390, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ray", "link": "https://stackoverflow.com/users/9407390/ray"}, "is_accepted": false, "score": 1, "last_activity_date": 1575066439, "creation_date": 1575066439, "answer_id": 59111605, "question_id": 59078552, "link": "https://stackoverflow.com/questions/59078552/pyimgui-graphical-user-interface-not-visible/59111605#59111605", "title": "PyImgui Graphical User Interface not visible", "body": "<p>Yes, if you don't select a backend renderer for pyimgui, it won't render anything. I think you might find an imgui.ini file with imgui's interpretation of what you've asked for, in the current directory, but you won't get any graphical output.</p>\n\n<p>To get graphical output, select a renderer, like in this file in the master pyimgui repository:\n<a href=\"https://github.com/swistakm/pyimgui/blob/master/doc/examples/integrations_pygame.py\" rel=\"nofollow noreferrer\">https://github.com/swistakm/pyimgui/blob/master/doc/examples/integrations_pygame.py</a></p>\n\n<p>Note that, as I write this, most but not all of the examples in this directory work:\n<a href=\"https://github.com/swistakm/pyimgui/tree/master/doc/examples\" rel=\"nofollow noreferrer\">https://github.com/swistakm/pyimgui/tree/master/doc/examples</a></p>\n\n<p>The \"all in one\" example did not work for me, and the SDL2 example required changing:</p>\n\n<pre><code>SDL_GL_SetAttribute(SDL_GL_MULTISAMPLESAMPLES, 16)\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>SDL_GL_SetAttribute(SDL_GL_MULTISAMPLESAMPLES, 4)\n</code></pre>\n\n<p>as my GPU doesn't seem to do 16-point multisampling.</p>\n\n<p>Also, these examples don't play well with Python3 in that the error prints() are wrong, and will fail instead of printing a useful error:</p>\n\n<pre><code>print(\"Error: SDL could not initialize! SDL Error: \" + SDL_GetError())\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>print(\"Error: SDL could not initialize! SDL Error: \", SDL_GetError())\n</code></pre>\n\n<p>So, if you get any errors at these lines, you know what to do. :-)</p>\n\n<p>Finally, for future searchers, here is a quick cut and paste of the pygame version which works for me (from <a href=\"https://github.com/swistakm/pyimgui/blob/master/doc/examples/integrations_pygame.py\" rel=\"nofollow noreferrer\">https://github.com/swistakm/pyimgui/blob/master/doc/examples/integrations_pygame.py</a> ). I ran it with python 3.6:</p>\n\n<pre><code>#!/usr/bin/env python3\nfrom __future__ import absolute_import\n\nimport sys\n\nimport pygame\nimport OpenGL.GL as gl\n\nfrom imgui.integrations.pygame import PygameRenderer\nimport imgui\n\n\ndef main():\n    pygame.init()\n    size = 800, 600\n\n    pygame.display.set_mode(size, pygame.DOUBLEBUF | pygame.OPENGL | pygame.RESIZABLE)\n\n    imgui.create_context()\n    impl = PygameRenderer()\n\n    io = imgui.get_io()\n    io.display_size = size\n\n    while 1:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                sys.exit()\n\n            impl.process_event(event)\n\n        imgui.new_frame()\n\n        if imgui.begin_main_menu_bar():\n            if imgui.begin_menu(\"File\", True):\n\n                clicked_quit, selected_quit = imgui.menu_item(\n                    \"Quit\", 'Cmd+Q', False, True\n                )\n\n                if clicked_quit:\n                    exit(1)\n\n                imgui.end_menu()\n            imgui.end_main_menu_bar()\n\n        imgui.show_test_window()\n\n        imgui.begin(\"Custom window\", True)\n        imgui.text(\"Bar\")\n        imgui.text_colored(\"Eggs\", 0.2, 1., 0.)\n        imgui.end()\n\n        # note: cannot use screen.fill((1, 1, 1)) because pygame's screen\n        #       does not support fill() on OpenGL sufraces\n        gl.glClearColor(1, 1, 1, 1)\n        gl.glClear(gl.GL_COLOR_BUFFER_BIT)\n        imgui.render()\n        impl.render(imgui.get_draw_data())\n\n        pygame.display.flip()\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10796972, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XV4us1b5U1o/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hTDcfArTxHgpDBU3T1z-gzhDQ9jg/mo/photo.jpg?sz=128", "display_name": "3 agle", "link": "https://stackoverflow.com/users/10796972/3-agle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1616932181, "creation_date": 1574889389, "last_edit_date": 1616932181, "question_id": 59078552, "link": "https://stackoverflow.com/questions/59078552/pyimgui-graphical-user-interface-not-visible", "title": "PyImgui Graphical User Interface not visible", "body": "<p>So I just started coding GUI in python and after coding some stuff in tkinter i felt like I might as well use imgui as I know some stuff about it from C++.</p>\n<p>Now starting to read the docs and somehow the imgui window isn't showing up. I just see a console pop open for a milisecond but no gui.</p>\n<pre><code>\n# initilize imgui context (see documentation)\nimgui.create_context()\nimgui.get_io().display_size = 100, 100\nimgui.get_io().fonts.get_tex_data_as_rgba32()\n\n# start new frame context\nimgui.new_frame()\n\n# open new window context\nimgui.begin(&quot;Your first window!&quot;, True)\n\n# draw text label inside of current window\nimgui.text(&quot;Hello world!&quot;)\n\n# close current window context\nimgui.end()\n\n# pass all drawing comands to the rendering pipeline\n# and close frame context\nimgui.render()\nimgui.end_frame()\n</code></pre>\n<p>I feel like I didn't choose any engine to render but I'm not sure.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1574889546, "post_id": 59078546, "comment_id": 104394241, "body": "Apparently they want you to call the index variable <code>number</code> rather than <code>count</code>. But I&#39;m absolutely positive that isn&#39;t the answer they were after anyway; you are certainly supposed to use a <code>for</code> loop."}, {"owner": {"reputation": 1, "user_id": 12448335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QqT8xJoYRz8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remnvODDPsWegeeCwzJD1nNEUcu2g/photo.jpg?sz=128", "display_name": "ffffffffuuuuuuu", "link": "https://stackoverflow.com/users/12448335/ffffffffuuuuuuu"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1574890481, "post_id": 59078546, "comment_id": 104394580, "body": "I guessed that since the lesson included for, if, while, and else, and since they did not specify that I had to use a specific one, any combination of what were in the lesson would make for a correct answer. I will try using for loop thanks!"}], "owner": {"reputation": 1, "user_id": 12448335, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QqT8xJoYRz8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3remnvODDPsWegeeCwzJD1nNEUcu2g/photo.jpg?sz=128", "display_name": "ffffffffuuuuuuu", "link": "https://stackoverflow.com/users/12448335/ffffffffuuuuuuu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574889349, "creation_date": 1574889349, "question_id": 59078546, "link": "https://stackoverflow.com/questions/59078546/question-on-a-learnpython-org-excercise-on-loops-complete-novice", "title": "Question on a learnpython.org excercise on loops (complete novice)", "body": "<p><a href=\"https://www.learnpython.org/en/Loops\" rel=\"nofollow noreferrer\">https://www.learnpython.org/en/Loops</a></p>\n\n<p>Hello I am a complete novice to coding and a friend recommended this site to me to learn python.\nI am having trouble understanding what I am doing wrong in the exercise in the link above. </p>\n\n<p>The exercise is as follows: </p>\n\n<p>Exercise\nLoop through and print out all even numbers from the numbers list in the same order they are received. Don't print any numbers that come after 237 in the sequence.</p>\n\n<p>SCRIPT</p>\n\n<pre><code>numbers = [\n    951, 402, 984, 651, 360, 69, 408, 319, 601, 485, 980, 507, 725, 547, 544,\n    615, 83, 165, 141, 501, 263, 617, 865, 575, 219, 390, 984, 592, 236, 105, 942, 941,\n    386, 462, 47, 418, 907, 344, 236, 375, 823, 566, 597, 978, 328, 615, 953, 345,\n    399, 162, 758, 219, 918, 237, 412, 566, 826, 248, 866, 950, 626, 949, 687, 217,\n    815, 67, 104, 58, 512, 24, 892, 894, 767, 553, 81, 379, 843, 831, 445, 742, 717,\n    958, 609, 842, 451, 688, 753, 854, 685, 93, 857, 440, 380, 126, 721, 328, 753, 470,\n    743, 527\n]\n\n# your code goes here\n</code></pre>\n\n<p>and I wrote: </p>\n\n<pre><code>count=0\nwhile(numbers[count]!=237):\n    if(numbers[count]%2==1):\n        count +=1\n        continue\n    print(numbers[count])\n    count +=1\n</code></pre>\n\n<p>for the code section, and the output was : </p>\n\n<p> output:\n    402\n    984\n    360\n    408\n    980\n    544\n    390\n    984\n    592\n    236\n    942\n    386\n    462\n    418\n    344\n    236\n    566\n    978\n    328\n    162\n    758\n    918</p>\n\n<p>which I am pretty sure fits the goal of the exercise. \nHowever, the site keeps displaying the following red message, </p>\n\n<p>\"Define a object number using the code from the tutorial to print just the desired numbers from the exercise description.\"</p>\n\n<p>which, in my understanding, means that my answer is somehow wrong. What could I be doing wrong?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "data-mining", "data-analysis"], "comments": [{"owner": {"reputation": 3186, "user_id": 10495893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4324cfa200c7187de4c59a8735739628?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Reiniger", "link": "https://stackoverflow.com/users/10495893/ben-reiniger"}, "edited": false, "score": 0, "creation_date": 1599062777, "post_id": 59078542, "comment_id": 112659360, "body": "Reposted and answered at <a href=\"https://stats.stackexchange.com/q/438875/232706\">stats.stackexchange.com/q/438875/232706</a>"}], "owner": {"reputation": 173, "user_id": 12448301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/687df73fa81a24accaf2daf6f3bcccb4?s=128&d=identicon&r=PG&f=1", "display_name": "thereandhere1", "link": "https://stackoverflow.com/users/12448301/thereandhere1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1579869053, "creation_date": 1574889330, "last_edit_date": 1574892599, "question_id": 59078542, "link": "https://stackoverflow.com/questions/59078542/one-hot-encoding-of-a-binary-feature-when-using-xgboost", "title": "one hot encoding of a binary feature when using XGBoost", "body": "<p>I am well aware that when using categorical features with tree based models such as random forest and gradient boosting there is no need to drop one level from N-level categorical features. For example, the following color feature with three levels can be made three binary features.</p>\n\n<pre><code>Color|| Color_R | Color_B | Color_G\n____ ||_________|_________|________\n R   ||   1     |   0     |   0\n B   ||   0     |   1     |   0\n G   ||   0     |   0     |   1\n</code></pre>\n\n<p>However, what about binary feature (E.g., TRUE/FALSE, MALE/FEMALE)? Should it be kept as a single binary feature (Option I below) or should it also be one-hot encoded into two binary features (Option II below)</p>\n\n<p><strong>Option I</strong></p>\n\n<pre><code>Gender || Gender  | \n____   ||_________|\nM      ||   1     | \nF      ||   0     | \nM      ||   1     | \n</code></pre>\n\n<p><strong>Option II</strong></p>\n\n<pre><code>Gender || Gender_M | Gender_F \n____   || _________|_________\nM      ||    1     |   0     \nF      ||    0     |   1     \nM      ||    1     |   0  \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "selenium"], "comments": [{"owner": {"reputation": 1378, "user_id": 2468608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c96587623a8fed8286872dff6eed08?s=128&d=identicon&r=PG", "display_name": "C1sc0", "link": "https://stackoverflow.com/users/2468608/c1sc0"}, "edited": false, "score": 0, "creation_date": 1574889941, "post_id": 59078521, "comment_id": 104394371, "body": "<a href=\"https://stackoverflow.com/questions/33608225/selenium-get-string-value-from-div-onclick-element\" title=\"selenium get string value from div onclick element\">stackoverflow.com/questions/33608225/&hellip;</a> (be nice and don&#39;t hack ncore)"}, {"owner": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "reply_to_user": {"reputation": 1378, "user_id": 2468608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5c96587623a8fed8286872dff6eed08?s=128&d=identicon&r=PG", "display_name": "C1sc0", "link": "https://stackoverflow.com/users/2468608/c1sc0"}, "edited": false, "score": 1, "creation_date": 1574890227, "post_id": 59078521, "comment_id": 104394471, "body": "trying to make automate bot :D"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "edited": false, "score": 0, "creation_date": 1574890069, "post_id": 59078551, "comment_id": 104394413, "body": "getting error: TypeError: findall() missing 1 required positional argument: &#39;string&#39;"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889384, "creation_date": 1574889384, "answer_id": 59078551, "question_id": 59078521, "link": "https://stackoverflow.com/questions/59078521/trying-to-find-a-id-in-elements-in-python/59078551#59078551", "title": "Trying to find a id in elements in python", "body": "<p>i think you could just use simple regex to find this easily</p>\n\n<pre><code>ids = re.findall(\"onclick=\\\"konyvjelzo\\('(.*?)'\\);\",page_text)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "edited": false, "score": 1, "creation_date": 1574892307, "post_id": 59078966, "comment_id": 104395191, "body": "Worked, Thank you so much"}, {"owner": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "edited": false, "score": 0, "creation_date": 1574892805, "post_id": 59078966, "comment_id": 104395348, "body": "sorry,one more question what if i want to add the number in this format: example: &quot;google.com/&quot;+number+&quot;/download&quot;"}, {"owner": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "edited": false, "score": 0, "creation_date": 1574892972, "post_id": 59078966, "comment_id": 104395407, "body": "sorry,one more question what if i want to add the number in this format: example: &quot;google.com/&quot;+number+&quot;/download&quot;"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "edited": false, "score": 0, "creation_date": 1574893041, "post_id": 59078966, "comment_id": 104395428, "body": "@perzsa Of coarse that should work too. In that case, don&#39;t print the number but store it as a variable."}, {"owner": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "edited": false, "score": 1, "creation_date": 1574893143, "post_id": 59078966, "comment_id": 104395463, "body": "Thank you so much again  Helped me so much"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 1, "last_activity_date": 1574891739, "creation_date": 1574891739, "answer_id": 59078966, "question_id": 59078521, "link": "https://stackoverflow.com/questions/59078521/trying-to-find-a-id-in-elements-in-python/59078966#59078966", "title": "Trying to find a id in elements in python", "body": "<p>To print the partial <em>value</em> of <em>onclick</em> event i.e. <strong>1523442</strong> you have to induce <em>WebDriverWait</em> for the desired <code>visibility_of_element_located()</code> and you can use the following solution:</p>\n\n<ul>\n<li><p>Using <code>CSS_SELECTOR</code>:</p>\n\n<pre><code>print(WebDriverWait(browser, 20).until(EC.visibility_of_element_located((By.CSS_SELECTOR, \"div.tabla_szoveg&gt;div.torrent_konyvjelzo2\"))).get_attribute(\"onclick\").split(\"'\")[1])\n</code></pre></li>\n<li><p>Using <code>XPATH</code>:</p>\n\n<pre><code>print(WebDriverWait(browser, 20).until(EC.visibility_of_element_located((By.XPATH, \"//div[class='tabla_szoveg']/div[@class='torrent_konyvjelzo2']\"))).get_attribute(\"onclick\").split(\"'\")[1])\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 3571, "user_id": 11061080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a9089f9f4f8f14b04d3d8dfe51e7c5?s=128&d=identicon&r=PG&f=1", "display_name": "Dipak Bachhav", "link": "https://stackoverflow.com/users/11061080/dipak-bachhav"}, "is_accepted": false, "score": 1, "last_activity_date": 1574895272, "last_edit_date": 1574895272, "creation_date": 1574892996, "answer_id": 59079183, "question_id": 59078521, "link": "https://stackoverflow.com/questions/59078521/trying-to-find-a-id-in-elements-in-python/59079183#59079183", "title": "Trying to find a id in elements in python", "body": "<p>Please check if <code>torrent_konyvjelzo2</code> is dynamic ,if not then you can also replace below <code>torrent</code> text with it otherwise you can use below code as it is.</p>\n\n<p>split(\"'\")[1] is used to split your <code>konyvjelzo('1523442');</code> text </p>\n\n<pre><code>konyvjelzo( --&gt; item 0\n1523442     --&gt; item 1\n);          --&gt; item 2\n</code></pre>\n\n<p>the first item index starts from 0. so we can return 1 item.</p>\n\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.by import By\n\n\nelement = WebDriverWait(driver, 20).until(EC.presence_of_element_located((By.XPATH, \"//div[contains(@class, 'torrent')]\")))\nattribute=element.get_attribute(\"onclick\")\nprint attribute.split(\"'\")[1] \n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 12448330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAmQ0H9IMSlOGptugrW2R8xmrHFO756FlbkIVsLgA=k-s128", "display_name": "perzsa", "link": "https://stackoverflow.com/users/12448330/perzsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 59078966, "answer_count": 3, "score": 0, "last_activity_date": 1574895272, "creation_date": 1574889213, "question_id": 59078521, "link": "https://stackoverflow.com/questions/59078521/trying-to-find-a-id-in-elements-in-python", "title": "Trying to find a id in elements in python", "body": "<p>I need help,</p>\n\n<p>I'm trying to print the link from a website,\nHere is how the code looks like:</p>\n\n<pre><code>&lt;div class=\"tabla_szoveg\"&gt;\n            &lt;div style=\"cursor:pointer\" onclick=\"konyvjelzo('1523442');\" class=\"torrent_konyvjelzo2\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I'm trying to print the number inside \"konyvjelzo('1523442');\"</p>\n\n<p>Using selenium</p>\n\n<p>Also tried:</p>\n\n<pre><code>linkgettr= driver.find_element_by_class(\"box_torrent_all\")\n</code></pre>\n\n<p>but getting NONE\nThanks</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1574893339, "post_id": 59078511, "comment_id": 104395519, "body": "Looks like <a href=\"https://matplotlib.org/3.1.1/api/_as_gen/matplotlib.axes.Axes.table.html\" rel=\"nofollow noreferrer\"><code>table</code></a> would be a good place to start.  I haven&#39;t used it enough to give a good answer."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1574893545, "post_id": 59078511, "comment_id": 104395587, "body": "See <a href=\"https://matplotlib.org/3.1.1/gallery/misc/table_demo.html#sphx-glr-gallery-misc-table-demo-py\" rel=\"nofollow noreferrer\">&#39;Table Demo&#39;</a> for an example that uses <code>table</code>."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 4, "creation_date": 1575529341, "post_id": 59078511, "comment_id": 104599043, "body": "I would use LaTeX for a table you&#39;re trying to put into a paper, as opposed to a raster image."}, {"owner": {"reputation": 3152, "user_id": 4298115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cb97bb219d78e33bd29313a8475c21?s=128&d=identicon&r=PG&f=1", "display_name": "lbragile", "link": "https://stackoverflow.com/users/4298115/lbragile"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1575529435, "post_id": 59078511, "comment_id": 104599069, "body": "@alkasm the thing is my actual matrices are much larger (14x14 or 28x28) and I need to make many images for them, so manually doing so in LaTex seems like a very inefficient method."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 5, "creation_date": 1575588831, "post_id": 59078511, "comment_id": 104627389, "body": "On the contrary, rasterizing to images sounds like the inefficient method. Tables of data are not images, and so should not be treated as such. You can auto generate LaTeX, even manually, extremely easily."}], "answers": [{"tags": [], "owner": {"reputation": 819, "user_id": 11261546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHAUw.jpg?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/11261546/ivan"}, "is_accepted": false, "score": 4, "last_activity_date": 1575536597, "creation_date": 1575536597, "answer_id": 59191540, "question_id": 59078511, "link": "https://stackoverflow.com/questions/59078511/get-matrix-image-of-numpy-array-values-grid-with-pixel-values-inside-not-colo/59191540#59191540", "title": "Get matrix image of numpy array values - Grid with pixel values inside (not colors)", "body": "<p>May be this will help:</p>\n\n<pre><code>from matplotlib import pyplot as plt\nimport numpy as np\n\nw  = 10\nh  = 10 \nimg = np.random.randint(255, size=(w, h))\nplt.figure(figsize=(5,8))\nplt.imshow(img, interpolation='nearest')\nplt.axis('off')\n\ncellTextimg =  []\nfor j in range(0,h):\n    cellTextimg.append(img[j,:])\n\nthe_table = plt.table(cellText= cellTextimg, loc='bottom')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 3, "creation_date": 1575545394, "post_id": 59192514, "comment_id": 104606709, "body": "I&#39;d almost do something like <code>fig = plt.figure(figsize = x.shape)</code>"}], "tags": [], "owner": {"reputation": 3107, "user_id": 8893595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27d7c8a34c7abf24ea4499f8757b3f3?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin Geet D&#39;Sa", "link": "https://stackoverflow.com/users/8893595/ashwin-geet-dsa"}, "is_accepted": false, "score": 8, "last_activity_date": 1576059624, "last_edit_date": 1576059624, "creation_date": 1575539972, "answer_id": 59192514, "question_id": 59078511, "link": "https://stackoverflow.com/questions/59078511/get-matrix-image-of-numpy-array-values-grid-with-pixel-values-inside-not-colo/59192514#59192514", "title": "Get matrix image of numpy array values - Grid with pixel values inside (not colors)", "body": "<p>You can use the <code>table</code> function of <code>matplot</code> to plot the simple table. Furthermore, you can save the plot as PNG.\nBelow is the simple code for your requirements:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nx = np.array([[1,2],[3,4]])\n\nplt.figure()\nplt.table(cellText=x,cellLoc='center',loc='center')\nplt.axis('off')\nplt.savefig('table.png')\n\n</code></pre>\n\n<p>Size of the plot or image can be adjusted by changing <code>figsize</code> parameters in the line : <code>plt.figure(figsize=(x,y))</code></p>\n\n<p>For better appearance, it can be modified as below:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nx = np.array([[1,2],[3,4]])\n\nfig = plt.figure(figsize=(2,2))\nplt.axis('off')\nplt.axis('tight')\nplt.table(cellText=x,cellLoc='center',loc='center')\n#plt.subplots_adjust(hspace=0.5)\nfig.tight_layout()\nplt.savefig('table.png')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1074, "user_id": 8013091, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Q808N6FXFaI/AAAAAAAAAAI/AAAAAAAAAgU/ltoAtDxvv4w/photo.jpg?sz=128", "display_name": "Solvalou", "link": "https://stackoverflow.com/users/8013091/solvalou"}, "is_accepted": true, "score": 12, "last_activity_date": 1575610885, "last_edit_date": 1575610885, "creation_date": 1575540535, "answer_id": 59192715, "question_id": 59078511, "link": "https://stackoverflow.com/questions/59078511/get-matrix-image-of-numpy-array-values-grid-with-pixel-values-inside-not-colo/59192715#59192715", "title": "Get matrix image of numpy array values - Grid with pixel values inside (not colors)", "body": "<p>I would use LaTeX to generate the tables, since they look fancy and you can either generate an image or directly put them in your document. I used the following code to achieve this:</p>\n\n<pre><code>#!/usr/bin/env\nimport numpy as np\nimport os\n\nx = np.array([[1,2],[3,4]])\n\ndef generateLatexTable(x):\n    start = [r'\\documentclass[preview]{standalone}', r'\\begin{document}', r'\\begin{tabular}{%s}' % ('{1}{0}{1}'.format('|'.join(['r'] * x.shape[1]), '|')), r'\\hline']\n    tab = [' &amp; '.join(['%d' % val for val in row]) + r' \\\\ \\hline' for row in x]\n    end = [r'\\end{tabular}', r'\\end{document}']\n    text = '\\n'.join(start + tab + end)\n\n    return text\n\nwith open('table.tex', 'w') as f:\n    f.write(generateLatexTable(x))\nos.system(\"pdflatex table.tex\")\n</code></pre>\n\n<p>Here, the document class <code>preview</code> is used which returns an image resized to the content of the document, i.e. just the table. Only a <code>tabular</code> environment is used to present the data. There are horizontal and vertical bars between the cells, but it is very easy to change this. In the variable <code>tab</code> the data is processed for each row and converted into a string. Note that you have to specify the output format at this position. I set it to <code>%d</code> so everything is converted to integers.  </p>\n\n<p>If you want to use the table directly in a latex source, you have to remove <code>documentclass</code> and <code>\\begin{document}</code> as well as <code>\\end{document}</code> in the variables of <code>start</code> and <code>end</code>. Finally, everything is put together in a latex-source which is then stored to disk as <code>table.tex</code>. If you just want the image in the end, the resulting file is compiled to <code>table.pdf</code>.</p>\n\n<p>Here is what the output looks like. But like I said, it is very easy to change the looks since it is LaTeX :)</p>\n\n<p><a href=\"https://i.stack.imgur.com/xsWL5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xsWL5.png\" alt=\"table\"></a></p>\n\n<p>Here is another example with a large matrix (14 x 14), filled with random numbers ranging from 0 to 100:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QDTB9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QDTB9.png\" alt=\"table2\"></a></p>\n"}], "owner": {"reputation": 3152, "user_id": 4298115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cb97bb219d78e33bd29313a8475c21?s=128&d=identicon&r=PG&f=1", "display_name": "lbragile", "link": "https://stackoverflow.com/users/4298115/lbragile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 857, "favorite_count": 1, "accepted_answer_id": 59192715, "answer_count": 3, "score": 9, "last_activity_date": 1576059624, "creation_date": 1574889154, "question_id": 59078511, "link": "https://stackoverflow.com/questions/59078511/get-matrix-image-of-numpy-array-values-grid-with-pixel-values-inside-not-colo", "title": "Get matrix image of numpy array values - Grid with pixel values inside (not colors)", "body": "<p>I searched online and couldn't find anything about this that does what I want.</p>\n\n<p>I would like to save a numpy array as an image but instead of having a colorful image, I want a black and white representation of the pixel values in their corresponding grid location.</p>\n\n<p><strong>For example:</strong></p>\n\n<pre><code>import numpy as np\nx = np.array([[1,2],[3,4]])\nprint(x)\n# [[1 2]\n#  [3 4]]\n</code></pre>\n\n<p>I would like to save this as an image (.PNG) that looks like the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fCrb1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fCrb1.png\" alt=\"expected output\"></a></p>\n\n<p>My current code creates a grid and places the numbers inside but it is very difficult to adjust everything to make it presentable in a research paper.</p>\n\n<p>So rather than posting my overly complex code, I was wondering if there is a built in function to handle this in a few lines of code.</p>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy", "connection-pooling", "flask-restful"], "owner": {"reputation": 1417, "user_id": 6560773, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/rUJo3.png?s=128&g=1", "display_name": "MattSom", "link": "https://stackoverflow.com/users/6560773/mattsom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1574890249, "creation_date": 1574889133, "last_edit_date": 1574890249, "question_id": 59078506, "link": "https://stackoverflow.com/questions/59078506/how-to-do-flask-sqlalchemy-pooling", "title": "How to do Flask-SQLAlchemy pooling?", "body": "<p>This is how I basically create my <code>app</code> and <code>db</code>:</p>\n\n<pre><code>from flask import Flask\nfrom flask_restful import Api\nfrom flask_sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\napi = Api(app)\n\napp.config['SQLALCHEMY_DATABASE_URI'] = mysql+pymysql://user:pass@heroku-hostname\n\ndb = SQLAlchemy(app)\n\n@app.before_first_request\ndef create_tables():\n    db.create_all()\n</code></pre>\n\n<p>I do not explicitly handle any connection object myself, only using this db, like:</p>\n\n<pre><code>def save_to_db(self):\n    db.session.add(self)\n    db.session.commit()\n\ndef find_by_email(email):\n    return User.query.filter_by(email=email).first()\n</code></pre>\n\n<p>Pure <a href=\"https://docs.sqlalchemy.org/en/13/core/pooling.html\" rel=\"nofollow noreferrer\">SQLAlchemy</a> creates some kind of <code>Engine</code> object with pooling parameters while <a href=\"https://flask-sqlalchemy.palletsprojects.com/en/2.x/config/\" rel=\"nofollow noreferrer\">Flask-SQLAlchemy's</a> configuration documentation says there are keys for pooling options, but they are getting deprecated. </p>\n\n<p>This clearly seems as an abstraction built upon this <code>Engine</code> object. Also, it shows these settings are actually getting default values if not specified.</p>\n\n<p>The last config field is the <code>SQLALCHEMY_ENGINE_OPTIONS</code>, and it states indeed: <em>A dictionary of keyword args to send to create_engine().</em></p>\n\n<p>So how is this happening from here? Are we just basically using this single config field from now to run the original SQLAlchemy <code>Engine</code> functions? </p>\n\n<p>What kind of dictionary values should I provide; do I still get any default values? </p>\n\n<p>Coming from Flask and learning things in a top-down approach I'm a bit confused how things are working at lower layers.</p>\n"}, {"tags": ["python", "pytest", "bdd", "pytest-bdd"], "answers": [{"tags": [], "owner": {"reputation": 24, "user_id": 4915410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/409b1e7d9018a7e54cbe93bcc8a01b65?s=128&d=identicon&r=PG&f=1", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/4915410/sandeep"}, "is_accepted": false, "score": 0, "last_activity_date": 1592426179, "last_edit_date": 1592426179, "creation_date": 1592393198, "answer_id": 62427879, "question_id": 59078497, "link": "https://stackoverflow.com/questions/59078497/using-a-pytest-bdd-background-to-set-up-multiple-rows/62427879#62427879", "title": "Using a pytest-bdd background to set up multiple rows", "body": "<p>Hi what is your step definition in your conftest.py file ?</p>\n\n<pre><code>Background:Title\n    Given something\n    And something else\n   And something more\n</code></pre>\n\n<p>in conftest.py it should be</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>@given(\"something\")\ndef something():\n    # your code for something\n    pass\n\n@given(\"something else\")\ndef something():\n    # your code for something\n    pass\n\n\n@given(\"something more\")\ndef something():\n    # your code for something\n    pass\n</code></pre>\n"}], "owner": {"reputation": 3383, "user_id": 2543304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5eb30af764ae025418f4eae1325fc3a5?s=128&d=identicon&r=PG", "display_name": "Michael Grazebrook", "link": "https://stackoverflow.com/users/2543304/michael-grazebrook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 649, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1592426179, "creation_date": 1574889104, "question_id": 59078497, "link": "https://stackoverflow.com/questions/59078497/using-a-pytest-bdd-background-to-set-up-multiple-rows", "title": "Using a pytest-bdd background to set up multiple rows", "body": "<p>I want to write a gherkin-like test using pytest-bdd to create a common set of test data for some features. I couldn't use <strong>given</strong> to add multiple rows because \"given step has already been used\". What's the right way to do this?</p>\n\n<p>I tried this:</p>\n\n<pre><code>    Background:\n        Given a user with Clerk privileges\n        And a household entry for \"Alice\" with SubmissionDate \"Nov 26, 2019 3:59:50 pm\"\n        And a household entry for \"Bill\" with SubmissionDate \"Nov 27, 2019 3:59:50 pm\"\n</code></pre>\n\n<p>This fails with the message:</p>\n\n<pre><code>E pytest_bdd.exceptions.GivenAlreadyUsed: \nFixture \"add_household\" that implements this \n\"a household entry for \"Bill\" with SubmissionDate \"Nov 27, 2019 3:59:50 pm\"\" \ngiven step has been already used.\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 3753, "user_id": 1718575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f36e2abcb1e57219a4b58d32c5bc6d?s=128&d=identicon&r=PG", "display_name": "NicholasM", "link": "https://stackoverflow.com/users/1718575/nicholasm"}, "is_accepted": false, "score": 1, "last_activity_date": 1574889472, "last_edit_date": 1574889472, "creation_date": 1574889167, "answer_id": 59078515, "question_id": 59078448, "link": "https://stackoverflow.com/questions/59078448/finding-index-values-where-a-series-value-changes-significantly/59078515#59078515", "title": "Finding index values where a Series value changes significantly", "body": "<p>You can get a series of <em>changes</em> in Series values using <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.diff.html\" rel=\"nofollow noreferrer\"><code>Series.diff()</code></a>.  Then, you could compare the absolute value of those changes to some tolerance that you choose.</p>\n\n<pre><code>STEP_CHANGE_TOLERANCE = 2500\nidx = df[df[\"SYS_FAN_0_0\"].diff().abs() &gt; STEP_CHANGE_TOLERANCE].index\n</code></pre>\n\n<p>The code above will give the first (I think) index value of each new speed.  If you want the <em>last</em> index of each region, you could try:</p>\n\n<pre><code>idx_fwd = df[df[\"SYS_FAN_0_0\"].diff(-1).abs() &gt; STEP_CHANGE_TOLERANCE].index\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10901589, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RJ827_zkeBE/AAAAAAAAAAI/AAAAAAAABdw/xLfttHwhxCw/photo.jpg?sz=128", "display_name": "Felix Liu", "link": "https://stackoverflow.com/users/10901589/felix-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574889472, "creation_date": 1574888876, "last_edit_date": 1574889422, "question_id": 59078448, "link": "https://stackoverflow.com/questions/59078448/finding-index-values-where-a-series-value-changes-significantly", "title": "Finding index values where a Series value changes significantly", "body": "<p>I have a data frame read from a csv log file. One of the columns that I am studying is Fan Speed. There were several fan speed step changes during the log. I want to automatically find the last index of each Fan Speed Change Step for the entire log. How should I approach this ? I am new to python. Some guidance are appreciated ! </p>\n\n<p>Regards<a href=\"https://i.stack.imgur.com/X8k7E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8k7E.png\" alt=\"enter image description here\"></a></p>\n\n<p>ffl3883</p>\n"}, {"tags": ["python", "tensorflow", "google-coral"], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 2202359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YLKD.jpg?s=128&g=1", "display_name": "j2abro", "link": "https://stackoverflow.com/users/2202359/j2abro"}, "edited": false, "score": 0, "creation_date": 1574962324, "post_id": 59084580, "comment_id": 104421832, "body": "Thanks Shubham. I&#39;m still hopeful there is a way to convert this pretrained model. I selected a MobileNet model because I thought it could be converted. However, the error does in fact indicate that perhaps some ops are not supported. Where might I find a Keras pretrained model that would be default be limited to the supported ops? I&#39;m looking for a Google Open Images trained model compatible with TPU/Coral."}], "tags": [], "owner": {"reputation": 2753, "user_id": 10878733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pwhdv.jpg?s=128&g=1", "display_name": "Shubham Panchal", "link": "https://stackoverflow.com/users/10878733/shubham-panchal"}, "is_accepted": true, "score": 0, "last_activity_date": 1574929929, "creation_date": 1574929929, "answer_id": 59084580, "question_id": 59078406, "link": "https://stackoverflow.com/questions/59078406/convert-frozen-graph-to-tflite-for-coral-using-tfliteconverter-python-api/59084580#59084580", "title": "Convert frozen graph to tflite for Coral using TFLiteConverter (Python API)", "body": "<p>The <code>tf.lite.TFLiteConverter</code> API supports a limited number of ops to be transformed. Maybe the <code>MobileNetV2</code> contains such ops which are unsupported. I would insist you to follow these steps:</p>\n\n<ol>\n<li><p>If you need the <code>MobileNetV2</code> model, create an instance of <code>tf.keras.applications.MobileNetV2</code> in a Python file.</p></li>\n<li><p>You will have a <code>tf.keras.models.Model</code> instance. If required train this model on your custom dataset.</p></li>\n<li><p>Now, convert this model to .tflite using the <code>tf.lite.TFLiteConverter.from_keras_model()</code> method.</p></li>\n</ol>\n\n<p>This model will get transformed into TFLite without any compatibility issues.</p>\n\n<blockquote>\n  <p>You downloaded the .pb file from the TensorFlow Model Zoo. This file contains TF ops which may not be supported by TFLite. Hence, we use the Keras pretrained model which contains supported ops by default.</p>\n</blockquote>\n"}], "owner": {"reputation": 563, "user_id": 2202359, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2YLKD.jpg?s=128&g=1", "display_name": "j2abro", "link": "https://stackoverflow.com/users/2202359/j2abro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 59084580, "answer_count": 1, "score": 0, "last_activity_date": 1574929929, "creation_date": 1574888695, "question_id": 59078406, "link": "https://stackoverflow.com/questions/59078406/convert-frozen-graph-to-tflite-for-coral-using-tfliteconverter-python-api", "title": "Convert frozen graph to tflite for Coral using TFLiteConverter (Python API)", "body": "<p>I am trying to convert this pre-trained <a href=\"http://download.tensorflow.org/models/object_detection/ssd_mobilenet_v2_oid_v4_2018_12_12.tar.gz\" rel=\"nofollow noreferrer\">MobileNet V2 model</a> from the <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md#open-images-trained-models\" rel=\"nofollow noreferrer\">Tensorflow Model Zoo</a> to tflite format to work on a Google Coral board; I can't get around this error: <code>Check failed: dim &gt;= 1 (0 vs. 1)</code>. Any idea what I'm doing wrong? Here is the the code (Tensorflow version: <code>1.13.1</code>; Python version <code>Python 3.7.3</code>, Platform: <code>Mac</code>):</p>\n\n<pre><code>import tensorflow as tf\n\ngraph_def_file      = \"frozen_inference_graph.pb\"\ninput_arrays        = [\"image_tensor\"]\noutput_arrays       = [\"detection_boxes\",\"detection_scores\",\"detection_classes\",\"num_detections\"]\ninput_layer_shape   = {\"image_tensor\" : [1,224,224,3]}\n\nconverter = tf.compat.v1.lite.TFLiteConverter.from_frozen_graph(\n        graph_def_file, \n        input_arrays, \n        output_arrays, \n        input_shapes=input_layer_shape)\n\nconverter.post_training_quantize = True # I've tried with and without this line.\n\ntflite_model = converter.convert()\nopen(\"converted_model.tflite\", \"wb\").write(tflite_model)\n</code></pre>\n\n<p>And here is the output:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"converter_ts1.py\", line 18, in &lt;module&gt;\n    tflite_model = converter.convert()\n  File \"/anaconda3/lib/python3.7/site-packages/tensorflow/lite/python/lite.py\", line 455, in convert\n    **converter_kwargs)\n  File \"/anaconda3/lib/python3.7/site-packages/tensorflow/lite/python/convert.py\", line 442, in toco_convert_impl\n    input_data.SerializeToString())\n  File \"/anaconda3/lib/python3.7/site-packages/tensorflow/lite/python/convert.py\", line 205, in toco_convert_protos\n    \"TOCO failed. See console for info.\\n%s\\n%s\\n\" % (stdout, stderr))\ntensorflow.lite.python.convert.ConverterError: TOCO failed. See console for info.\n2019-11-27 12:45:56.966056: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:56.986099: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:57.035935: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:57.035992: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:57.036104: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:57.036144: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: LoopCond\n2019-11-27 12:45:57.036228: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArrayV3\n2019-11-27 12:45:57.036264: I tensorflow/lite/toco/import_tensorflow.cc:193] Unsupported data type in placeholder op: 20\n2019-11-27 12:45:57.036281: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:57.036297: I tensorflow/lite/toco/import_tensorflow.cc:193] Unsupported data type in placeholder op: 20\n2019-11-27 12:45:57.036312: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:57.036339: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Exit\n2019-11-27 12:45:57.036357: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArraySizeV3\n2019-11-27 12:45:57.036380: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArrayGatherV3\n2019-11-27 12:45:57.036464: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArrayWriteV3\n2019-11-27 12:45:57.036491: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArrayV3\n2019-11-27 12:45:57.036508: I tensorflow/lite/toco/import_tensorflow.cc:193] Unsupported data type in placeholder op: 20\n2019-11-27 12:45:57.036523: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:45:57.036538: I tensorflow/lite/toco/import_tensorflow.cc:193] Unsupported data type in placeholder op: 20\n...\n2019-11-27 12:34:01.625025: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArrayScatterV3\n2019-11-27 12:34:01.625040: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: Enter\n2019-11-27 12:34:01.625057: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArrayReadV3\n2019-11-27 12:34:01.625085: I tensorflow/lite/toco/import_tensorflow.cc:1324] Converting unsupported operation: TensorArrayWriteV3\n2019-11-27 12:34:06.976866: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before Removing unused ops: 14621 operators, 28988 arrays (0 quantized)\n2019-11-27 12:34:12.928567: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After Removing unused ops pass 1: 14614 operators, 28972 arrays (0 quantized)\n2019-11-27 12:34:21.394682: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before general graph transformations: 14614 operators, 28972 arrays (0 quantized)\n2019-11-27 12:34:29.163567: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] After general graph transformations pass 1: 14268 operators, 26728 arrays (0 quantized)\n2019-11-27 12:34:40.443505: I tensorflow/lite/toco/graph_transformations/graph_transformations.cc:39] Before dequantization graph transformations: 14268 operators, 26728 arrays (0 quantized)\n2019-11-27 12:34:41.877219: F tensorflow/lite/toco/tooling_util.cc:627] Check failed: dim &gt;= 1 (0 vs. 1)\n</code></pre>\n\n<p>Any help appreciated! </p>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/55320098/convert-frozen-graph-for-tflite-for-coral-using-tflite-convert\">this related post</a> using the command line.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 463, "user_id": 9758284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wuapn.jpg?s=128&g=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/9758284/tino"}, "edited": false, "score": 0, "creation_date": 1574888673, "post_id": 59078367, "comment_id": 104393916, "body": "You don&#39;t know a very important concept. Pandas <code>DataFame</code> is a <b>mutable</b> type object. For better understanding check this out: [<a href=\"https://medium.com/@meghamohan/mutable-and-immutable-side-of-python-c2145cf72747]\" rel=\"nofollow noreferrer\">medium.com/@meghamohan/&hellip;</a>"}, {"owner": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "reply_to_user": {"reputation": 463, "user_id": 9758284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wuapn.jpg?s=128&g=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/9758284/tino"}, "edited": false, "score": 0, "creation_date": 1574888789, "post_id": 59078367, "comment_id": 104393969, "body": "I do, I usually use the copy function as stated in another answer. Just didn&#39;t use it here."}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1574889139, "post_id": 59078367, "comment_id": 104394102, "body": "&quot;I am performing this on a duplicate dataframe&quot; Your code says otherwise. You simply have two names for the same dataframe."}, {"owner": {"reputation": 25770, "user_id": 5349916, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QovYv.jpg?s=128&g=1", "display_name": "MisterMiyagi", "link": "https://stackoverflow.com/users/5349916/mistermiyagi"}, "edited": false, "score": 0, "creation_date": 1574889203, "post_id": 59078367, "comment_id": 104394126, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/2438938/python-copy-through-assignment\">Python Copy Through Assignment?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "edited": false, "score": 0, "creation_date": 1574888727, "post_id": 59078376, "comment_id": 104393948, "body": "Thanks, I don&#39;t know why I forgot that."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 2, "creation_date": 1574888787, "post_id": 59078376, "comment_id": 104393968, "body": "It&#39;d be less memory to use <code>drop</code> without <code>inplace=True</code> and do the assignment in a single step"}], "tags": [], "owner": {"reputation": 2043, "user_id": 10020283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5636e2585125edeb0cfe472f2f6610?s=128&d=identicon&r=PG&f=1", "display_name": "mcsoini", "link": "https://stackoverflow.com/users/10020283/mcsoini"}, "is_accepted": true, "score": 3, "last_activity_date": 1574889253, "last_edit_date": 1574889253, "creation_date": 1574888559, "answer_id": 59078376, "question_id": 59078367, "link": "https://stackoverflow.com/questions/59078367/drop-function-in-pandas-is-changing-original-dataframe/59078376#59078376", "title": "Drop function in Pandas is changing original dataframe?", "body": "<p>Use <code>df1 = df.copy()</code>. Otherwise they are the same object in memory.</p>\n\n<p>However, it would be better to generate a new DataFrame directly, e.g.</p>\n\n<pre><code>df1 = df.loc[:, df.sum() &lt;= 0]\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 10939484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J0IhDFZllwQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzm4Ty9kxi-y6SjrwzG0pkPvX2Q/mo/photo.jpg?sz=128", "display_name": "user10939484", "link": "https://stackoverflow.com/users/10939484/user10939484"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 59078376, "answer_count": 1, "score": -1, "last_activity_date": 1574895158, "creation_date": 1574888473, "last_edit_date": 1574895158, "question_id": 59078367, "link": "https://stackoverflow.com/questions/59078367/drop-function-in-pandas-is-changing-original-dataframe", "title": "Drop function in Pandas is changing original dataframe?", "body": "<p>I am using drop in pandas with an inplace=True set. I am performing this on a duplicate dataframe, but the original dataframe is also being modified.</p>\n\n<pre><code>df1 = df\nfor col in df1.columns:\n   if df1[col].sum() &gt; 1:\n      df1.drop(col,inplace=True,axis=1)\n</code></pre>\n\n<p>This is modifying my 'df' dataframe and don't seem to understand why.</p>\n"}, {"tags": ["python", "pandas", "duplicates", "loc"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1574889096, "post_id": 59078352, "comment_id": 104394081, "body": "you really need to post a snippet of code that anyone can copy and paste to see your actual vs expected output .... no one can duplicate your code since it uses data not included ... <b>just include a small dataframe or series and what you get vs what you expect</b> .... this wall of text is hard to read through and grok"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8596384"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1574890177, "post_id": 59078352, "comment_id": 104394444, "body": "@JoranBeasley The reason why i have not included a snippet of the dataframe is because in its current form it contains over 3731 row and some are duplicates."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1574890414, "post_id": 59078352, "comment_id": 104394557, "body": "so make one that looks like <code>[[1,2,3],[2,3,4]]</code> instead and use that to demonstrate the problem  ...  surely you dont need 4000 rows nor the real data entries to show the problem"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1574890571, "post_id": 59078660, "comment_id": 104394616, "body": "using groupby to drop duplicates is <b>much</b> more expensive computationally than using pandas <code>drop_duplicates </code>"}], "tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 1, "last_activity_date": 1574891102, "last_edit_date": 1574891102, "creation_date": 1574889982, "answer_id": 59078660, "question_id": 59078352, "link": "https://stackoverflow.com/questions/59078352/removing-duplicate-data-from-pandas-dataframe/59078660#59078660", "title": "Removing duplicate data from pandas Dataframe", "body": "<p>Consider the following DataFrame (2 rows for each day):</p>\n\n<pre><code>Dat               Val\n2019-06-03 12:07  20\n2019-06-03 16:10  23\n2019-06-04 10:04  30\n2019-06-04 14:47  32\n2019-06-06 11:42  49\n2019-06-06 18:17  51\n</code></pre>\n\n<p>To leave only the first reading from each day, you can:</p>\n\n<ul>\n<li>group by <em>Dat</em> column with <em>D</em> frequency,</li>\n<li>print only the first row from each group,</li>\n<li>drop rows from dates where there was no input row (option).</li>\n</ul>\n\n<p>The code to do it is:</p>\n\n<pre><code>df.groupby(pd.Grouper(key='Dat', freq='D')).first().dropna()\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>             Val\nDat             \n2019-06-03  20.0\n2019-06-04  30.0\n2019-06-06  49.0\n</code></pre>\n\n<p>If your input column is of <em>integer</em> type and you want to keep it\nas <em>integer</em>, you can add <code>.astype(int)</code> to the above code.</p>\n\n<h1>Edit</h1>\n\n<p>If the above solution computes too slow, try:</p>\n\n<pre><code>df.groupby(df.Dat.dt.date).first().drop(columns='Dat')\n</code></pre>\n\n<p>This time no \"empty dates\" are inserted, so there is no need to <em>dropna</em>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8596384"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1574891180, "creation_date": 1574888384, "last_edit_date": 1592644375, "question_id": 59078352, "link": "https://stackoverflow.com/questions/59078352/removing-duplicate-data-from-pandas-dataframe", "title": "Removing duplicate data from pandas Dataframe", "body": "<p>I am trying to retrive data every few hours and since the data will have a lot of duplicate data I will remove all the duplicate data which has the same date and keep the first instance.\nHere is my code to do this:</p>\n<pre><code>import pandas as pd\nimport datetime\nimport pandas as pd\nfrom pandas_datareader import data as web\nimport matplotlib.pyplot as plt\nfrom alpha_vantage.foreignexchange import ForeignExchange\nimport os\nfrom os import path\nfrom alpha_vantage.timeseries import TimeSeries \nimport matplotlib.pyplot as plt \nimport sys\n\nwhile True:\n    if path.exists('stockdata.csv') == True:\n        data1 = pd.read_csv('stockdata.csv', sep= ' ', index_col=0)\n        ts = TimeSeries(key='1ORS1XLM1YK1GK9Y', output_format='pandas')\n        data, meta_data = ts.get_intraday(symbol = 'spy', interval='1min', outputsize='full')\n        data = data.rename(columns={ '1. open':'Open','2. high': 'High','3. low': 'Low', '4. close':'Close', '5. volume': 'Volume'})\n        data1 = data1.append(data)\n        data1 = data1.loc[data1.duplicated(keep='first'), :] # This should remove the rows which have duplicate dates\n        data1.to_csv('stockdata.csv', sep= ' ')\n        break\n    else:\n        data1 = pd.DataFrame()\n        data1.to_csv('stockdata.csv', sep= ' ')\n</code></pre>\n<p><code>data1 = data1.loc[data1.duplicated(keep='first'), :]</code> This should remove 1 instance of the the rows which have duplicate dates but if i run the code 2 times i still have double the rows.</p>\n<p>As a example to demonstrate what i am trying to accomplish:</p>\n<pre><code>&quot;2019-11-20 09:57:00&quot; 311.405 311.44 311.4 311.41 42081.0\n&quot;2019-11-20 09:56:00&quot; 311.38 311.425 311.33 311.41 63551.0\n&quot;2019-11-20 09:55:00&quot; 311.34 311.4525 311.34 311.39 98011.0\n&quot;2019-11-20 09:53:00&quot; 311.55 311.59 311.46 311.4832 125541.0\n&quot;2019-11-20 09:57:00&quot; 311.405 311.44 311.4 311.41 42081.0\n&quot;2019-11-20 09:56:00&quot; 311.38 311.425 311.33 311.41 63551.0\n&quot;2019-11-20 09:55:00&quot; 311.34 311.4525 311.34 311.39 98011.0\n&quot;2019-11-20 09:54:00&quot; 311.49 311.51 311.33 311.33 85857.0\n&quot;2019-11-20 09:53:00&quot; 311.55 311.59 311.46 311.4832 125541.0\n</code></pre>\n<p>As you can see what is happening is data is being appended thus as in the example above it is being pasted 2 times. There will however be a new unique entry when new data is appended. So here i am trying to remove all duplicates to keep just new entries.</p>\n<p>if i run <code>data1.loc[data1.index.duplicated(keep = 'last'), :]</code> in a different cell i get :\n<a href=\"https://i.stack.imgur.com/HFXzm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HFXzm.png\" alt=\"enter image description here\" /></a></p>\n<p>All the entries are removed.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 633, "user_id": 5422354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gruma9iI5vU/AAAAAAAAAAI/AAAAAAAAK0A/ZBb6D5dbc9w/photo.jpg?sz=128", "display_name": "Michael Baudin", "link": "https://stackoverflow.com/users/5422354/michael-baudin"}, "edited": false, "score": 0, "creation_date": 1574890353, "post_id": 59078490, "comment_id": 104394533, "body": "Thank you very much: I create a Jupyter Notebook and was able to reproduce this. However, the second time I execute the Notebook, the following message appears: File &#39;session.txt&#39; exists. Overwrite? y Overwriting file. and this is annoying. The &quot;-f&quot; flag does not mean &quot;force overwrite&quot; here."}, {"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "reply_to_user": {"reputation": 633, "user_id": 5422354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gruma9iI5vU/AAAAAAAAAAI/AAAAAAAAK0A/ZBb6D5dbc9w/photo.jpg?sz=128", "display_name": "Michael Baudin", "link": "https://stackoverflow.com/users/5422354/michael-baudin"}, "edited": false, "score": 0, "creation_date": 1574929208, "post_id": 59078490, "comment_id": 104404677, "body": "Correct. The <code>-f</code> is short for <code>file</code>.  If the file exists it asks before overwritting."}], "tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 5, "last_activity_date": 1574889399, "last_edit_date": 1574889399, "creation_date": 1574889087, "answer_id": 59078490, "question_id": 59078333, "link": "https://stackoverflow.com/questions/59078333/how-to-save-a-python-session-including-input-and-output-as-a-text/59078490#59078490", "title": "How to save a Python session, including input and output, as a text?", "body": "<p>If you are using IPython, you can export your history, including inputs and outputs, to a file using the <code>%history</code> magic command.</p>\n\n<pre><code>%history -o -p -f session.txt\n</code></pre>\n\n<p>The <code>-o</code> flag add outputs, the <code>-p</code> flag shows the classic Python prompt, and the <code>-f</code> flag exports to a file.</p>\n\n<p>The session.txt file for my latest session looks like this:</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; df = pd.read_clipboard()\n&gt;&gt;&gt; df\n    time  a  b\n0  0.000  6  5\n1  0.008  6  9\n2  0.016  1  9\n3  0.024  2  7\n4  0.032  1  5\n&gt;&gt;&gt; x =  [-6, -4, -3, -2, -1, 0.5, 1, 2, 4, 6]\n&gt;&gt;&gt; df['a_'] = df.a.apply(lambda r: x[r-1])\n&gt;&gt;&gt; %history?\n&gt;&gt;&gt; %history -o -p -f session.txt\n</code></pre>\n\n<p>It is worth noting that only <strong>outputs</strong> are shown.  The text from <code>print</code> statements does not appear.</p>\n"}, {"comments": [{"owner": {"reputation": 633, "user_id": 5422354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gruma9iI5vU/AAAAAAAAAAI/AAAAAAAAK0A/ZBb6D5dbc9w/photo.jpg?sz=128", "display_name": "Michael Baudin", "link": "https://stackoverflow.com/users/5422354/michael-baudin"}, "edited": false, "score": 0, "creation_date": 1574890293, "post_id": 59078498, "comment_id": 104394508, "body": "Thanks for the trick: I was able to reproduce it. This should work for any scripting purpose."}], "tags": [], "owner": {"reputation": 1335, "user_id": 11434751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HHKCz781MhA/AAAAAAAAAAI/AAAAAAAAAbs/U7_Zg8vv9zQ/photo.jpg?sz=128", "display_name": "Jason K Lai", "link": "https://stackoverflow.com/users/11434751/jason-k-lai"}, "is_accepted": false, "score": 5, "last_activity_date": 1574889106, "creation_date": 1574889106, "answer_id": 59078498, "question_id": 59078333, "link": "https://stackoverflow.com/questions/59078333/how-to-save-a-python-session-including-input-and-output-as-a-text/59078498#59078498", "title": "How to save a Python session, including input and output, as a text?", "body": "<p>Assuming that this is being run via a standard GNU/Linux terminal environment, one can consider the <code>script</code> command to make a typescript of the terminal session. This is useful for all sorts of applications, not specifically for recording python sessions. Basically, the order of how one would use it in this situation is the following:</p>\n\n<pre><code>$ script\n$ python\n&gt;&gt;&gt; python commands\n&gt;&gt;&gt; exit()\nCTRL-D\ncat typescript\n</code></pre>\n\n<p>The output will be created in a typescript file in the working directory. It is not a purely text file, but it is pretty close if you are just hoping to record the <code>python</code> portion.</p>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 2, "last_activity_date": 1574890835, "last_edit_date": 1574890835, "creation_date": 1574890522, "answer_id": 59078758, "question_id": 59078333, "link": "https://stackoverflow.com/questions/59078333/how-to-save-a-python-session-including-input-and-output-as-a-text/59078758#59078758", "title": "How to save a Python session, including input and output, as a text?", "body": "<p>For a pure Python solution, you can use <a href=\"https://docs.python.org/3/library/code.html#code.interact\" rel=\"nofollow noreferrer\"><code>code.interact</code></a> to invoke the interactive Python console. Redirect the standard output to a <code>io.StringIO</code> object to capture the output into a variable:</p>\n\n<pre><code>import code\nimport sys\nfrom io import StringIO\n\ndef readfunc(prompt):\n    try:\n        line = next(file).rstrip()\n    except StopIteration:\n        raise EOFError\n    print(prompt, line, sep='')\n    return line\n\n# or with open('script.py') as file:\nfile = StringIO('''for i in range(3):\n    print(i)\n\nx=1.\nx''')\nstdout = sys.stdout\nsys.stdout = StringIO()\ncode.interact(readfunc=readfunc)\noutput = sys.stdout.getvalue()\nsys.stdout = stdout\nprint(output)\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>Python 3.8.0 (tags/v3.8.0:fa919fd, Oct 14 2019, 19:37:50) [MSC v.1916 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n(InteractiveConsole)\n&gt;&gt;&gt; for i in range(3):\n...     print(i)\n... \n0\n1\n2\n&gt;&gt;&gt; x=1.\n&gt;&gt;&gt; x\n1.0\n</code></pre>\n"}], "owner": {"reputation": 633, "user_id": 5422354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gruma9iI5vU/AAAAAAAAAAI/AAAAAAAAK0A/ZBb6D5dbc9w/photo.jpg?sz=128", "display_name": "Michael Baudin", "link": "https://stackoverflow.com/users/5422354/michael-baudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1470, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1576170537, "creation_date": 1574888307, "last_edit_date": 1576170537, "question_id": 59078333, "link": "https://stackoverflow.com/questions/59078333/how-to-save-a-python-session-including-input-and-output-as-a-text", "title": "How to save a Python session, including input and output, as a text?", "body": "<p>I have a Python script:</p>\n\n<pre><code>x=1.\nx\n</code></pre>\n\n<p>and I would like to generate the following text from the command line:</p>\n\n<pre><code>Python 3.7.4 (default, Aug 13 2019, 20:35:49) \n[GCC 7.3.0] :: Anaconda, Inc. on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; x=1.\n&gt;&gt;&gt; x\n1.0\n</code></pre>\n\n<p>and save it into a file. </p>\n\n<p>This is the content that I can get by interactively copying and pasting the code into the Python interpreter. </p>\n\n<p>I considered the following messages :</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/947810/how-to-save-a-python-interactive-session\">How to save a Python interactive session?</a> but this shows  how to save the Python statements, not the output in the console.</li>\n<li><a href=\"https://stackoverflow.com/questions/2960864/how-can-i-save-all-the-variables-in-the-current-python-session\">How can I save all the variables in the current python session?</a> but this shows how to save the variables, not the content of the session. </li>\n<li><a href=\"https://stackoverflow.com/questions/25243362/how-to-save-python-session-input-and-output\">how to save python session input and output</a> is exactly what I want, but has no answer.</li>\n</ul>\n\n<p>I considered </p>\n\n<ul>\n<li>using IPython and the \"%save\" magic, but this only saves the Python statements, not the output of the statements,</li>\n<li>using Jupyter Notebook, but the exports are in PDF, tex, HTML, etc... while I only want plain text.</li>\n</ul>\n\n<p>Any help will be very appreciated.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1574888486, "post_id": 59078329, "comment_id": 104393832, "body": "You will definitely need to set the fontsize <b><i>before</i></b> creating the legend."}, {"owner": {"reputation": 31, "user_id": 6261748, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153664009438164/picture?type=large", "display_name": "Youssef A", "link": "https://stackoverflow.com/users/6261748/youssef-a"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1574888726, "post_id": 59078329, "comment_id": 104393947, "body": "Thank you, will do more tests with that. I tried: plt.legend(fontsize=6) and plt.rcParams[&quot;legend.fontsize&quot;] = 6 and plt.rc(&#39;legend&#39;,fontsize=6) and mpl.rcParams[&quot;legend.fontsize&quot;] = 6  -  before creating the legend, but still not working. Will keep trying more."}], "owner": {"reputation": 31, "user_id": 6261748, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153664009438164/picture?type=large", "display_name": "Youssef A", "link": "https://stackoverflow.com/users/6261748/youssef-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574889328, "creation_date": 1574888297, "last_edit_date": 1574889328, "question_id": 59078329, "link": "https://stackoverflow.com/questions/59078329/matplotlib-legend-fontsize-not-changing-when-using-font-with-local-path", "title": "Matplotlib: Legend fontsize not changing when using font with local path", "body": "<p>I'm using python3.7, matplotlib to visualize multiple lines on a graph. My end goal is to make only the legend font size smaller, however I'd like to use my font from the same folder my code is in.</p>\n\n<p>The font size specifically for the legend <em>did</em> go smaller when I used the font using \"mpl.rcParams['font.family'] = font.get_name()\" <em>However</em> I don't want the code to depend on files in my specific computer's fonts, I want it to be able to work with that specific font regardless of whether or not the code's on my computer, and that's why I'm using a local path.</p>\n\n<p>Everything shows up correctly except for the fact that the size is not altered no matter what I try. </p>\n\n<pre><code>import pandas as pd\nfrom datetime import datetime, timedelta\nimport matplotlib as mpl\nfrom matplotlib import pyplot as plt\nfrom matplotlib import dates as mpl_dates\nfrom matplotlib.cm import get_cmap\nimport matplotlib.font_manager as font_manager\nfrom cycler import cycler\nfrom matplotlib.pyplot import figure\nfrom collections import OrderedDict\nfrom collections import Counter\nfrom collections import defaultdict\nfrom itertools import accumulate\nimport numpy as np\n\n\npath = 'fonts/GT-America-Extended-Medium.OTF'\nfont = font_manager.FontProperties(fname=path)\npathofregularfont = \"fonts/GT-America-Expanded-Regular.OTF\"\nfontregular = font_manager.FontProperties(fname=pathofregularfont)\n\nplt.figure(figsize=(16,9))\n\ncmap = get_cmap(name)   \ncolors = cmap.colors  \nplt.rc('axes', prop_cycle=(cycler('color', colors)))\n\nfor index, user in zip(range(int(limit)), counted.keys()):\n        print(index, user)\n        listofdatesforeveryuser = list(reversed(dictofusersanddates.get(user)))\n        counteddates = OrderedDict(Counter(listofdatesforeveryuser))\n        cumulativecounts = list(accumulate(list(counteddates.values())))\n        dateslist = [datetime.strptime(date, '%Y-%m-%d').date() for date in counteddates.keys()]\n        print(user, dateslist)\n\n\n\n        if int(limit) &lt;= 17:\n\n            plt.legend(prop=font)\n\n        elif int(limit) &gt; 17:\n\n            plt.legend(prop=fontregular)\n            mpl.rcParams[\"legend.fontsize\"] = 6\n\n        plt.step(dateslist, cumulativecounts, linestyle='solid', linewidth=0.5, label=(user + '\\n' + str(counted.get(user)) + ' likes')) \n\nax = plt.axes()\nfor label in ax.get_xticklabels():\n    label.set_fontproperties(fontregular)\n    #ax.set_fontproperties(font)\nfor label in ax.get_yticklabels():\n    label.set_fontproperties(fontregular)\nname = str(filename).replace('.csv','')\nplt.savefig('schedules/Top ' + str(limit) + ' users for ' + name + '.png',dpi=600)\n</code></pre>\n\n<p>I tried (positioned before and after plt.legend and before plt.step and plt.savefig): <code>plt.legend(fontsize=6)</code></p>\n\n<p>I tried (positioned before and after plt.legend and before plt.step and plt.savefig): <code>mpl.rcParams[\"legend.fontsize\"] = 6</code> and <code>plt.rcParams[\"legend.fontsize\"] = 6</code></p>\n\n<p>I tried (positioned before plt.legend and before plt.step and plt.savefig): <code>plt.rc('legend',fontsize='small')</code></p>\n\n<p>I tried (positioned after plt.legend and before plt.step and plt.savefig): <code>plt.legend(fontsize=6)</code></p>\n\n<p>I tried (positioned after plt.legend and before plt.step and plt.savefig): <code>plt.rc('legend',fontsize=6)</code></p>\n\n<p>I also tried those options after plt.step and before plt.savefig</p>\n\n<p>The font still remained the same size, and in some instances if I put the fontsize=6 statement after plt.legend(prop=font), it would pick the matplotlib default font with the smaller font, and would ignore the font I specified.</p>\n"}, {"tags": ["python", "pytorch", "equality", "tensor"], "comments": [{"owner": {"reputation": 176, "user_id": 11219043, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l5zSKNJWkU0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfs2p-SFDelF3PpfIbC4V2LQZYhMQ/mo/photo.jpg?sz=128", "display_name": "Kenivia", "link": "https://stackoverflow.com/users/11219043/kenivia"}, "edited": false, "score": 0, "creation_date": 1574902453, "post_id": 59078318, "comment_id": 104397630, "body": "could you convert the tensors into numpy array and then do that?"}], "answers": [{"tags": [], "owner": {"reputation": 324, "user_id": 6684114, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zIXv2YXyGdY/AAAAAAAAAAI/AAAAAAAAAIA/GzWzeEJKN54/photo.jpg?sz=128", "display_name": "Eduardo Barrera", "link": "https://stackoverflow.com/users/6684114/eduardo-barrera"}, "is_accepted": false, "score": 1, "last_activity_date": 1574970903, "creation_date": 1574970903, "answer_id": 59095464, "question_id": 59078318, "link": "https://stackoverflow.com/questions/59078318/compare-number-of-equal-elements-in-tensors/59095464#59095464", "title": "Compare Number of Equal Elements in Tensors", "body": "<p>Something like</p>\n\n<p><code>equal_count = len((tensor_1.flatten() == tensor_2.flatten()).nonzero().flatten())</code></p>\n\n<p>should work.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 7093742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61731a0b4e7d71eb2c51ca9f273f059f?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/7093742/vivek"}, "edited": false, "score": 0, "creation_date": 1575061619, "post_id": 59103016, "comment_id": 104453065, "body": "Is this vectorized? I mean I am fine it it isn&#39;t just asking to be conceptually clear with how this function does the job."}, {"owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "reply_to_user": {"reputation": 105, "user_id": 7093742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61731a0b4e7d71eb2c51ca9f273f059f?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/7093742/vivek"}, "edited": false, "score": 1, "creation_date": 1575063525, "post_id": 59103016, "comment_id": 104453556, "body": "@Vivek So I guess it is. But to be really sure you&#39;d probably need to check out the C++ implementation."}], "tags": [], "owner": {"reputation": 13873, "user_id": 7483494, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tRSwM.png?s=128&g=1", "display_name": "MBT", "link": "https://stackoverflow.com/users/7483494/mbt"}, "is_accepted": true, "score": 3, "last_activity_date": 1575029217, "last_edit_date": 1575029217, "creation_date": 1575023268, "answer_id": 59103016, "question_id": 59078318, "link": "https://stackoverflow.com/questions/59078318/compare-number-of-equal-elements-in-tensors/59103016#59103016", "title": "Compare Number of Equal Elements in Tensors", "body": "<p>You can just use the <code>==</code> operator to check for equality and then sum the resulting tensor:</p>\n\n<pre><code># Import torch and create dummy tensors\n&gt;&gt;&gt; import torch\n&gt;&gt;&gt; A = torch.randint(2, (10,))\n&gt;&gt;&gt; A\ntensor([0, 0, 0, 1, 0, 1, 0, 0, 1, 1])\n&gt;&gt;&gt; B = torch.randint(2, (10,))\n&gt;&gt;&gt; B\ntensor([0, 1, 1, 0, 1, 0, 0, 1, 1, 0])\n\n# Checking for number of equal values\n&gt;&gt;&gt; (A == B).sum()\ntensor(3)\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p><code>torch.eq</code> yields to the same result. So if you for some reason prefer that:</p>\n\n<pre><code>&gt;&gt;&gt; torch.eq(A, B).sum()\ntensor(3)\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 7093742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61731a0b4e7d71eb2c51ca9f273f059f?s=128&d=identicon&r=PG&f=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/7093742/vivek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2665, "favorite_count": 1, "accepted_answer_id": 59103016, "answer_count": 2, "score": 4, "last_activity_date": 1575029217, "creation_date": 1574888240, "question_id": 59078318, "link": "https://stackoverflow.com/questions/59078318/compare-number-of-equal-elements-in-tensors", "title": "Compare Number of Equal Elements in Tensors", "body": "<p>I have two tensors of dimension 1000 * 1. I want to check how many of the 1000 elements are equal in the two tensors. I think I should be able to do this in one line like Numpy but couldn't find a similar function. </p>\n"}, {"tags": ["python", "caching", "memoization"], "owner": {"reputation": 326, "user_id": 12137863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6579d5049aca97f73e729b19747f8d58?s=128&d=identicon&r=PG&f=1", "display_name": "monomonedula", "link": "https://stackoverflow.com/users/12137863/monomonedula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575014526, "creation_date": 1574888191, "last_edit_date": 1575014526, "question_id": 59078311, "link": "https://stackoverflow.com/questions/59078311/any-python-library-with-caching-decorators-for-non-hashable-parameters", "title": "Any python library with caching decorators for non-hashable parameters?", "body": "<p>I need some library that allow for easy caching.\nThe problem is currently available solutions like caching decorators from <code>functools</code> require arguments of the function/method being cached to be hashable. \nIs there any python library with caching decorators for non-hashable parameters? (Which automatically uses arguments' <code>id</code> values if they don't implement <code>__hash__</code>, maybe?)</p>\n"}, {"tags": ["python", "selenium", "automation"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1574888220, "post_id": 59078294, "comment_id": 104393729, "body": "Relevant HTML, Code trials, Error (if any)?"}, {"owner": {"reputation": 1901, "user_id": 3849306, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c0d5d8e2926940dd3c1cc0310095a49f?s=128&d=identicon&r=PG&f=1", "display_name": "FredyWenger", "link": "https://stackoverflow.com/users/3849306/fredywenger"}, "edited": false, "score": 0, "creation_date": 1574889254, "post_id": 59078294, "comment_id": 104394146, "body": "Yes.. you have to post your code here and describe your problem in detail, so that somebody is able to help you..."}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1574890248, "post_id": 59078294, "comment_id": 104394483, "body": "Lots of things can be happening here. What code runs after you click save? Are you closing the browser? This could be interrupting the save. But we cannot tell what the problem is here until you post relevant code."}], "owner": {"reputation": 81, "user_id": 12349116, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vbjL5eJQJG4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rewmAqaBFCCRKex00CQDGtwNcf4yg/photo.jpg?sz=128", "display_name": "B_working_K_hard", "link": "https://stackoverflow.com/users/12349116/b-working-k-hard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574888382, "creation_date": 1574888114, "last_edit_date": 1574888382, "question_id": 59078294, "link": "https://stackoverflow.com/questions/59078294/i-am-trying-to-send-keys-a-value-that-i-calculated-and-then-click-the-save-butto", "title": "I am trying to send.keys a value that I calculated and then click the save button but the value isn&#39;t saving, why is this?", "body": "<p>The value I want to calculate is being calculated properly, and the value is being sent and I can see it being typed, but when I click the save button, the value isn't saving.</p>\n\n<p>When I go back to look at the value it isn't there.</p>\n\n<p>How do I change this?</p>\n\n<p><strong>Correction</strong> - it saves some times but it doesn't other times, I don't get it.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 675, "user_id": 4940954, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/oh7AL.png?s=128&g=1", "display_name": "brandonbanks", "link": "https://stackoverflow.com/users/4940954/brandonbanks"}, "edited": false, "score": 0, "creation_date": 1574888144, "post_id": 59078267, "comment_id": 104393690, "body": "<a href=\"https://stackoverflow.com/a/28663910/4940954\">stackoverflow.com/a/28663910/4940954</a> Could you do something like this? This will give you the counts of each number."}, {"owner": {"reputation": 9132, "user_id": 913098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3e07b09128f889209b738276d42d7ef?s=128&d=identicon&r=PG", "display_name": "Gulzar", "link": "https://stackoverflow.com/users/913098/gulzar"}, "edited": false, "score": 0, "creation_date": 1574888451, "post_id": 59078267, "comment_id": 104393814, "body": "yes, that&#39;s it. Thanks!"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1574888927, "post_id": 59078267, "comment_id": 104394016, "body": "Use <code>np.bincount(a)[[1, 2]]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 585, "user_id": 12041806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KZpCH.jpg?s=128&g=1", "display_name": "Spencer Stream", "link": "https://stackoverflow.com/users/12041806/spencer-stream"}, "is_accepted": true, "score": 1, "last_activity_date": 1574888580, "creation_date": 1574888580, "answer_id": 59078380, "question_id": 59078267, "link": "https://stackoverflow.com/questions/59078267/how-to-count-occurances-of-multiple-items-in-numpy/59078380#59078380", "title": "How to count occurances of multiple items in numpy?", "body": "<pre><code># Setting your input to an array\narray = np.array([1,2,3,1,2,3,1,2,3,1,2,2])\n\n# Find the unique elements and get their counts\nunique, counts = np.unique(array, return_counts=True)\n\n# Setting the numbers to get counts for as an array\nsearch = np.array([1, 2])\n\n# Gets the counts for the elements in search\nsearch_counts = [counts[i] for i, x in enumerate(unique) if x in search]\n</code></pre>\n\n<p>This will output [4, 5]</p>\n"}], "owner": {"reputation": 9132, "user_id": 913098, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3e07b09128f889209b738276d42d7ef?s=128&d=identicon&r=PG", "display_name": "Gulzar", "link": "https://stackoverflow.com/users/913098/gulzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "closed_date": 1574888920, "accepted_answer_id": 59078380, "answer_count": 1, "score": 1, "last_activity_date": 1574888748, "creation_date": 1574887979, "question_id": 59078267, "link": "https://stackoverflow.com/questions/59078267/how-to-count-occurances-of-multiple-items-in-numpy", "closed_reason": "Duplicate", "title": "How to count occurances of multiple items in numpy?", "body": "<p>Assume the folowing numpy array:</p>\n\n<pre><code>[1,2,3,1,2,3,1,2,3,1,2,2]\n</code></pre>\n\n<p>I want to <code>count([1,2])</code> to count all occurrences of 1 and 2, in a single run, yielding something like</p>\n\n<pre><code>[4, 5]\n</code></pre>\n\n<p>corresponding to a <code>[1, 2]</code> input.</p>\n\n<p>Is it supported in numpy?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1574888149, "post_id": 59078259, "comment_id": 104393693, "body": "Your indices are off.  <code>x[6]</code> is <code>1</code>, not <code>0.5</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1574888278, "creation_date": 1574888278, "answer_id": 59078325, "question_id": 59078259, "link": "https://stackoverflow.com/questions/59078259/how-to-use-vector-lookup-by-index-in-pandas/59078325#59078325", "title": "How to use vector lookup by index in pandas?", "body": "<p>one option is <code>apply</code> with <code>lambda</code> </p>\n\n<pre><code>df['a_'] = df['a'].apply(lambda y: x[y])\ndf['b_'] = df['b'].apply(lambda y: x[y])\n\n    time  a  b  a_   b_\n0  0.000  6  5   1  0.5\n1  0.008  6  9   1  6.0\n2  0.016  1  9  -4  6.0\n3  0.024  2  7  -3  2.0\n4  0.032  1  5  -4  0.5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": true, "score": 1, "last_activity_date": 1574888313, "creation_date": 1574888313, "answer_id": 59078335, "question_id": 59078259, "link": "https://stackoverflow.com/questions/59078259/how-to-use-vector-lookup-by-index-in-pandas/59078335#59078335", "title": "How to use vector lookup by index in pandas?", "body": "<p>It looks like your indexing of <code>x</code> is off by 1. But here is a quick way to to do it using <code>apply</code>.</p>\n\n<pre><code>df['a_'] = df.a.apply(lambda r: x[r-1])\ndf['b_'] = df.b.apply(lambda r: x[r-1])\n\ndf\n# returns:\n    time  a  b   a_  b_\n0  0.000  6  5  0.5  -1\n1  0.008  6  9  0.5   4\n2  0.016  1  9 -6.0   4\n3  0.024  2  7 -4.0   1\n4  0.032  1  5 -6.0  -1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 1, "last_activity_date": 1574888328, "creation_date": 1574888328, "answer_id": 59078338, "question_id": 59078259, "link": "https://stackoverflow.com/questions/59078259/how-to-use-vector-lookup-by-index-in-pandas/59078338#59078338", "title": "How to use vector lookup by index in pandas?", "body": "<p>IIUC, this can be solved with numpy indexing:</p>\n\n<pre><code>x =  [-6, -4, -3, -2, -1, 0.5, 1, 2, 4, 6]\nx = np.array(x)\n\ndf['a_'] = x[df['a']-1]\ndf['b_'] = x[df['b']-1]\n\n# if you have more than two columns:\n# for col in df.columns[1:]:\n#     df[col+'_'] = x[df[col] - 1]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    time  a  b   a_   b_\n0  0.000  6  5  0.5 -1.0\n1  0.008  6  9  0.5  4.0\n2  0.016  1  9 -6.0  4.0\n3  0.024  2  7 -4.0  1.0\n4  0.032  1  5 -6.0 -1.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 0, "last_activity_date": 1574888342, "creation_date": 1574888342, "answer_id": 59078342, "question_id": 59078259, "link": "https://stackoverflow.com/questions/59078259/how-to-use-vector-lookup-by-index-in-pandas/59078342#59078342", "title": "How to use vector lookup by index in pandas?", "body": "<p>IIUC</p>\n\n<pre><code>d=dict(zip(range(1,len(x)+1),x))\ndf=pd.concat([df,df[['a','b']].applymap(lambda x : d.get(x)).add_suffix('_')],axis=1)\nOut[15]: \n    time  a  b   a_  b_\n0  0.000  6  5  0.5  -1\n1  0.008  6  9  0.5   4\n2  0.016  1  9 -6.0   4\n3  0.024  2  7 -4.0   1\n4  0.032  1  5 -6.0  -1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1574889939, "creation_date": 1574889939, "answer_id": 59078652, "question_id": 59078259, "link": "https://stackoverflow.com/questions/59078259/how-to-use-vector-lookup-by-index-in-pandas/59078652#59078652", "title": "How to use vector lookup by index in pandas?", "body": "<p>I also use numpy fancy index, but I would do it for all columns and construct a dict to use with assign. Just a different way to assign multiple columns at once.</p>\n\n<pre><code>a = np.array(x)\ncols = ['a', 'b']\nd = dict(zip(np.char.add(cols, '_'), a[df[cols] - 1].T))\ndf = df.assign(**d)\n\nOut[721]:\n    time  a  b   a_   b_\n0  0.000  6  5  0.5 -1.0\n1  0.008  6  9  0.5  4.0\n2  0.016  1  9 -6.0  4.0\n3  0.024  2  7 -4.0  1.0\n4  0.032  1  5 -6.0 -1.0\n</code></pre>\n"}], "owner": {"reputation": 717, "user_id": 11666502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f056cec5dda28937249f50f207ed8c15?s=128&d=identicon&r=PG&f=1", "display_name": "connor449", "link": "https://stackoverflow.com/users/11666502/connor449"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59078335, "answer_count": 5, "score": 2, "last_activity_date": 1574889939, "creation_date": 1574887943, "last_edit_date": 1574888059, "question_id": 59078259, "link": "https://stackoverflow.com/questions/59078259/how-to-use-vector-lookup-by-index-in-pandas", "title": "How to use vector lookup by index in pandas?", "body": "<p>I have a df that looks like this:</p>\n\n<pre><code>    time                a                b\n0  0.000                6                5\n1  0.008                6                9\n2  0.016                1                9\n3  0.024                2                7\n4  0.032                1                5\n</code></pre>\n\n<p>I want to use each value from df.a and df.b as an index in the vector below:</p>\n\n<pre><code>x =  [-6, -4, -3, -2, -1, 0.5, 1, 2, 4, 6]\n</code></pre>\n\n<p>The result create 2 new columns, df.a_ and df.b_ which show the value from x where df.a or df.b index it. Also, I want to subtract 1 from each df.a and df.b value when indexing to account for the 0th element. It should look like this:</p>\n\n<pre><code>    time                a                b          a_      b_\n0  0.000                6                5         0.5     -1\n1  0.008                6                9         0.5      4\n2  0.016                1                9         -6       4\n3  0.024                2                7         -4       2\n4  0.032                1                5         -6       -1\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574888069, "post_id": 59078249, "comment_id": 104393654, "body": "you really shouldn&#39;t be using <code>quit()</code> outside of an interactive interpreter session, btw. Rarely do you need to explicitely temrinate the program anyway.. but if you do, read this: <a href=\"https://stackoverflow.com/questions/19747371/python-exit-commands-why-so-many-and-when-should-each-be-used\" title=\"python exit commands why so many and when should each be used\">stackoverflow.com/questions/19747371/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574888166, "post_id": 59078249, "comment_id": 104393700, "body": "Anyway, have you <i>tried</i> to do anything? It simply returns a list, and you can modify it. As to whether or not it&#39;s best practice, I would lean on maybe not, but there is probably some alternative approach that keeps the same spirit, but I would elaborate on your <i>actual problem</i> that you are trying to solve, because this all smells like the <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X-Y problem</a>"}, {"owner": {"reputation": 2073, "user_id": 2305193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ec7d790ea93c24aee9d6bf75897aabe5?s=128&d=identicon&r=PG", "display_name": "user2305193", "link": "https://stackoverflow.com/users/2305193/user2305193"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574888256, "post_id": 59078249, "comment_id": 104393744, "body": "@juanpa.arrivillaga I suspect it&#39;s an XY problem, that&#39;s why I wrote I&#39;m a beginner, please help me by pointing out the flaws in hypothesis building (to form X instead of Y). I tried setting sys.argv[1] but I&#39;m getting <code>IndexError: list assignment index out of range</code> errors"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574888315, "post_id": 59078249, "comment_id": 104393770, "body": "OK, so then you need to append to that list. Again, it&#39;s <i>just a list</i>. But anyway, <i>what are you actually trying to solve</i>. Because the answer to your question is &quot;yes, yes you can&quot;."}, {"owner": {"reputation": 2073, "user_id": 2305193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ec7d790ea93c24aee9d6bf75897aabe5?s=128&d=identicon&r=PG", "display_name": "user2305193", "link": "https://stackoverflow.com/users/2305193/user2305193"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574888375, "post_id": 59078249, "comment_id": 104393791, "body": "so there&#39;s nothing wrong with setting sys.argv manually? I just need to define it as a list and then set <code>[1]</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574888428, "post_id": 59078249, "comment_id": 104393806, "body": "You don&#39;t need to define it as anything <i>it already is just a list</i>. It may only have one item in it, in which case, you can just append whatever you want."}, {"owner": {"reputation": 2073, "user_id": 2305193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ec7d790ea93c24aee9d6bf75897aabe5?s=128&d=identicon&r=PG", "display_name": "user2305193", "link": "https://stackoverflow.com/users/2305193/user2305193"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574892064, "post_id": 59078249, "comment_id": 104395125, "body": "thanks everyone, I think the proper way would be to parse the arguments like @QuantumLicht mentions. @ chepner&#39;s answer seems most intuitive and readable to me (coming from matlab) which is why I accepted it (and upvoted all other useful answers, especially QuantumLicht&#39;s answer)"}], "answers": [{"comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574890823, "post_id": 59078678, "comment_id": 104394703, "body": "I deleted <code>config = {}</code> because the use of <code>config</code> is consistent with a predefined instance of <code>ConfigParser</code> (though the creation of that instance isn&#39;t shown in the question)."}], "tags": [], "owner": {"reputation": 1853, "user_id": 1818327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8c2c998ca9459d54c56d0e2730da8df8?s=128&d=identicon&r=PG", "display_name": "QuantumLicht", "link": "https://stackoverflow.com/users/1818327/quantumlicht"}, "is_accepted": false, "score": 2, "last_activity_date": 1574890720, "last_edit_date": 1574890720, "creation_date": 1574890048, "answer_id": 59078678, "question_id": 59078249, "link": "https://stackoverflow.com/questions/59078249/manually-setting-sys-argv1-within-script/59078678#59078678", "title": "manually setting sys.argv[1] within script", "body": "<p>Maybe you should use the default argparse module for argument parsing: <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/argparse.html</a></p>\n\n<p>I am not 100% sure I understand what you are trying to do, but here's a tentative solution:</p>\n\n<pre><code>#read ASDF and BSDF from a text file, with the section that is specified by the argument provided\n\nimport argparse\n\nparser = argparse.ArgumentParser(description=\"My argument parser\")\n\nparser.add_argument('some_argument')\nparser.add_argument('section', nargs='?', default=\"DEFAULT\")\n\nargs = parser.parse_args() # Will parse sys.argv by default\n\nsection = args.section\nprint('Using ' + section)\nASDF =   config.get(section,'ASDF');\nBSDF =   config.get(section,'BSDF');\n</code></pre>\n\n<p>Argparse will manage errors when the number of arugments is not correct. The syntax might also be closer to what you know in matlab. </p>\n"}, {"comments": [{"owner": {"reputation": 1853, "user_id": 1818327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8c2c998ca9459d54c56d0e2730da8df8?s=128&d=identicon&r=PG", "display_name": "QuantumLicht", "link": "https://stackoverflow.com/users/1818327/quantumlicht"}, "edited": false, "score": 0, "creation_date": 1574890514, "post_id": 59078697, "comment_id": 104394589, "body": "This is neither an answer to the question nor a valid explanation considering the question was asked for python."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574890937, "post_id": 59078697, "comment_id": 104394734, "body": "<code>sys.argv</code> is an ordinary list <i>initialized</i> from the actual argument list of the Python process; this isn&#39;t relevant."}, {"owner": {"reputation": 607, "user_id": 1850909, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8dc1e2879e816591f40bdcae849e01d8?s=128&d=identicon&r=PG", "display_name": "lowtex", "link": "https://stackoverflow.com/users/1850909/lowtex"}, "reply_to_user": {"reputation": 1853, "user_id": 1818327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8c2c998ca9459d54c56d0e2730da8df8?s=128&d=identicon&r=PG", "display_name": "QuantumLicht", "link": "https://stackoverflow.com/users/1818327/quantumlicht"}, "edited": false, "score": 0, "creation_date": 1574891759, "post_id": 59078697, "comment_id": 104395028, "body": "@QuantumLicht Would my solution not work in python?  I think it would, which makes this an answer to the question.  Also, a part of the question was about best practices.  My C explanation was about why it would not be a best practice, not about how it works in python, which makes it a valid explanation considering the question."}, {"owner": {"reputation": 607, "user_id": 1850909, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8dc1e2879e816591f40bdcae849e01d8?s=128&d=identicon&r=PG", "display_name": "lowtex", "link": "https://stackoverflow.com/users/1850909/lowtex"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574891822, "post_id": 59078697, "comment_id": 104395044, "body": "@chepner I believe it is relevant because I was providing an explanation of why it would be a bad practice given the history of the language, which was a part of the question."}], "tags": [], "owner": {"reputation": 607, "user_id": 1850909, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8dc1e2879e816591f40bdcae849e01d8?s=128&d=identicon&r=PG", "display_name": "lowtex", "link": "https://stackoverflow.com/users/1850909/lowtex"}, "is_accepted": false, "score": -2, "last_activity_date": 1574890158, "creation_date": 1574890158, "answer_id": 59078697, "question_id": 59078249, "link": "https://stackoverflow.com/questions/59078249/manually-setting-sys-argv1-within-script/59078697#59078697", "title": "manually setting sys.argv[1] within script", "body": "<p>While it may be possible to do this by setting setting <code>sys.argv = [...]</code> (maybe, its been \na while since I used python), doing this would definitely be considered bad practice.</p>\n\n<p>The variable sys.argv is a holdover from C.  In C, the main function of a program looks something like this:</p>\n\n<pre><code>int main(int argc, char *argv[]) {\n    ...\n}\n</code></pre>\n\n<p>When the program is loaded, the arguments that were passed to the program are loaded into a continuous block of memory, and it is not safe to assume there is any extra space after the space that has already been allocated for the arguments.  Since the value you would like to assign to the arguments might be a string that is longer than the original argument, or may be an argument after the last argument the program was started with, doing something like that could corrupt the memory of your program or trigger some sort of memory access exception (in C).</p>\n"}, {"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 1, "last_activity_date": 1574892638, "last_edit_date": 1574892638, "creation_date": 1574890604, "answer_id": 59078776, "question_id": 59078249, "link": "https://stackoverflow.com/questions/59078249/manually-setting-sys-argv1-within-script/59078776#59078776", "title": "manually setting sys.argv[1] within script", "body": "<p>TL;DR Don't use <code>sys.argv</code>; use <code>argparse</code>.</p>\n\n<hr>\n\n<p>What you are doing now doesn't require setting <code>sys.argv[1]</code>; just use <code>\"DEFAULT\"</code> where you would have used it.</p>\n\n<pre><code>if len(sys.argv) == 1:\n    print('Using DEFAULT'):\n    ASDF = config.get('DEFAULT', 'ASDF');\n    BSDF = config.get('DEFAULT', 'BSDF');\n\nelif len(sys.argv) == 2:\n    print('Using ' + sys.argv[1]):\n    ASDF = config.get(sys.argv[1],'ASDF');\n    BSDF = config.get(sys.argv[1],'BSDF');\nelse:\n    print('too many inputs, don''t confuse me...')\n    sys.exit(1)\n</code></pre>\n\n<p>Setting <code>sys.argv[1]</code> is useful if you want to factor out the calls to <code>config.get</code>, for example,</p>\n\n<pre><code>if len(sys.argv) == 1:\n    # there is no sys.argv[1] to assign to;\n    # you need to append to the list.\n    sys.argv.append('DEFAULT')\nelif len(sys.argv) &gt; 2:\n    sys.exit(1)\n\nprint('Using ' + sys.argv[1]):\nASDF = config.get(sys.argv[1],'ASDF');\nBSDF = config.get(sys.argv[1],'BSDF');\n</code></pre>\n\n<p>That said, in general, you don't use <code>sys.argv</code> directly. Use <code>argparse</code> as in <a href=\"https://stackoverflow.com/a/59078678/1126841\">QuantumLicht's answer</a>.</p>\n"}], "owner": {"reputation": 2073, "user_id": 2305193, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ec7d790ea93c24aee9d6bf75897aabe5?s=128&d=identicon&r=PG", "display_name": "user2305193", "link": "https://stackoverflow.com/users/2305193/user2305193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 59078776, "answer_count": 3, "score": 0, "last_activity_date": 1574892638, "creation_date": 1574887907, "last_edit_date": 1574888078, "question_id": 59078249, "link": "https://stackoverflow.com/questions/59078249/manually-setting-sys-argv1-within-script", "title": "manually setting sys.argv[1] within script", "body": "<p>Coming from Matlab (new to python) I'm used to 'cheat' a bit setting <code>varargin</code> manually in some cases... I need to adapt some code and would like to leave lines <code>ASDF=...</code> and <code>BSDF=...</code> unchanged. For this purpose I would want to set sys.argv[1]... can this be done and would this be considered bad practice?</p>\n\n<pre><code>#read ASDF and BSDF from a text file, with the section that is specified by the argument provided\nif len(sys.argv) == 1:\n    sys.argv[1]='DEFAULT'\n    print('Using ' + sys.argv[1]):\n    ASDF =   config.get(sys.argv[1],'ASDF');\n    BSDF =   config.get(sys.argv[1],'BSDF');\n\nelif len(sys.argv) == 2:\n    print('Using ' + sys.argv[1]):\n    ASDF =   config.get(sys.argv[1],'ASDF');\n    BSDF =   config.get(sys.argv[1],'BSDF');\nelse:\n    print('too many inputs, don''t confuse me...')\n    quit()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "datetime", "datetime-format"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 2, "creation_date": 1574887939, "post_id": 59078238, "comment_id": 104393605, "body": "Please post the data, not an image of the data."}, {"owner": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "edited": false, "score": 2, "creation_date": 1574888121, "post_id": 59078238, "comment_id": 104393679, "body": "Maybe you don&#39;t need to round the data. You may just need to use the proposed solution under <a href=\"https://stackoverflow.com/questions/27365467/can-pandas-plot-a-histogram-of-dates\" title=\"can pandas plot a histogram of dates\">stackoverflow.com/questions/27365467/&hellip;</a>"}, {"owner": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "edited": false, "score": 2, "creation_date": 1574888240, "post_id": 59078238, "comment_id": 104393736, "body": "Or even better try out this solution <a href=\"https://stackoverflow.com/questions/34814606/a-per-hour-histogram-of-datetime-using-pandas/34820891\" title=\"a per hour histogram of datetime using pandas\">stackoverflow.com/questions/34814606/&hellip;</a>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "edited": false, "score": 0, "creation_date": 1574888504, "post_id": 59078238, "comment_id": 104393840, "body": "I think @CedricZoppolo has the right idea here"}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 9415280, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fLN1jmLNhhU/AAAAAAAAAAI/AAAAAAAABWk/Yd_ALa6hu4A/photo.jpg?sz=128", "display_name": "Jonathan Roy", "link": "https://stackoverflow.com/users/9415280/jonathan-roy"}, "edited": false, "score": 0, "creation_date": 1574888273, "post_id": 59078284, "comment_id": 104393752, "body": "realy close, how to get rid of date part, keep only &quot;10:45&quot; ?"}, {"owner": {"reputation": 305, "user_id": 9415280, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fLN1jmLNhhU/AAAAAAAAAAI/AAAAAAAABWk/Yd_ALa6hu4A/photo.jpg?sz=128", "display_name": "Jonathan Roy", "link": "https://stackoverflow.com/users/9415280/jonathan-roy"}, "edited": false, "score": 0, "creation_date": 1574888395, "post_id": 59078284, "comment_id": 104393797, "body": "my goal is to plot an histogram to know the frequency of each date"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1574888410, "last_edit_date": 1574888410, "creation_date": 1574888052, "answer_id": 59078284, "question_id": 59078238, "link": "https://stackoverflow.com/questions/59078238/turn-pandas-datetime-to-hourmin-rounded-to-15-min/59078284#59078284", "title": "Turn pandas datetime to hour:min rounded to 15 min", "body": "<p>I think this is what you are asking for</p>\n\n<pre><code>rounded_column = df['time_column'].dt.round('15min').strftime(\"%H:%M\")\n</code></pre>\n\n<p>although i agree with the commenters you might not really need to do this and just use a timegrouper</p>\n"}, {"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": true, "score": 0, "last_activity_date": 1574888973, "last_edit_date": 1574888973, "creation_date": 1574888528, "answer_id": 59078374, "question_id": 59078238, "link": "https://stackoverflow.com/questions/59078238/turn-pandas-datetime-to-hourmin-rounded-to-15-min/59078374#59078374", "title": "Turn pandas datetime to hour:min rounded to 15 min", "body": "<p>Consider the following DataFrame, with a single column, read as <em>datetime</em> (not <em>string</em>):</p>\n\n<pre><code>                  Dat\n0 2019-06-03 12:07:00\n1 2019-06-04 10:04:00\n2 2019-06-05 11:42:00\n3 2019-06-06 10:17:00\n</code></pre>\n\n<p>To round these dates to 15 mins run:</p>\n\n<pre><code>df['Dat2'] = df.Dat.dt.round('15T').dt.time.map(lambda s: str(s)[:-3])\n</code></pre>\n\n<p>The result is:</p>\n\n<pre><code>                  Dat  Dat2\n0 2019-06-03 12:07:00 12:00\n1 2019-06-04 10:04:00 10:00\n2 2019-06-05 11:42:00 11:45\n3 2019-06-06 10:17:00 10:15\n</code></pre>\n\n<p>For demonstration purpose, I saved the result in a new column, but you can\nsave it in the original column.</p>\n"}, {"tags": [], "owner": {"reputation": 3007, "user_id": 5399268, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/db9648d37845f0b84cf40ecdd2be7549?s=128&d=identicon&r=PG", "display_name": "Cedric Zoppolo", "link": "https://stackoverflow.com/users/5399268/cedric-zoppolo"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889245, "last_edit_date": 1574889245, "creation_date": 1574888618, "answer_id": 59078387, "question_id": 59078238, "link": "https://stackoverflow.com/questions/59078238/turn-pandas-datetime-to-hourmin-rounded-to-15-min/59078387#59078387", "title": "Turn pandas datetime to hour:min rounded to 15 min", "body": "<p>There is no need to round your column in order to get a histogram of dates with your <code>DATEHEUREMAX</code> column. For this purpose you can just make use of <code>pd.Grouper</code> as detailed below.</p>\n\n<h2>Toy sample code</h2>\n\n<p>You can work out this example to get a solution with your date column:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n# Generating a sample of 10000 timestamps and selecting 500 to randomize them\ndf = pd.DataFrame(np.random.choice(pd.date_range(start=pd.to_datetime('2015-01-14'),periods = 10000, freq='S'), 500),  columns=['date'])\n# Setting the date as the index since the TimeGrouper works on Index, the date column is not dropped to be able to count\ndf.set_index('date', drop=False, inplace=True)\n# Getting the histogram\ndf.groupby(pd.Grouper(freq='15Min')).count().plot(kind='bar')\nplt.show()\n</code></pre>\n\n<p>This code resolves to a graph like below:\n<a href=\"https://i.stack.imgur.com/FQd6x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FQd6x.png\" alt=\"enter image description here\"></a></p>\n\n<h2>Solution with your data</h2>\n\n<p>For your data you should be able to do something like:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nxdata = read_excel('Data.xlsx', 'Data', usecols=['DATEHEUREMAX'])\nxdata.set_index('DATEHEUREMAX', drop=False, inplace=True)\nxdata.groupby(pd.Grouper(freq='15Min')).count().plot(kind='bar')\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 9415280, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fLN1jmLNhhU/AAAAAAAAAAI/AAAAAAAABWk/Yd_ALa6hu4A/photo.jpg?sz=128", "display_name": "Jonathan Roy", "link": "https://stackoverflow.com/users/9415280/jonathan-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 59078374, "answer_count": 3, "score": 1, "last_activity_date": 1574889245, "creation_date": 1574887826, "question_id": 59078238, "link": "https://stackoverflow.com/questions/59078238/turn-pandas-datetime-to-hourmin-rounded-to-15-min", "title": "Turn pandas datetime to hour:min rounded to 15 min", "body": "<p>I read this excell sheet (only column of 'DATEHEUREMAX') with pandas using this command:</p>\n\n<pre><code>xdata = read_excel('Data.xlsx', 'Data', usecols=['DATEHEUREMAX'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/C1U9q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C1U9q.png\" alt=\"exemple of my excel sheet\"></a></p>\n\n<p>now I want to turn this df into a simplify df with only hour:min rounded to 15min up. The main idea is to plot an histogram base on hour:min</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "deep-learning"], "answers": [{"comments": [{"owner": {"reputation": 187, "user_id": 3741834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/467f38d706e45ccb6fabe5d8f936fb32?s=128&d=identicon&r=PG&f=1", "display_name": "fergu", "link": "https://stackoverflow.com/users/3741834/fergu"}, "edited": false, "score": 0, "creation_date": 1574914624, "post_id": 59079051, "comment_id": 104399917, "body": "This helped a lot! Thank you! Two other questions - is there a &quot;glossary of terms&quot; when it comes to ML? The TF docs seem to assume you know a lot of the jargon already, which I don&#39;t. Second - can one only expect a trained net to work in the range that it was trained on? I can now get a net that works for y=x^2 for x in 0:20, but if I try to ask it to predict for, I.E - x = 20:30, it just guesses a straight line that starts at y = 20^2"}, {"owner": {"reputation": 1574, "user_id": 11065347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qwr1l.jpg?s=128&g=1", "display_name": "alift", "link": "https://stackoverflow.com/users/11065347/alift"}, "reply_to_user": {"reputation": 187, "user_id": 3741834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/467f38d706e45ccb6fabe5d8f936fb32?s=128&d=identicon&r=PG&f=1", "display_name": "fergu", "link": "https://stackoverflow.com/users/3741834/fergu"}, "edited": false, "score": 0, "creation_date": 1575072481, "post_id": 59079051, "comment_id": 104455277, "body": "I am happy it helped! To answer your questions: 1- I am not sure what you really mean by &quot;glossary of terms&quot; for ML. But if you read more about it in the blogs or books, you will get the vocabs is using most of the time in ML 2- That really depends on how you train your model. In theory, if you have a good &quot;generalization&quot; during the training, the prediction will be covering the test data correctly. Try to read more about overfitting and underfitting, and &quot;going from specific data samples to a generalized model&quot;"}], "tags": [], "owner": {"reputation": 1574, "user_id": 11065347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qwr1l.jpg?s=128&g=1", "display_name": "alift", "link": "https://stackoverflow.com/users/11065347/alift"}, "is_accepted": true, "score": 2, "last_activity_date": 1574892212, "creation_date": 1574892212, "answer_id": 59079051, "question_id": 59078187, "link": "https://stackoverflow.com/questions/59078187/cant-train-tensorflow-on-a-simple-dataset/59079051#59079051", "title": "can&#39;t train Tensorflow on a simple dataset", "body": "<p>I think you have mix of the problems here. I try to explain to you one by one:</p>\n\n<p>First of all, the problem you want to solve is to learn the function f=x^2. So this can fit into a regression task. For a regression task ( and any other tasks ^_^ ) you should pay attention to the <code>activation function</code> and also to what you really try to predict.</p>\n\n<p>You have chosen softmax for activation function, which does not make sense at all. I suggest to replace it with a linear activation function ( if you remove it completely, it will be considered linear automatically by TF/Keras).</p>\n\n<p>On the other hand, why you have a 10 DENSE at the last layer? Per each entry, you want to predict one value ( for 5 as the input value you wanna predict 25, right), \nso one DENSE should be enough to generate your value.\nOn the other hand, since your network is not big, I would start by SGD as the optimizer, but Adam might be good as well. Additionally, for the problem you are trying to solve, I do not believe you really need 128 DENSE as the first hidden layer. you can start by a smaller number and look at how it goes. I would start by 3-4 DENSE as a start</p>\n\n<p>Long story short, let's replace your model with these lines, and hopefully, it gets working </p>\n\n<pre><code>model = tf.keras.models.Sequential([\n  tf.keras.layers.Dense(128, activation='relu'),\n  tf.keras.layers.Dropout(0.2),\n  tf.keras.layers.Dense(1)\n])\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 3741834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/467f38d706e45ccb6fabe5d8f936fb32?s=128&d=identicon&r=PG&f=1", "display_name": "fergu", "link": "https://stackoverflow.com/users/3741834/fergu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 59079051, "answer_count": 1, "score": 0, "last_activity_date": 1574892212, "creation_date": 1574887575, "question_id": 59078187, "link": "https://stackoverflow.com/questions/59078187/cant-train-tensorflow-on-a-simple-dataset", "title": "can&#39;t train Tensorflow on a simple dataset", "body": "<p>I'm trying to learn a bit about Tensorflow/Machine Learning. As a starting point, I'm trying to create a model that is trained on a simple 1-D function (y=x^2) and see how it behaves for other inputs outside of the training range.</p>\n\n<p>The problem I'm having is that the training function doesn't really ever improve. I'm sure it's due to a lack of understanding and/or misconfiguration on my part, but there really doesn't seem to be any sort of \"baby's first machine learning\" out there that deals with a dataset of a known form.</p>\n\n<p>My code is pretty simple, and is borrowed from TensorFlow's introduction notebook <a href=\"https://www.tensorflow.org/tutorials/quickstart/beginner\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import tensorflow as tf\nimport numpy as np\n\n# Load the dataset\n\nx_train = np.linspace(0,10,1000)\ny_train = np.power(x_train,2.0)\n\nx_test = np.linspace(8,12,100)\ny_test = np.power(x_test,2.0)\n\n# (x_train, y_train), (x_test, y_test) = mnist.load_data()\n# x_train, x_test = x_train / 255.0, x_test / 255.0\n\n\"\"\"Build the `tf.keras.Sequential` model by stacking layers. Choose an optimizer and loss function for training:\"\"\"\nfrom tensorflow.keras import layers\n\nmodel = tf.keras.models.Sequential([\n  tf.keras.layers.Dense(128, activation='relu'),\n  tf.keras.layers.Dropout(0.2),\n  tf.keras.layers.Dense(10, activation='softmax')\n])\n\nmodel.compile(optimizer='adam',\n              loss='mse',\n              metrics=['mae'])\n\n\"\"\"Train and evaluate the model:\"\"\"\n\nmodel.fit(x_train, y_train, epochs=5)\n\nmodel.evaluate(x_test,  y_test, verbose=2)\n</code></pre>\n\n<p>and I get output like this:</p>\n\n<pre><code>Train on 1000 samples\nEpoch 1/5\n1000/1000 [==============================] - 0s 489us/sample - loss: 1996.3631 - mae: 33.2543\nEpoch 2/5\n1000/1000 [==============================] - 0s 36us/sample - loss: 1996.3540 - mae: 33.2543\nEpoch 3/5\n1000/1000 [==============================] - 0s 36us/sample - loss: 1996.3495 - mae: 33.2543\nEpoch 4/5\n1000/1000 [==============================] - 0s 33us/sample - loss: 1996.3474 - mae: 33.2543\nEpoch 5/5\n1000/1000 [==============================] - 0s 38us/sample - loss: 1996.3450 - mae: 33.2543\n100/1 - 0s - loss: 15546.3655 - mae: 101.2603\n</code></pre>\n\n<p>Like I said, I'm positive that this is a misconfiguration/lack of understanding on my part. I really learn best when I can take something this simple and incrementally make it more complex rather than starting on something whose patterns I can't readily identify, but I can't find any tutorials, etc that take this approach. Can anyone recommend either a good tutorial source, or just educate me on what I am doing wrong here?</p>\n"}, {"tags": ["python", "pyqt", "pyqt5"], "answers": [{"tags": [], "owner": {"reputation": 18847, "user_id": 2001654, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yERLj.jpg?s=128&g=1", "display_name": "musicamante", "link": "https://stackoverflow.com/users/2001654/musicamante"}, "is_accepted": true, "score": 2, "last_activity_date": 1574893012, "last_edit_date": 1574893012, "creation_date": 1574888694, "answer_id": 59078405, "question_id": 59078185, "link": "https://stackoverflow.com/questions/59078185/how-to-work-with-the-whats-this-widget-on-the-title-bar-of-a-pyqt-dialog/59078405#59078405", "title": "How to work with the &quot;?&quot; (what&#39;s this widget) on the title bar of a PyQT Dialog", "body": "<p>You can set the <a href=\"https://doc.qt.io/qt-5/qwidget.html#whatsThis-prop\" rel=\"nofollow noreferrer\"><code>whatsThis</code></a> property to any widget you want:</p>\n\n<pre><code>    self.someWidget.setWhatsThis('hello!')\n</code></pre>\n\n<p>From that point on, whenever you click on the \"?\" button and then click on that widget, a tooltip with that text will be shown.</p>\n\n<p>Since the \"what's this\" mode is individually set to widgets, there's no easy way to capture it globally (as far as I know of) because if the widget has no whatsthis property set that feature won't be available for it.<br>\nAlso, whenever you enter the \"what's this\" mode, the cursor will probably change according to the contents of the whatsthis property: if it's not set, the cursor will probably show a \"disabled\" icon.</p>\n\n<p>I've created a basic workaround for this issue, which automatically enables any child widget's whatsthis (if none is already set) whenever the mode is activated: as soon as the <code>EnterWhatsThisMode</code> is fired, it automatically installs a custom object that acts as an event filter, and emits a signal if the whatsthis event is called; as soon as the mode exits, the filter is removed.<br>\nI used a separate object for the event filter because there's no way to know what event filter have been already installed to a widget, and if you already installed the parent's one, removing it automatically would be an issue.</p>\n\n<pre><code>class WhatsThisWatcher(QtCore.QObject):\n    whatsThisRequest = QtCore.pyqtSignal(QtWidgets.QWidget)\n\n    def eventFilter(self, source, event):\n        if event.type() == QtCore.QEvent.WhatsThis:\n            self.whatsThisRequest.emit(source)\n        return super(WhatsThisWatcher, self).eventFilter(source, event)\n\n\nclass W(QtWidgets.QWidget):\n    def __init__(self):\n        QtWidgets.QWidget.__init__(self)\n        layout = QtWidgets.QVBoxLayout(self)\n\n        hasWhatsThisButton = QtWidgets.QPushButton('Has whatsThis')\n        layout.addWidget(hasWhatsThisButton)\n        hasWhatsThisButton.setWhatsThis('I am a button!')\n\n        noWhatsThisButton = QtWidgets.QPushButton('No whatsThis')\n        layout.addWidget(noWhatsThisButton)\n\n        self.whatsThisWatchedWidgets = []\n        self.whatsThisWatcher = WhatsThisWatcher()\n        self.whatsThisWatcher.whatsThisRequest.connect(self.showCustomWhatsThis)\n\n        whatsThisButton = QtWidgets.QPushButton('Set \"What\\'s this\" mode')\n        layout.addWidget(whatsThisButton)\n        whatsThisButton.clicked.connect(QtWidgets.QWhatsThis.enterWhatsThisMode)\n\n    def event(self, event):\n        if event.type() == QtCore.QEvent.EnterWhatsThisMode:\n            for widget in self.findChildren(QtWidgets.QWidget):\n                if not widget.whatsThis():\n                    # install the custom filter\n                    widget.installEventFilter(self.whatsThisWatcher)\n                    # set an arbitrary string to ensure that the \"whatsThis\" is\n                    # enabled and the cursor is correctly set\n                    widget.setWhatsThis('whatever')\n                    self.whatsThisWatchedWidgets.append(widget)\n        elif event.type() == QtCore.QEvent.LeaveWhatsThisMode:\n            while self.whatsThisWatchedWidgets:\n                widget = self.whatsThisWatchedWidgets.pop()\n                # reset the whatsThis string to none and uninstall the filter\n                widget.setWhatsThis('')\n                widget.removeEventFilter(self.whatsThisWatcher)\n        return super(W, self).event(event)\n\n    def showCustomWhatsThis(self, widget):\n        widgetPos = widget.mapTo(self, QtCore.QPoint())\n        QtWidgets.QWhatsThis.showText(\n            QtGui.QCursor.pos(), \n            'There is no \"what\\'s this\" for {} widget at coords {}, {}'.format(\n                widget.__class__.__name__, widgetPos.x(), widgetPos.y()), \n            widget)\n</code></pre>\n\n<p>A couple of notes about this:</p>\n\n<ol>\n<li>I used a button to activate the whatsthis mode, as on my window manager on Linux there's no window title button for that;</li>\n<li>Some widgets may contain subwidgets, and you'll get those instead of the \"main\" one (the most common case are QAbstractScrollArea descendands, like QTextEdit or QGraphicsView, which might return the viewport, the inner \"widget\" or the scrollbars);</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 144, "user_id": 2080774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26329452542c05aed440c64b3d412ee?s=128&d=identicon&r=PG", "display_name": "Echeban", "link": "https://stackoverflow.com/users/2080774/echeban"}, "edited": false, "score": 0, "creation_date": 1574987263, "post_id": 59078482, "comment_id": 104428090, "body": "I marked the 2nd answer as &quot;answered&quot; because in the 2nd line it solved my problem, but I love your code to capture the event and do anything, like go to an external website for help. Probably that is what I will end up using rather than WhatsThis. thumbsUp."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": false, "score": 2, "last_activity_date": 1574889056, "creation_date": 1574889056, "answer_id": 59078482, "question_id": 59078185, "link": "https://stackoverflow.com/questions/59078185/how-to-work-with-the-whats-this-widget-on-the-title-bar-of-a-pyqt-dialog/59078482#59078482", "title": "How to work with the &quot;?&quot; (what&#39;s this widget) on the title bar of a PyQT Dialog", "body": "<p>By default the task of that button is to enable whatsThis: press \"?\", then press the widget and you will see the message associated with <a href=\"https://doc.qt.io/qt-5/qwidget.html#whatsThis-prop\" rel=\"nofollow noreferrer\"><code>whatsThis</code></a> property.</p>\n\n<p>If you want to add other actions(open url, add QToolTip, etc) you can monitor the <code>QEvent::EnterWhatsThisMode</code> and <code>QEvent::LeaveWhatsThisMode</code> events overriding the <a href=\"https://doc.qt.io/qt-5/qwidget.html#event\" rel=\"nofollow noreferrer\"><code>event()</code></a> method or using an <a href=\"https://doc.qt.io/qt-5/qobject.html#eventFilter\" rel=\"nofollow noreferrer\"><code>eventFilter()</code></a>.</p>\n\n<pre><code>from PyQt5 import QtCore, QtGui, QtWidgets\n\n\nclass Dialog(QtWidgets.QDialog):\n    def event(self, event):\n        if event.type() == QtCore.QEvent.EnterWhatsThisMode:\n            print(\"enter\")\n            QtGui.QDesktopServices.openUrl(QtCore.QUrl(\"foo_url\"))\n        elif event.type() == QtCore.QEvent.LeaveWhatsThisMode:\n            print(\"leave\")\n        return super().event(event)\n\n\nif __name__ == \"__main__\":\n    import sys\n\n    app = QtWidgets.QApplication(sys.argv)\n\n    w = Dialog()\n    w.setWhatsThis(\"Whats this\")\n    w.setWindowFlags(\n        QtCore.Qt.WindowContextHelpButtonHint | QtCore.Qt.WindowCloseButtonHint\n    )\n    w.resize(640, 480)\n    w.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 2080774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c26329452542c05aed440c64b3d412ee?s=128&d=identicon&r=PG", "display_name": "Echeban", "link": "https://stackoverflow.com/users/2080774/echeban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1067, "favorite_count": 0, "accepted_answer_id": 59078405, "answer_count": 2, "score": 2, "last_activity_date": 1574893012, "creation_date": 1574887556, "last_edit_date": 1574889141, "question_id": 59078185, "link": "https://stackoverflow.com/questions/59078185/how-to-work-with-the-whats-this-widget-on-the-title-bar-of-a-pyqt-dialog", "title": "How to work with the &quot;?&quot; (what&#39;s this widget) on the title bar of a PyQT Dialog", "body": "<p>On the right of the title bar of a PyQt QDialog (see below, next to the \"x\") there is a \"?\" that is supposed to help the user query help for any other widget on the Dialog window. \n<a href=\"https://i.stack.imgur.com/lwFxw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lwFxw.png\" alt=\"PyQt Dialog title bar\"></a></p>\n\n<p>What should I do (programmatically) to get it to work. Once the \"?\" isClicked, one should be able to capture the next widget clicked and provide a ToolTip or something like that.  In PyQt, I do not know how to capture the isClicked event on the \"?\". </p>\n\n<p>I have seen a couple of posts where the question was how to make the \"?\" disappear, but the discussion there uses Qt, not PyQt, so I do not understand it, and they are not talking about what I need. I need to make it work as intended. See <a href=\"https://stackoverflow.com/questions/81627/how-can-i-hide-delete-the-help-button-on-the-title-bar-of-a-qt-dialog\">How can I hide/delete the &quot;?&quot; help button on the &quot;title bar&quot; of a Qt Dialog?</a> and <a href=\"https://stackoverflow.com/questions/38533775/pyqt4-qinputdialog-and-qmessagebox-window-flags\">PyQt4 QInputDialog and QMessageBox window flags</a></p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 7631464, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Zo4k3EI0gm4/AAAAAAAAAAI/AAAAAAAAAGE/jHRtz9l8IfU/photo.jpg?sz=128", "display_name": "Nick Jarvis", "link": "https://stackoverflow.com/users/7631464/nick-jarvis"}, "is_accepted": true, "score": 0, "last_activity_date": 1574893117, "creation_date": 1574893117, "answer_id": 59079201, "question_id": 59078181, "link": "https://stackoverflow.com/questions/59078181/my-game-crashes-when-i-try-to-fire-bullets-in-pygame/59079201#59079201", "title": "my game crashes when i try to fire bullets in pygame", "body": "<p>Your <code>__init__</code> function in Bullet is capitalized, meaning it isn't overriding the default Sprite group. Because of this you are actually calling the Sprite <code>__init__</code> function, and you are passing ai_settings (a <code>Settings</code> object) as the <code>*groups</code> parameter. </p>\n\n<pre><code>class Bullet(Sprite):\n    \"\"\"A Class To Manage Bullets Fired From The Ship\"\"\"\n    def __init__(self, ai_settings, screen, ship): # Notice lowercase\n        super().__init__()\n        ...\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11588387, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tTWNi3t3how/AAAAAAAAAAI/AAAAAAAAAAQ/inBXkqzIro0/photo.jpg?sz=128", "display_name": "Eid Alhamali", "link": "https://stackoverflow.com/users/11588387/eid-alhamali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59079201, "answer_count": 1, "score": -3, "last_activity_date": 1574893117, "creation_date": 1574887532, "question_id": 59078181, "link": "https://stackoverflow.com/questions/59078181/my-game-crashes-when-i-try-to-fire-bullets-in-pygame", "title": "my game crashes when i try to fire bullets in pygame", "body": "<p>I'm working on a game which I use the left and right keys to move the spaceship and the space bar to fire bullets, but when pressing the space bar the game crashes.\nI can't figure out what's causing it.</p>\n\n<p>here's my code:</p>\n\n<p><a href=\"https://github.com/Eid-alhamali/Eid/tree/master/alien_invasion\" rel=\"nofollow noreferrer\">https://github.com/Eid-alhamali/Eid/tree/master/alien_invasion</a></p>\n\n<p>here's the error </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"c:/Users/eidha/OneDrive/\u0633\u0637\u062d \u0627\u0644\u0645\u0643\u062a\u0628/alien_invasion/alien_invasion.py\", line 32, in &lt;module&gt;\n    run_game()\n  File \"c:/Users/eidha/OneDrive/\u0633\u0637\u062d \u0627\u0644\u0645\u0643\u062a\u0628/alien_invasion/alien_invasion.py\", line 27, in run_game\n    gf.check_events(ai_settings, screen, ship, bullets)\n  File \"c:\\Users\\eidha\\OneDrive\\\u0633\u0637\u062d \u0627\u0644\u0645\u0643\u062a\u0628\\alien_invasion\\game_functions.py\", line 34, in \ncheck_events\n    check_keydown_events(event, ai_settings, screen, ship, bullets)\n  File \"c:\\Users\\eidha\\OneDrive\\\u0633\u0637\u062d \u0627\u0644\u0645\u0643\u062a\u0628\\alien_invasion\\game_functions.py\", line 17, in \ncheck_keydown_events\n    new_bullet = Bullet(ai_settings, screen, ship)\n  File \"C:\\Users\\eidha\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site- \npackages\\pygame\\sprite.py\", line 124, in __init__\n    self.add(*groups)\n  File \"C:\\Users\\eidha\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site- \npackages\\pygame\\sprite.py\", line 142, in add\n    self.add(*group)\nTypeError: add() argument after * must be an iterable, not Settings\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "keras", "tensorflow2.0"], "comments": [{"owner": {"reputation": 849, "user_id": 5105118, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d9c39421c0c1defed08d0ae7f93df58?s=128&d=identicon&r=PG&f=1", "display_name": "v.tralala", "link": "https://stackoverflow.com/users/5105118/v-tralala"}, "edited": false, "score": 0, "creation_date": 1574889123, "post_id": 59078158, "comment_id": 104394097, "body": "does this help you? <a href=\"https://stackoverflow.com/questions/43990046/tensorflow-blas-gemm-launch-failed\" title=\"tensorflow blas gemm launch failed\">stackoverflow.com/questions/43990046/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 12448213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCRHeL-F2fs7Ep6FAWtF6OTBwfHgnR-CYZ2dLz6_w=k-s128", "display_name": "Z-BRA", "link": "https://stackoverflow.com/users/12448213/z-bra"}, "reply_to_user": {"reputation": 849, "user_id": 5105118, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d9c39421c0c1defed08d0ae7f93df58?s=128&d=identicon&r=PG&f=1", "display_name": "v.tralala", "link": "https://stackoverflow.com/users/5105118/v-tralala"}, "edited": false, "score": 0, "creation_date": 1574895775, "post_id": 59078158, "comment_id": 104396201, "body": "@v.tralala Thanks for the reply but I have seen these older posts and they are for tensorflow v1 and in tensorflow v2 config.gpu_options.allow_growth=True is depriciared. So that fix doesnt work for me"}], "owner": {"reputation": 1, "user_id": 12448213, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCRHeL-F2fs7Ep6FAWtF6OTBwfHgnR-CYZ2dLz6_w=k-s128", "display_name": "Z-BRA", "link": "https://stackoverflow.com/users/12448213/z-bra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 571, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574900438, "creation_date": 1574887443, "last_edit_date": 1574900438, "question_id": 59078158, "link": "https://stackoverflow.com/questions/59078158/using-keras-and-tensorflow-gpu-v2-0-to-implement-k-fold-cross-validation", "title": "Using Keras and TensorFlow-GPU v2.0 to implement K-fold cross validation", "body": "<p>Hi so im learning about k fold cross validation, this first snippet of code is the building of a simple ANN:</p>\n\n<pre><code>def buildModel():\n    # Fitting classifier to the Training set\n    # Create your classifier here\n    model = Sequential()\n\n    model.add(Dense(units = 6, input_dim = X.shape[1], activation = 'relu'))\n    model.add(Dense(units = 6, activation = 'relu'))\n    model.add(Dense(units = 1, activation = 'sigmoid'))\n    model.compile(optimizer = 'adam', loss = 'binary_crossentropy', metrics = ['accuracy'])\n    return model\n</code></pre>\n\n<p>I then used cross_val_score validation in sklearn to run the ANN.\nKeras is also runing on my gpu.</p>\n\n<pre><code>from keras.wrappers.scikit_learn import KerasClassifier\nfrom sklearn.model_selection import cross_val_score\n\nmodel = KerasClassifier(build_fn = buildModel, batch_size = 10, epochs =100)\naccuracies = cross_val_score(estimator = model, X = X_train, y = y_train, cv = 10, n_jobs = -1)\n</code></pre>\n\n<p>But if i put <code>n_jobs = -1</code> to try and use all cores i get an error (ps i have 11 features):</p>\n\n<pre><code>Blas GEMM launch failed : a.shape=(10, 11), b.shape=(11, 6), m=10, n=6, k=11\n [[node dense_1/MatMul (defined at C:\\Users\\Brandon Cardillo\\AppData\\Roaming\\Python\\Python37\\site-packages\\tensorflow_core\\python\\framework\\ops.py:1751) ]] \n [Op:__inference_keras_scratch_graph_1030]\n\nFunction call stack:\nkeras_scratch_graph\n</code></pre>\n\n<p>Ps. I am also running on jupyter notebook</p>\n\n<p>Any help is very much appriciated.\nThank you.</p>\n"}, {"tags": ["python", "pandas", "jupyter"], "comments": [{"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "edited": false, "score": 0, "creation_date": 1574887436, "post_id": 59078124, "comment_id": 104393405, "body": "Do you have any data that you could sure regarding expected output or input data?"}, {"owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "reply_to_user": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "edited": false, "score": 0, "creation_date": 1574887492, "post_id": 59078124, "comment_id": 104393427, "body": "Sorry not sure what you mean. Both subreddit and comment are string object type."}, {"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "edited": false, "score": 0, "creation_date": 1574887556, "post_id": 59078124, "comment_id": 104393453, "body": "I meant as for showing us what your df looks like, so we can have minimum reproducible example (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>)"}, {"owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "reply_to_user": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "edited": false, "score": 0, "creation_date": 1574887657, "post_id": 59078124, "comment_id": 104393502, "body": "I added a picture Ivan"}, {"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "edited": false, "score": 0, "creation_date": 1574887700, "post_id": 59078124, "comment_id": 104393525, "body": "Thanks, check my answer in a min!"}], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "edited": false, "score": 0, "creation_date": 1574888283, "post_id": 59078244, "comment_id": 104393760, "body": "Thanks this partially works but eliminates my other columns. Maybe I didn&#39;t clarify well but I&#39;m not looking for just columns with subreddit names that meet the condition, I&#39;m trying to create a dataframe that has everything intact but only for comments in the big subreddits (x&gt;10000 comments)."}, {"owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "edited": false, "score": 0, "creation_date": 1574888811, "post_id": 59078244, "comment_id": 104393975, "body": "Thank you I think it worked. I know I could have just manually created this but wanted to know a universal way."}, {"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "reply_to_user": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "edited": false, "score": 0, "creation_date": 1574889076, "post_id": 59078244, "comment_id": 104394071, "body": "Awesome, you can cross check with your method then!"}, {"owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "edited": false, "score": 0, "creation_date": 1574896858, "post_id": 59078244, "comment_id": 104396462, "body": "Sorry to ask again but do you know how to make the condition using these columns :new_column = [&#39;AskReddit&#39;,&#39;politics&#39;, &#39;worldnews&#39;, &#39;funny&#39;,&#39;todayilearned&#39;,&#39;nba&#39;,&#39;nfl&#39;]? I found the dataset was too big so I picked the columns I wanted but still can&#39;t figure it out."}, {"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "reply_to_user": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "edited": false, "score": 0, "creation_date": 1574897504, "post_id": 59078244, "comment_id": 104396614, "body": "Sure, give me like 30 that I&#39;m driving and I&#39;ll get back to you. If I don&#39;t reply please comment again so I get the notification tomorrow!"}, {"owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "edited": false, "score": 1, "creation_date": 1574897865, "post_id": 59078244, "comment_id": 104396683, "body": "Actually I figured it out. Thanks for the help!"}], "tags": [], "owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "is_accepted": true, "score": 1, "last_activity_date": 1574888319, "last_edit_date": 1574888319, "creation_date": 1574887878, "answer_id": 59078244, "question_id": 59078124, "link": "https://stackoverflow.com/questions/59078124/creating-a-table-with-boolean-condition-between-two-columns/59078244#59078244", "title": "Creating a table with boolean condition between two columns", "body": "<p>First you are performing <code>df['subreddit'].value_counts()</code>. This returns a series, what you might want to do, is transform this into a dataframe to later perform some filtering.</p>\n\n<p>What I would do is;</p>\n\n<pre><code>aux_df = df['subreddit'].value_counts().reset_index()\nfiltered_df = aux_df[aux_df['subreddit'] &gt; 10000].rename(columns={'index':'subreddit','subreddit':'amount'})\n</code></pre>\n\n<p>Optionally with <code>loc</code>:</p>\n\n<pre><code>filtered_df = aux_df.loc[aux_df['subreddit'].gt(10000)].rename(columns={'index':'subreddit','subreddit':'amount'})\n</code></pre>\n\n<h2>Edit</h2>\n\n<p>Based on the comment, I would first create a list of all subreddits with more than 10000 comments, which is provided above, and then simply filter the original dataframe with those values:</p>\n\n<pre><code>df = df[df['subreddit'].isin(list(filtered_df['subreddit']))]\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 9873077, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "NimbleTortoise ", "link": "https://stackoverflow.com/users/9873077/nimbletortoise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 59078244, "answer_count": 1, "score": 1, "last_activity_date": 1574888319, "creation_date": 1574887269, "last_edit_date": 1574887636, "question_id": 59078124, "link": "https://stackoverflow.com/questions/59078124/creating-a-table-with-boolean-condition-between-two-columns", "title": "Creating a table with boolean condition between two columns", "body": "<p>I'm currently looking at Reddit data set which has comments and subreddit type as two of its columns. My goal is, as there's too many rows, want to restrict the dataset to something smaller. </p>\n\n<p>By looking at df['subreddit'].value_counts > 10000, I am looking for subreddits with more than 10000 comments. How do I create a new dataframe that meets this condition? Would I use loc or set up some kind of if statement? </p>\n\n<p><a href=\"https://i.stack.imgur.com/0Bh9e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Bh9e.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "list", "combinations", "enumerate"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574887692, "post_id": 59078085, "comment_id": 104393520, "body": "Have you tried <code>count = 0</code> outside the for-loops with <code>count += 1</code> all the way inside?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12413062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fab99080a2dfb6394ad217ca9be4594?s=128&d=identicon&r=PG&f=1", "display_name": "rivendicato", "link": "https://stackoverflow.com/users/12413062/rivendicato"}, "edited": false, "score": 0, "creation_date": 1574887447, "post_id": 59078141, "comment_id": 104393409, "body": "Is there any other way without using modules?"}, {"owner": {"reputation": 8412, "user_id": 8973620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qt6R.jpg?s=128&g=1", "display_name": "Mykola Zotko", "link": "https://stackoverflow.com/users/8973620/mykola-zotko"}, "reply_to_user": {"reputation": 11, "user_id": 12413062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fab99080a2dfb6394ad217ca9be4594?s=128&d=identicon&r=PG&f=1", "display_name": "rivendicato", "link": "https://stackoverflow.com/users/12413062/rivendicato"}, "edited": false, "score": 0, "creation_date": 1574887587, "post_id": 59078141, "comment_id": 104393471, "body": "@rivendicato Yes. But modules make it easier."}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 11, "user_id": 12413062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fab99080a2dfb6394ad217ca9be4594?s=128&d=identicon&r=PG&f=1", "display_name": "rivendicato", "link": "https://stackoverflow.com/users/12413062/rivendicato"}, "edited": false, "score": 0, "creation_date": 1574888131, "post_id": 59078141, "comment_id": 104393685, "body": "@rivendicato <code>map</code> is a built-in function and does not require you to import any module, but why do you not want to use a module, especially if it&#39;s from the standard library?"}, {"owner": {"reputation": 11, "user_id": 12413062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fab99080a2dfb6394ad217ca9be4594?s=128&d=identicon&r=PG&f=1", "display_name": "rivendicato", "link": "https://stackoverflow.com/users/12413062/rivendicato"}, "edited": false, "score": 0, "creation_date": 1574888202, "post_id": 59078141, "comment_id": 104393718, "body": "Thanks! That worked.  I would prefer to learn the very basics first."}], "tags": [], "owner": {"reputation": 8412, "user_id": 8973620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qt6R.jpg?s=128&g=1", "display_name": "Mykola Zotko", "link": "https://stackoverflow.com/users/8973620/mykola-zotko"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889202, "last_edit_date": 1574889202, "creation_date": 1574887346, "answer_id": 59078141, "question_id": 59078085, "link": "https://stackoverflow.com/questions/59078085/how-to-count-the-number-of-possible-combinations/59078141#59078141", "title": "How to count the number of possible combinations", "body": "<p>You can use the formula for permutations with replacement:</p>\n\n<pre><code>num = 1\nfor lst in [list0, list1, list2, list3]:\n    num *= len(lst)\n\nprint(num)\n# 256\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1531, "user_id": 1265167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd7b1867f23b89d9ed1b0bfcbc85a82?s=128&d=identicon&r=PG", "display_name": "Claire Furney", "link": "https://stackoverflow.com/users/1265167/claire-furney"}, "is_accepted": false, "score": 1, "last_activity_date": 1574887473, "creation_date": 1574887473, "answer_id": 59078167, "question_id": 59078085, "link": "https://stackoverflow.com/questions/59078085/how-to-count-the-number-of-possible-combinations/59078167#59078167", "title": "How to count the number of possible combinations", "body": "<p>You could enumerate the output using a simple counter variable.</p>\n\n<pre><code>list0 = [\"A\", \"T\", \"C\", \"G\"]\nlist1 = [\"A\", \"T\", \"C\", \"G\"]\nlist2 = [\"A\", \"T\", \"C\", \"G\"]\nlist3 = [\"A\", \"T\", \"C\", \"G\"]\ncount = 1\nfor x in list0:\n      for y in list1:\n            for z in list2:\n                  for i in list3:\n                        print(count,x,y,z,i)\n                        count += 1\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12413062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fab99080a2dfb6394ad217ca9be4594?s=128&d=identicon&r=PG&f=1", "display_name": "rivendicato", "link": "https://stackoverflow.com/users/12413062/rivendicato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574889202, "creation_date": 1574887089, "last_edit_date": 1574888738, "question_id": 59078085, "link": "https://stackoverflow.com/questions/59078085/how-to-count-the-number-of-possible-combinations", "title": "How to count the number of possible combinations", "body": "<pre><code>list0 = [\"A\", \"T\", \"C\", \"G\"]\nlist1 = [\"A\", \"T\", \"C\", \"G\"]\nlist2 = [\"A\", \"T\", \"C\", \"G\"]\nlist3 = [\"A\", \"T\", \"C\", \"G\"]\nfor x in list0:\n      for y in list1:\n            for z in list2:\n                  for i in list3:\n                        print(x,y,z,i)\n</code></pre>\n\n<p>I have been trying to generate a list of combined nucleotide sequences possible from 4 possible nucleotides.  </p>\n\n<p>I would like to either enumerate my output to be able to determine the number of combinations possible or else generate a count.</p>\n"}, {"tags": ["python", "seaborn"], "comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1574887210, "post_id": 59078078, "comment_id": 104393321, "body": "Do not just include pictures of your data. Copy and paste them as text."}, {"owner": {"reputation": 362, "user_id": 5631947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd32ad35b8622b4aa1b027379b76edd?s=128&d=identicon&r=PG&f=1", "display_name": "JavNoor", "link": "https://stackoverflow.com/users/5631947/javnoor"}, "edited": false, "score": 0, "creation_date": 1575243981, "post_id": 59078078, "comment_id": 104490139, "body": "It would be best to post sample data as code rather than picture of a csv."}], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 5631947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd32ad35b8622b4aa1b027379b76edd?s=128&d=identicon&r=PG&f=1", "display_name": "JavNoor", "link": "https://stackoverflow.com/users/5631947/javnoor"}, "edited": false, "score": 0, "creation_date": 1574888602, "post_id": 59078303, "comment_id": 104393885, "body": "That single dot is probably a point with equal start and end."}], "tags": [], "owner": {"reputation": 362, "user_id": 5631947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd32ad35b8622b4aa1b027379b76edd?s=128&d=identicon&r=PG&f=1", "display_name": "JavNoor", "link": "https://stackoverflow.com/users/5631947/javnoor"}, "is_accepted": false, "score": 1, "last_activity_date": 1574888976, "last_edit_date": 1574888976, "creation_date": 1574888159, "answer_id": 59078303, "question_id": 59078078, "link": "https://stackoverflow.com/questions/59078078/using-seaborn-to-connect-corresponding-x-and-y-events-on-a-scatter-plot-with-a-l/59078303#59078303", "title": "Using Seaborn to connect corresponding x and y events on a scatter plot with a line", "body": "<pre><code>import seaborn as sns\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n# Replace the following with your own dataframe\n# Events=pd.read_csv('StartFinish.csv')\nEvents = np.random.randint(0, 10, size=(24, 2))\nEvents = pd.DataFrame(Events, columns=['xCoordinate', 'yCoordinate'])\nEvents['Event Type'] = 'Start' \nEvents.loc[1::2, 'Event Type'] = 'Finish'\n\nScatter = sns.scatterplot(x='xCoordinate', y='yCoordinate', hue='Event Type', data=Events)\nScatter\nfor n in range(0, len(Events), 2):\n    plt.plot([Events.loc[n, 'xCoordinate'], Events.loc[n+1, 'xCoordinate']], [Events.loc[n, 'yCoordinate'], Events.loc[n+1, 'yCoordinate']], 'k--')\n</code></pre>\n\n<p>result will be </p>\n\n<p><a href=\"https://i.stack.imgur.com/sHY77.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sHY77.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you want something more pandas-like, try the following instead:</p>\n\n<pre><code>import seaborn as sns\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n# Replace the following with your own dataframe\n# Events=pd.read_csv('StartFinish.csv')\nnp.random.seed(0)\nEvents = np.random.randint(0, 10, size=(24, 2))\nEvents = pd.DataFrame(Events, columns=['xCoordinate', 'yCoordinate'])\nEvents['Event Type'] = 'Start' \nEvents.loc[1::2, 'Event Type'] = 'Finish'\n\nScatter = sns.scatterplot(x='xCoordinate', y='yCoordinate', hue='Event Type', data=Events)\nScatter\n\nEvents['group'] = Events.index//2\nEvents.groupby('group').apply(lambda x: plt.plot([x.loc[0, 'xCoordinate'], x.loc[1, 'xCoordinate']], \n                                                 [x.loc[0, 'yCoordinate'], x.loc[1, 'yCoordinate']], 'k--'));\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12364345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a063d0051256439cdc8fe684715ed3?s=128&d=identicon&r=PG&f=1", "display_name": "SJSUHockeyFan", "link": "https://stackoverflow.com/users/12364345/sjsuhockeyfan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574888976, "creation_date": 1574887056, "last_edit_date": 1574887221, "question_id": 59078078, "link": "https://stackoverflow.com/questions/59078078/using-seaborn-to-connect-corresponding-x-and-y-events-on-a-scatter-plot-with-a-l", "title": "Using Seaborn to connect corresponding x and y events on a scatter plot with a line", "body": "<p>I have a csv file that contains 24 events. The first column is \"Event Type\", and every event alternates with \"Start\" and \"Finish\" with random x and y coordinates for each event. Here is what the CSV file looks like. </p>\n\n<p><a href=\"https://i.stack.imgur.com/BlJ0t.png\" rel=\"nofollow noreferrer\">CSV File</a></p>\n\n<p>Here is my code to print a scatter plot using this information:</p>\n\n<pre><code>import seaborn as sns\nEvents=pd.read_csv('StartFinish.csv')\nScatter = sns.scatterplot(x='xCoordinate', y='yCoordinate', hue='Event Type', data=Events)\n</code></pre>\n\n<p>Here is the result that I get from running this code in Spyder:</p>\n\n<p><img src=\"https://i.stack.imgur.com/ewq3j.png\" alt=\"Scatter Plot\"></p>\n\n<p>My only issue is that I need to add lines that connect each \"Start\" event with its corresponding \"Finish\" event. (The corresponding \"Finish\" event is the one that occurs immediately after.) </p>\n\n<p>How might I go about doing this without importing any libraries besides pandas, numpy, matplotlib.pyplot, and seaborn?</p>\n\n<p>Thanks in advance for any help. </p>\n"}, {"tags": ["python", "jupyter-notebook", "jupyter"], "answers": [{"tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 3, "last_activity_date": 1574887140, "creation_date": 1574887140, "answer_id": 59078096, "question_id": 59078070, "link": "https://stackoverflow.com/questions/59078070/adding-links-in-jupyter-notebook/59078096#59078096", "title": "Adding links in Jupyter notebook", "body": "<p>It's just standard markdown (as in stackoverflow):</p>\n\n<pre><code>[YouTube](https://youtube.com)\n</code></pre>\n\n<p>would give you <a href=\"https://youtube.com\" rel=\"nofollow noreferrer\">YouTube</a>.</p>\n"}], "owner": {"reputation": 61, "user_id": 12352029, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0zOWtoS9m_o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re8Vad7EXJcNo60KH2urKIyxGllVQ/photo.jpg?sz=128", "display_name": "Johnny521", "link": "https://stackoverflow.com/users/12352029/johnny521"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574887140, "creation_date": 1574887003, "question_id": 59078070, "link": "https://stackoverflow.com/questions/59078070/adding-links-in-jupyter-notebook", "title": "Adding links in Jupyter notebook", "body": "<p>How can I add a link in my Jupiter notebook as part of a Markdown cell? Specifically, how can I make a word such as 'email' a link to my email, or 'YouTube' a link to my YouTube account?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-3.x", "list", "list-comprehension"], "comments": [{"owner": {"reputation": 121, "user_id": 12138938, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDp2ew65MZjjMdW8qkm2Op0EsRdl9aA7IfmtXDL=k-s128", "display_name": "Nikhil CSB", "link": "https://stackoverflow.com/users/12138938/nikhil-csb"}, "edited": false, "score": 4, "creation_date": 1574887058, "post_id": 59078057, "comment_id": 104393263, "body": "<code>ListA=[&#39;apples&#39;, &#39;,&#39; &#39;orange&#39;, &#39;,&#39; &#39;grapes&#39;]</code> is not a valid list. Did you mean <code>ListA=[&#39;apples&#39;, &#39;,&#39;, &#39;orange&#39;, &#39;,&#39;, &#39;grapes&#39;]</code>"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1574887122, "post_id": 59078057, "comment_id": 104393289, "body": "That isn&#39;t a well formed list"}, {"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "reply_to_user": {"reputation": 121, "user_id": 12138938, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDp2ew65MZjjMdW8qkm2Op0EsRdl9aA7IfmtXDL=k-s128", "display_name": "Nikhil CSB", "link": "https://stackoverflow.com/users/12138938/nikhil-csb"}, "edited": false, "score": 1, "creation_date": 1574887756, "post_id": 59078057, "comment_id": 104393541, "body": "@NikhilCSB it is a valid list"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574888195, "post_id": 59078057, "comment_id": 104393716, "body": "a better option would be to look at how this list is created, and create it correctly ... rather than constantly fight with some other malformed part"}, {"owner": {"reputation": 565, "user_id": 10579182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-REr0C83noM0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCzdt2MIbsfAV4VdClxa-MBRlZ-9g/mo/photo.jpg?sz=128", "display_name": "venkatttaknev", "link": "https://stackoverflow.com/users/10579182/venkatttaknev"}, "reply_to_user": {"reputation": 121, "user_id": 12138938, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDp2ew65MZjjMdW8qkm2Op0EsRdl9aA7IfmtXDL=k-s128", "display_name": "Nikhil CSB", "link": "https://stackoverflow.com/users/12138938/nikhil-csb"}, "edited": false, "score": 0, "creation_date": 1574888690, "post_id": 59078057, "comment_id": 104393927, "body": "@NikhilCSB corrected, was a typo"}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574887908, "post_id": 59078079, "comment_id": 104393596, "body": "except the actual list item is <code>&#39;,&#39; &#39;orange&#39;</code> which becomes <code>&#39;,orange&#39;</code>"}, {"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574888020, "post_id": 59078079, "comment_id": 104393641, "body": "I assume OP didn&#39;t correctly place the <code>,</code> after the <code>&#39;,&#39;</code>. Otherwise, it&#39;s not a valid format to work with at all."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574888107, "post_id": 59078079, "comment_id": 104393673, "body": "that is not true ... <code>&#39; a&#39;  &#39;asd&#39; </code> becomes <code>&#39; aasd&#39;</code> in python ... although your assumption that he misspoke on what his list looks like is reasonable"}, {"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574888176, "post_id": 59078079, "comment_id": 104393704, "body": "You are correct, I still keep my assumption in place, but will work to provide an answer in case the OPs format is actually true. Thanks for pointing it out Joran."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1574888266, "post_id": 59078079, "comment_id": 104393749, "body": "one other asside I <i>think</i> <code>str.remove</code> will only remove first occurance :P"}], "tags": [], "owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "is_accepted": false, "score": 2, "last_activity_date": 1574887068, "creation_date": 1574887068, "answer_id": 59078079, "question_id": 59078057, "link": "https://stackoverflow.com/questions/59078057/how-to-remove-additional-commas-in-a-list-in-python/59078079#59078079", "title": "How to remove additional commas in a list in python", "body": "<p>You should be able to solve it by using <code>remove</code>:</p>\n\n<pre><code>ListA.remove(',') \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['apples', 'orange', ',', 'grapes']\n</code></pre>\n\n<p>Or use a list comprehension for multiple \"removals\":</p>\n\n<pre><code>List_filtered = [x for x in ListA if x != ',']\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['apples', 'orange', 'grapes']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1717, "user_id": 2212230, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c1045bae073594b6b1198acbd29178e8?s=128&d=identicon&r=PG", "display_name": "ranifisch", "link": "https://stackoverflow.com/users/2212230/ranifisch"}, "is_accepted": true, "score": 3, "last_activity_date": 1574887194, "creation_date": 1574887194, "answer_id": 59078109, "question_id": 59078057, "link": "https://stackoverflow.com/questions/59078057/how-to-remove-additional-commas-in-a-list-in-python/59078109#59078109", "title": "How to remove additional commas in a list in python", "body": "<pre><code>x = ['apples', ',', 'orange', ',', 'grapes']\n\nx = list(filter(lambda v: v != ',', x))\n\nprint(x)\n</code></pre>\n\n<p>another alternative:</p>\n\n<pre><code>x = [v for v in x if v != ',']\n</code></pre>\n\n<p>results in:</p>\n\n<pre><code>['apples', 'orange', 'grapes']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "is_accepted": false, "score": 1, "last_activity_date": 1574887678, "creation_date": 1574887678, "answer_id": 59078206, "question_id": 59078057, "link": "https://stackoverflow.com/questions/59078057/how-to-remove-additional-commas-in-a-list-in-python/59078206#59078206", "title": "How to remove additional commas in a list in python", "body": "<p>use <code>string.strip</code></p>\n\n<pre><code>l=['apples', ',' 'orange', ',' 'grapes']\nres = [i.strip(',') for i in l]\nprint(res)\n</code></pre>\n\n<p>output</p>\n\n<pre><code>['apples', 'orange', 'grapes']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 264, "user_id": 12446146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79bf88de30c24aa8ae8a1a9c9a2ce19?s=128&d=identicon&r=PG&f=1", "display_name": "An0ther0ne", "link": "https://stackoverflow.com/users/12446146/an0ther0ne"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889010, "creation_date": 1574889010, "answer_id": 59078477, "question_id": 59078057, "link": "https://stackoverflow.com/questions/59078057/how-to-remove-additional-commas-in-a-list-in-python/59078477#59078477", "title": "How to remove additional commas in a list in python", "body": "<pre><code>ListB = [ListA[i] for i in range(0, len(ListA),2)]\n</code></pre>\n\n<p>Or    </p>\n\n<pre><code>print([ListA[i] for i in range(0, len(ListA),2)])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6489, "user_id": 5086255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XiEYC.jpg?s=128&g=1", "display_name": "sahasrara62", "link": "https://stackoverflow.com/users/5086255/sahasrara62"}, "edited": false, "score": 0, "creation_date": 1574890348, "post_id": 59078547, "comment_id": 104394532, "body": "this result is based on user input, see his edit history, plus i suggest you to make all your answer in one answer part not in multiple"}], "tags": [], "owner": {"reputation": 264, "user_id": 12446146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79bf88de30c24aa8ae8a1a9c9a2ce19?s=128&d=identicon&r=PG&f=1", "display_name": "An0ther0ne", "link": "https://stackoverflow.com/users/12446146/an0ther0ne"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889365, "creation_date": 1574889365, "answer_id": 59078547, "question_id": 59078057, "link": "https://stackoverflow.com/questions/59078057/how-to-remove-additional-commas-in-a-list-in-python/59078547#59078547", "title": "How to remove additional commas in a list in python", "body": "<p>A Resul of strip(',') operation:</p>\n\n<pre><code>['apples', '', 'orange', '', 'grapes']\n</code></pre>\n\n<p>Not <code>['apples', 'orange', 'grapes']</code> !!!</p>\n"}], "owner": {"reputation": 565, "user_id": 10579182, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-REr0C83noM0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCzdt2MIbsfAV4VdClxa-MBRlZ-9g/mo/photo.jpg?sz=128", "display_name": "venkatttaknev", "link": "https://stackoverflow.com/users/10579182/venkatttaknev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 59078109, "answer_count": 5, "score": 0, "last_activity_date": 1574889365, "creation_date": 1574886935, "last_edit_date": 1574888192, "question_id": 59078057, "link": "https://stackoverflow.com/questions/59078057/how-to-remove-additional-commas-in-a-list-in-python", "title": "How to remove additional commas in a list in python", "body": "<p>Given a list like below</p>\n\n<pre><code>ListA=['apples', ',', 'orange', ',', 'grapes']\n</code></pre>\n\n<p>How to remove the ',' to get an output like below</p>\n\n<pre><code>ListA=['apples' , 'orange', 'grapes']\n</code></pre>\n"}, {"tags": ["python", "flask-restful"], "answers": [{"tags": [], "owner": {"reputation": 112, "user_id": 11980720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ovtiX.jpg?s=128&g=1", "display_name": "CacheMoneyPlaya", "link": "https://stackoverflow.com/users/11980720/cachemoneyplaya"}, "is_accepted": false, "score": 1, "last_activity_date": 1574890047, "creation_date": 1574890047, "answer_id": 59078677, "question_id": 59078052, "link": "https://stackoverflow.com/questions/59078052/why-flask-restful-not-found-in-vent-bin/59078677#59078677", "title": "Why &#39;flask-RESTful&#39; not found in &#39;vent/bin&#39;?", "body": "<p>Generally all pip installations will be located in something along the lines of:</p>\n\n<p><code>/Library/Frameworks/Python.framework/Versions/x.x/lib/pythonx.x/site-packages/your-package</code></p>\n\n<p>You can specify where to install the package by using:</p>\n\n<p><code>pip install --target=d:\\somewhere\\other\\than\\the\\default package_name</code></p>\n"}], "owner": {"reputation": 1270, "user_id": 5889158, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ESYP2.png?s=128&g=1", "display_name": "Shakespear", "link": "https://stackoverflow.com/users/5889158/shakespear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574890047, "creation_date": 1574886919, "last_edit_date": 1574887313, "question_id": 59078052, "link": "https://stackoverflow.com/questions/59078052/why-flask-restful-not-found-in-vent-bin", "title": "Why &#39;flask-RESTful&#39; not found in &#39;vent/bin&#39;?", "body": "<p>When installing <code>flask</code> and <code>flask-RESTful</code>:</p>\n\n<pre><code>% pip install flask-RESTful\n</code></pre>\n\n<p>Why the <code>flask-RESTful</code> package does not seem to be located in <code>venv/bin</code>?</p>\n"}, {"tags": ["python", "random", "line", "file-writing", "file-read"], "comments": [{"owner": {"reputation": 69, "user_id": 2192036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2cc5b2753ac04af8c07197112fc0c1?s=128&d=identicon&r=PG", "display_name": "Sinan Ayd\u0131n", "link": "https://stackoverflow.com/users/2192036/sinan-ayd%c4%b1n"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1574887687, "post_id": 59078045, "comment_id": 104393518, "body": "This is not homework. I want to write random message to a website."}, {"owner": {"reputation": 260, "user_id": 2195148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/820c0c1f5001ca1be6a2cf496a24642d?s=128&d=identicon&r=PG", "display_name": "digiogi", "link": "https://stackoverflow.com/users/2195148/digiogi"}, "edited": false, "score": 0, "creation_date": 1575185522, "post_id": 59078045, "comment_id": 104476021, "body": "This was a helpful topic. Helped my a lot."}], "answers": [{"tags": [], "owner": {"reputation": 1717, "user_id": 2212230, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c1045bae073594b6b1198acbd29178e8?s=128&d=identicon&r=PG", "display_name": "ranifisch", "link": "https://stackoverflow.com/users/2212230/ranifisch"}, "is_accepted": true, "score": 2, "last_activity_date": 1574888460, "creation_date": 1574888460, "answer_id": 59078365, "question_id": 59078045, "link": "https://stackoverflow.com/questions/59078045/python-how-do-we-copy-a-random-line-in-a-txt-file-and-delete-the-same-line/59078365#59078365", "title": "Python; How do we copy a random line in a txt file and delete the same line?", "body": "<pre><code>import os\nimport random\n\n\ndef do_your_random_line_thing(from_file, to_file):\n    with open(from_file, \"r\") as f1:\n        rows = f1.readlines()\n        random_line_number = random.randint(0, len(rows) - 1)\n        random_line_content = rows.pop(random_line_number)\n    with open(from_file, \"w\") as f1:\n        f1.writelines(rows)\n    with open(to_file, \"a\") as f2:\n        f2.write(random_line_content)\n\n\ndef copy_from_one_to_another(f, t):\n    with open(f) as f:\n        lines = f.readlines()\n        with open(t, \"w\") as f1:\n            f1.writelines(lines)\n\n\nfile_1 = r\"file1.txt\"\nfile_2 = r\"file2.txt\"\n\nif os.path.getsize(file_1) == 0:\n    copy_from_one_to_another(file_2, file_1)\n    open(file_2, 'w').close()  # delete file_2 content\n\ndo_your_random_line_thing(file_1, file_2)\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 2192036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a2cc5b2753ac04af8c07197112fc0c1?s=128&d=identicon&r=PG", "display_name": "Sinan Ayd\u0131n", "link": "https://stackoverflow.com/users/2192036/sinan-ayd%c4%b1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59078365, "answer_count": 1, "score": 1, "last_activity_date": 1574888460, "creation_date": 1574886879, "last_edit_date": 1574887410, "question_id": 59078045, "link": "https://stackoverflow.com/questions/59078045/python-how-do-we-copy-a-random-line-in-a-txt-file-and-delete-the-same-line", "title": "Python; How do we copy a random line in a txt file and delete the same line?", "body": "<p>We have 2 txt files. (<strong>file1.txt</strong> and <strong>file2.txt</strong>)</p>\n\n<p>I want a random row in <strong>file1.txt</strong> to be assigned to the variable named x and\nI want this random line to be deleted from <strong>file1.txt</strong> and added to <strong>file2.txt</strong> in a new line.</p>\n\n<p><strong>If</strong> there is nothing in <strong>file1.txt</strong>, I want to copy all lines in <strong>file2.txt</strong> and throw them into <strong>file1.txt</strong> and delete all lines in <strong>file2.txt</strong>.\nAnd then I want a random row in <strong>file1.txt</strong> to be assigned to the variable named x.\nI want this random line to be deleted from <strong>file1.txt</strong> and added to <strong>file2.txt</strong> in a new line.</p>\n\n<p>I was only able to select random rows and assign them to x.</p>\n\n<pre><code>import random\nfrom random import randint\n\nfile=open(\"file1.txt\",\"r\")\nrows=file.readlines()\ni=0\nm={}\nfor row in rows:\n    m[i]=row\n    i=i+1\nprint(i)\nrandom_row_number= random.randint(0,i)\nx=m[random_row_number]\nfile.close()\n</code></pre>\n"}, {"tags": ["python", "snowflake-cloud-data-platform"], "answers": [{"tags": [], "owner": {"reputation": 556, "user_id": 9056819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eafea6ce470d29980ecc320a01a21b1?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh J", "link": "https://stackoverflow.com/users/9056819/harsh-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1581878643, "creation_date": 1581878643, "answer_id": 60251929, "question_id": 59077952, "link": "https://stackoverflow.com/questions/59077952/snowflake-python-connector-error-in-databricks/60251929#60251929", "title": "Snowflake Python Connector error in Databricks", "body": "<p><a href=\"https://github.com/snowflakedb/snowflake-connector-python/issues/226\" rel=\"nofollow noreferrer\">This was a bug</a> introduced with the Snowflake Python Connector version <code>2.0.3</code>, which has since been resolved in the most recent version.</p>\n\n<blockquote>\n  <p>The script has been running fine through datababricks but I am getting the following error now when creating a connection object (ctx).\n  It runs fine from my laptop using Jupyter notebook but not through databricks anymore</p>\n</blockquote>\n\n<p>The change in behaviour is likely because of the installation scripts in use inside your deployment is not pinning versions. If a fresh install of <code>snowflake-python-connector</code> via <code>pip</code> is done without explicitly specifying a version, it will always pull the most recently published one. <a href=\"https://stackoverflow.com/a/28510546/9056819\">This may not be a desirable behaviour</a> for use in production workloads, as it pulls in new changes (and breakages, deprecations, or removals) without a developer testing against them first.</p>\n"}], "owner": {"reputation": 11, "user_id": 12448164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ig0r6usWjzY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfOE8tR9W_tf3RLe6xMRSY_a8NFYQ/photo.jpg?sz=128", "display_name": "user12448164", "link": "https://stackoverflow.com/users/12448164/user12448164"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1581878643, "creation_date": 1574886367, "last_edit_date": 1575914379, "question_id": 59077952, "link": "https://stackoverflow.com/questions/59077952/snowflake-python-connector-error-in-databricks", "title": "Snowflake Python Connector error in Databricks", "body": "<p>I have a simple python script that uses the snowflake python connector to connect and call a Snowflake stored procedure. The script has been running fine through datababricks but I am getting the following error now when creating a connection object (ctx). It runs fine from my laptop using Jupyter notebook but not through databricks anymore. Using Python 3.</p>\n\n<p><strong>ssl_wrap_socket_with_ocsp() got an unexpected keyword argument 'cert_reqs'</strong></p>\n\n<p>Here's my code:</p>\n\n<pre><code>import snowflake.connector as sc\n\nUsername = dbutils.secrets.get(scope = \"SnowFlake\", key = \"username\")         \nPassword = dbutils.secrets.get(scope = \"SnowFlake\", key = \"password\")\n\nctx = sc.connect(\naccount='myaccount',\nuser=Username,\npassword=Password,\nwarehouse='myWH',\ndatabase='myDB',\nschema='Public'\n)\n</code></pre>\n"}, {"tags": ["python", "forms", "post", "file-upload", "web-applications"], "comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 1, "creation_date": 1574887022, "post_id": 59077949, "comment_id": 104393248, "body": "I&#39;m going to guess you haven&#39;t tried anything yet? This is a very broad question."}, {"owner": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "reply_to_user": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574887345, "post_id": 59077949, "comment_id": 104393364, "body": "@AlexanderC&#233;cile I&#39;ve explored a lot of things, tried using requests since the file that I&#39;m trying to read is created using a raspberry pi (uses sensors, collects data and stores it in a csv) but it became a mess, the web app is not hosted on the same device as the file I want to be automatically uploaded, so I can&#39;t send it via requests.FILES in my webapp code so now I&#39;m looking for a solution which takes the webapp entirely out of the picture aside from the public link and a file on a seperate device. It seems like a simple thing to do but I can&#39;t find a good example of how to accomplish it"}, {"owner": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "reply_to_user": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574887448, "post_id": 59077949, "comment_id": 104393410, "body": "@AlexanderC&#233;cile just keeping it simple because putting everything else aside, this is all I&#39;m trying to do and then all the rest of my project will come together but the rest isn&#39;t relevant to the task here :)"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574887851, "post_id": 59077949, "comment_id": 104393580, "body": "Just to be sure I understand things correctly, you tried using <code>requests</code> to POST the file, and it didn&#39;t work out?"}, {"owner": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "reply_to_user": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574888455, "post_id": 59077949, "comment_id": 104393818, "body": "@AlexanderC&#233;cile I had tried requests within the pi script that was creating the stored.csv file, but not as was suggested here"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574888528, "post_id": 59077949, "comment_id": 104393851, "body": "Where is the file from, and where is it going?"}, {"owner": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "reply_to_user": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574888631, "post_id": 59077949, "comment_id": 104393897, "body": "@AlexanderC&#233;cile the file comes from the raspberry pi, which has no connection to the device that hosted the web app, and the file is going to <a href=\"http://website.com/upload/\" rel=\"nofollow noreferrer\">website.com/upload</a> where the upload form for the website is at"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "reply_to_user": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "edited": false, "score": 1, "creation_date": 1574888774, "post_id": 59077949, "comment_id": 104393964, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/203204/discussion-between-alexander-cecile-and-daniel-decker\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "edited": false, "score": 0, "creation_date": 1574889606, "post_id": 59078171, "comment_id": 104394257, "body": "Thank you so much for the response! It is very helpful :) I get status code 403 when I use this can you think of why that might be? Should my RequestUrl be the same as <a href=\"http://website.com/upload/\" rel=\"nofollow noreferrer\">website.com/upload</a> ?"}, {"owner": {"reputation": 463, "user_id": 9758284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wuapn.jpg?s=128&g=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/9758284/tino"}, "reply_to_user": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "edited": false, "score": 1, "creation_date": 1574890620, "post_id": 59078171, "comment_id": 104394631, "body": "@DanielDecker #403 code means &quot;Permission denied&quot;. That means that the service that you need to upload file to requires authentication. For automatic authentication several methods can be used e.g. <code>requests.Session()</code>. I can&#39;t provide all the info in the comment, but your future research on this topic will lead you to answer, that&#39;s for sure. Good luck!"}], "tags": [], "owner": {"reputation": 463, "user_id": 9758284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wuapn.jpg?s=128&g=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/9758284/tino"}, "is_accepted": true, "score": 2, "last_activity_date": 1574888221, "last_edit_date": 1574888221, "creation_date": 1574887482, "answer_id": 59078171, "question_id": 59077949, "link": "https://stackoverflow.com/questions/59077949/automatically-upload-csv-to-webapp-upload-form/59078171#59078171", "title": "Automatically Upload CSV to Webapp Upload Form", "body": "<p>It would be much easier to send post request that button does right away.<br>\nAll you need to do is to:</p>\n\n<ul>\n<li>On that page open <strong>dev. tools</strong> in your browser (F12 most likely)</li>\n<li>In appeared window click on the <strong>\"Network\"</strong> tab</li>\n<li>Then leaving this window opened, choose any file and click \"submit\"</li>\n<li>New record will appear at the end in \"Network\" tab containing information about the request that was made</li>\n</ul>\n\n<hr>\n\n<p>Then knowing the request that you need to make, you can easily implement it in python:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import requests as req\n\nurl = \"Url that you will acquire\"\ndata = {\n    \"smth\" : \"path/to/file\"    # just copy the body from the known request\n}\n\nres = req.post(url=url, data=data)\n\nprint(res.status)\n</code></pre>\n\n<p>And that's it. \nThere is some stuff that you'll need to figure out by your own, but now you got a map.  </p>\n\n<p>Hope this will help!</p>\n"}], "owner": {"reputation": 117, "user_id": 12185282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lwQMLnUZAeI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcBevbtLYaqdkjGOANpFz1mBnX3KQ/photo.jpg?sz=128", "display_name": "Daniel Decker", "link": "https://stackoverflow.com/users/12185282/daniel-decker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 59078171, "answer_count": 1, "score": 0, "last_activity_date": 1574888221, "creation_date": 1574886365, "last_edit_date": 1574886759, "question_id": 59077949, "link": "https://stackoverflow.com/questions/59077949/automatically-upload-csv-to-webapp-upload-form", "title": "Automatically Upload CSV to Webapp Upload Form", "body": "<p>How can I make a bot which will automatically go to a file upload form on my webapp at a public link, click the upload a file button, select a file and submit it?</p>\n\n<p>For example, I have a file called \"stored.csv\" on my desktop, and I have a webapp with an upload for that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fVsDq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fVsDq.png\" alt=\"enter image description here\"></a></p>\n\n<p>All I'm trying to do is have a script which can grab that stored.csv file, go to the public link (<a href=\"http://website.com/upload/\" rel=\"nofollow noreferrer\">http://website.com/upload/</a>) that takes you to this page and then submit the file so that it all happens automatically when the script is run.</p>\n"}, {"tags": ["python", "ranking", "preference"], "comments": [{"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1574887087, "post_id": 59077943, "comment_id": 104393277, "body": "Knowing what the data does/represents would be a good start to help us facilitate an answer, then i\u2019d assume maybe use a <code>heapq</code>. The data being held in 2 length tuples where the first element is the weight and the second being the data itself. Should look something like this: <code>[(0.0, data_object01), ..., (1.0, data_object0N)]</code>. or simply just <code>sorted</code> and some key func to sort/weigh the data."}], "answers": [{"tags": [], "owner": {"reputation": 1335, "user_id": 11434751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HHKCz781MhA/AAAAAAAAAAI/AAAAAAAAAbs/U7_Zg8vv9zQ/photo.jpg?sz=128", "display_name": "Jason K Lai", "link": "https://stackoverflow.com/users/11434751/jason-k-lai"}, "is_accepted": true, "score": 0, "last_activity_date": 1574887426, "last_edit_date": 1574887426, "creation_date": 1574887103, "answer_id": 59078089, "question_id": 59077943, "link": "https://stackoverflow.com/questions/59077943/ranking-preference-of-each-item-in-a-list/59078089#59078089", "title": "Ranking preference of each item in a list", "body": "<p>A very simple way of doing it would look something like this:</p>\n\n<pre><code>initialize a scoring_list\n\nfor every element in a list\n    for every element in a list\n\n        while valid input:\n            ask the question via raw_input()\n\n            if input matches the first item\n                store winner in some sort of scoring list\n                tell program input is valid\n\n            else if input matches the second item\n                store winner in some sort of scoring list\n                tell program input is valid\n\n            else\n                tell program input is not valid and repeat question\n\ndo some math with the scoring_list (e.g. normalization)\nprint( scoring_list )\n</code></pre>\n\n<p>Obviously a lot of detail is left out intentionally, because it depends on programming style and objectives. For example, it may be better to do the loops via indices so that you can have a scoring list with indices that matches your original list. With this structure, you can be creative with how you are tracking the \"ranks\" with something more statistically rigorous than a straight count.</p>\n"}], "owner": {"reputation": 119, "user_id": 10887133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce8776214bd35f84cbf49972ad7716f3?s=128&d=identicon&r=PG&f=1", "display_name": "yaxx0r", "link": "https://stackoverflow.com/users/10887133/yaxx0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "closed_date": 1574897978, "accepted_answer_id": 59078089, "answer_count": 1, "score": -3, "last_activity_date": 1574887426, "creation_date": 1574886337, "last_edit_date": 1574886563, "question_id": 59077943, "link": "https://stackoverflow.com/questions/59077943/ranking-preference-of-each-item-in-a-list", "closed_reason": "Needs more focus", "title": "Ranking preference of each item in a list", "body": "<p>I've been away from Python for awhile, please forgive the broad/basic question.</p>\n\n<p>Let's say I have a list of items, which can be anything really.</p>\n\n<p>I want to write a program that prints two of these at a time, in every possible combination of two, and lets the user choose a preference/winner. Then at the end print the full list with some sort of numerical preference value for each. I don't know enough about the mathematics of rank or preference to know what that number would even look like...</p>\n\n<p>Basically I'm having writer's block right from the start here. Any advice on how to structure this or what I should be looking into?</p>\n"}, {"tags": ["python", "sockets"], "comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574887153, "post_id": 59077926, "comment_id": 104393302, "body": "<i>Methods &#39;recv&#39; and &#39;send&#39; do not work</i> Can you be more specific? I believe the indentation of the code in your post is wrong."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12448071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a9f2fb90281b69a8fb020d53a03c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/12448071/alex"}, "edited": false, "score": 0, "creation_date": 1574968860, "post_id": 59078123, "comment_id": 104423920, "body": "Thank you, Kost! Of cause, it is dumb mistake of mine. I&#39;ve correct it and now I can send some data, using <code>client.send(&#39;hello&#39;.encode())</code>. But now I have a mistake on server side, when use command <code>new_client.recv(1024)</code>: <b>OSError: [WinError 10057] \u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u0438\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445  (when sending on a datagram socket using a sendto call) no address was supplied.</b>  Could you please advise, what is the problem now?"}, {"owner": {"reputation": 76, "user_id": 7217645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyRD4.jpg?s=128&g=1", "display_name": "kost", "link": "https://stackoverflow.com/users/7217645/kost"}, "reply_to_user": {"reputation": 3, "user_id": 12448071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a9f2fb90281b69a8fb020d53a03c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/12448071/alex"}, "edited": false, "score": 0, "creation_date": 1574979534, "post_id": 59078123, "comment_id": 104426679, "body": "I have tried to do the same things. Please see my second answer."}], "tags": [], "owner": {"reputation": 76, "user_id": 7217645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyRD4.jpg?s=128&g=1", "display_name": "kost", "link": "https://stackoverflow.com/users/7217645/kost"}, "is_accepted": false, "score": 0, "last_activity_date": 1574887258, "creation_date": 1574887258, "answer_id": 59078123, "question_id": 59077926, "link": "https://stackoverflow.com/questions/59077926/how-to-modify-or-extend-standard-socket-class-in-python/59078123#59078123", "title": "How to modify or extend standard socket class in Python?", "body": "<p>As you may see, your constructor method takes a bunch of optional parameters:</p>\n\n<pre><code>def __init__(self, family=-1, type=-1, proto=-1, fileno=None, name=None):\n    super().__init__(family=-1, type=-1, proto=-1, fileno=None)\n    self.name = name\n</code></pre>\n\n<p>When you try to create an object of class <code>NamedSocket</code> for client, you pass the only 'Bob' parameter, which, by precedence of function argument, will be passed to <code>family</code> argument, but not to <code>name</code>. For doing things in the key you want, you may write:</p>\n\n<pre><code>client = NamedSocket(name='Bob')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12448071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a9f2fb90281b69a8fb020d53a03c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/12448071/alex"}, "edited": false, "score": 0, "creation_date": 1575187752, "post_id": 59096782, "comment_id": 104476417, "body": "Thank you very much for so detailed explanation, Kost!  Now this works!"}, {"owner": {"reputation": 76, "user_id": 7217645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyRD4.jpg?s=128&g=1", "display_name": "kost", "link": "https://stackoverflow.com/users/7217645/kost"}, "reply_to_user": {"reputation": 3, "user_id": 12448071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a9f2fb90281b69a8fb020d53a03c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/12448071/alex"}, "edited": false, "score": 0, "creation_date": 1575212567, "post_id": 59096782, "comment_id": 104481798, "body": "It&#39;s great to see someone&#39;s solving their problems!"}], "tags": [], "owner": {"reputation": 76, "user_id": 7217645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AyRD4.jpg?s=128&g=1", "display_name": "kost", "link": "https://stackoverflow.com/users/7217645/kost"}, "is_accepted": true, "score": 0, "last_activity_date": 1574979851, "creation_date": 1574979851, "answer_id": 59096782, "question_id": 59077926, "link": "https://stackoverflow.com/questions/59077926/how-to-modify-or-extend-standard-socket-class-in-python/59096782#59096782", "title": "How to modify or extend standard socket class in Python?", "body": "<p>I've replicated described actions as accurate as possible. This code is working without any error.</p>\n\n<pre><code>import socket as sk\n\nclass NamedSocket(sk.socket):\n\n    def __init__(self, family=sk.AF_INET, type=sk.SOCK_STREAM, proto=0, fileno=None, name=None):\n        super().__init__(family, type, proto, fileno)\n        self.name = name\n\n    def accept(self):\n        fd, addr = self._accept()\n        sock = NamedSocket(self.family, self.type, self.proto, fileno=fd, name=self.name)\n        if sk.getdefaulttimeout() is None and self.gettimeout():\n            sock.setblocking(True)\n        return sock, addr\n\nserver = NamedSocket()\nserver.bind(('', 8000))\nserver.listen()\n\nclient = NamedSocket(name='Bob')\nclient.connect(('localhost', 8000))\n\nnew_client, address = server.accept()\nclient.send('hello'.encode())\nnew_client.recv(1024)\n</code></pre>\n\n<p>I replaced default parameters in <code>__init()__</code> method of <code>NamedSocket</code> class to <code>AF_INET</code>, <code>SOCK_STREAM</code> and <code>0</code> for the first three arguments. Running such script does not imply any error. You could try do the same changes or edit something related to IP address binded to socket being established on the server side, according to error message.</p>\n"}], "owner": {"reputation": 3, "user_id": 12448071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0a9f2fb90281b69a8fb020d53a03c2d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/12448071/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 59096782, "answer_count": 2, "score": 0, "last_activity_date": 1574979851, "creation_date": 1574886252, "question_id": 59077926, "link": "https://stackoverflow.com/questions/59077926/how-to-modify-or-extend-standard-socket-class-in-python", "title": "How to modify or extend standard socket class in Python?", "body": "<p>I am beginner in programming and trying to develop simple console messenger on Python. I have an idea to extend standard socket.socket object and add to it additional attribute \"account_name\". I created new class \"NamedSoket\" based on standard socket class. Here is my code:</p>\n\n<pre><code>class NamedSocket(socket):\n\ndef __init__(self, family=-1, type=-1, proto=-1, fileno=None, name=None):\n    super().__init__(family=-1, type=-1, proto=-1, fileno=None)\n    self.name = name\n\ndef accept(self):        \n    fd, addr = self._accept()\n    sock = NamedSocket(self.family, self.type, self.proto, fileno=fd, name=self.name)       \n    if getdefaulttimeout() is None and self.gettimeout():\n        sock.setblocking(True)\n    return sock, addr\n\nserver = NamedSocket()\nserver.bind(('', 8000))\nserver.listen()\n\nclient = NamedSocket('Bob')\nclient.connect(('localhost', 8000))\n\nnew_client, address = server.accept()\n</code></pre>\n\n<p>Although new socket objects are created successfully, they do not work properly.. Methods 'recv' and 'send' do not work.. Could you please explain to me, where is the problem?</p>\n\n<p>P.S.: I understand, that my 'idea', maybe, is not good 'at all', but now I became very interested in 'inheritance issue'. From first look, it should work, but it does not...</p>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 11278979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfaf45c2b19a3fe1dda8bfc7363417e2?s=128&d=identicon&r=PG&f=1", "display_name": "Yomen Tohmaz", "link": "https://stackoverflow.com/users/11278979/yomen-tohmaz"}, "edited": false, "score": 0, "creation_date": 1574970052, "post_id": 59078135, "comment_id": 104424260, "body": "Strange but at first, this worked perfectly.  But when I went to add a new row to the Checkout table, I got a new error.  TypeError at /report/ unsupported operand type(s) for +: &#39;NoneType&#39; and &#39;datetime.timedelta&#39;  The strange part is that it says the error is in line 12 of base.html.  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;{% static &#39;front_page/main.css&#39; %}&quot;&gt;  Otherwise, your suggestion worked perfectly.  I used it to display the date expected for the item to be returned in two weeks.  Thank you"}, {"owner": {"reputation": 53, "user_id": 11278979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfaf45c2b19a3fe1dda8bfc7363417e2?s=128&d=identicon&r=PG&f=1", "display_name": "Yomen Tohmaz", "link": "https://stackoverflow.com/users/11278979/yomen-tohmaz"}, "edited": false, "score": 0, "creation_date": 1574972760, "post_id": 59078135, "comment_id": 104424997, "body": "Exception Value:\t unsupported operand type(s) for +: &#39;NoneType&#39; and &#39;datetime.timedelta&#39;"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 53, "user_id": 11278979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfaf45c2b19a3fe1dda8bfc7363417e2?s=128&d=identicon&r=PG&f=1", "display_name": "Yomen Tohmaz", "link": "https://stackoverflow.com/users/11278979/yomen-tohmaz"}, "edited": false, "score": 0, "creation_date": 1575068639, "post_id": 59078135, "comment_id": 104454671, "body": "you must have used the second option? you need to save your model before you can use the property (or atleast have date_checkout set)"}, {"owner": {"reputation": 53, "user_id": 11278979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfaf45c2b19a3fe1dda8bfc7363417e2?s=128&d=identicon&r=PG&f=1", "display_name": "Yomen Tohmaz", "link": "https://stackoverflow.com/users/11278979/yomen-tohmaz"}, "edited": false, "score": 0, "creation_date": 1575140595, "post_id": 59078135, "comment_id": 104468400, "body": "I&#39;m not really sure what you mean.  If it&#39;ll make things easier, I can start another question, so I can properly show what&#39;s going on.  But Since the last answer I&#39;ve been getting a different error.  &quot;invalid literal for int() with base 10: b&#39;19 21:09:31.264966&#39;&quot;.  It seems any page that calls for information from the Checkout table is getting this error.  And of course, thank you for your continued help."}, {"owner": {"reputation": 53, "user_id": 11278979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfaf45c2b19a3fe1dda8bfc7363417e2?s=128&d=identicon&r=PG&f=1", "display_name": "Yomen Tohmaz", "link": "https://stackoverflow.com/users/11278979/yomen-tohmaz"}, "edited": false, "score": 0, "creation_date": 1575148199, "post_id": 59078135, "comment_id": 104470201, "body": "Oh and yes I did go with the second option.  I didn&#39;t think Django sterilize lambdas."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 53, "user_id": 11278979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfaf45c2b19a3fe1dda8bfc7363417e2?s=128&d=identicon&r=PG&f=1", "display_name": "Yomen Tohmaz", "link": "https://stackoverflow.com/users/11278979/yomen-tohmaz"}, "edited": false, "score": 0, "creation_date": 1575149898, "post_id": 59078135, "comment_id": 104470544, "body": "thats not really enough of a traceback ... and almost certainly unrelated to this functionality"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1575149883, "last_edit_date": 1575149883, "creation_date": 1574887338, "answer_id": 59078135, "question_id": 59077907, "link": "https://stackoverflow.com/questions/59077907/math-operations-on-datefield-django/59078135#59078135", "title": "Math Operations on DateField Django", "body": "<p>you can provide a callable as a default and then store that result (assuming you actually want to store the expected_return (ie for queries) )</p>\n\n<pre><code>class Checkout(models.Model):\n    member_id = models.IntegerField(null = True)\n    title = models.CharField(max_length = 1000)\n    date_checkout = models.DateField(auto_now = True)\n    expected_return = models.DateField(default=lambda:datetime.datetime.now()+datetime.timedelta(days=14))\n\nCheckout.objects.filter(expeded_return__lt=datetime.datetime.now())\nchecked_out_item.expected_return\n</code></pre>\n\n<p>if you want it to be an actual field (ie it can be queried <code>Checkout.objects.filter(expeded_return__lt=datetime.datetime.now())</code></p>\n\n<p>if you just want an easy way to access then properties on the class can make functions look like attributes</p>\n\n<pre><code>class Checkout(models.Model):\n    member_id = models.IntegerField(null = True)\n    title = models.CharField(max_length = 1000)\n    date_checkout = models.DateField(auto_now = True)\n    @property\n    def expected_return(self):\n        return self.date_checkout + datetime.timedelta(days=14)\n\nprint(checked_out.expected_return)\n</code></pre>\n\n<p>if you go with the second option you will need to make sure you only use it AFTER the checkout date is set</p>\n\n<pre><code>from demo_app.models import Checkout\nc = Checkout(member_id=1,title=\"asd\")\nc.expected_return # since there is no date_checkout we get error\nTraceback (most recent call last):\n  File \"C:\\Users\\joran\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3296, in run_code\n    exec(code_obj, self.user_global_ns, self.user_ns)\n  File \"&lt;ipython-input-4-4687ba4c4a16&gt;\", line 1, in &lt;module&gt;\n    c.expected_return # since there is no date_checkout we get error\n  File \"D:\\demo_django\\demo_app\\models.py\", line 11, in expected_return\n    return self.date_checkout + datetime.timedelta(days=14)\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'datetime.timedelta'\nc.save()\nc.expected_return # since there is now a checkout it works\nOut[6]: datetime.date(2019, 12, 14)\n\nimport datetime\nc = Checkout(member_id=1,title=\"asd\",date_checkout=datetime.datetime.now())\nc.expected_return # since we set the date_checkout it will work even though its not saved\nOut[10]: datetime.datetime(2019, 12, 14, 13, 36, 21, 270897)\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 11278979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfaf45c2b19a3fe1dda8bfc7363417e2?s=128&d=identicon&r=PG&f=1", "display_name": "Yomen Tohmaz", "link": "https://stackoverflow.com/users/11278979/yomen-tohmaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 1, "accepted_answer_id": 59078135, "answer_count": 1, "score": 0, "last_activity_date": 1575149883, "creation_date": 1574886175, "question_id": 59077907, "link": "https://stackoverflow.com/questions/59077907/math-operations-on-datefield-django", "title": "Math Operations on DateField Django", "body": "<p>When someone makes an entry, the date and time will be recorded as expected.  What I'm curious about is how to do math operations on that date.  Like I want to show the date of when the object was created, and also the date 2 weeks in the future.  </p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>from django.db import models\n\nclass Checkout(models.Model):\n    member_id = models.IntegerField(null = True)\n    title = models.CharField(max_length = 1000)\n    date_checkout = models.DateField(auto_now = True)\n    # expected_return = date_checkout * 2\n</code></pre>\n\n<p>I thought I had stumbled across a useful resource online that mentioned something about this but I can't find it anymore.  If you could just point me to some resources online that would be awesome.  </p>\n"}, {"tags": ["python", "python-3.x", "request", "python-requests"], "comments": [{"owner": {"reputation": 471, "user_id": 11989080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55bd7c6774e8adf6ca9ba27275bab4e?s=128&d=identicon&r=PG&f=1", "display_name": "ctenar", "link": "https://stackoverflow.com/users/11989080/ctenar"}, "edited": false, "score": 1, "creation_date": 1574886351, "post_id": 59077898, "comment_id": 104393006, "body": "I think in json generally only double quotes are allowed."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1574886659, "post_id": 59077898, "comment_id": 104393129, "body": "<code>data</code> isn&#39;t JSON; it&#39;s a Python <code>dict</code>. <code>requests</code> will automatically encode a value passed via the <code>json</code> keyword argument."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574886740, "post_id": 59077898, "comment_id": 104393156, "body": "Why did you make <code>data</code> a <code>list</code> in the second example, when it was a <code>dict</code> in the first?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574886822, "post_id": 59077898, "comment_id": 104393182, "body": "And why did you make the <code>&#39;data&#39;</code> value a <code>dict</code> instead of a <code>list</code>?"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1574887251, "post_id": 59077898, "comment_id": 104393333, "body": "@chepner Raises some great questions. Can you clarify things?"}, {"owner": {"reputation": 135, "user_id": 10305785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6ae579f1b4c266283d0a9c33fc772?s=128&d=identicon&r=PG&f=1", "display_name": "Nerd", "link": "https://stackoverflow.com/users/10305785/nerd"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574887378, "post_id": 59077898, "comment_id": 104393379, "body": "@chepner honestly speaking I am using requests for the first time. I have never used before. Please can you specify your aswer in more detail? A bit difficult to understand your comment!"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574887406, "post_id": 59077898, "comment_id": 104393391, "body": "@Nerd Which part/one of his comments?"}, {"owner": {"reputation": 135, "user_id": 10305785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6ae579f1b4c266283d0a9c33fc772?s=128&d=identicon&r=PG&f=1", "display_name": "Nerd", "link": "https://stackoverflow.com/users/10305785/nerd"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574887492, "post_id": 59077898, "comment_id": 104393429, "body": "3rd and 4th comments of @chepner"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574887704, "post_id": 59077898, "comment_id": 104393526, "body": "They&#39;re quite similar. He&#39;s just asking why in your first code snippet, <code>data</code> is a <code>list</code>, whereas in the second, <code>data</code> is a <code>dict</code>."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 10305785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6ae579f1b4c266283d0a9c33fc772?s=128&d=identicon&r=PG&f=1", "display_name": "Nerd", "link": "https://stackoverflow.com/users/10305785/nerd"}, "edited": false, "score": 0, "creation_date": 1574907042, "post_id": 59078377, "comment_id": 104398407, "body": "thanks for the answer now I have a new error with your solution <code>[{\\&quot;error\\&quot;:1,\\&quot;text\\&quot;:\\&quot;Array is invalid\\&quot;,\\&quot;error_no\\&quot;:201}]</code>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 135, "user_id": 10305785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6ae579f1b4c266283d0a9c33fc772?s=128&d=identicon&r=PG&f=1", "display_name": "Nerd", "link": "https://stackoverflow.com/users/10305785/nerd"}, "edited": false, "score": 0, "creation_date": 1574948657, "post_id": 59078377, "comment_id": 104415073, "body": "Sorry, forgot to make <code>request_data</code> a <code>list</code> instead of a <code>dict</code>."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 0, "last_activity_date": 1574948644, "last_edit_date": 1574948644, "creation_date": 1574888566, "answer_id": 59078377, "question_id": 59077898, "link": "https://stackoverflow.com/questions/59077898/problems-with-requests-in-python-list/59078377#59078377", "title": "problems with requests in python list", "body": "<p>If I understand the question correctly, you want to replace the hard-coded user id and key with values from a pair of variables. This shouldn't require any change in the <em>structure</em> of the payload. Just try</p>\n\n<pre><code>import json\n\nuser_id = \"...\"\nkey = \"...\"\n\nrequest_data = [{\"user_id\": user_id, \"text\": key}]\n\ndata = {\n     'login': 'login',\n     'password': 'password',\n     'data': json.dump(request_data)\n   }\n\nresponse = requests.post('url', data=data)\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 10305785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac6ae579f1b4c266283d0a9c33fc772?s=128&d=identicon&r=PG&f=1", "display_name": "Nerd", "link": "https://stackoverflow.com/users/10305785/nerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 59078377, "answer_count": 1, "score": -1, "last_activity_date": 1574948644, "creation_date": 1574886123, "question_id": 59077898, "link": "https://stackoverflow.com/questions/59077898/problems-with-requests-in-python-list", "title": "problems with requests in python list", "body": "<p>I am going to post <code>phone</code> in the app but I am getting error again and again. Because the structure of the post looks like that</p>\n\n<pre><code>data = {\n         'login': 'login',\n         'password': 'password',\n         'data': '[{\"user_id\": \"user_id\",\"text\": \"key\"}]'\n       }\n\nresponse = requests.post('url', data=data)\n</code></pre>\n\n<p>the problem with this code is that <code>user_id</code> and <code>key</code> because they are not default values they can be different. if I remove apostrophe from the list. Error occurs <code>Array is not Json</code>. If I put this like that</p>\n\n<pre><code>data = [\n         {\n           'login': 'login',\n           'password': 'password',\n           'data': {\"user_id\": user_id, \"text\": key}\n         }\n       ]\nheaders = {'Content-Type': 'application/json', 'Accept': 'application/json'}\nresponse = requests.post('url', json=data, headers=headers)\n</code></pre>\n\n<p>It throws another error <code>Login or Password is null</code>. How can I solve this problems any help plz? thank you in advance!</p>\n"}]