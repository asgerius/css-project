[{"tags": ["python", "pandas-groupby", "seaborn", "scatter-plot"], "comments": [{"owner": {"reputation": 10051, "user_id": 6031995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KAcWh.png?s=128&g=1", "display_name": "Kenan", "link": "https://stackoverflow.com/users/6031995/kenan"}, "edited": false, "score": 1, "creation_date": 1577319986, "post_id": 59482660, "comment_id": 105141811, "body": "can you please provide a sample <code>df</code> and the current plots"}, {"owner": {"reputation": 33, "user_id": 12597766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2ed4ed8f70b6f5067c2376b5dd4894?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/12597766/juan"}, "reply_to_user": {"reputation": 10051, "user_id": 6031995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KAcWh.png?s=128&g=1", "display_name": "Kenan", "link": "https://stackoverflow.com/users/6031995/kenan"}, "edited": false, "score": 0, "creation_date": 1577320276, "post_id": 59482660, "comment_id": 105141840, "body": "Hi I&#39;ve added the plots and description of my dataframe"}, {"owner": {"reputation": 819, "user_id": 8522463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8nFyjOinlUk/AAAAAAAAAAI/AAAAAAAAAAw/aB69Ds_gqwc/photo.jpg?sz=128", "display_name": "Julkar9", "link": "https://stackoverflow.com/users/8522463/julkar9"}, "edited": false, "score": 0, "creation_date": 1577338380, "post_id": 59482660, "comment_id": 105144072, "body": "The x and y coordinates are same, so the plots will perfectly overlap, are you sure you need that. Take a look at the images, if you plot them together you will only see the last one"}, {"owner": {"reputation": 33, "user_id": 12597766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2ed4ed8f70b6f5067c2376b5dd4894?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/12597766/juan"}, "edited": false, "score": 1, "creation_date": 1577342996, "post_id": 59482660, "comment_id": 105145081, "body": "I think you misunderstood my idea, say if point (200, 100) has Mobility_Provider:1 and zone_number:1, then it should be a red circle. Same, if point (200, 100) has Mobility_Provider:1 and zone_number:2, then it should be a red triangle; if point (200, 100) has Mobility_Provider:2 and zone_number:1, then it should be a blue circle."}, {"owner": {"reputation": 33, "user_id": 12597766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2ed4ed8f70b6f5067c2376b5dd4894?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/12597766/juan"}, "edited": false, "score": 0, "creation_date": 1577343085, "post_id": 59482660, "comment_id": 105145105, "body": "since there&#39;s two categorical variables, each with three possible values, I want it to be something like combinations of {red, blue, yellow} x {circle, triangle, rectangle}"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 12597766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2ed4ed8f70b6f5067c2376b5dd4894?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/12597766/juan"}, "edited": false, "score": 1, "creation_date": 1577422417, "post_id": 59485986, "comment_id": 105165825, "body": "Thank you so much! This is exactly what I am looking for :)"}], "tags": [], "owner": {"reputation": 819, "user_id": 8522463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8nFyjOinlUk/AAAAAAAAAAI/AAAAAAAAAAw/aB69Ds_gqwc/photo.jpg?sz=128", "display_name": "Julkar9", "link": "https://stackoverflow.com/users/8522463/julkar9"}, "is_accepted": true, "score": 2, "last_activity_date": 1577351785, "last_edit_date": 1577351785, "creation_date": 1577350278, "answer_id": 59485986, "question_id": 59482660, "link": "https://stackoverflow.com/questions/59482660/scatterplot-groupby-columns-in-python/59485986#59485986", "title": "Scatterplot groupby columns in python", "body": "<p>This can be easily done using seaborn's scatterplot, just use<br>\n<code>hue = \"Mobility_Provider\",style=\"zone_number\"</code><br>\nSomething like this  </p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport seaborn as sns; sns.set()\nimport pandas as pd\n\ndf = pd.DataFrame({'x':[1,2,3,4],'y':[1,2,3,4],'Mobility_Provider':[0,0,1,1],\\\n                   'zone_number':[0,1,0,1]})\n\nsns.scatterplot(x=\"x\", y=\"y\",s=100,hue='Mobility_Provider',style='zone_number', data=df)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dG5ji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dG5ji.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 33, "user_id": 12597766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd2ed4ed8f70b6f5067c2376b5dd4894?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/12597766/juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 1, "accepted_answer_id": 59485986, "answer_count": 1, "score": 2, "last_activity_date": 1577351785, "creation_date": 1577318117, "last_edit_date": 1577320137, "question_id": 59482660, "link": "https://stackoverflow.com/questions/59482660/scatterplot-groupby-columns-in-python", "title": "Scatterplot groupby columns in python", "body": "<p>I am trying to make a scatterplot over two different types of categorical variables, each with three different levels. Right now I am using the seaborn library in python:</p>\n\n<pre><code>sns.pairplot(x_vars = ['UTM_x'], y_vars = ['UTM_y'], data = df, hue = \"Mobility_Provider\", height = 5)\nsns.pairplot(x_vars = ['UTM_x'], y_vars = ['UTM_y'], data = df, hue = \"zone_number\", height = 5)\n</code></pre>\n\n<p>which gives me two separate scatter plot, one grouped by Mobility_Provider, one grouped by zone_number. However, I was wondering if it's possible to combine these two graphs together, e.g. different levels of Mobility_Provider are represented in different colours, while different levels of zone_number are represented in different shapes/markers of the plot.\nThanks a lot!</p>\n\n<p>A sample plot would be:\n<a href=\"https://i.stack.imgur.com/aFv3x.png\" rel=\"nofollow noreferrer\">Plot1</a>\n<a href=\"https://i.stack.imgur.com/lYcP6.png\" rel=\"nofollow noreferrer\">Plot2</a></p>\n\n<p>Each row of the df has x and y values, and two categorical variables (\"Mobility_Provider\" and \"zone_number\")</p>\n"}, {"tags": ["python", "html", "django", "python-3.x", "django-templates"], "comments": [{"owner": {"reputation": 3416, "user_id": 12520350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c3970ebd2aa30e9d059f2e7a4c8143?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Russkin", "link": "https://stackoverflow.com/users/12520350/oleg-russkin"}, "edited": false, "score": 0, "creation_date": 1577351135, "post_id": 59482625, "comment_id": 105147345, "body": "You can have this stars html as <b>separate template and __reuse it with <a href=\"https://docs.djangoproject.com/en/3.0/ref/templates/builtins/#std:templatetag-include\" rel=\"nofollow noreferrer\">include</a></b>. Or make it into separate <b><a href=\"https://docs.djangoproject.com/en/3.0/howto/custom-template-tags/#inclusion-tags\" rel=\"nofollow noreferrer\">inclusion_tag</a></b>"}, {"owner": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "reply_to_user": {"reputation": 3416, "user_id": 12520350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c3970ebd2aa30e9d059f2e7a4c8143?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Russkin", "link": "https://stackoverflow.com/users/12520350/oleg-russkin"}, "edited": false, "score": 0, "creation_date": 1577379426, "post_id": 59482625, "comment_id": 105156733, "body": "The best solution was the inclusion tag !! Thank you!!"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "edited": false, "score": 0, "creation_date": 1577383871, "post_id": 59491772, "comment_id": 105158177, "body": "saved the file in the following path: <code>courses&#47;snippets&#47;rating_stars.html</code>.  What do you think?"}, {"owner": {"reputation": 3416, "user_id": 12520350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c3970ebd2aa30e9d059f2e7a4c8143?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Russkin", "link": "https://stackoverflow.com/users/12520350/oleg-russkin"}, "reply_to_user": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "edited": false, "score": 0, "creation_date": 1577432350, "post_id": 59491772, "comment_id": 105168216, "body": "This <code>html</code> is template, so it should go to <code>templates</code> directory (subdirectory of your choice). Tag definitions - in <a href=\"https://docs.djangoproject.com/en/3.0/howto/custom-template-tags/#code-layout\" rel=\"nofollow noreferrer\"><code>templatetags</code></a>."}, {"owner": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "edited": false, "score": 0, "creation_date": 1577462681, "post_id": 59491772, "comment_id": 105178726, "body": "I forgot to put the complete route, here it is: <code>courses&#47;templates&#47;courses&#47;snippets&#47;rating_stars.html</code>. It&#39;s okay like that? what do you think?"}, {"owner": {"reputation": 3416, "user_id": 12520350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c3970ebd2aa30e9d059f2e7a4c8143?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Russkin", "link": "https://stackoverflow.com/users/12520350/oleg-russkin"}, "reply_to_user": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "edited": false, "score": 0, "creation_date": 1577467107, "post_id": 59491772, "comment_id": 105180405, "body": "Yes, its ok. Directory layout is more of a personal taste, and should make senses to you. I.e., I prefer for django project with multiple apps - one common template dir (cause these templates define how my site looks like) (with sub-dirs for apps), so there is no templates in apps dirs. But, In this case - template is part of template tag and is not supposed to be used directly. Template tag is in some app. So, this template needs to be in this app dir/templates dir, not in common templates dir."}, {"owner": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "edited": false, "score": 0, "creation_date": 1577491212, "post_id": 59491772, "comment_id": 105186930, "body": "in a nutshell this template must be in the &quot;templates&quot; directory of the application, where is the template tag, right?"}, {"owner": {"reputation": 3416, "user_id": 12520350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c3970ebd2aa30e9d059f2e7a4c8143?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Russkin", "link": "https://stackoverflow.com/users/12520350/oleg-russkin"}, "reply_to_user": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "edited": false, "score": 0, "creation_date": 1577513224, "post_id": 59491772, "comment_id": 105189544, "body": "Yes, you got it"}], "tags": [], "owner": {"reputation": 3416, "user_id": 12520350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c3970ebd2aa30e9d059f2e7a4c8143?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg Russkin", "link": "https://stackoverflow.com/users/12520350/oleg-russkin"}, "is_accepted": true, "score": 0, "last_activity_date": 1577382814, "creation_date": 1577382814, "answer_id": 59491772, "question_id": 59482625, "link": "https://stackoverflow.com/questions/59482625/improve-the-function-of-a-template-tag-django/59491772#59491772", "title": "Improve the function of a template tag - Django", "body": "<p>You can have this <code>\"start rating html\"</code> as separate template and <strong>reuse it with custom <a href=\"https://docs.djangoproject.com/en/3.0/howto/custom-template-tags/#inclusion-tags\" rel=\"nofollow noreferrer\">inclusion tag</a></strong>.</p>\n\n<p>Another less dynamic option - <strong>reuse with <a href=\"https://docs.djangoproject.com/en/3.0/ref/templates/builtins/#std:templatetag-include\" rel=\"nofollow noreferrer\">include</a></strong> in templates.</p>\n\n<p>Difference <a href=\"https://stackoverflow.com/a/14218982/12520350\">nicely described here</a>.</p>\n"}], "owner": {"reputation": 155, "user_id": 10853134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkyZk.png?s=128&g=1", "display_name": "Julio Cesar", "link": "https://stackoverflow.com/users/10853134/julio-cesar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59491772, "answer_count": 1, "score": 1, "last_activity_date": 1577382814, "creation_date": 1577317585, "last_edit_date": 1577318374, "question_id": 59482625, "link": "https://stackoverflow.com/questions/59482625/improve-the-function-of-a-template-tag-django", "title": "Improve the function of a template tag - Django", "body": "<p>I am programming a star rating system, to calculate the stars graphically of a course, I used the following template tag:</p>\n\n<pre><code>@register.simple_tag\ndef get_course_rating(course):\n    decimal, integer = math.modf(course.get_average_rating())\n\n    rating_stars = {\n        'stars': range(int(integer))\n    }\n\n    if decimal &gt; 0:\n        rating_stars['star_half_empty'] = True\n        rating_stars['stars_empty'] = range((5 - int(integer)) - 1)\n    else:\n        rating_stars['star_half_empty'] = False\n        rating_stars['stars_empty'] = range(5 - int(integer))\n\n    return rating_stars\n</code></pre>\n\n<p>In this way I put the star rating in the HTML:</p>\n\n<pre><code>{% load course_tags %}\n{% get_course_rating course as rating %}\n\n{% for i in rating.stars %}\n    &lt;i class=\"icon-star\"&gt;&lt;/i&gt;\n{% endfor %}\n\n{% if rating.star_half_empty %}\n    &lt;i class=\"icon-star-half-alt\"&gt;&lt;/i&gt;\n{% endif %}\n\n{% for i in rating.stars_empty %}\n    &lt;i class=\"icon-star-empty\"&gt;&lt;/i&gt;\n{% endfor %}\n</code></pre>\n\n<hr>\n\n<p>I find it very tedious to do that, so I wonder if there is a way to improve it? \nIn the sense of the HTML.</p>\n\n<p>I use this html code about 3 times and for me it's repetitive code and I don't want that ...</p>\n\n<p>It occurs to me that the template tag returns html code but I am not sure if it is of good practice ...</p>\n\n<p>Any much more professional solution? It will help my learning a lot ...</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7560816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df735c72e08245aa9d89eeb4f15d4b3?s=128&d=identicon&r=PG&f=1", "display_name": "nassimramadan", "link": "https://stackoverflow.com/users/7560816/nassimramadan"}, "edited": false, "score": 0, "creation_date": 1577469503, "post_id": 59486742, "comment_id": 105181164, "body": "Thanks so much!  This worked perfectly. Is there a chance of getting in trouble as in my IP blocked from google if i use this ? Or how does it work?"}, {"owner": {"reputation": 3730, "user_id": 5616096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjKci.jpg?s=128&g=1", "display_name": "Matthew Gaiser", "link": "https://stackoverflow.com/users/5616096/matthew-gaiser"}, "reply_to_user": {"reputation": 55, "user_id": 7560816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df735c72e08245aa9d89eeb4f15d4b3?s=128&d=identicon&r=PG&f=1", "display_name": "nassimramadan", "link": "https://stackoverflow.com/users/7560816/nassimramadan"}, "edited": false, "score": 0, "creation_date": 1577477250, "post_id": 59486742, "comment_id": 105183585, "body": "@Nas24 pass me an upvote too :). Whether you might get in trouble depends on how you use this. This program by itself shouldn&#39;t get you in trouble. If you add the capability to go to other pages and spam the query robotically, there is a good chance you will need to enter Captchas to use Google search."}], "tags": [], "owner": {"reputation": 3730, "user_id": 5616096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjKci.jpg?s=128&g=1", "display_name": "Matthew Gaiser", "link": "https://stackoverflow.com/users/5616096/matthew-gaiser"}, "is_accepted": true, "score": 1, "last_activity_date": 1577354444, "creation_date": 1577354444, "answer_id": 59486742, "question_id": 59482607, "link": "https://stackoverflow.com/questions/59482607/how-can-i-use-selenium-python-to-do-a-google-search-and-then-open-the-results/59486742#59486742", "title": "How can I use Selenium (Python) to do a Google Search and then open the results of the first page in new tabs?", "body": "<p>Forget about <code>pyautogui</code> as what you want to do can be done in Selenium. Same with most of the rest. You just do not need it. See if this code meets your needs. </p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\n\nquery = 'sins of a solar empire' #my query about a video game\nbrowser = webdriver.Chrome()\nbrowser.get('http://www.google.com')\n\nsearch = browser.find_element_by_name('q')\nsearch.send_keys(query)\nsearch.send_keys(Keys.RETURN)\n\nlinks = browser.find_elements_by_class_name('r') #I went on Google Search and found the container class for the link\n\nfor link in links:\n    url = link.find_element_by_tag_name('a').get_attribute(\"href\") #this code extracts the url of the HTML link\n    browser.execute_script('''window.open(\"{}\",\"_blank\");'''.format(url)) # this code uses Javascript to open a new tab and open the given url in that new tab\n    print(link.find_element_by_tag_name('a').get_attribute(\"href\"))\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7560816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df735c72e08245aa9d89eeb4f15d4b3?s=128&d=identicon&r=PG&f=1", "display_name": "nassimramadan", "link": "https://stackoverflow.com/users/7560816/nassimramadan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 59486742, "answer_count": 1, "score": 1, "last_activity_date": 1577354444, "creation_date": 1577317332, "question_id": 59482607, "link": "https://stackoverflow.com/questions/59482607/how-can-i-use-selenium-python-to-do-a-google-search-and-then-open-the-results", "title": "How can I use Selenium (Python) to do a Google Search and then open the results of the first page in new tabs?", "body": "<p>As the title said, I'd like to performa a Google Search using Selenium and then open all results of the first page on separate tabs.</p>\n\n<p>Please have a look at the code, I can't get any further (it's just my 3rd day learning Python)</p>\n\n<p>Thank you for your help !!</p>\n\n<h2>Code:</h2>\n\n<pre><code>import time\nfrom selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.keys import Keys\nimport pyautogui\n\nquery = 'New Search Query'\n\nbrowser = webdriver.Chrome('/Users/MYUSERNAME/Desktop/Desktop-Files/Chromedriver/chromedriver')\nbrowser.get('http://www.google.com')\n\nsearch = browser.find_element_by_name('q')\nsearch.send_keys(query)\nsearch.send_keys(Keys.RETURN)\n\nelement = browser.find_element_by_class_name('LC20lb')\n\nelement.click()\n</code></pre>\n\n<p>The reason why I imported pyautogui is because I tried simulating a right click and then open in new tab for each result but it was a little confusing :)</p>\n"}, {"tags": ["python", "windows", "multiprocessing"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1577320018, "post_id": 59482600, "comment_id": 105141820, "body": "I do not understand your question."}, {"owner": {"reputation": 71, "user_id": 12582766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zTMRV.jpg?s=128&g=1", "display_name": "Marco Antonio", "link": "https://stackoverflow.com/users/12582766/marco-antonio"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1577320313, "post_id": 59482600, "comment_id": 105141845, "body": "How can I help you to help me?"}], "owner": {"reputation": 71, "user_id": 12582766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zTMRV.jpg?s=128&g=1", "display_name": "Marco Antonio", "link": "https://stackoverflow.com/users/12582766/marco-antonio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1613298551, "creation_date": 1577317235, "last_edit_date": 1613298551, "question_id": 59482600, "link": "https://stackoverflow.com/questions/59482600/calling-python-multiprocess-on-windows", "title": "Calling python multiprocess on Windows", "body": "<p>I'm developing a personal app which envolves web scraping stuffs, and inside its folders there's some files that need multiprocessing tools to makes things go more efficient as any other web scraping software. I know that <strong>Windows lacks of some aspects available on Linux such as <a href=\"https://docs.python.org/2/library/multiprocessing.html#windows\" rel=\"nofollow noreferrer\">fork</a></strong>, and thus when we want to instanciate a pool process in our program we need to make sure that the process code is enclosed by <code>if __name__ == &quot;__main__&quot;:</code>.</p>\n<p>But something is bothering me. <strong>Here's the scenario</strong> (there are several of them currently on my program). In my file <code>main</code> I'm calling <code>import web_scraping_x</code>, which contains a multiprocess pool. The question is: How do I protect <code>my web_scraping_x</code> code without messing up everything inside of it?</p>\n<p>Here's some pseudo-code (for the better good of comprehension):</p>\n<pre><code>&quot;__main__&quot;\n\nfrom web_scraping_x import scraping_manager\n\ninstructions = [&quot;some list or dict&quot;]\n\ndata = scraping_manager(instructions)\n</code></pre>\n<p>and</p>\n<pre><code>   &quot;web_scraping_x&quot;\n\n\ndef escraping_manager(instructions):\n    if instructions is True:\n        scraping_a(instructios)\n\ndef scraping_a(instructions):\n    &quot;do a lot of work ur proletariat&quot;\n</code></pre>\n<p>I'm trying not to come up with a <strong>solution as bad as the problem on Windows</strong>, even though it may not be possible, such as importing my module with a changed <code>__name__</code> ... so any tips humans I really appreciate. If needed, I could show my code, but I think it's just gonna make things more difficulty to share with you.</p>\n"}, {"tags": ["python", "pandas", "time-series"], "comments": [{"owner": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1577320432, "post_id": 59482599, "comment_id": 105141862, "body": "what determines morning, local sunrise or a defined time ?"}], "answers": [{"tags": [], "owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "is_accepted": false, "score": 1, "last_activity_date": 1577319223, "last_edit_date": 1577319223, "creation_date": 1577318829, "answer_id": 59482700, "question_id": 59482599, "link": "https://stackoverflow.com/questions/59482599/how-to-create-new-column-containing-part-of-the-day-as-morning-afternoon/59482700#59482700", "title": "How to create new column containing part of the day as [&#39;morning&#39; , &#39;afternoon&#39; , &#39;evening&#39;, &#39;night&#39; ] using time column?", "body": "<p>You can get the hour with dateutil: <a href=\"https://pypi.org/project/python-dateutil/\" rel=\"nofollow noreferrer\">https://pypi.org/project/python-dateutil/</a> or with straight pandas, as shown below:</p>\n\n<pre><code>import dateutil\n\ndef get_part_of_day(hour):\n    return (\n        \"morning\" if 5 &lt;= hour &lt;= 11\n        else\n        \"afternoon\" if 12 &lt;= hour &lt;= 17\n        else\n        \"evening\" if 18 &lt;= hour &lt;= 22\n        else\n        \"night\"\n    )\n\ndf['part_of_day'] = df.time.apply(lambda x: get_part_of_day(dateutil.parser.parse(x).hour)) \n\nor without the import dateutil\n\ndf['part_of_day'] = df.apply(lambda x: get_part_of_day(pd.to_datetime(x.date + ' ' + x.time).hour), axis=1) \n\n```\noutput\n```\n         date             time part_of_day\n0  2018-11-26  03:40:46.319000       night\n1  2018-11-26  03:40:46.319999       night\n2  2018-11-26  03:40:46.319999       night\n3  2018-11-26  03:40:46.358000       night\n4  2018-11-26  03:40:46.358000       night\n```\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 7857517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2c143e0a1786be355085195acc4acf?s=128&d=identicon&r=PG&f=1", "display_name": "Alex312", "link": "https://stackoverflow.com/users/7857517/alex312"}, "is_accepted": false, "score": 1, "last_activity_date": 1577319056, "creation_date": 1577319056, "answer_id": 59482713, "question_id": 59482599, "link": "https://stackoverflow.com/questions/59482599/how-to-create-new-column-containing-part-of-the-day-as-morning-afternoon/59482713#59482713", "title": "How to create new column containing part of the day as [&#39;morning&#39; , &#39;afternoon&#39; , &#39;evening&#39;, &#39;night&#39; ] using time column?", "body": "<p>It is correct to say that your time column is represented as a datetime.time format (e.g. <code>your_df['time'][0] = datetime.time(3, 40, 46, 319000)</code>)?\nIn that case, all you really need to do is to apply take <code>.hour</code> attribute of the values in the column to create a new one (and apply some if-statements to determine which hours correspond to morning, afternoon etc.)\nLike this:</p>\n\n<pre><code>time_col_index = 1\nyour_df['part of the day'] = df.apply(lambda row: determine_time(row[time_col_index]), axis=1)\n</code></pre>\n\n<p>Where your <code>determine_time</code> function could look smth like:</p>\n\n<pre><code>def determine_time(time):\n    hr = time.hour\n    if hr &lt;= 5:\n        return night\n    elif ...\n\n\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12177980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8791b442c335b7770e219f3b6ee9ad5?s=128&d=identicon&r=PG&f=1", "display_name": "runner_up67", "link": "https://stackoverflow.com/users/12177980/runner-up67"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1577320257, "creation_date": 1577317219, "last_edit_date": 1577320257, "question_id": 59482599, "link": "https://stackoverflow.com/questions/59482599/how-to-create-new-column-containing-part-of-the-day-as-morning-afternoon", "title": "How to create new column containing part of the day as [&#39;morning&#39; , &#39;afternoon&#39; , &#39;evening&#39;, &#39;night&#39; ] using time column?", "body": "<p>I am working on time series data and below is how first two columns look. I would like to create new column containing the part of the day or 4 different dataframes consisting of only morning, afternoon, evening, and night times separately.    </p>\n\n<pre><code>       date       time  \n0   2018-11-26  03:40:46.319000     \n1   2018-11-26  03:40:46.319999     \n2   2018-11-26  03:40:46.319999     \n3   2018-11-26  03:40:46.358000     \n4   2018-11-26  03:40:46.358000\n</code></pre>\n"}, {"tags": ["python", "plotly", "webdeploy"], "owner": {"reputation": 19, "user_id": 11541761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142b87c34b84663352b1272505ce270f?s=128&d=identicon&r=PG&f=1", "display_name": "jarmand", "link": "https://stackoverflow.com/users/11541761/jarmand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577317076, "creation_date": 1577317076, "question_id": 59482590, "link": "https://stackoverflow.com/questions/59482590/how-to-best-share-updated-html-and-csv-files-created-in-a-juypter-notebook-with", "title": "How to best share updated html and csv files created in a Juypter notebook with colleagues", "body": "<p><strong>What exactly I am doing:</strong> updating a predictive model with new data bi-weekly, and then updating the csv file and plotly graphs (html files) that contain the new predictions</p>\n\n<p><strong>What my problem is:</strong> right now I am sharing these updated predictions either ad hoc over email or by uploading the files to google drive (or my often both). Neither is a very good solution so I am looking for a better way to programmatically update these files and share them with my colleagues</p>\n\n<p><strong>My ideal solution:</strong> a link I could share that would open a web page with all of this data updated. The link could either be something that you can't find without being given the exact link or something that required a username and password to access</p>\n\n<p>Decent enough with python for data analysis and visualization but no experience deploying web apps. Thanks in advance</p>\n"}, {"tags": ["python", "pandas", "sorting", "optimization"], "comments": [{"owner": {"reputation": 431, "user_id": 10249632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEjFG.png?s=128&g=1", "display_name": "VictorDDT", "link": "https://stackoverflow.com/users/10249632/victorddt"}, "edited": false, "score": 1, "creation_date": 1577666005, "post_id": 59482588, "comment_id": 105219996, "body": "Currently the <code>distance</code> function doesn&#39;t take into account the <code>floor</code>. You can either add <code>floor</code> to the <code>distance</code> as a 3rd coordinate OR check the <code>floor</code> manually in the line <code>if 0 &lt; dist &lt;= max_distance:</code>."}, {"owner": {"reputation": 753, "user_id": 9811964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTuBz.jpg?s=128&g=1", "display_name": "PParker", "link": "https://stackoverflow.com/users/9811964/pparker"}, "reply_to_user": {"reputation": 431, "user_id": 10249632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEjFG.png?s=128&g=1", "display_name": "VictorDDT", "link": "https://stackoverflow.com/users/10249632/victorddt"}, "edited": false, "score": 0, "creation_date": 1577977884, "post_id": 59482588, "comment_id": 105299056, "body": "Thanks Victor! It&#39;s not that simple. First I changed the &#39;dist-function&#39;. Then I checked &#39;floor&#39; manually (see edited version above). It always runs into an endless loop! I debugged it, but still it is not obvious to me what happens.   However, I do not see, how all this solves issue number (2). --&gt; I have slightly changed the input data. Now, every person shoul find / get one group."}], "answers": [{"comments": [{"owner": {"reputation": 753, "user_id": 9811964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTuBz.jpg?s=128&g=1", "display_name": "PParker", "link": "https://stackoverflow.com/users/9811964/pparker"}, "edited": false, "score": 0, "creation_date": 1577396675, "post_id": 59483653, "comment_id": 105161522, "body": "Awesome and thanks a lot. I have edited my question according to what you suggested. I do not know how to implement the step 2. Maybe you can help me with that? I have prepared a (working?) example.  Not sure if my code works so far..."}, {"owner": {"reputation": 431, "user_id": 10249632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEjFG.png?s=128&g=1", "display_name": "VictorDDT", "link": "https://stackoverflow.com/users/10249632/victorddt"}, "reply_to_user": {"reputation": 753, "user_id": 9811964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTuBz.jpg?s=128&g=1", "display_name": "PParker", "link": "https://stackoverflow.com/users/9811964/pparker"}, "edited": false, "score": 1, "creation_date": 1577397647, "post_id": 59483653, "comment_id": 105161739, "body": "I would consider <code>(lat, long, floor)</code> as a 3D coordinates of people. So you just need to <a href=\"https://www.engineeringtoolbox.com/distance-relationship-between-two-points-d_1854.html\" rel=\"nofollow noreferrer\">calculate a distance in 3D space</a>. <a href=\"https://stackoverflow.com/questions/1369512/converting-longitude-latitude-to-x-y-on-a-map-with-calibration-points\">Here</a> is a suggestion from @Gubatron how to convert <code>(lat, long)</code> to flat coordinates. Of course, you can use any other approach here if it doesn&#39;t meet your goal."}, {"owner": {"reputation": 753, "user_id": 9811964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTuBz.jpg?s=128&g=1", "display_name": "PParker", "link": "https://stackoverflow.com/users/9811964/pparker"}, "edited": false, "score": 0, "creation_date": 1577398716, "post_id": 59483653, "comment_id": 105161962, "body": "Thanks Victor! In my particular case, the distance give by the function &#39;distance&#39; works fine. I do not need a 3D distance. The problem that I have, is to transform your pseudo-code into real code. As you can see, I struggle with constrain number (2). According to you, in this step, I have to compare the distance of each person in the group with every other person. It is not clear to me, to put this into real code... It is all about this: &lt;IF (&quot;person&quot; meets requirements 2 and 3 with people in the &quot;group&quot;) THEN&gt;"}, {"owner": {"reputation": 431, "user_id": 10249632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEjFG.png?s=128&g=1", "display_name": "VictorDDT", "link": "https://stackoverflow.com/users/10249632/victorddt"}, "reply_to_user": {"reputation": 753, "user_id": 9811964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTuBz.jpg?s=128&g=1", "display_name": "PParker", "link": "https://stackoverflow.com/users/9811964/pparker"}, "edited": false, "score": 1, "creation_date": 1577429375, "post_id": 59483653, "comment_id": 105167414, "body": "@PParker look at the EDIT1 in my answer"}, {"owner": {"reputation": 753, "user_id": 9811964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTuBz.jpg?s=128&g=1", "display_name": "PParker", "link": "https://stackoverflow.com/users/9811964/pparker"}, "edited": false, "score": 0, "creation_date": 1577471025, "post_id": 59483653, "comment_id": 105181632, "body": "Awesome! Thank you very much for your help Victor! I have added some comments in my first post (EDIT 2). Sorry, for being so picky with that. This algorithm is the most crucial part of my work therefore I have to get this right! Maybe you can comment on my issues above? Thanks a lot in advance!"}], "tags": [], "owner": {"reputation": 431, "user_id": 10249632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEjFG.png?s=128&g=1", "display_name": "VictorDDT", "link": "https://stackoverflow.com/users/10249632/victorddt"}, "is_accepted": false, "score": 2, "last_activity_date": 1577429296, "last_edit_date": 1577429296, "creation_date": 1577332273, "answer_id": 59483653, "question_id": 59482588, "link": "https://stackoverflow.com/questions/59482588/how-to-set-column-values-depending-on-a-co-location-constraint-in-a-dataframe/59483653#59483653", "title": "How to set column values depending on a co-location constraint in a dataframe?", "body": "<p>I would think about a function which groups people by 3 not by 9 into one group.\nPeople in the group shall meet the following requirements:</p>\n\n<ol>\n<li>they don't belong to any group yet</li>\n<li>their coordinates are close enough</li>\n<li>their coordinates are not the same (people are not in the same place)</li>\n</ol>\n\n<p>here is a pseudo code:</p>\n\n<pre><code>FUNC assignGroup()\n\n    emptyGroupList = QUERY: \"SELECT people WHERE group = None ORDER BY lat, long, floor\"\n    group = []\n    groupNumber = 0\n\n    FOR EACH person in emptyGroupList LOOP\n        IF group.size == 3 THEN\n            QUERY: SET group = groupNumber FOR persons in group\n            groupNumber += 1\n            group = []\n        END IF\n\n        IF group.size == 0 THEN\n            group.append(person)\n        ELSE\n            IF (\"person\" meets requirements 2 and 3 with people in the \"group\") THEN\n                group.append(person)\n        END IF\n    END FOR\n\nEND FUNC\n</code></pre>\n\n<p>Probably you will need to run the function several times to cover all persons.\nThen you can assign any roles (hosts) inside each group by groupNumber as you wish.</p>\n\n<p>Using such approach will give you more control how people are divided into groups and you can put more complex logic there.</p>\n\n<p>Hopefully it makes sense.</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>Here is the sample code:</p>\n\n<pre><code>import pandas as pd\nfrom math import radians, sin, cos, atan2, sqrt\n\ndef distance(lat1, lon1, lat2, lon2):\n    R = 6373.0 # approximate radius of earth in km\n    lat1 = radians(lat1)\n    lon1 = radians(lon1)\n    lat2 = radians(lat2)\n    lon2 = radians(lon2)\n\n    dlon = lon2 - lon1\n    dlat = lat2 - lat1\n\n    a = sin(dlat / 2)**2 + cos(lat1) * cos(lat2) * sin(dlon / 2)**2\n    c = 2 * atan2(sqrt(a), sqrt(1 - a))\n\n    distance = R * c \n    return distance # in unit 'kilometers'\n\nd = {\n        'latitude': [1.1,1.2,1.1, 1.3,1.3,1.4,1.4,1.4,1.4],\n        'longitude': [1.1, 2, 1.1, 1.3, 1.3, 1.8, 1.8, 1.8, 1.8],\n        'floor': [3,1,2,4,4,3,3,3,1],\n        'id': [1,2,3,4,5,6,7,8,9]\n    }\n\ndf = pd.DataFrame(data=d)\ndf.set_index('id', drop=False, inplace=True)\n\ndf['host'] = 'None'\ndf['group'] = 'None'\n\nmax_distance = 85\n\n# emptyGroupList = QUERY: \"SELECT people WHERE group = None ORDER BY lat,long, floor\"\nemptyGroupList = df.loc[df['host'] == 'None'].sort_values(['latitude', 'longitude', 'floor'], ascending=True)\n\nprint(emptyGroupList)\n\ngroup = []\ngroupNumber = 0\n\nfor index, person in df.iterrows():\n    if len(group) == 3:\n        for group_person in group:\n            df.at[group_person['id'], 'group'] = groupNumber\n        groupNumber += 1\n\n    if len(group) == 0:\n        group.append(person)\n    else: \n        for group_person in group:\n            dist = distance(person['latitude'], person['longitude'], group_person['latitude'], group_person['longitude'])\n            if 0 &lt; dist &lt;= max_distance:\n                group.append(person)\n\n\nprint(df)\n</code></pre>\n\n<p>Don't forget consider that there are 2 ways to include a new person to a group.\nYou can count distance with the nearest person or with all persons in the group.\nRefer to the picture below. If person 1 and 2 are in the group. So person \"A\" and person \"B\" will have different conditions to be included to the same group.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UCcwj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UCcwj.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 753, "user_id": 9811964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTuBz.jpg?s=128&g=1", "display_name": "PParker", "link": "https://stackoverflow.com/users/9811964/pparker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577978198, "creation_date": 1577317062, "last_edit_date": 1577978198, "question_id": 59482588, "link": "https://stackoverflow.com/questions/59482588/how-to-set-column-values-depending-on-a-co-location-constraint-in-a-dataframe", "title": "How to set column values depending on a co-location constraint in a dataframe?", "body": "<p>I have a long dataframe of (about 400) people who participate in an event. You see the first 9 rows below. This event is about cooking at home. As a host, people come to your place and you will cook either appetizer, main dish or dessert for your guests. The location of each host is given by the latitude, longitude and the floor:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>d = {'latitude': [1.1, 1.1,1.2,1.3,1.3,1.4,1.4,1.4,1.4],\n     'longitude': [1.1, 1.1, 2, 1.3, 1.3, 1.8, 1.8, 1.8, 1.8],\n     'floor': [2,3,1,4,4,3,3,3,1],\n     'host': ['appetizer', 'appetizer', 'appetizer', 'main', 'main', 'main', 'dessert', 'dessert', 'dessert']}\ndf = pd.DataFrame(data=d)\n</code></pre>\n\n<p>The length of the df is always a multiple of 9. For example 27. The dataframe columns are already sorted by size, meaning that people who live close together (share same spatial coordinates) are closer in index value.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CInnwm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CInnwm.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Goal:</strong></p>\n\n<ul>\n<li>I want to divide the df in clusters of 9 people. (This is why length of df is multiple of 9). </li>\n<li>In each cluster I want 3 people to prepare the appetizer, main dish and dessert, respectively.</li>\n</ul>\n\n<p>This itself is simple, as you can already see in my dataframe. The challenge comes with the constraint.</p>\n\n<p><strong>Constraint:</strong></p>\n\n<ul>\n<li>People who share the same dish (appetizer, main, dessert) should ideally not live at the same spatial coordinates (lat., lon., floor). Of course this is not always possible, then this constraint can be neglected.</li>\n</ul>\n\n<p>In the example index 0, 1, 3 are correct since all live at different places. However, index 3 and 4 live together as well as index 6 and 7. Therefore, the choice of setting the hosts values like it is, was not smart.</p>\n\n<p>Any idea how to set the column \"host\" so that the constraint is fulfilled? </p>\n\n<p><strong>EDIT 3</strong>:</p>\n\n<pre><code>import pandas as pd\nfrom math import radians, sin, cos, atan2, sqrt\nfrom random import random\n\ndef distance(lat1, lon1, lat2, lon2):\n    R = 6373.0 # approximate radius of earth in km\n    lat1 = radians(lat1)\n    lon1 = radians(lon1)\n    lat2 = radians(lat2)\n    lon2 = radians(lon2)\n\n    dlon = lon2 - lon1\n    dlat = lat2 - lat1\n\n    a = sin(dlat / 2)**2 + cos(lat1) * cos(lat2) * sin(dlon / 2)**2\n    c = 2 * atan2(sqrt(a), sqrt(1 - a))\n\n    distance = (R * c)\n    return distance # in unit 'kilometers'\n\nd = {\n        'latitude': [1.1,1.2,1.1, 1.3,1.3,1.4,1.4,1.4,1.4],\n        'longitude': [1.1, 2, 1.1, 1.3, 1.3, 1.8, 1.8, 1.8, 1.8],\n        'floor': [3,1,2,2,4,3,2,1,4],\n        'id': [1,2,3,4,5,6,7,8,9]\n    }\n\ndf = pd.DataFrame(data=d)\ndf.set_index('id', drop=False, inplace=True)\n\ndf['host'] = 'None'\ndf['group'] = 'None'\n\nmax_distance = 85\n\n# emptyGroupList = QUERY: \"SELECT people WHERE group = None ORDER BY lat,long, floor\"\nemptyGroupList = df.loc[df['host'] == 'None'].sort_values(['latitude', 'longitude', 'floor'], ascending=True)\n\nprint(emptyGroupList)\n\ngroup = []\ngroupNumber = 0\n\nfor index, person in df.iterrows():\n  if len(group) == 3:\n    for group_person in group:\n      df.at[group_person['id'], 'group'] = groupNumber\n    groupNumber += 1\n    group = []\n\n  if len(group) == 0:\n    group.append(person)\n  else:\n    for group_person in group:\n      #print(group_person['floor'])\n      dist = distance(person['latitude'], person['longitude'], group_person['latitude'], group_person['longitude'])\n      if group_person['floor'] == 1:\n        dist=dist+1\n      elif group_person['floor'] == 2:\n        dist=dist+2\n      elif group_person['floor'] == 3:\n        dist=dist+3\n      elif group_person['floor'] == 4:\n        dist=dist+4\n      else:\n        dist=dist+5\n\n      if 0 &lt; dist &lt;= max_distance:\n        group.append(person)\n\n\nprint(df)\n</code></pre>\n\n<ul>\n<li>Note, that I added the line group=[ ] to your code-example!</li>\n</ul>\n\n<p>This is how the data looks at the start:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gJ3dMm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJ3dMm.png\" alt=\"enter image description here\"></a></p>\n\n<p>After applying the algorithm the first time:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aHs2Mm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aHs2Mm.png\" alt=\"enter image description here\"></a></p>\n\n<ol>\n<li>This looks wrong since index 4 and 5 share same location. It is strange, because we actually say in the code, that the distance should be larger 0.</li>\n<li>Applying the for-loop multiple times does not effect all person in the group. That means, at the end, people are without a group. My goal is, that every person gets a group (appertizer, main, dessert).</li>\n<li>Maybe it is better to wrapp everything into a function and apply it multiple times until condition is satisfied? But before doing that, issue (1) and (2) need to be solved.</li>\n<li>You said there are 2 ways to include a new person to a group. I do not have any preference. The simples way is the best way.</li>\n</ol>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11331558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a8e27c0d812256ad6f92141c65ac27?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Berkowitz", "link": "https://stackoverflow.com/users/11331558/zachary-berkowitz"}, "edited": false, "score": 0, "creation_date": 1577335723, "post_id": 59482646, "comment_id": 105143630, "body": "I wanted it to shrink in, but that leaves behind the old one as well. How do I get rid of that? (The example works, though. Thanks for that!"}, {"owner": {"reputation": 585, "user_id": 11297958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iBWI7.png?s=128&g=1", "display_name": "Kalma", "link": "https://stackoverflow.com/users/11297958/kalma"}, "reply_to_user": {"reputation": 25, "user_id": 11331558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a8e27c0d812256ad6f92141c65ac27?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Berkowitz", "link": "https://stackoverflow.com/users/11331558/zachary-berkowitz"}, "edited": false, "score": 0, "creation_date": 1577366564, "post_id": 59482646, "comment_id": 105152505, "body": "Oh, I see. Your code is prepared to augment the text, not for shrinking it. You have to &quot;play&quot; with the size and the position of the text. For the size, this part is the key: int(72*i/5), in which you could use something like: int(72+10*2)-i*2)... and similar for the position calculating previous position and size to place new text. In addition to that, the simplest is to erase and update the initial (bigger) rect."}, {"owner": {"reputation": 585, "user_id": 11297958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iBWI7.png?s=128&g=1", "display_name": "Kalma", "link": "https://stackoverflow.com/users/11297958/kalma"}, "reply_to_user": {"reputation": 25, "user_id": 11331558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a8e27c0d812256ad6f92141c65ac27?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Berkowitz", "link": "https://stackoverflow.com/users/11331558/zachary-berkowitz"}, "edited": false, "score": 0, "creation_date": 1577367820, "post_id": 59482646, "comment_id": 105152936, "body": "I edited my answer to adapt the function to shrink text instead of augmenting it. Give it a try and comment!"}], "tags": [], "owner": {"reputation": 585, "user_id": 11297958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iBWI7.png?s=128&g=1", "display_name": "Kalma", "link": "https://stackoverflow.com/users/11297958/kalma"}, "is_accepted": false, "score": 1, "last_activity_date": 1577371794, "last_edit_date": 1577371794, "creation_date": 1577317947, "answer_id": 59482646, "question_id": 59482545, "link": "https://stackoverflow.com/questions/59482545/text-not-updating-within-loop-within-function/59482646#59482646", "title": "Text not updating within loop (within function)", "body": "<p>I think the main problem is using scale() to scale rendered text. As far as I know, scale() is for images.</p>\n\n<p>Try this as a mere example (you can adapt it to your needs afterwards).</p>\n\n<pre><code>def displayWordCol(word, col):\ncolVal = [(255, 0, 0), (255, 128, 0), (190, 190, 0), (0, 255, 0), (0, 0, 255), (128, 0, 255)]\n    for i in range(10):\n        text = create_text(word, font_preferences, int(72 *i/5), colVal[col-1])\n        #scale(text, (text.get_width() * i/5, text.get_height() * i/5))\n        screen.blit(text, (320 - text.get_width() // 2, 240 - text.get_height() // 2))\n        pygame.display.update()\n        clock.tick(60)\n</code></pre>\n\n<p>Another possible problem is that you might need to erase the screen before blitting the word in every loop cycle (not sure which effect you are looking for).</p>\n\n<p>Finally, using pygame is almost always a good thing to use \"dirty\" rects, erasing and updating only the parts of the screen that have actually changed.</p>\n\n<p>Regards!</p>\n\n<p>EDIT: Try this as well. I added erasing the screen before blitting. I guess this effect is what you were looking for. I also added \"dirty\" rects management as an example.</p>\n\n<pre><code>def displayWordCol(word, col):\n    colVal = [(255, 0, 0), (255, 128, 0), (190, 190, 0), (0, 255, 0), (0, 0, 255), (128, 0, 255)]\n    regular_size = 72\n    cicles = 20\n    size_gap = 5\n\n    initial_size = regular_size + cicles * size_gap\n    text = create_text(word, font_preferences, int(initial_size), colVal[col - 1])\n    pos = (320, 240)\n    rect = pygame.Rect(pos[0] - text.get_width()/2, pos[1] - text.get_height()/2, text.get_width(), text.get_height())\n\n    screen.fill(pygame.Color(\"white\"))\n    pygame.display.update()\n    for i in range(cicles):\n        text = create_text(word, font_preferences, int(initial_size - i*size_gap), colVal[col-1])\n        screen.fill(pygame.Color(\"white\"), rect)\n        screen.blit(text, (pos[0] - text.get_width()/2, pos[1] - text.get_height()/2))\n        pygame.display.update(rect)\n        clock.tick(60))\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11331558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53a8e27c0d812256ad6f92141c65ac27?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Berkowitz", "link": "https://stackoverflow.com/users/11331558/zachary-berkowitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577371794, "creation_date": 1577316431, "last_edit_date": 1577318874, "question_id": 59482545, "link": "https://stackoverflow.com/questions/59482545/text-not-updating-within-loop-within-function", "title": "Text not updating within loop (within function)", "body": "<p>I'm trying to make my own version of OLDTV in Python, but I've run into a problem. I am making an effect where the text is bigger for a moment before going to a regular size. The problem that I am running up against is that the text does not display at all. I am running Anaconda 2.7 (installed in a previous project) with the Spyder editor that comes with, if that helps.</p>\n\n<p>Code:</p>\n\n<pre><code>import pygame\nfrom pygame.transform import scale\nfrom random import randint\n\ndef make_font(fonts, size):\n    available = pygame.font.get_fonts()\n    # get_fonts() returns a list of lowercase spaceless font names\n    choices = map(lambda x:x.lower().replace(' ', ''), fonts)\n    for choice in choices:\n        if choice in available:\n            return pygame.font.SysFont(choice, size)\n    return pygame.font.Font(None, size)\n\n_cached_fonts = {}\ndef get_font(font_preferences, size):\n    global _cached_fonts\n    key = str(font_preferences) + '|' + str(size)\n    font = _cached_fonts.get(key, None)\n    if font == None:\n        font = make_font(font_preferences, size)\n        _cached_fonts[key] = font\n    return font\n\n_cached_text = {}\ndef create_text(text, fonts, size, color):\n    global _cached_text\n    key = '|'.join(map(str, (fonts, size, color, text)))\n    image = _cached_text.get(key, None)\n    if image == None:\n        font = get_font(fonts, size)\n        image = font.render(text, True, color)\n        _cached_text[key] = image\n    return image\n\npygame.init()\nscreen = pygame.display.set_mode((640, 480))\nreal = 0\nguess = 0\nscore = 0\ni = 0\ngameRunning = False\nrunEnd = False\nclock = pygame.time.Clock()\ndone = False\n\nfont_preferences = [\n        \"Arial\",\n        \"Times New Roman\",\n        \"Papyrus\",\n        \"Comic Sans MS\"]\n\ndef endRun(score):\n    global gameRunning\n    global runEnd\n    global i\n    screen.fill([255, 255, 255])\n    text = create_text(str(score), font_preferences, 72, (0, 0, 0))\n    screen.blit(text,\n        (320 - text.get_width() // 2, 240 - text.get_height() // 2))\n    gameRunning = False\n    runEnd = True\n    i = 0\n\n\ndef genNext():\n    screen.fill([255, 255, 255])\n    global real\n    gen = randint(1, 2)\n    if gen == 2:\n        ref = 0\n    else:\n        ref = 1\n    rand1 = randint(1, 6)\n    rand2 = randint(1, 6)\n    words = [\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\", \"Purple\"]\n    if ref == 1:\n        if rand1 == rand2:\n            real = 0\n        else:\n            real = 1\n        displayWord = words[rand1-1]\n        displayCol = rand2\n    elif ref == 0:\n        real = 0\n        displayWord = words[rand1-1]\n        displayCol = rand1\n    return ReturnValue(displayWord, displayCol)\n\ndef displayWordCol(word, col):\n    colVal = [(255, 0, 0), (255, 128, 0), (190, 190, 0), (0, 255, 0), (0, 0, 255), (128, 0, 255)]\n    for i in range(10, 5):\n        text = create_text(word, font_preferences, 72, colVal[col-1])\n        scale(text, (text.get_width() * i/5, text.get_height() * i/5))\n        screen.blit(text, (320 - text.get_width() // 2, 240 - text.get_height() // 2))\n        pygame.display.update()\n        clock.tick(60)\n\n\ndef checkNext(real, guess):\n    global score\n    if real == guess:\n        score = score + 1\n        e = genNext()\n        displayWordCol(e.y0, e.y1)\n    else:\n        endRun(score)\n\ndef homeScreen():\n    screen.fill(0)\n    text = create_text(\"OpenTV\", font_preferences, 72, (100, 100, 100))\n    screen.blit(text,\n        (320 - text.get_width() // 2, 240 - text.get_height() // 2))\n\nclass ReturnValue:\n  def __init__(self, y0, y1):\n     self.y0 = y0\n     self.y1 = y1\n\nhomeScreen()\n\n\nwhile not done:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            done = True\n        if event.type == pygame.MOUSEBUTTONDOWN:\n                if event.button == 1:\n                    if gameRunning == True:\n                        guess = 0\n                        checkNext(real, guess)\n                elif event.button == 3:\n                    if gameRunning == True:\n                        guess = 1\n                        checkNext(real, guess)\n        if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_RETURN:\n                    if gameRunning == False:\n                        gameRunning = True\n                        score = 0\n                        e = genNext()\n                        displayWordCol(e.y0, e.y1)\n                if event.key == pygame.K_ESCAPE:\n                    if gameRunning == True:\n                        endRun(score)\n                    elif gameRunning == False:\n                        done = True\n\n\n    if runEnd:\n        i = i + 1\n        if i == 120:\n            homeScreen()\n            runEnd = False\n\n    pygame.display.flip()\n    clock.tick(60)\n</code></pre>\n\n<p>The part that is causing trouble is the displayWordCol function. Is there something wrong with my code, or should I switch to IDLE and paste in my code?</p>\n"}, {"tags": ["python", "regex", "python-3.x", "beautifulsoup", "pattern-matching"], "answers": [{"comments": [{"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "reply_to_user": {"reputation": 495, "user_id": 6330670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXmfw.jpg?s=128&g=1", "display_name": "M.S. Arun", "link": "https://stackoverflow.com/users/6330670/m-s-arun"}, "edited": false, "score": 0, "creation_date": 1577317848, "post_id": 59482614, "comment_id": 105141578, "body": "I matched for your expected output, which was a number. My apologies if i read this wrong. But it does only match that number, nothing else"}], "tags": [], "owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "is_accepted": false, "score": 0, "last_activity_date": 1577317400, "creation_date": 1577317400, "answer_id": 59482614, "question_id": 59482539, "link": "https://stackoverflow.com/questions/59482539/how-to-extract-nth-line-string-after-pattern-match-in-python/59482614#59482614", "title": "How to Extract nth line String after Pattern match in Python?", "body": "<p>You can use:</p>\n\n<pre><code>(?=&lt;a.*?&gt;(.*)&lt;/a&gt;)\n</code></pre>\n\n<p>Check here, it uses your data to confirm the match: <a href=\"https://regex101.com/r/W2wV2I/1/\" rel=\"nofollow noreferrer\">https://regex101.com/r/W2wV2I/1/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2423, "user_id": 6007566, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2dc2e86664941a748f0dab92216d67c6?s=128&d=identicon&r=PG&f=1", "display_name": "Boendal", "link": "https://stackoverflow.com/users/6007566/boendal"}, "is_accepted": true, "score": 3, "last_activity_date": 1577317656, "creation_date": 1577317656, "answer_id": 59482632, "question_id": 59482539, "link": "https://stackoverflow.com/questions/59482539/how-to-extract-nth-line-string-after-pattern-match-in-python/59482632#59482632", "title": "How to Extract nth line String after Pattern match in Python?", "body": "<p>You can do it with Beautiful Soup like this:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nhtml_doc = \"\"\"\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29565618\"&gt;29565618&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle **JDK** 8 Update 212 &lt;strong&gt;(**public**)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206839\"&gt;29206839&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;Oracle JRE 8 Update 211 Enterprise Installer&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206838\"&gt;29206838&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle SERVER JRE 8 Update 211 &lt;strong&gt;(public)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206859\"&gt;29206859&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle Java SE Embedded 8 Update 211 &lt;strong&gt;(public)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\"\"\"\n\nsoup = BeautifulSoup(html_doc, 'html.parser')\n\ntrs = soup.find_all('tr')\n\nfor tr in trs:\n    if tr.div:\n        div_text = tr.div.get_text()\n        if \"JDK\" in div_text and \"public\" in div_text:\n            for td in tr.find_all('td'):\n                td_text = td.get_text()\n                if td_text.isdigit():\n                    print(td_text)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>29565618\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 495, "user_id": 6330670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXmfw.jpg?s=128&g=1", "display_name": "M.S. Arun", "link": "https://stackoverflow.com/users/6330670/m-s-arun"}, "edited": false, "score": 0, "creation_date": 1577318324, "post_id": 59482659, "comment_id": 105141626, "body": "You are almost correct. Now can you extract &quot;29565618&quot; this alone rather than the entire string ?"}, {"owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "reply_to_user": {"reputation": 495, "user_id": 6330670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXmfw.jpg?s=128&g=1", "display_name": "M.S. Arun", "link": "https://stackoverflow.com/users/6330670/m-s-arun"}, "edited": false, "score": 0, "creation_date": 1577318412, "post_id": 59482659, "comment_id": 105141636, "body": "@M.S.Arun See my edit. You do <code>a.text</code> to get the inner string"}, {"owner": {"reputation": 495, "user_id": 6330670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXmfw.jpg?s=128&g=1", "display_name": "M.S. Arun", "link": "https://stackoverflow.com/users/6330670/m-s-arun"}, "edited": false, "score": 1, "creation_date": 1577318503, "post_id": 59482659, "comment_id": 105141641, "body": "Got it. Thanks!"}, {"owner": {"reputation": 9023, "user_id": 7658985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FmSLm.jpg?s=128&g=1", "display_name": "\u03b1\u050b\u0271\u04bd\u0503 \u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7", "link": "https://stackoverflow.com/users/7658985/%ce%b1%d4%8b%c9%b1%d2%bd%d4%83-%ce%b1%d0%bc%d1%94%d1%8f%ce%b9c%ce%b1%ce%b7"}, "edited": false, "score": 0, "creation_date": 1577319707, "post_id": 59482659, "comment_id": 105141783, "body": "@AndrejKesely <a href=\"https://bpaste.net/VGYQ\" rel=\"nofollow noreferrer\">bpaste.net/VGYQ</a> can we do it like that way ?"}, {"owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "reply_to_user": {"reputation": 9023, "user_id": 7658985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FmSLm.jpg?s=128&g=1", "display_name": "\u03b1\u050b\u0271\u04bd\u0503 \u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7", "link": "https://stackoverflow.com/users/7658985/%ce%b1%d4%8b%c9%b1%d2%bd%d4%83-%ce%b1%d0%bc%d1%94%d1%8f%ce%b9c%ce%b1%ce%b7"}, "edited": false, "score": 0, "creation_date": 1577320361, "post_id": 59482659, "comment_id": 105141850, "body": "@\u03b1\u050b\u0271\u04bd\u0503\u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7 Idea is OK, but this prints <code>None</code> for me. The <code>(public)</code> is in inside other tag than &quot;JDK&quot; - so you need to check for this somehow. The <code>findPreviousSibling()</code> should be <code>find_previous(&quot;a&quot;)</code> IMHO"}, {"owner": {"reputation": 9023, "user_id": 7658985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FmSLm.jpg?s=128&g=1", "display_name": "\u03b1\u050b\u0271\u04bd\u0503 \u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7", "link": "https://stackoverflow.com/users/7658985/%ce%b1%d4%8b%c9%b1%d2%bd%d4%83-%ce%b1%d0%bc%d1%94%d1%8f%ce%b9c%ce%b1%ce%b7"}, "edited": false, "score": 0, "creation_date": 1577320424, "post_id": 59482659, "comment_id": 105141861, "body": "@AndrejKesely thanks bro, i was asking because i was don&#39;t know how to do it actually as it&#39;s prints none also for me"}, {"owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "reply_to_user": {"reputation": 9023, "user_id": 7658985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FmSLm.jpg?s=128&g=1", "display_name": "\u03b1\u050b\u0271\u04bd\u0503 \u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7", "link": "https://stackoverflow.com/users/7658985/%ce%b1%d4%8b%c9%b1%d2%bd%d4%83-%ce%b1%d0%bc%d1%94%d1%8f%ce%b9c%ce%b1%ce%b7"}, "edited": false, "score": 0, "creation_date": 1577320796, "post_id": 59482659, "comment_id": 105141887, "body": "@\u03b1\u050b\u0271\u04bd\u0503\u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7 Something similarly to this <a href=\"https://bpaste.net/FDPA\" rel=\"nofollow noreferrer\">bpaste.net/FDPA</a>"}], "tags": [], "owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "is_accepted": false, "score": 1, "last_activity_date": 1577318382, "last_edit_date": 1577318382, "creation_date": 1577318106, "answer_id": 59482659, "question_id": 59482539, "link": "https://stackoverflow.com/questions/59482539/how-to-extract-nth-line-string-after-pattern-match-in-python/59482659#59482659", "title": "How to Extract nth line String after Pattern match in Python?", "body": "<p>If <code>data</code> is your HTML snippet from the question, this script:</p>\n\n<pre><code>import re\nfrom bs4 import BeautifulSoup\n\nsoup = BeautifulSoup(data, 'html.parser')\n\nfor a in soup.select('td.km:has(~ td.km) &gt; a'):\n    if re.findall(r' JDK.*?\\(public\\)', a.find_next('td', class_='km').text):\n        print(a.text)\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>29565618\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9023, "user_id": 7658985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FmSLm.jpg?s=128&g=1", "display_name": "\u03b1\u050b\u0271\u04bd\u0503 \u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7", "link": "https://stackoverflow.com/users/7658985/%ce%b1%d4%8b%c9%b1%d2%bd%d4%83-%ce%b1%d0%bc%d1%94%d1%8f%ce%b9c%ce%b1%ce%b7"}, "is_accepted": false, "score": 1, "last_activity_date": 1577320923, "last_edit_date": 1577320923, "creation_date": 1577320501, "answer_id": 59482820, "question_id": 59482539, "link": "https://stackoverflow.com/questions/59482539/how-to-extract-nth-line-string-after-pattern-match-in-python/59482820#59482820", "title": "How to Extract nth line String after Pattern match in Python?", "body": "<pre><code>soup = BeautifulSoup(html_doc, 'html.parser')\n\nmatch = soup.find(text=lambda t: \"JDK\" in t)\nif match and 'public' in match.parent.text:\n    print(match.find_previous('a').text)\n</code></pre>\n\n<p>Thanks for <code>@Andrej Kesely</code></p>\n"}, {"tags": [], "owner": {"reputation": 2231, "user_id": 12455879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a81cac450eb5d596c6ba57478e67396c?s=128&d=identicon&r=PG&f=1", "display_name": "dabingsou", "link": "https://stackoverflow.com/users/12455879/dabingsou"}, "is_accepted": false, "score": 0, "last_activity_date": 1577321612, "creation_date": 1577321612, "answer_id": 59482910, "question_id": 59482539, "link": "https://stackoverflow.com/questions/59482539/how-to-extract-nth-line-string-after-pattern-match-in-python/59482910#59482910", "title": "How to Extract nth line String after Pattern match in Python?", "body": "<p>What about this</p>\n\n<pre><code>from simplified_scrapy.simplified_doc import SimplifiedDoc \nhtml = ''' &lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29565618\"&gt;29565618&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle **JDK** 8 Update 212 &lt;strong&gt;(**public**)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206839\"&gt;29206839&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;Oracle JRE 8 Update 211 Enterprise Installer&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206838\"&gt;29206838&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle SERVER JRE 8 Update 211 &lt;strong&gt;(public)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206859\"&gt;29206859&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle Java SE Embedded 8 Update 211 &lt;strong&gt;(public)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;'''\ndoc = SimplifiedDoc(html)\ntrs = doc.trs.contains(['JDK','public'])\nfor tr in trs:\n  print(tr.a.text) # 29565618\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 6330670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TXmfw.jpg?s=128&g=1", "display_name": "M.S. Arun", "link": "https://stackoverflow.com/users/6330670/m-s-arun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 59482632, "answer_count": 5, "score": 1, "last_activity_date": 1577321612, "creation_date": 1577316355, "question_id": 59482539, "link": "https://stackoverflow.com/questions/59482539/how-to-extract-nth-line-string-after-pattern-match-in-python", "title": "How to Extract nth line String after Pattern match in Python?", "body": "<p>I have a text file with below content, all i need to extract <strong><code>&lt;a href=\"https://support.oracle.com/******\"&gt;29565618&gt;&lt;/a&gt;</code></strong> after Specific String Match(highlighted/bold below)</p>\n\n<p><code>&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle</code><b>JDK</b><code>8 Update 212 &lt;strong&gt;</code><b>(public)</b><code>&lt;/strong&gt;&lt;/div&gt;</code></p>\n\n<p><strong>Note:</strong> The href tag is above on the 2nd line after this patter match in the input text file.</p>\n\n<hr>\n\n<p><strong>Input Text File:</strong></p>\n\n<pre><code>&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29565618\"&gt;29565618&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle **JDK** 8 Update 212 &lt;strong&gt;(**public**)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206839\"&gt;29206839&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;Oracle JRE 8 Update 211 Enterprise Installer&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206838\"&gt;29206838&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle SERVER JRE 8 Update 211 &lt;strong&gt;(public)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td class=\"km\"&gt;&lt;a href=\"https://support.oracle.com/epmos/faces/PatchResultsNDetails?patchId=29206859\"&gt;29206859&lt;/a&gt;&lt;/td&gt;\n&lt;td class=\"km\"&gt;\n&lt;div title=\"Available on both MOS and OTN\"&gt;Oracle Java SE Embedded 8 Update 211 &lt;strong&gt;(public)&lt;/strong&gt;&lt;/div&gt;\n&lt;/td&gt;\n&lt;td class=\"km\"&gt;16-APR-2019&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p><strong>Expected Output:</strong></p>\n\n<pre><code>29565618\n</code></pre>\n\n<hr>\n\n<p><strong>My Code:</strong></p>\n\n<pre><code>    with open('file.txt') as f:\n        my_list = list(f)\n        try:\n            if my_list.index('JDK') &gt; 0 and my_list.index('public') &gt; 0:\n                print(string[4:-4])\n        except:\n            pass\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "argparse"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1577316958, "post_id": 59482534, "comment_id": 105141467, "body": "Edit the <code>argparse.py</code> file to extend the <code>nargs</code> options to meet your needs. :)  I could point you to a Python bug/issue where I developed a <code>nargs</code> range option.  But if you aren&#39;t up for that, I&#39;d suggest &#39;+&#39;, along with a bit of  your own post-parsing processing."}], "answers": [{"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 1, "last_activity_date": 1577322059, "last_edit_date": 1577322059, "creation_date": 1577321430, "answer_id": 59482894, "question_id": 59482534, "link": "https://stackoverflow.com/questions/59482534/how-can-i-take-at-most-two-arguments-and-choose-a-default-if-one-is-missing/59482894#59482894", "title": "How can I take at most two arguments and choose a default if one is missing", "body": "<p><code>argparse</code> doesn't support every conceivable convention. The simplest thing to do would be to use <code>nargs='+'</code>, and post-process the resulting value.</p>\n\n<pre><code>p = ArgumentParser()\n\np.add_argument(\"--arg1\", nargs='+')\n\nargs = p.parse_args()\n\nif args.arg1 is not None:\n    if len(args.arg1) == 1:\n        val1 = DEFAULT\n        val2 = args.arg1[0]\n    elif len(args.arg1) == 2:\n        val1, val1 = args.arg1\n    else:\n        raise ArgumentTypeError(\"--arg1 requires 1 or 2 arguments\")\n</code></pre>\n\n<p>Note that the <code>default</code> argument to <code>add_argument</code> is used only if <code>--arg1</code> is not specified at all. In the above, I've assumed a default of <code>None</code>; adjust the check for <code>args.arg1</code> if necessary.</p>\n\n<p>I would recommend parsing a single argument yourself, for example using a comma or a colon to separate the two values.</p>\n\n<pre><code>def one_or_two(s):\n    values = s.split(\",\")  # or s.split(\":\"), etc\n    if len(values) == 1:\n        values.insert(0, \"DEFAULT\")\n    return values[:2]\n\np.add_argument(\"--arg1\", type=one_or_two)\n\nargs = p.parse_args()\n\nif args.arg1 is not None:\n    val1, val2 = args.arg1\n</code></pre>\n\n<p>or using a second option altogether that gets ignored if <code>--arg1</code> isn't used.</p>\n\n<pre><code>p.add_argument(\"--arg1\")\np.add_argument(\"--arg2\")\n\nargs = p.parse_args()\nif args.arg1 is not None:\n    if args.arg2 is not None:\n        val1 = args.arg1\n        val2 = args.arg2\n    else:\n        val1 = DEFAULT\n        val2 = args.arg1\n</code></pre>\n"}], "owner": {"reputation": 2619, "user_id": 6282576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T81mu.jpg?s=128&g=1", "display_name": "Amir A. Shabani", "link": "https://stackoverflow.com/users/6282576/amir-a-shabani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59482894, "answer_count": 1, "score": 0, "last_activity_date": 1577322059, "creation_date": 1577316304, "last_edit_date": 1577316750, "question_id": 59482534, "link": "https://stackoverflow.com/questions/59482534/how-can-i-take-at-most-two-arguments-and-choose-a-default-if-one-is-missing", "title": "How can I take at most two arguments and choose a default if one is missing", "body": "<p>I'm using <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow noreferrer\"><code>argparse</code></a> to parse arguments of my Python program and I want the format be like this:</p>\n\n<p><code>program --arg1 val1 val2</code></p>\n\n<p>There shouldn't be any more values for this argument, but it can be only one. So at most two values.</p>\n\n<p>I also want to provide a default for the first value, <code>val1</code>, so that if it's missing, the default be used.</p>\n\n<p>For example, these commands should work fine:</p>\n\n<pre><code>program --arg1 a b\n# val1 = a\n# val2 = b\n\nprogram --arg1 a\n# val1 = DEFAULT\n# val2 = a\n</code></pre>\n\n<p>And these commands should produce an error:</p>\n\n<pre><code>program --arg1\nprogram --arg1 a b c\n</code></pre>\n\n<p>For this purpose, there are two arguments provided in the library, <a href=\"https://docs.python.org/3/library/argparse.html#nargs\" rel=\"nofollow noreferrer\">nargs</a> and <a href=\"https://docs.python.org/3/library/argparse.html#default\" rel=\"nofollow noreferrer\">default</a>.</p>\n\n<p><code>nargs</code> supports <code>N</code>, <code>+</code>, <code>*</code>, <code>?</code>, and <code>argparse.REMAINDER</code>. But none of these work for me, because <code>N</code> expects exactly N number of arguments and <code>nargs=2</code> will throw an error if I give it only one. The rest doesn't satisfy the requirement either.</p>\n\n<p>And the <code>default</code> argument only works for positional arguments whose <code>nargs</code> is equal to <code>?</code> or <code>*</code>. How can I achieve this? </p>\n"}, {"tags": ["python", "select", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 5266531, "user_type": "registered", "profile_image": "https://graph.facebook.com/956565984382138/picture?type=large", "display_name": "Ernest Denisov", "link": "https://stackoverflow.com/users/5266531/ernest-denisov"}, "is_accepted": true, "score": 1, "last_activity_date": 1577319084, "creation_date": 1577319084, "answer_id": 59482716, "question_id": 59482512, "link": "https://stackoverflow.com/questions/59482512/select-unique-values-not-containing-characters-a-f-from-table-column-with-sqlalc/59482716#59482716", "title": "select unique values not containing characters a-f from table column with sqlalchemy", "body": "<p>You can use generators inside OR operator like this:</p>\n\n<pre><code>or_(col.contains(s) for s in ('a', 'b', 'c', 'd', 'e', 'f'))\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>or_(col.in_(['a', 'b', 'c', 'd', 'e', 'f']))\n</code></pre>\n\n<p>I've not tried these ways, but this advice is in <a href=\"https://stackoverflow.com/questions/7942547/using-or-in-sqlalchemy\">Using OR in SQLAlchemy</a></p>\n"}], "owner": {"reputation": 471, "user_id": 11989080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55bd7c6774e8adf6ca9ba27275bab4e?s=128&d=identicon&r=PG&f=1", "display_name": "ctenar", "link": "https://stackoverflow.com/users/11989080/ctenar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 59482716, "answer_count": 1, "score": 2, "last_activity_date": 1577319084, "creation_date": 1577316080, "question_id": 59482512, "link": "https://stackoverflow.com/questions/59482512/select-unique-values-not-containing-characters-a-f-from-table-column-with-sqlalc", "title": "select unique values not containing characters a-f from table column with sqlalchemy", "body": "<p>The database table <code>objects_tbl</code> has a column object_id, that contains identifier strings that either consist of digits 0-9 only <strong>or</strong> that may additionally contain \"hex-digits\", i.e. the letters <code>a-f</code>. Using SqlAlchemy, I want to select all distinct values from this column which consist of the digits 0-9 only, so I added a condition on the column to not contain a or b or c or d or e or f:</p>\n\n<pre><code>col = objects_tbl.c.object_id\nquery = select([col]).where(not_(or_(col.contains('a'), col.contains('b'), col.contains('c'),\n                            col.contains('d'), col.contains('e'), col.contains('f')))).distinct()\n</code></pre>\n\n<p>Within the faculties of SqlAlchemy, is there a more elegant/more concise way to accomplish this without having to list each of the six characters explicitly? The solution should be as little database-specific as possible, so using raw SQL with regular expressions is probably not a good option. Many thanks in advance!</p>\n"}, {"tags": ["python", "random", "pyautogui"], "comments": [{"owner": {"reputation": 329, "user_id": 2111837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ea1f991c64dec9c068983d9f78c956?s=128&d=identicon&r=PG", "display_name": "iScripters", "link": "https://stackoverflow.com/users/2111837/iscripters"}, "edited": false, "score": 1, "creation_date": 1577316186, "post_id": 59482489, "comment_id": 105141370, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/29805042/python-avoid-previous-value-from-random-selection-from-list\">Python | Avoid previous value from random selection from list</a>"}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1577316517, "post_id": 59482489, "comment_id": 105141403, "body": "There is no need to initialize <code>cities</code> over and over inside the while loop. Move it to outside. Check my answer."}, {"owner": {"reputation": 15, "user_id": 12181738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4faa64e599e170cafbfed7aee97641?s=128&d=identicon&r=PG&f=1", "display_name": "RUSHWAYC", "link": "https://stackoverflow.com/users/12181738/rushwayc"}, "reply_to_user": {"reputation": 329, "user_id": 2111837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14ea1f991c64dec9c068983d9f78c956?s=128&d=identicon&r=PG", "display_name": "iScripters", "link": "https://stackoverflow.com/users/2111837/iscripters"}, "edited": false, "score": 0, "creation_date": 1577346060, "post_id": 59482489, "comment_id": 105145948, "body": "@iScripters it looks like something I&#39;m looking for, I will save it somewhere just in case but in this scenario accdias code does exactly what I want."}], "answers": [{"comments": [{"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1577316557, "post_id": 59482522, "comment_id": 105141410, "body": "There is no need to initialize <code>cities</code> over and over inside the while loop. Move it outside."}, {"owner": {"reputation": 219, "user_id": 12427162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c377bbbb3a84707cd1f4f992de55?s=128&d=identicon&r=PG&f=1", "display_name": "natalie", "link": "https://stackoverflow.com/users/12427162/natalie"}, "reply_to_user": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 1, "creation_date": 1577405498, "post_id": 59482522, "comment_id": 105163329, "body": "I was trying to keep the code as similar to the given code as possible for clarity. So I didn&#39;t try to optimize. However, I agree that cities should be moved outside the while loop."}], "tags": [], "owner": {"reputation": 219, "user_id": 12427162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e39c377bbbb3a84707cd1f4f992de55?s=128&d=identicon&r=PG&f=1", "display_name": "natalie", "link": "https://stackoverflow.com/users/12427162/natalie"}, "is_accepted": false, "score": 2, "last_activity_date": 1577316185, "creation_date": 1577316185, "answer_id": 59482522, "question_id": 59482489, "link": "https://stackoverflow.com/questions/59482489/python-while-loop-print-one-item-from-array-without-it-being-printed-twice-in-a/59482522#59482522", "title": "Python while loop, print one item from array without it being printed twice in a row", "body": "<p>Something you could do is store the previous city as a variable. Then, have a while loop where you do a random choice of cities while the city chosen  equals the previous city chosen.</p>\n\n<pre><code>import pyautogui, random\n\ndayDate = 1\nprevCity = ''\nwhile dayDate &lt; 32:\n    pyautogui.click(380, 325)\n    pyautogui.typewrite(str(dayDate))\n    pyautogui.click(380, 345)\n    cities = ['London', 'Paris', 'Berlin', 'Barcelona', 'Moscow']\n    city = random.choice(cities)\n    while prevCity == city:\n        city = random.choice(cities)\n    prevCity = city\n    print(city)\n    pyautogui.typewrite(str(city))\n    dayDate += 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 12181738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4faa64e599e170cafbfed7aee97641?s=128&d=identicon&r=PG&f=1", "display_name": "RUSHWAYC", "link": "https://stackoverflow.com/users/12181738/rushwayc"}, "edited": false, "score": 0, "creation_date": 1577346210, "post_id": 59482548, "comment_id": 105145978, "body": "Thanks! This does exactly what I want. I&#39;m still new to python (and somewhat still newish to coding in general). I thought that variables don&#39;t keep their values when looping from top again."}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "reply_to_user": {"reputation": 15, "user_id": 12181738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4faa64e599e170cafbfed7aee97641?s=128&d=identicon&r=PG&f=1", "display_name": "RUSHWAYC", "link": "https://stackoverflow.com/users/12181738/rushwayc"}, "edited": false, "score": 0, "creation_date": 1577360367, "post_id": 59482548, "comment_id": 105150450, "body": "@RUSHWAYC, No worries. I&#39;m glad it helped. If possible, mark my answer as accepted. That will help others with the same question."}], "tags": [], "owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "is_accepted": true, "score": 2, "last_activity_date": 1577403540, "last_edit_date": 1577403540, "creation_date": 1577316462, "answer_id": 59482548, "question_id": 59482489, "link": "https://stackoverflow.com/questions/59482489/python-while-loop-print-one-item-from-array-without-it-being-printed-twice-in-a/59482548#59482548", "title": "Python while loop, print one item from array without it being printed twice in a row", "body": "<p>Change your code to be like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pyautogui, random\n\ncities = ('London', 'Paris', 'Berlin', 'Barcelona', 'Moscow')\nlast_city = city = random.choice(cities)\n\nfor day in range(1, 32):\n    pyautogui.click(380, 325)\n    pyautogui.typewrite(str(day))\n    pyautogui.click(380, 345)\n    pyautogui.typewrite(city)\n    print(day, city)\n    while city == last_city:\n        city = random.choice(cities)\n    last_city = city \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 585, "user_id": 11297958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iBWI7.png?s=128&g=1", "display_name": "Kalma", "link": "https://stackoverflow.com/users/11297958/kalma"}, "is_accepted": false, "score": 1, "last_activity_date": 1577316848, "last_edit_date": 1577316848, "creation_date": 1577316525, "answer_id": 59482558, "question_id": 59482489, "link": "https://stackoverflow.com/questions/59482489/python-while-loop-print-one-item-from-array-without-it-being-printed-twice-in-a/59482558#59482558", "title": "Python while loop, print one item from array without it being printed twice in a row", "body": "<p>Not totally sure I understood the problem. Maybe the solution is just remember last printed city and choose a different one?</p>\n\n<pre><code>import pyautogui, random\n\ncities = ['London', 'Paris', 'Berlin', 'Barcelona', 'Moscow']\ndayDate = 1\ncity = prev_city = \"\"\nwhile dayDate &lt; 32:\n    pyautogui.click(380, 325)\n    pyautogui.typewrite(str(dayDate))\n    pyautogui.click(380, 345)\n    while city == prev_city:\n        city = random.choice(cities)\n    prev_city = city\n    print(city)\n    pyautogui.typewrite(str(city))\n    dayDate += 1\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12181738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e4faa64e599e170cafbfed7aee97641?s=128&d=identicon&r=PG&f=1", "display_name": "RUSHWAYC", "link": "https://stackoverflow.com/users/12181738/rushwayc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 59482548, "answer_count": 3, "score": 1, "last_activity_date": 1577403540, "creation_date": 1577315865, "question_id": 59482489, "link": "https://stackoverflow.com/questions/59482489/python-while-loop-print-one-item-from-array-without-it-being-printed-twice-in-a", "title": "Python while loop, print one item from array without it being printed twice in a row", "body": "<p>I want pyautogui to type days in a month from 1 to 31. Bellow each number I want it to type city name from an array. Problem is that when loop finishes, in the next run it has a chance to print the same city which I don't want. It can and should print it again just not twice in a row.</p>\n\n<p>I tried several options I was able to Google but none worked. Here's my code. If you have suggestions on how to fix it or completely new code please let me know.</p>\n\n<pre><code>import pyautogui, random\n\ndayDate = 1\nwhile dayDate &lt; 32:\n    pyautogui.click(380, 325)\n    pyautogui.typewrite(str(dayDate))\n    pyautogui.click(380, 345)\n    cities = ['London', 'Paris', 'Berlin', 'Barcelona', 'Moscow']\n    city = random.choice(cities)\n    print(city)\n    pyautogui.typewrite(str(city))\n    dayDate += 1\n</code></pre>\n\n<p>Just that I'm clear, preferable output in terminal should not have same city twice in a row.</p>\n\n<p>Eg:</p>\n\n<ol>\n<li><p>London 2. Berlin 3. Berlin 4. Moscow - wrong</p></li>\n<li><p>Berlin 2. London 3. Berlin 4. Moscow - correct</p></li>\n</ol>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1959, "user_id": 12094894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NjIomZJlN5g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQRTujazUTsx8ooT0_rHUW6q7FPA/photo.jpg?sz=128", "display_name": "Simon Crane", "link": "https://stackoverflow.com/users/12094894/simon-crane"}, "edited": false, "score": 0, "creation_date": 1577316104, "post_id": 59482469, "comment_id": 105141359, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/3678869/pythonic-way-to-combine-two-lists-in-an-alternating-fashion\">Pythonic way to combine two lists in an alternating fashion?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1577383413, "post_id": 59482495, "comment_id": 105158059, "body": "may I know the reason downvote ?"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1577315939, "creation_date": 1577315939, "answer_id": 59482495, "question_id": 59482469, "link": "https://stackoverflow.com/questions/59482469/python-convert-two-columns-of-dataframe-into-one-interposed-list/59482495#59482495", "title": "Python: Convert two columns of dataframe into one interposed list", "body": "<p>IIUC</p>\n\n<pre><code>df.values.ravel().tolist()#df.to_numpy().ravel().tolist()\n\n[1, 2, 3, 4, 5, 6, 0, -1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315945, "creation_date": 1577315945, "answer_id": 59482496, "question_id": 59482469, "link": "https://stackoverflow.com/questions/59482469/python-convert-two-columns-of-dataframe-into-one-interposed-list/59482496#59482496", "title": "Python: Convert two columns of dataframe into one interposed list", "body": "<p>You can obtain the values, and reshape it to a 1d array:</p>\n\n<pre><code>&gt;&gt;&gt; df[['Open', 'Close']].values.reshape(-1)\narray([ 1,  2,  3,  4,  5,  6,  0, -1])\n</code></pre>\n\n<p>or convert that to a list:</p>\n\n<pre><code>&gt;&gt;&gt; list(df[['Open', 'Close']].values.reshape(-1))\n[1, 2, 3, 4, 5, 6, 0, -1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5598, "user_id": 6256482, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cbb61d1374b0c24127b13bccc2f7e586?s=128&d=identicon&r=PG&f=1", "display_name": "KenHBS", "link": "https://stackoverflow.com/users/6256482/kenhbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315977, "creation_date": 1577315977, "answer_id": 59482499, "question_id": 59482469, "link": "https://stackoverflow.com/questions/59482469/python-convert-two-columns-of-dataframe-into-one-interposed-list/59482499#59482499", "title": "Python: Convert two columns of dataframe into one interposed list", "body": "<p>You could use a list comprehension in combination with <code>df.values</code>:</p>\n\n<pre><code>[y for x in df.values for y in x]\n[1, 2, 3, 4, 5, 6, 0, -1]\n</code></pre>\n\n<p><code>x</code> will be an array with the rows, and <code>y</code> will be the values in those rows</p>\n"}, {"comments": [{"owner": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "edited": false, "score": 0, "creation_date": 1577316279, "post_id": 59482518, "comment_id": 105141376, "body": "Ah, what if there are a bunch of other columns in between? Is there a more pythonic way than just grabbing the first 2 columns into its own DF or dropping the rest of the columns?"}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "reply_to_user": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "edited": false, "score": 0, "creation_date": 1577316456, "post_id": 59482518, "comment_id": 105141393, "body": "If you want, you can just pick the columns you want to flatten:  df[[&#39;Open&#39;, &#39;Close&#39;]].values.flatten()"}, {"owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "edited": false, "score": 0, "creation_date": 1577316650, "post_id": 59482518, "comment_id": 105141430, "body": "this is: <code>df.stack().values</code>"}], "tags": [], "owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "is_accepted": true, "score": 4, "last_activity_date": 1577316149, "creation_date": 1577316149, "answer_id": 59482518, "question_id": 59482469, "link": "https://stackoverflow.com/questions/59482469/python-convert-two-columns-of-dataframe-into-one-interposed-list/59482518#59482518", "title": "Python: Convert two columns of dataframe into one interposed list", "body": "<p>Try this:</p>\n\n<pre><code>df.values.flatten()                                                                                                                                                                  \n# array([ 1,  2,  3,  4,  5,  6,  0, -1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "is_accepted": false, "score": 1, "last_activity_date": 1577316606, "creation_date": 1577316606, "answer_id": 59482566, "question_id": 59482469, "link": "https://stackoverflow.com/questions/59482469/python-convert-two-columns-of-dataframe-into-one-interposed-list/59482566#59482566", "title": "Python: Convert two columns of dataframe into one interposed list", "body": "<p>How about:</p>\n\n<pre><code>df.stack().values\n#array([ 1,  2,  3,  4,  5,  6,  0, -1])\n</code></pre>\n"}], "owner": {"reputation": 706, "user_id": 5953619, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/8c277b6a367dfa614b3d42efdb3edca1?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/5953619/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "closed_date": 1577323559, "accepted_answer_id": 59482518, "answer_count": 5, "score": 4, "last_activity_date": 1577316606, "creation_date": 1577315676, "question_id": 59482469, "link": "https://stackoverflow.com/questions/59482469/python-convert-two-columns-of-dataframe-into-one-interposed-list", "closed_reason": "Duplicate", "title": "Python: Convert two columns of dataframe into one interposed list", "body": "<p>How can I convert two columns in a dataframe into an interposed list?</p>\n\n<p>ex: I want to do something like</p>\n\n<p><code>df</code></p>\n\n<pre><code>             Open  Close\nDate\n2016-12-23  1      2\n2016-12-27  3      4\n2016-12-28  5      6\n2016-12-29  0      -1\n</code></pre>\n\n<p><code>someFunction(df)</code></p>\n\n<p><code>&gt;&gt;&gt; [1, 2, 3, 4, 5, 6, 0, -1]</code></p>\n\n<p>Closest I've found is <code>list(zip(df.Open, df.Close)</code> but that returns a bunch of tuples in the list like this: <code>[(1, 2), (3, 4), (5, 6), (0, -1)]</code> </p>\n"}, {"tags": ["python", "selenium", "docker"], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 9657108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C2U8mkmj_3w/AAAAAAAAAAI/AAAAAAAAAGM/Yj1Ea7gZMMQ/photo.jpg?sz=128", "display_name": "arunkvelu", "link": "https://stackoverflow.com/users/9657108/arunkvelu"}, "is_accepted": true, "score": 1, "last_activity_date": 1577326081, "last_edit_date": 1577326081, "creation_date": 1577324007, "answer_id": 59483060, "question_id": 59482457, "link": "https://stackoverflow.com/questions/59482457/python-mount-cant-resolve-selenium-module-in-a-container/59483060#59483060", "title": "Python - mount can&#39;t resolve selenium module in a container", "body": "<p>I guess you have a misunderstanding between chrome docker image and selenium module. Let me try to answer assuming this. Please correct me if I am mistaken.</p>\n\n<blockquote>\n  <p>In my host machine, I have a test.py file that looks like this in vs-code.</p>\n</blockquote>\n\n<p>In the line <strong>from selenium import webdriver</strong>, <em>selenium</em> is a python <a href=\"https://docs.python.org/3/tutorial/modules.html\" rel=\"nofollow noreferrer\">package</a> and <em>webdriver</em> is one of the module inside <em>selenium</em> package. This package must be installed, in your host machine or from wherever you are trying to invoke test.py, using <em>pip</em> command.</p>\n\n<pre><code>pip install selenium # python 2\npip3 install selenium # python 3\n</code></pre>\n\n<blockquote>\n  <p>docker run -d -p 4444:4444 -v ${PWD}:/dev/shm selenium/standalone-chrome</p>\n</blockquote>\n\n<p>This command starts standalone chrome container which acts as a hub and node. Also please note that this container does not come with selenium package installed. You can view the sessions by loading <a href=\"http://localhost:4444/wd/hub/static/resource/hub.html\" rel=\"nofollow noreferrer\">http://localhost:4444/wd/hub/static/resource/hub.html</a> url in browser. An example test is given below.</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.common.action_chains import ActionChains\n\ndesiredCapabilities={\n\"browserName\":\"chrome\"\n}\n\ndriver = webdriver.Remote(command_executor='http://localhost:4444/wd/hub',desired_capabilities = desiredCapabilities);\n\ndriver.get('https://www.google.com')\nelement = driver.find_element_by_link_text('Privacy')\nActionChains(driver) \\\n    .key_down(Keys.CONTROL) \\\n    .click(element) \\\n    .key_up(Keys.CONTROL) \\\n    .perform()\nprint(driver.title)\ndriver.quit()\n</code></pre>\n\n<p>Below are few links to get more details</p>\n\n<ol>\n<li><p>Setup python -\n<a href=\"http://allselenium.info/python-selenium-webdriver-environment-setup/\" rel=\"nofollow noreferrer\">http://allselenium.info/python-selenium-webdriver-environment-setup/</a></p></li>\n<li><p>Setup docker -\n<a href=\"http://allselenium.info/selenium-docker-parallel-execution-made-easy/\" rel=\"nofollow noreferrer\">http://allselenium.info/selenium-docker-parallel-execution-made-easy/</a></p></li>\n<li><p>Debug docker -\n<a href=\"http://allselenium.info/how-to-debug-tests-running-on-docker-containers/\" rel=\"nofollow noreferrer\">http://allselenium.info/how-to-debug-tests-running-on-docker-containers/</a></p></li>\n</ol>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 13248, "user_id": 401147, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d93e870cae3f8003bf06307ab134afbf?s=128&d=identicon&r=PG", "display_name": "FlyingCat", "link": "https://stackoverflow.com/users/401147/flyingcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 59483060, "answer_count": 1, "score": 0, "last_activity_date": 1577326081, "creation_date": 1577315509, "question_id": 59482457, "link": "https://stackoverflow.com/questions/59482457/python-mount-cant-resolve-selenium-module-in-a-container", "title": "Python - mount can&#39;t resolve selenium module in a container", "body": "<p>I am trying to mount my host computer to my docker container which has selenium and chromeWebDrive. I ran the following command to start the container. </p>\n\n<p><code>docker run -d -p 4444:4444 -v ${PWD}:/dev/shm selenium/standalone-chrome</code></p>\n\n<p>The selenium/standalone-chrome is the image I found from official seleniumHQ repo here\n<a href=\"https://github.com/SeleniumHQ/docker-selenium\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/docker-selenium</a></p>\n\n<p>In my host machine, I have a test.py file that looks like this in vs-code.</p>\n\n<p><code>\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\n</code></p>\n\n<p>However, I am getting warning from my vs-code saying <code>unresolved import selenium</code></p>\n\n<p>I don't have selenium installed in my host machine and I was hoping to use docker instead.</p>\n\n<p>Is there a way to make my vs-code recognize the selenium package inside my docker? Thanks a lot!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1577315667, "post_id": 59482452, "comment_id": 105141313, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/12201577/how-can-i-convert-an-rgb-image-into-grayscale-in-python\">How can I convert an RGB image into grayscale in Python?</a>"}, {"owner": {"reputation": 8905, "user_id": 125673, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/82a60bb38342f8f84da434535183e21b?s=128&d=identicon&r=PG", "display_name": "arame3333", "link": "https://stackoverflow.com/users/125673/arame3333"}, "reply_to_user": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1577316058, "post_id": 59482452, "comment_id": 105141355, "body": "No I am using PIL rather than matplotlib"}, {"owner": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1577316254, "post_id": 59482452, "comment_id": 105141375, "body": "And the accepted answer in that question used <code>PIL</code>."}, {"owner": {"reputation": 8905, "user_id": 125673, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/82a60bb38342f8f84da434535183e21b?s=128&d=identicon&r=PG", "display_name": "arame3333", "link": "https://stackoverflow.com/users/125673/arame3333"}, "reply_to_user": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1577316375, "post_id": 59482452, "comment_id": 105141387, "body": "And it didn&#39;t work, I am using .convert(&#39;LA&#39;) as I state in my question."}, {"owner": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1577317216, "post_id": 59482452, "comment_id": 105141493, "body": "Take a second look at your code, is the &quot;grayscale&quot; image saved in all cases?"}, {"owner": {"reputation": 8905, "user_id": 125673, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/82a60bb38342f8f84da434535183e21b?s=128&d=identicon&r=PG", "display_name": "arame3333", "link": "https://stackoverflow.com/users/125673/arame3333"}, "reply_to_user": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1577317506, "post_id": 59482452, "comment_id": 105141536, "body": "It is because the image is cropped."}], "answers": [{"comments": [{"owner": {"reputation": 21554, "user_id": 1329296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1026699dbf4140d3fc7262842428e808?s=128&d=identicon&r=PG", "display_name": "lenik", "link": "https://stackoverflow.com/users/1329296/lenik"}, "edited": false, "score": 0, "creation_date": 1577329650, "post_id": 59482806, "comment_id": 105142880, "body": "why <code>LA</code> ?? <code>L</code> is perfectly fine, most images do not need an alpha channel..."}], "tags": [], "owner": {"reputation": 10051, "user_id": 6031995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KAcWh.png?s=128&g=1", "display_name": "Kenan", "link": "https://stackoverflow.com/users/6031995/kenan"}, "is_accepted": false, "score": 0, "last_activity_date": 1577320241, "creation_date": 1577320241, "answer_id": 59482806, "question_id": 59482452, "link": "https://stackoverflow.com/questions/59482452/python-cannot-saves-images-to-greyscale/59482806#59482806", "title": "Python: Cannot saves images to greyscale", "body": "<p>Should your second to last line be \n<code>grayIm = croppedIm.convert(\"LA\")</code></p>\n\n<p>notice the <code>LA</code>, your have <code>L</code>, <code>grayIm = croppedIm.convert(\"L\")</code></p>\n"}, {"comments": [{"owner": {"reputation": 8905, "user_id": 125673, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/82a60bb38342f8f84da434535183e21b?s=128&d=identicon&r=PG", "display_name": "arame3333", "link": "https://stackoverflow.com/users/125673/arame3333"}, "edited": false, "score": 0, "creation_date": 1577364935, "post_id": 59483454, "comment_id": 105151982, "body": "I was taken by surprise that some colour images included in this &quot;if &quot; statement and were therefore not saved; if width == 640 and height == 480:         return img . So I fixed that by saving the image there."}, {"owner": {"reputation": 21554, "user_id": 1329296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1026699dbf4140d3fc7262842428e808?s=128&d=identicon&r=PG", "display_name": "lenik", "link": "https://stackoverflow.com/users/1329296/lenik"}, "reply_to_user": {"reputation": 8905, "user_id": 125673, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/82a60bb38342f8f84da434535183e21b?s=128&d=identicon&r=PG", "display_name": "arame3333", "link": "https://stackoverflow.com/users/125673/arame3333"}, "edited": false, "score": 1, "creation_date": 1577426688, "post_id": 59483454, "comment_id": 105166727, "body": "@arame3333 nice catch, I did not notice that, however the general thread was about similar behaviour"}], "tags": [], "owner": {"reputation": 21554, "user_id": 1329296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1026699dbf4140d3fc7262842428e808?s=128&d=identicon&r=PG", "display_name": "lenik", "link": "https://stackoverflow.com/users/1329296/lenik"}, "is_accepted": true, "score": 1, "last_activity_date": 1577329581, "creation_date": 1577329581, "answer_id": 59483454, "question_id": 59482452, "link": "https://stackoverflow.com/questions/59482452/python-cannot-saves-images-to-greyscale/59483454#59483454", "title": "Python: Cannot saves images to greyscale", "body": "<p>You're trying to save the images to the same <code>filePath</code> where you read your original images from. I bet some images just throw exception on read, and you never get to convert them.</p>\n\n<p>You may check the dates on the files, sort them and you'll find out the color images have the oldest creation date/time, because they were NOT processed by your routine.</p>\n\n<p><code>convert('L')</code> is fine, BTW. Your problem that it sometimes do not get there.</p>\n"}], "owner": {"reputation": 8905, "user_id": 125673, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/82a60bb38342f8f84da434535183e21b?s=128&d=identicon&r=PG", "display_name": "arame3333", "link": "https://stackoverflow.com/users/125673/arame3333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59483454, "answer_count": 2, "score": 0, "last_activity_date": 1577329581, "creation_date": 1577315460, "last_edit_date": 1577316109, "question_id": 59482452, "link": "https://stackoverflow.com/questions/59482452/python-cannot-saves-images-to-greyscale", "title": "Python: Cannot saves images to greyscale", "body": "<p>I have this block of code which successfully crops the images I want to save.\nBut I also open the images with a .Convert(\"LA\") which should ensure the image is Greyscaled. I am using the PIL library and not matplotlib.</p>\n\n<p>Yet when I look at the images saved, they are all the correct size but some of them are still showing in colour.\nHow do I fix this?</p>\n\n<pre><code>def resizeImage(self, filePath):\n    # [left, up, right, bottom] \n    img = Image.open(filePath).convert('LA')    # 'LA' set image to greyscale\n    width, height = img.size\n    print(\"-\" * 100)\n    message = f\"Image Size = {width} x {height} image = {filePath}\"\n    print(message)\n    croppedIm = img\n    if width == 640 and height == 480:\n        return img  # Image the correct size, so let through\n    if width == 640 and height == 490:\n        croppedIm = img.crop((0, 0, 640, 480))\n    elif width == 720 and height == 480:\n        croppedIm = img.crop((40, 0, 680, 480))\n    else:\n        try:\n            raise Exception(\"Unexpected \" + message)\n        except Exception as inst:\n            print(inst)          # __str__ allows args to be printed directly\n            raise\n\n    width, height = croppedIm.size\n    print(f\"Cropped Image Size = {width} x {height} image = {filePath}\")\n    print(\"-\" * 100) \n    grayIm = croppedIm.convert(\"L\")   \n    return grayIm.save(filePath)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 467, "user_id": 12582501, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSpMLyGMNdE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcODK6hCn2NacAKTYG_yDPTlUFzVQ/photo.jpg?sz=128", "display_name": "roy cha", "link": "https://stackoverflow.com/users/12582501/roy-cha"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315607, "creation_date": 1577315607, "answer_id": 59482463, "question_id": 59482419, "link": "https://stackoverflow.com/questions/59482419/why-doesnt-my-python-program-click-or-move-the-mouse/59482463#59482463", "title": "Why doesn&#39;t my python program click or move the mouse?", "body": "<p>You are using <code>x1</code> and <code>y1</code> without defining it in your code.</p>\n\n<p>If you wanted to use <code>x</code> and <code>y</code> if you just defined it in the <code>for</code> clause,</p>\n\n<p>You should use <code>x</code>, <code>y</code> instead of <code>x1</code> and <code>y1</code>.</p>\n\n<pre><code>import numpy as np\nimport pyautogui\nimport cv2\nimport time\nimport sys\nfrom PIL import ImageGrab\nimport directkeys\nimport pyscreenshot\n\ncords = [0,1800, 160,1040]\nmousepos = pyautogui.position()\nprint(mousepos)\ngreen = (106,199,0)\nlow_red = np.array([161,155,84])\nhigh_red = np.array([179,255,255])\nscreen = ImageGrab.grab(bbox=cords)\nscreenrgb = screen.convert('RGB')\n\nwhile True:\n    for y in range(screenrgb.height):\n        for x in range(screenrgb.width):\n            r, g , b = screenrgb.getpixel(x,y)\n            if (r,g,b) == green:\n                pyautogui.click(screenrgb.getpixel(x,y))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12597647, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDFKQbWxMZH4QS3Bt5brGz4UKWD4cRs3Ob4ghaP7Q=k-s128", "display_name": "Yung Stefel", "link": "https://stackoverflow.com/users/12597647/yung-stefel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577315607, "creation_date": 1577314889, "last_edit_date": 1577315152, "question_id": 59482419, "link": "https://stackoverflow.com/questions/59482419/why-doesnt-my-python-program-click-or-move-the-mouse", "title": "Why doesn&#39;t my python program click or move the mouse?", "body": "<pre><code>import numpy as np\nimport pyautogui\nimport cv2\nimport time\nimport sys\nfrom PIL import ImageGrab\nimport directkeys\nimport pyscreenshot\n\ncords = [0,1800, 160,1040]\nmousepos = pyautogui.position()\nprint(mousepos)\ngreen = (106,199,0)\nlow_red = np.array([161,155,84])\nhigh_red = np.array([179,255,255])\nscreen = ImageGrab.grab(bbox=cords)\nscreenrgb = screen.convert('RGB')\n\nwhile True:\n    for y in range(screenrgb.height):\n        for x in range(screenrgb.width):\n            r, g , b = screenrgb.getpixel(x1,y2)\n            if (r,g,b) == green:\n                pyautogui.click(screenrgb.getpixel(x1,y2))\n</code></pre>\n\n<p>This is my code, but I fail to see why the program doesn't click or move the mouse to the desired position</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "edited": false, "score": 0, "creation_date": 1577314704, "post_id": 59482399, "comment_id": 105141209, "body": "Take a look at the <code>re</code> module."}, {"owner": {"reputation": 2423, "user_id": 6007566, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2dc2e86664941a748f0dab92216d67c6?s=128&d=identicon&r=PG&f=1", "display_name": "Boendal", "link": "https://stackoverflow.com/users/6007566/boendal"}, "edited": false, "score": 0, "creation_date": 1577314931, "post_id": 59482399, "comment_id": 105141234, "body": "we are not here to solve your problems. Try for yourself and if you are stuck you can ask for help. Or use the search function, I&#39;m sure there are a few similar problems. Keyword: Regex"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1577314958, "post_id": 59482399, "comment_id": 105141240, "body": "You could maaaybe do it with regex, but if you&#39;re talking about structured text like HTML or XML you&#39;ll want a legit parser"}], "answers": [{"tags": [], "owner": {"reputation": 2423, "user_id": 6007566, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2dc2e86664941a748f0dab92216d67c6?s=128&d=identicon&r=PG&f=1", "display_name": "Boendal", "link": "https://stackoverflow.com/users/6007566/boendal"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315876, "creation_date": 1577315876, "answer_id": 59482491, "question_id": 59482399, "link": "https://stackoverflow.com/questions/59482399/python-search-for-string-occurrences-included-in-and/59482491#59482491", "title": "Python, search for string occurrences included in &lt; and &gt;", "body": "<p>You can do it with regex like this: </p>\n\n<pre><code>import re\n\nregex = r\"&lt;([^&gt;]*)&gt;\"\n\ntest_list = [\"&lt;hi how are you&gt; I think &lt;not anymore&gt; whatever &lt;amazing hi&gt;\", \"second &lt;first&gt; &lt;third&gt;\"]\n\nfor test_str in test_list:\n    matches = re.finditer(regex, test_str, re.MULTILINE)\n\n    for matchNum, match in enumerate(matches, start=1):\n\n        print(\"Match {matchNum} was found at {start}-{end}: {match}\".format(matchNum=matchNum, start=match.start(),\n                                                                        end=match.end(), match=match.group()))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Match 1 was found at 0-16: &lt;hi how are you&gt;\nMatch 2 was found at 25-38: &lt;not anymore&gt;\nMatch 3 was found at 48-60: &lt;amazing hi&gt;\nMatch 1 was found at 7-14: &lt;first&gt;\nMatch 2 was found at 15-22: &lt;third&gt;\n</code></pre>\n\n<p>if you want to remove \"&lt;\" and \">\" you can do a string replace. </p>\n\n<p>but yeah if you have structured text like HTML or XML take a legit parser.</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 12542220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebf06987adbdb969f25e84ef189980f?s=128&d=identicon&r=PG&f=1", "display_name": "erik", "link": "https://stackoverflow.com/users/12542220/erik"}, "is_accepted": false, "score": 3, "last_activity_date": 1577316065, "creation_date": 1577316065, "answer_id": 59482511, "question_id": 59482399, "link": "https://stackoverflow.com/questions/59482399/python-search-for-string-occurrences-included-in-and/59482511#59482511", "title": "Python, search for string occurrences included in &lt; and &gt;", "body": "<p>Using <code>re.findall</code>:</p>\n\n<pre><code>import re\nmatches = re.findall(r\"&lt;(.*?)&gt;\", s)\n</code></pre>\n\n<p>I find <a href=\"http://regexr.com/4racs\" rel=\"nofollow noreferrer\">RegExr</a> to be a great site for tinkering with regex.</p>\n"}, {"tags": [], "owner": {"reputation": 3415, "user_id": 5287638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AzeH8.png?s=128&g=1", "display_name": "Jack Taylor", "link": "https://stackoverflow.com/users/5287638/jack-taylor"}, "is_accepted": false, "score": 2, "last_activity_date": 1577448432, "last_edit_date": 1577448432, "creation_date": 1577317530, "answer_id": 59482622, "question_id": 59482399, "link": "https://stackoverflow.com/questions/59482399/python-search-for-string-occurrences-included-in-and/59482622#59482622", "title": "Python, search for string occurrences included in &lt; and &gt;", "body": "<p>This should do what you are looking for.</p>\n\n<pre><code>import re\n\nstrings = [\"x&lt;first&gt;x&lt;second&gt;x\", \"x&lt;third&gt;x\"]\nresult = [substring for substring in re.findall(r\"&lt;.*?&gt;\", string) for string in strings]\nprint(result)\n</code></pre>\n\n<p>Here, <a href=\"https://docs.python.org/3.8/library/re.html#re.findall\" rel=\"nofollow noreferrer\">re.findall</a> finds all the matches in the substrings for the regular expression <code>&lt;.*?&gt;</code>. A <a href=\"https://realpython.com/list-comprehension-python/\" rel=\"nofollow noreferrer\">list comprehension</a> is used to loop over all the strings in the list, and all the matches in the strings.</p>\n\n<p>By the way, why do you need to match angle brackets like this? If it's to parse HTML or XML, you would be better off using a dedicated parser, as writing your own regular expressions is error-prone, and regular expressions alone cannot deal with arbitrarily nested elements.</p>\n"}], "owner": {"reputation": 2352, "user_id": 8881495, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D8qrxYu9G-E/AAAAAAAAAAI/AAAAAAAAABs/KWxB0w0phBY/photo.jpg?sz=128", "display_name": "Fifi", "link": "https://stackoverflow.com/users/8881495/fifi"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1577367511, "answer_count": 3, "score": -5, "last_activity_date": 1577448432, "creation_date": 1577314588, "last_edit_date": 1577318494, "question_id": 59482399, "link": "https://stackoverflow.com/questions/59482399/python-search-for-string-occurrences-included-in-and", "closed_reason": "Needs details or clarity", "title": "Python, search for string occurrences included in &lt; and &gt;", "body": "<p>Consider a list of string. I want to find all the substring starting with &lt; and ending with >.</p>\n\n<p>How to do this?</p>\n\n<p>I already tryed to transform a regex expression from this question : <a href=\"https://stackoverflow.com/questions/4894069/regular-expression-to-return-text-between-parenthesis\">Regular expression to return text between parenthesis</a></p>\n\n<p>But since I'm not familiar with regex expressions, none of my trials was successful.</p>\n\n<p>Note 1: I'm not focused on Regex, any working solution is welcome.</p>\n\n<p>Note 2: I'm not parsing HTML or any markup language</p>\n"}, {"tags": ["python", "moviepy"], "answers": [{"tags": [], "owner": {"reputation": 400, "user_id": 6313690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fdf1a57f68bb4ab30cf59a3f44ec9ad?s=128&d=identicon&r=PG&f=1", "display_name": "everfight", "link": "https://stackoverflow.com/users/6313690/everfight"}, "is_accepted": true, "score": 1, "last_activity_date": 1577328728, "creation_date": 1577328728, "answer_id": 59483394, "question_id": 59482397, "link": "https://stackoverflow.com/questions/59482397/float-object-cannot-be-interpreted-as-an-integer-moviepy-error/59483394#59483394", "title": "&quot;&#39;float&#39; object cannot be interpreted as an integer&quot; moviepy error", "body": "<p>It was a bug, but it was fixed in the latest version. You can see <a href=\"https://github.com/Zulko/moviepy/issues/376\" rel=\"nofollow noreferrer\">TypeError: 'float' object cannot be interpreted as an integer</a> in details.</p>\n\n<p>you can get the latest version of moviepy by running</p>\n\n<pre><code>pip3 install moviepy --upgrade\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12597613, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BAe2iBsxphg/AAAAAAAAAAI/AAAAAAAAAAg/uSIPyYlS9EQ/photo.jpg?sz=128", "display_name": "Lucas Bezerra", "link": "https://stackoverflow.com/users/12597613/lucas-bezerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 59483394, "answer_count": 1, "score": 1, "last_activity_date": 1577328728, "creation_date": 1577314544, "question_id": 59482397, "link": "https://stackoverflow.com/questions/59482397/float-object-cannot-be-interpreted-as-an-integer-moviepy-error", "title": "&quot;&#39;float&#39; object cannot be interpreted as an integer&quot; moviepy error", "body": "<p>I am using the <strong>MoviePy</strong> library to automatically concatenate videos there are in an folder. But when I run this code:</p>\n\n<pre><code>import os\nfrom moviepy.editor import *\nclips = ['clips/clip-1.mp4', 'clips/clip-2.mp4']\nvideo = concatenate_videoclips(clips, method='compose')\n</code></pre>\n\n<p>I get this message in my terminal</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"c:/video machine/test.py\", line 7, in &lt;module&gt;\n    clips.append(VideoFileClip('clips/' + filename))\n  File \"C:\\Users\\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcg45UBcFon37-32\\lib\\site-packages\\moviepy\\video\\io\\VideoFileClip.py\", line 82, in __init__\n    nbytes = audio_nbytes)\n  File \"C:\\Users\\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcg45UBcFon37-32\\lib\\site-packages\\moviepy\\audio\\io\\AudioFileClip.py\", line 63, in __init__\n    buffersize=buffersize)\n  File \"C:\\Users\\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcg45UBcFon37-32\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 70, in __init__\n    self.buffer_around(1)\n  File \"C:\\Users\\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcg45UBcFon37-32\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 234, in buffer_around\n    self.buffer =  self.read_chunk(self.buffersize)\n  File \"C:\\Users\\LT1Kqob5UDEML61gCyjnAcfMXgkdP3wGcg45UBcFon37-32\\lib\\site-packages\\moviepy\\audio\\io\\readers.py\", line 123, in read_chunk\n    self.nchannels))\nTypeError: 'float' object cannot be interpreted as an integer\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "edited": false, "score": 0, "creation_date": 1577314752, "post_id": 59482388, "comment_id": 105141217, "body": "What platform? Try using pygame/tkinter, will probably be faster."}, {"owner": {"reputation": 6451, "user_id": 1827457, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36a4fa28b2cfce2c219592f7880e4008?s=128&d=identicon&r=PG", "display_name": "LtWorf", "link": "https://stackoverflow.com/users/1827457/ltworf"}, "edited": false, "score": 0, "creation_date": 1577315396, "post_id": 59482388, "comment_id": 105141281, "body": "Can anyone tag this thing properly?"}], "answers": [{"comments": [{"owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1577314797, "post_id": 59482410, "comment_id": 105141220, "body": "If the user presses and releases the key combination too quickly, this will miss it."}], "tags": [], "owner": {"reputation": 35789, "user_id": 1219295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BmJq2.png?s=128&g=1", "display_name": "Roland Smith", "link": "https://stackoverflow.com/users/1219295/roland-smith"}, "is_accepted": false, "score": -1, "last_activity_date": 1577314755, "creation_date": 1577314755, "answer_id": 59482410, "question_id": 59482388, "link": "https://stackoverflow.com/questions/59482388/listening-to-presskey-takes-a-lot-of-processor-speed/59482410#59482410", "title": "Listening to presskey takes a lot of processor speed", "body": "<p>Your code is spinning in a busy loop.</p>\n\n<p>Add a call to <code>time.sleep(0.1)</code> at the beginning of the while loop.\nThat will check for keypresses approximately 10x per second, and sleep the rest of the time.</p>\n"}, {"comments": [{"owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "reply_to_user": {"reputation": 35, "user_id": 12565353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad0f20603c2329dea1608f10f50bbc4?s=128&d=identicon&r=PG&f=1", "display_name": "kostinalex", "link": "https://stackoverflow.com/users/12565353/kostinalex"}, "edited": false, "score": 0, "creation_date": 1577325439, "post_id": 59482413, "comment_id": 105142412, "body": "@kostinalex If this solved your problem, please mark it as accepted with the check mark button."}], "tags": [], "owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1577314781, "creation_date": 1577314781, "answer_id": 59482413, "question_id": 59482388, "link": "https://stackoverflow.com/questions/59482388/listening-to-presskey-takes-a-lot-of-processor-speed/59482413#59482413", "title": "Listening to presskey takes a lot of processor speed", "body": "<p><code>is_pressed</code> always returns <code>True</code> or <code>False</code> immediately. It doesn't wait for keys to be pressed or released. Thus, your code is constantly in a loop, checking as often as it can whether those keys are pressed. Instead of <code>is_pressed</code>, use <code>wait</code>:</p>\n\n<pre><code>import keyboard\nkeyboard.wait('ctrl+shift+m')\nprint('You Pressed ctrl+shift+m')\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 12565353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad0f20603c2329dea1608f10f50bbc4?s=128&d=identicon&r=PG&f=1", "display_name": "kostinalex", "link": "https://stackoverflow.com/users/12565353/kostinalex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1577315288, "creation_date": 1577314411, "last_edit_date": 1577315288, "question_id": 59482388, "link": "https://stackoverflow.com/questions/59482388/listening-to-presskey-takes-a-lot-of-processor-speed", "title": "Listening to presskey takes a lot of processor speed", "body": "<p>While I'm using the code below, python takes 30% of the processor speed.\nIs there a way to avoid that?</p>\n\n<pre><code>import keyboard  \nwhile True:  \n    try:  \n        if keyboard.is_pressed('ctrl+shift+m'):  \n            print('You Pressed ctrl+shift+m')\n            break  \n    except:\n        break \n</code></pre>\n"}, {"tags": ["python", "request", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 12416164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c97b434a57370aecc0634769f0363cc?s=128&d=identicon&r=PG&f=1", "display_name": "Andrex", "link": "https://stackoverflow.com/users/12416164/andrex"}, "edited": false, "score": 0, "creation_date": 1577370635, "post_id": 59483564, "comment_id": 105153820, "body": "Thank you for your answer!!, The problem was in the API, because when I was sending the file as bytes, requests tried to guess the file name (with its extension),  in bytes mode the name was set as &quot;file&quot;, and the API only supports specific extensions then it fell. I would have liked to receive another type of error, I dont know 415?. Thank you very much"}, {"owner": {"reputation": 3506, "user_id": 8164958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ae95eb70ca30f93806b7ec071b13db?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/8164958/seb"}, "reply_to_user": {"reputation": 190, "user_id": 12416164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c97b434a57370aecc0634769f0363cc?s=128&d=identicon&r=PG&f=1", "display_name": "Andrex", "link": "https://stackoverflow.com/users/12416164/andrex"}, "edited": false, "score": 0, "creation_date": 1577372762, "post_id": 59483564, "comment_id": 105154559, "body": "Ah that makes sense. Glad you figured it out!"}], "tags": [], "owner": {"reputation": 3506, "user_id": 8164958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ae95eb70ca30f93806b7ec071b13db?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/8164958/seb"}, "is_accepted": false, "score": 1, "last_activity_date": 1577330979, "creation_date": 1577330979, "answer_id": 59483564, "question_id": 59482360, "link": "https://stackoverflow.com/questions/59482360/file-like-data-sent-using-python-requests/59483564#59483564", "title": "File-like data sent using python requests", "body": "<p>Which version of Requests are you using? In the current master branch at least there should be no difference. If you track down what happens to the <code>files</code> list in <code>requests.request</code>, you'll find that <a href=\"https://github.com/psf/requests/blob/eedd67462819f8dbf8c1c32e77f9070606605231/requests/models.py#L156\" rel=\"nofollow noreferrer\">arguments of type <code>str</code>, <code>bytes</code> and <code>bytearray</code> get passed through as data</a>, whereas for file-like objects, the <code>.read()</code> method is executed and the result of that is used instead.</p>\n\n<p>So the following should produce the same request as your code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    files = [(\"file\", open(path_to_file, 'rb').read()] # Get file contents\n    headers = {\"Authorization\": \"bearer \" + CLIENT.token}\n    response = requests.request(\n        \"POST\",\n        SETTINGS.URL_FILE_STORAGE,\n        headers=headers,\n        files=files\n        # files= [('file',catalogo)],\n    )\n</code></pre>\n\n<p>I would be fairly surprised if the API responds differently to these two versions.</p>\n\n<p>But if it does, and you have data of type <code>bytes</code> that you need to turn into a file-like object, you can simply use <code>io</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import io\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>    files = [(\"file\", io.BytesIO(data)]\n    headers = {\"Authorization\": \"bearer \" + CLIENT.token}\n    response = requests.request(\n        \"POST\",\n        SETTINGS.URL_FILE_STORAGE,\n        headers=headers,\n        files=files\n        # files= [('file',catalogo)],\n    )\n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 12416164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c97b434a57370aecc0634769f0363cc?s=128&d=identicon&r=PG&f=1", "display_name": "Andrex", "link": "https://stackoverflow.com/users/12416164/andrex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577330979, "creation_date": 1577313947, "question_id": 59482360, "link": "https://stackoverflow.com/questions/59482360/file-like-data-sent-using-python-requests", "title": "File-like data sent using python requests", "body": "<p>I'm sending files to an API using python requests</p>\n\n<pre><code>    files = [(\"file\", open(path_to_file, 'rb')]\n    headers = {\"Authorization\": \"bearer \" + CLIENT.token}\n    response = requests.request(\n        \"POST\",\n        SETTINGS.URL_FILE_STORAGE,\n        headers=headers,\n        files=files\n        # files= [('file',catalogo)],\n    )\n</code></pre>\n\n<p>which throws a 202. But nevertheless, if I send the file as bytes, that is <code>type(file) = Bytes</code> The API throws a 500. What's the connection between send file data as <code>open(path_file, 'rb')</code> vs send data as Bytes?.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "is_accepted": true, "score": 2, "last_activity_date": 1577313897, "creation_date": 1577313897, "answer_id": 59482356, "question_id": 59482346, "link": "https://stackoverflow.com/questions/59482346/how-to-make-an-or-statement-in-python-for-user-choices/59482356#59482356", "title": "How to make an OR statement in python for user choices?", "body": "<p>You need to specify the equality test on the other side of the <code>or</code> command too:</p>\n\n<pre><code>if choose == \"A\" or choose == \"a\":\n    print(\"Ascending order: \", Anewlist)\n</code></pre>\n\n<p>Alternatively, make the <code>choose</code> variable uppercase:</p>\n\n<pre><code>if choose.upper() == \"A\":\n    print(\"Ascending order: \", Anewlist)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1589, "user_id": 4870915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8163a9b5d6135e177bec139190d6ca47?s=128&d=identicon&r=PG&f=1", "display_name": "Gelineau", "link": "https://stackoverflow.com/users/4870915/gelineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1577314038, "creation_date": 1577314038, "answer_id": 59482369, "question_id": 59482346, "link": "https://stackoverflow.com/questions/59482346/how-to-make-an-or-statement-in-python-for-user-choices/59482369#59482369", "title": "How to make an OR statement in python for user choices?", "body": "<p>You should use:</p>\n\n<pre><code>if choose == \"A\" or choose == \"a\":\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>if choose in (\"A\", \"a\"):\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 12597598, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAZQh5BXW7gRfwGdf9FwXzDaqL4Dgf4106p_4qvCw=k-s128", "display_name": "Mina F. Kirollos", "link": "https://stackoverflow.com/users/12597598/mina-f-kirollos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "closed_date": 1577314027, "accepted_answer_id": 59482356, "answer_count": 2, "score": -1, "last_activity_date": 1577314038, "creation_date": 1577313776, "question_id": 59482346, "link": "https://stackoverflow.com/questions/59482346/how-to-make-an-or-statement-in-python-for-user-choices", "closed_reason": "Duplicate", "title": "How to make an OR statement in python for user choices?", "body": "<p>why it always prints the ascending only?</p>\n\n<pre><code>if choose==\"A\" or \"a\":\n    print(\"Ascending order: \" ,Anewlist)\nelif choose==\"D\" or \"d\":\n    print(\"Descending order: \" ,Dnewlist)\nelif choose==\"B\" or \"b\":\n    print(\"Ascending order: \" ,Anewlist)\n    print(\"Descending order: \" ,Dnewlist)\nelse:\n    print(\"try again\")\n\n</code></pre>\n"}, {"tags": ["python", "generative-adversarial-network"], "comments": [{"owner": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "edited": false, "score": 0, "creation_date": 1577345180, "post_id": 59482342, "comment_id": 105145724, "body": "Did my answer solve our problem?"}], "answers": [{"tags": [], "owner": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "is_accepted": false, "score": 2, "last_activity_date": 1577316056, "creation_date": 1577316056, "answer_id": 59482509, "question_id": 59482342, "link": "https://stackoverflow.com/questions/59482342/how-to-export-an-ipython-lib-display-audio-file-as-a-mp3-or-wav-file/59482509#59482509", "title": "How to export an &quot;IPython.lib.display.Audio&quot; file as a mp3 or wav file?", "body": "<p>The wave file content is stored in the <code>data</code> field, you may write the content to a file like this:</p>\n\n<pre><code>with open('/tmp/test.wav', 'wb') as f:\n    f.write(audio.data)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11172263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7812c687e9485b7bb842c25aeddf1380?s=128&d=identicon&r=PG&f=1", "display_name": "Ginger19", "link": "https://stackoverflow.com/users/11172263/ginger19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1577316056, "creation_date": 1577313719, "question_id": 59482342, "link": "https://stackoverflow.com/questions/59482342/how-to-export-an-ipython-lib-display-audio-file-as-a-mp3-or-wav-file", "title": "How to export an &quot;IPython.lib.display.Audio&quot; file as a mp3 or wav file?", "body": "<p>I have generated a music file for the first time. The music file type is \"IPython.lib.display.Audio\". I wanted to export it from colab to my local drive.I couldn't find any solution from google. Please help. </p>\n"}, {"tags": ["python", "windows", "bash"], "comments": [{"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1577313771, "post_id": 59482340, "comment_id": 105141057, "body": "Have you tried using <code>sudo python3 i_am_back.py</code>"}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 0, "creation_date": 1577313950, "post_id": 59482340, "comment_id": 105141091, "body": "One may wonder why are you running Python from under mingw and not a native Windows Python version."}, {"owner": {"reputation": 1, "user_id": 12579367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QNa7SHDGy_o/AAAAAAAAAAI/AAAAAAAAGlY/NC2oUC0nEAo/photo.jpg?sz=128", "display_name": "Vikash Gautam", "link": "https://stackoverflow.com/users/12579367/vikash-gautam"}, "edited": false, "score": 0, "creation_date": 1577340399, "post_id": 59482340, "comment_id": 105144501, "body": "Sorry bro my bad it didn&#39;t worked replied bash: sudo: command not found"}], "owner": {"reputation": 1, "user_id": 12579367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QNa7SHDGy_o/AAAAAAAAAAI/AAAAAAAAGlY/NC2oUC0nEAo/photo.jpg?sz=128", "display_name": "Vikash Gautam", "link": "https://stackoverflow.com/users/12579367/vikash-gautam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577313722, "creation_date": 1577313670, "last_edit_date": 1577313722, "question_id": 59482340, "link": "https://stackoverflow.com/questions/59482340/running-python-program-with-bash-in-windows-says-permission-denied", "title": "Running python program with bash in windows says permission denied", "body": "<p>Respected people \nI installed python 3.8 vscode and bash in windows 10 then I tried to run a program from bash but it didn't worked replied permission denied</p>\n\n<p>But then I run it in windows cmd and it get executed\nI am trying to solve this problem for weeks and didn't get anywhere \nI tried : checked pythonpath to the python 3 folder in enviornment variables; reinstall git, python; checked ownership of the folder its okay</p>\n\n<p>But really I can't get anywhere\nIt will be a very big help from you if you take me out of this situation thankyou from heart\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\ud83d\ude4f\ud83c\udffb\n<img src=\"https://i.stack.imgur.com/Rhnaw.jpg\" alt=\"this is the image of error in getting every single time\"></p>\n"}, {"tags": ["python", "python-3.x", "image-processing"], "comments": [{"owner": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 2, "creation_date": 1577313689, "post_id": 59482323, "comment_id": 105141041, "body": "Have you made an attempt?"}, {"owner": {"reputation": 11, "user_id": 12183714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-08mBkp6Xy0k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relctysvOjnBbCnHAKUv09feeN68w/photo.jpg?sz=128", "display_name": "anaconda code", "link": "https://stackoverflow.com/users/12183714/anaconda-code"}, "reply_to_user": {"reputation": 7725, "user_id": 4889267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b86b65464f4070d38bbf2abdbd4f1610?s=128&d=identicon&r=PG&f=1", "display_name": "AK47", "link": "https://stackoverflow.com/users/4889267/ak47"}, "edited": false, "score": 0, "creation_date": 1577354951, "post_id": 59482323, "comment_id": 105148607, "body": "img = np.array(image)  threshold = np.histogram(img, 3)[1][1]  img1 = img &lt; threshold vert_lines = sum(np.mean(img1, axis=0) &gt; 0.5)"}], "owner": {"reputation": 11, "user_id": 12183714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-08mBkp6Xy0k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3relctysvOjnBbCnHAKUv09feeN68w/photo.jpg?sz=128", "display_name": "anaconda code", "link": "https://stackoverflow.com/users/12183714/anaconda-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577314197, "creation_date": 1577313463, "last_edit_date": 1577314197, "question_id": 59482323, "link": "https://stackoverflow.com/questions/59482323/count-the-number-of-row-line-in-a-tabular-image-using-python", "title": "count the number of row line in a tabular image using python", "body": "<p>how can i count the number of row line in the image. I try some method but i can't find out the real number of the line</p>\n\n<p><img src=\"https://i.stack.imgur.com/Us7Ts.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "django", "django-views"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1577313312, "post_id": 59482303, "comment_id": 105140993, "body": "A 301 means non-permanent. Since if you have logged in, then it will not redirect. A 302 means permanent. You probably do not want that, since a browser might cache that redirection, and thus in the future automatically redirect itself."}, {"owner": {"reputation": 243, "user_id": 11611632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496b4ae2ba120f6295beb3cf135949c1?s=128&d=identicon&r=PG&f=1", "display_name": "binny", "link": "https://stackoverflow.com/users/11611632/binny"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1577314655, "post_id": 59482303, "comment_id": 105141201, "body": "What I&#39;m finding confusing is that I have an identical test, but for a different <code>@login_required</code> view where the redirect chain just shows a [302].  For this precise test shown above,  the redirect chain shows [302, 301]. That&#39;s why I&#39;m confused why there is a discrepancy.    ``` [(&#39;/accounts/sign_in?next=/accounts/profile_edit/1&#39;, 302), (&#39;/accounts/sign_in/?next=%2Faccounts%2Fprofile_edit%2F1&#39;, 301)] ```"}], "answers": [{"tags": [], "owner": {"reputation": 743, "user_id": 4028977, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Qu3hd.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/4028977/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1585604420, "creation_date": 1585604420, "answer_id": 60939967, "question_id": 59482303, "link": "https://stackoverflow.com/questions/59482303/assertionerror-301-200-couldnt-retrieve-redirection-page/60939967#60939967", "title": "AssertionError: 301 != 200 : Couldn&#39;t retrieve redirection page", "body": "<p>While the 302 / 301 reasoning is explained in the notes, the reason the test is failing in the first place may be because your LOGIN_URL path is missing the trailing slash:</p>\n\n<p><code>LOGIN_URL = '/account/login/'</code></p>\n\n<p>Without a trailing slash, django will attempt to redirect due to the default setting of <a href=\"https://docs.djangoproject.com/en/3.0/ref/settings/#append-slash\" rel=\"nofollow noreferrer\">APPEND_SLASH</a>.</p>\n\n<p>This will result in the test failing for the reason described.</p>\n"}, {"tags": [], "owner": {"reputation": 694, "user_id": 1388643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DzZ4M.png?s=128&g=1", "display_name": "KiwiMartin", "link": "https://stackoverflow.com/users/1388643/kiwimartin"}, "is_accepted": false, "score": 0, "last_activity_date": 1611200394, "creation_date": 1611200394, "answer_id": 65820856, "question_id": 59482303, "link": "https://stackoverflow.com/questions/59482303/assertionerror-301-200-couldnt-retrieve-redirection-page/65820856#65820856", "title": "AssertionError: 301 != 200 : Couldn&#39;t retrieve redirection page", "body": "<p>The code for the <code>assertRedirects</code> method shows that the error message:</p>\n<p><code>AssertionError: 301 != 200 : Couldn't retrieve redirection page '/accounts/sign_in'</code></p>\n<p>is shown <strong>after</strong> the assertion method tries to follow the initial redirect to the login page. It expects the response status code to that second call to be whatever the <code>target_status_code</code> method parameter is set to (it defaults to <code>200</code>).</p>\n<p>You can stop the assertion error by either setting the <code>target_status_code</code> method parameter to <code>301</code>, or by setting the parameter <code>fetch_redirect_response=False</code> which will stop the attempt to follow the initial redirect.</p>\n"}], "owner": {"reputation": 243, "user_id": 11611632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496b4ae2ba120f6295beb3cf135949c1?s=128&d=identicon&r=PG&f=1", "display_name": "binny", "link": "https://stackoverflow.com/users/11611632/binny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1611200394, "creation_date": 1577313225, "question_id": 59482303, "link": "https://stackoverflow.com/questions/59482303/assertionerror-301-200-couldnt-retrieve-redirection-page", "title": "AssertionError: 301 != 200 : Couldn&#39;t retrieve redirection page", "body": "<p>When trying to access a page that requires a User to be logged in, a user should be redirected to a login page to enter their user credentials. However, when the test is ran on that case, I'm getting the <em>AssertionError: 301 != 200 : Couldn't retrieve redirection page '/accounts/sign_in'</em>.</p>\n\n<p>I'm not clear on what is going on for this happen? Why am I getting a 301 and not a 302?</p>\n\n<pre><code>class LoginRedirectRequest(TestCase):\n    '''Verify that a user is redirected to\n    a login page if they are not logged in.'''\n\n    @classmethod\n    def setUpTestData(cls):\n        User.objects.create_user(\n            username=\"testuser\",\n            password='*Dh&amp;M3h36v*$J*'\n        )\n\n    def test_redirect_to_login_from_edit_profile_view(self):\n        response = self.client.get(\n            reverse(\"accounts:edit_profile\", kwargs={'user_id': 1})\n        )\n        self.assertRedirects(response, '/accounts/sign_in/?next=/accounts/profile_edit/1/')\n</code></pre>\n\n<pre><code>@login_required(login_url=\"/accounts/sign_in\")\ndef edit_profile(request, user_id):\n    user = request.user\n    user_data = model_to_dict(\n        user,\n        fields=['username', 'first_name', 'last_name', 'email', 'verify_email']\n    )\n    current_profile = Profile.objects.get(user=user)\n    profile_data = model_to_dict(\n        current_profile, fields=['birth', 'bio', 'avatar']\n    )\n    if request.method == \"POST\":\n        user_form = EditUserForm(\n            request.POST, initial=user_data, instance=user\n        )\n        profile_form = ProfileForm(\n            request.POST, request.FILES,\n            initial=profile_data, instance=current_profile\n        )\n        if profile_form.is_valid() and user_form.is_valid():\n            profile_form.save()\n            user_form.save()\n            if any(data.has_changed() for data in [profile_form, user_form]):\n                messages.success(request, \"Your profile is updated!\")\n            else:\n                messages.success(request, \"No profile changes applied...\")\n            return HttpResponseRedirect(\n                reverse(\"accounts:profile\", kwargs={'user_id': user_id})\n            )\n    else:\n        profile_form = ProfileForm(initial=profile_data)\n        user_form = EditUserForm(initial=user_data)\n    return render(\n        request, 'accounts/edit_profile.html',\n        {'profile_form': profile_form,\n            'user_form': user_form,\n            'username': user}\n    )\n</code></pre>\n"}, {"tags": ["python", "postgresql", "discord.py", "asyncpg"], "comments": [{"owner": {"reputation": 280, "user_id": 10828948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HRBr.png?s=128&g=1", "display_name": "Generic Nerd", "link": "https://stackoverflow.com/users/10828948/generic-nerd"}, "edited": false, "score": 0, "creation_date": 1578682025, "post_id": 59482293, "comment_id": 105531480, "body": "voice.command isn&#39;t an actual function within discord.py.."}, {"owner": {"reputation": 1, "user_id": 9529194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whyFL.png?s=128&g=1", "display_name": "Sam_Sanai", "link": "https://stackoverflow.com/users/9529194/sam-sanai"}, "reply_to_user": {"reputation": 280, "user_id": 10828948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HRBr.png?s=128&g=1", "display_name": "Generic Nerd", "link": "https://stackoverflow.com/users/10828948/generic-nerd"}, "edited": false, "score": 0, "creation_date": 1582900821, "post_id": 59482293, "comment_id": 106946957, "body": "That&#39;s a group command, which wasn&#39;t the issue. After doing more research and lots of testing I figured out what the issue was I had too many connection open and asyncpg only allows 10 connections to be used at once (on default if I&#39;m not mistaken)."}, {"owner": {"reputation": 280, "user_id": 10828948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HRBr.png?s=128&g=1", "display_name": "Generic Nerd", "link": "https://stackoverflow.com/users/10828948/generic-nerd"}, "edited": false, "score": 0, "creation_date": 1582912536, "post_id": 59482293, "comment_id": 106952652, "body": "Ah alright, fair enough to ya"}], "owner": {"reputation": 1, "user_id": 9529194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/whyFL.png?s=128&g=1", "display_name": "Sam_Sanai", "link": "https://stackoverflow.com/users/9529194/sam-sanai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1059, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577437544, "creation_date": 1577313120, "last_edit_date": 1577437544, "question_id": 59482293, "link": "https://stackoverflow.com/questions/59482293/asyncpg-postgresql-python-discord-py", "title": "Asyncpg/PostgreSQL (python/discord.py)", "body": "<p>I'm having an issue where my discord bot stops replying to commands that use the database (postgresql and asyncpg) after a load of traffic.</p>\n\n<p>I've checked the db and it doesn't go offline or anything and I don't get any errors what so ever.</p>\n\n<p><code>help</code> works fine as it doesn't use the db</p>\n\n<p>How I create/use the connection : </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>#How I create the connection\n\nasync def create_connection_pool():\n    bot.pg_conn = await asyncpg.create_pool(**credentials)\n@bot.event\nasync def on_ready():\n    await create_connection_pool()\n\n#How I use it\n\n@voice.command()\n    async def name(self, ctx,*, name):\n        con = await self.bot.pg_conn.acquire()\n        id = ctx.author.id\n        voice = await self.bot.pg_conn.fetchrow(\"SELECT * FROM voice_channels WHERE user_id = $1\", id)\n        if voice is None:\n            await ctx.channel.send(f\"{ctx.author.mention} You don't own a channel.\")\n        else:\n            channel = self.bot.get_channel(voice['voice_channel_id'])\n            await channel.edit(name = name)\n            await ctx.channel.send(f'{ctx.author.mention} You have changed the channel name to '+ '{}!'.format(name))\n            voice = await self.bot.pg_conn.fetchrow(\"SELECT * FROM user_settings WHERE user_id = $1\", id)\n            if voice is None:\n                async with con.transaction():\n                    await con.execute(\"INSERT INTO user_settings VALUES ($1, $2, $3)\", (id,name,0))\n            else:\n                async with con.transaction():\n                    await con.execute(\"UPDATE user_settings SET channel_name = $1 WHERE user_id = $2\", name, id)\n        await self.bot.pg_conn.release(con)\n</code></pre>\n\n<p>Any thoughts on what I could be doing wrong ?</p>\n\n<p>I've tried using try/except didn't get anything</p>\n\n<p>Added a bunch of debug prints in there, doesn't get past </p>\n\n<p><code>15 | voice = await self.bot.pg\\_conn.fetchrow(\"SELECT \\* FROM voice\\_channels WHERE user\\_id = $1\", id)</code> </p>\n\n<p>and tried adding a timeout to the fetch and that didn't do anything.\nalthough when I do keyboardinterupt it comes out of of the fetch just before shutting down and runs the print.</p>\n\n<p>If someone could help me I'd really appreciate it.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "boolean", "nan"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1577313158, "post_id": 59482280, "comment_id": 105140965, "body": "It is not converting anything. You simply <i>filter</i> your dataframe: you obtain the parts where the dataframe is <code>NaN</code>."}, {"owner": {"reputation": 31, "user_id": 12306408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA0MguT28BOhH3ThEHUP7KTZtmZLkT2oLnUkNEM=k-s128", "display_name": "Midha Tahir", "link": "https://stackoverflow.com/users/12306408/midha-tahir"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1577551975, "post_id": 59482280, "comment_id": 105197590, "body": "No actually I am getting  NaN in all values. [link] (<a href=\"https://drive.google.com/file/d/1l73ih52f8u6kRIfpMju1m7fhLcXl3VsF/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1l73ih52f8u6kRIfpMju1m7fhLcXl3VsF/&hellip;</a>&zwnj;&#8203;)"}], "owner": {"reputation": 31, "user_id": 12306408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA0MguT28BOhH3ThEHUP7KTZtmZLkT2oLnUkNEM=k-s128", "display_name": "Midha Tahir", "link": "https://stackoverflow.com/users/12306408/midha-tahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577486646, "creation_date": 1577313034, "last_edit_date": 1577486646, "question_id": 59482280, "link": "https://stackoverflow.com/questions/59482280/isna-function-in-pandas-dataframe-returns-boolean-value-but-it-is-converting-m", "title": "Isna() function in pandas dataframe returns boolean value but it is converting my dataframe to NaN, why?", "body": "<p>I have created a simple dataframe, and then I applied df.isna() method and it's returning true when values are NaN. But when I do df[df.isna()] it is converting my whole dataframe values to NaN, why is that so?</p>\n"}, {"tags": ["python", "opencv", "image-processing", "color-detection"], "comments": [{"owner": {"reputation": 12209, "user_id": 4926757, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-jsLBa8e0dT0/AAAAAAAAAAI/AAAAAAAAAEc/YqNqYlsSjrU/photo.jpg?sz=128", "display_name": "Rotem", "link": "https://stackoverflow.com/users/4926757/rotem"}, "edited": false, "score": 0, "creation_date": 1577314462, "post_id": 59482239, "comment_id": 105141178, "body": "The are at least three possible issues with the color accuracy of the captured photo: <b>1.</b> The color of light is not sun light (looks greenish, but I could be wrong).  <b>2.</b> The webcam has a poor color calibration. <b>3.</b> The automatic white balance (automatic color balancing) algorithm failed (algorithm is heuristic and tend to fail). In general color fidelity of a photo is problematic, in many cases camera manufactures modify the colors just to look nicer. I tried applying manual white balance: <a href=\"https://i.stack.imgur.com/tZTNi.png\" rel=\"nofollow noreferrer\">Corrected image</a>. Check if it it helps."}, {"owner": {"reputation": 42647, "user_id": 7328782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/treJu.png?s=128&g=1", "display_name": "Cris Luengo", "link": "https://stackoverflow.com/users/7328782/cris-luengo"}, "edited": false, "score": 0, "creation_date": 1577314472, "post_id": 59482239, "comment_id": 105141181, "body": "Colors in the 2nd image are different from colors in the first. Check what RGB values your camera sees for those coins, and threshold based on that."}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 2, "creation_date": 1577316591, "post_id": 59482239, "comment_id": 105141416, "body": "your saturation and intensity thresholds are way too high for any &quot;real&quot; images (you only accept 255 for both). Set the lower saturation and intensity lower!"}, {"owner": {"reputation": 25, "user_id": 10047382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a7f3a21d25bd18429c4d138726df?s=128&d=identicon&r=PG&f=1", "display_name": "Aniruddha789", "link": "https://stackoverflow.com/users/10047382/aniruddha789"}, "edited": false, "score": 0, "creation_date": 1577474859, "post_id": 59482239, "comment_id": 105182863, "body": "I&#39;ve tried capturing the image from a better perspective (from the centre top ), improved lighting conditions. I also tried finding the exact hsv values of the red color and then used a +-10 range for them in thresholding, still no luck!"}], "answers": [{"tags": [], "owner": {"reputation": 1527, "user_id": 5832272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s7clX.png?s=128&g=1", "display_name": "MH304", "link": "https://stackoverflow.com/users/5832272/mh304"}, "is_accepted": false, "score": 0, "last_activity_date": 1577351533, "creation_date": 1577351533, "answer_id": 59486203, "question_id": 59482239, "link": "https://stackoverflow.com/questions/59482239/color-detection-not-efficient-on-webcam-images/59486203#59486203", "title": "Color Detection not efficient on webcam images", "body": "<p>Because of the light changes, hard thresholding won't help you to find the desired circles, you should consider an interval for the target color. For example find all the pixels that their green value are between 200 and 255 (set these by trial and error) to make sure you always catch the little circels.</p>\n\n<p>Now some other parts of the image too, may survive the thresholding. In this situation you can filter those unwanted parts by shape analysis methods like Hough Circle detector or based on their sizes.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 10047382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a7f3a21d25bd18429c4d138726df?s=128&d=identicon&r=PG&f=1", "display_name": "Aniruddha789", "link": "https://stackoverflow.com/users/10047382/aniruddha789"}, "edited": false, "score": 0, "creation_date": 1592777074, "post_id": 59561334, "comment_id": 110538730, "body": "can you please share the code for the above operations you did?!"}, {"owner": {"reputation": 17173, "user_id": 1435741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7fccb3aaafaa5ee127dc7f55a358147?s=128&d=identicon&r=PG", "display_name": "Renat Gilmanov", "link": "https://stackoverflow.com/users/1435741/renat-gilmanov"}, "reply_to_user": {"reputation": 25, "user_id": 10047382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a7f3a21d25bd18429c4d138726df?s=128&d=identicon&r=PG&f=1", "display_name": "Aniruddha789", "link": "https://stackoverflow.com/users/10047382/aniruddha789"}, "edited": false, "score": 0, "creation_date": 1593278572, "post_id": 59561334, "comment_id": 110726102, "body": "Sorry, no code to share, I&#39;ve used a gui tool to provide somewhat like a PoC. It is color-based segmentation based on delta-E."}], "tags": [], "owner": {"reputation": 17173, "user_id": 1435741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7fccb3aaafaa5ee127dc7f55a358147?s=128&d=identicon&r=PG", "display_name": "Renat Gilmanov", "link": "https://stackoverflow.com/users/1435741/renat-gilmanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1577967880, "last_edit_date": 1577967880, "creation_date": 1577958834, "answer_id": 59561334, "question_id": 59482239, "link": "https://stackoverflow.com/questions/59482239/color-detection-not-efficient-on-webcam-images/59561334#59561334", "title": "Color Detection not efficient on webcam images", "body": "<p>It is definitely worth trying to improve initial conditions (perspective, light, resolution, etc). Current result produced by the webcam is somewhat awful, so instead of spending lots of time fixing that it might be better to use less cheaper hardware. </p>\n\n<p>You can use some fancy methods to improve your image, but still, it is better to have more valuable input. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Vzy1n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vzy1n.png\" alt=\"enter image description here\"></a>\nAnyway, here is the useful part. Your markers are not unique, so any attempt to use color will require additional shape analysis. Here are some results using color segmentation:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oVf7x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oVf7x.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see some areas have pretty similar colors.\nI use a bit more advanced color similarity function to handle complex cases. Basically, I specified red and green with some thresholds. <a href=\"https://en.wikipedia.org/wiki/Color_difference\" rel=\"nofollow noreferrer\">Delta E</a> will be the right starting point. Let's see the actual shapes:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Gqcce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gqcce.png\" alt=\"enter image description here\"></a></p>\n\n<p>With those results you can do a simple shape analysis or just compare areas to find your markers. I'd prefer to have a bit more unique colors and better initial conditions.</p>\n\n<p>Anyway, any real-life scene will require you to be really careful working with colors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PMTvh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMTvh.png\" alt=\"enter image description here\"></a></p>\n\n<p>(<a href=\"https://www.youtube.com/watch?v=QG9s2yzeMQU\" rel=\"nofollow noreferrer\">see in action</a>)</p>\n\n<p>Similar problem:</p>\n\n<p><a href=\"https://stackoverflow.com/a/58520284/1435741\">Issue of the recognize people by their clothes color with not severe illumination environments</a> </p>\n"}], "owner": {"reputation": 25, "user_id": 10047382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8940a7f3a21d25bd18429c4d138726df?s=128&d=identicon&r=PG&f=1", "display_name": "Aniruddha789", "link": "https://stackoverflow.com/users/10047382/aniruddha789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 0, "accepted_answer_id": 59561334, "answer_count": 2, "score": 1, "last_activity_date": 1577967880, "creation_date": 1577312508, "question_id": 59482239, "link": "https://stackoverflow.com/questions/59482239/color-detection-not-efficient-on-webcam-images", "title": "Color Detection not efficient on webcam images", "body": "<p>I am working on a project where I'm trying to detect green and red circles on a specific surface (arena). When I try to do so with the digital  version of that arena (PNG image), I can successfully detect both the colored circles. </p>\n\n<p>Here's the digital image of the surface:\n<a href=\"https://i.stack.imgur.com/OGitl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGitl.png\" alt=\"Arena Image Original\"></a></p>\n\n<p>Now, I printed this arena on a flex(without those two colored circles ), and manually placed coloured circular coins on it. But after capturing its image through a 1.3 MP webcam, the color detection didn't work and gave false results.</p>\n\n<p>Here's the printed arena captured through webcam:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cZPIw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZPIw.png\" alt=\"webcam image of printed arena\"></a></p>\n\n<p>Why aren't the colors being detected? Do I need to do post-processing on webcam image?\nI've tried sharpening the image via cv2.filter2D but it didn't work either.</p>\n\n<p>Here's a snippet for detecting Red circles from my Python code: </p>\n\n<pre><code>ip_image=cv2.imread(\"image.png\")\nkernel = np.array([[-1,-1,-1],[-1,9,-1],[-1,-1,-1]])\nip_image=cv2.filter2D(ip_image,-1,kernel)\n#cv2.imshow(\"Hi\",ip_image)\nhsv=cv2.cvtColor(ip_image,cv2.COLOR_BGR2HSV)\nred_low=np.array([0,255,255])\nred_up=np.array([10,255,255])\nmask0= cv2.inRange(hsv,red_low,red_up)\nred_low=np.array([170,255,255])\nred_up=np.array([180,255,255])\nmask1=cv2.inRange(hsv,red_low,red_up)\nmask_red=mask1+mask0\nr_img= ip_image.copy()\nr_img[np.where(mask_red==0)] = 0\ngray_img0 = cv2.cvtColor(r_img,cv2.COLOR_BGR2GRAY)\nret,thresh = cv2.threshold(gray_img0,0,255,0)\nM = cv2.moments(thresh)\nrX=int(M[\"m10\"] / M[\"m00\"])\nrY=int(M[\"m01\"] / M[\"m00\"])\ncv2.circle(ip_image,(rX,rY), 17, (255,255,255), 2)\ncv2.imshow(\"Output\",ip_image)\n</code></pre>\n\n<p>Also, the fourth parameter in cv2.threshold() when set to \"0\" works correctly with digital image while with webcam image it throws zero division error at the line :</p>\n\n<pre><code>rX=int(M[\"m10\"]/M[\"m00\"])\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 7, "creation_date": 1577312727, "post_id": 59482234, "comment_id": 105140911, "body": "I think it depends a bit on what you mean by exploitable -- but the answer is probably &quot;yes -- on some level this is unsafe&quot;.  See <a href=\"https://nedbatchelder.com/blog/201206/eval_really_is_dangerous.html\" rel=\"nofollow noreferrer\">nedbatchelder.com/blog/201206/eval_really_is_dangerous.html</a> where it is demonstrated that a malicious user could effectively segfault your interpreter under these circumstances."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 4, "creation_date": 1577313114, "post_id": 59482234, "comment_id": 105140958, "body": "Moreover, that&#39;s a segfault because the bytecode being run is <code>KABOOM</code>, but if someone can run any arbitrary bytecode they want, that&#39;s a lot of attack surface to use to find an arbitrary code execution mechanism. Just because an exploit isn&#39;t known yet doesn&#39;t mean it&#39;s wise to expose the surface."}], "answers": [{"comments": [{"owner": {"reputation": 5456, "user_id": 2897115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2624b65b6cff84369e57413b62c75e46?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/2897115/santhosh"}, "edited": false, "score": 0, "creation_date": 1607830361, "post_id": 59491778, "comment_id": 115394788, "body": "if i dont allow <code>_</code> , \\ , <code>dir</code> will this be safe"}], "tags": [], "owner": {"reputation": 181, "user_id": 11212623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5deab4a4576152677e5f387fa576b59?s=128&d=identicon&r=PG&f=1", "display_name": "user11212623", "link": "https://stackoverflow.com/users/11212623/user11212623"}, "is_accepted": false, "score": 0, "last_activity_date": 1577382841, "creation_date": 1577382841, "answer_id": 59491778, "question_id": 59482234, "link": "https://stackoverflow.com/questions/59482234/is-an-execstring-builtins-none-a-secure-way-to-execute-user-inpu/59491778#59491778", "title": "Is an `exec(&quot;string&quot;, {&#39;__builtins__&#39;: None})` a secure way to execute user input? If not, how can it be maliciously leveraged", "body": "<p>This is not a safe practice. Code exec can happen in the following manner:</p>\n\n<p>This example executes some shellcode by importing os. The following can be altered to gain access to all builtins.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>s = \"[c for c in ().__class__.__base__.__subclasses__() if c.__name__ == 'catch_warnings'][0]()._module.__builtins__['__import__']('os').system('shellcode')\"\nexec(s, {'builtins': None})\n</code></pre>\n\n<p>The articles mentioned in the comments on the main question provide all the resources I used to get to this conclusion. Thanks guys!</p>\n"}], "owner": {"reputation": 181, "user_id": 11212623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5deab4a4576152677e5f387fa576b59?s=128&d=identicon&r=PG&f=1", "display_name": "user11212623", "link": "https://stackoverflow.com/users/11212623/user11212623"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 0, "closed_date": 1577383065, "answer_count": 1, "score": 2, "last_activity_date": 1577382841, "creation_date": 1577312443, "question_id": 59482234, "link": "https://stackoverflow.com/questions/59482234/is-an-execstring-builtins-none-a-secure-way-to-execute-user-inpu", "closed_reason": "Duplicate", "title": "Is an `exec(&quot;string&quot;, {&#39;__builtins__&#39;: None})` a secure way to execute user input? If not, how can it be maliciously leveraged", "body": "<p>If this is being executed and I have full control over the string's value, am I able to leverage a reverse shell or am I able to read files.</p>\n\n<p><code>exec(\"string\", {'__builtins__': None})</code></p>\n\n<p>I'm having issues with finding relevant documentation about what is not included <code>__builtins__</code>. I've manually found that <code>print('something')</code> works.</p>\n\n<p>I, myself, lack the knowledge to determine whether this is exploitable or not. I feel like something like this shouldn't be safe since, correct me if I'm wrong, all builtins are python functions (Not confident on this).</p>\n\n<p>I thought it might also be relevant referencing that a global variable was given as the 3rd argument. i.e: <code>exec(\"string\", {'__builtins__': None}, global_var)</code></p>\n\n<p>Note: This is for python2.\nNote: This is for a challenge. No grey/black hat stuff!</p>\n"}, {"tags": ["python", "command-line-interface", "python-click"], "comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1577320962, "post_id": 59482232, "comment_id": 105141905, "body": "It&#39;s still not clear why you&#39;re trying to implement these as separate commands. If they must always run in sequence, just have a single command (<code>main</code>) and have it call two separate <i>functions</i>."}, {"owner": {"reputation": 158, "user_id": 11243953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822be68fc1bf6ce6c3870ce304b574a1?s=128&d=identicon&r=PG&f=1", "display_name": "Yahya", "link": "https://stackoverflow.com/users/11243953/yahya"}, "edited": false, "score": 0, "creation_date": 1577348171, "post_id": 59482232, "comment_id": 105146447, "body": "can you please give a minimum example? do you mean I should not use <code>click.group</code>?"}], "owner": {"reputation": 158, "user_id": 11243953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822be68fc1bf6ce6c3870ce304b574a1?s=128&d=identicon&r=PG&f=1", "display_name": "Yahya", "link": "https://stackoverflow.com/users/11243953/yahya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577357372, "creation_date": 1577312366, "last_edit_date": 1592644375, "question_id": 59482232, "link": "https://stackoverflow.com/questions/59482232/how-to-invoke-commands-directly-from-the-main-click-group", "title": "How to invoke commands directly from the main Click Group", "body": "<p>I'm trying to write a python module using <a href=\"https://click.palletsprojects.com/en/7.x/\" rel=\"nofollow noreferrer\">Click</a>.\nIn the module, I have a <code>main</code> group that has two commands, <code>func1</code> and <code>func2</code>.\n<code>func1</code> and <code>func2</code> accepts user input as parameters.</p>\n<pre><code>import click\n\n\n@click.group(invoke_without_command=True)\ndef main():\n    pass\n\n\n@main.command()\n@click.option('--text', prompt='Enter a word')\ndef func1(text):\n    click.echo(f'Func1 is called and the input is {text}')\n\n\n@main.command()\n@click.option('--text', prompt='Enter another word')\ndef func2(text):\n\n    click.echo(f'Func2 is called and the input is {text}')\n\n\nif __name__ == '__main__':\n    main()\n\n</code></pre>\n<p>I want to call <code>func1</code> and <code>func2</code> one by one once the module is called. More details, when I call the module, the result should be like this:</p>\n<pre><code>Func1 is called and the input is word\nFunc2 is called and the input is anotherword\n</code></pre>\n<p>Currently, I can call the module with command name (<code>python tool.py func1</code>) and only that command executes. I tried:</p>\n<pre><code># rest of the code\n\nif __name__ == '__main__':\n    main()\n    main.func1()\n</code></pre>\n<p>but no luck.</p>\n<p>My aim to call the module and run the commands one by one without passing the commands name while calling the module. Is there any help how can I do this or what is the robust way to achieve this?</p>\n<p>I have some experience of working with JavaScript, but I'm new to Python.\nAny help would definitely be appreciated.\nMany thanks</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "edited": false, "score": 2, "creation_date": 1577312160, "post_id": 59482208, "comment_id": 105140818, "body": "please show an example of your dataframe and your expected output"}], "answers": [{"tags": [], "owner": {"reputation": 970, "user_id": 12352927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856004218b8ec31474877b2e289a6833?s=128&d=identicon&r=PG&f=1", "display_name": "Stepan", "link": "https://stackoverflow.com/users/12352927/stepan"}, "is_accepted": false, "score": 1, "last_activity_date": 1577321690, "creation_date": 1577321690, "answer_id": 59482920, "question_id": 59482208, "link": "https://stackoverflow.com/questions/59482208/conditional-append-list-for-pandas-dataframes/59482920#59482920", "title": "Conditional append list for Pandas dataframes", "body": "<p>The error appears because you are  trying to compare Series object <code>df['nSlices']</code> with scalar integer <code>slices</code>. The result of such comparsion is Series object with bool values (try to do <code>print(df['nSlices']==slices)</code> to see it) and you can't use it in if-statement. </p>\n\n<p>To solve the problem just remove <code>if df['nSlices']==slices:</code> to get:</p>\n\n<pre><code>for slices in range(0,60):\n    path = df.loc[df['nSlices'].eq(slices) &amp; df['Orient'].eq(plane)  &amp; df['Contrast'].eq(contrast),'Path'].tolist()\n    a.append(path)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12597484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6a608c25ba802c6627f1f0f33a48a8?s=128&d=identicon&r=PG&f=1", "display_name": "brunos", "link": "https://stackoverflow.com/users/12597484/brunos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577322062, "creation_date": 1577312049, "question_id": 59482208, "link": "https://stackoverflow.com/questions/59482208/conditional-append-list-for-pandas-dataframes", "title": "Conditional append list for Pandas dataframes", "body": "<p>I am using the following code to attempt to filter our specific rows but I am getting an error that says: </p>\n\n<p><code>ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().</code></p>\n\n<pre><code>df = pd.DataFrame(rdataset)\nplane = 'axial'\ncontrast = 'T1'\n\na = []\n\nfor slices in range(0,60):\n    if df['nSlices']==slices:  #---------------&gt; Problem here ?\n        path = df.loc[df['nSlices'].eq(slices) &amp; df['Orient'].eq(plane)  &amp; df['Contrast'].eq(contrast),'Path'].tolist()\n        a.append(path)\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 2, "creation_date": 1577312038, "post_id": 59482198, "comment_id": 105140799, "body": "Why don&#39;t you just do <code>print(&quot;your newly generated password is &quot; + password(length))</code> ? You don&#39;t need the ifs"}, {"owner": {"reputation": 514, "user_id": 5317267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wRS7IzQtFiU/AAAAAAAAAAI/AAAAAAAAAI4/u32JEBMJWQY/photo.jpg?sz=128", "display_name": "Abhyudai", "link": "https://stackoverflow.com/users/5317267/abhyudai"}, "edited": false, "score": 0, "creation_date": 1577312150, "post_id": 59482198, "comment_id": 105140816, "body": "you may use a <code>try</code> and <code>except</code> block inside a <code>do while</code> <code>loop</code> and exit only if you get a correct input."}, {"owner": {"reputation": 50872, "user_id": 523612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ae512dd708a619496d36b1f681f95e0?s=128&d=identicon&r=PG", "display_name": "Karl Knechtel", "link": "https://stackoverflow.com/users/523612/karl-knechtel"}, "edited": false, "score": 0, "creation_date": 1577314583, "post_id": 59482198, "comment_id": 105141194, "body": "Well, if you don&#39;t want a ValueError to be raised, and you also don&#39;t want the <code>if</code> statements to be reached, what <b>do</b> you want to happen?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1577319855, "post_id": 59482198, "comment_id": 105141800, "body": "The result if <code>input</code> is <b>always a <code>str</code></b>."}, {"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1578065103, "post_id": 59482198, "comment_id": 105328385, "body": "You may now think about accepting an answer or comment one to get details ;) to reward those who spent time for you ;)"}], "answers": [{"comments": [{"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 2, "creation_date": 1577312489, "post_id": 59482216, "comment_id": 105140871, "body": "There is also no need for the generator, just use <code>random.sample</code>: <code>return &#39;&#39;.join(random.sample(string.ascii_letters, length))</code>"}, {"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "reply_to_user": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1577312526, "post_id": 59482216, "comment_id": 105140877, "body": "@DeepSpace I did not look the method, just past"}], "tags": [], "owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "is_accepted": true, "score": 1, "last_activity_date": 1577312637, "last_edit_date": 1577312637, "creation_date": 1577312194, "answer_id": 59482216, "question_id": 59482198, "link": "https://stackoverflow.com/questions/59482198/is-there-a-way-to-only-allow-one-type-of-input-such-as-only-floats-ints-to-com/59482216#59482216", "title": "is there a way to only allow one type of input, such as only floats, ints to come from the input() call?", "body": "<ul>\n<li>You can\u2019t force the <code>input()</code> to accept a type, it always return a string, then you have to handle it, you can use a loop, that ask until the content is numeric. </li>\n<li>Also you don't need <code>if</code>s, just use <code>length</code> variable </li>\n<li>you may use <code>random.sample</code> to make multiple choices </li>\n</ul>\n\n<p></p>\n\n<pre><code>def password(length):\n    return ''.join(random.sample(string.ascii_letters , length))\n\nif __name__ == '__main__':\n    print(\"welcome to daniel's password generator!\")\n    while True:\n        value = \"\"\n        while not value.isnumeric():\n            value = input(\"how long do you want your password to be?: \")\n        length = int(value)\n        print(\"your newly generated password is \" + password(length))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12514441, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBr2v_291v9PntdrsIe2N4RALAZjLrmF33FJIeV=k-s128", "display_name": "misplacements", "link": "https://stackoverflow.com/users/12514441/misplacements"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 59482216, "answer_count": 1, "score": -2, "last_activity_date": 1577312637, "creation_date": 1577311908, "last_edit_date": 1577311996, "question_id": 59482198, "link": "https://stackoverflow.com/questions/59482198/is-there-a-way-to-only-allow-one-type-of-input-such-as-only-floats-ints-to-com", "title": "is there a way to only allow one type of input, such as only floats, ints to come from the input() call?", "body": "<p><strong>so in this case, is there a way to only allow integers to pass onto the if statements, instead of raising a ValueError?</strong></p>\n\n<pre><code>import random\nimport string\n\ndef password(input):\n    letters = string.ascii_letters\n    return ''.join(random.choice(letters) for i in range(input))\n\n\nwhile True:\n\n    print(\"welcome to daniel's password generator!\")\n    length = int(input(\"how long do you want your password to be?: \"))\n\n\n    if length == 1:\n        print(\"your newly generated password is \" + password(1))\n\n    elif length == 2:\n        print(\"your newly generated password is \" + password(2))\n\n    elif length == 3:\n            print(\"your newly generated password is \" + password(3))\n\n    elif length == 4:\n        print(\"your newly generated password is \" + password(4))\n\n    elif length == 5:\n        print(\"your newly generated password is \" + password(5))\n\n    elif length == 6:\n        print(\"your newly generated password is \" + password(6))\n    else:\n        print(\"unknown error!\")\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 185, "user_id": 6226201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b1fe643279bcdb12775babdbfec6a8a?s=128&d=identicon&r=PG&f=1", "display_name": "Bailey Kocin", "link": "https://stackoverflow.com/users/6226201/bailey-kocin"}, "edited": false, "score": 0, "creation_date": 1577313713, "post_id": 59482196, "comment_id": 105141045, "body": "A newline cannot not be converted to an int in python like that. That&#39;s what the error says. Just process it correctly."}, {"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1577336252, "post_id": 59482196, "comment_id": 105143722, "body": "Welcome to Stack Overflow! Check out the <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. The error message tells you exactly what the problem is. What is unclear about that? As well, you need to make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which I think would be just two lines."}, {"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1577336496, "post_id": 59482196, "comment_id": 105143761, "body": "Oh wait, this has nothing to do with Python. I&#39;ll write an answer."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 12597491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SGGbudpACYY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reOPD_yMvt16vkgcul0ISaeQECbuQ/photo.jpg?sz=128", "display_name": "zx238", "link": "https://stackoverflow.com/users/12597491/zx238"}, "edited": false, "score": 0, "creation_date": 1578094546, "post_id": 59484039, "comment_id": 105339512, "body": "I see what you meant and solved it. Thank you a lot. Also thanks for informing the minimal reproducible example"}], "tags": [], "owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "is_accepted": false, "score": 0, "last_activity_date": 1577336690, "creation_date": 1577336690, "answer_id": 59484039, "question_id": 59482196, "link": "https://stackoverflow.com/questions/59482196/failed-to-input-and-run-python-code-with-sys-and-threading-lib/59484039#59484039", "title": "failed to input and run python code with sys and threading lib", "body": "<p>From the code I'm inferring you want to print one integer on one line, then a space-separated list of integers on the next line.</p>\n\n<p>The problem has nothing to do with Python but the shell you're calling it from:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ echo \"5 \\n 4 -1 4 1 1\"\n5 \\n 4 -1 4 1 1\n</code></pre>\n\n<p>You're expecting <code>echo</code> to act like <code>echo -e</code> and expand escape sequences. Simply use this:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ echo -e \"5\\n4 -1 4 1 1\"\n5\n4 -1 4 1 1\n</code></pre>\n\n<p>Or if your shell doesn't support <code>echo -e</code>, try <code>printf</code>:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ printf \"5\\n4 -1 4 1 1\\n\"\n5\n4 -1 4 1 1\n</code></pre>\n\n<hr>\n\n<p>P.S. In the future, please make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which in this case is just this:</p>\n\n<pre><code>print(int(input()))\nprint(list(map(int, input().split())))\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 12597491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-SGGbudpACYY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reOPD_yMvt16vkgcul0ISaeQECbuQ/photo.jpg?sz=128", "display_name": "zx238", "link": "https://stackoverflow.com/users/12597491/zx238"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577336690, "creation_date": 1577311883, "last_edit_date": 1577336086, "question_id": 59482196, "link": "https://stackoverflow.com/questions/59482196/failed-to-input-and-run-python-code-with-sys-and-threading-lib", "title": "failed to input and run python code with sys and threading lib", "body": "<p>I'm taking the coursera course for data structure. Based on a sample code, </p>\n\n<pre><code> # python3\n\nimport threading\n\n\ndef compute_height(n, parents):\n    # Replace this code with a faster implementation\n    max_height = 0\n    for vertex in range(n):\n        height = 0\n        current = vertex\n        while current != -1:\n            height += 1\n            current = parents[current]\n        max_height = max(max_height, height)\n    return max_height\n\n\ndef main():\n    n = int(input())\n    parents = list(map(int, input().split()))\n    print(compute_height(n, parents))\n\n\n# In Python, the default limit on recursion depth is rather low,\n# so raise it here for this problem. Note that to take advantage\n# of bigger stack, we have to launch the computation in a new thread.\nsys.setrecursionlimit(10**7)  # max depth of recursion\nthreading.stack_size(2**27)   # new thread will get stack of such size\nthreading.Thread(target=main).start()\n</code></pre>\n\n<p>I couldn't really run it with proper input or using the echo:</p>\n\n<pre><code>echo \"5 \\n 4 -1 4 1 1\" | python tree_height.py\n</code></pre>\n\n<p>which generates the result:</p>\n\n<pre><code>Exception in thread Thread-1:\nTraceback (most recent call last):\n  File \"C:\\Users\\xiang\\Anaconda3\\lib\\threading.py\", line 926, in _bootstrap_inner\n    self.run()\n  File \"C:\\Users\\xiang\\Anaconda3\\lib\\threading.py\", line 870, in run\n    self._target(*self._args, **self._kwargs)\n  File \"tree_height.py\", line 21, in main\n    n = int(input())\nValueError: invalid literal for int() with base 10: '\"5 \\\\n 4 -1 4 1 1\" '\n</code></pre>\n\n<p>I'm fairly new so not sure about the environment here. Could someone point out the problems?\nBest</p>\n"}, {"tags": ["python", "algorithm"], "comments": [{"owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 2, "creation_date": 1577312191, "post_id": 59482192, "comment_id": 105140821, "body": "Not related to your question, but that should be &quot;your colors&quot; not &quot;you&#39;re colors&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 517, "user_id": 9276137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc737165b0659238953f239c75f39488?s=128&d=identicon&r=PG&f=1", "display_name": "paupaulaz", "link": "https://stackoverflow.com/users/9276137/paupaulaz"}, "is_accepted": true, "score": 4, "last_activity_date": 1577312379, "creation_date": 1577312379, "answer_id": 59482233, "question_id": 59482192, "link": "https://stackoverflow.com/questions/59482192/is-there-any-way-to-make-this-code-shorter-and-simpler-i-e-by-using-some-sort-of/59482233#59482233", "title": "Is there any way to make this code shorter and simpler i.e by using some sort of for loop?", "body": "<p>You could use a dictionary for this. Here is the idea:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>colors = {\"r\": \"red\", \"g\": \"green\", \"b\": \"blue\", \"o\": \"orange\", \"m\": \"magenta\", \"c\", \"cyan\"}\n\nfor i in range(3):\n   inputColour = input(\"Enter you're colours -Choose from [red, green, blue, orange, magenta, cyan]:\")\n\n   try:\n      findColours = colors[inputColor]\n   except:\n      # handle exceptions here\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 3, "user_id": 6787754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1b59c632d8d82c3c3ab2dccb839118f?s=128&d=identicon&r=PG&f=1", "display_name": "fenisawsome", "link": "https://stackoverflow.com/users/6787754/fenisawsome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1577392960, "accepted_answer_id": 59482233, "answer_count": 1, "score": -2, "last_activity_date": 1577312379, "creation_date": 1577311862, "last_edit_date": 1577311971, "question_id": 59482192, "link": "https://stackoverflow.com/questions/59482192/is-there-any-way-to-make-this-code-shorter-and-simpler-i-e-by-using-some-sort-of", "closed_reason": "Needs more focus", "title": "Is there any way to make this code shorter and simpler i.e by using some sort of for loop?", "body": "<p>I have done it so that if the user enters \"g\" as an input it will convert it to \"green\"...\"r\"=red..\"c\"= cyan ....so forth </p>\n\n<p>is there any way to use a loop of some sort to do this instead? thanks</p>\n\n<pre><code>for i in range(3):\n    findColours = input(\"Enter you're colours -Choose from [red, green, blue, orange, magenta, cyan]:\")\n    if findColours == \"r\":\n        findColours = \"red\"\n    elif findColours ==\"g\":\n        findColours = \"green\"\n    elif findColours ==\"b\":\n            findColours = \"blue\"\n    elif findColours ==\"o\":\n            findColours = \"orange\"\n    elif findColours ==\"m\":\n            findColours = \"magenta\"\n    elif findColours ==\"c\":\n            findColours = \"cyan\"\n</code></pre>\n"}, {"tags": ["python", "class", "inheritance"], "comments": [{"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1577311906, "post_id": 59482182, "comment_id": 105140787, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/222877/what-does-super-do-in-python\">What does &#39;super&#39; do in Python?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 10537540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc6ca010fa4b6cae8cf95b0a778f1b7?s=128&d=identicon&r=PG&f=1", "display_name": "pylab", "link": "https://stackoverflow.com/users/10537540/pylab"}, "edited": false, "score": 0, "creation_date": 1577312236, "post_id": 59482197, "comment_id": 105140831, "body": "This works, but is there any way I can do this with <code>super()</code> but only for specific variables from <code>Timeline</code>? Say I had a bunch of variables in <code>Timeline</code> but only want <code>PlayerModel</code> to inheret <code>timeline_min</code> and <code>timeline_max</code>. As far as I know this inherits all variables from the parent class"}, {"owner": {"reputation": 10894, "user_id": 3150271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/EXijl.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/3150271/anonymous"}, "reply_to_user": {"reputation": 69, "user_id": 10537540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc6ca010fa4b6cae8cf95b0a778f1b7?s=128&d=identicon&r=PG&f=1", "display_name": "pylab", "link": "https://stackoverflow.com/users/10537540/pylab"}, "edited": false, "score": 0, "creation_date": 1577312469, "post_id": 59482197, "comment_id": 105140868, "body": "@pylab The short answer is no. Usually that only makes sense if the parent <code>__init__</code> takes arguments. Otherwise you would be constructing an object in a way the super class doesn&#39;t support. You can change the variables after you call the super method if you want."}], "tags": [], "owner": {"reputation": 10894, "user_id": 3150271, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/EXijl.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/3150271/anonymous"}, "is_accepted": true, "score": 5, "last_activity_date": 1577312295, "last_edit_date": 1577312295, "creation_date": 1577311902, "answer_id": 59482197, "question_id": 59482182, "link": "https://stackoverflow.com/questions/59482182/how-to-get-a-class-to-inherit-its-parents-values-in-python/59482197#59482197", "title": "How to get a class to inherit its parent&#39;s values in Python?", "body": "<p>You should let <code>Timeline</code> set them by calling its <code>__init__</code>:</p>\n\n<pre><code>class PlayerModel(Timeline):\n    def __init__(self, name):\n        super().__init__()\n        self.name = name\n</code></pre>\n\n<p>Unless you explicitly call the parent constructor in the child <code>__init__</code> method, Python just assumes you just want to override the parent constructor instead.</p>\n"}], "owner": {"reputation": 69, "user_id": 10537540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc6ca010fa4b6cae8cf95b0a778f1b7?s=128&d=identicon&r=PG&f=1", "display_name": "pylab", "link": "https://stackoverflow.com/users/10537540/pylab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 59482197, "answer_count": 1, "score": 0, "last_activity_date": 1577312751, "creation_date": 1577311744, "last_edit_date": 1577312751, "question_id": 59482182, "link": "https://stackoverflow.com/questions/59482182/how-to-get-a-class-to-inherit-its-parents-values-in-python", "title": "How to get a class to inherit its parent&#39;s values in Python?", "body": "<p>Here is a rough idea of what I want to do:</p>\n\n<pre><code>class PlayerModel(Timeline):\n    def __init__(self, name):\n        self.name = name\n\n        self.timeline_min = super(timeline_min)     # I don't know the syntax for this\n        self.timeline_max = super(timeline_max)     # I don't know the syntax for this\n\n\nclass Timeline:\n    def __init__(self):\n        self.timeline_min = 0\n        self.timeline_max = 120\n\n    def make_model(self, m_name):\n        return PlayerModel(m_name)\n</code></pre>\n\n<p>I want <code>PlayerModel</code> to have the same properties from <code>Timeline</code> which are:</p>\n\n<pre><code>self.timeline_min = 0\nself.timeline_max = 120\n</code></pre>\n\n<p>in it's <code>__init__</code>, without having to pass them as parameters. Could I achieve this using <code>super()</code>? I could not find a way to do this with the parent's variables.</p>\n"}, {"tags": ["python", "pytest", "trace"], "comments": [{"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1577317170, "post_id": 59482155, "comment_id": 105141488, "body": "Can&#39;t reproduce, tracing works (although I used <a href=\"https://docs.pytest.org/en/latest/reference.html#pytest-main\" rel=\"nofollow noreferrer\"><code>pytest.main</code></a> instead of <code>pytest.cmdline.main</code> compat stuff, but it shouldn&#39;t be any different). Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1577334508, "post_id": 59482155, "comment_id": 105143454, "body": "I see <code>cov-2.8.1</code> in your output. I&#39;m pretty sure <code>pytest-cov</code> uses its own trace function that&#39;s overriding yours."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1577334679, "post_id": 59482155, "comment_id": 105143480, "body": "(Well, it&#39;s Coverage.py&#39;s trace function, really.) Anyway, see if turning that off helps."}, {"owner": {"reputation": 302, "user_id": 2435117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f29efded7e805a0c6828c8a7d8f0d930?s=128&d=identicon&r=PG", "display_name": "SDt", "link": "https://stackoverflow.com/users/2435117/sdt"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1577383728, "post_id": 59482155, "comment_id": 105158139, "body": "nopes, that didnt help @user2357112supportsMonica"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1577434334, "post_id": 59482155, "comment_id": 105168666, "body": "Oh. You had output capture turned on."}], "owner": {"reputation": 302, "user_id": 2435117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f29efded7e805a0c6828c8a7d8f0d930?s=128&d=identicon&r=PG", "display_name": "SDt", "link": "https://stackoverflow.com/users/2435117/sdt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577385143, "creation_date": 1577311419, "last_edit_date": 1577385143, "question_id": 59482155, "link": "https://stackoverflow.com/questions/59482155/using-sys-settrace-with-pytest-in-python", "title": "Using sys settrace with pytest in python", "body": "<p>I want to trace the functions called and their return values for a test in python. I am using pytest module to call the test and sys.settrace for tracing the functions. However, this doesn't work and no functions are traced when I use pytest. It works when I use a locally defined function.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>filename=\"../tests/models/reading_comprehension/naqanet_test.py::NumericallyAugmentedQaNetTest::test_model_can_train_save_and_load\"\nsys.settrace(trace_calls_and_returns)\nsys.gettrace()\npytest.cmdline.main(filename.split(\" \"))\n</code></pre>\n\n<p>This is what I get:</p>\n\n<pre><code>============================= test session starts ==============================\nplatform linux -- Python 3.6.8, pytest-5.3.1, py-1.8.0, pluggy-0.13.1\nplugins: flaky-3.6.1, cov-2.8.1\ncollected 1 item\n\n.../tests/models/reading_comprehension/naqanet_test.py .            [100%]\n\n============================== 1 passed in 5.43s ===============================\n\n</code></pre>\n\n<p>Is there a way to use trace with pytest? Or some other way to handle it? I would like to handle this programmatically.</p>\n\n<p>=============EDIT 1 ===============</p>\n\n<p>Minimum reproducible example:</p>\n\n<p>mytest.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from unittest import TestCase\n\n\nclass MyTest(TestCase):\n    def testMe(self):\n        a=5\n        b=6\n        k=self.m(5,6)\n\n    def m(self, a, b):\n        return max(a,b)\n</code></pre>\n\n<p>tracetest.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nimport pytest\n\n\ndef trace_calls(frame, event, arg):\n    if event != 'call':\n        return\n    co = frame.f_code\n    func_name = co.co_name\n    caller = frame.f_back\n    caller_line_no = caller.f_lineno if caller is not None else None\n    caller_filename = caller.f_code.co_filename if caller is not None else None\n    print('Call to %s on line %s of %s from line %s of %s' % \\\n        (func_name, func_line_no, func_filename,\n         caller_line_no, caller_filename))\n    return\n\n\nsys.settrace(trace_calls)\n\npytest.main([\"mytest.py\"])\n</code></pre>\n\n<p>The output does not have the function \"m\" in \"mytest.py\"</p>\n\n<p>=================== EDIT 2 ===================</p>\n\n<p>Found the solution:</p>\n\n<p>Just need to add this option to pytest:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>pytest.main([\"--capture=no\", \"mytest.py\"])\n</code></pre>\n\n<p>Thats it! :)</p>\n\n<p>I got the hint from <a href=\"https://stackoverflow.com/a/3418597/2435117\">here</a></p>\n"}, {"tags": ["python", "schedule", "tweets"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11452330"}, "edited": false, "score": 0, "creation_date": 1577319139, "post_id": 59482332, "comment_id": 105141725, "body": "That makes perfect sense! I&#39;ve tried to implement it but now im not getting anything returning from the script. Do I need to pass information from one function to the other somehow, because I get an error when I try? I&#39;m still very new to python. Thanks for your help so far!"}], "tags": [], "owner": {"reputation": 634, "user_id": 8942245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxBSr.jpg?s=128&g=1", "display_name": "Algebra8", "link": "https://stackoverflow.com/users/8942245/algebra8"}, "is_accepted": false, "score": 2, "last_activity_date": 1577314214, "last_edit_date": 1577314214, "creation_date": 1577313551, "answer_id": 59482332, "question_id": 59482144, "link": "https://stackoverflow.com/questions/59482144/scheduling-python-to-automate-static-tweets/59482332#59482332", "title": "Scheduling Python to automate static tweets", "body": "<p>This seems recursive. You tell schedule to do <code>main</code> every 30 minutes, and main will also call schedule. Try separating them.</p>\n\n<p>From the docs:</p>\n\n<pre><code>def job():\n    print(\"I'm working...\")\n\n\nschedule.every(1).minutes.do(job)\n\nwhile True:\n    schedule.run_pending()\n    time.sleep(1)\n</code></pre>\n\n<p>What you are (sorta) doing:</p>\n\n<pre><code>def rec_job():\n    print(\"I'm working...\")\n    schedule.every(1).minutes.do(rec_job)\n    while True:\n        schedule.run_pending()\n        time.sleep(1)\n\nif __name__ == '__main__':\n    rec_job()\n</code></pre>\n\n<p>You can separate your code like this:</p>\n\n<pre><code>def send_message():\n    auth = tweepy.OAuthHandler(\n        twitter_auth_keys['consumer_key'],\n        twitter_auth_keys['consumer_secret']\n    )\n    auth.set_access_token(\n        twitter_auth_keys['access_token'],\n        twitter_auth_keys['access_token_secret']\n    )\n    api = tweepy.API(auth)\n\n    file = open('words.txt', 'r')\n    random_word = random.choice(file.readlines())\n    tweet = ('The %s tree.' % random_word.strip())\n    api.update_status(status=tweet)\n    print('Tweeted: %s' % tweet)\n\n\ndef main():\n    schedule.every(30).minutes.do(send_message)\n    while True:\n        schedule.run_pending()\n        time.sleep(1)\n    return\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11452330"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577314214, "creation_date": 1577311337, "question_id": 59482144, "link": "https://stackoverflow.com/questions/59482144/scheduling-python-to-automate-static-tweets", "title": "Scheduling Python to automate static tweets", "body": "<p>Just written a short and simple Python script to post on Twitter. I'm having issues where after 30 minutes the tweet appears multiple times where it should only be posted once every half an hour. How can I solve this? Thanks in advance. </p>\n\n<pre><code>import random\nimport tweepy\nimport schedule\nimport time\n\nfrom auth import consumer_secret, consumer_key, access_token_secret, access_token\n\ntwitter_auth_keys = {\n    'consumer_secret': consumer_secret,\n    'consumer_key': consumer_key,\n    'access_token_secret': access_token_secret,\n    'access_token': access_token\n}\n\n\ndef main():\n    auth = tweepy.OAuthHandler(\n        twitter_auth_keys['consumer_key'],\n        twitter_auth_keys['consumer_secret']\n    )\n    auth.set_access_token(\n        twitter_auth_keys['access_token'],\n        twitter_auth_keys['access_token_secret']\n    )\n    api = tweepy.API(auth)\n\n    file = open('words.txt', 'r')\n    random_word = random.choice(file.readlines())\n    tweet = ('The %s tree.' % random_word.strip())\n    api.update_status(status=tweet)\n    print('Tweeted: %s' % tweet)\n\n    schedule.every(30).minutes.do(main)\n\n    while True:\n        schedule.run_pending()\n        time.sleep(1)\n    return\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "list"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12320071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a159f29f786ad4282c31e8a0e5f5642?s=128&d=identicon&r=PG&f=1", "display_name": "simulacra_simulation", "link": "https://stackoverflow.com/users/12320071/simulacra-simulation"}, "edited": false, "score": 0, "creation_date": 1577387092, "post_id": 59482235, "comment_id": 105159139, "body": "I see. I was misunderstanding what .pop() did. Thanks!"}], "tags": [], "owner": {"reputation": 102, "user_id": 1415590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed844ca3ad7d2d2850fff0923561e2bb?s=128&d=identicon&r=PG", "display_name": "Blaine", "link": "https://stackoverflow.com/users/1415590/blaine"}, "is_accepted": false, "score": 0, "last_activity_date": 1589562675, "last_edit_date": 1589562675, "creation_date": 1577312471, "answer_id": 59482235, "question_id": 59482116, "link": "https://stackoverflow.com/questions/59482116/manipulating-a-list-of-lists-multiple-times-in-order/59482235#59482235", "title": "Manipulating a list of lists multiple times in order", "body": "<p>I believe you are having some misunderstanding with the methods you are calling.</p>\n\n<p>Your comments indicate you are going to throw away the popped element, but you are actually throwing away the list, and using the element instead.</p>\n\n<p>These 2 lines:</p>\n\n<pre><code>list_within_list = list_within_list.pop() # I want to remove the last element\nlist_with_element1 = list_within_list.insert(0, add_element1) # I then want to add a new element \n</code></pre>\n\n<p>One way to accomplish:</p>\n\n<pre><code>list_with_element1 = list_within_list[:-1]\nlist_with_element1.insert(0, add_element1)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12320071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a159f29f786ad4282c31e8a0e5f5642?s=128&d=identicon&r=PG&f=1", "display_name": "simulacra_simulation", "link": "https://stackoverflow.com/users/12320071/simulacra-simulation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1589562675, "creation_date": 1577311039, "question_id": 59482116, "link": "https://stackoverflow.com/questions/59482116/manipulating-a-list-of-lists-multiple-times-in-order", "title": "Manipulating a list of lists multiple times in order", "body": "<p>I'm trying to alter a list of lists in multiple ways by using a function (as I will have more than one list of lists). </p>\n\n<p>I know how to change something once, but how do  I do more than that? I get the error:\nAttributeError: 'int' object has no attribute 'insert'</p>\n\n<p>I understand that the error essentially means (whatever I'm trying to use  .insert() on is not a list) but I don't quite understand <em>why</em> it's not a list...</p>\n\n<p>See my code below:</p>\n\n<p>This works and gives me the desired output</p>\n\n<pre><code>list_of_list3 = [['a', 1], ['b', 2], ['c', 3]]\nlist_to_add = ['Z', 'X', 'Y']\n\nfor list_position in range(len(list_of_list3)):\n    original_list = list_of_list3[list_position]\n    element_to_add = list_to_add[list_position]\n    original_list.insert(0, element_to_add)\n\nprint(list_of_list3)\n</code></pre>\n\n<p>This will give me what I want:\n[['Z', 'a', 1], ['X', 'b', 2], ['Y', 'c', 3]]</p>\n\n<p>However, what I need is a function which does more than one thing at once. I am trying the code below:</p>\n\n<pre><code>def output_function(add_list, list_of_list): \n    for list_position in range(len(list_of_list)):\n        list_within_list = cleaned_list[list_position]\n        add_element1 = add_list[list_position] # The two lists will always have the same length\n        list_within_list = list_within_list.pop() # I want to remove the last element\n        list_with_element1 = list_within_list.insert(0, add_element1) # I then want to add a new element \n        list_with_new_list = list_with_element1.insert(0, ['Column1', 'Column2', 'Column3']) #Then I want to add a new list to the beginning of list of lists\n\nnew_elements = ['A', 'B', 'C']\noriginal_list_list = [['D', 1, 2], ['E', 3, 4], ['F', 5, 6'] \noutput_function(new_elements, original_list_list)\n</code></pre>\n\n<p>My desired output is (ultimately will turn this into a pandas df)\n[['Column1', 'Column2', 'Column3'], ['A', 'D', 1], ['B','E', 3], ['C', 'F', 5]]</p>\n\n<p>Any help is appreciated. Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "python-requests", "mulesoft", "cloudhub"], "comments": [{"owner": {"reputation": 8083, "user_id": 721855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05cc90698c23812f6a2b5e3b7cc12b29?s=128&d=identicon&r=PG&f=1", "display_name": "aled", "link": "https://stackoverflow.com/users/721855/aled"}, "edited": false, "score": 0, "creation_date": 1577372625, "post_id": 59482110, "comment_id": 105154512, "body": "Are you trying to get a token from your application deployed in CloudHub, or an Anypoint Platform token to use with the CloudHub REST API? Your example seems to imply the former, but your comment mentions CloudHub API. Please clarify. Also attach the Postman example, however not as a screenshot which are usually useless, but using the &#39;Code&#39; feature to generate a Python equivalent. Are you certain the credentials are Ok?"}], "answers": [{"comments": [{"owner": {"reputation": 951, "user_id": 7735255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWf4Q.jpg?s=128&g=1", "display_name": "Parvathirajan Natarajan", "link": "https://stackoverflow.com/users/7735255/parvathirajan-natarajan"}, "edited": false, "score": 0, "creation_date": 1577400463, "post_id": 59493328, "comment_id": 105162404, "body": "I tried that too but it was not working ! Even I referred the same."}], "tags": [], "owner": {"reputation": 8083, "user_id": 721855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05cc90698c23812f6a2b5e3b7cc12b29?s=128&d=identicon&r=PG&f=1", "display_name": "aled", "link": "https://stackoverflow.com/users/721855/aled"}, "is_accepted": false, "score": 0, "last_activity_date": 1577393175, "creation_date": 1577393175, "answer_id": 59493328, "question_id": 59482110, "link": "https://stackoverflow.com/questions/59482110/received-authentication-denied-as-response-while-trying-to-get-the-access-token/59493328#59493328", "title": "Received Authentication Denied as Response while trying to get the access token (for Cloudhub.io) with requests library", "body": "<p>The URL is incorrect. To call CloudHub REST API you need to <a href=\"https://help.mulesoft.com/s/article/How-to-generate-your-Authorization-Bearer-token-for-Anypoint-Platform\" rel=\"nofollow noreferrer\">obtain a bearer token from Anypoint Platform REST API</a>. The URL mentioned looks to for some application deployed in CloudHub, not from the platform APIs. This is the same method than <a href=\"https://docs.mulesoft.com/mq/mq-apis#mqadminapi\" rel=\"nofollow noreferrer\">to get the bearer token to use in Anypoint MQ Admin API</a>. It looks like you are trying to use the Anypoint MQ Broker API, which is an Anypoint MQ specific token.</p>\n\n<p>Example in Curl to get an Anypoint Platform token:</p>\n\n<pre><code>$ curl -H \"Content-Type: application/json\" -X POST -d '{\"username\":\"joe.blogs\",\"password\":\"sample.password\"}' https://anypoint.mulesoft.com/accounts/login\n{\n\"access_token\": \"f648eea2-3704-4560-bb46-bfff79712652\",\n\"token_type\": \"bearer\",\n\"redirectUrl\": \"/home/\"\n}\n</code></pre>\n\n<p>Additionally the Content-type of your example seems incorrect because it has 2 values. </p>\n\n<p>I'm sure the Postman request is different for it to work, or maybe it works only for the Anypoint MQ Broker API.</p>\n"}, {"comments": [{"owner": {"reputation": 8083, "user_id": 721855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05cc90698c23812f6a2b5e3b7cc12b29?s=128&d=identicon&r=PG&f=1", "display_name": "aled", "link": "https://stackoverflow.com/users/721855/aled"}, "edited": false, "score": 1, "creation_date": 1577459628, "post_id": 59494235, "comment_id": 105177615, "body": "Note that that&#39;s is not a token from Anypoint Platform to use with CloudHub API. It is a request to some application that is deployed to CloudHub using client id and secret. The Authentication header must be ignored, since it doesn&#39;t have a token value after the &#39;Bearer&#39; string. There is no token at all."}, {"owner": {"reputation": 951, "user_id": 7735255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWf4Q.jpg?s=128&g=1", "display_name": "Parvathirajan Natarajan", "link": "https://stackoverflow.com/users/7735255/parvathirajan-natarajan"}, "reply_to_user": {"reputation": 8083, "user_id": 721855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05cc90698c23812f6a2b5e3b7cc12b29?s=128&d=identicon&r=PG&f=1", "display_name": "aled", "link": "https://stackoverflow.com/users/721855/aled"}, "edited": false, "score": 0, "creation_date": 1577461827, "post_id": 59494235, "comment_id": 105178397, "body": "Upvoted ! thanks for update and contribution, will work as you mentioned."}], "tags": [], "owner": {"reputation": 951, "user_id": 7735255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWf4Q.jpg?s=128&g=1", "display_name": "Parvathirajan Natarajan", "link": "https://stackoverflow.com/users/7735255/parvathirajan-natarajan"}, "is_accepted": true, "score": 1, "last_activity_date": 1577634019, "last_edit_date": 1577634019, "creation_date": 1577400679, "answer_id": 59494235, "question_id": 59482110, "link": "https://stackoverflow.com/questions/59482110/received-authentication-denied-as-response-while-trying-to-get-the-access-token/59494235#59494235", "title": "Received Authentication Denied as Response while trying to get the access token (for Cloudhub.io) with requests library", "body": "<p>I found the answer of my own question. <a href=\"https://idratherbewriting.com/learnapidoc/docapis_curl_with_petstore.html#export-postman-to-curl\" rel=\"nofollow noreferrer\">I can get it from the postman itself.</a></p>\n\n<p>Here is my code for API Call with Python.</p>\n\n<pre><code>import http.client\nimport os\nconn = http.client.HTTPSConnection(\"&lt;domain-name&gt;-api.us-w2.cloudhub.io\")\npayload = ''\nheaders = {\n  'client_id': os.environ['CLIENT_ID'],\n  'client_secret': os.environ['CLIENT_SECRET']\n}\nconn.request(\"GET\", \"/api/&lt;Query that you want to pass - endpoint&gt;\", payload, headers)\nresponse = conn.getresponse()\nresp_data = response.read()\nprint(resp_data.decode(\"utf-8\"))\n</code></pre>\n"}], "owner": {"reputation": 951, "user_id": 7735255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TWf4Q.jpg?s=128&g=1", "display_name": "Parvathirajan Natarajan", "link": "https://stackoverflow.com/users/7735255/parvathirajan-natarajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "accepted_answer_id": 59494235, "answer_count": 2, "score": 0, "last_activity_date": 1577634019, "creation_date": 1577310949, "question_id": 59482110, "link": "https://stackoverflow.com/questions/59482110/received-authentication-denied-as-response-while-trying-to-get-the-access-token", "title": "Received Authentication Denied as Response while trying to get the access token (for Cloudhub.io) with requests library", "body": "<p>I'm tying to get the data from the Cloudhub API which resides on Mulesoft.</p>\n\n<p>I tried to access through postman (With the same Client Credentials - Bearer Authorization) and it's working fine (I can able to get the result with proper get requests).</p>\n\n<p>But when I <strong>tried to do the same with Python</strong> <code>requests</code> library I ran into issues. Here is my piece of code:</p>\n\n<pre><code>import requests\nimport json, os\nCLIENT_ID = os.environ['CLIENT_ID']\nCLIENT_SECRET = os.environ['CLIENT_SECRET']\ngrant_type = 'client_credentials'\nbody_params = {'grant_type' : grant_type}\nheaders = {'Accept': '*/*',\n           'Cache-Control':'no-cache',\n           'Accept-Encoding': 'gzip, deflate',\n           'Content-Type':'application/json, application/x-www-form-urlencoded',\n           'Connection': 'keep-alive'}\nurl='https://&lt;domain-name&gt;-api.us-w2.cloudhub.io/api/token'\nresponse = requests.post(url, data=body_params, auth = (CLIENT_ID, CLIENT_SECRET), headers= headers)\ntoken_raw = json.loads(response.text)\nprint(token_raw)\n</code></pre>\n\n<blockquote>\n  <p><strong>Result:</strong> {'error': 'Authentication denied.'}</p>\n</blockquote>\n\n<p>All I need to know is\nHow it's working fine with Postman but why I'm not able to connect with python code?</p>\n\n<p>Is there anything I've to change in my code or any additional information needed for this request? or <strong>am I passing the correct endpoint</strong> in receiving the access token for Cloudhub API?</p>\n\n<p>Please post your suggestions or any documentation that I need to refer.\nHope the information that I gave is clear and Thanks in Advance !!</p>\n"}, {"tags": ["python", "math"], "comments": [{"owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 2, "creation_date": 1577310725, "post_id": 59482082, "comment_id": 105140587, "body": "When asking homework type questions, rather than simply dumping your assignment, please show your best good faith attempt to solve it and tell what problems you are having. This will give us a better understanding of what you&#39;re trying to do, what you might be doing wrong, what you need help with. Please go through the <a href=\"https://stackoverflow.com/tour\">tour</a>, the <a href=\"https://stackoverflow.com/help\">help center</a> and the [How to Ask](<a href=\"https://stackoverflow.com/questions/how-to-ask\">stackoverflow.com/questions/how-to-ask</a> sections to see how this site works and to help you improve your current and future questions."}, {"owner": {"reputation": 47, "user_id": 12453256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9c2a5e8d2f2f315919ee96e01a8f7bf?s=128&d=identicon&r=PG&f=1", "display_name": "AlKurdi", "link": "https://stackoverflow.com/users/12453256/alkurdi"}, "reply_to_user": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1577311160, "post_id": 59482082, "comment_id": 105140667, "body": "You&#39;re right. I did fix it. @azro"}, {"owner": {"reputation": 1565, "user_id": 5093377, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C9O8p.jpg?s=128&g=1", "display_name": "Milan Velebit", "link": "https://stackoverflow.com/users/5093377/milan-velebit"}, "edited": false, "score": 1, "creation_date": 1577311456, "post_id": 59482082, "comment_id": 105140719, "body": "Is writing a script that iterates required? Because this answer can be given relatively straightforward using (very) basic combinatorics methods."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 2, "creation_date": 1577311457, "post_id": 59482082, "comment_id": 105140721, "body": "<i>...where no digit is double...</i> What does this mean? Double means 2x, so what is x?"}, {"owner": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 2, "creation_date": 1577311536, "post_id": 59482082, "comment_id": 105140733, "body": "First, calculate the number of <i>4-permutations of 10</i>.  Then figure out how many of them begin with <code>0</code>.  Then divide by 2 to count only the even numbers.  Under no circumstances should you iterate through the numbers <code>1023..9876</code> and check each one."}, {"owner": {"reputation": 47, "user_id": 12453256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9c2a5e8d2f2f315919ee96e01a8f7bf?s=128&d=identicon&r=PG&f=1", "display_name": "AlKurdi", "link": "https://stackoverflow.com/users/12453256/alkurdi"}, "reply_to_user": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1577312630, "post_id": 59482082, "comment_id": 105140891, "body": "with the 4-digit numbers that are issued, no digits may be doubled.  Example for correct would be: 1468 Wrong would be: 2222 @JamesReinstateMonicaPolk"}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1577314318, "post_id": 59482082, "comment_id": 105141150, "body": "Still makes no sense to me. Are you trying to saying that no digit may equal 2? That&#39;s certainly not the same as &quot;doubled&quot;."}, {"owner": {"reputation": 36469, "user_id": 238704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VgOZI.png?s=128&g=1", "display_name": "President James K. Polk", "link": "https://stackoverflow.com/users/238704/president-james-k-polk"}, "edited": false, "score": 0, "creation_date": 1577314393, "post_id": 59482082, "comment_id": 105141166, "body": "Ahhhh. You&#39;re saying no digit may appear more than once. Right?"}, {"owner": {"reputation": 47, "user_id": 12453256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9c2a5e8d2f2f315919ee96e01a8f7bf?s=128&d=identicon&r=PG&f=1", "display_name": "AlKurdi", "link": "https://stackoverflow.com/users/12453256/alkurdi"}, "reply_to_user": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "edited": false, "score": 0, "creation_date": 1577315357, "post_id": 59482082, "comment_id": 105141275, "body": "haha Yeah, right. I&#39;m sorry, my english is not the best. I have now, thanks to @azro, the result"}], "answers": [{"tags": [], "owner": {"reputation": 33492, "user_id": 7212686, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ey8ll.png?s=128&g=1", "display_name": "azro", "link": "https://stackoverflow.com/users/7212686/azro"}, "is_accepted": true, "score": 2, "last_activity_date": 1577311526, "creation_date": 1577311526, "answer_id": 59482168, "question_id": 59482082, "link": "https://stackoverflow.com/questions/59482082/how-do-i-find-the-solution-for-this-math-problem/59482168#59482168", "title": "How do I find the solution for this math problem?", "body": "<ol>\n<li><p>To generate only even numbers, you may just use a step of <code>2</code></p>\n\n<pre><code>for c in range(1000, 9999, 2)\n</code></pre></li>\n<li><p>Then to <a href=\"https://stackoverflow.com/questions/10752434/count-unique-digits-one-liner-efficiently\">count unique digits</a> you may use a <code>set</code> and check the length, if they are the same, keep the value</p>\n\n<pre><code>gerade = set()\nfor c in range(1000, 9999, 2):\n    if len(str(c)) == len(set(str(c))):\n        gerade.add(c)\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": false, "score": 3, "last_activity_date": 1577335662, "creation_date": 1577335662, "answer_id": 59483944, "question_id": 59482082, "link": "https://stackoverflow.com/questions/59482082/how-do-i-find-the-solution-for-this-math-problem/59483944#59483944", "title": "How do I find the solution for this math problem?", "body": "<p>We also can solve this problem using math, without checking all possible numbers (a kind of brutforce, not suitable for wider range)</p>\n\n<p>We can choose the fourth digit from 5 variants (even digits)<br>\nWe can choose the third digit from 9 variants (excluding used digit)<br>\nWe can choose the second digit from 8 variants (excluding used digits)<br>\nWe can choose the first digit from 7 variants (excluding used digits)</p>\n\n<p>So we have <code>5*9*8*7 = 2520</code> variants with distinct digits.<br>\nBut some of them are three-digits numbers because the first digit is zero. We must exclude them.<br>\nThere are <code>4*8*7 = 224</code> such numbers and final result is:</p>\n\n<pre><code>  2296 variants = 2520 - 224\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 12453256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9c2a5e8d2f2f315919ee96e01a8f7bf?s=128&d=identicon&r=PG&f=1", "display_name": "AlKurdi", "link": "https://stackoverflow.com/users/12453256/alkurdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 59482168, "answer_count": 2, "score": -5, "last_activity_date": 1577335662, "creation_date": 1577310693, "last_edit_date": 1577315414, "question_id": 59482082, "link": "https://stackoverflow.com/questions/59482082/how-do-i-find-the-solution-for-this-math-problem", "title": "How do I find the solution for this math problem?", "body": "<p>I need help for a math problem concerning permutations. The task is: </p>\n\n<blockquote>\n  <p>How many four-digit even numbers are there where no digit appears more than once.</p>\n</blockquote>\n\n<p>I've come this far:</p>\n\n<pre><code>   gerade = set()\n   for c in range(1000,9999):\n       for d in str(c):\n           if int(d) %2 !=0:\n               gerade.add(c)\n           if \n               break\n        print (c)\n</code></pre>\n"}, {"tags": ["python", "twitter", "tweepy"], "comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1577311772, "post_id": 59482046, "comment_id": 105140770, "body": "Where is your program? What is the issue, exactly?"}], "answers": [{"tags": [], "owner": {"reputation": 2556, "user_id": 6191255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8492b3a307610a36b90f9862e1669167?s=128&d=identicon&r=PG", "display_name": "Harmon758", "link": "https://stackoverflow.com/users/6191255/harmon758"}, "is_accepted": true, "score": 2, "last_activity_date": 1577316433, "creation_date": 1577316433, "answer_id": 59482546, "question_id": 59482046, "link": "https://stackoverflow.com/questions/59482046/getting-user-followers-on-twitter-from-the-end-of-the-list/59482546#59482546", "title": "Getting user follower&#39;s on Twitter from the end of the &quot;list&quot;", "body": "<p>As you can see from the documentation that you linked, the GET followers/list endpoint does not accept any parameters that would change the order of the results. This isn't something Twitter's API supports.</p>\n\n<p>If you have the <code>previous_cursor</code> or <code>next_cursor</code> for your last page of results, you can pass that to the endpoint as the <code>cursor</code> parameter to continue where you left off.</p>\n"}], "owner": {"reputation": 521, "user_id": 7411958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qCCBJ.png?s=128&g=1", "display_name": "Bendemann", "link": "https://stackoverflow.com/users/7411958/bendemann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 59482546, "answer_count": 1, "score": 0, "last_activity_date": 1577316433, "creation_date": 1577310315, "question_id": 59482046, "link": "https://stackoverflow.com/questions/59482046/getting-user-followers-on-twitter-from-the-end-of-the-list", "title": "Getting user follower&#39;s on Twitter from the end of the &quot;list&quot;", "body": "<p>Unfortunately the process of getting the followers of a user failed somewhere in the middle (400k or so followers in total). I was wondering if there was any way to start this process from the other side of the spectrum, i.e. from the end of the list. As explained <a href=\"https://developer.twitter.com/en/docs/accounts-and-users/follow-search-get-users/api-reference/get-followers-list\" rel=\"nofollow noreferrer\">here</a>, currently the results are ordered with the most recent following first. Is it possible to start the process from the end of this list (since I already got the first half)? The above-mentioned documentation page doesn't indicate anything but I thought I'd ask once.</p>\n"}, {"tags": ["python", "pandas", "csv", "dataframe", "data-science"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1577310231, "post_id": 59482028, "comment_id": 105140494, "body": "Your values are not delimited by <code>|</code>. Try <code>sheffield = pd.read_csv(&#39;data&#47;sheffield_weather_station.csv&#39;, skiprows=8, sep=&#39;\\s+&#39;, engine=&#39;python&#39;)</code>"}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 2, "creation_date": 1577310240, "post_id": 59482028, "comment_id": 105140495, "body": "you can try adding delim_whitespace=True to see if that helps"}, {"owner": {"reputation": 123, "user_id": 5469184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KcvVyZCcEJM/AAAAAAAAAAI/AAAAAAAAARI/hnVAIGSnQfw/photo.jpg?sz=128", "display_name": "mmustafaicer", "link": "https://stackoverflow.com/users/5469184/mmustafaicer"}, "edited": false, "score": 0, "creation_date": 1577310415, "post_id": 59482028, "comment_id": 105140527, "body": "This solved my problem. Never thought it would work. If you could write it as a response, so I can check it as solved. Best."}, {"owner": {"reputation": 123, "user_id": 5469184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KcvVyZCcEJM/AAAAAAAAAAI/AAAAAAAAARI/hnVAIGSnQfw/photo.jpg?sz=128", "display_name": "mmustafaicer", "link": "https://stackoverflow.com/users/5469184/mmustafaicer"}, "reply_to_user": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 0, "creation_date": 1577310517, "post_id": 59482028, "comment_id": 105140550, "body": "@oppressionslayer &#39;s solution as <code>delim_whitespace=True</code>"}, {"owner": {"reputation": 123, "user_id": 5469184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KcvVyZCcEJM/AAAAAAAAAAI/AAAAAAAAARI/hnVAIGSnQfw/photo.jpg?sz=128", "display_name": "mmustafaicer", "link": "https://stackoverflow.com/users/5469184/mmustafaicer"}, "reply_to_user": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1577310567, "post_id": 59482028, "comment_id": 105140559, "body": "Thanks @Jan. Your solution does also work perfect."}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 1, "creation_date": 1577312261, "post_id": 59482028, "comment_id": 105140837, "body": "I upvoted you for thinking about me and Jan too, thx. :-) Jan&#39;s answer is great"}], "answers": [{"tags": [], "owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "is_accepted": true, "score": 3, "last_activity_date": 1577310710, "creation_date": 1577310710, "answer_id": 59482088, "question_id": 59482028, "link": "https://stackoverflow.com/questions/59482028/read-csv-file-with-arbitrary-spaces-between-entries/59482088#59482088", "title": "Read .csv file with arbitrary spaces between entries", "body": "<p>You may try</p>\n\n<pre><code>sheffield = pd.read_csv('data/sheffield_weather_station.csv', skiprows=8, sep='\\s+', engine='python')\n</code></pre>\n\n<p>It is essentially the same as <code>delim_whitespace=True</code> as it is an alias for the <code>sep</code> parameter, see the <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html\" rel=\"nofollow noreferrer\">pandas documentation</a> on the matter.</p>\n"}], "owner": {"reputation": 123, "user_id": 5469184, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KcvVyZCcEJM/AAAAAAAAAAI/AAAAAAAAARI/hnVAIGSnQfw/photo.jpg?sz=128", "display_name": "mmustafaicer", "link": "https://stackoverflow.com/users/5469184/mmustafaicer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59482088, "answer_count": 1, "score": 3, "last_activity_date": 1577310908, "creation_date": 1577310097, "last_edit_date": 1577310908, "question_id": 59482028, "link": "https://stackoverflow.com/questions/59482028/read-csv-file-with-arbitrary-spaces-between-entries", "title": "Read .csv file with arbitrary spaces between entries", "body": "<p>I have a <code>.csv</code> file for to read with <code>pd.read_csv()</code>. Unfortunately, each line is entered in a single cell instead of multiple cells for each column as shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/famlk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/famlk.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>I am trying something like this to read that file</strong>:</p>\n\n<pre><code>sheffield = pd.read_csv('data/sheffield_weather_station.csv', skiprows=8, delimiter='|', engine='python')\n</code></pre>\n\n<p>It gives me this output without separating each value/data. I checked the spaces between columns in the Microsoft Excel, they are arbitrary. Is there a specific option of <code>pd.read_csv()</code> to solve this problem?</p>\n\n<p><a href=\"https://i.stack.imgur.com/fdv0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fdv0u.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 2, "creation_date": 1577311338, "post_id": 59482017, "comment_id": 105140698, "body": "Don\u2019t specify the labels. With dropping duplicates you cannot guarantee the number of bins that are returned, so trying to label them with a list of fixed length leads to errors."}, {"owner": {"reputation": 652, "user_id": 6367971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a657e3d2d653a9fd7743a9ba5f34e692?s=128&d=identicon&r=PG&f=1", "display_name": "MSD", "link": "https://stackoverflow.com/users/6367971/msd"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1577311746, "post_id": 59482017, "comment_id": 105140767, "body": "Ah I see. But then how would I select the top quantile afterwards? Previously I had: <code>top_quantile_df = df[quantiles.eq(1)]</code>, but after I drop the <code>labels</code> argument I get <code>IndexError: index 0 is out of bounds for axis 0 with size 0</code>"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 4, "creation_date": 1577311849, "post_id": 59482017, "comment_id": 105140781, "body": "If you do <code>labels=False</code> it will label them with integers starting from <code>0</code>. You\u2019d then need to mask by the max per group afterwards"}, {"owner": {"reputation": 652, "user_id": 6367971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a657e3d2d653a9fd7743a9ba5f34e692?s=128&d=identicon&r=PG&f=1", "display_name": "MSD", "link": "https://stackoverflow.com/users/6367971/msd"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1577312142, "post_id": 59482017, "comment_id": 105140813, "body": "Sorry but not sure I follow what you mean by mask by max per group. I don&#39;t really need a max limit on each group/bin\u2014really only want the top <code>Value</code> quantile for that specific group."}], "owner": {"reputation": 652, "user_id": 6367971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a657e3d2d653a9fd7743a9ba5f34e692?s=128&d=identicon&r=PG&f=1", "display_name": "MSD", "link": "https://stackoverflow.com/users/6367971/msd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6298, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1577309948, "creation_date": 1577309948, "question_id": 59482017, "link": "https://stackoverflow.com/questions/59482017/bin-labels-must-be-one-fewer-than-the-number-of-bin-edges-after-passing-pd-qcu", "title": "&quot;Bin labels must be one fewer than the number of bin edges&quot; after passing pd.qcut duplicates=&#39;drop&#39; kwarg", "body": "<p>I have a <code>df</code> with hundreds of thousands of rows, and am creating a new dataframe which only contains the top quantile of rows for some group of values:</p>\n\n<pre><code>quantiles = (df.groupby(['Person', 'Date'])['Value'].apply(lambda x: pd.qcut(x, 4, labels=[0, 0.25, 0.5, 1], duplicates='drop')))\n</code></pre>\n\n<p>When I run it, I get:</p>\n\n<pre><code>ValueError: Bin labels must be one fewer than the number of bin edges\n</code></pre>\n\n<p>After trying to change the number of <code>bins</code> to <code>5</code> I still get the same error. </p>\n\n<p>How can I fix this? </p>\n"}, {"tags": ["python", "python-dataclasses"], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 9517888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dZH0D.jpg?s=128&g=1", "display_name": "slqq", "link": "https://stackoverflow.com/users/9517888/slqq"}, "edited": false, "score": 0, "creation_date": 1577313447, "post_id": 59482295, "comment_id": 105141009, "body": "Yes, that&#39;s it. :) Cheers mate. I was looking for examples of dictionary factory because I had no idea how it should look like. Thank you."}, {"owner": {"reputation": 1488, "user_id": 1366696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8a8ff690a4afe79c40eb03ed84beb8?s=128&d=identicon&r=PG", "display_name": "Venkatesh-Prasad Ranganath", "link": "https://stackoverflow.com/users/1366696/venkatesh-prasad-ranganath"}, "reply_to_user": {"reputation": 155, "user_id": 9517888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dZH0D.jpg?s=128&g=1", "display_name": "slqq", "link": "https://stackoverflow.com/users/9517888/slqq"}, "edited": false, "score": 1, "creation_date": 1577313548, "post_id": 59482295, "comment_id": 105141021, "body": "Glad to help :)  BTW, you could avoid the creation of the intermediate list with <code>tmp1 = (x for x in data if x[1] is not None)</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1577612548, "post_id": 59482295, "comment_id": 105207685, "body": "It seems like a bad idea to make the dict factory a <code>dict</code> subclass. The result will be composed of instances of <code>CustomDict</code> instead of instances of <code>dict</code>, which causes a variety of weird and subtle inconsistencies with regular dicts. Why not just write a function that builds a <code>dict</code> without <code>None</code> values?"}, {"owner": {"reputation": 1488, "user_id": 1366696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8a8ff690a4afe79c40eb03ed84beb8?s=128&d=identicon&r=PG", "display_name": "Venkatesh-Prasad Ranganath", "link": "https://stackoverflow.com/users/1366696/venkatesh-prasad-ranganath"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1577642511, "post_id": 59482295, "comment_id": 105214783, "body": "@user2357112supportsMonica Yes, that is an alternative.  I have updated the answer with your suggestion.  While I have heard about arguments against custom dictionaries, I am not sure they apply in simple cases such as above."}], "tags": [], "owner": {"reputation": 1488, "user_id": 1366696, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8a8ff690a4afe79c40eb03ed84beb8?s=128&d=identicon&r=PG", "display_name": "Venkatesh-Prasad Ranganath", "link": "https://stackoverflow.com/users/1366696/venkatesh-prasad-ranganath"}, "is_accepted": true, "score": 9, "last_activity_date": 1578941418, "last_edit_date": 1578941418, "creation_date": 1577313140, "answer_id": 59482295, "question_id": 59481989, "link": "https://stackoverflow.com/questions/59481989/dict-from-nested-dataclasses/59482295#59482295", "title": "Dict from nested dataclasses", "body": "<p>You could create a custom dictionary factory that drops <code>None</code> valued keys and use it with <code>asdict()</code>.</p>\n\n<pre><code>class CustomDict(dict):\n    def __init__(self, data):\n        super().__init__(x for x in data if x[1] is not None)\n\nexample = Main()\nexample_d = asdict(example, dict_factory=CustomDict)\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong>  Based on @user2357112-supports-monica suggestion, here's an alternative that does not use custom dictionaries.</p>\n\n<pre><code>def factory(data):\n    return dict(x for x in data if x[1] is not None)\n\n\nexample = Main()\nexample_d = asdict(example, dict_factory=factory)\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 9517888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dZH0D.jpg?s=128&g=1", "display_name": "slqq", "link": "https://stackoverflow.com/users/9517888/slqq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2990, "favorite_count": 0, "accepted_answer_id": 59482295, "answer_count": 1, "score": 6, "last_activity_date": 1615935975, "creation_date": 1577309587, "last_edit_date": 1578941242, "question_id": 59481989, "link": "https://stackoverflow.com/questions/59481989/dict-from-nested-dataclasses", "title": "Dict from nested dataclasses", "body": "<p>I'm wondering how could I transform nested dataclasses to dict except for <code>None</code> fields. I'm aware of <code>asdict()</code> method existence, but I'm trying to write method similar to <code>asdict()</code> that will ignore empty values during <code>dict</code> creation.</p>\n\n<p>For example:</p>\n\n<pre><code>@dataclass\nclass Nested:\n    name: str = None\n    contacts: list = field(default_factory = list)\n\n@dataclass\nclass Main:\n    nested: Nested = field(default_factory = Nested)\n    surname: str = None\n</code></pre>\n\n<p>Expected result would be:</p>\n\n<pre><code>example = Main()\nexample_d = asdict(example)\nprint(example_d)\n\n{\"nested\": {\"contacts\": []}}\n</code></pre>\n\n<p>What I have currently:</p>\n\n<pre><code>example = Main()\nexample_d = asdict(example)\nprint(example_d)\n\n{\"nested\": {\"name\": None, \"contacts\": []}, surname: None}\n</code></pre>\n\n<p>I know that <code>asdict()</code> would ignore fields without value and given default as default, but I need <code>= None</code> during dataclass initialization. </p>\n\n<p>I ended up overriding the <code>asdict()</code> and <code>_asdict_inner()</code> methods:</p>\n\n<pre><code>def asdict(obj, *, dict_factory=dict):\n    if not _is_dataclass_instance(obj):\n        raise TypeError(\"asdict() should be called on dataclass instances\")\n    return _asdict_inner(obj, dict_factory)\n\n\ndef _asdict_inner(obj, dict_factory):\n    if _is_dataclass_instance(obj):\n        result = []\n        for f in fields(obj):\n            value = _asdict_inner(getattr(obj, f.name), dict_factory)\n            result.append((f.name, value))\n        return dict_factory(result)\n    elif isinstance(obj, tuple) and hasattr(obj, '_fields'):\n        return type(obj)(*[_asdict_inner(v, dict_factory) for v in obj])\n    elif isinstance(obj, (list, tuple)):\n        return type(obj)(_asdict_inner(v, dict_factory) for v in obj)\n    elif isinstance(obj, dict):\n        return type(obj)((_asdict_inner(k, dict_factory),\n                          _asdict_inner(v, dict_factory))\n                         for k, v in obj.items() if v is not None) # &lt;- Mine change to exclude None values and keys.\n    else:\n        return copy.deepcopy(obj)\n</code></pre>\n\n<p>But it doesn't work as supposed. </p>\n\n<p>Implementation of <code>_is_dataclass_instance</code> as requested. It's from the <code>dataclass</code> module.</p>\n\n<pre><code>def _is_dataclass_instance(obj):\n    \"\"\"Returns True if obj is an instance of a dataclass.\"\"\"\n    return not isinstance(obj, type) and hasattr(obj, _FIELDS)\n</code></pre>\n"}, {"tags": ["python", "kivy", "default", "reset", "kivy-language"], "comments": [{"owner": {"reputation": 20381, "user_id": 7254633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XCPaMN6qzA0/AAAAAAAAAAI/AAAAAAAAADs/o9igiVGFyK0/photo.jpg?sz=128", "display_name": "John Anderson", "link": "https://stackoverflow.com/users/7254633/john-anderson"}, "edited": false, "score": 0, "creation_date": 1577311049, "post_id": 59481986, "comment_id": 105140652, "body": "You can use <code>remove_widget()</code> to remove a <code>Screen</code>, then re-create that <code>Screen</code> and re-add it to the <code>ScreenManager</code>."}, {"owner": {"reputation": 113, "user_id": 10491422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qIUvo.jpg?s=128&g=1", "display_name": "Pablo D&#237;az", "link": "https://stackoverflow.com/users/10491422/pablo-d%c3%adaz"}, "edited": false, "score": 0, "creation_date": 1577566021, "post_id": 59481986, "comment_id": 105201146, "body": "You can delete information after moving to another screen setting like <code>self.ids.firstlabel.text=&#39;-&#39;</code>"}, {"owner": {"reputation": 39, "user_id": 12576979, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAfL8D4xO7pvfFSUIb9P0KTudxWZVu-23SGu_eJ2A=k-s128", "display_name": "confusionm", "link": "https://stackoverflow.com/users/12576979/confusionm"}, "edited": false, "score": 0, "creation_date": 1577894389, "post_id": 59481986, "comment_id": 105276318, "body": "Yes, that&#39;s the approach I used so far (<code>reset_screen</code>), but that does result in a lot of lines of code - especially if I will increase the amount of screens and number of widgets/ screen. I&#39;m looking for a more simple and short way to do this."}], "owner": {"reputation": 39, "user_id": 12576979, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAfL8D4xO7pvfFSUIb9P0KTudxWZVu-23SGu_eJ2A=k-s128", "display_name": "confusionm", "link": "https://stackoverflow.com/users/12576979/confusionm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577309536, "creation_date": 1577309536, "question_id": 59481986, "link": "https://stackoverflow.com/questions/59481986/python-kivy-reset-widgets-and-delete-data-input", "title": "Python/ Kivy: Reset widgets and delete data input", "body": "<p>I am developing a GUI with Python/ Kivy, which consists out of several Screens that contain a variety of Kivy widgets (TextInput, Spinner, DropDown, CheckBox, Label,...). I am using Buttons and the ScreenManager to switch between different screens. The problem I am facing is that after switching screens, the input data is still saved in the widgets. My aim is that after the data has been entered and submitted to a database, the input will then be deleted from the kivy widgets.</p>\n\n<p>What options does kivy offer, to reset the input data for an entire screen after a specific event (Button, ScreenChange, etc.)? The only thing I came up with, was defining a function <code>reset_screen</code> for every single screen, which will delete the entire input data of a screen. Is it possible to somehow save the default status of a screen and then call it again after an event?\nThanks! </p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 1132, "user_id": 6670570, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EP3bp.jpg?s=128&g=1", "display_name": "Matts", "link": "https://stackoverflow.com/users/6670570/matts"}, "edited": false, "score": 1, "creation_date": 1577324057, "post_id": 59481983, "comment_id": 105142279, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/6170246/how-do-i-use-matplotlib-autopct\">How do I use matplotlib autopct?</a>"}, {"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "reply_to_user": {"reputation": 1132, "user_id": 6670570, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/EP3bp.jpg?s=128&g=1", "display_name": "Matts", "link": "https://stackoverflow.com/users/6670570/matts"}, "edited": false, "score": 0, "creation_date": 1577372123, "post_id": 59481983, "comment_id": 105154298, "body": "Unfortunately, the suggested solution only works if a pie/donut chart had one layer/level. I have three levels in my donut chart above. Thus, the link does not answer my question."}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1577409191, "post_id": 59481983, "comment_id": 105163851, "body": "This format string <code>&#39;%1.1%%f&#39;</code> doesn&#39;t seem right. I guess it should be <code>&#39;%4.2f%%&#39;</code> (note the position of the <code>f</code>)."}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1577410055, "post_id": 59481983, "comment_id": 105164002, "body": "And if the problem you are trying to solve is the position of the percentiles, then you are looking for <code>pctdistance</code> parameter of <code>matplotlib.pie()</code>."}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1577410404, "post_id": 59481983, "comment_id": 105164054, "body": "I got a good visual with <code>pctdistance</code>s of 1, .9, and .8, for each pie, respectively."}], "answers": [{"comments": [{"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "edited": false, "score": 0, "creation_date": 1577411133, "post_id": 59495105, "comment_id": 105164147, "body": "Thank you for explaining the pctdistance modifier, Accdias! The is almost there - but the visual isnt quite ideal yet! Some values overlap somewhat....Is there a way to only display those values with &gt; than a certain % (eg: 3% or higher) or rotate the values inside the label you think?"}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "reply_to_user": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "edited": false, "score": 0, "creation_date": 1577411315, "post_id": 59495105, "comment_id": 105164167, "body": "You can pass a function for <code>autopct</code> and then you can have your function returning a string based on the condition you want. About rotating the labels, I guess we don&#39;t have that function. I&#39;m going to check the manual."}, {"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "edited": false, "score": 0, "creation_date": 1577411686, "post_id": 59495105, "comment_id": 105164219, "body": "Can you provide a simple example in code for the function you are thinking about? I think rotation is unnecessary if one can set a criterion. One simple fix to improve the visual appeal is to simply increase the thickness of each donut layer to 0.2 units instead of 0.1 units. This allowed me more control to use the pct distance and fit the % values into the center of each donut/level within."}, {"owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "reply_to_user": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "edited": false, "score": 0, "creation_date": 1577411950, "post_id": 59495105, "comment_id": 105164264, "body": "Check the examples <a href=\"https://code-examples.net/en/q/5e2686\" rel=\"nofollow noreferrer\">here</a>. I also found the parameter <code>rotatelabels</code> but it doesn&#39;t seem to have any effect on the resulting graphic."}, {"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "edited": false, "score": 0, "creation_date": 1577412354, "post_id": 59495105, "comment_id": 105164335, "body": "This is superhelpful accdias - I will accept your answer and probably post a separate question for only printing those values with greater than a certain cut-off value."}, {"owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "reply_to_user": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "edited": false, "score": 0, "creation_date": 1577413116, "post_id": 59495105, "comment_id": 105164420, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204914/discussion-between-sb2020-and-accdias\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3667, "user_id": 6789321, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B5oSDMyNAyc/AAAAAAAAAAI/AAAAAAAAT6s/i6ZRf_boOu4/photo.jpg?sz=128", "display_name": "accdias", "link": "https://stackoverflow.com/users/6789321/accdias"}, "is_accepted": true, "score": 2, "last_activity_date": 1577419163, "last_edit_date": 1577419163, "creation_date": 1577410677, "answer_id": 59495105, "question_id": 59481983, "link": "https://stackoverflow.com/questions/59481983/add-percent-labels-to-three-level-donut-chart/59495105#59495105", "title": "add percent labels to three-level donut chart", "body": "<p>Summarizing my comments, here is the code from where I got a better graphic output and, I believe, what you are looking for:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib.pyplot as plt\nimport numpy as np\n\n\n# Example function that you can call from pie(autopct=autopct)\ndef autopct(pct):\n    if pct &gt; 0.5:\n        return f'{pct:.2f}%'\n    else:\n        return ''\n\n\nfig = plt.figure()\nfig.set_figheight(7)\nfig.set_figwidth(22)\n\nax1 = fig.add_subplot(121)\n\nfirst_labels = (\n    'Bonjovi',\n    'Superman',\n    'Darius Royale',\n    'Stargazer 1991 Viz',\n    'Obligatory Vis1',\n    'Gertrude',\n    'Trimbel',\n    'Olio',\n    'Iniwaka'\n)\nfirst_sizes = (2000, 300, 200, 100, 100, 150, 40, 30, 700)\nsecond_sizes = (1000, 200, 200, 400, 500, 40, 1, 1, 1000)\nthird_sizes = (500, 300, 400, 500, 400, 100, 5, 2, 800)\n\nflatui = (sns.diverging_palette(20, 250, n=8))\n\nbigger = plt.pie(\n    first_sizes,\n    colors=flatui,\n    startangle=90,\n    frame=True,\n    radius=1,\n    wedgeprops={'edgecolor':'k'},\n#    autopct='%.2f%%',\n    autopct=autopct,\n    pctdistance=1\n)\n\nsmaller = plt.pie(\n    second_sizes,\n    colors=flatui,\n    radius=0.9,\n    startangle=90,\n    wedgeprops={'edgecolor':'k'},\n#    autopct='%.2f%%',\n    autopct=autopct,\n    pctdistance=.9\n)\n\nsmallest = plt.pie(\n    third_sizes,\n    colors=flatui,\n    radius=0.8,\n    startangle=90,\n    wedgeprops={'edgecolor':'k'},\n#    autopct='%.2f%%',\n    autopct=autopct,\n    pctdistance=.8\n)\n\ncentre_circle = plt.Circle((0, 0), 0.7, color='white', linewidth=0)\n\nplt.gca().add_artist(centre_circle)\n\n# add legend to current ax:\nplt.gca().legend(\n    first_labels,\n    loc='center right',\n    bbox_to_anchor=(1,0,.4,1),\n    frameon=True\n)\n\nplt.show()\n</code></pre>\n\n<p>You will need to tweak <code>pctdistance</code> until you are satisfied with the result.</p>\n\n<p>EDIT:</p>\n\n<p>After researching a little I wrote this better (IMHO) version:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib.pyplot as plt\n\n\nfig, ax = plt.subplots()\nax.axis('equal')\n\nsizes = dict(\n    first = (2000, 300, 200, 100, 100, 150, 40, 30, 700),\n    second = (1000, 200, 200, 400, 500, 40, 1, 1, 1000),\n    third = (500, 300, 400, 500, 400, 100, 5, 2, 800)\n)\n\npercentiles = dict(\n    first = [x*100/sum(sizes['first']) for x in sizes['first']],\n    second = [x*100/sum(sizes['second']) for x in sizes['second']],\n    third = [x*100/sum(sizes['third']) for x in sizes['third']]\n)\n\nlabels = dict(\n    first = [f\"{x:.2f}%\" if x &gt;.5 else '' for x in percentiles['first']],\n    second = [f\"{x:.2f}%\" if x &gt;.5 else '' for x in percentiles['second']],\n    third = [f\"{x:.2f}%\" if x &gt;.5 else '' for x in percentiles['third']]\n)\n\nwidth = 0.35\nradius = 1.5\n\nfirst, _ = ax.pie(\n    sizes['first'],\n    startangle=90,\n    radius=radius,\n    labeldistance=.9,\n    labels=labels['first'],\n    rotatelabels=True\n)\n\nsecond, _ = ax.pie(\n    sizes['second'],\n    radius=radius - width,\n    startangle=90,\n    labeldistance=.9,\n    labels=labels['second'],\n    rotatelabels=True\n)\n\nthird, _ = ax.pie(\n    sizes['third'],\n    radius=radius - 2 * width,\n    startangle=90,\n    labeldistance=.9,\n    labels=labels['third'],\n    rotatelabels=True\n)\n\nplt.setp(first + second + third, width=width, edgecolor='white')\n\nplt.show()\n\n</code></pre>\n"}], "owner": {"reputation": 491, "user_id": 9194965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de33466d0443f90d1ad5629badce2bba?s=128&d=identicon&r=PG&f=1", "display_name": "sb2020", "link": "https://stackoverflow.com/users/9194965/sb2020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 59495105, "answer_count": 1, "score": 0, "last_activity_date": 1577419163, "creation_date": 1577309521, "last_edit_date": 1577409012, "question_id": 59481983, "link": "https://stackoverflow.com/questions/59481983/add-percent-labels-to-three-level-donut-chart", "title": "add percent labels to three-level donut chart", "body": "<p>I would like to add percentage values for each of the labels and layers within my three-layered donut plot.  </p>\n\n<p>The following code generates the three layer donut plot and legend appropriately. However, it messes up the display of the percentage values (see output figure at bottom of this question).</p>\n\n<p>Current solutions at stack overflow or elsewhere only work for adding percentage values to pie/donut chart (eg: <a href=\"https://stackoverflow.com/questions/6170246/how-do-i-use-matplotlib-autopct\">How do I use matplotlib autopct?\n</a>) but I have three layers/levels to my pie/donut chart. My code follows below:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nfig = plt.figure()\nfig.set_figheight(7)\nfig.set_figwidth(22)\n\nax1 = fig.add_subplot(121)\n\nfirst_labels = [\"Bonjovi\", \"Superman\", \"Darius_royale\", \"Stargazer_1991_viz\", \"Obligatory_Vis1\", \"Gertrude\", 'Trimbel', \"Olio\", \"Iniwaka\"]\nfirst_sizes = [2000, 300, 200, 100, 100, 150, 40, 30, 700]\n\nsecond_sizes = [1000, 200, 200, 400, 500, 40, 1, 1, 1000]\n\nthird_sizes = [500, 300, 400, 500, 400, 100, 5, 2, 800]\n\nflatui = (sns.diverging_palette(20, 250, n=8))\n\nbigger = plt.pie(first_sizes, colors=flatui, startangle=90, frame=True, radius = 1,\n                 wedgeprops={'edgecolor':'k'}, autopct = '%1.1%%f')\n\nsmaller = plt.pie(second_sizes, colors=flatui, radius=0.9, startangle=90,\n                 wedgeprops={'edgecolor':'k'}, autopct = '%1.1%%f')\n\nsmallest = plt.pie(third_sizes, colors=flatui, radius=0.8, startangle=90, \n                  wedgeprops={'edgecolor':'k'}, autopct = '%1.1%%f')\n\ncentre_circle = plt.Circle((0, 0), 0.7, color='white', linewidth=0)\n\nplt.gca().add_artist(centre_circle)\n\n# add legend to current ax:\nplt.gca().legend(first_labels, loc='center right', bbox_to_anchor=(1,0,.4,1), frameon = True)\n\nplt.show();\n\n</code></pre>\n\n<p>The results of the above code look as follows:<a href=\"https://i.stack.imgur.com/yhy66.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yhy66.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can somebody please guide me on how to get the percentage values to display neatly within each donut ring? </p>\n"}, {"tags": ["python", "opencv", "image-processing", "crop"], "comments": [{"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1577310551, "post_id": 59481977, "comment_id": 105140557, "body": "Welcome to StackOverflow. This site does not serve as general issue solving portal. The community will work with you to get a working solution, but you should share a bit of code showing what you have done already and didnt work. Read How to create a Minimal, Reproducible Example (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>) and How do I ask a good question (<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>)? I suggest you look into flood fill and contours for the pink region."}, {"owner": {"reputation": 81, "user_id": 5555066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18a3755ef94fba2e3b6f07e813304600?s=128&d=identicon&r=PG&f=1", "display_name": "racemic", "link": "https://stackoverflow.com/users/5555066/racemic"}, "reply_to_user": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1577318110, "post_id": 59481977, "comment_id": 105141601, "body": "Hi there - I&#39;ve attempted with my own basic code but it&#39;s just not working. I&#39;ve tried the following:  img = img[30:-30, 30:-30, :]  But it only shaves off 30 pixels from each end of the image. I&#39;m looking for a more sophisticated way to remove the bottom contour of the image."}, {"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1577327641, "post_id": 59481977, "comment_id": 105142642, "body": "I suggest you look into cv2.floodfill and cv2.findContours to get the outer contour of the pink region. The create a mask for that region and copy the region into a new black image that is the size of the bounding box for that contour."}], "answers": [{"tags": [], "owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "is_accepted": false, "score": 1, "last_activity_date": 1577334522, "creation_date": 1577334522, "answer_id": 59483834, "question_id": 59481977, "link": "https://stackoverflow.com/questions/59481977/how-to-use-opencv-to-crop-an-image-based-on-a-certain-criteria/59483834#59483834", "title": "How to use OpenCV to crop an image based on a certain criteria?", "body": "<p>Here is one way using Python/OpenCV. </p>\n\n<ul>\n<li>Read input</li>\n<li>Get center point (assume it is inside the desired region)</li>\n<li>Convert image to grayscale</li>\n<li>Floodfill the gray image and set background to black</li>\n<li>Get the largest contour and its bounding box</li>\n<li>Draw the largest contour as filled on black background as mask</li>\n<li>Apply the mask to the input image</li>\n<li>Crop the masked input image</li>\n</ul>\n\n<p>Input:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3de5E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3de5E.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import cv2\nimport numpy as np\n\n# load image and get dimensions\nimg = cv2.imread(\"odd_region.png\")\nhh, ww, cc = img.shape\n\n# compute center of image (as integer)\nwc = ww//2\nhc = hh//2\n\n# create grayscale copy of input as basis of mask\ngray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)\n\n# create zeros mask 2 pixels larger in each dimension\nzeros = np.zeros([hh + 2, ww + 2], np.uint8)\n\n# do floodfill at center of image as seed point\nffimg = cv2.floodFill(gray, zeros, (wc,hc), (255), (0), (0), flags=8)[1]\n\n# set rest of ffimg to black\nffimg[ffimg!=255] = 0\n\n# get contours, find largest and its bounding box \ncontours = cv2.findContours(ffimg, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\ncontours = contours[0] if len(contours) == 2 else contours[1]\narea_thresh = 0\nfor cntr in contours:\n    area = cv2.contourArea(cntr)\n    if area &gt; area_thresh:\n        area = area_thresh\n        outer_contour = cntr\n        x,y,w,h = cv2.boundingRect(outer_contour)\n\n# draw the filled contour on a black image\nmask = np.full([hh,ww,cc], (0,0,0), np.uint8)\ncv2.drawContours(mask,[outer_contour],0,(255,255,255),thickness=cv2.FILLED)\n\n# mask the input\nmasked_img = img.copy()\nmasked_img[mask == 0] = 0\n#masked_img[mask != 0] = img[mask != 0]\n\n# crop the bounding box region of the masked img\nresult = masked_img[y:y+h, x:x+w]\n\n# draw the contour outline on a copy of result\nresult_outline = result.copy()\ncv2.drawContours(result_outline,[outer_contour],0,(0,0,255),thickness=1,offset=(-x,-y))\n\n\n# display it\ncv2.imshow(\"img\", img)\ncv2.imshow(\"ffimg\", ffimg)\ncv2.imshow(\"mask\", mask)\ncv2.imshow(\"masked_img\", masked_img)\ncv2.imshow(\"result\", result)\ncv2.imshow(\"result_outline\", result_outline)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n\n# write result to disk\ncv2.imwrite(\"odd_region_cropped.png\", result)\ncv2.imwrite(\"odd_region_cropped_outline.png\", result_outline)\n</code></pre>\n\n<p><br>\nResult:\n<a href=\"https://i.stack.imgur.com/n1QAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n1QAH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Result With Contour Drawn:\n<a href=\"https://i.stack.imgur.com/1aBx4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1aBx4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 81, "user_id": 5555066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18a3755ef94fba2e3b6f07e813304600?s=128&d=identicon&r=PG&f=1", "display_name": "racemic", "link": "https://stackoverflow.com/users/5555066/racemic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1577334522, "creation_date": 1577309448, "question_id": 59481977, "link": "https://stackoverflow.com/questions/59481977/how-to-use-opencv-to-crop-an-image-based-on-a-certain-criteria", "title": "How to use OpenCV to crop an image based on a certain criteria?", "body": "<p>I would like to crop the images like the one below using python's OpenCV library. The area of interest is inside the squiggly lines on the top and bottom, and the lines on the side. The problem is that every image is slightly different. This means that I need some automated way of cropping for the area of interest. I guess the top and the sides would be easy since you could just crop it by 10 pixels or so. But how can I crop out the bottom half of the image where the line is not straight? I have included this example image. The image that follows highlights in pink the area of the image that I am interested in keeping.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RYmA5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYmA5.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/sQmLz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQmLz.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1577330607, "creation_date": 1577330607, "answer_id": 59483535, "question_id": 59481941, "link": "https://stackoverflow.com/questions/59481941/disable-tab-tkinter-python/59483535#59483535", "title": "Disable TAB TKINTER python", "body": "<p>You must use the <code>tab</code> method to configure an individual tab, just like you're doing in some other places in your code. The first argument is a reference to the tab, such as the integer index of the tab. Following that is the <code>state</code> option with the desired value.</p>\n\n<p>For example:</p>\n\n<pre><code>self.TNotebook1.tab(0, state=\"disabled\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 769, "user_id": 12483799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlVcX.jpg?s=128&g=1", "display_name": "Somraj Chowdhury", "link": "https://stackoverflow.com/users/12483799/somraj-chowdhury"}, "is_accepted": true, "score": 0, "last_activity_date": 1577333295, "creation_date": 1577333295, "answer_id": 59483734, "question_id": 59481941, "link": "https://stackoverflow.com/questions/59481941/disable-tab-tkinter-python/59483734#59483734", "title": "Disable TAB TKINTER python", "body": "<p>I have made the following changes in the <code>desativa_tab2()</code> function inside of the <code>teste_suporte.py</code> file to <code>disable</code> the <code>tab 2</code> in the notebook.</p>\n\n<p>I used <code>notebook_name.tabs()</code> that will return a list of tab references in the notebook in order of first tab1, then tab2 and so on..</p>\n\n<p>So, this notebook has two tabs and we want to disable the tab 2 therefore, grab the tab2 reference from the list of tabs at index 1.</p>\n\n<p><code>tab2 = w.TNotebook1.tabs()[1]</code></p>\n\n<p>Then select the tab2 from the notebook using <code>notebook_name.tab()</code> and then <code>disable</code> that very tab using the tab2 reference grabbed in the previous step</p>\n\n<p><code>w.TNotebook1.tab(tab2, state='disabled')</code></p>\n\n<p>Here is the complete <code>desativa_tab2()</code> function:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def desativa_tab2():\n    global w\n\n    tab2_name = w.TNotebook1.tabs()[1]\n    w.TNotebook1.tab(tab2_name, state='disabled')\n\n    print('teste_support.desativa_tab2')\n    sys.stdout.flush()\n</code></pre>\n\n<p>Replace this function in your <code>teste_suporte.py</code> file. I tried to explain what changes I made with a bit of theory. Hope you understand!</p>\n"}], "owner": {"reputation": 3, "user_id": 11596546, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IaOQEUiQMvk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMNb_hDhnhkAoCGNA9pvS-oZbQVw/mo/photo.jpg?sz=128", "display_name": "Guilherme Hunaldo soares", "link": "https://stackoverflow.com/users/11596546/guilherme-hunaldo-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 59483734, "answer_count": 2, "score": 0, "last_activity_date": 1577333295, "creation_date": 1577308975, "last_edit_date": 1577324526, "question_id": 59481941, "link": "https://stackoverflow.com/questions/59481941/disable-tab-tkinter-python", "title": "Disable TAB TKINTER python", "body": "<p>I am new to python and I am trying to disable TAB2 from widget notebook tkinter, through the support_test.py file I have the command of the disable_tab2 button, which should have the command to disable the option, but I get the error below:</p>\n\n<pre><code>Exception in Tkinter callback Traceback (most recent call last):   File\n\"C:\\Users\\Ryzen\\AppData\\Local\\Programs\\Python\\Python37\\lib\\tkinter\\__init__.p&gt;y\", line 1705, in __call__\n    return self.func(*args)   File \"c:\\teste\\teste_support.py\", line 20, in desativa_tab2\n    w.TNotebook1_t0.configure(state='disabaled')   File \"C:\\Users\\Ryzen\\AppData\\Local\\Programs\\Python\\Python37\\lib\\tkinter\\__init__.py\", line 1485, in configure\n    return self._configure('configure', cnf, kw)   File \"C:\\Users\\Ryzen\\AppData\\Local\\Programs\\Python\\Python37\\lib\\tkinter\\__init__.py\", line 1476, in _configure\n    self.tk.call(_flatten((self._w, cmd)) + self._options(cnf))\n_tkinter.TclError: unknown option \"-state\"\n</code></pre>\n\n<p>file teste.py</p>\n\n<pre><code>#  -*- coding: utf-8 -*-\n\nimport sys\n\ntry:\n    import Tkinter as tk\nexcept ImportError:\n    import tkinter as tk\n\ntry:\n    import ttk\n    py3 = False\nexcept ImportError:\n    import tkinter.ttk as ttk\n    py3 = True\n\n\nimport teste_support\n\ndef vp_start_gui():\n    '''Starting point when module is the main routine.'''\n    global val, w, root\n    root = tk.Tk()\n    top = Toplevel1 (root)\n    teste_support.init(root, top)\n    root.mainloop()\n\nw = None\ndef create_Toplevel1(root, *args, **kwargs):\n    '''Starting point when module is imported by another program.'''\n    global w, w_win, rt\n    rt = root\n    w = tk.Toplevel (root)\n    top = Toplevel1 (w)\n    teste_support.init(w, top, *args, **kwargs)\n    return (w, top)\n\ndef destroy_Toplevel1():\n    global w\n    w.destroy()\n    w = None\n\nclass Toplevel1:\n    def __init__(self, top=None):\n        '''This class configures and populates the toplevel window.\n           top is the toplevel containing window.'''\n        _bgcolor = '#d9d9d9'  # X11 color: 'gray85'\n        _fgcolor = '#000000'  # X11 color: 'black'\n        _compcolor = '#d9d9d9' # X11 color: 'gray85'\n        _ana1color = '#d9d9d9' # X11 color: 'gray85'\n        _ana2color = '#ececec' # Closest X11 color: 'gray92'\n        self.style = ttk.Style()\n        if sys.platform == \"win32\":\n            self.style.theme_use('winnative')\n        self.style.configure('.',background=_bgcolor)\n        self.style.configure('.',foreground=_fgcolor)\n        self.style.configure('.',font=\"TkDefaultFont\")\n        self.style.map('.',background=\n            [('selected', _compcolor), ('active',_ana2color)])\n\n        top.geometry(\"600x450+633+190\")\n        top.minsize(120, 1)\n        top.maxsize(1924, 1061)\n        top.resizable(1, 1)\n        top.title(\"New Toplevel\")\n        top.configure(background=\"#d9d9d9\")\n\n        self.Button1 = tk.Button(top)\n        self.Button1.place(relx=0.417, rely=0.044, height=24, width=47)\n        self.Button1.configure(activebackground=\"#ececec\")\n        self.Button1.configure(activeforeground=\"#000000\")\n        self.Button1.configure(background=\"#d9d9d9\")\n        self.Button1.configure(command=teste_support.desativa_tab2)\n        self.Button1.configure(disabledforeground=\"#a3a3a3\")\n        self.Button1.configure(foreground=\"#000000\")\n        self.Button1.configure(highlightbackground=\"#d9d9d9\")\n        self.Button1.configure(highlightcolor=\"black\")\n        self.Button1.configure(pady=\"0\")\n        self.Button1.configure(text='''Button''')\n\n        self.style.configure('TNotebook.Tab', background=_bgcolor)\n        self.style.configure('TNotebook.Tab', foreground=_fgcolor)\n        self.style.map('TNotebook.Tab', background=\n            [('selected', _compcolor), ('active',_ana2color)])\n        self.TNotebook1 = ttk.Notebook(top)\n        self.TNotebook1.place(relx=0.067, rely=0.222, relheight=0.591\n                , relwidth=0.69)\n        self.TNotebook1.configure(takefocus=\"\")\n        self.TNotebook1_t0 = tk.Frame(self.TNotebook1)\n        self.TNotebook1.add(self.TNotebook1_t0, padding=3)\n        self.TNotebook1.tab(0, text=\"Page 1\",compound=\"left\",underline=\"-1\",)\n        self.TNotebook1_t0.configure(background=\"#d9d9d9\")\n        self.TNotebook1_t0.configure(highlightbackground=\"#d9d9d9\")\n        self.TNotebook1_t0.configure(highlightcolor=\"black\")\n        self.TNotebook1_t1 = tk.Frame(self.TNotebook1)\n        self.TNotebook1.add(self.TNotebook1_t1, padding=3)\n        self.TNotebook1.tab(1, text=\"Page 2\",compound=\"left\",underline=\"-1\",)\n        self.TNotebook1_t1.configure(background=\"#d9d9d9\")\n        self.TNotebook1_t1.configure(highlightbackground=\"#d9d9d9\")\n        self.TNotebook1_t1.configure(highlightcolor=\"black\")\n\n        self.Label1 = tk.Label(self.TNotebook1_t0)\n        self.Label1.place(relx=0.195, rely=0.333, height=21, width=104)\n        self.Label1.configure(background=\"#d9d9d9\")\n        self.Label1.configure(disabledforeground=\"#a3a3a3\")\n        self.Label1.configure(foreground=\"#000000\")\n        self.Label1.configure(text='''TAB 1''')\n\n        self.Label1 = tk.Label(self.TNotebook1_t1)\n        self.Label1.place(relx=0.263, rely=0.258, height=21, width=104)\n        self.Label1.configure(activebackground=\"#f9f9f9\")\n        self.Label1.configure(activeforeground=\"black\")\n        self.Label1.configure(background=\"#d9d9d9\")\n        self.Label1.configure(disabledforeground=\"#a3a3a3\")\n        self.Label1.configure(foreground=\"#000000\")\n        self.Label1.configure(highlightbackground=\"#d9d9d9\")\n        self.Label1.configure(highlightcolor=\"black\")\n        self.Label1.configure(text='''TAB 2''')\n\nif __name__ == '__main__':\n    vp_start_gui()\n</code></pre>\n\n<p>file\nteste_suporte.py</p>\n\n<pre><code>#  -*- coding: utf-8 -*-\n\n\nimport sys\n\ntry:\n    import Tkinter as tk\nexcept ImportError:\n    import tkinter as tk\n\ntry:\n    import ttk\n    py3 = False\nexcept ImportError:\n    import tkinter.ttk as ttk\n    py3 = True\n\ndef desativa_tab2():\n    global w\n    w.TNotebook1_t0.configure(state='disabaled')\n    print('teste_support.desativa_tab2')\n    sys.stdout.flush()\n\ndef init(top, gui, *args, **kwargs):\n    global w, top_level, root\n    w = gui\n    top_level = top\n    root = top\n\ndef destroy_window():\n    # Function which closes the window.\n    global top_level\n    top_level.destroy()\n    top_level = None\n\nif __name__ == '__main__':\n    import teste\n    teste.vp_start_gui()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1268, "user_id": 4342319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba983fd175f2c65b6088c92cc5f661cf?s=128&d=identicon&r=PG&f=1", "display_name": "mmking", "link": "https://stackoverflow.com/users/4342319/mmking"}, "edited": false, "score": 0, "creation_date": 1577308591, "post_id": 59481906, "comment_id": 105140244, "body": "I feel like this would be a better question for <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>."}, {"owner": {"reputation": 9144, "user_id": 2431997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xqDwU.jpg?s=128&g=1", "display_name": "ElmoVanKielmo", "link": "https://stackoverflow.com/users/2431997/elmovankielmo"}, "edited": false, "score": 0, "creation_date": 1577308731, "post_id": 59481906, "comment_id": 105140262, "body": "This question belongs to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> and is off-topic on stack overflow"}, {"owner": {"reputation": 616, "user_id": 1930495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pirg4.jpg?s=128&g=1", "display_name": "Michele Dorigatti", "link": "https://stackoverflow.com/users/1930495/michele-dorigatti"}, "edited": false, "score": 0, "creation_date": 1577308812, "post_id": 59481906, "comment_id": 105140275, "body": "How should I flag it?"}], "answers": [{"tags": [], "owner": {"reputation": 625, "user_id": 9746972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f07fd1f54e2531a95387ff29b44ce59?s=128&d=identicon&r=PG&f=1", "display_name": "dranjohn", "link": "https://stackoverflow.com/users/9746972/dranjohn"}, "is_accepted": false, "score": 0, "last_activity_date": 1577312982, "creation_date": 1577312982, "answer_id": 59482275, "question_id": 59481906, "link": "https://stackoverflow.com/questions/59481906/looking-for-different-ways-to-implement-it-via-python/59482275#59482275", "title": "looking for different ways to implement it via python", "body": "<p>A nice way to solve such arithmetic parsing problems is <a href=\"https://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow noreferrer\">Dijkstras shunting-yard algorithm</a>, which converts arithmetic expressions written in infix notation (like <code>(3 + 1) * 6</code>) into <a href=\"https://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow noreferrer\">Reverse polish notation</a> (like <code>3 1 + 6 *</code>), which has each operator after its operands instead of between them.</p>\n\n<p>Reverse polish notation makes it a lot easier to calculate a result:</p>\n\n<pre><code># Calculates the result of a given arithmetic expression only containing numbers\n# and +, * when given in reverse polish notation\n\noutputStack = []\n\ndef addNumber(number):\n    outputStack.append(number)\n\ndef addOperator(operator):\n    result = operator(outputStack.pop(), outputStack.pop())\n    outputStack.append(result)\n\ndef addOperatorByChar(operatorChar):\n    if (operatorChar == '+'):\n        addOperator(lambda x, y: x + y)\n    if (operatorChar == '*'):\n        addOperator(lambda x, y: x * y)\n    #unknwon operator, don't do anything\n\n#test code:\naddNumber(3)\naddNumber(1)\naddOperatorByChar(\"+\")\naddNumber(6)\naddOperatorByChar(\"*\")\n\nprint(outputStack[0])   #should be 24 in this example\nprint(len(outputStack)) #should be one after correct arithmetic expression\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4392560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zBAorHpJV3A/AAAAAAAAAAI/AAAAAAAAAWQ/lV4N3fApZmw/photo.jpg?sz=128", "display_name": "Prabhat Saxena", "link": "https://stackoverflow.com/users/4392560/prabhat-saxena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577312982, "creation_date": 1577308494, "last_edit_date": 1577310677, "question_id": 59481906, "link": "https://stackoverflow.com/questions/59481906/looking-for-different-ways-to-implement-it-via-python", "title": "looking for different ways to implement it via python", "body": "<ul>\n<li>Write a simple interpreter which understands \"+\", \"-\", and \"*\" operations. </li>\n<li>Apply the operations in order using command/arg pairs starting with the initial value of <code>value</code>. </li>\n<li>If you encounter an unknown command, return -1. </li>\n</ul>\n\n<p>Examples : </p>\n\n<ul>\n<li><code>interpret(1, [\"+\"], [1])</code> \u2192 2 </li>\n<li><code>interpret(4, [\"-\"], [2])</code> \u2192 2 </li>\n<li><code>interpret(1, [\"+\", \"*\"], [1, 3])</code> \u2192 6</li>\n</ul>\n\n\n\n<pre><code>def len_n(val, command, args):\n\n  if command == '+' :\n    return val + args\n  elif command == '-':\n    return val - args\n  elif command == '*':\n    return val * args\n  else:\n    return -1\n\ndef interpret(val, command, args):\n\n  count = len(command)\n\n  for i in range(count) :\n    val = len_n(val,command[i],args[i])\n\n  return val\n*****************\n\n************************\n  final = len_n(val,command[0],args[0])\n  del command[0]\n  del args[0]\n  if command[0:]:\n    final = interpret(final, command, args)\n\n  return final\n****************\n</code></pre>\n\n<p>I tried by above 2 methods both worked as well! what are other methods this can be implemented? Thanks,</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 2575, "user_id": 4016862, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hernando Casas", "link": "https://stackoverflow.com/users/4016862/hernando-casas"}, "edited": false, "score": 0, "creation_date": 1577311387, "post_id": 59481899, "comment_id": 105140707, "body": "great!, both solutions are cool. I think for the particular example I gave @Stef&#39;s answer is way cooler (concise, clear, \u2026). But ansev&#39;s answer has more general applications and it more directly answers my general question, so I&#39;ll mark that as accepted. Many thanks to both."}], "answers": [{"tags": [], "owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "is_accepted": true, "score": 2, "last_activity_date": 1577310545, "last_edit_date": 1577310545, "creation_date": 1577309082, "answer_id": 59481948, "question_id": 59481899, "link": "https://stackoverflow.com/questions/59481899/how-to-replace-values-in-a-subset-of-data-based-on-values-of-other-columns-wit/59481948#59481948", "title": "How to replace values in a subset of data, based on values of other columns, within a Pandas method chaining expression", "body": "<p>We can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.mask.html\" rel=\"nofollow noreferrer\"><code>Series.mask</code></a>:</p>\n\n<pre><code>new_df = (df.assign(grp = df['class_size'].mask(df['class_size'].gt(5),'&gt;5'))\n            .groupby('grp').agg(class_sizes_nunique = ('class_size', 'nunique'), \n                                num_classes = ('num_classes', 'sum')\n                               )\n         )\nprint(new_df)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>     class_sizes_nunique  num_classes\ngrp                                  \n1                      1          100\n2                      1           80\n3                      1           50\n4                      1           40\n5                      1           38\n&gt;5                     5            4\n</code></pre>\n\n<p>We can also use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.where.html\" rel=\"nofollow noreferrer\"><code>Series.where</code></a>:</p>\n\n<pre><code>df.assign(grp = df['class_size'].where(df['class_size'].le(5),'&gt;5'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17050, "user_id": 3944322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1fb31e86bf22c094d34b240544e458ec?s=128&d=identicon&r=PG&f=1", "display_name": "Stef", "link": "https://stackoverflow.com/users/3944322/stef"}, "is_accepted": false, "score": 2, "last_activity_date": 1577309772, "last_edit_date": 1577309772, "creation_date": 1577309391, "answer_id": 59481971, "question_id": 59481899, "link": "https://stackoverflow.com/questions/59481899/how-to-replace-values-in-a-subset-of-data-based-on-values-of-other-columns-wit/59481971#59481971", "title": "How to replace values in a subset of data, based on values of other columns, within a Pandas method chaining expression", "body": "<p>You can <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\">group by</a> a <strong>function</strong>, thus eliminating the need of the auxiliary column:</p>\n\n<blockquote>\n  <p>If by is a function, it\u2019s called on each value of the object\u2019s index</p>\n</blockquote>\n\n<pre><code>df.set_index('class_size', drop=False).groupby(lambda x: x if x &lt;= 5 else '&gt;5').agg(\n        class_sizes_nunique = ('class_size', 'nunique'), \n        num_classes = ('num_classes', 'sum'))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>    class_sizes_nunique  num_classes\n1                     1          100\n2                     1           80\n3                     1           50\n4                     1           40\n5                     1           38\n&gt;5                    5            4\n</code></pre>\n"}], "owner": {"reputation": 2575, "user_id": 4016862, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hernando Casas", "link": "https://stackoverflow.com/users/4016862/hernando-casas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 59481948, "answer_count": 2, "score": 1, "last_activity_date": 1577310545, "creation_date": 1577308431, "question_id": 59481899, "link": "https://stackoverflow.com/questions/59481899/how-to-replace-values-in-a-subset-of-data-based-on-values-of-other-columns-wit", "title": "How to replace values in a subset of data, based on values of other columns, within a Pandas method chaining expression", "body": "<p>The basic task in my question is rather trivial and there are certainly many ways to do it. But the key part of the question is how to do it using a Pandas method chaining expression. What would be the most idiomatic way to do it?</p>\n\n<p>Consider this reproducible example:</p>\n\n<pre><code>df = pd.DataFrame({'class_size':[1,2,3,4,5,6,7,8,9,10],\n                   'num_classes':[100,80,50,40,38,2,1,1,0,0]})\n</code></pre>\n\n<p>now you want to group together all rows where the <code>class_size</code> is greater than 5, because beyond that point the <code>num_classes</code> is very small.</p>\n\n<p>You can quickly create a new column based on the class size and then replace the values greater than 5 for something else.</p>\n\n<pre><code>df['grp'] = df.class_size\ndf.loc[df.class_size &gt; 5, 'grp'] = '&gt; 5'\ndf\n\nclass_size  num_classes grp\n0   1   100 1\n1   2   80  2\n2   3   50  3\n3   4   20  4\n4   5   10  5\n5   6   2   &gt; 5\n6   7   1   &gt; 5\n7   8   1   &gt; 5\n8   9   0   &gt; 5\n9   10  0   &gt; 5\n</code></pre>\n\n<p>Good, that's the desired result (trivial, as I said). And then later you can play with the new df, for example, to produce a summary table.</p>\n\n<pre><code>df.groupby('grp').agg(\n    class_sizes_nunique = ('class_size', 'nunique'), \n    num_classes = ('num_classes', 'sum'),\n)\n\nclass_sizes_nunique num_classes\ngrp     \n1   1   100\n2   1   80\n3   1   50\n4   1   20\n5   1   10\n&gt; 5 5   4\n</code></pre>\n\n<p>Now, what is the best way to accomplish this, but within a Pandas method chaining expression?\nSomething like </p>\n\n<pre><code>(\n    df.\n    replace_values_in_subset().\n    to_other_stuff().\n    \u2026\n)\n</code></pre>\n\n<p>This constraint, I think, rules out the use of <code>.loc[]</code>, because you want the whole dataframe later down the line (with a few values replaced, or alternatively, with a new column with specific values in a subset given by other columns).</p>\n\n<p>So I gave <code>assign()</code> a try.</p>\n\n<p>My first attempt did not work, due to the error \"The truth value of a Series is ambiguous\".</p>\n\n<pre><code>(\n    df.\n    assign(grp = lambda x: x.class_size if x.class_size &gt; 5 else x.class_size).\n    groupby('grp').agg(\n        class_sizes_nunique = ('class_size', 'nunique'), \n        num_classes = ('num_classes', 'sum'),\n    )\n)\n</code></pre>\n\n<p>Then I managed to get the result I want, combining <code>assign()</code> with <code>apply()</code>.</p>\n\n<pre><code>(\n    df.\n    assign(grp = lambda x: x.class_size.apply(lambda y: '&gt; 5' if y &gt; 5 else y)).\n    groupby('grp').agg(\n        class_sizes_nunique = ('class_size', 'nunique'), \n        num_classes = ('num_classes', 'sum'),\n    )\n)\n</code></pre>\n\n<p>This gives me the desired output, \u2026, but it seems weird and convoluted that way of nesting lambdas. And after googling and looking here in SO, I cant find a better way to do it, again, within the constraint of a method chain.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "numpy", "opencv", "image-processing", "classification"], "comments": [{"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1577310241, "post_id": 59481895, "comment_id": 105140497, "body": "Welcome to StackOverflow. This site does not serve as general issue solving portal. The community will hapilly lead you to a working solution, but you should share a bit of code showing what you have done already and didnt work. Read How to create a Minimal, Reproducible Example (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>) and How do I ask a good question (<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>)?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 11283485, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kPqlCqGOKsk/AAAAAAAAAAI/AAAAAAAAGAg/mildGsCCQKY/photo.jpg?sz=128", "display_name": "Kartik Gupta", "link": "https://stackoverflow.com/users/11283485/kartik-gupta"}, "edited": false, "score": 0, "creation_date": 1577393682, "post_id": 59482951, "comment_id": 105160821, "body": "Hey, can you let me know if this works? I&#39;m curious"}], "tags": [], "owner": {"reputation": 19, "user_id": 11283485, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kPqlCqGOKsk/AAAAAAAAAAI/AAAAAAAAGAg/mildGsCCQKY/photo.jpg?sz=128", "display_name": "Kartik Gupta", "link": "https://stackoverflow.com/users/11283485/kartik-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1577322268, "creation_date": 1577322268, "answer_id": 59482951, "question_id": 59481895, "link": "https://stackoverflow.com/questions/59481895/how-to-differentiate-between-trees-and-buildings-in-opencv-and-numpy-in-python/59482951#59482951", "title": "How to differentiate between trees and buildings in OpenCV and NumPy in Python", "body": "<p>Disclaimer: My answer might be super overfitted and wrong, as it is based on just the two sample images</p>\n\n<p>Approach 1 : </p>\n\n<p>Just classify based on the 'squareness' - </p>\n\n<pre><code>delta_x = |x_min - x_max|, delta_y = |y_min - y_max|\nspread_ratio = delta_y/delta_x\nif spread_ratio &gt; thresh:\n   classify as tree\nelse:\n  classify as building\n</code></pre>\n\n<p>Approach 2:\n Your images have very different colors. If that corresponds to height, you can just find a thresholding based on average height of a tree and building</p>\n"}], "owner": {"reputation": 173, "user_id": 11866234, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-H2Bgig48sbo/AAAAAAAAAAI/AAAAAAAAA_w/6zgD1GZJp9o/photo.jpg?sz=128", "display_name": "Sibh", "link": "https://stackoverflow.com/users/11866234/sibh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577322268, "creation_date": 1577308394, "question_id": 59481895, "link": "https://stackoverflow.com/questions/59481895/how-to-differentiate-between-trees-and-buildings-in-opencv-and-numpy-in-python", "title": "How to differentiate between trees and buildings in OpenCV and NumPy in Python", "body": "<p>I am trying to classify buildings and trees in digital elevation models. </p>\n\n<p>Trees normally look like this: <a href=\"https://i.stack.imgur.com/ovnq1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ovnq1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Buildings normally look something like this: <a href=\"https://i.stack.imgur.com/Lr21F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lr21F.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note the increased disorder in trees compared to buildings. I originally tried to use np.var to differentiate between the two but I am getting inconsistent results. Is there any other non machine learning way to classify these two, preferably on the basis of increased disorder in trees? </p>\n"}, {"tags": ["python", "python-3.x", "seo"], "comments": [{"owner": {"reputation": 9144, "user_id": 2431997, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xqDwU.jpg?s=128&g=1", "display_name": "ElmoVanKielmo", "link": "https://stackoverflow.com/users/2431997/elmovankielmo"}, "edited": false, "score": 2, "creation_date": 1577308548, "post_id": 59481887, "comment_id": 105140236, "body": "Been there. Done that. There is a way but the actual implementation depends on the library you are using for making http requests. The off-topic part is not a bit off-topic. It&#39;s totally off-topic on stack overflow."}, {"owner": {"reputation": 794, "user_id": 7822509, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-25e9CTFXGW8/AAAAAAAAAAI/AAAAAAAAAMY/z0_juPt1wMY/photo.jpg?sz=128", "display_name": "Caleb Njiiri", "link": "https://stackoverflow.com/users/7822509/caleb-njiiri"}, "edited": false, "score": 0, "creation_date": 1577308882, "post_id": 59481887, "comment_id": 105140289, "body": "You can try defining a function that accepts the a url or array of urls as arguments, then within the function you can now dictate the user agents and proxies to use."}, {"owner": {"reputation": 93, "user_id": 12595421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/494126bbaa09b50d2328427cbbc74112?s=128&d=identicon&r=PG&f=1", "display_name": "audrey sylvain fan account", "link": "https://stackoverflow.com/users/12595421/audrey-sylvain-fan-account"}, "edited": false, "score": 0, "creation_date": 1577315623, "post_id": 59481887, "comment_id": 105141302, "body": "I think I figured it out. In <code>requests.get</code> I can specify proxies and user-agents."}], "owner": {"reputation": 93, "user_id": 12595421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/494126bbaa09b50d2328427cbbc74112?s=128&d=identicon&r=PG&f=1", "display_name": "audrey sylvain fan account", "link": "https://stackoverflow.com/users/12595421/audrey-sylvain-fan-account"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577308290, "creation_date": 1577308290, "question_id": 59481887, "link": "https://stackoverflow.com/questions/59481887/is-there-any-way-to-globally-define-user-agent-and-set-of-proxies-for-a-program", "title": "Is there any way to globally define user-agent and set of proxies for a program written on Python?", "body": "<p>Pretty much the title. I`m wondering if it is possible to set a specific user-agent or even better, a couple of different user-agents? As well as define proxies that the program will use through the run.</p>\n\n<p>The reason why I`m asking is because I need to check if the large amount of pages I need to check on indexing in Google.</p>\n\n<p>Also, bit of an off-topic, but does anyone know where can I find some good free proxies?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7187, "user_id": 1621041, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/eWGcV.png?s=128&g=1", "display_name": "finefoot", "link": "https://stackoverflow.com/users/1621041/finefoot"}, "edited": false, "score": 0, "creation_date": 1582388834, "post_id": 59481885, "comment_id": 106764108, "body": "Did you make it work?"}], "answers": [{"tags": [], "owner": {"reputation": 7187, "user_id": 1621041, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/eWGcV.png?s=128&g=1", "display_name": "finefoot", "link": "https://stackoverflow.com/users/1621041/finefoot"}, "is_accepted": false, "score": 0, "last_activity_date": 1577310415, "creation_date": 1577310415, "answer_id": 59482055, "question_id": 59481885, "link": "https://stackoverflow.com/questions/59481885/beginner-trying-to-ask-the-input-and-calculate-the-future-value/59482055#59482055", "title": "Beginner trying to ask the input and calculate the future value", "body": "<p>Is <a href=\"https://en.wikipedia.org/wiki/Compound_interest#Calculation\" rel=\"nofollow noreferrer\">compound interest</a> what you want to calculate? You need to use the correct operators and pay attention to operator precedence: In Python, <a href=\"https://docs.python.org/3/library/operator.html#operator.pow\" rel=\"nofollow noreferrer\"><code>**</code></a> is the operator for exponentiation. It has a higher <a href=\"https://docs.python.org/3/reference/expressions.html#operator-precedence\" rel=\"nofollow noreferrer\">operator precedence</a> than multiplication which is the <code>*</code> operator. This means <code>a * b ** c</code> is <code>a * (b ** c)</code> and not <code>(a * b) ** c</code>.</p>\n\n<pre><code>investment = float(input(\"How much do you want to invest? \"))\nrate = float(input(\"What yield are you receiving? \"))\nperiods = int(input(\"How many periods is your investment? \"))\nreturn_invest = investment * (1 + rate / 100) ** periods\nprint(f\"You receive ${return_invest:.2f}\")\n</code></pre>\n\n<p>Here is an exemplary run of that code:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>How much do you want to invest? 1000\nWhat yield are you receiving? 5\nHow many periods is your investment? 50\nYou receive $11467.40\n</code></pre>\n\n<p>Also, I have used variable names following the <a href=\"https://en.wikipedia.org/wiki/Snake_case\" rel=\"nofollow noreferrer\">snake case</a> naming convention. For more information, see <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 12595896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6eb3212c17b48851fe251c2c833e831?s=128&d=identicon&r=PG&f=1", "display_name": "sdl", "link": "https://stackoverflow.com/users/12595896/sdl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577310415, "creation_date": 1577308267, "question_id": 59481885, "link": "https://stackoverflow.com/questions/59481885/beginner-trying-to-ask-the-input-and-calculate-the-future-value", "title": "Beginner trying to ask the input and calculate the future value", "body": "<pre><code>Investment=float(input(\"How much do you want to invest?\"))\nRate =float(input(\"what yield are you receiving?\"))\nPeriods = int(input(\"how many periods is your investment?\"))\nperiods_invest=(Rate/100**Periods)\nReturn_invest = (Investment)*(1 + Rate/100)*(periods_invest)\nprint(f\"You receive ${Return_invest:.2f}\")\n</code></pre>\n\n<p>Context is that I am not getting the proper rate of return.</p>\n"}, {"tags": ["python", "pandas", "types"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1577311198, "post_id": 59481879, "comment_id": 105140673, "body": "Did you read this from a file with pd.read_csv? If so specify <code>decimal=&#39;,&#39;</code> when you read the file"}, {"owner": {"reputation": 36473, "user_id": 12046409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRhI.jpg?s=128&g=1", "display_name": "JohanC", "link": "https://stackoverflow.com/users/12046409/johanc"}, "edited": false, "score": 1, "creation_date": 1577317348, "post_id": 59481879, "comment_id": 105141510, "body": "@adriano1234 Please never write <code>Please do not send links to other answers I have already checked it</code> to avoid getting downvoted.  Add links to useful information you checked and discuss why it doesn&#39;t work in your case."}], "answers": [{"tags": [], "owner": {"reputation": 3508, "user_id": 4185364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rXgyb.png?s=128&g=1", "display_name": "milos.ai", "link": "https://stackoverflow.com/users/4185364/milos-ai"}, "is_accepted": true, "score": 1, "last_activity_date": 1577308456, "creation_date": 1577308456, "answer_id": 59481902, "question_id": 59481879, "link": "https://stackoverflow.com/questions/59481879/how-to-cope-with-invalid-literal-for-int-with-base-10-when-changing-a-type/59481902#59481902", "title": "How to cope with &#39;invalid literal for int() with base 10&#39; when changing a type (pandas dataframe)?", "body": "<p>So it is obvious that you can not cast to integer cause you have a comma in your strings. (btw do you really need int64 ?? that is too big)\nI guess float would be fine so you can use this line to do it, practically replace comma with dot and then cast it to float64 (float32 can be even better)</p>\n\n<pre><code>data['consume'] = data['consume'].str.replace(',','.').astype('float64')\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 12580476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e49879fe21f043498f1c14358143e51?s=128&d=identicon&r=PG&f=1", "display_name": "adriano1234", "link": "https://stackoverflow.com/users/12580476/adriano1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 59481902, "answer_count": 1, "score": 1, "last_activity_date": 1577317630, "creation_date": 1577308201, "last_edit_date": 1577317630, "question_id": 59481879, "link": "https://stackoverflow.com/questions/59481879/how-to-cope-with-invalid-literal-for-int-with-base-10-when-changing-a-type", "title": "How to cope with &#39;invalid literal for int() with base 10&#39; when changing a type (pandas dataframe)?", "body": "<p>I have column in Pandas DataFrame like this:</p>\n\n<pre><code>data = pd.DataFrame({\"consume\":[\"11\", \"14\", \"11,5\", \"12,6\"]})\n</code></pre>\n\n<p>and I would like to change type of this Series. Currently, it has type <code>object</code>, but I need it to be <code>float64</code> or <code>int64</code>. How can I change the type of column? Should I change it on <code>int64</code> or <code>float64</code>?</p>\n\n<p>When I try to do it like this:</p>\n\n<p><code>data['consume'] = data['consume'].astype('int64')</code></p>\n\n<p>I get an error: <code>ValueError: invalid literal for int() with base 10: '4,2'</code></p>\n"}, {"tags": ["python", "tensorflow", "keras", "tflearn", "semantic-segmentation"], "comments": [{"owner": {"reputation": 388, "user_id": 826926, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/wWZAe.jpg?s=128&g=1", "display_name": "Ahmad Baracat", "link": "https://stackoverflow.com/users/826926/ahmad-baracat"}, "edited": false, "score": 0, "creation_date": 1577315370, "post_id": 59481871, "comment_id": 105141277, "body": "Why are your <code>train_labels.shape: (100,400,400,3)</code>, shouldn&#39;t it be <code>(100, 3)</code>?"}, {"owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "edited": false, "score": 0, "creation_date": 1577318515, "post_id": 59481871, "comment_id": 105141642, "body": "Please provide your model. Merry Christmas to you too!"}, {"owner": {"reputation": 105, "user_id": 9065144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c8e26784767108e6008075a3bda486?s=128&d=identicon&r=PG&f=1", "display_name": "Unic0", "link": "https://stackoverflow.com/users/9065144/unic0"}, "reply_to_user": {"reputation": 388, "user_id": 826926, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/wWZAe.jpg?s=128&g=1", "display_name": "Ahmad Baracat", "link": "https://stackoverflow.com/users/826926/ahmad-baracat"}, "edited": false, "score": 0, "creation_date": 1577321525, "post_id": 59481871, "comment_id": 105141961, "body": "@AhmadBaracat, labels are images as well, I want to perform pixel wise segmentation, so I have 100 images with width 400, a height 400 and 3 channels (one for each thing I want to label)."}], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 9065144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c8e26784767108e6008075a3bda486?s=128&d=identicon&r=PG&f=1", "display_name": "Unic0", "link": "https://stackoverflow.com/users/9065144/unic0"}, "is_accepted": false, "score": 0, "last_activity_date": 1577395928, "creation_date": 1577395928, "answer_id": 59493683, "question_id": 59481871, "link": "https://stackoverflow.com/questions/59481871/how-to-implement-multi-class-semantic-segmentation-using-tensorflow/59493683#59493683", "title": "How to implement multi-class semantic segmentation using tensorflow", "body": "<p>for whom might face the same problem, I found the solution</p>\n\n<p>The issue is not in the input shape <em>per-say</em>. The input shape have to be (100, 400, 400, 1) and (100, 400, 400, 3) for input images and labels, respectively.</p>\n\n<p>However, the problem lies in the model and the output shape of the model that have to match the input of the model. In the code shown in the original post the output shape results directly from this line:</p>\n\n<pre><code>layer_0b_clf    = tflearn.layers.conv.conv_2d(layer_0b_conv, 2, 1, 1, activation=\"softmax\")\n</code></pre>\n\n<p>which yields an output shape (?,400,400,2) and therefore doesn't match the label shape for evaluation (which is (100, 400, 400, 3). The solution is the change in the number of output channels from the models such as:</p>\n\n<p><strong>- for TFlearn</strong>: conv_2d(layer_0b_conv, <strong>3</strong>, 1, 1, activation=\"softmax\")</p>\n\n<pre><code>    layer_0b_clf    = tflearn.layers.conv.conv_2d(layer_0b_conv, 3, 1, 1, activation=\"softmax\")\n</code></pre>\n\n<p><strong>- for Keras</strong>: Conv2D(<strong>3</strong>, 1, 1, activation=\"softmax\")</p>\n\n<pre><code>    layer_0b_clf= keras.layers.Conv2D(3, 1, 1, activation=\"softmax\")(layer_0b_conv)\n</code></pre>\n\n<p>Hopefully, it will help someone.</p>\n\n<p>Thank you for your comments and readings.</p>\n"}], "owner": {"reputation": 105, "user_id": 9065144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c8e26784767108e6008075a3bda486?s=128&d=identicon&r=PG&f=1", "display_name": "Unic0", "link": "https://stackoverflow.com/users/9065144/unic0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1577395928, "creation_date": 1577308165, "last_edit_date": 1577323992, "question_id": 59481871, "link": "https://stackoverflow.com/questions/59481871/how-to-implement-multi-class-semantic-segmentation-using-tensorflow", "title": "How to implement multi-class semantic segmentation using tensorflow", "body": "<p>I am trying to perform a multi-class semantic segmentation using tensorflow and tflearn or Keras (I tried both API). A similar problem as here (<a href=\"https://stackoverflow.com/questions/45178513/how-to-load-image-masks-labels-for-image-segmentation-in-keras\">How to load Image Masks (Labels) for Image Segmentation in Keras</a>)</p>\n\n<p>I have to segment different part of an image with 3 different class: sea (class 0), boat (class 1), sky (class 2).</p>\n\n<p>I have 100 grayscale images (size 400x400). For each image, I have the corresponding labels with 3 classes. In the end, I have images with shape (100, 400, 400) and labels with a shape (100,400,400,3). (As explained here: <a href=\"https://stackoverflow.com/questions/43900125/how-to-implement-multi-class-semantic-segmentation\">How to implement multi-class semantic segmentation?</a>)</p>\n\n<p>To be able to use semantic segmentation I used one hot encoding (like here: <a href=\"https://www.jeremyjordan.me/semantic-segmentation/\" rel=\"nofollow noreferrer\">https://www.jeremyjordan.me/semantic-segmentation/</a>) and I end up with this:</p>\n\n<pre><code>train_images.shape: (100,400,400,1)\ntrain_labels.shape: (100,400,400,3)\n</code></pre>\n\n<p>Where the labels are as follow: sea [1,0,0]; boat [0,1,0], sky [0,0,1]</p>\n\n<p>However, every time I try to train I get this error:</p>\n\n<pre><code>ValueError: Cannot feed value of shape (22, 240, 240, 3) for Tensor 'TargetsData/Y:0', which has shape '(?, 240, 240, 2)'\n</code></pre>\n\n<p>I load the model with this: </p>\n\n<pre><code>model = TheNet(input_shape=(None, 400, 40, 1))\n</code></pre>\n\n<p><strong>EDIT:</strong> Here is the model that I use</p>\n\n<ul>\n<li><p><strong>With TFlearn:</strong></p>\n\n<pre><code>def TheNet(input_size = (80, 400, 400, 2), feature_map=8, kernel_size=5, keep_rate=0.8, lr=0.001, log_dir =\"logs\",savedir=\"Results/Session_Dump\"):\n\n\n# level 0 input\nlayer_0a_input  = tflearn.layers.core.input_data(input_size) #shape=[None,n1,n2,n3,1])\n\n# level 1 down\nlayer_1a_conv   = tflearn_conv_2d(net=layer_0a_input, nb_filter=feature_map, kernel=5, stride=1, activation=False)\nlayer_1a_stack  = tflearn_merge_2d([layer_0a_input]*feature_map, \"concat\")\nlayer_1a_stack  = tflearn.activations.prelu(layer_1a_stack)\nlayer_1a_add    = tflearn_merge_2d([layer_1a_conv,layer_1a_stack], \"elemwise_sum\")\nlayer_1a_down   = tflearn_conv_2d(net=layer_1a_add, nb_filter=feature_map*2, kernel=2, stride=2, dropout=keep_rate)\n\n# level 2 down\nlayer_2a_conv   = tflearn_conv_2d(net=layer_1a_down, nb_filter=feature_map*2, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_2a_conv   = tflearn_conv_2d(net=layer_2a_conv, nb_filter=feature_map*2, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_2a_add    = tflearn_merge_2d([layer_1a_down,layer_2a_conv], \"elemwise_sum\")\nlayer_2a_down   = tflearn_conv_2d(net=layer_2a_add, nb_filter=feature_map*4, kernel=2, stride=2, dropout=keep_rate)\n\n# level 3 down\nlayer_3a_conv   = tflearn_conv_2d(net=layer_2a_down, nb_filter=feature_map*4, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_3a_conv   = tflearn_conv_2d(net=layer_3a_conv, nb_filter=feature_map*4, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_3a_conv   = tflearn_conv_2d(net=layer_3a_conv, nb_filter=feature_map*4, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_3a_add    = tflearn_merge_2d([layer_2a_down,layer_3a_conv], \"elemwise_sum\")\nlayer_3a_down   = tflearn_conv_2d(net=layer_3a_add, nb_filter=feature_map*8, kernel=2, stride=2, dropout=keep_rate)\n\n# level 4 down\nlayer_4a_conv   = tflearn_conv_2d(net=layer_3a_down, nb_filter=feature_map*8, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_4a_conv   = tflearn_conv_2d(net=layer_4a_conv, nb_filter=feature_map*8, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_4a_conv   = tflearn_conv_2d(net=layer_4a_conv, nb_filter=feature_map*8, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_4a_add    = tflearn_merge_2d([layer_3a_down,layer_4a_conv], \"elemwise_sum\")\nlayer_4a_down   = tflearn_conv_2d(net=layer_4a_add, nb_filter=feature_map*16,kernel=2,stride=2,dropout=keep_rate)\n\n# level 5\nlayer_5a_conv   = tflearn_conv_2d(net=layer_4a_down, nb_filter=feature_map*16, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_5a_conv   = tflearn_conv_2d(net=layer_5a_conv, nb_filter=feature_map*16, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_5a_conv   = tflearn_conv_2d(net=layer_5a_conv, nb_filter=feature_map*16, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_5a_add    = tflearn_merge_2d([layer_4a_down,layer_5a_conv], \"elemwise_sum\")\nlayer_5a_up     = tflearn_deconv_2d(net=layer_5a_add, nb_filter=feature_map*8, kernel=2, stride=2, dropout=keep_rate)\n\n# level 4 up\nlayer_4b_concat = tflearn_merge_2d([layer_4a_add,layer_5a_up], \"concat\")\nlayer_4b_conv   = tflearn_conv_2d(net=layer_4b_concat, nb_filter=feature_map*16, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_4b_conv   = tflearn_conv_2d(net=layer_4b_conv, nb_filter=feature_map*16, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_4b_conv   = tflearn_conv_2d(net=layer_4b_conv, nb_filter=feature_map*16, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_4b_add    = tflearn_merge_2d([layer_4b_conv,layer_4b_concat], \"elemwise_sum\")\nlayer_4b_up     = tflearn_deconv_2d(net=layer_4b_add, nb_filter=feature_map*4, kernel=2, stride=2, dropout=keep_rate)\n\n# level 3 up\nlayer_3b_concat = tflearn_merge_2d([layer_3a_add,layer_4b_up], \"concat\")\nlayer_3b_conv   = tflearn_conv_2d(net=layer_3b_concat, nb_filter=feature_map*8, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_3b_conv   = tflearn_conv_2d(net=layer_3b_conv, nb_filter=feature_map*8, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_3b_conv   = tflearn_conv_2d(net=layer_3b_conv, nb_filter=feature_map*8, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_3b_add    = tflearn_merge_2d([layer_3b_conv,layer_3b_concat], \"elemwise_sum\")\nlayer_3b_up     = tflearn_deconv_2d(net=layer_3b_add, nb_filter=feature_map*2, kernel=2, stride=2, dropout=keep_rate)\n\n# level 2 up\nlayer_2b_concat = tflearn_merge_2d([layer_2a_add,layer_3b_up], \"concat\")\nlayer_2b_conv   = tflearn_conv_2d(net=layer_2b_concat, nb_filter=feature_map*4, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_2b_conv   = tflearn_conv_2d(net=layer_2b_conv, nb_filter=feature_map*4, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_2b_add    = tflearn_merge_2d([layer_2b_conv,layer_2b_concat], \"elemwise_sum\")\nlayer_2b_up     = tflearn_deconv_2d(net=layer_2b_add, nb_filter=feature_map, kernel=2, stride=2, dropout=keep_rate)\n\n# level 1 up\nlayer_1b_concat = tflearn_merge_2d([layer_1a_add,layer_2b_up], \"concat\")\nlayer_1b_conv   = tflearn_conv_2d(net=layer_1b_concat, nb_filter=feature_map*2, kernel=kernel_size, stride=1, dropout=keep_rate)\nlayer_1b_add    = tflearn_merge_2d([layer_1b_conv,layer_1b_concat], \"elemwise_sum\")\n\n# level 0 classifier\nlayer_0b_conv   = tflearn_conv_2d(net=layer_1b_add, nb_filter=2, kernel=5, stride=1, dropout=keep_rate)\nlayer_0b_clf    = tflearn.layers.conv.conv_2d(layer_0b_conv, 2, 1, 1, activation=\"softmax\")\n\n# Optimizer\nregress = tflearn.layers.estimator.regression(layer_0b_clf, optimizer='adam', loss=dice_loss_2d, learning_rate=lr) # categorical_crossentropy/dice_loss_3d\n\nmodel   = tflearn.models.dnn.DNN(regress, tensorboard_dir=log_dir)\n\n# Saving the model\nif not os.path.lexists(savedir+\"weights\"):\n    os.makedirs(savedir+\"weights\")\nmodel.save(savedir+\"weights/weights_session\")\n\nreturn model\n</code></pre></li>\n<li><p><strong>With Keras:</strong></p>\n\n<pre><code>def TheNet(input_shape, nb_kernel, kernel_size, dropout, lr, log_dir =\"logs\",savedir=\"Results/Session_Dump\"):\n\nlayer_0 = keras.Input(shape = input_shape)\n\n#LVL 1 Down\nlayer_1_conv = Cust_2D_Conv(layer_0, nb_kernel, kernel_size, stride=1)\nlayer_1_stak = keras.layers.concatenate([layer_0,layer_0,layer_0,layer_0,layer_0,layer_0,layer_0,layer_0])\nlayer_1_stak = keras.layers.PReLU()(layer_1_stak)\nlayer_1_addd = keras.layers.Multiply()([layer_1_conv,layer_1_stak])\nlayer_1_down = Cust_2D_Conv(layer_1_addd, nb_kernel=nb_kernel*2, kernel_size=3, stride=2, dropout=0.2)\n\n#LVL 2 Down\nlayer_2_conv = Cust_2D_Conv(layer_1_down, nb_kernel=nb_kernel*2, kernel_size=5, stride=1, dropout=0.2)\nlayer_2_conv = Cust_2D_Conv(layer_2_conv, nb_kernel=nb_kernel*2, kernel_size=5, stride=1, dropout=0.2)\nlayer_2_addd = keras.layers.Multiply()([layer_2_conv,layer_1_down])\nlayer_2_down = Cust_2D_Conv(layer_2_addd, nb_kernel=nb_kernel*4, kernel_size=3, stride=2, dropout=0.2)  \n#LVL 3 Down\nlayer_3_conv = Cust_2D_Conv(layer_2_down, nb_kernel=nb_kernel*4, kernel_size=5, stride=1, dropout=0.2)\nlayer_3_conv = Cust_2D_Conv(layer_3_conv, nb_kernel=nb_kernel*4, kernel_size=5, stride=1, dropout=0.2)\nlayer_3_conv = Cust_2D_Conv(layer_3_conv, nb_kernel=nb_kernel*4, kernel_size=5, stride=1, dropout=0.2)\nlayer_3_addd = keras.layers.Multiply()([layer_3_conv,layer_2_down])\nlayer_3_down = Cust_2D_Conv(layer_3_addd, nb_kernel=nb_kernel*8, kernel_size=3, stride=2, dropout=0.2)\n\n#LVL 4 Down\nlayer_4_conv = Cust_2D_Conv(layer_3_down, nb_kernel=nb_kernel*8, kernel_size=5, stride=1, dropout=0.2)\nlayer_4_conv = Cust_2D_Conv(layer_4_conv, nb_kernel=nb_kernel*8, kernel_size=5, stride=1, dropout=0.2)\nlayer_4_conv = Cust_2D_Conv(layer_4_conv, nb_kernel=nb_kernel*8, kernel_size=5, stride=1, dropout=0.2)\nlayer_4_addd = keras.layers.Multiply()([layer_4_conv,layer_3_down])\nlayer_4_down = Cust_2D_Conv(layer_4_addd, nb_kernel=nb_kernel*16, kernel_size=3, stride=2, dropout=0.2)\n\n#LVL 5 Down\nlayer_5_conv = Cust_2D_Conv(layer_4_down, nb_kernel=nb_kernel*16, kernel_size=5, stride=1, dropout=0.2)\nlayer_5_conv = Cust_2D_Conv(layer_5_conv, nb_kernel=nb_kernel*16, kernel_size=5, stride=1, dropout=0.2)\nlayer_5_conv = Cust_2D_Conv(layer_5_conv, nb_kernel=nb_kernel*16, kernel_size=5, stride=1, dropout=0.2)\nlayer_5_addd = keras.layers.Multiply()([layer_5_conv,layer_4_down])\nlayer_5_up = Cust_2D_DeConv(layer_5_addd, nb_kernel=nb_kernel*8, kernel_size=3, stride=2, dropout=0.2)\n\n#LVL 4 Up\nlayer_4b_concat = keras.layers.concatenate([layer_5_up, layer_4_addd])\nlayer_4b_conv = Cust_2D_Conv(layer_4b_concat, nb_kernel=nb_kernel*16, kernel_size=5, stride=1, dropout=0.2)\nlayer_4b_conv = Cust_2D_Conv(layer_4b_conv, nb_kernel=nb_kernel*16, kernel_size=5, stride=1, dropout=0.2)\nlayer_4b_conv = Cust_2D_Conv(layer_4b_conv, nb_kernel=nb_kernel*16, kernel_size=5, stride=1, dropout=0.2)\nlayer_4b_addd = keras.layers.Multiply()([layer_4b_conv,layer_4b_concat])\nlayer_4b_up = Cust_2D_DeConv(layer_4b_addd, nb_kernel=nb_kernel*4, kernel_size=3, stride=2, dropout=0.2)\n\n#LVL 3 Up\nlayer_3b_concat = keras.layers.concatenate([layer_4b_up, layer_3_addd])\nlayer_3b_conv = Cust_2D_Conv(layer_3b_concat, nb_kernel=nb_kernel*8, kernel_size=5, stride=1, dropout=0.2)\nlayer_3b_conv = Cust_2D_Conv(layer_3b_conv, nb_kernel=nb_kernel*8, kernel_size=5, stride=1, dropout=0.2)\nlayer_3b_conv = Cust_2D_Conv(layer_3b_conv, nb_kernel=nb_kernel*8, kernel_size=5, stride=1, dropout=0.2)\nlayer_3b_addd = keras.layers.Multiply()([layer_3b_conv,layer_3b_concat])\nlayer_3b_up = Cust_2D_DeConv(layer_3b_addd, nb_kernel=nb_kernel*2, kernel_size=3, stride=2, dropout=0.2)\n\n#LVL 2 Up\nlayer_2b_concat = keras.layers.concatenate([layer_3b_up, layer_2_addd])\nlayer_2b_conv = Cust_2D_Conv(layer_2b_concat, nb_kernel=nb_kernel*4, kernel_size=5, stride=1, dropout=0.2)\nlayer_2b_conv = Cust_2D_Conv(layer_2b_conv, nb_kernel=nb_kernel*4, kernel_size=5, stride=1, dropout=0.2)\nlayer_2b_addd = keras.layers.Multiply()([layer_2b_conv,layer_2b_concat])\nlayer_2b_up = Cust_2D_DeConv(layer_2b_addd, nb_kernel=nb_kernel, kernel_size=3, stride=2, dropout=0.2)\n\n#LVL 1 Up\nlayer_1b_concat = keras.layers.concatenate([layer_2b_up, layer_1_addd])\nlayer_1b_conv = Cust_2D_Conv(layer_1b_concat, nb_kernel=nb_kernel*2, kernel_size=5, stride=1, dropout=0.2)\nlayer_1b_addd = keras.layers.Multiply()([layer_1b_conv,layer_1b_concat])\n\n#LVL 0\nlayer_0b_conv = Cust_2D_Conv(layer_1b_addd, nb_kernel=2, kernel_size=5, stride=1, dropout=0.2)\nlayer_0b_clf= keras.layers.Conv2D(2, 1, 1, activation=\"softmax\")(layer_0b_conv)\n\nmodel = keras.Model(inputs=layer_0, outputs=layer_0b_clf, name='Keras_model')\n\nmodel.compile(loss=dice_loss_2d,\n          optimizer=keras.optimizers.Adam(),\n          metrics=['accuracy','categorical_accuracy'])\n\nreturn model\n</code></pre></li>\n</ul>\n\n<p>I have been looking around to find a solution but nothing is very clear.</p>\n\n<p>Does anyone have an idea or suggestion?</p>\n"}, {"tags": ["python", "dataframe", "for-loop", "if-statement", "bigdata"], "comments": [{"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577308736, "post_id": 59481865, "comment_id": 105140263, "body": "Is there a reason you don&#39;t break out of the inner loop when you set test.loc[a, &#39;result&#39;] = &quot;short waiting time&quot;?"}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577309162, "post_id": 59481865, "comment_id": 105140333, "body": "On the inner loop couldn&#39;t you filter rows in &#39;list&#39; whose row ID is row[&#39;ID&#39;] by <a href=\"https://www.geeksforgeeks.org/selecting-rows-in-pandas-dataframe-based-on-conditions/\" rel=\"nofollow noreferrer\">Selecting rows in pandas DataFrame based on conditions</a>"}, {"owner": {"reputation": 1, "user_id": 11986289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed89564bd7a66ee9c383518b6b14eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/11986289/ari"}, "reply_to_user": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577312220, "post_id": 59481865, "comment_id": 105140825, "body": "Thanks, I added the break as you suggested but don&#39;t know what do you mean exactly about filtering rows. could you share the code base on what you suggested?"}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577312658, "post_id": 59481865, "comment_id": 105140898, "body": "&#39;list&#39; is a bad name for Dataframe.  But meant inner_rows = list[&#39;ID&#39;] == row[&#39;[ID&#39;].  Then have row_index2, row2 in inner_rows.iterrows().  This way Pandas equally find the rows with vaue row[&#39;ID&#39;] using <a href=\"https://chrisalbon.com/python/data_wrangling/pandas_selecting_rows_on_conditions/\" rel=\"nofollow noreferrer\">row filtering based upon value</a>"}, {"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1577316893, "post_id": 59481865, "comment_id": 105141459, "body": "I&#39;m voting to close this question as off-topic because ot belonga to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 1, "user_id": 11986289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed89564bd7a66ee9c383518b6b14eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/11986289/ari"}, "edited": false, "score": 0, "creation_date": 1577327272, "post_id": 59481865, "comment_id": 105142603, "body": "@DarryIG thanks for help, I have changed variables name before post it and simplify the problem."}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577331568, "post_id": 59481865, "comment_id": 105143089, "body": "@ari--was my answer of any help?"}, {"owner": {"reputation": 1, "user_id": 11986289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed89564bd7a66ee9c383518b6b14eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/11986289/ari"}, "edited": false, "score": 0, "creation_date": 1577380572, "post_id": 59481865, "comment_id": 105157142, "body": "@DarryIG yeah, thanks  for help, because I&#39;m new user it doesn&#39;t show the upvote publicly."}], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 3305301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1480773f1b8f902b820cd4ad6709f2c?s=128&d=identicon&r=PG&f=1", "display_name": "tomanizer", "link": "https://stackoverflow.com/users/3305301/tomanizer"}, "is_accepted": false, "score": 0, "last_activity_date": 1577336819, "last_edit_date": 1577336819, "creation_date": 1577312933, "answer_id": 59482269, "question_id": 59481865, "link": "https://stackoverflow.com/questions/59481865/how-to-improve-my-code-iteration-through-two-different-data-frame-with-100k-rows/59482269#59482269", "title": "how to improve my code iteration through two different data frame with 100K rows to decrease processing speed in python?", "body": "<p>You should not loop through the rows of your data frames at all. \nInstead combine your test and list data frames using\nThe merge or join methods from you data frame using \u2018ID\u2019 as the \u2018on\u2019 join key. \nYou the have the data in one big table and you create a new column where you subtract Time.x from the first table from Time.y in the second table. \nE.g call the new column \u2018timediff \u2019. \nYou then filter the result data frame by this timediff column for timediff &lt; 3601. </p>\n\n<p>suppose dataframes are named testdf and listdf.</p>\n\n<pre><code>joindf = testdf.merge(listdf, on='ID')\njoindf['timediff'] = joindf['Time_x'] - joindf['Time_y']\njoindf.loc[timediff &lt; 3601, 'result'] = 'short waiting time'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "is_accepted": false, "score": 0, "last_activity_date": 1577315964, "last_edit_date": 1577315964, "creation_date": 1577315583, "answer_id": 59482462, "question_id": 59481865, "link": "https://stackoverflow.com/questions/59481865/how-to-improve-my-code-iteration-through-two-different-data-frame-with-100k-rows/59482462#59482462", "title": "how to improve my code iteration through two different data frame with 100K rows to decrease processing speed in python?", "body": "<p>The code could be converted to the following.</p>\n\n<pre><code>def find_match(id_val, time_val, df):\n    \" This uses your algorithm for generating a string based upon time difference \"\n    # Find rows with matching ID in Dataframe df \n    #   (this will be list_ref in our usage)\n    matches = df[df['ID'] == id_val]\n\n    if not matches.empty:\n        # Use iterrows on matched rows\n        # This replaced your inner loop but only apply to rows with the same ID\n        for row_index2, row2 in matches.iterrows():\n            time_difference = time_val - row2['Time']\n            time_difference = time_difference.total_seconds()\n            if 0 &lt; time_difference &lt; 3601:\n                return \"short waiting time\"  # Exit since found a time in window\n\n    return \"\"  # Didn't find a time in our window\n\n# Test\n#     test - your test Dataframe\n#     list_ref - (your list DataFrame, but using list_ref since list is a bad \n#                name for a Python variable)\n\n\n# Create result using Apply\n# More info on Apply available https://engineering.upside.com/a-beginners-guide-to-optimizing-pandas-code-for-speed-c09ef2c6a4d6\n\ntest['result'] = test.apply(lambda row: find_match (row['ID'], row['Time'], list_ref), axis = 1)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11986289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ed89564bd7a66ee9c383518b6b14eb2?s=128&d=identicon&r=PG&f=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/11986289/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1577336819, "creation_date": 1577308088, "question_id": 59481865, "link": "https://stackoverflow.com/questions/59481865/how-to-improve-my-code-iteration-through-two-different-data-frame-with-100k-rows", "title": "how to improve my code iteration through two different data frame with 100K rows to decrease processing speed in python?", "body": "<p>Could you please take a look at my code and give me some advice how I might improve my code so it takes less time to process? Main purpose is to look at each row (ID) at test table and find same ID at list table, if it's match then look at time difference between the two identical ID and label them as if it takes less than 1 hours (3600s) or not. \nThanks in advance</p>\n\n<p>test.csv  has two col (ID, time) and 100K rows \n   list.csv  has tow col (ID, time) and 40k rows</p>\n\n<p>sample data:\nID               Time\n83d-36615fa05fb0 2019-12-11 10:41:48 </p>\n\n<pre><code>a = -1\nfor row_index,row in test.iterrows():\n   a = a + 1\n\n   for row_index2,row2 in list.iterrows():\n\n       if row['ID'] == row2['ID']:\n           time_difference = row['Time'] - row2['Time']\n           time_difference = time_difference.total_seconds() \n\n           if time_difference &lt; 3601 and time_difference &gt; 0:\n               test.loc[a, 'result'] = \"short waiting time\"\n</code></pre>\n"}, {"tags": ["python", "overriding", "operation"], "comments": [{"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "edited": false, "score": 0, "creation_date": 1577308369, "post_id": 59481862, "comment_id": 105140202, "body": "If you want your examples to be clearer, use actual Python code, not pseudo code. <code>__mul__</code> is a method on classes."}, {"owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "reply_to_user": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "edited": false, "score": 0, "creation_date": 1577308506, "post_id": 59481862, "comment_id": 105140229, "body": "i put self kw ..."}, {"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "edited": false, "score": 0, "creation_date": 1577308628, "post_id": 59481862, "comment_id": 105140247, "body": "Why do you have to perform the destructive step as part of your multiply operator?"}, {"owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "reply_to_user": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "edited": false, "score": 0, "creation_date": 1577308911, "post_id": 59481862, "comment_id": 105140294, "body": "that is the logic of the operation..i&#39;m using mult as a way to do it like expressions.. which easier on the eyes and can be combined with +,/, |, &amp; ... which is the goal"}, {"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "edited": false, "score": 0, "creation_date": 1577309051, "post_id": 59481862, "comment_id": 105140317, "body": "You are going to have a hard time going down that road. You are better off building a syntax tree using the operators, and then applying your operations using some compiler function."}], "answers": [{"comments": [{"owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1577309213, "post_id": 59481943, "comment_id": 105140339, "body": "python only allows per OP override, not per EXPR ;("}, {"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1577309274, "post_id": 59481943, "comment_id": 105140354, "body": "Does not matter. Wrap the results in &quot;UnaryExpression&quot; or &quot;BinaryExpression&quot; types. You will have a &quot;compile&quot; function to reduce it to an actual value."}, {"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1577309338, "post_id": 59481943, "comment_id": 105140364, "body": "So short of rewriting the Python interpreter (to override syntax semantics) you just need to embed your language at level inside Python."}, {"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 1, "creation_date": 1577309629, "post_id": 59481943, "comment_id": 105140405, "body": "Take a look at how SQLAlchemy does it. It allows you to build table expressions using objects representing columns and regular Python operators. The results of such expressions are not directly usable (they represent a syntax tree) but they are passed on to other functions that know how to interpret them."}, {"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1577309819, "post_id": 59481943, "comment_id": 105140429, "body": "Building a compiler is a very common programming exercise, it is much easier than you might think. Some languages lend themselves very well to such tasks (Scheme, Lisp and Haskell are some examples) while others like Python have some friction."}, {"owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "reply_to_user": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "edited": false, "score": 0, "creation_date": 1577310067, "post_id": 59481943, "comment_id": 105140464, "body": "Binary operators in Python, as they are interpreted, cannot distinguish from the inside if an expression is enclosed or not. That is, in the expression (a * b * c), the <i>ab</i> particle does not know that there is a <i>c</i> attached to it. Instead, if you define your <code>__mul__</code> operator to wrap the operands in a placeholder syntax tree object, then you can easily see chains of operations when you pass that object to a final processing function."}], "tags": [], "owner": {"reputation": 3516, "user_id": 1057102, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9f1412fdce8dc8873cf8b5590501faf7?s=128&d=identicon&r=PG&f=1", "display_name": "sleblanc", "link": "https://stackoverflow.com/users/1057102/sleblanc"}, "is_accepted": false, "score": 0, "last_activity_date": 1577309004, "creation_date": 1577309004, "answer_id": 59481943, "question_id": 59481862, "link": "https://stackoverflow.com/questions/59481862/overriding-chain-operations-greedy/59481943#59481943", "title": "Overriding chain operations ? Greedy", "body": "<p>Destructive operations can make code very hard to reason about. Try to work out a pure, functional solution instead of hacking around operator precedence.</p>\n"}], "owner": {"reputation": 5193, "user_id": 1019129, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/357b7f0f0ca6e2c0f0ebccbec9b1a87b?s=128&d=identicon&r=PG", "display_name": "sten", "link": "https://stackoverflow.com/users/1019129/sten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577309004, "creation_date": 1577308024, "last_edit_date": 1577308988, "question_id": 59481862, "link": "https://stackoverflow.com/questions/59481862/overriding-chain-operations-greedy", "title": "Overriding chain operations ? Greedy", "body": "<p>Is there a way to override/implement a chain operation.\nWhat I mean ? lets take multiplication it handles a * b\nIn my case I use <code>__mul__</code> to binary-OR the two operands and then apply destructive operation, which means that the result is different for 3 operands.</p>\n\n<p>Here is pseudo code </p>\n\n<pre><code>class MyClass:\n\ndef fun(self, lst):\n   for i in lst : x |= i\n   ... destructive ops ...\n   return x\n\ndef __mul__(self, rhs): return self.fun([self,rhs])\n</code></pre>\n\n<p>Now those two are equivalent :</p>\n\n<pre><code> a * b   &lt;==&gt;  fun([a,b])\n</code></pre>\n\n<p>but those are not : </p>\n\n<pre><code> a * b * c   &lt;=/=&gt;  fun([a,b,c]) \n</code></pre>\n\n<p>because the multiplication is done in two steps and the function call in one.</p>\n\n<p>Is there a way to make multiplication greedy, so that it can collect same operation if repeated ? The same goes for \"+\" ?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11960066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7197e2b30fdba111e2b3da6078650063?s=128&d=identicon&r=PG&f=1", "display_name": "mdrozd", "link": "https://stackoverflow.com/users/11960066/mdrozd"}, "edited": false, "score": 0, "creation_date": 1577328714, "post_id": 59481898, "comment_id": 105142765, "body": "the .first() method doesn&#39;t quite work because it will return rows that have lower index but not necessarily earliest date, sort_values with drop_duplicates, however, works fine including when tested against an SQL query designed to do the same thing. Thanks ansev!"}], "tags": [], "owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "is_accepted": true, "score": 0, "last_activity_date": 1577308786, "last_edit_date": 1577308786, "creation_date": 1577308420, "answer_id": 59481898, "question_id": 59481849, "link": "https://stackoverflow.com/questions/59481849/selecting-values-from-one-column-based-on-values-in-adjacent-column-pandas-dataf/59481898#59481898", "title": "Selecting values from one column based on values in adjacent column pandas dataframe", "body": "<p>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sort_values.html\" rel=\"nofollow noreferrer\"><code>DataFrame.sort_values</code></a> + <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop_duplicates.html\" rel=\"nofollow noreferrer\"><code>DataFrame.drop_duplicates</code></a>:</p>\n\n<pre><code>#grouped['transferdate']=pd.to_datetime(grouped['transferdate']) if necessary\ngrouped.sort_values(['userid','transferdate']).drop_duplicates('userid')\n#   userid  useramount transferdate\n#1     350       46.98   2003-02-28\n#2     431       25.88   1998-01-31\n</code></pre>\n\n<p>or <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.core.groupby.GroupBy.first.html\" rel=\"nofollow noreferrer\"><code>groupby.first</code></a>:</p>\n\n<pre><code>grouped.sort_values(['userid','transferdate']).groupby('userid',as_index=False).first()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11960066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7197e2b30fdba111e2b3da6078650063?s=128&d=identicon&r=PG&f=1", "display_name": "mdrozd", "link": "https://stackoverflow.com/users/11960066/mdrozd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 59481898, "answer_count": 1, "score": 0, "last_activity_date": 1577308786, "creation_date": 1577307925, "question_id": 59481849, "link": "https://stackoverflow.com/questions/59481849/selecting-values-from-one-column-based-on-values-in-adjacent-column-pandas-dataf", "title": "Selecting values from one column based on values in adjacent column pandas dataframe", "body": "<p>I'm having trouble selecting values from one column based on values in another in a pandas df.\nSimulated data:</p>\n\n<pre><code>n = 10000\nuserid = list(map(lambda x: int(x), np.random.sample(n)*100000))\nuseramount = list(map(lambda x: round(x,2), np.random.sample(n)*100))\ntransferdate = pd.to_datetime(np.random.choice(pd.date_range(start = '03/13/1994', periods = n), n).tolist())\n\ntransfers = pd.DataFrame({'userid':userid,\n             'useramount':useramount,\n             'transferdate':transferdate})\n\nv = transfers.userid.value_counts()\n\ntransfers = transfers[transfers.userid.isin(v.index[v&gt;1])]\n\ngrouped = transfers.groupby(['userid','useramount'],as_index=False).agg({'transferdate':'min'})\n\n</code></pre>\n\n<p>Grouped looks like this:</p>\n\n<pre><code>    userid  useramount  transferdate\n0   350 13.01   2013-09-30\n1   350 46.98   2003-02-28\n2   431 25.88   1998-01-31\n3   431 97.76   1999-08-15\n</code></pre>\n\n<p>I'd like to subset every userid and useramount where the date is the earlier of the two so ideally my outcome would look like:</p>\n\n<pre><code>    userid  useramount  transferdate\n1   350 46.98   2003-02-28\n2   431 25.88   1998-01-31\n</code></pre>\n"}, {"tags": ["python", "numpy", "numpy-slicing"], "answers": [{"tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": false, "score": 1, "last_activity_date": 1577308155, "creation_date": 1577308155, "answer_id": 59481870, "question_id": 59481831, "link": "https://stackoverflow.com/questions/59481831/numpy-slice-away-2-columns/59481870#59481870", "title": "numpy: slice away 2 columns", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.delete.html\" rel=\"nofollow noreferrer\"><strong><code>np.delete</code></strong> [numpy-doc]</a> for that, and use a <code>slice</code> object as parameter to remove:</p>\n\n<pre><code>&gt;&gt;&gt; np.delete(data, slice(1, 3), 1)\narray([[61.  , 15.04, 14.96, 13.17,  9.29, 13.96,  9.87, 13.67, 10.25,\n        10.83, 12.58, 18.5 , 15.04],\n       [61.  , 14.71, 16.88, 10.83,  6.5 , 12.62,  7.67, 11.5 , 10.04,\n         9.79,  9.67, 17.54, 13.83],\n       [61.  , 18.5 , 16.88, 12.33, 10.13, 11.17,  6.17, 11.25,  8.04,\n         8.5 ,  7.67, 12.75, 12.71]])\n</code></pre>\n\n<p>When you use slicing notation, under the hood you basically pass a <code>slice</code> object. Indeed <code>a[1:3]</code> is equivalent to <code>a[slice(1,3)]</code>.</p>\n\n<p>Furthermore the <code>1</code> here specifies the dimension over which we want to remove. Since we wish to remove data for the second dimension, we thus write <code>1</code> as third parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "edited": false, "score": 0, "creation_date": 1577323250, "post_id": 59481934, "comment_id": 105142196, "body": "Yes, <code>data_nomonth_noday = data[:,np.r_[0,3:15]]</code> does it."}, {"owner": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "edited": false, "score": 0, "creation_date": 1577330139, "post_id": 59481934, "comment_id": 105142923, "body": "Considering the data is huge, it will be great if I can just get a view without those 2 columns, instead of creating a copy of the data without those 2 columns. Is it possible to achieve this without creating a new copy of the data ?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "edited": false, "score": 1, "creation_date": 1577333312, "post_id": 59481934, "comment_id": 105143282, "body": "Do you think we are suggesting the copy solution just to be ornery!!   A view is possible only if the original data can be accessed in a regular pattern, using just <code>shape</code> and <code>strides</code>.  <code>[1,2]</code> is such a pattern, <code>[0, 3, 4,...]</code> is not.  There&#39;s a hole in the middle than can&#39;t be described with the simple <code>slice</code> syntax."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "edited": false, "score": 1, "creation_date": 1577333602, "post_id": 59481934, "comment_id": 105143318, "body": "Someone else suggest that you extract two arrays, the <code>data[:,0]</code> column, and the <code>data[:,3:]</code> columns.  Since that first column appears to be integers (though it will be floats after <code>loadtxt</code>), it probably isn&#39;t being used in the same way as the float columns.  What&#39;s the reason for keeping it in the same array?  Those two arrays will be views."}, {"owner": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "edited": false, "score": 0, "creation_date": 1577376224, "post_id": 59481934, "comment_id": 105155757, "body": "Thanks for the information regd when a view is possible and when it is not. I didnt know that till now."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 2, "last_activity_date": 1577308897, "creation_date": 1577308897, "answer_id": 59481934, "question_id": 59481831, "link": "https://stackoverflow.com/questions/59481831/numpy-slice-away-2-columns/59481934#59481934", "title": "numpy: slice away 2 columns", "body": "<p>You can easily generate the indexing array with <code>r_</code>.</p>\n\n<pre><code>In [165]: np.r_[0,3:15]                                                                  \nOut[165]: array([ 0,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14])\n</code></pre>\n\n<p>under the covers it's just doing</p>\n\n<pre><code>In [166]: np.concatenate([[0],np.arange(3,15)])                                          \nOut[166]: array([ 0,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14])\n</code></pre>\n\n<p><code>np.delete</code>, while convenient, ends up with a similar amount of work.  Depending on the deletion index it will either concatenate pieces, or construct a selection mask.</p>\n\n<p>Regardless of the method, the result is a new array, with a copy of the required data (not a view).</p>\n\n<p><code>loadtxt</code> accepts as <code>usecols</code> parameter that takes a similar column index array.</p>\n"}, {"tags": [], "owner": {"reputation": 4746, "user_id": 8474894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3480af9d214a7d6f6a8cb9ef821b1f24?s=128&d=identicon&r=PG&f=1", "display_name": "CypherX", "link": "https://stackoverflow.com/users/8474894/cypherx"}, "is_accepted": false, "score": 0, "last_activity_date": 1577310540, "last_edit_date": 1577310540, "creation_date": 1577309003, "answer_id": 59481942, "question_id": 59481831, "link": "https://stackoverflow.com/questions/59481831/numpy-slice-away-2-columns/59481942#59481942", "title": "numpy: slice away 2 columns", "body": "<p>If <code>a</code> is your <code>numpy</code> array and you want to drop the columns: <code>1,2</code>, you could do that using the following in a single line.  </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n\ndelete_cols = [1,2] # list of column numbers to delete\na[:,list(set(np.arange(a.shape[-1])) - set(delete_cols))]\n</code></pre>\n\n<h3>Some Explanation</h3>\n\n<p>What you need here is proper indexing of the array <code>a</code>.  </p>\n\n<pre class=\"lang-py prettyprint-override\"><code># list_of_column_numbers = [0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\na[:, list_of_column_numbers]\n</code></pre>\n\n<blockquote>\n  <p>You can make the <code>list_of_column_numbers</code> in one of the following ways:  </p>\n</blockquote>\n\n<pre class=\"lang-py prettyprint-override\"><code># Method-1: Direct Declaration\nlist_of_column_numbers = [0, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\n\n# Method-2A: Using Set and Dropping Columns not Needed\n# a.shape[-1] = 15\ndelete_cols = [1,2] # list of column numbers to delete\nlist_of_column_numbers = list(set(np.arange(a.shape[-1])) - set(delete_cols))\n\n# Method-2B: Make list of column numbers\n# a.shape[-1] = 15\nlist_of_column_numbers = [0] + np.arange(3,a.shape[-1]).tolist()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11283485, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kPqlCqGOKsk/AAAAAAAAAAI/AAAAAAAAGAg/mildGsCCQKY/photo.jpg?sz=128", "display_name": "Kartik Gupta", "link": "https://stackoverflow.com/users/11283485/kartik-gupta"}, "is_accepted": false, "score": 1, "last_activity_date": 1577311303, "creation_date": 1577311303, "answer_id": 59482142, "question_id": 59481831, "link": "https://stackoverflow.com/questions/59481831/numpy-slice-away-2-columns/59482142#59482142", "title": "numpy: slice away 2 columns", "body": "<p>This should work: </p>\n\n<pre><code>import numpy as np\ndata = np.loadtxt('wind.data')\ndata_nomonth_noday = np.zeros((data.shape[0],data.shape[1]-2))\ndata_nomonth_noday[:,0] = data[:,0]\ndata_nomonth_noday[:,1:] = data[:,3:]\n</code></pre>\n\n<p>In my opinion this is more readable,flexible and intuitive than some of the other possible ways of doing this</p>\n"}], "owner": {"reputation": 2662, "user_id": 1733060, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e24d757ad9a98e26a007196b1d8fb1d6?s=128&d=identicon&r=PG", "display_name": "2020", "link": "https://stackoverflow.com/users/1733060/2020"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 59481934, "answer_count": 4, "score": 2, "last_activity_date": 1577323338, "creation_date": 1577307792, "last_edit_date": 1577323338, "question_id": 59481831, "link": "https://stackoverflow.com/questions/59481831/numpy-slice-away-2-columns", "title": "numpy: slice away 2 columns", "body": "<p>Consider the following data:</p>\n\n<blockquote>\n<pre><code>61  1  1 15.04 14.96 13.17  9.29 13.96  9.87 13.67 10.25 10.83 12.58 18.50 15.04\n61  1  2 14.71 16.88 10.83  6.50 12.62  7.67 11.50 10.04  9.79  9.67 17.54 13.83\n61  1  3 18.50 16.88 12.33 10.13 11.17  6.17 11.25  8.04  8.50  7.67 12.75 12.71\n</code></pre>\n</blockquote>\n\n<p>The first three columns are year, month and day.<br>\nThe remaining 12 columns are average windspeeds in knots at 12 locations in a country on that day. </p>\n\n<p>What I want to do is lose the 2nd and 3rd column (index 1 and 2) so that I get the following data:</p>\n\n<blockquote>\n<pre><code>61  15.04 14.96 13.17  9.29 13.96  9.87 13.67 10.25 10.83 12.58 18.50 15.04\n61  14.71 16.88 10.83  6.50 12.62  7.67 11.50 10.04  9.79  9.67 17.54 13.83\n61  18.50 16.88 12.33 10.13 11.17  6.17 11.25  8.04  8.50  7.67 12.75 12.71\n</code></pre>\n</blockquote>\n\n<p>The following works but I dont like it as it wont scale if I had lots of columns (ie many locations) in the data.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\ndata = np.loadtxt('wind.data')\ndata_nomonth_noday = data[:,[0,3,4,5,6,7,8,9,10,11,12,13,14]]\n</code></pre>\n\n<p>Is it possible to achieve it without enumerating the column numbers ?\nCan I achieve it with slicing ?</p>\n"}, {"tags": ["python", "keras", "deep-learning", "reinforcement-learning"], "comments": [{"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 1, "creation_date": 1577311456, "post_id": 59481830, "comment_id": 105140720, "body": "I don&#39;t understand the question, how are the values you present in the question produced?"}, {"owner": {"reputation": 1426, "user_id": 766685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMd4j.jpg?s=128&g=1", "display_name": "Vincenzooo", "link": "https://stackoverflow.com/users/766685/vincenzooo"}, "edited": false, "score": 0, "creation_date": 1577316365, "post_id": 59481830, "comment_id": 105141386, "body": "an example of your desired output would help to understand what you are looking for (&quot;reducing dimension&quot;?)."}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 10597617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lfE9.png?s=128&g=1", "display_name": "Patryk Krzyzanski", "link": "https://stackoverflow.com/users/10597617/patryk-krzyzanski"}, "is_accepted": false, "score": 0, "last_activity_date": 1577570856, "creation_date": 1577570856, "answer_id": 59515273, "question_id": 59481830, "link": "https://stackoverflow.com/questions/59481830/how-to-change-ouput-dimension-of-keras-dense-layer/59515273#59515273", "title": "How to change ouput Dimension of Keras Dense Layer?", "body": "<p>After try and error, i found out that, \nmy input was wrong. </p>\n\n<pre><code>input = [1,2,3,4]\n</code></pre>\n\n<p>was interpret from the Network, as 4 examples, not as \none example with 4 features. \nSo i have used the Numpy to change my input. </p>\n\n<pre><code>input = np.array(input)\ninput = np.expand_dims(input, axis=0)\n</code></pre>\n\n<p>So after that the input looks like this:</p>\n\n<pre><code>[[1,2,3,4]]\n</code></pre>\n\n<p>With this input network calculated only one output. </p>\n\n<p>ps. Matias Valdenergo\nThe input was an time series of changing stock prices.\nThe output was the weighted value of certain action, as hold, sell or buy. </p>\n"}], "owner": {"reputation": 29, "user_id": 10597617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lfE9.png?s=128&g=1", "display_name": "Patryk Krzyzanski", "link": "https://stackoverflow.com/users/10597617/patryk-krzyzanski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577571019, "creation_date": 1577307788, "last_edit_date": 1577571019, "question_id": 59481830, "link": "https://stackoverflow.com/questions/59481830/how-to-change-ouput-dimension-of-keras-dense-layer", "title": "How to change ouput Dimension of Keras Dense Layer?", "body": "<p>I tried to build an simple trading bot. I use deep q-learning to do that. The boot get as input an single array of stock prices.</p>\n\n<pre><code>input = [9540.5  9167. 8651.8     9200.5  8780.]\n</code></pre>\n\n<p>This is how my model looks like. </p>\n\n<pre><code>model = Sequential()\n\nmodel.add(Dense(units=64, input_dim = 1, activation=\"relu\"))\n\nmodel.add(Dense(32))\n\nmodel.add(Dense(16))\n\nmodel.add(Dense(8))\n\nmodel.add(Dense(self.action_size, activation=\"linear\"))\n\nmodel.compile(loss=\"mse\", optimizer=Adam(lr=0.001))\n\nstart = time.time()\n\nmodel.summary()\n\nreturn model\n</code></pre>\n\n<p>This is what I will get</p>\n\n<pre><code>desire Output: [   70.84186   -218.39314  -1069.3423  ]\n</code></pre>\n\n<p>and this is how it looks like:</p>\n\n<pre><code>actual output:\n[\n[   70.84186   -218.39314  -1069.3423  ]\n[   70.84186   -218.39314  -1069.3423  ]\n[   70.84186   -218.39314  -1069.3423  ]\n[   70.84186   -218.39314  -1069.3423  ]\n[   70.84186   -218.39314  -1069.3423  ]\n]\n</code></pre>\n\n<p>Can please someone tell me how to reduce the dimension of the output.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 1, "creation_date": 1577311506, "post_id": 59481827, "comment_id": 105140726, "body": "I got <code>IndentationError: unexpected indent</code> on the first line of your code. Is that a typo? If I remove it, I&#39;m not able to reproduce the issue. You need to make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 7187, "user_id": 1621041, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/eWGcV.png?s=128&g=1", "display_name": "finefoot", "link": "https://stackoverflow.com/users/1621041/finefoot"}, "edited": false, "score": 1, "creation_date": 1577311640, "post_id": 59481827, "comment_id": 105140747, "body": "The wrong indentation in the first line should be a typo, yes. If you were to run <code>doctest</code> on a file with an <code>IndentationError</code> you&#39;d still get an <code>IndentationError</code> and not the <code>NameError</code> as described."}, {"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 1, "creation_date": 1577311739, "post_id": 59481827, "comment_id": 105140765, "body": "Beside the point, but <code>divide_exact</code> does the exact same thing as <code>divmod</code>, which is a Python builtin"}, {"owner": {"reputation": 53, "user_id": 5633368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd8539f89c1f73e1f92dfc315da72a4?s=128&d=identicon&r=PG&f=1", "display_name": "Zoie", "link": "https://stackoverflow.com/users/5633368/zoie"}, "reply_to_user": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1577321882, "post_id": 59481827, "comment_id": 105142008, "body": "@wjandrea yeah, it was a typo. my bad, sorry. and I didn&#39;t know that divmod was a thing but cool! i was just using the professor&#39;s example. thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 7187, "user_id": 1621041, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/eWGcV.png?s=128&g=1", "display_name": "finefoot", "link": "https://stackoverflow.com/users/1621041/finefoot"}, "is_accepted": true, "score": 1, "last_activity_date": 1577410731, "last_edit_date": 1577410731, "creation_date": 1577311360, "answer_id": 59482147, "question_id": 59481827, "link": "https://stackoverflow.com/questions/59481827/doctest-fails-in-python3-but-works-if-tested-manually/59482147#59482147", "title": "Doctest fails in python3 but works if tested manually", "body": "<p>There is an <code>IndentationError</code> in the current version of your code. However, I guess that's just an error which happened during copy and paste as you would get a completely different error message, then.</p>\n\n<p>Regarding the <code>NameError</code> you're describing: If I put your given code</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\"\"\" Our first python source file. \"\"\"\n\nfrom operator import floordiv, mod \n\ndef divide_exact(n,d):\n    \"\"\" Return the quotient and remainder.\n\n    &gt;&gt;&gt; q, r = divide_exact(2013, 10)\n    &gt;&gt;&gt; q \n    201\n    &gt;&gt;&gt; r\n    3\n    \"\"\"\n    return floordiv(n, d), mod(n, d)\n</code></pre>\n\n<p>in a file <code>example.py</code> and call <code>doctest</code> with the following command, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python3 -m doctest -v example.py\nTrying:\n    q, r = divide_exact(2013, 10)\nExpecting nothing\nok\nTrying:\n    q \nExpecting:\n    201\nok\nTrying:\n    r\nExpecting:\n    3\nok\n1 items had no tests:\n    example\n1 items passed all tests:\n   3 tests in example.divide_exact\n3 tests in 2 items.\n3 passed and 0 failed.\nTest passed.\n</code></pre>\n\n<p>It says</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 items had no tests:\n    example\n</code></pre>\n\n<p>because there are no tests in the module docstring. Other than that, all three tests in the function docstring for <code>divide_exact</code> do pass as expected.</p>\n\n<p>So you will just have to make sure your file is in the correct folder and your command follows the required syntax for the <code>doctest</code> module.</p>\n"}], "owner": {"reputation": 53, "user_id": 5633368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd8539f89c1f73e1f92dfc315da72a4?s=128&d=identicon&r=PG&f=1", "display_name": "Zoie", "link": "https://stackoverflow.com/users/5633368/zoie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 59482147, "answer_count": 1, "score": 1, "last_activity_date": 1577410731, "creation_date": 1577307757, "question_id": 59481827, "link": "https://stackoverflow.com/questions/59481827/doctest-fails-in-python3-but-works-if-tested-manually", "title": "Doctest fails in python3 but works if tested manually", "body": "<p>I have just started learning python and I am following some online lectures from my university. I have just been introduced to writing doctests in scripts. Below is my code:</p>\n\n<pre><code> \"\"\" Our first python source file. \"\"\"\n\nfrom operator import floordiv, mod \n\ndef divide_exact(n,d):\n    \"\"\" Return the quotient and remainder.\n\n    &gt;&gt;&gt; q, r = divide_exact(2013, 10)\n    &gt;&gt;&gt; q \n    201\n    &gt;&gt;&gt; r\n    3\n    \"\"\"\n    return floordiv(n, d), mod(n, d)\n</code></pre>\n\n<p>When I run</p>\n\n<pre><code>python3 -m doctest -v lec3video3\n</code></pre>\n\n<p>I pass 0 testcases. I get this error </p>\n\n<pre><code>    File \"lec3video3test\", line 7, in lec3video3test\nFailed example:\n    q, r = divide_exact(2013, 10)\nException raised:\n    Traceback (most recent call last):\n      File \"/Library/Frameworks/Python.framework/Versions/3.7/lib/python3.7/doctest.py\", line 1329, in __run\n        compileflags, 1), test.globs)\n      File \"&lt;doctest lec3video3test[0]&gt;\", line 1, in &lt;module&gt;\n        q, r = divide_exact(2013, 10)\n    NameError: name 'divide_exact' is not defined\n</code></pre>\n\n<p>I don't know why because I know my code works. What am I doing wrong? I have tested my code in interactive mode and everything is correct. </p>\n"}, {"tags": ["python", "pandas", "machine-learning", "deep-learning", "output"], "comments": [{"owner": {"reputation": 151, "user_id": 411641, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/58647b78895b421d16161ed4a3a897ca?s=128&d=identicon&r=PG", "display_name": "PiJ", "link": "https://stackoverflow.com/users/411641/pij"}, "edited": false, "score": 0, "creation_date": 1577359995, "post_id": 59481823, "comment_id": 105150332, "body": "The problem you&#39;re having might not be the output itself but some data not being set correctly previously in the exercise. I ran into the same problem with another exercise and was able to solve it by resetting the quiz first and then filling the necessary values step by step, each step followed by &quot;Test run&quot;, which resulted in much nicer and more verbose error messages. So maybe reset your quiz first, fill in your values for <code>weight1</code>, <code>weight2</code> and <code>bias</code>, &quot;Test run&quot; and repeat the steps for all TODO items."}], "owner": {"reputation": 11, "user_id": 12348360, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBNTrgZmGY4fNnRRI5waHll3t3nnwqBkXAzh5Tp=k-s128", "display_name": "Yasser Mohammed", "link": "https://stackoverflow.com/users/12348360/yasser-mohammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577308063, "creation_date": 1577307725, "last_edit_date": 1577308063, "question_id": 59481823, "link": "https://stackoverflow.com/questions/59481823/why-is-no-output-displayed-in-udacity-although-the-code-works-in-a-jupiter-note", "title": "Why is no output displayed in Udacity, although the code works in a Jupiter notebook?", "body": "<p>When trying to solve tasks in Udacity by changing only inputs, the code doesn't want to display any outputs. I tried to edit the code and click test run but it doesn't display anything; it only displays \"Your code displayed no output\". I copied the code to a Jupiter notebook and there it works.</p>\n\n<p>Code </p>\n\n<pre><code>import pandas as pd\n\n# TODO: Set weight1, weight2, and bias\nweight1 = 1\nweight2 = 1\nbias = 0.5\n\n\n# DON'T CHANGE ANYTHING BELOW\n# Inputs and outputs\ntest_inputs = [(0, 0), (0, 1), (1, 0), (1, 1)]\ncorrect_outputs = [False, False, False, True]\noutputs = []\n\n# Generate and check output\nfor test_input, correct_output in zip(test_inputs, correct_outputs):\n    linear_combination = weight1 * test_input[0] + weight2 * test_input[1] + bias\n    output = int(linear_combination &gt;= 0)\n    is_correct_string = 'Yes' if output == correct_output else 'No'\n    outputs.append([test_input[0], test_input[1], linear_combination, output, is_correct_string])\n\n# Print output\nnum_wrong = len([output[4] for output in outputs if output[4] == 'No'])\noutput_frame = pd.DataFrame(outputs, columns=['Input 1', '  Input 2', '  Linear Combination', '  Activation Output', '  Is Correct'])\nif not num_wrong:\n    print('Nice!  You got it all correct.\\n')\nelse:\n    print('You got {} wrong.  Keep trying!\\n'.format(num_wrong))\nprint(output_frame.to_string(index=False))\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/xV0VY.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "boolean"], "comments": [{"owner": {"reputation": 606, "user_id": 5554789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nB2YZ.jpg?s=128&g=1", "display_name": "Jordan Simba", "link": "https://stackoverflow.com/users/5554789/jordan-simba"}, "edited": false, "score": 0, "creation_date": 1577307513, "post_id": 59481783, "comment_id": 105140052, "body": "&quot;1 == 2&quot; is a string... And any string that is not empty is &#39;truthy&#39; in python... So that&#39;s why its always returning true... If you want 1 == 2 to be evaluated as a Boolean, remove the quotation marks around"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1577307523, "post_id": 59481783, "comment_id": 105140054, "body": "a string is always true if its not None. This sounds like an XY problem. Normally its alwyas discouraged an approach like this where you want to eval a string. However if your insistant on it you should look up <code>ast.literal_eval</code>"}, {"owner": {"reputation": 606, "user_id": 5554789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nB2YZ.jpg?s=128&g=1", "display_name": "Jordan Simba", "link": "https://stackoverflow.com/users/5554789/jordan-simba"}, "edited": false, "score": 0, "creation_date": 1577307666, "post_id": 59481783, "comment_id": 105140078, "body": "Is the empty string in Python not evaluated to false?"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "reply_to_user": {"reputation": 606, "user_id": 5554789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nB2YZ.jpg?s=128&g=1", "display_name": "Jordan Simba", "link": "https://stackoverflow.com/users/5554789/jordan-simba"}, "edited": false, "score": 0, "creation_date": 1577307722, "post_id": 59481783, "comment_id": 105140092, "body": "@JordanSimba yeah sorry thats what i mean, string is always true unless its empty."}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577308261, "post_id": 59481783, "comment_id": 105140185, "body": "Try eval(a).  For a = &quot;1 == 2&quot;, eval(a) = False.  For a = &quot;1 == 1&quot;, eval(a) = True.  <a href=\"https://www.programiz.com/python-programming/methods/built-in/eval\" rel=\"nofollow noreferrer\">More info on eval</a>"}, {"owner": {"reputation": 15, "user_id": 3154126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/868bd95b018a4b108acecc5ced57efe5?s=128&d=identicon&r=PG&f=1", "display_name": "user3154126", "link": "https://stackoverflow.com/users/3154126/user3154126"}, "reply_to_user": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577365043, "post_id": 59481783, "comment_id": 105152014, "body": "@DarrylG Thank you!!!. That&#39;s exactly what I was looking for."}, {"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1577365347, "post_id": 59481783, "comment_id": 105152112, "body": "@user3154126--glad I could help. Moved the comment to an answer to alert others there is an answer. <a href=\"https://stackoverflow.com/help/someone-answers\">Don&#39;t forget</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "is_accepted": true, "score": 1, "last_activity_date": 1577365261, "creation_date": 1577365261, "answer_id": 59488858, "question_id": 59481783, "link": "https://stackoverflow.com/questions/59481783/how-to-convert-a-string-boolean-into-an-if-statement-in-python/59488858#59488858", "title": "how to convert a string boolean into an IF statement in Python", "body": "<p>Try <a href=\"https://www.geeksforgeeks.org/eval-in-python/\" rel=\"nofollow noreferrer\">eval</a></p>\n\n<pre><code>a = \"1 == 2\"\neval(a)\n&gt;&gt;&gt;False\n\na = \"1 == 1\"\neval(a) \n&gt;&gt;&gt; True\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3154126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/868bd95b018a4b108acecc5ced57efe5?s=128&d=identicon&r=PG&f=1", "display_name": "user3154126", "link": "https://stackoverflow.com/users/3154126/user3154126"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 59488858, "answer_count": 1, "score": 0, "last_activity_date": 1577365261, "creation_date": 1577307308, "question_id": 59481783, "link": "https://stackoverflow.com/questions/59481783/how-to-convert-a-string-boolean-into-an-if-statement-in-python", "title": "how to convert a string boolean into an IF statement in Python", "body": "<p>I am trying to create a more complicated boolean function that I'll use between functions. Here is the simplified problem:</p>\n\n<pre><code>a = \"1 == 2\"\n\nif a:\n    print (\"it is not working\")\nelse:\n    print (\"it worked\")\n</code></pre>\n\n<p>Out[1]:</p>\n\n<p>it is not working</p>\n\n<p>Basically  I am trying to pass a function as a string and use that in a boolean later on but it turns out as True always.</p>\n\n<p>I also tried:</p>\n\n<p>bool(a)</p>\n\n<p>Out[1]: True</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 151, "user_id": 12580742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KcRY8.jpg?s=128&g=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/12580742/jan"}, "edited": false, "score": 1, "creation_date": 1577308178, "post_id": 59481777, "comment_id": 105140170, "body": "Your problem is that you compare <code>guess</code> with <code>num</code>, but <code>guess</code> is a string and <code>num</code> is an integer."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12597258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/299a0fd66284ab00e94fd9765222d054?s=128&d=identicon&r=PG&f=1", "display_name": "ratcrux", "link": "https://stackoverflow.com/users/12597258/ratcrux"}, "edited": false, "score": 0, "creation_date": 1577308385, "post_id": 59481840, "comment_id": 105140206, "body": "Ah, okay! Thank you so much for that. Really appreciated."}], "tags": [], "owner": {"reputation": 521, "user_id": 5476824, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ed2d21f0b6380d3adfa71db49d584ae3?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/5476824/jona"}, "is_accepted": false, "score": 1, "last_activity_date": 1577307882, "creation_date": 1577307882, "answer_id": 59481840, "question_id": 59481777, "link": "https://stackoverflow.com/questions/59481777/trying-to-create-simple-guessing-game-in-python/59481840#59481840", "title": "Trying to create simple guessing game in Python?", "body": "<p>Welcome!<br>\nPlease don't share your code using images. There is an easy way to directly share code as text on stackoverflow. Look <a href=\"https://meta.stackexchange.com/questions/51144/how-do-i-post-code-in-stackoverflow\">here</a> for examples. </p>\n\n<p>As for your question, <code>raw_input</code> was renamed in python 3 to <code>input</code>. See <a href=\"https://stackoverflow.com/questions/954834/how-do-i-use-raw-input-in-python-3\">this question</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 12597258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/299a0fd66284ab00e94fd9765222d054?s=128&d=identicon&r=PG&f=1", "display_name": "ratcrux", "link": "https://stackoverflow.com/users/12597258/ratcrux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1577309015, "creation_date": 1577307235, "last_edit_date": 1577309015, "question_id": 59481777, "link": "https://stackoverflow.com/questions/59481777/trying-to-create-simple-guessing-game-in-python", "title": "Trying to create simple guessing game in Python?", "body": "<p>I am newer to Python, so please try not to yell at me, haha. I am not sure exactly what I am doing wrong here, and wanted to ask for any pointers or tips. I am trying to create a simple guessing game with Python. It states on line 10 my code has an error, and I am not sure exactly what it is. Sorry I cannot be more specific, I do not know all the basics yet, and I am attempting to figure out how to make programs. Here is my code below.</p>\n\n<pre><code>num = 30\nguess = \"\"\nguess_count = 0\nguess_limit = 3\nout_of_guesses = False\n\nwhile num != guess:\n    print()\n    if guess &lt; num:\n        print(\"Sorry, but your guess is too low! \")\n        guess = int(input(\"Guess the number I am thinking of: \"))\n\n    elif guess &gt; num:\n        print(\"Sorry, but your guess is too high! \")\n        guess = int(input(\"Guess the number I am thinking of: \"))\n    else:\n        print(\"Wow! You guessed it, good job! \")\n\nif out_of_guesses:\n    print(\"Out of guesses, sorry but you lost! \")\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "sublimetext"], "comments": [{"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 1, "creation_date": 1577310660, "post_id": 59481771, "comment_id": 105140571, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/59430307/easy-sublimetext-question-regarding-pygame-module\">easy SublimeText question regarding pygame module</a>"}, {"owner": {"reputation": 1426, "user_id": 766685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMd4j.jpg?s=128&g=1", "display_name": "Vincenzooo", "link": "https://stackoverflow.com/users/766685/vincenzooo"}, "edited": false, "score": 0, "creation_date": 1577316573, "post_id": 59481771, "comment_id": 105141413, "body": "it seems like the version of python interpreter used by sublime doesn&#39;t have the module installed. You can try to check python version, or try to run the .py file from command line to see if it works in that case and check the two python used are the same."}, {"owner": {"reputation": 949, "user_id": 1196983, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FO9zN.jpg?s=128&g=1", "display_name": "1000Gbps", "link": "https://stackoverflow.com/users/1196983/1000gbps"}, "edited": false, "score": 0, "creation_date": 1577317339, "post_id": 59481771, "comment_id": 105141508, "body": "What happens when you run <code>pip install matplotlib</code>?"}, {"owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "reply_to_user": {"reputation": 949, "user_id": 1196983, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FO9zN.jpg?s=128&g=1", "display_name": "1000Gbps", "link": "https://stackoverflow.com/users/1196983/1000gbps"}, "edited": false, "score": 0, "creation_date": 1577409566, "post_id": 59481771, "comment_id": 105163925, "body": "@1000Gbps I get: &quot;pip: command not found&quot; (I&#39;m assuming this is in the terminal)"}, {"owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "reply_to_user": {"reputation": 1426, "user_id": 766685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PMd4j.jpg?s=128&g=1", "display_name": "Vincenzooo", "link": "https://stackoverflow.com/users/766685/vincenzooo"}, "edited": false, "score": 0, "creation_date": 1577410081, "post_id": 59481771, "comment_id": 105164005, "body": "@Vincenzooo Hi, thanks for your comment. I tried running the code in the command window and it still doesn&#39;t run. The weirdest part is that the output has things that aren&#39;t even a part of my script... but they were a part of code that I was trying to run in another script. For example, I have &quot;AttributeError: module &#39;numpy&#39; has no attribute &#39;array&#39;&quot; but I don&#39;t have numpy in this script at all. I also notice that anaconda3 and miniconda3 both appear in the path that shows below my error. These are programs I tried to download at one point but then delete. Is the problem me still having them?"}, {"owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "reply_to_user": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577412407, "post_id": 59481771, "comment_id": 105164341, "body": "@OdatNurd Sorry... I&#39;m still trying to understand/follow it but I&#39;ll let you know! I don&#39;t understand how this all works yet."}, {"owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "reply_to_user": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577413785, "post_id": 59481771, "comment_id": 105164516, "body": "@OdatNurd Ok, I followed the steps and created a new build system (replacing &quot;python&quot; with &quot;python3&quot;) like the post suggests. But now, whether I select the build &quot;Python&quot;, &quot;Python3&quot; or &quot;Automatic&quot;, I still get an issue. When I use &quot;Python3&quot;, I get an error. When I use the other two (&quot;Automatic&quot; or &quot;Python&quot;), I get no error and just &quot;[Finished in 0.1s]&quot;. Just after saving the new build system I tried it, and I got the same message (&quot;[Finished in 0.1s]&quot;). The error has numpy in it when I&#39;m only calling and using matplotlib, too."}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577422479, "post_id": 59481771, "comment_id": 105165832, "body": "If all you see in the output is that it finished, make sure that you&#39;re not picking the <code>Syntax Check</code> variant of the build system; that one compiles the code but doesn&#39;t run it. For verification, can you provide the build system that you&#39;re currently trying to use in your question?"}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577427846, "post_id": 59481771, "comment_id": 105167022, "body": "Note also that if your program doesn&#39;t actually generate any output, then all you&#39;ll see is that it ran to completion."}, {"owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "reply_to_user": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577564936, "post_id": 59481771, "comment_id": 105200923, "body": "@OdatNurd How can I check to see what build system I&#39;m using? I can&#39;t find the file I saved it in but I know I typed and saved: {  &quot;cmd&quot;: [&quot;usr/local/bin/python3&quot;, &quot;-u&quot;, &quot;$file&quot;],  }. This is the one I should be using."}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577565746, "post_id": 59481771, "comment_id": 105201109, "body": "The current build system is shown with a check mark in the <code>Tools &gt; Build System</code> menu; when that&#39;s set to <code>Automatic</code>, then you can use <code>Tools &gt; Build With...</code> to get Sublime to prompt you to select the build system to use. In that case, the name of the build system you pick is the the one that&#39;s used, and it&#39;s based on the name of the <code>sublime-build</code> file."}, {"owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "reply_to_user": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577642468, "post_id": 59481771, "comment_id": 105214769, "body": "@OdatNurd I see. The build system I&#39;m using is Python3."}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1577746223, "post_id": 59481771, "comment_id": 105245328, "body": "You say you&#39;re getting an error, but not what it is; is it the same error as in your question?"}, {"owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "reply_to_user": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1578426753, "post_id": 59481771, "comment_id": 105432506, "body": "@OdatNurd Sorry for the delay in my responses- things have been getting busy this time of year. Hope you enjoyed the holidays! I actually went back onto Sublime just now and everything seemed to have worked.... it feels like the error is gone. But the error was that I didn&#39;t have Matplotlib even though I was using it before. I think maybe it had to do with the Build System. I&#39;m still not completely sure how this works but I&#39;m going to save this information and use it if it happens again in the future. Thanks so much for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 949, "user_id": 1196983, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FO9zN.jpg?s=128&g=1", "display_name": "1000Gbps", "link": "https://stackoverflow.com/users/1196983/1000gbps"}, "is_accepted": false, "score": 0, "last_activity_date": 1577644866, "creation_date": 1577644866, "answer_id": 59522258, "question_id": 59481771, "link": "https://stackoverflow.com/questions/59481771/had-matplotlib-on-sublime-text-now-its-gone/59522258#59522258", "title": "Had Matplotlib on Sublime Text, Now It&#39;s Gone", "body": "<p>Try the following (I'm doing this on VM with MacOS and SublimeText 3):</p>\n\n<ol>\n<li>Press Cmd+Shift+P</li>\n<li>Type in the field <code>Package Control: Install Package</code>. Press Enter and search for Matplotlib</li>\n</ol>\n\n<hr>\n\n<p>On Ubuntu 18.04 (also VM):</p>\n\n<ol>\n<li>Open the terminal</li>\n<li>Type <code>python3 --version</code> to check if Python 3 is installed</li>\n<li>If the above command returns the currently installed 3rd version, type <code>sudo apt install python3-pip</code></li>\n<li>If you are not sure you're lucky after the installation type <code>pip -V</code> to check if pip is actually installed</li>\n<li>If the above command gives you a good output, then type <code>pip install matplotlib</code> and wait while <code>matplotlib</code> is installed</li>\n<li>As last step type <code>pip list</code> to see the list of all installed packages. One of the lines will be for Matplotlib</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 12597270, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UCVv3ubwjI0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdAZEOrr7pZqCE7m19-egmHyM3C3A/photo.jpg?sz=128", "display_name": "user12597270", "link": "https://stackoverflow.com/users/12597270/user12597270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577644866, "creation_date": 1577307143, "question_id": 59481771, "link": "https://stackoverflow.com/questions/59481771/had-matplotlib-on-sublime-text-now-its-gone", "title": "Had Matplotlib on Sublime Text, Now It&#39;s Gone", "body": "<p>I'm completely new at using Sublime Text. But, I was able to import and even use Matplotlib to create plots.</p>\n\n<p>Now, I'm trying to run the same script I had before that worked perfectly, but it doesn't run anymore.</p>\n\n<p>I get the message:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nModuleNotFoundError: No module named 'matplotlib'\n</code></pre>\n\n<p>Does anyone know what could be wrong?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "numpy", "random"], "comments": [{"owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 0, "creation_date": 1577307161, "post_id": 59481741, "comment_id": 105139992, "body": "Looks like the solution is not working if you need to draw from <code>[0, 1, 3, 4, 6, 7]</code>. Is this correct and a situation you would be interested in?"}, {"owner": {"reputation": 2339, "user_id": 11070463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w4qy.jpg?s=128&g=1", "display_name": "Jay Mody", "link": "https://stackoverflow.com/users/11070463/jay-mody"}, "reply_to_user": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 0, "creation_date": 1577307618, "post_id": 59481741, "comment_id": 105140071, "body": "@norok2 No, in this case I&#39;m only looking to exclude one number, so this wouldn&#39;t be a case I&#39;d be interested in."}], "answers": [{"comments": [{"owner": {"reputation": 2339, "user_id": 11070463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w4qy.jpg?s=128&g=1", "display_name": "Jay Mody", "link": "https://stackoverflow.com/users/11070463/jay-mody"}, "edited": false, "score": 0, "creation_date": 1577307772, "post_id": 59481806, "comment_id": 105140103, "body": "In this case, the piece of code is nested in a loop, where <code>document_index</code> is a changing value. Removing it from a list, performing random.choice, then re-adding it to the list, would be less efficient."}, {"owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "reply_to_user": {"reputation": 2339, "user_id": 11070463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w4qy.jpg?s=128&g=1", "display_name": "Jay Mody", "link": "https://stackoverflow.com/users/11070463/jay-mody"}, "edited": false, "score": 0, "creation_date": 1577309866, "post_id": 59481806, "comment_id": 105140435, "body": "@JayMody you do not need a <code>list</code>, you just need a sequence. See the edits for an efficient non-contiguous range that would work well also in your use case, although it may be an overkill for the problem at hand."}], "tags": [], "owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "is_accepted": false, "score": 1, "last_activity_date": 1577310885, "last_edit_date": 1577310885, "creation_date": 1577307506, "answer_id": 59481806, "question_id": 59481741, "link": "https://stackoverflow.com/questions/59481741/generating-a-random-integer-in-a-range-while-excluding-a-number-in-the-given-ran/59481806#59481806", "title": "Generating a random integer in a range while excluding a number in the given range", "body": "<p>Perhaps a more elegant way of picking integers with <em>holes</em> is to use <a href=\"https://docs.python.org/3/library/random.html#random.choice\" rel=\"nofollow noreferrer\"><code>random.choice()</code></a>:</p>\n\n<pre><code>import random\n\n\nseq = [0, 1, 3, 4, 6, 7]\nrandom.choice(seq)\n</code></pre>\n\n<p>the drawback is that it requires a sequence, which, in the case of a simple <code>list</code> may not be efficient in your case, and it is generally not efficient  if the size of the range is much larger than the number of invalid values. In that case, a more efficient approach would be to create custom generating sequence with the knowledge of the \"holes\" only.</p>\n\n<hr>\n\n<h1>EDIT</h1>\n\n<p>Such implementation would take the form of a <strong>non-contiguous range</strong> (without <em>step</em> support) with invalid numbers, implementing the <a href=\"https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence\" rel=\"nofollow noreferrer\"><code>Sequence</code> interface</a>:</p>\n\n<pre><code>class NonContRange(object):\n    def __init__(self, start, stop, invalid=None):\n        self.start = start\n        self.stop = stop\n        self.invalid = invalid if invalid else set()\n\n    def __len__(self):\n        return self.stop - self.start - len(self.invalid)\n\n    def __getitem__(self, i):\n        offset = 0\n        for invalid in sorted(self.invalid):\n            if invalid &lt;= self.start + i + offset:\n                offset += 1\n        return self.start + i + offset\n\n    def __iter__(self):\n        for i in range(self.start, self.stop):\n            if i not in self.invalid:\n                yield i\n\n    def __reversed__(self):\n        for i in range(self.stop - 1, self.start - 1, -1):\n            if i not in self.invalid:\n                yield i\n\n    def index(self, x):\n        if x in self.invalid:\n            raise ValueError(f'{x} not in sequence.')\n        else:\n            offset = sum(1 for y in self.invalid if y &lt; x)\n            return x - self.start - offset\n\n    def count(self, x):\n        return 0 if x in self.invalid or not (self.start &lt;= x &lt; self.stop) else 1\n\n    def __str__(self):\n        return f'NonContRange({self.start}, {self.stop}, \u00ad\u00ad\u00ad\u00ac{sorted(self.invalid)})'\n</code></pre>\n\n<p>A few tests:</p>\n\n<pre><code>seq = NonContRange(10, 20, {12, 15, 16})\nprint(seq)\n# NonContRange(10, 20, \u00ad\u00ad\u00ad\u00ac[12, 15, 16])\nprint(list(seq))\n# [10, 11, 13, 14, 17, 18, 19]\nprint(list(reversed(seq)))\n# [19, 18, 17, 14, 13, 11, 10]\nprint([seq[i] for i in range(len(seq))])\n# [10, 11, 13, 14, 17, 18, 19]\nprint(list(seq).count(19))\n# 1\nprint(list(seq).count(12))\n# 0\n</code></pre>\n\n<p>and this can be safely used with <code>random.choice()</code>:</p>\n\n<pre><code>import random\n\n\ninvalid = {12, 17}\nseq = NonContRange(10, 20, invalid)\nprint(all(random.choice(seq) not in invalid for _ in range(10000)))\n# True\n</code></pre>\n\n<p>This is of course very nice in the general case, but for your specific situation it looks more like killing a fly with a cannonball.</p>\n"}, {"tags": [], "owner": {"reputation": 8239, "user_id": 4056181, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/G0SRK.jpg?s=128&g=1", "display_name": "jmd_dk", "link": "https://stackoverflow.com/users/4056181/jmd-dk"}, "is_accepted": true, "score": 2, "last_activity_date": 1577312306, "creation_date": 1577312306, "answer_id": 59482225, "question_id": 59481741, "link": "https://stackoverflow.com/questions/59481741/generating-a-random-integer-in-a-range-while-excluding-a-number-in-the-given-ran/59482225#59482225", "title": "Generating a random integer in a range while excluding a number in the given range", "body": "<p>Had <code>len(all_documents)</code> been small, a pretty solution would be to realize all valid numbers (e.g. in a <code>list</code>) and use <code>random.choice()</code>. Since your <code>len(all_documents)</code> is supposedly large, this solution will waste a lot of memory.</p>\n\n<p>A more memory efficient solution is to stick with the original strategy. It's really very reasonable for large <code>len(all_documents)</code> where a single iteration is very likely to be enough, though the hard-coded <code>10</code> is ugly. A pretty one-line solution would be to make use of the <a href=\"https://docs.python.org/3/whatsnew/3.8.html#assignment-expressions\" rel=\"nofollow noreferrer\">new walrus operator</a> in Python 3.8:</p>\n\n<pre><code>while (random_document_index := rng.randint(0, len(all_documents) - 1)) == document_index: pass\n</code></pre>\n"}], "owner": {"reputation": 2339, "user_id": 11070463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1w4qy.jpg?s=128&g=1", "display_name": "Jay Mody", "link": "https://stackoverflow.com/users/11070463/jay-mody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 59482225, "answer_count": 2, "score": 0, "last_activity_date": 1577312306, "creation_date": 1577306871, "question_id": 59481741, "link": "https://stackoverflow.com/questions/59481741/generating-a-random-integer-in-a-range-while-excluding-a-number-in-the-given-ran", "title": "Generating a random integer in a range while excluding a number in the given range", "body": "<p>I was going through the <a href=\"https://github.com/google-research/bert\" rel=\"nofollow noreferrer\">BERT</a> repo and found the following piece of code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for _ in range(10):\n    random_document_index = rng.randint(0, len(all_documents) - 1)\n    if random_document_index != document_index:\n        break\n</code></pre>\n\n<p>The idea here being to generate a random integer on <code>[0, len(all_documents)-1]</code> that cannot equal <code>document_index</code>. Because <code>len(all_documents)</code> is suppose to be a very large number, the first iteration is almost guaranteed to produce a valid randint, but just to be safe, they try it for 10 iterations. I can't help but think there has to be a better way to do this.</p>\n\n<p>I found this <a href=\"https://stackoverflow.com/questions/34182699/random-integer-in-a-certain-range-excluding-one-number\">answer</a> which is easy enough to implement in python:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>random_document_index = rng.randint(0, len(all_documents) - 2)\nrandom_document_index += 1 if random_document_index &gt;= document_index else 0\n</code></pre>\n\n<p>I was just wondering if there's a better way to achieve this in python using the in-built functions (or even with <code>numpy</code>), or if this is the best you can do. </p>\n"}, {"tags": ["python", "pip", "pylint"], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 5973860, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-QhAxmtyBUoI/AAAAAAAAAAI/AAAAAAAAAjI/kXQt5c3QNJY/photo.jpg?sz=128", "display_name": "Cypher236", "link": "https://stackoverflow.com/users/5973860/cypher236"}, "edited": false, "score": 0, "creation_date": 1577307667, "post_id": 59481765, "comment_id": 105140079, "body": "Mostly worked! But now I&#39;m getting an error saying &quot;colorama requires a different Python&quot;. Is there way to uninstall or bypass this? I tried running pip uninstall colorama but it isn&#39;t working"}, {"owner": {"reputation": 407, "user_id": 5973860, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-QhAxmtyBUoI/AAAAAAAAAAI/AAAAAAAAAjI/kXQt5c3QNJY/photo.jpg?sz=128", "display_name": "Cypher236", "link": "https://stackoverflow.com/users/5973860/cypher236"}, "edited": false, "score": 0, "creation_date": 1577308053, "post_id": 59481765, "comment_id": 105140146, "body": "Never mind using easy install for everything seems to have fixed the problem. Thanks for your help."}], "tags": [], "owner": {"reputation": 10572, "user_id": 2841472, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Ia67f.jpg?s=128&g=1", "display_name": "Sai prateek", "link": "https://stackoverflow.com/users/2841472/sai-prateek"}, "is_accepted": true, "score": 1, "last_activity_date": 1577307114, "creation_date": 1577307114, "answer_id": 59481765, "question_id": 59481734, "link": "https://stackoverflow.com/questions/59481734/failed-installing-pylint-via-cmd-windows/59481765#59481765", "title": "Failed installing pylint via cmd (Windows)", "body": "<p>try this:</p>\n\n<pre><code>easy_install --upgrade pip\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 5973860, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh3.googleusercontent.com/-QhAxmtyBUoI/AAAAAAAAAAI/AAAAAAAAAjI/kXQt5c3QNJY/photo.jpg?sz=128", "display_name": "Cypher236", "link": "https://stackoverflow.com/users/5973860/cypher236"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 59481765, "answer_count": 1, "score": 0, "last_activity_date": 1577307114, "creation_date": 1577306757, "question_id": 59481734, "link": "https://stackoverflow.com/questions/59481734/failed-installing-pylint-via-cmd-windows", "title": "Failed installing pylint via cmd (Windows)", "body": "<p>As the title says, I'm trying to install pylint with the below command:</p>\n\n<p><code>pip install pylint</code></p>\n\n<p>But I get the below exception:</p>\n\n<pre><code>Exception:\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2482, in _dep_map\n    return self.__dep_map\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2344, in __getattr__\n    raise AttributeError(attr)\nAttributeError: _DistInfoDistribution__dep_map\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\site-packages\\pip\\basecommand.py\", line 122, in main\n    status = self.run(options, args)\n  File \"C:\\Python34\\lib\\site-packages\\pip\\commands\\install.py\", line 278, in run\n    requirement_set.prepare_files(finder, force_root_egg_info=self.bundle, bundle=self.bundle)\n  File \"C:\\Python34\\lib\\site-packages\\pip\\req.py\", line 1265, in prepare_files\n    req_to_install.extras):\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2291, in requires\n    dm = self._dep_map\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2484, in _dep_map\n    self.__dep_map = self._compute_dependencies()\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2508, in _compute_dependencies\n    parsed = next(parse_requirements(distvers))\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2605, in parse_requirements\n    line, p, specs = scan_list(VERSION,LINE_END,line,p,(1,2),\"version spec\")\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\pkg_resources.py\", line 2583, in scan_list\n    \"Expected ',' or end-of-list in\",line,\"at\",line[p:]\nValueError: (\"Expected ',' or end-of-list in\", 'lazy-object-proxy ==1.4.*', 'at', '*')\n\nStoring debug log for failure in C:\\Users\\Haiss\\pip\\pip.log\n</code></pre>\n\n<p>Anybody have any ideas what's causing it to fail? I have Python 3 installed using Anaconda. I checked the debug log but it doesn't provide any additional details.</p>\n"}, {"tags": ["python", "python-3.x", "if-statement", "bubble-sort"], "comments": [{"owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "edited": false, "score": 0, "creation_date": 1577306694, "post_id": 59481716, "comment_id": 105139926, "body": "Please provide more context and a minimum reproducible example"}, {"owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "edited": false, "score": 0, "creation_date": 1577306949, "post_id": 59481716, "comment_id": 105139964, "body": "perform checks and update the variables........"}, {"owner": {"reputation": 1530, "user_id": 926978, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/R9SK9.png?s=128&g=1", "display_name": "Lennart", "link": "https://stackoverflow.com/users/926978/lennart"}, "edited": false, "score": 0, "creation_date": 1577310477, "post_id": 59481716, "comment_id": 105140541, "body": "You will have to provide more details of your problem (preferably something that is reproducible) along with some code that you have tried. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> for more information on how to formulate your question."}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1577313969, "post_id": 59481716, "comment_id": 105141096, "body": "Can we safely assume that tagging <a href=\"https://stackoverflow.com/questions/tagged/pyth\">pyth</a> was a mistake?"}, {"owner": {"reputation": 7045, "user_id": 1000551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8cb0eaa4de7f781e42328ec7544ca3?s=128&d=identicon&r=PG", "display_name": "Vadim Kotov", "link": "https://stackoverflow.com/users/1000551/vadim-kotov"}, "reply_to_user": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1577350957, "post_id": 59481716, "comment_id": 105147292, "body": "@khelwood I think yes. I&#39;ve edited the tags"}], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 12210908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6yjcl.jpg?s=128&g=1", "display_name": "strikersps", "link": "https://stackoverflow.com/users/12210908/strikersps"}, "is_accepted": false, "score": 0, "last_activity_date": 1577631291, "last_edit_date": 1577631291, "creation_date": 1577621781, "answer_id": 59519316, "question_id": 59481716, "link": "https://stackoverflow.com/questions/59481716/considering-three-numbers-nr-1-nr-2-and-nr-3-how-can-write-a-program-such-th/59519316#59519316", "title": "Considering three numbers, nr_1, nr_2, and nr_3. How can write a program such that nr_1 has the largest value and nr_3 the smallest", "body": "<blockquote>\n  <p>You should be more specific an provide more details about the problem which you want to solve as described in the comments.  </p>\n</blockquote>\n\n<p>I will try to answer the question:<br>\nAs you want to find the <code>maximum</code> and <code>minimum</code> of the 3 values which the variable stores, and as given the variable can store any type of values, I will suggest you represent each of the value as a string and compare them lexicographically.  </p>\n\n<p>You don't need to use <code>bubble-sort</code> for this task in <code>python</code>, as you can use <code>max</code> and <code>min</code> functions in <code>python</code>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def main():\n    v1, v2, v3 = tuple(input().rstrip().split())\n    nr_1 = (max(v1, v2, v3))\n    nr_2 = (min(v1, v2, v3))\n    print(nr_1, nr_2)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p><a href=\"https://tio.run/##ZY7BCsMgEETv@YolpxVCQW1pKPgti1BDhbgVY0L79daYQw5dWFh2ZpgXv/n1Zl3K000QrGcUjw7qbHKATdXVYCCvcXboOa4ZxSUtOflYjyXOvj5EC3AiWa0Y7AfP8CmqJtaCPzEmzxn3/NCMouv8BERsgyMCY6An2tmI@gPuAC3lPo5XuElQSv8A\" rel=\"nofollow noreferrer\">Try Online!</a>.</p>\n\n<p>Although if you are specific about the type of data in the 3 variables you defined, then you need to adjust your program accordingly.</p>\n"}], "owner": {"reputation": 1, "user_id": 12597234, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA4pA3RAqPlI30lGjv4rh83StvxjjZiPGkYi4n2fQ=k-s128", "display_name": "data_science_coder", "link": "https://stackoverflow.com/users/12597234/data-science-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1577631291, "creation_date": 1577306565, "last_edit_date": 1577350931, "question_id": 59481716, "link": "https://stackoverflow.com/questions/59481716/considering-three-numbers-nr-1-nr-2-and-nr-3-how-can-write-a-program-such-th", "title": "Considering three numbers, nr_1, nr_2, and nr_3. How can write a program such that nr_1 has the largest value and nr_3 the smallest", "body": "<p>The three numbers are variables and can have any value. The program should just assign the largest of the number to nr_1 and smallest to nr_3</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 1268, "user_id": 4342319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba983fd175f2c65b6088c92cc5f661cf?s=128&d=identicon&r=PG&f=1", "display_name": "mmking", "link": "https://stackoverflow.com/users/4342319/mmking"}, "edited": false, "score": 0, "creation_date": 1577306554, "post_id": 59481706, "comment_id": 105139906, "body": "try and except should be outside of the append"}], "answers": [{"tags": [], "owner": {"reputation": 1555, "user_id": 6114445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSwiF.jpg?s=128&g=1", "display_name": "Jonathan Rys", "link": "https://stackoverflow.com/users/6114445/jonathan-rys"}, "is_accepted": true, "score": 0, "last_activity_date": 1577306792, "creation_date": 1577306792, "answer_id": 59481736, "question_id": 59481706, "link": "https://stackoverflow.com/questions/59481706/i-want-to-add-a-value-to-a-list-and-do-some-stuff-with-it/59481736#59481736", "title": "I want to add a value to a list and do some stuff with it", "body": "<p>Try it like this:</p>\n\n<pre><code>    try:\n        my_list.append(int(entry.get()))\n    except:\n        fail_message = tk.Label (frame, height=6, text = \"something went wrong\", )\n        fail_message.pack(side= tk.LEFT)\n\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12593500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAY9-n9JONdGF9b6QwcEXixYR9M-QToAjbLj2L3_Q=k-s128", "display_name": "CraftingTrio Challenges", "link": "https://stackoverflow.com/users/12593500/craftingtrio-challenges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 59481736, "answer_count": 1, "score": -2, "last_activity_date": 1577306792, "creation_date": 1577306459, "question_id": 59481706, "link": "https://stackoverflow.com/questions/59481706/i-want-to-add-a-value-to-a-list-and-do-some-stuff-with-it", "title": "I want to add a value to a list and do some stuff with it", "body": "<p>so I have an entry where you can enter text. it should then be converted into an integer so it can be placed inside a list.SOmething went wrong and I can't find the problem.Thanks in advance</p>\n\n<pre><code>my_list.append(try:\n        int(entry.get())\n                   except:\n        fail_message = tk.Label (frame, height=6, text = \"something went wrong\", )\n        fail_message.pack(side= tk.LEFT))\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 36473, "user_id": 12046409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRhI.jpg?s=128&g=1", "display_name": "JohanC", "link": "https://stackoverflow.com/users/12046409/johanc"}, "is_accepted": true, "score": 2, "last_activity_date": 1577361597, "last_edit_date": 1577361597, "creation_date": 1577326334, "answer_id": 59483214, "question_id": 59481677, "link": "https://stackoverflow.com/questions/59481677/position-colorbar-above-2d-histogram-instead-of-below/59483214#59483214", "title": "Position colorbar above 2d Histogram (instead of below)", "body": "<p>The official matplotlib docs have an example using an <a href=\"https://matplotlib.org/gallery/axes_grid1/demo_colorbar_with_axes_divider.html?highlight=demo%20colorbar%20axes%20divider\" rel=\"nofollow noreferrer\">'axes divider'</a> to position a colorbar at the top.</p>\n\n<p>Here is your adapted code, together with some random data to get a standalone example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable\nfrom mpl_toolkits.axes_grid1.colorbar import colorbar\n\nN = 10000\nfuel_econ = pd.DataFrame({'displ': np.random.uniform(0.6, 7, N), 'co2': np.zeros(N)})\nfuel_econ.co2 = np.random.normal(fuel_econ.displ*100+100, 100)\n\nbins_x = np.arange(0.6, fuel_econ['displ'].max() + 0.3, 0.3)\nbins_y = np.arange(0, fuel_econ['co2'].max() + 40, 40)\n\nhist = plt.hist2d(data=fuel_econ, x='displ', y='co2', bins=[bins_x, bins_y],\n                  cmap='plasma_r', cmin=0.9)\nplt.xlabel('Displacement (l)')\nplt.ylabel('CO2 (g/mi)')\n\nax = plt.gca()\nax_divider = make_axes_locatable(ax)\n# define size and padding of axes for colorbar\ncax = ax_divider.append_axes('top', size='5%', pad='4%')\n# you need to get a mappable obj (get_children)\ncolorbar(ax.get_children()[0], cax=cax, orientation='horizontal')\n# locate colorbar ticks (default is at the botttom)\ncax.xaxis.set_ticks_position('top')\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ipQFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ipQFL.png\" alt=\"example plot\"></a></p>\n"}], "owner": {"reputation": 508, "user_id": 12554701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4250a20bbd97f8955758bc0b964fadb6?s=128&d=identicon&r=PG&f=1", "display_name": "Axblert", "link": "https://stackoverflow.com/users/12554701/axblert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59483214, "answer_count": 1, "score": 2, "last_activity_date": 1577361597, "creation_date": 1577306126, "question_id": 59481677, "link": "https://stackoverflow.com/questions/59481677/position-colorbar-above-2d-histogram-instead-of-below", "title": "Position colorbar above 2d Histogram (instead of below)", "body": "<p>I have a 2d histogram that displays nicely and I want to position the colorbar on top of the Chart, instead of below, where it resides currently.</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n%matplotlib inline\n%config InlineBackend.figure_format = 'retina'\n\nfuel_econ = pd.read_csv('./data/fuel_econ.csv')\n\nbins_x = np.arange(0.6, fuel_econ['displ'].max()+0.3, 0.3)\nbins_y = np.arange(0, fuel_econ['co2'].max()+40, 40)\n\nplt.hist2d(data = fuel_econ, x = 'displ', y = 'co2', bins = [bins_x, bins_y], \n               cmap = 'plasma_r', cmin = 0.9)\n\nplt.colorbar(orientation='horizontal')\nplt.xlabel('Displacement (l)')\nplt.ylabel('CO2 (g/mi)')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KL79O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KL79O.png\" alt=\"Histogram\"></a></p>\n\n<p>Browsing through the documentation, I couldn't find anything. Thanks for your ideas.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "time-series", "date-formatting"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12597151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB_uxXByoASRlJOdGvqpmkEklPN58o_SnmMQTdYuA=k-s128", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/12597151/ankit-gupta"}, "edited": false, "score": 0, "creation_date": 1577360242, "post_id": 59481770, "comment_id": 105150413, "body": "It workded great, now the data is being shown as i wanted to.."}], "tags": [], "owner": {"reputation": 18, "user_id": 12592003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab0f0114d51cb17f3cdd3dba0ffb84e5?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Terentjev", "link": "https://stackoverflow.com/users/12592003/alexey-terentjev"}, "is_accepted": true, "score": 0, "last_activity_date": 1577307554, "last_edit_date": 1577307554, "creation_date": 1577307143, "answer_id": 59481770, "question_id": 59481670, "link": "https://stackoverflow.com/questions/59481670/pandas-changes-the-date-format-abruptly/59481770#59481770", "title": "Pandas changes the date format abruptly", "body": "<p>The issue starts when first number could not be parsed as Month number (13). This is actually not an issue, it starts working as you axpected after 12, so the first number was by default treated as month. I assume that you are parsing .csv or something like that, so <code>dayfirst</code> flag would be helpful:\n<code>pd.read_csv('data.csv', dayfirst=True, parse_dates=True, index_col=[0])</code> (like in this answer <a href=\"https://stackoverflow.com/questions/30833133/read-csv-with-dd-mm-yyyy-in-python-and-pandas\">Read csv with dd.mm.yyyy in Python and Pandas</a>)</p>\n\n<p>or refer to <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/timeseries.html\" rel=\"nofollow noreferrer\">Pandas timeseries</a></p>\n"}], "owner": {"reputation": 11, "user_id": 12597151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB_uxXByoASRlJOdGvqpmkEklPN58o_SnmMQTdYuA=k-s128", "display_name": "Ankit Gupta", "link": "https://stackoverflow.com/users/12597151/ankit-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 59481770, "answer_count": 1, "score": 0, "last_activity_date": 1577307554, "creation_date": 1577306053, "last_edit_date": 1577307002, "question_id": 59481670, "link": "https://stackoverflow.com/questions/59481670/pandas-changes-the-date-format-abruptly", "title": "Pandas changes the date format abruptly", "body": "<p>I was looking to import a csv file and plot it, but to my surprise the plot is looking wierd because the date format changes after 11th value. Pandas is interpreting the date format as incorrect.</p>\n\n<p>My dataset starts from 2nd April 2016.\nthe csv file is this </p>\n\n<p><a href=\"https://i.stack.imgur.com/3ONdh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ONdh.png\" alt=\"enter image description here\"></a></p>\n\n<p>the df.head shows this</p>\n\n<p>[<img src=\"https://i.stack.imgur.com/JMVMA.png\" alt=\"enter image description here\">]</p>\n\n<p>from 11th datapoint , the head() gives one format, then from 12th datapoint the format changes.\nThis has confused me because the plot function also gives weird plot like this</p>\n\n<p>[<img src=\"https://i.stack.imgur.com/jcKVI.png\" alt=\"enter image description here\">]</p>\n\n<p>Can someone please guide me where am i making a mistake.\nI want to plot sales data from 02nd April 2016 to 15th Feb 2019 in a series.\nFYI: the excel sheets look like this </p>\n\n<p>[<img src=\"https://i.stack.imgur.com/9mmhm.png\" alt=\"enter image description here\">]</p>\n"}, {"tags": ["python", "opengl", "pywavefront"], "comments": [{"owner": {"reputation": 884, "user_id": 9238288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbf252a32c63647e64ea7b1a534be4a?s=128&d=identicon&r=PG&f=1", "display_name": "jackw11111", "link": "https://stackoverflow.com/users/9238288/jackw11111"}, "edited": false, "score": 1, "creation_date": 1577336250, "post_id": 59481663, "comment_id": 105143721, "body": "Make sure you export you meshes with normal data. If you are using Blender, you will need to select &quot;Write Normals&quot; in the export settings panel."}, {"owner": {"reputation": 7060, "user_id": 105466, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/jMWs6.png?s=128&g=1", "display_name": "SurvivalMachine", "link": "https://stackoverflow.com/users/105466/survivalmachine"}, "edited": false, "score": 0, "creation_date": 1577341798, "post_id": 59481663, "comment_id": 105144790, "body": "<code>glTranslated</code> operates with doubles, but you&#39;re using floats elsewhere. You should replace it with <code>glTranslatef</code>, or, better, use modern OpenGL."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 8997915, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UO_EiDd-Q-A/AAAAAAAAAAI/AAAAAAAAAD0/YfUKW3FOzjU/photo.jpg?sz=128", "display_name": "Elif Balc\u0131", "link": "https://stackoverflow.com/users/8997915/elif-balc%c4%b1"}, "edited": false, "score": 0, "creation_date": 1615891373, "post_id": 59487417, "comment_id": 117826217, "body": "Given link is broken."}], "tags": [], "owner": {"reputation": 5108, "user_id": 5675002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06b0aaa2c9904c7543220c849d6a29d3?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5675002/vlad"}, "is_accepted": false, "score": 4, "last_activity_date": 1577357771, "creation_date": 1577357771, "answer_id": 59487417, "question_id": 59481663, "link": "https://stackoverflow.com/questions/59481663/light-on-rendering-obj-file-in-python/59487417#59487417", "title": "light on rendering obj file in python", "body": "<p>Your model file has no normals information included, it is needed to approximate the surface lighting.</p>\n\n<p>Judging by the model look, it seems it wasn't modeled but 3d-scanned, and the surface was reconstructed from the volumetric dataset with marching cubes algorithm, so exporting the \"real\" normals isn't an option.</p>\n\n<p>Now you can either find the wavefront object importer that can recalculate the normals for you (pywavefront doesn't), or import it into 3D modeling app (like Blender), mark the faces as smooth or sharp, and re-export it with normals included. The result will be less than perfect, because the original surface is lost, and normals will be built for this blocky voxel-ish mesh you have on hands.</p>\n\n<p>The model file will become something like this: <a href=\"https://filebin.net/moisht7kc8x8ea4r/ex_normals.obj?t=7utvhwjd\" rel=\"nofollow noreferrer\">ex_normals.obj</a></p>\n\n<p>And the render will look like this:\n<a href=\"https://i.stack.imgur.com/swiek.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/swiek.jpg\" alt=\"normals recalculated\"></a></p>\n"}], "owner": {"reputation": 49, "user_id": 3029270, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a9990f09f75d9fd11c4152f121e12b06?s=128&d=identicon&r=PG&f=1", "display_name": "user3029270", "link": "https://stackoverflow.com/users/3029270/user3029270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1008, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1577357771, "creation_date": 1577306006, "question_id": 59481663, "link": "https://stackoverflow.com/questions/59481663/light-on-rendering-obj-file-in-python", "title": "light on rendering obj file in python", "body": "<p>I  have  an obj file,  I want to render it with light however I have zero knowledge about graphics </p>\n\n<p>please see the output </p>\n\n<p><a href=\"https://i.stack.imgur.com/zIJFr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIJFr.png\" alt=\"enter image description here\"></a> </p>\n\n<p>and the following is the obj file  <a href=\"https://filebin.net/q2fl2uqitqby9568/ex.obj?t=7yvynw1l\" rel=\"nofollow noreferrer\">ex.obj</a></p>\n\n<p>this the code I found in the net </p>\n\n<p>what I want is light (diffuse light I think) , the texture of the shape not appearing it looks like mask </p>\n\n<pre><code>import ctypes\nimport sys\n\nsys.path.append('..')\nimport pyglet\nfrom pyglet.gl import *\n\nfrom pywavefront import visualization\nimport pywavefront\nimport pywavefront.material\n\nrotation = 0\n#meshes = pywavefront.Wavefront('ex.obj')\n\nmeshes = pywavefront.Wavefront('ex.obj')\n\n\nprint '==================='\nwindow = pyglet.window.Window()\nlightfv = ctypes.c_float * 4\n\n@window.event\ndef on_resize(width, height):\n    glMatrixMode(GL_PROJECTION)\n    glLoadIdentity()\n    gluPerspective(60., float(width)/height, 0.01, 100.)\n    glMatrixMode(GL_MODELVIEW)\n    return True\n\nglobal rotatex, rotatey, zoom, outName\nrotatex = 0\nrotatey = 0\nzoom=0\noutName = \"test.png\"\n\n@window.event\ndef on_draw():\n    global rotatex, rotatey, outName\n    lightfv = ctypes.c_float * 4\n    window.clear()\n    glLoadIdentity()\n    #glLightfv(GL_LIGHT0, GL_POSITION, lightfv(-40.0, 200.0, 100.0, 0.0))\n    glLightfv(GL_LIGHT0, GL_AMBIENT, lightfv(0.2, 0.2, 0.2, 1.0))\n    glLightfv(GL_LIGHT0, GL_DIFFUSE, lightfv(0.5, 0.5, 0.5, 1.0))\n    glEnable(GL_LIGHT0)\n    glEnable(GL_LIGHTING)\n\n    glEnable(GL_COLOR_MATERIAL)\n    glEnable(GL_DEPTH_TEST)\n    glShadeModel(GL_SMOOTH)\n\n    glTranslated(0, -1, -6)\n    glRotatef(-66.5, 0, 0, 1)\n    glRotatef(rotation, 1, 0, 0)\n    glRotatef(90, 0, 0, 1)\n    glRotatef(0, 0, 1, 0)\n\n    visualization.draw(meshes)\n\n    pyglet.image.get_buffer_manager().get_color_buffer().save(outName)\n\n    #exit()\n\npyglet.app.run()\n</code></pre>\n"}, {"tags": ["python", "anaconda", "conda", "pysoundfile"], "comments": [{"owner": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1577316566, "post_id": 59481638, "comment_id": 105141412, "body": "How about <code>import soundfile as sf</code>?"}, {"owner": {"reputation": 33, "user_id": 12596597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bHq9ujqb2GI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn7WLUqv_vBASpwM0NxvUlVoszQ/photo.jpg?sz=128", "display_name": "jds", "link": "https://stackoverflow.com/users/12596597/jds"}, "reply_to_user": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1577317037, "post_id": 59481638, "comment_id": 105141474, "body": "Thank you for the suggestion, however that gives me the same error message   --&gt; ModuleNotFoundError: No module named &#39;soundfile&#39;"}, {"owner": {"reputation": 33, "user_id": 12596597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bHq9ujqb2GI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn7WLUqv_vBASpwM0NxvUlVoszQ/photo.jpg?sz=128", "display_name": "jds", "link": "https://stackoverflow.com/users/12596597/jds"}, "reply_to_user": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 1, "creation_date": 1577317210, "post_id": 59481638, "comment_id": 105141492, "body": "I think the problem is with the installation of the pysoundfile library, not with import, because when I type &quot;conda list&quot;  neither pysoundfile nor soundfile appear in the list."}, {"owner": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1577319057, "post_id": 59481638, "comment_id": 105141715, "body": "I created a new env from scratch <code>conda create --name temp python=3.6</code>. Then <code>conda activate temp</code> and <code>conda install -c conda-forge pysoundfile</code>. After that, <code>import soundfile as sf</code> works fine. Note that I use python 3.6. I am on a Mac by the way"}, {"owner": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1577319383, "post_id": 59481638, "comment_id": 105141749, "body": "Actually python 3.7 also works for me."}, {"owner": {"reputation": 33, "user_id": 12596597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bHq9ujqb2GI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn7WLUqv_vBASpwM0NxvUlVoszQ/photo.jpg?sz=128", "display_name": "jds", "link": "https://stackoverflow.com/users/12596597/jds"}, "reply_to_user": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1577323993, "post_id": 59481638, "comment_id": 105142270, "body": "Thank you neurite for your help.  Just a couple more questions.  Are you executing the &quot;conda create --name temp&quot; command at the ipython prompt in Spyder?  When I typed that (with or without adding &quot;python=3.7&quot;), there was no response after I hit enter.  It just hangs up, even after waiting minutes."}, {"owner": {"reputation": 33, "user_id": 12596597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bHq9ujqb2GI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn7WLUqv_vBASpwM0NxvUlVoszQ/photo.jpg?sz=128", "display_name": "jds", "link": "https://stackoverflow.com/users/12596597/jds"}, "reply_to_user": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1577326013, "post_id": 59481638, "comment_id": 105142466, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204855/discussion-between-jds-and-neurite\">continue this discussion in chat</a>."}, {"owner": {"reputation": 33, "user_id": 12596597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bHq9ujqb2GI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn7WLUqv_vBASpwM0NxvUlVoszQ/photo.jpg?sz=128", "display_name": "jds", "link": "https://stackoverflow.com/users/12596597/jds"}, "reply_to_user": {"reputation": 2418, "user_id": 2050067, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/600934ec22e4cf6b05b85495640fcff1?s=128&d=identicon&r=PG", "display_name": "neurite", "link": "https://stackoverflow.com/users/2050067/neurite"}, "edited": false, "score": 0, "creation_date": 1577326946, "post_id": 59481638, "comment_id": 105142583, "body": "I thought the probelm might have been that I was executing conda within the ipython window of Spyder, so I then tried executing conda commands within Anaconda prompt (Anaconda 3).  When i did this, I got the following error after the &quot;conda install -c conda-forge pysoundfile&quot;  ------  -- &quot;UnsatisfiableError: The following specifications were found to be incompatible with each other:&quot;  it then listed a bunch of other packages that conflicted with pysoundfile.  Any help resolving this would be much appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 12596597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bHq9ujqb2GI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn7WLUqv_vBASpwM0NxvUlVoszQ/photo.jpg?sz=128", "display_name": "jds", "link": "https://stackoverflow.com/users/12596597/jds"}, "is_accepted": true, "score": 0, "last_activity_date": 1577328353, "creation_date": 1577328353, "answer_id": 59483358, "question_id": 59481638, "link": "https://stackoverflow.com/questions/59481638/pysoundfile-library-not-importing/59483358#59483358", "title": "Pysoundfile library not importing", "body": "<p>I was able to install Pysoundfile and here's the steps I followed:</p>\n\n<ol>\n<li>Open Anaconda Prompt program from Windows</li>\n<li>Type \"pip install soundfile\"</li>\n<li>Start Spyder program in Windows</li>\n<li>At ipython console prompt, type \"import soundfile\"</li>\n</ol>\n\n<p>I'm not sure why the conda commands others were able to use did not work for me, but since I have a solution, I'm all set for now.  </p>\n\n<p>Thank you for everyone for your suggestions.</p>\n"}], "owner": {"reputation": 33, "user_id": 12596597, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bHq9ujqb2GI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIn7WLUqv_vBASpwM0NxvUlVoszQ/photo.jpg?sz=128", "display_name": "jds", "link": "https://stackoverflow.com/users/12596597/jds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "accepted_answer_id": 59483358, "answer_count": 1, "score": 2, "last_activity_date": 1577328353, "creation_date": 1577305666, "question_id": 59481638, "link": "https://stackoverflow.com/questions/59481638/pysoundfile-library-not-importing", "title": "Pysoundfile library not importing", "body": "<p>I'm new to Python (I installed the Anaconda distribution a couple weeks ago on my windows 10 machine) and am having trouble getting the pysoundfile library to import from the Spyder ipython console.  These are the steps I followed:</p>\n\n<p>1) I found the instructions for installing pysound here:  <a href=\"https://anaconda.org/conda-forge/pysoundfile\" rel=\"nofollow noreferrer\">https://anaconda.org/conda-forge/pysoundfile</a></p>\n\n<p>2) At ipython console within Spyder I typed:<br>\n    conda install -c conda-forge pysoundfile</p>\n\n<p>This gave me a warning that I needed to restart the kernel, which I then did by closing ipython and having a new console open (I also tried quitting python down and re-opening)</p>\n\n<p>3) From ipython, I typed </p>\n\n<pre><code>import pysoundfile\n</code></pre>\n\n<p>This gave me the following message:  ModuleNotFoundError: No module named 'pysoundfile'</p>\n\n<p>I repeated step 2 again, but this time got the long error below after executing the conda command.</p>\n\n<p>I'm not sure what I'm doing wrong.  </p>\n\n<p>Any help would be much appreciated.  Thank you.</p>\n\n<hr>\n\n<pre><code>conda install -c conda-forge pysoundfile\nCollecting package metadata (current_repodata.json): ...working... done\nSolving environment: ...working... failed with initial frozen solve. Retrying with flexible solve.\nSolving environment: ...working... failed with repodata from current_repodata.json, will retry with next repodata source.\nCollecting package metadata (repodata.json): ...working... done\nSolving environment: ...working... failed with initial frozen solve. Retrying with flexible solve.\nSolving environment: ...working... \nFound conflicts! Looking for incompatible packages.\nThis can take several minutes.  Press CTRL-C to abort.\nfailed\n\nNote: you may need to restart the kernel to use updated packages.\n\nFinding conflicts:   0%|          | 0/11 [00:00&lt;?, ?it/s]\nExamining ca-certificates:   0%|          | 0/11 [00:00&lt;?, ?it/s]\nExamining openssl:   9%|9         | 1/11 [00:00&lt;?, ?it/s]        \nExamining vc:  18%|#8        | 2/11 [00:00&lt;?, ?it/s]     \nExamining sqlite:  27%|##7       | 3/11 [00:00&lt;?, ?it/s]\nExamining pip:  36%|###6      | 4/11 [00:00&lt;?, ?it/s]   \nExamining wheel:  45%|####5     | 5/11 [00:00&lt;?, ?it/s]\nExamining certifi:  55%|#####4    | 6/11 [00:00&lt;?, ?it/s]\nExamining python:  64%|######3   | 7/11 [00:00&lt;?, ?it/s] \nExamining setuptools:  73%|#######2  | 8/11 [00:00&lt;00:00, 8000.58it/s]\nExamining wincertstore:  82%|########1 | 9/11 [00:00&lt;00:00, 9000.65it/s]\nExamining vs2015_runtime:  91%|######### | 10/11 [00:00&lt;00:00, 10000.72it/s]\n\n\nUnsatisfiableError: The following specifications were found to be incompatible with each other:\n\n\n\nPackage cffi conflicts for:\n\npysoundfile -&gt; cffi\nPackage vc conflicts for:\npython=3.7 -&gt; vc[version='14.*|&gt;=14,&lt;15.0a0|&gt;=14.1,&lt;15.0a0']\nPackage numpy conflicts for:\npysoundfile -&gt; numpy\nPackage libsndfile conflicts for:\npysoundfile -&gt; libsndfile\nPackage openssl conflicts for:\npython=3.7 -&gt; openssl[version='&gt;=1.1.1a,&lt;1.1.2a|&gt;=1.1.1b,&lt;1.1.2a|&gt;=1.1.1c,&lt;1.1.2a|&gt;=1.1.1d,&lt;1.1.2a']\nPackage libgcc-ng conflicts for:\npysoundfile -&gt; libgcc-ng[version='&gt;=4.9|&gt;=7.3.0']\nPackage pip conflicts for:\npython=3.7 -&gt; pip\nPackage sqlite conflicts for:\npython=3.7 -&gt; sqlite[version='&gt;=3.25.3,&lt;4.0a0|&gt;=3.26.0,&lt;4.0a0|&gt;=3.27.2,&lt;4.0a0|&gt;=3.28.0,&lt;4.0a0|&gt;=3.29.0,&lt;4.0a0|&gt;=3.30.1,&lt;4.0a0']\nPackage vs2015_runtime conflicts for:\npython=3.7 -&gt; vs2015_runtime[version='&gt;=14.16.27012,&lt;15.0a0']\n</code></pre>\n"}, {"tags": ["python", "chatterbot"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 4298231, "user_type": "registered", "profile_image": "https://graph.facebook.com/703242936/picture?type=large", "display_name": "Carlos Online", "link": "https://stackoverflow.com/users/4298231/carlos-online"}, "is_accepted": false, "score": 0, "last_activity_date": 1577307895, "creation_date": 1577307895, "answer_id": 59481843, "question_id": 59481632, "link": "https://stackoverflow.com/questions/59481632/pip-install-chatterbot-fails-on-windows/59481843#59481843", "title": "pip install chatterbot fails on windows", "body": "<p>Got it working - uninstalled all pythons, cleared caches, installed python 3.7.2. </p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 9524295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ysgnh.jpg?s=128&g=1", "display_name": "wahsandaruwan", "link": "https://stackoverflow.com/users/9524295/wahsandaruwan"}, "is_accepted": false, "score": 0, "last_activity_date": 1593976240, "last_edit_date": 1593976240, "creation_date": 1593966202, "answer_id": 62743339, "question_id": 59481632, "link": "https://stackoverflow.com/questions/59481632/pip-install-chatterbot-fails-on-windows/62743339#62743339", "title": "pip install chatterbot fails on windows", "body": "<p><strong>Reason:</strong> Chatterbot is indirectly using blis 0.2.4 And that version is not providing precompiled wheels for python 3.8.</p>\n<p><strong>To fix that issue:</strong></p>\n<ul>\n<li>Uninstall the current python version;  check the version type in cmd <code>python --version</code></li>\n<li><a href=\"https://www.python.org/ftp/python/3.7.0/python-3.7.0-amd64.exe\" rel=\"nofollow noreferrer\">Download and install python 3.7</a></li>\n<li>Then install chatterbot <code>pip install chatterbot</code></li>\n</ul>\n"}], "owner": {"reputation": 66, "user_id": 4298231, "user_type": "registered", "profile_image": "https://graph.facebook.com/703242936/picture?type=large", "display_name": "Carlos Online", "link": "https://stackoverflow.com/users/4298231/carlos-online"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 840, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1593976240, "creation_date": 1577305615, "question_id": 59481632, "link": "https://stackoverflow.com/questions/59481632/pip-install-chatterbot-fails-on-windows", "title": "pip install chatterbot fails on windows", "body": "<p>pip install chatterbot failing on windows - fresh install of python 3.8</p>\n\n<pre><code>command: 'c:\\python38\\python.exe' 'c:\\python38\\lib\\site-packages\\pip' install --ignore-installed --no-user --prefix 'C:\\Users\\Carlos\\AppData\\Local\\Temp\\pip-build-env-1rlap7p2\\overlay' --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- setuptools 'wheel&gt;0.32.0,&lt;0.33.0' Cython 'cymem&gt;=2.0.2,&lt;2.1.0' 'preshed&gt;=2.0.1,&lt;2.1.0' 'murmurhash&gt;=0.28.0,&lt;1.1.0' 'thinc&gt;=7.0.8,&lt;7.1.0'\n</code></pre>\n\n<p>Full Log</p>\n\n<pre><code>Collecting chatterbot\n  Using cached https://files.pythonhosted.org/packages/6c/0e/dac0d82f34f86bf509cf5ef3e2dfc5aa7d444bd843a2330ceb7d854f84f2/ChatterBot-1.0.5-py2.py3-none-any.whl\nCollecting pint&gt;=0.8.1\n  Using cached https://files.pythonhosted.org/packages/15/9d/bf177ebbc57d25e9e296addc14a1303d1e34d7964af5df428a8332349c42/Pint-0.9-py2.py3-none-any.whl\nCollecting pytz\n  Using cached https://files.pythonhosted.org/packages/e7/f9/f0b53f88060247251bf481fa6ea62cd0d25bf1b11a87888e53ce5b7c8ad2/pytz-2019.3-py2.py3-none-any.whl\nCollecting spacy&lt;2.2,&gt;=2.1\n  Using cached https://files.pythonhosted.org/packages/1f/e2/46650d03c7ff2b57ed7af211d41c3f606540f7adea92b5af65fcf9f605c0/spacy-2.1.9.tar.gz\n  Installing build dependencies ... error\n  ERROR: Command errored out with exit status 1:\n   command: 'c:\\python38\\python.exe' 'c:\\python38\\lib\\site-packages\\pip' install --ignore-installed --no-user --prefix 'C:\\Users\\Carlos\\AppData\\Local\\Temp\\pip-build-env-1rlap7p2\\overlay' --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- setuptools 'wheel&gt;0.32.0,&lt;0.33.0' Cython 'cymem&gt;=2.0.2,&lt;2.1.0' 'preshed&gt;=2.0.1,&lt;2.1.0' 'murmurhash&gt;=0.28.0,&lt;1.1.0' 'thinc&gt;=7.0.8,&lt;7.1.0'\n       cwd: None\n  Complete output (119 lines):\n  Collecting setuptools\n    Using cached https://files.pythonhosted.org/packages/54/28/c45d8b54c1339f9644b87663945e54a8503cfef59cf0f65b3ff5dd17cf64/setuptools-42.0.2-py2.py3-none-any.whl\n  Collecting wheel&lt;0.33.0,&gt;0.32.0\n    Using cached https://files.pythonhosted.org/packages/ff/47/1dfa4795e24fd6f93d5d58602dd716c3f101cfd5a77cd9acbe519b44a0a9/wheel-0.32.3-py2.py3-none-any.whl\n  Collecting Cython\n    Using cached https://files.pythonhosted.org/packages/22/03/510503cfbf20f62810a9548c9be13ab86181f00cca9a3a56717c4595d952/Cython-0.29.14-cp38-cp38-win32.whl\n  Collecting cymem&lt;2.1.0,&gt;=2.0.2\n    Using cached https://files.pythonhosted.org/packages/ce/8d/d095bbb109a004351c85c83bc853782fc27692693b305dd7b170c36a1262/cymem-2.0.3.tar.gz\n  Collecting preshed&lt;2.1.0,&gt;=2.0.1\n    Using cached https://files.pythonhosted.org/packages/0b/14/c9aa735cb9c131545fc9e23031baccb87041ac9215b3d75f99e3cf18f6a3/preshed-2.0.1.tar.gz\n  Collecting murmurhash&lt;1.1.0,&gt;=0.28.0\n    Using cached https://files.pythonhosted.org/packages/22/e9/411be1845f1ac07ae3bc40a4b19ba401819baed4fa63b4f5ef28b2300eb4/murmurhash-1.0.2.tar.gz\n  Collecting thinc&lt;7.1.0,&gt;=7.0.8\n    Using cached https://files.pythonhosted.org/packages/92/39/ea2a3d5b87fd52fc865fd1ceb7b91dca1f85e227d53e7a086d260f6bcb93/thinc-7.0.8.tar.gz\n      ERROR: Command errored out with exit status 1:\n       command: 'c:\\python38\\python.exe' -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\Carlos\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wahyslx5\\\\thinc\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\Carlos\\\\AppData\\\\Local\\\\Temp\\\\pip-install-wahyslx5\\\\thinc\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base 'C:\\Users\\Carlos\\AppData\\Local\\Temp\\pip-install-wahyslx5\\thinc\\pip-egg-info'\n           cwd: C:\\Users\\Carlos\\AppData\\Local\\Temp\\pip-install-wahyslx5\\thinc\\\n      Complete output (99 lines):\n      Processing numpy/random\\_bounded_integers.pxd.in\n      Processing numpy/random\\mtrand.pyx\n      Traceback (most recent call last):\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\tools\\cythonize.py\", line 61, in process_pyx\n          from Cython.Compiler.Version import version as cython_version\n      ModuleNotFoundError: No module named 'Cython'\n\n      During handling of the above exception, another exception occurred:\n\n      Traceback (most recent call last):\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\tools\\cythonize.py\", line 238, in &lt;module&gt;\n          main()\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\tools\\cythonize.py\", line 234, in main\n          find_process_files(root_dir)\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\tools\\cythonize.py\", line 225, in find_process_files\n          process(root_dir, fromfile, tofile, function, hash_db)\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\tools\\cythonize.py\", line 191, in process\n          processor_function(fromfile, tofile)\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\tools\\cythonize.py\", line 66, in process_pyx\n          raise OSError('Cython needs to be installed in Python as a module')\n      OSError: Cython needs to be installed in Python as a module\n      Running from numpy source directory.\n      C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\setup.py:425: UserWarning: Unrecognized setuptools command, proceeding with generating Cython sources and expanding templates\n        run_build = parse_setuppy_commands()\n      Traceback (most recent call last):\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 154, in save_modules\n          yield saved\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 195, in setup_context\n          yield\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 250, in run_setup\n          _execfile(setup_script, ns)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 45, in _execfile\n          exec(code, globals, locals)\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\setup.py\", line 450, in &lt;module&gt;\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\setup.py\", line 433, in setup_package\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\setup.py\", line 240, in generate_cython\n          \"Environment :: Console\",\n      RuntimeError: Running cythonize failed!\n\n      During handling of the above exception, another exception occurred:\n\n      Traceback (most recent call last):\n        File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\pip-install-wahyslx5\\thinc\\setup.py\", line 261, in &lt;module&gt;\n          setup_package()\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\pip-install-wahyslx5\\thinc\\setup.py\", line 201, in setup_package\n          setup(\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\__init__.py\", line 144, in setup\n          _install_setup_requires(attrs)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\__init__.py\", line 139, in _install_setup_requires\n          dist.fetch_build_eggs(dist.setup_requires)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\dist.py\", line 716, in fetch_build_eggs\n          resolved_dists = pkg_resources.working_set.resolve(\n        File \"c:\\python38\\lib\\site-packages\\pkg_resources\\__init__.py\", line 780, in resolve\n          dist = best[req.key] = env.best_match(\n        File \"c:\\python38\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1065, in best_match\n          return self.obtain(req, installer)\n        File \"c:\\python38\\lib\\site-packages\\pkg_resources\\__init__.py\", line 1077, in obtain\n          return installer(requirement)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\dist.py\", line 786, in fetch_build_egg\n          return cmd.easy_install(req)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 679, in easy_install\n          return self.install_item(spec, dist.location, tmpdir, deps)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 705, in install_item\n          dists = self.install_eggs(spec, download, tmpdir)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 890, in install_eggs\n          return self.build_and_install(setup_script, setup_base)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1158, in build_and_install\n          self.run_setup(setup_script, setup_base, args)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\command\\easy_install.py\", line 1144, in run_setup\n          run_setup(setup_script, args)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 253, in run_setup\n          raise\n        File \"c:\\python38\\lib\\contextlib.py\", line 131, in __exit__\n          self.gen.throw(type, value, traceback)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 195, in setup_context\n          yield\n        File \"c:\\python38\\lib\\contextlib.py\", line 131, in __exit__\n          self.gen.throw(type, value, traceback)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 166, in save_modules\n          saved_exc.resume()\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 141, in resume\n          six.reraise(type, exc, self._tb)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\_vendor\\six.py\", line 685, in reraise\n          raise value.with_traceback(tb)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 154, in save_modules\n          yield saved\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 195, in setup_context\n          yield\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 250, in run_setup\n          _execfile(setup_script, ns)\n        File \"c:\\python38\\lib\\site-packages\\setuptools\\sandbox.py\", line 45, in _execfile\n          exec(code, globals, locals)\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\setup.py\", line 450, in &lt;module&gt;\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\setup.py\", line 433, in setup_package\n        File \"C:\\Users\\Carlos\\AppData\\Local\\Temp\\easy_install-6btuo9sq\\numpy-1.18.0\\setup.py\", line 240, in generate_cython\n          \"Environment :: Console\",\n      RuntimeError: Running cythonize failed!\n      Cythonizing sources\n      ----------------------------------------\n  ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\n  ----------------------------------------\nERROR: Command errored out with exit status 1: 'c:\\python38\\python.exe' 'c:\\python38\\lib\\site-packages\\pip' install --ignore-installed --no-user --prefix 'C:\\Users\\Carlos\\AppData\\Local\\Temp\\pip-build-env-1rlap7p2\\overlay' --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- setuptools 'wheel&gt;0.32.0,&lt;0.33.0' Cython 'cymem&gt;=2.0.2,&lt;2.1.0' 'preshed&gt;=2.0.1,&lt;2.1.0' 'murmurhash&gt;=0.28.0,&lt;1.1.0' 'thinc&gt;=7.0.8,&lt;7.1.0' Check the logs for full command output.\n\n\n</code></pre>\n"}, {"tags": ["python", "r", "conda", "google-earth-engine"], "comments": [{"owner": {"reputation": 1969, "user_id": 10438814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2ENK8.jpg?s=128&g=1", "display_name": "morgan121", "link": "https://stackoverflow.com/users/10438814/morgan121"}, "edited": false, "score": 0, "creation_date": 1577335734, "post_id": 59481576, "comment_id": 105143635, "body": "what version of R/RStudio are you using?"}], "owner": {"reputation": 11, "user_id": 12597173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a64b81e52d77308ac8ca115a57b8a09?s=128&d=identicon&r=PG&f=1", "display_name": "BarboraSedova", "link": "https://stackoverflow.com/users/12597173/barborasedova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577335278, "creation_date": 1577305091, "last_edit_date": 1577335278, "question_id": 59481576, "link": "https://stackoverflow.com/questions/59481576/r-cannot-find-a-conda-function-error-in-instalation-of-ee-grab", "title": "R cannot find a conda function: Error in instalation of ee_grab", "body": "<p>I follow the directions of <a href=\"https://github.com/JesJehle/earthEngineGrabR\" rel=\"nofollow noreferrer\">https://github.com/JesJehle/earthEngineGrabR</a> \nand try to install ee_grab.</p>\n\n<p>However,  I always get the following message:</p>\n\n<pre><code>Error: Installation problem\nError: Error 1 occurred creating conda environment earthEngineGrabR\"\n</code></pre>\n\n<p>It further says that earthengine-api cannot be installed (<code>PackagesNotFoundError: The following packages are not available from current channels: - earthengine-api</code>).</p>\n\n<p>I think that R cannot find my conda.</p>\n\n<p>I also managed to install earthengine-api from the terminal (<a href=\"https://github.com/conda-forge/earthengine-api-feedstock#installing-earthengine-api\" rel=\"nofollow noreferrer\">https://github.com/conda-forge/earthengine-api-feedstock#installing-earthengine-api</a>), however R still seems unable to find it and gives the same error message.</p>\n"}, {"tags": ["python", "python-3.x", "infix-notation", "infix-operator"], "comments": [{"owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 2, "creation_date": 1577305375, "post_id": 59481565, "comment_id": 105139712, "body": "There is no better way of defining custom Infix operators for known types, but you could override existing for your own custom objects. However, I do not see this as a good fit for infix operator, this should just be a <code>tuple</code> or some close relative. It seems <code>of</code> in <code>8 | of | &#39;spades&#39;</code> is not doing much more than <code>(8, &#39;spades&#39;)</code> would not handle well."}, {"owner": {"reputation": 47, "user_id": 8897591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b084429282a6deeb0c21540ea79a12e5?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Pearce", "link": "https://stackoverflow.com/users/8897591/andrew-pearce"}, "reply_to_user": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 0, "creation_date": 1577305828, "post_id": 59481565, "comment_id": 105139792, "body": "I assume code blocks can&#39;t go in comments, so I edited the main post. Thanks for the response. Is that along the lines of what you meant? @norok2"}, {"owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 0, "creation_date": 1577306398, "post_id": 59481565, "comment_id": 105139875, "body": "essentially, yes, but see @KarlKnechtel answer to avoid the inelegant <code>EIGHT = Value.EIGHT</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 0, "creation_date": 1577306539, "post_id": 59481699, "comment_id": 105139905, "body": "Perhaps <code>Value(value)</code> instead of <code>Value[value]</code> etc?"}, {"owner": {"reputation": 50872, "user_id": 523612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ae512dd708a619496d36b1f681f95e0?s=128&d=identicon&r=PG", "display_name": "Karl Knechtel", "link": "https://stackoverflow.com/users/523612/karl-knechtel"}, "reply_to_user": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 1, "creation_date": 1577314458, "post_id": 59481699, "comment_id": 105141177, "body": "No; see the <code>Enum</code> documentation - <code>If you want to access enum members by name, use item access</code>. This also features in OP&#39;s code."}], "tags": [], "owner": {"reputation": 50872, "user_id": 523612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ae512dd708a619496d36b1f681f95e0?s=128&d=identicon&r=PG", "display_name": "Karl Knechtel", "link": "https://stackoverflow.com/users/523612/karl-knechtel"}, "is_accepted": false, "score": 0, "last_activity_date": 1577306340, "creation_date": 1577306340, "answer_id": 59481699, "question_id": 59481565, "link": "https://stackoverflow.com/questions/59481565/python-3-infix-operators/59481699#59481699", "title": "Python 3 infix operators", "body": "<p>Just let the class do the parsing, via a factory method:</p>\n\n<pre><code>class Card:\n    # other stuff\n    @staticmethod\n    def fromstring(s):\n        value, of, suit = s.split()\n        return Card(Value[value], Suit[suit])\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 8897591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b084429282a6deeb0c21540ea79a12e5?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Pearce", "link": "https://stackoverflow.com/users/8897591/andrew-pearce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 340, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577306340, "creation_date": 1577305023, "last_edit_date": 1577305789, "question_id": 59481565, "link": "https://stackoverflow.com/questions/59481565/python-3-infix-operators", "title": "Python 3 infix operators", "body": "<p>I was looking into python infix operators and I found this: <a href=\"https://stackoverflow.com/questions/932328/python-defining-my-own-operators\">Python: defining my own operators?</a></p>\n\n<p>It was asked a very long time ago but I can't find anything more recent. It seems like more of a hack than I'd normally be comfortable doing. Using that hack, I've transformed my code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if __name__ == '__main__':\n    of = Infix(lambda x, y: Card(Value[x], Suit[y]))\n\n    card1 = 'EIGHT' | of | 'DIAMONDS'\n    card2 = 'THREE' | of | 'SPADES'\n    card3 = 'QUEEN' | of | 'SPADES'\n\n    assert card1.suit != card2.suit\n    assert card3.suit == card2.suit\n\n    assert ('NINE' | of | 'HEARTS').beats('EIGHT' | of | 'HEARTS')\n    assert ('NINE' | of | 'HEARTS').beats('EIGHT' | of | 'HEARTS', trump=Suit.HEARTS)\n    assert ('NINE' | of | 'HEARTS').beats('EIGHT' | of | 'HEARTS', trump=Suit.DIAMONDS)\n\n    assert not Card(Value.NINE, Suit.HEARTS).beats(Card(Value.TEN, Suit.HEARTS))\n    assert not Card(Value.NINE, Suit.HEARTS).beats(Card(Value.TEN, Suit.HEARTS), trump=Suit.HEARTS)\n    assert not Card(Value.NINE, Suit.HEARTS).beats(Card(Value.TEN, Suit.HEARTS), trump=Suit.DIAMONDS)\n\n    assert not Card(Value.NINE, Suit.DIAMONDS).beats(Card(Value.EIGHT, Suit.HEARTS))\n    assert not Card(Value.NINE, Suit.DIAMONDS).beats(Card(Value.EIGHT, Suit.HEARTS), Suit.HEARTS)\n    assert not Card(Value.NINE, Suit.DIAMONDS).beats(Card(Value.EIGHT, Suit.HEARTS), Suit.CLUBS)\n</code></pre>\n\n<p>You can see what the code looks like with and without, and I think it's WAY more readable like this. Still, it's a hack, and I also am not a fan of accessing the enums by string. I am still considering:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>EIGHT = Value.EIGHT\nSPADES = Suit.SPADES\n\ncard = Card(EIGHT, SPADES)\n</code></pre>\n\n<p>I could even combine the two approaches and change the Infix to:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>   of = Infix(lambda x,y: Card(x, y))\n\n   card = EIGHT | of | SPADES\n\n</code></pre>\n\n<p>Is there a better way of doing the infix thing in Python 3? Is it worth doing at all?</p>\n\n<p>EDIT:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    assert not (NINE | of | HEARTS).beats(TEN | of | HEARTS)\n    assert not (NINE | of | HEARTS).beats(TEN | of | HEARTS, trump=HEARTS)\n    assert not (NINE | of | HEARTS).beats(TEN | of | HEARTS, trump=DIAMONDS)\n\n    assert not Card(NINE, DIAMONDS).beats(Card(EIGHT, HEARTS))\n    assert not Card(NINE, DIAMONDS).beats(Card(EIGHT, HEARTS), trump=HEARTS)\n    assert not Card(NINE, DIAMONDS).beats(Card(EIGHT, HEARTS), trump=CLUBS)\n</code></pre>\n\n<p>One comment may be suggesting that the first block is no better than the second. I can see the logic there. This includes the whole <code>EIGHT = Value.EIGHT</code> thing which I think is good. (Can you tell I come from compiled-languages-land?)</p>\n"}, {"tags": ["python", "pdf", "img2pdf"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 10351506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156681876073501/picture?type=large", "display_name": "Mathias", "link": "https://stackoverflow.com/users/10351506/mathias"}, "edited": false, "score": 0, "creation_date": 1577306585, "post_id": 59481661, "comment_id": 105139913, "body": "Thanks for your response !The final goal is a standalone executable file generated with pyinstaller --onefile. So the .exe file could be executed from anyone. Your solution does the job but I would prefer a solution without running a command line. I wish I could find one."}, {"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1577306753, "post_id": 59481661, "comment_id": 105139935, "body": "Try Python Wand. Though it requires ImageMagick. See <a href=\"http://docs.wand-py.org/en/0.5.7/\" rel=\"nofollow noreferrer\">docs.wand-py.org/en/0.5.7</a>"}, {"owner": {"reputation": 137, "user_id": 10351506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156681876073501/picture?type=large", "display_name": "Mathias", "link": "https://stackoverflow.com/users/10351506/mathias"}, "edited": false, "score": 0, "creation_date": 1577308435, "post_id": 59481661, "comment_id": 105140219, "body": "In this case, I think I would prefer to generate one pdf per tiff file and merge the pdfs as it doesn&#39;t require to install ImageMagick on each computer when sharing the program."}], "tags": [], "owner": {"reputation": 431, "user_id": 11763668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C0c.png?s=128&g=1", "display_name": "Gianluca", "link": "https://stackoverflow.com/users/11763668/gianluca"}, "is_accepted": false, "score": 2, "last_activity_date": 1577305989, "creation_date": 1577305989, "answer_id": 59481661, "question_id": 59481543, "link": "https://stackoverflow.com/questions/59481543/multiple-tiff-images-to-pdf-with-python/59481661#59481661", "title": "multiple tiff images to pdf with python", "body": "<p>A possible hack could be to run it through <a href=\"https://imagemagick.org\" rel=\"nofollow noreferrer\">ImageMagick's</a> <code>convert</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\nos.system('convert '+' '.join(image_list)+' output.pdf')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 10351506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156681876073501/picture?type=large", "display_name": "Mathias", "link": "https://stackoverflow.com/users/10351506/mathias"}, "is_accepted": false, "score": 1, "last_activity_date": 1577393469, "creation_date": 1577393469, "answer_id": 59493360, "question_id": 59481543, "link": "https://stackoverflow.com/questions/59481543/multiple-tiff-images-to-pdf-with-python/59493360#59493360", "title": "multiple tiff images to pdf with python", "body": "<p>I have finally used the following code :</p>\n\n<pre><code>for i in....     \n            # Create one pdf file per tiff file\n            with open(str(i) + '.pdf', \"wb\") as f, io.BytesIO() as output:\n                img = PIL.Image.open(str(i) + '.tiff')\n                img.save(output, format='tiff')\n                f.write(img2pdf.convert(output.getvalue()))\n\n# merge the pdf file into one output pdf file\npdf_writer = PdfFileWriter()\n\noutput_file = publication_number + \".pdf\"\nfile_list = os.listdir()\npdf_list = []\nfor file in file_list:\n    if file.endswith(\".pdf\"):\n        pdf_list.append(file)\npdf_list.sort(key=lambda f: int(\n    ''.join(filter(str.isdigit, f))))  # trier la liste d'image du plus petit au plus grand (et pas 1, 10, 11, 2, 3)\n\nfor pdf_file in pdf_list:\n    pdf_reader = PdfFileReader(pdf_file)\n    for page in range(pdf_reader.getNumPages()):\n        pdf_writer.addPage(pdf_reader.getPage(page))\nwith open(output_file, 'wb') as fh:\n    pdf_writer.write(fh)\n\nfor i in range(1, max_page + 1):  \n    os.remove(str(i) + '.tiff')\n    os.remove(str(i) + '.pdf')\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 10351506, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156681876073501/picture?type=large", "display_name": "Mathias", "link": "https://stackoverflow.com/users/10351506/mathias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2503, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1577393469, "creation_date": 1577304839, "question_id": 59481543, "link": "https://stackoverflow.com/questions/59481543/multiple-tiff-images-to-pdf-with-python", "title": "multiple tiff images to pdf with python", "body": "<p>I have a image file list and I would like to generate a single output.pdf file with these images.</p>\n\n<p>The following code works with one image file only (here the first element of image_list):</p>\n\n<pre><code>with open(\"output.pdf\",\"wb\") as f, io.BytesIO() as output:\n    img = Image.open(image_list[0])\n    img.save(output, format='tiff')\n    f.write(img2pdf.convert(output.getvalue()))\n</code></pre>\n\n<p>How can I adapt this code to work with the complete list of image files ?</p>\n\n<p>I tried :</p>\n\n<pre><code>with open(\"output.pdf\",\"wb\") as f, io.BytesIO() as output:\n        img = Image.open(image_list[0])\n        img.save(output, format='tiff')\n        img2 = Image.open(image_list[1])\n        img2.save(output, format='tiff')\n        f.write(img2pdf.convert(output.getvalue()))\n</code></pre>\n\n<p>but it doesn't work (the created pdf contain only the last image, ie image_list[1]) </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 3366, "user_id": 10140310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd7db6049277b9a6c8392247ff6aceb1?s=128&d=identicon&r=PG&f=1", "display_name": "political scientist", "link": "https://stackoverflow.com/users/10140310/political-scientist"}, "edited": false, "score": 0, "creation_date": 1577305252, "post_id": 59481540, "comment_id": 105139695, "body": "maybe something similar to: <code>pd.concat([df[[&quot;Date&quot;, &quot;Symbol&quot;, &quot;Close&quot;]] for df in df_dict])</code>?"}, {"owner": {"reputation": 89, "user_id": 10898699, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9ug3FWClqTA/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYr9FZUlcFuecGpuvEpT9oBMmP6cw/mo/photo.jpg?sz=128", "display_name": "r_user", "link": "https://stackoverflow.com/users/10898699/r-user"}, "reply_to_user": {"reputation": 3366, "user_id": 10140310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd7db6049277b9a6c8392247ff6aceb1?s=128&d=identicon&r=PG&f=1", "display_name": "political scientist", "link": "https://stackoverflow.com/users/10140310/political-scientist"}, "edited": false, "score": 0, "creation_date": 1577305381, "post_id": 59481540, "comment_id": 105139714, "body": "could be a solution.  Would it ultimately work wherein i could call each dataframe individually?  i.e., I would need to be able to call &#39;DELL&#39;&#39;CLOSE&#39;, &#39;EBS&#39;&#39;Close&#39;, &amp; &#39;GRPN&#39;&#39;CLOSE&#39; seperatley  Thanks!"}, {"owner": {"reputation": 3366, "user_id": 10140310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd7db6049277b9a6c8392247ff6aceb1?s=128&d=identicon&r=PG&f=1", "display_name": "political scientist", "link": "https://stackoverflow.com/users/10140310/political-scientist"}, "edited": false, "score": 0, "creation_date": 1577309556, "post_id": 59481540, "comment_id": 105140394, "body": "it this case, you could merge all dataframes into one and filter accordingly. e.g. <code>main_df = pd.concat([df for df in df_dict]); dell = main_df.loc[main_df[&quot;Symbols&quot;].eq(&quot;DELL&quot;)][[&quot;Date&quot;, &quot;Close&quot;]]</code>  or <code>main_df.loc[main_df[&quot;Symbols&quot;].isin([&quot;DELL&quot;, &quot;EBS&quot;, &quot;GRPN&quot;])]</code> to select all three of them etc"}, {"owner": {"reputation": 613, "user_id": 5219160, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XpbJ22u7YOk/AAAAAAAAAAI/AAAAAAAADXM/uwezssp4aCg/photo.jpg?sz=128", "display_name": "Daniel Lima", "link": "https://stackoverflow.com/users/5219160/daniel-lima"}, "edited": false, "score": 0, "creation_date": 1577313807, "post_id": 59481540, "comment_id": 105141063, "body": "Could you provide a sample of your dictionary of data frames?"}, {"owner": {"reputation": 89, "user_id": 10898699, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9ug3FWClqTA/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYr9FZUlcFuecGpuvEpT9oBMmP6cw/mo/photo.jpg?sz=128", "display_name": "r_user", "link": "https://stackoverflow.com/users/10898699/r-user"}, "edited": false, "score": 0, "creation_date": 1577315029, "post_id": 59481540, "comment_id": 105141245, "body": "Sure. my dictionary comes from this code: df_dict = {x: pd.read_csv(&#39;{}&#39;.format(x)) for x in files} as above. the output is each file in the dictionary as a dataframe"}], "answers": [{"tags": [], "owner": {"reputation": 144, "user_id": 11607621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iwuuOFucVk0/AAAAAAAAAAI/AAAAAAAAAHo/Z9u5d8O1s6E/photo.jpg?sz=128", "display_name": "Md Ziaul Haque", "link": "https://stackoverflow.com/users/11607621/md-ziaul-haque"}, "is_accepted": false, "score": 0, "last_activity_date": 1577351619, "creation_date": 1577351619, "answer_id": 59486216, "question_id": 59481540, "link": "https://stackoverflow.com/questions/59481540/python-pandas-directory-of-data-frames-calling-specific-column/59486216#59486216", "title": "Python/Pandas - directory of data frames calling specific column", "body": "<p>Didn't able to simulate similar data. But u may try following code</p>\n\n<p><code>for x in range(file_count):\n    print(df_dict[files[x]][['Date','Close']])</code></p>\n"}], "owner": {"reputation": 89, "user_id": 10898699, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9ug3FWClqTA/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYr9FZUlcFuecGpuvEpT9oBMmP6cw/mo/photo.jpg?sz=128", "display_name": "r_user", "link": "https://stackoverflow.com/users/10898699/r-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577351619, "creation_date": 1577304798, "last_edit_date": 1577305691, "question_id": 59481540, "link": "https://stackoverflow.com/questions/59481540/python-pandas-directory-of-data-frames-calling-specific-column", "title": "Python/Pandas - directory of data frames calling specific column", "body": "<p>I'm attempting to call a specific column within a dataframe from a list of dataframes created from a directory of csv files</p>\n\n<p>I have a directory of dataframes created from multiple csv files:</p>\n\n<pre><code>df_dict = {x: pd.read_csv('{}'.format(x)) for x in files}\n</code></pre>\n\n<p>where files is my directory for each csv.</p>\n\n<p>This code works well and leads to my desired output (below). </p>\n\n<pre><code>import pandas_datareader.data as web\nimport pandas as pd\nimport datetime as dt\nfrom datetime import datetime\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom io import StringIO\nimport time\nimport csv\nfrom operator import itemgetter\nimport glob\nimport os\n\n#File counter\npath, dirs, filess = next(os.walk('C:/Users/eagles/Desktop/Financials'))\nfile_count = len(filess)\n\n#File location &amp; dataframe creation\nfiles = glob.glob('C:/Users/eagles/Desktop/Financials/*.csv')\ndf_dict = {x: pd.read_csv('{}'.format(x)) for x in files}\n\n#Print each dataframe from directory\nfor x in range(file_count):\n   print(df_dict[files[x]])\n\n{'C:/Users/eagles/Desktop/Financials\\\\DELL.csv':           Date Symbols  Adj Close    ...           Low       Open    Volume\n0   2019-08-20    DELL  48.470001    ...     48.189999  48.720001   1842700\n1   2019-08-21    DELL  48.980000    ...     48.549999  48.669998   1389500\n2   2019-08-22    DELL  49.040001    ...     48.419998  49.430000   1619800\n3   2019-08-23    DELL  45.810001    ...     45.730000  47.750000   3670700\n4   2019-08-26    DELL  46.410000    ...     45.950001  46.000000   2040900\n..         ...     ...        ...    ...           ...        ...       ...\n83  2019-12-17    DELL  49.930000    ...     49.560001  49.720001   2366600\n84  2019-12-18    DELL  50.000000    ...     49.619999  50.000000   2302800\n85  2019-12-19    DELL  49.889999    ...     49.779999  50.060001   1518000\n86  2019-12-20    DELL  49.619999    ...     49.509998  50.299999   2704500\n[87 rows x 8 columns], 'C:/Users/eagles/Desktop/Financials\\\\EBS.csv':           Date Symbols  Adj Close   ...           Low       Open   Volume\n0   2019-08-20     EBS  42.900002   ...     42.880001  44.020000   312300\n1   2019-08-21     EBS  42.099998   ...     41.400002  43.509998   372000\n2   2019-08-22     EBS  41.599998   ...     41.310001  42.380001   365900\n3   2019-08-23     EBS  40.820000   ...     40.590000  41.680000   347800\n..         ...     ...        ...   ...           ...        ...      ...\n83  2019-12-17     EBS  52.680000   ...     51.169998  51.610001   265800\n84  2019-12-18     EBS  52.340000   ...     51.320000  52.540001   374300\n85  2019-12-19     EBS  53.919998   ...     51.689999  52.430000   250600\n86  2019-12-20     EBS  54.419998   ...     53.590000  53.900002   817200\n[87 rows x 8 columns], 'C:/Users/eagles/Desktop/Financials\\\\GRPN.csv':           Date Symbols  Adj Close  Close  High   Low  Open    Volume\n0   2019-08-20    GRPN       2.51   2.51  2.54  2.41  2.43   7692500\n1   2019-08-21    GRPN       2.51   2.51  2.54  2.48  2.54   5141800\n2   2019-08-22    GRPN       2.47   2.47  2.67  2.46  2.49   9225700\n3   2019-08-23    GRPN       2.40   2.40  2.47  2.37  2.45   8404700\n..         ...     ...        ...    ...   ...   ...   ...       ...\n83  2019-12-17    GRPN       2.39   2.39  2.57  2.35  2.54  18253900\n84  2019-12-18    GRPN       2.39   2.39  2.44  2.38  2.42   4645600\n85  2019-12-19    GRPN       2.28   2.28  2.40  2.24  2.39  11894500\n86  2019-12-20    GRPN       2.23   2.23  2.29  2.21  2.28  11354400\n</code></pre>\n\n<p>I can also call a specific dataframe with <code>df_dict[files[0]]</code></p>\n\n<p>But what I cannot do is call a specific dataframe and a specific column.</p>\n\n<p>The output I'd like to see is would only include the 'Close' column for each dataframe:</p>\n\n<pre><code>#Dell\ndf_dict[i]['Close']\n      Date          Close\n    0   2019-08-20  48.470001 \n    1   2019-08-21  48.980000 \n    2   2019-08-22  49.040001\n    3   2019-08-23  45.810001 \n    4   2019-08-26  46.410000\n#EBS\ndf_dict[i+1]['Close']\n     Date          Close\n    0   2019-08-20 48.470001 \n    1   2019-08-21 48.980000 \n    2   2019-08-22 49.040001\n    3   2019-08-23 45.810001 \n    4   2019-08-26 46.410000\n#GRPN\ndf_dict[i+2]['Close']\n      Date          Close\n    0   2019-08-20  48.470001 \n    1   2019-08-21  48.980000 \n    2   2019-08-22  49.040001\n    3   2019-08-23  45.810001 \n    4   2019-08-26  46.410000\n</code></pre>\n\n<p>Does anyone have a suggestion as to how I could achieve this?</p>\n"}, {"tags": ["python", "subprocess", "flake8"], "comments": [{"owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1577305027, "post_id": 59481494, "comment_id": 105139656, "body": "Run <code>&#39;flake8 flask_server_controller.py&#39;</code> yourself in console, to see the error. I assume you need to pass the full path to flake and make sure flake is in your env/path variable"}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1577305217, "post_id": 59481494, "comment_id": 105139690, "body": "Is there a reason you don&#39;t use a tool that is actually suitable for this task, like a shell script?"}, {"owner": {"reputation": 56, "user_id": 12597120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef0dd79721a5a9a605fffe4062140a?s=128&d=identicon&r=PG&f=1", "display_name": "Calum Templeton", "link": "https://stackoverflow.com/users/12597120/calum-templeton"}, "reply_to_user": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1577305241, "post_id": 59481494, "comment_id": 105139694, "body": "@MauriceMeyer Thanks for your reply. If I run the command above as suggested flake8 works on the file. There is no error, therefore, I don&#39;t think its a flake or env issue."}, {"owner": {"reputation": 56, "user_id": 12597120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef0dd79721a5a9a605fffe4062140a?s=128&d=identicon&r=PG&f=1", "display_name": "Calum Templeton", "link": "https://stackoverflow.com/users/12597120/calum-templeton"}, "reply_to_user": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1577305490, "post_id": 59481494, "comment_id": 105139730, "body": "@tripleee No major reason. I have seen on a few other posts saying that shell script is not a good idea but as my experience is little, please feel free to provide an answer which uses it. I have tried to add the flag <code>shell=True</code> into <code>subprocess.check_output([&quot;flake8&quot;, file], shell=True)</code>, however, this made no difference."}, {"owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 1, "creation_date": 1577305660, "post_id": 59481494, "comment_id": 105139760, "body": "Check the path to the <code>flask_server_controller.py</code> or have a look at <code>stderr</code> as mentioned there: <a href=\"https://stackoverflow.com/questions/16198546/get-exit-code-and-stderr-from-subprocess-call\" title=\"get exit code and stderr from subprocess call\">stackoverflow.com/questions/16198546/&hellip;</a>. <code>exit status 1</code> is definitely a &#39;response&#39; from flake8."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1577306528, "post_id": 59481494, "comment_id": 105139900, "body": "<code>join(&quot;.&#47;&quot;,\u2026)</code> doesn\u2019t do anything.  <code>shell=True</code> does mostly bad things.  (Using a shell script as the entire program might or might not be an improvement.)"}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1577307689, "post_id": 59481494, "comment_id": 105140084, "body": "You can&#39;t pass a list with <code>shell=True</code> but I would advise against that here. Either replace the Python script with a shell script, or go all Python. See also <a href=\"https://stackoverflow.com/questions/3172470/actual-meaning-of-shell-true-in-subprocess\" title=\"actual meaning of shell true in subprocess\">stackoverflow.com/questions/3172470/&hellip;</a>"}, {"owner": {"reputation": 56, "user_id": 12597120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef0dd79721a5a9a605fffe4062140a?s=128&d=identicon&r=PG&f=1", "display_name": "Calum Templeton", "link": "https://stackoverflow.com/users/12597120/calum-templeton"}, "reply_to_user": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1577441613, "post_id": 59481494, "comment_id": 105171078, "body": "@MauriceMeyer I looked at the link you suggested and adapted one of those answers. It works a treat. Thank you everyone for the help!"}], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 12597120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef0dd79721a5a9a605fffe4062140a?s=128&d=identicon&r=PG&f=1", "display_name": "Calum Templeton", "link": "https://stackoverflow.com/users/12597120/calum-templeton"}, "edited": false, "score": 0, "creation_date": 1577441796, "post_id": 59494016, "comment_id": 105171142, "body": "Thanks for the reply. I managed to solve the problem looking at a different post but some of the points you have made I will change and implement. Thanks for your help :)"}], "tags": [], "owner": {"reputation": 39425, "user_id": 812183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9639bd6ee5dfd07ff05fb848e67e9657?s=128&d=identicon&r=PG", "display_name": "Anthony Sottile", "link": "https://stackoverflow.com/users/812183/anthony-sottile"}, "is_accepted": false, "score": 1, "last_activity_date": 1577398576, "creation_date": 1577398576, "answer_id": 59494016, "question_id": 59481494, "link": "https://stackoverflow.com/questions/59481494/using-subprocess-check-output-to-run-flake8/59494016#59494016", "title": "Using subprocess.check_output to run flake8", "body": "<p><code>subprocess.check_output</code> is giving you that because of the <code>check_</code> aspect</p>\n\n<p>this means that when the executable you're running returns nonzero (for example, <code>flake8</code> returns nonzero when it detects lint failures) an exception will be raised</p>\n\n<p>To avoid this behaviour, I'd suggest using <code>subprocess.run</code> instead, and forwarding along the return code.  Something like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport subprocess\nimport sys\n\n\ndef main():\n    ret = 0\n    output = b''\n    for filename in os.listdir('.'):\n        if filename.endswith('.py'):\n            proc_ret = subprocess.run(\n                ('flake8', filename),\n                stdout=subprocess.PIPE,\n            )\n            ret |= proc_ret.returncode\n            output += proc_ret.stdout\n    sys.stdout.buffer.write(output)\n    return ret\n\n\nif __name__ == '__main__':\n    exit(main())\n</code></pre>\n\n<p>Note that this is going to be <em>prohibitively</em> slow, you have to incur the startup cost of <code>flake8</code> for every file.</p>\n\n<p>One way you can improve this is by passing all the filenames to flake8 at once:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport subprocess\nimport sys\n\n\ndef main():\n    filenames = (fname for fname in os.listdir('.') if fname.endswith('.py'))\n    proc_ret = subprocess.run(('flake8', *filenames), stdout=subprocess.PIPE)\n    sys.stdout.buffer.write(proc_ret.stdout)\n    return proc_ret.returncode\n\n\nif __name__ == '__main__':\n    exit(main())\n</code></pre>\n\n<p>but also this brings up another interesting point, why are you collecting the output at all? if you let the output go to stdout it will be printed automatically:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport subprocess\n\n\ndef main():\n    filenames = (fname for fname in os.listdir('.') if fname.endswith('.py'))\n    return subprocess.call(('flake8', *filenames))\n\n\nif __name__ == '__main__':\n    exit(main())\n</code></pre>\n\n<p>and hmmm, you probably don't need to do this at all since <code>flake8</code> has its own inclusion / exclusion code -- you probably just want to configure <code>exclude</code> properly</p>\n\n<pre><code># setup.cfg / tox.ini / .flake8\n[flake8]\n# for example, exclude recursing into the venv\nexclude = venv\n</code></pre>\n\n<p>and then you can use <code>flake8 .</code> as normal</p>\n\n<p>(disclaimer: I am the current maintainer of flake8)</p>\n"}], "owner": {"reputation": 56, "user_id": 12597120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97ef0dd79721a5a9a605fffe4062140a?s=128&d=identicon&r=PG&f=1", "display_name": "Calum Templeton", "link": "https://stackoverflow.com/users/12597120/calum-templeton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577398576, "creation_date": 1577304320, "question_id": 59481494, "link": "https://stackoverflow.com/questions/59481494/using-subprocess-check-output-to-run-flake8", "title": "Using subprocess.check_output to run flake8", "body": "<p>I am trying to make a basic linter script which I can run on Python files in the current directory. So far my script looks like this:</p>\n\n<pre><code>import subprocess\nfrom os import listdir\nfrom os.path import isfile, join\n\nif __name__ == \"__main__\":\n    subprocess.check_output([\"black\", \"-l\", \"100\", \"./\"])\n\n    files = [f for f in listdir(\"./\") if isfile(join(\"./\", f))]\n    for file in files:\n        if file.endswith(\".py\"):\n            subprocess.check_output([\"flake8\", file])\n</code></pre>\n\n<p>I am wanting to run the code via the command line with a call such as <em>main.py</em>. Black performs fine and finds the <em>.py</em> files in the current directory and formats them without a problem. However, when trying to run a similar command with flake8, it also runs on children of the directory such as the <em>venv</em> folder which I am not interested in.</p>\n\n<p>Therefore, the script includes a check to get the files in the current directory and then find the <em>.py</em> files. However, once I get those files, I cannot seem to use my flake8 command with subprocess.check_output. The error I get is as follows:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"linter.py\", line 18, in &lt;module&gt;\n    subprocess.check_output([\"flake8\", file], shell=False)\n  File \"C:\\Users\\calum\\AppData\\Local\\Programs\\Python\\Python38\\lib\\subprocess.py\", line 411, in check_output\n    return run(*popenargs, stdout=PIPE, timeout=timeout, check=True,\n  File \"C:\\Users\\calum\\AppData\\Local\\Programs\\Python\\Python38\\lib\\subprocess.py\", line 512, in run\n    raise CalledProcessError(retcode, process.args,\nsubprocess.CalledProcessError: Command '['flake8', 'flask_server_controller.py']' returned non-zero exit status 1.\n</code></pre>\n\n<p>Could someone please explain the error and/or provide a solution to my problem. I would also like to add other linting tools to the script such as <em>pylint</em>, however, I am worried I will run into the same problem without understanding it properly.</p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["python", "matplotlib", "animation", "traffic-simulation"], "answers": [{"tags": [], "owner": {"reputation": 29479, "user_id": 1356000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ef54c2101a4c23ea2441ce2b346ffb75?s=128&d=identicon&r=PG", "display_name": "Diziet Asahi", "link": "https://stackoverflow.com/users/1356000/diziet-asahi"}, "is_accepted": true, "score": 0, "last_activity_date": 1577394603, "creation_date": 1577394603, "answer_id": 59493490, "question_id": 59481491, "link": "https://stackoverflow.com/questions/59481491/animation-of-a-multiple-lane-highway-with-periodic-boundary-using-matplotlib-ani/59493490#59493490", "title": "Animation of a multiple-lane highway with periodic boundary using matplotlib.animation.FuncAnimate", "body": "<p><code>FuncAnimation()</code> expects the <code>animate()</code> function to return an array of artists that have been updated at each frame. If you need to animate several \"plots\" (or artists, or whatever), simply store the result of each plot, and return a list of all the variables</p>\n\n<p>In addition, your code is calling <code>ax.scatter()</code> repeatedly in the <code>animate</code> function, which causes new points to be plotted everytime and the time it takes to draw the frame to increase over time. I don't know if that's really what you really wanted to do. The best practice for animations is to create the artist(s) before the start of the animation, and then update their properties inside the <code>animate()</code> function rather than create new ones.</p>\n\n<pre><code>import numpy as np\nfrom numpy.random import random as rnd\nimport matplotlib.pyplot as plt\nfrom matplotlib import animation\n\nroadlength = 50\nnumcars = 10\nnumframes = 1000  #Time\nv_max = 5\np = 0.5\n\npositions = np.zeros(numcars)\nvelocities = np.zeros(numcars)\ntheta = np.zeros(numcars)\ncolor = np.linspace(0,numcars-1,numcars)\n\n#Initiate r so roadlength = circumference of one lap\nr = roadlength/(2*np.pi)\n\n#Initiate positions so the cars are spread out over the road\nfor i in range(1,numcars):\n    positions[i] = positions[i-1] + (roadlength/numcars)\n\n#Create figure        \nfig = plt.figure()\nax = fig.add_subplot(111, projection='polar')\nax.axis('off')\n\nplot1 = ax.scatter(theta, [r]*numcars, c=color)\nplot2 = ax.scatter(theta, [r+1]*numcars, c=color)\n\nax.set_ylim(0,r+2)\n\n#Update positions, animate function runs framenr times\ndef animate(framenr):\n    positions_tmp = np.array(positions, copy=True)\n\n    #Update position and velocity for each car\n    for i in range(numcars):\n\n        #Increase velocity if below max\n        if velocities[i] &lt; v_max:\n                velocities[i] += 1\n        #Decrease velocity if car in front is close\n        d = positions_tmp[(i+1)%numcars] - positions_tmp[i]\n        if d &lt;= 0:\n            d += roadlength\n        if velocities[i] &gt;= d:\n            velocities[i] = d-1\n        #Decrease velocity randomly\n        if velocities[i] &gt; 0:\n            if rnd() &lt; p:\n                velocities[i] -= 1\n\n        positions[i] = positions_tmp[i] + velocities[i]\n        theta[i] = positions[i]*2*np.pi/roadlength\n\n    plot1.set_offsets(np.c_[theta, [r]*numcars])\n    plot2.set_offsets(np.c_[theta, [r+1]*numcars])\n\n    return [plot1, plot2]\n\n# Call the animator, blit=True means only re-draw parts that have changed\nanim = animation.FuncAnimation(fig, animate, frames=numframes, interval=100, blit=True, repeat=True)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Z2X9o.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z2X9o.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 8601970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ed27b7f68d0dbfc3d374a8164d5e303?s=128&d=identicon&r=PG&f=1", "display_name": "confusedstudent", "link": "https://stackoverflow.com/users/8601970/confusedstudent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 59493490, "answer_count": 1, "score": 1, "last_activity_date": 1577394603, "creation_date": 1577304284, "last_edit_date": 1577304444, "question_id": 59481491, "link": "https://stackoverflow.com/questions/59481491/animation-of-a-multiple-lane-highway-with-periodic-boundary-using-matplotlib-ani", "title": "Animation of a multiple-lane highway with periodic boundary using matplotlib.animation.FuncAnimate", "body": "<p>Below is a code, fully working, that animates a one-lane road with periodic boundaries. Now I'd like to animate two, or even more lanes. I have a working code for that where the position vector now is a matrix, each column representing a lane. From that, I can create another theta vector which I'd like to be shown outside of the first one in the animation (by setting the radius a bit bigger). I have tried to put matrices (theta and r) in the ax.scatter(theta, r, c=color), but that does not work. Does anyone have a suggestion on how to approach this problem? I could use something else than matplotlib's animation, but as it worked fine for the one-lane problem it would be easiest for me. </p>\n\n<p>To wrap it up. How can I animate two or more vectors at the same time? For example, if I have r1, r2 and theta1, theta2 and want to 'plot' them both at each time, instead of just r and theta as in the code. </p>\n\n<p>Thanks a lot for any help. </p>\n\n<pre><code>import numpy as np\nfrom numpy.random import random as rnd\nimport matplotlib.pyplot as plt\nfrom matplotlib import animation\n\nroadlength = 50\nnumcars = 10\nnumframes = 1000  #Time\nv_max = 5\np = 0.5\n\npositions = np.zeros(numcars)\nvelocities = np.zeros(numcars)\ntheta = np.zeros(numcars)\ncolor = np.linspace(0,numcars-1,numcars)\n\n#Initiate r so roadlength = circumference of one lap\nr = []\nfor i in range(numcars):\n    r.append(roadlength/(2*np.pi))\n\n#Initiate positions so the cars are spread out over the road\nfor i in range(1,numcars):\n    positions[i] = positions[i-1] + (roadlength/numcars)\n\n#Create figure        \nfig = plt.figure()\nax = fig.add_subplot(111, projection='polar')\nax.axis('off')\n\n#Update positions, animate function runs framenr times\ndef animate(framenr):\n    positions_tmp = np.array(positions, copy=True)\n\n    #Update position and velocity for each car\n    for i in range(numcars):\n\n        #Increase velocity if below max\n        if velocities[i] &lt; v_max:\n                velocities[i] += 1\n        #Decrease velocity if car in front is close\n        d = positions_tmp[(i+1)%numcars] - positions_tmp[i]\n        if d &lt;= 0:\n            d += roadlength\n        if velocities[i] &gt;= d:\n            velocities[i] = d-1\n        #Decrease velocity randomly\n        if velocities[i] &gt; 0:\n            if rnd() &lt; p:\n                velocities[i] -= 1\n\n        positions[i] = positions_tmp[i] + velocities[i]\n        theta[i] = positions[i]*2*np.pi/roadlength\n\n    return ax.scatter(theta, r, c=color),\n\n# Call the animator, blit=True means only re-draw parts that have changed\nanim = animation.FuncAnimation(fig, animate, frames=numframes, interval=100, blit=True, repeat=False)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "flask"], "answers": [{"tags": [], "owner": {"reputation": 307, "user_id": 2789953, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000670713973/picture?type=large", "display_name": "Lucas Scott", "link": "https://stackoverflow.com/users/2789953/lucas-scott"}, "is_accepted": false, "score": 2, "last_activity_date": 1577452602, "creation_date": 1577452602, "answer_id": 59501377, "question_id": 59481482, "link": "https://stackoverflow.com/questions/59481482/flask-cli-noappexception-while-running-flask-app/59501377#59501377", "title": "&quot;flask.cli.NoAppException&quot; while running flask app", "body": "<p>In your <code>create_app</code> function you probably do not want to use the global keyword for late initialisation of the app.  </p>\n\n<p>In the examples you provided the <code>create_app</code> function is never called, and so the app instance is never created.  It is more common to use the <code>create_app</code> function as follows:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def create_app():\n    app = flask.Flask(__name__)\n    # do some setup\n    return app\n\napp = create_app()\n</code></pre>\n\n<p>The app instance should also be called <code>app</code> and not <code>flask_app</code>.  Of course you can call it whatever you want, but by default flask looks for <code>app</code>.  To specify your own change <code>FLASK_APP=__init__.py</code> to <code>FLASK_APP=__init__:flask_app</code></p>\n"}], "owner": {"reputation": 187, "user_id": 11468235, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fPu-q1yotA4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcDenKpQ0tPYhKHLp3jPlhxxCmD_w/mo/photo.jpg?sz=128", "display_name": "kartoos khan", "link": "https://stackoverflow.com/users/11468235/kartoos-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2650, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1578305308, "creation_date": 1577304146, "last_edit_date": 1578305308, "question_id": 59481482, "link": "https://stackoverflow.com/questions/59481482/flask-cli-noappexception-while-running-flask-app", "title": "&quot;flask.cli.NoAppException&quot; while running flask app", "body": "<p>I am fairly new to python development and have no idea about flask, I have been assigned a project that is developed using flask. After working for couple of weeks i am now able to resolve all the dependencies and project is now compiled successfully. But when I run the project using flask run and then enter the url in browser it throws <strong>\"flask.cli.NoAppException\"</strong>. How can I run my project I have tried like this. </p>\n\n<ol>\n<li>set FLASK_APP=<strong>init</strong>.py </li>\n<li>set FLASK_ENV=develpment </li>\n<li><p>flask run</p>\n\n<ul>\n<li>Serving Flask app \"<strong>init</strong>.py\" (lazy loading)</li>\n<li>Environment: develpment</li>\n<li>Debug mode: on</li>\n<li>Restarting with stat</li>\n<li>Debugger is active!</li>\n<li>Debugger PIN: 202-733-235</li>\n<li>Running on <a href=\"http://127.0.0.1:5000/\" rel=\"nofollow noreferrer\">http://127.0.0.1:5000/</a> (Press <kbd>CTRL</kbd>+<kbd>C</kbd> to quit)</li>\n</ul></li>\n</ol>\n\n<p>here is the trackback</p>\n\n<pre><code>\"FLASK_APP=myappnam:name to specify one.\nTraceback (most recent call last)\n\n    File \"C:\\Program Files\\Python38\\Lib\\site-packages\\flask\\_compat.py\", line 39, in reraise\n\n    raise value\n\n    File \"C:\\Program Files\\Python38\\Lib\\site-packages\\flask\\cli.py\", line 97, in find_best_app\n\n    raise NoAppException(\n\n    flask.cli.NoAppException: Failed to find Flask application or factory in module \"myappnam\". Use \"FLASK_APP=myappnam:name to specify one.\n\nThe debugger caught an exception in your WSGI application. You can now look at the traceback which led to the error.\n\nTo switch between the interactive traceback and the plaintext one, you can click on the \"Traceback\" headline. From the text traceback you can also create a paste of it. For code execution mouse-over the frame you want to debug and click on the console icon on the right side.\n\nYou can execute arbitrary Python code in the stack frames and there are some extra helpers available for introspection:\n\n    dump() shows all variables in the frame\n    dump(obj) dumps all that's known about the object\n</code></pre>\n\n<p>here is my --init--.py file</p>\n\n<pre><code>import os\nimport logging\nimport gevent\nimport datetime\nimport rollbar\n\nfrom gevent.queue import Queue\nfrom gevent.event import AsyncResult\nimport zmq.green as zmq\n\nfrom werkzeug.contrib.fixers import ProxyFix\n\n# Greens the postgress connector\ntry:\n    import psycogreen.gevent\n    psycogreen.gevent.patch_psycopg()\nexcept ImportError:\n    pass\n\nfrom rauth.service import OAuth2Service\n\nfrom flask import Flask, Request\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_bcrypt import Bcrypt\nfrom flask_login import LoginManager, current_user\nfrom flask_assets import Environment\nfrom flask_uploads import UploadSet, configure_uploads, IMAGES\n\nfrom app.util import setup_logging\nfrom app.exceptions import TimeoutError, BackendError\nimport app.exceptions\n\n\nflask_app = None\n\n# Have to use an actor pattern because we cannot allow more than one request to\n# be pending at a time.\nclass Backend(gevent.Greenlet):\n    def __init__(self):\n        super(Backend, self).__init__()\n\n        self.inbox = Queue()\n        self.zmq_context = zmq.Context()\n        self.zmq_socket = None\n        self.init_socket()\n\n    def init_socket(self):\n        zmq_socket = self.zmq_socket\n        if zmq_socket is not None:\n            zmq_socket.close(0)\n\n        zmq_socket = self.zmq_context.socket(zmq.REQ)\n        zmq_socket.connect(flask_app.config[\"SERVER_ZMQ_URI\"])\n        self.zmq_socket = zmq_socket\n\n    def process(self, request):\n        zmq_socket = self.zmq_socket\n\n        poller = zmq.Poller()\n        poller.register(zmq_socket, zmq.POLLIN)\n\n        zmq_socket.send_json({\n            \"command\": request[\"command\"],\n            \"arguments\": request[\"arguments\"]\n        })\n        sockets = dict(poller.poll(10 * 1000))\n\n        if zmq_socket not in sockets:\n            self.init_socket()\n            result = request[\"result\"]\n            result.set_exception(TimeoutError(\"The request to the backend timed out.\"))\n            return\n\n        received = zmq_socket.recv_json()\n\n        result = request[\"result\"]\n        if received[\"success\"]:\n            result.set(received[\"result\"])\n        else:\n            result.set_exception(BackendError(received[\"result\"]))\n\n    def _run(self):\n        while True:\n            self.process(self.inbox.get())            \n\n    def send(self, command, **kwargs):\n        result = AsyncResult()\n        self.inbox.put({\n            \"command\": command,\n            \"arguments\": kwargs,\n            \"result\": result\n        })\n        return result.get()\n\n\nclass RollbarRequest(Request):\n    @property\n    def rollbar_person(self):\n        if current_user.is_anonymous:\n            return {\n                \"id\": 0, \n                \"username\": \"anonymous\"\n            }\n        return {\n            \"id\": current_user.id,\n            \"username\": current_user.name,\n            \"email\": current_user.email_address\n        }\n\n\ndef create_app(*args, **kwargs):\n    global flask_app\n    global l\n\n    app_mode = os.environ.get(\"APP_MODE\")\n\n    assert app_mode is not None, \"APP_MODE environment variable must be set\"\n\n    flask_app = Flask(__name__)\n    flask_app.request_class = RollbarRequest\n    flask_app.config.from_object(\"config.mode_{}\".format(app_mode))\n    flask_app.config[\"APP_MODE\"] = app_mode\n\n    setup_logging(flask_app.config[\"LOGGING_LEVEL\"])\n\n    l = logging.getLogger(__name__)\n    l.info(\"starting in mode {}\".format(app_mode))\n\n    if not flask_app.config[\"DEBUG\"]:\n        rollbar.init(\n            flask_app.config[\"ROLLBAR_API_KEY\"],\n            app_mode,\n            allow_logging_basic_config=False\n        )\n\n    flask_app.jinja_env.globals.update(\n        current_year=lambda: datetime.datetime.now().year\n    )\n\n    # Have to do this so that redirects work in proxy mode behind NGINX.\n    if not flask_app.debug:\n        flask_app.wsgi_app = ProxyFix(flask_app.wsgi_app)\n\n    flask_app.db = SQLAlchemy(flask_app)\n\n    flask_app.bcrypt = Bcrypt(flask_app)\n    flask_app.assets = Environment(flask_app)\n\n    flask_app.images = UploadSet(\"images\", IMAGES)\n    configure_uploads(flask_app, flask_app.images)\n\n    flask_app.photos = UploadSet(\"photos\", IMAGES)\n    configure_uploads(flask_app, flask_app.photos)\n\n    login_manager = LoginManager()\n    login_manager.login_view = \"signin\"\n    login_manager.login_message_category = \"alert\"  # Need newer release of Flask-Login for this to work.\n    login_manager.init_app(flask_app)\n\n    flask_app.facebook = OAuth2Service(\n        name=\"facebook\",\n        base_url=\"https://graph.facebook.com/v2.8/\",\n        client_id=flask_app.config[\"FACEBOOK_CLIENT_ID\"],\n        client_secret=flask_app.config[\"FACEBOOK_CLIENT_SECRET\"]\n    )\n\n    from app import views\n    from app import models\n    from app import commands\n\n    flask_app.backend = Backend()\n    flask_app.backend.start()\n\n    app.exceptions.register(flask_app)\n\n    return flask_app\n</code></pre>\n\n<p>and this is my project structure\n<a href=\"https://i.stack.imgur.com/z14WU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z14WU.png\" alt=\"project structure\"></a>\nI am using pycharm and widows 10.</p>\n"}, {"tags": ["python", "pandas", "scikit-learn"], "comments": [{"owner": {"reputation": 3053, "user_id": 5828160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f1bce66871c9b17ac7d152e59e8f3a7?s=128&d=identicon&r=PG", "display_name": "Rajith Thennakoon", "link": "https://stackoverflow.com/users/5828160/rajith-thennakoon"}, "edited": false, "score": 1, "creation_date": 1577322597, "post_id": 59481481, "comment_id": 105142109, "body": "could you provide some sample input data and modifyAndReturnNewDataFrame function as well."}], "answers": [{"tags": [], "owner": {"reputation": 362, "user_id": 10416673, "user_type": "registered", "profile_image": "https://graph.facebook.com/2121238004553586/picture?type=large", "display_name": "Petar Luketina", "link": "https://stackoverflow.com/users/10416673/petar-luketina"}, "is_accepted": true, "score": 0, "last_activity_date": 1577331591, "creation_date": 1577331591, "answer_id": 59483609, "question_id": 59481481, "link": "https://stackoverflow.com/questions/59481481/what-are-the-better-approaches-for-using-onehotencoder/59483609#59483609", "title": "What are the better approaches for using OneHotEncoder()?", "body": "<p>If the data is in a Pandas DataFrame, I would use <code>apply</code> before running the data through a pipeline:</p>\n\n<pre><code>import pandas as pd\n\ndata = [['Name_1 Space  ', 123], ['Name_2 Space  ', 456]]\n\ndf = pd.DataFrame(data, columns=['Names', 'Numerics'])\ndf['Names'] = df.Names.apply(lambda col: col.strip().replace(' Space', '').upper())\n\nprint(df)\n\n        Names  Numerics\n0  pre NAME_1       123\n1  pre NAME_2       456\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 12482789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99a957a7cb8bf720282b2ed61005767?s=128&d=identicon&r=PG&f=1", "display_name": "Kiwi breeder", "link": "https://stackoverflow.com/users/12482789/kiwi-breeder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 59483609, "answer_count": 1, "score": 0, "last_activity_date": 1577331591, "creation_date": 1577304133, "last_edit_date": 1577311614, "question_id": 59481481, "link": "https://stackoverflow.com/questions/59481481/what-are-the-better-approaches-for-using-onehotencoder", "title": "What are the better approaches for using OneHotEncoder()?", "body": "<p>At this moment, I have a pandas df <code>x</code>. <code>x</code> has a string column <code>Name</code> and I wish to use <code>OneHotEncoder()</code> on it in a Scikit-Learn pipeline. However, I first want to manipulate the <code>Name</code> column (format, strip and adjust) and I figured that I could just build my own transformer for this. It looks something like this:</p>\n\n<pre><code>class NameModifier(BaseEstimator, TransformerMixin):\n   def __init__(self):\n      pass\n   def fit(self, X, y=None):\n      return self\n   def transform(self, X, y=None):\n      new_name_df = modifyAndReturnNewDataFrame(X)\n      return new_name_df\n</code></pre>\n\n<p>I then have this pipeline:</p>\n\n<pre><code>my_pipeline = ColumnTransformer([\n   (\"modify_name\", NameModifier(), [\"Name\"]),\n   (\"encode_name\", OneHotEncoder(), [\"Name\"])\n])\n\n# get prepared data\nprepared_data = my_pipeline.fit_transform(x)\n</code></pre>\n\n<p>This doesn't work as I intended; it looks like that my pipeline first formats the name but the <code>OneHotEncoder()</code> isn't actually encoding the modified <code>Name</code> column, it is encoding the original <code>Name</code> (without the modifications). How do I go about integrating these changes together in a pipeline?</p>\n"}, {"tags": ["python", "numpy", "matrix", "linear-algebra", "reshape"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1577306152, "post_id": 59481446, "comment_id": 105139842, "body": "What is supposed to go into the extra 123 elements in each dimension? will they be null or zero or one or will they contain data from the original 4?"}, {"owner": {"reputation": 53, "user_id": 3642099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8b407eaa8fc247e10973e78354c6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzeb R. Noureen", "link": "https://stackoverflow.com/users/3642099/shahzeb-r-noureen"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1577308928, "post_id": 59481446, "comment_id": 105140299, "body": "@wwii Thanks for commenting. All the entries of the new matrix should be the elements of M. So essentially instead of having an array of arrays such as <code>array([[array([...]), array([...]), array([...]), array([...])]])</code> (which I have currently) I would like to have my matrix in the form <code>array([...])</code>. So I&#39;m asking if there&#39;s a way to merge the nested arrays so that in the end I&#39;ve got one array only. Currently, I am unable to perform operations such as matrix inversion and determinant of M as it is <code>dtype = object</code>."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1577309608, "post_id": 59481446, "comment_id": 105140403, "body": "<code>block</code> can join the arrays with one call.  Or you could do several <code>concatenate</code> steps.  <code>A,B</code> can be concatenate on axis 1,  Same for <code>C,D</code>,  Then join those two on axis  0."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 3642099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8b407eaa8fc247e10973e78354c6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzeb R. Noureen", "link": "https://stackoverflow.com/users/3642099/shahzeb-r-noureen"}, "edited": false, "score": 0, "creation_date": 1577309126, "post_id": 59481462, "comment_id": 105140328, "body": "Thanks for the answer but the above doesn&#39;t work for me. Essentially, currently I&#39;ve got something of form <code>array([[array([...]), array([...]), array([...]), array([...])]])</code> and I am looking for something of the for <code>array([...])</code> (with no nested arrays). So I&#39;m basically asking if there&#39;s a way to merge the nested arrays so that in the end I&#39;ve got one array only. Currently, I am unable to perform operations such as matrix inversion and determinant of M as it is dtype = object."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 3, "creation_date": 1577309245, "post_id": 59481462, "comment_id": 105140344, "body": "If your current object array is (1,4) shape, then <code>a,b,c,d=arr[0]</code> should set you up for using <code>block</code>.  Or <code>np.block([[arr[0,0], arr[0,1]],[arr[1,0],arr[1,1]]])</code>.  It is is (2,2) adjust the indexing.  Review the <code>block</code> docs.  For all practical purposes your current array is a list of 4 arrays.  Treat it as such."}], "tags": [], "owner": {"reputation": 141, "user_id": 12542220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebf06987adbdb969f25e84ef189980f?s=128&d=identicon&r=PG&f=1", "display_name": "erik", "link": "https://stackoverflow.com/users/12542220/erik"}, "is_accepted": true, "score": 1, "last_activity_date": 1577303855, "creation_date": 1577303855, "answer_id": 59481462, "question_id": 59481446, "link": "https://stackoverflow.com/questions/59481446/how-to-reshape-a-2x2-block-matrix-to-mxm-matrix/59481462#59481462", "title": "How to reshape a 2x2 block matrix to mxm matrix?", "body": "<p>I think you might be looking for the NumPy <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.block.html#numpy.block\" rel=\"nofollow noreferrer\"><code>block</code></a> function. Usage:</p>\n\n<pre><code>np.block([[a, b], [c, d]])\n</code></pre>\n\n<p>or in your case:</p>\n\n<pre><code>np.block(M)\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 3642099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8b407eaa8fc247e10973e78354c6fc?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzeb R. Noureen", "link": "https://stackoverflow.com/users/3642099/shahzeb-r-noureen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 59481462, "answer_count": 1, "score": 0, "last_activity_date": 1577304128, "creation_date": 1577303634, "last_edit_date": 1577304128, "question_id": 59481446, "link": "https://stackoverflow.com/questions/59481446/how-to-reshape-a-2x2-block-matrix-to-mxm-matrix", "title": "How to reshape a 2x2 block matrix to mxm matrix?", "body": "<p>I have a matrix M partitioned into blocks such that</p>\n\n<p><img src=\"https://latex.codecogs.com/gif.latex?M&space;=&space;%5Cbegin%7Bpmatrix%7D&space;A&space;&amp;&space;B%5C%5C&space;C&space;&amp;&space;D&space;%5Cend%7Bpmatrix%7D\" title=\"M = \\begin{pmatrix} A &amp; B\\\\ C &amp; D \\end{pmatrix}\" /></p>\n\n<p>where A is 25x25, B is 25x100, C is 100x25 and D is 100x100.</p>\n\n<p>In Python, I have this matrix as an nparray which contains 4 arrays corresponding to each of A, B, C and D such that doing <code>M.shape</code> gives <code>(2,2)</code>. However, for purpose of calculation (inversion and multiplication, etc) I need it to have dimensions <code>(125,125)</code>. I've tired <code>M.reshape([125,125])</code> which doesn't work and gives the error <code>Cannot reshape (2,2) to (125,125)</code>. Is there a quick and easy way to do this, please?</p>\n"}, {"tags": ["python", "flask", "jinja2"], "comments": [{"owner": {"reputation": 2680, "user_id": 4440387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D6s38.png?s=128&g=1", "display_name": "Denis Rasulev", "link": "https://stackoverflow.com/users/4440387/denis-rasulev"}, "edited": false, "score": 0, "creation_date": 1577303973, "post_id": 59481444, "comment_id": 105139481, "body": "Probably &#39;/templates/bill.html&#39; will work?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1577305610, "post_id": 59481444, "comment_id": 105139752, "body": "you don&#39;t have to add <code>templates&#47;</code> in path - as default it search in folder <code>templates</code>."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 0, "last_activity_date": 1577350246, "last_edit_date": 1577350246, "creation_date": 1577306099, "answer_id": 59481675, "question_id": 59481444, "link": "https://stackoverflow.com/questions/59481444/flask-rendering-template/59481675#59481675", "title": "Flask rendering template", "body": "<p>You don't have to add <code>templates/</code> in path. As default <code>render_template</code> searchs template in folder <code>templates</code></p>\n\n<pre><code>return render_template('bill.html', **data)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 11502617, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-V2aFszRnTcs/AAAAAAAAAAI/AAAAAAAABuA/Nub_zsJhJyE/photo.jpg?sz=128", "display_name": "\u0418\u0432\u0430\u043d \u041f\u043e\u0437\u043d\u044f\u043a", "link": "https://stackoverflow.com/users/11502617/%d0%98%d0%b2%d0%b0%d0%bd-%d0%9f%d0%be%d0%b7%d0%bd%d1%8f%d0%ba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 59481675, "answer_count": 1, "score": 0, "last_activity_date": 1577350246, "creation_date": 1577303618, "question_id": 59481444, "link": "https://stackoverflow.com/questions/59481444/flask-rendering-template", "title": "Flask rendering template", "body": "<p>I try to insert data to my template render_template. </p>\n\n<pre><code>data = Bill.bill_data(self)\n        return render_template('templates/bill.html', **data)\n</code></pre>\n\n<p>Bill template location in folder templates. But I've got this error </p>\n\n<pre><code>jinja2.exceptions.TemplateNotFound: templates/bill.html\n</code></pre>\n\n<p>My data looks like this:</p>\n\n<pre><code>data={\n        \"payer_currency\": \"5\",\n        \"shop_amount\": \"5\",\n        \"shop_currency\": \"5\",\n        \"shop_id\": \"5\",\n        \"shop_order_id\": \"12\",\n        \"sign\": \"\"\n        }\n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 522, "user_id": 5396634, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C8rvP5I2H_E/AAAAAAAAAAI/AAAAAAAAH-8/-_KwGqe_ahM/photo.jpg?sz=128", "display_name": "marxmacher", "link": "https://stackoverflow.com/users/5396634/marxmacher"}, "edited": false, "score": 0, "creation_date": 1577303802, "post_id": 59481425, "comment_id": 105139444, "body": "for starters try p\u0155inting out reader and see what you get :)"}], "answers": [{"tags": [], "owner": {"reputation": 7801, "user_id": 1212401, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed478436fcb05fd3ae15da650d2a8cd6?s=128&d=identicon&r=PG", "display_name": "Chris Doyle", "link": "https://stackoverflow.com/users/1212401/chris-doyle"}, "is_accepted": false, "score": 2, "last_activity_date": 1577304021, "creation_date": 1577304021, "answer_id": 59481471, "question_id": 59481425, "link": "https://stackoverflow.com/questions/59481425/from-a-csv-file-count-unique-value-in-a-row-and-print-the-total-using-python/59481471#59481471", "title": "from a CSV file, count unique value in a row and print the total using python", "body": "<p>you can use <code>DictReader</code> that will map the csv headers to the items as a key. You can then use set comprehension to get a list of unique dates and count the length of them.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import csv\n\nwith open('test.dat') as file:\n    reader = csv.DictReader(file, delimiter=',')\n    print(len({row['Date'] for row in reader}))\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 9938742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dTXJ7.png?s=128&g=1", "display_name": "Lety", "link": "https://stackoverflow.com/users/9938742/lety"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577304021, "creation_date": 1577303512, "last_edit_date": 1577303553, "question_id": 59481425, "link": "https://stackoverflow.com/questions/59481425/from-a-csv-file-count-unique-value-in-a-row-and-print-the-total-using-python", "title": "from a CSV file, count unique value in a row and print the total using python", "body": "<p>I am new to Python, I have a CSV file that looks something like this:</p>\n\n<pre><code>Date, Profit\n02/2019 , 100\n03/2019 , 410\n03/2019 , 300\n04/2019 , 200\n</code></pre>\n\n<p>I need to write a code in Python that print how many unique dates is in the file</p>\n\n<p>Here is what I have so far, but It only print # 1</p>\n\n<pre><code>import os\nimport csv\n\nwith open('budget_data.csv') as file:\n    reader = csv.reader(file,delimiter=',')\n\n    t_dates = [1]\n    for row in reader:\n        if row[0] not in row:\n            t_dates.append(row[0])\n\n    print(len(t_dates))\n</code></pre>\n"}, {"tags": ["python", "windows", "pip", "cairo", "pycairo"], "comments": [{"owner": {"reputation": 970, "user_id": 267706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57898b06cf611e1719aa39b126419a3b?s=128&d=identicon&r=PG", "display_name": "JohnC", "link": "https://stackoverflow.com/users/267706/johnc"}, "edited": false, "score": 0, "creation_date": 1577306130, "post_id": 59481394, "comment_id": 105139839, "body": "Please can you provide more details eg Version of Djano, version of Windows."}, {"owner": {"reputation": 6137, "user_id": 490188, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/60e01f065785145eb9cec924da7fa096?s=128&d=identicon&r=PG", "display_name": "Danny Staple", "link": "https://stackoverflow.com/users/490188/danny-staple"}, "edited": false, "score": 0, "creation_date": 1577316530, "post_id": 59481394, "comment_id": 105141404, "body": "The output of <code>pip freeze</code> would be useful here. How are you running your Django project? with manage.py?"}, {"owner": {"reputation": 3730, "user_id": 5616096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PjKci.jpg?s=128&g=1", "display_name": "Matthew Gaiser", "link": "https://stackoverflow.com/users/5616096/matthew-gaiser"}, "edited": false, "score": 0, "creation_date": 1577332087, "post_id": 59481394, "comment_id": 105143147, "body": "Can we get the operation system as well as its version?"}, {"owner": {"reputation": 486, "user_id": 12009292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eed44d97b1e8b2b260b2cf50fedfc11?s=128&d=identicon&r=PG&f=1", "display_name": "Srijwal R", "link": "https://stackoverflow.com/users/12009292/srijwal-r"}, "edited": false, "score": 1, "creation_date": 1577361049, "post_id": 59481394, "comment_id": 105150669, "body": "Are you using weasyprint in your project?"}, {"owner": {"reputation": 461, "user_id": 10052666, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JjUeD.jpg?s=128&g=1", "display_name": "Gilbish Kosma", "link": "https://stackoverflow.com/users/10052666/gilbish-kosma"}, "edited": false, "score": 0, "creation_date": 1577372395, "post_id": 59481394, "comment_id": 105154417, "body": "I am facing the same issue ,i am using django-weasyprint."}, {"owner": {"reputation": 486, "user_id": 12009292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eed44d97b1e8b2b260b2cf50fedfc11?s=128&d=identicon&r=PG&f=1", "display_name": "Srijwal R", "link": "https://stackoverflow.com/users/12009292/srijwal-r"}, "edited": false, "score": 0, "creation_date": 1577432152, "post_id": 59481394, "comment_id": 105168163, "body": "Please check my answer"}], "answers": [{"comments": [{"owner": {"reputation": 963, "user_id": 10876063, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9tzR.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/10876063/umair"}, "edited": false, "score": 0, "creation_date": 1595822881, "post_id": 59496322, "comment_id": 111596439, "body": "I am still getting this error even after installing the GTK"}, {"owner": {"reputation": 115, "user_id": 9771371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3417e5825e785a8521025bf6ca5a475?s=128&d=identicon&r=PG&f=1", "display_name": "Mathador", "link": "https://stackoverflow.com/users/9771371/mathador"}, "edited": false, "score": 2, "creation_date": 1600354258, "post_id": 59496322, "comment_id": 113067359, "body": "Do not forget to add the installed GTK+ lib to your system path, and restart your IDE so that the changes take effect."}, {"owner": {"reputation": 486, "user_id": 12009292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eed44d97b1e8b2b260b2cf50fedfc11?s=128&d=identicon&r=PG&f=1", "display_name": "Srijwal R", "link": "https://stackoverflow.com/users/12009292/srijwal-r"}, "reply_to_user": {"reputation": 115, "user_id": 9771371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3417e5825e785a8521025bf6ca5a475?s=128&d=identicon&r=PG&f=1", "display_name": "Mathador", "link": "https://stackoverflow.com/users/9771371/mathador"}, "edited": false, "score": 0, "creation_date": 1600428380, "post_id": 59496322, "comment_id": 113092488, "body": "@Mathador agree."}], "tags": [], "owner": {"reputation": 486, "user_id": 12009292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eed44d97b1e8b2b260b2cf50fedfc11?s=128&d=identicon&r=PG&f=1", "display_name": "Srijwal R", "link": "https://stackoverflow.com/users/12009292/srijwal-r"}, "is_accepted": true, "score": 8, "last_activity_date": 1577424047, "creation_date": 1577424047, "answer_id": 59496322, "question_id": 59481394, "link": "https://stackoverflow.com/questions/59481394/django-oserror-no-library-called-cairo-was-found-on-windows/59496322#59496322", "title": "django OSError: no library called &quot;cairo&quot; was found on windows", "body": "<p>WeasyPrint needs the Pango, cairo and GDK-PixBuf libraries. They are part of GTK+ (formerly known as GIMP Toolkit), and must be installed separately.</p>\n\n<p>After installing <a href=\"https://weasyprint.readthedocs.io/en/stable/install.html#windows\" rel=\"noreferrer\">GTK+ libraries</a>, do :</p>\n\n<pre><code>python -m weasyprint http://weasyprint.org weasyprint.pdf\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 11108846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WvpjuaEvx_I/AAAAAAAAAAI/AAAAAAAAABc/9sOHLiYW-fU/photo.jpg?sz=128", "display_name": "Green Tree", "link": "https://stackoverflow.com/users/11108846/green-tree"}, "is_accepted": false, "score": 9, "last_activity_date": 1594604176, "creation_date": 1594604176, "answer_id": 62868123, "question_id": 59481394, "link": "https://stackoverflow.com/questions/59481394/django-oserror-no-library-called-cairo-was-found-on-windows/62868123#62868123", "title": "django OSError: no library called &quot;cairo&quot; was found on windows", "body": "<p>Installing GTK+ didn't work for me.\nI solved this problem using <a href=\"https://sk1project.net/uc2/\" rel=\"noreferrer\">UniConverter2.0</a>.\nMy environments is</p>\n<ul>\n<li>Python 3.7</li>\n<li>Windows 10 x64</li>\n</ul>\n<ol>\n<li>Install <a href=\"https://downloads.sk1project.net/uniconvertor/2.0rc4/uniconvertor-2.0rc4-win64_headless.msi\" rel=\"noreferrer\">uniconvertor-2.0rc4-win64_headless.msi</a>,</li>\n<li>Find the &quot;dll&quot; sub-directory under the UniConverter installation path.(In my case, <code>C:\\Program Files\\UniConvertor-2.0rc4\\dlls</code>)</li>\n<li>Add this &quot;dll&quot; path to the system path.</li>\n<li>Close VSCode and reopen the project.</li>\n<li>Try to run the server again.\nEnjoy!</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10351794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe36522420bf753c0ff88fb1fda36c84?s=128&d=identicon&r=PG", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/10351794/saurabh"}, "is_accepted": false, "score": 1, "last_activity_date": 1596573062, "creation_date": 1596573062, "answer_id": 63254633, "question_id": 59481394, "link": "https://stackoverflow.com/questions/59481394/django-oserror-no-library-called-cairo-was-found-on-windows/63254633#63254633", "title": "django OSError: no library called &quot;cairo&quot; was found on windows", "body": "<p>Starting from Python 3.8, dll's need to be added separately.\nAdded GTK+, MSYS2, Visual Studio C Compiler and Uniconverter. But, nothing seemed to work.\nFinally, got it working after putting the script for calling add_dll_directory.</p>\n<pre><code>import os\n\ndef set_dll_search_path():\n   # Python 3.8 no longer searches for DLLs in PATH, so we have to add\n   # everything in PATH manually. Note that unlike PATH add_dll_directory\n   # has no defined order, so if there are two cairo DLLs in PATH we\n   # might get a random one.\n   if os.name != &quot;nt&quot; or not hasattr(os, &quot;add_dll_directory&quot;):\n       return\n   for p in os.environ.get(&quot;PATH&quot;, &quot;&quot;).split(os.pathsep):\n       try:\n           os.add_dll_directory(p)\n       except OSError:\n           pass\n\n\nset_dll_search_path()\n</code></pre>\n<p>Source: <a href=\"https://github.com/pygobject/pycairo/blob/8c5d0c700cb4b49bff1092dca498ef3e75439a26/tests/__init__.py#L6\" rel=\"nofollow noreferrer\">PyCairo Windows Python3.8 Import Issue</a></p>\n"}], "owner": {"reputation": 143, "user_id": 12150766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b82028018f8ea6237846e4628e4b7259?s=128&d=identicon&r=PG&f=1", "display_name": "Mhmoud Amsha", "link": "https://stackoverflow.com/users/12150766/mhmoud-amsha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22577, "favorite_count": 3, "accepted_answer_id": 59496322, "answer_count": 3, "score": 12, "last_activity_date": 1596573062, "creation_date": 1577303213, "last_edit_date": 1585588496, "question_id": 59481394, "link": "https://stackoverflow.com/questions/59481394/django-oserror-no-library-called-cairo-was-found-on-windows", "title": "django OSError: no library called &quot;cairo&quot; was found on windows", "body": "<p>When I run the Django server, I see this problem !!</p>\n\n<pre><code>OSError: no library called \"cairo\" was found\n\nno library called \"libcairo-2\" was found\n\ncannot load library 'libcairo.so': error 0x7e\n\ncannot load library 'libcairo.2.dylib': error 0x\n\ncannot load library 'libcairo-2.dll': error 0x7e\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "machine-learning", "scikit-learn"], "answers": [{"comments": [{"owner": {"reputation": 4250, "user_id": 1833322, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c32eff9bf6efb2b8e496407efa690e99?s=128&d=identicon&r=PG", "display_name": "Flip", "link": "https://stackoverflow.com/users/1833322/flip"}, "edited": false, "score": 0, "creation_date": 1578064506, "post_id": 59579221, "comment_id": 105328126, "body": "Answer looks very good at first impression. I would like to do <code>fit</code> (of <code>fit_transform</code>) on both train and test data in case that test data contains an additional categorical value. Then use this fit for transform train and test separately. In your code does <code>fit_transform</code> save the &quot;fit&quot; into the ct object for later use in transform of test data?"}, {"owner": {"reputation": 3426, "user_id": 11651301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfU_X_4xhSA/AAAAAAAAAAI/AAAAAAAAAyQ/2vyFdU6xVnM/photo.jpg?sz=128", "display_name": "Parthasarathy Subburaj", "link": "https://stackoverflow.com/users/11651301/parthasarathy-subburaj"}, "reply_to_user": {"reputation": 4250, "user_id": 1833322, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c32eff9bf6efb2b8e496407efa690e99?s=128&d=identicon&r=PG", "display_name": "Flip", "link": "https://stackoverflow.com/users/1833322/flip"}, "edited": false, "score": 0, "creation_date": 1578066285, "post_id": 59579221, "comment_id": 105328953, "body": "Using <code>fit_transfom</code> on both train and test data set will result in <code>data leaking</code> issues. When you try to add the extra categorical values in the test data to your column transformation process your computed performance measure on the test data set is heavily biased and over inflated, You may not see the same performance of your model when you put your model for production as you would have observed in the test data set. And as you mentioned my code does <code>fit_transform</code> save the &quot;fit&quot; into the ct object for later use in transform of test data."}, {"owner": {"reputation": 4250, "user_id": 1833322, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c32eff9bf6efb2b8e496407efa690e99?s=128&d=identicon&r=PG", "display_name": "Flip", "link": "https://stackoverflow.com/users/1833322/flip"}, "edited": false, "score": 1, "creation_date": 1578069354, "post_id": 59579221, "comment_id": 105330453, "body": "I tested this answer now. It&#39;s excellent. Thanks for the help. Bounty can not be awarded yet (16 hours)."}, {"owner": {"reputation": 3426, "user_id": 11651301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfU_X_4xhSA/AAAAAAAAAAI/AAAAAAAAAyQ/2vyFdU6xVnM/photo.jpg?sz=128", "display_name": "Parthasarathy Subburaj", "link": "https://stackoverflow.com/users/11651301/parthasarathy-subburaj"}, "reply_to_user": {"reputation": 4250, "user_id": 1833322, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c32eff9bf6efb2b8e496407efa690e99?s=128&d=identicon&r=PG", "display_name": "Flip", "link": "https://stackoverflow.com/users/1833322/flip"}, "edited": false, "score": 0, "creation_date": 1578069640, "post_id": 59579221, "comment_id": 105330591, "body": "Thank you, if the answer was helpful kindly mark it as a verified answer and give it an upvote so that it will be helpful for others who might visit this in the future."}], "tags": [], "owner": {"reputation": 3426, "user_id": 11651301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mfU_X_4xhSA/AAAAAAAAAAI/AAAAAAAAAyQ/2vyFdU6xVnM/photo.jpg?sz=128", "display_name": "Parthasarathy Subburaj", "link": "https://stackoverflow.com/users/11651301/parthasarathy-subburaj"}, "is_accepted": true, "score": 11, "last_activity_date": 1578057597, "last_edit_date": 1578057597, "creation_date": 1578057163, "answer_id": 59579221, "question_id": 59481354, "link": "https://stackoverflow.com/questions/59481354/dummify-categorical-variables-for-logistic-regression-with-pandas-and-scikit-on/59579221#59579221", "title": "Dummify categorical variables for logistic regression with pandas and scikit (OneHotEncoder)", "body": "<p>I will try and answer all your questions individually.</p>\n\n<blockquote>\n  <p>Answer for Question 1</p>\n</blockquote>\n\n<p>In your code you have used <code>fit_transform</code> method both on your train and test data which is not the correct way of doing it. Generally, <code>fit_transform</code> is applied only on your train data set, and it returns a transformer which is then just used to <code>transform</code> your test data set. When you apply <code>fit_transform</code> on your test data, you just transform your test data with just the options/levels of the categorical variables available only in your test data set and it is very much possible that your test data may not contain all options/levels of all categorical variables, due to which the dimension of your train and test data set will differ resulting in the error which you have got.</p>\n\n<p>So the correct way of doing it would be:</p>\n\n<pre><code>X_train_t = ct.fit_transform(X_train)\nX_test_t  = ct.transform(X_test)\n</code></pre>\n\n<blockquote>\n  <p>Answer for Question 2</p>\n</blockquote>\n\n<p>If you want to avoid the \"dummy variable trap\" you can make use of the parameter <code>drop</code> (by setting it to <code>first</code>) while creating the <code>OneHotEncoder</code> object in the <code>ColumnTransformer</code>, this will result in creating just one column for <code>sex</code> and two columns for <code>Embarked</code> since they have two and three options/levels respectively. </p>\n\n<p>So the correct way of doing it would be:</p>\n\n<pre><code>ct = ColumnTransformer([(\"onehot\", OneHotEncoder(sparse=False, drop=\"first\"), ['Sex','Embarked'])], remainder='passthrough')\n</code></pre>\n\n<blockquote>\n  <p>Answer for Question 3</p>\n</blockquote>\n\n<p>As of now the <code>get_feature_names</code> method which can be reconstruct your data frame with new dummy columns is not implemented in<code>sklearn</code> yet. One work around for this would be to change the <code>reminder</code> to <code>drop</code> in the <code>ColumnTransformer</code> construction and construct your data frame separately as shown below:</p>\n\n<pre><code>ct = ColumnTransformer([(\"onehot\", OneHotEncoder(sparse=False, drop=\"first\"), ['Sex', 'Embarked'])], remainder='drop')\nA = pd.concat([X_train.drop([\"Sex\", \"Embarked\"], axis=1), pd.DataFrame(X_train_t, columns=ct.get_feature_names())], axis=1) \nA.head()\n</code></pre>\n\n<p>which will result in something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ab0dT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ab0dT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Your final code will look like this:</p>\n\n<pre><code>import pandas as pd\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.preprocessing import OneHotEncoder\nfrom sklearn.compose import ColumnTransformer\n\ncols = ['Survived', 'Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked']\n\ntrain_df = pd.read_csv('train.csv', usecols=cols)\ntest_df = pd.read_csv('test.csv', usecols=[e for e in cols if e != 'Survived'])\n\ncols = ['Survived', 'Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked']\n\ntrain_df = train_df.dropna()\ntest_df = test_df.dropna()\n\ntrain_df = train_df.reset_index(drop=True)\ntest_df = test_df.reset_index(drop=True)\n\nX_train = train_df.drop(\"Survived\", axis=1)\nY_train = train_df[\"Survived\"]\nX_test = test_df.copy()\n\ncategorical_values = ['Sex', 'Embarked']\nX_train_cont = X_train.drop(categorical_values, axis=1)\nX_test_cont = X_test.drop(categorical_values, axis=1)\n\nct = ColumnTransformer([(\"onehot\", OneHotEncoder(sparse=False, drop=\"first\"), categorical_values)], remainder='drop')\n\nX_train_categorical = ct.fit_transform(X_train)\nX_test_categorical  = ct.transform(X_test)\n\nX_train_t = pd.concat([X_train_cont, pd.DataFrame(X_train_categorical, columns=ct.get_feature_names())], axis=1)\nX_test_t = pd.concat([X_test_cont, pd.DataFrame(X_test_categorical, columns=ct.get_feature_names())], axis=1)\n\nlogreg = LogisticRegression(max_iter=5000)\nlogreg.fit(X_train_t, Y_train)\nY_pred = logreg.predict(X_test_t)\n\nacc_log = round(logreg.score(X_train_t, Y_train) * 100, 2)\n\nprint(acc_log)\n\n80.34\n</code></pre>\n\n<p>And when you do <code>X_train_t.head()</code> you get</p>\n\n<p><a href=\"https://i.stack.imgur.com/v0HEo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/v0HEo.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 4250, "user_id": 1833322, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c32eff9bf6efb2b8e496407efa690e99?s=128&d=identicon&r=PG", "display_name": "Flip", "link": "https://stackoverflow.com/users/1833322/flip"}, "edited": false, "score": 1, "creation_date": 1578583039, "post_id": 59602708, "comment_id": 105492941, "body": "Thanks for your additional information. Your code seems useful for an even more elegant solution"}], "tags": [], "owner": {"reputation": 12637, "user_id": 6347629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxdJr.jpg?s=128&g=1", "display_name": "Venkatachalam", "link": "https://stackoverflow.com/users/6347629/venkatachalam"}, "is_accepted": false, "score": 4, "last_activity_date": 1578362450, "last_edit_date": 1578362450, "creation_date": 1578247236, "answer_id": 59602708, "question_id": 59481354, "link": "https://stackoverflow.com/questions/59481354/dummify-categorical-variables-for-logistic-regression-with-pandas-and-scikit-on/59602708#59602708", "title": "Dummify categorical variables for logistic regression with pandas and scikit (OneHotEncoder)", "body": "<ol>\n<li>Recommended practice is suggested in @Parthasarathy Subburaj's answer but I have seen in Kaggle or other competition, where people fit on the complete data (train+test). If you want to try the same, use the following format </li>\n</ol>\n\n<pre><code>ct.fit(X_complete)\nX_train_t, X_test_t  = ct.transform(X_test), ct.transform(X_test)\n</code></pre>\n\n<ol start=\"2\">\n<li><p>ya, use <code>drop='first'</code> to get over this issue. At the same time, remember this multicollinearity problem is not a big deal for non-linear models such as neural networks or even decision trees. I believe that is the reason why it is not kept as the default arg param value. </p></li>\n<li><p><code>get_feature_names</code> is not implemented exhaustively for pipelines and other stuffs in sklearn. Hence, they are supporting complete in <code>ColumnTransformer</code> as well. </p></li>\n</ol>\n\n<p>Based on my experience, I had built this wrapper for <code>ColumnTransfomer</code>, which can support for even it has <code>pipelines</code> or <code>reminder=passthrough</code>.</p>\n\n<p>This also picks up the feature names for <code>get_feature_names</code> instead of calling it as <code>x0, x1</code> because we know the actual column names inside <code>ColumnTransformer</code> using <code>_feature_names_in</code>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nfrom sklearn.compose import ColumnTransformer\nfrom sklearn.utils.validation import check_is_fitted\n\ndef _get_features_out(name, trans, features_in):\n    if hasattr(trans, 'get_feature_names'):\n        return [name + \"__\" + f for f in\n                                  trans.get_feature_names(features_in)]\n    else:\n        return features_in\n\n\nclass NamedColumnTransformer(ColumnTransformer):\n    def get_feature_names(self):\n        check_is_fitted(self)\n        feature_names = []\n        for name, trans, features, _ in self._iter(fitted=True):\n            if trans == 'drop':\n                continue\n            if trans == 'passthrough':\n                feature_names.extend(self._feature_names_in[features])\n            elif hasattr(trans, '_iter'):\n                for _, op_name, t in trans._iter():\n                    features=_get_features_out(op_name, t, features)\n                feature_names.extend(features)\n            elif not hasattr(trans, 'get_feature_names'):\n                raise AttributeError(\"Transformer %s (type %s) does not \"\n                                     \"provide get_feature_names.\"\n                                     % (str(name), type(trans).__name__))\n            else:\n                feature_names.extend(_get_features_out(name, trans, features))\n\n        return feature_names\n</code></pre>\n\n<p>Now, for your example, </p>\n\n<pre><code>from sklearn.datasets import fetch_openml\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import OneHotEncoder\nfrom sklearn.linear_model import LogisticRegression\n\n# you can fetch the titanic dataset using this\nX, y = fetch_openml(\"titanic\", version=1,\n                    as_frame=True, return_X_y=True)\n\n# removing the columns which you are not using \nX.drop(['name', 'ticket', 'cabin', 'boat', 'body', 'home.dest'],\n       axis=1, inplace=True)\n\nX.dropna(inplace=True)\nX.reset_index(drop=True, inplace=True)\ny = y[X.index]\n\ncategorical_values = ['sex', 'embarked']\n\nct = NamedColumnTransformer([(\"onehot\", OneHotEncoder(\n    sparse=False, drop=\"first\"), categorical_values)], remainder='passthrough')\n\n\nclf = Pipeline(steps=[('preprocessor', ct),\n                      ('classifier', LogisticRegression(max_iter=5000))])\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2)\n\nclf.fit(X_train, y_train)\n\n\nclf[0].get_feature_names()\n# ['onehot__sex_male',\n#  'onehot__embarked_Q',\n#  'onehot__embarked_S',\n#  'pclass',\n#  'age',\n#  'sibsp',\n#  'parch',\n#  'fare']\n</code></pre>\n\n<pre><code>pd.DataFrame(clf[0].transform(X_train), columns=clf[0].get_feature_names())\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UdRHE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UdRHE.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also try the <code>NamedColumnTransformer</code> for a more interesting example of <code>ColumnTransformer</code> <a href=\"https://scikit-learn.org/stable/auto_examples/compose/plot_column_transformer_mixed_types.html#sphx-glr-auto-examples-compose-plot-column-transformer-mixed-types-py\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}], "owner": {"reputation": 4250, "user_id": 1833322, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c32eff9bf6efb2b8e496407efa690e99?s=128&d=identicon&r=PG", "display_name": "Flip", "link": "https://stackoverflow.com/users/1833322/flip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 59579221, "answer_count": 2, "score": 6, "last_activity_date": 1578362450, "creation_date": 1577302760, "last_edit_date": 1578247455, "question_id": 59481354, "link": "https://stackoverflow.com/questions/59481354/dummify-categorical-variables-for-logistic-regression-with-pandas-and-scikit-on", "title": "Dummify categorical variables for logistic regression with pandas and scikit (OneHotEncoder)", "body": "<p>I read <a href=\"https://medium.com/dunder-data/from-pandas-to-scikit-learn-a-new-exciting-workflow-e88e2271ef62\" rel=\"nofollow noreferrer\">this</a> blog about new things in <code>scikit</code>. The <code>OneHotEncoder</code> taking strings seems like a useful feature. Below my attempt to use this</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.preprocessing import OneHotEncoder\nfrom sklearn.compose import ColumnTransformer\n\ncols = ['Survived', 'Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked']\n\ntrain_df = pd.read_csv('../../data/train.csv', usecols=cols)\ntest_df = pd.read_csv('../../data/test.csv', usecols=[e for e in cols if e != 'Survived'])\n\ntrain_df.dropna(inplace=True)\ntest_df.dropna(inplace=True)\n\nX_train = train_df.drop(\"Survived\", axis=1)\nY_train = train_df[\"Survived\"]\nX_test = test_df.copy()\n\nct = ColumnTransformer([(\"onehot\", OneHotEncoder(sparse=False), ['Sex', 'Embarked'])], remainder='passthrough')\n\nX_train_t = ct.fit_transform(train_df)\nX_test_t  = ct.fit_transform(test_df)\n\nprint(X_train_t[0])\nprint(X_test_t[0])\n\n# [ 0.    1.    0.    0.    1.    0.    3.   22.    1.    0.    7.25]\n# [ 0.    1.    0.    1.    0.          3. 34.5     0.    0.  7.8292]\n\nlogreg = LogisticRegression(max_iter=5000)\nlogreg.fit(X_train_t, Y_train)\nY_pred = logreg.predict(X_test_t) # ValueError: X has 10 features per sample; expecting 11\nacc_log = round(logreg.score(X_train, Y_train) * 100, 2)\n\nprint(acc_log)\n</code></pre>\n\n<p>I encounter the below python error with this code and also I have some additional concerns.</p>\n\n<blockquote>\n  <p>ValueError: X has 10 features per sample; expecting 11</p>\n</blockquote>\n\n<p>To start from the beginning .. this script is written for the \"titanic\" dataset from kaggle. We have five numerical columns <code>Pclass</code>, <code>Age</code>, <code>SibSp</code>, <code>Parch</code> and <code>Fare</code>. The columns <code>Sex</code> and <code>Embarked</code> are categories <code>male/female</code> and <code>Q/S/C</code> (which is an abbreviation for a city name).</p>\n\n<p>What I understood from the <code>OneHotEncoder</code> is that it creates dummy variables by placing additional columns. Well actually the output of <code>ct.fit_transform()</code> is no longer a pandas dataframe but a <code>numpy</code> array now. But as seen in the print debug statement there are more than the original 7 columns now.</p>\n\n<p>There are three problems I encounter:</p>\n\n<ol>\n<li><p>For some reason the <code>test.csv</code> has one less column. That would indicate to me that there is on less option in one of the categories. To fix that i would have to find all the available options in the categories over both train + test data. And then use these options (such as male/female) to transform the train and the test data separately. I have no idea how to do this with the tools i'm working with (<code>pandas</code>, <code>scikit</code>, etc). On second thought .. after inspecting the data i can not find the missing option in the <code>test.csv</code> ..</p></li>\n<li><p>I want to avoid the \"<a href=\"https://medium.com/datadriveninvestor/dummy-variable-trap-c6d4a387f10a\" rel=\"nofollow noreferrer\">dummy variable trap</a>\".  Right now it seems that there are too many columns created. I was expecting 1 column for Sex (total options 2 - 1 to avoid trap) and 2 for embarked. With the additional 5 numerical columns that would come to 8 total.</p></li>\n<li><p>I don't recognize the output of the transform anymore. I would rather prefer a new dataframe where the new dummy columns have given their own name, such as Sex_male (1/0) Embarked_Q (1/0) and Embarked_S(1/0)</p></li>\n</ol>\n\n<p>I'm only used to using <code>gretl</code>, there dummifying a variable and leaving out one option is very natural. I don't know in python if i'm doing it wrong or if this scenario is not part of the standard scikit toolkit. Any advice? Maybe I should write a custom encoder for this?</p>\n"}, {"tags": ["python", "django", "wagtail"], "answers": [{"comments": [{"owner": {"reputation": 990, "user_id": 1191545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XQaPc.jpg?s=128&g=1", "display_name": "Brylie Christopher Oxley", "link": "https://stackoverflow.com/users/1191545/brylie-christopher-oxley"}, "edited": false, "score": 0, "creation_date": 1577303058, "post_id": 59481368, "comment_id": 105139336, "body": "Where should I override the context? E.g. in wagtail_hooks.py in a particular app?"}, {"owner": {"reputation": 90691, "user_id": 51685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVhK5.jpg?s=128&g=1", "display_name": "AKX", "link": "https://stackoverflow.com/users/51685/akx"}, "reply_to_user": {"reputation": 990, "user_id": 1191545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XQaPc.jpg?s=128&g=1", "display_name": "Brylie Christopher Oxley", "link": "https://stackoverflow.com/users/1191545/brylie-christopher-oxley"}, "edited": false, "score": 0, "creation_date": 1577303148, "post_id": 59481368, "comment_id": 105139350, "body": "If you can override the widget class in the model, that would work; otherwise I&#39;d suggest a trivial subclass of <code>DateField</code>, like <code>class ExtendedHistoryDateField(DateField): widget = ExtendedHistoryDateWidget</code> etc."}, {"owner": {"reputation": 990, "user_id": 1191545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XQaPc.jpg?s=128&g=1", "display_name": "Brylie Christopher Oxley", "link": "https://stackoverflow.com/users/1191545/brylie-christopher-oxley"}, "edited": false, "score": 0, "creation_date": 1577304627, "post_id": 59481368, "comment_id": 105139581, "body": "OK, it looks like I can define a custom Django form widget. Is that what you meant by overriding the widget class in the model? <a href=\"https://docs.djangoproject.com/en/3.0/ref/forms/widgets\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/3.0/ref/forms/widgets</a>"}, {"owner": {"reputation": 990, "user_id": 1191545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XQaPc.jpg?s=128&g=1", "display_name": "Brylie Christopher Oxley", "link": "https://stackoverflow.com/users/1191545/brylie-christopher-oxley"}, "edited": false, "score": 0, "creation_date": 1577305614, "post_id": 59481368, "comment_id": 105139753, "body": "In this case, I ended up using the django-flatpickr module and overriding the FieldPanel widget: <a href=\"https://github.com/monim67/django-flatpickr\" rel=\"nofollow noreferrer\">github.com/monim67/django-flatpickr</a>"}], "tags": [], "owner": {"reputation": 90691, "user_id": 51685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVhK5.jpg?s=128&g=1", "display_name": "AKX", "link": "https://stackoverflow.com/users/51685/akx"}, "is_accepted": true, "score": 3, "last_activity_date": 1577302940, "creation_date": 1577302940, "answer_id": 59481368, "question_id": 59481342, "link": "https://stackoverflow.com/questions/59481342/allow-years-before-1950-for-wagtail-datefield-widget/59481368#59481368", "title": "Allow years before 1950 for Wagtail DateField widget?", "body": "<p>1950 seems to be <a href=\"https://github.com/wagtail/wagtail/blob/882f8f3cf8ddd79c30e611a48882b309e90dad0c/wagtail/admin/static_src/wagtailadmin/js/vendor/jquery.datetimepicker.js#L619\" rel=\"nofollow noreferrer\">the default of the datetime picker library shipped with Wagtail</a>.</p>\n\n<p>It looks like you need to <a href=\"https://github.com/wagtail/wagtail/blob/ffdbe3e26c068350e984d67bf04326baaa0d193e/wagtail/admin/widgets.py#L59\" rel=\"nofollow noreferrer\">override the widget used by the field</a>, more specifically <code>.get_context()</code>, and add the <code>yearStart</code> property.</p>\n"}], "owner": {"reputation": 990, "user_id": 1191545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/XQaPc.jpg?s=128&g=1", "display_name": "Brylie Christopher Oxley", "link": "https://stackoverflow.com/users/1191545/brylie-christopher-oxley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 59481368, "answer_count": 1, "score": 0, "last_activity_date": 1577302940, "creation_date": 1577302622, "question_id": 59481342, "link": "https://stackoverflow.com/questions/59481342/allow-years-before-1950-for-wagtail-datefield-widget", "title": "Allow years before 1950 for Wagtail DateField widget?", "body": "<p>I have defined a custom Wagtail Page model with a DateField. When Wagtail renders the date picker widget, it only allows years above 1950 to be selected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zTfFM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zTfFM.png\" alt=\"no years before 1950\"></a></p>\n\n<p>For our content, we need to add years before 1950 without expecting the user to manually edit the date string. </p>\n\n<p>How can we tell the Wagtail date widget to allow selection of years before 1950?</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 2680, "user_id": 4440387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D6s38.png?s=128&g=1", "display_name": "Denis Rasulev", "link": "https://stackoverflow.com/users/4440387/denis-rasulev"}, "edited": false, "score": 0, "creation_date": 1577303114, "post_id": 59481340, "comment_id": 105139343, "body": "Have a look <a href=\"https://stackoverflow.com/questions/43544707/expanding-contents-of-dataframe-column-into-new-columns\">here</a>, then write your code and if it won&#39;t work as expected, ask again :)"}], "answers": [{"tags": [], "owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "is_accepted": false, "score": 0, "last_activity_date": 1577305422, "creation_date": 1577305422, "answer_id": 59481606, "question_id": 59481340, "link": "https://stackoverflow.com/questions/59481340/how-to-convert-column-with-list-of-values-into-rows-in-pandas-dataframe-includin/59481606#59481606", "title": "How to convert column with list of values into rows in Pandas DataFrame including previous column also", "body": "<p>try some like this :</p>\n\n<pre><code>import pandas as pd\nfrom io import StringIO\ndata = \"\"\"\nA B\na [[L1,L2]]\nb [[L1,L2,L3]]\n\"\"\"\ndf = pd.read_csv(StringIO(data),sep=' ')\ndf['C']=df['B']\ndf['C']=df.C.astype(str).replace(['\\[','\\]', \"'\", \"\\s+\"], '', regex=True)\nprint(df.set_index(df.columns.drop('C',1).tolist()).C.str.split(',', expand=True).stack().reset_index().rename(columns={0:'C'}).loc[:, df.columns])\n</code></pre>\n\n<p>result :</p>\n\n<pre><code>   A             B   C\n0  a     [[L1,L2]]  L1\n1  a     [[L1,L2]]  L2\n2  b  [[L1,L2,L3]]  L1\n3  b  [[L1,L2,L3]]  L2\n4  b  [[L1,L2,L3]]  L3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72046, "user_id": 10035985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1WgJ_2yA-78/AAAAAAAAAAI/AAAAAAAAAOA/0CBOlYqYe7M/photo.jpg?sz=128", "display_name": "Andrej Kesely", "link": "https://stackoverflow.com/users/10035985/andrej-kesely"}, "is_accepted": false, "score": 0, "last_activity_date": 1577305662, "creation_date": 1577305662, "answer_id": 59481636, "question_id": 59481340, "link": "https://stackoverflow.com/questions/59481340/how-to-convert-column-with-list-of-values-into-rows-in-pandas-dataframe-includin/59481636#59481636", "title": "How to convert column with list of values into rows in Pandas DataFrame including previous column also", "body": "<p>One solution using <a href=\"https://docs.python.org/3.5/library/itertools.html#itertools.chain\" rel=\"nofollow noreferrer\"><code>itertools.chain</code></a>:</p>\n\n<pre><code>import pandas as pd\nfrom itertools import chain\n\n# old dataframe:\ndf = pd.DataFrame({'A': ['a', 'b'],\n                   'B': [  [['L1', 'L2']], [['L1', 'L2', 'L3']]   ]})\n\nd = {'A':[], 'B':[], 'C': []}\nfor a, b in zip(df['A'], df['B']):\n    for c in chain.from_iterable(b):\n        d['A'].append(a)\n        d['B'].append(b)\n        d['C'].append(c)\n\n# new dataframe:     \ndf = pd.DataFrame(d)\nprint(df)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>   A               B   C\n0  a      [[L1, L2]]  L1\n1  a      [[L1, L2]]  L2\n2  b  [[L1, L2, L3]]  L1\n3  b  [[L1, L2, L3]]  L2\n4  b  [[L1, L2, L3]]  L3\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12597011, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Adde_v_cf1k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd-SOIbBGVkEtagC2Kj9-RbKQkiHA/photo.jpg?sz=128", "display_name": "deepak singh", "link": "https://stackoverflow.com/users/12597011/deepak-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1577305662, "creation_date": 1577302601, "last_edit_date": 1577302766, "question_id": 59481340, "link": "https://stackoverflow.com/questions/59481340/how-to-convert-column-with-list-of-values-into-rows-in-pandas-dataframe-includin", "title": "How to convert column with list of values into rows in Pandas DataFrame including previous column also", "body": "<p>Hi I have a dataframe like this:</p>\n\n<pre><code>    A             B \n0:  a           [[L1, L2]]\n1:  b           [[L1, L2, L3]]\n</code></pre>\n\n<p>I want to change it into:</p>\n\n<pre><code>    A     B                 C \n0:  a    [[L1, L2]]         L1\n1:  a    [[L1, L2]]         L2\n2:  b    [[L1, L2, L3]]     L1\n3:  b    [[L1, L2, L3]]     L2\n4:  b    [[L1, L2, L3]]     L3\n</code></pre>\n\n<p>How can I do that?</p>\n"}, {"tags": ["python", "class", "tkinter", "global-variables"], "comments": [{"owner": {"reputation": 1037, "user_id": 6929343, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2SXNl.jpg?s=128&g=1", "display_name": "WinEunuuchs2Unix", "link": "https://stackoverflow.com/users/6929343/wineunuuchs2unix"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1577304768, "post_id": 59481331, "comment_id": 105139609, "body": "@stovfl Yes I have that in my history: First successful unbind: <code>Starting value:  140585244928592popup</code> First successful rebind: <code>Ending   value:  140585244928592popup</code> <b>Second unbind which crashes program:</b>  <code>Starting value:  140585244928592popup</code>"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1577307962, "post_id": 59481331, "comment_id": 105140129, "body": "<b><i>&quot;Second unbind <code>140585244928592popup</code></i></b>: You can&#39;t <code>.unbind(...</code> twice with the same <code>iid</code>. For monitoring do <code>self.br_bind = None</code> after <code>.unbind(...</code>"}, {"owner": {"reputation": 1037, "user_id": 6929343, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2SXNl.jpg?s=128&g=1", "display_name": "WinEunuuchs2Unix", "link": "https://stackoverflow.com/users/6929343/wineunuuchs2unix"}, "reply_to_user": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1577308518, "post_id": 59481331, "comment_id": 105140232, "body": "@stovfl I think you mean <code>self.b1_bind = None</code>? I thought I could unbind it a second time because it was recreated a second time with: <code>self.b1_bind = self.canvas.bind(&quot;&lt;Button-1&gt;&quot;, self.func_bind, &quot;+&quot;)</code>"}, {"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "reply_to_user": {"reputation": 1037, "user_id": 6929343, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2SXNl.jpg?s=128&g=1", "display_name": "WinEunuuchs2Unix", "link": "https://stackoverflow.com/users/6929343/wineunuuchs2unix"}, "edited": false, "score": 0, "creation_date": 1577309399, "post_id": 59481331, "comment_id": 105140374, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/204850/discussion-between-stovfl-and-wineunuuchs2unix\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1037, "user_id": 6929343, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2SXNl.jpg?s=128&g=1", "display_name": "WinEunuuchs2Unix", "link": "https://stackoverflow.com/users/6929343/wineunuuchs2unix"}, "is_accepted": false, "score": 1, "last_activity_date": 1577319164, "creation_date": 1577319164, "answer_id": 59482724, "question_id": 59481331, "link": "https://stackoverflow.com/questions/59481331/python-tkinter-can-only-unbind-and-rebind-button-1-once/59482724#59482724", "title": "Python Tkinter - Can only unbind and rebind Button-1 once", "body": "<p>Thanks to the help of <a href=\"https://stackoverflow.com/users/7414759/stovfl\">stovfl</a> it's working now.</p>\n\n<p>The solution is to change <code>_b1_bind</code> from a global variable to a variable encapsulated within <code>mycanvas</code>.</p>\n\n<p>First step is to change this line:</p>\n\n<pre><code>_b1_bind = mycanvas.bind(\"&lt;Button-1&gt;\", popup, \"+\")\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>mycanvas.b1_bind = mycanvas.bind(\"&lt;ButtonPress-1&gt;\", popup, \"+\")\n</code></pre>\n\n<p>Now the ID for the bound button is no longer a global variable but rather part of <code>mycanvas</code> scoped variables.</p>\n\n<p>The next step is to change the unbind from:</p>\n\n<pre><code>self.canvas.unbind(\"&lt;ButtonPress-1&gt;\", self.b1_bind)\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>self.canvas.unbind(\"&lt;ButtonPress-1&gt;\", self.canvas.b1_bind)\n</code></pre>\n\n<p>Remember <code>canvas</code> is a parameter to <code>MoveWindow</code> class which is now called with:</p>\n\n<pre><code>MoveWindow(mycanvas, _item_id, _canvas_xy, popup)\n</code></pre>\n\n<p>And is received with:</p>\n\n<pre><code>def __init__(self, canvas, item, coords, func_bind):\n</code></pre>\n\n<p>The last line to change was:</p>\n\n<pre><code>self.b1_bind = self.canvas.bind(\"&lt;Button-1&gt;\", self.func_bind, \"+\")\n</code></pre>\n\n<p>Which was changed to:</p>\n\n<pre><code>self.canvas.b1_bind = self.canvas.bind(\"&lt;ButtonPress-1&gt;\", \\\n                                       self.func_bind, \"+\")\n</code></pre>\n"}], "owner": {"reputation": 1037, "user_id": 6929343, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2SXNl.jpg?s=128&g=1", "display_name": "WinEunuuchs2Unix", "link": "https://stackoverflow.com/users/6929343/wineunuuchs2unix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577319164, "creation_date": 1577302511, "question_id": 59481331, "link": "https://stackoverflow.com/questions/59481331/python-tkinter-can-only-unbind-and-rebind-button-1-once", "title": "Python Tkinter - Can only unbind and rebind Button-1 once", "body": "<p>I'm trying to deactivate button 1 linked to a parent function. I need to reassign button 1 to move an image on the canvas. All works well the first time the code is executed. The second time I'm getting this error:</p>\n\n<pre><code>Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 1540, in __call__\n    return self.func(*args)\n  File \"./wman2\", line 244, in move_window\n    MoveWindow(mycanvas, _item_id, _canvas_xy, _b1_bind, popup)\n  File \"./wman2\", line 256, in __init__\n    self.canvas.unbind(\"&lt;ButtonPress-1&gt;\", self.b1_bind)\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 1102, in unbind\n    self.deletecommand(funcid)\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 450, in deletecommand\n    self.tk.deletecommand(name)\nTclError: can't delete Tcl command\n</code></pre>\n\n\n\n<h2>The code:</h2>\n\n<p>I've commented out the code that generates the error below:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def move_window ():\n    global _b1_bind, popup\n    ''' Can only move a window, not a monitor or entire canvas '''\n    if _item_type == \"Window\" :\n        MoveWindow(mycanvas, _item_id, _canvas_xy, _b1_bind, popup)\n\n    else :\n        display_info()\n\nclass MoveWindow:\n    ''' Drag image on canvas '''\n\n    def __init__(self, canvas, item, coords, b1_bind, func_bind):\n        self._drag_data = {\"x\": 0, \"y\": 0, \"item\": None}\n        self.item = item\n        self.coords = coords\n        self.canvas = canvas\n        self.b1_bind = b1_bind\n        self.func_bind = func_bind\n#        self.canvas.unbind(\"&lt;ButtonPress-1&gt;\", self.b1_bind)\n        self.p_bind = self.canvas.bind(\"&lt;ButtonPress-1&gt;\", \\\n                                       self.on_image_press, \"+\")\n        self.r_bind = self.canvas.bind(\"&lt;ButtonRelease-1&gt;\", \\\n                                       self.on_image_release, \"+\")\n        self.m_bind = self.canvas.bind(\"&lt;B1-Motion&gt;\", \\\n                                       self.on_image_motion, \"+\")\n\n    def on_image_press(self, event):\n        '''Begining drag of an object'''\n        root.config(cursor='hand1')\n        # record the item and its location\n        self._drag_data[\"item\"] = self.item\n        self._drag_data[\"x\"] = self.coords[0]\n        self._drag_data[\"y\"] = self.coords[1]\n        ''' Initial call in case mouse off image '''\n\n    def on_image_release(self, event):\n        '''End drag of an object'''\n        root.config(cursor='')\n        self.canvas.unbind(\"&lt;ButtonPress-1&gt;\", self.p_bind)\n        self.canvas.unbind(\"&lt;ButtonRelease-1&gt;\", self.r_bind)\n        self.canvas.unbind(\"&lt;B1-Motion&gt;\", self.m_bind)\n#        self.b1_bind = self.canvas.bind(\"&lt;Button-1&gt;\", self.func_bind, \"+\")\n\n    def on_image_motion(self, event):\n        '''Handle dragging of an object'''\n        # compute how much the mouse has moved\n        delta_x = event.x - self._drag_data[\"x\"]\n        delta_y = event.y - self._drag_data[\"y\"]\n        # move the object the appropriate amount\n        self.canvas.move(self._drag_data[\"item\"], delta_x, delta_y)\n        # record the new position\n        self._drag_data[\"x\"] = event.x\n        self._drag_data[\"y\"] = event.y\n</code></pre>\n\n<h2>Further down in the code:</h2>\n\n<pre class=\"lang-python prettyprint-override\"><code># attach popup to canvas\nmenu.bind(\"&lt;FocusOut&gt;\", popup_focus_out)\n_b3_bind = mycanvas.bind(\"&lt;Button-3&gt;\", popup, \"+\")\n# Button 1 conflicts with MoveWindow()\n_b1_bind=None\n#_b1_bind = mycanvas.bind(\"&lt;Button-1&gt;\", popup, \"+\")\n</code></pre>\n\n<h2>Summary</h2>\n\n<p>The three lines I had to comment out are:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>_b1_bind = mycanvas.bind(\"&lt;Button-1&gt;\", popup, \"+\")\nself.canvas.unbind(\"&lt;ButtonPress-1&gt;\", self.b1_bind)\nself.b1_bind = self.canvas.bind(\"&lt;Button-1&gt;\", self.func_bind, \"+\")\n</code></pre>\n\n<p>Currently my only option is to not let the parent function use button 1 at all. I think the problem is the first time button 1 is reassigned to the parent the button ID changes and needs to be reassigned to the global variable <code>_b1_bind</code> but I'm not sure how to do that?</p>\n\n<p><strong>Credit:</strong> <a href=\"https://stackoverflow.com/a/6789351/6929343\">Code</a> is from <a href=\"https://stackoverflow.com/users/7432/bryan-oakley\">Brian Oakley</a>.</p>\n"}, {"tags": ["python", "numpy", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 9918823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58f5ff3f1200c2639c92f2f78503c15?s=128&d=identicon&r=PG&f=1", "display_name": "harinsamaranayake", "link": "https://stackoverflow.com/users/9918823/harinsamaranayake"}, "edited": false, "score": 0, "creation_date": 1577358699, "post_id": 59481647, "comment_id": 105149907, "body": "what will the output of the following :  mean_im = numpy.mean(ims, axis=1)  print(ims.shape)  ?"}, {"owner": {"reputation": 141, "user_id": 12542220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebf06987adbdb969f25e84ef189980f?s=128&d=identicon&r=PG&f=1", "display_name": "erik", "link": "https://stackoverflow.com/users/12542220/erik"}, "reply_to_user": {"reputation": 351, "user_id": 9918823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58f5ff3f1200c2639c92f2f78503c15?s=128&d=identicon&r=PG&f=1", "display_name": "harinsamaranayake", "link": "https://stackoverflow.com/users/9918823/harinsamaranayake"}, "edited": false, "score": 0, "creation_date": 1577359475, "post_id": 59481647, "comment_id": 105150165, "body": "Then you take then mean across the x-coordinate in every image. In other words, this collapses the columns into one, or you can say that you take the mean of every row in every image. The shape will be (3, 600) - one value for every row in every image."}], "tags": [], "owner": {"reputation": 141, "user_id": 12542220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebf06987adbdb969f25e84ef189980f?s=128&d=identicon&r=PG&f=1", "display_name": "erik", "link": "https://stackoverflow.com/users/12542220/erik"}, "is_accepted": false, "score": 3, "last_activity_date": 1577305801, "creation_date": 1577305801, "answer_id": 59481647, "question_id": 59481296, "link": "https://stackoverflow.com/questions/59481296/how-to-find-mode-in-a-numpy-array-with-images/59481647#59481647", "title": "How to find mode in a numpy array with images?", "body": "<p>The given axis sets which axis to take the metric (in your case mode) over. This axis is collapsed into a single value.</p>\n\n<p>I think your example array might be misformatted, so here's another example:</p>\n\n<p>Let's say you have 3 800x600 grayscale images, <code>im0</code>, <code>im1</code>, and <code>im2</code>. Their shape, given by <code>im0.shape</code>, is <code>(800, 600)</code>. We put them together like this:</p>\n\n<pre><code>ims = numpy.array([im0, im1, im2])\nprint(ims.shape)  # -&gt; (3, 800, 600)\n</code></pre>\n\n<p>Now let's say we want the mean value for each pixel over our 3 images. Then we want to take the mean over axis 0. This axis is collapsed into the mean, leaving us with the <em>mean image</em>.</p>\n\n<pre><code>mean_im = numpy.mean(ims, axis=0)\nprint(mean_im.shape)  # -&gt; (800, 600)\n</code></pre>\n\n<p>We can do the same thing with <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mode.html\" rel=\"nofollow noreferrer\"><code>scipy.stats.mode</code></a>, but note that both the mode and the count is returned, so we have to do something like this:</p>\n\n<pre><code>mode, count = stats.mode(ims, axis=0)\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 9918823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58f5ff3f1200c2639c92f2f78503c15?s=128&d=identicon&r=PG&f=1", "display_name": "harinsamaranayake", "link": "https://stackoverflow.com/users/9918823/harinsamaranayake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577305801, "creation_date": 1577302168, "question_id": 59481296, "link": "https://stackoverflow.com/questions/59481296/how-to-find-mode-in-a-numpy-array-with-images", "title": "How to find mode in a numpy array with images?", "body": "<p>Assume we have a np.array containing set of grayscale images. How to find the mode of each pixel position? Normally numpy have np.mean() and np.median() but mode is not included. I tried out stats.mode() of scipy but its slow. I also get bit confused with <strong><em>axis</em></strong> term. Hope someone can explain that also (Eg: axis=0, axis=1 etc.)</p>\n\n<pre><code>Input:\n[[ [[1,2][3,2]] [[4,3][5,3]] [[9,5][4,6]] ],\n [ [[1,3][3,3]] [[2,7][1,4]] [[4,1][1,7]] ],\n [ [[1,5][3,3]] [[4,3][1,6]] [[6,4][5,6]] ]\n]\n\nOutput:\n[[ [[1,2][3,3]] [[4,3][1,3]] [[4,1][1,6]] ]]\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "svm"], "answers": [{"tags": [], "owner": {"reputation": 1421, "user_id": 9937906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631a7c4cf3afc75cbfa0593722ca9a0a?s=128&d=identicon&r=PG&f=1", "display_name": "theletz", "link": "https://stackoverflow.com/users/9937906/theletz"}, "is_accepted": false, "score": 0, "last_activity_date": 1577302422, "creation_date": 1577302422, "answer_id": 59481319, "question_id": 59481280, "link": "https://stackoverflow.com/questions/59481280/using-scikit-learns-sgdclassifier-to-implement-svm-how-to-tune-the-regularizat/59481319#59481319", "title": "Using scikit-learn&#39;s SGDClassifier to implement SVM: how to tune the regularization parameter?", "body": "<p>You have to use the arguments - penalty and alpha. \nAnd l1_ratio if you consider elastic net. </p>\n\n<p>Look at this </p>\n\n<p><a href=\"https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDClassifier.html\" rel=\"nofollow noreferrer\">https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDClassifier.html</a></p>\n"}], "owner": {"reputation": 19, "user_id": 7050706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFZLZ.jpg?s=128&g=1", "display_name": "Soheilmn", "link": "https://stackoverflow.com/users/7050706/soheilmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577302422, "creation_date": 1577302022, "question_id": 59481280, "link": "https://stackoverflow.com/questions/59481280/using-scikit-learns-sgdclassifier-to-implement-svm-how-to-tune-the-regularizat", "title": "Using scikit-learn&#39;s SGDClassifier to implement SVM: how to tune the regularization parameter?", "body": "<p>I am using <code>scikit-learn</code> library to implement SVM for a large-size dataset (300-400K samples with &lt;100 features). To cope with the size issue, I am using <code>SGDClassifier</code> rather than <code>libsvm</code>, however I am not aware of any argument/parameter so that I can tune the regularization parameter within <code>SGDClassifier</code>. Can anybody help me with this?</p>\n\n<p>Thanks,\nSoheil</p>\n"}, {"tags": ["python", "user-interface"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 2, "creation_date": 1577304845, "post_id": 59481248, "comment_id": 105139619, "body": "Write the absolute path to the Python file in the &quot;os.system&quot; call."}, {"owner": {"reputation": 1434, "user_id": 7212665, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KrLoI.jpg?s=128&g=1", "display_name": "Demi-Lune", "link": "https://stackoverflow.com/users/7212665/demi-lune"}, "edited": false, "score": 3, "creation_date": 1577307245, "post_id": 59481248, "comment_id": 105140009, "body": "Or avoid the <code>os.system</code> and replace it with <code>import motion_detector as md ; md.its_main_function()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1577307680, "post_id": 59481788, "comment_id": 105140082, "body": "You want to avoid a shell with <code>Popen</code>. See <a href=\"https://stackoverflow.com/questions/3172470/actual-meaning-of-shell-true-in-subprocess\" title=\"actual meaning of shell true in subprocess\">stackoverflow.com/questions/3172470/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 12596391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEU1I.png?s=128&g=1", "display_name": "Anikel31", "link": "https://stackoverflow.com/users/12596391/anikel31"}, "reply_to_user": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1577307794, "post_id": 59481788, "comment_id": 105140107, "body": "My bad forgot to add the shell=False. Thanks for the comment!"}, {"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1577309935, "post_id": 59481788, "comment_id": 105140446, "body": "That&#39;s not sufficient; you also have to convert the first argument to a list of strings. (Edited to fix.) But you really want to avoid <code>Popen</code> altogether for <code>run</code> or a similar higher-level function. See further <a href=\"https://stackoverflow.com/a/51950538/874188\">stackoverflow.com/a/51950538/874188</a>"}], "tags": [], "owner": {"reputation": 21, "user_id": 12596391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEU1I.png?s=128&g=1", "display_name": "Anikel31", "link": "https://stackoverflow.com/users/12596391/anikel31"}, "is_accepted": false, "score": 0, "last_activity_date": 1577309989, "last_edit_date": 1577309989, "creation_date": 1577307340, "answer_id": 59481788, "question_id": 59481248, "link": "https://stackoverflow.com/questions/59481248/how-to-run-a-python-script-from-another-python-script/59481788#59481788", "title": "How to run a Python Script from another Python Script", "body": "<p>You can use either subprocess or os modules.\nI prefer subprocess since it's quieter and it stores for you the output and the error code (if there's one) - in both cases don't forget to put the full path to both your script and the python.exe (unless you put it's path to the %PATH% variable)</p>\n\n<p>The syntax for os.system is:</p>\n\n<pre><code>os.system(\"&lt;path to python&gt; &lt;path to your script&gt;\")\n</code></pre>\n\n<p>The syntax for subprocess.Popen is:</p>\n\n<pre><code>proc = subprocess.Popen(t\"&lt;path to python&gt;\", \"&lt;path to your script&gt;\"], stdout=subprocess.PIPE, stderr=subprocess.PIPE, shell=False)\nstdout, stderr = proc.communicate()\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 12352427, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218361812131078/picture?type=large", "display_name": "Yasin Demirkaya", "link": "https://stackoverflow.com/users/12352427/yasin-demirkaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577309989, "creation_date": 1577301681, "last_edit_date": 1577305337, "question_id": 59481248, "link": "https://stackoverflow.com/questions/59481248/how-to-run-a-python-script-from-another-python-script", "title": "How to run a Python Script from another Python Script", "body": "<p>I have a python script which detects the motion from webcam or a video. \nI need a GUI to start this python script. I created my GUI by using PyQt5 Designer and I want to click a button to open my <code>motion_detector.py</code></p>\n\n<p>Here is my code. </p>\n\n<p>I have a button in GUI   </p>\n\n<pre><code>  self.pushButton.setObjectName(\"pushButton\")\n</code></pre>\n\n<p>I try to open my motion_detector.py by clicking this button</p>\n\n<pre><code>  self.pushButton.clicked.connect(lambda:os.system('python motion_detector.py'))\n</code></pre>\n\n<p>At the top of my code I imported <code>\"os\"</code> and also I put my GUI file <code>untitled.py</code> and my <code>motion_detector.py</code> in the same directory.\nWhen I try to run it gives me an error </p>\n\n<pre><code>  python: can't open file 'motion_detector.py': [Errno 2] No such file or directory\n</code></pre>\n\n<p>Thank you for your help!</p>\n"}, {"tags": ["python", "probability"], "comments": [{"owner": {"reputation": 15239, "user_id": 3161575, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/V5D7Z.png?s=128&g=1", "display_name": "kederrac", "link": "https://stackoverflow.com/users/3161575/kederrac"}, "edited": false, "score": 0, "creation_date": 1577303244, "post_id": 59481216, "comment_id": 105139364, "body": "so x and y can have any upper letter from English alphabet?"}, {"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1577304399, "post_id": 59481216, "comment_id": 105139546, "body": "Without further knowledge of mathematical properties of the lists you just iterate through all possible &quot;i&quot;, count how often the requested letter combination appears and divide it by number of possible &quot;i&quot; values."}], "answers": [{"tags": [], "owner": {"reputation": 1399, "user_id": 4014768, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/07a931f7571f29d1ec49f9645f041b43?s=128&d=identicon&r=PG&f=1", "display_name": "jpf", "link": "https://stackoverflow.com/users/4014768/jpf"}, "is_accepted": false, "score": 1, "last_activity_date": 1577305463, "creation_date": 1577305463, "answer_id": 59481614, "question_id": 59481216, "link": "https://stackoverflow.com/questions/59481216/how-to-compute-the-joint-probability-of-two-sequences/59481614#59481614", "title": "How to compute the joint probability of two sequences?", "body": "<p>Using the arrays you've given, you could use numpy arrays for convenience, as</p>\n\n<pre><code>import numpy as np\nN=len(x)\nxi=(np.array(x)=='B').astype(int)\nxip=np.roll((np.array(x)=='D').astype(int),-1) # shift array one forward, and convert boolean to integer (True=1, False=0)\nyi=(np.array(y)=='F').astype(int)\nprob=(xi+xip+yi==3).astype(int)[0:N-1].sum()/(N-1)\n</code></pre>\n\n<p>where prob is the probability desired.</p>\n"}], "owner": {"reputation": 13, "user_id": 12530867, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u0Jjo0l-XpE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdZIntF7PrPmQcHA2wyBCnoRXhd7Q/photo.jpg?sz=128", "display_name": "piff", "link": "https://stackoverflow.com/users/12530867/piff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1577307471, "creation_date": 1577301336, "last_edit_date": 1577307471, "question_id": 59481216, "link": "https://stackoverflow.com/questions/59481216/how-to-compute-the-joint-probability-of-two-sequences", "title": "How to compute the joint probability of two sequences?", "body": "<p>Given two lists of letters:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>x = [A, B, D, A, D, D, ...]\ny = [D, F, C, C, B, B, ...]\n</code></pre>\n\n<p>How can I compute the probability <code>p(x_i = B, x_(i+1) = D, y_i = F)</code>, where <code>i</code> represents a generic index in the corresponding list?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1577301337, "post_id": 59481186, "comment_id": 105139080, "body": "The second code block will return <code>&#39;S&#39;</code> but the will be <i>no</i> output."}, {"owner": {"reputation": 535, "user_id": 11714234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c2dcfaecfa80020952f15d603ee7d7?s=128&d=identicon&r=PG&f=1", "display_name": "DarkLeader", "link": "https://stackoverflow.com/users/11714234/darkleader"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1577301413, "post_id": 59481186, "comment_id": 105139090, "body": "@KlausD. true, depends if you&#39;re on the interperter though because that if you are, you will get an output of &#39;S&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 11714234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c2dcfaecfa80020952f15d603ee7d7?s=128&d=identicon&r=PG&f=1", "display_name": "DarkLeader", "link": "https://stackoverflow.com/users/11714234/darkleader"}, "is_accepted": false, "score": 1, "last_activity_date": 1577301187, "creation_date": 1577301187, "answer_id": 59481197, "question_id": 59481186, "link": "https://stackoverflow.com/questions/59481186/differences-between-return-and-print-in-a-function/59481197#59481197", "title": "differences between return and print in a function", "body": "<p>when you use return the function stops and returns a value, so it breaks out of the loop</p>\n"}, {"tags": [], "owner": {"reputation": 2423, "user_id": 6007566, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2dc2e86664941a748f0dab92216d67c6?s=128&d=identicon&r=PG&f=1", "display_name": "Boendal", "link": "https://stackoverflow.com/users/6007566/boendal"}, "is_accepted": false, "score": 1, "last_activity_date": 1577301295, "creation_date": 1577301295, "answer_id": 59481211, "question_id": 59481186, "link": "https://stackoverflow.com/questions/59481186/differences-between-return-and-print-in-a-function/59481211#59481211", "title": "differences between return and print in a function", "body": "<p>As soon as you use return you would return the value and leave the function.</p>\n\n<pre><code>def string(txt):\n    for char in txt:\n        print(char)\n        return\n\nstring('Stack')\n</code></pre>\n\n<p>This code would also only print an \"S\" as your example with return. Because return as the word say return to the position you called it.</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 12596964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/589602c9aaf9d2e6e53fc89ec7c1bfa1?s=128&d=identicon&r=PG&f=1", "display_name": "Noane Dan", "link": "https://stackoverflow.com/users/12596964/noane-dan"}, "is_accepted": true, "score": 0, "last_activity_date": 1577301747, "creation_date": 1577301747, "answer_id": 59481252, "question_id": 59481186, "link": "https://stackoverflow.com/questions/59481186/differences-between-return-and-print-in-a-function/59481252#59481252", "title": "differences between return and print in a function", "body": "<p>Both functions iterate through the characters of the <code>txt</code> parameter, but the first one, <code>string</code> uses the <code>return</code> statements, which breaks the iteration and returns the first character to the caller. This is why you see only the <code>S</code> of <code>Stack</code></p>\n\n<p><code>print</code> on the other hand outputs all the characters in order to the <a href=\"https://www.computerhope.com/jargon/s/stdout.htm\" rel=\"nofollow noreferrer\">standard output</a>, and returns only after the loop is finished.</p>\n"}], "owner": {"reputation": 422, "user_id": 8413789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/278a4d5eb10387a61ddbdcbc7cb63cfe?s=128&d=identicon&r=PG&f=1", "display_name": "rmb", "link": "https://stackoverflow.com/users/8413789/rmb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 59481252, "answer_count": 3, "score": -4, "last_activity_date": 1577302451, "creation_date": 1577301038, "last_edit_date": 1577302451, "question_id": 59481186, "link": "https://stackoverflow.com/questions/59481186/differences-between-return-and-print-in-a-function", "title": "differences between return and print in a function", "body": "<p>Can anyone explain why we get different output using print and return?</p>\n\n<p>For this code: </p>\n\n<pre><code>def string(txt):\n    for char in txt:\n        print(char)\n\nstring('Stack')\n</code></pre>\n\n<p>the output would be:</p>\n\n<pre><code>S\nt\na\nc\nk\n</code></pre>\n\n<p>And for this code:</p>\n\n<pre><code>def string1(txt):\n    for char in txt:\n        return char\n\nstring1('Stack')\n</code></pre>\n\n<p>the output would be: </p>\n\n<pre><code>'S'\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "boto3", "amazon-kinesis"], "comments": [{"owner": {"reputation": 566, "user_id": 9331670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7835f6b419e9af3afc03d3abb712d2e4?s=128&d=identicon&r=PG&f=1", "display_name": "B. Kanani", "link": "https://stackoverflow.com/users/9331670/b-kanani"}, "edited": false, "score": 0, "creation_date": 1598251329, "post_id": 59481174, "comment_id": 112385663, "body": "Thnaks@minghua, This works well. In my case, I want to save the stream. Can you please help me with this if you know how to store stream."}, {"owner": {"reputation": 4514, "user_id": 362754, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4f94dacdb4bdf32a0a48f4a50233dd95?s=128&d=identicon&r=PG", "display_name": "minghua", "link": "https://stackoverflow.com/users/362754/minghua"}, "reply_to_user": {"reputation": 566, "user_id": 9331670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7835f6b419e9af3afc03d3abb712d2e4?s=128&d=identicon&r=PG&f=1", "display_name": "B. Kanani", "link": "https://stackoverflow.com/users/9331670/b-kanani"}, "edited": false, "score": 0, "creation_date": 1599184155, "post_id": 59481174, "comment_id": 112702221, "body": "@B.Kanani , Have you tested this piece of code recently? Since you said it &quot;works well&quot;. Wonder whether you saw the &quot;fragment timestamp missing&quot; issue that Nikhil commented about last year."}, {"owner": {"reputation": 4514, "user_id": 362754, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4f94dacdb4bdf32a0a48f4a50233dd95?s=128&d=identicon&r=PG", "display_name": "minghua", "link": "https://stackoverflow.com/users/362754/minghua"}, "reply_to_user": {"reputation": 566, "user_id": 9331670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7835f6b419e9af3afc03d3abb712d2e4?s=128&d=identicon&r=PG&f=1", "display_name": "B. Kanani", "link": "https://stackoverflow.com/users/9331670/b-kanani"}, "edited": false, "score": 0, "creation_date": 1599184232, "post_id": 59481174, "comment_id": 112702239, "body": "As to your question of &quot;save stream&quot;, not sure what is your context. It should be asked as a separate question, and you should provide more details there."}], "answers": [{"comments": [{"owner": {"reputation": 604, "user_id": 4376402, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3wdD0.jpg?s=128&g=1", "display_name": "Nikhil Pareek", "link": "https://stackoverflow.com/users/4376402/nikhil-pareek"}, "edited": false, "score": 0, "creation_date": 1588187282, "post_id": 59551573, "comment_id": 108807136, "body": "I think u have done a lot of research on it. Thanks."}, {"owner": {"reputation": 604, "user_id": 4376402, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3wdD0.jpg?s=128&g=1", "display_name": "Nikhil Pareek", "link": "https://stackoverflow.com/users/4376402/nikhil-pareek"}, "edited": false, "score": 1, "creation_date": 1588271735, "post_id": 59551573, "comment_id": 108842525, "body": "Unfortunately, this does not work for me. Fragment timestamp is missing in your request"}, {"owner": {"reputation": 4514, "user_id": 362754, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4f94dacdb4bdf32a0a48f4a50233dd95?s=128&d=identicon&r=PG", "display_name": "minghua", "link": "https://stackoverflow.com/users/362754/minghua"}, "reply_to_user": {"reputation": 604, "user_id": 4376402, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/3wdD0.jpg?s=128&g=1", "display_name": "Nikhil Pareek", "link": "https://stackoverflow.com/users/4376402/nikhil-pareek"}, "edited": false, "score": 0, "creation_date": 1590639933, "post_id": 59551573, "comment_id": 109756968, "body": "Do you mean it needs a further fix to include the &quot;fragment timestamp&quot;? It worked when I tested to the server at us-east-2."}], "tags": [], "owner": {"reputation": 4514, "user_id": 362754, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4f94dacdb4bdf32a0a48f4a50233dd95?s=128&d=identicon&r=PG", "display_name": "minghua", "link": "https://stackoverflow.com/users/362754/minghua"}, "is_accepted": false, "score": 3, "last_activity_date": 1577873321, "creation_date": 1577873321, "answer_id": 59551573, "question_id": 59481174, "link": "https://stackoverflow.com/questions/59481174/amazon-aws-kinesis-video-boto-getmedia-putmedia/59551573#59551573", "title": "Amazon AWS Kinesis Video Boto GetMedia/PutMedia", "body": "<p>The code below works. </p>\n\n<p>The code is largely derived from a <a href=\"https://stackoverflow.com/questions/51991401/how-to-implement-amazon-kinesis-putmedia-method-using-python\">previous post How to Implement Amazon Kinesis PutMedia Method using PYTHON</a> and <a href=\"https://stackoverflow.com/questions/52033203/amazon-kinesis-video-putmedia-using-python\">Amazon Kinesis Video PutMedia Using Python</a>. Some of the changes are from monitoring how the kinesis video stream c-producer 2.0.2 works. </p>\n\n<p>The same pair of keys are set twice: once in the way for boto, another by the two special environment variables at the beginning of the code. </p>\n\n<pre><code>your_env_access_key_var = 'AWS_KVS_USER_ACCESS_KEY'\nyour_env_secret_key_var = 'AWS_KVS_USER_SECRET_KEY'\nyour_stream_name = 'my-video-stream-test'\n\ndef get_endpoint_boto():\n    import boto3\n\n    client = boto3.client('kinesisvideo')\n    response = client.get_data_endpoint(\n        StreamName=your_stream_name,\n        APIName='PUT_MEDIA'\n    )\n    pp.pprint(response)\n    endpoint = response.get('DataEndpoint', None)\n    print(\"endpoint %s\" % endpoint)\n    if endpoint is None:\n        raise Exception(\"endpoint none\")\n    return endpoint\n\ndef sign(key, msg):\n    return hmac.new(key, msg.encode(\"utf-8\"), hashlib.sha256).digest()\n\ndef get_signature_key(key, date_stamp, regionName, serviceName):\n    kDate = sign(('AWS4' + key).encode('utf-8'), date_stamp)\n    kRegion = sign(kDate, regionName)\n    kService = sign(kRegion, serviceName)\n    kSigning = sign(kService, 'aws4_request')\n    return kSigning\n\ndef get_host_from_endpoint(endpoint):\n    # u'https://s-123abc78.kinesisvideo.us-east-2.amazonaws.com'\n    if not endpoint.startswith('https://'):\n        return None\n    retv = endpoint[len('https://'):]\n    return str(retv)\n\ndef get_region_from_endpoint(endpoint):\n    # u'https://s-123abc78.kinesisvideo.us-east-2.amazonaws.com'\n    if not endpoint.startswith('https://'):\n        return None\n    retv = endpoint[len('https://'):].split('.')[2]\n    return str(retv)\n\n\nclass gen_request_parameters:\n    def __init__(self):\n        self._data = ''\n        if True:\n            localfile = '6-step_example.webm.360p.webm' # upload ok\n            #localfile = 'big-buck-bunny_trailer.webm' # error fragment duration over limit\n            with open(localfile, 'rb') as image:\n                request_parameters = image.read()\n                self._data = request_parameters\n        self._pointer = 0\n        self._size = len(self._data)\n    def __iter__(self):\n        return self\n    def next(self):\n        if self._pointer &gt;= self._size:\n            raise StopIteration  # signals \"the end\"\n        left = self._size - self._pointer\n        chunksz = 16000\n        if left &lt; 16000:\n            chunksz = left\n        pointer_start = self._pointer\n        self._pointer += chunksz\n        print(\"Data: chunk size %d\" % chunksz)\n        return self._data[pointer_start:self._pointer]\n\n\n# ************* REQUEST VALUES *************\nendpoint = get_endpoint_boto()\n\nmethod = 'POST'\nservice = 'kinesisvideo'\nhost = get_host_from_endpoint(endpoint)\nregion = get_region_from_endpoint(endpoint)\n##endpoint = 'https://**&lt;the endpoint you get with get_data_endpoint&gt;**/PutMedia'\n\nendpoint += '/putMedia'\n\n# POST requests use a content type header. For DynamoDB,\n# the content is JSON.\ncontent_type = 'application/json'\nstart_tmstp = repr(time.time())\n\n# Read AWS access key from env. variables or configuration file. Best practice is NOT\n# to embed credentials in code.\naccess_key = None # '*************************'\nsecret_key = None # '*************************'\nwhile True: # scope\n    k = os.getenv(your_env_access_key_var)\n    if k is not None and type(k) is str and k.startswith('AKIA5'):\n        access_key = k\n    k = os.getenv(your_env_secret_key_var)\n    if k is not None and type(k) is str and len(k) &gt; 4:\n        secret_key = k\n    break # scope\nif access_key is None or secret_key is None:\n    print('No access key is available.')\n    sys.exit()\n\n# Create a date for headers and the credential string\nt = datetime.datetime.utcnow()\namz_date = t.strftime('%Y%m%dT%H%M%SZ')\ndate_stamp = t.strftime('%Y%m%d')  # Date w/o time, used in credential scope\n\n# ************* TASK 1: CREATE A CANONICAL REQUEST *************\n# http://docs.aws.amazon.com/general/latest/gr/sigv4-create-canonical-request.html\n\n# Step 1 is to define the verb (GET, POST, etc.)--already done.\n\n# Step 2: Create canonical URI--the part of the URI from domain to query\n# string (use '/' if no path)\n##canonical_uri = '/'\ncanonical_uri = '/putMedia' #endpoint[len('https://'):]\n\n## Step 3: Create the canonical query string. In this example, request\n# parameters are passed in the body of the request and the query string\n# is blank.\ncanonical_querystring = ''\n\n# Step 4: Create the canonical headers. Header names must be trimmed\n# and lowercase, and sorted in code point order from low to high.\n# Note that there is a trailing \\n.\n#'host:' + host + '\\n' +\ncanonical_headers = ''\n#canonical_headers += 'Accept: */*\\r\\n'\ncanonical_headers += 'connection:keep-alive\\n'\ncanonical_headers += 'content-type:application/json\\n'\ncanonical_headers += 'host:' + host + '\\n'\ncanonical_headers += 'transfer-encoding:chunked\\n'\n#canonical_headers += 'x-amz-content-sha256: ' + 'UNSIGNED-PAYLOAD' + '\\r\\n'\ncanonical_headers += 'user-agent:AWS-SDK-KVS/2.0.2 GCC/7.4.0 Linux/4.15.0-46-generic x86_64\\n'\ncanonical_headers += 'x-amz-date:' + amz_date + '\\n'\ncanonical_headers += 'x-amzn-fragment-acknowledgment-required:1\\n'\ncanonical_headers += 'x-amzn-fragment-timecode-type:ABSOLUTE\\n'\ncanonical_headers += 'x-amzn-producer-start-timestamp:' + start_tmstp + '\\n'\ncanonical_headers += 'x-amzn-stream-name:' + your_stream_name + '\\n'\n\n# Step 5: Create the list of signed headers. This lists the headers\n# in the canonical_headers list, delimited with \";\" and in alpha order.\n# Note: The request can include any headers; canonical_headers and\n# signed_headers include those that you want to be included in the\n# hash of the request. \"Host\" and \"x-amz-date\" are always required.\n# For DynamoDB, content-type and x-amz-target are also required.\n#\n#in original sample  after x-amz-date :  + 'x-amz-target;'\nsigned_headers = 'connection;content-type;host;transfer-encoding;user-agent;'\nsigned_headers += 'x-amz-date;x-amzn-fragment-acknowledgment-required;'\nsigned_headers += 'x-amzn-fragment-timecode-type;x-amzn-producer-start-timestamp;x-amzn-stream-name'\n\n# Step 6: Create payload hash. In this example, the payload (body of\n# the request) contains the request parameters.\n\n# Step 7: Combine elements to create canonical request\ncanonical_request = method + '\\n' + canonical_uri + '\\n' + canonical_querystring + '\\n' + canonical_headers + '\\n' + signed_headers\ncanonical_request += '\\n'\ncanonical_request += hashlib.sha256(''.encode('utf-8')).hexdigest()\n\n# ************* TASK 2: CREATE THE STRING TO SIGN*************\n# Match the algorithm to the hashing algorithm you use, either SHA-1 or\n# SHA-256 (recommended)\nalgorithm = 'AWS4-HMAC-SHA256'\ncredential_scope = date_stamp + '/' + region + '/' + service + '/' + 'aws4_request'\nstring_to_sign = algorithm + '\\n' + amz_date + '\\n' + credential_scope + '\\n' + hashlib.sha256(\n    canonical_request.encode('utf-8')).hexdigest()\n\n# ************* TASK 3: CALCULATE THE SIGNATURE *************\n# Create the signing key using the function defined above.\nsigning_key = get_signature_key(secret_key, date_stamp, region, service)\n\n# Sign the string_to_sign using the signing_key\nsignature = hmac.new(signing_key, (string_to_sign).encode('utf-8'),\n                     hashlib.sha256).hexdigest()\n\n# ************* TASK 4: ADD SIGNING INFORMATION TO THE REQUEST *************\n# Put the signature information in a header named Authorization.\nauthorization_header = algorithm + ' ' + 'Credential=' + access_key + '/' + credential_scope + ', '\nauthorization_header += 'SignedHeaders=' + signed_headers + ', ' + 'Signature=' + signature\n\n# # Python note: The 'host' header is added automatically by the Python 'requests' library.\nheaders = {\n    'Accept': '*/*',\n    'Authorization': authorization_header,\n    'connection': 'keep-alive',\n    'content-type': content_type,\n    #'host': host,\n    'transfer-encoding': 'chunked',\n    # 'x-amz-content-sha256': 'UNSIGNED-PAYLOAD',\n    'user-agent': 'AWS-SDK-KVS/2.0.2 GCC/7.4.0 Linux/4.15.0-46-generic x86_64',\n    'x-amz-date': amz_date,\n    'x-amzn-fragment-acknowledgment-required': '1',\n    'x-amzn-fragment-timecode-type': 'ABSOLUTE',\n    'x-amzn-producer-start-timestamp': start_tmstp,\n    'x-amzn-stream-name': your_stream_name,\n    'Expect': '100-continue'\n}\n\n# ************* SEND THE REQUEST *************\nprint('\\nBEGIN REQUEST++++++++++++++++++++++++++++++++++++')\nprint('Request URL = ' + endpoint)\n\nr = requests.post(endpoint, data=gen_request_parameters(), headers=headers)\n\nprint('\\nRESPONSE++++++++++++++++++++++++++++++++++++')\nprint('Response code: %d\\n' % r.status_code)\nprint(r.text)\n</code></pre>\n"}], "owner": {"reputation": 4514, "user_id": 362754, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/4f94dacdb4bdf32a0a48f4a50233dd95?s=128&d=identicon&r=PG", "display_name": "minghua", "link": "https://stackoverflow.com/users/362754/minghua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1430, "favorite_count": 0, "protected_date": 1612335715, "answer_count": 1, "score": 2, "last_activity_date": 1612334583, "creation_date": 1577300864, "last_edit_date": 1577417747, "question_id": 59481174, "link": "https://stackoverflow.com/questions/59481174/amazon-aws-kinesis-video-boto-getmedia-putmedia", "title": "Amazon AWS Kinesis Video Boto GetMedia/PutMedia", "body": "<p>Does anybody know of a complete sample as to how to send video to a kinesis video stream, using boto3 sdk? </p>\n\n<p>This question was asked initially for both both GetMedia and PutMedia. Now I have got this sample code for the GetMedia part: </p>\n\n<pre><code>client = boto3.client('kinesisvideo')\nresponse = client.get_data_endpoint(\n    StreamName='my-test-stream',\n    APIName='GET_MEDIA'\n)\nprint(response)\nendpoint = response.get('DataEndpoint', None)\nprint(\"endpoint %s\" % endpoint)\n\nif endpoint is not None:\n    client2 = boto3.client('kinesis-video-media', endpoint_url=endpoint)\n    response = client2.get_media(\n        StreamName='my-test-stream',\n        StartSelector={\n            'StartSelectorType': 'EARLIEST',\n        }\n    )\n    print(response)\n\n    stream = response['Payload'] # botocore.response.StreamingBody object\n    while True:\n            ret, frame = stream.read()\n            print(\" stream type ret %s frame %s\" % (type(ret), type(frame)))\n</code></pre>\n\n<p>How do you to the PutMedia? From a previous post \"<a href=\"https://stackoverflow.com/questions/49713393/amazon-kinesis-video-getmedia-putmedia\">Amazon Kinesis Video GetMedia/PutMedia</a>\", it looks like you have to construct your own url request for a PutMedia. Is that the case? If it is, can someone share a complete sample?</p>\n"}, {"tags": ["python", "word-cloud"], "comments": [{"owner": {"reputation": 508, "user_id": 12554701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4250a20bbd97f8955758bc0b964fadb6?s=128&d=identicon&r=PG&f=1", "display_name": "Axblert", "link": "https://stackoverflow.com/users/12554701/axblert"}, "edited": false, "score": 2, "creation_date": 1577300745, "post_id": 59481148, "comment_id": 105138984, "body": "please share the code you have so we can suggest where it went wrong"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1577305083, "post_id": 59481148, "comment_id": 105139665, "body": "where is your code? What module do you use to create word cloud? Did you read documentation for this module?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12596911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4cbceb8d80e00f5f672ce6ec84f1776?s=128&d=identicon&r=PG&f=1", "display_name": "Pardon", "link": "https://stackoverflow.com/users/12596911/pardon"}, "edited": false, "score": 0, "creation_date": 1578400650, "post_id": 59481626, "comment_id": 105419057, "body": "Thank you very much. Yes, my question has been answered"}], "tags": [], "owner": {"reputation": 36473, "user_id": 12046409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRhI.jpg?s=128&g=1", "display_name": "JohanC", "link": "https://stackoverflow.com/users/12046409/johanc"}, "is_accepted": true, "score": 0, "last_activity_date": 1577307224, "last_edit_date": 1577307224, "creation_date": 1577305566, "answer_id": 59481626, "question_id": 59481148, "link": "https://stackoverflow.com/questions/59481148/how-to-use-the-item-price-as-the-text-frequency-in-a-wordcloud/59481626#59481626", "title": "How to use the item price as the text frequency in a wordcloud?", "body": "<p>You need to add an extra space, so the words get separated.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ndf = pd.DataFrame({'Category': ['Dog', 'Cow', 'Goat'], 'Price': [3, 4, 5] })\n\ntext = ''\nfor index, row in df.iterrows():\n    text += (row['Category'] + ' ') * row['Price']\nprint(text)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Dog Dog Dog Cow Cow Cow Cow Goat Goat Goat Goat Goat \n</code></pre>\n\n<p>Here is a more extended example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nfrom matplotlib import pyplot as plt\nfrom wordcloud import WordCloud\n\ndf = pd.DataFrame({'Category': ['Apple', 'Pear', 'Lemon', 'Pineapple', 'Nut', 'Banana', 'Grape', 'Orange', 'Plum' ],\n                   'Price':    [500,     1000,   650,     800,         3000,  900,      1100,    900,      1400   ]})\n\ntext = ''\nfor row in df.itertuples():\n    text += (row.Category + ' ') * row.Price\n\nwordcloud = WordCloud(\n    width=800,height=800,\n    min_font_size = 10,\n    background_color='gold',\n    collocations=False\n).generate(text)\n\n# plot the WordCloud image\nplt.figure(figsize = (8, 8), facecolor=None)\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.tight_layout(pad = 0)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/57VkN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57VkN.png\" alt=\"example wordcloud\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 12596911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4cbceb8d80e00f5f672ce6ec84f1776?s=128&d=identicon&r=PG&f=1", "display_name": "Pardon", "link": "https://stackoverflow.com/users/12596911/pardon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 59481626, "answer_count": 1, "score": 0, "last_activity_date": 1577307224, "creation_date": 1577300657, "last_edit_date": 1577305744, "question_id": 59481148, "link": "https://stackoverflow.com/questions/59481148/how-to-use-the-item-price-as-the-text-frequency-in-a-wordcloud", "title": "How to use the item price as the text frequency in a wordcloud?", "body": "<p>I have the following dataframe and need to use a wordcloud for analysis in python:</p>\n\n<pre><code>    Category Price\n    Dog      500\n    Cow      1000\n    Goat     650\n</code></pre>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame({'Category': ['Dog', 'Cow', 'Goat'], 'Price': [500, 1000, 650] })\n</code></pre>\n\n<p>How do I write the code so that \"Cow\" is the largest text, followed by \"Goat\" etc. I tried creating 2 arrays: Category and Price, then multiplying the two and using the result as the text. However, the resulting array comes as \"DogDogDog...\" and \"Goatgoatgoat\" which is not what I want. Kindly assist.</p>\n"}, {"tags": ["python", "python-3.x", "asynchronous", "python-asyncio", "aiohttp"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 2, "creation_date": 1577300413, "post_id": 59481105, "comment_id": 105138921, "body": "When posting a question about code that produces an Exception, always include the complete Traceback - copy and paste it then format it as code (select it and type <code>ctrl-k</code>)"}, {"owner": {"reputation": 154, "user_id": 7657046, "user_type": "registered", "profile_image": "https://graph.facebook.com/389921781385473/picture?type=large", "display_name": "user7657046", "link": "https://stackoverflow.com/users/7657046/user7657046"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1577300622, "post_id": 59481105, "comment_id": 105138971, "body": "will keep that in mind.Added a traceback"}, {"owner": {"reputation": 883, "user_id": 9241362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bN6hJ.jpg?s=128&g=1", "display_name": "oetzi", "link": "https://stackoverflow.com/users/9241362/oetzi"}, "edited": false, "score": 0, "creation_date": 1577302021, "post_id": 59481105, "comment_id": 105139190, "body": "alter line where request called as loop.run_until_complete(request()). you will encounter BeautifulSoup related issue when fixed but that is bs4 library related. it would be better to comment out entire parse function body and see if it works without any other dependency."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1577302295, "post_id": 59481105, "comment_id": 105139232, "body": "Did you try refactoring like the <a href=\"https://aiohttp.readthedocs.io/en/stable/#getting-started\" rel=\"nofollow noreferrer\">client example in the aiohttp docs</a>?"}], "answers": [{"comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "reply_to_user": {"reputation": 154, "user_id": 7657046, "user_type": "registered", "profile_image": "https://graph.facebook.com/389921781385473/picture?type=large", "display_name": "user7657046", "link": "https://stackoverflow.com/users/7657046/user7657046"}, "edited": false, "score": 0, "creation_date": 1577303814, "post_id": 59481376, "comment_id": 105139445, "body": "correction:: <code>aiohttp.ClientResponse</code> not <code>aiohttp.response</code>"}, {"owner": {"reputation": 154, "user_id": 7657046, "user_type": "registered", "profile_image": "https://graph.facebook.com/389921781385473/picture?type=large", "display_name": "user7657046", "link": "https://stackoverflow.com/users/7657046/user7657046"}, "edited": false, "score": 0, "creation_date": 1577303963, "post_id": 59481376, "comment_id": 105139477, "body": "Yeah i changed my code and it works now.I would not have noticed not placing the brackets after request if you did not point that out.Thanks again big time!"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "reply_to_user": {"reputation": 154, "user_id": 7657046, "user_type": "registered", "profile_image": "https://graph.facebook.com/389921781385473/picture?type=large", "display_name": "user7657046", "link": "https://stackoverflow.com/users/7657046/user7657046"}, "edited": false, "score": 0, "creation_date": 1577304056, "post_id": 59481376, "comment_id": 105139496, "body": "@user7657046 There is a caveat in the <a href=\"https://aiohttp.readthedocs.io/en/stable/client_quickstart.html\" rel=\"nofollow noreferrer\">Client Quickstart</a> page about making a new ClientSession object for each request. You may want to factor that into your app."}, {"owner": {"reputation": 154, "user_id": 7657046, "user_type": "registered", "profile_image": "https://graph.facebook.com/389921781385473/picture?type=large", "display_name": "user7657046", "link": "https://stackoverflow.com/users/7657046/user7657046"}, "edited": false, "score": 0, "creation_date": 1577305065, "post_id": 59481376, "comment_id": 105139662, "body": "I will incorporate that into my code.Thanks for your suggestion,once again."}], "tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": true, "score": 11, "last_activity_date": 1577305698, "last_edit_date": 1577305698, "creation_date": 1577302995, "answer_id": 59481376, "question_id": 59481105, "link": "https://stackoverflow.com/questions/59481105/typeerror-an-asyncio-future-a-coroutine-or-an-awaitable-is-required/59481376#59481376", "title": "TypeError: An asyncio.Future, a coroutine or an awaitable is required", "body": "<p>One issue is that <code>loop.run_until_complete(request)</code> should be <code>loop.run_until_complete(request())</code> - You actually have to call it for it to return a coroutine.  </p>\n\n<p>There are further problems - like you are passing an <code>aiohttp.ClientResponse</code> object to <code>parse</code> and treating it as text/html. I got it to work with the following but don't know if it fits your needs because  <code>parse</code> is no longer a coroutine.</p>\n\n<pre><code>def parse(page):\n    soup=bs4.BeautifulSoup(page,'html.parser')\n    soup.prettify()\n    return soup.title\n\nasync def fetch(session, url):\n    async with session.get(url) as response:\n        return await response.text()\n\nasync def request():\n    async with aiohttp.ClientSession() as session:\n        html = await fetch(session, \"https://google.com\")\n        print(parse(html))\n\nif __name__ == '__main__':\n    loop=asyncio.get_event_loop()\n    loop.run_until_complete(request())\n</code></pre>\n\n<hr>\n\n<p>This also works:</p>\n\n<pre><code>def parse(page):\n    soup=bs4.BeautifulSoup(page,'html.parser')\n    soup.prettify()\n    print(soup.title)\n\nasync def request():\n    async with aiohttp.ClientSession() as session:\n        async with session.get(\"https://google.com\") as resp:\n            parse(await resp.text())\n</code></pre>\n\n<hr>\n\n<p><strong>And finally</strong>, your original code, passing an awaitable response object to <code>parse</code> then awaiting for <code>page.text()</code>.</p>\n\n<pre><code>async def parse(page):\n    soup=bs4.BeautifulSoup(await page.text(),'html.parser')\n    soup.prettify()\n    print(soup.title)\n\nasync def request():\n    async with aiohttp.ClientSession() as session:\n        async with session.get(\"https://google.com\") as resp:\n            await parse(resp)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 7657046, "user_type": "registered", "profile_image": "https://graph.facebook.com/389921781385473/picture?type=large", "display_name": "user7657046", "link": "https://stackoverflow.com/users/7657046/user7657046"}, "is_accepted": false, "score": 2, "last_activity_date": 1577303874, "creation_date": 1577303874, "answer_id": 59481463, "question_id": 59481105, "link": "https://stackoverflow.com/questions/59481105/typeerror-an-asyncio-future-a-coroutine-or-an-awaitable-is-required/59481463#59481463", "title": "TypeError: An asyncio.Future, a coroutine or an awaitable is required", "body": "<p>I changed my code to this and it works now.</p>\n\n<pre><code>import bs4\nimport asyncio\nimport aiohttp\n\n\nasync def parse(page):\n    soup=bs4.BeautifulSoup(page,'html.parser')\n    soup.prettify()\n    print(soup.title)\n\n\n\nasync def request():\n    async with aiohttp.ClientSession() as session:\n        async with session.get(\"https://google.com\") as resp:\n            html=await resp.text()\n            await parse(html)\n\n\n\nloop=asyncio.get_event_loop()\nloop.run_until_complete(request())\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 7657046, "user_type": "registered", "profile_image": "https://graph.facebook.com/389921781385473/picture?type=large", "display_name": "user7657046", "link": "https://stackoverflow.com/users/7657046/user7657046"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9840, "favorite_count": 0, "accepted_answer_id": 59481376, "answer_count": 2, "score": 7, "last_activity_date": 1577305698, "creation_date": 1577300125, "last_edit_date": 1577301352, "question_id": 59481105, "link": "https://stackoverflow.com/questions/59481105/typeerror-an-asyncio-future-a-coroutine-or-an-awaitable-is-required", "title": "TypeError: An asyncio.Future, a coroutine or an awaitable is required", "body": "<p>I'm trying to make an asynchronous web scraper using beautifulsoup and aiohttp.This is my initial code to start things.I'm getting a [TypeError: An asyncio.Future, a coroutine or an awaitable is required] and having a hard time figuring out what is wrong with my code.I am new to python and would appreciate any help regarding this.</p>\n\n<pre><code>import bs4\nimport asyncio\nimport aiohttp\n\n\nasync def parse(page):\n    soup=bs4.BeautifulSoup(page,'html.parser')\n    soup.prettify()\n    print(soup.title)\n\n\n\nasync def request():\n    async with aiohttp.ClientSession() as session:\n        async with session.get(\"https://google.com\") as resp:\n            await parse(resp)\n\n\n\nloop=asyncio.get_event_loop()\nloop.run_until_complete(request)\n</code></pre>\n\n<p>Traceback:-</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\User\\Desktop\\Bot\\aio-req\\parser.py\", line 21, in &lt;module&gt;\n    loop.run_until_complete(request)\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\base_events.py\", line 591, in run_until_complete\n    future = tasks.ensure_future(future, loop=self)\n  File \"C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\asyncio\\tasks.py\", line 673, in ensure_future\n    raise TypeError('An asyncio.Future, a coroutine or an awaitable is '\nTypeError: An asyncio.Future, a coroutine or an awaitable is required\n</code></pre>\n"}, {"tags": ["python", "pyspark", "rdd", "pyspark-sql", "apache-spark-mllib"], "owner": {"reputation": 661, "user_id": 4123749, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9b1c84914176fbdf0a0a835ca7420c9?s=128&d=identicon&r=PG&f=1", "display_name": "Odisseo", "link": "https://stackoverflow.com/users/4123749/odisseo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577299964, "creation_date": 1577299964, "question_id": 59481089, "link": "https://stackoverflow.com/questions/59481089/pyspark-row-with-label-and-features-vs-labeledpoint", "title": "PySpark Row with Label and Features vs LabeledPoint", "body": "<p>I saw a PySpark Spark SQL example where this syntax is being used to do something similar to what creating a LabeledPoint in Spark Mllib does:</p>\n\n<pre><code>from pyspark.sql import Row\nfrom pyspark.mllib.linalg import Vectors\n\nrdd2 = rdd1.map(lambda x: Row(label=float(x[-1]), features=Vectors.dense(x[:-1]))\n\nrdd2.take(2)\n\n[Row(features=DenseVector([540.0, 0.0, 0.0, 162.0, 2.5, 1040.0, 676.0, 28.0]), label=79.99),\n Row(features=DenseVector([540.0, 0.0, 0.0, 162.0, 2.5, 1055.0, 676.0, 28.0]), label=61.89)]\n</code></pre>\n\n<p>The alternative method with Spark Mllib is:</p>\n\n<pre><code>from pyspark.mllib.regression import LabeledPoint\n\nrdd3 = rdd1.map(lambda x: LebeledPoint(label=float(x[-1]), features=Vectors.dense(x[:-1])))\n\nrdd3.take(2)\n\n[LabeledPoint(79.99, [540.0,0.0,0.0,162.0,2.5,1040.0,676.0,28.0]),\n LabeledPoint(61.89, [540.0,0.0,0.0,162.0,2.5,1055.0,676.0,28.0])]\n</code></pre>\n\n<p>I was wondering if there is any difference to these two examples and whether if one is better than the other?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1577299980, "post_id": 59481068, "comment_id": 105138834, "body": "can you add an example of your query ??"}, {"owner": {"reputation": 27, "user_id": 8878069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--LdMgDM6CnY/AAAAAAAAAAI/AAAAAAAAAKY/dBgv1iQJKAQ/photo.jpg?sz=128", "display_name": "Abhishek S", "link": "https://stackoverflow.com/users/8878069/abhishek-s"}, "reply_to_user": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1577300510, "post_id": 59481068, "comment_id": 105138943, "body": "create table demo values(id integer,name text)"}, {"owner": {"reputation": 27, "user_id": 8878069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--LdMgDM6CnY/AAAAAAAAAAI/AAAAAAAAAKY/dBgv1iQJKAQ/photo.jpg?sz=128", "display_name": "Abhishek S", "link": "https://stackoverflow.com/users/8878069/abhishek-s"}, "reply_to_user": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1577300524, "post_id": 59481068, "comment_id": 105138946, "body": "select * from demo"}, {"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1577300895, "post_id": 59481068, "comment_id": 105139005, "body": "try firts in your code to create the table and insert data before the select"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 1, "creation_date": 1577302029, "post_id": 59481068, "comment_id": 105139192, "body": "When you inserted data did you finish up with a commit?"}, {"owner": {"reputation": 1533, "user_id": 10569027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dPPb9.jpg?s=128&g=1", "display_name": "GiovaniSalazar", "link": "https://stackoverflow.com/users/10569027/giovanisalazar"}, "edited": false, "score": 0, "creation_date": 1577302307, "post_id": 59481068, "comment_id": 105139237, "body": "pls , add how you are inserting your data in your code"}], "owner": {"reputation": 27, "user_id": 8878069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--LdMgDM6CnY/AAAAAAAAAAI/AAAAAAAAAKY/dBgv1iQJKAQ/photo.jpg?sz=128", "display_name": "Abhishek S", "link": "https://stackoverflow.com/users/8878069/abhishek-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1577301272, "creation_date": 1577299725, "last_edit_date": 1577301272, "question_id": 59481068, "link": "https://stackoverflow.com/questions/59481068/database-connectivity-with-sqlite3", "title": "DataBase connectivity with sqlite3", "body": "<p>I connected sqlite it's successful. Even inserted data into table but while trying to fetch and print nothing showing.</p>\n\n<pre><code>import sqlite3\nfrom sqlite3 import Error\ndef db_connect(db_file):\n     try:\n        conn=sqlite3.connect(db_file)\n        return conn\n     except Error as e:\n        print(e)\n     return conn\n\ndef db_operation(conn,str):\n try:\n\n    c=conn.cursor()\n    c.execute(str)\n    res=c.fetchall()\n    for i in res:\n        print(i)\nexcept Error as e:\n    print(e)\nreturn res\n\n\nif __name__=='__main__':\n    database=r'E:\\sqlite\\test.db'\n    conn=db_connect(database)\n    if conn:\n       print(\"enter the query\")\n       str=input()\n       res=db_operation(conn,str)\n</code></pre>\n"}]