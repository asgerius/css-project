[{"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1485388700, "post_id": 41863850, "comment_id": 70911317, "body": "Because <code>[]</code> is a literal."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1485388775, "post_id": 41863850, "comment_id": 70911341, "body": "@martineau I read the question too quickly and misunderstood. The OP is asking about overriding literal syntax."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1485388815, "post_id": 41863850, "comment_id": 70911352, "body": "So, you could hack the syntax tree to achieve this, maybe, but it sounds like a lot of effort for very little reward."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1485388870, "post_id": 41863850, "comment_id": 70911372, "body": "So, see for example here: <a href=\"http://stackoverflow.com/questions/7878933/override-the-notation-so-i-get-an-ordereddict-instead-of-a-dict/37259917\" title=\"override the notation so i get an ordereddict instead of a dict\">stackoverflow.com/questions/7878933/&hellip;</a>"}, {"owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1485389028, "post_id": 41863850, "comment_id": 70911421, "body": "ah ok so literals can&#39;t be overwritten?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1485389170, "post_id": 41863850, "comment_id": 70911459, "body": "See the link I posted previously."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1485390616, "post_id": 41863850, "comment_id": 70911879, "body": "Assigning to <code>__builtin__</code> variables will never affect the Python language internals the way you&#39;re hoping. The <code>__builtin__</code> module is simply the standard fallback for global variable lookup, and assignments to <code>__builtin__</code> variables can only affect global variable lookup. Evaluating literals like <code>[1, 2, 3, 4, 5]</code> involves no global variable lookup."}], "answers": [{"tags": [], "owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "is_accepted": true, "score": 2, "last_activity_date": 1485389645, "creation_date": 1485389645, "answer_id": 41864032, "question_id": 41863850, "link": "https://stackoverflow.com/questions/41863850/how-to-use-with-a-custom-builtin-list/41864032#41864032", "title": "How to use [] with a custom __builtin__ list?", "body": "<p>If you check how <code>[]</code> is handled by CPython interprerter with <code>dis</code> module, you would see that it spawns <code>BUILD_LIST</code> instruction:</p>\n\n<pre><code>&gt;&gt;&gt; def x():\n...     x = [1,2]\n... \n&gt;&gt;&gt; dis.dis(x)\n  2           0 LOAD_CONST               1 (1)\n              3 LOAD_CONST               2 (2)\n              6 BUILD_LIST               2\n              9 STORE_FAST               0 (x)\n             12 LOAD_CONST               0 (None)\n             15 RETURN_VALUE\n</code></pre>\n\n<p>The corresponding instruction triggers direct call to C function <code>PyList_New</code> (it is handled in ceval.c):</p>\n\n<pre><code>2202        case BUILD_LIST:\n2203            x =  PyList_New(oparg);\n</code></pre>\n\n<p>I think that if CPython would search <code>list</code> constructor in <code>__builtin__</code> pseudo-module each time <code>[]</code> are used in source, it would be much slower, so this behavior can be considered an optimization. </p>\n\n<p>So what you asking is not achievable in vanilla CPython.</p>\n"}], "owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 41864032, "answer_count": 1, "score": 3, "last_activity_date": 1485391627, "creation_date": 1485388488, "last_edit_date": 1485391627, "question_id": 41863850, "link": "https://stackoverflow.com/questions/41863850/how-to-use-with-a-custom-builtin-list", "title": "How to use [] with a custom __builtin__ list?", "body": "<p>I'm trying to understand how <code>__builtin__</code> works in Python. My code is as follows:</p>\n\n<pre><code>import __builtin__\n\nclass MyList(list):\n    pass\n\n__builtin__.list = MyList\n\na = [1,2,3,4,5]\nb = list([1,2,3,4,5])\n\nprint 'A: ', type(a)\nprint 'B: ', type(b)\n</code></pre>\n\n<p>When I print the types of both of the lists, I get:</p>\n\n<pre><code>A:  &lt;type 'list'&gt;\nB:  &lt;class '__main__.MyList'&gt;\n</code></pre>\n\n<p>Why aren't both lists of type <code>MyList</code> and how can I achieve that <code>[]</code> syntax would also be of type <code>MyList</code>?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1485390400, "post_id": 41863817, "comment_id": 70911803, "body": "That&#39;s not an error.  It&#39;s the default way of printing an object.  Your code has a lot more problems than that, though."}, {"owner": {"reputation": 43, "user_id": 7470578, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/567385d1c9554a687f0846bbb8c4f5bb?s=128&d=identicon&r=PG&f=1", "display_name": "bin", "link": "https://stackoverflow.com/users/7470578/bin"}, "reply_to_user": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1485391514, "post_id": 41863817, "comment_id": 70912093, "body": "could you please tell me the problem in this program, your correction is very important for me"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1485392200, "post_id": 41863817, "comment_id": 70912246, "body": "It&#39;s because your <code>ListNode</code> class has neither a <code>__str__</code> nor <code>__repr__</code> method, so <code>print()</code> doesn&#39;t know how to what to do so it defaults to what you&#39;re seeing (which technically isn&#39;t an error, it has nothing to do with entering values from the keyboard...it just happens to not be what you apparently want)."}, {"owner": {"reputation": 43, "user_id": 7470578, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/567385d1c9554a687f0846bbb8c4f5bb?s=128&d=identicon&r=PG&f=1", "display_name": "bin", "link": "https://stackoverflow.com/users/7470578/bin"}, "edited": false, "score": 0, "creation_date": 1485394923, "post_id": 41863817, "comment_id": 70912921, "body": "Then what I should to print the value of the ListNode, how to write the code"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1485440093, "post_id": 41863817, "comment_id": 70932459, "body": "Look up  <b>str</b> in the docs. <a href=\"https://docs.python.org/3.6/library/stdtypes.html?highlight=__str__#str\" rel=\"nofollow noreferrer\">docs.python.org/3.6/library/stdtypes.html?highlight=__str__#&zwnj;&#8203;str</a>  It should return a string that represents the list as you want it to be printed.  You can write it recursively."}], "owner": {"reputation": 43, "user_id": 7470578, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/567385d1c9554a687f0846bbb8c4f5bb?s=128&d=identicon&r=PG&f=1", "display_name": "bin", "link": "https://stackoverflow.com/users/7470578/bin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1485391944, "creation_date": 1485388313, "last_edit_date": 1485391944, "question_id": 41863817, "link": "https://stackoverflow.com/questions/41863817/entering-lists-values-from-keyboard-main-listnode-error", "title": "Entering list&#39;s values from keyboard: &lt;__main__.ListNode&gt; error", "body": "<p>I'm writing a python program to merge two sorted lists. However when running this program, while trying to enter their values from the keyboard, it produces the error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;__main__.ListNode object at 0x000002D68AD6FFD0&gt;\n</code></pre>\n\n<p>The program is:</p>\n\n<pre><code>class ListNode(object):\n    def __init__(self,x):\n        self.val = x\n        self.next = None\n\nclass MergeTwoLists(object):\n    def mergeTwoLists(self,l1,l2):\n        if not l1 or not l2:\n            return l1 or l2\n        if l1.val &lt; l2.val:\n            l1.next = self.mergeTwoLists(l1.next,l2)\n            return l1\n        else:\n            l2.next = self.mergeTwoLists(l1,l2.next)\n            return l2\n\n#input the two integer lists\nlist1 = []\nfor i in range(0,6):\n    list1.append(input(\"enter a integer of list1:\"))\nhead = ListNode(list1[0])\np = head\nfor j in list1[1:]:\n    node = ListNode(j)\n    p.next = node\n    p = p.next\nl1 = head\n\nlist2 = []\nfor i in range(0,6):\n    list2.append(input(\"enter an integer of list2:\"))\nhead = ListNode(list2[0])\np = head\nfor j in list2[1:]:\n    node = ListNode(j)\n    p.next = node\n    p = p.next\nl2 = head\n\nlist_result = MergeTwoLists().mergeTwoLists(l1,l2)\nprint(\"the list result:\")\nprint(list_result)\n</code></pre>\n\n<p>Could someone please help me with this problem?</p>\n"}, {"tags": ["python", "statistics", "tensorflow", "entropy"], "answers": [{"comments": [{"owner": {"reputation": 889, "user_id": 5540330, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5544940cc1a3d478069054a27c21cc14?s=128&d=identicon&r=PG&f=1", "display_name": "Transcendental", "link": "https://stackoverflow.com/users/5540330/transcendental"}, "edited": false, "score": 0, "creation_date": 1485390785, "post_id": 41864069, "comment_id": 70911911, "body": "KL divergence must be 0 when  <code>prob_a</code> = <code>prob_b</code>. But last line doesn&#39;t give 0."}, {"owner": {"reputation": 104, "user_id": 4751105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jf532.jpg?s=128&g=1", "display_name": "E.J. White", "link": "https://stackoverflow.com/users/4751105/e-j-white"}, "reply_to_user": {"reputation": 889, "user_id": 5540330, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5544940cc1a3d478069054a27c21cc14?s=128&d=identicon&r=PG&f=1", "display_name": "Transcendental", "link": "https://stackoverflow.com/users/5540330/transcendental"}, "edited": false, "score": 0, "creation_date": 1485502016, "post_id": 41864069, "comment_id": 70959763, "body": "Yes, it does. When <code>prob_a = prob_b</code>, we get <code>y = 1</code>. Then, <code>H(prob_a, y)</code> is zero from <code>log(y)</code>. Are you saying you checked it using Tensorflow&#39;s <code>softmax_cross_entropy_with_logits(prob_a, y)</code> and the result was not zero?"}, {"owner": {"reputation": 889, "user_id": 5540330, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5544940cc1a3d478069054a27c21cc14?s=128&d=identicon&r=PG&f=1", "display_name": "Transcendental", "link": "https://stackoverflow.com/users/5540330/transcendental"}, "edited": false, "score": 1, "creation_date": 1485515824, "post_id": 41864069, "comment_id": 70967300, "body": "Exactly. TensorFlow&#39;s implementation might be slightly different than the actual formula."}, {"owner": {"reputation": 877, "user_id": 1134366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/951b5fc25b8a3d668a74da457f1caa77?s=128&d=identicon&r=PG", "display_name": "shapecatcher", "link": "https://stackoverflow.com/users/1134366/shapecatcher"}, "edited": false, "score": 2, "creation_date": 1566307038, "post_id": 41864069, "comment_id": 101609345, "body": "Worth pointing out that softmax_cross_entropy_with_logits(prob_a,y) does not actually implement H(prob_a,y), it implements H(softmax(a),y). So using softmax_cross_entropy_with_logits will only work if you try to calculate the KL divergence on the activations of a softmax function (prob_a) and have access to the unscaled logits (a)"}], "tags": [], "owner": {"reputation": 104, "user_id": 4751105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jf532.jpg?s=128&g=1", "display_name": "E.J. White", "link": "https://stackoverflow.com/users/4751105/e-j-white"}, "is_accepted": false, "score": 5, "last_activity_date": 1485395084, "last_edit_date": 1485395084, "creation_date": 1485389887, "answer_id": 41864069, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow/41864069#41864069", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p>I'm not sure why it's not implemented, but perhaps there is a workaround. The KL divergence is defined as:</p>\n\n<p><code>KL(prob_a, prob_b) = Sum(prob_a * log(prob_a/prob_b))</code></p>\n\n<p>The cross entropy H, on the other hand, is defined as:</p>\n\n<p><code>H(prob_a, prob_b) = -Sum(prob_a * log(prob_b))</code></p>\n\n<p>So, if you create a variable <code>y = prob_a/prob_b</code>, you could obtain the KL divergence by calling negative <code>H(proba_a, y)</code>. In Tensorflow notation, something like:</p>\n\n<p><code>KL = tf.reduce_mean(-tf.nn.softmax_cross_entropy_with_logits(prob_a, y))</code></p>\n"}, {"comments": [{"owner": {"reputation": 2373, "user_id": 1516331, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ff849189a159031ae4338fb1787cde74?s=128&d=identicon&r=PG&f=1", "display_name": "CyberPlayerOne", "link": "https://stackoverflow.com/users/1516331/cyberplayerone"}, "edited": false, "score": 0, "creation_date": 1550743453, "post_id": 44815939, "comment_id": 96385076, "body": "There are cases where target probability <code>prob_a</code> changes during the optimisation. Then it becomes not constant."}], "tags": [], "owner": {"reputation": 71, "user_id": 7433574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80880ad3ca586c1c63c81acdcedb7422?s=128&d=identicon&r=PG", "display_name": "Jiecheng Zhao", "link": "https://stackoverflow.com/users/7433574/jiecheng-zhao"}, "is_accepted": false, "score": 7, "last_activity_date": 1576823919, "last_edit_date": 1576823919, "creation_date": 1498707243, "answer_id": 44815939, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow/44815939#44815939", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p>For there is softmax_cross_entropy_with_logits, there is no need to optimize on KL.</p>\n\n<pre><code>KL(prob_a, prob_b)  \n  = Sum(prob_a * log(prob_a/prob_b))  \n  = Sum(prob_a * log(prob_a) - prob_a * log(prob_b))  \n  = - Sum(prob_a * log(prob_b)) + Sum(prob_a * log(prob_a)) \n  = - Sum(prob_a * log(prob_b)) + const \n  = H(prob_a, prob_b) + const \n</code></pre>\n\n<p>If prob_a is not const. You can rewrite it to the sub of two entropies.</p>\n\n<pre><code>KL(prob_a, prob_b)  \n  = Sum(prob_a * log(prob_a/prob_b))  \n  = Sum(prob_a * log(prob_a) - prob_a * log(prob_b))  \n  = - Sum(prob_a * log(prob_b)) + Sum(prob_a * log(prob_a)) \n  = H(prob_a, prob_b) - H(prob_a, prob_a)  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 547, "user_id": 433287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01e560436eb705db4e94c2b22d374a1e?s=128&d=identicon&r=PG", "display_name": "jvdillon", "link": "https://stackoverflow.com/users/433287/jvdillon"}, "is_accepted": false, "score": 2, "last_activity_date": 1500415799, "creation_date": 1500415799, "answer_id": 45177940, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow/45177940#45177940", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p><code>tf.contrib.distributions.kl</code> takes instances of a <code>tf.distribution</code> not a <code>Tensor</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>  ds = tf.contrib.distributions\n  p = ds.Normal(loc=0., scale=1.)\n  q = ds.Normal(loc=1., scale=2.)\n  kl = ds.kl_divergence(p, q)\n  # ==&gt; 0.44314718\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 0, "creation_date": 1521700752, "post_id": 49418266, "comment_id": 85844940, "body": "Not going to work! From the <a href=\"https://www.tensorflow.org/api_docs/python/tf/nn/softmax_cross_entropy_with_logits\" rel=\"nofollow noreferrer\">documentation</a>: &quot;WARNING: This op expects unscaled logits, since it performs a softmax on logits internally for efficiency. <i>Do not call this op with the output of softmax, as it will produce incorrect results</i>&quot; (emphasis mine)"}, {"owner": {"reputation": 21, "user_id": 4970778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5aZ9wcnwr1A/AAAAAAAAAAI/AAAAAAAAAGw/VKmTRFqAFW0/photo.jpg?sz=128", "display_name": "Sara", "link": "https://stackoverflow.com/users/4970778/sara"}, "reply_to_user": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "edited": false, "score": 1, "creation_date": 1542321390, "post_id": 49418266, "comment_id": 93538155, "body": "Assuming that you have access to logits a and b. This is not calling it on prob_a and prob_b. It is calling it on a and b."}], "tags": [], "owner": {"reputation": 21, "user_id": 4970778, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5aZ9wcnwr1A/AAAAAAAAAAI/AAAAAAAAAGw/VKmTRFqAFW0/photo.jpg?sz=128", "display_name": "Sara", "link": "https://stackoverflow.com/users/4970778/sara"}, "is_accepted": false, "score": 1, "last_activity_date": 1521675668, "creation_date": 1521675668, "answer_id": 49418266, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow/49418266#49418266", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p>Assuming that you have access to logits a and b:</p>\n\n<pre><code>prob_a = tf.nn.softmax(a)\ncr_aa = tf.nn.softmax_cross_entropy_with_logits(prob_a, a)\ncr_ab = tf.nn.softmax_cross_entropy_with_logits(prob_a, b)\nkl_ab = tf.reduce_sum(cr_ab - cr_aa)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 992, "user_id": 6660601, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c1803ce56d48acc254531d642ffa193b?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Di Liello", "link": "https://stackoverflow.com/users/6660601/luca-di-liello"}, "edited": false, "score": 0, "creation_date": 1565120583, "post_id": 51031305, "comment_id": 101250246, "body": "Your arrays <code>a</code> and <code>b</code> seems to sum to 1 on the last axis, not on the first"}, {"owner": {"reputation": 169, "user_id": 5235274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5498bd05fa22c78125bfd0119133d95e?s=128&d=identicon&r=PG", "display_name": "meferne", "link": "https://stackoverflow.com/users/5235274/meferne"}, "reply_to_user": {"reputation": 992, "user_id": 6660601, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c1803ce56d48acc254531d642ffa193b?s=128&d=identicon&r=PG&f=1", "display_name": "Luca Di Liello", "link": "https://stackoverflow.com/users/6660601/luca-di-liello"}, "edited": false, "score": 0, "creation_date": 1565180171, "post_id": 51031305, "comment_id": 101270071, "body": "Yes, it would have been better to say &quot;along axis 1&quot;, or even better, the last axis. I meant axis 1 when I wrote &quot;along the first axis&quot;, as there is also axis 0.  I&#39;ll edit the answer. Thanks!"}, {"owner": {"reputation": 4801, "user_id": 1021819, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/pGNtf.png?s=128&g=1", "display_name": "jtlz2", "link": "https://stackoverflow.com/users/1021819/jtlz2"}, "edited": false, "score": 0, "creation_date": 1586357203, "post_id": 51031305, "comment_id": 108099499, "body": "<code>AttributeError: module &#39;tensorflow&#39; has no attribute &#39;distributions&#39;</code>"}], "tags": [], "owner": {"reputation": 169, "user_id": 5235274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5498bd05fa22c78125bfd0119133d95e?s=128&d=identicon&r=PG", "display_name": "meferne", "link": "https://stackoverflow.com/users/5235274/meferne"}, "is_accepted": false, "score": 12, "last_activity_date": 1565248976, "last_edit_date": 1565248976, "creation_date": 1529958214, "answer_id": 51031305, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow/51031305#51031305", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p>Assuming that your input tensors <code>prob_a</code> and <code>prob_b</code> are probability tensors that sum to 1 along the last axis, you could do it like this:</p>\n\n<pre><code>def kl(x, y):\n    X = tf.distributions.Categorical(probs=x)\n    Y = tf.distributions.Categorical(probs=y)\n    return tf.distributions.kl_divergence(X, Y)\n\nresult = kl(prob_a, prob_b)\n</code></pre>\n\n<p>A simple example:</p>\n\n<pre><code>import numpy as np\nimport tensorflow as tf\na = np.array([[0.25, 0.1, 0.65], [0.8, 0.15, 0.05]])\nb = np.array([[0.7, 0.2, 0.1], [0.15, 0.8, 0.05]])\nsess = tf.Session()\nprint(kl(a, b).eval(session=sess))  # [0.88995184 1.08808468]\n</code></pre>\n\n<p>You would get the same result with</p>\n\n<pre><code>np.sum(a * np.log(a / b), axis=1) \n</code></pre>\n\n<p>However, this implementation is a bit buggy (checked in Tensorflow 1.8.0).</p>\n\n<p>If you have zero probabilities in <code>a</code>, e.g. if you try <code>[0.8, 0.2, 0.0]</code> instead of <code>[0.8, 0.15, 0.05]</code>, you will get <code>nan</code> even though by Kullback-Leibler definition <code>0 * log(0 / b)</code> should contribute as zero.</p>\n\n<p>To mitigate this, one should add some small numerical constant. It is also prudent to use <code>tf.distributions.kl_divergence(X, Y, allow_nan_stats=False)</code> to cause a runtime error in such situations.</p>\n\n<p>Also, if there are some zeros in <code>b</code>, you will get <code>inf</code> values which won't be caught by the <code>allow_nan_stats=False</code> option so those have to be handled as well.</p>\n"}, {"tags": [], "owner": {"reputation": 1358, "user_id": 7750274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wq_kvaidwCM/AAAAAAAAAAI/AAAAAAAAAOE/aZVWIqS8Cgo/photo.jpg?sz=128", "display_name": "Akshaya Natarajan", "link": "https://stackoverflow.com/users/7750274/akshaya-natarajan"}, "is_accepted": false, "score": 0, "last_activity_date": 1547809203, "creation_date": 1547809203, "answer_id": 54252592, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow/54252592#54252592", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p>I think this might work:</p>\n\n<pre><code>tf.reduce_sum(p * tf.log(p/q))\n</code></pre>\n\n<p>where p is my actual probability distribution \nand q is my approximate probability distribution.</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 10940584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niZRU.jpg?s=128&g=1", "display_name": "generic_stackoverflow_user", "link": "https://stackoverflow.com/users/10940584/generic-stackoverflow-user"}, "is_accepted": false, "score": 0, "last_activity_date": 1550345824, "creation_date": 1550345824, "answer_id": 54726928, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow/54726928#54726928", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p>I used the function from <a href=\"https://gist.github.com/FelixMohr/a83e57393647dd2971d5ae12bb01f504#file-vae-py\" rel=\"nofollow noreferrer\">this code</a> (from <a href=\"https://towardsdatascience.com/teaching-a-variational-autoencoder-vae-to-draw-mnist-characters-978675c95776\" rel=\"nofollow noreferrer\">this</a> Medium post) to calculate the KL-divergence of any given tensor from a normal Gaussian distribution, where <code>sd</code> is the standard deviation and <code>mn</code> is the tensor.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>latent_loss = -0.5 * tf.reduce_sum(1.0 + 2.0 * sd - tf.square(mn) - tf.exp(2.0 * sd), 1)\n</code></pre>\n"}], "owner": {"reputation": 889, "user_id": 5540330, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5544940cc1a3d478069054a27c21cc14?s=128&d=identicon&r=PG&f=1", "display_name": "Transcendental", "link": "https://stackoverflow.com/users/5540330/transcendental"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14990, "favorite_count": 9, "answer_count": 7, "score": 15, "last_activity_date": 1576823919, "creation_date": 1485388296, "last_edit_date": 1572372761, "question_id": 41863814, "link": "https://stackoverflow.com/questions/41863814/is-there-a-built-in-kl-divergence-loss-function-in-tensorflow", "title": "Is there a built-in KL divergence loss function in TensorFlow?", "body": "<p>I have two tensors, <code>prob_a</code> and <code>prob_b</code> with shape <code>[None, 1000]</code>, and I want to compute the KL divergence from <code>prob_a</code> to <code>prob_b</code>. Is there a built-in function for this in TensorFlow?  I tried using <code>tf.contrib.distributions.kl(prob_a, prob_b)</code>, but it gives:</p>\n\n<blockquote>\n  <p>NotImplementedError: No KL(dist_a || dist_b) registered for dist_a type Tensor and dist_b type Tensor</p>\n</blockquote>\n\n<p>If there is no built-in function, what would be a good workaround?</p>\n"}, {"tags": ["python", "arrays", "numpy", "array-broadcasting"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1485388228, "post_id": 41863739, "comment_id": 70911190, "body": "The &quot;works correctly&quot; code isn&#39;t actually doing what you think it is. It only looks like it&#39;s working because all elements of <code>b</code> are equal."}], "answers": [{"comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1485388955, "post_id": 41863796, "comment_id": 70911391, "body": "@MSeifert Added there."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1485389676, "post_id": 41863796, "comment_id": 70911602, "body": "Thanks, I was really confused for a moment. :)"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 2, "last_activity_date": 1485389704, "last_edit_date": 1485389704, "creation_date": 1485388205, "answer_id": 41863796, "question_id": 41863739, "link": "https://stackoverflow.com/questions/41863739/numpy-broadcasting-example-without-repeat/41863796#41863796", "title": "Numpy Broadcasting Example without Repeat", "body": "<p>To align the axes of the array to be added, we need to insert a new axis at the end, like so - </p>\n\n<pre><code>a[:, 0:3, 0:3, :] += np.ones((3,3))[...,None]\n</code></pre>\n\n<p>Let's study the shapes here :</p>\n\n<pre><code>In [356]: a[:, 0:3, 0:3, :].shape\nOut[356]: (2, 3, 3, 2)\n\nIn [357]: np.ones((3,3)).shape\nOut[357]: (3, 3)\n\nIn [358]: np.ones((3,3))[...,None].shape\nOut[358]: (3, 3, 1)\n\n\nInput1 (a[:, 0:3, 0:3, :])        :     (2, 3, 3, 2) \nInput2 (np.ones((3,3))[...,None]) :        (3, 3, 1)\n</code></pre>\n\n<p>Remember that the broadcasting rules state that the singleton dimensions (dimensions with <code>lengths = 1</code>) would broadcast to the match up with the lengths of the other non-singleton dimensions. Also, the dimensions that are not listed actually have lengths of <code>1</code> by default.</p>\n\n<p>So, this is broadcastable and would work now.</p>\n\n<hr>\n\n<p>Part 2: Why the following works?</p>\n\n<pre><code>c = np.arange(144).reshape(3,4,4,3).astype(float)\nc[:, 0:3, 0:3, :] += np.ones((3,3))\n</code></pre>\n\n<p>Studying shapes again -</p>\n\n<pre><code>In [363]: c[:, 0:3, 0:3, :].shape\nOut[363]: (3, 3, 3, 3)\n\nIn [364]: np.ones((3,3)).shape\nOut[364]: (3, 3)\n\nInput1 (c[:, 0:3, 0:3, :])  :     (3, 3, 3, 3) \nInput2 (np.ones((3,3)))     :           (3, 3)\n</code></pre>\n\n<p>Again going by the broadcastable rules this is fine, so no error here, but the result isn't the expected one.</p>\n"}, {"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 2, "creation_date": 1485388818, "post_id": 41863841, "comment_id": 70911354, "body": "I like the <code>[None, :, :, None]</code> because it makes it clear(er) that we are expanding dimensions at both ends (even through the first None is automatic)."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 3, "last_activity_date": 1485389521, "last_edit_date": 1485389521, "creation_date": 1485388435, "answer_id": 41863841, "question_id": 41863739, "link": "https://stackoverflow.com/questions/41863739/numpy-broadcasting-example-without-repeat/41863841#41863841", "title": "Numpy Broadcasting Example without Repeat", "body": "<p>You could include an empty axis from the start:</p>\n\n<pre><code>a[:, 0:3, 0:3, :] += np.ones((3,3,1))  # 1 broadcasts against any axis\n</code></pre>\n\n<p>Similar you should have used:</p>\n\n<pre><code>a[:, 0:2, 0:2, : ] += np.ones((2,2,1))\n</code></pre>\n\n<p>because you (probably inadvertently) broadcasted these against the third and fourth axes. I think you wanted it to broadcast to the second and third, right?</p>\n\n<hr>\n\n<p>Also you can always add dimensions with <a href=\"https://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.expand_dims.html\" rel=\"nofollow noreferrer\"><code>np.expand_dims</code></a> and <code>axis=-1</code>:</p>\n\n<pre><code>&gt;&gt;&gt; np.expand_dims(np.ones((2, 2)), axis=-1).shape\n(2, 2, 1)\n</code></pre>\n\n<p>or slicing with <code>None</code> or <code>np.newaxis</code> (they are equivalent!):</p>\n\n<pre><code>&gt;&gt;&gt; np.ones((2, 2))[None, :, :, np.newaxis].shape\n(1, 2, 2, 1)\n</code></pre>\n\n<p>The first <code>None</code> is not necessary for correct broadcasting but the last one is!</p>\n\n<hr>\n\n<p>In this context it is important to mention that numpy broadcasts starting with the last dimension. So if you have two arrays each dimension starting by the last one must have equal shape or one of them has to be 1 (if one is 1 then it broadcasts along this axis!). That's why <code>a[:, 0:2, 0:2, : ]</code> worked:</p>\n\n<pre><code>&gt;&gt;&gt; a[:, 0:2, 0:2, : ].shape\n(2, 2, 2, 2)\n&gt;&gt;&gt; b.shape\n(2, 2)\n</code></pre>\n\n<p>So the last dimension is equal (both <code>2</code>) and the second-last one is equal (both <code>2</code>). However with:</p>\n\n<pre><code>&gt;&gt;&gt; np.ones((2,2,1)).shape\n(2, 2, 1)\n</code></pre>\n\n<p>The last one is <code>2</code> and <code>1</code> so the last axis of <code>np.ones((2,2,1))</code> is broadcast while the second and third dimension are equal (all <code>2</code>) so numpy uses element-wise operations there.</p>\n"}], "owner": {"reputation": 111, "user_id": 4242348, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/86fda36a192deff39a02e500ca206e0c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Zen", "link": "https://stackoverflow.com/users/4242348/kevin-zen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 1, "accepted_answer_id": 41863841, "answer_count": 2, "score": -1, "last_activity_date": 1485389704, "creation_date": 1485387861, "last_edit_date": 1485388521, "question_id": 41863739, "link": "https://stackoverflow.com/questions/41863739/numpy-broadcasting-example-without-repeat", "title": "Numpy Broadcasting Example without Repeat", "body": "<p>I'm trying to figure out a good way of doing the following addition operation without using <code>np.repeat</code> to create a large dimension. If using <code>np.repeat</code> and adding is the best solution let me know.</p>\n\n<p>I'm also confused about what broadcasting is doing in this case. Essentially I have a 4d matrix, and I want to add a 2d matrix in the 1st and 2nd index, while and doing this across index 0 and index 3.</p>\n\n<p>This works correctly</p>\n\n<pre><code>a = np.arange(64).reshape((2,4,4,2)).astype(float)\nb = np.ones((2,2))\na[:, 0:2, 0:2, : ] += b\n</code></pre>\n\n<p>This throws an error. What is a good way of doing this?</p>\n\n<pre><code>a[:, 0:3, 0:3, :] += np.ones((3,3))\n</code></pre>\n\n<p>This works but is not what I'm looking to do</p>\n\n<pre><code>c = np.arange(144).reshape(3,4,4,3).astype(float)\nc[:, 0:3, 0:3, :] += np.ones((3,3))\n</code></pre>\n"}, {"tags": ["python", "maven", "apache-storm"], "comments": [{"owner": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "edited": false, "score": 0, "creation_date": 1485390579, "post_id": 41863737, "comment_id": 70911866, "body": "Could you try out cloning repository and build from root maven?"}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "reply_to_user": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "edited": false, "score": 0, "creation_date": 1485392199, "post_id": 41863737, "comment_id": 70912245, "body": "Could you be more explicit, I&#39;m a little bit new to java, maven, etc. Cloning storm repository? I&#39;m not sure about the exact signification of &quot;build from root&quot; but I git clone storm repo and in the examples/storm-starter, I did a mvn clean install: same result."}, {"owner": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "edited": false, "score": 0, "creation_date": 1485392650, "post_id": 41863737, "comment_id": 70912363, "body": "&quot;Build from root&quot; means &quot;mvn clean install&quot; from root directory. It handles some works so you might need to do this before building storm-starter separately. You can also do &quot;mvn clean install -DskipTests&quot; from root directory, and &quot;mvn clean install&quot; from storm-starter directory."}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "reply_to_user": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "edited": false, "score": 0, "creation_date": 1485393411, "post_id": 41863737, "comment_id": 70912571, "body": "I understand from what you say that root directory and storm-starter directory are different. But what is the root?"}, {"owner": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "edited": false, "score": 0, "creation_date": 1485393932, "post_id": 41863737, "comment_id": 70912699, "body": "The directory which contains doap_Storm.rdf, LICENSE, NOTICE, etc."}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "reply_to_user": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "edited": false, "score": 0, "creation_date": 1485395849, "post_id": 41863737, "comment_id": 70913181, "body": "Thank you so much Jungtaek for your help, it worked."}, {"owner": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "edited": false, "score": 0, "creation_date": 1485396059, "post_id": 41863737, "comment_id": 70913239, "body": "OK I&#39;ll move my suggestion to answer. Please accept the answer once I move."}], "answers": [{"comments": [{"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1485439927, "post_id": 41864836, "comment_id": 70932327, "body": "May I ask you a follow up question: so after git clone repo and mvn clean install, I&#39;m back in my ~/apache-storm-1.0.2 directory. There (in examples/storm-starter directory) I can now build without problem (I guess the mvn install from the root handled work needed before building storm-starter as you said). Now if I try to do the same in ~/apache-storm-0.10.2/examples/storm-starter directory, it results in the same build failure I had before (see above). Do you see why?"}, {"owner": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "reply_to_user": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1485443027, "post_id": 41864836, "comment_id": 70934695, "body": "Artifacts seems not installed locally for 0.10.2. You need to build from root for also 0.10.2."}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1485445766, "post_id": 41864836, "comment_id": 70936798, "body": "I built from root for 0.10.2 and it builds without failure. I built from storm-starter directory with success. Now when I try to run a topology, it says that &quot;The storm client can only be run from within a release. You appear to be trying to run the client from a checkout of Storm&#39;s source code.&quot;"}, {"owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1485446198, "post_id": 41864836, "comment_id": 70937129, "body": "I understand from <a href=\"http://stackoverflow.com/questions/32377813/build-a-custom-apache-storm-rpm-from-source\" title=\"build a custom apache storm rpm from source\">stackoverflow.com/questions/32377813/&hellip;</a> that I probably downloaded the wrong file. I downloaded the src distribution (<a href=\"http://www.apache.org/dyn/closer.lua/storm/apache-storm-0.10.2/apache-storm-0.10.2-src.tar.gz\" rel=\"nofollow noreferrer\">apache.org/dyn/closer.lua/storm/apache-storm-0.10.2/&hellip;</a>) because the non-source has no pom.xml at the root (and consequently I cannot build from the root). What can I do?"}, {"owner": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "reply_to_user": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "edited": false, "score": 0, "creation_date": 1485525261, "post_id": 41864836, "comment_id": 70973125, "body": "Please refer this link to package binary dist from sources.  <a href=\"https://github.com/apache/storm/blob/master/DEVELOPER.md#packaging\" rel=\"nofollow noreferrer\">github.com/apache/storm/blob/master/DEVELOPER.md#packaging</a>  If you don&#39;t want to modify Storm code and just want to use, you just need to download binary distribution and extract and have fun using it."}], "tags": [], "owner": {"reputation": 1470, "user_id": 3480122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3f34dce4ab5f7631f9ad565c0cf587?s=128&d=identicon&r=PG", "display_name": "Jungtaek Lim", "link": "https://stackoverflow.com/users/3480122/jungtaek-lim"}, "is_accepted": true, "score": 2, "last_activity_date": 1485407584, "last_edit_date": 1485407584, "creation_date": 1485396195, "answer_id": 41864836, "question_id": 41863737, "link": "https://stackoverflow.com/questions/41863737/storm-1-0-2-mvn-install-results-in-build-failure/41864836#41864836", "title": "Storm 1.0.2 : mvn install results in build failure", "body": "<p>Moving comments to the answer.</p>\n\n<p>Storm root pom handles some works so you might need to \"build from root\" (via executing <code>mvn clean install</code> with/without <code>-DskipTests</code>) first.</p>\n\n<p>After that you can build storm-starter via <code>mvn clean install</code> from storm-starter directory.</p>\n\n<blockquote>\n  <p>\"Root directory\" means the directory which contains doap_Storm.rdf,\n  LICENSE, NOTICE, etc.</p>\n</blockquote>\n"}], "owner": {"reputation": 2027, "user_id": 563130, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/s1MIv.jpg?s=128&g=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/563130/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 41864836, "answer_count": 1, "score": 0, "last_activity_date": 1485407584, "creation_date": 1485387848, "question_id": 41863737, "link": "https://stackoverflow.com/questions/41863737/storm-1-0-2-mvn-install-results-in-build-failure", "title": "Storm 1.0.2 : mvn install results in build failure", "body": "<p>I've just installed storm 1.0.2 and when I try to compile the storm-starter package, it results in a build failure:</p>\n\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 4.132 s\n[INFO] Finished at: 2017-01-25T18:24:05-05:00\n[INFO] Final Memory: 40M/2434M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal \n\n    org.apache.maven.plugins:maven-remote-resources-plugin:1.2.1:process (default) \n    on project storm-starter: Error finding remote resources manifests: \n    /home/patrick/storm-starter1.0.2/target/maven-shared-archive-resources/META-INF/NOTICE \n    (No such file or directory) -&gt; [Help 1]\n\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal \n    org.apache.maven.plugins:maven-remote-resources-plugin:1.2.1:process (default) \n    on project storm-starter: Error finding remote resources manifests\n\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)\nat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)\nat org.apache.maven.cli.MavenCli.execute(MavenCli.java:863)\nat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:288)\nat org.apache.maven.cli.MavenCli.main(MavenCli.java:199)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n\nCaused by: org.apache.maven.plugin.MojoExecutionException: Error finding remote resources manifests\nat org.apache.maven.plugin.resources.remote.ProcessRemoteResourcesMojo.processResourceBundles(ProcessRemoteResourcesMojo.java:1204)\nat org.apache.maven.plugin.resources.remote.ProcessRemoteResourcesMojo.execute(ProcessRemoteResourcesMojo.java:519)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:207)\n... 20 more\n\nCaused by: java.io.FileNotFoundException: /home/patrick/storm-starter1.0.2/target/maven-shared-archive-resources/META-INF/NOTICE (No such file or directory)\nat java.io.FileOutputStream.open0(Native Method)\n</code></pre>\n\n<p>I didn't change the examples/storm-starter/pom.xml file that came with the storm release.</p>\n\n<p>The default python on my server is 3.5.2 (I don't know if it can be an explanation). Storm 1.0.2 is supposed to be Python 3 compatible. I'm clueless, any hint is greatly appreciated!</p>\n"}, {"tags": ["python", "linux", "oracle", "cx-oracle"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1485388310, "post_id": 41863715, "comment_id": 70911218, "body": "can&#39;t you just try <code>pip install cx_Oracle</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 4847498, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1051859291495305/picture?type=large", "display_name": "Jeremy Barnes", "link": "https://stackoverflow.com/users/4847498/jeremy-barnes"}, "edited": false, "score": 0, "creation_date": 1485445793, "post_id": 41863810, "comment_id": 70936818, "body": "I&#39;ll give this a try and report back."}], "tags": [], "owner": {"reputation": 953, "user_id": 5854343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/erVBq.jpg?s=128&g=1", "display_name": "Bobby Durrett", "link": "https://stackoverflow.com/users/5854343/bobby-durrett"}, "is_accepted": false, "score": 1, "last_activity_date": 1485388276, "creation_date": 1485388276, "answer_id": 41863810, "question_id": 41863715, "link": "https://stackoverflow.com/questions/41863715/cx-oracle-on-python-3-5-in-a-redhat-based-environment/41863810#41863810", "title": "cx_oracle on Python 3.5 in a RedHat based environment?", "body": "<p>I would try to build it from source. I use it with Oracle Enterprise Linux 7.3 which is a variant of RedHat. But I use it with Python 2.7.  Still, I built cx_Oracle from source and that worked for me. Why not try it with Python 3.5?</p>\n\n<p>Note that you need an Oracle client installed before you install cx_Oracle.</p>\n\n<p>Bobby</p>\n"}], "owner": {"reputation": 534, "user_id": 4847498, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/1051859291495305/picture?type=large", "display_name": "Jeremy Barnes", "link": "https://stackoverflow.com/users/4847498/jeremy-barnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485388276, "creation_date": 1485387719, "question_id": 41863715, "link": "https://stackoverflow.com/questions/41863715/cx-oracle-on-python-3-5-in-a-redhat-based-environment", "title": "cx_oracle on Python 3.5 in a RedHat based environment?", "body": "<p>On the cx_oracle download page on Python package index, I see both Windows and Linux version of cx_oracle. <a href=\"https://pypi.python.org/pypi/cx_Oracle\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/cx_Oracle</a></p>\n\n<p>However, I only see Python 3.5 versions for Windows.</p>\n\n<p>Is it possible to use Python 3.5 on a RedHat based Linux Distribution with cx_oracle? If so, how? If not, what other available libraries can use Python 3.5 and Oracle 11.2 on RedHat based Linux distributions?</p>\n"}, {"tags": ["python", "opencv", "computer-vision", "template-matching"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1485418482, "post_id": 41863666, "comment_id": 70920363, "body": "compute the homography and decompose it."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7471579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96da44f6a27f09e3da0fac42bf793af?s=128&d=identicon&r=PG&f=1", "display_name": "Nolemocius", "link": "https://stackoverflow.com/users/7471579/nolemocius"}, "edited": false, "score": 0, "creation_date": 1485883634, "post_id": 41864683, "comment_id": 71106560, "body": "What X and Y variables do you exactly mean? Also, doing the rotation comparison is like performing the match again, which looks somewhat redundant."}, {"owner": {"reputation": 613, "user_id": 574951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f622e884403fcf9cad23db9b7c3d1c1e?s=128&d=identicon&r=PG", "display_name": "ivan_a", "link": "https://stackoverflow.com/users/574951/ivan-a"}, "reply_to_user": {"reputation": 11, "user_id": 7471579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96da44f6a27f09e3da0fac42bf793af?s=128&d=identicon&r=PG&f=1", "display_name": "Nolemocius", "link": "https://stackoverflow.com/users/7471579/nolemocius"}, "edited": false, "score": 0, "creation_date": 1485928730, "post_id": 41864683, "comment_id": 71123834, "body": "Try to run the program that you provided the link for and check values of <code>x</code> and <code>y</code> variables during run time."}], "tags": [], "owner": {"reputation": 613, "user_id": 574951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f622e884403fcf9cad23db9b7c3d1c1e?s=128&d=identicon&r=PG", "display_name": "ivan_a", "link": "https://stackoverflow.com/users/574951/ivan-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1485394909, "creation_date": 1485394909, "answer_id": 41864683, "question_id": 41863666, "link": "https://stackoverflow.com/questions/41863666/exact-position-of-match-with-opencv-orb-matcher/41864683#41864683", "title": "exact position of match with OpenCV ORB matcher", "body": "<p>The position is already known at this step. It is stored in variables <code>x</code> and <code>y</code>. To find the rotation, blur both template and the source, then either generate 360 rotated representations of the blurred template and then find the one that has the smallest difference with the region of interest or convert both images to polar coordinates and try to shift one of the images to achieve the best math (the shift will be the angle you want to rotate by).</p>\n"}], "owner": {"reputation": 11, "user_id": 7471579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96da44f6a27f09e3da0fac42bf793af?s=128&d=identicon&r=PG&f=1", "display_name": "Nolemocius", "link": "https://stackoverflow.com/users/7471579/nolemocius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1134, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1485394909, "creation_date": 1485387372, "question_id": 41863666, "link": "https://stackoverflow.com/questions/41863666/exact-position-of-match-with-opencv-orb-matcher", "title": "exact position of match with OpenCV ORB matcher", "body": "<p>I have built a simple algorithm for visual mark detection with OpenCV on Python, that uses their ORB detector as the second step. I use ORB with the BFmatcher, the code is borrowed from this project: <a href=\"https://rdmilligan.wordpress.com/2015/03/01/road-sign-detection-using-opencv-orb/\" rel=\"nofollow noreferrer\">https://rdmilligan.wordpress.com/2015/03/01/road-sign-detection-using-opencv-orb/</a> \nThe detection part in the code looks like this:</p>\n\n<pre><code># find the keypoints and descriptors for object\nkp_o, des_o = orb.detectAndCompute(obj,None)\nif len(kp_o) == 0 or des_o == None: continue\n\n# match descriptors\nmatches = bf.match(des_r,des_o)\n</code></pre>\n\n<p>Then there is a check on the number of feature matches, so it can tell if there is a match between the template image and the query. The question is: if yes, how do I get exact position and rotation angle of the found match?</p>\n"}, {"tags": ["python", "html", "python-2.7", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1485387597, "post_id": 41863654, "comment_id": 70911029, "body": "better show one <code>Status</code> and <code>Location</code> and expected result. If you want to remove text with constant size then use slicing <code>text[start:end]</code>. Or use <code>split(&#39; &#39;, 1)</code> to split text on first space. <code>rsplit(&#39; &#39;,1)</code> to split on last space (<code>r</code>=right). BTW: you can also use <code>replace()</code> if you what to remove the same word."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485454706, "post_id": 41863654, "comment_id": 70942570, "body": "Maybe first check what you get with <code>find_all()[1:]</code> and what you get with <code>map()</code> - Maybe you shouldn&#39;t use <code>[1:]</code>, or you expect too much - you have only one date. Better create minimal, working example so we could run it. Now we can&#39;t help - we can&#39;t read in your mind."}], "answers": [{"tags": [], "owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "is_accepted": false, "score": 0, "last_activity_date": 1485415305, "creation_date": 1485415305, "answer_id": 41868529, "question_id": 41863654, "link": "https://stackoverflow.com/questions/41863654/how-to-remove-a-string-from-bs4-results/41868529#41868529", "title": "how to remove a string from bs4 results?", "body": "<p>By default <code>.strip()</code> method strips away only whitespace, while in your case you most likely have a mix of newlines and whitespace, to remedy this try changing:</p>\n\n<pre><code>r = Status.get_text().strip().encode('utf-8')\n# to\nr = Status.get_text().strip(' \\n').encode('utf-8')\n</code></pre>\n\n<p><code>' \\n'</code> - is made up from two characters, a white space and <code>\\n</code> which stands for newline. Any leading or following of these characters will be stripped away.</p>\n"}], "owner": {"reputation": 11, "user_id": 5834374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c76020a6b99fafd818684df5b8af3d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter pitzulo", "link": "https://stackoverflow.com/users/5834374/peter-pitzulo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485458292, "creation_date": 1485387298, "last_edit_date": 1485458292, "question_id": 41863654, "link": "https://stackoverflow.com/questions/41863654/how-to-remove-a-string-from-bs4-results", "title": "how to remove a string from bs4 results?", "body": "<p>EDIT: Ok here is the code i am using, the usps tracking number only has the address of a post office.</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nurl = \"https://tools.usps.com/go/TrackConfirmAction.action?tRef=fullpage&amp;tLc=1&amp;text28777=&amp;tLabels=03030130000309293695\"\n\ns = requests.Session()\ns.headers['User-Agent'] = 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/34.0.1847.131     Safari/537.36'\nr = s.get(url)\nsoup = BeautifulSoup(r.text, \"lxml\")\n\n\nfor Status, Location, Time in map(None, soup.find_all(\"span\", {\"class\":\"info-text\"}), soup.find_all(\"td\", { \"class\":\"location\"})[1:], soup.find_all(\"td\", { \"class\":\"date-time\"})):\n    print Time.get_text().strip()\n</code></pre>\n\n<p>This is the output i am getting.</p>\n\n<pre><code>January 24, 2017\n\n                                                        ,\n                                                        7:13 am\n</code></pre>\n\n<p>This is what i want it to look like.</p>\n\n<pre><code>January 24, 2017,\n\n7:13\n</code></pre>\n\n<p>also here is the html i am scraping.</p>\n\n<pre><code>&lt;td class=\"date-time\"&gt;\n    &lt;p&gt;\n        January 13, 2017\n        ,\n        2:09 pm\n    &lt;/p&gt;&lt;/td&gt;\n&lt;td class=\"status\"&gt;\n</code></pre>\n"}, {"tags": ["python", "opencv", "image-processing", "histogram"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1485387924, "post_id": 41863607, "comment_id": 70911113, "body": "Just use the manual numpy-based hist-calculation shown <a href=\"http://docs.opencv.org/trunk/d1/db7/tutorial_py_histogram_begins.html\" rel=\"nofollow noreferrer\">here</a>. Do this for each image and sum up the different hists. But be careful with automatic bin-inference. Better to chose the number a-priori which probably assumes the same range . Even better: give the bins explicitly. Then you an plot this with matplotlib."}, {"owner": {"reputation": 933, "user_id": 6631923, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-asHZazi4xu0/AAAAAAAAAAI/AAAAAAAAACM/zSIpIClGruo/photo.jpg?sz=128", "display_name": "akshata bhat", "link": "https://stackoverflow.com/users/6631923/akshata-bhat"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1485527185, "post_id": 41863607, "comment_id": 70974541, "body": "Thank you. It works"}], "owner": {"reputation": 933, "user_id": 6631923, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-asHZazi4xu0/AAAAAAAAAAI/AAAAAAAAACM/zSIpIClGruo/photo.jpg?sz=128", "display_name": "akshata bhat", "link": "https://stackoverflow.com/users/6631923/akshata-bhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497269182, "creation_date": 1485387050, "last_edit_date": 1497269182, "question_id": 41863607, "link": "https://stackoverflow.com/questions/41863607/generating-histograms-to-analyse-different-sets-of-image-data-in-python", "title": "Generating histograms to analyse different sets of image data in python", "body": "<p>I am trying to analyse two sets of image data. Each set consists of 10000 images. The main idea is to check how different are these two sets.</p>\n\n<p>One way to statistically analyse is through histograms.\nI checked the <code>cv2.hist()</code> function in Python, but it only generates histograms for one image. Can anyone help me generate histograms for the complete image set?</p>\n"}, {"tags": ["python", "xml", "python-2.7", "tags"], "answers": [{"tags": [], "owner": {"reputation": 867, "user_id": 6531129, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3741d495ced91c057769a904b8ee6c26?s=128&d=identicon&r=PG&f=1", "display_name": "AESTHETICS", "link": "https://stackoverflow.com/users/6531129/aesthetics"}, "is_accepted": true, "score": 0, "last_activity_date": 1485421915, "creation_date": 1485421915, "answer_id": 41870076, "question_id": 41863602, "link": "https://stackoverflow.com/questions/41863602/splitting-xml-file-into-multiple-xml-files-at-given-tags/41870076#41870076", "title": "Splitting XML file into multiple XML files at given tags", "body": "<p>Okay so it seems like i have trying to run python script wrong as you can simply run it by double click.\nAnother thing which was wrong was formatting of code.\nEverything is working now.\nCode:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\ncontext = ET.iterparse('C:\\\\Users\\\\username\\\\Documents\\\\Tasks.xml', events=('end', ))\nfor event, elem in context:\nif elem.tag == 'Task':\n    title = elem.find('TaskID').text\n    filename = format(title + \".txt\")\n    with open(filename, 'wb') as f:\n        f.write(ET.tostring(elem))\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 6531129, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3741d495ced91c057769a904b8ee6c26?s=128&d=identicon&r=PG&f=1", "display_name": "AESTHETICS", "link": "https://stackoverflow.com/users/6531129/aesthetics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1826, "favorite_count": 0, "accepted_answer_id": 41870076, "answer_count": 1, "score": 0, "last_activity_date": 1485421915, "creation_date": 1485387037, "last_edit_date": 1485387402, "question_id": 41863602, "link": "https://stackoverflow.com/questions/41863602/splitting-xml-file-into-multiple-xml-files-at-given-tags", "title": "Splitting XML file into multiple XML files at given tags", "body": "<p>I found an example of splitting XML file into multiple files but it does not seem to generate output.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\ncontext = ET.iterparse('c:/Users/username/Documents/pyth/test.xml', events=('end', ))\nfor event, elem in context:\nif elem.tag == 'tagName':\ntitle = elem.find('TaskID').text\nfilename = format(title + \".xml\")\nwith open(filename, 'wb') as f:\n     f.write(ET.tostring(elem))\n</code></pre>\n\n<p>I have changed line: </p>\n\n<p><code>context = ET.iterparse('c:/Users/username/Documents/pyth/test.xml', events=('end', )) from context = ET.iterparse('test.xml', events=('end', ))</code> as it was giving me an error when i tried to run the script.</p>\n\n<p>I am running it on windows with:</p>\n\n<pre><code>C:\\Python27\\python.exe C:\\Users\\username\\Documents\\pyth\\test.py\n</code></pre>\n\n<p>How should this script look like to generate output to the multiple xml files?</p>\n"}, {"tags": ["python", "python-3.x", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1485387711, "post_id": 41863670, "comment_id": 70911059, "body": "Interesting... do you know if I import <code>boto</code> if it&#39;ll work in a Python3 application?"}, {"owner": {"reputation": 18142, "user_id": 1515819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7d0a1373a2312378f6563acf2a8f937?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane Bruckert", "link": "https://stackoverflow.com/users/1515819/st%c3%a9phane-bruckert"}, "reply_to_user": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1485387943, "post_id": 41863670, "comment_id": 70911115, "body": "I would say yes as they can live side-by-side, but please try it for me!"}], "tags": [], "owner": {"reputation": 18142, "user_id": 1515819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7d0a1373a2312378f6563acf2a8f937?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane Bruckert", "link": "https://stackoverflow.com/users/1515819/st%c3%a9phane-bruckert"}, "is_accepted": true, "score": 3, "last_activity_date": 1485387428, "creation_date": 1485387428, "answer_id": 41863670, "question_id": 41863595, "link": "https://stackoverflow.com/questions/41863595/boto3-invalidparameterexception/41863670#41863670", "title": "Boto3 InvalidParameterException", "body": "<p>I found it in <a href=\"https://github.com/boto/boto/blob/master/boto/cognito/identity/exceptions.py\" rel=\"nofollow noreferrer\"><code>boto/cognito/identity/exceptions.py</code></a>:</p>\n\n<pre><code>from boto.exception import BotoServerError\n\nclass InvalidParameterException(BotoServerError):\n    pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 0, "creation_date": 1509125252, "post_id": 46979660, "comment_id": 80908383, "body": "\u2018ClientError\u2019 is useful, but broader than the exception I was trying to address."}], "tags": [], "owner": {"reputation": 1, "user_id": 7004026, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--8OC8-n4e3g/AAAAAAAAAAI/AAAAAAAAAJk/h9IaBLgu--8/photo.jpg?sz=128", "display_name": "Everett Berry", "link": "https://stackoverflow.com/users/7004026/everett-berry"}, "is_accepted": false, "score": 0, "last_activity_date": 1509121765, "creation_date": 1509121765, "answer_id": 46979660, "question_id": 41863595, "link": "https://stackoverflow.com/questions/41863595/boto3-invalidparameterexception/46979660#46979660", "title": "Boto3 InvalidParameterException", "body": "<p>In Python3 with boto3 you can do:</p>\n\n<pre><code>from botocore.exceptions import ClientError\n\ncatch ClientError as e:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 3923762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/738cf8c74a81209a19ea5682e6791dc0?s=128&d=identicon&r=PG&f=1", "display_name": "calmsoul", "link": "https://stackoverflow.com/users/3923762/calmsoul"}, "is_accepted": false, "score": 1, "last_activity_date": 1544492073, "creation_date": 1544492073, "answer_id": 53716140, "question_id": 41863595, "link": "https://stackoverflow.com/questions/41863595/boto3-invalidparameterexception/53716140#53716140", "title": "Boto3 InvalidParameterException", "body": "<p>This is a misleading error by AWS, this error comes when the source image did not contain any detectable faces. Make sure your source image has a detectable face.</p>\n"}, {"tags": [], "owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "is_accepted": false, "score": 5, "last_activity_date": 1561404894, "last_edit_date": 1561404894, "creation_date": 1561396598, "answer_id": 56741216, "question_id": 41863595, "link": "https://stackoverflow.com/questions/41863595/boto3-invalidparameterexception/56741216#56741216", "title": "Boto3 InvalidParameterException", "body": "<p>If you saw this exception in response to calling <code>search_faces_by_image</code> then it probably indicates that there were no detectable faces in the image that you provided. You can review a list of possible exceptions at <a href=\"https://docs.aws.amazon.com/rekognition/latest/dg/API_SearchFacesByImage.html\" rel=\"noreferrer\">API_SearchFacesByImage</a>.</p>\n\n<p>To handle this exception, you could write code like this:</p>\n\n<pre><code>import boto3\nrek = boto3.client('rekognition')\n\ndef lookup_faces(image, collection_id):\n    try:\n        faces = rek.search_faces_by_image(\n            CollectionId=collection_id,\n            Image=image,\n            FaceMatchThreshold=95\n        )\n        logger.info('faces detected: {}'.format(faces))\n        return faces\n    except rek.exceptions.InvalidParameterException as e:\n        logger.debug('no faces detected')\n        return None\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 9888607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/953d90c825af6ec93331867e400691a8?s=128&d=identicon&r=PG&f=1", "display_name": "Tee", "link": "https://stackoverflow.com/users/9888607/tee"}, "is_accepted": false, "score": 0, "last_activity_date": 1618045187, "creation_date": 1618045187, "answer_id": 67032527, "question_id": 41863595, "link": "https://stackoverflow.com/questions/41863595/boto3-invalidparameterexception/67032527#67032527", "title": "Boto3 InvalidParameterException", "body": "<p>jarmod's answer should work perfect, if you use boto3.</p>\n<p>To more explicitly answer the question regarding where the <code>InvalidParameterException</code> lives (in <code>boto3</code>): It can be acessed via a class instance of the <code>boto3</code> rekognition client:</p>\n<pre><code>import boto3\nclient = boto3.client('rekognition')\n</code></pre>\n<p>Now, the exception can be accessed via <code>client.exceptions.InvalidParameterException</code> (see jarmod's answer for a specific example).</p>\n<p>St\u00e9phane Bruckert's suggestion of using an import from <code>boto</code> did not work for me as the exception does not appear to be caught by a specific handler using this import (but I did not tested it extensively).</p>\n"}], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2990, "favorite_count": 0, "accepted_answer_id": 41863670, "answer_count": 5, "score": 9, "last_activity_date": 1618045187, "creation_date": 1485386999, "last_edit_date": 1495561613, "question_id": 41863595, "link": "https://stackoverflow.com/questions/41863595/boto3-invalidparameterexception", "title": "Boto3 InvalidParameterException", "body": "<p>I have some code that calls into AWS's Rekognition service. Sometimes it throws this exception:</p>\n\n<pre><code>An error occurred (InvalidParameterException) when calling the DetectLabels operation: Request has Invalid Parameters\n</code></pre>\n\n<p>I can't find the <code>InvalidParameterException</code> anywhere in the documentation or code, though, so I can't write a specific handler for when that occurs. Does anyone know what library module that exception lives in?</p>\n"}, {"tags": ["python", "pandas", "indexing", "dataframe", "grouping"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 2, "last_activity_date": 1485389024, "creation_date": 1485389024, "answer_id": 41863930, "question_id": 41863565, "link": "https://stackoverflow.com/questions/41863565/grouping-dataframe-based-on-column-similarities-in-python/41863930#41863930", "title": "Grouping dataframe based on column similarities in Python", "body": "<p>consider the dataframe <code>df</code></p>\n\n<pre><code>df = pd.DataFrame(\n    np.ones((1, 6)),\n    columns='s1.f1 s1.f2 s1.f3 s2.f1 s2.f2 s2.f3'.split())\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Thb5O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Thb5O.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<ul>\n<li><code>split</code> the columns</li>\n</ul>\n\n<hr>\n\n<pre><code>df.columns = df.columns.str.split('.', expand=True)\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gJj5z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gJj5z.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 63, "user_id": 3349234, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3affa5ab9d624fd8fb5adf13aaab6054?s=128&d=identicon&r=PG&f=1", "display_name": "metaditch", "link": "https://stackoverflow.com/users/3349234/metaditch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 41863930, "answer_count": 1, "score": 1, "last_activity_date": 1485389024, "creation_date": 1485386815, "last_edit_date": 1592644375, "question_id": 41863565, "link": "https://stackoverflow.com/questions/41863565/grouping-dataframe-based-on-column-similarities-in-python", "title": "Grouping dataframe based on column similarities in Python", "body": "<p>I have a dataframe with commonalities in groups of column names:</p>\n<blockquote>\n<p>Sample1.Feature1 | Sample1.Feature2 | ... | Sample99.Feature1 | Sample99.Feature 2</p>\n</blockquote>\n<p>And I'd like to reorder this as</p>\n<blockquote>\n<p>|Sample1                 .........................       | Sample99</p>\n<p>|Feature 1, Feature 2 | .....     | Feature 1, Feature 2 |</p>\n</blockquote>\n<p>I'd then have summary stats, e.g. mean, for Feature1, Feature2, grouped by Sample#. I've played with df.groupby() with no luck so far.</p>\n<p>I hope my lack of table formatting skills doesn't distract from the question.</p>\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "selenium", "webdriver", "phantomjs", "element"], "comments": [{"owner": {"reputation": 148, "user_id": 3168501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f170e53d32e3b54625d5eead28470e92?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal", "link": "https://stackoverflow.com/users/3168501/vishal"}, "edited": false, "score": 0, "creation_date": 1485387539, "post_id": 41863544, "comment_id": 70911011, "body": "Salikhov, there can be 2 possbilities as of now. One is your Xpath might be wrong and the other is that the page is taking more time to load, so you might have to increase the wait time."}], "answers": [{"comments": [{"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 2, "creation_date": 1485409806, "post_id": 41867589, "comment_id": 70917423, "body": "As <code>Iframe</code> has <code>id</code>, you don&#39;t have to search it by <code>XPath</code>, Just use <code>driver.switch_to_frame(&#39;dnn_ctr2047_IFrame_htmIFrame&#39;)</code>"}], "tags": [], "owner": {"reputation": 361, "user_id": 7149057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B0Wat.jpg?s=128&g=1", "display_name": "Akash W", "link": "https://stackoverflow.com/users/7149057/akash-w"}, "is_accepted": true, "score": 2, "last_activity_date": 1485409621, "creation_date": 1485409621, "answer_id": 41867589, "question_id": 41863544, "link": "https://stackoverflow.com/questions/41863544/selenium-common-exceptions-nosuchelementexception-from-dynamic-content/41867589#41867589", "title": "selenium.common.exceptions.NoSuchElementException from dynamic content", "body": "<p>Error is because fields you are locating are inside <strong>iFrame</strong>.\nSo, first you need to switch to iframe and then locate your elements.\nstill, if didn't work, add time delay.</p>\n\n<p>To locate iFrame : </p>\n\n<pre><code>WebElement iframelocator = driver.findElement(By.xpath(\"//iframe[@id='dnn_ctr2047_IFrame_htmIFrame']\"));\n</code></pre>\n\n<p>Then Switch to iFrame </p>\n\n<pre><code>driver.switchTo().frame(iframelocator);\n</code></pre>\n\n<p>Add above two steps in your code before locating elements.</p>\n\n<p><strong>Note</strong> : Above written code is in java. </p>\n"}], "owner": {"reputation": 553, "user_id": 6149882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UtD7C.jpg?s=128&g=1", "display_name": "Grail Finder", "link": "https://stackoverflow.com/users/6149882/grail-finder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1719, "favorite_count": 0, "accepted_answer_id": 41867589, "answer_count": 1, "score": 0, "last_activity_date": 1485409621, "creation_date": 1485386694, "question_id": 41863544, "link": "https://stackoverflow.com/questions/41863544/selenium-common-exceptions-nosuchelementexception-from-dynamic-content", "title": "selenium.common.exceptions.NoSuchElementException from dynamic content", "body": "<p>There is <a href=\"https://i.stack.imgur.com/Pe9rz.png\" rel=\"nofollow noreferrer\">a form</a> on <a href=\"http://www.cobar.org/Find-A-Lawyer\" rel=\"nofollow noreferrer\">this site</a> and I am trying to get every option from it and click a search button with this code: </p>\n\n<pre><code>from selenium import webdriver\n\ndriver = webdriver.PhantomJS('c:\\\\phantomjs-2.1.1-windows\\\\bin\\\\phantomjs.exe')\n\ndriver.get('http://www.cobar.org/Find-A-Lawyer')\ndriver.implicitly_wait(20)\noptions = driver.find_element_by_xpath('//select[@id=\"FAL_FOP_field\"]')\nfor option in options.find_elements_by_tag_name('option'):\n    if option.text != 'ALL':\n        option.click()\n        #click search button\n        driver.find_element_by_xpath('//button[@class=\"btn btn-primary btn-main\"]').click()\n\n        lawyer = driver.find_element_by_xpath('//table[@id=\"myTable\"]/tbody/tr/td[0]')\n        print(lawyer)\n</code></pre>\n\n<p>However I am getting:</p>\n\n<pre><code>selenium.common.exceptions.NoSuchElementException: Message: {\"errorMessage\":\n\"Unable to find element with xpath '//select[@id=\\\"FAL_FOP_field\\\"]'\",\n\"request\":{\"headers\":{\"Accept\":\"application/json\",\"Accept-Encoding\":\n\"identity\",\"Connection\":\"close\",\"Content-Length\":\"115\",\"Content-Type\":\n\"application/json;charset=UTF-8\",\"Host\":\"127.0.0.1:52809\",\"User-Agent\":\"Python-urllib/2.7\"}\n,\"httpVersion\":\"1.1\",\"method\":\"POST\",\"post\":\n\"{\\\"using\\\": \\\"xpath\\\", \\\"sessionId\\\": \\\"e03be070-e353-11e6-83b5-5f7f74696cce\\\",\"\n\" \\\"value\\\": \\\"//select[@id=\\\\\\\"FAL_FOP_field\\\\\\\"]\\\"}\",\"url\":\"/element\",\n\"urlParsed\":{\"anchor\":\"\",\"query\":\"\",\"file\":\"element\",\"directory\":\"/\",\n\"path\":\"/element\",\"relative\":\"/element\",\"port\":\"\",\"host\":\"\",\"password\":\"\",\"user\":\"\",\n\"userInfo\":\"\",\"authority\":\"\",\"protocol\":\"\",\"source\":\"/element\",\"queryKey\":{},\n\"chunks\":[\"element\"]},\"urlOriginal\":\"/session/e03be070-e353-11e6-83b5-5f7f74696cce/element\"}}\n</code></pre>\n\n<p>what should I do?</p>\n"}, {"tags": ["javascript", "python", "json", "serialization"], "comments": [{"owner": {"reputation": 458, "user_id": 1189679, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f5c03606a9842d8d6a89f57593f67992?s=128&d=identicon&r=PG", "display_name": "01BTC10", "link": "https://stackoverflow.com/users/1189679/01btc10"}, "edited": false, "score": 0, "creation_date": 1485387249, "post_id": 41863542, "comment_id": 70910927, "body": "I think it should work if you send an array buffer: <a href=\"https://medium.com/@dulitharw/recording-audio-on-the-browser-c8f262cbb4d2#.h5el4l4y4\" rel=\"nofollow noreferrer\">medium.com/@dulitharw/&hellip;</a>"}, {"owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1485442032, "post_id": 41863542, "comment_id": 70933875, "body": "If I am reading this right (it is long) you think the problem is in the python code, but you don&#39;t show that code.  Also, what version of python are you using?"}, {"owner": {"reputation": 999, "user_id": 1294405, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/84caf331384f04ff1ccfbbe5b637a240?s=128&d=identicon&r=PG", "display_name": "zyeek", "link": "https://stackoverflow.com/users/1294405/zyeek"}, "reply_to_user": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1485456592, "post_id": 41863542, "comment_id": 70943693, "body": "@StephenRauch I added Python code, although there isn&#39;t much going on. I believe it has to do with how JSON is serializing the data, but missing some bytes. Trying to figure a way to convert the bytes into something JSON will not tamper with."}, {"owner": {"reputation": 40221, "user_id": 7311767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/13Fpq.png?s=128&g=1", "display_name": "Stephen Rauch", "link": "https://stackoverflow.com/users/7311767/stephen-rauch"}, "edited": false, "score": 0, "creation_date": 1485456769, "post_id": 41863542, "comment_id": 70943779, "body": "If you are not certain whether or not the data is getting munged by sender or receiver, I suggest using <a href=\"https://www.wireshark.org/\" rel=\"nofollow noreferrer\">wireshark</a>, and looking at the packet <code>on the wire</code>."}], "answers": [{"tags": [], "owner": {"reputation": 999, "user_id": 1294405, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/84caf331384f04ff1ccfbbe5b637a240?s=128&d=identicon&r=PG", "display_name": "zyeek", "link": "https://stackoverflow.com/users/1294405/zyeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1485473040, "creation_date": 1485473040, "answer_id": 41884788, "question_id": 41863542, "link": "https://stackoverflow.com/questions/41863542/having-trouble-packing-blob-to-proper-binary-format/41884788#41884788", "title": "Having trouble packing blob to proper binary format", "body": "<p>So, I was able to find the issue and resolve it.</p>\n\n<p>Main issue was the software I was using to interface using websockets.\nIt's serialization method defaulted to JSON, however, JSON has been modifying my byte data.</p>\n\n<p>I had the websocket framework use a different serializer, <code>msgpack</code>, which can handle bytes properly and not corrupt the data.</p>\n"}], "owner": {"reputation": 999, "user_id": 1294405, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/84caf331384f04ff1ccfbbe5b637a240?s=128&d=identicon&r=PG", "display_name": "zyeek", "link": "https://stackoverflow.com/users/1294405/zyeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 610, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1485473040, "creation_date": 1485386677, "last_edit_date": 1485456543, "question_id": 41863542, "link": "https://stackoverflow.com/questions/41863542/having-trouble-packing-blob-to-proper-binary-format", "title": "Having trouble packing blob to proper binary format", "body": "<h2>What I am trying to do</h2>\n\n<p>I record mic. I have a chunk of the audio as a <code>blob</code> with type <code>audio/wav</code>. I want to transfer this data in json and send it over to another machine, which isn't related to a browser. Then that device plays the sound on its system.</p>\n\n<h2>What I have</h2>\n\n<p>This is what I am doing on the browser:</p>\n\n<pre><code>// .js\n\nnavigator.mediaDevices.getUserMedia({audio: true}).then(onMediaSuccess);\n\nfunction onMediaSuccess(stream) {\n    var mediaRecorder = new MediaStreamRecorder(stream);\n    mediaRecorder.mimeType = 'audio/wav';\n\n    mediaRecorder.ondataavailable = handleDataAvailable;\n    mediaRecorder.start();\n    function handleDataAvailable(blob) {\n        BlobUtil.blobToBinaryString(blob).then(function(binaryString) {\n                // success\n                ws.publish(`com.app.audioStream__`, binaryString);\n            }\n            console.log('BlobUtil: success')\n        }).catch(function(err) {\n            // error\n            console.log('BlobUtil: error')\n        });\n    }\n}\n</code></pre>\n\n<p>This is my Python side, not much really going on.</p>\n\n<pre><code># .py\n\nimport pyaudio\n\nCHUNK = 1024\nCHANNELS = 1\nRATE = 44100\nWIDTH = 2\n\np = pyaudio.PyAudio()\nstream = p.open(format=p.get_format_from_width(WIDTH),\n                channels=CHANNELS,\n                rate=RATE,\n                output=True,\n                frames_per_buffer=CHUNK)\n\nstream.start_stream()\n\n# when the .js triggers the event this runs. So on every chunk sent.\ndef audioStream(data):\n    if stream.is_active():\n        print data[:100]\n        stream.write(data) # encoding error on data\n\nyield self.subscribe(audioStream, 'com.app.audioStream__{}'.format(''))\n\nstream.stop_stream()\nstream.close()\n</code></pre>\n\n<p>The <a href=\"http://pastebin.com/cSEtNtpD\" rel=\"nofollow noreferrer\">binaryString</a> doesn't look correct. It is close to looking like the wav file, but seems like it is using a different encoding.</p>\n\n<p>However, when reading the file (.wav) directly in python it results in the following <a href=\"http://pastebin.com/fP7hZtbw\" rel=\"nofollow noreferrer\">byte string</a>.</p>\n\n<p>Also when I transfer my data using sockets which serializes everything in JSON.</p>\n\n<p>So, I need to somehow get from <code>blob --&gt; binaryString --&gt; json(unicode) --&gt; bytes</code>. I am unsure if binary string and bytes are somehow different or it is getting ruined by being forced to go through JSON serialization.</p>\n\n<hr>\n\n<h2>Edit:</h2>\n\n<p><a href=\"https://github.com/feross/blob-to-buffer\" rel=\"nofollow noreferrer\">toBuffer</a> is helping.</p>\n\n<p>What I found on another post <code>JSON cannot encode binary data. You should parse your buffer (probably as UTF8), or use base64.</code> Going to try it out and see if it works</p>\n\n<p>With the help of toBuffer I was able to get the correct format on the browser side</p>\n\n<p>code:</p>\n\n<pre><code>function handleDataAvailable(blob) {\n    toBuffer(blob, function(err, buffer) {\n        if (err)\n            throw err\n\n        ws.publish(`com.app.audioStream__`, buffer.toString());\n    });\n}\n</code></pre>\n\n<p>However, when I get it from the Python side of the websocket. It displays the data it the correct way, but the encoding is off. Stuck in <code>unicode</code> and I can't decode it with anything it always results in a `exceptions.UnicodeEncodeError: 'ascii' codec can't encode character u'\\ufffd' in position 5: ordinal not in range(128). However, when I copy and paste the printed data into python terminal and play it from there it works. </p>\n\n<p>It seems when I am getting data from socket which uses JSON may be tampering with the encoding of the binary data.</p>\n\n<p>I also try doing <code>buffer.toJSON()</code> which on the receiving end of the JSON I get:</p>\n\n<pre><code>[82L, 73L, 70L, 70L, 36L, 192L, 2L, 0L, 87L, 65L, 86L, 69L, 102L, 109L, 116L, 32L, 16L, 0L, 0L, 0L, 1L, 0L, 2L, 0L, 68L, 172L, 0L\n, 0L, 16L, 177L, 2L, 0L, 4L, 0L, 16L, 0L, 100L, 97L, 116L, 97L, 0L, 192L, 2L, 0L, 232L, 255L, 232L, 255L, 254L, 255L, 254L, 255L, 5L, 0L, 5L, 0L, 253L, 25\n5L, 253L, 255L, 3L, 0L, 3L, 0L, 0L, 0L, 0L, 0L, 252L, 255L, 252L, 255L, 250L, 255L, 250L, 255L, 243L, 255L, 243L, 255L, 251L, 255L, 251L, 255L, 249L, 255L\n, 249L, 255L, 250L, 255L, 250L, 255L, 1L, 0L, 1L, 0L, 7L, 0L, 7L, 0L]\n</code></pre>\n\n<p>I am unsure what to do with this info. I am guessing it is long representation of bytes. So bytes array, which I need to convert to a bytes string.</p>\n\n<p>I found this on another post:</p>\n\n<pre><code>def Dump(n): \n  s = '%x' % n\n  if len(s) &amp; 1:\n    s = '0' + s\n  return s.decode('hex')\nprint repr(Dump(1245427))  #: '\\x13\\x00\\xf3'\n</code></pre>\n\n<p>Trying to pull apart the binary data above.</p>\n\n<p><code>b''.join([Dump(i) for i in data])</code></p>\n\n<p>I yield </p>\n\n<pre><code>'RIFF$\\xc0\\x02\\x00WAVEfmt \\x10\\x00\\x00\\x00\\x01\\x00\\x02\\x00D\\xac\\x00\\x00\\x10\\xb1\\x02\\x00\\x04\\x00\\x10\\x00data\\x00\\xc0\\x02\\x00\\xe8\\xff\\xe8\\xff\\xfe\\xff\\xfe\\xff\\x05\\x00\\x05\\x00\\xfd\\x19\\x05\\xfd\\xff\\x03\\x00\\x03\\x00\\x00\\x00\\x00\\x00\\xfc\\xff\\xfc\\xff\\xfa\\xff\\xfa\\xff\\xf3\\xff\\xf3\\xff\\xfb\\xff\\xfb\\xff\\xf9\\xff\\xf9\\xff\\xfa\\xff\\xfa\\xff\\x01\\x00\\x01\\x00\\x07\\x00\\x07\\x00'\n</code></pre>\n\n<p>It is close, but I need it to be something more like <code>RIFFX\ufffdWAVEfmt D\ufffd\ufffdXdata4\ufffd</code></p>\n\n<p>I cannot really do anything with it. Some of the bytes in there just won't allow for any en/de-coding. I just don't know where to go to get the proper format.</p>\n\n<p>I may not be understanding how my information is being handling when going through the socket and being read.</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1485386626, "post_id": 41863511, "comment_id": 70910741, "body": "Yes, it&#39;s overwritten. The output you want is a list of dictionaries - where&#39;s your list? Why not create the dictionaries <i>inside</i> the loop?"}, {"owner": {"reputation": 4649, "user_id": 5601284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qVVND.jpg?s=128&g=1", "display_name": "byxor", "link": "https://stackoverflow.com/users/5601284/byxor"}, "edited": false, "score": 3, "creation_date": 1485386635, "post_id": 41863511, "comment_id": 70910745, "body": "I <i>really</i> hope you aren&#39;t storing passwords for something important in plaintext."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1485386929, "post_id": 41863511, "comment_id": 70910831, "body": "The problem is that you want a <i>list of dictionaries</i>. <code>userData</code> is <b>not</b> a dictionary..."}, {"owner": {"reputation": 664, "user_id": 2771301, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CFLQl.jpg?s=128&g=1", "display_name": "Dinesh.hmn", "link": "https://stackoverflow.com/users/2771301/dinesh-hmn"}, "edited": false, "score": 0, "creation_date": 1485386968, "post_id": 41863511, "comment_id": 70910840, "body": "Can&#39;t you store it as a dictionary that contains the email address as key and password as value. It would make things easier."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1485387523, "post_id": 41863511, "comment_id": 70911005, "body": "If you&#39;re reading CSV use the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\"><b><code>csv</code></b></a> module. There&#39;s a class named <a href=\"https://docs.python.org/2/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\"><b><code>DictReader</code></b></a> to convert the rows into dictionaries."}], "answers": [{"tags": [], "owner": {"reputation": 1199, "user_id": 3388344, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2c8d85437770e2694255fca482b01d28?s=128&d=identicon&r=PG&f=1", "display_name": "Jorj", "link": "https://stackoverflow.com/users/3388344/jorj"}, "is_accepted": false, "score": 2, "last_activity_date": 1485387038, "creation_date": 1485387038, "answer_id": 41863603, "question_id": 41863511, "link": "https://stackoverflow.com/questions/41863511/how-do-i-create-a-dictionary-from-given-txt-file/41863603#41863603", "title": "How do I create a dictionary from given txt file?", "body": "<p>You want a list of dictionaries, but you only create a dictionary that it's modified each time in for loop. You have to create another dictionary for each line and store it in list.<br>\nTry this:</p>\n\n<pre><code>file = open('username.txt', 'r')\nuserDataList = []\n\nfor line in file:\n   x = line.split(',')\n   userData = {}\n   userData['username'] = x[0]\n   userData['password'] = x[1]\n   userDataList.append(userData)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 1154981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b12a117ce6a055ff33dea9e47083f77?s=128&d=identicon&r=PG", "display_name": "chenjesu", "link": "https://stackoverflow.com/users/1154981/chenjesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1485387541, "creation_date": 1485387541, "answer_id": 41863690, "question_id": 41863511, "link": "https://stackoverflow.com/questions/41863511/how-do-i-create-a-dictionary-from-given-txt-file/41863690#41863690", "title": "How do I create a dictionary from given txt file?", "body": "<p>This should work:</p>\n\n<pre><code>file = open('username.txt', 'r')\nuserData = {}\n\nfor line in file:\n   x = line.split(',')\n   userData[x[0]] = x[1]\n</code></pre>\n\n<p>In your original code you're not actually altering the dictionary, just one username and password.  </p>\n\n<p>EDIT: I misread the question.  Mine stores each username as a key and each password as the value.</p>\n"}, {"tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": false, "score": 0, "last_activity_date": 1485388604, "last_edit_date": 1485388604, "creation_date": 1485387872, "answer_id": 41863743, "question_id": 41863511, "link": "https://stackoverflow.com/questions/41863511/how-do-i-create-a-dictionary-from-given-txt-file/41863743#41863743", "title": "How do I create a dictionary from given txt file?", "body": "<p>Use <a href=\"https://docs.python.org/2/library/csv.html#csv.DictReader\" rel=\"nofollow noreferrer\"><code>DictReader</code></a> in the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow noreferrer\"><code>csv</code></a> module:</p>\n\n<pre><code>import csv\n\nwith open('usernames.txt') as csvfile:\n    reader = csv.DictReader(csvfile,\n                            fieldnames=['username', 'password'])\n    users = list(reader)\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>&gt;&gt;&gt; import csv\n&gt;&gt;&gt; import pprint\n&gt;&gt;&gt; from StringIO import StringIO\n\n&gt;&gt;&gt; content = \"\"\"something@test.com,test123\n... somethingelse@test.com,test1234\n... somethingmore@test.com,test123\"\"\"\n\n&gt;&gt;&gt; usernames = StringIO(content)\n&gt;&gt;&gt; pprint(list(csv.DictReader(usernames,\n...                            fieldnames=['username', 'password'])))\n[OrderedDict([('username', 'something@test.com'), ('password', 'test123')]),\n OrderedDict([('username', 'somethingelse@test.com'),\n              ('password', 'test1234')]),\n OrderedDict([('username', 'somethingmore@test.com'), ('password', 'test123')])]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1485393581, "creation_date": 1485393581, "answer_id": 41864528, "question_id": 41863511, "link": "https://stackoverflow.com/questions/41863511/how-do-i-create-a-dictionary-from-given-txt-file/41864528#41864528", "title": "How do I create a dictionary from given txt file?", "body": "<p>It looks like what you actually want to do is create a list of dictionary objects. I'd use the <code>csv</code> module to read the data, since the content of the file appears to be that of Character Separated Values.</p>\n\n<pre><code>import csv\nimport sys\n\ndef open_csv(filename, mode='r'):\n    \"\"\"Open a csv file in proper mode depending on Python verion.\"\"\"\n    return(open(filename, mode=mode+'b') if sys.version_info[0] == 2 else\n           open(filename, mode=mode, newline=''))\n\ndef read_data(filename, fieldnames):\n    with open_csv(filename, mode='r') as file:\n        for row in csv.DictReader(file, fieldnames=fieldnames):\n            yield row\n\nfieldnames = 'username password'.split()\nuser_data = [row for row in read_data('username.txt', fieldnames)]\n\nprint(user_data)\n</code></pre>\n\n<p>Output:</p>\n\n<p><code>[{'username': 'something@test.com', 'password': 'test123'}, \n  {'username': 'somethingelse@test.com', 'password': 'test1234'}, \n  {'username': 'somethingmore@test.com', 'password': 'test123'}]</code></p>\n"}], "owner": {"reputation": 17, "user_id": 7434357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a962ff92a9358ddc2fd0ee8f50d5be?s=128&d=identicon&r=PG&f=1", "display_name": "burappi", "link": "https://stackoverflow.com/users/7434357/burappi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1485393581, "creation_date": 1485386517, "last_edit_date": 1485392597, "question_id": 41863511, "link": "https://stackoverflow.com/questions/41863511/how-do-i-create-a-dictionary-from-given-txt-file", "title": "How do I create a dictionary from given txt file?", "body": "<p>I have a text file consisting of usernames and a passwords, separated by a comma that I need to convert into a dictionary like this:</p>\n\n<pre><code>userData = [{'username': 'something@test.com', 'password': 'test123'},\n            {'username': 'somethingelse@test.com', 'password': 'test1234'},\n            {'username': 'somethingmore@test.com', 'password': 'test123'},\n            ]\n</code></pre>\n\n<p>The file looks like this:</p>\n\n<pre><code>something@test.com,test123\nsomethingelse@test.com,test1234\nsomethingmore@test.com,test123\n</code></pre>\n\n<p>I tried the following, but it only returns the last line of the text file, so I assume the dictionary is overwritten for each line.</p>\n\n<pre><code>file = open('username.txt', 'r')\nuserData = {}\nuserData['username'] = ''\nuserData['password'] = ''\n\nfor line in file:\n   x = line.split(',')\n   un = x[0]\n   pw = x[1]\n   userData['username']=un\n   userData['password']=pw\n</code></pre>\n\n<p>What can I do to get the correct output?</p>\n"}, {"tags": ["python", "python-requests"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1485386665, "post_id": 41863498, "comment_id": 70910754, "body": "You have a list of tuples. I think you just want <code>[t[0] for t in list2]</code>"}, {"owner": {"reputation": 664, "user_id": 2771301, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CFLQl.jpg?s=128&g=1", "display_name": "Dinesh.hmn", "link": "https://stackoverflow.com/users/2771301/dinesh-hmn"}, "edited": false, "score": 0, "creation_date": 1485386782, "post_id": 41863498, "comment_id": 70910787, "body": "Are you referring to the  &quot; (u&#39; &quot; in the result? You stored the data as a list of tuples, and as a string in it, python prints that. It refers to unicode. For reference <a href=\"http://stackoverflow.com/questions/2464959/whats-the-u-prefix-in-a-python-string\" title=\"whats the u prefix in a python string\">stackoverflow.com/questions/2464959/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 479, "user_id": 1909166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3vy6H.jpg?s=128&g=1", "display_name": "Apollo2020", "link": "https://stackoverflow.com/users/1909166/apollo2020"}, "reply_to_user": {"reputation": 83, "user_id": 5256048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1194263437257151/picture?type=large", "display_name": "Ant", "link": "https://stackoverflow.com/users/5256048/ant"}, "edited": false, "score": 0, "creation_date": 1485392710, "post_id": 41863681, "comment_id": 70912384, "body": "Sounds like there are non-ascii unicode characters in some of the data your are processing. I used str() in the list comprehension to try return a &quot;nicely printable&quot; string but, to be honest, it probably isn&#39;t necessary. I modified my example to remove it. The leading u before each string simply indicates that it is a unicode string."}, {"owner": {"reputation": 83, "user_id": 5256048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1194263437257151/picture?type=large", "display_name": "Ant", "link": "https://stackoverflow.com/users/5256048/ant"}, "edited": false, "score": 1, "creation_date": 1485394410, "post_id": 41863681, "comment_id": 70912804, "body": "It was some title with weird characters. If you run the code &amp; pull the data from RottenTomatoes.com you&#39;ll see it&#39;s position [9]. I deleted it and I deleted my comment asking you about it. Thank you for pointing out the title and number were different items. I learned a lot here."}], "tags": [], "owner": {"reputation": 479, "user_id": 1909166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3vy6H.jpg?s=128&g=1", "display_name": "Apollo2020", "link": "https://stackoverflow.com/users/1909166/apollo2020"}, "is_accepted": true, "score": 0, "last_activity_date": 1485392705, "last_edit_date": 1485392705, "creation_date": 1485387479, "answer_id": 41863681, "question_id": 41863498, "link": "https://stackoverflow.com/questions/41863498/trying-to-remove-the-first-3-and-last-6-characters-from-each-item-in-a-list/41863681#41863681", "title": "Trying to Remove the First 3 and Last 6 Characters from Each Item in a List", "body": "<p>You want the first item in each tuple contained in the list, like so:</p>\n\n<pre><code>&gt;&gt;&gt; mylist = [\n    (u'Ouija: Origin of Evil', 82),\n    (u'Long Way North (Tout en haut dumonde)', 98),\n    (u'Come And Find Me', 67), (u'My Father, Die', 78),\n    (u\"Roger Corman's Death Race 2050\", 100) ]\n&gt;&gt;&gt; result = [i[0] for i in mylist]\n&gt;&gt;&gt; print result\n&gt;&gt;&gt; ['Ouija: Origin of Evil', 'Long Way North (Tout en haut dumonde)', 'Come And Find Me', 'My Father, Die', \"Roger Corman's Death Race 2050\"]\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 5256048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1194263437257151/picture?type=large", "display_name": "Ant", "link": "https://stackoverflow.com/users/5256048/ant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 41863681, "answer_count": 1, "score": 0, "last_activity_date": 1485394059, "creation_date": 1485386453, "last_edit_date": 1485394059, "question_id": 41863498, "link": "https://stackoverflow.com/questions/41863498/trying-to-remove-the-first-3-and-last-6-characters-from-each-item-in-a-list", "title": "Trying to Remove the First 3 and Last 6 Characters from Each Item in a List", "body": "<p>This code pulls a little bit of data from RottenTomatoes. (Movie titles and tomato scores.) I'd like to now remove the the last 6 and first 3 characters from each item so only the movie title remains. I know that what I'm trying now would only remove the numbers if it worked.\nI don't know if what I'm trying is in the ballpark but it's saying I have a tuple when I thought I had a list so it may be more complicated than I understand.</p>\n\n<p>Example of what I have...</p>\n\n<pre><code>[(u'Ouija: Origin of Evil', 82), (u'Long Way North (Tout en haut du\nmonde)', 98), (u'Come And Find Me', 67), (u'My Father, Die', 78),\n(u\"Roger Corman's Death Race 2050\", 100), ...\n</code></pre>\n\n<p>What I'd like done to it (as a permanent change to the list &amp; not just printed in a new way)...</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[Ouija: Origin of Evil, Long Way North (Tout en haut du monde), Come\nAnd Find Me, My Father, Die, Roger Corman's Death Race 2050\"...\n</code></pre>\n\n<p>My code...</p>\n\n<pre><code>import requests\n\nr = requests.get('https://www.rottentomatoes.com/api/private/v2.0/'\n                 'browse?page=1&amp;limit=30&amp;type=dvd-top-rentals&amp;'\n                 'services=amazon%3Bamazon_prime%3Bfandango_now%'\n                 '3Bhbo_go%3Bitunes%3Bnetflix_iw%3Bvudu&amp;sortBy=popularity')\n\nmovies = []\ndata = r.json()\nfor result in data[\"results\"]:\n    movies.append((result[\"title\"], result[\"tomatoScore\"]))\n\nlist2 = [i for i in movies if i[1] &gt;=60]\nlist2 = ' '.join(list2).replace('1''2''3''4''5''6''7''8''9','').split()\n\nprint list2\n</code></pre>\n\n<p>The error...</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(venv) My-MacBook-Pro:tor Me$ python bs.py\nTraceback (most recent call last):\n  File \"bs.py\", line 16, in &lt;module&gt;\n    list2 = ' '.join(list2).replace('1''2''3''4''5''6''7''8''9','').split()\nTypeError: sequence item 0: expected string, tuple found\n(venv) My-MacBook-Pro:tor Me$\n</code></pre>\n"}, {"tags": ["python", "ide", "sublimetext3", "jupyter-notebook", "data-science"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 6188767, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205936769689378/picture?type=large", "display_name": "Shawn Vo", "link": "https://stackoverflow.com/users/6188767/shawn-vo"}, "is_accepted": false, "score": 1, "last_activity_date": 1485411415, "creation_date": 1485411415, "answer_id": 41867829, "question_id": 41863487, "link": "https://stackoverflow.com/questions/41863487/how-to-use-both-jupyter-notebook-and-sublime-for-data-science-projects/41867829#41867829", "title": "How to use both Jupyter Notebook and Sublime for Data Science projects?", "body": "<p>I use <a href=\"https://ipython.org/ipython-doc/3/interactive/magics.html\" rel=\"nofollow noreferrer\">ipython magic commands</a> to help me switch between a text editor and a ipython notebook. </p>\n\n<p>Specifically, I like to experiment with the code in the Notebook for the reasons you mentioned, and then when I'm ready to integrate it as a class in a bigger system I use the <code>%%writefile filename.py</code> command which will export that cell into a .py file. </p>\n\n<p>You can also use <code>%load filename.py</code> and <code>%run myfile.py</code> to bring .py files into the notebook. </p>\n"}], "owner": {"reputation": 29, "user_id": 7470595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/560454a885a6a8a958ede824e6a4c955?s=128&d=identicon&r=PG&f=1", "display_name": "mauricio", "link": "https://stackoverflow.com/users/7470595/mauricio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1878, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1485411415, "creation_date": 1485386383, "question_id": 41863487, "link": "https://stackoverflow.com/questions/41863487/how-to-use-both-jupyter-notebook-and-sublime-for-data-science-projects", "title": "How to use both Jupyter Notebook and Sublime for Data Science projects?", "body": "<p>I'm learning some Data Science and for that I'm using Python with Jupyter Notebook. Which I think it's great for data analysis, mainly because it\u2019s super easy to run step-by-step code. You can see everything that is happening.</p>\n\n<p>On the other hand, to do more complex projects, like a web crawler or an Object Oriented program to extract information from an API, I\u2019m using Sublime Text3. IMO it\u2019s simple, clean, light\u2026 perfect. Also I think that .py is better than .ipynb for that (I don't even know if it's possible to do OO with Jupyter).</p>\n\n<p>My problem now is integrating these two tools. The best I can do now is convert the dictionnaires in some .csv file and read it manually in Jupyter notebook. Obviously it doesn't sounds very smart and it is like a temporary solution just for experimentation.</p>\n\n<p>This is the first time I'm dealing with a project which I need to integrate more than one environment and not only working with the same languages with all the files in the same folder etc. so I'm not very familiar on how to approach that. </p>\n\n<p>If someone could explain the right way of integrating these two IDEs, how to make all the process more 'automatic', if it's better to use some database and then extract with SQL or something like that I'd appreciate very much. </p>\n\n<p>PS: Also, if you guys have any material on how should a Python Data Science project be organized it would be awesome. Thanks!</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 2330, "user_id": 1014508, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e12d101bc96cf4f266bc5f1247d8c972?s=128&d=identicon&r=PG", "display_name": "mislavcimpersak", "link": "https://stackoverflow.com/users/1014508/mislavcimpersak"}, "is_accepted": true, "score": 0, "last_activity_date": 1485387241, "creation_date": 1485387241, "answer_id": 41863643, "question_id": 41863471, "link": "https://stackoverflow.com/questions/41863471/what-should-put-in-config-files-django-install/41863643#41863643", "title": "what should put in config files django install?", "body": "<p>Just literally put <code>PROJECT_DIR = Path(__file__).parent</code> in you <code>settings.py</code> file.</p>\n\n<p>That way <code>PROJECT_DIR</code> setting will work even if you move you project elsewhere (other local dir, other computer).</p>\n"}], "owner": {"reputation": 146, "user_id": 7412219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c5f31f5ca8911de748a679e8a547e73?s=128&d=identicon&r=PG&f=1", "display_name": "user7412219", "link": "https://stackoverflow.com/users/7412219/user7412219"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 41863643, "answer_count": 1, "score": -1, "last_activity_date": 1485720713, "creation_date": 1485386306, "last_edit_date": 1485720713, "question_id": 41863471, "link": "https://stackoverflow.com/questions/41863471/what-should-put-in-config-files-django-install", "title": "what should put in config files django install?", "body": "<p>I read <a href=\"https://simpleisbetterthancomplex.com/2015/11/30/starting-a-new-django-18-project.html\" rel=\"nofollow noreferrer\">this tutorial</a> but I don't know how to implement the following part:</p>\n\n<blockquote>\n  <p>First, remove the <code>os</code> import and the <code>BASE_DIR</code> definition and add the following imports:  </p>\n\n<pre>from decouple import config\nfrom unipath import Path\nimport dj_database_url\n</pre>\n  \n  <p>Define the <code>PROJECT_DIR</code>:</p>\n\n<pre>PROJECT_DIR = Path(__file__).parent</pre>\n</blockquote>\n\n<p>I tried the following but it seems incorrect:</p>\n\n<pre><code>import os\nfrom decouple import config\nfrom unipath import Path\nimport dj_database_url\nPROJECT_DIR = \"/home/diegonode/simple_django_skeleton/proyecto\"\n</code></pre>\n\n<p>What is the correct value of <code>PROJECT_DIR</code>?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 664, "user_id": 2771301, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CFLQl.jpg?s=128&g=1", "display_name": "Dinesh.hmn", "link": "https://stackoverflow.com/users/2771301/dinesh-hmn"}, "edited": false, "score": 0, "creation_date": 1485386464, "post_id": 41863461, "comment_id": 70910686, "body": "have you tried using the string.replace() method?"}], "answers": [{"tags": [], "owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "is_accepted": true, "score": 2, "last_activity_date": 1485387063, "creation_date": 1485387063, "answer_id": 41863611, "question_id": 41863461, "link": "https://stackoverflow.com/questions/41863461/removing-brackets-and-quotes-in-output/41863611#41863611", "title": "Removing Brackets and Quotes in Output", "body": "<p>First, <code>cmd</code> become a list, change it to become a string by unwrapping surrounding <code>[.....]</code></p>\n\n<pre><code>cmd = 'raidcom {} -s {} -I{}'.format(list(args),\n      storage_id, horcm_num)\n</code></pre>\n\n<p><code>list(args)</code>, <code>storage_id</code>, <code>horcm_num</code> are list. They need to be passed as arguments of strings, not lists; Use <code>func(*...)</code> to expand list into argument:</p>\n\n<pre><code>def fn_run_cmd(*args):\n    cmd = 'raidcom {} -s {} -I{}'.format(*list(args) + storage_id + horcm_num)\n    print(cmd)\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 7259469, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b2b5661676825c93813d2faa024452d7?s=128&d=identicon&r=PG&f=1", "display_name": "Clarkus978", "link": "https://stackoverflow.com/users/7259469/clarkus978"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 41863611, "answer_count": 1, "score": 1, "last_activity_date": 1485387069, "creation_date": 1485386259, "last_edit_date": 1485387069, "question_id": 41863461, "link": "https://stackoverflow.com/questions/41863461/removing-brackets-and-quotes-in-output", "title": "Removing Brackets and Quotes in Output", "body": "<p>I've got a couple of functions that I'm working with and I've tried using <code>.split()</code> to remove the brackets, but the brackets and quotes still show in the output. I have the functions separate because I plan on calling <code>fn_run_cmd</code> within many different functions.</p>\n\n<pre><code>def fn_run_cmd(*args):\n    cmd = ['raidcom {} -s {} -I{}'.format(list(args),\n           storage_id, horcm_num)]\n    print(cmd)\n\ndef fn_find_lun(ldev, port, gid):\n    result = fn_run_raidcom('get lun -port {}-{}'.format(port, gid))\n    return(result)\n    match = re.search(r'^{} +{} +\\S+ +(?P&lt;lun&gt;\\d+) +1 +{} '.format(\n                  port, gid, ldev), result[1], re.M)\n    if match:\n        return(match.group('lun'))\n    return None\n</code></pre>\n\n<p>Below is the output I'm getting:</p>\n\n<pre><code>\"raidcom ['get lun -port CL1-A-2'] -s [987654] -I[99]\"\n</code></pre>\n\n<p>Desired result:</p>\n\n<pre><code>raidcom get lun -port CL1-A-2 -s 987654 -I99\n</code></pre>\n"}, {"tags": ["python", "nlp", "cluster-analysis", "k-means", "tweets"], "comments": [{"owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "edited": false, "score": 1, "creation_date": 1485417919, "post_id": 41863456, "comment_id": 70920117, "body": "There are many choices, but based on my experience they all do not work on Tweets. You have duplicates (easy), near-duplicates (more challenging, at scale). But clusters - too much garbage in Twitter to work."}], "answers": [{"comments": [{"owner": {"reputation": 900, "user_id": 5181696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3cd5eeb0cc903c1a366234e165a49dd6?s=128&d=identicon&r=PG&f=1", "display_name": "lucas rodriguez", "link": "https://stackoverflow.com/users/5181696/lucas-rodriguez"}, "edited": false, "score": 0, "creation_date": 1485453441, "post_id": 41870782, "comment_id": 70941785, "body": "Could I apply k-means after I perform the first step?  Also cant seem to find vcluster around care to provide a link? Finally can you go into detail regarding your last statement dont think I fully understand ill try this out and verify the answer as soon as I see it&#39;s what im looking for!"}, {"owner": {"reputation": 3175, "user_id": 2711596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYnJX.jpg?s=128&g=1", "display_name": "Debasis", "link": "https://stackoverflow.com/users/2711596/debasis"}, "reply_to_user": {"reputation": 900, "user_id": 5181696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3cd5eeb0cc903c1a366234e165a49dd6?s=128&d=identicon&r=PG&f=1", "display_name": "lucas rodriguez", "link": "https://stackoverflow.com/users/5181696/lucas-rodriguez"}, "edited": false, "score": 0, "creation_date": 1485781600, "post_id": 41870782, "comment_id": 71053562, "body": "Yes... u can apply K-means... Go through the documentation of vcluster... one of the parameters is takes is &#39;clmethod&#39; which for K-means should be &#39;direct&#39;... go through this manual <a href=\"http://glaros.dtc.umn.edu/gkhome/fetch/sw/cluto/manual.pdf\" rel=\"nofollow noreferrer\">glaros.dtc.umn.edu/gkhome/fetch/sw/cluto/manual.pdf</a>"}], "tags": [], "owner": {"reputation": 3175, "user_id": 2711596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYnJX.jpg?s=128&g=1", "display_name": "Debasis", "link": "https://stackoverflow.com/users/2711596/debasis"}, "is_accepted": true, "score": 1, "last_activity_date": 1485424393, "creation_date": 1485424393, "answer_id": 41870782, "question_id": 41863456, "link": "https://stackoverflow.com/questions/41863456/tweet-clustering-after-semantic-analysis/41870782#41870782", "title": "Tweet clustering after semantic analysis", "body": "<p>If you have a set of documents that you want to cluster (based on their content), the easiest option is to use the tool <a href=\"http://glaros.dtc.umn.edu/gkhome/cluto/cluto/overview\" rel=\"nofollow noreferrer\">Cluto</a>. You basically have to run it in two steps.</p>\n\n<p>The first step is to execute the program <em>doc2mat</em> which takes an input file that is supposed to contain all the documents, one document in each line. The doc2mat program will write out a matrix file, comprised of the tf-idf vector representation for each document.</p>\n\n<p>You then need to feed in this matrix file to the program <em>vcluster</em> which will produce the clustering results. You can also evaluate the clustering results, if you input a reference class file to vcluster.</p>\n"}], "owner": {"reputation": 900, "user_id": 5181696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3cd5eeb0cc903c1a366234e165a49dd6?s=128&d=identicon&r=PG&f=1", "display_name": "lucas rodriguez", "link": "https://stackoverflow.com/users/5181696/lucas-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 41870782, "answer_count": 1, "score": -1, "last_activity_date": 1485424393, "creation_date": 1485386241, "question_id": 41863456, "link": "https://stackoverflow.com/questions/41863456/tweet-clustering-after-semantic-analysis", "title": "Tweet clustering after semantic analysis", "body": "<p>I want to cluster a set of tweets. I have already retrieved the tweets, cleaned them up, applied a Na\u00efve Bayes classifier to them and divided them into two files, positive and negative. Finally, I have done the following to search for similarities  between each tweet:</p>\n\n<pre><code>  with open(\"positive.txt\", \"r\") as pt:\n        lines = pt.readlines()\n        for lineA in lines:\n            vectorA = text_to_vector(lineA)\n            for lineB in lines:\n                vectorB = text_to_vector(lineB)\n                cosine = get_cosine(vectorA, vectorB)\n                print lineA, \"\\n\", lineB, \"\\n\", \"Cosine:\", cosine\n</code></pre>\n\n<p>Now this is supposed to measure the similarity of each sentence relative to the other, I was thinking the next step might be to add up the values for the all the phrases so add up all the cosine values for the relation of sentence n to all the sentence, and after doing this, plot them and apply something like KMeans, I'm not entirely sure I'm taking a correct approach here, so any help is much appreciated.</p>\n"}, {"tags": ["python", "argparse", "sys"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1485386534, "post_id": 41863442, "comment_id": 70910715, "body": "It&#39;s not clear to me what you&#39;re asking, but it looks like you should be using subparsers for <code>get</code> and <code>post</code> and <code>action=&#39;store_true&#39;</code> for whatever <code>-v</code> is (verbose?) Why does it matter if the flags come before or after the URL?"}, {"owner": {"reputation": 25, "user_id": 7455887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9172de7bef3306b3cde697976820d6?s=128&d=identicon&r=PG&f=1", "display_name": "puzzle", "link": "https://stackoverflow.com/users/7455887/puzzle"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1485386705, "post_id": 41863442, "comment_id": 70910767, "body": "-v is basically verbosity, if we add &#39;-v&#39; the output is going to show the headers of our get request, if you don&#39;t put &#39;-v&#39; then you will only the html response..."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7455887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9172de7bef3306b3cde697976820d6?s=128&d=identicon&r=PG&f=1", "display_name": "puzzle", "link": "https://stackoverflow.com/users/7455887/puzzle"}, "edited": false, "score": 0, "creation_date": 1485388959, "post_id": 41863597, "comment_id": 70911394, "body": "thank you for the explanation, as this explain very well the issues that I was having"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1485387823, "last_edit_date": 1485387823, "creation_date": 1485387005, "answer_id": 41863597, "question_id": 41863442, "link": "https://stackoverflow.com/questions/41863442/how-can-i-have-a-usage-as-follow-in-python/41863597#41863597", "title": "How can I have a Usage as follow in python", "body": "<p>With:</p>\n\n<pre><code>import argparse\n\nparser = argparse.ArgumentParser(add_help=False)\nparser.add_argument(\"arg1\", nargs='?')\nparser.add_argument(\"arg2\", nargs='?')\nparser.add_argument(\"-v\",  nargs='?')\nparser.add_argument(\"-h\", '--h', nargs='?', action='append')\n\nargs = parser.parse_args()\n\nparser.print_help()\n\nprint(args)\n</code></pre>\n\n<p>test runs:</p>\n\n<pre><code>1438:~/mypy$ python stack41863442.py \nusage: stack41863442.py [-v [V]] [-h [H]] [arg1] [arg2]\n\npositional arguments:\n  arg1\n  arg2\n\noptional arguments:\n  -v [V]\n  -h [H], --h [H]\nNamespace(arg1=None, arg2=None, h=None, v=None)\n\n1526:~/mypy$ python stack41863442.py get -v -h \"key: value\"\n....\nNamespace(arg1='get', arg2=None, h=['key: value'], v=None)\n\n1527:~/mypy$ python stack41863442.py get -v -h \"key: value\" google\nusage: stack41863442.py [-v [V]] [-h [H]] [arg1] [arg2]\nstack41863442.py: error: unrecognized arguments: google\n</code></pre>\n\n<p>Putting the 2nd positional argument right after the first works:</p>\n\n<pre><code>1528:~/mypy$ python stack41863442.py get google -v -h \"key: value\" \n...\nNamespace(arg1='get', arg2='google', h=['key: value'], v=None)\n</code></pre>\n\n<p>A <code>nargs='?'</code> Action is satisfied by an empty list.  So <code>arg2</code> is parsed right after <code>arg1</code>, leaving nothing to handle the <code>google</code>.</p>\n\n<pre><code>python stack41863442.py -v -h \"key: value\" get google\n</code></pre>\n\n<p>creates the same namespace.</p>\n\n<p>Be careful with multiple variable nargs arguments.  They don't always work together well.</p>\n\n<p>The <code>-v</code> will be a lot more useful if give it <code>const</code> and <code>default</code> values.   e.g. with defaults for the postionals as well:</p>\n\n<pre><code>1536:~/mypy$ python stack41863442.py \nNamespace(arg1='def1', arg2='def2', h=None, v='vdef')\n1536:~/mypy$ python stack41863442.py -v\nNamespace(arg1='def1', arg2='def2', h=None, v='vconst')\n1536:~/mypy$ python stack41863442.py -v fpp\nNamespace(arg1='def1', arg2='def2', h=None, v='fpp')\n</code></pre>\n\n<p>Here <code>get</code> is assigned to <code>-v</code>:</p>\n\n<pre><code>1538:~/mypy$ python stack41863442.py -v get google\nNamespace(arg1='google', arg2='def2', h=None, v='get')\n</code></pre>\n\n<p>For a <code>verbosity</code> 'switch', a <code>store_true</code> action might be better.  <code>count</code> action also is used if you want to use <code>-vvv</code> to signal extra verbose'.</p>\n\n<p>I didn't notice <code>-h</code> 'append', but I agree with the other answer.  That's an odd combination.  What is <code>-h</code> without any following argument supposed to mean?  In this test, the bare <code>-h</code> puts a <code>None</code> (default) in the <code>h</code> list.</p>\n\n<pre><code>1540:~/mypy$ python stack41863442.py -h test -h -h 'other;x'\nNamespace(arg1='def1', arg2='def2', h=['test', None, 'other;x'], v='vdef')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 7455887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9172de7bef3306b3cde697976820d6?s=128&d=identicon&r=PG&f=1", "display_name": "puzzle", "link": "https://stackoverflow.com/users/7455887/puzzle"}, "edited": false, "score": 0, "creation_date": 1485387952, "post_id": 41863632, "comment_id": 70911118, "body": "Yes for -h I want to be able to do either <code>-h hello: World -h world: hello</code> and <code>-h hello: world world:hello</code> and for the rest thank you, it all makes sense now"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 25, "user_id": 7455887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9172de7bef3306b3cde697976820d6?s=128&d=identicon&r=PG&f=1", "display_name": "puzzle", "link": "https://stackoverflow.com/users/7455887/puzzle"}, "edited": false, "score": 0, "creation_date": 1485388040, "post_id": 41863632, "comment_id": 70911132, "body": "@puzzle don&#39;t allow either, that is going to add a lot of overhead to the parsing. If you make the interface <code>-h hello world -h world hello</code> then <code>argparse</code> can do all of the work for you, giving <code>[[&#39;hello&#39;, &#39;world&#39;], [&#39;world&#39;, &#39;hello&#39;]]</code> without you having to intervene. Also, note <a href=\"http://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}, {"owner": {"reputation": 25, "user_id": 7455887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9172de7bef3306b3cde697976820d6?s=128&d=identicon&r=PG&f=1", "display_name": "puzzle", "link": "https://stackoverflow.com/users/7455887/puzzle"}, "edited": false, "score": 0, "creation_date": 1485388853, "post_id": 41863632, "comment_id": 70911367, "body": "I was wondering, as my first argument I can have help, get and post, if I have help I can only have get or post after, such that   <code>httpclient help</code> would give a broad help section  and  <code>httpclient help get</code> or <code>httpclient help post</code> would give a much more precise help.   this is possible with subparsers? if so how would I implement that?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 25, "user_id": 7455887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9172de7bef3306b3cde697976820d6?s=128&d=identicon&r=PG&f=1", "display_name": "puzzle", "link": "https://stackoverflow.com/users/7455887/puzzle"}, "edited": false, "score": 0, "creation_date": 1485389030, "post_id": 41863632, "comment_id": 70911422, "body": "@puzzle yes, you can nest them; each one can have its own <code>help</code>."}], "tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 1, "last_activity_date": 1485387980, "last_edit_date": 1485387980, "creation_date": 1485387160, "answer_id": 41863632, "question_id": 41863442, "link": "https://stackoverflow.com/questions/41863442/how-can-i-have-a-usage-as-follow-in-python/41863632#41863632", "title": "How can I have a Usage as follow in python", "body": "<p>It's not clear why you're using <code>nargs='?'</code> for a <code>-v</code>erbosity flag - you shouldn't expect <em>any</em> value to get passed for that, let alone <em>multiple</em> values. </p>\n\n<hr>\n\n<p>Also it's odd to combine both <code>nargs='?'</code> and <code>action='append'</code>; do you want the user to do e.g. <code>-h one two</code> (<code>nargs='?'</code>) or <code>-h one -h two</code> (<code>action='append')</code> for the resulting <code>parsed_args.h == ['one', 'two']</code>? </p>\n\n<p>Alternatively, if what you want for <code>-h</code> is to allow the user to set it multiple times, each time with a separate <code>key</code> and <code>value</code>, then what you want is:</p>\n\n<pre><code>parser.add_argument('-h', nargs=2, metavar=('key', 'value'), action='append')\n</code></pre>\n\n<hr>\n\n<p>It's pretty straightforward to take two optional arguments followed by a positional argument, and configure the display:</p>\n\n<pre><code>import argparse\n\nparser = argparse.ArgumentParser(add_help=False)\nparser.add_argument('-v', action='store_true')\nparser.add_argument('-h', metavar='key: value', action='append')\nparser.add_argument('URL')\n\nprint(parser.parse_args())\n</code></pre>\n\n<p>Gets you:</p>\n\n<pre><code>$ python test.py\nusage: test.py [-v] [-h key: value] URL\ntest.py: error: too few arguments\n$ python test.py -h one -h two three\nNamespace(URL='three', h=['one', 'two'], v=False)\n$ python test.py hello -v\nNamespace(URL='hello', h=None, v=True)\n</code></pre>\n\n<p>To add the separate <code>get</code> and <code>post</code> subcommands, look into using <a href=\"https://docs.python.org/3/library/argparse.html#sub-commands\" rel=\"nofollow noreferrer\"><code>add_subparsers</code></a>; this will be much more effective than just allowing the user to give random input and comparing <code>== 'get'</code> etc.</p>\n\n<p>However, it's not clear what you actually want the user interface to be, so it's hard to say precisely how you should implement it.</p>\n"}], "owner": {"reputation": 25, "user_id": 7455887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9172de7bef3306b3cde697976820d6?s=128&d=identicon&r=PG&f=1", "display_name": "puzzle", "link": "https://stackoverflow.com/users/7455887/puzzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 41863632, "answer_count": 2, "score": 0, "last_activity_date": 1485461456, "creation_date": 1485386171, "last_edit_date": 1485461456, "question_id": 41863442, "link": "https://stackoverflow.com/questions/41863442/how-can-i-have-a-usage-as-follow-in-python", "title": "How can I have a Usage as follow in python", "body": "<p>I was wondering how I could I have a usage like this:</p>\n\n<p><code>Usage: httpclient get [-v] [-h key: value] URL</code></p>\n\n<p>Basically, right now, I named my file httpclient.py so that I can call it by httpclient, and the rest is as follow:</p>\n\n<pre><code>def main():\n    parser = argparse.ArgumentParser(add_help=False)\n    parser.add_argument(\"arg1\", nargs='?')\n    parser.add_argument(\"arg2\", nargs='?')\n    parser.add_argument(\"-v\",  nargs='?')\n    parser.add_argument(\"-h\", '--h', nargs='?', action='append')\n    args = parser.parse_args()\n    if args.arg1 == \"help\" and (args.arg2 == \"get\" or args.arg2 == \"post\"):\n        if args.arg2 == \"get\":\n            gethelp()\n        elif args.arg2 == \"post\":\n            posthelp()\n    elif args.arg1 == \"help\":\n        help()\n    elif args.arg1 == \"get\":\n        if args.v:\n            print(sys.argv[-1])\n            get(args.v,1,args.h)\n        else:\n            get(sys.argv[2],0,args.h)\n</code></pre>\n\n<p>so right now if I do something as follow on the command line:</p>\n\n<pre><code>Py -3 httpclient.py get -v \"http://google.com\" -h \"key: value\"\n</code></pre>\n\n<p>however as you can see the url is place just after -v, where as in the task it is asked to be placed at the end, and exactly one url. </p>\n\n<p>So everytime I write:</p>\n\n<pre><code>Py -3 httpclient.py get -v -h \"key: value\" \"http://google.com\"\n</code></pre>\n\n<p>I get an error:</p>\n\n<pre><code>usage: httpclient.py [-v [V]] [-h [H]] [arg1] [arg2]\nhttpc.py: error: unrecognized arguments: http://google.com\n</code></pre>\n\n<p>So how can I put the URL at the end of my cmd line arguments</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql", "apache-spark-ml"], "answers": [{"tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 1, "last_activity_date": 1485388128, "last_edit_date": 1485388128, "creation_date": 1485386938, "answer_id": 41863587, "question_id": 41863428, "link": "https://stackoverflow.com/questions/41863428/spark-counting-nans-in-a-vector-column/41863587#41863587", "title": "Spark: Counting NaNs in a vector column", "body": "<p>As far as I know Spark SQL doesn't provide method like this but it is trivial with <code>RDD</code> and a little bit of NumPy. </p>\n\n<pre><code>from pyspark.ml.linalg import DenseVector, Vector\nimport numpy as np\n\ndf = sc.parallelize([\n    (1, DenseVector([57.0, 1.0, 0.0, 0.0])),\n    (2, DenseVector([63.0, float(\"NaN\"), 0.0, 0.0])),\n    (3, DenseVector([74.0, 1.0, 3.0, float(\"NaN\")])),\n    (4, DenseVector([67.0, float(\"NaN\"), 0.0, 0.0])),\n    (5, DenseVector([float(\"NaN\"), 1.0, float(\"NaN\"), float(\"NaN\")])),\n]).toDF([\"id\", \"features\"])\n\n(df\n    .select(\"features\")\n    .rdd\n    .map(lambda x: np.isnan(x.features.array))\n    .sum())\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>array([1, 2, 1, 2])\n</code></pre>\n\n<p>You could a similar thing with SQL but it requires significantly more effort. A helper function:</p>\n\n<pre><code>from pyspark.sql.functions import udf\nfrom pyspark.sql.types import ArrayType, DoubleType\nfrom pyspark.sql import Column\nfrom typing import List\n\ndef as_array(c: Column) -&gt; Column:\n    def as_array_(v: Vector) -&gt; List[float]:\n        return v.array.tolist()\n    return udf(as_array_, ArrayType(DoubleType()))(c)\n</code></pre>\n\n<p>Determine size of the vectors:</p>\n\n<pre><code>from pyspark.sql.functions import col, size\n\n(vlen, ) = df.na.drop().select(size(as_array(col(\"features\")))).first()\n</code></pre>\n\n<p>Create an expression:</p>\n\n<pre><code>from pyspark.sql.functions import col, isnan, sum as sum_\n\nfeature_array = as_array(\"features\").alias(\"features\")\n</code></pre>\n\n<p>Finally <code>select</code>:</p>\n\n<pre><code>(df\n    .na.drop(subset=[\"features\"])\n    .select([sum_(isnan(feature_array[i]).cast(\"bigint\")) for i in range(vlen)]))\n</code></pre>\n"}], "owner": {"reputation": 1693, "user_id": 4487457, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0ZObm.jpg?s=128&g=1", "display_name": "Minh Mai", "link": "https://stackoverflow.com/users/4487457/minh-mai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 993, "favorite_count": 0, "accepted_answer_id": 41863587, "answer_count": 1, "score": 0, "last_activity_date": 1547300036, "creation_date": 1485386096, "last_edit_date": 1547300036, "question_id": 41863428, "link": "https://stackoverflow.com/questions/41863428/spark-counting-nans-in-a-vector-column", "title": "Spark: Counting NaNs in a vector column", "body": "<p>Suppose I have a Spark DataFrame that looks like this </p>\n\n<pre><code>+-----------+------------------+\n| id        |          features|\n+-----------+------------------+\n|          1|[57.0,1.0,0.0,0.0]|\n|          2|[63.0,NaN,0.0,0.0]|\n|          3|[74.0,1.0,3.0,NaN]|\n|          4|[67.0,NaN,0.0,0.0]|\n|          5|[NaN,1.0,NaN,NaN] |\n</code></pre>\n\n<p>where each row in the <code>features</code> column is a <code>DenseVector</code> containing a combination of float and <code>NaN</code> datatypes. Is there a way to count the number of <code>NaN</code> in the first column of the <code>DenseVector</code> or any arbitrary column? For instance, I would like something that would return that the first column has 1 <code>NaN</code>, the 2nd has 3, and the 4th has 2.  </p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1485388293, "post_id": 41863396, "comment_id": 70911213, "body": "Please show the layout of your project, including the location of your script and the settings file."}, {"owner": {"reputation": 147, "user_id": 5056634, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2d58ce2e7b3992a300b17b38ef19b6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Alexev", "link": "https://stackoverflow.com/users/5056634/alexev"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1485388918, "post_id": 41863396, "comment_id": 70911379, "body": "I am tring to paste the &#39;tree output but it doesnt seem to work i&#39;"}, {"owner": {"reputation": 147, "user_id": 5056634, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2d58ce2e7b3992a300b17b38ef19b6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Alexev", "link": "https://stackoverflow.com/users/5056634/alexev"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1485390041, "post_id": 41863396, "comment_id": 70911707, "body": "I realize now that in the Win PC I have python 3.5 and in my debian 3.4, can that be the problem?"}, {"owner": {"reputation": 998, "user_id": 3979630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/doKW9.jpg?s=128&g=1", "display_name": "Dave Plug", "link": "https://stackoverflow.com/users/3979630/dave-plug"}, "edited": false, "score": 0, "creation_date": 1485390186, "post_id": 41863396, "comment_id": 70911749, "body": "Possibly. Try to use the same python version when you create your virtual environment."}, {"owner": {"reputation": 147, "user_id": 5056634, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2d58ce2e7b3992a300b17b38ef19b6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Alexev", "link": "https://stackoverflow.com/users/5056634/alexev"}, "edited": false, "score": 0, "creation_date": 1485390743, "post_id": 41863396, "comment_id": 70911905, "body": "Unfortunately, It does the same errore"}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1485390810, "post_id": 41863396, "comment_id": 70911914, "body": "You really should take sometime to learn using a versioning tool such as git <code>https:&#47;&#47;git-scm.com&#47;</code> and how to setup a Python project using <a href=\"https://pypi.python.org/pypi/setuptools\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/setuptools</a> and a proepr  <code>setup.py</code> file. Moving the project aroudn should be a non-issue."}, {"owner": {"reputation": 147, "user_id": 5056634, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2d58ce2e7b3992a300b17b38ef19b6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Alexev", "link": "https://stackoverflow.com/users/5056634/alexev"}, "edited": false, "score": 0, "creation_date": 1485391079, "post_id": 41863396, "comment_id": 70911993, "body": "I will follow your suggestion right now, but  meanwhile I still have the problem"}, {"owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "edited": false, "score": 0, "creation_date": 1485391324, "post_id": 41863396, "comment_id": 70912052, "body": "Nice - I&#39;ve added a workaround that should work on the asnwer bellow."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1485420421, "post_id": 41863396, "comment_id": 70921412, "body": "What&#39;s the name of the script that is failing?"}], "answers": [{"tags": [], "owner": {"reputation": 76206, "user_id": 108205, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ef459127edc89cc575d80a73cd8c567a?s=128&d=identicon&r=PG", "display_name": "jsbueno", "link": "https://stackoverflow.com/users/108205/jsbueno"}, "is_accepted": true, "score": 1, "last_activity_date": 1485391285, "creation_date": 1485391285, "answer_id": 41864247, "question_id": 41863396, "link": "https://stackoverflow.com/questions/41863396/error-importing-a-django-project-from-windows-to-linux/41864247#41864247", "title": "Error importing a Django project from windows to linux", "body": "<p>Try to add your root folder to Python's PYTHONPATH environment variable  - that way, it will find out both <code>subastas</code> and <code>ah</code> as Python packages that can be found.</p>\n\n<p>From the bash prompt, standing at your root \"subastas\" Path type:</p>\n\n<pre><code>export PYTHONPATH=`pwd`:$PYTHONPATH\n</code></pre>\n\n<p>But really, that is just a workaround - what you really need there is to prper configure your project with a <code>setup.py</code> file that make use of setuptools - <a href=\"https://pypi.python.org/pypi/setuptools\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/setuptools</a> , and just use PIP to install it locally (with the <code>pip develop</code> command) that will also solve your problem of dependencies. </p>\n\n<p>And moreover, if you are not, you really should make use of a version control system for your project.  </p>\n"}, {"tags": [], "owner": {"reputation": 1265, "user_id": 167107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/24617651310fd4e77c246f8e96efb900?s=128&d=identicon&r=PG", "display_name": "C\u0103t\u0103lin George Fe\u0219til\u0103", "link": "https://stackoverflow.com/users/167107/c%c4%83t%c4%83lin-george-fe%c8%99til%c4%83"}, "is_accepted": false, "score": 1, "last_activity_date": 1485392088, "creation_date": 1485392088, "answer_id": 41864342, "question_id": 41863396, "link": "https://stackoverflow.com/questions/41863396/error-importing-a-django-project-from-windows-to-linux/41864342#41864342", "title": "Error importing a Django project from windows to linux", "body": "<p>Is a sum of settings and issues: pip + virtualenv + virtualenvwrapper see <a href=\"http://mrcoles.com/tips-using-pip-virtualenv-virtualenvwrapper/\" rel=\"nofollow noreferrer\">tips-using-pip-virtualenv-virtualenvwrapper</a> </p>\n"}], "owner": {"reputation": 147, "user_id": 5056634, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/2d58ce2e7b3992a300b17b38ef19b6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Alexev", "link": "https://stackoverflow.com/users/5056634/alexev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 41864247, "answer_count": 2, "score": 2, "last_activity_date": 1485392088, "creation_date": 1485385944, "last_edit_date": 1485390708, "question_id": 41863396, "link": "https://stackoverflow.com/questions/41863396/error-importing-a-django-project-from-windows-to-linux", "title": "Error importing a Django project from windows to linux", "body": "<p>I worked in a project using python3 and django from a Windows 7 computer, now I am at home in my GNU/Linux one and I am trying to make it work but I have some errors.</p>\n\n<p>I unpackage the whole thing in a folder and in that one I have installed a virtualenv with django, inside the folder I put the project I have, then I make </p>\n\n<pre><code>python3 manage.py makemigrations\npython3 manage.py migrate\npython3 manage.py runserver\n</code></pre>\n\n<p>I log in in the server and everything is there, every data, model, etc.</p>\n\n<p>So far works well. but then I try to run a script  and got this error:</p>\n\n<pre><code>mod = importlib.import_module(self.SETTINGS_MODULE)   File \"/home/alex/proyectosP/ahq/11_env/lib/python3.4/importlib/__init__.py\",\nline 109, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)   File \"&lt;frozen importlib._bootstrap&gt;\", line 2254, in _gcd_import   File\n\"&lt;frozen importlib._bootstrap&gt;\", line 2237, in _find_and_load   File\n\"&lt;frozen importlib._bootstrap&gt;\", line 2212, in _find_and_load_unlocked\nFile \"&lt;frozen importlib._bootstrap&gt;\", line 321, in\n_call_with_frames_removed   File \"&lt;frozen importlib._bootstrap&gt;\", line 2254, in _gcd_import   File \"&lt;frozen importlib._bootstrap&gt;\", line\n2237, in _find_and_load   File \"&lt;frozen importlib._bootstrap&gt;\", line\n2224, in _find_and_load_unlocked \nImportError: No module named 'subastas'\n</code></pre>\n\n<p>The script in question has this header</p>\n\n<pre><code>import os\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"subastas.settings\")\nimport django\ndjango.setup()\n</code></pre>\n\n<p>I copyed everything exact as I have in my other computer</p>\n\n<pre><code>subastas/\n|-- ah\n|   |-- admin.py\n|   |-- api\n|   |   |-- apiFunciones.py\n|   |   |-- __init__.py\n|   |   `-- __pycache__\n|   |       |-- apiFunciones.cpython-35.pyc\n|   |       `-- __init__.cpython-35.pyc\n|   |-- apps.py\n|   |-- busquedas\n|   |   |-- busquedas.py\n|   |   |-- datos.py\n|   |   `-- __pycache__\n|   |       |-- busquedas.cpython-35.pyc\n|   |       `-- datos.cpython-35.pyc\n|   |-- config.py\n|   |-- correos\n|   |   |-- funciones.py\n|   |   |-- __init__.py\n|   |   `-- __pycache__\n|   |       |-- funciones.cpython-35.pyc\n|   |       `-- __init__.cpython-35.pyc\n|   |-- graficas\n|   |   |-- GraficasFunciones.py\n|   |   |-- GraficaTest.py\n|   |   `-- __init__.py\n|   |-- __init__.py\n|   |-- logs\n|   |   `-- registro.txt\n|   |-- migrations\n|   |   |-- 0001_initial.py\n|   |   |-- 0002_auto_20170125_1727.py\n|   |   |-- __init__.py\n|   |   `-- __pycache__\n|   |       |-- 0001_initial.cpython-35.pyc\n|   |       |-- 0002_auto_20170125_1727.cpython-35.pyc\n|   |       `-- __init__.cpython-35.pyc\n|   |-- models.py\n|   |-- obtenerCotizaciones.py\n|   |-- __pycache__\n|   |   |-- admin.cpython-35.pyc\n|   |   |-- config.cpython-35.pyc\n|   |   |-- __init__.cpython-35.pyc\n|   |   `-- models.cpython-35.pyc\n|   |-- resultados\n|   |   |-- graficas\n|   |   |   |-- evolucionFrasco de Agilidad.svg\n|   |   |   |-- evolucionFrasco de Fuerza.svg\n|   |   |   |-- evolucionFrasco de Intelecto.svg\n|   |   |   `-- evolucionRosaluz.svg\n|   |   |-- Rozaluz.csv\n|   |   `-- temporal.json\n|   |-- tests.py\n|   |-- views.py\n|   `-- zips\n|       |-- testFactory.py\n|       `-- zfactory.py\n|-- db.sqlite3\n|-- manage.py\n`-- subastas\n    |-- __init__.py\n    |-- __pycache__\n    |   |-- __init__.cpython-35.pyc\n    |   |-- settings.cpython-35.pyc\n    |   |-- urls.cpython-35.pyc\n    |   `-- wsgi.cpython-35.pyc\n    |-- settings.py\n    |-- urls.py\n    `-- wsgi.py\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "importerror", "python-module", "easy-install"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 5430162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1203101599761253/picture?type=large", "display_name": "Dre", "link": "https://stackoverflow.com/users/5430162/dre"}, "edited": false, "score": 0, "creation_date": 1485386422, "post_id": 41863414, "comment_id": 70910670, "body": "Can you elaborate? The file that I&#39;m trying to import is called model, which tries to import a Error and Serializers from a file called prov.. however, I don&#39;t see a prov in the package."}, {"owner": {"reputation": 183, "user_id": 5430162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1203101599761253/picture?type=large", "display_name": "Dre", "link": "https://stackoverflow.com/users/5430162/dre"}, "edited": false, "score": 0, "creation_date": 1485386632, "post_id": 41863414, "comment_id": 70910744, "body": "ahh I fixed it! My file that I was using was also called prov.py so It was a circular dependency."}, {"owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "reply_to_user": {"reputation": 183, "user_id": 5430162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1203101599761253/picture?type=large", "display_name": "Dre", "link": "https://stackoverflow.com/users/5430162/dre"}, "edited": false, "score": 0, "creation_date": 1485386648, "post_id": 41863414, "comment_id": 70910747, "body": "<code>from prov import Error, serializers</code> tries to import <code>prov</code>; instead of <code>prov</code> of the package <code>prov</code>, your module named <code>prov</code> is imported. Try to add following line at the beginning of your file: <code>import prov; print(prov)</code>"}], "tags": [], "owner": {"reputation": 312231, "user_id": 2225682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG", "display_name": "falsetru", "link": "https://stackoverflow.com/users/2225682/falsetru"}, "is_accepted": false, "score": 1, "last_activity_date": 1485386033, "creation_date": 1485386033, "answer_id": 41863414, "question_id": 41863389, "link": "https://stackoverflow.com/questions/41863389/importerror-when-trying-to-import-prov-module-in-python/41863414#41863414", "title": "ImportError when trying to import Prov Module in Python", "body": "<p>You need to rename your module file <code>prov.py</code>. It prevents import of the third-party library because the module name conflicts.</p>\n\n<p>Make sure <code>prov.pyc</code> is removed.</p>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 5430162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1203101599761253/picture?type=large", "display_name": "Dre", "link": "https://stackoverflow.com/users/5430162/dre"}, "is_accepted": true, "score": 0, "last_activity_date": 1485386802, "creation_date": 1485386802, "answer_id": 41863563, "question_id": 41863389, "link": "https://stackoverflow.com/questions/41863389/importerror-when-trying-to-import-prov-module-in-python/41863563#41863563", "title": "ImportError when trying to import Prov Module in Python", "body": "<p>I found the error. The name of my file that I was trying to import into was also called prov.py . It was a circular dependency issue. </p>\n\n<p>Thank you guys for such quick responses!</p>\n"}], "owner": {"reputation": 183, "user_id": 5430162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1203101599761253/picture?type=large", "display_name": "Dre", "link": "https://stackoverflow.com/users/5430162/dre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 41863563, "answer_count": 2, "score": 0, "last_activity_date": 1485386802, "creation_date": 1485385906, "question_id": 41863389, "link": "https://stackoverflow.com/questions/41863389/importerror-when-trying-to-import-prov-module-in-python", "title": "ImportError when trying to import Prov Module in Python", "body": "<p>I'm getting this error when trying to import a module from the Prov package.\nHere is the contents of my file:</p>\n\n<pre><code>#!/usr/bin/env\nimport sys\negg_path='/Library/Python/2.7/site-packages/prov-1.5.0-py2.7.egg/prov'\nsys.path.append(egg_path)\n#... rest of code\nimport model as prov\n\ndef main():\n    # Create a new provenance document\n    d1 = ProvDocument()  # d1 is now an empty provenance document\n    # Declaring namespaces for various prefixes used in the example\n    d1.add_namespace('now', 'http://www.provbook.org/nownews/')\n    d1.add_namespace('nowpeople', 'http://www.provbook.org/nownews/people/')\n    d1.add_namespace('bk', 'http://www.provbook.org/ns/#')\n\n    # Entity: now:employment-article-v1.html\n    e1 = d1.entity('now:employment-article-v1.html')\n    # Agent: nowpeople:Bob\n    d1.agent('nowpeople:Bob')\n</code></pre>\n\n<p>And here is the output:</p>\n\n<p><code>Traceback (most recent call last):\n  File \"prov.py\", line 6, in &lt;module&gt;\n    import model as prov\n  File \"/Library/Python/2.7/site-packages/prov-1.5.0-py2.7.egg/prov/model.py\", line 25, in &lt;module&gt;\n    from prov import Error, serializers\nImportError: cannot import name Error</code></p>\n\n<p>Any ideas or fixes? I installed Prov using easy_install prov. </p>\n"}, {"tags": ["python", "pandas"], "owner": {"reputation": 13040, "user_id": 758174, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Zqidc.jpg?s=128&g=1", "display_name": "Pierre D", "link": "https://stackoverflow.com/users/758174/pierre-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1485388246, "creation_date": 1485385856, "last_edit_date": 1485388246, "question_id": 41863377, "link": "https://stackoverflow.com/questions/41863377/pandas-unexpected-column-reordering-when-using-rolling", "title": "Pandas unexpected column reordering when using .rolling()", "body": "<p>I've been tracking a strange bug, or at least a change of behavior in recent pandas versions (not sure when the change occurred, sometime between 0.16.2 --where it was working fine-- and 0.19.2).</p>\n\n<p>Basically, I want to smooth out a few columns in a <code>DataFrame</code>, but I have a <code>MultiIndex</code> with dates and IDs, and the smoothing should be applied after unstacking the ID (i.e. for all IDs, for the selected columns).  If I do a <code>stack('id')</code> after an unstack, no problem, the order of columns is kept unchanged. But if the unstack is done after <code>df_fat.rolling(...).mean()</code> for example, then the columns become sorted alphabetically.  Further, assigning the smoothed columns back into the original frame gets the result assigned to the wrong columns, with pretty nasty results in our case.</p>\n\n<p>Now, I know it is advisable for indexes (and columns) to be sorted, but I am quite surprised that the assignment in the last cell ([5] below) is done obviously wrong and without even a complaint from pandas.  Is that a bug in pandas?  Could there be a warning at least?</p>\n\n<p>To summarize, I see two problems:</p>\n\n<ol>\n<li><code>.rolling().func</code> changes the column order: it sorts them alphabetically.</li>\n<li><code>slice = df</code> does not respect the column names (as a <code>.join</code> would) --it just plugs the values in.</li>\n</ol>\n\n<p>Here is a reproducible example:</p>\n\n<pre><code>In[1]:\nimport numpy as np\nimport pandas as pd\nimport io\n\nstr = \"\"\"t,id,x,foo,bar\n2012-01-01,A,0,100,1\n2015-10-27,B,1,200,2\n2015-11-15,B,2,300,3\n\"\"\"\ndf = pd.read_csv(io.StringIO(str), parse_dates=[0], index_col=[0,1]).sort_index()\ndf\n\nOut[1]:\n               x  foo  bar\nt          id             \n2012-01-01 A   0  100    1\n2015-10-27 B   1  200    2\n2015-11-15 B   2  300    3\n</code></pre>\n\n<p>Now, say I want to smooth the two columns <code>foo</code> and <code>bar</code>. First, make a 'fat' df so the smoothing can be done readily with <code>.rolling().mean()</code>. (Note also a <code>null_index</code> to preserve where NaNs are in the original):</p>\n\n<pre><code>In[2]:\nfeat_names = ['foo', 'bar']\ndf_fat = df[feat_names].unstack('id')\nnull_index = df_fat.isnull()\ndf_fat\n\nOut[2]:\n              foo         bar     \nid              A      B    A    B\nt                                 \n2012-01-01  100.0    NaN  1.0  NaN\n2015-10-27    NaN  200.0  NaN  2.0\n2015-11-15    NaN  300.0  NaN  3.0\n</code></pre>\n\n<p>so far, no problem. In fact, stacking yields the original df, for the columns selected:</p>\n\n<pre><code>In[3]:\ndf_fat.stack('id')\n\nOut[3]:\n                 foo  bar\nt          id            \n2012-01-01 A   100.0  1.0\n2015-10-27 B   200.0  2.0\n2015-11-15 B   300.0  3.0\n</code></pre>\n\n<p>Now, let's do the smoothing:</p>\n\n<pre><code>In[4]:\ndf_fat = df_fat.rolling(center=False, window=2, min_periods=1).mean()\ndf_fat.stack('id')\n\nOut[4]:\n               bar    foo\nt          id\n2012-01-01 A   1.0  100.0\n2015-10-27 A   1.0  100.0\n           B   2.0  200.0\n2015-11-15 B   2.5  250.0\n</code></pre>\n\n<p>Note how the columns have been sorted.  And then, when trying to assign back to the original, all hell breaks loose and column values are \"plugged in\" without regard for the column names:</p>\n\n<pre><code>In[5]:\ndf_fat[null_index] = np.NaN\ndf[feat_names] = df_fat.stack('id')\ndf\n\nOut[5]:\n               x  foo    bar\nt          id               \n2012-01-01 A   0  1.0  100.0\n2015-10-27 B   1  2.0  200.0\n2015-11-15 B   2  2.5  250.0\n</code></pre>\n\n<p>Note that explicitly reordering the columns on the right hand side of the assignment yields the expected result:</p>\n\n<pre><code>In[6]:\ndf_fat[null_index] = np.NaN\ndf[feat_names] = df_fat.stack('id')[feat_names]\ndf\n\nOut[6]:\n               x    foo  bar\nt          id               \n2012-01-01 A   0  100.0  1.0\n2015-10-27 B   1  200.0  2.0\n2015-11-15 B   2  250.0  2.5\n</code></pre>\n"}, {"tags": ["python", "pyqt4", "toggle", "qcombobox", "qradiobutton"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485391375, "post_id": 41863366, "comment_id": 70912062, "body": "create minimal, working example - so everybody could run it."}, {"owner": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485445022, "post_id": 41863366, "comment_id": 70936189, "body": "ah, apologize. Was trying to minimize to only relevant code."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "edited": false, "score": 0, "creation_date": 1485445102, "post_id": 41864279, "comment_id": 70936266, "body": "OK, I am a little confused with partial cause I have not used them before and only seen the &quot;power&quot; examples."}, {"owner": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "edited": false, "score": 0, "creation_date": 1485445578, "post_id": 41864279, "comment_id": 70936652, "body": "It seems you are calling the image_update() twice, once through the combobox connection and the other through the radio button connect."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "edited": false, "score": 1, "creation_date": 1485448017, "post_id": 41864279, "comment_id": 70938509, "body": "@zachn in this part of code <code>partial</code> works similar to <code>lambda</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "edited": false, "score": 1, "creation_date": 1485448440, "post_id": 41864279, "comment_id": 70938785, "body": "@zachn - it is correct to call <code>image_update()</code> twice. This function checks both widgets and then it updates image/label."}, {"owner": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "edited": false, "score": 1, "creation_date": 1485455425, "post_id": 41864279, "comment_id": 70943018, "body": "Is using partial necessary here to improve readability, etc. or is its usage trivial?"}, {"owner": {"reputation": 570, "user_id": 2461129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c2f2c4b3c6da3922673f04e4272206?s=128&d=identicon&r=PG", "display_name": "camelBack", "link": "https://stackoverflow.com/users/2461129/camelback"}, "reply_to_user": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "edited": false, "score": 1, "creation_date": 1485462788, "post_id": 41864279, "comment_id": 70947041, "body": "@zachn: In general, I like using partial vs. lambda while connecting signals to methods. I think it is more readable in that way. There are other differences that you can read about: 1) <a href=\"http://code.saghul.net/index.php/2010/11/20/lambda-vs-functools-partial/\" rel=\"nofollow noreferrer\">late/early binding</a> 2) <a href=\"http://stackoverflow.com/questions/11828410/differences-between-functools-partial-and-a-similar-lambda\">Execution/performance</a>"}], "tags": [], "owner": {"reputation": 570, "user_id": 2461129, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0c2f2c4b3c6da3922673f04e4272206?s=128&d=identicon&r=PG", "display_name": "camelBack", "link": "https://stackoverflow.com/users/2461129/camelback"}, "is_accepted": true, "score": 1, "last_activity_date": 1485393771, "last_edit_date": 1485393771, "creation_date": 1485391629, "answer_id": 41864279, "question_id": 41863366, "link": "https://stackoverflow.com/questions/41863366/updating-a-pyqt-qlabel-when-a-qradiobutton-associated-with-a-qcombobox-is-toggle/41864279#41864279", "title": "Updating a PyQt QLabel when a QRadioButton associated with a QComboBox is toggled", "body": "<p>@zachn, you are correct, the problem is concerning toggled- more specific, it is the toggled signal that you need to connect to: <a href=\"http://doc.qt.io/qt-5/qabstractbutton.html#toggled\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/qabstractbutton.html#toggled</a></p>\n\n<p>Try doing this:</p>\n\n<pre><code>import partial\nself.btn.toggled.connect(partial (self.image_update, self.fruit_combo, self.fruit_lbl, self.btn))\n</code></pre>\n\n<p>EDIT: for @furas, here is some sample code, where I did not use images, only text to show changes in the QLabel. Note that I kept the method name image_update() even though it should be text_update(). (I coded this in Qt5, if used in Qt4 replace QtWidgets with QtGui)</p>\n\n<pre><code>class SomeFrame(object):\n    def __init__(self):\n        # Assets\n        fruit_list = ['apple', 'orange', 'banana']\n\n        # Creating content \n        self.frame = QtWidgets.QFrame()\n        self.fruit_combo = QtWidgets.QComboBox()\n        self.fruit_combo.addItems(fruit_list)\n        self.btn = QtWidgets.QRadioButton(\"btn\")\n\n        self.fruit_lbl = QtWidgets.QLabel()\n\n        # Creating Layout\n        layout = QtWidgets.QHBoxLayout()\n        layout.addWidget(self.fruit_lbl)\n        layout.addWidget(self.btn)\n        layout.addWidget(self.fruit_combo)\n        self.frame.setLayout(layout)\n\n        # Initialize text in fruit_lbl\n        self.image_update(self.fruit_combo, self.fruit_lbl, self.btn)\n        self.frame.show()\n\n        # Connections\n        self.fruit_combo.currentIndexChanged[str].connect(lambda: self.image_update(self.fruit_combo, self.fruit_lbl, self.btn))\n        self.btn.toggled.connect(partial (self.image_update, self.fruit_combo, self.fruit_lbl, self.btn))\n\n    def image_update(self, qcombobox, qlabel, btn):\n        current_item = str(qcombobox.currentText())\n        if btn.isChecked():\n            new_text = 'CHECKED: %s' % current_item\n        else:\n            new_text = 'UNCHECKED: %s' % current_item\n        qlabel.setText(new_text)\n\nif __name__ == \"__main__\":\n    from PyQt5 import QtWidgets\n    import sys\n    from functools import partial\n\n    app = QtWidgets.QApplication(sys.argv)         \n    theFrame = SomeFrame()\n    sys.exit(app.exec_())\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7231681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89b4edd1ac94bb71cfd544c4563d183a?s=128&d=identicon&r=PG&f=1", "display_name": "zachn", "link": "https://stackoverflow.com/users/7231681/zachn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 41864279, "answer_count": 1, "score": 2, "last_activity_date": 1485393771, "creation_date": 1485385787, "question_id": 41863366, "link": "https://stackoverflow.com/questions/41863366/updating-a-pyqt-qlabel-when-a-qradiobutton-associated-with-a-qcombobox-is-toggle", "title": "Updating a PyQt QLabel when a QRadioButton associated with a QComboBox is toggled", "body": "<p>I have a QPixmap within a QLabel that is changed based on a QComboBox selection. For example, the combobox may have a selection of fruits (e.g., 'apple', 'orange', 'banana'). If I choose 'apple' an image of an apple is displayed in the QLabel. I further want the image of the apple to change to a \"special\" image of an apple depending on whether a QRadioButton is toggled. Once I de-toggle the radio button the image should revert to the standard apple image. Currently I have it partially functional: if the radio button is toggled 'on' prior to selecting the combobox option, the image is displayed as desired; if, however, I toggle the radio button 'on' after selecting the combobox option only the standard image is displayed. Similarly, if I have the special image displayed and de-toggle the radio button, the image does not revert to the standard image. </p>\n\n<p>I assume this has something to do with the \"toggled()\" method, but not sure how to implement it. </p>\n\n<pre><code>self.fruit_list = ['apple', 'orange', 'banana']\n\nself.fruit_combo = QtGui.QComboBox()\nself.fruit_combo.addItems(self.fruit_list)\n\nself.btn = QtGui.QRadioButton(\"btn\")\n\nself.fruit_image = QtGui.QLabel(self)\nself.grid.addWidget(self.fruit_image, 1, 1) \nself.fruit_combo.currentIndexChanged[str].connect(lambda: \n                  self.image_update(self.fruit_combo, self.fruit_image, self.btn)\n\ndef image_update(self, qcombobox, qlabel, btn):\n    image_path =\"c :/images\"\n    current_item = str(qcombobox.currentText())\n    if btn.isChecked():\n       current_image = '%s/%s_special.jpg' %(image_path, current_item)\n    else:\n       current_image = '%s/%s.jpg' %(image_path, current_item)\n    qlabel.setPixmap(QtGui.QPixmap(current_image))\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "outlook", "win32com"], "comments": [{"owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "edited": false, "score": 1, "creation_date": 1485394312, "post_id": 41863363, "comment_id": 70912789, "body": "so i got this working. But now all of a sudden it throwing a typeerror for the sender part of this. Saying Accounts object is not iterable. It was literally working less than an hour ago."}], "owner": {"reputation": 101, "user_id": 3331024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b214cc5618d4eadb881f9757db97986d?s=128&d=identicon&r=PG", "display_name": "SydDevious", "link": "https://stackoverflow.com/users/3331024/syddevious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 508, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1485385769, "creation_date": 1485385769, "question_id": 41863363, "link": "https://stackoverflow.com/questions/41863363/getting-primary-outlook-account-win32-python", "title": "getting primary outlook account win32 python", "body": "<p>I iterate through all the active outlook accounts to find a specifically defined sender account.\nLater I want to BCC the primary account of the same outlook profile. how can I do that?</p>\n\n<pre><code>#find sender account. If account not active, will send from primary active\nsender = None\nfor oacc in outlook.Session.Accounts:\n    if oacc.SmtpAddress == sendFrom:\n        sender = oacc\n        break\nmail._oleobj_.Invoke(*(64209, 0, 8, 0, sender))\n</code></pre>\n\n<p>above finds the designated sender account (sendFrom).</p>\n\n<p>Later in the code I try to BCC the primary account. But im not sure how to do that. I assume outlook.Session.Accounts, which can be iterated through, would store the primary account in index 0. is that correct? </p>\n\n<pre><code>if BCC==True:\n    mail.BCC = primary_account\n</code></pre>\n"}, {"tags": ["python", "tkinter", "python-3.5", "imagebutton", "ttk"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485385804, "post_id": 41863330, "comment_id": 70910453, "body": "<code>PhotoImage</code> has problem with <code>garbage collector</code> which removes image if it is assigned to local variable. Assign image to class variable <code>self.buttonPhoto</code>"}], "answers": [{"comments": [{"owner": {"reputation": 731, "user_id": 1188470, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9e9032beede85fd517ca7586ed822a05?s=128&d=identicon&r=PG", "display_name": "detroitwilly", "link": "https://stackoverflow.com/users/1188470/detroitwilly"}, "edited": false, "score": 0, "creation_date": 1485386431, "post_id": 41863403, "comment_id": 70910671, "body": "That did it.  Very good information to have, and also explains part of one of the examples I cited.  Thanks, furas."}, {"owner": {"reputation": 1065, "user_id": 5878281, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/805306892948936/picture?type=large", "display_name": "Nan Zhou", "link": "https://stackoverflow.com/users/5878281/nan-zhou"}, "edited": false, "score": 0, "creation_date": 1500553463, "post_id": 41863403, "comment_id": 77395189, "body": "This works but I have a question. I Googled many references but didn&#39;t find option padding for ttk.Button. Why does it work here? Could you explain a bit more? Thanks."}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 6, "last_activity_date": 1485386314, "last_edit_date": 1485386314, "creation_date": 1485385987, "answer_id": 41863403, "question_id": 41863330, "link": "https://stackoverflow.com/questions/41863330/issue-with-button-images-in-ttk-python/41863403#41863403", "title": "Issue with Button Images in ttk/Python", "body": "<p><code>PhotoImage</code> has problem with <code>garbage collector</code> which removes image if it is assigned to local variable. </p>\n\n<p>Assign image to class variable <code>self.buttonPhoto</code></p>\n\n<pre><code>self.buttonPhoto = ImageTk.PhotoImage(buttonImage) \n</code></pre>\n\n<p>Full:</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\nfrom PIL import Image, ImageTk\n\nclass Example(ttk.Frame):\n    def __init__(self, master):\n        ttk.Frame.__init__(self, master)\n        master.title('Button Test')\n\n        self.configure(padding='10 10 10 10')\n        self.grid(column=0, row=0, sticky=(N, E, W, S))\n\n        buttonImage = Image.open('play.png')\n\n        # use self.buttonPhoto\n        self.buttonPhoto = ImageTk.PhotoImage(buttonImage) \n\n        # use self.buttonPhoto\n        myButton = ttk.Button(self, image=self.buttonPhoto, padding='10 10 10 10')\n        myButton.grid(column=1, row=1, sticky=(E, W))\n\nif __name__ == \"__main__\":\n    root = Tk()\n    example = Example(root)\n    root.mainloop()\n</code></pre>\n\n<p>Or assign image to other object - it should stop <code>garbage collector</code> too.</p>\n\n<p>ie.</p>\n\n<pre><code>    myButton.image = buttonPhoto\n</code></pre>\n\n<p>Full:</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\nfrom PIL import Image, ImageTk\n\nclass Example(ttk.Frame):\n    def __init__(self, master):\n        ttk.Frame.__init__(self, master)\n        master.title('Button Test')\n\n        self.configure(padding='10 10 10 10')\n        self.grid(column=0, row=0, sticky=(N, E, W, S))\n\n        buttonImage = Image.open('tplay.png')\n        buttonPhoto = ImageTk.PhotoImage(buttonImage)\n\n        myButton = ttk.Button(self, image=buttonPhoto, padding='10 10 10 10')\n        myButton.grid(column=1, row=1, sticky=(E, W))\n        # assign image to other object\n        myButton.image = buttonPhoto\n\nif __name__ == \"__main__\":\n    root = Tk()\n    example = Example(root)\n    root.mainloop()\n</code></pre>\n\n<hr>\n\n<p>See <code>Note</code> at the end of page <a href=\"http://effbot.org/tkinterbook/photoimage.htm\" rel=\"noreferrer\">The Tkinter PhotoImage Class</a></p>\n"}], "owner": {"reputation": 731, "user_id": 1188470, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9e9032beede85fd517ca7586ed822a05?s=128&d=identicon&r=PG", "display_name": "detroitwilly", "link": "https://stackoverflow.com/users/1188470/detroitwilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2694, "favorite_count": 0, "accepted_answer_id": 41863403, "answer_count": 1, "score": 0, "last_activity_date": 1485386314, "creation_date": 1485385606, "question_id": 41863330, "link": "https://stackoverflow.com/questions/41863330/issue-with-button-images-in-ttk-python", "title": "Issue with Button Images in ttk/Python", "body": "<p>I'm messing around with ttk/tkinter in Python (3.5), and I'm having some issues with buttons (specifically, ttk.Button).</p>\n\n<p>No matter what I try, I cannot for the life of me get an image to show up on a button.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\nfrom PIL import Image, ImageTk\n\nclass Example(ttk.Frame):\n    def __init__(self, master):\n        ttk.Frame.__init__(self, master)\n        master.title('Button Test')\n\n        self.configure(padding='10 10 10 10')\n        self.grid(column=0, row=0, sticky=(N, E, W, S))\n\n        buttonImage = Image.open('play.png')\n        buttonPhoto = ImageTk.PhotoImage(buttonImage)\n\n        myButton = ttk.Button(self, image=buttonPhoto, padding='10 10 10 10')\n        myButton.grid(column=1, row=1, sticky=(E, W))\n\nif __name__ == \"__main__\":\n    root = Tk()\n    example = Example(root)\n    root.mainloop()\n</code></pre>\n\n<p>This is an amalgamation of examples I found <a href=\"https://www.daniweb.com/programming/software-development/code/216852/an-image-button-python-and-tk\" rel=\"nofollow noreferrer\">here</a>, <a href=\"http://www.tkdocs.com/tutorial/fonts.html#images\" rel=\"nofollow noreferrer\">here</a>, and from users here on StackOverflow.</p>\n\n<p>Thanks in advance for any ideas/insight.</p>\n\n<p>-Sean</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485385671, "post_id": 41863295, "comment_id": 70910413, "body": "how do you read this file ?"}, {"owner": {"reputation": 81, "user_id": 7471514, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155832555909698/picture?type=large", "display_name": "Jonathan Devereux", "link": "https://stackoverflow.com/users/7471514/jonathan-devereux"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485395483, "post_id": 41863295, "comment_id": 70913090, "body": "Hi furas, thanks for the quick response, i&#39;m not entirely sure what you mean, my Python/Coding knowledge is minimal?  I have added the code in it&#39;s entirety the cfg file is in the same directory at the .py."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485396028, "post_id": 41863295, "comment_id": 70913230, "body": "I see only one reason for you error: you run script from different folder and then it is looking for config in different folder."}, {"owner": {"reputation": 81, "user_id": 7471514, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155832555909698/picture?type=large", "display_name": "Jonathan Devereux", "link": "https://stackoverflow.com/users/7471514/jonathan-devereux"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485396281, "post_id": 41863295, "comment_id": 70913273, "body": "Mmm yea that&#39;s what I thought, the config file is definitely in the same folder as the script.  It works fine on the PC but not OSX.  So strange."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485396981, "post_id": 41863295, "comment_id": 70913437, "body": "config file can be in the same folder but script can be run with different &quot;current working directory&quot; (cwd) and then it can be problem even on PC."}, {"owner": {"reputation": 81, "user_id": 7471514, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155832555909698/picture?type=large", "display_name": "Jonathan Devereux", "link": "https://stackoverflow.com/users/7471514/jonathan-devereux"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485397302, "post_id": 41863295, "comment_id": 70913516, "body": "Is there a way I can change it from current working directory to a hardcoded directory to get around this?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485397669, "post_id": 41863295, "comment_id": 70913614, "body": "see my answer below - it shows how to get script folder and use it to get <code>config.cfg</code> - and it will work even if you move script and config to new folder on new computer."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1485396422, "creation_date": 1485396422, "answer_id": 41864868, "question_id": 41863295, "link": "https://stackoverflow.com/questions/41863295/python-error-not-reading-config-cfg/41864868#41864868", "title": "Python Error not reading config.cfg?", "body": "<p>I see only one reason for your problem: you run script from different folder and then script is looking for <code>config.cfg</code> in different folder.</p>\n\n<p>You can get full path to folder with script</p>\n\n<pre><code>import os\n\nscript_folder = os.path.dirname(os.path.realpath(__file__))\n</code></pre>\n\n<p>and create full path to <code>config.cfg</code></p>\n\n<pre><code>parser.read( os.path.join(script_folder, 'config.cfg') )\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 7471514, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155832555909698/picture?type=large", "display_name": "Jonathan Devereux", "link": "https://stackoverflow.com/users/7471514/jonathan-devereux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1211, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1490518418, "creation_date": 1485385414, "last_edit_date": 1485395359, "question_id": 41863295, "link": "https://stackoverflow.com/questions/41863295/python-error-not-reading-config-cfg", "title": "Python Error not reading config.cfg?", "body": "<pre><code>Traceback (most recent call last):\n  File \"/Users/jondevereux/Desktop/Data reporting/kpex_code/1PD/api_python_publisher_1PD.py\", line 40, in &lt;module&gt;\n    username = parser.get('api_samples', 'username')\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ConfigParser.py\", line 607, in get\n    raise NoSectionError(section)\nConfigParser.NoSectionError: No section: 'api_samples'\n</code></pre>\n\n<p>The config file is in the correct directory (same as .py and has the appropriate section api_samples:</p>\n\n<pre><code>[api_samples]\nauthentication_url = https://crowdcontrol.lotame.com/auth/v1/tickets\napi_url = https://api.lotame.com/2/\nusername = xxx\npassword = xxx\n</code></pre>\n\n<p>Script works on co-workers PC not on mine?  I had to use pip to install requests - i'm wondering I i'm missing something else?</p>\n\n<p>Code is as follows:</p>\n\n<pre><code># Set up the libs we need\nimport requests\nimport sys\nimport csv\nimport json\nfrom ConfigParser import SafeConfigParser   # used to get information from a config file\n\nreload(sys)\nsys.setdefaultencoding('utf-8')\n'''\nNow let's get what we need from our config file, including the username and password\n\nWe are assuming we have a config file called config.config in the same directory\nwhere this python script is run, where the config file looks like:\n\n[api_samples]\nauthentication_url = https://crowdcontrol.lotame.com/auth/v1/tickets\napi_url = https://api.lotame.com/2/\nusername = USERNAME_FOR_API_CALLS\npassword = PASSWORD\n\n'''\n# Set up our Parser and get the values - usernames and password should never be in code!\nparser = SafeConfigParser()\nparser.read('config.cfg')\nusername = parser.get('api_samples', 'username')\npassword = parser.get('api_samples', 'password')\nauthentication_url = parser.get('api_samples', 'authentication_url')\nbase_api_url = parser.get('api_samples', 'api_url')\n\n# OK, all set with our parameters, let's get ready to make our call to get a Ticket Granting Ticket\n# Add the username and password to the payload (requests encodes for us, no need to urlencode)\npayload = {'username': username,\n           'password': password}\n\n# We want to set some headers since we are going to post some url encoded params.\nheaders = {\"Content-type\": \"application/x-www-form-urlencoded\", \"Accept\": \"text/plain\", \"User-Agent\":\"python\" }\n\n# Now, let's make our Ticket Granting Ticket request.  We get the location from the response header\ntg_ticket_location = requests.post(authentication_url, data=payload).headers['location']\n\n# Let's take a look at what a Ticket Granting Ticket looks like:\n# print ('Ticket Granting Ticket - %s \\n') % (tg_ticket_location[tg_ticket_location.rfind('/') + 1:])\n\n# Now we have our Ticket Granting Ticket, we can get a service ticket for the service we want to call\n# The first service call will be to get information on behavior id 5990.\n# service_call = base_api_url + 'behaviors/5990'\n\n# Add the service call to the payload and get the ticket\n#payload = {'service': service_call}\n#service_ticket = requests.post( tg_ticket_location, data=payload ).text\n\n# Let's take a look at the service ticket\n#print ('Here is our Service Ticket - %s \\n') % ( service_ticket )\n\n'''\nNow let's make our call to the service ... remember we need to be quick about it because\nwe only have 10 seconds to do it before the Service Ticket expires.\n\nA couple of things to note:\n\nJSON is the default response, and it is what we want, so we don't need to specify\nlike {'Accept':'application/json'}, but we will anyway because it is a good practice.\n\nWe don't need to pass any parameters to this call, so we just add the parameter\nnotation and then 'ticket=[The Service Ticet]'\n'''\n\nheaders = {'Accept':'application/json'}\n\n#behavior_info = requests.get( ('%s?ticket=%s') % (service_call, service_ticket), headers=headers)\n\n# Let's print out our JSON to see what it looks like\n# requests support JSON on it's own, so not other package needed for this\n# print ('Behavior Information: \\n %s \\n') % (behavior_info.json() )\n\n'''\nNow let's get the names and IDs of some audiences\n\nWe can reuse our Ticket Granting Ticket for a 3 hour period ( we haven't passed that yet),\nso let's use it to get a service ticket for the audiences service call.\n\nNote that here we do have a parameter that is part of the call.  That needs to be included\nin the Service Ticket request.\n\nWe plan to make a call to the audience service to get the first 10 audiences in the system\nascending by audience id.  We don't need to pass the sort order, because it defaults to ascending\n'''\n\n# Set up our call and get our new Service Ticket, we plan to sort by id\n\n\n# Please insert audiences ID below:\n\naudienceids = ['243733','243736','241134','242480','240678','242473','242483','241119','243732','242492','243784','242497','242485','243785','242486','242487','245166','245167','245168','245169','245170','245171','240860']\nf = open(\"publisher_report_1PD.csv\", 'w+')\ntitle_str = ['1PD % Contribution','audienceId','publisherName','audienceName']\n\nprint &gt;&gt; f,(title_str)\nfor audience_id in audienceids:\n    service_call = base_api_url + 'reports/audiences/' + audience_id + '/publisher?stat_interval=LAST_MONTH&amp;page_count=100&amp;page_num=1&amp;sort_attr=audienceName&amp;inc_network=false&amp;sort_order=ASC'\n    payload = {'service': service_call}\n\n# Let's get the new Service Ticket, we can print it again to see it is a new ticket\n    service_ticket = requests.post( tg_ticket_location, data=payload ).text\n#print ('Here is our new Service Ticket - %s \\n') % ( service_ticket )\n\n# Use the new ticket to query the service, remember we did have a parameter this time,\n# so we need to &amp; 'ticket=[The Service Ticket]' to the parameter list\n    audience_list = requests.get( ('%s&amp;ticket=%s') % (service_call, service_ticket)).json()\n#print audience_list\n# create an array to hold the audiences, pull ou the details we want, and print it out\n\n    audiences = []\n\n    for ln in audience_list['stats']:\n\n        audiences.append({ 'audienceId': ln['audienceId'], 'audienceName': ln['audienceName'], 'publisherName': ln['publisherName'], '1PD % Contribution': ln['percentOfAudience']})\n\n        for ii in range( 0, len(audiences) ):\n            data = audiences[ii]\n            data_str = json.dumps(data)\n            result = data_str.replace(\"\\\"\",\"\")\n            result1 = result.replace(\"{1PD % Contribution:\",\"\")\n            result2 = result1.replace(\"publisherName: \",\"\")\n            result3 = result2.replace(\"audienceName: \",\"\")\n            result4 = result3.replace(\"audienceId: \",\"\")\n            result5 = result4.replace(\"}\",\"\")\n\n\n        print &gt;&gt; f,(result5)\n\n# Once we are done with the Ticket Granting Ticket we should clean it up'\nremove_tgt = requests.delete( tg_ticket_location )\nprint ( 'Status for closing TGT - %s') % (remove_tgt.status_code)\ni = input('YAY! Gotcha!!')\n</code></pre>\n"}, {"tags": ["python", "multithreading", "server", "udp", "delay"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1485385423, "post_id": 41863233, "comment_id": 70910325, "body": "server doesn&#39;t use threads so every client has to wait."}, {"owner": {"reputation": 37, "user_id": 7168527, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f8f45214c6d93db4e40742d97a50365b?s=128&d=identicon&r=PG&f=1", "display_name": "ringul", "link": "https://stackoverflow.com/users/7168527/ringul"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485395521, "post_id": 41863233, "comment_id": 70913106, "body": "yeah i know that.  i have another code which implements threading in server, it works better. But still, if you look into my client log file, the delay time between sending and receiving data for each client is around 6 seconds which is something weird.  The UDP must be too fast and i believe it can deliver at pretty less delay times."}], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 7168527, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f8f45214c6d93db4e40742d97a50365b?s=128&d=identicon&r=PG&f=1", "display_name": "ringul", "link": "https://stackoverflow.com/users/7168527/ringul"}, "is_accepted": false, "score": 0, "last_activity_date": 1485617476, "last_edit_date": 1485617476, "creation_date": 1485617059, "answer_id": 41911451, "question_id": 41863233, "link": "https://stackoverflow.com/questions/41863233/why-python-udp-server-is-slow-in-this-case-udp-clients-are-getting-reply-after/41911451#41911451", "title": "Why python UDP server is slow in this case? udp clients are getting reply after 5 to 6 seconds.. of course i have 250 client threads attacking server", "body": "<p>I finally resolved it. There are 3 issues. </p>\n\n<ol>\n<li>Printing received data to the console on server end.</li>\n<li>Logging data to a common file for all 250 cleints</li>\n<li>The times calculated on client end are not accurate.</li>\n</ol>\n\n<p><strong>Server printing data to console issue:</strong> : \nSince there is no threading on server end. It is receiving data from 250 clients continuously. So the server needs to listen to clients, receive data and print data to the console. We have only 1 output stream to the console. So server is spending more time in clearing the queued data to the output stream. during this time server is not listening for incoming clients.when i removed these print steps on servers end, the times are drastically improved.</p>\n\n<p><strong>Logging data to a common file for all 250 cleints:</strong>\nyou have 250 threads on clients end. all these 250 threads are logging to a same file. So when 1 thread is writing to a file, it puts a lock to that file during this time all other 249 threads are waiting in the line. while writing the data to the file, we are calculating the time as shown below:</p>\n\n<pre><code>fil.write(self.name+' received \"%s\"' % data +\"Tim Taken :\"+ (str((time.time() - dat_sen_t))) + ' seconds\\n')\n</code></pre>\n\n<p>so here we are including the waiting time to get the access to the log file.\nif we carefully observe the clients code, we are printing the times to the console and also logging to a file. these 2 will be different. so best solution to log the precise timings of clients is: first save the time difference in your memory and later on log it to a file.</p>\n\n<p><strong>Times calculated on client end are not accurate:</strong>\nOn client end, i am calculating times between sending and receiving data. But before sending data there is a step called encoding and after receiving data there is another step called decoding. These encoding and decoding also takes time. So calculate time t1 after sending data to server and then calculate time t2 after receiving data before decoding. don't include these encoding and decoding time for calculating the exact time taken by each client to send data to server and receive reply.</p>\n\n<p>Conclusion: after taking care of these steps. The timings are drastically improved. So python is powerful enough to design a UDP server. All the 250 clients received data with in milliseconds. </p>\n"}], "owner": {"reputation": 37, "user_id": 7168527, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f8f45214c6d93db4e40742d97a50365b?s=128&d=identicon&r=PG&f=1", "display_name": "ringul", "link": "https://stackoverflow.com/users/7168527/ringul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 610, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485617476, "creation_date": 1485385044, "question_id": 41863233, "link": "https://stackoverflow.com/questions/41863233/why-python-udp-server-is-slow-in-this-case-udp-clients-are-getting-reply-after", "title": "Why python UDP server is slow in this case? udp clients are getting reply after 5 to 6 seconds.. of course i have 250 client threads attacking server", "body": "<p>i have a UDP server which takes data from clients(250) and convert the data in to upper case and reply them back. I have 250 clients sending the data. The server is replying all the clients, but the time between sending and receiving data for each client is pretty high around 5 seconds at an average. can anyone figure it out why the elapsed time for each client is so high?</p>\n\n<h2>Here is the server code :</h2>\n\n<pre><code>import socket\nimport sys\n\n# Create a TCP/IP socket\nsock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\n\n# Bind the socket to the port\nserver_address = ('localhost', 10000)\nprint(sys.stderr, 'starting up on %s port %s' % server_address)\nsock.bind(server_address)\nwhile True:\n    print(sys.stderr, '\\nwaiting to receive message')\n    data, address = sock.recvfrom(4096)\n\n    print(sys.stderr, 'received %s bytes from %s' % (len(data), address))\n    print(sys.stderr, data)\n    data = data.upper()\n    if data:\n        sent = sock.sendto(data, address)\n        print(sys.stderr, 'sent %s bytes back to %s' % (sent, address))\n</code></pre>\n\n<hr>\n\n<p>Here is the client code : on client end i am creating 250 threads and each thread holds a while loop and they will send the data forever.</p>\n\n<pre><code>import socket\nimport sys\nimport threading\nimport time\nimport decimal\nfrom random import randint\n\nclass myThread(threading.Thread):\n    def __init__(self, name):\n        threading.Thread.__init__(self,name=name)\n        self.sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)\n        self.server_address = ('192.168.1.251', 10000)\n\n    def run(self):\n        print(self.name + \" Started\")\n        message = \"Hello....i am client : \"+self.name\n        while True:\n            #time.sleep(1)\n            time.sleep(decimal.Decimal(randint(1,5) / 10))\n            #send data to server\n            #print(sys.stderr, 'sending \"%s\"' % message)\n            dat_sen_t = time.time()\n            sent = self.sock.sendto(message.encode(), self.server_address)\n            # Receive response\n            #print(sys.stderr, 'waiting to receive')\n            data, server = self.sock.recvfrom(4096)\n            data = data.decode()\n            print(sys.stderr, ' received \"%s\"' % data +\"Tim Taken :\"+ (str((time.time() - dat_sen_t))) + ' seconds\\n')\n            fil.write(self.name+' received \"%s\"' % data +\"Tim Taken :\"+ (str((time.time() - dat_sen_t))) + ' seconds\\n')\n\ndef Main():\n    threads = []\n\n    for i in range(250):\n        thread_i=\"Thread\"+str(i)\n        thread = myThread(thread_i)\n        threads += [thread]\n        thread.start()\n\n    for x in threads:\n        x.join()\n\n    print(\"Exiting Main Thread \")\nif __name__ == '__main__':\n    fil = open(\"UDP1_cli_log.txt\", \"a+\")\n    Main()\n</code></pre>\n\n<hr>\n\n<p>Client side log file looks like this:\n <a href=\"https://i.stack.imgur.com/IOk3F.png\" rel=\"nofollow noreferrer\">Client log file</a></p>\n"}, {"tags": ["python", "selenium", "debugging", "firefox", "firebug"], "comments": [{"owner": {"reputation": 508, "user_id": 1154981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b12a117ce6a055ff33dea9e47083f77?s=128&d=identicon&r=PG", "display_name": "chenjesu", "link": "https://stackoverflow.com/users/1154981/chenjesu"}, "edited": false, "score": 0, "creation_date": 1485386688, "post_id": 41863197, "comment_id": 70910761, "body": "Are you using <code>driver.current_url</code>? This may help: <a href=\"http://stackoverflow.com/questions/30479290/get-current-url-from-browser-python\" title=\"get current url from browser python\">stackoverflow.com/questions/30479290/&hellip;</a>"}, {"owner": {"reputation": 105, "user_id": 2491847, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cb6e19b05b88fc59ec6b21e720a00bc?s=128&d=identicon&r=PG", "display_name": "\u0421\u0442\u0430\u043d\u0438\u0441\u043b\u0430\u0432 \u041f\u043e\u0432\u044b\u0448\u0435\u0432", "link": "https://stackoverflow.com/users/2491847/%d0%a1%d1%82%d0%b0%d0%bd%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%9f%d0%be%d0%b2%d1%8b%d1%88%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 508, "user_id": 1154981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b12a117ce6a055ff33dea9e47083f77?s=128&d=identicon&r=PG", "display_name": "chenjesu", "link": "https://stackoverflow.com/users/1154981/chenjesu"}, "edited": false, "score": 0, "creation_date": 1486325611, "post_id": 41863197, "comment_id": 71285955, "body": "driver.current_url does not show me what I want."}], "owner": {"reputation": 105, "user_id": 2491847, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cb6e19b05b88fc59ec6b21e720a00bc?s=128&d=identicon&r=PG", "display_name": "\u0421\u0442\u0430\u043d\u0438\u0441\u043b\u0430\u0432 \u041f\u043e\u0432\u044b\u0448\u0435\u0432", "link": "https://stackoverflow.com/users/2491847/%d0%a1%d1%82%d0%b0%d0%bd%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%9f%d0%be%d0%b2%d1%8b%d1%88%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1485384898, "creation_date": 1485384898, "question_id": 41863197, "link": "https://stackoverflow.com/questions/41863197/automatically-print-network-data-from-firebug-or-browser-debug-console-using-pyt", "title": "Automatically print network data from FireBug or browser debug console using Python and Selenium?", "body": "<p>Is where any way to get network data from browser's debug console or firebug to python script automatically, simultaneously? Webbrowser opens some websites and I see only simple, short URL. Instead of URL with params etc. All this data I may found in debug console manually, but how can I reach it using python and selenium?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 2, "creation_date": 1485384083, "post_id": 41863020, "comment_id": 70909790, "body": "Why not use a datetime lib? See <a href=\"http://stackoverflow.com/a/466376/868044\">doc links on this answer</a>"}, {"owner": {"reputation": 795, "user_id": 7392092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6db8d83a86bc2337136978860a6e5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Radar", "link": "https://stackoverflow.com/users/7392092/radar"}, "reply_to_user": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1485384235, "post_id": 41863020, "comment_id": 70909857, "body": "@Dan because some of the strings i want to test don&#39;t correspond to that format. That&#39;s precisely the goal, i.e. separate strings that match from those which don&#39;t"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1485384501, "post_id": 41863020, "comment_id": 70909957, "body": "<code>&#47;</code> is not the same as `\\`."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1485384529, "post_id": 41863020, "comment_id": 70909970, "body": "<code>-</code> is not the same as <code>,</code>."}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1485384640, "post_id": 41863020, "comment_id": 70910019, "body": "@Radar Does error handling work? If the string format is different from the one you specify in your <code>datetime.strptime()</code> it will throw a <code>ValueError</code>."}, {"owner": {"reputation": 795, "user_id": 7392092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6db8d83a86bc2337136978860a6e5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Radar", "link": "https://stackoverflow.com/users/7392092/radar"}, "reply_to_user": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1485385864, "post_id": 41863020, "comment_id": 70910469, "body": "@Dan How would you do error handling? For instance if one of the string encountered is <code>&#39;30&#47;06&#47;06-01&#47;07&#47;06&#39;</code> - (this is the error in the current state of affairs..)"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1485386558, "post_id": 41863020, "comment_id": 70910722, "body": "@Radar if you get an exception (try...except), then try next most common pattern (e.g. day/month/year), if still an exception, write the line number out to an exceptions file and review those to see if there is a pattern."}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 1, "creation_date": 1485386893, "post_id": 41863020, "comment_id": 70910817, "body": "But if you&#39;re using pandas (which was not stated in your original question), you can use something like <code>pd.to_datetime(df.Timestamp, format=&#39;%m&#47;%d&#47;%Y %H:%M&#39;, errors=&#39;raise&#39;)</code> to raise an exception then try parsing again with <code>to_datetime()</code> using <code>format=&#39;%d&#47;%m&#47;%Y %H:%M&#39;</code>. You can experiment with <code>errors=&#39;coerce&#39;</code> and <code>ignore</code> also. <a href=\"http://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.to_datetime.html\" rel=\"nofollow noreferrer\">See the docs</a>. Note that pandas use strftime to that documentation is applicable to the format keyword argument"}], "answers": [{"comments": [{"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485385048, "post_id": 41863142, "comment_id": 70910199, "body": "Sorry, I was using grep for testing, and forward slashes do mean something in grep. I suppose this is not true of Python."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485385204, "post_id": 41863142, "comment_id": 70910245, "body": "No, grep doesn&#39;t care about <code>&#47;</code> either."}, {"owner": {"reputation": 795, "user_id": 7392092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6db8d83a86bc2337136978860a6e5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Radar", "link": "https://stackoverflow.com/users/7392092/radar"}, "edited": false, "score": 1, "creation_date": 1485385212, "post_id": 41863142, "comment_id": 70910248, "body": "@Dan Hmm ok. Yeah its true i was using the pandas <code>to_datetime()</code> and not the <code>strptime</code> or <code>strftime</code>. I will look into that. Thx!"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1485385878, "post_id": 41863142, "comment_id": 70910476, "body": "@Dan regexr.com uses your browser&#39;s JavaScript regex engine (JavaScript uses slashes to delimit regex literals in its syntax, but they&#39;re not part of the regex per se; they work like <code>&quot;</code> does for strings). It doesn&#39;t have anything to do with grep."}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485386601, "post_id": 41863142, "comment_id": 70910734, "body": "@melpomene good to know. Next time I&#39;ll be sure to fire up a python interpreter instead. Thanks!"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 1, "creation_date": 1485387419, "post_id": 41863142, "comment_id": 70910973, "body": "@Dan Yeah I love it. The python code generator sucks - it generates 30 lines where 3 would do. However, the rest of the site is top notch."}], "tags": [], "owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "is_accepted": true, "score": 2, "last_activity_date": 1485384945, "last_edit_date": 1485384945, "creation_date": 1485384616, "answer_id": 41863142, "question_id": 41863020, "link": "https://stackoverflow.com/questions/41863020/python-re-need-help-creating-a-pattern/41863142#41863142", "title": "python re: need help creating a pattern", "body": "<p>This should work for the pattern shown:</p>\n\n<pre><code>r'\\d{2}/\\d{2}/\\d{2} \\d{2}:\\d{2}'\n</code></pre>\n\n<p>But this really should be done with a datetime lib and just handle exceptions for non-matching lines.</p>\n\n<ul>\n<li><p>Python documentation for <code>strptime</code>: <a href=\"https://docs.python.org/2/library/datetime.html#datetime.datetime.strptime\" rel=\"nofollow noreferrer\" title=\"datetime.datetime.strptime\">Python 2</a>, <a href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime.strptime\" rel=\"nofollow noreferrer\">Python 3</a></p></li>\n<li><p>Python documentation for <code>strftime</code> format mask: <a href=\"https://docs.python.org/2/library/datetime.html#strftime-and-strptime-behavior\" rel=\"nofollow noreferrer\" title=\"strftime-and-strptime-behavior\">Python 2</a>, <a href=\"https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior\" rel=\"nofollow noreferrer\">Python 3</a></p></li>\n<li><p><a href=\"http://strftime.org/\" rel=\"nofollow noreferrer\">Good strftime reference</a></p></li>\n</ul>\n"}], "owner": {"reputation": 795, "user_id": 7392092, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6db8d83a86bc2337136978860a6e5fc?s=128&d=identicon&r=PG&f=1", "display_name": "Radar", "link": "https://stackoverflow.com/users/7392092/radar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 41863142, "answer_count": 1, "score": -1, "last_activity_date": 1485384945, "creation_date": 1485383991, "question_id": 41863020, "link": "https://stackoverflow.com/questions/41863020/python-re-need-help-creating-a-pattern", "title": "python re: need help creating a pattern", "body": "<p>Quick silly question...\nI am trying to create a pattern to match the following type of string <code>'12/06/06 08:15'</code>.</p>\n\n<p>I tried <code>r'/d{1-2}///d{1-2}///d{1-2} /d{1-2}:/d{1-2}'</code> and <code>'/d{1-2}///d{1-2}///d{1-2} /d{1-2}:/d{1-2}'</code> but obviously it doesnt work... Can anyone give me a leg up?</p>\n"}, {"tags": ["python", "math", "permutation"], "comments": [{"owner": {"reputation": 615, "user_id": 6912791, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fa73c2c3cffb26545cbc77259ee9a0f1?s=128&d=identicon&r=PG&f=1", "display_name": "Pike D.", "link": "https://stackoverflow.com/users/6912791/pike-d"}, "edited": false, "score": 1, "creation_date": 1485384283, "post_id": 41863013, "comment_id": 70909878, "body": "Please post your attempt here. Stack Overflow is not a place where people write code for you."}, {"owner": {"reputation": 3, "user_id": 7471468, "user_type": "registered", "profile_image": "https://graph.facebook.com/748557391979158/picture?type=large", "display_name": "David Moolenaar", "link": "https://stackoverflow.com/users/7471468/david-moolenaar"}, "reply_to_user": {"reputation": 615, "user_id": 6912791, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fa73c2c3cffb26545cbc77259ee9a0f1?s=128&d=identicon&r=PG&f=1", "display_name": "Pike D.", "link": "https://stackoverflow.com/users/6912791/pike-d"}, "edited": false, "score": 2, "creation_date": 1485384472, "post_id": 41863013, "comment_id": 70909949, "body": "Well writing the could is only an extra, if I understand the way of solving my problem I could write the code myself. Nonetheless thanks for your reply, I will add code the next time!"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7471468, "user_type": "registered", "profile_image": "https://graph.facebook.com/748557391979158/picture?type=large", "display_name": "David Moolenaar", "link": "https://stackoverflow.com/users/7471468/david-moolenaar"}, "edited": false, "score": 0, "creation_date": 1485384623, "post_id": 41863081, "comment_id": 70910006, "body": "Thank you! I should have know there is builtin function for this, will do a bit more research on the docs next time."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 1, "last_activity_date": 1485384307, "creation_date": 1485384307, "answer_id": 41863081, "question_id": 41863013, "link": "https://stackoverflow.com/questions/41863013/create-all-strings-given-character-set-k-and-lemgth-n/41863081#41863081", "title": "Create all strings given character set k and lemgth n", "body": "<p><code>itertools</code> can get you most of the way there:</p>\n\n<pre><code>&gt;&gt;&gt; def gen(s, count):\n...     for comb in itertools.combinations_with_replacement(s, count):\n...         if len(set(comb)) == len(s):\n...             yield ''.join(comb)\n...             \n&gt;&gt;&gt; [s for s in gen('abc', 5)]\n['aaabc', 'aabbc', 'aabcc', 'abbbc', 'abbcc', 'abccc']\n</code></pre>\n\n<p>There is inefficiency in generating combinations that you're filtering out, but if it's not performance-critical code then don't worry about that prematurely.  </p>\n"}, {"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1485384439, "post_id": 41863083, "comment_id": 70909940, "body": "&quot;each character should appear at least once in the string&quot;"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1485384633, "post_id": 41863083, "comment_id": 70910014, "body": "@wim: fixed, better?"}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": false, "score": 1, "last_activity_date": 1485384513, "last_edit_date": 1485384513, "creation_date": 1485384318, "answer_id": 41863083, "question_id": 41863013, "link": "https://stackoverflow.com/questions/41863013/create-all-strings-given-character-set-k-and-lemgth-n/41863083#41863083", "title": "Create all strings given character set k and lemgth n", "body": "<p>You can simply use <code>itertools</code> for that:</p>\n\n<pre><code>import itertools\n\ndef generate_strings(chars,n):\n    return [''.join(x) for x in itertools.combinations_with_replacement(chars,n) if all(c in x for c in chars)]\n</code></pre>\n\n<p>This is because <code>combinations_with_replacement(..)</code> generates, as the name says, tuples of the given elements, but where each element can occur many times. So:</p>\n\n<pre><code>&gt;&gt;&gt; list(itertools.combinations_with_replacement(['a','b'],3))\n[('a', 'a', 'a'), ('a', 'a', 'b'), ('a', 'b', 'b'), ('b', 'b', 'b')]\n</code></pre>\n\n<p>Now we perform an additional filtering:</p>\n\n<pre><code>... if all(c in x for c in chars)\n</code></pre>\n\n<p>So we check if all characters are present in the string that we will generate.</p>\n\n<p>Now we call <code>''.join(..)</code> on these to join the characters in the tuples together into a string. So for our sample above, we will generate <code>[\"aab\",\"abb\"]</code>.</p>\n\n<p>For your given query it generates:</p>\n\n<pre><code>&gt;&gt;&gt; generate_strings(['a','b','c'],5)\n['aaabc', 'aabbc', 'aabcc', 'abbbc', 'abbcc', 'abccc']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": false, "score": 0, "last_activity_date": 1485416711, "creation_date": 1485416711, "answer_id": 41868821, "question_id": 41863013, "link": "https://stackoverflow.com/questions/41863013/create-all-strings-given-character-set-k-and-lemgth-n/41868821#41868821", "title": "Create all strings given character set k and lemgth n", "body": "<p>Take unchanged part - here 'abc'</p>\n\n<p>Generate all strings with length (n-k) using recursive way or another approach, here 'aa','ab','ac','bb','bc','cc'</p>\n\n<p>Merge unchanged part with every generated string</p>\n"}], "owner": {"reputation": 3, "user_id": 7471468, "user_type": "registered", "profile_image": "https://graph.facebook.com/748557391979158/picture?type=large", "display_name": "David Moolenaar", "link": "https://stackoverflow.com/users/7471468/david-moolenaar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 41863081, "answer_count": 3, "score": 0, "last_activity_date": 1485416711, "creation_date": 1485383970, "last_edit_date": 1485386245, "question_id": 41863013, "link": "https://stackoverflow.com/questions/41863013/create-all-strings-given-character-set-k-and-lemgth-n", "title": "Create all strings given character set k and lemgth n", "body": "<p>So I couldn't find the exact answer for the following problem online.\nIf I have a set of characters <code>k</code> and I want to make all possible combinations within a string of length <code>n</code>, each character should appear at least once in the string and i say that <code>'abc' == 'cba'</code>.\nI need some code that would get me these strings.(so without duplicates like <code>'abc' == 'cba'</code>) I tried several nested loops and recursive code blocks but neither got it working for me, hope you guys can help! (Python is my main language do if the answer could be in this language that would be great)</p>\n\n<p>Example:</p>\n\n<pre><code>In:\nchars = ['a', 'b', 'c']\nlength = 5\nOut:\n'abccc', 'abbcc', 'abbbc', 'aabcc', 'aabbc', 'aaabc'\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1485383802, "post_id": 41862955, "comment_id": 70909685, "body": "Are there new lines in the file. Furthermore what is not working? I do not see a problem immidiately? Do you get an error? Is the output wrong?"}, {"owner": {"reputation": 41, "user_id": 7160563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1dd49753b4fd4edfe43bb2b0d8dde8da?s=128&d=identicon&r=PG&f=1", "display_name": "skryt", "link": "https://stackoverflow.com/users/7160563/skryt"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1485384032, "post_id": 41862955, "comment_id": 70909769, "body": "I get an IndexError: list index out of range on line 5. I believe the text file does have a new lines as when I copy and paste it into the IDE the info is formed as data within the original post."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485384131, "post_id": 41862955, "comment_id": 70909810, "body": "So, all those strings and numbers are on the same line?"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1485384133, "post_id": 41862955, "comment_id": 70909812, "body": "@skryt: but then your described format is not valid. Also not that if it is, the dictionary will look like <code>{&#39;STRING&#39;:7}</code> since all &quot;keys&quot; are the same and it will thus keep the last value."}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485384233, "post_id": 41862955, "comment_id": 70909855, "body": "put a <code>print(data)</code> after line 4 and see what you get and whether it is what you expect."}, {"owner": {"reputation": 41, "user_id": 7160563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1dd49753b4fd4edfe43bb2b0d8dde8da?s=128&d=identicon&r=PG&f=1", "display_name": "skryt", "link": "https://stackoverflow.com/users/7160563/skryt"}, "edited": false, "score": 0, "creation_date": 1485384236, "post_id": 41862955, "comment_id": 70909858, "body": "sorry each individual string is unique, none of them are the same"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485384274, "post_id": 41862955, "comment_id": 70909874, "body": "So real data would help. I suspect one of your lines doesn&#39;t have an integer or there is no space between the string and integer, thus the index error. You should post runnable code so that we can reproduce the problem."}, {"owner": {"reputation": 41, "user_id": 7160563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1dd49753b4fd4edfe43bb2b0d8dde8da?s=128&d=identicon&r=PG&f=1", "display_name": "skryt", "link": "https://stackoverflow.com/users/7160563/skryt"}, "reply_to_user": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485384548, "post_id": 41862955, "comment_id": 70909978, "body": "@RobertB Yeah, I got what I was hoping for [&#39;string&#39;, &#39;value&#39;] on a separate line, however I did get an extra dictionary out [] without any key or values in it. Which im assuming is why the error is getting thrown in there,"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485384995, "post_id": 41862955, "comment_id": 70910176, "body": "Probably a blank line in the input file?"}, {"owner": {"reputation": 41, "user_id": 7160563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1dd49753b4fd4edfe43bb2b0d8dde8da?s=128&d=identicon&r=PG&f=1", "display_name": "skryt", "link": "https://stackoverflow.com/users/7160563/skryt"}, "edited": false, "score": 0, "creation_date": 1485385181, "post_id": 41862955, "comment_id": 70910238, "body": "Thats exactly what it was. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 15340, "user_id": 1560035, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fe3aa4a1766a44d8f27db8a95cb573ed?s=128&d=identicon&r=PG", "display_name": "TheoretiCAL", "link": "https://stackoverflow.com/users/1560035/theoretical"}, "is_accepted": false, "score": 0, "last_activity_date": 1485384162, "creation_date": 1485384162, "answer_id": 41863046, "question_id": 41862955, "link": "https://stackoverflow.com/questions/41862955/reading-a-file-and-appending-to-a-dictionary/41863046#41863046", "title": "Reading a file and appending to a dictionary", "body": "<p>Your code works fine for the input described (STRING 13\\nSTRING 4...), my guess is that you have an extra blank line in your data or have a string but forget the number. Try accounting for it:</p>\n\n<pre><code>d = {}\nfile = open('data.txt','r')\nfor line in file:\n        data = line.split()\n        if len(data) == 2:\n            key, value = data[0], data[1]\n            d[key] = value\nprint(d)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 0, "last_activity_date": 1485387599, "last_edit_date": 1485387599, "creation_date": 1485386027, "answer_id": 41863413, "question_id": 41862955, "link": "https://stackoverflow.com/questions/41862955/reading-a-file-and-appending-to-a-dictionary/41863413#41863413", "title": "Reading a file and appending to a dictionary", "body": "<p>You could use regular expressions to parse the file. This approach is very resilient to blank lines etc. Also, you are opening a file but not closing it, the best practice is to use \"with\" per the pattern below. Lastly, \"file\" is actually a thing in Python that you are clobbering with your variable name, I would avoid using that as a variable name:</p>\n\n<pre><code>import re\nr = r'(.*?)\\s*(\\d*$)'\nwith open('data.txt','r') as f:\n    d = dict([ re.match(r, line).groups() for line in f ])\nprint(d)\n</code></pre>\n\n<p>data.txt:</p>\n\n<pre><code>sjfklasdj1 231\nsdf23 123\n1ldfkjasdlfk 23\n\nfasd\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>{'': '', 'fasd': '', '1ldfkjasdlfk ': '23', 'sdf23 ': '123', 'sjfklasdj1 ': '231'}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7160563, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/1dd49753b4fd4edfe43bb2b0d8dde8da?s=128&d=identicon&r=PG&f=1", "display_name": "skryt", "link": "https://stackoverflow.com/users/7160563/skryt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2467, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1485387599, "creation_date": 1485383699, "last_edit_date": 1485384090, "question_id": 41862955, "link": "https://stackoverflow.com/questions/41862955/reading-a-file-and-appending-to-a-dictionary", "title": "Reading a file and appending to a dictionary", "body": "<p>I'm running into troubles appending data into a dictionary.</p>\n\n<p>data:</p>\n\n<pre><code>string integer \nstring integer \nstring integer \nstring integer \n</code></pre>\n\n<p>the text file on notepad it looks like:</p>\n\n<pre><code>STRING 13STRING 4STRING 1STRING 4STRING 2STRING 7\n</code></pre>\n\n<p>Initially one of the strings were missing an integer, I just added one into the text file and saved it to first make sure I can append the info into a dictionary</p>\n\n<p>code:</p>\n\n<pre><code>d = {}\nfile = open('data.txt','r')\nfor line in file:\n    data = line.split()\n    key, value = data[0], data[1]\n    d[key] = value\nprint(d)\n</code></pre>\n"}, {"tags": ["python", "caffe", "labels"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7064751, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3be6bb0e4c419b64018c776a62c57936?s=128&d=identicon&r=PG&f=1", "display_name": "Filipa Almeida", "link": "https://stackoverflow.com/users/7064751/filipa-almeida"}, "edited": false, "score": 0, "creation_date": 1485458895, "post_id": 41879584, "comment_id": 70944930, "body": "The n00015388 part appears in all images of animals in Validation Set on ILSVRC2012. Besides the knowledge that the image contains an animal, I already have my predictions but I need the ground truth labels to compute the classification error. I searched in synset_words.txt the n00015388 and I got no match. It&#39;s possible that I downloaded images by categories from ilsvrc2011 and not the ilsvrc2012? I used this link: image-net.org/synset?wnid=n02119789"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1485452336, "creation_date": 1485452336, "answer_id": 41879584, "question_id": 41862924, "link": "https://stackoverflow.com/questions/41862924/where-can-i-find-the-ground-truth-labels-of-a-ilsvrc2012-high-level-category-fo/41879584#41879584", "title": "Where can I find the ground truth labels of a ILSVRC2012 high level category, for example animals?", "body": "<p>The main correlation is that the directory (the <strong>n00015388</strong> part) maps uniquely to the label: There will be ~1300 images that share that prefix.</p>\n\n<p>I haven't yet found a correlation between the suffix (such as _119) and the file use.  The suffix is unique within each class, of course.  However, the quantity of each suffix varies quite a bit.</p>\n\n<p>If you want to investigate on your own, there's a complete list of files in your generated <strong>train.txt</strong> file, generated by one of the setup scripts -- or easy enough to generate from a \"ls\" file listing and header information.</p>\n"}], "owner": {"reputation": 29, "user_id": 7064751, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3be6bb0e4c419b64018c776a62c57936?s=128&d=identicon&r=PG&f=1", "display_name": "Filipa Almeida", "link": "https://stackoverflow.com/users/7064751/filipa-almeida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1050, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485452336, "creation_date": 1485383596, "question_id": 41862924, "link": "https://stackoverflow.com/questions/41862924/where-can-i-find-the-ground-truth-labels-of-a-ilsvrc2012-high-level-category-fo", "title": "Where can I find the ground truth labels of a ILSVRC2012 high level category, for example animals?", "body": "<p>I'm using the ILSVRC2012 dataset and for that, I have the ground_truth_labels and the synset_words.txt. Now, I access <a href=\"http://image-net.org/synset?wnid=n02119789\" rel=\"nofollow noreferrer\">this</a> and download just the images containing animals.</p>\n\n<p>I use a neural network to make a prediction and now, I want to calculate the classification error but I don't have the ground truth labels.</p>\n\n<p><strong>My question is</strong>: where can I find the ground truth labels for these images? The name of them appear like this </p>\n\n<p>n00015388_12.JPEG, </p>\n\n<p>n00015388_24.JPEG, </p>\n\n<p>n00015388_119.JPEG</p>\n\n<p>Is there any relationship between the name of the images and the files given by caffe? (synset_word.txt and val.txt)</p>\n\n<p>What's the meaning of the numbers used to name the images?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 2, "creation_date": 1485383729, "post_id": 41862917, "comment_id": 70909654, "body": "you have to use <code>end=&quot;\\r&quot;</code> in <code>print()</code> - not in <code>time_str</code>, and not in <code>format()</code>"}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 0, "creation_date": 1485383907, "post_id": 41862917, "comment_id": 70909720, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/3488704/how-to-rewrite-output-in-terminal\">How to rewrite output in terminal</a>"}, {"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "reply_to_user": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 0, "creation_date": 1485383958, "post_id": 41862917, "comment_id": 70909738, "body": "@Tagc I&#39;ve read through them already and it didnt solve my problem. At furas, I&#39;ve tried that already and edited my code to show that"}], "answers": [{"comments": [{"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1485384308, "post_id": 41863018, "comment_id": 70909892, "body": "I tried that and is still not printing on the same line"}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 0, "creation_date": 1485384376, "post_id": 41863018, "comment_id": 70909923, "body": "+1, this works in Pycharm under Windows 10 nicely (IDLE is still problematic and I doubt any solution can be made to work for it)."}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 0, "creation_date": 1485384546, "post_id": 41863018, "comment_id": 70909976, "body": "Also successfully tested within a mintty terminal and a command prompt under Windows 10."}, {"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1485384578, "post_id": 41863018, "comment_id": 70909992, "body": "It might just be a problem with Ubuntu then, because none of these solutions are working it seems"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": false, "score": 1, "last_activity_date": 1485383988, "creation_date": 1485383988, "answer_id": 41863018, "question_id": 41862917, "link": "https://stackoverflow.com/questions/41862917/execute-command-in-time-increments-of-1-second-on-same-line-in-terminal/41863018#41863018", "title": "Execute command in time increments of 1 second on same line in terminal", "body": "<p>You must place the carriage return at the beginning of the text and replace the carriage end with \"\"</p>\n\n<pre><code>import time\nimport sys\n\nprint(\"Good morning!\")\nwhile True:\n    time_str = \"\\rIt's %I:%M:%S %p on %A, %b %d, %Y\"\n    print(time.strftime(time_str), end=\"\")\n    sys.stdout.flush()\n    time.sleep(1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1485384215, "post_id": 41863024, "comment_id": 70909843, "body": "Yeah I&#39;ve tried that too.  I am now getting a SyntaxError: invalid syntax pointing at the &#39;=&#39; in &#39;end=&#39;\\r&#39;.  I&#39;ve updated my code"}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 0, "creation_date": 1485384228, "post_id": 41863024, "comment_id": 70909852, "body": "Unfortunately this doesn&#39;t seem to work for me testing on Windows 10 within PyCharm (output: <code>Good morning!</code> and nothing else) and IDLE 3.6.0 (output: <code>Good morning! It&#39;s 10:42:35 PM on Wednesday, Jan 25, 2017It&#39;s 10:42:36 PM on Wednesday, Jan 25, 2017It&#39;s 10:42:37 PM on Wednesday, Jan 25, 2017...</code>)"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "edited": false, "score": 0, "creation_date": 1485384313, "post_id": 41863024, "comment_id": 70909895, "body": "@Tagc it all depends on console/terminal - not all of them respect <code>\\r</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1485384360, "post_id": 41863024, "comment_id": 70909916, "body": "@JordanPagni are you sure you use <code>Python 3</code> ? You could get this error if you use <code>Python 2</code>"}, {"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1485384526, "post_id": 41863024, "comment_id": 70909963, "body": "@furas Sorry forget the syntax error, but it is still not printing on the same line"}, {"owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "edited": false, "score": 0, "creation_date": 1485384690, "post_id": 41863024, "comment_id": 70910043, "body": "Thanks @furas for your efforts! Fortunately this is now working! I noticed you added the &#39;,&#39; at the end of the print statement, which fixed the issue.  How does that work?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485384729, "post_id": 41863024, "comment_id": 70910056, "body": "maybe change terminal :)"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1485384771, "last_edit_date": 1485384771, "creation_date": 1485384019, "answer_id": 41863024, "question_id": 41862917, "link": "https://stackoverflow.com/questions/41862917/execute-command-in-time-increments-of-1-second-on-same-line-in-terminal/41863024#41863024", "title": "Execute command in time increments of 1 second on same line in terminal", "body": "<p>You have to use <code>end=\"\\r\"</code> in <code>print()</code> to replace default <code>end=\"\\n\"</code> </p>\n\n<pre><code>import time\nimport sys\n\nprint(\"Good morning!\")\nwhile True:\n    time_str = \"It's %I:%M:%S %p on %A, %b %d, %Y\"\n    print(time.strftime(time_str), end=\"\\r\")\n    sys.stdout.flush()\n    time.sleep(1)\n</code></pre>\n\n<p>I use Linux Mint (based on Ubuntu) and <code>\\r</code> works for me in terminal (but maybe Ubuntu use different terminal).</p>\n\n<hr>\n\n<p>You get error with <code>end=\"\\r\"</code> so this means that you use <code>Python 2</code>, not <code>Pyhton 3</code> - and then you need <code>comma</code> at the end in <code>print</code> to skip default <code>\\n</code></p>\n\n<pre><code>import time\nimport sys\n\nprint \"Good morning!\"\nwhile True:\n    time_str = \"It's %I:%M:%S %p on %A, %b %d, %Y\\r\"\n    print time.strftime(time_str),  # &lt;-- comma to skip \"\\n\"\n    sys.stdout.flush()\n    time.sleep(1)\n</code></pre>\n"}], "owner": {"reputation": 400, "user_id": 5831776, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1104654699553033/picture?type=large", "display_name": "Jordan Pagni", "link": "https://stackoverflow.com/users/5831776/jordan-pagni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 41863024, "answer_count": 2, "score": 3, "last_activity_date": 1485384867, "creation_date": 1485383576, "last_edit_date": 1485384867, "question_id": 41862917, "link": "https://stackoverflow.com/questions/41862917/execute-command-in-time-increments-of-1-second-on-same-line-in-terminal", "title": "Execute command in time increments of 1 second on same line in terminal", "body": "<p>This script I have is very simple.  Until the script is manually stopped, it prints, in the terminal, the current time every 1 second.  The only problem I've had thus far is the carriage return '\\r' command used to go back and use the same line as before does not work as intended.  Instead of the time being overwritten each time, I get an output like this:</p>\n\n<pre><code>Good morning!\nIt's 03:10:13 PM on Wednesday, Jan 25, 2017\nIt's 03:10:14 PM on Wednesday, Jan 25, 2017\nIt's 03:10:15 PM on Wednesday, Jan 25, 2017\nIt's 03:10:16 PM on Wednesday, Jan 25, 2017\nIt's 03:10:17 PM on Wednesday, Jan 25, 2017\nIt's 03:10:18 PM on Wednesday, Jan 25, 2017\nIt's 03:10:19 PM on Wednesday, Jan 25, 2017\nIt's 03:10:20 PM on Wednesday, Jan 25, 2017\nIt's 03:10:21 PM on Wednesday, Jan 25, 2017\n</code></pre>\n\n<p>Am I not allowed to do this on terminal? Is there a problem with the 1 second pause I'm putting in between?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import time\nimport sys\n\nprint(\"Good morning!\")\nwhile True:\n    time_str = \"It's %I:%M:%S %p on %A, %b %d, %Y\\r\"\n    print time.strftime(time_str)\n    sys.stdout.flush()\n    time.sleep(1)\n</code></pre>\n\n<p>Some extra information: I'm using a bash shell on an Ubuntu system</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1485383587, "post_id": 41862881, "comment_id": 70909581, "body": "it converted text to integer, check if you can in read_excel declare type of data in columns. Or use string formating to convert integers to string with leading zeros."}, {"owner": {"reputation": 4723, "user_id": 6786975, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcBgg.png?s=128&g=1", "display_name": "MMF", "link": "https://stackoverflow.com/users/6786975/mmf"}, "edited": false, "score": 0, "creation_date": 1485383742, "post_id": 41862881, "comment_id": 70909663, "body": "use a dictionary to set <code>dtype</code> of the column considered"}, {"owner": {"reputation": 8864, "user_id": 243925, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/94b734ac6e85d9f279ee7286f28d6145?s=128&d=identicon&r=PG", "display_name": "Tony", "link": "https://stackoverflow.com/users/243925/tony"}, "edited": false, "score": 0, "creation_date": 1485386080, "post_id": 41862881, "comment_id": 70910552, "body": "Since the OP found the answer in the linked question, this should be closed as a duplicate of <a href=\"http://stackoverflow.com/questions/32591466/python-pandas-how-to-specify-data-types-when-reading-an-excel-file\">Python pandas: how to specify data types when reading an Excel file?</a>"}, {"owner": {"reputation": 2493, "user_id": 5966448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5797778df7bfc1beb6dd450d7e53d2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sci Prog", "link": "https://stackoverflow.com/users/5966448/sci-prog"}, "edited": false, "score": 0, "creation_date": 1485477086, "post_id": 41862881, "comment_id": 70953067, "body": "Except by reading the previous comment (Tony), there is no indication that is related to the <code>pandas</code> library.  I suggest adding the tag."}], "answers": [{"comments": [{"owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "edited": false, "score": 0, "creation_date": 1485475477, "post_id": 41863388, "comment_id": 70952686, "body": "I tried  the above converter but still have the problem. I checked the original Excel file , the zip code was stored as zip code format. I finally found this to work around:                       <a href=\"http://stackoverflow.com/questions/33137686/python-loading-zip-codes-into-a-dataframe-as-strings\" title=\"python loading zip codes into a dataframe as strings\">stackoverflow.com/questions/33137686/&hellip;</a>                            df[&#39;zipcode&#39;] = df[&#39;zipcode&#39;].astype(str).str.zfill(5)"}], "tags": [], "owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "is_accepted": false, "score": 1, "last_activity_date": 1485385902, "last_edit_date": 1495540386, "creation_date": 1485385902, "answer_id": 41863388, "question_id": 41862881, "link": "https://stackoverflow.com/questions/41862881/python-read-exel-file-error-beginning-zeros-error/41863388#41863388", "title": "python read exel file error beginning zeros error", "body": "<p>Found a answer here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32591466/python-pandas-how-to-specify-data-types-when-reading-an-excel-file\">Python pandas: how to specify data types when reading an Excel file?</a>:</p>\n\n<p>You just specify converters. I created an excel spreadsheet of the following structure:</p>\n\n<pre><code>    names   ages\n    bob     05\n    tom     4\n    suzy    3\n</code></pre>\n\n<p>Where the \"ages\" column is formatted as strings. To load:</p>\n\n<p>import pandas as pd</p>\n\n<pre><code>   df =      pd.read_excel('Book1.xlsx',sheetname='Sheet1',header=0,converters={'names':str,'ages':str})\n</code></pre>\n\n<blockquote>\n  <blockquote>\n    <blockquote>\n<pre><code> df\n      names ages\n  0   bob   05\n  1   tom   4\n  2   suzy  3\n</code></pre>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>Thanks @tnknepp</p>\n"}], "owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485475603, "creation_date": 1485383450, "last_edit_date": 1485475603, "question_id": 41862881, "link": "https://stackoverflow.com/questions/41862881/python-read-exel-file-error-beginning-zeros-error", "title": "python read exel file error beginning zeros error", "body": "<p>I have a  Excel file 'test.xls' file which I could read in as following:</p>\n\n<pre><code>    df=  pd.read_excel('test.xls',sep='\\t',header=1)\n</code></pre>\n\n<p>I checked df and found there is a  column  zip_code which contain zip code like 00051, 00123, but the first 0 was  cut off  while the system  read in the excel file. </p>\n\n<p>So  that column will be 51, 123. How could I keep the first zeros intact while reading the file. Thanks.\nFound solution as I posted  below.</p>\n"}, {"tags": ["python", "eclipse", "jython"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6904914, "user_type": "registered", "profile_image": "https://graph.facebook.com/1769591696622067/picture?type=large", "display_name": "Aragonthebest von Metropolis", "link": "https://stackoverflow.com/users/6904914/aragonthebest-von-metropolis"}, "edited": false, "score": 0, "creation_date": 1485472558, "post_id": 41881878, "comment_id": 70951789, "body": "Yes it ist implemented as a .so :/"}], "tags": [], "owner": {"reputation": 97, "user_id": 7472618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/684cf5c9e2de2bf2fdf4783ca34d9439?s=128&d=identicon&r=PG&f=1", "display_name": "zonk", "link": "https://stackoverflow.com/users/7472618/zonk"}, "is_accepted": true, "score": 0, "last_activity_date": 1485460632, "creation_date": 1485460632, "answer_id": 41881878, "question_id": 41862867, "link": "https://stackoverflow.com/questions/41862867/eclipse-jython-importerror-no-module-named-pycurl/41881878#41881878", "title": "eclipse + jython: importError: No module named pycurl", "body": "<p>I don't have much to do with pyCurl, but I try a guess.</p>\n\n<p>Is pyCurl implemented as a \".so\"?\nIf yes: It won't work, because Jython can't deal with it, because it's C-Stuff. Jython can only use pure Python or Java modules.</p>\n\n<p>In that case you have to look for an alternative in Java/Python or you need to find/create a wrapper and use JNI.</p>\n\n<p>If no: Did you add pyCurl in your project source folder the right way?\nDid you \"import\" in your code the right way?</p>\n"}], "owner": {"reputation": 13, "user_id": 6904914, "user_type": "registered", "profile_image": "https://graph.facebook.com/1769591696622067/picture?type=large", "display_name": "Aragonthebest von Metropolis", "link": "https://stackoverflow.com/users/6904914/aragonthebest-von-metropolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 41881878, "answer_count": 1, "score": 0, "last_activity_date": 1485460632, "creation_date": 1485383414, "question_id": 41862867, "link": "https://stackoverflow.com/questions/41862867/eclipse-jython-importerror-no-module-named-pycurl", "title": "eclipse + jython: importError: No module named pycurl", "body": "<p>I know this Error is known and there are a few solutions, but none worked for me.</p>\n\n<p>I work with eclipse neon + jython 2.7 on a Mac. NO virtualenv.</p>\n\n<p>I want to import pycurl, which is correctly installed! </p>\n\n<blockquote>\n  <p>/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages</p>\n</blockquote>\n\n<p>The PythonPath in Eclipse is set to site-packages and pycurl and so on. i already tried every combination! \nI restarted eclipse every time after changing something at the paths.</p>\n\n<p>I tried different installations:</p>\n\n<pre><code>sudo -H pip install pycurl\neasy_install pycurl\npip -v install pycurl\npip -v install pycurl --upgrade\n</code></pre>\n\n<p>But if it is installed with one of these methods. it will always say that its already installed, when trying to install via another command. \nSo I deinstalled and installed multiple times. I even tried it with the download of the pycurl website</p>\n\n<p>So any suggestions, how to make this work?</p>\n"}, {"tags": ["python", "numpy", "floating-point"], "comments": [{"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 0, "creation_date": 1485421306, "post_id": 41862864, "comment_id": 70921871, "body": "Floating-point addition is commutative but not associative, so order of addition matters. For a more extreme example, try <code>l1 = [1e17, 3.0, -1e17]</code> and <code>l2 = [1e17, -1e17, 3.0]</code>, which have computed means of <code>0.0</code> and <code>1.0</code> respectively. (Incidentally, these two results will fail the <code>allclose</code> test that Mike M&#252;ller mentions.)"}], "answers": [{"tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 3, "last_activity_date": 1485384248, "last_edit_date": 1485384248, "creation_date": 1485383909, "answer_id": 41862999, "question_id": 41862864, "link": "https://stackoverflow.com/questions/41862864/is-numpy-order-dependent/41862999#41862999", "title": "Is numpy order dependent?", "body": "<p>NumPy uses (in this case) 64-bit floats. <a href=\"https://en.wikipedia.org/wiki/Floating_point\" rel=\"nofollow noreferrer\">Floating point numbers</a> cannot represent all numbers with unlimited precision. \nThis data type can hold 15 significant digits. This means the last digit in your number is meaningless.\nTherefore, to compare our numbers use <code>numpy.allclose</code>:</p>\n\n<pre><code>&gt;&gt;&gt; numpy.allclose(numpy.mean(l1), numpy.mean(l2))\nTrue\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 4572113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7dacd93aa43cb73432fe15ccd359c347?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/4572113/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 41862999, "answer_count": 1, "score": 1, "last_activity_date": 1485384248, "creation_date": 1485383408, "question_id": 41862864, "link": "https://stackoverflow.com/questions/41862864/is-numpy-order-dependent", "title": "Is numpy order dependent?", "body": "<p>I noticed that the output  of <code>numpy.mean()</code> and <code>numpy.var()</code> changes as the ordering of its arguments change.</p>\n\n<p>It has to do only with the precision of floats, or I'm missing something?</p>\n\n<pre><code>import numpy\n\nl1 = [1.0, 0.69, 0.65, 0.7, 0.64, 0.8]\nl2 = [1.0, 0.7, 0.69, 0.65, 0.64, 0.8]\n\nassert sorted(l1) == sorted(l2)\n\nprint repr(numpy.mean(l1))\nprint repr(numpy.mean(l2))\n\nprint repr(numpy.var(l1))\nprint repr(numpy.var(l2))\n</code></pre>\n\n<p>Here the output that I obtain:</p>\n\n<pre><code>0.7466666666666667\n0.74666666666666659\n0.015522222222222222\n0.015522222222222224\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "type-hinting"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 5, "last_activity_date": 1485384965, "last_edit_date": 1485384965, "creation_date": 1485383860, "answer_id": 41862989, "question_id": 41862828, "link": "https://stackoverflow.com/questions/41862828/mutually-recursive-types-in-python-3-6-using-named-tuple-syntax/41862989#41862989", "title": "Mutually recursive types in Python 3.6, using named tuple syntax", "body": "<p>You can use string literals; they'll be evaluated later:</p>\n\n<pre><code>class Node(NamedTuple):\n    name: str\n    edges: List['Edge']\n</code></pre>\n\n<p>See the <a href=\"https://www.python.org/dev/peps/pep-0484/#forward-references\" rel=\"nofollow noreferrer\"><em>Forward References</em> section</a> of PEP 484 -- Type Hints:</p>\n\n<blockquote>\n  <p>When a type hint contains names that have not been defined yet, that definition may be expressed as a string literal, to be resolved later.</p>\n</blockquote>\n\n<p>For <code>NamedTuple</code> objects, forward references are stored explicitly for later dereferencing:</p>\n\n<pre><code>&gt;&gt;&gt; Node._field_types\n{'name': &lt;class 'str'&gt;, 'edges': typing.List[_ForwardRef('Edge')]}\n</code></pre>\n\n<p>which a type checker can later dereference from the locals and globals:</p>\n\n<pre><code>&gt;&gt;&gt; typing._eval_type(Node._field_types['edges'], globals(), locals())\ntyping.List[__main__.Edge]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 6, "last_activity_date": 1485383890, "creation_date": 1485383890, "answer_id": 41862994, "question_id": 41862828, "link": "https://stackoverflow.com/questions/41862828/mutually-recursive-types-in-python-3-6-using-named-tuple-syntax/41862994#41862994", "title": "Mutually recursive types in Python 3.6, using named tuple syntax", "body": "<p>Use string literals.</p>\n\n<pre><code>from typing import NamedTuple, List\n\nclass Node(NamedTuple):\n    name: str\n    edges: List['Edge']\n\nclass Edge(NamedTuple):\n    src: Node\n    dest: Node\n</code></pre>\n\n<p>The details are in <a href=\"https://www.python.org/dev/peps/pep-0484/#forward-references\">PEP-484</a>, under the \"Forward References\" section:</p>\n\n<blockquote>\n  <p>When a type hint contains names that have not been defined yet, that definition may be expressed as a string literal, to be resolved later.</p>\n</blockquote>\n"}], "owner": {"reputation": 1084, "user_id": 4302668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/EmGum.png?s=128&g=1", "display_name": "Michael Hewson", "link": "https://stackoverflow.com/users/4302668/michael-hewson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 1, "closed_date": 1485421268, "answer_count": 2, "score": 5, "last_activity_date": 1485384965, "creation_date": 1485383271, "last_edit_date": 1485384283, "question_id": 41862828, "link": "https://stackoverflow.com/questions/41862828/mutually-recursive-types-in-python-3-6-using-named-tuple-syntax", "closed_reason": "Duplicate", "title": "Mutually recursive types in Python 3.6, using named tuple syntax", "body": "<p>I'm trying to implement Nodes and Edges for a graph. Here is my code:</p>\n\n<pre><code>from typing import NamedTuple, List\n\nclass Node(NamedTuple):\n    name: str\n    edges: List[Edge]\n\nclass Edge(NamedTuple):\n    src: Node\n    dest: Node\n</code></pre>\n\n<p>This raises an error because the <code>Edge</code> type is not defined when <code>Node</code> is created.</p>\n\n<pre><code>NameError: name 'Edge' is not defined\n</code></pre>\n\n<p>Switching the definitions around doesn't work because <code>Edge</code> also refers to <code>Node</code>.</p>\n\n<p>How can I make it work?</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485383102, "post_id": 41862709, "comment_id": 70909356, "body": "Do you have a rule that can be used to recognized the files to be renamed, or a list of such file names? Do you have another rule that explains how to convert an old name to the new name?"}, {"owner": {"reputation": 7342, "user_id": 217723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f452e7450ed34475e73fd66f8186d1b5?s=128&d=identicon&r=PG", "display_name": "yedpodtrzitko", "link": "https://stackoverflow.com/users/217723/yedpodtrzitko"}, "edited": false, "score": 1, "creation_date": 1485383191, "post_id": 41862709, "comment_id": 70909395, "body": "you have to loop through the <code>name_map</code> for each file and search for a substring in the filename (eg. <code>for pattern, ren_to in name_map.items(): if pattern in f: os.rename(...)</code>"}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "reply_to_user": {"reputation": 7342, "user_id": 217723, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f452e7450ed34475e73fd66f8186d1b5?s=128&d=identicon&r=PG", "display_name": "yedpodtrzitko", "link": "https://stackoverflow.com/users/217723/yedpodtrzitko"}, "edited": false, "score": 0, "creation_date": 1485383633, "post_id": 41862709, "comment_id": 70909598, "body": "@yedpodtrzitko that will change only part of the string? Can you post the solution if you have it because I&#39;m not quite following you"}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485384131, "post_id": 41862709, "comment_id": 70909811, "body": "@DYZ no I don&#39;t, and I don&#39;t know how to go about it tbh"}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1485384242, "post_id": 41862709, "comment_id": 70909863, "body": "You will need to have some kind of pattern or at least a manually typed out list of the names. Once you have that you can just do <code>if pattern in file_name: change the name to this</code> in your loop."}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "reply_to_user": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1485384939, "post_id": 41862709, "comment_id": 70910152, "body": "@Posh_Pumpkin really? Its a simple name replace though, this sounds like machine learning"}, {"owner": {"reputation": 1188, "user_id": 7244759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/336538946712354/picture?type=large", "display_name": "spicypumpkin", "link": "https://stackoverflow.com/users/7244759/spicypumpkin"}, "edited": false, "score": 0, "creation_date": 1485385834, "post_id": 41862709, "comment_id": 70910462, "body": "@VisualExstasy Yes, I&#39;m talking about a simple name replace. If you have three files - <code>A1C</code>, <code>A2C</code>, <code>ABC</code> - then you can do <code>for file in files: if file[1].isdigit(): os.rename(file, new_name)</code>. Obviously, depending on the complexity of the pattern the task could become extremely difficult. But if you wanted your computer to implicitly know what pattern to apply like a human, then <i>that</i> would be ML, not my example."}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1485384827, "post_id": 41862981, "comment_id": 70910110, "body": "Can&#39;t figure it out"}], "tags": [], "owner": {"reputation": 479, "user_id": 3812934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8EJAq.jpg?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3812934/h%c3%a9ctor"}, "is_accepted": false, "score": 0, "last_activity_date": 1485383835, "creation_date": 1485383835, "answer_id": 41862981, "question_id": 41862709, "link": "https://stackoverflow.com/questions/41862709/python-changing-part-of-a-file-name/41862981#41862981", "title": "Python changing part of a file name", "body": "<p>You should definitely look into <a href=\"https://docs.python.org/3.1/library/re.html\" rel=\"nofollow noreferrer\">regular expressions</a>.</p>\n\n<p>If you have a pattern definition of what you need to change and the replacement, it's really simple using <a href=\"https://docs.python.org/3.1/library/re.html#re.sub\" rel=\"nofollow noreferrer\">re.sub</a></p>\n"}, {"comments": [{"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1485389009, "post_id": 41863869, "comment_id": 70911416, "body": "how does this sort through my directories though?"}, {"owner": {"reputation": 1066, "user_id": 6930916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02d45da3aacf3390f5502e952c06cb9f?s=128&d=identicon&r=PG&f=1", "display_name": "hvwaldow", "link": "https://stackoverflow.com/users/6930916/hvwaldow"}, "reply_to_user": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1485392617, "post_id": 41863869, "comment_id": 70912357, "body": "You didn&#39;t seem to have a problem with the <code>os.walk</code> part or the actual renaming. So I left that out for clarity."}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1485455744, "post_id": 41863869, "comment_id": 70943210, "body": "if you don&#39;t mind can you explain it to me step by step. I just want extra clarity"}], "tags": [], "owner": {"reputation": 1066, "user_id": 6930916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02d45da3aacf3390f5502e952c06cb9f?s=128&d=identicon&r=PG&f=1", "display_name": "hvwaldow", "link": "https://stackoverflow.com/users/6930916/hvwaldow"}, "is_accepted": false, "score": 1, "last_activity_date": 1485388586, "creation_date": 1485388586, "answer_id": 41863869, "question_id": 41862709, "link": "https://stackoverflow.com/questions/41862709/python-changing-part-of-a-file-name/41863869#41863869", "title": "Python changing part of a file name", "body": "<p>Something like that?</p>\n\n<pre><code>files = ['something', 'nothing', 'no_really_not',\n         'something_something', 'nothing_to_replace']\nname_map = {'nothing': 'something',\n            'something': 'nothing'}\n\nfor f in files:\n    for pat, rep  in name_map.iteritems():\n        if f.find(pat) &gt;= 0:\n            f_new = f.replace(pat, rep)\n            print('Rename {} -&gt; {}'.format(f, f_new))\n            break\n    else:\n        print('Keep {}'.format(f))\n</code></pre>\n\n<p>That is pretty pedestrian. Not good if multiple replacements for one file should be honored ... </p>\n"}, {"tags": [], "owner": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "is_accepted": true, "score": 3, "last_activity_date": 1485389330, "creation_date": 1485389330, "answer_id": 41863974, "question_id": 41862709, "link": "https://stackoverflow.com/questions/41862709/python-changing-part-of-a-file-name/41863974#41863974", "title": "Python changing part of a file name", "body": "<p>As pointed out by Hector, the easiest way to accomplish this task is to use regular expressions. Luckily Python has an excellent regular expressions module called <code>re</code>. Essentially we are looking to see if any of the patterns we have specified in the <code>name_map</code> match the current file we are looking at. If the pattern does match, ONLY the matching part is subbed out, and then is renamed.</p>\n\n<pre><code>import os, glob, re\n\nname_map = {\n    \"bad\": \"good\",\n    \"cat\": \"dog\"\n}\n\nfor root, dirs, files in os.walk(r\"/Users/.../start/\"):\n    for f in files:\n        for name in name_map.keys():\n            if re.search(name,f) != None:\n                new_name = re.sub(name,name_map[name],f)\n                try:\n                    os.rename(os.path.join(root,f), os.path.join(root, new_name))\n                except OSError:\n                    print \"No such file or directory!\"\n</code></pre>\n\n<p>So given some directory <code>start</code> with the contents:\n    <code>bad_name.txt</code>\n    <code>catdogcat.csv</code></p>\n\n<p>This will script will rename them to:\n    <code>good_name.txt</code>\n    <code>dogdogdog.csv</code></p>\n\n<p>The two main takeaways from this should be how to use the <code>re.search()</code> and <code>re.sub()</code> methods. <code>re.search(pattern, string)</code> looks for the pattern in the provided string. If it finds it, it will return a <code>Match</code> object and if it does not then it will instead return <code>None</code>. This makes testing for a pattern in a string a breeze. Once we have found that the pattern exists, the next step is to replace it with our new name. Enter the <code>re.sub()</code> method. <code>re.sub(pattern, replace, string)</code> searches for a pattern in the provided string and then replaces that pattern with the contents of replace.</p>\n\n<p>I highly encourage you to look at <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">the docs for the <code>re</code> module</a> as it is quite powerful and can be used to solve a number of problems. </p>\n"}], "owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2716, "favorite_count": 0, "accepted_answer_id": 41863974, "answer_count": 3, "score": 4, "last_activity_date": 1485389330, "creation_date": 1485382724, "last_edit_date": 1485382967, "question_id": 41862709, "link": "https://stackoverflow.com/questions/41862709/python-changing-part-of-a-file-name", "title": "Python changing part of a file name", "body": "<p>Hi I have a number of different files that need to be renamed to something else. I got this far but I want to have it so that I can have many items to replace and their corresponding replacements rather than type each one out, run the code then retype it again. Also I need the rename to only change part of the file not the whole thing so if there was a \"Cat5e_1mBend1bottom50m2mBend2top-Aqeoiu31\" it would just change it to \"'Cat5e50m1mBED_50m2mBE2U-Aqeoiu31\nRunning python 2.5</p>\n\n<pre><code>import os, glob\n\nname_map = {\n     \"Cat5e_1mBend1bottom50m2mBend2top\": 'Cat5e50m1mBED_50m2mBE2U'\n}\n\n#searches for roots, directory and files\nfor root,dirs,files in os.walk(r\"H:\\My Documents\\CrossTalk\"):\n   for f in files:\n       if f in name_map:\n          try:\n             os.rename(os.path.join(root, f), os.path.join(root, name_map[f]))\n          except FileNotFoundError, e:\n          #except FileNotFoundError as e:  # python 3\n             print(str(e))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1485383067, "post_id": 41862688, "comment_id": 70909343, "body": "Usually regexes do not raise exceptions themselves. Are you sure you feed it a string?"}, {"owner": {"reputation": 119, "user_id": 7062915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/748abc6c6b34fc8d4762b6c0485d46a7?s=128&d=identicon&r=PG&f=1", "display_name": "zhangdi", "link": "https://stackoverflow.com/users/7062915/zhangdi"}, "edited": false, "score": 0, "creation_date": 1485383566, "post_id": 41862688, "comment_id": 70909569, "body": "Yes, I think I did, it may be the grouping that causes the problem but I am not sure"}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 7062915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/748abc6c6b34fc8d4762b6c0485d46a7?s=128&d=identicon&r=PG&f=1", "display_name": "zhangdi", "link": "https://stackoverflow.com/users/7062915/zhangdi"}, "edited": false, "score": 0, "creation_date": 1485384120, "post_id": 41862887, "comment_id": 70909807, "body": "Hi, after changing that, only re.match(p2b,&#39;5.2x10^31&#39;).groups() does not raise an exception but the rest of the cases are still raising exceptions."}, {"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "reply_to_user": {"reputation": 119, "user_id": 7062915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/748abc6c6b34fc8d4762b6c0485d46a7?s=128&d=identicon&r=PG&f=1", "display_name": "zhangdi", "link": "https://stackoverflow.com/users/7062915/zhangdi"}, "edited": false, "score": 0, "creation_date": 1485399032, "post_id": 41862887, "comment_id": 70913935, "body": "Yes ... but there were all sorts of other problems with your expression ..."}], "tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": false, "score": 0, "last_activity_date": 1485383462, "creation_date": 1485383462, "answer_id": 41862887, "question_id": 41862688, "link": "https://stackoverflow.com/questions/41862688/how-to-fix-the-regular-expression/41862887#41862887", "title": "how to fix the regular expression", "body": "<p>An exception is because occurring your <code>re.match</code> is returning <code>None</code>.  You then cannot access <code>None.groups()</code>.</p>\n\n<p>Why is it returning <code>None</code> for everything?  <strong>You have a <code>^</code> in the middle of the expression</strong> and in a regular expression that indicates the start of a line.  For example, you use it for exactly that at the start of your expression.</p>\n\n<p>Compare:</p>\n\n<pre><code>&gt;&gt;&gt; re.match(r\"^([+-]?)([1-9].[0-9]+)x10^([1-9][0-9]*)$\",'5.2x10^31')\nNone\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>&gt;&gt;&gt; re.match(r\"^([+-]?)([1-9].[0-9]+)x10\\^([1-9][0-9]*)$\",'5.2x10^31')\n&lt;_sre.SRE_Match object; span=(0, 9), match='5.2x10^31'&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 7062915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/748abc6c6b34fc8d4762b6c0485d46a7?s=128&d=identicon&r=PG&f=1", "display_name": "zhangdi", "link": "https://stackoverflow.com/users/7062915/zhangdi"}, "edited": false, "score": 0, "creation_date": 1485402043, "post_id": 41863645, "comment_id": 70914555, "body": "Hey, your code is great but there is only one problem. 0 :  should be (None, None, None) instead of (None, &#39;0&#39;, None)"}], "tags": [], "owner": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "is_accepted": false, "score": 0, "last_activity_date": 1485463196, "last_edit_date": 1485463196, "creation_date": 1485387252, "answer_id": 41863645, "question_id": 41862688, "link": "https://stackoverflow.com/questions/41862688/how-to-fix-the-regular-expression/41863645#41863645", "title": "how to fix the regular expression", "body": "<p>Comparing the regex with the test data, there are several issues:</p>\n\n<ul>\n<li>the plus/minus of the exponent is not in the regex</li>\n<li>the <code>^</code> in the middle of the string is not escaped</li>\n<li>the <code>10^...</code> might not be present in the data, but it is in the regex</li>\n<li>the first <code>.</code> might not be present in the data, but it is in the regex</li>\n<li>the question mark after the first plus/minus must be outside the group if you want a <code>None</code> when the sign is missing</li>\n</ul>\n\n<p>Maybe this works:</p>\n\n<pre><code>import re\n\np2b = '^([+-])?(([1-9].?[0-9]*)|0)(x10\\^([+-]?[1-9][0-9]*))?$'\n\nfor s in ['-5.2', '+1.2', '0', '5.', '5.0', \n          '5.2x10^31', '5.2x10^-31', '5.2x10^+31', '-5.2x10^-31']:\n    try: \n        a = re.match(p2b, s).groups()\n        a = (a[0], a[2], a[4])\n        print s, \": \", a\n    except Exception as e: \n        print s, \": \",  e\n</code></pre>\n\n<p>Here are some explanations: </p>\n\n<pre><code>p2b =  re.compile(r\"\"\"\n        ^                       # start of line\n        ([+-])?                 # maybe a sign\n        (\n           (\n               [1-9].?[0-9]*    # accept 1, 2, 5., 5.2, not 0\n           ) | 0                # 0 will not be in a group \n        )\n        (  \n            x10\\^               # the x10... will be skipped later\n              (\n                 [+-]?          # exponent might have a sign\n                 [1-9][0-9]*    # one or more digits, not starting with 0\n              )\n        )?                      # The x10... might be missing\n        $                       # end of line\n        \"\"\", re.VERBOSE)\n</code></pre>\n\n<p>This is the output: </p>\n\n<pre><code>-5.2 :  ('-', '5.2', None)\n+1.2 :  ('+', '1.2', None)\n0 :  (None, None, None)\n5. :  (None, '5.', None)\n5.0 :  (None, '5.0', None)\n5 :  (None, '5', None)\n15 :  (None, '15', None)\n5.2x10^31 :  (None, '5.2', '31')\n5.2x10^-31 :  (None, '5.2', '-31')\n5.2x10^+31 :  (None, '5.2', '+31')\n-5.2x10^-31 :  ('-', '5.2', '-31')\n</code></pre>\n\n<p>The <code>a[2]</code> would contain <code>'x10^-31'</code>, so I skip it, there are certainly better solutions.</p>\n"}], "owner": {"reputation": 119, "user_id": 7062915, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/748abc6c6b34fc8d4762b6c0485d46a7?s=128&d=identicon&r=PG&f=1", "display_name": "zhangdi", "link": "https://stackoverflow.com/users/7062915/zhangdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "closed_date": 1485387860, "answer_count": 2, "score": 0, "last_activity_date": 1485463196, "creation_date": 1485382645, "question_id": 41862688, "link": "https://stackoverflow.com/questions/41862688/how-to-fix-the-regular-expression", "closed_reason": "Duplicate", "title": "how to fix the regular expression", "body": "<pre><code>import re\np2b = open('repattern2b.txt').read().rstrip()\n</code></pre>\n\n<p>I need to write a regular expression pattern that matches strings representing numbers written in scientific notation. But in addition for this pattern , ensure group 1 is the sign of the mantissa (if there is a sign); group 2 is the mantissa, but only if it is not 0 (that exception makes the pattern simpler); group 3 is the exponent.</p>\n\n<p>for example: If </p>\n\n<pre><code>m = re.match(the pattern,\u20199.11x10^-31\u2019) \n</code></pre>\n\n<p>then m.groups() is </p>\n\n<pre><code>(None, '9.11', '-31'). \n</code></pre>\n\n<p>There should be no more groups.</p>\n\n<p>Below is the regular expression I wrote for 'repattern2b.txt':</p>\n\n<pre><code>^([+-]?)([1-9].[0-9]+)x10^([1-9][0-9]*)$\n</code></pre>\n\n<p>But I got the error:</p>\n\n<pre><code>54 *Error: re.match(p2b,'0').groups() raised exception; unevaluated: (None, None, None)\n55 *Error: re.match(p2b,'5').groups() raised exception; unevaluated: (None, '5', None)\n56 *Error: re.match(p2b,'5.0').groups() raised exception; unevaluated: (None, '5.0', None)\n57 *Error: re.match(p2b,'5.2x10^31').groups() raised exception; unevaluated: (None, '5.2', '31')\n58 *Error: re.match(p2b,'5.2x10^-31').groups() raised exception; unevaluated: (None, '5.2', '-31')\n59 *Error: re.match(p2b,'5.2x10^+31').groups() raised exception; unevaluated: (None, '5.2', '+31')\n60 *Error: re.match(p2b,'-5.2x10^-31').groups() raised exception; unevaluated: ('-', '5.2', '-31')\n</code></pre>\n\n<p>It seems that my regular expression raises an exception, but I am not sure why. Can someone help me to fix it? Thanks in advance.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "anaconda"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485383000, "post_id": 41862682, "comment_id": 70909312, "body": "In Anaconda with 3.5 duplicate <code>python.exe</code> and change name into <code>pyhton3.exe</code> and the same with <code>conda</code> - and then you can use both versions."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485383223, "post_id": 41862682, "comment_id": 70909407, "body": "BTW: on Linux I have files <code>python</code>, <code>python3</code>, <code>python3.4</code>, <code>python3.5</code>, <code>python3.6</code> and <code>python2</code>, <code>python2.7</code>, <code>python2.6</code> and I can run all versions at the same time. You can do something similar on Windows."}, {"owner": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485383425, "post_id": 41862682, "comment_id": 70909509, "body": "@furas Yes, on Ubuntu specifically I do the same thing. Windows seems to be a different case"}], "answers": [{"comments": [{"owner": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "edited": false, "score": 0, "creation_date": 1485383679, "post_id": 41862825, "comment_id": 70909623, "body": "This was my initial approach but issuing the first command you mention lead to &quot;recursion error&quot; :( hence I went with a fresh install"}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "reply_to_user": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "edited": false, "score": 0, "creation_date": 1485572070, "post_id": 41862825, "comment_id": 70993927, "body": "@LorahAttkins This is the best way to manage different versions of python with Anaconda on Windows.  If you get an error running the first command, there is an issue with the python installation.  Make sure by &quot;clean installation&quot;, you uninstalled all other anaconda distributions.  Avoid having Anaconda 2.x and Anaconda 3.x installed together; pick one and use envs as shown here."}, {"owner": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "reply_to_user": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1485592325, "post_id": 41862825, "comment_id": 70997422, "body": "@pylang then it&#39;s not OK to run both installers so I should delete one distribution and start all over again.  I have to finish a project and I&#39;m afraid messing with the installation right now but will try again in a week or so. +1 here and I&#39;ll wait to see if there are any more answers before accepting"}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "reply_to_user": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "edited": false, "score": 0, "creation_date": 1485626513, "post_id": 41862825, "comment_id": 71007352, "body": "@LorahAttkins Yes.  I recommend, when and if you are able, truly start from scratch and delete all Anaconda distributions. Then install only one.  One distribution is sufficient as you can install separate environments.  This suggestion is the appropriate method, and I also recommend looking at the SO docs on this topic for assurance <a href=\"https://stackoverflow.com/documentation/python/868/virtual-environments/10797/making-virtual-environments-using-anaconda#t=201701281758488883466\">stackoverflow.com/documentation/python/868/virtual-environme&zwnj;&#8203;nts/&hellip;</a>.  Consider using a Python 3 distribution with Py 2 env since support will end eventually <a href=\"https://pythonclock.org/\" rel=\"nofollow noreferrer\">pythonclock.org</a>."}, {"owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "edited": false, "score": 0, "creation_date": 1506632411, "post_id": 41862825, "comment_id": 79911609, "body": "Unfortunately, this approach means that one will have to reinstall the required packages for python3 despite already having anaconda?"}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1506638396, "post_id": 41862825, "comment_id": 79913556, "body": "You always need to install a package for each Python version no matter approach you use. Python 2 packages of NumPy, SciPy etc. will never work in Python 3."}, {"owner": {"reputation": 187, "user_id": 6676789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/27ido.jpg?s=128&g=1", "display_name": "rainman", "link": "https://stackoverflow.com/users/6676789/rainman"}, "edited": false, "score": 0, "creation_date": 1541653300, "post_id": 41862825, "comment_id": 93291945, "body": "While using the command <code>conda install anaconda</code>, is it possible to specify the version of <code>anaconda</code>?"}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1541664993, "post_id": 41862825, "comment_id": 93295607, "body": "Just specify the version number <code>conda install anaconda=5.3.0</code>."}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 25, "last_activity_date": 1485383260, "creation_date": 1485383260, "answer_id": 41862825, "question_id": 41862682, "link": "https://stackoverflow.com/questions/41862682/how-can-i-use-both-anaconda-versions-2-7-3-5/41862825#41862825", "title": "How can I use both Anaconda versions (2.7 &amp; 3.5)?", "body": "<p>You can make Python 3.5 environment with your Anaconda 2.7:</p>\n\n<pre><code>conda create -n py35 python=3.5\n</code></pre>\n\n<p>Now, activate it:</p>\n\n<pre><code>activate py35\n</code></pre>\n\n<p>Finally you can install the desired packages: </p>\n\n<pre><code>conda install numpy\n</code></pre>\n\n<p>or, the whole anaconda:</p>\n\n<pre><code>conda install anaconda\n</code></pre>\n\n<p>The advantage of this approach is that you can also create Python 3.4 or 3.6 environments. Furthermore, you can create environments with different combinations and versions of libraries.</p>\n\n<p>Actually, it makes sense to create a new environment for each larger project.</p>\n"}, {"comments": [{"owner": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "edited": false, "score": 0, "creation_date": 1485609819, "post_id": 41910231, "comment_id": 71001700, "body": "this looks like something the installers could have done for us right?"}, {"owner": {"reputation": 687, "user_id": 4708327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bc0e5f645ceb0d3dc0d08c65bfc0d1?s=128&d=identicon&r=PG&f=1", "display_name": "u55", "link": "https://stackoverflow.com/users/4708327/u55"}, "reply_to_user": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "edited": false, "score": 0, "creation_date": 1485611270, "post_id": 41910231, "comment_id": 71002163, "body": "@LorahAttkins Yes, the Anaconda packagers could have included all the python versions as individually-named executables (or soft links to them), such as python, python2, python2.7, python3, python3.5, etc., as is commonly done by the packagers for most Linux distributions, and possibly even let the user decide which version &quot;python&quot; points to, but it seems the Anaconda devs are too infatuated by Virtualenv."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1485626884, "post_id": 41910231, "comment_id": 71007462, "body": "@u55 I am curious why are you opposed to Anaconda&#39;s virtual env style of handling python versions?"}, {"owner": {"reputation": 687, "user_id": 4708327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bc0e5f645ceb0d3dc0d08c65bfc0d1?s=128&d=identicon&r=PG&f=1", "display_name": "u55", "link": "https://stackoverflow.com/users/4708327/u55"}, "reply_to_user": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 1, "creation_date": 1485645369, "post_id": 41910231, "comment_id": 71013224, "body": "@pylang Virtualenv is great for testing code against every python version under the sun, but I don&#39;t want to have to use it for daily work because <code>activate py35 &amp;&amp; python</code> and <code>deactivate</code> is too much typing for me. --Not joking. I much prefer to be able to use <code>python</code> or <code>python3</code> whenever needed. Also, having both executables simultaneously makes it much easier to set up build commands for text editors/IDE&#39;s, and makes it much easier to call one version of python from a different version of python using &quot;subprocess&quot;."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1485647790, "post_id": 41910231, "comment_id": 71013793, "body": "I think I can commiserate with your second argument.  Thanks."}, {"owner": {"reputation": 725, "user_id": 1135237, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/22b63d609b1cbbefc2720bf906697157?s=128&d=identicon&r=PG", "display_name": "qqqqq", "link": "https://stackoverflow.com/users/1135237/qqqqq"}, "edited": false, "score": 0, "creation_date": 1562195360, "post_id": 41910231, "comment_id": 100306313, "body": "@u55 using this approach, during installation of anaconda when prompted to select (check boxes)between modifying PATH  and Register Anaconda( the default). Should I turn off both?  Note that I have already version 2 installed and it is on my PATH. I am asking it in context of second installation (version 3 )?"}, {"owner": {"reputation": 687, "user_id": 4708327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bc0e5f645ceb0d3dc0d08c65bfc0d1?s=128&d=identicon&r=PG&f=1", "display_name": "u55", "link": "https://stackoverflow.com/users/4708327/u55"}, "reply_to_user": {"reputation": 725, "user_id": 1135237, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/22b63d609b1cbbefc2720bf906697157?s=128&d=identicon&r=PG", "display_name": "qqqqq", "link": "https://stackoverflow.com/users/1135237/qqqqq"}, "edited": false, "score": 0, "creation_date": 1565069309, "post_id": 41910231, "comment_id": 101224216, "body": "@qqqqq Sorry for the late reply. It doesn&#39;t matter if you let the installation prepend to the Path environment variable or not since you are editing it by hand in step 2. As for &quot;registering&quot; a default python version, the installation instructions say that this is used by Visual Studio PyCharm, Wing IDE, PyDev, etc. If you don&#39;t use these Windows-centric programs then you&#39;ll never care about the Windows registry keys."}], "tags": [], "owner": {"reputation": 687, "user_id": 4708327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bc0e5f645ceb0d3dc0d08c65bfc0d1?s=128&d=identicon&r=PG&f=1", "display_name": "u55", "link": "https://stackoverflow.com/users/4708327/u55"}, "is_accepted": false, "score": 13, "last_activity_date": 1485609445, "creation_date": 1485609445, "answer_id": 41910231, "question_id": 41862682, "link": "https://stackoverflow.com/questions/41862682/how-can-i-use-both-anaconda-versions-2-7-3-5/41910231#41910231", "title": "How can I use both Anaconda versions (2.7 &amp; 3.5)?", "body": "<p>I also despise the virtual environment switch that Anaconda tries to force on us. I prefer to have both executables always instantly available from the command line. I'm pretty sure I had this working on a Windows machine once: </p>\n\n<ol>\n<li>Install Anaconda2 and Anaconda3 to the C:\\ drive as \"C:\\Anaconda2\\\" and \"C:\\Anaconda3\\\" respectively.</li>\n<li>Edit your \"Path\" environment variable (Control Panel -> System and Security -> System -> Advanced system settings -> Environment Variables) and make sure that \"C:\\Anaconda2;C:\\Anaconda2\\Scripts;C:\\Anaconda2\\Library\\bin\" is in front of \"C:\\Anaconda3;C:\\Anaconda3\\Scripts;C:\\Anaconda3\\Library\\bin\".</li>\n<li>Copy and rename the file \"C:\\Anaconda3\\python.exe\" to \"C:\\Anaconda3\\python3.exe\".</li>\n<li>Copy and rename the file \"C:\\Anaconda3\\Scripts\\conda.exe\" to \"C:\\Anaconda3\\Scripts\\conda3.exe\"</li>\n<li>Copy and rename any other scripts you might use in \"C:\\Anaconda3\\Scripts\\\", such as \"pip.exe\" to \"pip3.exe\", etc.</li>\n</ol>\n\n<p>Now, when you type \"python\" or \"conda\" at the command line you will get the python2 version, and when you type \"python3\" or \"conda3\", etc. at the command line you will get the python3 version.</p>\n"}, {"tags": [], "owner": {"reputation": 471, "user_id": 4399016, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/t37Fn.jpg?s=128&g=1", "display_name": "prashanth manohar", "link": "https://stackoverflow.com/users/4399016/prashanth-manohar"}, "is_accepted": false, "score": 1, "last_activity_date": 1485884828, "last_edit_date": 1485884828, "creation_date": 1485882991, "answer_id": 41963601, "question_id": 41862682, "link": "https://stackoverflow.com/questions/41862682/how-can-i-use-both-anaconda-versions-2-7-3-5/41963601#41963601", "title": "How can I use both Anaconda versions (2.7 &amp; 3.5)?", "body": "<p>The best way to use both Python 2.7x and Python 3.5x together is Jupyter Notebook.</p>\n\n<p><a href=\"http://jupyter.org/\" rel=\"nofollow noreferrer\">http://jupyter.org/</a></p>\n\n<p>You will be able to work on your browser with IPython Notebook style interface which is great for working with scripting languages.</p>\n\n<p>I found some of these videos on YouTube very informative:</p>\n\n<p>1) <a href=\"https://www.youtube.com/watch?v=HW29067qVWk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=HW29067qVWk</a></p>\n\n<p>2) <a href=\"https://www.youtube.com/watch?v=e9cSF3eVQv0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=e9cSF3eVQv0</a></p>\n\n<p>Besides Python 2.7 and 3.5, there are a bunch of other languages that you will be able run with your Jupyter Notebook. The various Kernels are available in this link below:</p>\n\n<p><a href=\"https://github.com/jupyter/jupyter/wiki/Jupyter-kernels\" rel=\"nofollow noreferrer\">https://github.com/jupyter/jupyter/wiki/Jupyter-kernels</a></p>\n\n<p>After installation, as you start your Jupyter Notebook, your browser will open up a new page showing your Home Directory. Among the 4 tabs (Files|Running|Clusters|Conda):</p>\n\n<p>1) The Files tab shows all the files in your Home Directory. </p>\n\n<p>2) Running tab shows all the Notebooks that are running. </p>\n\n<p>3) Clusters tab is provided by IPython parallel. </p>\n\n<p>4) Conda tab is where you need to add the Python version 3.5 (and other languages if needed) to your Jupyter Notebook (If Python 2.7 is default).</p>\n\n<p>If you are interested to try C++ with your Jupyter Notebook, there are a couple of Kernels available. </p>\n\n<p>1) JupyRoot - <a href=\"https://github.com/root-mirror/root/tree/master/bindings/pyroot/JupyROOT\" rel=\"nofollow noreferrer\">https://github.com/root-mirror/root/tree/master/bindings/pyroot/JupyROOT</a></p>\n\n<p>2) Cling - <a href=\"https://github.com/root-mirror/cling\" rel=\"nofollow noreferrer\">https://github.com/root-mirror/cling</a></p>\n"}], "owner": {"reputation": 3684, "user_id": 4224575, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Nvq43.gif?s=128&g=1", "display_name": "Lorah Attkins", "link": "https://stackoverflow.com/users/4224575/lorah-attkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31205, "favorite_count": 11, "accepted_answer_id": 41862825, "answer_count": 3, "score": 14, "last_activity_date": 1485884828, "creation_date": 1485382633, "last_edit_date": 1485513154, "question_id": 41862682, "link": "https://stackoverflow.com/questions/41862682/how-can-i-use-both-anaconda-versions-2-7-3-5", "title": "How can I use both Anaconda versions (2.7 &amp; 3.5)?", "body": "<p>I was using the Anaconda <code>3.5</code> <a href=\"https://www.continuum.io/downloads#windows\" rel=\"noreferrer\">distro</a> in a Windows 10 machine. Due to dependencies in libraries that I want to work with, I had to have the <code>2.7</code> version installed as well. </p>\n\n<p>The good news is that the libraries I needed can now work with the <code>2.7</code> version smoothly and Visual Studio 2015 automagically detected my new Python environment. </p>\n\n<p>The problem comes when using the command line. Upon issuing the command</p>\n\n<pre><code>conda info --envs\n</code></pre>\n\n<p>I get</p>\n\n<pre><code>root                  *  C:\\Users\\norah\\Anaconda2\n</code></pre>\n\n<p>i.e. a single environment (to my understanding and search so far, according to <a href=\"http://conda.pydata.org/docs/using/envs.html\" rel=\"noreferrer\">this</a> I should see two envs listed). This means I can't use <code>conda</code> to acquire new packages for my <code>Python3.5</code> installation, at least not at the command line as I used to since <code>conda</code> only refers to <code>Python2.7</code>. The same goes for the GUI version, Anaconda navigator (I'm not very fond of the GUI version but I tried it out). </p>\n\n<p>There's also no way of launching python3 from the command line since </p>\n\n<pre><code>$python\n</code></pre>\n\n<p>always fires up python2.7 and issuing <code>$python3</code> or <code>$python3.5</code> in the command line doesn't seem to work (nor would adding the path of python3 to the system since the actual executable has the same name as python2 i.e. <code>python.exe</code>) </p>\n\n<p>Is my system taken over by Python2.7? <strong>Is anyone here using them both smoothly and if so could you please elaborate on how to do that</strong>? Was it a \"no no\" move to install both versions of Anaconda?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 5, "creation_date": 1485382596, "post_id": 41862660, "comment_id": 70909108, "body": "Trim the whitespaces around the <code>1&#47;6&#47;2015</code> and see if it works. But, why using regular expressions instead of trying to load the string into datetime via <code>datetime.strptime()</code>?"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 2, "creation_date": 1485382633, "post_id": 41862660, "comment_id": 70909137, "body": "Or remove <code>^</code> from the RE."}, {"owner": {"reputation": 308, "user_id": 7398633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f13ef3b679bd9d5652cd4f4d19d72eab?s=128&d=identicon&r=PG&f=1", "display_name": "xzoert", "link": "https://stackoverflow.com/users/7398633/xzoert"}, "edited": false, "score": 1, "creation_date": 1485382809, "post_id": 41862660, "comment_id": 70909228, "body": "Or add a <code>\\s*</code> after the <code>^</code> (and if you want add a <code>*$</code> as well at the end, so you trim within the regex)."}], "answers": [{"tags": [], "owner": {"reputation": 171, "user_id": 5971855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UAKeO.jpg?s=128&g=1", "display_name": "ryugie", "link": "https://stackoverflow.com/users/5971855/ryugie"}, "is_accepted": false, "score": 0, "last_activity_date": 1485394079, "last_edit_date": 1485394079, "creation_date": 1485393372, "answer_id": 41864503, "question_id": 41862660, "link": "https://stackoverflow.com/questions/41862660/valid-input-to-avoid-error-using-rematch/41864503#41864503", "title": "Valid input to avoid error (using re:match)", "body": "<ul>\n<li><a href=\"https://docs.python.org/2/library/re.html#re.match\" rel=\"nofollow noreferrer\"><code>re.match()</code></a> will start to match at the beginning of the string, so the <code>^</code> is redundant. Also, consider using <a href=\"https://docs.python.org/2/library/re.html#re.search\" rel=\"nofollow noreferrer\"><code>re.search()</code></a> instead as then the pattern is not confined to the beginning of the string and you can just match the digits and slashes.</li>\n<li>Because your input has a space at the beginning and your pattern doesn't, it finds no matches. Consider using <code>\\s?</code> at the beginning and end of your pattern if a space is likely, or trim whitespaces before you apply regex.</li>\n</ul>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; datestamp = ' 1/6/2015 '\n&gt;&gt;&gt; matchObj = re.search(r'(\\d+)/(\\d+)/(\\d+)', datestamp)\n&gt;&gt;&gt; matchObj.group(1)\n'1'\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 3842845, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/51bIs.jpg?s=128&g=1", "display_name": "Java", "link": "https://stackoverflow.com/users/3842845/java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485394079, "creation_date": 1485382501, "question_id": 41862660, "link": "https://stackoverflow.com/questions/41862660/valid-input-to-avoid-error-using-rematch", "title": "Valid input to avoid error (using re:match)", "body": "<p>I am trying to retrieve output that would avoid generating an error message \"AttributeError: 'NoneType' object has no attribute 'group'\". I believe the error is due to output of \"matchObj\" being 'None'.   Bottom is my code.</p>\n\n<pre><code>def processCcDtMdyStamp(datestamp):\n    matchObj = re.match(r'^(\\d+)/(\\d+)/(\\d+)\\s', datestamp)\n    (month, day, year) = (matchObj.group(1), matchObj.group(2), matchObj.group(3))\n    return \"%s/%s/%s\" % (month, day, year)\n\nif __name__ == '__main__':\n    print(processCcDtMdyStamp(' 1/6/2015 '))\n</code></pre>\n\n<p>What would be a valid input (datestamp) rather than ' 1/6/2015'?\n Thanks in advance.</p>\n"}, {"tags": ["python", "python-2.7", "web-scraping", "pyside"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1485383271, "post_id": 41862605, "comment_id": 70909429, "body": "In the constructor of your class you create an instance and close it in the render method, that happens with the first url, so it does not close the application."}, {"owner": {"reputation": 995, "user_id": 4872477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a52a31b0da099d83aa619226a0174b20?s=128&d=identicon&r=PG&f=1", "display_name": "GreySage", "link": "https://stackoverflow.com/users/4872477/greysage"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1485383455, "post_id": 41862605, "comment_id": 70909526, "body": "@eyllanesc So how can I return control back to the caller without using app.quit()?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1485383628, "post_id": 41862605, "comment_id": 70909596, "body": "You could share the entire code because I can not reproduce it."}, {"owner": {"reputation": 995, "user_id": 4872477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a52a31b0da099d83aa619226a0174b20?s=128&d=identicon&r=PG&f=1", "display_name": "GreySage", "link": "https://stackoverflow.com/users/4872477/greysage"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1485383898, "post_id": 41862605, "comment_id": 70909714, "body": "I expanded the code with the list-case stuff, but it shouldn&#39;t make a difference. I get this error when calling <code>r = Renderer() r.render(url1) r.render(url2)</code>"}, {"owner": {"reputation": 995, "user_id": 4872477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a52a31b0da099d83aa619226a0174b20?s=128&d=identicon&r=PG&f=1", "display_name": "GreySage", "link": "https://stackoverflow.com/users/4872477/greysage"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1485387172, "post_id": 41862605, "comment_id": 70910898, "body": "@ekhumoro What irony? I read that question, used your answer (even though it didn&#39;t work without doing some work on it), and now I have a completely different problem. I don&#39;t think you understand what the word &#39;duplicate&#39; means."}, {"owner": {"reputation": 995, "user_id": 4872477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a52a31b0da099d83aa619226a0174b20?s=128&d=identicon&r=PG&f=1", "display_name": "GreySage", "link": "https://stackoverflow.com/users/4872477/greysage"}, "edited": false, "score": 0, "creation_date": 1485388364, "post_id": 41862605, "comment_id": 70911234, "body": "Except that it&#39;s not creating multiple application objects. That&#39;s why I used .instance() way up there in the constructor. If it created multiple application objects, then I would get the behavior described in the question that you seem to think solves everything (hint: it doesn&#39;t), which I don&#39;t. It is in fact very obvious that the code doesn&#39;t create multiple application objects, because the list case (which features a workflow that includes the constructor, which is the only place an application is created) works. So if you&#39;re not going to stay on-topic or be helpful, please don&#39;t post."}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1485392842, "post_id": 41862605, "comment_id": 70912422, "body": "@GreySage. I have removed my comments as they aren&#39;t constructive, and I don&#39;t want our exchanges to get out of hand. I see that you have now removed your comment from my answer, which is appreciated, as it was the only thing that really bothered me. Can I suggest that you also remove your last two comments from here?"}], "answers": [{"tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": false, "score": 0, "last_activity_date": 1485397423, "creation_date": 1485397423, "answer_id": 41865004, "question_id": 41862605, "link": "https://stackoverflow.com/questions/41862605/can-i-run-a-qapplication-serially/41865004#41865004", "title": "Can I run a QApplication serially?", "body": "<p>Re-creating or re-using a <code>QApplication</code> object can sometimes cause problems, depending on the platform and/or the specific versions of PyQt/PySide in use.</p>\n\n<p>I have therefore adapted the example code so that it uses a local event-loop rather than continually quitting and restarting the application event-loop. This local loop should time-out after thirty seconds if the page doesn't load. Note that the original example attempts to create a console application (but using the wrong syntax). However, a full GUI application is needed for rendering web-pages (and in fact trying to do otherwise simply dumps core on my system). The code was tested using Python2 and Python3 with PySide-1.2.4 and PyQt-4.12 on ArchLinux (running from a normal console).</p>\n\n<pre><code>import sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\nfrom PySide.QtWebKit import QWebPage, QWebFrame\n# from PyQt4.QtCore import *\n# from PyQt4.QtGui import *\n# from PyQt4.QtWebKit import QWebPage, QWebFrame\n\nclass Renderer(QWebPage):\n    def __init__(self):\n        self.app = QApplication.instance()\n        if self.app is None:\n            self.app = QApplication(sys.argv)\n        super(Renderer, self).__init__()\n        self.mainFrame().loadFinished.connect(self.handleLoadFinished)\n        self.loop = QEventLoop()\n\n    def render(self, urls):\n        self._urls = iter(urls)\n        self.fetchNext()\n\n    def fetchNext(self):\n        self.loop.exit(0)\n        try:\n            url = next(self._urls)\n        except StopIteration:\n            return False\n        else:\n            self.mainFrame().load(QUrl(url))\n            timer = QTimer()\n            timer.setSingleShot(True)\n            timer.timeout.connect(lambda: self.loop.exit(1))\n            timer.start(30000)\n            if self.loop.exec_() == 1:\n                print('url load timed out: %s' % url)\n        return True\n\n    def processCurrentPage(self):\n        url = self.mainFrame().url().toString()\n        html = self.mainFrame().toHtml()\n        print('loaded: [%d bytes] %s' % (self.bytesReceived(), url))\n\n    def handleLoadFinished(self):\n        self.processCurrentPage()\n        self.fetchNext()\n\nif __name__ == '__main__':\n\n    r = Renderer()\n    r.render(['http://en.wikipedia.org/'])\n    r.render(['http://stackoverflow.com/'])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ python2 test.py\nloaded: [863822 bytes] http://en.wikipedia.org/wiki/Main_Page\nloaded: [1718852 bytes] http://stackoverflow.com/\n</code></pre>\n"}], "owner": {"reputation": 995, "user_id": 4872477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a52a31b0da099d83aa619226a0174b20?s=128&d=identicon&r=PG&f=1", "display_name": "GreySage", "link": "https://stackoverflow.com/users/4872477/greysage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1485397423, "creation_date": 1485382278, "last_edit_date": 1485383801, "question_id": 41862605, "link": "https://stackoverflow.com/questions/41862605/can-i-run-a-qapplication-serially", "title": "Can I run a QApplication serially?", "body": "<p>I am trying to make a class that can take either a list of urls or a single url and render them. </p>\n\n<p>In the list case it renders them all and makes available a dictionary containing all the htmls. This works fine.</p>\n\n<p>In the single case it takes a url, renders it and makes the html available as an attribute, then quits. This works fine when I run it once, but when I try it 2 or more times it locks up when it calls app.exec_().</p>\n\n<pre><code>import sys\nfrom PySide.QtCore import *\nfrom PySide.QtGui import *\nfrom PySide.QtWebKit import QWebPage, QWebFrame\n\nclass Renderer(QWebPage):\n    def __init__(self):\n        self.app = QCoreApplication.instance()\n        if self.app == None:\n            self.app = QApplication(sys.argv)\n            self.app.Type(QApplication.Tty)\n        QWebPage.__init__(self)\n        self.pages = []\n\n    def start(self, urls):\n        #for lists\n        try:\n            self.loadFinished.disconnect()\n        except Exception:\n            pass\n        self.loadFinished.connect(self.listFinished)\n        self._urls = iter(urls)\n        self.fetchNext()\n        self.app.exec_()\n\n    def fetchNext(self):\n        #for lists\n        try:\n            url = next(self._urls)\n        except StopIteration:\n            return False\n        else:\n            self.mainFrame().load(QUrl(url))\n        return True\n\n    def listFinished(self):\n        #for lists\n        html = self.processCurrentPage()\n        self.pages.append(html)\n        if not self.fetchNext():\n            self.app.quit()\n\n    def processCurrentPage(self):\n        url = self.mainFrame().url().toString()\n        html = self.mainFrame().toHtml()\n        return html\n\n    def render(self, url):\n        try:\n            self.loadFinished.disconnect()\n        except Exception:\n            pass\n        self.loadFinished.connect(self.singleFinished)\n        self._url = url\n        self.mainFrame().load(QUrl(url))\n        self.app.exec_()\n\n    def singleFinished(self):\n        print \"singleFinished\"\n        html = self.processCurrentPage()\n        self._html = html\n        self.app.quit()\n</code></pre>\n\n<p>Is what I'm trying to do possible? How can I fix this code so I can call render() multiple times? Should I just use the list-based version?</p>\n\n<p>The same problem occurs when I try the list case and then the single case. I'm pretty sure it doesn't like me calling exec_() after quit(), but I haven't found any documentation on this.</p>\n"}, {"tags": ["python", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 608, "user_id": 6209196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XzOss.jpg?s=128&g=1", "display_name": "Stam Kaly", "link": "https://stackoverflow.com/users/6209196/stam-kaly"}, "edited": false, "score": 0, "creation_date": 1485383061, "post_id": 41862639, "comment_id": 70909339, "body": "The line <code>A + B = &quot;1998-04-18 16:48:36.0&quot;</code> might confuse people. I would say change it to <code>C = A + B  #1998-04-18 16:48:36.0</code>"}, {"owner": {"reputation": 3067, "user_id": 2254228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/badc8662de3d4d713e2685e329c2c964?s=128&d=identicon&r=PG", "display_name": "Chuck", "link": "https://stackoverflow.com/users/2254228/chuck"}, "reply_to_user": {"reputation": 608, "user_id": 6209196, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XzOss.jpg?s=128&g=1", "display_name": "Stam Kaly", "link": "https://stackoverflow.com/users/6209196/stam-kaly"}, "edited": false, "score": 0, "creation_date": 1485383153, "post_id": 41862639, "comment_id": 70909375, "body": "@StamKaly Done. Good Spot."}, {"owner": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 0, "creation_date": 1485383485, "post_id": 41862639, "comment_id": 70909535, "body": "@CharlesMorris and stamkaly Thanx for the help. I will give it a try and will come back in a while."}, {"owner": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 0, "creation_date": 1485385419, "post_id": 41862639, "comment_id": 70910321, "body": "@CharlesMorris I try in above mention code but I unable to fix my problem ...your solution works fine and i check it in ipython, but can you please change in my above mention code. .Thanks for the help."}, {"owner": {"reputation": 3067, "user_id": 2254228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/badc8662de3d4d713e2685e329c2c964?s=128&d=identicon&r=PG", "display_name": "Chuck", "link": "https://stackoverflow.com/users/2254228/chuck"}, "reply_to_user": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 0, "creation_date": 1485420170, "post_id": 41862639, "comment_id": 70921272, "body": "@roy Which line in your code do you do the addition of <code>.0</code> to your string?"}, {"owner": {"reputation": 3067, "user_id": 2254228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/badc8662de3d4d713e2685e329c2c964?s=128&d=identicon&r=PG", "display_name": "Chuck", "link": "https://stackoverflow.com/users/2254228/chuck"}, "reply_to_user": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 0, "creation_date": 1485422801, "post_id": 41862639, "comment_id": 70922653, "body": "@roy See my Update"}, {"owner": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 0, "creation_date": 1485423942, "post_id": 41862639, "comment_id": 70923307, "body": "@CharlesMorris line 5 and 6. thanx for the help. I will look at your solution and will back soon. ."}, {"owner": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 1, "creation_date": 1485424220, "post_id": 41862639, "comment_id": 70923470, "body": "@CharlesMorris I accept your answer and I understand it very well. it works perfectly according to my need. thanx a lot for the help and your precious time. you explain it so well and easy.  have a nice day."}, {"owner": {"reputation": 3067, "user_id": 2254228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/badc8662de3d4d713e2685e329c2c964?s=128&d=identicon&r=PG", "display_name": "Chuck", "link": "https://stackoverflow.com/users/2254228/chuck"}, "reply_to_user": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 1, "creation_date": 1485424753, "post_id": 41862639, "comment_id": 70923773, "body": "@roy You are most welcome. I hope you do to :)  (P.s. One final consideration: In the <code>Try Except</code> addition. This is very generalised. You may wish to change this to specifically check that the format of <code>stDate</code> is as required (at the moment, it just adds <code>.0</code> to whatever you give it if the previous line fails). If you encounter very different data, it may not be obvious that this is causing it to fail. Maybe try to specifically check the format of <code>stDate.</code> in the <code>try</code> section, perhaps using datetime. For more on errors see: <a href=\"http://stackoverflow.com/questions/855759/python-try-else\">stackoverflow.com/questions/855759/python-try-else</a> )"}, {"owner": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "edited": false, "score": 0, "creation_date": 1485425097, "post_id": 41862639, "comment_id": 70923936, "body": "@CharlesMorris thanx a lot for the more reference. I will look at them to learn more about difference kinds of errors. thanx a lot once again for your time and help."}, {"owner": {"reputation": 137, "user_id": 8173864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54848090b942ae18ca1df32c56b77e0?s=128&d=identicon&r=PG&f=1", "display_name": "Flexi", "link": "https://stackoverflow.com/users/8173864/flexi"}, "edited": false, "score": 0, "creation_date": 1603742355, "post_id": 41862639, "comment_id": 114127617, "body": "Could you please help me look at this: <a href=\"https://stackoverflow.com/questions/64535396/how-do-i-pass-vuejs-frontend-vuetify-date-picker-output-to-a-django-datetime-fie\" title=\"how do i pass vuejs frontend vuetify date picker output to a django datetime fie\">stackoverflow.com/questions/64535396/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3067, "user_id": 2254228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/badc8662de3d4d713e2685e329c2c964?s=128&d=identicon&r=PG", "display_name": "Chuck", "link": "https://stackoverflow.com/users/2254228/chuck"}, "is_accepted": true, "score": 13, "last_activity_date": 1485423963, "last_edit_date": 1495541396, "creation_date": 1485382412, "answer_id": 41862639, "question_id": 41862525, "link": "https://stackoverflow.com/questions/41862525/valueerror-time-data-does-not-match-format-y-m-d-hms-f/41862639#41862639", "title": "ValueError: time data does not match format &#39;%Y-%m-%d %H:%M:%S.%f&#39;", "body": "<p>Update: I've looked through your code and found some misstypes.\nIn addition, it looks like you didn't add in the concatenation. </p>\n\n<p>I have sorted both out.</p>\n\n<h2>Mistypes:</h2>\n\n<p>You wrote:</p>\n\n<pre><code>for k, line in enumerate(lines):\n                if k &gt; (int(header_line)):\n                    data_pre = line.strip().split(',')\n                    stDate = data_pre[0].replace(\"\\\"\", \"\")\n                    print stDate  # got 1998-04-18 16:48:36.76\n\n\n                    dat_time = datetime.datetime.strptime(stDate,\n                                                   '%Y-%m-%d %H:%M:%S.%f')\n                    mic_sec = dat_time.microsecond\n                    timcon = calendar.timegm(dat_time.timetuple())*1000000 + mic_sec\n\n                    strDate = \"\\\"\" + strDate + \"\\\"\"\n                    # ^ This line is wrong\n                    # It should say: \n                    # strDate = \"\\\"\" + stDate + \"\\\"\"\n\n                    print stDate # got \"1998-04-18 16:48:36.76\"\n                    # ^ This line is wrong\n                    # It should say:\n                    # print strDate\n</code></pre>\n\n<h2>Implementing the above changes, we can now add the \" + \".0\" \" addition to a sample of your code</h2>\n\n<p>(Try running this first, make sure you understand what it is doing, before moving on):</p>\n\n<pre><code>import time\nimport datetime\nimport calendar\n\nA = \"1998-04-18 16:48:36.76,0,38\"\nB = \"1998-04-18 16:48:37,5,33\"\n\n# Run the Code for B\n\ndata_pre = B.strip().split(',')\nprint data_pre\n\nstDate = data_pre[0].replace(\"\\\"\", \"\")\nprint \"stDate before: \", stDate  \n\n### Addition of Addition of .0\n# Here, we try to convert to datetime format using the format\n# '%Y-%m-%d %H:%M:%S.%f'\ntry:\n    dat_time = datetime.datetime.strptime(stDate,\n                               '%Y-%m-%d %H:%M:%S.%f')\n\n# If that doesn't work, we add \".4\" to the end of stDate\n# (You can change this to \".0\")\n# We then retry to convert stDate into datetime format                                   \nexcept:\n    stDate = stDate + \".4\"\n    dat_time = datetime.datetime.strptime(stDate,\n                               '%Y-%m-%d %H:%M:%S.%f')\n    print \"stDate after: \", stDate\n\n###                                \nprint \"dat_time: \", dat_time\n\nmic_sec = dat_time.microsecond\nprint \"mic_sec: \", mic_sec\n\ntimcon = calendar.timegm(dat_time.timetuple())*1000000 + mic_sec\nprint \"timecon: \", timcon\n\nstrDate = \"\\\"\" + stDate + \"\\\"\"\nprint \"strDate: \", strDate \n</code></pre>\n\n<h2>Therefore, for an example:</h2>\n\n<pre><code>A = \"1998-04-18 16:48:36.76,0,38\"\nB = \"1998-04-18 16:48:37,5,33\"\n# Note the difference  ^^\n\n# Output for B:\n['1998-04-18 16:48:37', '5', '33']\nstDate before:  1998-04-18 16:48:37\nstDate after:  1998-04-18 16:48:37.4\ndat_time:  1998-04-18 16:48:37.400000\nmic_sec:  400000\ntimecon:  892918117400000\nstrDate:  \"1998-04-18 16:48:37.4\"\n\n# Output for A:\n['1998-04-18 16:48:36.76', '0', '38']\nstDate before:  1998-04-18 16:48:36.76\ndat_time:  1998-04-18 16:48:36.760000\nmic_sec:  760000\ntimecon:  892918116760000\nstrDate:  \"1998-04-18 16:48:36.76\"\n</code></pre>\n\n<h2>Integrated Everything into your main loop. This is what you want overall:</h2>\n\n<pre><code>for k, line in enumerate(lines):\n                if k &gt; (int(header_line)):\n                    data_pre = line.strip().split(',')\n                    stDate = data_pre[0].replace(\"\\\"\", \"\")\n                    print stDate  \n\n                    try:\n                        dat_time = datetime.datetime.strptime(stDate,\n                               '%Y-%m-%d %H:%M:%S.%f')                                  \n                    except:\n                        stDate = stDate + \".4\"\n                        dat_time = datetime.datetime.strptime(stDate,\n                               '%Y-%m-%d %H:%M:%S.%f')\n\n                    mic_sec = dat_time.microsecond\n                    timcon = calendar.timegm(dat_time.timetuple())*1000000 + mic_sec\n\n                    strDate = \"\\\"\" + stDate + \"\\\"\"\n                    # ^ Changed this line\n                    print strDate \n                    # ^ Changed this line\n</code></pre>\n\n<h2>Original Answer:</h2>\n\n<p>You can't append to a string.</p>\n\n<p>One option would be to use <code>A + B</code></p>\n\n<pre><code>A = \"1998-04-18 16:48:36\"\nB = \".0\"\nC = A + B\nC = \"1998-04-18 16:48:36.0\"\n</code></pre>\n\n<p>You can also use <code>str.join</code>:</p>\n\n<pre><code>D = \"\".join([A,B])\nD = '1998-04-18 16:48:36.0'\n</code></pre>\n\n<p>For more info, see the answer to this question: <a href=\"https://stackoverflow.com/questions/12169839/which-is-the-preferred-way-to-concatenate-a-string-in-python\">Which is the preferred way to concatenate a string in Python?</a></p>\n"}, {"tags": [], "owner": {"reputation": 358, "user_id": 8471146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8EeOevgQt3s/AAAAAAAAAAI/AAAAAAAARfI/q92bhBb5OeU/photo.jpg?sz=128", "display_name": "Vishwas Abhyankar", "link": "https://stackoverflow.com/users/8471146/vishwas-abhyankar"}, "is_accepted": false, "score": 3, "last_activity_date": 1539238363, "last_edit_date": 1539238363, "creation_date": 1539237020, "answer_id": 52753086, "question_id": 41862525, "link": "https://stackoverflow.com/questions/41862525/valueerror-time-data-does-not-match-format-y-m-d-hms-f/52753086#52753086", "title": "ValueError: time data does not match format &#39;%Y-%m-%d %H:%M:%S.%f&#39;", "body": "<p>Instead of formatting datetime with <code>str</code> function, try <code>datetime.datetime.strftime</code> function:</p>\n\n<p>Code that does not work:</p>\n\n<pre><code>&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; import pytz\n&gt;&gt;&gt; jst = pytz.timezone('Asia/Tokyo')\n&gt;&gt;&gt; dt = jst.localize(datetime.datetime.now())\n&gt;&gt;&gt; dt\ndatetime.datetime(2018, 10, 11, 14, 42, 28, 557170, tzinfo=&lt;DstTzInfo 'Asia/Tokyo' JST+9:00:00 STD&gt;)\n&gt;&gt;&gt; str(dt)\n'2018-10-11 14:42:28.557170+09:00'\n&gt;&gt;&gt; dt_new = datetime.datetime.strptime(str(dt), '%Y-%m-%d %H:%M:%S.%f%z')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/_strptime.py\", line 565, in _strptime_datetime\n    tt, fraction = _strptime(data_string, format)\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/_strptime.py\", line 362, in _strptime\n    (data_string, format))\nValueError: time data '2018-10-11 14:42:28.557170+09:00' does not match format '%Y-%m-%d %H:%M:%S.%f%z'\n</code></pre>\n\n<p>Code that works:</p>\n\n<pre><code>&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; import pytz\n&gt;&gt;&gt; jst = pytz.timezone('Asia/Tokyo')\n&gt;&gt;&gt; dt = jst.localize(datetime.datetime.now())\n&gt;&gt;&gt; dt\ndatetime.datetime(2018, 10, 11, 14, 42, 28, 557170, tzinfo=&lt;DstTzInfo 'Asia/Tokyo' JST+9:00:00 STD&gt;)\n&gt;&gt;&gt; dt.strftime('%Y-%m-%d %H:%M:%S.%f%z')\n'2018-10-11 14:42:28.557170+0900'\n&gt;&gt;&gt; dt_new = datetime.datetime.strptime(dt.strftime('%Y-%m-%d %H:%M:%S.%f%z'), '%Y-%m-%d %H:%M:%S.%f%z')\n&gt;&gt;&gt; dt_new\ndatetime.datetime(2018, 10, 11, 14, 42, 28, 557170, \ntzinfo=datetime.timezone(datetime.timedelta(0, 32400)))\n</code></pre>\n\n<p>So here I formatted the datetime with strftime function and parsed the formatted datetime using strptime function keeping formatter same in both cases.</p>\n\n<p>There is no way to parse the datetime having timezone information and formatted using <code>str(datetime)</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 60, "user_id": 4781563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zMQ3p.png?s=128&g=1", "display_name": "Tipsy", "link": "https://stackoverflow.com/users/4781563/tipsy"}, "is_accepted": false, "score": 1, "last_activity_date": 1616662064, "creation_date": 1616662064, "answer_id": 66795916, "question_id": 41862525, "link": "https://stackoverflow.com/questions/41862525/valueerror-time-data-does-not-match-format-y-m-d-hms-f/66795916#66795916", "title": "ValueError: time data does not match format &#39;%Y-%m-%d %H:%M:%S.%f&#39;", "body": "<p>Assume that my dataframe has two columns, 'Date' and 'Time.</p>\n<p>replace the character '-' to '/' or the whichever character you are planning to implement.Adding this line alone fixed the error for me.</p>\n<pre><code>df.Date = df.Date.str.replace('-', '/')\n</code></pre>\n<p>Creating a new column here with Date and Time</p>\n<pre><code>df['DateTimeStart'] = df['Date'] + '-' + df['Time']\n</code></pre>\n<p>Strip off all the empty spaces just in case.</p>\n<pre><code>df.DateTimeStart = df.DateTimeStart.str.replace(' ', '')\n</code></pre>\n<p>Now format the column to datetime format</p>\n<pre><code>df['DateTimeStart'] = pd.to_datetime(df['DateTimeStart'], format='%d/%m/%Y-%H:%M:%S')\n                 \n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 7311313, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7d53d1b0f86b548ca00a1a18fc6e6617?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/7311313/roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93184, "favorite_count": 0, "accepted_answer_id": 41862639, "answer_count": 3, "score": 12, "last_activity_date": 1616662064, "creation_date": 1485381918, "last_edit_date": 1485387087, "question_id": 41862525, "link": "https://stackoverflow.com/questions/41862525/valueerror-time-data-does-not-match-format-y-m-d-hms-f", "title": "ValueError: time data does not match format &#39;%Y-%m-%d %H:%M:%S.%f&#39;", "body": "<p>I am facing one little problem. I am storing some date time data and the data is</p>\n\n<pre><code># \"datetime\",\"numb\",\"temperature\"\n\n\"1998-04-18 16:48:36.76\",0,38\n\"1998-04-18 16:48:36.8\",1,42\n\"1998-04-18 16:48:36.88\",2,23\n\"1998-04-18 16:48:36.92\",3,24\n\"1998-04-18 16:48:36\",4,42\n\"1998-04-18 16:48:37\",5,33\n\"1998-04-18 16:48:37.08\",6,25\n</code></pre>\n\n<p>the date time column is clearly string, so when I try to convert it , I got this error</p>\n\n<pre><code>ValueError: time data '1998-04-18 16:48:36' does not match format '%Y-%m-%d %H:%M:\n%S.%f'\n</code></pre>\n\n<p>my code is</p>\n\n<pre><code>import time\nimport datetime\nimport calendar\n\nfor k, line in enumerate(lines):\n                if k &gt; (int(header_line)):\n                    data_pre = line.strip().split(',')\n                    stDate = data_pre[0].replace(\"\\\"\", \"\")\n                    print stDate  # got 1998-04-18 16:48:36.76\n\n\n                    dat_time = datetime.datetime.strptime(stDate,\n                                                       '%Y-%m-%d %H:%M:%S.%f')\n                    mic_sec = dat_time.microsecond\n                    timcon = calendar.timegm(dat_time.timetuple())*1000000 + mic_sec\n                    strDate = \"\\\"\" + strDate + \"\\\"\"\n                    print stDate # got \"1998-04-18 16:48:36.76\"\n</code></pre>\n\n<p>because some of my datetime column is missing .%f value, so I got this error. my documents might contains a few thousands such date time values, so I came up with solution to append .0 with all such date time. so that if date time string is </p>\n\n<pre><code>\"1998-04-18 16:48:36\"\n</code></pre>\n\n<p>my code should append .0 to fulfill the format criteria. e.g</p>\n\n<pre><code>\"1998-04-18 16:48:36.0\"\n</code></pre>\n\n<p>I try to append .0 to stDate, but I get this error</p>\n\n<pre><code>AttributeError: 'str' object has no attribute 'append'\n</code></pre>\n\n<p>If somebody gives me a clue how to deal with such a problem. Any help would be greatly appreciated. </p>\n"}, {"tags": ["python", "excel", "python-3.x", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 15196, "user_id": 1609428, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TnnKE.jpg?s=128&g=1", "display_name": "\u2115\u0298\u0298\u1e06\u1e3d\u1e18", "link": "https://stackoverflow.com/users/1609428/%e2%84%95%ca%98%ca%98%e1%b8%86%e1%b8%bd%e1%b8%98"}, "is_accepted": false, "score": 0, "last_activity_date": 1485383492, "creation_date": 1485383492, "answer_id": 41862894, "question_id": 41862516, "link": "https://stackoverflow.com/questions/41862516/how-to-import-all-fields-from-xls-as-strings-into-a-pandas-dataframe/41862894#41862894", "title": "How to import all fields from xls as strings into a Pandas dataframe?", "body": "<p>the usual solution is:</p>\n\n<ol>\n<li>read in one row of data just to get the column names and number of columns</li>\n<li>create the dictionary automatically where each columns has a string type</li>\n<li>re-read the full data using the dictionary created at step 2.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 6754631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4aa7f7cbc9908b627dd9468fcf33cee?s=128&d=identicon&r=PG&f=1", "display_name": "DanielaK", "link": "https://stackoverflow.com/users/6754631/danielak"}, "edited": false, "score": 0, "creation_date": 1485441820, "post_id": 41863290, "comment_id": 70933694, "body": "Thanks, this works great. I did not find <code>.book.sheet_by_index(0).ncols</code> in the Pandas package at all, is it part of <code>xlrd</code>? I would like to read further about it."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 33, "user_id": 6754631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4aa7f7cbc9908b627dd9468fcf33cee?s=128&d=identicon&r=PG&f=1", "display_name": "DanielaK", "link": "https://stackoverflow.com/users/6754631/danielak"}, "edited": false, "score": 0, "creation_date": 1485442051, "post_id": 41863290, "comment_id": 70933890, "body": "@DanielaK, yes, it&#39;s a <code>xlrd.book.Book</code> object - please see UPDATE section in the answer"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1485442010, "last_edit_date": 1485442010, "creation_date": 1485385380, "answer_id": 41863290, "question_id": 41862516, "link": "https://stackoverflow.com/questions/41862516/how-to-import-all-fields-from-xls-as-strings-into-a-pandas-dataframe/41863290#41863290", "title": "How to import all fields from xls as strings into a Pandas dataframe?", "body": "<p>Try this:</p>\n\n<pre><code>xl = pd.ExcelFile(r'C:\\DemoFile.xlsx')\nncols = xl.book.sheet_by_index(0).ncols\ndf = xl.parse(0, converters={i : str for i in range(ncols)})\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>In [261]: type(xl)\nOut[261]: pandas.io.excel.ExcelFile\n\nIn [262]: type(xl.book)\nOut[262]: xlrd.book.Book\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6754631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4aa7f7cbc9908b627dd9468fcf33cee?s=128&d=identicon&r=PG&f=1", "display_name": "DanielaK", "link": "https://stackoverflow.com/users/6754631/danielak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3405, "favorite_count": 0, "accepted_answer_id": 41863290, "answer_count": 2, "score": 3, "last_activity_date": 1485442010, "creation_date": 1485381894, "last_edit_date": 1485440899, "question_id": 41862516, "link": "https://stackoverflow.com/questions/41862516/how-to-import-all-fields-from-xls-as-strings-into-a-pandas-dataframe", "title": "How to import all fields from xls as strings into a Pandas dataframe?", "body": "<p>I am trying to import a file from xlsx into a Python Pandas dataframe. I would like to prevent fields/columns being interpreted as integers and thus losing leading zeros or other desired heterogenous formatting.</p>\n\n<p>So for an Excel sheet with 100 columns, I would do the following using a dict comprehension with range(99).</p>\n\n<pre><code>import pandas as pd\nfilename = 'C:\\DemoFile.xlsx'\n\nfields = {col: str for col in range(99)}\n\ndf = pd.read_excel(filename, sheetname=0, converters=fields)\n</code></pre>\n\n<p>These import files do have a varying number of columns all the time, and I am looking to handle this differently than changing the range manually all the time.</p>\n\n<p>Does somebody have any further suggestions or alternatives for reading Excel files into a dataframe and treating all fields as strings by default?</p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["python", "utf-8", "character-encoding", "iso-8859-1"], "comments": [{"owner": {"reputation": 12479, "user_id": 1121352, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9275f0e17dc5e423f989ed6bf6cbab11?s=128&d=identicon&r=PG", "display_name": "gaborous", "link": "https://stackoverflow.com/users/1121352/gaborous"}, "edited": false, "score": 1, "creation_date": 1487341733, "post_id": 41862503, "comment_id": 71755267, "body": "You should look inside the code of ftfy to see how they do it. It seems they have the most advanced Mojibake corrector, and that it&#39;s easy to correct compared to other kinds of encoding mistakes: &quot;Does this sound impossible? It\u2019s really not. UTF-8 is a well-designed encoding that makes it obvious when it\u2019s being misused, and a string of mojibake usually contains all the information we need to recover the original string&quot;."}], "owner": {"reputation": 179, "user_id": 4634980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353783fc2040473381dfcbbfceeb0fbb?s=128&d=identicon&r=PG&f=1", "display_name": "Fin Dev", "link": "https://stackoverflow.com/users/4634980/fin-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 613, "favorite_count": 0, "closed_date": 1614854737, "answer_count": 0, "score": 1, "last_activity_date": 1485384248, "creation_date": 1485381851, "last_edit_date": 1485384248, "question_id": 41862503, "link": "https://stackoverflow.com/questions/41862503/how-to-detect-mojibake-garbled-text-in-python", "closed_reason": "Duplicate", "title": "How to detect mojibake (garbled text) in Python?", "body": "<p>if you run this in python</p>\n\n<blockquote>\n  <p>print '\u00c4pple\u00df','\u00c4pple\u00df'.decode('latin-1').encode('utf-8')</p>\n</blockquote>\n\n<p>thats a mojibake (garbled text due to incorrect encoding/decoding) but python does not raise an error.</p>\n\n<p>I want it to throw an error in the case of a mojibake.</p>\n\n<p>I have heard of things like this that can help:\n<a href=\"https://ftfy.readthedocs.io/en/latest/#\" rel=\"nofollow noreferrer\">https://ftfy.readthedocs.io/en/latest/#</a></p>\n\n<p>any other ideas or experience on shortcuts?</p>\n"}, {"tags": ["python", "html", "parsing", "html-parsing"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485382654, "post_id": 41862489, "comment_id": 70909145, "body": "show in question your code and full error message (Traceback)"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 2713958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBEt9.jpg?s=128&g=1", "display_name": "Dogger", "link": "https://stackoverflow.com/users/2713958/dogger"}, "edited": false, "score": 0, "creation_date": 1485382975, "post_id": 41862734, "comment_id": 70909303, "body": "Unfortunately I am unable to use 3rd party libraries for this. I&#39;m writing a tool for people to use on machines that don&#39;t have beautiful soup installed."}], "tags": [], "owner": {"reputation": 178, "user_id": 4824855, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MAmCl1iXhwA/AAAAAAAAAAI/AAAAAAAAAHQ/azWSxF6UnYU/photo.jpg?sz=128", "display_name": "Francisco Jim&#233;nez Cabrera", "link": "https://stackoverflow.com/users/4824855/francisco-jim%c3%a9nez-cabrera"}, "is_accepted": false, "score": 0, "last_activity_date": 1485382838, "creation_date": 1485382838, "answer_id": 41862734, "question_id": 41862489, "link": "https://stackoverflow.com/questions/41862489/html-parsing-using-pythons-htmlparser/41862734#41862734", "title": "HTML parsing using Python&#39;s HTMLParser", "body": "<p>I personally prefer BeautifulSoup. You can do something like this:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nsoup = BeautifulSoup(txt)\nhidden_tags = soup.find_all(\"input\", type=\"hidden\")\nfor tag in hidden_tags:\n    # tag.name is the name and tag.value the value, simple isn't it ?\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 2713958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBEt9.jpg?s=128&g=1", "display_name": "Dogger", "link": "https://stackoverflow.com/users/2713958/dogger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1485382838, "creation_date": 1485381802, "last_edit_date": 1485382010, "question_id": 41862489, "link": "https://stackoverflow.com/questions/41862489/html-parsing-using-pythons-htmlparser", "title": "HTML parsing using Python&#39;s HTMLParser", "body": "<p>I am parsing through HTML code using Python, and would like a function that returns a list of names.</p>\n\n<p>The HTML I'm looking for is formatted like this:</p>\n\n<pre><code>&lt;input type=hidden name=user value=\"msmith\"&gt;\n</code></pre>\n\n<p>Every time \"type=hidden\" and \"name=user\", I would like \"msmith\" to be included in the list of exported names.</p>\n\n<p>The code must be portable, and can't include 3rd party libraries such as beautifulSoup. Preferably, it would use <code>HTMLParser</code>.</p>\n"}, {"tags": ["python", "optimization", "dataset", "neural-network"], "comments": [{"owner": {"reputation": 61870, "user_id": 395857, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Z99mk.jpg?s=128&g=1", "display_name": "Franck Dernoncourt", "link": "https://stackoverflow.com/users/395857/franck-dernoncourt"}, "edited": false, "score": 0, "creation_date": 1485399160, "post_id": 41862459, "comment_id": 70913964, "body": "FYI <a href=\"http://stats.stackexchange.com/q/232032/12359\">least amount of bits needed for single neuron</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4248473, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HM2s1.png?s=128&g=1", "display_name": "Snowsnooks", "link": "https://stackoverflow.com/users/4248473/snowsnooks"}, "edited": false, "score": 0, "creation_date": 1485429337, "post_id": 41864296, "comment_id": 70926166, "body": "<a href=\"https://www.youtube.com/watch?v=uwwWVAgJBcM\" rel=\"nofollow noreferrer\">youtube.com/watch?v=uwwWVAgJBcM</a> I found this tutorial, is this along the right lines?"}, {"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "reply_to_user": {"reputation": 3, "user_id": 4248473, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HM2s1.png?s=128&g=1", "display_name": "Snowsnooks", "link": "https://stackoverflow.com/users/4248473/snowsnooks"}, "edited": false, "score": 0, "creation_date": 1485429728, "post_id": 41864296, "comment_id": 70926369, "body": "@Snowsnooks No, that seems to be standard Gradient Descent, not Stochastic Gradient Descent."}, {"owner": {"reputation": 3, "user_id": 4248473, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HM2s1.png?s=128&g=1", "display_name": "Snowsnooks", "link": "https://stackoverflow.com/users/4248473/snowsnooks"}, "edited": false, "score": 0, "creation_date": 1485438164, "post_id": 41864296, "comment_id": 70931228, "body": "Valenegro Do you have any examples or tutorials for Stochastic GD?"}], "tags": [], "owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "is_accepted": false, "score": 0, "last_activity_date": 1485391702, "creation_date": 1485391702, "answer_id": 41864296, "question_id": 41862459, "link": "https://stackoverflow.com/questions/41862459/dataset-for-neural-network-too-large-so-it-crashes-my-os-how-do-i-make-it-more/41864296#41864296", "title": "Dataset for neural network too large so it crashes my OS. How do I make it more efficient?", "body": "<p>Use <a href=\"http://ufldl.stanford.edu/tutorial/supervised/OptimizationStochasticGradientDescent/\" rel=\"nofollow noreferrer\">stochastic gradient descent</a>, it was created exactly for this kind of purposes.</p>\n\n<p>Basically instead of using all the data to forward-backward propagate and compute the error (loss), you use only a batch of <em>b</em> samples to compute the loss and get the gradients. Then you train for 10461 / b iterations, each time using a different batch of samples, until you see the whole dataset. Once you train in the whole dataset, that is called an epoch. Repeat for 10 epochs or so (tunable by you).</p>\n"}], "owner": {"reputation": 3, "user_id": 4248473, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HM2s1.png?s=128&g=1", "display_name": "Snowsnooks", "link": "https://stackoverflow.com/users/4248473/snowsnooks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485391702, "creation_date": 1485381718, "question_id": 41862459, "link": "https://stackoverflow.com/questions/41862459/dataset-for-neural-network-too-large-so-it-crashes-my-os-how-do-i-make-it-more", "title": "Dataset for neural network too large so it crashes my OS. How do I make it more efficient?", "body": "<p>I'm making a simple neural network that will play poker by predicting whether to raise or fold when given a 2 card input. I am training it with a data-set that is 10461x6. </p>\n\n<p>Here's what the first few lines look like:</p>\n\n<pre><code>\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503  Card1/12 \u2507  Card2/12 \u2507Suited?\u2507  Average  \u2507Max Difference\u2507Min Difference\u2503\n\u2523\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u254b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u254b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u254b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u254b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u254b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u252b\n\u25030.642857143\u25070.285714286\u2507   0   \u25070.464285714\u2507 0.178571429  \u2507 0.178571429  \u2503\n\u2523\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u252b\n\u25030.357142857\u25070.214285714\u2507   0   \u25070.285714286\u2507 0.071428571  \u2507 0.071428571  \u2503\n\u2523\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u252b\n\u25030.857142857\u25070.285714286\u2507   0   \u25070.571428571\u2507 0.285714286  \u2507 0.285714286  \u2503\n\u2523\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u254b\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u2505\u252b\n\u25030.928571429\u25070.571428571\u2507   0   \u2507   0.75    \u2507 0.178571429  \u2507 0.178571429  \u2503\n\u2517\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u253b\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u251b\n</code></pre>\n\n<p>I have this data-set stored in a csv and am converting it to an array in python using <code>np.genfromtxt()</code>. This data is then run through the neural network to train it. However I am running into a small problem in that the data-set is so large that it completely crashes my OS. </p>\n\n<p>Here's what I think is happening:</p>\n\n<ul>\n<li>I don't think its a problem with the array's not being able to hold a 10461x6 array.</li>\n<li>I'm fairly sure it is just that the training is taking so long and using all of the system resources so that appears that it has hung.</li>\n</ul>\n\n<p>I need a more efficient way of training my neural network with this large data set.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>import numpy as np\nimport csv\nclass nn:   \n    #make sigma\n    def sigma(self,x):\n        return 1/(1+np.exp(-x))\n\n    #sigma gradient\n    def sigmaDeriv(self,x):\n        return x*(1-x)\n\n    def train(self):\n        #define datasets\n        x = np.genfromtxt('hands.csv', delimiter=',')\n        y = np.genfromtxt('correctpred.csv', delimiter=',')[np.newaxis]\n        y = y.T\n\n        #seed\n        np.random.seed(1)\n\n        w0 = 2*np.random.random((6,10461))-1\n        w1 = 2*np.random.random((10461,10461))-1\n        w2 = 2*np.random.random((10461,10461))-1\n        w3 = 2*np.random.random((10461,1))-1\n\n        #train\n        for t in xrange(1000):\n            #forward propagation\n            l0 = x\n            l1 = self.sigma(np.dot(l0, w0))\n            l2 = self.sigma(np.dot(l1, w1))\n            l3 = self.sigma(np.dot(l2, w2))\n            l4 = self.sigma(np.dot(l3, w3))\n\n            #error + change calc\n            l4_error = y - l4    \n            l4_change = l4_error*self.sigmaDeriv(l4)\n            l3_error = l4_change.dot(w3.T)\n            l3_change = l3_error * self.sigmaDeriv(l3)\n            l2_error = l3_change.dot(w2.T)\n            l2_change = l2_error * self.sigmaDeriv(l2)\n            l1_error= l2_change.dot(w1.T)\n            l1_change = l1_error * self.sigmaDeriv(l1)\n\n            #update weights\n            w3 += np.dot(l3.T, l4_change)\n            w2 += np.dot(l2.T, l3_change)\n            w1 += np.dot(l1.T, l2_change)\n            w0 += np.dot(l0.T, l1_change)\n\n        print \"Output after training\"\n        print l4\n\n    nn().train()\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "graphlab", "sframe"], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 1, "last_activity_date": 1485381790, "creation_date": 1485381790, "answer_id": 41862484, "question_id": 41862439, "link": "https://stackoverflow.com/questions/41862439/how-to-take-average-of-the-values-per-three-days-in-a-timeseries-data/41862484#41862484", "title": "how to take average of the values per three days in a timeseries data", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.aggregate.html\" rel=\"nofollow noreferrer\"><code>agg</code></a> by numpy array created by floor division:</p>\n\n<pre><code>print (np.arange(len(df.index)) // 3)\n[0 0 0 1 1 1 2 2]\n\ndf = df.groupby(np.arange(len(df.index)) // 3).agg({'datetime': 'last', 'value': 'mean'})\nprint (df)\n     datetime  value\n0  2016-01-03      6\n1  2016-01-06      8\n2  2016-01-08     11\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1980, "user_id": 2593536, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/OYOEA.png?s=128&g=1", "display_name": "Mai", "link": "https://stackoverflow.com/users/2593536/mai"}, "is_accepted": false, "score": 1, "last_activity_date": 1485382327, "creation_date": 1485382327, "answer_id": 41862617, "question_id": 41862439, "link": "https://stackoverflow.com/questions/41862439/how-to-take-average-of-the-values-per-three-days-in-a-timeseries-data/41862617#41862617", "title": "how to take average of the values per three days in a timeseries data", "body": "<p><code>Numpy</code> array supports even-space selection:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; l = np.arange(10)\n&gt;&gt;&gt; l\narray([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])\n&gt;&gt;&gt; l[0::3]\narray([0, 3, 6, 9])\n</code></pre>\n\n<p>Pandas Series most of the time support Numpy features. In your case, instead of from index <code>0</code>, iterate from <code>0</code> to <code>2</code> in for loop should do the work.</p>\n"}], "owner": {"reputation": 7192, "user_id": 1845408, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/da4b29b5ac9e2cf5b19175b2fc7f9076?s=128&d=identicon&r=PG&f=1", "display_name": "renakre", "link": "https://stackoverflow.com/users/1845408/renakre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 41862484, "answer_count": 2, "score": 1, "last_activity_date": 1485382327, "creation_date": 1485381600, "question_id": 41862439, "link": "https://stackoverflow.com/questions/41862439/how-to-take-average-of-the-values-per-three-days-in-a-timeseries-data", "title": "how to take average of the values per three days in a timeseries data", "body": "<p>I have a time-series data that look like this:</p>\n\n<pre><code>datetime    | value\n2016-01-01  | 1\n2016-01-02  | 14\n2016-01-03  | 3\n2016-01-04  | 15\n2016-01-05  | 5\n2016-01-06  | 4\n2016-01-07  | 7\n2016-01-08  | 15\n</code></pre>\n\n<p>What I want to obtain is the average per three days (as well as per a week) and keep the last day as the index like this:</p>\n\n<pre><code>datetime    | value\n2016-01-03  | 6\n2016-01-06  | 8\n2016-01-08  | 11\n</code></pre>\n\n<p>You may notice that the remaining 2 records need to be just averaged. Is there an handy way of doing this either in pandas <code>dataframe</code> or graphlab <code>SFrame</code>? If someone can share a relevant resource, that would be great!</p>\n\n<p>I appreciate any help!</p>\n"}, {"tags": ["python", "python-2.7", "list", "loops"], "comments": [{"owner": {"reputation": 7, "user_id": 7431233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cf0bbbae77167166383a03c6c26156e?s=128&d=identicon&r=PG&f=1", "display_name": "techkris", "link": "https://stackoverflow.com/users/7431233/techkris"}, "edited": false, "score": 0, "creation_date": 1485381919, "post_id": 41862433, "comment_id": 70908774, "body": "check this link... <a href=\"http://stackoverflow.com/questions/6764909/python-how-to-remove-all-duplicate-items-from-a-list\" title=\"python how to remove all duplicate items from a list\">stackoverflow.com/questions/6764909/&hellip;</a>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 7, "user_id": 7431233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cf0bbbae77167166383a03c6c26156e?s=128&d=identicon&r=PG&f=1", "display_name": "techkris", "link": "https://stackoverflow.com/users/7431233/techkris"}, "edited": false, "score": 0, "creation_date": 1485383786, "post_id": 41862433, "comment_id": 70909680, "body": "@techkris: That link wants to preserve a single copy of each unique value, where this question wants to keep only values which appear exactly once. Similar techniques apply, but it&#39;s a little more complex in this case."}], "answers": [{"comments": [{"owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1485382061, "post_id": 41862520, "comment_id": 70908848, "body": "You can remove <code>unique</code> flag. And <code>if unique:</code> change to <code>else:</code>. Just more pythonic way."}, {"owner": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "edited": false, "score": 0, "creation_date": 1485382474, "post_id": 41862520, "comment_id": 70909038, "body": "Traceback (most recent call last):   File &quot;C:/Python27/testing111.py&quot;, line 6, in &lt;module&gt;     if i != j and list1[i].lower == list[j].lower: TypeError: &#39;type&#39; object has no attribute &#39;<b>getitem</b>&#39; &gt;&gt;&gt;"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1485382538, "post_id": 41862520, "comment_id": 70909080, "body": "@YevhenKuzmovych: But as far as I know, the <code>else</code> only fires if the <code>for</code> had no iteration. The <code>break</code> does not trigger the <code>else</code>."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "edited": false, "score": 0, "creation_date": 1485382588, "post_id": 41862520, "comment_id": 70909104, "body": "@ylimes: yeah that was a typo, forgot the <code>1</code> in <code>list1</code>."}, {"owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1485382711, "post_id": 41862520, "comment_id": 70909171, "body": "@WillemVanOnsem As far as I know, <code>else</code> fires if <code>for</code> finishes without <code>break</code>ing or <code>return</code>ing."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1485382783, "post_id": 41862520, "comment_id": 70909215, "body": "@YevhenKuzmovych: you are right. I will add that to the answer."}, {"owner": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "edited": false, "score": 0, "creation_date": 1485382848, "post_id": 41862520, "comment_id": 70909246, "body": "also, the .lower isnt working it still appends green"}, {"owner": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "edited": false, "score": 0, "creation_date": 1485382851, "post_id": 41862520, "comment_id": 70909249, "body": "[&#39;green&#39;, &#39;red&#39;, &#39;purple&#39;, &#39;Green&#39;]"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "edited": false, "score": 0, "creation_date": 1485383131, "post_id": 41862520, "comment_id": 70909367, "body": "@ylimes: if you could at least could do an effort to understand what it is doing instead of copying the code for your homework. You could easily have fixed it yourself: the <code>lower</code> was not called. Now it should be fixed. Not easy to work on a smartphone with no internet installed."}, {"owner": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "edited": false, "score": 0, "creation_date": 1485383412, "post_id": 41862520, "comment_id": 70909498, "body": "i don&#39;t go school :/ and my &quot;homework&quot; isn&#39;t nothing like this this just a small part which was bugging me. But thanks :)"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "edited": false, "score": 1, "creation_date": 1485383688, "post_id": 41862520, "comment_id": 70909632, "body": "@ylimes: you&#39;re welcome :) But only I sometimes get a bit tired of people only looking for a quick copy-paste. The aim of SO is not to do peoples homework, etc. It is meant to explain what is wrong, why it is wrong, how it can be fixed, and why it works that way."}], "tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 1, "last_activity_date": 1485383350, "last_edit_date": 1495542817, "creation_date": 1485381901, "answer_id": 41862520, "question_id": 41862433, "link": "https://stackoverflow.com/questions/41862433/searching-a-list-for-duplicate-values-in-python-2-7/41862520#41862520", "title": "searching a list for duplicate values in python 2.7", "body": "<p>The first problem is that <code>for i in list1:</code> iterates over the <strong>elements</strong> in the list, <strong>not indices</strong>, so with <code>i</code> you have an element in your hands.</p>\n\n<p>Next there is <code>num</code> which is an index, but you seem to increment it rather the wrong way.</p>\n\n<p>I would suggest that you use the following code:</p>\n\n<pre><code>for i in range(len(list1)):\n    unique = True\n    for j in range(len(list1)):\n        if i != j and list1[i].lower() == list1[j].lower():\n            unique = False\n            break\n    if unique:\n        list2.append(list1[i])\n</code></pre>\n\n<p>How does this work: here <code>i</code> and <code>j</code> are <strong>indices</strong>, you iterate over the list and with <code>i</code> you iterate over the indices of element you potentially want to add, now you do a test: you check if somewhere in the list you see another element that is equal. If so, you set <code>unique</code> to <code>False</code> and do it for the next element, otherwise you add.</p>\n\n<p>You can also use a <code>for</code>-<code>else</code> construct like <a href=\"https://stackoverflow.com/questions/41862433/searching-a-list-for-duplicate-values-in-python-2-7/41862520?noredirect=1#comment70908848_41862520\">@YevhenKuzmovych</a> says:</p>\n\n<pre><code>for i in range(len(list1)):\n    for j in range(len(list1)):\n        if i != j and list1[i].lower() == list1[j].lower():\n            break\n    else:\n        list2.append(list1[i])\n</code></pre>\n\n<p>You can make the code more elegant by using an <code>any</code>:</p>\n\n<pre><code>for i in range(len(list1)):\n    if not any(i != j and list1[i].lower() == list1[j].lower() for j in range(len(list1))):\n        list2.append(list1[i])\n</code></pre>\n\n<p>Now this is more elegant but still <strong>not very efficient</strong>. For more efficiency, you can use a <code>Counter</code>:</p>\n\n<pre><code>from collections import Counter\n\nctr = Counter(x.lower() for x in list1)\n</code></pre>\n\n<p>Once you have constructed the counter, you look up the amount of times you have seen the element and if it is less than 2, you add it to the list:</p>\n\n<pre><code>from collections import Counter\n\nctr = Counter(x.lower() for x in list1)\n\nfor element in list1:\n    if ctr[element.lower()] &lt; 2:\n        list2.append(element)\n</code></pre>\n\n<p>Finally you can now even use <em>list comprehension</em> to make it very elegantly:</p>\n\n<pre><code>from collections import Counter\n\nctr = Counter(x.lower() for x in list1)\n\nlist2 = [element for element in list1 if ctr[element.lower()] &lt; 2]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1485382422, "post_id": 41862540, "comment_id": 70909019, "body": "You should use <code>.lower()</code> as seems to be a requirement of the question."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1485382894, "post_id": 41862540, "comment_id": 70909266, "body": "This doesn&#39;t preserve order of first appearance."}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1485383179, "post_id": 41862540, "comment_id": 70909385, "body": "@ShadowRanger: indeed, the <code>for</code> loop should be done on the <code>list1</code>."}, {"owner": {"reputation": 744, "user_id": 682797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb29b437243957c9b349b5b333b17d78?s=128&d=identicon&r=PG", "display_name": "Mikk", "link": "https://stackoverflow.com/users/682797/mikk"}, "edited": false, "score": 0, "creation_date": 1485383769, "post_id": 41862540, "comment_id": 70909672, "body": "Edited, should be ok now."}], "tags": [], "owner": {"reputation": 744, "user_id": 682797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb29b437243957c9b349b5b333b17d78?s=128&d=identicon&r=PG", "display_name": "Mikk", "link": "https://stackoverflow.com/users/682797/mikk"}, "is_accepted": false, "score": 2, "last_activity_date": 1485383759, "last_edit_date": 1485383759, "creation_date": 1485381971, "answer_id": 41862540, "question_id": 41862433, "link": "https://stackoverflow.com/questions/41862433/searching-a-list-for-duplicate-values-in-python-2-7/41862540#41862540", "title": "searching a list for duplicate values in python 2.7", "body": "<p>Use a <code>Counter</code>: <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/collections.html#collections.Counter</a>.</p>\n\n<pre><code>from collections import Counter\nlist1 = [\"green\",\"red\",\"yellow\",\"purple\",\"green\",\"blue\",\"blue\",\"yellow\"]\nlist1_counter = Counter([x.lower() for x in list1])\nlist2 = [x for x in list1 if list1_counter[x.lower()] == 1]\n</code></pre>\n\n<p>Note that your example is wrong because <code>yellow</code> is present twice.</p>\n"}, {"comments": [{"owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1485382141, "post_id": 41862545, "comment_id": 70908874, "body": "Shouldn&#39;t it be <code>not in</code>?"}, {"owner": {"reputation": 3991, "user_id": 365837, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZnI9W.png?s=128&g=1", "display_name": "Rok Povsic", "link": "https://stackoverflow.com/users/365837/rok-povsic"}, "reply_to_user": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1485382532, "post_id": 41862545, "comment_id": 70909077, "body": "Yes, fixed. Thanks."}], "tags": [], "owner": {"reputation": 3991, "user_id": 365837, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ZnI9W.png?s=128&g=1", "display_name": "Rok Povsic", "link": "https://stackoverflow.com/users/365837/rok-povsic"}, "is_accepted": false, "score": 1, "last_activity_date": 1485382521, "last_edit_date": 1485382521, "creation_date": 1485381995, "answer_id": 41862545, "question_id": 41862433, "link": "https://stackoverflow.com/questions/41862433/searching-a-list-for-duplicate-values-in-python-2-7/41862545#41862545", "title": "searching a list for duplicate values in python 2.7", "body": "<p>Here's another solution:</p>\n\n<pre><code>list2 = []\nfor i, element in enumerate(list1):\n    if element.lower() not in [e.lower() for e in list1[:i] + list1[i + 1:]]:\n        list2.append(element)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1485383918, "last_edit_date": 1485383918, "creation_date": 1485383618, "answer_id": 41862933, "question_id": 41862433, "link": "https://stackoverflow.com/questions/41862433/searching-a-list-for-duplicate-values-in-python-2-7/41862933#41862933", "title": "searching a list for duplicate values in python 2.7", "body": "<p>By combining the built-ins, you can keep only unique items <em>and</em> preserve order of appearance, with just a single empty class definition and a one-liner:</p>\n\n<pre><code>from future_builtins import map  # Only on Python 2 to get generator based map\nfrom collections import Counter, OrderedDict\n\nclass OrderedCounter(Counter, OrderedDict):\n    pass\n\nlist1 = [\"green\",\"red\",\"yellow\",\"purple\",\"Green\",\"blue\",\"blue\"]\n\n# On Python 2, use .iteritems() to avoid temporary list\nlist2 = [x for x, cnt in OrderedCounter(map(str.lower, list1)).items() if cnt == 1]\n\n# Result: ['red', 'yellow', 'purple']\n</code></pre>\n\n<p>You use the <code>Counter</code> feature to count an iterable, while inheriting from <code>OrderedDict</code> preserves key order. All you have to do is filter the results to check and strip the counts, reducing your code complexity significantly.</p>\n\n<p>It also reduces the work to one pass of the original <code>list</code>, with a second pass that does work proportional to the number of unique items in the <code>list</code>, rather than having to perform two passes of the original <code>list</code> (important if duplicates are common and the <code>list</code> is huge).</p>\n"}, {"tags": [], "owner": {"reputation": 209, "user_id": 4589055, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ljhaM.png?s=128&g=1", "display_name": "SirJames", "link": "https://stackoverflow.com/users/4589055/sirjames"}, "is_accepted": false, "score": 0, "last_activity_date": 1485450198, "creation_date": 1485450198, "answer_id": 41878953, "question_id": 41862433, "link": "https://stackoverflow.com/questions/41862433/searching-a-list-for-duplicate-values-in-python-2-7/41878953#41878953", "title": "searching a list for duplicate values in python 2.7", "body": "<p>Here's yet another solution...</p>\n\n<p>Firstly, before I get started, I think there is a typo... You have \"yellow\" listed twice and you specified you'd have yellow in the end. So, to that, I will provide two scripts, one that allows the duplicates and one that doesn't.</p>\n\n<p><em>Original:</em></p>\n\n<pre><code>list1 = [\"green\",\"red\",\"yellow\",\"purple\",\"Green\",\"blue\",\"blue\",\"yellow\"]\nlist2 =[]\nnum = 0\nfor i in list1:\n    if (list1[num]).lower == (list1[i]).lower:\n        num +=1\n    else:\n        list2.append(i)\n        num +=1\n</code></pre>\n\n<p><strong>Modified (does allow duplicates):</strong></p>\n\n<pre><code>colorlist_1 = [\"green\",\"red\",\"yellow\",\"purple\",\"Green\",\"blue\",\"blue\",\"yellow\"]\ncolorlist_2 = []\nseek = set()\n\ni = 0\nnumberOfColors = len(colorlist_1)\n\nwhile i &lt; numberOfColors:\n    if numberOfColors[i].lower() not in seek:\n        seek.add(numberOfColors[i].lower())\n        colorlist_2.append(numberOfColors[i].lower())\n\n    i+=1\n\nprint(colorlist_2)\n\n# prints [\"green\",\"red\",\"yellow\",\"purple\",\"blue\"]\n</code></pre>\n\n<p><strong>Modified (does not allow duplicates):</strong></p>\n\n<p><em>EDIT</em></p>\n\n<p>Willem Van Onsem's answer is totally applicable and already thorough.</p>\n"}], "owner": {"reputation": 77, "user_id": 7235732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bd03e51d65e81ff644f9afecab484d8?s=128&d=identicon&r=PG&f=1", "display_name": "ylimes", "link": "https://stackoverflow.com/users/7235732/ylimes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 41862520, "answer_count": 5, "score": 1, "last_activity_date": 1485450198, "creation_date": 1485381570, "last_edit_date": 1485382645, "question_id": 41862433, "link": "https://stackoverflow.com/questions/41862433/searching-a-list-for-duplicate-values-in-python-2-7", "title": "searching a list for duplicate values in python 2.7", "body": "<pre><code>list1 = [\"green\",\"red\",\"yellow\",\"purple\",\"Green\",\"blue\",\"blue\"]\n</code></pre>\n\n<p>so I got a list, I want to loop through the list and see if the colour has not been mentioned more than once. If it has it doesn't get append to the new list.</p>\n\n<p>so u should be left with</p>\n\n<pre><code>list2 = [\"red\",\"yellow\",\"purple\"]\n</code></pre>\n\n<p>So i've tried this</p>\n\n<pre><code>list1 = [\"green\",\"red\",\"yellow\",\"purple\",\"Green\",\"blue\",\"blue\",\"yellow\"]\nlist2 =[]\nnum = 0\nfor i in list1:\n    if (list1[num]).lower == (list1[i]).lower:\n        num +=1\n    else:\n        list2.append(i)\n        num +=1\n</code></pre>\n\n<p>but i keep getting an error</p>\n"}, {"tags": ["python", "numpy", "multidimensional-array"], "comments": [{"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 1, "creation_date": 1485381791, "post_id": 41862416, "comment_id": 70908719, "body": "That&#39;s not really what numpy (multi-)dimensional arrays are meant for! The length of the entries in each dimension should be the same."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1485382232, "post_id": 41862416, "comment_id": 70908923, "body": "You are describing a list of arrays of varying sizes."}, {"owner": {"reputation": 911, "user_id": 2175783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7895c9645b6e3a0d8d128a2c057e1bb6?s=128&d=identicon&r=PG", "display_name": "user2175783", "link": "https://stackoverflow.com/users/2175783/user2175783"}, "edited": false, "score": 0, "creation_date": 1485382712, "post_id": 41862416, "comment_id": 70909172, "body": "Yes it is a list of arrays of varying sizes. I need each to be a numpy array in order to call a scipy function that only accepts numpy arrays."}], "answers": [{"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 1, "last_activity_date": 1485388049, "creation_date": 1485388049, "answer_id": 41863772, "question_id": 41862416, "link": "https://stackoverflow.com/questions/41862416/how-to-create-multidimensional-numpy-array/41863772#41863772", "title": "How to create multidimensional numpy array?", "body": "<p>multidimensional arrays must be rectangular, so if not all of your rows/columns have the same length you're out of luck.</p>\n\n<p>However there are ways to deal with this. One way would be to create a <code>list</code> of <code>arrays</code>:</p>\n\n<pre><code>&gt;&gt;&gt; arr = np.random.random((10))  # using this for values\n\n&gt;&gt;&gt; # each item in ranges corresponds to the lower and upper border.\n&gt;&gt;&gt; ranges = [(0, 0.3), (0.3, 0.6), (0.6, 1)]  \n\n&gt;&gt;&gt; [arr[(arr &gt;= lower) &amp; (arr &lt; upper)] for lower, upper in ranges]\n[array([ 0.15346374]),\n array([ 0.38144735,  0.45017858,  0.52710788,  0.36339812]),\n array([ 0.79770651,  0.77543868,  0.94824291,  0.87412998,  0.70890894])]\n</code></pre>\n\n<p>That's not a multidimensional array, just a list of arrays, but depending on your needs that may be enough.</p>\n"}, {"comments": [{"owner": {"reputation": 563, "user_id": 5284829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3462fe26b471a1e8d50fec8e3ab88a7b?s=128&d=identicon&r=PG&f=1", "display_name": "JennyToy", "link": "https://stackoverflow.com/users/5284829/jennytoy"}, "edited": false, "score": 1, "creation_date": 1485442799, "post_id": 41863916, "comment_id": 70934502, "body": "In the middle code <i>xs = np.sort(xdata) xbnd = np.searchsorted(xs, bnd) ranges = [xs[l:r] for l, r in zip(xbnd[:-1], xbnd[1:])] result = [f(r) for r in ranges]</i> imagine xbnd is [6,18], then zip is [(6,18)] and the ranges object will only contain the range between 6 and 18 (between 0 and 6 and 18 and last are not picked)."}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "reply_to_user": {"reputation": 563, "user_id": 5284829, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3462fe26b471a1e8d50fec8e3ab88a7b?s=128&d=identicon&r=PG&f=1", "display_name": "JennyToy", "link": "https://stackoverflow.com/users/5284829/jennytoy"}, "edited": false, "score": 1, "creation_date": 1485444804, "post_id": 41863916, "comment_id": 70936046, "body": "@JennyToy Hm, isn&#39;t that how it should be? Having xbnd start at six means the smallest six values in xdata are below the smallest bin boundary, so there&#39;s no bin they should be in, at least in terms of the original Q. If you want to collect these outliers you can always do something like xbnd = np.r_[0, xbnd, len(xdata)]"}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 2, "last_activity_date": 1485451930, "last_edit_date": 1485451930, "creation_date": 1485388975, "answer_id": 41863916, "question_id": 41862416, "link": "https://stackoverflow.com/questions/41862416/how-to-create-multidimensional-numpy-array/41863916#41863916", "title": "How to create multidimensional numpy array?", "body": "<p>If your number of ranges is not too large you can create them by hand</p>\n\n<pre><code> gm09 = xdata &gt;= -0.9\n gm06 = xdata &gt;= -0.6\n g0   = xdata &gt;= 0\n ranges = [xdata[gm09 &amp; ~gm06], xdata[gm06 &amp; ~g0]]\n result = [f(r) for r in ranges]\n</code></pre>\n\n<p>where f is your scipy function.</p>\n\n<p>If your number of ranges is large, you can sort your data and then use\n<code>searchsorted</code>. Assuming you have the boundaries of blocks in the sorted array <code>bnd</code>:</p>\n\n<pre><code>xs = np.sort(xdata)\nxbnd = np.searchsorted(xs, bnd)\nranges = [xs[l:r] for l, r in zip(xbnd[:-1], xbnd[1:])]\nresult = [f(r) for r in ranges]\n</code></pre>\n\n<p>Note that this differs from the first solution in that your ranges will be sorted.</p>\n\n<p>If you need to preserve the original order you can use indirect sorting</p>\n\n<pre><code>order = np.argsort(xdata)\nxbnd = np.searchsorted(xdata[order], bnd)\nordord = [np.sort(order[l:r]) for l, r in zip(xbnd[:-1], xbnd[1:])]\nranges = [xdata[oo] for oo in ordord]\nresult = [f(r) for r in ranges]\n</code></pre>\n"}], "owner": {"reputation": 911, "user_id": 2175783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7895c9645b6e3a0d8d128a2c057e1bb6?s=128&d=identicon&r=PG", "display_name": "user2175783", "link": "https://stackoverflow.com/users/2175783/user2175783"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 0, "accepted_answer_id": 41863916, "answer_count": 2, "score": 2, "last_activity_date": 1502688734, "creation_date": 1485381503, "last_edit_date": 1502688734, "question_id": 41862416, "link": "https://stackoverflow.com/questions/41862416/how-to-create-multidimensional-numpy-array", "title": "How to create multidimensional numpy array?", "body": "<p>I have a numpy 1dimensional array with n values lets call it <code>xdata</code>.</p>\n\n<p>I would like to create a multidimensional numpy array lets call it <code>xdataMulti</code> such that each dimension of this array contains values in <code>xdata</code> that are in a certain range.</p>\n\n<p>For example lets say that</p>\n\n<pre><code>xdata = np.array([-0.879645943,-0.7897614865,-0.7051130178,-0.6108652382,-0.5270894341,...])\n</code></pre>\n\n<p>and that I want to put all values of xdata between <code>-0.9</code> and <code>-0.6</code> in  <code>xdataMulti[:,0]</code> and all values between <code>-0.6</code> and <code>0</code> in <code>xdataMulti[:,1]</code>, etc.</p>\n\n<p>How do I create and fill <code>xdataMulti</code> (I know beforehand how many ranges I have and their endpoints but I dont know how many points of xdata are in each range, I have to loop through <code>xdata</code> to find out)?</p>\n"}, {"tags": ["python", "performance", "pandas", "numpy"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1485382170, "post_id": 41862406, "comment_id": 70908894, "body": "I think the main difference here is that when passing <code>.values.reshape</code> the shape and dtype is already compatible with pandas and that it can just take a view on the underlying memory without any allocation, whilst for the list type it has to detect the shape and then infer compatible dtypes and copy the values to newly allocated memory"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1485382245, "post_id": 41862406, "comment_id": 70908929, "body": "@EdChum - thank you, it can be answer..."}], "answers": [{"comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1485383438, "post_id": 41862704, "comment_id": 70909516, "body": "Hmmm, but I pass numpy arrays in both ways - or am I something missing?"}, {"owner": {"reputation": 12074, "user_id": 5626112, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7c4f02b1ae7b6e7f262d67e428a35fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Steven G", "link": "https://stackoverflow.com/users/5626112/steven-g"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1485439682, "post_id": 41862704, "comment_id": 70932179, "body": "you pass a numpy array in a list doing <code>[df.numFruits.values]</code>, you can check it <code>type([df.numFruits.values])</code> will return <code>list</code>. so when it checks data it will get in the <code>isinstance(data, (list, types.generatorType))</code> part of the if."}], "tags": [], "owner": {"reputation": 12074, "user_id": 5626112, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7c4f02b1ae7b6e7f262d67e428a35fa8?s=128&d=identicon&r=PG&f=1", "display_name": "Steven G", "link": "https://stackoverflow.com/users/5626112/steven-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1485453274, "last_edit_date": 1485453274, "creation_date": 1485382702, "answer_id": 41862704, "question_id": 41862406, "link": "https://stackoverflow.com/questions/41862406/performance-of-creating-new-dataframe/41862704#41862704", "title": "Performance of creating new DataFrame", "body": "<p>@EdChum comments is on point</p>\n\n<p>just looking at how pandas handle list data vs array data you will understand quickly that passing a list is more complicated.</p>\n\n<p>array:</p>\n\n<pre><code>elif isinstance(data, (np.ndarray, Series, Index)):\n            if data.dtype.names:\n                data_columns = list(data.dtype.names)\n                data = dict((k, data[k]) for k in data_columns)\n                if columns is None:\n                    columns = data_columns\n                mgr = self._init_dict(data, index, columns, dtype=dtype)\n            elif getattr(data, 'name', None):\n                mgr = self._init_dict({data.name: data}, index, columns,\n                                      dtype=dtype)\n            else:\n                mgr = self._init_ndarray(data, index, columns, dtype=dtype,copy=copy)\n</code></pre>\n\n<p>now if it's a list:</p>\n\n<pre><code>elif isinstance(data, (list, types.GeneratorType)):\n    if isinstance(data, types.GeneratorType):\n        data = list(data)\n    if len(data) &gt; 0:\n        if is_list_like(data[0]) and getattr(data[0], 'ndim', 1) == 1:\n            if is_named_tuple(data[0]) and columns is None:\n                columns = data[0]._fields\n            arrays, columns = _to_arrays(data, columns, dtype=dtype)\n            columns = _ensure_index(columns)\n\n            # set the index\n            if index is None:\n                if isinstance(data[0], Series):\n                    index = _get_names_from_index(data)\n                elif isinstance(data[0], Categorical):\n                    index = _default_index(len(data[0]))\n                else:\n                    index = _default_index(len(data))\n\n            mgr = _arrays_to_mgr(arrays, columns, index, columns,\n                                 dtype=dtype)\n        else:\n            mgr = self._init_ndarray(data, index, columns, dtype=dtype,\n                                     copy=copy)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1485384029, "post_id": 41862913, "comment_id": 70909766, "body": "Thank you for your answer, now I understand it better. I will wait a few hours and then accept the best answer, now it is your."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1485384140, "post_id": 41862913, "comment_id": 70909816, "body": "Looking at the code path it could test if the first element is a np array and if so optimise the construction so it can take a fast path but it&#39;s not expecting this and really it then adds complexity to test if a set element or tuple element is ndarray or not is why it doesn&#39;t test for this"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 3, "last_activity_date": 1485383548, "creation_date": 1485383548, "answer_id": 41862913, "question_id": 41862406, "link": "https://stackoverflow.com/questions/41862406/performance-of-creating-new-dataframe/41862913#41862913", "title": "Performance of creating new DataFrame", "body": "<p>After some painful debugging I can confirm the sequence that the slow one takes, in the <a href=\"https://github.com/pandas-dev/pandas/blob/master/pandas/core/frame.py#L299\" rel=\"nofollow noreferrer\">DataFrame ctor</a> :</p>\n\n<pre><code> elif isinstance(data, (list, types.GeneratorType)):\n            if isinstance(data, types.GeneratorType):\n                data = list(data)\n            if len(data) &gt; 0:\n                if is_list_like(data[0]) and getattr(data[0], 'ndim', 1) == 1:\n                    if is_named_tuple(data[0]) and columns is None:\n                        columns = data[0]._fields\n                    arrays, columns = _to_arrays(data, columns, dtype=dtype)\n</code></pre>\n\n<p>Here it tests the type of the passed data, as it's list-like it then tries to test each element for it's type, it's not expecting a list containing a np array so then it comes here:</p>\n\n<pre><code>def _to_arrays(data, columns, coerce_float=False, dtype=None):\n    \"\"\"\n    Return list of arrays, columns\n    \"\"\"\n    if isinstance(data, DataFrame):\n        if columns is not None:\n            arrays = [data._ixs(i, axis=1).values\n                      for i, col in enumerate(data.columns) if col in columns]\n        else:\n            columns = data.columns\n            arrays = [data._ixs(i, axis=1).values for i in range(len(columns))]\n\n        return arrays, columns\n\n    if not len(data):\n        if isinstance(data, np.ndarray):\n            columns = data.dtype.names\n            if columns is not None:\n                return [[]] * len(columns), columns\n        return [], []  # columns if columns is not None else []\n    if isinstance(data[0], (list, tuple)):\n        return _list_to_arrays(data, columns, coerce_float=coerce_float,\n                               dtype=dtype)\n</code></pre>\n\n<p>then here:</p>\n\n<pre><code>def _list_to_arrays(data, columns, coerce_float=False, dtype=None):\n    if len(data) &gt; 0 and isinstance(data[0], tuple):\n        content = list(lib.to_object_array_tuples(data).T)\n    else:\n        # list of lists\n        content = list(lib.to_object_array(data).T)\n    return _convert_object_array(content, columns, dtype=dtype,\n                                 coerce_float=coerce_float)\n</code></pre>\n\n<p>and finally here:</p>\n\n<pre><code>def _convert_object_array(content, columns, coerce_float=False, dtype=None):\n    if columns is None:\n        columns = _default_index(len(content))\n    else:\n        if len(columns) != len(content):  # pragma: no cover\n            # caller's responsibility to check for this...\n            raise AssertionError('%d columns passed, passed data had %s '\n                                 'columns' % (len(columns), len(content)))\n\n    # provide soft conversion of object dtypes\n    def convert(arr):\n        if dtype != object and dtype != np.object:\n            arr = lib.maybe_convert_objects(arr, try_float=coerce_float)\n            arr = _possibly_cast_to_datetime(arr, dtype)\n        return arr\n\n    arrays = [convert(arr) for arr in content]\n\n    return arrays, columns\n</code></pre>\n\n<p>You can see that there is no optimisation in the construction it performs and it essentially just iterates through every element, converts it (which will copy it) and returns a list of arrays.</p>\n\n<p>For the other path, as the np array shape and dtypes are more pandas friendly it can take a view on the data or copy if required but it already knows enough to optimise the construction</p>\n"}], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 41862913, "answer_count": 2, "score": 2, "last_activity_date": 1485453274, "creation_date": 1485381489, "last_edit_date": 1495541401, "question_id": 41862406, "link": "https://stackoverflow.com/questions/41862406/performance-of-creating-new-dataframe", "title": "Performance of creating new DataFrame", "body": "<p>I was very surpised about <strong>timings</strong> of creating DataFrames in <a href=\"https://stackoverflow.com/q/41861846/2901002\">this question</a>:</p>\n\n<pre><code>#[30000 rows x 2 columns]\ndf = pd.concat([pd.DataFrame({'fruits': ['apples', 'grapes', 'figs'], \n                              'numFruits': [10, 20, 15]})]*10000)\n       .reset_index(drop=True)    \n#print (df)\n\n\nIn [55]: %timeit (pd.DataFrame([df.numFruits.values], ['Market 1 Order'], df.fruits.values))\n1 loop, best of 3: 2.4 s per loop\n\nIn [56]: %timeit (pd.DataFrame(df.numFruits.values.reshape(1,-1), index=['Market 1 Order'], columns=df.fruits.values))\nThe slowest run took 5.64 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000 loops, best of 3: 424 \u00b5s per loop\n</code></pre>\n\n<p>What is reason?</p>\n\n<p>Why this huge difference in <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.reshape.html\" rel=\"nofollow noreferrer\"><code>numpy.ndarray.reshape</code></a> vs <code>[]</code> ? </p>\n"}, {"tags": ["python", "django", "nested", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 2330, "user_id": 1014508, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e12d101bc96cf4f266bc5f1247d8c972?s=128&d=identicon&r=PG", "display_name": "mislavcimpersak", "link": "https://stackoverflow.com/users/1014508/mislavcimpersak"}, "is_accepted": true, "score": 1, "last_activity_date": 1485384774, "creation_date": 1485384774, "answer_id": 41863177, "question_id": 41862376, "link": "https://stackoverflow.com/questions/41862376/django-rest-framework-bypass-entity-in-nested-relation/41863177#41863177", "title": "Django rest framework bypass entity in nested relation", "body": "<p>You could try defining serializers as follows:</p>\n\n<pre><code>from rest_framework import serializers\n\n\nclass GenreSerializer(serializers.ModelSerializer):\n    albums = serializers.SerializerMethodField()\n\n    class Meta:\n        model = Genre\n\n    def get_albums(self, obj):\n        albums = Album.objects.filter(group__genre=obj)\n        albums_serializer = AlbumSerializer(data=albums, many=True)\n        albums_serializer.is_valid()\n        return albums_serializer.data\n\n\nclass AlbumSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Album\n</code></pre>\n\n<p>The result should be as follows:</p>\n\n<pre><code>[{\n        'name': 'Rock',\n        'albums': [{\n                'name': 'Meteora',\n                'track_count': 13\n            },\n            {\n                'name': 'Master of Puppets',\n                'track_count': 12\n            },\n            {\n                'name': 'Nevermind',\n                'track_count': 11\n            }\n        ]\n    },\n    {\n        'name': 'Pop',\n        'albums': [{\n                'name': 'Ray of Light',\n                'track_count': 11\n            },\n            {\n                'name': 'Thriller',\n                'track_count': 14\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p>Mind you that this is highly unoptimized and untested but from here I'm sure you know how to use <code>GenreSeralizer</code> in a view and optimize the code.</p>\n"}], "owner": {"reputation": 50, "user_id": 4891385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7695820bc41af1ff47c789a50678cc31?s=128&d=identicon&r=PG", "display_name": "Igor Persikov", "link": "https://stackoverflow.com/users/4891385/igor-persikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 41863177, "answer_count": 1, "score": 1, "last_activity_date": 1485414142, "creation_date": 1485381351, "last_edit_date": 1485414142, "question_id": 41862376, "link": "https://stackoverflow.com/questions/41862376/django-rest-framework-bypass-entity-in-nested-relation", "title": "Django rest framework bypass entity in nested relation", "body": "<p>Consider these three models:</p>\n\n<pre><code>class Genre(models.Model):\n    slug = models.CharField(max_length=30, unique=True)\n    name = models.CharField(max_length=300)\n\nclass Group(models.Model):\n    slug = models.CharField(max_length=30, unique=True)\n    name = models.CharField(max_length=300)\n    genre = models.ForeignKey('Genre', related_name='groups')\n\nclass Album(models.Model):\n    name = models.CharField(max_length=300)\n    track_count = models.IntegerField()\n    artist = models.ForeignKey('Group', related_name='albums')\n</code></pre>\n\n<p>Now, I need this kind of DRF output:</p>\n\n<pre><code>[ \n  {'name': 'Rock', 'albums': [\n         {'name': 'Meteora', 'track_count': 12}, \n         {'name': 'Master of Puppets', 'track_count': 10'}]\n  },\n  {..},\n]\n</code></pre>\n\n<p>In other words, I need to get all of the albums in each genre, bypassing \"group\" model. I have achieved something similar this way:</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>class SegmentViewSet(viewsets.ModelViewSet):\n\n    queryset = Genre.objects.all().annotate(Count('name'))\n    serializer_class = GenreSerializer\n</code></pre>\n\n<p><strong>serializers.py</strong></p>\n\n<pre><code>class GroupSerializer(serializers.ModelSerializer):\n    albums = AlbumSerializer(many=True, read_only=True)\n\n    def to_representation(self, value):\n        return value.products.annotate(Count('id')).values('name', 'sap_code')\n\nclass Meta:\n    model = Group\n    fields = ('albums',)\n\n\nclass GenreSerializer(serializers.ModelSerializer):\n    albums = GroupSerializer(many=True, read_only=True)\n\n    class Meta:\n        model = Genre\n        fields = ('id',\n                  'name',\n                  'albums')\n</code></pre>\n\n<p>That gives me something like this:</p>\n\n<pre><code>[\n  {'name': 'Rock', 'albums': [\n      [ \n        {'name': 'Meteora', 'track_count': 12}, \n        {...}, \n        {...} \n      ], \n      [ \n        {...}, \n        {...}\n      ] \n    ] \n  }\n]\n</code></pre>\n\n<p>Which is albums, grouped by albums, grouped by genre. That is a nested array and I need just the albums grouped by genre in one array. </p>\n\n<p>I know that my solution with to_representation function is pretty dirty, but it is something alike to what I'm looking for. But hey, that's what custom related fields are for.</p>\n\n<p>Is there a way to get desired output without direct linking albums to genres? There really IS a reason to keep things this way. </p>\n\n<p>I already tried custom related fields, PrimaryKeyRelatedField, even tried to overload get_queryset in my view. Did I overlook something?</p>\n"}, {"tags": ["python", "cmd", "vlc", "os.system", "taskkill"], "comments": [{"owner": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "edited": false, "score": 0, "creation_date": 1485381924, "post_id": 41862369, "comment_id": 70908775, "body": "Probably only a copy and paste error, but the quotation looks strange: An opening single quotation mark without the corresponding closing one, followed by two double quotation marks, ... Please make sure that you post the code that you have tried, or is this already the error?  Also a closing bracket is missing in your second <code>os.system(&quot;taskkill &#47;im vlc.exe&quot;</code> line."}, {"owner": {"reputation": 171, "user_id": 5781641, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71ff18bd7f2ed593bbc9368a594d99be?s=128&d=identicon&r=PG&f=1", "display_name": "mattp341", "link": "https://stackoverflow.com/users/5781641/mattp341"}, "reply_to_user": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "edited": false, "score": 0, "creation_date": 1485382209, "post_id": 41862369, "comment_id": 70908910, "body": "@maji fixed that, I just made typos while writing this up."}, {"owner": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "edited": false, "score": 0, "creation_date": 1485382479, "post_id": 41862369, "comment_id": 70909042, "body": "Are you sure that vlc is really running when you try to taskkill it?"}, {"owner": {"reputation": 171, "user_id": 5781641, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71ff18bd7f2ed593bbc9368a594d99be?s=128&d=identicon&r=PG&f=1", "display_name": "mattp341", "link": "https://stackoverflow.com/users/5781641/mattp341"}, "reply_to_user": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "edited": false, "score": 0, "creation_date": 1485382622, "post_id": 41862369, "comment_id": 70909129, "body": "@maji 100% I checked task manager and it is running. Plus I can use taskkill within the command prompt and it works as it should"}, {"owner": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "edited": false, "score": 0, "creation_date": 1485389908, "post_id": 41862369, "comment_id": 70911670, "body": "My question was not clear: What happens if you add a <code>time.sleep(5)</code> between starting and taskkilling vlc? You need <code>import time</code> for this to work."}, {"owner": {"reputation": 171, "user_id": 5781641, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71ff18bd7f2ed593bbc9368a594d99be?s=128&d=identicon&r=PG&f=1", "display_name": "mattp341", "link": "https://stackoverflow.com/users/5781641/mattp341"}, "reply_to_user": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "edited": false, "score": 0, "creation_date": 1485450196, "post_id": 41862369, "comment_id": 70939826, "body": "@maji I have been doing that, it shows up in task manager, clearly running, and still doesn&#39;t kill the process."}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 5781641, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71ff18bd7f2ed593bbc9368a594d99be?s=128&d=identicon&r=PG&f=1", "display_name": "mattp341", "link": "https://stackoverflow.com/users/5781641/mattp341"}, "edited": false, "score": 0, "creation_date": 1485382581, "post_id": 41862635, "comment_id": 70909102, "body": "This makes me wonder if I could just terminate the process I started, that might work"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "reply_to_user": {"reputation": 171, "user_id": 5781641, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71ff18bd7f2ed593bbc9368a594d99be?s=128&d=identicon&r=PG&f=1", "display_name": "mattp341", "link": "https://stackoverflow.com/users/5781641/mattp341"}, "edited": false, "score": 1, "creation_date": 1485382715, "post_id": 41862635, "comment_id": 70909173, "body": "The <code>subprocess</code> module was created to replace the usage of <code>os.system</code>. You will find more flexibility with it."}], "tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 2, "last_activity_date": 1485383080, "last_edit_date": 1485383080, "creation_date": 1485382378, "answer_id": 41862635, "question_id": 41862369, "link": "https://stackoverflow.com/questions/41862369/cannot-kill-vlc-exe-using-taskkill-with-os-system/41862635#41862635", "title": "Cannot kill VLC.exe using taskkill with os.system", "body": "<p>Not sure. However, I wouldn't use <code>os</code>, I would use <code>subprocess</code>.</p>\n\n<p>Something like:</p>\n\n<pre><code>import shlex, subprocess\np = subprocess.Popen(shlex.split(\"cmd of some sort\"))\n#\n# More code\n#\np.terminate()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2103, "user_id": 8177207, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eC96I.jpg?s=128&g=1", "display_name": "It Wasn&#39;t Me", "link": "https://stackoverflow.com/users/8177207/it-wasnt-me"}, "is_accepted": false, "score": 1, "last_activity_date": 1595390059, "last_edit_date": 1595390059, "creation_date": 1545086300, "answer_id": 53824001, "question_id": 41862369, "link": "https://stackoverflow.com/questions/41862369/cannot-kill-vlc-exe-using-taskkill-with-os-system/53824001#53824001", "title": "Cannot kill VLC.exe using taskkill with os.system", "body": "<blockquote>\n<p>To quit vlc by itself after playing the video, use <strong><code>vlc://quit</code></strong> :</p>\n</blockquote>\n \n<pre class=\"lang-python prettyprint-override\"><code>import subprocess\nvlc_path =r'C:\\\\Program Files (x86)\\\\VideoLAN\\\\VLC\\\\vlc.exe'\nopen_mp4 =r'C:\\\\video\\\\Lean On Me _ Playing For Change.mp4'\nvlc_full =r'-f'\nvlc_quit =r'vlc://quit'\nsubprocess.call([vlc_path]+[open_mp4]+[vlc_full]+[vlc_quit])\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 5781641, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/71ff18bd7f2ed593bbc9368a594d99be?s=128&d=identicon&r=PG&f=1", "display_name": "mattp341", "link": "https://stackoverflow.com/users/5781641/mattp341"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1501, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1595390059, "creation_date": 1485381335, "last_edit_date": 1485382105, "question_id": 41862369, "link": "https://stackoverflow.com/questions/41862369/cannot-kill-vlc-exe-using-taskkill-with-os-system", "title": "Cannot kill VLC.exe using taskkill with os.system", "body": "<p>I have a very strange and perplexing issue here. I am attempting to automate the opening and closing of .wmv files with VLC Media Player. The code I used at first to open the file, works great:</p>\n\n<pre><code># set directory    \nos.chdir(\"Path/to/folder/containing/wmvfiles\")    \n# start the given file name\nos.startfile(\"ExampleFileName.wmv\")\n</code></pre>\n\n<p>Then I would use the following code to close this video when I was ready for it to be done playing</p>\n\n<pre><code>os.system(\"taskkill /im vlc.exe\") \n</code></pre>\n\n<p>This worked great! However......I need it to open fullscreen. Sooo, I replaced my initial code to start the video with this:</p>\n\n<pre><code> os.system\n ('\"\"C:\\Program Files\\VideoLAN\\VLC\\\\vlc.exe\" -f \"c:\\videoFiles\\\\videoName.wmv\"\"')\n</code></pre>\n\n<p>That worked great! It opens in full screen and all is well. However.....taskkill does not close the process. To be as specific as possible, this code doesn't close it, the VLC program will just stay open:</p>\n\n<pre><code># open the file in full screen    \nos.system\n ('\"\"C:\\Program Files\\VideoLAN\\VLC\\\\vlc.exe\" -f \"c:\\videoFiles\\\\videoName.wmv\"\"')\n# close the file\nos.system(\"taskkill /im vlc.exe\")\n</code></pre>\n\n<p>Weird huh? It gets even worse. When I open the file this way:</p>\n\n<pre><code>os.system\n ('\"\"C:\\Program Files\\VideoLAN\\VLC\\\\vlc.exe\" -f \"c:\\videoFiles\\\\videoName.wmv\")\n</code></pre>\n\n<p>Then I go to the command prompt and type in</p>\n\n<pre><code>taskkill /im vlc.exe\n</code></pre>\n\n<p>It closes. I have absolutely no idea why the following:</p>\n\n<pre><code>os.system(\"taskkill /im vlc.exe\")\n</code></pre>\n\n<p>Only works when I start my file the first way (os.startfile) and when I run the command directly from the command prompt. This may be a confusing question, but it is a very confusing problem, any help or input would be very appreciated, thanks!</p>\n"}, {"tags": ["python", "sql"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485381396, "post_id": 41862350, "comment_id": 70908517, "body": "next time use button <code>{}</code> to correctly format code on SO."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1485381483, "post_id": 41862350, "comment_id": 70908573, "body": "do you get error message or what ? Always put in question full error message (Traceback)."}], "owner": {"reputation": 109, "user_id": 7471327, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2fc2bdfbb99b8296fcc37154dff45e32?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Aguilar", "link": "https://stackoverflow.com/users/7471327/victor-aguilar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 699, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1485381375, "creation_date": 1485381261, "last_edit_date": 1485381375, "question_id": 41862350, "link": "https://stackoverflow.com/questions/41862350/connecting-python-to-mysql-workbench", "title": "Connecting python to MySQL workbench?", "body": "<p>I am new to Data Analytics and the tools used. I have vague background knowledge on Python, MySQLWorkbench, Tableau. Currently, I am taking a course on data and have a final project. Currently, I am attempting to connect my python to excel file to MySqlWorkbench. Has anyone done this before or know how to connect. I have posted my script for reference. </p>\n\n<pre><code>import pandas as pd\nimport xlrd\nimport MySQLdb\nimport sqlalchemy\n\n\n#Adding own column names\nuser_columns = ['RowID','OrderID','OrderDate','OrderPriority','OrderQuantity','Sales','Discount','ShipMode','Profit','UnitPrice','ShippingCost','CustomerName','Province','Region','CustomerSegment', 'ProductCategory','ProductSubCategory','ProductName','ProductContainer','ProductBaseMargin','ShipDate']\nbarget = pd.read_excel('/Users/CreativeInnovations/Documents/colaberry/pythonClass/Externalscripts/Barget_Store.xls', sep=',', header=None,names=user_columns)\n\nengine = sqlalchemy.create_engine('mysql+mysqldb://root:The51014@Localhost/Barget')\nbarget.to_sql('barget', engine,if_exists='replace')\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "ipython"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485381533, "post_id": 41862315, "comment_id": 70908604, "body": "ask matplotlib authors."}, {"owner": {"reputation": 681, "user_id": 3409630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75f74a2cfb78131495f543e51df81fa7?s=128&d=identicon&r=PG&f=1", "display_name": "alexblae", "link": "https://stackoverflow.com/users/3409630/alexblae"}, "edited": false, "score": 0, "creation_date": 1485419945, "post_id": 41862315, "comment_id": 70921164, "body": "Can you try to load it specifically using <code>matplotlib.rc_params_from_file</code>? What happens then?"}], "answers": [{"tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": false, "score": 1, "last_activity_date": 1485427541, "creation_date": 1485427541, "answer_id": 41871741, "question_id": 41862315, "link": "https://stackoverflow.com/questions/41862315/matplotlib-not-using-matplotlibrc-file-in-ipython/41871741#41871741", "title": "matplotlib not using matplotlibrc file in IPython", "body": "<p>In matplotlib 2.0.0, the default location on Linux for the <code>matplotlibrc</code> file has moved from </p>\n\n<pre><code>~/.matplotlib/matplotlibrc\n</code></pre>\n\n<p>to</p>\n\n<pre><code>~/.config/matplotlib/matplotlibrc \n</code></pre>\n\n<p>Try moving your customised file to there and see if it works. That worked for me when I moved from 1.5.3 to 2.0.0.</p>\n\n<p>See the <a href=\"http://matplotlib.org/users/customizing.html#the-matplotlibrc-file\" rel=\"nofollow noreferrer\">docs</a> for more info on how it finds the right matplotlibrc file.</p>\n"}, {"tags": [], "owner": {"reputation": 3943, "user_id": 2565457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35088518a24e65a623ff4c680c63feae?s=128&d=identicon&r=PG", "display_name": "Andy Jones", "link": "https://stackoverflow.com/users/2565457/andy-jones"}, "is_accepted": false, "score": 1, "last_activity_date": 1542122929, "creation_date": 1542122929, "answer_id": 53284307, "question_id": 41862315, "link": "https://stackoverflow.com/questions/41862315/matplotlib-not-using-matplotlibrc-file-in-ipython/53284307#53284307", "title": "matplotlib not using matplotlibrc file in IPython", "body": "<p>For me, the problem was that the matplotlibrc <em>was</em> working, then iPython was <a href=\"https://github.com/matplotlib/matplotlib/issues/11815\" rel=\"nofollow noreferrer\">overriding it</a> at the end of the cell. The way to check for this is to import matplotlib and print the <code>plt.rcParams</code>  dict in the same cell, then run the same cell again. If it changes between calls, iPython is overriding it.</p>\n\n<p>The fix is to add </p>\n\n<pre><code>c.InteractiveShellApp.matplotlib = 'inline'\nc.InlineBackend.rc = {}\n</code></pre>\n\n<p>to your <code>ipython_config.py</code>. The second line tells iPython not to update the rParams dict.</p>\n"}], "owner": {"reputation": 199, "user_id": 2518342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/865734f0836592d91fb02bd53592702b?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Donovan", "link": "https://stackoverflow.com/users/2518342/ben-donovan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 881, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1542122929, "creation_date": 1485381118, "question_id": 41862315, "link": "https://stackoverflow.com/questions/41862315/matplotlib-not-using-matplotlibrc-file-in-ipython", "title": "matplotlib not using matplotlibrc file in IPython", "body": "<p>I recently upgraded from matplotlib v1.5.3 from v2.0.0, but with this change, it seems that matplotlib no longer uses my edited matplotlibrc file when plotting figures. When I open the matplotlibrc file, I see that my changes are in fact implemented, but when I type <code>matplotlib.rcParams</code>, these changes are not displayed. Thinking that maybe it was looking at a different matplotlibrc file, I ran <code>matplotlib.matplotlib_fname()</code>, but this points to the same directory of my edited matplotlibrc file. </p>\n\n<p>Does anyone know what's going on here?</p>\n\n<p>FYI, I am running matplotlib 2.0.0 in Python 2.7.12 with IPython 5.1.0. To open matplotlib in IPython, I utilize first the command <code>%matplotlib</code>.   </p>\n"}, {"tags": ["python", "google-cloud-storage", "boto", "google-developer-tools"], "comments": [{"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 1, "creation_date": 1485381294, "post_id": 41862312, "comment_id": 70908471, "body": "This is too broad a question for Stack Overflow. You need to narrow it down to a smaller scope and show some effort to research or answer the question yourself."}], "answers": [{"tags": [], "owner": {"reputation": 5548, "user_id": 4625526, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6378aa788195a771461c5043057e2ed5?s=128&d=identicon&r=PG&f=1", "display_name": "Norbert van Nobelen", "link": "https://stackoverflow.com/users/4625526/norbert-van-nobelen"}, "is_accepted": false, "score": 2, "last_activity_date": 1485381181, "creation_date": 1485381181, "answer_id": 41862332, "question_id": 41862312, "link": "https://stackoverflow.com/questions/41862312/programatically-download-file-from-google-cloud-storage-bucket/41862332#41862332", "title": "Programatically download file from google cloud storage bucket", "body": "<p>Look into gcs-fuse: Makes like a lot easier since you then can use the GCS as just a standard file system.</p>\n"}, {"tags": [], "owner": {"reputation": 8404, "user_id": 243712, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5347c683b6963f418d1b16c65917bf3f?s=128&d=identicon&r=PG", "display_name": "poolie", "link": "https://stackoverflow.com/users/243712/poolie"}, "is_accepted": false, "score": 0, "last_activity_date": 1485382587, "creation_date": 1485382587, "answer_id": 41862675, "question_id": 41862312, "link": "https://stackoverflow.com/questions/41862312/programatically-download-file-from-google-cloud-storage-bucket/41862675#41862675", "title": "Programatically download file from google cloud storage bucket", "body": "<p>The Google Cloud SDK includes a <code>gsutil</code> program. It is based on the <code>boto</code> Python library.  \"Cloud storage client\" is not a specific thing as far as I'm aware.</p>\n\n<p>If you have some kind of scheduler like <code>cron</code> that can regularly run a command, all you need is </p>\n\n<pre><code>gsutil cp gs://mybucket/somefile.csv /tmp/\n</code></pre>\n\n<p>How to load that into a SQL DB is a separate problem.</p>\n"}], "owner": {"reputation": 11, "user_id": 7471128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a004501622386504504323fba7c2f7ea?s=128&d=identicon&r=PG&f=1", "display_name": "Erez Reuven", "link": "https://stackoverflow.com/users/7471128/erez-reuven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 624, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1588836238, "creation_date": 1485381105, "last_edit_date": 1485383830, "question_id": 41862312, "link": "https://stackoverflow.com/questions/41862312/programatically-download-file-from-google-cloud-storage-bucket", "title": "Programatically download file from google cloud storage bucket", "body": "<p>I'm trying to figure out how to download a file from google cloud storage bucket.</p>\n\n<p>My use-case is to run a scheduled script which downloads a .csv file once a day and save it to a SQL DB.</p>\n\n<p>I considered doing it using python and the google SDK but got lost with all the options and which one is the right for me.</p>\n\n<p>Could someone can explain the difference between cloud storage client, boto, gsutil, and google cloud SDK?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485381262, "post_id": 41862296, "comment_id": 70908453, "body": "Please explain why the results that you see are wrong."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485381385, "post_id": 41862296, "comment_id": 70908513, "body": "The line is the second block of output and the match is the first block of output. The results as you can see within the example is that Im looking for the Latitude value which would be &quot;31 38 40.268 N&quot;  @DYZ"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1485381391, "post_id": 41862296, "comment_id": 70908516, "body": "At regex101, you are using lazy dot matching patterns, <code>.*?</code>. Here, you show greedy dot, <code>.*</code>. The data seems different from what you have in Python from the one you shared at regex101."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1485381466, "post_id": 41862296, "comment_id": 70908561, "body": "@WiktorStribi\u017cew this does not affect the outcome"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1485381496, "post_id": 41862296, "comment_id": 70908582, "body": "It depends on the data you have."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485381577, "post_id": 41862296, "comment_id": 70908619, "body": "Why do you need <code>.translate(None, &#39;\\x00&#39;)</code> at all?"}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1485381629, "post_id": 41862296, "comment_id": 70908650, "body": "@WiktorStribi\u017cew I wouldn&#39;t say that is the point the point is that I have made a fundamental error in python that returns a separate value"}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1485381651, "post_id": 41862296, "comment_id": 70908663, "body": "@DYZ because there is null bytes littered throughout my text, and what version of python are you running could this be my issue? I am returning exactly what I have put here"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485381829, "post_id": 41862296, "comment_id": 70908739, "body": "Your text on regex101 contains line breaks."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485381837, "post_id": 41862296, "comment_id": 70908743, "body": "@DYZ I was looking for the latitude value which is &quot;31 38 40.268 N&quot; nothing else"}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485381957, "post_id": 41862296, "comment_id": 70908795, "body": "@melpomene is that a rhetorical statement or a clue towards a solution"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485382012, "post_id": 41862296, "comment_id": 70908826, "body": "@TylerCowan <a href=\"https://www.regex101.com/r/eBv963/2\" rel=\"nofollow noreferrer\">regex101.com/r/eBv963/2</a> It&#39;s why you&#39;re getting different results: The input strings are different."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1485382166, "post_id": 41862296, "comment_id": 70908892, "body": "@melpomene I see. thanks for that"}], "answers": [{"comments": [{"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1485383427, "post_id": 41862691, "comment_id": 70909512, "body": "Although that is an interesting solution, The word Latitude may not exist at all or be misspelled so it would be preferential to match a pattern vs using latitude as a marker"}, {"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "reply_to_user": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1485383632, "post_id": 41862691, "comment_id": 70909597, "body": "Just remove it, it will still work if the format is only used for the latitude."}, {"owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1485384368, "post_id": 41862691, "comment_id": 70909919, "body": "Unfortunately no also the group method does not work for me"}, {"owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "reply_to_user": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "edited": false, "score": 0, "creation_date": 1485694329, "post_id": 41862691, "comment_id": 71022936, "body": "How so? Also keep in mind that downvoting correct, but not exact answers is not a good practice."}], "tags": [], "owner": {"reputation": 5049, "user_id": 5288316, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bfc9b80e12b12bd4dd8a3953679d0c84?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5288316/nicolas"}, "is_accepted": false, "score": -1, "last_activity_date": 1485382658, "creation_date": 1485382658, "answer_id": 41862691, "question_id": 41862296, "link": "https://stackoverflow.com/questions/41862296/python-regex-returns-additional-string-data-than-regex101-python/41862691#41862691", "title": "Python REGEX returns additional string data than regex101 Python", "body": "<p>What about this regex instead: <a href=\"https://www.regex101.com/r/eBv963/3\" rel=\"nofollow noreferrer\"><code>Latitude:\\s*(\\d{1,3})\\s*(\\d{1,2})\\s*(\\d{1,2}(?:\\.\\d+)?)</code></a>, degrees in group 1, minutes in group 2 and seconds in group 3</p>\n\n<pre><code>import re\nline = \"position:      0.00ft Northing:    728398.54  ft    Latitude:         31     38    40.268 N\"\nresult = re.search(r\"Latitude:\\s*(\\d{1,3})\\s*(\\d{1,2})\\s*(\\d{1,2}(?:\\.\\d+)?)\", line)\nformatted = result.group(1) + \" \" + result.group(2) + \" \" + result.group(3) + \" N\"\nprint(formatted)\n</code></pre>\n"}], "owner": {"reputation": 732, "user_id": 4854766, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/da0d92a989793b4a9f7fa9fd56b2cbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler Cowan", "link": "https://stackoverflow.com/users/4854766/tyler-cowan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1485382658, "creation_date": 1485381044, "last_edit_date": 1485381920, "question_id": 41862296, "link": "https://stackoverflow.com/questions/41862296/python-regex-returns-additional-string-data-than-regex101-python", "title": "Python REGEX returns additional string data than regex101 Python", "body": "<p>I have an <a href=\"https://www.regex101.com/r/eBv963/1\" rel=\"nofollow noreferrer\">EXAMPLE HERE</a> of some regular expressions that find latitude which seems to work great within the example. I transfer this over to python and print line with match and then match string using</p>\n\n<pre><code>line = \"position:      0.00ft Northing:    728398.54  ft    Latitude:         31     38    40.268 N\"\nLat = re.findall(r\"\\d{1,3}.*\\s\\d{1,2}.*\\s\\d{1,2}.*N\",line.translate(None, '\\x00'))\nif len(Lat) &gt; 0:\n  print(line)\n  latitude = Lat[0]\n  print(latitude)\n# 728398.54  ft    Latitude:         31     38    40.268 N\n</code></pre>\n\n<p>Where have I gone wrong in my regex expression?</p>\n\n<p>I wish to return: \"31 38 40.268 N\"</p>\n"}, {"tags": ["python", "watchdog"], "comments": [{"owner": {"reputation": 35, "user_id": 7442126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced93b368eb13e09537c41472864de23?s=128&d=identicon&r=PG", "display_name": "Nick Biolo", "link": "https://stackoverflow.com/users/7442126/nick-biolo"}, "edited": false, "score": 0, "creation_date": 1485400286, "post_id": 41862291, "comment_id": 70914199, "body": "Well, I don&#39;t think it&#39;s pretty but i have it working. I added a global variable file_received = False. Then I set the while loop to: while not file_received (to run until set to True). Then in the on_any_event function I added this:                                                                                    elif event.event_type == &#39;created&#39;:             # File has been received, can now quit watching             global file_rec             file_rec = True             quitter()"}], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 10183880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GjIZ9.png?s=128&g=1", "display_name": "MehmedB", "link": "https://stackoverflow.com/users/10183880/mehmedb"}, "edited": false, "score": 0, "creation_date": 1573646458, "post_id": 44648713, "comment_id": 103947829, "body": "For some reason, it doesn&#39;t stop the &#39;while&#39; loop inside the &#39;if <b>name</b> ==&#39;"}], "tags": [], "owner": {"reputation": 139, "user_id": 3455652, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Wr1hi.jpg?s=128&g=1", "display_name": "venturieffect", "link": "https://stackoverflow.com/users/3455652/venturieffect"}, "is_accepted": false, "score": 0, "last_activity_date": 1497949911, "creation_date": 1497949911, "answer_id": 44648713, "question_id": 41862291, "link": "https://stackoverflow.com/questions/41862291/how-to-exit-watchdog-python-script-from-handler-class-function/44648713#44648713", "title": "How to Exit Watchdog/Python Script from Handler Class Function?", "body": "<p>I had the same problem. I solved passing the observer to the handler extended constructor</p>\n\n<pre><code>from watchdog.events import FileSystemEventHandler\n\n\nclass MyHandler(FileSystemEventHandler):\n    def __init__(self, observer):\n        object.__init__(self)\n        self.observer = observer\n\n    def process(self, event):\n        \"\"\"\n        event.event_type \n            'modified' | 'created' | 'moved' | 'deleted'\n        event.is_directory\n            True | False\n        event.src_path\n            path/to/observed/file\n        \"\"\"\n        # the file will be processed there\n        print event.src_path, event.event_type  # print now only for debug\n        self.observer.stop()\n        print \"stopped\"\n\n    def on_modified(self, event):\n        self.process(event)\n\n    def on_created(self, event):\n        self.process(event)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 7442126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced93b368eb13e09537c41472864de23?s=128&d=identicon&r=PG", "display_name": "Nick Biolo", "link": "https://stackoverflow.com/users/7442126/nick-biolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2015, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497949911, "creation_date": 1485381029, "last_edit_date": 1485400572, "question_id": 41862291, "link": "https://stackoverflow.com/questions/41862291/how-to-exit-watchdog-python-script-from-handler-class-function", "title": "How to Exit Watchdog/Python Script from Handler Class Function?", "body": "<p>I have a script that is watching a folder for a file to be received. If the file is NOT received in X amount of time I want to be alerted, if it is received I want to exit the script. I plan to use Windows scheduled task to start/stop the script (because I don't know how to recycle it in Python). I'm currently stuck on trying to exit out of Watchdog/Python WHEN the file is received (since I only want alert if it isn't). </p>\n\n<p>In the Handler Class I added a call to the quitter function on the if the event.event_type is detected. However, it doesn't exit and continues through till the timeout value is reached.</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>import time\nfrom watchdog.observers import Observer\nfrom watchdog.events import FileSystemEventHandler\nimport smtplib\nimport sys\n\nfile_rec = False\n\nclass Watcher:\n    DIRECTORY_TO_WATCH = r\"C:\\Temp\"\n\n    def __init__(self):\n        self.observer = Observer()\n\n    def run(self):\n        t_end = time.time() + 5 * 3 # Configure timeout value\n        global file_rec\n        event_handler = Handler()\n        self.observer.schedule(event_handler, self.DIRECTORY_TO_WATCH, recursive=False)\n        self.observer.start()\n        try:\n            while not file_rec:\n                if time.time() &gt; t_end: # If timeout reached file not created -- send email\n                    email()\n\n                else:\n                    time.sleep(5)\n        except:\n            self.observer.stop()\n            print(\"Error\")\n\n        self.observer.join()\n\n\nclass Handler(FileSystemEventHandler):\n\n    @staticmethod\n    def on_any_event(event):\n        if event.is_directory:\n            return None\n\n        elif event.event_type == 'created':\n            # File has been received, can now quit watching\n            global file_rec\n            file_rec = True\n            quitter()\n\nif __name__ == '__main__':\n\n    def email():\n        createMsg = \"File XXX on Server XXX has not been received, manual intervention required.\"\n        sender = 'NoReply@mydomain.com'\n        receiver = 'test.user@mydomain.com'\n        message = \"\"\"From: No Reply &lt;NoReply@mydomain.com&gt;\n                            TO: Test User &lt;test.user@mydomain.com&gt;\n                            Subject: File Not Received\n\n                            Attention Required: \"\"\" + str(createMsg)\n        mail = smtplib.SMTP('email.mydomain.com', 25)\n        mail.ehlo()\n        #mail.starttls()\n        mail.sendmail(sender, receiver, message)\n        mail.close()\n        quitter()\n\n    def quitter():\n        sys.exit()\n\n    w = Watcher()\n    w.run()\n</code></pre>\n"}, {"tags": ["python", "api", "google-places-api", "google-places"], "answers": [{"tags": [], "owner": {"reputation": 4092, "user_id": 1069142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a3831d328fc91daf249df4e4cae27f?s=128&d=identicon&r=PG", "display_name": "miguev", "link": "https://stackoverflow.com/users/1069142/miguev"}, "is_accepted": false, "score": 0, "last_activity_date": 1485436012, "creation_date": 1485436012, "answer_id": 41874129, "question_id": 41862188, "link": "https://stackoverflow.com/questions/41862188/google-places-api-visit-duration-is-it-possible/41874129#41874129", "title": "google places api visit duration - is it possible?", "body": "<p>There is no such feature in the API, please consider <a href=\"http://code.google.com/p/gmaps-api-issues/issues/entry?template=Places%20API%20-%20Feature%20Request\" rel=\"nofollow noreferrer\">filing a feature request</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 6162560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3ed010a9dce4200c48de803fdebd5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kasia R", "link": "https://stackoverflow.com/users/6162560/kasia-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1485436012, "creation_date": 1485380631, "question_id": 41862188, "link": "https://stackoverflow.com/questions/41862188/google-places-api-visit-duration-is-it-possible", "title": "google places api visit duration - is it possible?", "body": "<p>Does anyone happen to know if Google Places API allows to get the average visit duration? Sometimes when you Google a business, it gives you that saying \"People typically spend here 15 minutes\". I don't see this anywhere on the API sadly.</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "logistic-regression"], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 3429422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fedd0c4620adba8f68437f3ae32d9a43?s=128&d=identicon&r=PG&f=1", "display_name": "KevinD", "link": "https://stackoverflow.com/users/3429422/kevind"}, "is_accepted": true, "score": 4, "last_activity_date": 1485424337, "last_edit_date": 1485424337, "creation_date": 1485383172, "answer_id": 41862810, "question_id": 41862124, "link": "https://stackoverflow.com/questions/41862124/how-to-combine-two-logistic-regression-models-using-python-and-scikit/41862810#41862810", "title": "How to combine two logistic regression models using python and scikit?", "body": "<p>Two methods might suit your needs here.</p>\n\n<p>The first one is to make each of your classifiers vote for the predicted class. To do so, you can use <em>sklearn.ensemble.VotingClassifier</em>. With your example:</p>\n\n<pre><code>from sklearn.ensemble import VotingClassifier\nclf1 = LogisticRegression()\nclf2 = LogisticRegression()\neclf1 = VotingClassifier(estimators=[('lr1', clf1), ('lr2', clf2),voting='hard')\neclf1 = eclf1.fit(X, Y)\n</code></pre>\n\n<p>The other one is <strong>stacking</strong>.\nBasically, the idea is to combine the output of multiple classifiers, and train a metaclassifier on the output of your first classifiers.</p>\n\n<p>Here is a useful link describing the method  : <a href=\"https://rasbt.github.io/mlxtend/user_guide/classifier/StackingClassifier/\" rel=\"nofollow noreferrer\">https://rasbt.github.io/mlxtend/user_guide/classifier/StackingClassifier/</a>.</p>\n\n<p>Using mlxtend and your example: </p>\n\n<pre><code>from mlxtend.classifier import StackingClassifier\nclf1 = LogisticRegression()\nclf2 = LogisticRegression()\nlr = Your_Meta_Classifier()\nsclf = StackingClassifier(classifiers=[clf1, clf2], \n                      meta_classifier=lr)\n</code></pre>\n\n<p>However, in your example, the models being trained with the same deterministic methods, I don't think stacking them would lead to any improvement.</p>\n\n<p>Hope it helped !</p>\n\n<p>(Oh, possible duplicate of : <a href=\"https://stackoverflow.com/questions/28727709/ensemble-of-different-kinds-of-regressors-using-scikit-learn-or-any-other-pytho\">Ensemble of different kinds of regressors using scikit-learn (or any other python framework)</a> ?)</p>\n"}], "owner": {"reputation": 39, "user_id": 7471271, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211615631609138/picture?type=large", "display_name": "Davide Marchi", "link": "https://stackoverflow.com/users/7471271/davide-marchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3723, "favorite_count": 4, "accepted_answer_id": 41862810, "answer_count": 1, "score": 3, "last_activity_date": 1485424337, "creation_date": 1485380369, "question_id": 41862124, "link": "https://stackoverflow.com/questions/41862124/how-to-combine-two-logistic-regression-models-using-python-and-scikit", "title": "How to combine two logistic regression models using python and scikit?", "body": "<p>I'm a Python and a Scikit newbie.\nI have two Logistic Regression models created with Scikit and I want to combine them to obtain a new model.\nIn my mind is something like that:</p>\n\n<pre><code>clf1 = LogisticRegression()\nclf1.fit(X_set, Y_set)\nclf2 = LogisticRegression()\nclf2.fit(X_set, Y_set)\ncombined_clf = clf1 + clf2\n</code></pre>\n\n<p>But I don't know how to do that.\nThanks in advance to all.</p>\n"}, {"tags": ["python", "python-3.x", "numpy"], "comments": [{"owner": {"reputation": 2749, "user_id": 6066528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/269311b2d12b388718e754c27680e69f?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Becker", "link": "https://stackoverflow.com/users/6066528/nick-becker"}, "edited": false, "score": 0, "creation_date": 1485381577, "post_id": 41862119, "comment_id": 70908621, "body": "Can you provide a reproducible example that causes this error?"}, {"owner": {"reputation": 2749, "user_id": 6066528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/269311b2d12b388718e754c27680e69f?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Becker", "link": "https://stackoverflow.com/users/6066528/nick-becker"}, "edited": false, "score": 0, "creation_date": 1485381681, "post_id": 41862119, "comment_id": 70908681, "body": "Do you see why that example isn&#39;t reproducible? For the sake time, what&#39;s the output of <code>expanded_images[0].shape</code>? Arrays can have multiple dimensions."}, {"owner": {"reputation": 1687, "user_id": 7468566, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef60caa27c17a851340a8710b2c08ee9?s=128&d=identicon&r=PG&f=1", "display_name": "itstoocold", "link": "https://stackoverflow.com/users/7468566/itstoocold"}, "reply_to_user": {"reputation": 2749, "user_id": 6066528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/269311b2d12b388718e754c27680e69f?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Becker", "link": "https://stackoverflow.com/users/6066528/nick-becker"}, "edited": false, "score": 0, "creation_date": 1485381853, "post_id": 41862119, "comment_id": 70908745, "body": "The output is (240, 215, 3)."}, {"owner": {"reputation": 2749, "user_id": 6066528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/269311b2d12b388718e754c27680e69f?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Becker", "link": "https://stackoverflow.com/users/6066528/nick-becker"}, "edited": false, "score": 4, "creation_date": 1485381893, "post_id": 41862119, "comment_id": 70908764, "body": "Think about how many elements you have in that array. Then think about whether you can have all of those in a <code>(3, 80)</code> array."}], "answers": [{"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 1, "last_activity_date": 1485390525, "creation_date": 1485390525, "answer_id": 41864156, "question_id": 41862119, "link": "https://stackoverflow.com/questions/41862119/np-reshape-returns-error-valueerror-total-size-of-new-array-must-be-unchanged/41864156#41864156", "title": "np.reshape returns error &#39;ValueError: total size of new array must be unchanged&#39;", "body": "<p>You said you have additional dimensions in your array so you need to keep them:</p>\n\n<pre><code>&gt;&gt;&gt; arr = np.random.random((240, 215, 3))\n&gt;&gt;&gt; reshaped = np.reshape(arr, (3, 80, arr.shape[1], arr.shape[2]))\n&gt;&gt;&gt; reshaped.shape\n(3, 80, 215, 3)\n</code></pre>\n\n<p>or using unpacking to avoid hardcoding the dimensions:</p>\n\n<pre><code>&gt;&gt;&gt; reshaped = np.reshape(arr, (3, 80, *arr.shape[1:]))\n(3, 80, 215, 3)\n</code></pre>\n\n<p>If you want the last dimension to be ravelled then you could also use <code>-1</code> as last axis in your reshape:</p>\n\n<pre><code>&gt;&gt;&gt; reshaped_ravel = np.reshape(arr, (3, 80, -1))\n&gt;&gt;&gt; reshaped_ravel.shape\n(3, 80, 645)\n</code></pre>\n"}], "owner": {"reputation": 1687, "user_id": 7468566, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ef60caa27c17a851340a8710b2c08ee9?s=128&d=identicon&r=PG&f=1", "display_name": "itstoocold", "link": "https://stackoverflow.com/users/7468566/itstoocold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5495, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1485390686, "creation_date": 1485380335, "last_edit_date": 1485390686, "question_id": 41862119, "link": "https://stackoverflow.com/questions/41862119/np-reshape-returns-error-valueerror-total-size-of-new-array-must-be-unchanged", "title": "np.reshape returns error &#39;ValueError: total size of new array must be unchanged&#39;", "body": "<p>The array that I'm trying to enter has length 240. </p>\n\n<p>I've tried:</p>\n\n<pre><code>r = np.reshape(array, (3, 80))\n</code></pre>\n\n<p>because I read somewhere else on this site that the rows and columns entered into reshape have to multiply to the array length.</p>\n\n<p>However, I'm still getting the error:</p>\n\n<blockquote>\n  <p>ValueError: total size of new array must be unchanged</p>\n</blockquote>\n"}, {"tags": ["python", "list", "duplicates"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485380337, "post_id": 41862084, "comment_id": 70907992, "body": "why does <code>[&#39;okay&#39;]</code> disappear from your final list?"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 1, "creation_date": 1485380448, "post_id": 41862084, "comment_id": 70908045, "body": "Perhaps start with the <code>list</code> section of a python tutorial? (Not trying to be dismissive, but it appears you&#39;re getting stuck on very rudimentary operations, and SO isn&#39;t best suited for that kind of question.)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1485380571, "post_id": 41862084, "comment_id": 70908101, "body": "I don&#39;t mind answering simple questions with nice oneliners and get a ton of upvotes from it, but here it&#39;s just unclear."}], "answers": [{"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1485380728, "creation_date": 1485380728, "answer_id": 41862203, "question_id": 41862084, "link": "https://stackoverflow.com/questions/41862084/replacing-one-specific-duplicate-in-list-of-duplicates-in-python/41862203#41862203", "title": "Replacing ONE specific duplicate in list of duplicates in python", "body": "<pre><code>def see_two_end(l, stop_word, new_word):\n    count = 0\n    for sublist in l:\n        if sublist[0] == stop_word:\n            count += 1\n        if count &gt; 1:\n            break\n        yield sublist\n    yield [new_word]\n\nl = [['I'], ['like'], ['candy'], ['end'], ['do'], ['you'], ['end'], ['okay'], ['end']]\n\nnewlist = list(see_two_end(l, 'end', 'new_word'))\n#[['I'], ['like'], ['candy'], ['end'], ['do'], ['you'], ['new_word']]\n</code></pre>\n\n<p>You could easily make <code>see_two_end</code> a function that returns a list of lists instead of a generator, if you perfer.</p>\n"}], "owner": {"reputation": 1, "user_id": 7421875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/506700a638315cd7a3463532a99ecc2f?s=128&d=identicon&r=PG&f=1", "display_name": "saturnus", "link": "https://stackoverflow.com/users/7421875/saturnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1485380728, "creation_date": 1485380149, "last_edit_date": 1485380637, "question_id": 41862084, "link": "https://stackoverflow.com/questions/41862084/replacing-one-specific-duplicate-in-list-of-duplicates-in-python", "title": "Replacing ONE specific duplicate in list of duplicates in python", "body": "<p>I have a list of lists of words, some of which are duplicates.</p>\n\n<pre><code>L = [['I'], ['like'], ['candy'], ['end'], ['do'], ['you'], ['end'], ['okay'], ['end']]\n</code></pre>\n\n<p>What I am trying to do is to shorten the list so that it ends after the first ['end']. I have tried to find the index of the second ['end'] and replacing it with another word, and then telling the program to only print out the list until the index of that word. </p>\n\n<p>So the output should be:</p>\n\n<pre><code>L = [['I'], ['like'], ['candy'], ['end'], ['do'], ['you'], ['new_word']]\n</code></pre>\n\n<p>How do I change one of these duplicate words? I have tried the <code>str.replace()</code> method and referring to the specific duplicate with its index, but that changes all of the duplicates. What should I do? This is my first major project in python, so I'm a beginner.</p>\n"}, {"tags": ["python", "node.js", "sqlite", "express"], "comments": [{"owner": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "edited": false, "score": 1, "creation_date": 1485382217, "post_id": 41862075, "comment_id": 70908916, "body": "It works just fine with sleep... but you need to import it properly at the top of your python script <code>from time import sleep</code> if you run your script or check the stderr you would see this <code>NameError: name &#39;sleep&#39; is not defined</code>, also the exit code <code>1</code> means there is an error. It&#39;s possible there is also an error in your sqlite python script that you aren&#39;t seeing because you aren&#39;t checking stderr. You will be able to tell very quickly if the <code>code</code> sent in the <code>close</code> event is <code>1</code>. Make sure your python script actually works first before blaming node!"}, {"owner": {"reputation": 2817, "user_id": 767676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/njYjc.jpg?s=128&g=1", "display_name": "Acapulco", "link": "https://stackoverflow.com/users/767676/acapulco"}, "reply_to_user": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "edited": false, "score": 0, "creation_date": 1485385684, "post_id": 41862075, "comment_id": 70910418, "body": "Aha, nice catch!. It seems you are right. However it does not work with the sqlite python script even though there are no errors in it. If I run it directly in the console it does work as expected. But as soon as I call it from inside node it fails. Btw, I&#39;m definitely not blaming node, more like blaming myself for missing something :) Thanks for the comment though."}], "answers": [{"tags": [], "owner": {"reputation": 2817, "user_id": 767676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/njYjc.jpg?s=128&g=1", "display_name": "Acapulco", "link": "https://stackoverflow.com/users/767676/acapulco"}, "is_accepted": true, "score": 0, "last_activity_date": 1485387168, "last_edit_date": 1485387168, "creation_date": 1485386392, "answer_id": 41863488, "question_id": 41862075, "link": "https://stackoverflow.com/questions/41862075/express-closes-the-request-when-spawned-python-script-sleeps/41863488#41863488", "title": "Express closes the request when spawned Python script sleeps", "body": "<p>As it turns out AllTheTime was indeed correct.</p>\n\n<p>The problem was that in my python script I was loading a config.json file, which was loaded correctly when called from the console because the path was relative to the script.</p>\n\n<p>However when calling it from node, the relative path was no longer correct.</p>\n\n<p>After fixing the path it worked exactly as expected.</p>\n"}], "owner": {"reputation": 2817, "user_id": 767676, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/njYjc.jpg?s=128&g=1", "display_name": "Acapulco", "link": "https://stackoverflow.com/users/767676/acapulco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 41863488, "answer_count": 1, "score": 0, "last_activity_date": 1485387168, "creation_date": 1485380114, "last_edit_date": 1485385869, "question_id": 41862075, "link": "https://stackoverflow.com/questions/41862075/express-closes-the-request-when-spawned-python-script-sleeps", "title": "Express closes the request when spawned Python script sleeps", "body": "<p><strong>Original problem</strong></p>\n\n<p>I am creating an API using express that queries a sqlite DB and outputs the result as a PDF using html-pdf module.</p>\n\n<p>The problem is that certain queries might take a long time to process and thus would like to de-couple the actual query call from the node server where express is running, otherwise the API might slow down if several clients are running heavy queries.</p>\n\n<p>My idea to solve this was to decouple the execution of the sqlite query and instead run that on a python script. This script can then be called from the API and thus avoid using node to query the DB.</p>\n\n<p><strong>Current problem</strong></p>\n\n<p>After quickly creating a python script that runs a sqlite query, and calling that from my API using <code>child_process.spawn()</code>, I found out that express seems to get an exit code signal as soon as the python script starts to execute the query.</p>\n\n<p>To confirm this, I created a simple python script that just sleeps in between printing two messages and the problem was isolated.</p>\n\n<p>To reproduce this behavior you can create a python script like this:</p>\n\n<pre><code>print(\"test 1\")\nsleep(1)\nprint(\"test 2)\n</code></pre>\n\n<p>Then call it from express like this:</p>\n\n<pre><code>router.get('/async', function(req, res, next) {\n    var python = child_process.spawn([\n        'python3'\n    );\n    var output = \"\";\n    python.stdout.on('data', function(data){ \n        output += data\n        console.log(output)\n    });\n\n    python.on('close', function(code){ \n        if (code !== 0) {  \n          return res.status(200).send(code) \n        }\n        return res.status(200).send(output)\n    });\n});\n</code></pre>\n\n<p>If you then run the express server and do a <code>GET /async</code> you will get a \"1\" as the exit code.</p>\n\n<p>However if you comment the <code>sleep(1)</code> line, the server successfully returns </p>\n\n<pre><code>test 1\ntest 2\n</code></pre>\n\n<p>as the response.</p>\n\n<p>You can even trigger this using <code>sleep(0)</code>.</p>\n\n<p>I have tried <a href=\"https://stackoverflow.com/questions/16873116/sending-serial-data-from-python-script-to-node-script?noredirect=1&amp;lq=1\">flushing the stdout</a> before the sleep, I have also <a href=\"https://stackoverflow.com/questions/20792427/why-is-my-node-child-process-that-i-created-via-spawn-hanging?rq=1\">tried piping the result</a> instead of using <code>.on('close')</code> and I have also tried using <code>-u</code> option when calling python (to use unbuffered streams).</p>\n\n<p>None of this has worked, so I'm guessing there's some mechanism baked into express that closes the request as soon as the spawned process sleeps OR finishes (instead of only when finishing).</p>\n\n<p>I also <a href=\"https://stackoverflow.com/questions/10870048/spawning-child-processes-in-an-express-server\">found this answer related to using child_process.fork()</a> but I'm not sure if this would have a different behavior or not and <a href=\"https://stackoverflow.com/questions/32485674/nodejs-child-process-spawn-calling-python-script-with-sleep\">this one is very similar to my issue but has no answer</a>.</p>\n\n<p><strong>Main question</strong></p>\n\n<p>So my question is, why does the python script send an exit signal when doing a sleep() (or in the case of my query script when running <code>cursor.execute(query)</code>)?</p>\n\n<p>If my supposition is correct that express closes the request when a spawned process sleeps, is this avoidable?</p>\n\n<p>One potential solution I found <a href=\"http://www.zerorpc.io/\" rel=\"nofollow noreferrer\">suggested the use of ZeroRPC</a>, but I don't see how that would make express keep the connection open.</p>\n\n<p>The only other option I can think of is <a href=\"https://github.com/Automattic/kue\" rel=\"nofollow noreferrer\">using something like Kue</a> so that my express API will only need to respond with some sort of job ID, and then Kue will actually spawn the python script and wait for its response, so that I can query the result via some other API endpoint.</p>\n\n<p>Is there something I'm missing?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>AllTheTime's comment is correct regarding the sleep issue. After I added <code>from time import sleep</code> it worked. However my sqlite script is not working yet. </p>\n"}, {"tags": ["python", "python-2.7", "numpy", "image-processing", "optimization"], "comments": [{"owner": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "edited": false, "score": 0, "creation_date": 1485381113, "post_id": 41862061, "comment_id": 70908387, "body": "This is going to be hard to test without the full code. Is it prohibitively long? I see multiple things going on here, three nested for loops, append operations being called over an over, sorting and finally its not C"}, {"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "reply_to_user": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "edited": false, "score": 0, "creation_date": 1485381314, "post_id": 41862061, "comment_id": 70908480, "body": "@MS-DDOS That is pretty much the full code. I think the probably the only thing referenced that&#39;s needed and not provided is the &#39;NES&#39; list. I&#39;ll add that now."}, {"owner": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "edited": false, "score": 0, "creation_date": 1485382022, "post_id": 41862061, "comment_id": 70908830, "body": "Thanks that should help. But I&#39;m really curious about the member data such as <code>self.i</code> and <code>self.pix</code>, what are their types? Are you using any library or is this just pure python?"}, {"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "reply_to_user": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "edited": false, "score": 0, "creation_date": 1485382345, "post_id": 41862061, "comment_id": 70908978, "body": "@MS-DDOS I have edited the post to show the code for loading the image in. I&#39;m using PIL (Pillow) currently for loading in the images."}, {"owner": {"reputation": 20484, "user_id": 521776, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/60dd3c3417791c535860abc76ec01f28?s=128&d=identicon&r=PG", "display_name": "BlackBear", "link": "https://stackoverflow.com/users/521776/blackbear"}, "edited": false, "score": 0, "creation_date": 1485382556, "post_id": 41862061, "comment_id": 70909089, "body": "You could organize your points in an octree <a href=\"https://en.wikipedia.org/wiki/Octree\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Octree</a>. Also see <a href=\"http://stackoverflow.com/questions/3962775/how-to-efficiently-find-k-nearest-neighbours-in-high-dimensional-data\" title=\"how to efficiently find k nearest neighbours in high dimensional data\">stackoverflow.com/questions/3962775/&hellip;</a>"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1485426475, "post_id": 41862061, "comment_id": 70924679, "body": "see related QAs: <a href=\"http://stackoverflow.com/a/30265253/2521214\">Effective gif/image color quantization?</a> and <a href=\"http://stackoverflow.com/a/36820654/2521214\">Converting BMP image to set of instructions for a plotter?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485381435, "post_id": 41862338, "comment_id": 70908538, "body": "Can you think of any methods that don&#39;t involve scipy? I know it&#39;s a pain to install."}, {"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485382009, "post_id": 41862338, "comment_id": 70908821, "body": "Regarding approach #2 -- looking into broadcasting, this seems like a good plan. In what way will I need the image to be inputted to use this method? Currently I am storing it as a PIL RGB Image. I will add the current code for loading in the image for you to see."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485382345, "post_id": 41862338, "comment_id": 70908979, "body": "@WORD_559 Guess you could do : <code>np.asarray(PIL.Image.open(&#39;pic1.jpg&#39;))</code> to get <code>pix</code>as NumPy array, where <code>pic1.jpg</code> is the input filename and for <code>colours</code>: colours = np.asarray(NES)?"}, {"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485382583, "post_id": 41862338, "comment_id": 70909103, "body": "<code>colours</code> is just an array containing the RGB values of the NES&#39;s palette. Would <code>np.asarray(NES)</code> work with your code or would I have to modify it a bit more?"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485382621, "post_id": 41862338, "comment_id": 70909128, "body": "@WORD_559 Yes <code>np.asarray(NES)</code> for <code>colours</code> should work."}, {"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485383031, "post_id": 41862338, "comment_id": 70909326, "body": "How would I then convert the numpy array back into a PIL Image? I have tried <code>i = Image.fromarray(out,&#39;RGB&#39;)</code> but that just produces noise. Sorry, I&#39;ve never really used numpy arrays before, especially not with images."}, {"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485383475, "post_id": 41862338, "comment_id": 70909532, "body": "I&#39;ve uploaded the output of <code>i = Image.fromarray(out,&#39;RGB&#39;)</code> to <a href=\"http://i.imgur.com/hxZ7RKd.png\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485383624, "post_id": 41862338, "comment_id": 70909595, "body": "@WORD_559 Use <code>Image.fromarray(out.astype(&#39;uint8&#39;),&#39;RGB&#39;)</code>. Added a section on those interfacing issues."}, {"owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "edited": false, "score": 0, "creation_date": 1485383713, "post_id": 41862338, "comment_id": 70909648, "body": "Nevermind! Got it! <code>i = Image.fromarray(np.uint8(self.numpy_out))</code> seems to do the job fine. Thanks so much for your help, marking as answer."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 3, "last_activity_date": 1485383789, "last_edit_date": 1485383789, "creation_date": 1485381206, "answer_id": 41862338, "question_id": 41862061, "link": "https://stackoverflow.com/questions/41862061/fastest-way-to-find-difference-between-image-pixel-and-palette-colour-in-python/41862338#41862338", "title": "Fastest way to find difference between image pixel and palette colour in Python", "body": "<p><strong>Approach #1 :</strong> We could use <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.cdist.html\" rel=\"nofollow noreferrer\"><code>Scipy's cdist</code></a> to get the euclidean distances and then look for the min distance arg and thus select the appropriate colour.</p>\n\n<p>Thus, with NumPy arrays as the inputs, we would have an implementation like so -</p>\n\n<pre><code>from scipy.spatial.distance import cdist\n\nout = colours[cdist(pix.reshape(-1,3),colours).argmin(1)].reshape(pix.shape)\n</code></pre>\n\n<hr>\n\n<p><strong>Approach #2 :</strong> Here's another approach with <a href=\"https://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"nofollow noreferrer\"><code>broadcasting</code></a> and <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.einsum.html\" rel=\"nofollow noreferrer\"><code>np.einsum</code></a> -</p>\n\n<pre><code>subs = pix - colours[:,None,None]\nout = colours[np.einsum('ijkl,ijkl-&gt;ijk',subs,subs).argmin(0)]\n</code></pre>\n\n<hr>\n\n<p><strong>Interfacing between PIL/lists and NumPy arrays</strong></p>\n\n<p>To accept images read through PIL, use :</p>\n\n<pre><code>pix = np.asarray(Image.open('input_filename'))\n</code></pre>\n\n<p>To Use <code>colours</code> as array :</p>\n\n<pre><code>colours = np.asarray(NES)\n\n# .... Use one of the listed approaches and get out as output array\n</code></pre>\n\n<p>To output the image :</p>\n\n<pre><code>i = Image.fromarray(out.astype('uint8'),'RGB')\ni.save(\"output_filename\")\n</code></pre>\n\n<p>Sample input, output using given colour palette <code>NES</code>  -</p>\n\n<p><a href=\"https://i.stack.imgur.com/1MIkZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1MIkZ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/qKIp7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKIp7.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 301, "user_id": 7471232, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3a3f152521abb97f1cbd9990d77ec4d9?s=128&d=identicon&r=PG&f=1", "display_name": "WORD_559", "link": "https://stackoverflow.com/users/7471232/word-559"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 1, "accepted_answer_id": 41862338, "answer_count": 1, "score": 3, "last_activity_date": 1485426368, "creation_date": 1485380043, "last_edit_date": 1485426368, "question_id": 41862061, "link": "https://stackoverflow.com/questions/41862061/fastest-way-to-find-difference-between-image-pixel-and-palette-colour-in-python", "title": "Fastest way to find difference between image pixel and palette colour in Python", "body": "<p>I am working on some code for converting an image to the palette of the NES. My current code is somewhat successful, but very very slow.</p>\n\n<p>I am doing it by using Pythagoras' theorem. I'm using the RGB colour values as coordinates in 3D space and doing it that way. The colour in the palette with the smallest distance from the pixel's RGB is the colour that gets used.</p>\n\n<pre><code>class image_filter():\n    def load(self,path):\n        self.i = Image.open(path)\n        self.i = self.i.convert(\"RGB\")\n        self.pix = self.i.load()\n\n    def colour_filter(self,colours=NES):\n        start = time.time()\n        for y in range(self.i.size[1]):\n            for x in range(self.i.size[0]):\n                pixel = list(self.pix[x,y])\n                distances = []\n                for colour in colours:\n                    distance = ((colour[0]-pixel[0])**2)+((colour[1]-pixel[1])**2)+((colour[2]-pixel[2])**2)\n                    distances.append(distance)\n                pixel = colours[distances.index(sorted(distances,key=lambda x:x)[0])]\n                self.pix[x,y] = tuple(pixel)\n        print \"Took \"+str(time.time()-start)+\" seconds.\"\n\nf = image_filter()\nf.load(\"C:\\\\path\\\\to\\\\image.png\")\nf.colour_filter()\nf.i.save(\"C:\\\\path\\\\to\\\\new\\\\image.png\")\n</code></pre>\n\n<p>Using the list:</p>\n\n<pre><code>NES = [(124,124,124),(0,0,252),\n           (0,0,188),(68,40,188),\n           (148,0,132),(168,0,32),\n           (168,16,0),(136,20,0),\n           (80,48,0),(0,120,0),\n           (0,104,0),(0,88,0),\n           (0,64,88),(0,0,0),\n           (188,188,188),(0,120,248),\n           (0,88,248),(104,68,252),\n           (216,0,204),(228,0,88),\n           (248,56,0),(228,92,16),\n           (172,124,0),(0,184,0),\n           (0,168,0),(0,168,68),\n           (0,136,136),(248,248,248),\n           (60,188,252),(104,136,252),\n           (152,120,248),\n           (248,120,248),(248,88,152),\n           (248,120,88),(252,160,68),\n           (184,248,24),(88,216,84),\n           (88,248,152),(0,232,216),\n           (120,120,120),(252,252,252),(164,228,252),\n           (184,184,248),(216,184,248),\n           (248,184,248),(248,164,192),\n           (240,208,176),(252,224,168),\n           (248,216,120),(216,248,120),\n           (184,248,184),(184,248,216),\n           (0,252,252),(216,216,216)]\n</code></pre>\n\n<p>This produces the following Input:</p>\n\n<p><img src=\"https://i.stack.imgur.com/H60Mr.png\" alt=\"img\"></p>\n\n<p>and Output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/uZRP7.png\" alt=\"img\"></p>\n\n<p>This takes between 14 and 20 seconds, which is much too long for its intended application. Does anyone know of any ways to greatly speed this up? </p>\n\n<p>As an idea, I was thinking it may be possible to use numpy arrays for this; however I am not at all familiar enough with numpy arrays to be able to pull it off.</p>\n\n<p>If possible, I would also like to try avoiding using scipy -- I know that, at least under Windows, it can be a pain to install and would prefer to steer clear.</p>\n"}, {"tags": ["python", "sql-server", "pandas", "xml-parsing"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7471150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/409d1a87badc1f1c8b2ceb6a9184d81c?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Kenton", "link": "https://stackoverflow.com/users/7471150/mark-kenton"}, "edited": false, "score": 0, "creation_date": 1485441507, "post_id": 41862267, "comment_id": 70933459, "body": "Thanks - that works to give me a one column dataframe with the xml columns from SQL Server now a pandas column. But how do I parse with lxml ?"}, {"owner": {"reputation": 419, "user_id": 5302826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1277b37f3d452181c3c282b04144e9e?s=128&d=identicon&r=PG&f=1", "display_name": "walker_4", "link": "https://stackoverflow.com/users/5302826/walker-4"}, "reply_to_user": {"reputation": 1, "user_id": 7471150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/409d1a87badc1f1c8b2ceb6a9184d81c?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Kenton", "link": "https://stackoverflow.com/users/7471150/mark-kenton"}, "edited": false, "score": 0, "creation_date": 1485450662, "post_id": 41862267, "comment_id": 70940096, "body": "Would you be able to provide an example of what your  current one column dataframe looks like and what output you hope to receive?"}], "tags": [], "owner": {"reputation": 419, "user_id": 5302826, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1277b37f3d452181c3c282b04144e9e?s=128&d=identicon&r=PG&f=1", "display_name": "walker_4", "link": "https://stackoverflow.com/users/5302826/walker-4"}, "is_accepted": false, "score": 0, "last_activity_date": 1485380961, "creation_date": 1485380961, "answer_id": 41862267, "question_id": 41862048, "link": "https://stackoverflow.com/questions/41862048/parse-xml-column-in-sql-server-to-python-pandas/41862267#41862267", "title": "parse xml column in sql server to python pandas", "body": "<p>Would read_sql work for you? <a href=\"http://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.read_sql.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/version/0.19.2/generated/pandas.read_sql.html</a></p>\n\n<p>try: </p>\n\n<pre><code>df = pd.read_sql(yoursqlstring, cnxn)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7471150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/409d1a87badc1f1c8b2ceb6a9184d81c?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Kenton", "link": "https://stackoverflow.com/users/7471150/mark-kenton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 609, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1485380961, "creation_date": 1485379988, "question_id": 41862048, "link": "https://stackoverflow.com/questions/41862048/parse-xml-column-in-sql-server-to-python-pandas", "title": "parse xml column in sql server to python pandas", "body": "<p>I want to parse an xml column in a MS SQL Server table into a pandas dataframe.</p>\n\n<p>I can get some of the way there.</p>\n\n<p>I can create a connection object to SQL Server</p>\n\n<pre><code>import pyodbc\nfrom lxml import etree\n\nconn_str = (\nr'Driver={SQL Server};'\nr'Server=.\\SQLEXPRESS;'\nr'Database=myDB;'\nr'Trusted_Connection=yes;'\n)\ncnxn = pyodbc.connect(conn_str)\n</code></pre>\n\n<p>I now want to iterate over a row object (from a cursor?) and use lxml to parse each line one at a time and append to a dataframe in pandas.\nI can't get parse to iterate over rows? Maybe this is the wrong approach?</p>\n\n<pre><code>  tree = etree.parse(row)\n</code></pre>\n\n<p>doesn't work. </p>\n\n<p>Then I think I need to build a dictionary of parsed elements similar to below</p>\n\n<pre><code>root = tree.getroot()\n\n\n# Parse out data from XML\ndata = []\nfor child in root:\n    datarow = {}\n    for leaf in child:\n        datarow[leaf.tag] = leaf.text\n    data.append(datarow)\n</code></pre>\n\n<p>And then finally convert the dictionary to a pandas dataframe.\nCrucially I don't want to have to know the xml structure in advance. \nThese are my thoughts, but if there is a better way please tell me.\nAny help really appreciated.</p>\n"}, {"tags": ["python", "c", "forward-declaration", "python-extensions"], "answers": [{"comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1485481182, "post_id": 41870223, "comment_id": 70954073, "body": "This file (as all others) should compile, <i>OOTB</i>.  I&#39;ve tried a couple of  combinations (<i>VC2k10</i> vs <i>Py27</i> as an eg.), but wasn&#39;t able to reproduce the issue. You should probably (look for dups), and close the issue. <b>Anyway , I don&#39;t see this as a solution.</b>"}, {"owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1485940242, "post_id": 41870223, "comment_id": 71129315, "body": "In Visual Studio 2013, you can&#39;t define a static variable twice. staticforward and statichere were both defiend as &quot;static&quot; so in fact, the error is legit. Changing staticforward to <code>extern</code> tells the compiler that the variable will be defined later."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1486087101, "post_id": 41870223, "comment_id": 71206180, "body": "<i>&quot;In Visual Studio 2013, you can&#39;t define a static variable twice. staticforward and statichere were both defeend as &#39;static&#39; so in fact, the error is legit&quot;</i>. This couldn&#39;t be more <b>wrong</b>. In any <i>VStudio</i> (or any <i>VS</i>, or <i>C</i>) compiler version, <code>static</code> means that the varables are only visible in the complation unit (<i>c</i> / <i>c++</i> file). Please check the internet (<i>Google</i>, <i>MSDN</i>, <i>Wiki</i> ,... and tons of others) for details."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1486087109, "post_id": 41870223, "comment_id": 71206185, "body": "It&#39;s kind of hillarous that (you think that) a whole community did such a mistake (naming <code>staticforward</code>(<code>staic</code>) but meaning <code>extern</code>) and in 2017 <b>you</b>  were the one who found it. BTW, on my box, <i>Py2.7.10</i> compiles <i>OOTB</i> using <i>VS2k13</i>....now, the question: what did you do to <i>subprocess.c</i> (or one of the headers included) to mess things up so bad?"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1489110671, "post_id": 41870223, "comment_id": 72539315, "body": "What were you really trying to do?"}, {"owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1489239468, "post_id": 41870223, "comment_id": 72589758, "body": "@CristiFati I extended the subrocess module to support spawning processes with a given NUMA node and affinity mask (like in the windows &#39;start&#39; command)."}], "tags": [], "owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "is_accepted": false, "score": -1, "last_activity_date": 1485422520, "creation_date": 1485422520, "answer_id": 41870223, "question_id": 41862030, "link": "https://stackoverflow.com/questions/41862030/python-extensions-with-c-staticforward/41870223#41870223", "title": "Python extensions with C: staticforward", "body": "<p>Ok I found an answer.</p>\n\n<p>It turns out that the definition of <code>staticforward</code> should have been <code>extern</code> instead of <code>static</code>. My compiler didn't know how to handle it. I guess in other compilers it works ok.</p>\n"}, {"comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1516755579, "post_id": 42793268, "comment_id": 83816462, "body": "Does this qualify as an answer to your question?"}], "tags": [], "owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "is_accepted": false, "score": 1, "last_activity_date": 1567502500, "last_edit_date": 1567502500, "creation_date": 1489514207, "answer_id": 42793268, "question_id": 41862030, "link": "https://stackoverflow.com/questions/41862030/python-extensions-with-c-staticforward/42793268#42793268", "title": "Python extensions with C: staticforward", "body": "<p><strong>Notes</strong>:</p>\n\n<ul>\n<li>I'm talking about <em>Python 2.7</em> here (since in newer versions, the <em>subprocess</em> module no longer has an own <em>C</em> implementation for <em>Win</em>)</li>\n<li><em>Python 2.7</em> is built (officially) using <em>VStudio2008 (9.0)</em> according to <a href=\"https://wiki.python.org/moin/WindowsCompilers\" rel=\"nofollow noreferrer\">[Python.Wiki]: WindowsCompilers</a>. Building it with a newer (or better: different) version, might yield some other (and harder to find) errors. For example, when I built it with <em>VStudio 2010 (10.0)</em> (I used the built version to run a complex set of (<em>.py*</em>) scripts), I had some trouble at <em>runtime</em> when encountering socket related errors because of some mismatches between <em>errno</em> and <em>WSA*</em> codes, that were changed between the 2 versions</li>\n</ul>\n\n<p>When I tested, I couldn't understand why you encountered the issue and I didn't, then for a while I forgot about it, then when you posted the last comment, it started eating me alive again. As I said I was able to successfully compile the file using <em>VStudio 2010 / 2013</em>.</p>\n\n<p>Trying to compile the same (this was only an assumption) code with different results -> the <em>way</em> that code is compiled might differ. Therefore, I started investigating for other possible definition places for <em>staticforward</em> and <em>statichere</em> (besides lines <em>878</em> / <em>879</em> of <em>object.h</em>) due to conditional macros: <strong><em>#if</em></strong>, <strong><em>#ifdef</em></strong>, ... . But, I couldn't find any. So, I added some simpler statements:</p>\n\n\n\n<pre class=\"lang-c prettyprint-override\"><code>staticforward int i;\nstatichere int i = 2;\n</code></pre>\n\n<p>then, I manually replaced the defines:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>static int i;\nstatic int i = 2;\n</code></pre>\n\n<p>in <em>_subprocess.c</em> (by coincidence, I added them at line <em>#137</em> - just before <code>statichere PyTypeObject sp_handle_type = {</code> - fact that prevented me to figure out the problem at this point), and it still compiled!!!</p>\n\n<p>Next step, I pasted the above lines in another solution that I had open (in a <em>.cpp</em> source file), and I was able to reproduce the error. So, I payed more attention to the compiler flags (I copy/pasted from the <em>x86 Debug</em> settings of the projects automatically converted by <em>VStudio</em> from the ones found in the <em>PCbuild</em> folder):</p>\n\n\n\n<ul>\n<li><p><em>VStudio 2013</em></p>\n\n<blockquote>\n<pre class=\"lang-bat prettyprint-override\"><code>/GS\n/analyze-\n/W3\n/Gy\n/Zc:wchar_t\n/I\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\Python\"\n/I\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\Modules\\zlib\"\n/I\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\Include\"\n/I\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\PC\"\n/Zi\n/Gm-\n/Od\n/Fd\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\PCbuild\\obj\\win32_Debug\\pythoncore\\vc120.pdb\"\n/fp:precise\n/D \"_USRDLL\"\n/D \"Py_BUILD_CORE\"\n/D \"Py_ENABLE_SHARED\"\n/D \"MS_DLL_ID=\\\"2.7-32\\\"\"\n/D \"WIN32\"\n/D \"_WIN32\"\n/D \"_DEBUG\"\n/D \"_WINDLL\"\n/errorReport:prompt\n/GF\n/WX-\n/Zc:forScope\n/Gd\n/Oy-\n/Oi\n/MDd\n/Fa\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\PCbuild\\obj\\win32_Debug\\pythoncore\\\"\n/nologo\n/Fo\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\PCbuild\\obj\\win32_Debug\\pythoncore\\\"\n/Fp\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.11-vs2k13\\PCbuild\\obj\\win32_Debug\\pythoncore\\python27_d.pch\"\n</code></pre>\n</blockquote></li>\n<li><p><em>VStudio 2010</em></p>\n\n<blockquote>\n<pre class=\"lang-bat prettyprint-override\"><code>/I\"..\\Python\"\n/I\"..\\Modules\\zlib\"\n/I\"..\\Include\"\n/I\"..\\PC\"\n/Zi\n/nologo\n/W3\n/WX-\n/Od\n/Oy-\n/D \"_USRDLL\"\n/D \"Py_BUILD_CORE\"\n/D \"Py_ENABLE_SHARED\"\n/D \"WIN32\"\n/D \"_DEBUG\"\n/D \"_WIN32\"\n/D \"_WINDLL\"\n/GF\n/Gm-\n/MDd\n/GS\n/Gy\n/fp:precise\n/Zc:wchar_t\n/Zc:forScope\n/Fp\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.10-vcbuild\\PCbuild\\Win32-temp-Debug\\pythoncore\\pythoncore.pch\"\n/Fa\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.10-vcbuild\\PCbuild\\Win32-temp-Debug\\pythoncore\\\"\n/Fo\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.10-vcbuild\\PCbuild\\Win32-temp-Debug\\pythoncore\\\"\n/Fd\"E:\\Work\\Dev\\Fati\\WinBuild\\OPSWpython27\\src\\Python-2.7.10-vcbuild\\PCbuild\\Win32-temp-Debug\\pythoncore\\vc100.pdb\"\n/Gd\n/analyze-\n/errorReport:queue\n</code></pre>\n</blockquote></li>\n</ul>\n\n<p>and then it struck me: It's the <strong>way of how the file is compiled: <em>C</em> vs. <em>C++</em></strong> (the <a href=\"https://docs.microsoft.com/en-us/previous-versions/visualstudio/visual-studio-2013/032xwy55(v=vs.120)\" rel=\"nofollow noreferrer\">[MS.Docs]: /Tc, /Tp, /TC, /TP (Specify Source File Type)</a> flag). Of course, compiling <em>_subprocess.c</em> as <em>C++</em> would spit your error.</p>\n\n<p>Check <a href=\"https://stackoverflow.com/questions/41918914/creating-a-dynamically-allocated-struct-with-a-2d-dynamically-allocated-string/41922266#41922266\">[SO]: Creating a dynamically allocated struct with a 2D dynamically allocated string (@CristiFati's answer)</a>, for (a little bit) more details, and how the same mistake triggered very different errors.</p>\n"}], "owner": {"reputation": 380, "user_id": 5372734, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ef6cd95ba4f4f1188b57ca636f8e4591?s=128&d=identicon&r=PG&f=1", "display_name": "Omer", "link": "https://stackoverflow.com/users/5372734/omer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1567502500, "creation_date": 1485379911, "question_id": 41862030, "link": "https://stackoverflow.com/questions/41862030/python-extensions-with-c-staticforward", "title": "Python extensions with C: staticforward", "body": "<p>So I needed to use the code of the subprocess module to add some functionality I needed. When I was trying to compile the _subprocess.c file, it gives this error message:</p>\n\n<p><code>Error  1   error C2086: 'PyTypeObject sp_handle_type' : redefinition</code></p>\n\n<p>This is the code part which is relevant from <code>_subprocess.c</code> file:</p>\n\n<pre><code>typedef struct {\n    PyObject_HEAD\n    HANDLE handle;\n} sp_handle_object;\n\nstaticforward PyTypeObject sp_handle_type;\n\nstatic PyObject*\nsp_handle_new(HANDLE handle)\n{\n    sp_handle_object* self;\n\n    self = PyObject_NEW(sp_handle_object, &amp;sp_handle_type);\n    if (self == NULL)\n        return NULL;\n\n    self-&gt;handle = handle;\n\n    return (PyObject*)self;\n}\n\n#if defined(MS_WIN32) &amp;&amp; !defined(MS_WIN64)\n#define HANDLE_TO_PYNUM(handle) PyInt_FromLong((long) handle)\n#define PY_HANDLE_PARAM \"l\"\n#else\n#define HANDLE_TO_PYNUM(handle) PyLong_FromLongLong((long long) handle)\n#define PY_HANDLE_PARAM \"L\"\n#endif\n\nstatic PyObject*\nsp_handle_detach(sp_handle_object* self, PyObject* args)\n{\n    HANDLE handle;\n\n    if (!PyArg_ParseTuple(args, \":Detach\"))\n        return NULL;\n\n    handle = self-&gt;handle;\n\n    self-&gt;handle = INVALID_HANDLE_VALUE;\n\n    /* note: return the current handle, as an integer */\n    return HANDLE_TO_PYNUM(handle);\n}\n\nstatic PyObject*\nsp_handle_close(sp_handle_object* self, PyObject* args)\n{\n    if (!PyArg_ParseTuple(args, \":Close\"))\n        return NULL;\n\n    if (self-&gt;handle != INVALID_HANDLE_VALUE) {\n        CloseHandle(self-&gt;handle);\n        self-&gt;handle = INVALID_HANDLE_VALUE;\n    }\n    Py_INCREF(Py_None);\n    return Py_None;\n}\n\nstatic void\nsp_handle_dealloc(sp_handle_object* self)\n{\n    if (self-&gt;handle != INVALID_HANDLE_VALUE)\n        CloseHandle(self-&gt;handle);\n    PyObject_FREE(self);\n}\n\nstatic PyMethodDef sp_handle_methods[] = {\n    { \"Detach\", (PyCFunction)sp_handle_detach, METH_VARARGS },\n    { \"Close\", (PyCFunction)sp_handle_close, METH_VARARGS },\n    { NULL, NULL }\n};\n\nstatic PyObject*\nsp_handle_getattr(sp_handle_object* self, char* name)\n{\n    return Py_FindMethod(sp_handle_methods, (PyObject*)self, name);\n}\n\nstatic PyObject*\nsp_handle_as_int(sp_handle_object* self)\n{\n    return HANDLE_TO_PYNUM(self-&gt;handle);\n}\n\nstatic PyNumberMethods sp_handle_as_number;\n\nstatichere PyTypeObject sp_handle_type = {\n    PyObject_HEAD_INIT(NULL)\n    0,                                  /*ob_size*/\n    \"_subprocess_handle\", sizeof(sp_handle_object), 0,\n    (destructor)sp_handle_dealloc, /*tp_dealloc*/\n    0, /*tp_print*/\n    (getattrfunc)sp_handle_getattr,/*tp_getattr*/\n    0,                                  /*tp_setattr*/\n    0,                                  /*tp_compare*/\n    0,                                  /*tp_repr*/\n    &amp;sp_handle_as_number,               /*tp_as_number */\n    0,                                  /*tp_as_sequence */\n    0,                                  /*tp_as_mapping */\n    0                                   /*tp_hash*/\n};`\n</code></pre>\n\n<p>Also I've found that:</p>\n\n<pre><code>#define staticforward static\n#define statichere static\n</code></pre>\n\n<p>I don't understand what am I doing wrong. Any help would be appreciated.\nBtw (I'm not sure if it's relevant), I'm using Visual Studio Professional 2013 to compile this file.</p>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1485379721, "post_id": 41861949, "comment_id": 70907707, "body": "Beautiful Soup cannot generate invalid markup, which this is."}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1485379791, "post_id": 41861949, "comment_id": 70907742, "body": "@DanielRoseman could you please explain the meaning of &quot;beverage&quot;? (I&#39;m not native english speaker)"}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1485379887, "post_id": 41861949, "comment_id": 70907778, "body": "Do you mean those tags are invalid? (the tags don&#39;t really matter in the question)"}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "edited": false, "score": 0, "creation_date": 1485435518, "post_id": 41862283, "comment_id": 70929450, "body": "it was a bit more complex since I did not want to change all <code>p</code> into <code>b</code>  but thanks to your help I could figure out the rest of it and write the answer bellow."}], "tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 1, "last_activity_date": 1485545505, "last_edit_date": 1485545505, "creation_date": 1485381001, "answer_id": 41862283, "question_id": 41861949, "link": "https://stackoverflow.com/questions/41861949/beautifulsoup4-replace-a-tag-with-2-others/41862283#41862283", "title": "BeautifulSoup4: replace a tag with 2 others", "body": "<p>Use <code>wrap()</code></p>\n\n<p>From the documentation:</p>\n\n<pre><code>soup = BeautifulSoup(\"&lt;p&gt;I wish I was bold.&lt;/p&gt;\")\nsoup.p.string.wrap(soup.new_tag(\"b\"))\n# &lt;b&gt;I wish I was bold.&lt;/b&gt;\n\nsoup.p.wrap(soup.new_tag(\"div\"))\n# &lt;div&gt;&lt;p&gt;&lt;b&gt;I wish I was bold.&lt;/b&gt;&lt;/p&gt;&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "edited": false, "score": 0, "creation_date": 1485436003, "post_id": 41874078, "comment_id": 70929761, "body": "Sorry, stack doesnt recognized it as python code (and not html), if anyone knows how to do..."}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "edited": false, "score": 0, "creation_date": 1485441227, "post_id": 41874078, "comment_id": 70933281, "body": "@glibdub thanks! How did you do it? (What was wrong in my try?)"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485450029, "post_id": 41874078, "comment_id": 70939733, "body": "Just use the buttons in the little editor. Don&#39;t try to write HTML in a post."}, {"owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "reply_to_user": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485523324, "post_id": 41874078, "comment_id": 70971756, "body": "@RobertB but the code above contains html tags (and it shown properly as python). So what&#39;s the trick?"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485538271, "post_id": 41874078, "comment_id": 70981769, "body": "This system interprets the indented lines as code. Or you can enclose something in single quotes like <code>this</code>."}], "tags": [], "owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "is_accepted": false, "score": 1, "last_activity_date": 1485441435, "last_edit_date": 1485441435, "creation_date": 1485435834, "answer_id": 41874078, "question_id": 41861949, "link": "https://stackoverflow.com/questions/41861949/beautifulsoup4-replace-a-tag-with-2-others/41874078#41874078", "title": "BeautifulSoup4: replace a tag with 2 others", "body": "<p>thanks to RobertB I could figure out the rest of the answser.</p>\n\n<p>You need:</p>\n\n<ol>\n<li>wrap the <code>h1</code> with new tags <code>p</code></li>\n<li>wrap the <code>h1</code> with new tags <code>u</code></li>\n<li>remove the tag <code>h1</code> (using <code>unwrap()</code> )</li>\n</ol>\n\n\n\n<pre><code>&lt;!-- language: python --&gt;\nfrom bs4 import BeautifulSoup\nsoup = BeautifulSoup(\"&lt;h1&gt;title&lt;/h1&gt;\", \"html.parser\")\nsoup.h1.string.wrap(soup.new_tag(\"b\"))\nprint(soup) # &gt;&gt;  &lt;h1&gt;&lt;b&gt;title&lt;/b&gt;&lt;/h1&gt;\n\nsoup.h1.string.wrap(soup.new_tag(\"u\"))\nprint(soup)  # &gt;&gt; &lt;h1&gt;&lt;b&gt;&lt;u&gt;title&lt;/u&gt;&lt;/b&gt;&lt;/h1&gt;\n\nsoup.h1.unwrap()\nprint(soup)   #&gt;&gt; &lt;b&gt;&lt;u&gt;title&lt;/u&gt;&lt;/b&gt;\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 7227370, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2eda5a9134cac6f079ac6d157ab271c5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Does", "link": "https://stackoverflow.com/users/7227370/j-does"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1485545505, "creation_date": 1485379556, "last_edit_date": 1485441373, "question_id": 41861949, "link": "https://stackoverflow.com/questions/41861949/beautifulsoup4-replace-a-tag-with-2-others", "title": "BeautifulSoup4: replace a tag with 2 others", "body": "<p>I want to replace <code>&lt;h1&gt;title&lt;/h1&gt;</code> with <code>&lt;b&gt;&lt;u&gt;title&lt;/u&gt;&lt;/b&gt;</code> </p>\n\n<p>I know I can replace <code>h1</code> with <code>b</code> using <code>soup.h1.name = \"b\"</code> </p>\n\n<p>But is there a way to replace a single tag by several others?</p>\n\n<p>(Special edit for Daniel Roseman: <em>the tags don't really matter...</em>)</p>\n"}, {"tags": ["python", "web-scraping", "html-lists", "custom-lists"], "answers": [{"comments": [{"owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "reply_to_user": {"reputation": 83, "user_id": 5256048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1194263437257151/picture?type=large", "display_name": "Ant", "link": "https://stackoverflow.com/users/5256048/ant"}, "edited": false, "score": 0, "creation_date": 1485384930, "post_id": 41862036, "comment_id": 70910148, "body": "@Ant Please read <a href=\"https://docs.python.org/3.5/tutorial/index.html\" rel=\"nofollow noreferrer\">python tutorial</a> before asking questions on SO."}], "tags": [], "owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "is_accepted": true, "score": 1, "last_activity_date": 1485380278, "last_edit_date": 1485380278, "creation_date": 1485379933, "answer_id": 41862036, "question_id": 41861927, "link": "https://stackoverflow.com/questions/41861927/creating-a-new-list-of-items-with-numbers-60-from-a-list-of-items-numbered-0/41862036#41862036", "title": "Creating a New List of Items With Numbers &gt;= 60 from A List of Items Numbered 0 to 100", "body": "<p>Change </p>\n\n<pre><code>list2 = [i for i in list if i &gt;= 60] \n</code></pre>\n\n<p>to </p>\n\n<pre><code>list2 = [i for i in list if i[1] &gt;= 60]. # You need to compare only ratings\n</code></pre>\n\n<p>And don't call your list <code>list</code>. It will overwrite python <code>list</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 755851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb0ef4d5aebec860f85f7c76b894fd?s=128&d=identicon&r=PG", "display_name": "Foon", "link": "https://stackoverflow.com/users/755851/foon"}, "edited": false, "score": 1, "creation_date": 1485385012, "post_id": 41862316, "comment_id": 70910187, "body": "Note that I think you mean print i and list2.append(i), and since we&#39;re using python and not whatever archaic language (cobol, fortran?) required single character variables, I&#39;d suggest for title,rank in list ... as well as using Yevhen&#39;s answer&#39;s more pythonic style of list comprehensions"}, {"owner": {"reputation": 83, "user_id": 5256048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1194263437257151/picture?type=large", "display_name": "Ant", "link": "https://stackoverflow.com/users/5256048/ant"}, "edited": false, "score": 1, "creation_date": 1485386223, "post_id": 41862316, "comment_id": 70910604, "body": "I&#39;m using Python. I did like Yevhen&#39;s answer. I couldn&#39;t get the other one to work. Does do what Yevhen suggested turn my list into a tuple, or was it a tuple to begin with? How can I change it back to a list?"}], "tags": [], "owner": {"reputation": 1, "user_id": 5339248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/695f63a2b8242a1bdf7697b462544d67?s=128&d=identicon&r=PG&f=1", "display_name": "leibniz1856", "link": "https://stackoverflow.com/users/5339248/leibniz1856"}, "is_accepted": false, "score": 0, "last_activity_date": 1485382479, "last_edit_date": 1485382479, "creation_date": 1485381119, "answer_id": 41862316, "question_id": 41861927, "link": "https://stackoverflow.com/questions/41861927/creating-a-new-list-of-items-with-numbers-60-from-a-list-of-items-numbered-0/41862316#41862316", "title": "Creating a New List of Items With Numbers &gt;= 60 from A List of Items Numbered 0 to 100", "body": "<p>Good question: </p>\n\n<p>Perhaps, this would help you:</p>\n\n<pre><code>for i, j in list:\n    if j &gt;= 60:\n        print j\n</code></pre>\n\n<p>This prints only the value of above 60. If you want to append it in a list, then use: </p>\n\n<pre><code>for i, j in list:\n    if j &gt;= 60:\n        list2.append(j)\n</code></pre>\n\n<p>Hope that works! </p>\n"}], "owner": {"reputation": 83, "user_id": 5256048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1194263437257151/picture?type=large", "display_name": "Ant", "link": "https://stackoverflow.com/users/5256048/ant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 41862036, "answer_count": 2, "score": 0, "last_activity_date": 1485382479, "creation_date": 1485379481, "last_edit_date": 1485379878, "question_id": 41861927, "link": "https://stackoverflow.com/questions/41861927/creating-a-new-list-of-items-with-numbers-60-from-a-list-of-items-numbered-0", "title": "Creating a New List of Items With Numbers &gt;= 60 from A List of Items Numbered 0 to 100", "body": "<p>The items in the list are movie titles with a 0 to 100 rating next to them. Here's part of it...  </p>\n\n<pre><code>[(u'The Girl on the Train', 43),\n(u'Keeping Up With The Joneses', 19),\n(u'Ouija: Origin of Evil', 82),\n(u'Long Way North (Tout en haut du monde)', 98),\n(u'The Whole Truth', 29),\n(u'Come And Find Me', 67),\n(u'LEGO Jurassic World: The Indominus Escape', None),\n(u'My Father, Die', 78)...]\n</code></pre>\n\n<p>I'd like to make a list of movies with scores at or above 60. Here is one of the things I've tried that didn't work, (this code will pull a little bit of data from RottenTomatoes website, FYI)...</p>\n\n<pre><code>import requests\n\nr = requests.get('https://www.rottentomatoes.com/api/private/v2.0/browse?page=1&amp;limit=30&amp;type=dvd-top-rentals&amp;services=amazon%3Bamazon_prime%3Bfandango_now%3Bhbo_go%3Bitunes%3Bn    etflix_iw%3Bvudu&amp;sortBy=popularity')\n\n\nlist = []\ndata = r.json()\nfor result in data[\"results\"]:\n    list.append((result[\"title\"], result[\"tomatoScore\"]))\n\nlist2 = [i for i in list if i &gt;=60]\n\nprint list2\n</code></pre>\n\n<p>I would also like to have all my movies titles with a score at or above 60 to be truncated to just the text of the movie title so I can have a program that enters them into search fields of websites. So if you know how that's done that would save me some additional feeling around in the dark. Maybe just a hint how that's done if asking how to do that is asking too much.\nThank you!</p>\n"}, {"tags": ["python", "machine-learning", "classification"], "comments": [{"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 2, "creation_date": 1485379726, "post_id": 41861899, "comment_id": 70907709, "body": "is there <i>any</i> relation between label and position &amp; number? Or everything here is just a random thing taken from uniform distribution?"}, {"owner": {"reputation": 1, "user_id": 7463877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-whGdTFQLX2A/AAAAAAAAAAI/AAAAAAAAABA/7L2pIr0N378/photo.jpg?sz=128", "display_name": "MURAT \u015eAH\u0130N", "link": "https://stackoverflow.com/users/7463877/murat-%c5%9eah%c4%b0n"}, "reply_to_user": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1485379975, "post_id": 41861899, "comment_id": 70907828, "body": "Yes there is some relation between last and current number, Positions are created by last games position but also random. it can be said there is position&#39;s range between the label but i cant clearly say that because dataset is too large"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485380042, "post_id": 41861899, "comment_id": 70907854, "body": "Given the <code>last_number</code> and <code>last_pos</code>, how <i>exactly</i> do you generate the <code>current_number</code>, <code>current_pos</code>, and <code>Label</code>?"}, {"owner": {"reputation": 1, "user_id": 7463877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-whGdTFQLX2A/AAAAAAAAAAI/AAAAAAAAABA/7L2pIr0N378/photo.jpg?sz=128", "display_name": "MURAT \u015eAH\u0130N", "link": "https://stackoverflow.com/users/7463877/murat-%c5%9eah%c4%b0n"}, "edited": false, "score": 0, "creation_date": 1485380191, "post_id": 41861899, "comment_id": 70907927, "body": "For a clear answer there is relation between last and current position like if last position range is 1500 so it will 500 in next game, but i didnt decide that i notice that after i look at the dataset."}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485380291, "post_id": 41861899, "comment_id": 70907976, "body": "You said you created the dataset. Don&#39;t you know <i>how</i> you created it?"}, {"owner": {"reputation": 1, "user_id": 7463877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-whGdTFQLX2A/AAAAAAAAAAI/AAAAAAAAABA/7L2pIr0N378/photo.jpg?sz=128", "display_name": "MURAT \u015eAH\u0130N", "link": "https://stackoverflow.com/users/7463877/murat-%c5%9eah%c4%b0n"}, "edited": false, "score": 0, "creation_date": 1485380437, "post_id": 41861899, "comment_id": 70908042, "body": "Game is web based with php, i crawled the datas so i also create the dataset, i start crawling after few hours i notice it :) i mean everything is random but in dataset  it is like it has a pattern or so i dont know yet :)"}, {"owner": {"reputation": 617, "user_id": 3825949, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/640e8f564df2e1dd50f6e21bb4f2e3a9?s=128&d=identicon&r=PG&f=1", "display_name": "HMan06", "link": "https://stackoverflow.com/users/3825949/hman06"}, "edited": false, "score": 0, "creation_date": 1490993159, "post_id": 41861899, "comment_id": 73376085, "body": "Not sure if you still care about this but your results are worse than guessing :). Are you able to provide a full data set and are these all of the possible features you&#39;ve included. It&#39;s not a lot to go on."}], "owner": {"reputation": 1, "user_id": 7463877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-whGdTFQLX2A/AAAAAAAAAAI/AAAAAAAAABA/7L2pIr0N378/photo.jpg?sz=128", "display_name": "MURAT \u015eAH\u0130N", "link": "https://stackoverflow.com/users/7463877/murat-%c5%9eah%c4%b0n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1485379968, "creation_date": 1485379385, "last_edit_date": 1485379968, "question_id": 41861899, "link": "https://stackoverflow.com/questions/41861899/ml-classification-my-accuracy-is-too-low", "title": "ML Classification - My Accuracy is too low", "body": "<p>i'm at the very beginning of the Machine Learning with Python, I have created a dataset which has about 2k instances. Those datas are game datas, but it is just a stupid game that i've created in few hours to make a prediction with it's datas. I'll give some instances for you guys to understand how my dataset is. \nGame is pretty is i am creating a position between 0 and 2000 and a number 1 to 10. those are random things and i think that if i know last number and current number maybe i can predict next label.</p>\n\n<p>but my accuracy was very bad (see in below):</p>\n\n<pre><code>                               mean()   Std()\nLogisticRegression:            0.480933 (0.035875)\nMLPClassifier:                 0.441474 (0.029023)\nLinearDiscriminantAnalysis:    0.481954 (0.035140)\nQuadraticDiscriminantAnalysis: 0.487177 (0.026079)\nKNeighborsClassifier:          0.450221 (0.022375)\nDecisionTreeClassifier:        0.421849 (0.028847)\nGaussianNB:                    0.488129 (0.030311)\nRandomForrest:                 0.469209 (0.029449)\nAdaBoostClassifier:            0.458311 (0.039868)\n</code></pre>\n\n<p>Dataset Snip: There is also last_number but it didn't fit the page so i delete it but it was there.</p>\n\n<pre><code>last_number    last_pos   current_number   current_pos    Label\n 2              0.0          9             320.5           1\n 7            320.5         10            1879.5           1\n 9           1879.5          7               6.5           1\n10              6.5          8             170.5           0\n 3            170.5          4            2000.0           0\n</code></pre>\n\n<p>I think classification is not the way, i should work with on. so what kind of techniques i can use for my dataset, i mean maybe regression, neural network or something can help my issues :) </p>\n"}, {"tags": ["python", "celery"], "answers": [{"tags": [], "owner": {"reputation": 12105, "user_id": 6043170, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFy-IHfVniw/AAAAAAAAAAI/AAAAAAAAAFM/f_Xao2r127I/photo.jpg?sz=128", "display_name": "2ps", "link": "https://stackoverflow.com/users/6043170/2ps"}, "is_accepted": false, "score": 5, "last_activity_date": 1485416443, "creation_date": 1485416443, "answer_id": 41868756, "question_id": 41861882, "link": "https://stackoverflow.com/questions/41861882/parallel-and-sequential-execution-of-tasks-using-celery/41868756#41868756", "title": "Parallel and Sequential Execution of tasks using Celery", "body": "<p>Yes, but it will require some work.  You will hve to use <a href=\"http://docs.celeryproject.org/en/latest/userguide/canvas.html\" rel=\"noreferrer\"><code>chain</code>, <code>group</code>, and <code>chord</code></a> to get the behavior that you want:</p>\n\n<ol>\n<li><p>Execute T1, T2 and T3 serially by using <code>chain</code>:</p>\n\n<pre><code>res = chain(T1.si(), T2.si(), T3.si())\n</code></pre></li>\n<li><p>Execute (1) in parallel with T4 by using <code>group</code>:</p>\n\n<pre><code>res2 = group(res.s(), T4.s())\n</code></pre></li>\n<li><p>Execute T5 after T3 and T4 are complete by using <code>chord</code>:</p>\n\n<pre><code>res3 = chord(res2.s(), T5.s())\n</code></pre></li>\n<li><p>Execute it all</p>\n\n<pre><code>result = res3().get() \n</code></pre></li>\n</ol>\n\n<p>The docs do a pretty good job of explaining which to use for serial and which to use for parallel.  The tricky part to remember is that the <code>chain</code>, <code>chord</code> and <code>group</code> all return tasks themselves so have to be invoked using <code>()</code>, <code>delay()</code> or <code>apply_async()</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 7471212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dba91ccb5deeda4ee0e1302c23d8098?s=128&d=identicon&r=PG&f=1", "display_name": "Raju", "link": "https://stackoverflow.com/users/7471212/raju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1639, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1485416443, "creation_date": 1485379313, "last_edit_date": 1485383394, "question_id": 41861882, "link": "https://stackoverflow.com/questions/41861882/parallel-and-sequential-execution-of-tasks-using-celery", "title": "Parallel and Sequential Execution of tasks using Celery", "body": "<p>I am pretty new to Celery and planning to use it for scheduling few jobs. One of the scenario is as below.</p>\n\n<pre><code>TASK_NM | DEPENDENCY\n\nT1\n\nT2      |        T1\n\nT3      |        T1 \n\nT4\n\nT5      |        T3 and T4\n</code></pre>\n\n<p>From the above case,</p>\n\n<ol>\n<li><p>I have to execute T1 and T4 in parallel</p></li>\n<li><p>After Successful completion of T1, execute T2 and T3 in parallel</p></li>\n<li><p>After Successful completion of T3 and T4, execute T5.</p></li>\n</ol>\n\n<p>If any task failed in the middle, do not execute the dependent jobs.</p>\n\n<p>How can we achieve this using Celery?</p>\n\n<p>Thanks in Advance!!!</p>\n"}, {"tags": ["python", "django", "firebase"], "comments": [{"owner": {"reputation": 6819, "user_id": 140837, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e6470f08d90f2d62f514b5b71ca5ca3f?s=128&d=identicon&r=PG", "display_name": "amirouche", "link": "https://stackoverflow.com/users/140837/amirouche"}, "edited": false, "score": 0, "creation_date": 1500710675, "post_id": 41861878, "comment_id": 77468749, "body": "are you still interested in an answer to this question?"}, {"owner": {"reputation": 121, "user_id": 7352363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d5578b2347b61723343ec2f27ca04e?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Xie", "link": "https://stackoverflow.com/users/7352363/nicholas-xie"}, "reply_to_user": {"reputation": 6819, "user_id": 140837, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e6470f08d90f2d62f514b5b71ca5ca3f?s=128&d=identicon&r=PG", "display_name": "amirouche", "link": "https://stackoverflow.com/users/140837/amirouche"}, "edited": false, "score": 0, "creation_date": 1500868663, "post_id": 41861878, "comment_id": 77507488, "body": "Yes, that would be greatly appreciated!"}, {"owner": {"reputation": 2252, "user_id": 7654215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81374f7e9b250cdaf75cf92b6a6e883f?s=128&d=identicon&r=PG&f=1", "display_name": "seuling", "link": "https://stackoverflow.com/users/7654215/seuling"}, "edited": false, "score": 0, "creation_date": 1526373636, "post_id": 41861878, "comment_id": 87707339, "body": "did you solve your problem?"}, {"owner": {"reputation": 121, "user_id": 7352363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d5578b2347b61723343ec2f27ca04e?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Xie", "link": "https://stackoverflow.com/users/7352363/nicholas-xie"}, "edited": false, "score": 0, "creation_date": 1526687272, "post_id": 41861878, "comment_id": 87856376, "body": "No, I ended up using ajax to do this"}], "owner": {"reputation": 121, "user_id": 7352363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d5578b2347b61723343ec2f27ca04e?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Xie", "link": "https://stackoverflow.com/users/7352363/nicholas-xie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1485379304, "creation_date": 1485379304, "question_id": 41861878, "link": "https://stackoverflow.com/questions/41861878/django-realtime-updates-with-firebase", "title": "Django realtime updates with Firebase", "body": "<p>I am currently trying to implement Firebase into my Django app with pattern 3 as indicated here (<a href=\"https://firebase.googleblog.com/2013/03/where-does-firebase-fit-in-your-app.html\" rel=\"nofollow noreferrer\">https://firebase.googleblog.com/2013/03/where-does-firebase-fit-in-your-app.html</a>).</p>\n\n<p>I am trying to have Firebase detect whenever the game model starts and to refresh all the other user's pages when this is done.</p>\n\n<p>I am unable to find a good tutorial outlining how to do this so any tips at all would be greatly appreciated. Thanks!</p>\n"}, {"tags": ["python", "odeint"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 0, "creation_date": 1485380691, "post_id": 41861859, "comment_id": 70908150, "body": "(1) Make <code>c</code> a global variable in the function <code>f</code> (<code>global c</code>). (2) Run the <code>sol = ...</code> and <code>plt.plot...</code> lines of your code in a <code>for</code> loop by <code>c</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8894293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c879a85e1a783d766d41531212a4965?s=128&d=identicon&r=PG", "display_name": "Abhinav Prakash Gupta", "link": "https://stackoverflow.com/users/8894293/abhinav-prakash-gupta"}, "is_accepted": false, "score": -1, "last_activity_date": 1517413958, "last_edit_date": 1517413958, "creation_date": 1509973220, "answer_id": 47137603, "question_id": 41861859, "link": "https://stackoverflow.com/questions/41861859/plotting-solved-ordinary-differential-equations-over-changing-constant-values/47137603#47137603", "title": "Plotting solved ordinary differential equations over changing constant values", "body": "<pre><code>import numpy as np\nfrom scipy.integrate import odeint\nimport matplotlib.pyplot as plt\n\ndef f(w, x , b2 , c):\n    # d1 = omega lambda\n    d1 = w\n\n\n    # 0.2&lt;c&lt;1.4, 0.20 increments\n    #c = 0.2  \n\n    q = (1 - d1 - (2*((d1**1.5)/c))) / (2 + (3*(b2)))    \n    f = (d1**2) * (1 - d1) * ((1 / d1) + (2 / (c * (d1**0.5))) - ((3*b2*q)/(d1*1-d1))))\n    return f\n\n#determine domain, x\nx = np.linspace(-80, 80, 1000001)\n\nd1 = 10 ** -8\nb2 = 0.0\nc = [  0.2,0.4,0.6,0.8,1.0,1.2,1.4 ]\nfor i in c:\n\n    sol = odeint(f, d1, x, args = (b2 , i))\n    plt.xlabel(\"x\")\n    plt.ylabel(\"Omega Lambda\")\n    plt.plot(x, sol, 'r')\n    plt.show()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4979347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10200639935957204/picture?type=large", "display_name": "Jazmin", "link": "https://stackoverflow.com/users/4979347/jazmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517413958, "creation_date": 1485379193, "question_id": 41861859, "link": "https://stackoverflow.com/questions/41861859/plotting-solved-ordinary-differential-equations-over-changing-constant-values", "title": "Plotting solved ordinary differential equations over changing constant values", "body": "<p>I am currently working on a set of code that I am using to solve an ordinary differential equation... My code is working, however, I would like to be able to modify it to solve the differential equation for a set of different constant values. This is what I have currently, and if ran works. </p>\n\n<pre><code>import numpy as np\nfrom scipy.integrate import odeint\nimport matplotlib.pyplot as plt\n\ndef f(w, x):\n    # d1 = omega lambda\n    d1 = w\n    b2 = 0.0\n\n    # 0.2&lt;c&lt;1.4, 0.20 increments\n    c = 0.2  \n\n    q = (1 - d1 - (2*((d1**1.5)/c))) / (2 + (3*(b2)))    \n\n    f = (d1**2) * (1 - d1) * ((1 / d1) + (2 / (c * (d1**0.5))) - ((3 * b2 *    q) / (d1 * (1-d1))))\n    return f\n\n#determine domain, x\nx = np.linspace(-80, 80, 1000001)\n\nd1 = 10 ** -8\n\nsol = odeint(f, d1, x)\n\nplt.xlabel(\"x\")\nplt.ylabel(\"Omega Lambda\")\nplt.plot(x, sol, 'r')\nplt.show() \n</code></pre>\n\n<p>However, I would like to construct a graph that consists of each line that a set of different values of c would produce... the c's I would like to produce a graph of are: </p>\n\n<pre><code>c = 0.2,0.4,0.6,0.8,1.0,1.2,1.4\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "transpose"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 1, "creation_date": 1485384147, "post_id": 41861846, "comment_id": 70909819, "body": "If you are interested about difference of performace, check this <a href=\"http://stackoverflow.com/questions/41862406/performance-of-creating-new-dataframe\">question</a>"}], "answers": [{"comments": [{"owner": {"reputation": 359, "user_id": 6261199, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-JQuOLaOb274/AAAAAAAAAAI/AAAAAAAAAcM/r9T2l0ioBdA/photo.jpg?sz=128", "display_name": "yasin mohammed", "link": "https://stackoverflow.com/users/6261199/yasin-mohammed"}, "edited": false, "score": 0, "creation_date": 1492425287, "post_id": 41861865, "comment_id": 73955087, "body": "Hi ...In this question there are only 3 columns what If we have 10 columns and we need to retain 8 of them and just use the other 2 to reshape the data ?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 359, "user_id": 6261199, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-JQuOLaOb274/AAAAAAAAAAI/AAAAAAAAAcM/r9T2l0ioBdA/photo.jpg?sz=128", "display_name": "yasin mohammed", "link": "https://stackoverflow.com/users/6261199/yasin-mohammed"}, "edited": false, "score": 0, "creation_date": 1492438053, "post_id": 41861865, "comment_id": 73961443, "body": "It seems you need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.pivot_table.html\" rel=\"nofollow noreferrer\"><code>pivot_table</code></a>, but without data hard answer. Maybe the best is create new question with sample data, desired output and what do you try (your code)"}, {"owner": {"reputation": 359, "user_id": 6261199, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-JQuOLaOb274/AAAAAAAAAAI/AAAAAAAAAcM/r9T2l0ioBdA/photo.jpg?sz=128", "display_name": "yasin mohammed", "link": "https://stackoverflow.com/users/6261199/yasin-mohammed"}, "edited": false, "score": 0, "creation_date": 1492438293, "post_id": 41861865, "comment_id": 73961563, "body": "I just created a new question please review."}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 26, "last_activity_date": 1485380796, "last_edit_date": 1485380796, "creation_date": 1485379216, "answer_id": 41861865, "question_id": 41861846, "link": "https://stackoverflow.com/questions/41861846/convert-column-to-row-in-python-pandas/41861865#41861865", "title": "Convert column to row in Python Pandas", "body": "<p>You need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.set_index.html\" rel=\"noreferrer\"><code>set_index</code></a> with transpose by <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.T.html\" rel=\"noreferrer\"><code>T</code></a>:</p>\n\n<pre><code>print (df.set_index('fruits').T)\nfruits     apples  grapes  figs\nnumFruits      10      20    15\n</code></pre>\n\n<p>If need rename columns, it is a bit complicated:</p>\n\n<pre><code>print (df.rename(columns={'numFruits':'Market 1 Order'})\n         .set_index('fruits')\n         .rename_axis(None).T)\n                apples  grapes  figs\nMarket 1 Order      10      20    15\n</code></pre>\n\n<p>Another faster solution is use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.reshape.html\" rel=\"noreferrer\"><code>numpy.ndarray.reshape</code></a>:</p>\n\n<pre><code>print (pd.DataFrame(df.numFruits.values.reshape(1,-1), \n                    index=['Market 1 Order'], \n                    columns=df.fruits.values))\n\n                apples  grapes  figs\nMarket 1 Order      10      20    15\n</code></pre>\n\n<p><strong>Timings</strong>:</p>\n\n<pre><code>#[30000 rows x 2 columns] \ndf = pd.concat([df]*10000).reset_index(drop=True)    \nprint (df)\n\n\nIn [55]: %timeit (pd.DataFrame([df.numFruits.values], ['Market 1 Order'], df.fruits.values))\n1 loop, best of 3: 2.4 s per loop\n\nIn [56]: %timeit (pd.DataFrame(df.numFruits.values.reshape(1,-1), index=['Market 1 Order'], columns=df.fruits.values))\nThe slowest run took 5.64 times longer than the fastest. This could mean that an intermediate result is being cached.\n1000 loops, best of 3: 424 \u00b5s per loop\n\nIn [57]: %timeit (df.rename(columns={'numFruits':'Market 1 Order'}).set_index('fruits').rename_axis(None).T)\n100 loops, best of 3: 1.94 ms per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1485380480, "post_id": 41861884, "comment_id": 70908058, "body": "@jezrael that was me being sloppy.   Overhead for pandas figuring out that I had a list of arrays.  So much simpler to give it the 2-D array in the first place as you did."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1485380766, "post_id": 41861884, "comment_id": 70908191, "body": "@jezrael The concept is the same.  I&#39;ll edit my answer to point to your update of it."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 0, "creation_date": 1485380905, "post_id": 41861884, "comment_id": 70908275, "body": "@jezrael also, I think that overhead is small for larger arrays... maybe"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1485380911, "post_id": 41861884, "comment_id": 70908279, "body": "I was a bit confused, but I think now it is super. thank you."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1485381132, "post_id": 41861884, "comment_id": 70908400, "body": "@jezrael nope!  I&#39;m wrong... for larger arrays, it&#39;s even worse."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 1, "creation_date": 1485381173, "post_id": 41861884, "comment_id": 70908417, "body": "I create new question about explanation, I hope you get nice answer ;)"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 9, "last_activity_date": 1485380832, "last_edit_date": 1485380832, "creation_date": 1485379322, "answer_id": 41861884, "question_id": 41861846, "link": "https://stackoverflow.com/questions/41861846/convert-column-to-row-in-python-pandas/41861884#41861884", "title": "Convert column to row in Python Pandas", "body": "<pre><code>pd.DataFrame([df.numFruits.values], ['Market 1 Order'], df.fruits.values)\n\n                apples  grapes  figs\nMarket 1 Order      10      20    15\n</code></pre>\n\n<hr>\n\n<p><em>Refer to jezrael's enhancement of this concept.  <code>df.numFruits.values.reshape(1, -1)</code> is more efficient.</em></p>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 10097045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFGjR.jpg?s=128&g=1", "display_name": "Akash Desarda", "link": "https://stackoverflow.com/users/10097045/akash-desarda"}, "is_accepted": false, "score": 1, "last_activity_date": 1559194064, "creation_date": 1559194064, "answer_id": 56372136, "question_id": 41861846, "link": "https://stackoverflow.com/questions/41861846/convert-column-to-row-in-python-pandas/56372136#56372136", "title": "Convert column to row in Python Pandas", "body": "<p>You can use transpose api of pandas as follow:</p>\n\n<pre><code>df.transpose()\n</code></pre>\n\n<p>Considering df as your pandas dataframe</p>\n"}], "owner": {"reputation": 1023, "user_id": 4276591, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/522255844cd42d14219868e703ee18f1?s=128&d=identicon&r=PG&f=1", "display_name": "Reise45", "link": "https://stackoverflow.com/users/4276591/reise45"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63734, "favorite_count": 7, "accepted_answer_id": 41861865, "answer_count": 3, "score": 25, "last_activity_date": 1573572961, "creation_date": 1485379124, "last_edit_date": 1565937150, "question_id": 41861846, "link": "https://stackoverflow.com/questions/41861846/convert-column-to-row-in-python-pandas", "title": "Convert column to row in Python Pandas", "body": "<p>I have the following Python pandas dataframe:</p>\n\n<pre><code>     fruits | numFruits\n---------------------\n0  | apples |   10\n1  | grapes |   20\n2  |  figs  |   15\n</code></pre>\n\n<p>I want:</p>\n\n<pre><code>                 apples | grapes | figs\n-----------------------------------------\nMarket 1 Order |    10  |   20   |  15\n</code></pre>\n\n<p>I have looked at pivot(), pivot_table(), Transpose and unstack() and none of them seem to give me this. Pandas newbie, so all help appreciated.</p>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1485379171, "post_id": 41861807, "comment_id": 70907425, "body": "If you&#39;re seeing blurry text, that has absolutely nothing to do with the code you&#39;ve posted. Check your display settings."}, {"owner": {"reputation": 28300, "user_id": 1933675, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f599228880ef38b128249cebffeb52d5?s=128&d=identicon&r=PG", "display_name": "J4cK", "link": "https://stackoverflow.com/users/1933675/j4ck"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1485379730, "post_id": 41861807, "comment_id": 70907710, "body": "@user2357112 this is not issue with display setting. I attached a two image and you can see the difference"}, {"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485379865, "post_id": 41861807, "comment_id": 70907773, "body": "The line starts with &quot;\\b&quot; which is being interpretted as a backspace. Just like &quot;\\n&quot; is a newline. If you want a slash, you need to escape the first &quot;\\&quot; as &quot;\\\\&quot;. Or you need to escape the whole thing. &quot;\\t&quot; is also turning into a tab. Treat the whole thing as a raw string."}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 4, "last_activity_date": 1485379774, "creation_date": 1485379774, "answer_id": 41861996, "question_id": 41861807, "link": "https://stackoverflow.com/questions/41861807/write-row-text-in-file-including-python-keywords/41861996#41861996", "title": "Write row text in file including python keywords?", "body": "<p><code>\\t</code> means <code>tab</code> in text so you have to use <code>\\\\t</code>. There are other special chars like <code>\\n</code>, <code>\\r</code>, <code>\\b</code> etc. You have to use <code>\\\\</code> with this chars if you what exact text in file.</p>\n\n<p>You can also use <code>r</code> prefix but with triple <code>\"\"\"</code> and without <code>\\n</code> and then you don't have to use <code>\\\\</code></p>\n\n<pre><code>table_start_value = r\"\"\"\\begin{table}[ht]\n\\begin{center}\n\\begin{tabular}{|p{2cm}|p{7cm}|p{2cm}|}\n\\hline\n\\multicolumn{1}{|c|}{\\textbf{ID}} &amp; {\\textbf{Title:}} &amp; \\multicolumn{1}{c|}{\\textbf{Priority}}\\\\\n\\hline\n\"\"\"\n\ndef write_line(inf):\n    with open( inf,'w') as fwri:\n             fwri.writelines(table_start_value)\n\nfile_src=\"foo.txt\"\nwrite_line(file_src)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1485381169, "post_id": 41861998, "comment_id": 70908414, "body": "Yes. Should be &#39;\\\\b&#39; not &#39;\\\\\\b&#39; though."}], "tags": [], "owner": {"reputation": 4179, "user_id": 7282091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ea62f0d9ff8ecd926a64b74f39aa73b?s=128&d=identicon&r=PG&f=1", "display_name": "fedepad", "link": "https://stackoverflow.com/users/7282091/fedepad"}, "is_accepted": false, "score": 1, "last_activity_date": 1485381245, "last_edit_date": 1485381245, "creation_date": 1485379782, "answer_id": 41861998, "question_id": 41861807, "link": "https://stackoverflow.com/questions/41861807/write-row-text-in-file-including-python-keywords/41861998#41861998", "title": "Write row text in file including python keywords?", "body": "<p>The problem is in the string line <code>table_start_value</code>. You should write it as the following :</p>\n\n<pre><code>table_start_value=\"\\\\begin{table}[ht] \\n\\\\begin{center} \\n\\\\begin{tabular}{|p{2cm}|p{7cm}|p{2cm}|} \\n\\\\hline \\n\\\\multicolumn{1}{|c|}{\\\\textbf{ID}}  &amp; {\\\\textbf{Title:}}  &amp; \\\\multicolumn{1}{c|}{\\\\textbf{Priority}}\\\\\\\\ \\n\\\\hline\\n\"\n</code></pre>\n\n<p>i.e. adding a \"<code>\\</code>\" to every latex command.</p>\n"}, {"tags": [], "owner": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "is_accepted": false, "score": 1, "last_activity_date": 1485379811, "creation_date": 1485379811, "answer_id": 41862010, "question_id": 41861807, "link": "https://stackoverflow.com/questions/41861807/write-row-text-in-file-including-python-keywords/41862010#41862010", "title": "Write row text in file including python keywords?", "body": "<p>Many character combinations starting with <code>\\</code> are special in python. Do this to unmangle your output file:</p>\n\n<pre><code>with open( inf,'w') as fwri:\n    replaced_string = table_start_value.replace(\"\\b\", \"\\\\b\").replace(\"\\t\", \"\\\\t\")\n    fwri.writelines(replaced_string)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5235, "user_id": 830905, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b4baf2e9d3a2a599d763a602fa4f2be1?s=128&d=identicon&r=PG", "display_name": "Gershy", "link": "https://stackoverflow.com/users/830905/gershy"}, "is_accepted": false, "score": 1, "last_activity_date": 1485379931, "creation_date": 1485379931, "answer_id": 41862035, "question_id": 41861807, "link": "https://stackoverflow.com/questions/41861807/write-row-text-in-file-including-python-keywords/41862035#41862035", "title": "Write row text in file including python keywords?", "body": "<p>Your issue is with the backslash character: <code>\\</code>.</p>\n\n<p>In python a backslash (almost) always affects the next character that comes right after it, altering the meaning of that character. You can see this when you use the string <code>\\n</code> and don't see a literal backslash followed by a literal \"n\" - instead you see a newline. This is because the backslash alters the meaning of \"n\" to become a newline instead. But \"n\" is not the only character that is affected this way.</p>\n\n<p>If you want to store a literal backslash within a string, you need to <em>backslash the backslash</em>, like so: <code>my_string = \"Here's a SINGLE backslash: \\\\\"</code></p>\n\n<p>For every backslash in your string which you'd like to appear literally, you need to backslash the backslash.</p>\n"}, {"comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1485380604, "post_id": 41862085, "comment_id": 70908116, "body": "you will have problem with <code>\\n</code> because it will be written as text <code>\\n</code> not as newline."}], "tags": [], "owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "is_accepted": false, "score": 1, "last_activity_date": 1485380152, "creation_date": 1485380152, "answer_id": 41862085, "question_id": 41861807, "link": "https://stackoverflow.com/questions/41861807/write-row-text-in-file-including-python-keywords/41862085#41862085", "title": "Write row text in file including python keywords?", "body": "<p>Change your code so that you are using a raw string.</p>\n\n<pre><code>table_start_value= r\"\\begin{tab..\n</code></pre>\n"}], "owner": {"reputation": 28300, "user_id": 1933675, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f599228880ef38b128249cebffeb52d5?s=128&d=identicon&r=PG", "display_name": "J4cK", "link": "https://stackoverflow.com/users/1933675/j4ck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 1, "accepted_answer_id": 41861996, "answer_count": 5, "score": 1, "last_activity_date": 1485381245, "creation_date": 1485378959, "last_edit_date": 1485380500, "question_id": 41861807, "link": "https://stackoverflow.com/questions/41861807/write-row-text-in-file-including-python-keywords", "title": "Write row text in file including python keywords?", "body": "<p><strong>Source Code:</strong></p>\n\n<pre><code>table_start_value=\"\\begin{table}[ht] \\n\\begin{center} \\n\\begin{tabular}{|p{2cm}|p{7cm}|p{2cm}|} \\n\\hline \\n\\multicolumn{1}{|c|}{\\textbf{ID}}  \\&amp; {\\textbf{Title:}}  &amp; \\multicolumn{1}{c|}{\\textbf{Priority}}\\\\ \\n\\hline\\n\"\n\ndef write_line(inf):\n    with open( inf,'w') as fwri:\n             fwri.writelines(table_start_value)\n\nfile_src=\"foo.txt\"\nwrite_line(file_src)\n</code></pre>\n\n<p><strong>Problem :</strong>\nWhy blury text appear in the foo.txt file and how I can write exact text in the file  ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/8uq4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8uq4I.png\" alt=\"enter image description here\"></a>\n<strong>Expected output :</strong></p>\n\n<pre><code>\\begin{table}[ht]\n\\begin{center}\n\\begin{tabular}{|p{2cm}|p{7cm}|p{2cm}|}\n\\hline\n\\multicolumn{1}{|c|}{\\textbf{ID}}  &amp; {\\textbf{Title:}}  &amp; \\multicolumn{1}{c|}{\\textbf{Priority}}\\\\\n\\hline\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lFTTe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lFTTe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you for you suggestion !</p>\n"}, {"tags": ["python", "django", "unit-testing", "django-models"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1485379598, "post_id": 41861790, "comment_id": 70907656, "body": "But you don&#39;t seem to be passing any kind of function to assertRaises, just two sets of usernames. What are you expecting to happen?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1485379676, "post_id": 41861790, "comment_id": 70907691, "body": "And anyway,  why do you want to test for an error raised by another test?"}, {"owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1485380109, "post_id": 41861790, "comment_id": 70907882, "body": "Well I don&#39;t want to make a second test per se.  I was thinking that testing for this specific error would be better than just testing to see if xyz exists in abc.  Just figured this was a better practice so to speak, testing for errors instead.."}, {"owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1485380364, "post_id": 41861790, "comment_id": 70908007, "body": "basically i want to test for the assertion error that will pop up when one trires to add a username that either exists or doest not in the db. and i was hoping that the .format would allow me to insert the &#39;fake&#39; and &#39;real&#39; names into the assertRaises but clearly am not using it properly"}], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "edited": false, "score": 0, "creation_date": 1485383995, "post_id": 41862352, "comment_id": 70909758, "body": "this seems promising...thank you for the explanation  it seems to pass regardless of what I have in string?  for instance I switch &#39;unexpectedly found in&#39; to &#39;yoyoyo&#39; it still passes...is that because:  Asserts that expected_message is found in the the message of a raised exception.  so its passing because it exists in the message?  I&quot;m looking for an exact match more or less"}, {"owner": {"reputation": 643, "user_id": 1412036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A8KxT.png?s=128&g=1", "display_name": "Dmitry Shilyaev", "link": "https://stackoverflow.com/users/1412036/dmitry-shilyaev"}, "reply_to_user": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "edited": false, "score": 0, "creation_date": 1485411334, "post_id": 41862352, "comment_id": 70917826, "body": "If we look inside implementation it uses assertIn. If you have expected message &#39;test&#39; and exception &#39;xxx test yyy&#39;, then it passes. So try to use exact message for testing."}, {"owner": {"reputation": 643, "user_id": 1412036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A8KxT.png?s=128&g=1", "display_name": "Dmitry Shilyaev", "link": "https://stackoverflow.com/users/1412036/dmitry-shilyaev"}, "reply_to_user": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "edited": false, "score": 0, "creation_date": 1485441899, "post_id": 41862352, "comment_id": 70933754, "body": "Have you tested it?"}, {"owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "edited": false, "score": 0, "creation_date": 1485449160, "post_id": 41862352, "comment_id": 70939236, "body": "that makes sense; thank you.  I&#39;m looking into it now.  I was almost thinking I should be using regular &#39;assert ==&#39; might have made it easier.  It seems theres not an assertRaisesExactMessage...Is this what the assertRaises/Warns Regex comes in handy?"}, {"owner": {"reputation": 643, "user_id": 1412036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A8KxT.png?s=128&g=1", "display_name": "Dmitry Shilyaev", "link": "https://stackoverflow.com/users/1412036/dmitry-shilyaev"}, "reply_to_user": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "edited": false, "score": 0, "creation_date": 1485459338, "post_id": 41862352, "comment_id": 70945210, "body": "assertRaisesRegexp is using re.search() so there is no difference in behaviour on the same data. assertRaisesMessage checks for the exception type and exact message. It&#39;s your task to provide tests with expected data and there is no need to exact matching, because in tests you reproducing specific situation."}, {"owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "edited": false, "score": 0, "creation_date": 1485461418, "post_id": 41862352, "comment_id": 70946341, "body": "I see.  I think i need to think about how to better design these tests to begin with and take a step back.  Thank you for your time and assistance!"}], "tags": [], "owner": {"reputation": 643, "user_id": 1412036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A8KxT.png?s=128&g=1", "display_name": "Dmitry Shilyaev", "link": "https://stackoverflow.com/users/1412036/dmitry-shilyaev"}, "is_accepted": true, "score": 0, "last_activity_date": 1485381266, "creation_date": 1485381266, "answer_id": 41862352, "question_id": 41861790, "link": "https://stackoverflow.com/questions/41861790/how-to-properly-use-assertraises-with-str-type-objects/41862352#41862352", "title": "How to properly use assertRaises() with str type objects", "body": "<p>assertRaises usage looks like follows:</p>\n\n<pre><code>self.assertRaises(InvalidOperation, Decimal, '25,34')\n</code></pre>\n\n<blockquote>\n  <p>Fail unless an exception of class excClass is raised by callableObj\n  when invoked with arguments args and keyword arguments kwargs.</p>\n</blockquote>\n\n<p>Decimal is the callable in example, '25,34' is arg.</p>\n\n<p>In your case use assertRaisesMessage:</p>\n\n<pre><code>def test_clean_username(self):\n  self.assertRaisesMessage(\n      AssertionError, '\"{0}\" unexpectedly found in \"{1}\"'.format(\n          self.proposed_username,\n          self.taken_usernames,\n          )\n      )\n</code></pre>\n\n<blockquote>\n  <p>Asserts that expected_message is found in the the message of a raised\n  exception.</p>\n</blockquote>\n"}], "owner": {"reputation": 351, "user_id": 7380612, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b0085db76565f93458577624de4b3e65?s=128&d=identicon&r=PG&f=1", "display_name": "too_many_questions", "link": "https://stackoverflow.com/users/7380612/too-many-questions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 41862352, "answer_count": 1, "score": 0, "last_activity_date": 1485387436, "creation_date": 1485378884, "last_edit_date": 1485387436, "question_id": 41861790, "link": "https://stackoverflow.com/questions/41861790/how-to-properly-use-assertraises-with-str-type-objects", "title": "How to properly use assertRaises() with str type objects", "body": "<p>I'm trying to write a simple unittest that tests if my <code>fake_user's</code> (created via FactoryBoy) <code>username</code> already exists.  (i.e someone has already created a user w/ the same username).</p>\n\n<p>A simple version of the test would be as follows:    </p>\n\n<pre><code># factories.py\nimport factory\n\n\nclass BaseUserFactory(factory.DjangoModelFactory):\n    \"\"\"A factory for creating User objects.\"\"\"\n\n    username = factory.Faker('word')\n    email = factory.lazy_attribute(lambda x: '%s@email.com' % (x.username))\n\n    class Meta:\n        \"\"\"User factory Meta attributes.\"\"\"\n\n        model = models.User\n        django_get_or_create = ('username', 'email')\n</code></pre>\n\n<p>a simple test:</p>\n\n<pre><code>#test_user.py\nfrom django.test import TestCase\nfrom django.apps import apps\n\nfrom . import factories\n\n\nclass TestAccountModels(TestCase):\n    \"\"\"Testing the User models.\"\"\"\n\n    users = [user.username for user in models.User.objects.all()]\n    fake_user = factories.BaseUserFactory.create()\n\n    def test_username_available(self):\n        self.assertIn(self.fake_user.username, self.users)\n</code></pre>\n\n<p>now for context, say my (already existing) <code>username</code>(s) are 'Brody' and 'Sam'.  When <code>test_username_available</code> runs I get back:</p>\n\n<pre><code>self.assertIn(self.fake_user.username, self.users)\nAssertionError: 'suscipit' not found in ['Sam', 'Brody']\n</code></pre>\n\n<p>My questions is this:</p>\n\n<p>I want to write a test to test for this specific error.  I tried something like this:</p>\n\n<pre><code>    def test_clean_username(self):\n    self.assertRaises(\n        AssertionError, '\"{0}\" unexpectedly found in \"{1}\"'.format(\n            self.proposed_username,\n            self.taken_usernames,\n            )\n        )\n</code></pre>\n\n<p>but keep getting <code>str object is not callable</code> (on <code>taken_usernames</code>); and I get that, but just cant seem to find a workaround</p>\n\n<p>where:</p>\n\n<pre><code>proposed_username = self.fake_user.username\nself.taken_usernames = [self.user.username for self.user in self.user]\n</code></pre>\n\n<p>I've tried re-working this different ways but it seems the problem is linked to this (from another answer, i had this jotted down somewhere so no link unfortunately):</p>\n\n<pre><code>You are using self.assertRaises() incorrectly. \nIt has to call the test function for you, in order to catch the exception\nself.assertRaises(mouse16.BadInternalCallException,\nstack.insertn, [8, 4, 12], 16)\n\nYou were passing in the result of the stack.insertn() call (which didn't raise an exception, but returned either None or an integer instead), and that return value is not callable.\nAn older version of the method accepted None for that argument as well, which is no longer supported, hence the deprecation warning when None is passed in versus an integer.\nThe better way is to use self.assertRaises() as a context manager:\nwith self.assertRaises(mouse16.BadInternalCallException):\nstack.insertn([8, 4, 12], 16\n</code></pre>\n\n<p>Do i need to use the context manager? I feel like this should be easier and i'm making it harder than it has to be.  Originally I was trying to pull the attributes out of model.<strong>dict</strong> but ended up taking someone elses advice and used some list comprehension.</p>\n\n<p>This works outside of of a TestCase method/class.  I feel there should be a simple fix for this yet my knowledge of python/django is just not quite there.</p>\n\n<p>Thanks for any assistance!</p>\n\n<p>edit:  the answer provided below seems promising, yet seems to pass regardless.  I'd like the test to fail unless there is an exact match on the regex (i.e error message) and the error type (in this case an AssertionError)</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 40934, "user_id": 121687, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/359b919642638c5b67555a1bc89dfd3e?s=128&d=identicon&r=PG", "display_name": "fabrizioM", "link": "https://stackoverflow.com/users/121687/fabriziom"}, "is_accepted": true, "score": 8, "last_activity_date": 1506240341, "last_edit_date": 1506240341, "creation_date": 1485380446, "answer_id": 41862142, "question_id": 41861781, "link": "https://stackoverflow.com/questions/41861781/feed-dict-can-not-convert-int-to-tensor-in-tensorflow/41862142#41862142", "title": "feed_dict can not convert int to tensor in tensorflow", "body": "<p>You are overwriting the reference to your variable <code>i</code> with the <code>i</code> of the for loop. Change the name to <code>x_</code> should fix the problem.</p>\n\n<pre><code>x_ = tf.placeholder(tf.float32, shape=[None,2])\ny_ = tf.placeholder(tf.float32, shape=[None,1])\n\ninp_vec = [[1.,0.],[0.,1.],[1.,1.],[0.,0.]]\nsolutions = [[1.],[1.],[0.],[0.]]\n\nwith tf.Session() as sess:\n    sess.run( tf.initialize_all_variables() )\n\n    for i in range(1000):\n       sess.run(optim, feed_dict={x_:inp_vec, y_:solutions})\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 1217616, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a4fdb2fd669f16894db65182d2fa795f?s=128&d=identicon&r=PG", "display_name": "jay", "link": "https://stackoverflow.com/users/1217616/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6432, "favorite_count": 1, "accepted_answer_id": 41862142, "answer_count": 1, "score": 2, "last_activity_date": 1506240341, "creation_date": 1485378838, "question_id": 41861781, "link": "https://stackoverflow.com/questions/41861781/feed-dict-can-not-convert-int-to-tensor-in-tensorflow", "title": "feed_dict can not convert int to tensor in tensorflow", "body": "<p>It seems that the toughest part of tensorflow is matching tensors to their destinations.</p>\n\n<p>I get the runtime error:\nTypeError: \"Cannot interpret feed_dict key as Tensor: Can not convert a int into a Tensor.\"</p>\n\n<p>I'm trying to solve the XOR problem, this is my main set up.</p>\n\n<pre><code>i = tf.placeholder(tf.float32, shape=[None,2])\ny_ = tf.placeholder(tf.float32, shape=[None,1])\n\ninp_vec = [[1.,0.],[0.,1.],[1.,1.],[0.,0.]]\nsolutions = [[1.],[1.],[0.],[0.]]\n\nwith tf.Session() as sess:\n    sess.run( tf.initialize_all_variables() )\n\n    for i in range(1000):\n       sess.run(optim, feed_dict={i:inp_vec, y_:solutions})\n</code></pre>\n\n<p>Here's the whole code if you need to see more or want tell me what I can do better <a href=\"http://pastebin.com/GqrX21vf\" rel=\"nofollow noreferrer\">http://pastebin.com/GqrX21vf</a></p>\n\n<p>inp_vec is [4x2] and solutions is [4x1]. Both should match the placeholders. I've been having problems with matching ever since I started tensorflow so I'm starting to think I fundamentally don't understand the setup. Clarification on this would be much appreciated.</p>\n"}, {"tags": ["python", "selenium", "scrapy"], "comments": [{"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1485380631, "post_id": 41861777, "comment_id": 70908129, "body": "and what is the value of <code>response.url</code> you pass into <code>parse()</code>?"}, {"owner": {"reputation": 351, "user_id": 6058203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4f300880f0dd82f0cec4ec4e487ed74?s=128&d=identicon&r=PG&f=1", "display_name": "nevster", "link": "https://stackoverflow.com/users/6058203/nevster"}, "reply_to_user": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1485382310, "post_id": 41861777, "comment_id": 70908961, "body": "@Andersson i was hoping it would be the first url in the start_urls list which is &quot;<a href=\"https://www.glassdoor.co.uk/Overview/Working-at-Greene-King-EI_IE10160.11,22.htm\" rel=\"nofollow noreferrer\">glassdoor.co.uk/Overview/&hellip;</a>&quot;"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1485382525, "post_id": 41861777, "comment_id": 70909073, "body": "Why it should be so? :) Is there a line where you call <code>parse()</code> with this argument?"}, {"owner": {"reputation": 351, "user_id": 6058203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4f300880f0dd82f0cec4ec4e487ed74?s=128&d=identicon&r=PG&f=1", "display_name": "nevster", "link": "https://stackoverflow.com/users/6058203/nevster"}, "reply_to_user": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "edited": false, "score": 0, "creation_date": 1485384930, "post_id": 41861777, "comment_id": 70910149, "body": "I believe that is within the Scrapy module?"}, {"owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "edited": false, "score": 0, "creation_date": 1485424332, "post_id": 41861777, "comment_id": 70923536, "body": "Can you share your logs? As far as I can see, setting <code>self.driver</code> would not ask Scrapy to delegate fetching the response to Selenium. And inside <code>parse(self, response):</code>, <code>response</code> would still be the response from Scrapy&#39;s downloader. <code>self.driver.get(response.url)</code> and <code>for sel in response.xpath</code> are very distinct. The former will not update <code>response</code>."}, {"owner": {"reputation": 351, "user_id": 6058203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4f300880f0dd82f0cec4ec4e487ed74?s=128&d=identicon&r=PG&f=1", "display_name": "nevster", "link": "https://stackoverflow.com/users/6058203/nevster"}, "edited": false, "score": 0, "creation_date": 1485470792, "post_id": 41861777, "comment_id": 70951084, "body": "logs added - I can see what the two users above are saying.  I have been working the code to see if I can get Scrapy to operate entirely off the web browser created by selenium - so far, no success.  I suspect I may need to find another way around this."}], "answers": [{"tags": [], "owner": {"reputation": 351, "user_id": 6058203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4f300880f0dd82f0cec4ec4e487ed74?s=128&d=identicon&r=PG&f=1", "display_name": "nevster", "link": "https://stackoverflow.com/users/6058203/nevster"}, "is_accepted": true, "score": 2, "last_activity_date": 1486241098, "creation_date": 1486241098, "answer_id": 42045397, "question_id": 41861777, "link": "https://stackoverflow.com/questions/41861777/scrapy-selenium-response-url-not-being-passed-to-web-browser/42045397#42045397", "title": "Scrapy / Selenium - response url not being passed to web browser", "body": "<p>ok, as suggest by both the replies, i was not passing the correct response to selenium.</p>\n\n<p>Hence, by adding the line:</p>\n\n<pre><code>response1 = TextResponse(url=response.url, body=self.driver.page_source, encoding='utf-8')\n</code></pre>\n\n<p>and therefore changing one line of the code as well:</p>\n\n<pre><code>for sel in response1.xpath('//*[@id=\"EmpStats\"]'):\n</code></pre>\n\n<p>the new code is (which works):</p>\n\n<pre><code>import scrapy\nimport time\n\nfrom selenium import webdriver\nfrom glassdoor.items import GlassdoorItem\n\n\nclass glassdoorSpider(scrapy.Spider):\n    header = {\"User-Agent\":\"Mozilla/5.0 Gecko/20100101 Firefox/33.0\"}\n    name = \"glassdoor\"\n    allowed_domains = [\"glassdoor.co.uk\"]\n\n    start_urls = [\"https://www.glassdoor.co.uk/Overview/Working-at-Greene-King-EI_IE10160.11,22.htm\",\n    ]\n\n    def __init__(self):\n        self.driver = webdriver.Chrome(\"C:/Users/andrew/Downloads/chromedriver_win32/chromedriver.exe\")\n\n    def parse(self, response):\n        self.driver.get(response.url)\n        response1 = TextResponse(url=response.url, body=self.driver.page_source, encoding='utf-8')\n        time.sleep(5)\n\n\n        for sel in response1.xpath('//*[@id=\"EmpStats\"]'):\n            item = GlassdoorItem()\n            item['rating'] = sel.xpath('//*[@class=\"notranslate ratingNum\"]/text()').extract()\n#            item['recommend'] = sel.xpath('//*[@class=\"address\"]/text()').extract()\n#            item['approval'] = sel.xpath('//*[@class=\"address\"]/text()').extract()\n            yield item\n\n#        self.driver.close()\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 6058203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b4f300880f0dd82f0cec4ec4e487ed74?s=128&d=identicon&r=PG&f=1", "display_name": "nevster", "link": "https://stackoverflow.com/users/6058203/nevster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 928, "favorite_count": 0, "accepted_answer_id": 42045397, "answer_count": 1, "score": 1, "last_activity_date": 1486241098, "creation_date": 1485378815, "last_edit_date": 1485470626, "question_id": 41861777, "link": "https://stackoverflow.com/questions/41861777/scrapy-selenium-response-url-not-being-passed-to-web-browser", "title": "Scrapy / Selenium - response url not being passed to web browser", "body": "<p>I am trying to scrap a site using Scrapy and Selenium.</p>\n\n<p>I can get the web-browser to open using selenium but i am unable to get the start url into the web-browser.  At present, the web-browser opens, does nothing and then closes whilst i get the error \"&lt;405 <a href=\"https://etc\" rel=\"nofollow noreferrer\">https://etc</a> etc>: HTTP status code is not handled or not allowed\".</p>\n\n<p>Which, as far as i understand, confirms that i am not being able to pass the url to the web-browser.</p>\n\n<p>What am i doing wrong here?</p>\n\n<pre><code>import scrapy\nimport time\n\nfrom selenium import webdriver\nfrom glassdoor.items import GlassdoorItem\n\n\nclass glassdoorSpider(scrapy.Spider):\n    name = \"glassdoor\"\n    allowed_domains = [\"glassdoor.co.uk\"]\n\n    start_urls = [\"https://www.glassdoor.co.uk/Overview/Working-at-Greene-King-EI_IE10160.11,22.htm\",\n    ]\n\n    def __init__(self):\n        self.driver = webdriver.Chrome(\"C:/Users/andrew/Downloads/chromedriver_win32/chromedriver.exe\")\n\n    def parse(self, response):\n        self.driver.get(response.url)\n        time.sleep(5)\n\n\n        for sel in response.xpath('//*[@id=\"EmpStats\"]'):\n            item = GlassdoorItem()\n            item['rating'] = sel.xpath('//*[@class=\"notranslate ratingNum\"]/text()').extract()\n#            item['recommend'] = sel.xpath('//*[@class=\"address\"]/text()').extract()\n#            item['approval'] = sel.xpath('//*[@class=\"address\"]/text()').extract()\n            yield item\n\n#        self.driver.close()\n</code></pre>\n\n<p>the logs I get from the above are:</p>\n\n<pre><code>2017-01-26 21:49:02 [scrapy] INFO: Scrapy 1.0.5 started (bot: glassdoor)\n2017-01-26 21:49:02 [scrapy] INFO: Optional features available: ssl, http11\n2017-01-26 21:49:02 [scrapy] INFO: Overridden settings: {'NEWSPIDER_MODULE': 'glassdoor.spiders', 'SPIDER_MODULES': ['glassdoor.spiders'], 'BOT_NAME': 'glassdoor'}\n2017-01-26 21:49:02 [scrapy] INFO: Enabled extensions: CloseSpider, TelnetConsole, LogStats, CoreStats, SpiderState\n2017-01-26 21:49:04 [selenium.webdriver.remote.remote_connection] DEBUG: POST http://127.0.0.1:58378/session {\"requiredCapabilities\": {}, \"desiredCapabilities\": {\"platform\": \"ANY\", \"browserName\": \"chrome\", \"version\": \"\", \"chromeOptions\": {\"args\": [], \"extensions\": []}, \"javascriptEnabled\": true}}\n2017-01-26 21:49:06 [selenium.webdriver.remote.remote_connection] DEBUG: Finished Request\n2017-01-26 21:49:06 [scrapy] INFO: Enabled downloader middlewares: HttpAuthMiddleware, DownloadTimeoutMiddleware, UserAgentMiddleware, RetryMiddleware, DefaultHeadersMiddleware, MetaRefreshMiddleware, HttpCompressionMiddleware, RedirectMiddleware, CookiesMiddleware, ChunkedTransferMiddleware, DownloaderStats\n2017-01-26 21:49:06 [scrapy] INFO: Enabled spider middlewares: HttpErrorMiddleware, OffsiteMiddleware, RefererMiddleware, UrlLengthMiddleware, DepthMiddleware\n2017-01-26 21:49:06 [scrapy] INFO: Enabled item pipelines:\n2017-01-26 21:49:06 [scrapy] INFO: Spider opened\n2017-01-26 21:49:06 [scrapy] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)\n2017-01-26 21:49:06 [scrapy] DEBUG: Telnet console listening on 127.0.0.1:6023\n2017-01-26 21:49:07 [scrapy] DEBUG: Crawled (405) &lt;GET https://www.glassdoor.co.uk/Overview/Working-at-Greene-King-EI_IE10160.11,22.htm&gt; (referer: None)\n2017-01-26 21:49:07 [scrapy] DEBUG: Ignoring response &lt;405 https://www.glassdoor.co.uk/Overview/Working-at-Greene-King-EI_IE10160.11,22.htm&gt;: HTTP status code is not handled or not allowed\n2017-01-26 21:49:07 [scrapy] INFO: Closing spider (finished)\n2017-01-26 21:49:07 [scrapy] INFO: Dumping Scrapy stats:\n{'downloader/request_bytes': 269,\n 'downloader/request_count': 1,\n 'downloader/request_method_count/GET': 1,\n 'downloader/response_bytes': 7412,\n 'downloader/response_count': 1,\n 'downloader/response_status_count/405': 1,\n 'finish_reason': 'finished',\n 'finish_time': datetime.datetime(2017, 1, 26, 21, 49, 7, 388000),\n 'log_count/DEBUG': 5,\n 'log_count/INFO': 7,\n 'response_received_count': 1,\n 'scheduler/dequeued': 1,\n 'scheduler/dequeued/memory': 1,\n 'scheduler/enqueued': 1,\n 'scheduler/enqueued/memory': 1,\n 'start_time': datetime.datetime(2017, 1, 26, 21, 49, 6, 572000)}\n2017-01-26 21:49:07 [scrapy] INFO: Spider closed (finished)\n</code></pre>\n"}, {"tags": ["python", "pandas", "join", "dataframe", "merge"], "answers": [{"comments": [{"owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "edited": false, "score": 1, "creation_date": 1485379074, "post_id": 41861816, "comment_id": 70907358, "body": "check with <code>splitt_df.dtypes</code> and <code>csv_df.dtypes</code>"}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": false, "score": 3, "last_activity_date": 1485378985, "creation_date": 1485378985, "answer_id": 41861816, "question_id": 41861705, "link": "https://stackoverflow.com/questions/41861705/merging-two-pandas-dataframes/41861816#41861816", "title": "Merging two pandas dataframes", "body": "<p>From the above code this works for me:</p>\n\n<pre><code>In [11]: pd.merge(split_df,csv_df, on=['key'], suffixes=('_left', '_right'))\nOut[11]:\n     key        tags\n0  30000        ipv6\n1  30000  networking\n2  30000    wireless\n3  30000   standards\n4  30000      satcom\n</code></pre>\n\n<p>My suspicion is that the column type <code>key</code> is different in your dataframes (and the same <code>int</code> in mine).</p>\n\n<p>Most likely one of them is a string (and the other a float/int).</p>\n\n<pre><code>In [12]: split_df[\"key\"] = split_df[\"key\"].apply(str)\n\nIn [13]: pd.merge(split_df,csv_df, on=['key'], suffixes=('_left', '_right'))\nOut[13]:\nEmpty DataFrame\nColumns: [key, tags]\nIndex: []\n</code></pre>\n\n<p>If they're both strings:</p>\n\n<pre><code>In [14]: csv_df[\"key\"] = csv_df[\"key\"].apply(str)\n\nIn [15]: pd.merge(split_df,csv_df, on=['key'], suffixes=('_left', '_right'))\nOut[15]:\n     key        tags\n0  30000        ipv6\n1  30000  networking\n2  30000    wireless\n3  30000   standards\n4  30000      satcom\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 6163322, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0f329717de70e88898b58014d89070bd?s=128&d=identicon&r=PG&f=1", "display_name": "S Coe", "link": "https://stackoverflow.com/users/6163322/s-coe"}, "edited": false, "score": 0, "creation_date": 1485461843, "post_id": 41861822, "comment_id": 70946553, "body": "Thanks you - that was it :-)"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1485379009, "creation_date": 1485379009, "answer_id": 41861822, "question_id": 41861705, "link": "https://stackoverflow.com/questions/41861705/merging-two-pandas-dataframes/41861822#41861822", "title": "Merging two pandas dataframes", "body": "<p>The <code>key</code> column in one of your dataframes is <code>int</code> while the other is <code>str</code></p>\n\n<pre><code>split_df.key = split_df.key.astype(int)\ncsv_df.key = csv_df.key.astype(int)\n\npd.merge(split_df,csv_df, on=['key'], suffixes=('_left', '_right'))\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 6163322, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0f329717de70e88898b58014d89070bd?s=128&d=identicon&r=PG&f=1", "display_name": "S Coe", "link": "https://stackoverflow.com/users/6163322/s-coe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1485379009, "creation_date": 1485378594, "last_edit_date": 1485378689, "question_id": 41861705, "link": "https://stackoverflow.com/questions/41861705/merging-two-pandas-dataframes", "title": "Merging two pandas dataframes", "body": "<p>I've seen this question a few times, but the answers are not working for me.  I have two dataframes, <code>split_df</code> and <code>csv_df</code> that I;m trying to merge on a column that is called <code>key</code> in each of them.  </p>\n\n<p>Here's the top 5 items from <code>split_df</code></p>\n\n<pre><code>        key        tags\n2785  30000        ipv6\n2785  30000  networking\n2785  30000    wireless\n2785  30000   standards\n2785  30000      satcom\n</code></pre>\n\n<p>Here's the top 5 items from the <code>csv_df</code></p>\n\n<pre><code>     key\n0  30000\n1  30002\n2  31288\n3  33630\n4  31663\n</code></pre>\n\n<p>When I run this merge statement:</p>\n\n<pre><code>common_df = pd.merge(split_df,csv_df, on=['key'], suffixes=('_left', '_right'))\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>Empty DataFrame\nColumns: [key, tags]\nIndex: []\n</code></pre>\n\n<p>Process finished with exit code 0</p>\n\n<p>I can't figure out why the merge isn't working for me.  Any suggestions?</p>\n\n<p>I have indexes on both (and have run the merge with them out as well)</p>\n\n<pre><code>csv_df.set_index('key')\nsplit_df.set_index('key')\n</code></pre>\n\n<p>I am very new to Pyton and Pandas</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1485379027, "post_id": 41861704, "comment_id": 70907328, "body": "<code>open()</code>, <code>read()</code>, <code>close()</code>. BTW:If you have incorrect data in file then you can get incorrect result. Better show what result you get, and what result you expect."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485379102, "post_id": 41861704, "comment_id": 70907375, "body": "your code works perfectly on my computer. Provided you don&#39;t have newlines every other line in your file. I get <code>{&#39;Nicole&#39;: [&#39;UVA&#39;, &#39;Freshmen&#39;, &#39;Biology&#39;], &#39;Jenna&#39;: [&#39;GWU&#39;, &#39;Sophomore&#39;, &#39;Organic&#39;], &#39;Name&#39;: [&#39;School&#39;, &#39;Year&#39;, &#39;Course&#39;], &#39;Brandon&#39;: [&#39;VT&#39;, &#39;Senior&#39;, &#39;Finance&#39;]}</code> as expected."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485379303, "post_id": 41861704, "comment_id": 70907504, "body": "@Jean-Fran&#231;oisFabre - you right <code>readlines()</code> is worse :)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1485379455, "post_id": 41861704, "comment_id": 70907582, "body": "your code works fine as it is... and &quot;not outputting the data correctly&quot; ? please tell us what you get and what you&#39;re expecting. 2 people already wasted their time posting wrong answers because of that (and 2 other people wasted their time downvoting everything that moved :))"}, {"owner": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1485379546, "post_id": 41861704, "comment_id": 70907634, "body": "@furas the <code>with</code> operator will take care of the closing the file and <code>f </code> is a file iterator. There is nothing wrong with operations being used in the example. Sounds like the input data must be bad."}, {"owner": {"reputation": 13, "user_id": 5383535, "user_type": "registered", "profile_image": "https://graph.facebook.com/765326423597179/picture?type=large", "display_name": "NR567", "link": "https://stackoverflow.com/users/5383535/nr567"}, "edited": false, "score": 0, "creation_date": 1485379595, "post_id": 41861704, "comment_id": 70907652, "body": "I want it so that it&#39;s Name: Nicole, School:UVA, Course:Biology and so on"}, {"owner": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "edited": false, "score": 0, "creation_date": 1485380072, "post_id": 41861704, "comment_id": 70907868, "body": "You can use nested dictionaries...but you will still need a key for the outer most level. You&#39;d end up with something like this <code>{&#39;Nicole&#39;:{&#39;name&#39;:&#39;Nicole&#39;, &#39;school&#39;:&#39;UVA&#39;, &#39;course&#39;:&#39;Biology&#39;}, ... , &#39;Brandon&#39;:{&#39;name&#39;:&#39;Brandon&#39;, &#39;school&#39;:&#39;VT&#39;, &#39;course&#39;:&#39;Finance&#39;}}</code>. Named tuples are also an option."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "edited": false, "score": 0, "creation_date": 1485380326, "post_id": 41861704, "comment_id": 70907988, "body": "@MS-DDOS I didn&#39;t check code. Text <code>open(), read(), close()</code> is standard answer for this kind of question. Rest of comment is also standard anwer for this kind of question."}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485379174, "post_id": 41861800, "comment_id": 70907427, "body": "check the input file. It&#39;s <i>not</i> a csv."}, {"owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485379279, "post_id": 41861800, "comment_id": 70907483, "body": "ah, I was misled.  Looks like the provided code is fine then."}, {"owner": {"reputation": 538, "user_id": 1832987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/71725c424ea7e68da3c1766f1a7db14f?s=128&d=identicon&r=PG", "display_name": "MS-DDOS", "link": "https://stackoverflow.com/users/1832987/ms-ddos"}, "edited": false, "score": 0, "creation_date": 1485379791, "post_id": 41861800, "comment_id": 70907744, "body": "Just for the record it shouldn&#39;t matter if its comma or tab delimited. If no delimiter is specified Python will determine what it thinks the delimiter is based on consecutive runs of a specific type of whitespace. <a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\">See the docs for str.split()</a>."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485381023, "post_id": 41861800, "comment_id": 70908342, "body": "&quot;If sep is not specified or is None, a different splitting algorithm is applied: runs of consecutive whitespace are regarded as a single separator&quot;. That does <b>not</b> apply to commas. Only tab, spaces and other weird &quot;blank&quot; separators (<code>\\xa0</code>...)"}], "tags": [], "owner": {"reputation": 2178, "user_id": 7006570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8774bedf434fe2f810864be99257f98a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Wang", "link": "https://stackoverflow.com/users/7006570/kevin-wang"}, "is_accepted": false, "score": -2, "last_activity_date": 1485378916, "creation_date": 1485378916, "answer_id": 41861800, "question_id": 41861704, "link": "https://stackoverflow.com/questions/41861704/read-in-a-tabular-file-with-importing-anything/41861800#41861800", "title": "read in a tabular file with importing anything", "body": "<p><code>.split()</code> splits by whitespace by default, I believe.  So you want <code>.split(',')</code> instead, if it really is a csv.</p>\n\n<p>This will give you <code>{'Nicole': ['UVA', 'Freshmen', 'Biology'], 'Brandon': ['VT', 'Senior', 'Finance'], 'Jenna': ['GWU', 'Sophomore', 'Organic'], 'Name': ['School', 'Year', 'Course']}</code>  Not sure if this is really what you want though.</p>\n"}], "owner": {"reputation": 13, "user_id": 5383535, "user_type": "registered", "profile_image": "https://graph.facebook.com/765326423597179/picture?type=large", "display_name": "NR567", "link": "https://stackoverflow.com/users/5383535/nr567"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1485379354, "creation_date": 1485378590, "last_edit_date": 1485379354, "question_id": 41861704, "link": "https://stackoverflow.com/questions/41861704/read-in-a-tabular-file-with-importing-anything", "title": "read in a tabular file with importing anything", "body": "<p>I have a tabular file(k.tsv) with the following data</p>\n\n<pre><code>Name School Year      Course\nNicole UVA  Freshmen   Biology\nJenna GWU   Sophomore  Organic\nBrandon VT  Senior     Finance\n</code></pre>\n\n<p>I want to read in this file without importing csv or using csvreader and storing it into a dictionary. How would I do this?</p>\n\n<pre><code>my_dict = {}\nwith open(\"k.tsv\", 'r') as f:\n    for line in f:\n        items=line.split()\n        key, values = items[0], items[1:]\n        my_dict[key] = values\nprint my_dict\n</code></pre>\n\n<p>I tried this but it's not outputting the data correctly. </p>\n"}, {"tags": ["python", "google-app-engine", "datastore"], "comments": [{"owner": {"reputation": 29, "user_id": 6688123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3ebb84e1d8c702faa625b1f79461fc3?s=128&d=identicon&r=PG&f=1", "display_name": "Andre Avilla", "link": "https://stackoverflow.com/users/6688123/andre-avilla"}, "edited": false, "score": 0, "creation_date": 1522929572, "post_id": 41861698, "comment_id": 86353913, "body": "You can see my solution in <a href=\"https://stackoverflow.com/questions/18313254/maintain-uniqueness-of-a-property-in-the-ndb-database/49671749#49671749\">maintain-uniqueness-of-a-property-in-the-ndb-database</a>"}], "answers": [{"comments": [{"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 2, "creation_date": 1485397098, "post_id": 41862679, "comment_id": 70913469, "body": "The #2 option does not work because you can&#39;t make non-ancestor queries inside transactions.  Also such queries are eventually consistent, so duplicates remain possible."}, {"owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "reply_to_user": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1485407838, "post_id": 41862679, "comment_id": 70916915, "body": "But it is a cross group transaction so shouldn&#39;t that work?"}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 1, "creation_date": 1485438686, "post_id": 41862679, "comment_id": 70931569, "body": "&quot;In transactions, only ancestor queries are allowed.&quot;  -  doesn&#39;t matter what kind of transaction"}, {"owner": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "edited": false, "score": 0, "creation_date": 1485455479, "post_id": 41862679, "comment_id": 70943050, "body": "@JeffO&#39;Neill 1. It is saying there&#39;s a syntax error at the &quot;e&quot; in create(email): and 2. Do I need to add something in my class Subscribe to set the email as the id, or does the static method do that for me?"}, {"owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "reply_to_user": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "edited": false, "score": 0, "creation_date": 1485455991, "post_id": 41862679, "comment_id": 70943343, "body": "@user2250471, for 1, I fixed the typo.  For 2, the id is in the key and passing the email as the second argument in creating the key sets the email as the id.  You don&#39;t need to set the id anywhere else."}, {"owner": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "edited": false, "score": 0, "creation_date": 1485458202, "post_id": 41862679, "comment_id": 70944510, "body": "@JeffO&#39;Neill - Sorry to be dumb. I updated my question to include your code, no errors, but it&#39;s still storing duplicate entries (I think the def isn&#39;t being called)? I&#39;m very new to python and appengine, sorry."}, {"owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "reply_to_user": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "edited": false, "score": 0, "creation_date": 1485464886, "post_id": 41862679, "comment_id": 70948236, "body": "@user2250471, no problem.  I updated my answer to show how to call the <code>create</code> method."}, {"owner": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "edited": false, "score": 0, "creation_date": 1485466319, "post_id": 41862679, "comment_id": 70949045, "body": "@JeffO&#39;Neill - TypeError: name must be a string; received Key(&#39;Email&#39;, &#39;test@test.com&#39;)"}, {"owner": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "reply_to_user": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "edited": false, "score": 0, "creation_date": 1485477638, "post_id": 41862679, "comment_id": 70953231, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/134134/discussion-between-user2250471-and-jeff-oneill\">continue this discussion in chat</a>."}, {"owner": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "reply_to_user": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1485534906, "post_id": 41862679, "comment_id": 70979742, "body": "@DanCornilescu do you know why I&#39;d be getting the above type error?"}, {"owner": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "reply_to_user": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1485574410, "post_id": 41862679, "comment_id": 70994313, "body": "@DanCornilescu &quot;entity = Email.get_or_insert(ekey)&quot; is returning the type error."}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1485575680, "post_id": 41862679, "comment_id": 70994547, "body": "<code>get_or_insert</code> expects a key name/id,  i. e. a string,  so pass <code>email</code> instead of <code>ekey</code>"}], "tags": [], "owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "is_accepted": false, "score": 1, "last_activity_date": 1485465223, "last_edit_date": 1485465223, "creation_date": 1485382621, "answer_id": 41862679, "question_id": 41861698, "link": "https://stackoverflow.com/questions/41861698/prevent-duplicate-property-in-ndb-datastore/41862679#41862679", "title": "Prevent duplicate property in ndb datastore", "body": "<p>Updated answer based on Dan's comment.  Dan, thank you for correcting me.  Further updated, to respond to updated question.</p>\n\n<p>You can set the email address as the id of the Email entity and use <code>get_or_insert</code>.  Here the email storage is redundant because it is the id and also a property. You can probably get rid of this redundancy by checking another property at ### below.</p>\n\n<pre><code>class Email(ndb.Model):\n    email = ndb.StringProperty()\n    subscribed = ndb.BooleanProperty()\n\n    @staticmethod\n    def create(email):\n        ekey = ndb.Key(\"Email\", email)\n        entity = Email.get_or_insert(ekey)\n        if entity.email:  ###\n            # This email already exists\n            return None\n        entity.email = email\n        entity.subscribed = True\n        entity.put()\n        return entity\n\nclass Subscribe(webapp2.RequestHandler):\n    def post(self):\n        add = Email.create(self.request.get('email'))\n        success = add is not None \n        self.response.headers['Content-Type'] = 'application/json'   \n        obj = {\n            'success': success\n        } \n        self.response.out.write(json.dumps(obj))\n</code></pre>\n\n<p>I haven't tested the code above so there may be mistakes but it should lead you down the right path.</p>\n"}, {"comments": [{"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 2, "creation_date": 1485523540, "post_id": 41888398, "comment_id": 70971908, "body": "it should be noted that this method leaves room for duplicate entries because of eventual consistency - the query may return no results even if an  entity exists (recently created)."}, {"owner": {"reputation": 902, "user_id": 6657018, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9ac7b0f8eb569825e1547e94adad70ba?s=128&d=identicon&r=PG&f=1", "display_name": "shahzeb akram", "link": "https://stackoverflow.com/users/6657018/shahzeb-akram"}, "reply_to_user": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 0, "creation_date": 1485930181, "post_id": 41888398, "comment_id": 71124432, "body": "@DanCornilescu I am using this method in my different websites and not faced any kind of duplication yet. Can you please suggest a reliable solution so that i can also update it in my websites?"}], "tags": [], "owner": {"reputation": 902, "user_id": 6657018, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9ac7b0f8eb569825e1547e94adad70ba?s=128&d=identicon&r=PG&f=1", "display_name": "shahzeb akram", "link": "https://stackoverflow.com/users/6657018/shahzeb-akram"}, "is_accepted": false, "score": 1, "last_activity_date": 1485500952, "last_edit_date": 1485500952, "creation_date": 1485500132, "answer_id": 41888398, "question_id": 41861698, "link": "https://stackoverflow.com/questions/41861698/prevent-duplicate-property-in-ndb-datastore/41888398#41888398", "title": "Prevent duplicate property in ndb datastore", "body": "<p>Its a good approach to always create a separate model class. I created separate model class and updated your Subscribers class post method it will return false if email exists otherwise it will return true. I hope it will solve your problem.</p>\n\n<pre><code>class EmailModel(ndb.Model):\n       email = ndb.StringProperty()\n       subscribed = ndb.BooleanProperty()\n\nclass Subscribe(webapp2.RequestHandler):\n      def post(self):\n         email = self.request.get('email')\n         entity = EmailModel.query(EmailModel.email == email).get()\n         if entity:\n             # Duplicate\n             check = False\n         else:\n             add = Email()\n             add.email = self.request.get('email')\n             add.subscribed = True\n             add.put()\n             check = True\n         if check:\n              self.response.headers['Content-Type'] = 'application/json'   \n              obj = {\n                'success': True\n              } \n              self.response.out.write(json.dumps(obj))\n         else:\n              self.response.headers['Content-Type'] = 'application/json'   \n              obj = {\n                'success': False\n              } \n              self.response.out.write(json.dumps(obj))\n</code></pre>\n"}], "owner": {"reputation": 910, "user_id": 2250471, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bf1034c473e2772a9813c7b4285f1649?s=128&d=identicon&r=PG", "display_name": "user2250471", "link": "https://stackoverflow.com/users/2250471/user2250471"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1485611035, "creation_date": 1485378564, "last_edit_date": 1485611035, "question_id": 41861698, "link": "https://stackoverflow.com/questions/41861698/prevent-duplicate-property-in-ndb-datastore", "title": "Prevent duplicate property in ndb datastore", "body": "<p>I'm building a simple newsletter app that collects email addresses. I have a form that sends the email value via ajax to my python app, but I can't, for the life of me, figure out how to see if the email already exists. The below code is currently functional, I just don't know where/how to add the \"check for pre-existing entity\" stuff.</p>\n\n<pre><code>import webapp2\nimport json\n\nfrom google.appengine.ext import ndb\n\nclass Email(ndb.Model):\n    email = ndb.StringProperty()\n    subscribed = ndb.BooleanProperty()\n\n    @staticmethod\n    def create(email):\n        ekey = ndb.Key(\"Email\", email)\n        entity = Email.get_or_insert(ekey)\n        if entity.email:  ###\n            # This email already exists\n            return None\n        entity.email = email\n        entity.subscribed = True\n        entity.put()\n        return entity\n\nclass Subscribe(webapp2.RequestHandler):\n    def post(self):\n        add = Email.create(self.request.get('email'))\n        success = add is not None \n        self.response.headers['Content-Type'] = 'application/json'   \n        obj = {\n            'success': success\n        } \n        self.response.out.write(json.dumps(obj))\n\n\napp = webapp2.WSGIApplication([\n    webapp2.Route(r'/newsletter/new', Subscribe),\n], debug=True)\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1485378667, "post_id": 41861697, "comment_id": 70907133, "body": "<code>ds.to_series().diff()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 3, "last_activity_date": 1485378698, "creation_date": 1485378698, "answer_id": 41861743, "question_id": 41861697, "link": "https://stackoverflow.com/questions/41861697/best-way-to-get-the-difference-of-pandas-datetimeindex-series-in-days/41861743#41861743", "title": "Best way to get the difference of Pandas DatetimeIndex series in days?", "body": "<p>I think you need add <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Index.to_series.html\" rel=\"nofollow noreferrer\"><code>Index.to_series</code></a> and then <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.dt.days.html\" rel=\"nofollow noreferrer\"><code>Series.dt.days</code></a> if need numeric output:</p>\n\n<pre><code>print (ds.to_series().diff().dt.days)\n</code></pre>\n\n\n\n<pre><code>2016-01-01    NaN\n2016-01-04    3.0\n2016-01-05    1.0\n2016-01-06    1.0\n2016-01-07    1.0\n2016-01-08    1.0\n2016-01-11    3.0\n2016-01-12    1.0\n2016-01-13    1.0\n2016-01-14    1.0\n2016-01-15    1.0\n2016-01-18    3.0\n2016-01-19    1.0\n2016-01-20    1.0\n2016-01-21    1.0\n2016-01-22    1.0\n2016-01-25    3.0\n2016-01-26    1.0\n2016-01-27    1.0\n2016-01-28    1.0\n2016-01-29    1.0\n2016-02-01    3.0\n2016-02-02    1.0\n2016-02-03    1.0\n2016-02-04    1.0\n2016-02-05    1.0\n2016-02-08    3.0\n2016-02-09    1.0\n2016-02-10    1.0\n2016-02-11    1.0\n\n2016-11-21    3.0\n2016-11-22    1.0\n2016-11-23    1.0\n2016-11-24    1.0\n2016-11-25    1.0\n2016-11-28    3.0\n2016-11-29    1.0\n2016-11-30    1.0\n2016-12-01    1.0\n2016-12-02    1.0\n2016-12-05    3.0\n2016-12-06    1.0\n2016-12-07    1.0\n2016-12-08    1.0\n2016-12-09    1.0\n2016-12-12    3.0\n2016-12-13    1.0\n2016-12-14    1.0\n2016-12-15    1.0\n2016-12-16    1.0\n2016-12-19    3.0\n2016-12-20    1.0\n2016-12-21    1.0\n2016-12-22    1.0\n2016-12-23    1.0\n2016-12-26    3.0\n2016-12-27    1.0\n2016-12-28    1.0\n2016-12-29    1.0\n2016-12-30    1.0\nFreq: B, dtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1485378714, "creation_date": 1485378714, "answer_id": 41861747, "question_id": 41861697, "link": "https://stackoverflow.com/questions/41861697/best-way-to-get-the-difference-of-pandas-datetimeindex-series-in-days/41861747#41861747", "title": "Best way to get the difference of Pandas DatetimeIndex series in days?", "body": "<p>try this:</p>\n\n<pre><code>In [154]: ds.to_series().diff()\nOut[154]:\n2016-01-01      NaT\n2016-01-04   3 days\n2016-01-05   1 days\n2016-01-06   1 days\n2016-01-07   1 days\n2016-01-08   1 days\n2016-01-11   3 days\n2016-01-12   1 days\n2016-01-13   1 days\n2016-01-14   1 days\n2016-01-15   1 days\n2016-01-18   3 days\n2016-01-19   1 days\n2016-01-20   1 days\n2016-01-21   1 days\n2016-01-22   1 days\n2016-01-25   3 days\n2016-01-26   1 days\n2016-01-27   1 days\n2016-01-28   1 days\n2016-01-29   1 days\n2016-02-01   3 days\n2016-02-02   1 days\n2016-02-03   1 days\n2016-02-04   1 days\n              ...\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 6464998, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ec9cf4f21da682e7f2db944ecf3bdab6?s=128&d=identicon&r=PG&f=1", "display_name": "cxwf", "link": "https://stackoverflow.com/users/6464998/cxwf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 41861747, "answer_count": 2, "score": 3, "last_activity_date": 1485378714, "creation_date": 1485378561, "question_id": 41861697, "link": "https://stackoverflow.com/questions/41861697/best-way-to-get-the-difference-of-pandas-datetimeindex-series-in-days", "title": "Best way to get the difference of Pandas DatetimeIndex series in days?", "body": "<p>Say I have a series of pandas.tseries.index.DatetimeIndex, which is basically weekdays of 2016. Is there any easy/elegant way of finding out the sequential difference in days of the series? Just like .diff() does for an integer or float DataFrame column.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nds = pd.date_range(\"2016-01-01\",\"2016-12-31\",freq='B')\n\n# I was hoping for something like this:\nds.diff().days\n\n# this gives me what I want, but it is ugly and unintuitive\nnp.diff(ds) / 86400000000000\n</code></pre>\n\n<p>I also thought about <code>np.diff(ds.date)</code> but it gives me an ndarray of datetime.timedelta, and i don't know how to transform it into an integer array/series without a for-loop.</p>\n"}, {"tags": ["python", "amazon-kinesis"], "comments": [{"owner": {"reputation": 4764, "user_id": 1517410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d0f3c5b683ae64c738cf1af18796e1e?s=128&d=identicon&r=PG", "display_name": "ketan vijayvargiya", "link": "https://stackoverflow.com/users/1517410/ketan-vijayvargiya"}, "edited": false, "score": 0, "creation_date": 1486064607, "post_id": 41861693, "comment_id": 71197397, "body": "do you have two questions here or just one? can you please clarify your exact ask?"}], "answers": [{"comments": [{"owner": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "edited": false, "score": 0, "creation_date": 1485426460, "post_id": 41871180, "comment_id": 70924670, "body": "If the question is a duplicate, please mark it as such."}, {"owner": {"reputation": 3144, "user_id": 1622134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01518b7758695f86e5e32d3a8ba58082?s=128&d=identicon&r=PG", "display_name": "az3", "link": "https://stackoverflow.com/users/1622134/az3"}, "reply_to_user": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "edited": false, "score": 0, "creation_date": 1485431580, "post_id": 41871180, "comment_id": 70927282, "body": "I&#39;m not sure, the python tag is a little confusing."}, {"owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "edited": false, "score": 0, "creation_date": 1485454665, "post_id": 41871180, "comment_id": 70942541, "body": "That other question isn&#39;t quite the same. Interesting solution but not desirable in this case as it would fall to the client to balance the actual uids across the random partition keys and we have 13M of them. We can&#39;t randomly generate a partition key for each put like that other answer suggests because we&#39;ll have multiple consumers and we want a given uid to always go to the same consumer."}, {"owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "edited": false, "score": 0, "creation_date": 1485454853, "post_id": 41871180, "comment_id": 70942666, "body": "This question and answer is where I&#39;m looking currently: <a href=\"http://stackoverflow.com/questions/33633464/kinesis-partition-key-falls-always-in-the-same-shard?rq=1\" title=\"kinesis partition key falls always in the same shard\">stackoverflow.com/questions/33633464/&hellip;</a>. The idea would be to load the stream description with its hash key ranges, md5 the uid and compare it to the ranges to find out which shard it will end up in."}], "tags": [], "owner": {"reputation": 3144, "user_id": 1622134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01518b7758695f86e5e32d3a8ba58082?s=128&d=identicon&r=PG", "display_name": "az3", "link": "https://stackoverflow.com/users/1622134/az3"}, "is_accepted": true, "score": 0, "last_activity_date": 1485425668, "last_edit_date": 1495541822, "creation_date": 1485425668, "answer_id": 41871180, "question_id": 41861693, "link": "https://stackoverflow.com/questions/41861693/how-can-records-put-to-kinesis-be-efficiently-batched-when-smaller-than-the-25kb/41871180#41871180", "title": "How can records put to Kinesis be efficiently batched when smaller than the 25KB minimum payload unit?", "body": "<p>Excerpt from a previous answer:</p>\n\n<blockquote>\n  <ol>\n  <li>Try generating a few random partition_keys, and send distinct value with them to the stream.</li>\n  <li>Run a consumer application and see which shard delivered which value.</li>\n  <li>Then map the partition keys which you used to send each record with the corresponding shard.</li>\n  </ol>\n  \n  <p>So, now that you know which partition key to use while sending data to\n  a specific shard, you can use this map while sending those special \"to\n  be multiplexed\" records...</p>\n  \n  <p>It's hacky and brute force, but it will work.</p>\n  \n  <p>Also see previous answer regarding partition keys and shards:\n  <a href=\"https://stackoverflow.com/a/31377477/1622134\">https://stackoverflow.com/a/31377477/1622134</a></p>\n  \n  <p>Hope this helps.</p>\n  \n  <p>PS: If you use low level Kinesis APIs and create a custom PutRecord\n  request, in the response you can find which shard the data is placed\n  upon. PutRecordResponse contains shardId information;</p>\n  \n  <p><a href=\"http://docs.aws.amazon.com/kinesis/latest/APIReference/API_PutRecord.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/kinesis/latest/APIReference/API_PutRecord.html</a></p>\n</blockquote>\n\n<p>Source: <a href=\"https://stackoverflow.com/a/34901425/1622134\">https://stackoverflow.com/a/34901425/1622134</a></p>\n"}], "owner": {"reputation": 2375, "user_id": 3019685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b5b3ac807a5c21871570d9c73e8225?s=128&d=identicon&r=PG&f=1", "display_name": "systemjack", "link": "https://stackoverflow.com/users/3019685/systemjack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 770, "favorite_count": 0, "accepted_answer_id": 41871180, "answer_count": 1, "score": 0, "last_activity_date": 1486069151, "creation_date": 1485378554, "last_edit_date": 1495541822, "question_id": 41861693, "link": "https://stackoverflow.com/questions/41861693/how-can-records-put-to-kinesis-be-efficiently-batched-when-smaller-than-the-25kb", "title": "How can records put to Kinesis be efficiently batched when smaller than the 25KB minimum payload unit?", "body": "<p>Update:</p>\n\n<p>To give more detail on the problem, put_records are charged based on the number of records (partition keys) submitted and the size of the records. Any record that is smaller than 25KB is charged as one PU (<a href=\"https://aws.amazon.com/kinesis/streams/pricing/\" rel=\"nofollow noreferrer\">Payload Unit</a>). Our individual records average about 100 Bytes per second. If we put them individually we will spend a couple orders of magnitude more money on PUs than we need to.</p>\n\n<p>Regardless of the solution we want a given UID to always end up in the same shard to simplify the work on the other end of Kinesis. This happens naturally if the UID is used as the partition key.</p>\n\n<p>One way to deal with this would be to continue to do puts for each UID, but buffer them in time. But to efficiently use PUs we'd end up with a delay of 250 seconds introduced in the stream.</p>\n\n<p>The combination of the answer given here and <a href=\"https://stackoverflow.com/questions/33633464/kinesis-partition-key-falls-always-in-the-same-shard?rq=1\">this question</a> gives me a strategy for mapping multiple user IDs to static (predetermined) partition keys for each shard.</p>\n\n<p>This would allow multiple UIDs to be batched into one Payload Unit (using the shared partition key for the target shard) so they can be written out as they come in each second while ensuring a given UID ends up in the correct shard.</p>\n\n<p>Then I just need a buffer for each shard and as soon as enough records are present totaling just under 25KB or 500 records are reached (max per put_records call) the data can be pushed.</p>\n\n<p>That just leaves figuring out ahead of time which shard a given UID would naturally map to if it was used as a partition key.</p>\n\n<p>The <a href=\"http://docs.aws.amazon.com/streams/latest/dev/key-concepts.html\" rel=\"nofollow noreferrer\">AWS Kinesis documentation</a> says this is the method:</p>\n\n<blockquote>\n  <p>Partition keys are Unicode strings with a maximum length limit of 256\n  bytes. An MD5 hash function is used to map partition keys to 128-bit\n  integer values and to map associated data records to shards.</p>\n</blockquote>\n\n<p>Unless someone has done this before I'll try and see if the method in <a href=\"https://stackoverflow.com/questions/13213538/md5-to-integer-bits-in-python\">this question</a> generates valid mappings. I'm wondering if I need to convert a regular Python string into a unicode string before doing the MD5.</p>\n\n<p>There are probably other solutions, but this should work and I'll accept the existing answer here if no challenger appears.</p>\n"}, {"tags": ["python", "scikit-learn", "svm", "verbose"], "answers": [{"comments": [{"owner": {"reputation": 1221, "user_id": 5611863, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DO7w2.jpg?s=128&g=1", "display_name": "Ahmad Sultan", "link": "https://stackoverflow.com/users/5611863/ahmad-sultan"}, "edited": false, "score": 0, "creation_date": 1485432273, "post_id": 41863618, "comment_id": 70927664, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": true, "score": 5, "last_activity_date": 1485387108, "last_edit_date": 1592644375, "creation_date": 1485387108, "answer_id": 41863618, "question_id": 41861676, "link": "https://stackoverflow.com/questions/41861676/verbose-log-abbriviations-meaning-in-svc-scikit-learn/41863618#41863618", "title": "Verbose log abbriviations meaning in SVC, scikit-learn", "body": "<p>scikit-learn is using <a href=\"https://www.csie.ntu.edu.tw/%7Ecjlin/libsvm/\" rel=\"nofollow noreferrer\">libsvm's</a> implementation of support-vector machines (LinearSVC will use <a href=\"https://www.csie.ntu.edu.tw/%7Ecjlin/liblinear/\" rel=\"nofollow noreferrer\">liblinear</a> by the same authors).\nThe official website has it's own FAQ answering this <a href=\"http://www.csie.ntu.edu.tw/%7Ecjlin/libsvm/faq.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Excerpt:</p>\n<blockquote>\n<p>Q: The output of training C-SVM is like the following. What do they mean?</p>\n<p>optimization finished, #iter = 219</p>\n<p>nu = 0.431030</p>\n<p>obj = -100.877286, rho = 0.424632</p>\n<p>nSV = 132, nBSV = 107</p>\n<p>Total nSV = 132</p>\n<p>obj is the optimal objective value of the dual SVM problem</p>\n<p>rho is the bias term in the decision function sgn(w^Tx - rho)</p>\n<p>nSV and nBSV are number of support vectors and bounded support vectors (i.e., alpha_i = C)</p>\n<p>nu-svm is a somewhat equivalent form of C-SVM where C is replaced by nu</p>\n<p>nu simply shows the corresponding parameter. More details are in libsvm document</p>\n</blockquote>\n<p><a href=\"http://www.csie.ntu.edu.tw/%7Ecjlin/papers/libsvm.pdf\" rel=\"nofollow noreferrer\">Link to the libsvm document mentioned above (PDF!)</a></p>\n"}], "owner": {"reputation": 1221, "user_id": 5611863, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DO7w2.jpg?s=128&g=1", "display_name": "Ahmad Sultan", "link": "https://stackoverflow.com/users/5611863/ahmad-sultan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4890, "favorite_count": 1, "accepted_answer_id": 41863618, "answer_count": 1, "score": 4, "last_activity_date": 1485387108, "creation_date": 1485378494, "last_edit_date": 1485379893, "question_id": 41861676, "link": "https://stackoverflow.com/questions/41861676/verbose-log-abbriviations-meaning-in-svc-scikit-learn", "title": "Verbose log abbriviations meaning in SVC, scikit-learn", "body": "<p>I am looking for the meaning of verbose log abbriviations of SVC function in scikit-learn?</p>\n\n<p>If nSV is the number of support vectors, #iter is the number of iteration, what dose nBSV, rho,obj mean?</p>\n\n<p>This is an example:</p>\n\n<pre><code>import numpy as np\nfrom sklearn.svm import SVR\nsets=np.loadtxt('data\\Exp Rot.txt')         # reading data\nmodel=SVR(kernel='rbf',C=100,gamma=1,max_iter=100000,verbose=True)\nmodel.fit(sets[:,:2],sets[:,2])\nprint(model.score)\n</code></pre>\n\n<p>and here is the result</p>\n\n<p><a href=\"https://i.stack.imgur.com/Txp6B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Txp6B.png\" alt=\"this is the verbose log in console\"></a></p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 3919, "user_id": 3169961, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/42c9a71949249cac6172502dfce7da7d?s=128&d=identicon&r=PG", "display_name": "sabbahillel", "link": "https://stackoverflow.com/users/3169961/sabbahillel"}, "is_accepted": false, "score": 1, "last_activity_date": 1485378730, "creation_date": 1485378730, "answer_id": 41861751, "question_id": 41861608, "link": "https://stackoverflow.com/questions/41861608/adding-a-column-as-sum-of-another-columns-with-a-condition/41861751#41861751", "title": "Adding a column as sum of another columns with a condition", "body": "<p>Set up a loop over A and have the total. If the total is less than 0 then set it to 0. Then append the new total to B</p>\n\n<p>You have a <code>A = [ 1, ...,]</code>, total = 0, B = []</p>\n\n<pre><code>total = 0\nB = []\nfor i in range(len(A)):\n   # process the sum\n    total += A[i]\n    if total &lt; 0:\n        total = 0\n    B.append(total)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 7466056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuNwt.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/7466056/paul"}, "edited": false, "score": 0, "creation_date": 1485384444, "post_id": 41861765, "comment_id": 70909941, "body": "I just modified as follow in jupyter  notebook: result = [ ] cur_res = 0 for i in df[&#39;A&#39;]:     cur_res = max(cur_res + i, 0)     result.append(cur_res)  df[&#39;B&#39;] = result and it works. Thanks a lot!"}], "tags": [], "owner": {"reputation": 44261, "user_id": 3707607, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/6Jqb2.png?s=128&g=1", "display_name": "Ted Petrou", "link": "https://stackoverflow.com/users/3707607/ted-petrou"}, "is_accepted": false, "score": 1, "last_activity_date": 1485378771, "creation_date": 1485378771, "answer_id": 41861765, "question_id": 41861608, "link": "https://stackoverflow.com/questions/41861608/adding-a-column-as-sum-of-another-columns-with-a-condition/41861765#41861765", "title": "Adding a column as sum of another columns with a condition", "body": "<p>Here is a non-Pandas answer that iteratively loops through the values in column A and creates column B by never going below 0.</p>\n\n<pre><code>result = []\ncur_res = 0\nfor i in df.A:\n    cur_res = max(cur_res + i, 0)\n    result.append(cur_res)\n\ndf['B'] = result\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7466056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuNwt.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/7466056/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1485378771, "creation_date": 1485378219, "last_edit_date": 1485378254, "question_id": 41861608, "link": "https://stackoverflow.com/questions/41861608/adding-a-column-as-sum-of-another-columns-with-a-condition", "title": "Adding a column as sum of another columns with a condition", "body": "<p>I need to write a code to create the new column B embedding the cumsum of the first column A.</p>\n\n<p>When the cumsum value is &lt; 0, then the value in B should be 0. </p>\n\n<p>Then cumsum starts again until next value &lt;0.  </p>\n\n<p>I search similar answer but I was not able to find an answer fitting my case. Thanks for your help. </p>\n\n<pre><code>A       B\n1       1\n3       4\n5       9\n7       16\n-6      10\n-8      2\n-10     *0*\n6       6\n-15     *0*\n11      11\n</code></pre>\n"}, {"tags": ["python", "c++", "arrays", "numpy"], "comments": [{"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1485379290, "post_id": 41861601, "comment_id": 70907494, "body": "You probably want to search for a C++ numeric library, but note that if you are rewriting the code in C++ to improve the performance, you could be disappointed\u2014good NumPy code tends to be very fast to begin with."}, {"owner": {"reputation": 917, "user_id": 1692060, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vxVH1.png?s=128&g=1", "display_name": "Slowpoke", "link": "https://stackoverflow.com/users/1692060/slowpoke"}, "reply_to_user": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 1, "creation_date": 1485379396, "post_id": 41861601, "comment_id": 70907545, "body": "@DietrichEpp Thanks, I know that NumPy is fast, but getting rid of Python at any cost is essential."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1485383771, "post_id": 41861601, "comment_id": 70909673, "body": "&quot;At any cost&quot; shouldn&#39;t be in an engineer&#39;s vocabulary :-)"}], "answers": [{"comments": [{"owner": {"reputation": 917, "user_id": 1692060, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vxVH1.png?s=128&g=1", "display_name": "Slowpoke", "link": "https://stackoverflow.com/users/1692060/slowpoke"}, "edited": false, "score": 0, "creation_date": 1485380264, "post_id": 41861888, "comment_id": 70907959, "body": "Thanks! No, I have experience with OpenCV only. Maybe there are some hints somewhere about rewriting between Eigen and NumPy to start with? I understand that it sounds a bit lazy, but it becomes very hard and time-consuming to switch from one solution to another"}, {"owner": {"reputation": 938, "user_id": 4163506, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/57e96b2432b47a690aecb5f532739f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Lazarus535", "link": "https://stackoverflow.com/users/4163506/lazarus535"}, "reply_to_user": {"reputation": 917, "user_id": 1692060, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vxVH1.png?s=128&g=1", "display_name": "Slowpoke", "link": "https://stackoverflow.com/users/1692060/slowpoke"}, "edited": false, "score": 0, "creation_date": 1485383271, "post_id": 41861888, "comment_id": 70909430, "body": "You know what your original code is about, right? What it does, mathematically speaking? Then you can start here: <a href=\"http://eigen.tuxfamily.org/dox/group__TutorialMatrixClass.html\" rel=\"nofollow noreferrer\">eigen.tuxfamily.org/dox/group__TutorialMatrixClass.html</a> It starts by explaining basic matrix/linear algebra stuff...."}, {"owner": {"reputation": 938, "user_id": 4163506, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/57e96b2432b47a690aecb5f532739f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Lazarus535", "link": "https://stackoverflow.com/users/4163506/lazarus535"}, "reply_to_user": {"reputation": 917, "user_id": 1692060, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vxVH1.png?s=128&g=1", "display_name": "Slowpoke", "link": "https://stackoverflow.com/users/1692060/slowpoke"}, "edited": false, "score": 1, "creation_date": 1485383401, "post_id": 41861888, "comment_id": 70909492, "body": "As for direct rewrite instructions: I don&#39;t think such a thing exists, nor would it be very useful in general. But in general there should be an equivalent or at least very similar operation in the Eigen library for everything numpy can do."}, {"owner": {"reputation": 917, "user_id": 1692060, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vxVH1.png?s=128&g=1", "display_name": "Slowpoke", "link": "https://stackoverflow.com/users/1692060/slowpoke"}, "edited": false, "score": 0, "creation_date": 1485419839, "post_id": 41861888, "comment_id": 70921106, "body": "Ok, as long as there is an equivalent, I&#39;ll try it. Thank you!"}], "tags": [], "owner": {"reputation": 938, "user_id": 4163506, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/57e96b2432b47a690aecb5f532739f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Lazarus535", "link": "https://stackoverflow.com/users/4163506/lazarus535"}, "is_accepted": true, "score": 3, "last_activity_date": 1485379342, "creation_date": 1485379342, "answer_id": 41861888, "question_id": 41861601, "link": "https://stackoverflow.com/questions/41861601/c-library-with-array-operations-similar-to-python-numpy/41861888#41861888", "title": "C++ library with array operations similar to Python/NumPy", "body": "<p>I think Eigen is probably suitable for you. If you have not tried it (i don't know based on your question), you should take a look at it. Apart from being very fast (amongst the fasterst, from what i've gathered), it has also a pretty natural syntax. It does not get much better, if C++ only is concerned.</p>\n\n<p><a href=\"http://eigen.tuxfamily.org\" rel=\"nofollow noreferrer\">http://eigen.tuxfamily.org</a></p>\n"}], "owner": {"reputation": 917, "user_id": 1692060, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/vxVH1.png?s=128&g=1", "display_name": "Slowpoke", "link": "https://stackoverflow.com/users/1692060/slowpoke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1357, "favorite_count": 0, "closed_date": 1485387827, "accepted_answer_id": 41861888, "answer_count": 1, "score": 1, "last_activity_date": 1485379342, "creation_date": 1485378197, "last_edit_date": 1485378590, "question_id": 41861601, "link": "https://stackoverflow.com/questions/41861601/c-library-with-array-operations-similar-to-python-numpy", "closed_reason": "Not suitable for this site", "title": "C++ library with array operations similar to Python/NumPy", "body": "<p>Please excuse for asking possibly a too broad question. However, my task is very concrete: having not much experience with Python, I want to rewrite Python code to C++ (OpenCV) and I wonder if there is a good documented comparison for some C++ library (I know that there exist OpenBLAS, Eigen, etc.) that would allow me relatively easily repeat all the array operations made in original code which turns to be quite a challenge for me using OpenCV. Maybe some one actually wrote posts about syntax comparison?</p>\n\n<p>Python code:</p>\n\n<pre><code>image = im_orig.copy()\n# Create input for multiples of net input/output changes.\nim_bg_width = int(_np.ceil(\n    float(image.shape[1]) * scale_factor / _STRIDE) * _STRIDE)\nim_bg_height = int(_np.ceil(\n    float(image.shape[0]) * scale_factor / _STRIDE) * _STRIDE)\npad_size = 64\nim_bot_pixels = image[-1:, :, :]\nim_bot = _np.tile(im_bot_pixels, (pad_size, 1, 1))\nimage = _np.vstack((image, im_bot))\nim_right_pixels = image[:, -1:, :]\nim_right = _np.tile(im_right_pixels, (1, pad_size, 1))\nimage = _np.hstack((image, im_right))\nimage = _scipy.misc.imresize(image, scale_factor, interp='bilinear')\nimage = image.astype('float32') - _MEAN\n\nnet_input = _np.zeros((im_bg_height, im_bg_width, 3), dtype='float32')\nnet_input[:min(net_input.shape[0], image.shape[0]),\n          :min(net_input.shape[1], image.shape[1]), :] =\\\n    image[:min(net_input.shape[0], image.shape[0]),\n          :min(net_input.shape[1], image.shape[1]), :]\n</code></pre>\n\n<p>EDIT: I want to get rid of python dependecy (and especially from python C++ API) at any cost and have the program actually readable, unlike what Cython produces.</p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 1, "creation_date": 1485400116, "post_id": 41861580, "comment_id": 70914155, "body": "No clue, both stable (<code>pip install plyer</code>) and master (<code>pip install https:&#47;&#47;github.com&#47;kivy&#47;plyer&#47;zipball&#47;master</code>) work ok for me on both py2 and py3."}, {"owner": {"reputation": 362, "user_id": 6016900, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/3DOmM.jpg?s=128&g=1", "display_name": "phunsukwangdu", "link": "https://stackoverflow.com/users/6016900/phunsukwangdu"}, "edited": false, "score": 0, "creation_date": 1485418395, "post_id": 41861580, "comment_id": 70920325, "body": "Adding to KeyWeeUsr you can include it in requirements in buildozer.spec file if you are developing for ios or android."}, {"owner": {"reputation": 3, "user_id": 7471162, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GC66OKkeRqw/AAAAAAAAAAI/AAAAAAAAAKc/pEfL_JqkWrA/photo.jpg?sz=128", "display_name": "Arden Kolodner", "link": "https://stackoverflow.com/users/7471162/arden-kolodner"}, "edited": false, "score": 0, "creation_date": 1485430846, "post_id": 41861580, "comment_id": 70926904, "body": "I am developing for both (ideally...), I just installed buildozer, what do I type in the .spec to have it build plyer? Also, I&#39;m testing it on my Mac. Will it still work?"}, {"owner": {"reputation": 362, "user_id": 6016900, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/3DOmM.jpg?s=128&g=1", "display_name": "phunsukwangdu", "link": "https://stackoverflow.com/users/6016900/phunsukwangdu"}, "edited": false, "score": 0, "creation_date": 1485432859, "post_id": 41861580, "comment_id": 70927990, "body": "Lurk around plyer examples.U need to put plyer in requirements as done <a href=\"https://github.com/kivy/plyer/blob/master/examples/audio/buildozer.spec\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 3, "user_id": 7471162, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GC66OKkeRqw/AAAAAAAAAAI/AAAAAAAAAKc/pEfL_JqkWrA/photo.jpg?sz=128", "display_name": "Arden Kolodner", "link": "https://stackoverflow.com/users/7471162/arden-kolodner"}, "edited": false, "score": 0, "creation_date": 1485465567, "post_id": 41861580, "comment_id": 70948602, "body": "Now I&#39;m having trouble figuring out how to use buildozer... :( Also if it helps pip install plyer installs it for python but not kivy. Am I doing it wrong?"}, {"owner": {"reputation": 3, "user_id": 7471162, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GC66OKkeRqw/AAAAAAAAAAI/AAAAAAAAAKc/pEfL_JqkWrA/photo.jpg?sz=128", "display_name": "Arden Kolodner", "link": "https://stackoverflow.com/users/7471162/arden-kolodner"}, "edited": false, "score": 0, "creation_date": 1485466050, "post_id": 41861580, "comment_id": 70948899, "body": "Scratch that, I was doing pip install plyer instead of kivy -m pip install plyer. It works now. Thanks everyone!"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7471162, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GC66OKkeRqw/AAAAAAAAAAI/AAAAAAAAAKc/pEfL_JqkWrA/photo.jpg?sz=128", "display_name": "Arden Kolodner", "link": "https://stackoverflow.com/users/7471162/arden-kolodner"}, "edited": false, "score": 0, "creation_date": 1485466094, "post_id": 41869329, "comment_id": 70948925, "body": "This worked, but only once I realized you meant kivy -m pip install plyer instead of just pip install plyer."}], "tags": [], "owner": {"reputation": 362, "user_id": 6016900, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/3DOmM.jpg?s=128&g=1", "display_name": "phunsukwangdu", "link": "https://stackoverflow.com/users/6016900/phunsukwangdu"}, "is_accepted": true, "score": 0, "last_activity_date": 1485467255, "last_edit_date": 1485467255, "creation_date": 1485418944, "answer_id": 41869329, "question_id": 41861580, "link": "https://stackoverflow.com/questions/41861580/why-cant-i-set-up-plyer/41869329#41869329", "title": "Why can&#39;t I set up Plyer?", "body": "<p>Ways to use plyer with your projects :-</p>\n\n<ul>\n<li><p>Download <a href=\"https://github.com/kivy/plyer\" rel=\"nofollow noreferrer\">plyer</a> and set python path eg(export PYTHONPATH=~/code/plyer:$PYTHONPATH)</p></li>\n<li><p>Include plyer in your buildozer.spec file :) </p></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 7471162, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GC66OKkeRqw/AAAAAAAAAAI/AAAAAAAAAKc/pEfL_JqkWrA/photo.jpg?sz=128", "display_name": "Arden Kolodner", "link": "https://stackoverflow.com/users/7471162/arden-kolodner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1252, "favorite_count": 0, "accepted_answer_id": 41869329, "answer_count": 1, "score": 0, "last_activity_date": 1485467255, "creation_date": 1485378106, "last_edit_date": 1485379153, "question_id": 41861580, "link": "https://stackoverflow.com/questions/41861580/why-cant-i-set-up-plyer", "title": "Why can&#39;t I set up Plyer?", "body": "<p>I am trying to install Plyer. But when I run setup.py I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/arden/Downloads/plyer-1.2.4/setup.py\", line 28, in &lt;module&gt;\n    changelog = fd.read()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/encodings/ascii.py\", line 26, in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 4636: ordinal not in range(128)\n</code></pre>\n\n<p>I don't know what's going on or if there's a better way to install it than just running it.</p>\n\n<p>I use a Mac (OS 10.12) and Python 3.5 through IDLE.</p>\n"}, {"tags": ["python", "python-3.4", "pillow", "pyzo"], "comments": [{"owner": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "edited": false, "score": 0, "creation_date": 1485378586, "post_id": 41861534, "comment_id": 70907081, "body": "What command did you run?"}, {"owner": {"reputation": 11, "user_id": 7471096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb4e63563ce890151f34b11d1a5b26ed?s=128&d=identicon&r=PG&f=1", "display_name": "Romain.B", "link": "https://stackoverflow.com/users/7471096/romain-b"}, "reply_to_user": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "edited": false, "score": 0, "creation_date": 1485616169, "post_id": 41861534, "comment_id": 71003750, "body": "In fact I use the module tkinter on pyzo2014a and I need to install pillow in order to put a picture in the background of my canvas. And to do that, I have used the syntax &#39;pip install pillow&#39; written on my pyzo shell."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7471096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb4e63563ce890151f34b11d1a5b26ed?s=128&d=identicon&r=PG&f=1", "display_name": "Romain.B", "link": "https://stackoverflow.com/users/7471096/romain-b"}, "edited": false, "score": 0, "creation_date": 1485615583, "post_id": 41862606, "comment_id": 71003578, "body": "I have tried this handling and it gives the same report (the same error). I tried this several times and now my computer display : &quot;Cette application ne peut pas s&#39;ex&#233;cuter sur votre PC&quot;"}], "tags": [], "owner": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "is_accepted": false, "score": 0, "last_activity_date": 1485382279, "creation_date": 1485382279, "answer_id": 41862606, "question_id": 41861534, "link": "https://stackoverflow.com/questions/41861534/error-while-installing-pillow-on-pyzo/41862606#41862606", "title": "Error while installing pillow on pyzo", "body": "<p>It seems that the program is trying to build Pillow from source and failing. On Windows programs are often distributed in binary (pre-built) form so the whole build process can be avoided.</p>\n\n<p>Pyzo comes with two tools for installing pacakges. Pip which builds from source, and Conda which installs binaries.</p>\n\n<p>To install Pillow using Conda, open the program <code>cmd</code> and run</p>\n\n<pre><code>C:\\Pyzo2014\\Scripts\\conda.exe install Pillow\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7471096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb4e63563ce890151f34b11d1a5b26ed?s=128&d=identicon&r=PG&f=1", "display_name": "Romain.B", "link": "https://stackoverflow.com/users/7471096/romain-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1487867799, "creation_date": 1487867799, "answer_id": 42421421, "question_id": 41861534, "link": "https://stackoverflow.com/questions/41861534/error-while-installing-pillow-on-pyzo/42421421#42421421", "title": "Error while installing pillow on pyzo", "body": "<p>Thank you for your aid but the best solution is : download an upper version. For my part I have downloaded Pyzo2016 (on <a href=\"http://www.pyzo.org/start.html#quickstart\" rel=\"nofollow noreferrer\">http://www.pyzo.org/start.html#quickstart</a> ), then I have installed : it and 'Python environment'. And by using the syntax :</p>\n\n<pre><code>conda install pillow\n</code></pre>\n\n<p>written on my shell, I have installed the modul PIL and it works very well !! </p>\n"}], "owner": {"reputation": 11, "user_id": 7471096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb4e63563ce890151f34b11d1a5b26ed?s=128&d=identicon&r=PG&f=1", "display_name": "Romain.B", "link": "https://stackoverflow.com/users/7471096/romain-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487867799, "creation_date": 1485377961, "last_edit_date": 1485379121, "question_id": 41861534, "link": "https://stackoverflow.com/questions/41861534/error-while-installing-pillow-on-pyzo", "title": "Error while installing pillow on pyzo", "body": "<p>I'm trying to install PIL on pyzo2014a but it give an error:</p>\n\n<blockquote>\n  <p>TypeError: <code>__call__()</code> missing 1 required positional argument: 'name'\"</p>\n</blockquote>\n\n<p>Here is the complete report:</p>\n\n<pre><code>C:\\pyzo2014a\\lib\\site-packages\\pip\\__main__.py run on 01/25/17 21:50:00\nDownloading/unpacking pillow\nGetting page https://pypi.python.org/simple/pillow/\nURLs to search for versions for pillow:\n* https://pypi.python.org/simple/pillow/\nAnalyzing links from page https://pypi.python.org/simple/pillow/\nSkipping link  https://pypi.python.org/packages/00/15/e776f42afb6d79f27710aded08fd50998174f772621f1cda5d44701be1ed/Pillow-2.1.0-py2.6-win32.egg#md5=0a85404ffb50fff762615a47e6d363e9 (from https://pypi.python.org/simple/pillow/); unknown archive format: .egg\n\nIgnoring link                https://pypi.python.org/packages/7b/11/1d49e73f946234604325f1aafdc2781d02963ea83d    cdceda595a62d978f0/Pillow-3.1.0.rc1.zip#md5=df5113cb2e0bc130f3aeb5c543829f18       (from https://pypi.python.org/simple/pillow/), version 3.1.0.rc1 is a pre-release     (use --pre to allow).\nIgnoring link   https://pypi.python.org/packages/91/a8/8ea7bbf6e950531509063b08b30595940f8aef4969    becfdb2b81f2941b2d/Pillow-3.1.0- rc1.tar.gz#md5=e37ac34db7259c95b513939595ad1e7c (from  https://pypi.python.org/simple/pillow/), version 3.1.0-rc1 is a pre-release (use  --pre to allow).\nIgnoring link  https://pypi.python.org/packages/99/c7/2b01d25cf2e66edd5fbcbf372dae68a9a079a17a14c6b6fadc5df69a930f/Pillow-3.1.0rc1-cp34-none-win_amd64.whl#md5=ff9da8cb052ff99bbf3b50a15d3cc7b4 (from https://pypi.python.org/simple/pillow/), version 3.1.0rc1 is a pre-release (use --pre to allow).\nUsing version 4.0.0 (newest of versions: 4.0.0, 3.4.2, 3.4.2, 3.4.1, 3.4.1, 3.4.0, 3.4.0, 3.3.3, 3.3.3, 3.3.2, 3.3.2, 3.3.1, 3.3.1, 3.3.0, 3.3.0, 3.2.0, 3.2.0, 3.2.0, 3.1.2, 3.1.2, 3.1.1, 3.1.1, 3.1.1, 3.1.0, 3.1.0, 3.1.0, 3.0.0, 3.0.0, 3.0.0, 2.9.0, 2.9.0, 2.9.0, 2.8.2, 2.8.2, 2.8.2, 2.8.1, 2.8.1, 2.8.1, 2.8.0, 2.8.0, 2.8.0, 2.7.0, 2.7.0, 2.7.0, 2.6.2, 2.6.2, 2.6.2, 2.6.1, 2.6.1, 2.6.1, 2.6.0, 2.6.0, 2.6.0, 2.5.3, 2.5.3, 2.5.2, 2.5.2, 2.5.1, 2.5.1, 2.5.0, 2.5.0, 2.4.0, 2.4.0, 2.3.2, 2.3.1, 2.3.0, 2.3.0, 2.2.2, 2.2.2, 2.2.1, 2.2.0, 2.1.0, 2.0.0, 1.7.8, 1.7.7, 1.7.6, 1.7.6, 1.7.5, 1.7.4, 1.7.3, 1.7.2, 1.7.1, 1.7.0, 1.6, 1.5, 1.4, 1.3, 1.2, 1.1, 1.0)\nDownloading from URL  https://pypi.python.org/packages/8d/80/eca7a2d1a3c2dafb960f32f844d570de988e609f5fd17de92e1cf6a01b0a/Pillow-4.0.0.tar.gz#md5=d5af224b0fa2c66dacc9814785fef9e7 (from  https://pypi.python.org/simple/pillow/)\nCleaning up...\nRemoving temporary dir C:\\Users\\Acer\\AppData\\Local\\Temp\\pip_build_Acer...\nException:\nTraceback (most recent call last):\nFile \"C:\\pyzo2014a\\lib\\site-packages\\pip\\basecommand.py\", line 122, in main\nstatus = self.run(options, args)\nFile \"C:\\pyzo2014a\\lib\\site-packages\\pip\\commands\\install.py\", line 278, in run\nrequirement_set.prepare_files(finder, force_root_egg_info=self.bundle,  bundle=self.bundle)\nFile \"C:\\pyzo2014a\\lib\\site-packages\\pip\\req.py\", line 1229, in prepare_files\nreq_to_install.run_egg_info()\nFile \"C:\\pyzo2014a\\lib\\site-packages\\pip\\req.py\", line 292, in run_egg_info\nlogger.notify('Running setup.py (path:%s) egg_info for package %s' % (self.setup_py, self.name))\nFile \"C:\\pyzo2014a\\lib\\site-packages\\pip\\req.py\", line 265, in setup_py\nimport setuptools\nFile \"C:\\pyzo2014a\\lib\\site-packages\\setuptools\\__init__.py\", line 12, in &lt;module&gt;\nimport setuptools.version\nFile \"C:\\pyzo2014a\\lib\\site-packages\\setuptools\\version.py\", line 1, in &lt;module&gt;\nimport pkg_resources\nFile \"C:\\pyzo2014a\\lib\\site-packages\\pkg_resources\\__init__.py\", line 72, in &lt;module&gt;\nimport packaging.requirements\nFile \"C:\\pyzo2014a\\lib\\site-packages\\packaging\\requirements.py\", line 59, in &lt;module&gt;\n MARKER_EXPR = originalTextFor(MARKER_EXPR())(\"marker\")\n TypeError: __call__() missing 1 required positional argument: 'name'\n</code></pre>\n\n<p>What does this mean?</p>\n"}, {"tags": ["python", "json", "subprocess", "jq"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1485378897, "post_id": 41861503, "comment_id": 70907251, "body": "To get the subprocess module to handle shell features such as redirection, you need to add <code>shell=True</code> to the call."}, {"owner": {"reputation": 183, "user_id": 6332399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8d1af1ccd9ed7519f953ddc161dd36f4?s=128&d=identicon&r=PG&f=1", "display_name": "j doe", "link": "https://stackoverflow.com/users/6332399/j-doe"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1485379024, "post_id": 41861503, "comment_id": 70907326, "body": "I&#39;ve already done this sorry I forgot to add that to my question, but it did not solve my problem."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1485380197, "post_id": 41861503, "comment_id": 70907932, "body": "Clearly a Windows-specific problem. Not having a Windows system available to test with, the easy answer is to give a solution that bypasses relying on the shell to do things for you altogether."}, {"owner": {"user_type": "does_not_exist", "display_name": "user554546"}, "edited": false, "score": 0, "creation_date": 1485541253, "post_id": 41861503, "comment_id": 70983388, "body": "Why are you using <code>jq</code> for this when Python has a <code>json</code> library built right in?"}, {"owner": {"reputation": 183, "user_id": 6332399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8d1af1ccd9ed7519f953ddc161dd36f4?s=128&d=identicon&r=PG&f=1", "display_name": "j doe", "link": "https://stackoverflow.com/users/6332399/j-doe"}, "edited": false, "score": 0, "creation_date": 1485541371, "post_id": 41861503, "comment_id": 70983442, "body": "I don&#39;t really know how to manipulate json with the python built in library, and know more jq. Do you have any documentation that I should read? I can&#39;t really find exactly what I need"}, {"owner": {"user_type": "does_not_exist", "display_name": "user554546"}, "edited": false, "score": 1, "creation_date": 1485541796, "post_id": 41861503, "comment_id": 70983657, "body": "<a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/json.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 0, "last_activity_date": 1485380140, "creation_date": 1485380140, "answer_id": 41862080, "question_id": 41861503, "link": "https://stackoverflow.com/questions/41861503/jq-command-not-working-in-python/41862080#41862080", "title": "JQ command not working in python", "body": "<p>Open the output file yourself, and you won't need to rely on shell behavior (which is, obviously, not working in the present case) to do it for you.</p>\n\n<pre><code>subprocess.call(['jq', '.[]', 'data.txt'],\n  cwd=r'C:/Users/john/Desktop/swag',\n  stdout=open('C:/Users/john/Desktop/swag/newfile.json', 'w'))\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 6332399, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8d1af1ccd9ed7519f953ddc161dd36f4?s=128&d=identicon&r=PG&f=1", "display_name": "j doe", "link": "https://stackoverflow.com/users/6332399/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 860, "favorite_count": 0, "accepted_answer_id": 41862080, "answer_count": 1, "score": -1, "last_activity_date": 1485380140, "creation_date": 1485377816, "last_edit_date": 1485379675, "question_id": 41861503, "link": "https://stackoverflow.com/questions/41861503/jq-command-not-working-in-python", "title": "JQ command not working in python", "body": "<p>So I have a jq command that converts my json array into a json object. The command works normally in the windows terminal, but when I try to implement it into my python program i get this: jq: error: </p>\n\n<pre><code>Could not open file &gt;newfile.json: Invalid argument.\n</code></pre>\n\n<p>Here is my jq command which works and puts the transformed json into newfile.json:</p>\n\n<pre><code>jq \".[]\" data.txt &gt;newfile.json\n</code></pre>\n\n<p>Here is my subprocess call in my python program:</p>\n\n<pre><code> subprocess.call('jq \".[]\" data.txt &gt;newfile.json', cwd=r'C:/Users/john/Desktop/swag', shell=True)\n</code></pre>\n"}, {"tags": ["python", "plot", "colors", "scatter-plot", "seaborn"], "answers": [{"tags": [], "owner": {"reputation": 25119, "user_id": 2166823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/daI9F.jpg?s=128&g=1", "display_name": "joelostblom", "link": "https://stackoverflow.com/users/2166823/joelostblom"}, "is_accepted": false, "score": 1, "last_activity_date": 1507862371, "creation_date": 1507862371, "answer_id": 46721689, "question_id": 41861443, "link": "https://stackoverflow.com/questions/41861443/how-to-color-individual-markers-in-seaborn-jointplot/46721689#46721689", "title": "How to color individual markers in Seaborn Jointplot?", "body": "<pre><code>sns.jointplot(u, v, joint_kws={'color':None, 'c':c.tolist()})\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6EeTe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6EeTe.png\" alt=\"enter image description here\"></a></p>\n\n<p>A joinplot consist of the marginal plots on the sides (histograms by default) and the jointplot in the middle (a scatterplot by default), which you can read more about in the <a href=\"http://seaborn.pydata.org/generated/seaborn.JointGrid.html\" rel=\"nofollow noreferrer\">JointGrid documentation</a>.</p>\n\n<p>In this case, you want to pass arguments to the scatter plot in the middle, which you can do with the <code>joint_kws</code> parameter in <code>sns.jointplot()</code>. This parameter takes a dictionary of parameter names and their arguments, and passes it to the function used to create the middle plot, in this case <code>plt.scatter()</code>. The <code>c</code> parameter controls the colors, and accepts a list of color tuples, so you will need to convert the array via <code>c.tolist()</code>. One last caveat is that seaborn already passes a color to the <code>color</code> parameter of <code>plt.scatter()</code>, so we need to set this to <code>None</code> to avoid raising an error from trying to set the marker colors twice.</p>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1157, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1507862371, "creation_date": 1485377494, "question_id": 41861443, "link": "https://stackoverflow.com/questions/41861443/how-to-color-individual-markers-in-seaborn-jointplot", "title": "How to color individual markers in Seaborn Jointplot?", "body": "<p>I believe <code>seaborn</code> wants <code>RGBA</code> color format so I gave it a list of  <code>RGBA</code> tuples like in <code>matplotlib</code> but it didn't like it.  I tried doing something like <code>g = sns.jointplot(plotdataandstuff)</code> but I couldn't figure out how to navigate the <code>&lt;seaborn.axisgrid.JointGrid at 0x135943d30&gt;</code> object</p>\n\n<pre><code>u = np.array([ 3.41959, 1.79315, 1.17229, 1.59909, 1.27337, 1.21917, 2.60591, 2.0571 , 1.83865, 1.94869])\nv = np.array([238614, 166714, 152668, 131310, 131249, 130562, 118618, 117329, 101841, 87626])\nc = np.array([(0.38998137426811552, 0.61096214975059782, 0.40096663322878834, 1.0), \n              (0.91819597903385741, 0.79247826098536023, 0.76754610185633376, 1.0), \n              (0.80693280982205806, 0.72756928157840872, 0.59917426429032361, 1.0), \n              (0.67210067882600855, 0.69086449405289441, 0.48640673089730696, 1.0), \n              (0.57590730770024134, 0.66895624366124595, 0.43845220910273563, 1.0), \n              (0.63252315055536124, 0.68193477278802606, 0.4639878928469835, 1.0), (\n                  0.72522872317321141, 0.70350066480196072, 0.52329091024506846, 1.0), \n              (0.67210067882600855, 0.69086449405289441, 0.48640673089730696, 1.0), \n              (0.93684201381384091, 0.81480601869516889, 0.81083911715694279, 1.0), \n              (0.83654311363401856, 0.73919037695009648, 0.63434086709274395, 1.0)], dtype=object)\nsns.jointplot(x=u, y=v, color=c)\n</code></pre>\n\n<p>Here's the error</p>\n\n<pre><code>TypeError                                 Traceback (most recent call last)\n/Users/jespinoz/anaconda/lib/python3.5/site-packages/matplotlib/colors.py in to_rgba(c, alpha)\n    140     try:\n--&gt; 141         rgba = _colors_full_map.cache[c, alpha]\n    142     except (KeyError, TypeError):  # Not in cache, or unhashable.\n\nTypeError: unhashable type: 'numpy.ndarray'\n\nDuring handling of the above exception, another exception occurred:\n\nTypeError                                 Traceback (most recent call last)\n/Users/jespinoz/anaconda/lib/python3.5/site-packages/matplotlib/colors.py in _to_rgba_no_colorcycle(c, alpha)\n    191     try:\n--&gt; 192         c = tuple(map(float, c))\n    193     except TypeError:\n\nTypeError: only length-1 arrays can be converted to Python scalars\n\nDuring handling of the above exception, another exception occurred:\n\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-69-48b550e1edb6&gt; in &lt;module&gt;()\n     13               (0.93684201381384091, 0.81480601869516889, 0.81083911715694279, 1.0),\n     14               (0.83654311363401856, 0.73919037695009648, 0.63434086709274395, 1.0)], dtype=object)\n---&gt; 15 sns.jointplot(x=u, y=v, color=c)\n\n/Users/jespinoz/anaconda/lib/python3.5/site-packages/seaborn/distributions.py in jointplot(x, y, data, kind, stat_func, color, size, ratio, space, dropna, xlim, ylim, joint_kws, marginal_kws, annot_kws, **kwargs)\n    789     if color is None:\n    790         color = color_palette()[0]\n--&gt; 791     color_rgb = mpl.colors.colorConverter.to_rgb(color)\n    792     colors = [set_hls_values(color_rgb, l=l) for l in np.linspace(1, 0, 12)]\n    793     cmap = blend_palette(colors, as_cmap=True)\n\n/Users/jespinoz/anaconda/lib/python3.5/site-packages/matplotlib/colors.py in to_rgb(arg)\n    307         if *arg* is *RGBA*, the *A* will simply be discarded.\n    308         \"\"\"\n--&gt; 309         return to_rgb(arg)\n    310 \n    311     @staticmethod\n\n/Users/jespinoz/anaconda/lib/python3.5/site-packages/matplotlib/colors.py in to_rgb(c)\n    242     \"\"\"Convert `c` to an RGB color, silently dropping the alpha channel.\n    243     \"\"\"\n--&gt; 244     return to_rgba(c)[:3]\n    245 \n    246 \n\n/Users/jespinoz/anaconda/lib/python3.5/site-packages/matplotlib/colors.py in to_rgba(c, alpha)\n    141         rgba = _colors_full_map.cache[c, alpha]\n    142     except (KeyError, TypeError):  # Not in cache, or unhashable.\n--&gt; 143         rgba = _to_rgba_no_colorcycle(c, alpha)\n    144         try:\n    145             _colors_full_map.cache[c, alpha] = rgba\n\n/Users/jespinoz/anaconda/lib/python3.5/site-packages/matplotlib/colors.py in _to_rgba_no_colorcycle(c, alpha)\n    192         c = tuple(map(float, c))\n    193     except TypeError:\n--&gt; 194         raise ValueError(\"Invalid RGBA argument: {!r}\".format(orig_c))\n    195     if len(c) not in [3, 4]:\n    196         raise ValueError(\"RGBA sequence should have length 3 or 4\")\n\nValueError: Invalid RGBA argument: array([[0.3899813742681155, 0.6109621497505978, 0.40096663322878834, 1.0],\n       [0.9181959790338574, 0.7924782609853602, 0.7675461018563338, 1.0],\n       [0.8069328098220581, 0.7275692815784087, 0.5991742642903236, 1.0],\n       [0.6721006788260085, 0.6908644940528944, 0.48640673089730696, 1.0],\n       [0.5759073077002413, 0.668956243661246, 0.43845220910273563, 1.0],\n       [0.6325231505553612, 0.6819347727880261, 0.4639878928469835, 1.0],\n       [0.7252287231732114, 0.7035006648019607, 0.5232909102450685, 1.0],\n       [0.6721006788260085, 0.6908644940528944, 0.48640673089730696, 1.0],\n       [0.9368420138138409, 0.8148060186951689, 0.8108391171569428, 1.0],\n       [0.8365431136340186, 0.7391903769500965, 0.634340867092744, 1.0]], dtype=object)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "import", "python-importlib"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1485557431, "post_id": 41861427, "comment_id": 70991055, "body": "As far as Python is concerned, this &quot;implicit sibling import&quot; is an ordinary absolute import, and most definitely not an implicit relative import. Implicit relative imports are no longer supported in Python 3."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1485558162, "post_id": 41861427, "comment_id": 70991294, "body": "Altering <code>sys.path</code> is probably your best bet. Whatever you do to make the import machinery look in that file&#39;s folder, it&#39;ll have to linger beyond the duration of the initial import, since functions from that file might perform further imports when you call them."}, {"owner": {"reputation": 2325, "user_id": 1490091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab70145d73090ea06d7a6eb09c241fb7?s=128&d=identicon&r=PG", "display_name": "Pedro Cattori", "link": "https://stackoverflow.com/users/1490091/pedro-cattori"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1485570059, "post_id": 41861427, "comment_id": 70993669, "body": "@user2357112 Indeed <a href=\"https://www.python.org/dev/peps/pep-0008/#imports\" rel=\"nofollow noreferrer\">PEP 8</a> does say that relative implicit imports are disabled in Python 3. But I am left wondering: if the above example isn&#39;t a relative implicit import, then what is? Do you have an example?"}, {"owner": {"reputation": 2325, "user_id": 1490091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab70145d73090ea06d7a6eb09c241fb7?s=128&d=identicon&r=PG", "display_name": "Pedro Cattori", "link": "https://stackoverflow.com/users/1490091/pedro-cattori"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1485574108, "post_id": 41861427, "comment_id": 70994244, "body": "@user2357112 the <code>import lib</code> line does not specify any package name nor does it use <code>.</code> . So is the only thing that doesn&#39;t make that an implicit relative import the fact that it is not done within a package?"}, {"owner": {"reputation": 3231, "user_id": 2348587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438775d2759253a1ac650e11ab237070?s=128&d=identicon&r=PG", "display_name": "Darrick Herwehe", "link": "https://stackoverflow.com/users/2348587/darrick-herwehe"}, "edited": false, "score": 0, "creation_date": 1485875429, "post_id": 41861427, "comment_id": 71100600, "body": "This question is basically asking, &quot;How do I accomplish a thing without using the tools that I&#39;ve been given to accomplish that thing.&quot; Like others, I would modify the sys.path."}, {"owner": {"reputation": 2325, "user_id": 1490091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab70145d73090ea06d7a6eb09c241fb7?s=128&d=identicon&r=PG", "display_name": "Pedro Cattori", "link": "https://stackoverflow.com/users/1490091/pedro-cattori"}, "reply_to_user": {"reputation": 3231, "user_id": 2348587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438775d2759253a1ac650e11ab237070?s=128&d=identicon&r=PG", "display_name": "Darrick Herwehe", "link": "https://stackoverflow.com/users/2348587/darrick-herwehe"}, "edited": false, "score": 1, "creation_date": 1485885721, "post_id": 41861427, "comment_id": 71107763, "body": "@DarrickHerwehe As stated in the question, modifying <code>sys.path</code> is fine as long as you can justify it. In that case, &quot;an explanation as to why mangling <code>sys.path</code> is the best option&quot; is all that is required."}], "answers": [{"comments": [{"owner": {"reputation": 2325, "user_id": 1490091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab70145d73090ea06d7a6eb09c241fb7?s=128&d=identicon&r=PG", "display_name": "Pedro Cattori", "link": "https://stackoverflow.com/users/1490091/pedro-cattori"}, "edited": false, "score": 0, "creation_date": 1485379257, "post_id": 41861775, "comment_id": 70907470, "body": "I&#39;ve updated my answer with more precise requirements for a solution. Unfortunately, since I want a solution that is pure python, this won&#39;t work."}, {"owner": {"reputation": 335, "user_id": 1712447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e562e2ff4b6d0fc005895c3a710e7cfa?s=128&d=identicon&r=PG", "display_name": "lucid_dreamer", "link": "https://stackoverflow.com/users/1712447/lucid-dreamer"}, "edited": false, "score": 0, "creation_date": 1495191144, "post_id": 41861775, "comment_id": 75160135, "body": "May I ask you what is the original requirement? And in particular, which aspect makes it so that you can only solve it with a pure python solution."}], "tags": [], "owner": {"reputation": 2782, "user_id": 7438048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTLxU.png?s=128&g=1", "display_name": "ShmulikA", "link": "https://stackoverflow.com/users/7438048/shmulika"}, "is_accepted": false, "score": 6, "last_activity_date": 1485378811, "creation_date": 1485378811, "answer_id": 41861775, "question_id": 41861427, "link": "https://stackoverflow.com/questions/41861427/python-3-5-how-to-dynamically-import-a-module-given-the-full-file-path-in-the/41861775#41861775", "title": "Python 3.5+: How to dynamically import a module given the full file path (in the presence of implicit sibling imports)?", "body": "<p>add to the <a href=\"https://docs.python.org/3/using/cmdline.html#envvar-PYTHONPATH\" rel=\"noreferrer\"><code>PYTHONPATH</code></a> environment variable the path your application is on</p>\n\n<blockquote>\n  <p>Augment the default search path for module files. The format is the same as the shell\u2019s PATH: one or more directory pathnames\n  separated by os.pathsep (e.g. colons on Unix or semicolons on\n  Windows). Non-existent directories are silently ignored.</p>\n</blockquote>\n\n<p>on bash its like this:</p>\n\n<pre><code>export PYTHONPATH=\"./folder/:${PYTHONPATH}\"\n</code></pre>\n\n<p>or run directly:</p>\n\n<pre><code>PYTHONPATH=\"./folder/:${PYTHONPATH}\" python directory/app.py\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2325, "user_id": 1490091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab70145d73090ea06d7a6eb09c241fb7?s=128&d=identicon&r=PG", "display_name": "Pedro Cattori", "link": "https://stackoverflow.com/users/1490091/pedro-cattori"}, "edited": false, "score": 0, "creation_date": 1485452077, "post_id": 41862271, "comment_id": 70940915, "body": "As stated in the question, I am looking for a repeatable (without having to reconfigure every time), pure python solution, so this won&#39;t work."}, {"owner": {"reputation": 335, "user_id": 1712447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e562e2ff4b6d0fc005895c3a710e7cfa?s=128&d=identicon&r=PG", "display_name": "lucid_dreamer", "link": "https://stackoverflow.com/users/1712447/lucid-dreamer"}, "reply_to_user": {"reputation": 2325, "user_id": 1490091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab70145d73090ea06d7a6eb09c241fb7?s=128&d=identicon&r=PG", "display_name": "Pedro Cattori", "link": "https://stackoverflow.com/users/1490091/pedro-cattori"}, "edited": false, "score": 0, "creation_date": 1495191265, "post_id": 41862271, "comment_id": 75160238, "body": "@Pedro Isn&#39;t repeating that configuration preferable to the solution you propose (that clearly looks very un-pythonic)?"}], "tags": [], "owner": {"reputation": 313, "user_id": 7442052, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rZgobBdLnno/AAAAAAAAAAI/AAAAAAAAAAA/BeITwhyAuvg/photo.jpg?sz=128", "display_name": "Amaury Larancuent", "link": "https://stackoverflow.com/users/7442052/amaury-larancuent"}, "is_accepted": false, "score": 1, "last_activity_date": 1608429905, "last_edit_date": 1608429905, "creation_date": 1485380964, "answer_id": 41862271, "question_id": 41861427, "link": "https://stackoverflow.com/questions/41861427/python-3-5-how-to-dynamically-import-a-module-given-the-full-file-path-in-the/41862271#41862271", "title": "Python 3.5+: How to dynamically import a module given the full file path (in the presence of implicit sibling imports)?", "body": "<ol>\n<li><p>Make sure your root is in a folder that is explicitly searched in the <code>PYTHONPATH</code></p>\n</li>\n<li><p>Use an absolute import:</p>\n<p><code>from root.folder import implicit_sibling_import # called from app.py</code></p>\n</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 3005, "user_id": 1932405, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6c85e4fbfd9aec77657f32fba00ecb3a?s=128&d=identicon&r=PG&f=1", "display_name": "Har", "link": "https://stackoverflow.com/users/1932405/har"}, "edited": false, "score": 0, "creation_date": 1487937807, "post_id": 41904558, "comment_id": 72020298, "body": "I think that sys.modules also gets affected whilst running this... but not sure how to not have that side effect"}, {"owner": {"reputation": 1533, "user_id": 7444219, "user_type": "registered", "profile_image": "https://graph.facebook.com/1901410040088581/picture?type=large", "display_name": "Jonathan von Schroeder", "link": "https://stackoverflow.com/users/7444219/jonathan-von-schroeder"}, "reply_to_user": {"reputation": 3005, "user_id": 1932405, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6c85e4fbfd9aec77657f32fba00ecb3a?s=128&d=identicon&r=PG&f=1", "display_name": "Har", "link": "https://stackoverflow.com/users/1932405/har"}, "edited": false, "score": 0, "creation_date": 1487938155, "post_id": 41904558, "comment_id": 72020502, "body": "That seems to be true - It is however non-obvious to me why this would be undesirable / problematic? - The module is loaded after all."}, {"owner": {"reputation": 3005, "user_id": 1932405, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6c85e4fbfd9aec77657f32fba00ecb3a?s=128&d=identicon&r=PG&f=1", "display_name": "Har", "link": "https://stackoverflow.com/users/1932405/har"}, "edited": false, "score": 0, "creation_date": 1487939645, "post_id": 41904558, "comment_id": 72021409, "body": "maybe they could replace a module in the current namespace by providing a module with the same name"}, {"owner": {"reputation": 1533, "user_id": 7444219, "user_type": "registered", "profile_image": "https://graph.facebook.com/1901410040088581/picture?type=large", "display_name": "Jonathan von Schroeder", "link": "https://stackoverflow.com/users/7444219/jonathan-von-schroeder"}, "reply_to_user": {"reputation": 3005, "user_id": 1932405, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6c85e4fbfd9aec77657f32fba00ecb3a?s=128&d=identicon&r=PG&f=1", "display_name": "Har", "link": "https://stackoverflow.com/users/1932405/har"}, "edited": false, "score": 1, "creation_date": 1487941144, "post_id": 41904558, "comment_id": 72022396, "body": "It doesn&#39;t modify the current namespace unless you do something like <code>m = path_import(...)</code> and then I believe it acts like <code>import m</code> which seems reasonable. The way <code>sys.modules</code> works is a lookup-table for future imports <a href=\"https://docs.python.org/3/reference/import.html#the-module-cache\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/import.html#the-module-cache</a><code>- In any case you should be able to replace </code>sys.modules` with a copy and then restore it (just the way I have done with <code>sys.path</code>"}, {"owner": {"reputation": 3005, "user_id": 1932405, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6c85e4fbfd9aec77657f32fba00ecb3a?s=128&d=identicon&r=PG&f=1", "display_name": "Har", "link": "https://stackoverflow.com/users/1932405/har"}, "edited": false, "score": 0, "creation_date": 1487944255, "post_id": 41904558, "comment_id": 72024464, "body": "yes :) thats correct, thanks for your input, very helpful"}], "tags": [], "owner": {"reputation": 1533, "user_id": 7444219, "user_type": "registered", "profile_image": "https://graph.facebook.com/1901410040088581/picture?type=large", "display_name": "Jonathan von Schroeder", "link": "https://stackoverflow.com/users/7444219/jonathan-von-schroeder"}, "is_accepted": true, "score": 20, "last_activity_date": 1487941367, "last_edit_date": 1495542881, "creation_date": 1485558851, "answer_id": 41904558, "question_id": 41861427, "link": "https://stackoverflow.com/questions/41861427/python-3-5-how-to-dynamically-import-a-module-given-the-full-file-path-in-the/41904558#41904558", "title": "Python 3.5+: How to dynamically import a module given the full file path (in the presence of implicit sibling imports)?", "body": "<p>The easiest solution I could come up with is to temporarily modify <code>sys.path</code> in the function doing the import:</p>\n\n<pre><code>from contextlib import contextmanager\n\n@contextmanager\ndef add_to_path(p):\n    import sys\n    old_path = sys.path\n    sys.path = sys.path[:]\n    sys.path.insert(0, p)\n    try:\n        yield\n    finally:\n        sys.path = old_path\n\ndef path_import(absolute_path):\n   '''implementation taken from https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly'''\n   with add_to_path(os.path.dirname(absolute_path)):\n       spec = importlib.util.spec_from_file_location(absolute_path, absolute_path)\n       module = importlib.util.module_from_spec(spec)\n       spec.loader.exec_module(module)\n       return module\n</code></pre>\n\n<p>This should not cause any problems unless you do imports in another thread concurrently. Otherwise, since <code>sys.path</code> is restored to its previous state, there should be no unwanted side effects.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I realize that my answer is somewhat unsatisfactory but, digging into  the code reveals that, the line <code>spec.loader.exec_module(module)</code> basically results in <code>exec(spec.loader.get_code(module.__name__),module.__dict__)</code> getting called. Here <code>spec.loader.get_code(module.__name__)</code> is simply the code contained in lib.py. </p>\n\n<p>Thus a better answer to the question would have to find a way to make the <code>import</code> statement behave differently by simply injecting one or more global variables through the second argument of the exec-statement. However, \"whatever you do to make the import machinery look in that file's folder, it'll have to linger beyond the duration of the initial import, since functions from that file might perform further imports when you call them\", as stated by @user2357112 in the question comments.</p>\n\n<p>Unfortunately the only way to change the behavior of the <code>import</code> statement seems to be to change <code>sys.path</code> or in a package <code>__path__</code>. <code>module.__dict__</code> already contains <code>__path__</code> so that doesn't seem to work which leaves <code>sys.path</code> (Or trying to figure out why exec does not treat the code as a package even though it has <code>__path__</code> and <code>__package__</code> ... - But I don't know where to start - Maybe it has something to do with having no <code>__init__.py</code> file).</p>\n\n<p>Furthermore this issue does not seem to be specific to <code>importlib</code> but rather a general problem with <a href=\"https://stackoverflow.com/questions/6323860/sibling-package-imports\">sibling imports</a>.</p>\n\n<p><strong>Edit2:</strong> If you don't want the module to end up in <code>sys.modules</code> the following should work (Note that any modules added to <code>sys.modules</code> during the import are <em>removed</em>):</p>\n\n<pre><code>from contextlib import contextmanager\n\n@contextmanager\ndef add_to_path(p):\n    import sys\n    old_path = sys.path\n    old_modules = sys.modules\n    sys.modules = old_modules.copy()\n    sys.path = sys.path[:]\n    sys.path.insert(0, p)\n    try:\n        yield\n    finally:\n        sys.path = old_path\n        sys.modules = old_modules\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "is_accepted": false, "score": 1, "last_activity_date": 1486103780, "last_edit_date": 1486103780, "creation_date": 1486102235, "answer_id": 42017850, "question_id": 41861427, "link": "https://stackoverflow.com/questions/41861427/python-3-5-how-to-dynamically-import-a-module-given-the-full-file-path-in-the/42017850#42017850", "title": "Python 3.5+: How to dynamically import a module given the full file path (in the presence of implicit sibling imports)?", "body": "<p>The OP's idea is great, this work only for this example by adding sibling modules with proper name to the sys.modules, I would say it is the SAME as adding PYTHONPATH. tested and working with version 3.5.1.</p>\n\n<pre><code>import os\nimport sys\nimport importlib.util\n\n\nclass PathImport(object):\n\n    def get_module_name(self, absolute_path):\n        module_name = os.path.basename(absolute_path)\n        module_name = module_name.replace('.py', '')\n        return module_name\n\n    def add_sibling_modules(self, sibling_dirname):\n        for current, subdir, files in os.walk(sibling_dirname):\n            for file_py in files:\n                if not file_py.endswith('.py'):\n                    continue\n                if file_py == '__init__.py':\n                    continue\n                python_file = os.path.join(current, file_py)\n                (module, spec) = self.path_import(python_file)\n                sys.modules[spec.name] = module\n\n    def path_import(self, absolute_path):\n        module_name = self.get_module_name(absolute_path)\n        spec = importlib.util.spec_from_file_location(module_name, absolute_path)\n        module = importlib.util.module_from_spec(spec)\n        spec.loader.exec_module(module)\n        return (module, spec)\n\ndef main():\n    pathImport = PathImport()\n    root = os.path.abspath(os.path.dirname(os.path.dirname(os.path.realpath(__file__))))\n    isi_path = os.path.join(root, 'folder', 'implicit_sibling_import.py')\n    sibling_dirname = os.path.dirname(isi_path)\n    pathImport.add_sibling_modules(sibling_dirname)\n    (lib, spec) = pathImport.path_import(isi_path)\n    print (lib.hello())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7369002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rtyGk.jpg?s=128&g=1", "display_name": "Md Jahangir Alam", "link": "https://stackoverflow.com/users/7369002/md-jahangir-alam"}, "is_accepted": false, "score": 1, "last_activity_date": 1486134491, "last_edit_date": 1486134491, "creation_date": 1486132402, "answer_id": 42026608, "question_id": 41861427, "link": "https://stackoverflow.com/questions/41861427/python-3-5-how-to-dynamically-import-a-module-given-the-full-file-path-in-the/42026608#42026608", "title": "Python 3.5+: How to dynamically import a module given the full file path (in the presence of implicit sibling imports)?", "body": "<p>Try:</p>\n\n<pre><code>export PYTHONPATH=\"./folder/:${PYTHONPATH}\"\n</code></pre>\n\n<p>or run directly:</p>\n\n<pre><code>PYTHONPATH=\"./folder/:${PYTHONPATH}\" python directory/app.py\n</code></pre>\n\n<p>Make sure your root is in a folder that is explicitly searched in the <code>PYTHONPATH</code>. Use an absolute import:</p>\n\n<pre><code>from root.folder import implicit_sibling_import #called from app.py\n</code></pre>\n"}], "owner": {"reputation": 2325, "user_id": 1490091, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab70145d73090ea06d7a6eb09c241fb7?s=128&d=identicon&r=PG", "display_name": "Pedro Cattori", "link": "https://stackoverflow.com/users/1490091/pedro-cattori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9827, "favorite_count": 12, "accepted_answer_id": 41904558, "answer_count": 5, "score": 33, "last_activity_date": 1608429905, "creation_date": 1485377424, "last_edit_date": 1495540498, "question_id": 41861427, "link": "https://stackoverflow.com/questions/41861427/python-3-5-how-to-dynamically-import-a-module-given-the-full-file-path-in-the", "title": "Python 3.5+: How to dynamically import a module given the full file path (in the presence of implicit sibling imports)?", "body": "<h1>Question</h1>\n\n<p>The standard library clearly documents <a href=\"https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly\" rel=\"noreferrer\">how to import source files directly</a> (given the absolute file path to the source file), but this approach does not work if that source file uses implicit sibling imports as described in the example below.</p>\n\n<p>How could that example be adapted to work in the presence of implicit sibling imports?</p>\n\n<p>I already checked out <a href=\"https://stackoverflow.com/a/67692/1490091\">this</a> and <a href=\"https://stackoverflow.com/a/37124336/1490091\">this other</a> Stackoverflow questions on the topic, but they do not address implicit sibling imports <em>within</em> the file being imported by hand.</p>\n\n<h1>Setup/Example</h1>\n\n<p>Here's an illustrative example</p>\n\n<p>Directory structure:</p>\n\n<pre><code>root/\n  - directory/\n    - app.py\n  - folder/\n    - implicit_sibling_import.py\n    - lib.py\n</code></pre>\n\n<hr>\n\n<p><code>app.py</code>:</p>\n\n<pre><code>import os\nimport importlib.util\n\n# construct absolute paths\nroot = os.path.abspath(os.path.dirname(os.path.dirname(os.path.realpath(__file__))))\nisi_path = os.path.join(root, 'folder', 'implicit_sibling_import.py')\n\ndef path_import(absolute_path):\n   '''implementation taken from https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly'''\n   spec = importlib.util.spec_from_file_location(absolute_path, absolute_path)\n   module = importlib.util.module_from_spec(spec)\n   spec.loader.exec_module(module)\n   return module\n\nisi = path_import(isi_path)\nprint(isi.hello_wrapper())\n</code></pre>\n\n<hr>\n\n<p><code>lib.py</code>:</p>\n\n<pre><code>def hello():\n    return 'world'\n</code></pre>\n\n<hr>\n\n<p><code>implicit_sibling_import.py</code>:</p>\n\n<pre><code>import lib # this is the implicit sibling import. grabs root/folder/lib.py\n\ndef hello_wrapper():\n    return \"ISI says: \" + lib.hello()\n\n#if __name__ == '__main__':\n#    print(hello_wrapper())\n</code></pre>\n\n<hr>\n\n<p>Running <code>python folder/implicit_sibling_import.py</code> with the <code>if __name__ == '__main__':</code> block commented out yields <code>ISI says: world</code> in Python 3.6.</p>\n\n<p>But running <code>python directory/app.py</code> yields:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"directory/app.py\", line 10, in &lt;module&gt;\n    spec.loader.exec_module(module)\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 678, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 205, in _call_with_frames_removed\n  File \"/Users/pedro/test/folder/implicit_sibling_import.py\", line 1, in &lt;module&gt;\n    import lib\nModuleNotFoundError: No module named 'lib'\n</code></pre>\n\n<h1>Workaround</h1>\n\n<p>If I add <code>import sys; sys.path.insert(0, os.path.dirname(isi_path))</code> to <code>app.py</code>, <code>python app.py</code> yields <code>world</code> as intended, but I would like to avoid munging the <code>sys.path</code> if possible.</p>\n\n<h1>Answer requirements</h1>\n\n<p>I'd like <code>python app.py</code> to print <code>ISI says: world</code> and I'd like to accomplish this by modifying the <code>path_import</code> function.</p>\n\n<p>I'm not sure of the implications of mangling <code>sys.path</code>. Eg. if there was <code>directory/requests.py</code> and I added the path to <code>directory</code> to the <code>sys.path</code>, I wouldn't want <code>import requests</code> to start importing <code>directory/requests.py</code> instead of importing the <a href=\"http://docs.python-requests.org/en/master/\" rel=\"noreferrer\">requests library</a> that I installed with <code>pip install requests</code>.</p>\n\n<p>The solution <strong>MUST</strong> be implemented as a python function that accepts the absolute file path to the desired module and returns the <a href=\"https://docs.python.org/3.5/library/types.html#types.ModuleType\" rel=\"noreferrer\">module object</a>.</p>\n\n<p>Ideally, the solution should not introduce side-effects (eg. if it does modify <code>sys.path</code>, it should return <code>sys.path</code> to its original state). If the solution does introduce side-effects, it should explain why a solution cannot be achieved without introducing side-effects.</p>\n\n<hr>\n\n<h1><code>PYTHONPATH</code></h1>\n\n<p>If I have multiple projects doing this, I don't want to have to remember to set <code>PYTHONPATH</code> every time I switch between them. The user should just be able to <code>pip install</code> my project and run it without any additional setup.</p>\n\n<h1><code>-m</code></h1>\n\n<p>The <a href=\"https://docs.python.org/3/using/cmdline.html#cmdoption-m\" rel=\"noreferrer\"><code>-m</code> flag</a> is the recommended/pythonic approach, but the standard library also clearly documents <a href=\"https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly\" rel=\"noreferrer\">How to import source files directly</a>. I'd like to know how I can adapt that approach to cope with implicit relative imports. Clearly, Python's internals must do this, so how do the internals differ from the \"import source files directly\" documentation?</p>\n"}, {"tags": ["python", "dictionary", "flags"], "answers": [{"comments": [{"owner": {"reputation": 2782, "user_id": 7438048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTLxU.png?s=128&g=1", "display_name": "ShmulikA", "link": "https://stackoverflow.com/users/7438048/shmulika"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1485378604, "post_id": 41861486, "comment_id": 70907093, "body": "correct, thought default value is True for some reason. updated thanks :)"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 1, "creation_date": 1485378934, "post_id": 41861486, "comment_id": 70907278, "body": "I&#39;d include duplicates in the example, without duplicates it&#39;s rather uninteresting."}], "tags": [], "owner": {"reputation": 2782, "user_id": 7438048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTLxU.png?s=128&g=1", "display_name": "ShmulikA", "link": "https://stackoverflow.com/users/7438048/shmulika"}, "is_accepted": false, "score": 2, "last_activity_date": 1485379050, "last_edit_date": 1485379050, "creation_date": 1485377717, "answer_id": 41861486, "question_id": 41861421, "link": "https://stackoverflow.com/questions/41861421/best-way-to-reinitialize-a-dict-in-python-3/41861486#41861486", "title": "Best way to reinitialize a dict in Python 3", "body": "<p>use <a href=\"https://docs.python.org/3/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\"><code>defaultdict</code></a> from python stdlib:</p>\n\n<pre><code>from collections import defaultdict\n\nd = defaultdict(bool)\n\nprint(d)\nfor key in ['foo', 'bar', 'foo']:\n    if not d[key]:\n        d[key] = True\n        print('doing operation for %s' % key)\nprint(d)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>defaultdict(&lt;class 'bool'&gt;, {})\ndoing operation for foo\ndoing operation for bar\ndefaultdict(&lt;class 'bool'&gt;, {'foo': True, 'bar': True})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 2539684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c8bf49ad5179ebb157447d2db9a7961e?s=128&d=identicon&r=PG", "display_name": "Stobber", "link": "https://stackoverflow.com/users/2539684/stobber"}, "edited": false, "score": 0, "creation_date": 1485379591, "post_id": 41861523, "comment_id": 70907648, "body": "Thanks for the (btw). I&#39;ll edit the OP to show code that does what&#39;s intended so it&#39;s pertinent to the question."}], "tags": [], "owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "is_accepted": true, "score": 4, "last_activity_date": 1485379726, "last_edit_date": 1485379726, "creation_date": 1485377928, "answer_id": 41861523, "question_id": 41861421, "link": "https://stackoverflow.com/questions/41861421/best-way-to-reinitialize-a-dict-in-python-3/41861523#41861523", "title": "Best way to reinitialize a dict in Python 3", "body": "<p>You'd better not use a dict at all. A dict where values are just booleans is really just a set (unless you actually distinguish the three values True/False/notIncluded, but you're not doing that).</p>\n\n<p>I think this is what you want:</p>\n\n<pre><code>for db in db_files:\n    done = set()\n    for row in cur.execute(query, params):\n        if row[0] not in done:\n            done.add(row[0])\n            _replace_csv_headers(output_files[row[0]], [r[0] for r in cur.description])\n        _write_record_to_csv(row[1:])\n</code></pre>\n\n<hr>\n\n<p>((Edit: This is about the now-fixed <code>do_once = do_once_defaults</code>) Btw, you're <strong>not</strong> copying the dict. Your <code>do_once</code> is just another reference to <strong>the same</strong> dict object that <code>do_once_defaults</code> references. So you're <strong>not</strong> resetting the flags there. The simplest way to actually make a copy would be <code>do_once = dict(do_once_defaults)</code>, but I really think you should use the set as suggested above.)</p>\n"}, {"comments": [{"owner": {"reputation": 2782, "user_id": 7438048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nTLxU.png?s=128&g=1", "display_name": "ShmulikA", "link": "https://stackoverflow.com/users/7438048/shmulika"}, "edited": false, "score": 0, "creation_date": 1485378442, "post_id": 41861530, "comment_id": 70907022, "body": "this will force creating all keys on the dict at first place"}], "tags": [], "owner": {"reputation": 358, "user_id": 4031911, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gamrix", "link": "https://stackoverflow.com/users/4031911/gamrix"}, "is_accepted": false, "score": 0, "last_activity_date": 1485377949, "creation_date": 1485377949, "answer_id": 41861530, "question_id": 41861421, "link": "https://stackoverflow.com/questions/41861421/best-way-to-reinitialize-a-dict-in-python-3/41861530#41861530", "title": "Best way to reinitialize a dict in Python 3", "body": "<p>Yes, just build a dictionary comprehension:</p>\n\n<pre><code>do_once = {t: False for t in output_file_names}\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 2539684, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c8bf49ad5179ebb157447d2db9a7961e?s=128&d=identicon&r=PG", "display_name": "Stobber", "link": "https://stackoverflow.com/users/2539684/stobber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 0, "accepted_answer_id": 41861523, "answer_count": 3, "score": 3, "last_activity_date": 1485379726, "creation_date": 1485377407, "last_edit_date": 1485379432, "question_id": 41861421, "link": "https://stackoverflow.com/questions/41861421/best-way-to-reinitialize-a-dict-in-python-3", "title": "Best way to reinitialize a dict in Python 3", "body": "<p>I have a dict of Boolean flags in my app. As I work through a data set, I key into the dict using fields from the data and flag whether I've already performed a do-once operation on them. Right now, I'm initializing a dict of False values with the right keys, then copying that dict at the start of the loop that operates on the data. Here's a code snippet from a function that distributes database records to a set of .csv files:</p>\n\n<pre><code>do_once_defaults = dict.fromkeys([f for f in output_file_names], False)\nfor db in db_files:\n    do_once = dict(do_once_defaults)\n    for row in cur.execute(query, params):\n        if not do_once[row[0]]:\n            do_once[row[0]] = True\n            _replace_csv_headers(output_files[row[0]], [r[0] for r in cur.description])\n        _write_record_to_csv(row[1:])\n</code></pre>\n\n<p>Is there a better way to reset the dict of flags on each outer iteration? A more Pythonic way?</p>\n"}, {"tags": ["python", "lua", "pytorch", "torch", "pre-trained-model"], "comments": [{"owner": {"reputation": 2216, "user_id": 117844, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8cc763ba11f929657e28cb0371b75c8?s=128&d=identicon&r=PG", "display_name": "smhx", "link": "https://stackoverflow.com/users/117844/smhx"}, "edited": false, "score": 0, "creation_date": 1485378346, "post_id": 41861354, "comment_id": 70906973, "body": "have a look at: <a href=\"https://discuss.pytorch.org/t/convert-import-torch-model-to-pytorch/37\" rel=\"nofollow noreferrer\">discuss.pytorch.org/t/convert-import-torch-model-to-pytorch/&zwnj;&#8203;37</a>"}, {"owner": {"reputation": 151, "user_id": 1237313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9476a901d258248fe02133ca33c933a8?s=128&d=identicon&r=PG", "display_name": "Arul", "link": "https://stackoverflow.com/users/1237313/arul"}, "reply_to_user": {"reputation": 2216, "user_id": 117844, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e8cc763ba11f929657e28cb0371b75c8?s=128&d=identicon&r=PG", "display_name": "smhx", "link": "https://stackoverflow.com/users/117844/smhx"}, "edited": false, "score": 0, "creation_date": 1485538602, "post_id": 41861354, "comment_id": 70981947, "body": "@smhx Thanks a lot for the answer :)"}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 3408299, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/0HP9u.jpg?s=128&g=1", "display_name": "RockTheStar", "link": "https://stackoverflow.com/users/3408299/rockthestar"}, "edited": false, "score": 0, "creation_date": 1496193141, "post_id": 42109564, "comment_id": 75555881, "body": "so after I get x, how can I use it?"}, {"owner": {"reputation": 151, "user_id": 1237313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9476a901d258248fe02133ca33c933a8?s=128&d=identicon&r=PG", "display_name": "Arul", "link": "https://stackoverflow.com/users/1237313/arul"}, "reply_to_user": {"reputation": 589, "user_id": 3408299, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/0HP9u.jpg?s=128&g=1", "display_name": "RockTheStar", "link": "https://stackoverflow.com/users/3408299/rockthestar"}, "edited": false, "score": 0, "creation_date": 1496234387, "post_id": 42109564, "comment_id": 75576771, "body": "@RockTheStar: You can use x.forward() just like other PyTorch models."}, {"owner": {"reputation": 3189, "user_id": 2397253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CLLjm.png?s=128&g=1", "display_name": "oarfish", "link": "https://stackoverflow.com/users/2397253/oarfish"}, "edited": false, "score": 0, "creation_date": 1546427192, "post_id": 42109564, "comment_id": 94847077, "body": "It should be noted that <code>load_lua</code> does not exist in PyTorch. Not sure if they removed it."}, {"owner": {"reputation": 8960, "user_id": 2838606, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/OQM4l.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/2838606/amir"}, "reply_to_user": {"reputation": 3189, "user_id": 2397253, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/CLLjm.png?s=128&g=1", "display_name": "oarfish", "link": "https://stackoverflow.com/users/2397253/oarfish"}, "edited": false, "score": 0, "creation_date": 1548608254, "post_id": 42109564, "comment_id": 95593034, "body": "@oarfish  <code>torch.utils.serialization</code> is completely removed in PyTorch 1.0 onward.. Look at my answer above for an alternative solution."}], "tags": [], "owner": {"reputation": 33681, "user_id": 1330293, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/76742a2b36b2e174181679118274e2e7?s=128&d=identicon&r=PG", "display_name": "elyase", "link": "https://stackoverflow.com/users/1330293/elyase"}, "is_accepted": false, "score": 8, "last_activity_date": 1486547011, "creation_date": 1486547011, "answer_id": 42109564, "question_id": 41861354, "link": "https://stackoverflow.com/questions/41861354/loading-torch7-trained-models-t7-in-pytorch/42109564#42109564", "title": "Loading Torch7 trained models (.t7) in PyTorch", "body": "<p>The correct function is <code>load_lua</code>:</p>\n\n<pre><code>from torch.utils.serialization import load_lua\n\nx = load_lua('x.t7')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1575, "user_id": 5339857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwXM5.jpg?s=128&g=1", "display_name": "Roy Shilkrot", "link": "https://stackoverflow.com/users/5339857/roy-shilkrot"}, "edited": false, "score": 0, "creation_date": 1569668672, "post_id": 54261158, "comment_id": 102676229, "body": "Note: <code>convert_torch_to_pytorch</code> doesn&#39;t support LeakyReLU."}], "tags": [], "owner": {"reputation": 8960, "user_id": 2838606, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/OQM4l.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/2838606/amir"}, "is_accepted": true, "score": 5, "last_activity_date": 1547844031, "creation_date": 1547844031, "answer_id": 54261158, "question_id": 41861354, "link": "https://stackoverflow.com/questions/41861354/loading-torch7-trained-models-t7-in-pytorch/54261158#54261158", "title": "Loading Torch7 trained models (.t7) in PyTorch", "body": "<p>As of PyTorch 1.0 <code>torch.utils.serialization</code> is completely removed. Hence no one can import models from Lua Torch into PyTorch anymore. Instead, I would suggest installing PyTorch 0.4.1 through <code>pip</code> in a <code>conda</code> environment (so that you can remove it after this) and use <a href=\"https://github.com/clcarwin/convert_torch_to_pytorch\" rel=\"noreferrer\">this repo</a> to convert your Lua Torch model to PyTorch model, not just the <code>torch.nn.legacy</code> model that you cannot use for training. Then use PyTorch 1.xx to do whatever with it. You can also train your converted Lua Torch models in PyTorch this way :)</p>\n"}], "owner": {"reputation": 151, "user_id": 1237313, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9476a901d258248fe02133ca33c933a8?s=128&d=identicon&r=PG", "display_name": "Arul", "link": "https://stackoverflow.com/users/1237313/arul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14610, "favorite_count": 2, "accepted_answer_id": 54261158, "answer_count": 2, "score": 8, "last_activity_date": 1602148255, "creation_date": 1485377135, "last_edit_date": 1602148255, "question_id": 41861354, "link": "https://stackoverflow.com/questions/41861354/loading-torch7-trained-models-t7-in-pytorch", "title": "Loading Torch7 trained models (.t7) in PyTorch", "body": "<p>I am using Torch7 library for implementing neural networks.  Mostly, I rely on pre-trained models. In Lua I use torch.load function to load a model saved as torch .t7 file. I am curious about switching to PyTorch( <a href=\"http://pytorch.org\" rel=\"noreferrer\">http://pytorch.org</a>) and I read the documents. I couldn't find any information regarding the mechanisms to load a pre-trained model. The only relevant information I was able to find is this page:<a href=\"http://pytorch.org/docs/torch.html\" rel=\"noreferrer\">http://pytorch.org/docs/torch.html</a></p>\n\n<p>But the function torch.load described in the page seems to load a file saved with pickle. If someone has additional information on loading .t7 models in PyTorch, please share it here. </p>\n"}, {"tags": ["python", "scrapy", "scrapy-spider", "scrapy-splash"], "comments": [{"owner": {"reputation": 19943, "user_id": 114795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75cc8b57acc4841f83c3f5ccea0091f?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Korobov", "link": "https://stackoverflow.com/users/114795/mikhail-korobov"}, "edited": false, "score": 0, "creation_date": 1485463449, "post_id": 41861298, "comment_id": 70947397, "body": "Error message suggests a configuration issue: there is a typo in middleware name - it should be HttpCompressionMiddleware, not HttpCompresionMiddlerware. I&#39;m not sure this will fix problems with Splash, but it is better to fix issues unrelated to Splash first."}, {"owner": {"reputation": 161, "user_id": 7366334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eda81db94d6b68072e186b3be9855e93?s=128&d=identicon&r=PG&f=1", "display_name": "Lord G.", "link": "https://stackoverflow.com/users/7366334/lord-g"}, "reply_to_user": {"reputation": 19943, "user_id": 114795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75cc8b57acc4841f83c3f5ccea0091f?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail Korobov", "link": "https://stackoverflow.com/users/114795/mikhail-korobov"}, "edited": false, "score": 1, "creation_date": 1485463887, "post_id": 41861298, "comment_id": 70947631, "body": "I need to check my eyes. That actually got everything working. Cheers, dude!"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 7366334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eda81db94d6b68072e186b3be9855e93?s=128&d=identicon&r=PG&f=1", "display_name": "Lord G.", "link": "https://stackoverflow.com/users/7366334/lord-g"}, "edited": false, "score": 0, "creation_date": 1485462632, "post_id": 41870926, "comment_id": 70946951, "body": "Thanks, for advice. However, getting same error again. Updated post."}], "tags": [], "owner": {"reputation": 19115, "user_id": 2572383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a475c78c46b48609cf6b3b3e082f6d4?s=128&d=identicon&r=PG", "display_name": "paul trmbrth", "link": "https://stackoverflow.com/users/2572383/paul-trmbrth"}, "is_accepted": true, "score": 0, "last_activity_date": 1485424902, "creation_date": 1485424902, "answer_id": 41870926, "question_id": 41861298, "link": "https://stackoverflow.com/questions/41861298/scrapy-formrequest-from-response-vs-splashformrequest-from-response/41870926#41870926", "title": "scrapy.FormRequest.from_response VS. SplashFormRequest.from_response", "body": "<p>You probably need to perform the 1st request with Splash too.</p>\n\n<p>By default, the <code>start_urls</code> attribute will issue \"simple\" <code>scrapy.Request</code>, not <code>SplashRequest</code>.</p>\n\n<p>You need to override <code>start_requests</code> method for your spider:</p>\n\n<pre><code>class MySpider(scrapy.Spider):\n    name = 'lost'\n    start_urls = [\"myurl\",]\n\n    def start_requests(self):\n        for url in self.start_urls:\n            yield SplashRequest(url)\n    ...\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 7366334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/eda81db94d6b68072e186b3be9855e93?s=128&d=identicon&r=PG&f=1", "display_name": "Lord G.", "link": "https://stackoverflow.com/users/7366334/lord-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "accepted_answer_id": 41870926, "answer_count": 1, "score": 0, "last_activity_date": 1485462884, "creation_date": 1485376908, "last_edit_date": 1485462884, "question_id": 41861298, "link": "https://stackoverflow.com/questions/41861298/scrapy-formrequest-from-response-vs-splashformrequest-from-response", "title": "scrapy.FormRequest.from_response VS. SplashFormRequest.from_response", "body": "<p>I'm trying to log-in using scrapy splash in exact same way as scrapy only. \nI've looked at documentation, <a href=\"https://pypi.python.org/pypi/scrapy-splash\" rel=\"nofollow noreferrer\">Doc</a>, it says \"SplashFormRequest.from_response is also supported, and works as described in scrapy documentation\"\nHowever, simple changing one line of code and changing settings as described in splash documentation doesn't bring any results. What I'm doing wrong?\nCode:</p>\n\n<pre><code>import scrapy\nfrom scrapy_splash import SplashRequest\n\nclass MySpider(scrapy.Spider):\n    name = 'lost'\n    start_urls = [\"myurl\",]\n\ndef parse(self, response):\n    return SplashFormRequest.from_response(\n        response,\n        formdata={'username': 'pass', 'password': 'pass'},\n        callback=self.after_login\n    ) \n\ndef after_login(self, response):\n    print response.body\n    if \"keyword\" in response.body:\n        self.logger.error(\"Success\")\n    else:\n        self.logger.error(\"Failed\")\n</code></pre>\n\n<p>Added to settings:</p>\n\n<blockquote>\n<pre><code>DOWNLOADER_MIDDLEWARES = {\n    'scrapy_splash.SplashCookiesMiddleware': 723,\n    'scrapy_splash.SplashMiddleware': 725,\n'scrapy.downloadermiddlewares.httpcompression.HttpCompressionMiddleware':     810,\n                           }\n\nSPLASH_URL = 'http://localhost:8050'\nDUPEFILTER_CLASS = 'scrapy_splash.SplashAwareDupeFilter'\nHTTPCACHE_STORAGE = 'scrapy_splash.SplashAwareFSCacheStorage'\n</code></pre>\n</blockquote>\n\n<p>Error log:</p>\n\n<pre><code>python@debian:~/Python/code/lostfilm$ scrapy crawl lost\n2017-01-26 20:24:22 [scrapy.utils.log] INFO: Scrapy 1.3.0 started (bot:   lostfilm)\n2017-01-26 20:24:22 [scrapy.utils.log] INFO: Overridden settings:   {'NEWSPIDER_MODULE': 'lostfilm.spiders', 'ROBOTSTXT_OBEY': True,  'DUPEFILTER_CLASS': 'scrapy_splash.SplashAwareDupeFilter', 'SPIDER_MODULES': ['lostfilm.spiders'], 'BOT_NAME': 'lostfilm', 'HTTPCACHE_STORAGE':   'scrapy_splash.SplashAwareFSCacheStorage'}\n2017-01-26 20:24:22 [scrapy.middleware] INFO: Enabled extensions:\n['scrapy.extensions.logstats.LogStats',\n 'scrapy.extensions.telnet.TelnetConsole',\n 'scrapy.extensions.corestats.CoreStats']\nUnhandled error in Deferred:\n2017-01-26 20:24:22 [twisted] CRITICAL: Unhandled error in Deferred:\n\n2017-01-26 20:24:22 [twisted] CRITICAL: \nTraceback (most recent call last):\nFile \"/usr/local/lib/python2.7/dist-packages/twisted/internet/defer.py\",  line 1299, in _inlineCallbacks\n  result = g.send(result)\n File \"/usr/local/lib/python2.7/dist-packages/scrapy/crawler.py\", line  90, in crawl\nsix.reraise(*exc_info)\nFile \"/usr/local/lib/python2.7/dist-packages/scrapy/crawler.py\", line 72, in crawl\nself.engine = self._create_engine()\nFile \"/usr/local/lib/python2.7/dist-packages/scrapy/crawler.py\", line 97, in _create_engine\nreturn ExecutionEngine(self, lambda _: self.stop())\nFile \"/usr/local/lib/python2.7/dist-packages/scrapy/core/engine.py\", line 69, in __init__\nself.downloader = downloader_cls(crawler)\nFile \"/usr/local/lib/python2.7/dist-packages/scrapy/core/downloader/__init__.py\", line 88, in __init__\nself.middleware = DownloaderMiddlewareManager.from_crawler(crawler)\nFile \"/usr/local/lib/python2.7/dist-packages/scrapy/middleware.py\", line 58, in from_crawler\nreturn cls.from_settings(crawler.settings, crawler)\nFile \"/usr/local/lib/python2.7/dist-packages/scrapy/middleware.py\", line 34, in from_settings\nmwcls = load_object(clspath)\nFile \"/usr/local/lib/python2.7/dist-packages/scrapy/utils/misc.py\", line 49, in load_object\nraise NameError(\"Module '%s' doesn't define any object named '%s'\" %  (module, name))\nNameError: Module 'scrapy.downloadermiddlewares.httpcompression' doesn't  define any object named 'HttpCompresionMiddlerware'\n</code></pre>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 6351, "user_id": 6342575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de518e31dfbc2e8a7af2ebd584f25e?s=128&d=identicon&r=PG&f=1", "display_name": "A.Kot", "link": "https://stackoverflow.com/users/6342575/a-kot"}, "edited": false, "score": 0, "creation_date": 1485377207, "post_id": 41861238, "comment_id": 70906419, "body": "What is the common replacement in the file name you will be making?"}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1485377058, "post_id": 41861293, "comment_id": 70906342, "body": "that won&#39;t work: you have to join the <code>root</code> dir or <code>rename</code> will fail."}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485377149, "post_id": 41861293, "comment_id": 70906389, "body": "@Jean-Fran&#231;oisFabre Hey you helped me on my last script, got any suggestions?"}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1485377266, "post_id": 41861293, "comment_id": 70906443, "body": "@RafaelBarros got a syntax error &quot;    os.rename(f, name_map[f]))                              ^ SyntaxError: invalid syntax&quot;"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485377267, "post_id": 41861293, "comment_id": 70906444, "body": "also <code>except FileNotFoundError, e</code> should be <code>except FileNotFoundError as e</code> to be python 3 compliant (else you&#39;re python 2.5 compliant). And you still have one parenthesis too many in the end. All original errors copied from the OP question to your answer. I&#39;m editing that out :) you&#39;ll thank me later. Now I can upvote myself :)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1485377457, "post_id": 41861293, "comment_id": 70906537, "body": "@Engineer should be OK now."}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485377642, "post_id": 41861293, "comment_id": 70906632, "body": "@Jean-Fran&#231;oisFabre Im running python 2.5 and still get an error even when running on 2.7 it just hangs"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485378843, "post_id": 41861293, "comment_id": 70907215, "body": "&quot;an error&quot; isn&#39;t good enough. Tell us what&#39;s the problem. And the fact it &#39;hangs&#39; is that maybe there are a lot of files there..."}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485381551, "post_id": 41861293, "comment_id": 70908611, "body": "@Jean-Fran&#231;oisFabre The error was not compatible with python2.5"}], "tags": [], "owner": {"reputation": 2394, "user_id": 629187, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/82f622c78263b1bd52e6f2165d1cd049?s=128&d=identicon&r=PG", "display_name": "Rafael Barros", "link": "https://stackoverflow.com/users/629187/rafael-barros"}, "is_accepted": false, "score": 2, "last_activity_date": 1485377780, "last_edit_date": 1485377780, "creation_date": 1485376890, "answer_id": 41861293, "question_id": 41861238, "link": "https://stackoverflow.com/questions/41861238/python-script-recursively-rename-all-files-in-folder-and-subfolders/41861293#41861293", "title": "Python script recursively rename all files in folder and subfolders", "body": "<p>The first thing you'd need is a <a href=\"https://docs.python.org/3/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\"><code>dictionary</code></a> for the replacements, then a small change in your code:</p>\n\n<pre><code>import os, glob\n\nname_map = {\n     \"Cat5e_1mBend1bottom50m2mBend2top\": 'Cat5e50m1mBED_50m2mBE2U'\n}\n\n#searches for roots, directory and files\nfor root,dirs,files in os.walk(r\"H:\\My Documents\\CrossTalk\"):\n   for f in files:\n       if f in name_map:\n          try:\n             os.rename(os.path.join(root, f), os.path.join(root, name_map[f]))\n          except FileNotFoundError, e:\n          #except FileNotFoundError as e:  # python 3\n             print(str(e))\n</code></pre>\n\n<p>In the name_map, the <code>key</code> (string to the left of \"<code>:</code>\") is the name of the file in your filesystem, and the <code>value</code> (string to the right of the \"<code>:</code>\") is the name you want to use.</p>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1485378785, "post_id": 41861734, "comment_id": 70907182, "body": "<code>if f in renames.keys()</code> =&gt; <code>if f in renames</code>, more pythonic, faster."}, {"owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1485381340, "post_id": 41861734, "comment_id": 70908494, "body": "No that didn&#39;t work, it renamed all the files. I want only part of the file renamed. Im sorry if I am confusing you, please look at the update above"}, {"owner": {"reputation": 268, "user_id": 1119649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825d19cc43e6e346f27d4da76ef8d44?s=128&d=identicon&r=PG", "display_name": "Shoo Limberger", "link": "https://stackoverflow.com/users/1119649/shoo-limberger"}, "edited": false, "score": 0, "creation_date": 1485456342, "post_id": 41861734, "comment_id": 70943554, "body": "You wan&#180;t to rename based on substring? If the filename contains de first substring then replace this substring in filename by the other? Sample:  if the key is &quot;o1&quot; and the value is &quot;oPrinc1&quot; and the filename is arquiv<b>o1</b>.txt ... The filename whil be renamed to &quot;arquiv<b>oPrinc1</b>.txt&quot;"}, {"owner": {"reputation": 268, "user_id": 1119649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825d19cc43e6e346f27d4da76ef8d44?s=128&d=identicon&r=PG", "display_name": "Shoo Limberger", "link": "https://stackoverflow.com/users/1119649/shoo-limberger"}, "reply_to_user": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "edited": false, "score": 0, "creation_date": 1487192985, "post_id": 41861734, "comment_id": 71677843, "body": "Hi @VisualExstasy you see this after i edited the answer?"}], "tags": [], "owner": {"reputation": 268, "user_id": 1119649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825d19cc43e6e346f27d4da76ef8d44?s=128&d=identicon&r=PG", "display_name": "Shoo Limberger", "link": "https://stackoverflow.com/users/1119649/shoo-limberger"}, "is_accepted": true, "score": 3, "last_activity_date": 1485451864, "last_edit_date": 1485451864, "creation_date": 1485378683, "answer_id": 41861734, "question_id": 41861238, "link": "https://stackoverflow.com/questions/41861238/python-script-recursively-rename-all-files-in-folder-and-subfolders/41861734#41861734", "title": "Python script recursively rename all files in folder and subfolders", "body": "<p>Is this wath you want?</p>\n\n<pre><code>import os, glob\n#searches for roots, directory and files\n#Path\np=r\"C:\\\\Users\\\\joao.limberger\\\\Documents\\\\Nova Pasta\"\n# rename arquivo1.txt to arquivo33.txt and arquivo2.txt to arquivo44.txt\nrenames={\"arquivo1.txt\":\"arquivo33.txt\",\"arquivo2.txt\":\"arquivo44.txt\"}\nfor root,dirs,files in os.walk(p):\n   for f in files:\n      if f in renames.keys():#string you want to rename\n         try:\n            os.rename(os.path.join(root , f), os.path.join(root , renames[f]))\n            print(\"Renaming \",f,\"to\",renames[f])\n         except FileNotFoundError as e:\n            print(str(e))\n</code></pre>\n\n<p>Check if this is wath you want!!!</p>\n\n<pre><code>import os, glob\n#searches for roots, directory and files\n#Python 2.7\n#Path \np=r\"C:\\\\Users\\\\joao.limberger\\\\Documents\\\\Nova Pasta\"\n#  if the substring in the key exist in filename, replace the substring \n#   from the value of the key\n#   if the key is \"o1\" and the value is \"oPrinc1\" and the filename is\n#  arquivo1.txt ... The filename whil be renamed to \"arquivoPrinc1.txt\"\nrenames={\"o1\":\"oPrinc1\",\"oldSubs\":\"newSubs\"}\nfor root,dirs,files in os.walk(p):\n    for f in files:\n        for r in renames:\n            if r in f:\n                newFile = f.replace(r,renames[r],1)\n                try:\n                    os.rename(os.path.join(root , f), os.path.join(root , newFile))\n                    print \"Renaming \",f,\"to\",newFile\n                except FileNotFoundError , e:\n                    print str(e)\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 7406018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23282ba5b2094e2f0bf34e7df8c312a0?s=128&d=identicon&r=PG&f=1", "display_name": "VisualExstasy", "link": "https://stackoverflow.com/users/7406018/visualexstasy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1771, "favorite_count": 0, "accepted_answer_id": 41861734, "answer_count": 2, "score": 2, "last_activity_date": 1485451864, "creation_date": 1485376660, "last_edit_date": 1485378010, "question_id": 41861238, "link": "https://stackoverflow.com/questions/41861238/python-script-recursively-rename-all-files-in-folder-and-subfolders", "title": "Python script recursively rename all files in folder and subfolders", "body": "<p>Hi I have  a number of different files that need to be renamed to something else. I got this far but I want to have it so that I can have many items to replace and their corresponding replacements rather than type each one out, run the code then retype it again. </p>\n\n<p>UPDATE* Also I need the rename to only change part of the file not the whole thing so if there was a \"Cat5e_1mBend1bottom50m2mBend2top-Aqeoiu31\" it would just change it to \"'Cat5e50m1mBED_50m2mBE2U-Aqeoiu31\"</p>\n\n<pre><code>import os, glob\n\n#searches for roots, directory and files\nfor root,dirs, files in os.walk(r\"H:\\My Documents\\CrossTalk\\\\\"):\n   for f in files:\n       if f == \"Cat5e_1mBend1bottom50m2mBend2top\":#string you want to rename\n          try:\n             os.rename('Cat5e_1mBend1bottom50m2mBend2top', 'Cat5e50m1mBED_50m2mBE2U'))\n          except FileNotFoundError, e:\n             print(str(e))\n</code></pre>\n"}, {"tags": ["python", "queue", "priority-queue"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 6342310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a9c18ccb64f8e09c6eac09267c8568?s=128&d=identicon&r=PG&f=1", "display_name": "BeardedOne85", "link": "https://stackoverflow.com/users/6342310/beardedone85"}, "edited": false, "score": 1, "creation_date": 1485378230, "post_id": 41861322, "comment_id": 70906905, "body": "The next question would be &quot;Why did they implement a qsize() function instead of __len__()?&quot; Knowing nothing other than what the comments in the source say, it seems that due to multi threading and race conditions qsize() only returns an approximate size so they probably didn&#39;t want to use a magic method with unexpected results. Thanks Jon."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 55, "user_id": 6342310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a9c18ccb64f8e09c6eac09267c8568?s=128&d=identicon&r=PG&f=1", "display_name": "BeardedOne85", "link": "https://stackoverflow.com/users/6342310/beardedone85"}, "edited": false, "score": 1, "creation_date": 1485378284, "post_id": 41861322, "comment_id": 70906939, "body": "@BeardedOne85 yes, that&#39;s right; implementing <code>__len__</code> implies they actually know what it is!"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 55, "user_id": 6342310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a9c18ccb64f8e09c6eac09267c8568?s=128&d=identicon&r=PG&f=1", "display_name": "BeardedOne85", "link": "https://stackoverflow.com/users/6342310/beardedone85"}, "edited": false, "score": 0, "creation_date": 1485378722, "post_id": 41861322, "comment_id": 70907162, "body": "@BeardedOne85 Now they just need to be consistent and document <code>empty()</code> as &quot;Return True if the queue is approximately empty.&quot; :-)"}], "tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 1, "last_activity_date": 1485376990, "creation_date": 1485376990, "answer_id": 41861322, "question_id": 41861204, "link": "https://stackoverflow.com/questions/41861204/why-is-the-bool-evaluation-of-an-empty-priorityqueue-true/41861322#41861322", "title": "Why is the bool evaluation of an empty PriorityQueue True?", "body": "<p>As you can see from <a href=\"https://hg.python.org/cpython/file/3.6/Lib/queue.py\" rel=\"nofollow noreferrer\">the source code</a>, the <code>PriorityQueue</code> class doesn't implement <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__len__\" rel=\"nofollow noreferrer\"><code>__len__</code></a> or <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__bool__\" rel=\"nofollow noreferrer\"><code>__bool__</code></a>, and the default is that if an object is present it's truthy:</p>\n\n<blockquote>\n  <p>If a class defines neither <code>__len__()</code> nor <code>__bool__()</code>, all its\n  instances are considered true.</p>\n</blockquote>\n"}], "owner": {"reputation": 55, "user_id": 6342310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a9c18ccb64f8e09c6eac09267c8568?s=128&d=identicon&r=PG&f=1", "display_name": "BeardedOne85", "link": "https://stackoverflow.com/users/6342310/beardedone85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 41861322, "answer_count": 1, "score": 0, "last_activity_date": 1485376990, "creation_date": 1485376568, "question_id": 41861204, "link": "https://stackoverflow.com/questions/41861204/why-is-the-bool-evaluation-of-an-empty-priorityqueue-true", "title": "Why is the bool evaluation of an empty PriorityQueue True?", "body": "<p>Why doesn't an empty PriorityQueue evaluate to <code>False</code> like other iterables in Python?</p>\n\n<pre><code>&gt;&gt;&gt; from queue import PriorityQueue\n&gt;&gt;&gt; q1 = PriorityQueue()\n&gt;&gt;&gt; bool(q1)\nTrue\n&gt;&gt;&gt; q1.qsize()\n0\n</code></pre>\n"}, {"tags": ["python", "reddit", "praw"], "comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485380462, "post_id": 41861138, "comment_id": 70908048, "body": "Make the strings lowercase and check against <code>submission.title.lower()</code>"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485402411, "post_id": 41861138, "comment_id": 70915619, "body": "Could you print out the titles you are comparing against and note which ones are stickies? That would help with debugging the regex side of things. Otherwise use @al-avery&#39;s answer."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485481652, "post_id": 41861138, "comment_id": 70954197, "body": "I highly recommend reading a basic Python tutorial before continuing."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485545618, "post_id": 41861138, "comment_id": 70985528, "body": "I really think that you should select @AlAvery&#39;s answer in preference to my own. He did the actual work, I just piggy-backed a wrapper around it."}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485545697, "post_id": 41861138, "comment_id": 70985560, "body": "Ok It was a toss up"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485545909, "post_id": 41861138, "comment_id": 70985666, "body": "Just wanted to be fair."}], "answers": [{"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485381233, "post_id": 41861513, "comment_id": 70908438, "body": "Actually, it will raise <code>prawcore.NotFound</code> if there are fewer than 3 instead of returning duplicate IDs according to the docs."}, {"owner": {"reputation": 72, "user_id": 5215758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206125777560046/picture?type=large", "display_name": "Al Avery", "link": "https://stackoverflow.com/users/5215758/al-avery"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485381864, "post_id": 41861513, "comment_id": 70908749, "body": "Interesting.  That behavior would make a lot more sense to me, but I tested it out and it actually does not seem to.  Rather, if you do <code>r.subreddit(&quot;chicago&quot;).sticky(3)</code> but r/chicago only has two stickies, it&#39;ll give you the id of the second sticky.  In fact, you can do <code>r.subreddit(&quot;chicago&quot;).sticky(-94)</code> and it&#39;ll give you the id of sticky number one; it seems to just give you the id of the closest match.  Although, i don&#39;t know what would happen if you tried htis and there were no stickies at all."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485384210, "post_id": 41861513, "comment_id": 70909840, "body": "I wrote an answer that gets the full list set of IDs no matter how many there are. It stops when it gets an exception or a duplicate ID."}, {"owner": {"reputation": 72, "user_id": 5215758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206125777560046/picture?type=large", "display_name": "Al Avery", "link": "https://stackoverflow.com/users/5215758/al-avery"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1485384819, "post_id": 41861513, "comment_id": 70910106, "body": "Nice.  Yeah your answer should cover both the documentation&#39;s expectation and what seems to be the current reality."}], "tags": [], "owner": {"reputation": 72, "user_id": 5215758, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10206125777560046/picture?type=large", "display_name": "Al Avery", "link": "https://stackoverflow.com/users/5215758/al-avery"}, "is_accepted": true, "score": 2, "last_activity_date": 1485382109, "last_edit_date": 1485382109, "creation_date": 1485377869, "answer_id": 41861513, "question_id": 41861138, "link": "https://stackoverflow.com/questions/41861138/python-praw-skipping-sticky-in-subreddits/41861513#41861513", "title": "Python Praw skipping sticky in subreddits", "body": "<p><a href=\"http://praw.readthedocs.io/en/latest/code_overview/models/subreddit.html?highlight=sticky\" rel=\"nofollow noreferrer\">It looks like you can get the id of a stickied post based on docs</a>.  So perhaps you could get the id(s) of the stickied post(s) (note that with the 'number' parameter of the sticky method you can say give me the first, or second, or third, stickied post; use this to your advantage to get <em>all</em> of the stickied posts) and for each submission that you are going to pull, first check its id against the stickied ids.</p>\n\n<p>Example:</p>\n\n<pre><code># assuming there are no more than three stickies...\nstickies = [reddit.subreddit(\"chicago\").sticky(i).id for i in range(1,4)]\n</code></pre>\n\n<p>and then when you want to make sure a given post isn't stickied, use:</p>\n\n<pre><code>if post.id not in stickies:\n    do something\n</code></pre>\n\n<p>It looks like, were there fewer than three, this would give you a list with duplicate ids, which won't be a problem.</p>\n"}, {"comments": [{"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1485448508, "post_id": 41863034, "comment_id": 70938826, "body": "Ive tried this a few times but I get the error Traceback (most recent call last):   File &quot;/Library/Frameworks/Python.framework/Versions/3.6/lib/pytho&zwnj;&#8203;n3.6/site-packages/p&zwnj;&#8203;raw/models/reddit/ba&zwnj;&#8203;se.py&quot;, line 34, in <b>getattr</b>     .format(self.__class__.__name__, attribute)) AttributeError: &#39;Subreddit&#39; object has no attribute &#39;stick&#39;"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1485449991, "post_id": 41863034, "comment_id": 70939708, "body": "@Eddwinn. That is to be expected. I accidentally mistyped <code>sticky</code> as <code>stick</code>. Fixed now."}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1485450610, "post_id": 41863034, "comment_id": 70940063, "body": "Unfortunaly it considers every post as a sticky now.                                  stickies = get_all_stickies(reddit.subreddit(str(subreddit)))                                 if stickies:                                     print(stickies)                                     print(submission.title)                                 else:                                     print(&quot;not a sticky: &quot; + submission.title)"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1485467382, "post_id": 41863034, "comment_id": 70949627, "body": "@Eddwinn. That&#39;s because you are not using it right. See update. <code>get_all_stickies</code> returns a set with all the sticky IDs. You test for containment using <code>in</code>, same as you are doing with <code>posts_replied_to</code>."}, {"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1485545583, "post_id": 41863034, "comment_id": 70985514, "body": "I see what you did there.  Thanks for your help!"}], "tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": false, "score": 1, "last_activity_date": 1485467305, "last_edit_date": 1485467305, "creation_date": 1485384090, "answer_id": 41863034, "question_id": 41861138, "link": "https://stackoverflow.com/questions/41861138/python-praw-skipping-sticky-in-subreddits/41863034#41863034", "title": "Python Praw skipping sticky in subreddits", "body": "<p>As an addendum to @Al Avery's answer, you can do a complete search for the IDs of all stickies on a given subreddit by doing something like</p>\n\n<pre><code>def get_all_stickies(sub):\n    stickies = set()\n    for i in itertools.count(1):\n        try:\n            sid = sub.sticky(i)\n        except pawcore.NotFound:\n            break\n        if sid in stickies:\n            break\n        stickies.add(sid)\n    return stickies\n</code></pre>\n\n<p>This function takes into account that the documentation lead one to expect an error if an invalid index is supplied to <code>stick</code>, while the actual behavior seems to be that a duplicate ID is returned. Using a <code>set</code> instead of a list makes lookup faster if you have a large number of stickies. You would use the function as</p>\n\n<pre><code>subreddit = reddit.subreddit(sub)\nstickies = get_all_stickies(subreddit)\nfor submission in subreddit.hot(limit=5):\n    if submission.id not in posts_replied_to and submission.id not in stickies:\n        print(submission.title)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "edited": false, "score": 0, "creation_date": 1485800924, "post_id": 41926412, "comment_id": 71066027, "body": "I see with the printing vars of submission.  I was originally wondering why it wasnt mentioned but thanks for pointing out how to find the information."}], "tags": [], "owner": {"reputation": 3500, "user_id": 176978, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/977c9a7d43817d65f70ec8736de07671?s=128&d=identicon&r=PG", "display_name": "bboe", "link": "https://stackoverflow.com/users/176978/bboe"}, "is_accepted": false, "score": 2, "last_activity_date": 1485727091, "creation_date": 1485727091, "answer_id": 41926412, "question_id": 41861138, "link": "https://stackoverflow.com/questions/41861138/python-praw-skipping-sticky-in-subreddits/41926412#41926412", "title": "Python Praw skipping sticky in subreddits", "body": "<p>Submissions which are stickied have a <code>sticked</code> attribute that evaluates to <code>True</code>. Add the following to your loop, and you should be good to go.</p>\n\n<pre><code>if submission.stickied:\n    continue\n</code></pre>\n\n<p>In general, I recommend checking the available attributes on the objects you are working with to see if there is something usable. See: <a href=\"https://praw.readthedocs.io/en/latest/getting_started/quick_start.html#determine-available-attributes-of-an-object\" rel=\"nofollow noreferrer\">Determine Available Attributes of an Object</a></p>\n"}], "owner": {"reputation": 1236, "user_id": 4750577, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/35005349/picture?type=large", "display_name": "Anekdotin", "link": "https://stackoverflow.com/users/4750577/anekdotin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 41861513, "answer_count": 3, "score": 1, "last_activity_date": 1485727091, "creation_date": 1485376322, "question_id": 41861138, "link": "https://stackoverflow.com/questions/41861138/python-praw-skipping-sticky-in-subreddits", "title": "Python Praw skipping sticky in subreddits", "body": "<p>I am trying to loop through subreddits, but want to ignore the sticky posts at the top.  I am able to print the first 5 posts, unfortunately including the stickies.  Various pythonic methods of trying to skip these have failed.  Two different examples of my code below.</p>\n\n<pre><code>            subreddit = reddit.subreddit(sub)\n            for submission in subreddit.hot(limit=5):\n\n                # If we haven't replied to this post before\n                if submission.id not in posts_replied_to:\n                    ##FOOD\n\n                    if subreddit == 'food':\n\n                        if 'pLEASE SEE' in submission.title:\n                            pass\n                        if \"please vote\" in submission.title:\n                            pass\n                        else:\n                            print(submission.title)\n                        if re.search(\"please vote\", submission.title, re.IGNORECASE):\n                            pass\n                        else:\n\n                            print(submission.title)\n</code></pre>\n\n<p>I noticed a sticky tag in the documents but not sure exactly how to use it.  Any help is appreciated.</p>\n"}, {"tags": ["python", "loops", "ascii-art"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1485376655, "post_id": 41861132, "comment_id": 70906122, "body": "When <code>diamond</code> is <code>5</code>, <code>list(reversed(range(diamond-1)))</code> is <code>[3, 2, 1, 0]</code>, while <code>list(range(diamond-1, -1, -1))</code> is <code>[4, 3, 2, 1, 0]</code>.  This is because the range <code>range(5)</code> is the numbers from zero to four, <i>not</i> including five"}, {"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1485376682, "post_id": 41861132, "comment_id": 70906138, "body": "<code>range(diamond-1, -1, -1)</code> includes <code>diamond-1</code>, <code>range(diamond-1)</code> does not."}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1485376648, "creation_date": 1485376648, "answer_id": 41861234, "question_id": 41861132, "link": "https://stackoverflow.com/questions/41861132/backwards-looping-creating-a-diamond-pattern/41861234#41861234", "title": "Backwards looping, creating a diamond pattern", "body": "<p>Because they are different ranges:</p>\n\n<pre><code>&gt;&gt;&gt; diamond = 6\n&gt;&gt;&gt; range(diamond-1, -1, -1)\n[5, 4, 3, 2, 1, 0]\n&gt;&gt;&gt; list(reversed(range(diamond-1)))\n[4, 3, 2, 1, 0]\n</code></pre>\n\n<p><code>range</code> includes the start point, but excludes the end point.</p>\n"}], "owner": {"reputation": 41, "user_id": 7470951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/117f70bf31da6d9b0e05faba0ec7dab6?s=128&d=identicon&r=PG&f=1", "display_name": "John Long Silver", "link": "https://stackoverflow.com/users/7470951/john-long-silver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 41861234, "answer_count": 1, "score": 3, "last_activity_date": 1485376665, "creation_date": 1485376302, "last_edit_date": 1485376665, "question_id": 41861132, "link": "https://stackoverflow.com/questions/41861132/backwards-looping-creating-a-diamond-pattern", "title": "Backwards looping, creating a diamond pattern", "body": "<p>I made a program that allows the user to type in the height of a diamond and it will print one out in asterisks using loops. My code now looks like this:</p>\n\n<pre><code>diamond = int(input(\"Height\": )\n\nfor i in range(diamond-1):\n    print((diamond-i) * \" \" + (2*i+1) * \"*\")\nfor i in range(diamond-1, -1, -1):\n    print((diamond - i) * \" \" + (2 * i + 1) * \"*\")\n</code></pre>\n\n<p>And the diamond will look perfect like this (diamond == 6):</p>\n\n<pre><code>      *\n     ***\n    *****\n   *******\n  *********\n ***********\n  *********\n   *******\n    *****\n     ***\n      *\n</code></pre>\n\n<p>Now if I make some changes and instead write the backwards loop like this:</p>\n\n<pre><code>for i in reversed(range(diamond-1)):\n    print((diamond - i) * \" \" + (2 * i + 1) * \"*\")\n</code></pre>\n\n<p>It will print out the diamond like this:</p>\n\n<pre><code>      *\n     ***\n    *****\n   *******\n  *********\n  *********\n   *******\n    *****\n     ***\n      *\n</code></pre>\n\n<p>So my question is: what is the difference between the first backwards loop and the second one I wrote? Why do they turn out so different?</p>\n"}]