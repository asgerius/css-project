[{"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 1, "creation_date": 1569456382, "post_id": 58107890, "comment_id": 102606256, "body": "<code>df.sort_values([&#39;Col1&#39;,&#39;Col2&#39;], inplace=True)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 6204, "user_id": 189418, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/77c9e732921aac0466d328b60c41c0e3?s=128&d=identicon&r=PG", "display_name": "foglerit", "link": "https://stackoverflow.com/users/189418/foglerit"}, "is_accepted": false, "score": 0, "last_activity_date": 1569456449, "creation_date": 1569456449, "answer_id": 58107944, "question_id": 58107890, "link": "https://stackoverflow.com/questions/58107890/pandas-dataframe-sort-on-unique-values/58107944#58107944", "title": "Pandas dataframe sort on unique values", "body": "<p>Try</p>\n\n<pre><code>&gt;&gt;&gt; df = df.sort_values(by=[\"Col1\", \"Col2\"])\n&gt;&gt;&gt; print(df)\n\n  Col1  Col2\n2   M1     1\n1   M1     2\n3   M1     3\n0   M1     4\n5   M2     1\n6   M2     2\n4   M2     3\n</code></pre>\n"}], "owner": {"reputation": 786, "user_id": 1524723, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3f5e6d57410a5304571d95c0b1fcff58?s=128&d=identicon&r=PG", "display_name": "joe", "link": "https://stackoverflow.com/users/1524723/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "closed_date": 1569456797, "answer_count": 1, "score": 0, "last_activity_date": 1569456449, "creation_date": 1569455738, "last_edit_date": 1569456008, "question_id": 58107890, "link": "https://stackoverflow.com/questions/58107890/pandas-dataframe-sort-on-unique-values", "closed_reason": "Duplicate", "title": "Pandas dataframe sort on unique values", "body": "<p>I have a dataframe as follow:</p>\n\n<pre><code>df \n\nCol1     Col2\nM1        4\nM1        2\nM1        1\nM1        3\nM2        3\nM2        1\nM2        2\n</code></pre>\n\n<p>I would like to sort the dataframe on python to achieve </p>\n\n<pre><code>Col1     Col2\nM1        1\nM1        2\nM1        3\nM1        4\nM2        1\nM2        2\nM2        3\n</code></pre>\n\n<p>Any suggestion how to achieve this?  Thank you</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12122022, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fo3slbm6KYQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRPCcH62d-pnQsKxY85qndAKlm5g/photo.jpg?sz=128", "display_name": "Emmanuel Yamoah", "link": "https://stackoverflow.com/users/12122022/emmanuel-yamoah"}, "edited": false, "score": 0, "creation_date": 1569459887, "post_id": 58108040, "comment_id": 102606850, "body": "How would I be able to use the Zelenium library to fix my issue?"}, {"owner": {"reputation": 675, "user_id": 7356109, "user_type": "registered", "profile_image": "https://graph.facebook.com/1288890557800389/picture?type=large", "display_name": "Jose Angel Sanchez", "link": "https://stackoverflow.com/users/7356109/jose-angel-sanchez"}, "reply_to_user": {"reputation": 11, "user_id": 12122022, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fo3slbm6KYQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRPCcH62d-pnQsKxY85qndAKlm5g/photo.jpg?sz=128", "display_name": "Emmanuel Yamoah", "link": "https://stackoverflow.com/users/12122022/emmanuel-yamoah"}, "edited": false, "score": 0, "creation_date": 1569460574, "post_id": 58108040, "comment_id": 102606951, "body": "What happens is that the website is bloquing the requests from your computer (I am assuming that it is not bloquing from all devices), zalenium handles different \u201dcomputers\u201d for each request"}], "tags": [], "owner": {"reputation": 675, "user_id": 7356109, "user_type": "registered", "profile_image": "https://graph.facebook.com/1288890557800389/picture?type=large", "display_name": "Jose Angel Sanchez", "link": "https://stackoverflow.com/users/7356109/jose-angel-sanchez"}, "is_accepted": false, "score": 0, "last_activity_date": 1569457371, "creation_date": 1569457371, "answer_id": 58108040, "question_id": 58107886, "link": "https://stackoverflow.com/questions/58107886/failed-to-establish-new-connection-max-retry-error/58108040#58108040", "title": "Failed To Establish New Connection MAX Retry Error", "body": "<p>This is not an error with your code, it is a problem that you have made too many that website, I highly recommend you to use <a href=\"https://github.com/zalando/zalenium\" rel=\"nofollow noreferrer\">this</a>, since it will make sure that each request to the website comes from a different machine.</p>\n"}], "owner": {"reputation": 11, "user_id": 12122022, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fo3slbm6KYQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcRPCcH62d-pnQsKxY85qndAKlm5g/photo.jpg?sz=128", "display_name": "Emmanuel Yamoah", "link": "https://stackoverflow.com/users/12122022/emmanuel-yamoah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1198, "favorite_count": 0, "closed_date": 1569512797, "answer_count": 1, "score": 1, "last_activity_date": 1569457371, "creation_date": 1569455698, "question_id": 58107886, "link": "https://stackoverflow.com/questions/58107886/failed-to-establish-new-connection-max-retry-error", "closed_reason": "Duplicate", "title": "Failed To Establish New Connection MAX Retry Error", "body": "<p>I am trying to create a script for a web scraper using Selenium on Google Chrome. However I am receiving error: </p>\n\n<blockquote>\n  <p>raise MaxRetryError(_pool, url, error or ResponseError(cause))\n  urllib3.exceptions.MaxRetryError: \n  HTTPConnectionPool(host='127.0.0.1', >port=53051): Max retries exceeded with url: >/session/54df0082f43bf3d90fa9623057c3cf53/elements (Caused by >NewConnectionError(': Failed to establish a new connection: [Errno 61] Connection refused',))</p>\n</blockquote>\n\n<p>This is my code so far concerning using selenium and webdriver. </p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.common.exceptions import TimeoutException\n\n# Specifying incognito mode as you launch your browser[OPTIONAL]\noption = webdriver.ChromeOptions()\noption.add_argument(\"--incognito\")\n\n# Create new Instance of Chrome in incognito mode\nbrowser = webdriver.Chrome(executable_path='/Users/emmanuelyamoah/Downloads/chromedriver-2', chrome_options=option)\n\n# Go to desired website\nbrowser.get(\"https://github.com/sonyemman\")\n\n# Wait 20 seconds for page to load\ntimeout = 20\ntry:\n    # Wait until the final element [Avatar link] is loaded.\n    # Assumption: If Avatar link is loaded, the whole page would be relatively loaded because it is among\n    # the last things to be loaded.\n    WebDriverWait(browser, timeout).until(EC.visibility_of_element_located((By.XPATH, \"//img[@class='avatar width-full rounded-2']\")))\nexcept TimeoutException:\n    print(\"Timed out waiting for page to load\")\n    browser.quit()\n</code></pre>\n"}, {"tags": ["python", "arrays", "multidimensional-array"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 1, "creation_date": 1569455624, "post_id": 58107847, "comment_id": 102606109, "body": "Welcome to SO! Is this an <code>n</code> by <code>n</code> matrix, e.g. a perfect square?"}], "owner": {"reputation": 11, "user_id": 12120860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a86b63d114065d036d873f2834cef2f?s=128&d=identicon&r=PG&f=1", "display_name": "nyphaze", "link": "https://stackoverflow.com/users/12120860/nyphaze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569455303, "creation_date": 1569455303, "question_id": 58107847, "link": "https://stackoverflow.com/questions/58107847/how-to-get-next-and-previous-value-in-a-2d-array-row-major-order-in-python", "title": "How to get next and previous value in a 2D array (row major order) in Python?", "body": "<p>I'm working on two functions which take in a 2d array and a current row and column value. It should return the next value or the previous value (if there is one) and if there isn't it should return (-1,-1)</p>\n\n<p>In the functions, I call the value (number) the node and nodeSolution is the 2d array.</p>\n\n<p>My problem is that I keep getting errors in my use function when I use this to backtrack. I have been bug fixing but I cannot seem to find where my code is going wrong. I'm getting a lot of index out of range, etc.</p>\n\n<pre><code>def nextNode(row, col, nodeSolution):\n    if(row == len(nodeSolution) and col == len(nodeSolution)):\n        return (-1,-1)\n    if(col == len(nodeSolution) - 1):\n        return (row+1, 0)\n    return (row, col+1)\n\ndef previousNode(row, col, nodeSolution):\n    if(row == 0 and col == 0):\n        return (-1,-1)\n    if(col == 0):\n        return (row-1, len(nodeSolution) - 1)\n    return (row, col-1)\n</code></pre>\n\n<p>Both functions should always return a row, col value that is in the 2d array or (-1,-1)</p>\n"}, {"tags": ["python", "python-3.x", "sockets", "networking"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569456013, "post_id": 58107767, "comment_id": 102606179, "body": "As an aside: <code>functools.reduce(operator.add, (tup))</code> don&#39;t do this, it is highly inefficient."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 11892283, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1tr6NNLl5jk/AAAAAAAAAAI/AAAAAAAAHJA/HmXZoxHY3fs/photo.jpg?sz=128", "display_name": "Techy Savage", "link": "https://stackoverflow.com/users/11892283/techy-savage"}, "edited": false, "score": 0, "creation_date": 1569634308, "post_id": 58109848, "comment_id": 102671364, "body": "the problem is it seems to be some encyrpted data. anything i can do about that"}], "tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": true, "score": 0, "last_activity_date": 1569474116, "creation_date": 1569474116, "answer_id": 58109848, "question_id": 58107767, "link": "https://stackoverflow.com/questions/58107767/typeerror-cant-concat-tuple-to-bytes/58109848#58109848", "title": "TypeError: can&#39;t concat tuple to bytes", "body": "<p><code>recvfrom</code> returns a tuple of <code>(data,address)</code>.  If you want the data in hex just do:</p>\n\n<pre><code>data,addr = s.recvfrom(800)\nprint(address,data.hex())\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11892283, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1tr6NNLl5jk/AAAAAAAAAAI/AAAAAAAAHJA/HmXZoxHY3fs/photo.jpg?sz=128", "display_name": "Techy Savage", "link": "https://stackoverflow.com/users/11892283/techy-savage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 58109848, "answer_count": 1, "score": -3, "last_activity_date": 1569474116, "creation_date": 1569454331, "question_id": 58107767, "link": "https://stackoverflow.com/questions/58107767/typeerror-cant-concat-tuple-to-bytes", "title": "TypeError: can&#39;t concat tuple to bytes", "body": "<p>I have this program running to \"sniff\" traffic on my network but the first problem i run into is it gives it to me in some formatted code like hex. so i try to convert the code but it doesn't work since it's a tuple so i convert the tuple into a string. I get this error code: </p>\n\n<pre><code>$ python sniffer.py\nTraceback (most recent call last):\n  File \"sniffer.py\", line 24, in &lt;module&gt;\n    output1 = convertTuple(output)\n  File \"sniffer.py\", line 8, in convertTuple\n    output = functools.reduce(operator.add, (tup))\nTypeError: can't concat tuple to bytes\n</code></pre>\n\n<p>And here is my full code:</p>\n\n<pre><code>import binascii\nimport struct\nimport socket\nimport functools\nimport operator\n\ndef convertTuple(tup):\n    output = functools.reduce(operator.add, (tup))\n    return output\n\ns = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket.IPPROTO_TCP)\ns = socket.socket(socket.AF_INET,socket.SOCK_RAW,socket.IPPROTO_IP)\ns.bind((\"192.168.2.16\",80))\ns.setsockopt(socket.IPPROTO_IP,socket.IP_HDRINCL,1)\ns.ioctl(socket.SIO_RCVALL,socket.RCVALL_ON)\n\n\nwhile True:\n    output = s.recvfrom(800)\n    output1 = convertTuple(output)\n    bytearray.fromhex(output1).decode()\n    print(output1)\n\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2289, "user_id": 10475068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9L6sS.jpg?s=128&g=1", "display_name": "Legorooj", "link": "https://stackoverflow.com/users/10475068/legorooj"}, "edited": false, "score": 0, "creation_date": 1569454302, "post_id": 58107731, "comment_id": 102605909, "body": "Try running in a python shell on the target PC <code>p = call([...])</code> your command, and see what <code>p</code> is equal to - it should be a tuple, the second item a 0 or 1. That Is the exit code"}, {"owner": {"reputation": 1459, "user_id": 11605335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e369436fb7719d6cadedbbdd36d92637?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Kearns", "link": "https://stackoverflow.com/users/11605335/robert-kearns"}, "edited": false, "score": 0, "creation_date": 1569462533, "post_id": 58107731, "comment_id": 102607302, "body": "What happens exactly? Does it crash?"}, {"owner": {"reputation": 35, "user_id": 9938820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSOFe.jpg?s=128&g=1", "display_name": "Bryant", "link": "https://stackoverflow.com/users/9938820/bryant"}, "reply_to_user": {"reputation": 2289, "user_id": 10475068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9L6sS.jpg?s=128&g=1", "display_name": "Legorooj", "link": "https://stackoverflow.com/users/10475068/legorooj"}, "edited": false, "score": 0, "creation_date": 1569522935, "post_id": 58107731, "comment_id": 102634263, "body": "@Legorooj I get an integer type on p when I run p = subprocess.call([...]) what does this mean?"}, {"owner": {"reputation": 35, "user_id": 9938820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSOFe.jpg?s=128&g=1", "display_name": "Bryant", "link": "https://stackoverflow.com/users/9938820/bryant"}, "reply_to_user": {"reputation": 1459, "user_id": 11605335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e369436fb7719d6cadedbbdd36d92637?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Kearns", "link": "https://stackoverflow.com/users/11605335/robert-kearns"}, "edited": false, "score": 0, "creation_date": 1569523000, "post_id": 58107731, "comment_id": 102634304, "body": "@RobertKearns No crash - it finishes execution and I get the popup &quot;Complete. ...&quot; at the end of the script."}, {"owner": {"reputation": 2289, "user_id": 10475068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9L6sS.jpg?s=128&g=1", "display_name": "Legorooj", "link": "https://stackoverflow.com/users/10475068/legorooj"}, "edited": false, "score": 0, "creation_date": 1569536608, "post_id": 58107731, "comment_id": 102639179, "body": "What&#39;s the value of it? That is the exit code - 0 for good, 1 for fail"}, {"owner": {"reputation": 2289, "user_id": 10475068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9L6sS.jpg?s=128&g=1", "display_name": "Legorooj", "link": "https://stackoverflow.com/users/10475068/legorooj"}, "edited": false, "score": 0, "creation_date": 1569536704, "post_id": 58107731, "comment_id": 102639204, "body": "If it&#39;s a one, try <code>subprocess.getoutput(cmd_as_a_single_string)</code> that will allow you to catch any errors"}], "owner": {"reputation": 35, "user_id": 9938820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSOFe.jpg?s=128&g=1", "display_name": "Bryant", "link": "https://stackoverflow.com/users/9938820/bryant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569453972, "creation_date": 1569453972, "question_id": 58107731, "link": "https://stackoverflow.com/questions/58107731/pyinstaller-doesnt-execute-subprocess-command", "title": "pyinstaller doesn&#39;t execute subprocess command", "body": "<p>I ran pyinstaller on a .py file and everything works except for one line that calls another .py file via the subprocess command. Here is my code for the .py file with the subprocess line:</p>\n\n<pre><code>#!/usr/bin/env python\n# coding: utf-8\n\n# In[ ]:\n\n\nimport PySimpleGUI as sg\nimport subprocess\n\npy_file_path = \"C:\\\\Users\\\\PIN CM 5\\\\Documents\\\\Python_Scripts\\\\Master_Script_v2.py\"\ngif_file_path= \"C:\\\\Users\\\\PIN CM 5\\\\Desktop\\\\Bryant\\\\Wait Gifs\\monkey.gif\"\n\nlayout = [[sg.Text('Choose Report')],\n      [sg.Listbox(values=('Industry Review (all)', 'Kia_IP', 'Hyundai_IP', 'Mitsu_IP','Acura_IR', 'Honda_IR', 'Hyundai_IR', 'Kia_IR', 'Mazda_IR','Mitsu_IR'), size=(40, 5))],\n      [sg.Text('[Required] Enter report date (YYYYMM):'), sg.InputText()],\n      [sg.Text('Refresh Cube?'), sg.Combo(['Yes', 'No'], default_value = 'No')],\n      [sg.Text('Month-end or MTD?'), sg.Combo(['Month-end', 'MTD'], default_value = 'MTD')],\n      [sg.Text('[MTD] Enter share data through (YYYYMMDD):'), sg.InputText()],\n      [sg.Text('[MTD] Enter spend data through (YYYYMMDD):'), sg.InputText()],\n      [sg.Text('[MTD] Enter month-end forecast (no commas):'), sg.InputText()],\n      [sg.OK(), sg.Cancel()]]\n\nwindow = sg.Window('Create Decks', layout)\n\nwhile True:\nevent, values = window.Read()\ninputs_list = ['report_name', 'report_date', 'refresh_cube', 'monthend_or_MTD', 'share_date', 'spend_date', 'forecast']\ninputs_dict = {}\nfor i, input in enumerate(inputs_list):\n    if i == 0:\n        inputs_dict[input] = values[i][i]\n    elif values[i] == '':\n        inputs_dict[input] = \"0\"\n    else:\n        inputs_dict[input] = values[i]\nif event is None or event == 'Exit' or event == 'Cancel':\n    break\nelse:\n    sg.PopupAnimated(gif_file_path, message='Just a sec...', background_color='#FFF', font=(\"Helvetica\",18), keep_on_top=True)     \n    subprocess.call(['python', py_file_path , inputs_dict['report_name'], inputs_dict['report_date'], inputs_dict['refresh_cube'], inputs_dict['monthend_or_MTD'], inputs_dict['share_date'], inputs_dict['spend_date'], inputs_dict['forecast']])\n    sg.PopupAnimated(image_source=None)\n    sg.Popup(\"Complete.\\nPlease go to Desktop -&gt; Monthly Automation -&gt; Output\", keep_on_top=True)\nwindow.Close()\n\n\n# In[ ]:\n</code></pre>\n\n<p>I ran this in a command prompt and it executed fine:</p>\n\n<pre><code>python \"C:\\\\Users\\\\PIN CM 5\\\\Documents\\\\Python_Scripts\\\\Master_Script_v2.py\" Kia_IP 201909 No Month-end 0 0 0\n</code></pre>\n\n<p>This issue came up after I migrated the process to a new computer (the old one had the user 'PIN' while this new one is 'PIN CM 5' but adding quotes should have solved that issue, I believe). Any help is appreciated, thanks.</p>\n"}, {"tags": ["python", "django", "python-3.x"], "comments": [{"owner": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "edited": false, "score": 0, "creation_date": 1569457283, "post_id": 58107712, "comment_id": 102606408, "body": "Are you using FileField in django model to store the file?"}, {"owner": {"reputation": 83, "user_id": 11615111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2a598b39ad040dcfaf973e46492007?s=128&d=identicon&r=PG&f=1", "display_name": "PythonBeg", "link": "https://stackoverflow.com/users/11615111/pythonbeg"}, "reply_to_user": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "edited": false, "score": 0, "creation_date": 1569458156, "post_id": 58107712, "comment_id": 102606550, "body": "No, the file is generated at every visit of the URL via write_pdf() function"}, {"owner": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "edited": false, "score": 0, "creation_date": 1569458392, "post_id": 58107712, "comment_id": 102606593, "body": "Oh so I think you can use uuid to generate a unique id and then use that as the name of the file and send it to your clients."}, {"owner": {"reputation": 83, "user_id": 11615111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2a598b39ad040dcfaf973e46492007?s=128&d=identicon&r=PG&f=1", "display_name": "PythonBeg", "link": "https://stackoverflow.com/users/11615111/pythonbeg"}, "reply_to_user": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "edited": false, "score": 0, "creation_date": 1569462399, "post_id": 58107712, "comment_id": 102607271, "body": "I think this is what I&#39;m looking for! But I am facing a problem, you see I added this <code>random_string_id = models.UUIDField(default=uuid.uuid4, editable=False)</code> to my model, but all the documents have the same UUID number, which defeats the purpose.  I cannot use it as PK as I am already using ID as PK in many other places. Thank you so much for your help! @ToanQuocHo"}, {"owner": {"reputation": 83, "user_id": 11615111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2a598b39ad040dcfaf973e46492007?s=128&d=identicon&r=PG&f=1", "display_name": "PythonBeg", "link": "https://stackoverflow.com/users/11615111/pythonbeg"}, "reply_to_user": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "edited": false, "score": 0, "creation_date": 1569462896, "post_id": 58107712, "comment_id": 102607370, "body": "Also worth mentioning that when I add <code>unique= True</code> I get a &quot;Duplicate Entry&quot; error in the DB"}, {"owner": {"reputation": 2277, "user_id": 5108404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lVueJ.jpg?s=128&g=1", "display_name": "Toan Quoc Ho", "link": "https://stackoverflow.com/users/5108404/toan-quoc-ho"}, "edited": false, "score": 0, "creation_date": 1569465948, "post_id": 58107712, "comment_id": 102607913, "body": "You could customize your model save method to filter by uuid before saving your model, if there is any record which have the same uuid then just need to issue a new one"}], "answers": [{"tags": [], "owner": {"reputation": 915, "user_id": 2587406, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/8a5Un.jpg?s=128&g=1", "display_name": "joshlsullivan", "link": "https://stackoverflow.com/users/2587406/joshlsullivan"}, "is_accepted": false, "score": 0, "last_activity_date": 1569465993, "creation_date": 1569465993, "answer_id": 58108894, "question_id": 58107712, "link": "https://stackoverflow.com/questions/58107712/unique-url-generator-for-object-items-or-hiding-id-from-url-parameter/58108894#58108894", "title": "Unique URL generator for Object Items or hiding ID from URL parameter", "body": "<p>I would use the new <code>secrets</code> module available in Python 3.6+. Here is an example:</p>\n\n<pre><code>from secrets import token_urlsafe\nrandom_string = token_urlsafe(16)\nprint(random_string)\n</code></pre>\n\n<p>The result would be something like this - <code>nslhgo0dYowR6CvMDEwC_A</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 11615111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2a598b39ad040dcfaf973e46492007?s=128&d=identicon&r=PG&f=1", "display_name": "PythonBeg", "link": "https://stackoverflow.com/users/11615111/pythonbeg"}, "is_accepted": true, "score": 1, "last_activity_date": 1569479948, "creation_date": 1569479948, "answer_id": 58110885, "question_id": 58107712, "link": "https://stackoverflow.com/questions/58107712/unique-url-generator-for-object-items-or-hiding-id-from-url-parameter/58110885#58110885", "title": "Unique URL generator for Object Items or hiding ID from URL parameter", "body": "<p>Ok so I have fixed it by doing the following:</p>\n\n<p>1- UUID was definetly the way, thank you @Toan Quoc Ho for that suggestion. I have added a UUID field to each of the models,</p>\n\n<p>2- Because I wanted to keep my PK as ID, I had the problem of generating unique UUID fields of existing documents. So I followed <a href=\"https://stackoverflow.com/questions/35281003/django-migration-with-uuid-field-generates-duplicated-values/46281363#46281363\">this solution</a>, and it worked magically. Only thing to note <strong>is that there can be no traffic when applying these changes, otherwise the database will crash, be aware.</strong></p>\n\n<p>3- I, then, used the UUID together with ID to determine documents and passed them as URL parameters using regex as (\\d+)/([\\w-]+)</p>\n\n<p>Voila, that did exactly what I wanted. No two documents share the same UUID, and vice-versa. I could generate a link unique to each document, and block any other access.</p>\n"}], "owner": {"reputation": 83, "user_id": 11615111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2a598b39ad040dcfaf973e46492007?s=128&d=identicon&r=PG&f=1", "display_name": "PythonBeg", "link": "https://stackoverflow.com/users/11615111/pythonbeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 58110885, "answer_count": 2, "score": 1, "last_activity_date": 1569479948, "creation_date": 1569453775, "question_id": 58107712, "link": "https://stackoverflow.com/questions/58107712/unique-url-generator-for-object-items-or-hiding-id-from-url-parameter", "title": "Unique URL generator for Object Items or hiding ID from URL parameter", "body": "<p>I am working on an application built using Python3 and Django that generates PDFs (via HTML) using filled fields from a data model. \nI've created a URL function that takes a value of document ID and type, and then generates a PDF of that document. </p>\n\n<p>What I want to do is to email clients a link that contains that URL function with a specific document ID, however, the problem that I'm facing is that the generated URL has the document ID in the URL parameter, and this is terrible for security purposes as all they can do is change ID number on URL and get access to a different document (that they are not supposed to see)</p>\n\n<p>My questions are:</p>\n\n<p>A- Is there a way to create a unique link for every generated PDF that I can send to clients?</p>\n\n<p>B- Would it be better to create another field in the model of a randomly generated 15 character value, that I use instead of the ID in the parameter?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569453813, "post_id": 58107700, "comment_id": 102605804, "body": "You can use a loop, and then use <code>np.power(a, 2**i)</code>"}, {"owner": {"reputation": 614, "user_id": 3893580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02bbf5b1f688a462c3a076210ea9efb3?s=128&d=identicon&r=PG&f=1", "display_name": "Caerus", "link": "https://stackoverflow.com/users/3893580/caerus"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569454381, "post_id": 58107700, "comment_id": 102605917, "body": "Yes, that&#39;s true. I was hoping there was a numpy feature ready-built for handling situations like this elegantly, but that will do, thanks."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569454466, "post_id": 58107700, "comment_id": 102605927, "body": "There probably is a numpy shortcut, I&#39;m just not much of a numpy expert."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569454530, "post_id": 58107700, "comment_id": 102605942, "body": "But you could use <code>np.array([2**i for i in range(n)])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 11505680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7537b6a0dfdbbbba92ab116c29aadf8?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/11505680/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1569454681, "creation_date": 1569454681, "answer_id": 58107789, "question_id": 58107700, "link": "https://stackoverflow.com/questions/58107700/raise-elements-of-array-to-series-of-exponents/58107789#58107789", "title": "Raise Elements of Array to Series of Exponents", "body": "<p>The straightforward approach is:</p>\n\n<pre><code>exponents = [2**n for n in a]\n[a**e for e in exponents]\n</code></pre>\n\n<p>This works fine for relatively small numbers, but I see what looks like numerical overflow on the larger numbers. (Although I can compute those high powers just fine using scalars.)</p>\n"}, {"tags": [], "owner": {"reputation": 493, "user_id": 2633995, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/viHUK.jpg?s=128&g=1", "display_name": "Nick Lehmann", "link": "https://stackoverflow.com/users/2633995/nick-lehmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1569455816, "creation_date": 1569455816, "answer_id": 58107896, "question_id": 58107700, "link": "https://stackoverflow.com/questions/58107700/raise-elements-of-array-to-series-of-exponents/58107896#58107896", "title": "Raise Elements of Array to Series of Exponents", "body": "<p>The most elegant way I could think of is to not calculate the exponents beforehand. Since your exponents follow a very easy pattern, you can express everything using on list-comprehension.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>result = [item**2*index for index,item in enumerate(a)]\n</code></pre>\n\n<p>If you are working with quite large datasets, this will cause some serious overhead. This statement will do all calculations immediately and save all calculated element in one large array. To mitigate this problem, you could you a generator expression, which will generate the data on the fly.</p>\n\n<pre><code>result = (item**2*index for index,item in enumerate(a))\n</code></pre>\n\n<p>See <a href=\"https://wiki.python.org/moin/Generators\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 1, "last_activity_date": 1569460555, "creation_date": 1569460555, "answer_id": 58108315, "question_id": 58107700, "link": "https://stackoverflow.com/questions/58107700/raise-elements-of-array-to-series-of-exponents/58108315#58108315", "title": "Raise Elements of Array to Series of Exponents", "body": "<p>One thing to observe is that x^(2^n) = (...(((x^2)^2)^2)...^2)\nmeaning that you can compute each column from the previous by taking the square.</p>\n\n<p>If you know the number of columns in advance you can do something like:</p>\n\n<pre><code>import functools as ft\n\na = np.arange(5)\nn = 4\n\nout = np.empty((*a.shape,n),a.dtype)\nout[:,0] = a\n\n# Note: this works by side-effect!\n# The optional second argument of np.square is \"out\", i.e. an\n# array to write the result to (nonetheless the result is also\n# returned directly)\nft.reduce(np.square,out.T)\n\nout\n# array([[    0,     0,     0,     0],\n#        [    1,     1,     1,     1],\n#        [    2,     4,    16,   256],\n#        [    3,     9,    81,  6561],\n#        [    4,    16,   256, 65536]])\n</code></pre>\n\n<p>If the number of columns is not known in advance then the most efficient method is to make a list of columns, append as needed and only in the end use <code>np.column_stack</code> or <code>np.c_</code> (if using <code>np.c_</code> do not forget to cast the list to tuple first).</p>\n"}], "owner": {"reputation": 614, "user_id": 3893580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02bbf5b1f688a462c3a076210ea9efb3?s=128&d=identicon&r=PG&f=1", "display_name": "Caerus", "link": "https://stackoverflow.com/users/3893580/caerus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 58108315, "answer_count": 3, "score": 0, "last_activity_date": 1569460555, "creation_date": 1569453621, "question_id": 58107700, "link": "https://stackoverflow.com/questions/58107700/raise-elements-of-array-to-series-of-exponents", "title": "Raise Elements of Array to Series of Exponents", "body": "<p>Suppose I have a numpy array such as:</p>\n\n<pre><code>a = np.arange(9)\n&gt;&gt; array([0, 1, 2, 3, 4, 5, 6, 7, 8])\n</code></pre>\n\n<p>If I want to raise each element to succeeding powers of two, I can do it this way:</p>\n\n<pre><code>power_2 = np.power(a,2)\npower_4 = np.power(a,4)\n</code></pre>\n\n<p>Then I can combine the arrays by:</p>\n\n<pre><code>np.c_[power_2,power_4]\n&gt;&gt; array([[   0,    0],\n       [   1,    1],\n       [   4,   16],\n       [   9,   81],\n       [  16,  256],\n       [  25,  625],\n       [  36, 1296],\n       [  49, 2401],\n       [  64, 4096]])\n</code></pre>\n\n<p>What's an efficient way to do this if I don't know the degree of the even monomial (highest multiple of 2) in advance?</p>\n"}, {"tags": ["python", "sql-server", "pandas", "pyodbc"], "answers": [{"comments": [{"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1569528892, "post_id": 58116197, "comment_id": 102636830, "body": "Thank you! That brings both result sets. But is any way I can assign each of them to different dataframe? Let&#39;s say <code>df1 = [first output]</code>, <code>df2 = [second output]</code> and so on. ?"}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "reply_to_user": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1569532653, "post_id": 58116197, "comment_id": 102638130, "body": "Instead of a loop, just create <code>df1</code>, then call <code>nextset()</code>, then create <code>df2</code>, and so on."}, {"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "edited": false, "score": 0, "creation_date": 1569535211, "post_id": 58116197, "comment_id": 102638836, "body": "Thanks, sorry I am new to python, so for the last &quot;for loop&quot; I need to:<code>#check result df1 = [] if cursor.nextset()==True:     df1=cursor.nextset() print(df1)</code>"}], "tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": true, "score": 3, "last_activity_date": 1569498548, "creation_date": 1569498548, "answer_id": 58116197, "question_id": 58107697, "link": "https://stackoverflow.com/questions/58107697/how-to-save-output-of-sql-server-stored-procedure-with-multiple-result-sets-into/58116197#58116197", "title": "How to save output of SQL Server stored procedure with multiple result sets into each dataframe in pandas", "body": "<p>You should be able to just iterate through the result sets, convert them to DataFrames, and append those DataFrames to a list. For example, given the stored procedure</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE PROCEDURE dbo.MultiResultSP \nAS\nBEGIN\n    -- SET NOCOUNT ON added to prevent extra result sets from\n    -- interfering with SELECT statements.\n    SET NOCOUNT ON;\n\n    SELECT 1 AS [UserID], N'Gord' AS [UserName]\n    UNION ALL\n    SELECT 2 AS [UserID], N'Elaine' AS [UserName];\n\n    SELECT N'pi' AS [Constant], 3.14 AS [Value]\n    UNION ALL\n    SELECT N'sqrt_2' AS [Constant], 1.41 AS [Value]\nEND\n</code></pre>\n\n<p>the Python code would look something like this:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>data_frames = []\ncrsr = cnxn.cursor()\ncrsr.execute(\"EXEC dbo.MultiResultSP\")\nresult = crsr.fetchall()\nwhile result:\n    col_names = [x[0] for x in crsr.description]\n    data = [tuple(x) for x in result]  # convert pyodbc.Row objects to tuples\n    data_frames.append(pd.DataFrame(data, columns=col_names))\n    if crsr.nextset():\n        result = crsr.fetchall()\n    else:\n        result = None\n\n# check results\nfor df in data_frames:\n    print(df)\n    print()\n\"\"\" console output:\n\n   UserID UserName\n0       1     Gord\n1       2   Elaine\n\n  Constant Value\n0       pi  3.14\n1   sqrt_2  1.41\n\n\"\"\"\n</code></pre>\n"}], "owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 0, "accepted_answer_id": 58116197, "answer_count": 1, "score": 2, "last_activity_date": 1569498548, "creation_date": 1569453579, "last_edit_date": 1569470153, "question_id": 58107697, "link": "https://stackoverflow.com/questions/58107697/how-to-save-output-of-sql-server-stored-procedure-with-multiple-result-sets-into", "title": "How to save output of SQL Server stored procedure with multiple result sets into each dataframe in pandas", "body": "<p>I have a SQL Server stored procedure that returns 3 separate tables. </p>\n\n<p>How can I store each of this table in different data-frame using pandas?</p>\n\n<p>Something like:</p>\n\n<ul>\n<li><strong>df1</strong> - first table</li>\n<li><strong>df2</strong> - second table </li>\n<li><strong>df3</strong> - third table</li>\n</ul>\n\n<p>Where should I start looking at?</p>\n\n<p>Thank you </p>\n\n<pre><code>import pandas as pd \nimport pyodbc \nfrom datetime import datetime\n\n\nparam = datetime(year=2019,month=7,day=31)\nquery = \"\"\"EXECUTE [dbo].PythonTest_USIC_TreatyYear_ReportingPackage  @AsOFDate = '{0}'\"\"\".format(param)\nconn = pyodbc.connect('DRIVER={SQL Server};server=myserver;DATABASE=mydatabase;Trusted_Connection=yes;')\ndf = pd.read_sql_query(query, conn)\nprint(df.head())\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1569453775, "post_id": 58107690, "comment_id": 102605799, "body": "The first thing I&#39;d say is stop saying &quot;dumb&quot; and &quot;stupid&quot;. Drop that. You want to look into &quot;scope&quot; for functions and <code>global</code> would be a slippery slope even if it probably looks like a quick fix"}, {"owner": {"reputation": 3240, "user_id": 10157759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c9NabIUCJts/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oyzFAfLJNxPqTgYUMTb4PPAZ7N5Q/mo/photo.jpg?sz=128", "display_name": "GZ0", "link": "https://stackoverflow.com/users/10157759/gz0"}, "edited": false, "score": 0, "creation_date": 1569453855, "post_id": 58107690, "comment_id": 102605812, "body": "Just save the input string into a variable <code>s</code> and then check <code>s == &#39;F&#39;</code> to break out of the loop before converting <code>s</code> to an <code>int</code>. Using <code>try ... except</code> to break out of the loop is also fine IMO."}, {"owner": {"reputation": 105, "user_id": 11059447, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w82_YUVtR2Q/AAAAAAAAAAI/AAAAAAAAASw/CPFTjbwQIzc/photo.jpg?sz=128", "display_name": "Felix Dumitrascu", "link": "https://stackoverflow.com/users/11059447/felix-dumitrascu"}, "edited": false, "score": 0, "creation_date": 1569453951, "post_id": 58107690, "comment_id": 102605832, "body": "Thank you for your answers. I&#39;m supposed to know nothing about functions or exceptions so the teacher expects from me a total different way of resolving this"}, {"owner": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "edited": false, "score": 0, "creation_date": 1569454486, "post_id": 58107690, "comment_id": 102605932, "body": "You execute <code>y = int(input())</code> and in the next statement <code>if isinstance(y,int): res +=y</code>. If the first statement failed to convert the input to an int, an exception would have been thrown and you never would have fallen through to the second. So isn&#39;t that test for y being an int superfluous?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1569454596, "post_id": 58107690, "comment_id": 102605952, "body": "RIght, but Stack Overflow isn&#39;t a forum, it&#39;s supposed to be a repository of specific programming questions and answers. There is no need for self-deprecation - we&#39;ve all been learners. Beyond that, see <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">this</a>"}], "answers": [{"tags": [], "owner": {"reputation": 17989, "user_id": 365102, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/e3139989e6548e7deac2cd45253d60df?s=128&d=identicon&r=PG", "display_name": "Mateen Ulhaq", "link": "https://stackoverflow.com/users/365102/mateen-ulhaq"}, "is_accepted": true, "score": 2, "last_activity_date": 1569454295, "creation_date": 1569454295, "answer_id": 58107762, "question_id": 58107690, "link": "https://stackoverflow.com/questions/58107690/how-to-break-a-while-loop-when-input-is-a-particular-string/58107762#58107762", "title": "How to break a while loop when input is a particular string?", "body": "<p>You could have written it a bit shorter:</p>\n\n<pre><code>result = 0\n\nwhile True:\n    line = input()\n    try:\n        result += int(line)\n    except ValueError:\n        break\n\nprint(result)\n</code></pre>\n\n<p>Notice:</p>\n\n<ul>\n<li><code>import numbers</code> isn't needed. (I didn't even know that existed!)</li>\n<li>Instead of <code>2 &gt; 1</code>, you can use <code>True</code>.</li>\n<li>You don't need to check <code>isinstance(..., int)</code> since <code>int()</code> enforces that.</li>\n<li>This runs until any non-integer string is reached.</li>\n</ul>\n\n<hr>\n\n<p>If you want to specifically check for \"F\" <em>only</em>, it's a bit easier:</p>\n\n<pre><code>result = 0\n\nwhile True:\n    line = input()\n    if line == \"F\":\n        break\n    result += int(line)\n\nprint(result)\n</code></pre>\n\n<p>Note that without using <code>try</code>, you'll crash the program if you input a non-integer, non-<code>\"F\"</code> string.</p>\n"}], "owner": {"reputation": 105, "user_id": 11059447, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w82_YUVtR2Q/AAAAAAAAAAI/AAAAAAAAASw/CPFTjbwQIzc/photo.jpg?sz=128", "display_name": "Felix Dumitrascu", "link": "https://stackoverflow.com/users/11059447/felix-dumitrascu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 0, "accepted_answer_id": 58107762, "answer_count": 1, "score": 1, "last_activity_date": 1569455392, "creation_date": 1569453495, "last_edit_date": 1569455392, "question_id": 58107690, "link": "https://stackoverflow.com/questions/58107690/how-to-break-a-while-loop-when-input-is-a-particular-string", "title": "How to break a while loop when input is a particular string?", "body": "<p>I need to stop adding up user inputs when one of them is the string \"F\".\nSo basically If my input is a int then : += result, if the same input variable is a string then I need to stop and add them together. </p>\n\n<p>My code actually works and has the same inputs and outputs the exercise demands but I'm very unhappy with the way I resolve it.</p>\n\n<p>This is my code: </p>\n\n<pre><code>import numbers\ncat = int(input())\n\n\ndef norm(cat):\n    res = 0\n    for n in range(cat):\n      x = int(input())\n      res += x\n\n    print(res)\n\ndef lon():\n    res = 0\n    while 2 &gt; 1:\n     try :\n         y = int(input())\n         if isinstance(y,int):\n           res +=y\n     except:\n        print(res)\n        break\n\n\n\n\nif cat &gt;= 0 :\n    norm(cat)\nelse:\n    lon()\n</code></pre>\n\n<p>It's actually breaking the while loop in a stupid way by checking if my variable is an int. (I need to make it stop by simply pressing F)\nIs there any cleaner and shorter way to obtain the same outputs?  </p>\n\n<p>Example of the actual inputs-outputs I expect :</p>\n\n<pre><code>in:       out:16    (1 + 3 + 5 + 7)\n4\n1\n3\n5\n7\n\nin:       out:37     (1 + 3 + 5 + 7 + 21)\n-1\n1\n3\n5\n7\n21\nF\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "class", "package"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 2, "creation_date": 1569453955, "post_id": 58107684, "comment_id": 102605834, "body": "After a module is imported it becomes an attribute of its package. That&#39;s the intended and specified behavior. What is the actual issue you have with this?"}, {"owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1569454064, "post_id": 58107684, "comment_id": 102605855, "body": "@KlausD. Well, I want to be able to stop the three src files from being added as attributes to the module. It seems like most packages don&#39;t exhibit behavior like this - is there something that I&#39;m doing differently of incorrect? Also forgive me because I&#39;m pretty new to the packaging system."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1569454536, "post_id": 58107684, "comment_id": 102605944, "body": "Well, if you don&#39;t want the modules to be in the package, then you don&#39;t put the source files there. Why would you want to have modules in a packages without being in the package?"}, {"owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1569454645, "post_id": 58107684, "comment_id": 102605957, "body": "@KlausD. I can import the names I want in <code>__init__.py</code>, so I don&#39;t see any point for those module attributes to be there."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569455278, "post_id": 58107684, "comment_id": 102606055, "body": "I believe this is a consequence of how the relative imports work, I am away from a computer, but try specifying the full import, i.e. <code>from my_package.client import ChatSession as Client</code>"}, {"owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569455456, "post_id": 58107684, "comment_id": 102606080, "body": "@juanpa.arrivillaga Tried that, unfortunately nothing changed."}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 2, "creation_date": 1569456423, "post_id": 58107684, "comment_id": 102606258, "body": "So, how would you import them with them without being an attribute? The import syntax uses them as one, even that this is a bit harder to see in relative import and that if not already imported the attribute will be created while importing."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1569456646, "post_id": 58107684, "comment_id": 102606309, "body": "@KlausD. since we&#39;ve been discussing this with the OP for a while in chat: they essentially want to do (the relative version of) <code>from foo import bar</code> without <code>foo</code> appearing in the current namespace. The surprising bit they&#39;re asking about is why <code>foo</code> gets imported on its own when <code>from foo import bar</code> would only suggest to put the name <code>bar</code> into the namespace, not <code>foo</code>. Does this help clarify?"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1569457168, "post_id": 58107684, "comment_id": 102606395, "body": "Because that is how Python works, how it is specified and documented. And that they (?) have still not explained:  what problem does this cause? Stack Overflow is not the right place to just complain about Python language design decisions."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1569457307, "post_id": 58107684, "comment_id": 102606415, "body": "@KlausD. I don&#39;t think they are complaining, the question seems to be &quot;why does this happen?&quot;. If it&#39;s specified and documented it&#39;s all well, but OP certainly hasn&#39;t found where it&#39;s documented and no links to this behaviour have been posted yet. A short explanation pointing to the relevant part of the docs would be an answer to this question."}, {"owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1569457355, "post_id": 58107684, "comment_id": 102606425, "body": "@KlausD. Also, to add - considering I don&#39;t see this behavior in most common Python packages, is there a better package layout that you think would work better for the situation?"}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1569475694, "last_edit_date": 1569475694, "creation_date": 1569474464, "answer_id": 58109893, "question_id": 58107684, "link": "https://stackoverflow.com/questions/58107684/why-does-init-py-import-all-files-in-the-folder-as-modules/58109893#58109893", "title": "Why does __init__.py import all files in the folder as modules?", "body": "<blockquote>\n  <p>Why does <code>__init__.py</code> import all files in the folder as modules?</p>\n</blockquote>\n\n<p>It does not. You must explicitly import them. Add an empty <code>other.py</code> file in the package directory and you will not see it does not get imported at all, unless you also add the code to trigger the submodule import. See <a href=\"https://stackoverflow.com/a/49641638/674039\">Do I need to import submodules directly?</a> for more about that.</p>\n\n<p>You've probably meant to ask something more like \"Why do submodule imports always bind names in the parent module?\" as a question title. Well, this is just how the import system in Python works. It's documented under <a href=\"https://docs.python.org/3/reference/import.html#submodules\" rel=\"nofollow noreferrer\"><em>5.4.2. Submodules</em></a>:</p>\n\n<blockquote>\n  <p>When a submodule is loaded using any mechanism (e.g. <code>importlib</code> APIs, the <code>import</code> or <code>import-from</code> statements, or built-in <code>__import__()</code>) a binding is placed in the parent module\u2019s namespace to the submodule object. For example, if package <code>spam</code> has a submodule <code>foo</code>, after importing <code>spam.foo</code>, <code>spam</code> will have an attribute <code>foo</code> which is bound to the submodule.</p>\n</blockquote>\n\n<p>To give you a better intuition about why this is actually a sensible behavior, consider that importing the parent module (my_module) creates an item in <code>sys.modules</code> dict, with the key being <code>\"my_module\"</code> (string) and the value being <code>my_module</code> (module). Subsequently, the submodule import of client will also create an item in <code>sys.modules</code> with the key being <code>\"my_module.client\"</code> (string) and the value being <code>my_module.client</code> (module). Since both <code>my_module</code> and <code>my_module.client</code> are now cached in the <code>sys.modules</code>, it makes sense for <code>client</code> to be attached as an attribute on <code>my_module</code>.</p>\n\n<p>If you don't like the submodule name bindings appearing for whatever reason, you may simply remove those submodule names from the parent module namespace by placing a <code>del</code> statement after the import-from statements.</p>\n"}], "owner": {"reputation": 1312, "user_id": 9717184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ad422fe492f8008ce2945c57c5148d?s=128&d=identicon&r=PG", "display_name": "connectyourcharger", "link": "https://stackoverflow.com/users/9717184/connectyourcharger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "closed_date": 1569477684, "accepted_answer_id": 58109893, "answer_count": 1, "score": 1, "last_activity_date": 1569475694, "creation_date": 1569453448, "question_id": 58107684, "link": "https://stackoverflow.com/questions/58107684/why-does-init-py-import-all-files-in-the-folder-as-modules", "closed_reason": "Duplicate", "title": "Why does __init__.py import all files in the folder as modules?", "body": "<p>While writing a Python package I encountered some strange behavior. This is my directory layout:</p>\n\n<pre><code>my_package/\n    __init.py__\n    client.py\n    events.py\n    utils.py\n</code></pre>\n\n<p>In <code>__init__.py</code> there are some <code>from ...</code> imports that import various names:</p>\n\n<pre><code>__all__ = ['Client', 'get_websocket_url', 'format_cookies']\n\nfrom .client import ChatSession as Client\nfrom .utils import get_websocket_url, format_cookies\n</code></pre>\n\n<p>When I import <code>my_package</code> and run <code>dir(my_package)</code>, it seems that <code>client.py</code>, <code>events.py</code>, and <code>utils.py</code> are all included as attributes:</p>\n\n<pre><code>['Client', '__all__', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', 'client', 'events', 'format_cookies', 'get_websocket_url', 'utils']\n</code></pre>\n\n<p>What is the reason that this happens? I was able to remove those attributes by <code>del</code>eting them in <code>__init__.py</code> but that doesn't look very good to linters. The only other file that imports anything is <code>client.py</code>:</p>\n\n<pre><code>from .events import Event\nfrom .utils import get_websocket_url\n\n...\n</code></pre>\n\n<p>But this doesn't import any module as a whole, so this is puzzling me. Any thoughts?</p>\n"}, {"tags": ["python", "multiprocessing", "global-variables"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569714056, "post_id": 58128527, "comment_id": 102685928, "body": "This looks great and simple enough, thank you. I tried to apply it to a different difficulty as far as the worker result is concerned and run it for 10, 50 and worked great, but when I tried it for 100 iterations my Pycharm window froze. I think I managed to run it with 70 or 80. Maybe my fault and I will get back to it tomorrow. after I check what I did wrong if so. Will get back to you."}, {"owner": {"reputation": 1305, "user_id": 4141279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21b951b1b50da7ca328945b7798ee25a?s=128&d=identicon&r=PG&f=1", "display_name": "RaJa", "link": "https://stackoverflow.com/users/4141279/raja"}, "reply_to_user": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569734018, "post_id": 58128527, "comment_id": 102688236, "body": "It might be that the queue is full. It has a limited length. When it is full, nothing can be added. Your program might block in this case. You have to constantly pull elements from the queue while the jobs are running."}, {"owner": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569752547, "post_id": 58128527, "comment_id": 102691615, "body": "Thank you Raja. So, if this is the case, how would I pull items while the job is running in your above example? Not sure how to do it, should it be within the (for i in range[100]) or somehow outside the loop?"}, {"owner": {"reputation": 1305, "user_id": 4141279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21b951b1b50da7ca328945b7798ee25a?s=128&d=identicon&r=PG&f=1", "display_name": "RaJa", "link": "https://stackoverflow.com/users/4141279/raja"}, "reply_to_user": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569761348, "post_id": 58128527, "comment_id": 102693504, "body": "You would have to put the &quot;pull&quot;-section of the code in front of the section where you join the threads."}, {"owner": {"reputation": 1305, "user_id": 4141279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21b951b1b50da7ca328945b7798ee25a?s=128&d=identicon&r=PG&f=1", "display_name": "RaJa", "link": "https://stackoverflow.com/users/4141279/raja"}, "reply_to_user": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569761669, "post_id": 58128527, "comment_id": 102693585, "body": "I have modified my answer to show how to do this. It is a bit easier when you know exactly how many outputs you will get."}, {"owner": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569762850, "post_id": 58128527, "comment_id": 102693842, "body": "Thank you, RaJa. The new code works without &#39;hanging&#39; for 100 items, All good here.The funny part, is while the first part ``` for i in range(10):         p = multiprocessing.Process(target=worker, args=(i, out_queue))         jobs.append(p)         p.start() ```  only takes about 4 seconds to complete (for calculating some addresses), the second part ``` result = []     for i in range(10):         val = out_queue.get(block=True) # wait for the next item         result.append(val)      for p in jobs:         p.join() ```  Takes another 6 seconds !!! How can this be?"}, {"owner": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569763244, "post_id": 58128527, "comment_id": 102693941, "body": "(Timings are for 100 items, not 10)  I can&#39;t believe that while it works so fast (4 secs) to calculate 100 address using multiprocess, crating the final tuple (results) takes another 6 seconds. This looks too slow"}, {"owner": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569763937, "post_id": 58128527, "comment_id": 102694109, "body": "My code part: <code>jobs = [] KeyPairs = Queue()  # max size = limit for i in range(limit): \tp = Process(target=worker, args=(i, KeyPairs)) \tjobs.append(p) \tp.start()  addresses = [] addr2check = [] for i in range(limit): \tval = KeyPairs.get(block=True)  # wait for the next item \taddresses.append(val) \taddr2check = tuple(addr2check) + (val[1],)  for p in jobs: \tp.join() </code>"}, {"owner": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569763982, "post_id": 58128527, "comment_id": 102694120, "body": "I can&#39;t find the way to post code the right way... I put it between ` but nothing"}, {"owner": {"reputation": 1305, "user_id": 4141279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21b951b1b50da7ca328945b7798ee25a?s=128&d=identicon&r=PG&f=1", "display_name": "RaJa", "link": "https://stackoverflow.com/users/4141279/raja"}, "reply_to_user": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "edited": false, "score": 0, "creation_date": 1569764325, "post_id": 58128527, "comment_id": 102694213, "body": "Creating the tasks does not take so much time. But the jobs have to to the calculations which takes some time. <code>output_queue.get(block=True)</code> waits for elements to become available. It is not adding extra time, just waits for the tasks to end their calculations."}], "tags": [], "owner": {"reputation": 1305, "user_id": 4141279, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/21b951b1b50da7ca328945b7798ee25a?s=128&d=identicon&r=PG&f=1", "display_name": "RaJa", "link": "https://stackoverflow.com/users/4141279/raja"}, "is_accepted": true, "score": 0, "last_activity_date": 1569761606, "last_edit_date": 1569761606, "creation_date": 1569563555, "answer_id": 58128527, "question_id": 58107664, "link": "https://stackoverflow.com/questions/58107664/how-to-get-all-the-values-returned-from-multiprocessing-in-a-tuple-in-python/58128527#58128527", "title": "How to get all the values returned from multiprocessing in a tuple in Python", "body": "<p>Use a queue to transfer all the data and than just combine them to a tuple.</p>\n\n<pre><code>import random, string, time, multiprocessing\nfrom multiprocessing import Queue\n\ndef randomString(stringLength=10):\n    \"\"\"Generate a random string of fixed length \"\"\"\n    letters = string.ascii_lowercase\n    return ''.join(random.choice(letters) for i in range(stringLength))\n\ndef worker(num, out_queue):\n    workdone = randomString(20)\n    print(\"Worker: \", num, \"Workdone: \", workdone)\n    out_queue.put(workdone)\n\nif __name__ == '__main__':\n    starttime = time.time()\n    out_queue = Queue()\n\n\n    jobs = []\n    Alladdr = []\n    for i in range(10):\n        p = multiprocessing.Process(target=worker, args=(i, out_queue))\n        jobs.append(p)\n        p.start()\n\n\n    result = []\n    for i in range(10):\n        val = out_queue.get(block=True) # wait for the next item\n        result.append(val)\n\n    for p in jobs:\n        p.join() # wait for finish of jobs\n\n    Totalworkdone = tuple(result)\n\n\n    # print()\n    # print(\"All workdone = \", Totalworkdone) # Totalworkdone should be the tuple of ALL the workdone ever created in my loop\n    print()\n    print('That took {} seconds'.format(time.time() - starttime))\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12110095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb4f4144576bacd3c6f433d8f0f10f62?s=128&d=identicon&r=PG&f=1", "display_name": "Chameleon", "link": "https://stackoverflow.com/users/12110095/chameleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58128527, "answer_count": 1, "score": 1, "last_activity_date": 1569761606, "creation_date": 1569453254, "question_id": 58107664, "link": "https://stackoverflow.com/questions/58107664/how-to-get-all-the-values-returned-from-multiprocessing-in-a-tuple-in-python", "title": "How to get all the values returned from multiprocessing in a tuple in Python", "body": "<p>How can we make a tuple of ALL the results created from an \"i in range(x) do something\" using multiprocessing?</p>\n\n<p>Tried the simple multiprocessing but can't find a way to get the results in one tuple variable.</p>\n\n<p>I'm guessing that multiprocessing for my case, say for creating a tuple of 10000 strings should work faster using multiprocessing than just with the standard code \"for i in ragne[x] make a new string and add it...\"? For example, if instead of 10000 strings I had to create 10000 string results that needed some heavy CPU work each?</p>\n\n<pre><code>import random, string, time, multiprocessing\n\ndef randomString(stringLength=10):\n    \"\"\"Generate a random string of fixed length \"\"\"\n    letters = string.ascii_lowercase\n    return ''.join(random.choice(letters) for i in range(stringLength))\n\ndef worker(num):\n    workdone = randomString(20)\n    print(\"Worker: \", num, \"Workdone: \", workdone)\n    return # how do I return the workdone string?\n\nif __name__ == '__main__':\n    starttime = time.time()\n\n    jobs = []\n    Alladdr = []\n    for i in range(10):\n        p = multiprocessing.Process(target=worker, args=(i,))\n\n        # How do I create a tuple (let's call it Totalworkdone) of all workdone results?\n\n        jobs.append(p)\n        p.start()\n\n    # print()\n    # print(\"All workdone = \", Totalworkdone) # Totalworkdone should be the tuple of ALL the workdone ever created in my loop\n    print()\n    print('That took {} seconds'.format(time.time() - starttime))\n</code></pre>\n\n<p>Hello all. I need to get all the results created from the worker using multiprocessing in one 'big' tuple. </p>\n\n<p>For example, if the \"for i in range[20]\" makes the worker create 20 random strings, I need to be able to work with a variable Totalworkdone that is a tuple of ALL the strings created by the worker. I don't care if they are in random order, this is fine. </p>\n\n<p>Any help is appreciated but please refrain from URLs pointing to long and confusing code, as I am a newbie trying to do just the above, so I can learn and move forward. Thank you all in advance.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 653, "user_id": 7876832, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8026603fd9d461598f867990a8eefbd2?s=128&d=identicon&r=PG&f=1", "display_name": "ParalysisByAnalysis", "link": "https://stackoverflow.com/users/7876832/paralysisbyanalysis"}, "is_accepted": true, "score": 1, "last_activity_date": 1569454223, "last_edit_date": 1569454223, "creation_date": 1569453816, "answer_id": 58107716, "question_id": 58107652, "link": "https://stackoverflow.com/questions/58107652/comparing-one-dataframe-against-another-with-pandas/58107716#58107716", "title": "Comparing one dataframe against another with pandas", "body": "<p>Utilizing <code>set()</code> here will help with providing values in <code>New</code> and not in <code>Old</code>.  Then filter based on the resulting list.</p>\n\n<pre><code>df1 = pd.DataFrame(data=[1,2,3,4,5,7,8,9], columns=['New'])\ndf2 = pd.DataFrame(data=[1,2,3,5,8,9,0], columns=['Old'])\n\ndf1_unique = set(df1['New']) - set(df2['Old'])\nfinal_df= df1[df1['New'].isin(df1_unique)]\nfinal_df.rename(columns = {'New' : 'Desired Output'}, inplace=True)\nprint(final_df)\n</code></pre>\n"}], "owner": {"reputation": 577, "user_id": 2283234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/96f85e77c3cd3aa02497dbfca04faa47?s=128&d=identicon&r=PG", "display_name": "user2283234", "link": "https://stackoverflow.com/users/2283234/user2283234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 58107716, "answer_count": 1, "score": 0, "last_activity_date": 1569509438, "creation_date": 1569453194, "last_edit_date": 1569509438, "question_id": 58107652, "link": "https://stackoverflow.com/questions/58107652/comparing-one-dataframe-against-another-with-pandas", "title": "Comparing one dataframe against another with pandas", "body": "<p>Good Afternoon,</p>\n\n<p>I want to compare dataframe \"new\" against dataframe \"old\" to get a new dataframe with data that <em>only</em> exists in \"new\" but <em>not</em> old. For example</p>\n\n<pre><code>New  Old  Desired Output\n---  ---  --------------\n1    1    4 \n3    2    7\n4    3\n5    5\n7    8\n8    9\n9    0\n</code></pre>\n\n<p>What I did at first (forgive me, I'm new to this) was:</p>\n\n<pre><code>df = pd.concat([new, old])\nfinal = pd.DataFrame(df.iloc[:,0].unique())\n</code></pre>\n\n<p>What I failed to realize, of course, is that there are values in 'old' that may not be in 'new' and per my code, those values would also show up in 'final' - which I don't want.</p>\n\n<p>If anyone can point me in the right direction, any help is always appreciated!</p>\n"}, {"tags": ["python", "python-3.x", "string", "shuffle"], "comments": [{"owner": {"reputation": 28698, "user_id": 8380272, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZL-hcLCA44/AAAAAAAAAAI/AAAAAAAAAag/L1xahsLXycQ/photo.jpg?sz=128", "display_name": "Onyambu", "link": "https://stackoverflow.com/users/8380272/onyambu"}, "edited": false, "score": 0, "creation_date": 1569453505, "post_id": 58107637, "comment_id": 102605744, "body": "is this a case of restricted permutations.?"}], "answers": [{"comments": [{"owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "edited": false, "score": 0, "creation_date": 1569471835, "post_id": 58108654, "comment_id": 102608988, "body": "The answer from @MarkTolonen is a better approach to randomness with the given constraints (and will handle higher vowel to consonant ratios before failing)."}], "tags": [], "owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "is_accepted": false, "score": 0, "last_activity_date": 1569463807, "creation_date": 1569463807, "answer_id": 58108654, "question_id": 58107637, "link": "https://stackoverflow.com/questions/58107637/how-to-shuffle-letters-in-string-with-vowel-isolated-in-python/58108654#58108654", "title": "How to shuffle letters in string with vowel isolated in Python", "body": "<p>Here is one way to attempt what you are after. Separates vowels from consonants, shuffles them for randomness, zips vowels and consonants in a poor attempt to isolate the vowels (but this will fail if there are too many more vowels than consonants), randomly selects word length ensuring minimum of one character per word and that the number of output words is the same as the number of input words.</p>\n\n<p>You could probably do a better job isolating vowels by generating more single vowel words when necessary. However, depending on the vowel to consonant ratio and the number of words, there will always be scenarios where you can't both isolate vowels and output the desired number of words.</p>\n\n<pre><code>from itertools import chain, zip_longest\nfrom random import randint, random, shuffle\n\ns = 'this is a loop'\n\nvowels = []\nconsonants = []\nfor char in s.replace(' ', ''):\n    if char in 'aeiouAEIOU':\n        vowels.append(char)\n    else:\n        consonants.append(char)\n\nshuffle(vowels)\nshuffle(consonants)\nif len(vowels) &gt; len(consonants) or random() &gt; 0.5:\n    a, b = vowels, consonants\nelse:\n    a, b = consonants, vowels\n\nletters = ''.join([c for c in chain.from_iterable(zip_longest(a, b)) if c])\nwords = []\nfor i in range(s.count(' '), -1, -1):\n    x = randint(1, len(letters) - i)\n    words.append(letters[:x])\n    letters = letters[x:]\n\ns = ' '.join(words)\nprint(s)\n# EXAMPLE RANDOM OUTPUT:\n# si hipa lo tos\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": false, "score": 1, "last_activity_date": 1569465721, "creation_date": 1569465721, "answer_id": 58108867, "question_id": 58107637, "link": "https://stackoverflow.com/questions/58107637/how-to-shuffle-letters-in-string-with-vowel-isolated-in-python/58108867#58108867", "title": "How to shuffle letters in string with vowel isolated in Python", "body": "<p>Brute force randomization with disqualifying tests:</p>\n\n<pre><code>import re\nimport random\nimport time\n\ndef perm_lets(s):\n    s = list(s)\n    start = time.perf_counter()\n    while True:\n        random.shuffle(s)\n        p = ''.join(s)\n        if '  ' in p: continue                            # no spaces together\n        if p.startswith(' ') or p.endswith(' '): continue # don't start or end with space\n        if re.search(r'[aeiou]{2}',p): continue           # no vowels together\n        elapsed = time.perf_counter() - start\n        return p,elapsed\n\nprint(perm_lets('this is a loop'))\nprint(perm_lets('i bid you adieu'))\n</code></pre>\n\n<p>Output (4 runs):</p>\n\n<pre><code>('sopihats o i l', 0.0009378000000026532)\n('ade udo ibiyi u', 0.07766600000000068)\n('i o ha tpsislo', 0.00026450000000011187)\n('o adebudu iyi i', 0.00632540000000148)\n('o la sstipi ho', 5.2900000000022374e-05)\n('udobida eyi i u', 0.3843909999999937)     # 1/3 of a second for a tough sentence\n('ipa hts o soli', 0.00028810000000589753)\n('idida e obu uyi', 0.18083439999999484)\n</code></pre>\n\n<p>Note: \"adieu louie\" has no solution.</p>\n"}, {"tags": [], "owner": {"reputation": 4321, "user_id": 2851685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20f3273fea79265e19e3aafd2d11aeb?s=128&d=identicon&r=PG", "display_name": "Dev Khadka", "link": "https://stackoverflow.com/users/2851685/dev-khadka"}, "is_accepted": false, "score": 0, "last_activity_date": 1569471109, "creation_date": 1569471109, "answer_id": 58109458, "question_id": 58107637, "link": "https://stackoverflow.com/questions/58107637/how-to-shuffle-letters-in-string-with-vowel-isolated-in-python/58109458#58109458", "title": "How to shuffle letters in string with vowel isolated in Python", "body": "<p>you can do it like this also</p>\n\n<ul>\n<li>separate vowels and consonant using regex</li>\n<li>combine each vowels to consonant</li>\n<li>shuffle the result until result not starts/ends with space and don't have two spaces together</li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code>import random\nimport re\n\ndef perm_lets(st):\n    ls = re.findall(r\"([aeiouAEIOU])|(.)\", st)\n    vs, cs = [c for c,_ in ls if len(c)&gt;0], [v for _,v in ls if len(v)&gt;0]\n\n    positions = list(range(len(cs)))\n    result = \"\"\n    for v in vs:\n        if len(positions)==0:\n            cs.append(\" \"+v)\n        else:\n            p = random.choice(positions)\n            positions.remove(p)\n            cs[p//2] += v\n\n    while True:\n        random.shuffle(cs)\n        result = \"\".join(cs)\n        if not (result.startswith(\" \") or result.endswith(\" \") or \"  \" in result):\n            break\n\n    return result\n\n\n\nprint(perm_lets(\"this is a loop\"))\n\nprint(perm_lets(\"teis iou\")) # more vowels than consonants\n\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>tp so hal osii\nsi u tei o\n\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8887217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4026f84800f70cee0732b42f182de82?s=128&d=identicon&r=PG&f=1", "display_name": "gummug", "link": "https://stackoverflow.com/users/8887217/gummug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569474582, "creation_date": 1569453014, "last_edit_date": 1569463953, "question_id": 58107637, "link": "https://stackoverflow.com/questions/58107637/how-to-shuffle-letters-in-string-with-vowel-isolated-in-python", "title": "How to shuffle letters in string with vowel isolated in Python", "body": "<p>I am creating a function</p>\n\n<ol>\n<li>Takes input as a string. </li>\n<li>Returns a string.</li>\n<li><p>The return string will have the same number of words as the input string, and the same letters as the input string, but the individual words can be of different length.  i.e. </p>\n\n<pre><code>perm_lets(\"try this\") == \"ist thry\"\n</code></pre></li>\n</ol>\n\n<p>is a valid return-value.  By \"number of words\" in a string <code>X</code>, we mean the length of the list <code>X.split(' ')</code>, i.e. one more than the number of blank spaces in the string.   A \"word\" means a string of letters with no spaces. Lastly,</p>\n\n<ol start=\"4\">\n<li>Every vowel must be isolated, i.e. immediately beside vowels you have at most spaces and/or consonants.</li>\n</ol>\n\n<p>My function can only shuffle the letters of the input string. I would like to know how to isolate the vowel</p>\n\n<pre><code>    import random as rd\n    def perm_lets(input_string):\n        nS = ''.join(rd.sample(input_string,len(input_string)))\n        print(nS)\n</code></pre>\n\n<p>I expect the output of <strong>perm_lets(\"this is a loop\")</strong> to be something like <strong>\"si olo pit ahs\"</strong> but the actual output is <strong>\" ph siioaos lt\"</strong> (spaces in the wrong place and vowels are not isolated).</p>\n"}, {"tags": ["python", "arrays", "performance", "numpy"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569457911, "post_id": 58107632, "comment_id": 102606512, "body": "yes, this is a polynomial time algorithm. It&#39;s going to get slower fast as you increase the the size of the inputs. Use a better algorithm, likely using different data structures that support constant time (instead of linear time) membership testing."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569459978, "post_id": 58107632, "comment_id": 102606862, "body": "Any suggestions regarding a better algorithm Juan?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1569460062, "post_id": 58107632, "comment_id": 102606881, "body": "create a dict of the items in <code>ids_b</code> to their index, then just use that dictionary instead of checking membership on an array."}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 1, "creation_date": 1569461404, "post_id": 58107632, "comment_id": 102607097, "body": "You can 1) concatenate ids_a and ids_b, 2) apply np.unique with keyword return_inverse=True, 3) split the inverse into inv_a and inv_b, 4) map the values to match the order of uniques: vals[inv_a] = vals_in_a, and 5) use inv_b to pick the correct values: result = vals[inv_b]"}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1569463761, "post_id": 58107632, "comment_id": 102607526, "body": "I&#39;ll try both approaches tomorrow morning and see what comes out of it. Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 1804, "user_id": 11641278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a2b7b58c2f619284b8f54d78b0b985e?s=128&d=identicon&r=PG", "display_name": "One Lyner", "link": "https://stackoverflow.com/users/11641278/one-lyner"}, "edited": false, "score": 0, "creation_date": 1569573708, "post_id": 58118907, "comment_id": 102648767, "body": "<code>try ... except</code> has a cost; you should probably replace this by a simpler <code>if id_a in dict_ids_b</code>."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 1804, "user_id": 11641278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a2b7b58c2f619284b8f54d78b0b985e?s=128&d=identicon&r=PG", "display_name": "One Lyner", "link": "https://stackoverflow.com/users/11641278/one-lyner"}, "edited": false, "score": 0, "creation_date": 1569586967, "post_id": 58118907, "comment_id": 102655705, "body": "I&#39;ve always been under the impression that a <code>try..except</code> block is cheaper than an <code>if..else</code> block. You mean this is not true?"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "reply_to_user": {"reputation": 1804, "user_id": 11641278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a2b7b58c2f619284b8f54d78b0b985e?s=128&d=identicon&r=PG", "display_name": "One Lyner", "link": "https://stackoverflow.com/users/11641278/one-lyner"}, "edited": false, "score": 1, "creation_date": 1569644606, "post_id": 58118907, "comment_id": 102672411, "body": "@OneLyner, Gabriel, in cases like this an <code>if...else</code> expression uses one more dictionary lookup; as these are not cheap this typically tips the balance."}], "tags": [], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "is_accepted": false, "score": 0, "last_activity_date": 1569508234, "last_edit_date": 1569508234, "creation_date": 1569507671, "answer_id": 58118907, "question_id": 58107632, "link": "https://stackoverflow.com/questions/58107632/speed-up-search-of-array-element-in-second-array/58118907#58118907", "title": "Speed up search of array element in second array", "body": "<p>I tried the approaches by juanpa.arrivillaga and Paul Panzer. The first one is the fastest by far. It is also the simplest. The second one is faster than my original approach, but considerably slower than the first one. It also has the drawback that this line <code>vals[inv_a] = vals_in_a</code> stores floats into a <code>U5</code> array, thus converting them into strings. It can be converted back to floats at the end, but I lose digits (unless I'm missing something obvious of course.</p>\n\n<p>Here are the implementations:</p>\n\n<pre><code>def juanpa():\n    dict_ids_b = {_: i for i, _ in enumerate(ids_b)}\n    for i, id_a in enumerate(ids_a):\n        try:\n            vals_in_b[dict_ids_b[id_a]] = vals_in_a[i]\n        except KeyError:\n            pass\n\n    return vals_in_b\n\n\ndef Paul():\n    # 1) concatenate ids_a and ids_b\n    ids_ab = ids_a + ids_b\n    # 2) apply np.unique with keyword return_inverse=True\n    vals, idxs = np.unique(ids_ab, return_inverse=True)\n    # 3) split the inverse into inv_a and inv_b\n    inv_a, inv_b = idxs[:len(ids_a)], idxs[len(ids_a):]\n    # 4) map the values to match the order of uniques: vals[inv_a] = vals_in_a\n    vals[inv_a] = vals_in_a\n    # 5) use inv_b to pick the correct values: result = vals[inv_b]\n    vals_in_b = vals[inv_b].astype(float)\n\n    return vals_in_b\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1569586897, "post_id": 58124830, "comment_id": 102655669, "body": "Indeed, this implementation of your answer works as expected. Also, your implementation of Juan&#39;s answer is the fastest. Thank you very much Paul!"}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 1, "last_activity_date": 1569533258, "last_edit_date": 1569533258, "creation_date": 1569532209, "answer_id": 58124830, "question_id": 58107632, "link": "https://stackoverflow.com/questions/58107632/speed-up-search-of-array-element-in-second-array/58124830#58124830", "title": "Speed up search of array element in second array", "body": "<p>In defense of my approach, here is the authoritative implementation:</p>\n\n<pre><code>import itertools as it\n\ndef pp():\n    la,lb = len(ids_a),len(ids_b)\n    ids = np.fromiter(it.chain(ids_a,ids_b),'&lt;S6',la+lb)\n    unq,inv = np.unique(ids,return_inverse=True)\n    vals = np.empty(la,vals_in_a.dtype)\n    vals[inv[:la]] = vals_in_a\n    return vals[inv[la:]]\n\n(juanpa()==pp()).all()\n# True\n\ntimeit(juanpa,number=100)\n# 3.1373191522434354\ntimeit(pp,number=100)\n# 2.5256317732855678\n</code></pre>\n\n<p>That said, @juanpa.arrivillaga's suggestion can also be implemented better:</p>\n\n<pre><code>import operator as op\n\ndef ja():\n    return op.itemgetter(*ids_b)(dict(zip(ids_a,vals_in_a)))\n\n(ja()==pp()).all()\n# True\ntimeit(ja,number=100)\n# 2.015202699229121\n</code></pre>\n"}], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58124830, "answer_count": 2, "score": 0, "last_activity_date": 1569533258, "creation_date": 1569452973, "question_id": 58107632, "link": "https://stackoverflow.com/questions/58107632/speed-up-search-of-array-element-in-second-array", "title": "Speed up search of array element in second array", "body": "<p>I have a pretty simple operation involving two not so large arrays:</p>\n\n<ol>\n<li>For every element in the first (larger) array, located in position <code>i</code></li>\n<li>Find if it exists in the second (smaller) array</li>\n<li>If it does, find its index in the second array: <code>j</code></li>\n<li>Store a float taken from a third array (same length as first array) in the position <code>i</code>, in the position <code>j</code> of a fourth array (same length as second array)</li>\n</ol>\n\n<p>The <code>for</code> block below works, but gets <strong>very</strong> slow for not so large arrays (>10000).</p>\n\n<p>Can this implementation be made faster?</p>\n\n<pre><code>import numpy as np\nimport random\n\n##############################################\n# Generate some random data.\n#'Nb' is always smaller then 'Na\nNa, Nb = 50000, 40000\n\n# List of IDs (could be any string, I use integers here for simplicity)\nids_a = random.sample(range(1, Na * 10), Na)\nids_a = [str(_) for _ in ids_a]\nrandom.shuffle(ids_a)\n# Some floats associated to these IDs\nvals_in_a = np.random.uniform(0., 1., Na)\n\n# Smaller list of repeated IDs from 'ids_a'\nids_b = random.sample(ids_a, Nb)\n# Array to be filled\nvals_in_b = np.zeros(Nb)\n##############################################\n\n# This block needs to be *a lot* more efficient\n#\n# For each string in 'ids_a'\nfor i, id_a in enumerate(ids_a):\n    # if it exists in 'ids_b'\n    if id_a in ids_b:\n        # find where in 'ids_b' this element is located\n        j = ids_b.index(id_a)\n        # store in that position the value taken from 'ids_a'\n        vals_in_b[j] = vals_in_a[i]\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "sockets", "python-sockets"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569453045, "post_id": 58107618, "comment_id": 102605662, "body": "The server only accepts one connection. The socket accept part isn&#39;t in a loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569453460, "post_id": 58107618, "comment_id": 102605740, "body": "The inner loop never ends, so you&#39;ll never repeat the outer loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569453574, "post_id": 58107618, "comment_id": 102605761, "body": "You should detect EOF and break out of the inner loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569453701, "post_id": 58107618, "comment_id": 102605786, "body": "If you kill the server and try to start it again soon, you need to use the <code>SO_REUSEADDR</code> socket option to bind to the same port. See <a href=\"https://stackoverflow.com/questions/5875177/how-to-close-a-socket-left-open-by-a-killed-program\" title=\"how to close a socket left open by a killed program\">stackoverflow.com/questions/5875177/&hellip;</a>"}], "owner": {"reputation": 89, "user_id": 9605590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e069ef457f2fcdfb71a5fe9e69afad?s=128&d=identicon&r=PG&f=1", "display_name": "Conrad", "link": "https://stackoverflow.com/users/9605590/conrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569453418, "creation_date": 1569452782, "last_edit_date": 1569453418, "question_id": 58107618, "link": "https://stackoverflow.com/questions/58107618/python-sockets-randomly-disconnecting-on-local-network", "title": "Python: sockets randomly disconnecting on local network", "body": "<p>I'm trying to run a python socket server on my local network, with this server code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import socket\nserversocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nserversocket.bind((socket.gethostname(), 9876))\nserversocket.listen(5)\nwhile True:\n    c, addr = serversocket.accept()\n    while True:\n        data = c.recv(1024).decode()\n        print(data)\n        c.send(data.encode())\n</code></pre>\n\n<p>Then, using netcat on another network machine, I can connect to the server and send text in, and have it mirrored back. However, after about two or three tries, it suddenly drops back out to the command line and no longer accepts any connections. The server side, however acts the same, and appears like it didn't see the last incoming message.</p>\n\n<p>If I try to connect to it with another socket, it does the same thing, but instead throws error 104, and then error 32.</p>\n\n<p>I am completely stumped. I've tried adding threads, and everything else that I can think of. If anyone on has any ideas on why this is happening, or ways to work around it, I'd love to hear. Thanks! I'm using python 3.5.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "scikit-learn", "cluster-analysis"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11127947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/243aca79d60f1fadd360c914d564a31f?s=128&d=identicon&r=PG&f=1", "display_name": "nathan wendt", "link": "https://stackoverflow.com/users/11127947/nathan-wendt"}, "is_accepted": false, "score": 0, "last_activity_date": 1569453721, "creation_date": 1569453721, "answer_id": 58107709, "question_id": 58107610, "link": "https://stackoverflow.com/questions/58107610/sklearns-affinity-propagation-good-dependents-bad-exemplars/58107709#58107709", "title": "Sklearn&#39;s Affinity Propagation, good dependents bad exemplars", "body": "<p>Sorry, I should have tried a parametric sweep before posting. Apparently, AP is just highly sensitive to metric data. I got decent results at preference = -100, damping =0.95, and 1500 iterations. </p>\n"}], "owner": {"reputation": 11, "user_id": 11127947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/243aca79d60f1fadd360c914d564a31f?s=128&d=identicon&r=PG&f=1", "display_name": "nathan wendt", "link": "https://stackoverflow.com/users/11127947/nathan-wendt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569453721, "creation_date": 1569452737, "question_id": 58107610, "link": "https://stackoverflow.com/questions/58107610/sklearns-affinity-propagation-good-dependents-bad-exemplars", "title": "Sklearn&#39;s Affinity Propagation, good dependents bad exemplars", "body": "<p>I am attempting to use sklearn's affinity propagation implementation for a fairly easy cluster, however, I am getting some funky results. I was trying to use AP with 300 clusters of 3 points each and it failed miserably so I tried a seemingly easy clustering problem of 5 gaussian distributed clusters with 100 points each. The resulting graph is linked below. Does anyone know where I went wrong?</p>\n\n<p><a href=\"https://github.com/NathanWendt/Random_Python/blob/master/bad_AP.png\" rel=\"nofollow noreferrer\">AP plot</a></p>\n\n<p>I followed @Anony-Mousse's response from <a href=\"https://stackoverflow.com/questions/56087793/change-in-preference-value-does-not-affect-the-results-of-affinity-propagation-c\">this</a>, however, increasing the damping and max iterations did not really help.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.cluster import AffinityPropagation\nfrom itertools import cycle\n\nn_per_cluster = 100\nn_clusters = 5\nn_total = n_per_cluster*n_clusters\n\nx = np.empty(n_total)\ny = np.empty(n_total)\nlabels = np.empty(n_total)\ncount = 0\nfor i in range(n_clusters):\n    xseed = np.random.random()*100\n    yseed = np.random.random()*100\n    normX = np.random.normal(xseed,1,n_per_cluster)\n    normY = np.random.normal(yseed,1,n_per_cluster)\n    normCount = 0\n    for j in range(n_per_cluster):\n        x[count] = normX[normCount]\n        y[count] = normY[normCount]\n        labels[count] = i\n        normCount+=1\n        count+=1\n\n#print(labels)\n#print(x, y)\n# plt.scatter(x,y)\n# plt.show()\npreference = -50\nmax_iter = 1000\nxy = np.column_stack((x,y))\naf = AffinityPropagation(damping = 0.9, preference = preference, verbose = True, max_iter = max_iter).fit(xy)\n_exemplars_index = af.cluster_centers_indices_\n_labels = af.labels_\n_n_cluster = len(_exemplars_index)\n\nplt.close('all')\nplt.figure(1)\nplt.clf()\n\ncolors = cycle('bgrcmyk')\nfor k,col in zip(range(_n_cluster),colors):\n    class_members = labels == k #error check\n    exemplars = xy[_exemplars_index[k]]\n    plt.plot(xy[class_members, 0], xy[class_members,1], col + '.')\n    plt.plot(exemplars[0], exemplars[1], 'o', markerfacecolor=col,\n             markeredgecolor='k', markersize=14)\n    for x in xy[class_members]:\n        plt.plot([exemplars[0], x[0]], [exemplars[1], x[1]], col)\n\nplt.title('Estimated number of clusters: %d' % _n_cluster)\nplt.show()\n</code></pre>\n\n<p>It is getting the clusters correct, but the exemplars are across the screen. This is a pretty straight forward clustering problem so I imagine it is user error but I haven't figured it out yet. Thanks for the help</p>\n"}, {"tags": ["python", "combinatorics"], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1569452964, "last_edit_date": 1569452964, "creation_date": 1569452589, "answer_id": 58107588, "question_id": 58107480, "link": "https://stackoverflow.com/questions/58107480/finding-all-unique-substitution-combinations-in-python/58107588#58107588", "title": "Finding all unique substitution combinations in Python", "body": "<p>Although you didn't specify your problem requirements, from the single example I gather that you need to map each element of <code>b</code> to exactly <em>one</em> element of <code>a</code> (although a given <code>a</code> element may have more than one <code>b</code> element mapped to it).  That has an exponential explosion, a total of <code>len(b) ** len(a)</code> distinct mappings.</p>\n\n<p>You can shorten your code quite a bit: learn to use the <code>itertools</code> module; this is effectively an application of the <code>product</code> method, crossing six copies of <code>a</code>.  In simple terms:</p>\n\n<pre><code>product(*[a]*len(b))\n</code></pre>\n\n<p>Does that get you going?</p>\n"}, {"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1569452731, "creation_date": 1569452731, "answer_id": 58107608, "question_id": 58107480, "link": "https://stackoverflow.com/questions/58107480/finding-all-unique-substitution-combinations-in-python/58107608#58107608", "title": "Finding all unique substitution combinations in Python", "body": "<p>You can generate the desired combinations and then use <code>zip</code>:</p>\n\n<pre><code>a = ['Joe', 'Mary', 'Sue']\nb = ['S0', 'S1', 'S2', 'S3', 'S4', 'S5']\ndef combos(d, c = []):\n  if len(b) == sum(map(len, c)):\n     yield c\n  for i in range(1, len(d)+1):\n     yield from combos(d[i:], c+[d[:i]])\n\nr = [[[j for _ in k] for j, k in zip(a, i)] for i in combos(b) if len(i) == 3]\nresult = [dict(zip(b, [i for k in j for i in k])) for j in r]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[{'S0': 'Joe', 'S1': 'Mary', 'S2': 'Sue', 'S3': 'Sue', 'S4': 'Sue', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Mary', 'S2': 'Mary', 'S3': 'Sue', 'S4': 'Sue', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Mary', 'S2': 'Mary', 'S3': 'Mary', 'S4': 'Sue', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Mary', 'S2': 'Mary', 'S3': 'Mary', 'S4': 'Mary', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Mary', 'S3': 'Sue', 'S4': 'Sue', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Mary', 'S3': 'Mary', 'S4': 'Sue', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Mary', 'S3': 'Mary', 'S4': 'Mary', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Joe', 'S3': 'Mary', 'S4': 'Sue', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Joe', 'S3': 'Mary', 'S4': 'Mary', 'S5': 'Sue'}, {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Joe', 'S3': 'Joe', 'S4': 'Mary', 'S5': 'Sue'}]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1569629004, "post_id": 58107809, "comment_id": 102670767, "body": "After revisiting this question, I believe this is the most efficient method to create the desired combinations."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 2, "last_activity_date": 1569455172, "last_edit_date": 1569455172, "creation_date": 1569454845, "answer_id": 58107809, "question_id": 58107480, "link": "https://stackoverflow.com/questions/58107480/finding-all-unique-substitution-combinations-in-python/58107809#58107809", "title": "Finding all unique substitution combinations in Python", "body": "<p>You can use <code>itertools.product</code> to generate the desired cartesian product:</p>\n\n<pre><code>from itertools import product\n\ndef iter_mapping_combos(names1, names2):\n    yield from (dict(zip(names2, p)) for p in product(names1, repeat=len(names2)))\n</code></pre>\n\n<p>so that:</p>\n\n<pre><code>for mapping in iter_mapping_combos(['Joe', 'Mary'], ['S0', 'S1', 'S2']):\n    print(mapping)\n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>{'S0': 'Joe', 'S1': 'Joe', 'S2': 'Joe'}\n{'S0': 'Joe', 'S1': 'Joe', 'S2': 'Mary'}\n{'S0': 'Joe', 'S1': 'Mary', 'S2': 'Joe'}\n{'S0': 'Joe', 'S1': 'Mary', 'S2': 'Mary'}\n{'S0': 'Mary', 'S1': 'Joe', 'S2': 'Joe'}\n{'S0': 'Mary', 'S1': 'Joe', 'S2': 'Mary'}\n{'S0': 'Mary', 'S1': 'Mary', 'S2': 'Joe'}\n{'S0': 'Mary', 'S1': 'Mary', 'S2': 'Mary'}\n</code></pre>\n\n<p>Demo: <a href=\"https://repl.it/repls/BlondStalePostscript\" rel=\"nofollow noreferrer\">https://repl.it/repls/BlondStalePostscript</a></p>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1569456056, "last_edit_date": 1569456056, "creation_date": 1569455037, "answer_id": 58107823, "question_id": 58107480, "link": "https://stackoverflow.com/questions/58107480/finding-all-unique-substitution-combinations-in-python/58107823#58107823", "title": "Finding all unique substitution combinations in Python", "body": "<p>Note that your method is over-counting by 6x (i.e. the number of items in <code>b</code>).  On my smaller sample, for example, your code produces the following which are just rearrangements of the same items:</p>\n\n<pre><code>[{'S0': 'Joe', 'S2': 'Joe', 'S1': 'Joe'},\n {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Joe'},\n {'S1': 'Joe', 'S2': 'Joe', 'S0': 'Joe'},\n ...]\n</code></pre>\n\n<p>Using a smaller example to demonstrate my implementation:</p>\n\n<pre><code>from itertools import combinations_with_replacement, permutations\n\na = ['Joe', 'Mary'] \nb = ['S0', 'S1', 'S2'] \n\nresult = []\ncombos = combinations_with_replacement(a, len(b))\nfor combo in combos:\n    seen = set()\n    for p in permutations(range(len(b)), len(b)):\n        order = tuple(combo[idx] for idx in p)\n        if order not in seen:\n            seen.add(order)\n            result.append(order)\n\n&gt;&gt;&gt; result\n[('Joe', 'Joe', 'Joe'),\n ('Joe', 'Joe', 'Mary'),\n ('Joe', 'Mary', 'Joe'),\n ('Mary', 'Joe', 'Joe'),\n ('Joe', 'Mary', 'Mary'),\n ('Mary', 'Joe', 'Mary'),\n ('Mary', 'Mary', 'Joe'),\n ('Mary', 'Mary', 'Mary')]\n</code></pre>\n\n<p>The result then needs to be encoded to the keys in <code>b</code>:</p>\n\n<pre><code>final_result = [{b[n]: val for n, val in enumerate(row)} \n                for row in result]\n&gt;&gt;&gt; final_result\n[{'S0': 'Joe', 'S1': 'Joe', 'S2': 'Joe'},\n {'S0': 'Joe', 'S1': 'Joe', 'S2': 'Mary'},\n {'S0': 'Joe', 'S1': 'Mary', 'S2': 'Joe'},\n {'S0': 'Mary', 'S1': 'Joe', 'S2': 'Joe'},\n {'S0': 'Joe', 'S1': 'Mary', 'S2': 'Mary'},\n {'S0': 'Mary', 'S1': 'Joe', 'S2': 'Mary'},\n {'S0': 'Mary', 'S1': 'Mary', 'S2': 'Joe'},\n {'S0': 'Mary', 'S1': 'Mary', 'S2': 'Mary'}]\n</code></pre>\n"}], "owner": {"reputation": 50130, "user_id": 247542, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/c125f576c3a08c0c1d4330bc565ae28c?s=128&d=identicon&r=PG", "display_name": "Cerin", "link": "https://stackoverflow.com/users/247542/cerin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1569456056, "creation_date": 1569451723, "question_id": 58107480, "link": "https://stackoverflow.com/questions/58107480/finding-all-unique-substitution-combinations-in-python", "title": "Finding all unique substitution combinations in Python", "body": "<p>Given two lists of unique labels like:</p>\n\n<pre><code>a = ['Joe', 'Mary', 'Sue']\nb = ['S0', 'S1', 'S2', 'S3', 'S4', 'S5']\n</code></pre>\n\n<p>How would I efficiently find all possible combinations where the elements from list <code>a</code> are substituted or mapped into list <code>b</code>? e.g. If S0 = S1 = Joe, S2 = Mary, S3 = S4 = S5 = Sue then I would have:</p>\n\n<pre><code>{'S0': 'Joe', 'S1': 'Joe', 'S2': 'Mary', 'S3': 'Sue', 'S4': 'Sue', 'S5': 'Sue'}\n</code></pre>\n\n<p>I started with this simple nested for-loop approach:</p>\n\n<pre><code>def iter_mapping_combos(names1, names2):\n    q = [(names2, {})]\n    priors = set()\n    while q:\n        _names2, _mapping = q.pop(0)\n        key = (frozenset(_names2), frozenset(_mapping.items()))\n        if key in priors:\n            continue\n        priors.add(key)\n        for n1 in names1:\n            for n2 in _names2:\n                if n2 in _mapping:\n                    continue\n                _mapping_next = dict(_mapping)\n                _mapping_next[n2] = n1\n                _names2_next = set(_names2)\n                _names2_next.remove(n2)\n                if _names2_next:\n                    q.append((_names2_next, _mapping_next))\n                else:\n                    yield _mapping_next\n\nfor mapping in iter_mapping_combos(['Joe', 'Mary', 'Sue'], ['S0', 'S1', 'S2', 'S3', 'S4', 'S5']):\n    print(mapping)\n</code></pre>\n\n<p>It works, but as you can imagine, it's not that efficient and it doesn't scale well as the lengths of the lists increase. Is there a better way to do this?</p>\n"}, {"tags": ["python", "numpy", "image-processing", "data-science", "numpy-ndarray"], "comments": [{"owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "edited": false, "score": 0, "creation_date": 1569452521, "post_id": 58107468, "comment_id": 102605568, "body": "Check out <a href=\"https://docs.scipy.org/doc/scipy-0.19.1/reference/generated/scipy.misc.imresize.html\" rel=\"nofollow noreferrer\"><code>scipy.misc.imresize</code></a>."}, {"owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "edited": false, "score": 0, "creation_date": 1569452933, "post_id": 58107468, "comment_id": 102605646, "body": "I said, &quot;Check out <a href=\"https://docs.scipy.org/doc/scipy-0.19.1/reference/generated/scipy.misc.imresize.html\" rel=\"nofollow noreferrer\"><code>scipy.misc.imresize</code></a>&quot;, but it turns out it&#39;s deprecated in favour of <a href=\"https://pillow.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\"><code>PIL</code></a>. Give it a try - maybe it&#39;s fast enough for you."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1569464887, "post_id": 58107468, "comment_id": 102607717, "body": "Resizing is basically an image process - involving various forms of sampling, interpolation, smoothing and/or averaging.  <code>numpy</code> by itself does not implement most of that."}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 11499479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c678e6fca8d8a345cb62c4b5f0004683?s=128&d=identicon&r=PG&f=1", "display_name": "au.tumn", "link": "https://stackoverflow.com/users/11499479/au-tumn"}, "edited": false, "score": 1, "creation_date": 1569456206, "post_id": 58107666, "comment_id": 102606222, "body": "Thanks for answering, But I asked the way without converting to image, I think <code>Image.fromarray(arr)</code> converts array back to image and also is grayscale, I have images but i don&#39;t want use those in code, because my dataset is too large and running with images is so slow, on the other hand, Im not sure which size is better for my imeges, So Im looking for a way that first convert images to npy and save .npy file and then preprocess npy file, for example resize the dimension of images. I don&#39;t know that&#39;s possible or not. I added this comment to above in my question for more explain others."}, {"owner": {"reputation": 177, "user_id": 11499479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c678e6fca8d8a345cb62c4b5f0004683?s=128&d=identicon&r=PG&f=1", "display_name": "au.tumn", "link": "https://stackoverflow.com/users/11499479/au-tumn"}, "edited": false, "score": 0, "creation_date": 1569456215, "post_id": 58107666, "comment_id": 102606227, "body": "I didn&#39;t exam the second way, now I see in net that&#39;s returns ndarray. I&#39;ll try it, hope to give me good performance. @kwinkunks"}], "tags": [], "owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "is_accepted": true, "score": 7, "last_activity_date": 1569453263, "creation_date": 1569453263, "answer_id": 58107666, "question_id": 58107468, "link": "https://stackoverflow.com/questions/58107468/how-resize-images-when-those-converted-to-numpy-array/58107666#58107666", "title": "How resize images when those converted to numpy array", "body": "<p>Try <a href=\"https://pillow.readthedocs.io/en/stable/\" rel=\"noreferrer\"><code>PIL</code></a>, maybe it's fast enough for you.</p>\n\n<pre><code>import numpy as np\nfrom PIL import Image\n\narr = np.load('img.npy')\nimg = Image.fromarray(arr)\nimg.resize(size=(100, 100))\n</code></pre>\n\n<p>Note that you have to compute the aspect ratio if you want to keep it. Or you can use <a href=\"https://pillow.readthedocs.io/en/stable/reference/Image.html#create-thumbnails\" rel=\"noreferrer\"><code>Image.thumbnail()</code></a>, which can take an antialias filter.</p>\n\n<p>There's also <a href=\"https://scikit-image.org/\" rel=\"noreferrer\"><code>scikit-image</code></a>, but I suspect it's using <code>PIL</code> under the hood. It works on NumPy arrays:</p>\n\n<pre><code>import skimage.transform as st\n\nst.resize(arr, (100, 100))\n</code></pre>\n\n<p>I guess the other option is <a href=\"https://docs.opencv.org/2.4/modules/imgproc/doc/geometric_transformations.html#cv2.resize\" rel=\"noreferrer\">OpenCV</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "edited": false, "score": 0, "creation_date": 1569462550, "post_id": 58107978, "comment_id": 102607306, "body": "This will only work with a narrow set of parameters, and won&#39;t work at all if you want to enlarge the image."}, {"owner": {"reputation": 6326, "user_id": 8366805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e92Ty.jpg?s=128&g=1", "display_name": "meTchaikovsky", "link": "https://stackoverflow.com/users/8366805/metchaikovsky"}, "reply_to_user": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "edited": false, "score": 0, "creation_date": 1569480527, "post_id": 58107978, "comment_id": 102611956, "body": "you are right, I didn&#39;t think about enlarging the image,  I have just included this part in my answer, hope this helps."}], "tags": [], "owner": {"reputation": 6326, "user_id": 8366805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e92Ty.jpg?s=128&g=1", "display_name": "meTchaikovsky", "link": "https://stackoverflow.com/users/8366805/metchaikovsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1569480468, "last_edit_date": 1569480468, "creation_date": 1569456772, "answer_id": 58107978, "question_id": 58107468, "link": "https://stackoverflow.com/questions/58107468/how-resize-images-when-those-converted-to-numpy-array/58107978#58107978", "title": "How resize images when those converted to numpy array", "body": "<p>If you are only dealing with <code>numpy</code> arrays, I think <code>slicing</code> would be enough</p>\n\n<p>Say, the shape of the loaded <code>numpy</code> array is <code>(m, n)</code> (one channel), and the target shape is <code>(a, b)</code>. Then, the stride can be <code>(s1, s2) = (m // a, n // b)</code></p>\n\n<p>So the original array can be sliced by </p>\n\n<p><code>new_array = old_array[::s1, ::s2]</code></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>To scale up an array is also quite straight forward if you use masks for advanced slicing. For example, the shape of the original array is <code>(m, n)</code>, and the target shape is <code>(a, b)</code>. Then, as an example</p>\n\n<pre><code>a, b = 300, 200\nm, n = 3, 4\n\noriginal = np.linspace(1, 12, 12).reshape(3, 4)\ncanvas = np.zeros((a, b))\n(s1, s2) = (a // m, b // n) # the scalar\n\n# the two masks  \nmask_x = np.concatenate([np.ones(s1) * ind for ind in range(m)])\nmask_y = np.concatenate([np.ones(s2) * ind for ind in range(n)])\n\n# make sure the residuals are taken into account\nif len(mask_x) &lt; a: mask_x = np.concatenate([mask_x, np.ones(len(mask_x) % a) * (m - 1)])\nif len(mask_y) &lt; b: mask_y = np.concatenate([mask_y, np.ones(len(mask_y) % b) * (n - 1)])\nmask_x = mask_x.astype(np.int8).tolist()\nmask_y = mask_y.astype(np.int8).tolist()\n\ncanvas = original[mask_x, :]\ncanvas = canvas[:, mask_y]\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 11499479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c678e6fca8d8a345cb62c4b5f0004683?s=128&d=identicon&r=PG&f=1", "display_name": "au.tumn", "link": "https://stackoverflow.com/users/11499479/au-tumn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8024, "favorite_count": 3, "accepted_answer_id": 58107666, "answer_count": 2, "score": 3, "last_activity_date": 1569480468, "creation_date": 1569451676, "last_edit_date": 1569456391, "question_id": 58107468, "link": "https://stackoverflow.com/questions/58107468/how-resize-images-when-those-converted-to-numpy-array", "title": "How resize images when those converted to numpy array", "body": "<p>Consider we only have images as.npy file. Is it possible to resizing images  without converting their to images (because I'm looking for a way that is fast when run the code).\nfor more info, I asked the way without converting to image, I have images but i don't want use those in code, because my dataset is too large and running with images is so slow, on the other hand, Im not sure which size is better for my imeges, So Im looking for a way that first convert images to npy and save .npy file and then preprocess npy file, for example resize the dimension of images. </p>\n"}, {"tags": ["python", "html", "selenium", "linkedin"], "comments": [{"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1569454760, "post_id": 58107451, "comment_id": 102605970, "body": "Could you add some of the page source HTML? This will help track down the issue."}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1569458637, "post_id": 58107451, "comment_id": 102606634, "body": "The button you have located is not visible. Either there is more than one button that matches your locator or you have the wrong locator. You will need to post some HTML and do a little more research and update your question if you need more help."}, {"owner": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "reply_to_user": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1569520653, "post_id": 58107451, "comment_id": 102633243, "body": "``` &lt;button data-control-name=&quot;filter_pill_apply&quot; id=&quot;ember2631&quot; class=&quot;facet-collection-list__apply-button ml2 artdeco-button artdeco-button--2 artdeco-button--primary ember-view&quot; type=&quot;button&quot;&gt;&lt;!----&gt; &lt;span class=&quot;artdeco-button__text&quot;&gt;     Apply &lt;/span&gt;&lt;/button&gt; ```  this is the HTML part im trying to manipulate, i&#39;ve tried to add a picture but my ranking is not high enoufh on stackoverflow @Christine @JeffC"}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1569520978, "post_id": 58107451, "comment_id": 102633371, "body": "@avish The HTML is just fine, and it is better than a picture anyway, so do not worry about adding the picture. I have updated with an answer and new XPath to try. if this does not work, please provide the LinkedIn URL for page you are automating"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "edited": false, "score": 0, "creation_date": 1569522514, "post_id": 58122413, "comment_id": 102634046, "body": "thanks @Christine, it didn&#39;t work unfortunately, i got the error: Unable to locate element: //button[span[contains(text(), &#39;Apply&#39;)]]  URL is: <a href=\"https://www.linkedin.com/jobs/search/?f_LF=f_JIYN&amp;keywords=software\" rel=\"nofollow noreferrer\">linkedin.com/jobs/search/?f_LF=f_JIYN&amp;keywords=software</a>  i was able to click on the &#39;Easy Apply&#39; check box, but not the apply button, maybe it is covered by aother css element?"}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "reply_to_user": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "edited": false, "score": 0, "creation_date": 1569522838, "post_id": 58122413, "comment_id": 102634211, "body": "@avish I have navigated to the page and tested out another XPath that should lead to the &#39;Easy Apply&#39; button. let me know if this works at all. I had some confusion about which &#39;Easy apply&#39; you wanted to click, because there are two-- the small text on left side of page, and the bigger button on right side of page."}, {"owner": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "edited": false, "score": 0, "creation_date": 1569523552, "post_id": 58122413, "comment_id": 102634537, "body": "i&#39;m trying to apply search filter so that it will only look for &#39;easy apply&#39; jobs i think i can go around it by actually loading webdriver on the url i provided to you, in which the filter option is already on, and login from there, it might work @Christine"}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "reply_to_user": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "edited": false, "score": 0, "creation_date": 1569523866, "post_id": 58122413, "comment_id": 102634649, "body": "The filter was not applied when I clicked on the link, but I manually applied it. if loading webdriver to the URL does not apply the easy apply filter, we can use webdriver to apply it anyway. just let me know if you would like help with that."}, {"owner": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "edited": false, "score": 0, "creation_date": 1569524439, "post_id": 58122413, "comment_id": 102634890, "body": "I&#39;ve used another solution to go around it, first login, and than manually loading webDriver with the URL with the selected filters already applied, i should post a more generic question - &quot;How to make elements viewable in viewport&quot;, i want to thank you for your help, i&#39;ve learned from it @Christine"}, {"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "reply_to_user": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "edited": false, "score": 0, "creation_date": 1569524510, "post_id": 58122413, "comment_id": 102634922, "body": "You&#39;re welcome. If you are satisfied with my answer to this specific post, feel free to mark it as answered. I will keep an eye for other questions you post &amp; see if I can help."}], "tags": [], "owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "is_accepted": false, "score": 0, "last_activity_date": 1569523153, "last_edit_date": 1569523153, "creation_date": 1569521078, "answer_id": 58122413, "question_id": 58107451, "link": "https://stackoverflow.com/questions/58107451/button-not-visible-to-selenium-although-clearly-loaded/58122413#58122413", "title": "button not visible to selenium although clearly loaded", "body": "<p>You can use the following path to click the small 'Easy apply' text on the right side of the page, that appears next to certain job listings.</p>\n\n<pre><code>driver.find_element_by_xpath(\"//span[contains(@class, 'easy-apply')]\").click();\n</code></pre>\n\n<p>You can use this next selector to click the large 'Easy Apply' button on the job description itself, which appears after you select a job from the list of jobs:</p>\n\n<pre><code>driver.find_element_by_xpath(\"//span[text()='Easy Apply']//ancestor::button\").click();\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 11782425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0e468808e111764e2bc95289e091e0?s=128&d=identicon&r=PG&f=1", "display_name": "avish", "link": "https://stackoverflow.com/users/11782425/avish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569523153, "creation_date": 1569451536, "last_edit_date": 1569520893, "question_id": 58107451, "link": "https://stackoverflow.com/questions/58107451/button-not-visible-to-selenium-although-clearly-loaded", "title": "button not visible to selenium although clearly loaded", "body": "<p>i'm trying to automate job search for 'easy apply' jobs on linkedin</p>\n\n<p>for some reason i get error message \" could not be scrolled into view\" when im trying to click the 'Apply' button for 'easy apply' jobs\nalthough it looks like it is visible and fully loaded</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>driver.find_element_by_xpath(\"//button[@data-control-name='filter_pill_apply']\").click()\n\n</code></pre>\n\n<p>HTML of element i'm trying to manipulate:</p>\n\n<pre><code>&lt;button data-control-name=\"filter_pill_apply\" id=\"ember2631\" class=\"facet-collection-list__apply-button ml2 artdeco-button artdeco-button--2 artdeco-button--primary ember-view\" type=\"button\"&gt;&lt;!----&gt;\n&lt;span class=\"artdeco-button__text\"&gt;\n    Apply\n&lt;/span&gt;\n&lt;/button&gt;\n</code></pre>\n\n<p>also, it seems that no scrolling down will solve this issue, what can i do instead?</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 1, "last_activity_date": 1569453052, "creation_date": 1569453052, "answer_id": 58107642, "question_id": 58107445, "link": "https://stackoverflow.com/questions/58107445/beautiful-soup-ignore-child-divs-with-same-name-as-parent-div/58107642#58107642", "title": "Beautiful Soup - Ignore child divs with same name as parent div", "body": "<p>You can iterate over <code>soup.contents</code>:</p>\n\n<pre><code>from bs4 import BeautifulSoup as soup\nr = [i.div.text for i in soup(html, 'html.parser').contents if i != '\\n']\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['important text', 'important text']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 6673799, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vDqRB.jpg?s=128&g=1", "display_name": "rdk", "link": "https://stackoverflow.com/users/6673799/rdk"}, "edited": false, "score": 0, "creation_date": 1569456739, "post_id": 58107702, "comment_id": 102606320, "body": "thanks! I had to do a little editing to make it work for me (my list of div&#39;s were under another div, so i did soup.find(upper div).find_all(divs). For others reading this, for recursive to work, you need to be at the tag DIRECTLY above the tags you are interested in."}], "tags": [], "owner": {"reputation": 407, "user_id": 12081962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ll5huE3pU2Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjWRKj07TpZMMvzL5gkm4UPklIOg/photo.jpg?sz=128", "display_name": "Julia K", "link": "https://stackoverflow.com/users/12081962/julia-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1569454683, "last_edit_date": 1569454683, "creation_date": 1569453641, "answer_id": 58107702, "question_id": 58107445, "link": "https://stackoverflow.com/questions/58107445/beautiful-soup-ignore-child-divs-with-same-name-as-parent-div/58107702#58107702", "title": "Beautiful Soup - Ignore child divs with same name as parent div", "body": "<p>From the <code>findall()</code> documentation:</p>\n\n<blockquote>\n  <p>recursive is a boolean argument (defaulting to True) which tells Beautiful Soup \n  whether to go all the way down the parse tree, or whether to only look at the \n  immediate children of the Tag or the parser object. </p>\n</blockquote>\n\n<p>So, given the first level of divs is for example under the tags <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code>, you can set </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>soup.html.body.find_all('div', attrs={'class': 'my_class'}, \nrecursive=False)\n</code></pre>\n\n<p>Output: \n</p>\n\n<pre><code> ['important text', 'important text']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19801, "user_id": 9189799, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/U2hEg.jpg?s=128&g=1", "display_name": "SIM", "link": "https://stackoverflow.com/users/9189799/sim"}, "edited": false, "score": 1, "creation_date": 1569520725, "post_id": 58109983, "comment_id": 102633280, "body": "I wish we could use the same in vba as well."}], "tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": false, "score": 1, "last_activity_date": 1569475000, "creation_date": 1569475000, "answer_id": 58109983, "question_id": 58107445, "link": "https://stackoverflow.com/questions/58107445/beautiful-soup-ignore-child-divs-with-same-name-as-parent-div/58109983#58109983", "title": "Beautiful Soup - Ignore child divs with same name as parent div", "body": "<p>with bs4 4.7.1 you can use :has and :first-child</p>\n\n<pre><code>from bs4 import BeautifulSoup as bs\n\nhtml = '''&lt;div class=\"my_class\"&gt;\n       &lt;div&gt;important text&lt;/div&gt;\n       &lt;div class=\"my_class\"&gt;\n            &lt;div&gt;not important&lt;/div&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=\"my_class\"&gt;\n       &lt;div&gt;important text&lt;/div&gt;\n       &lt;div class=\"my_class\"&gt;\n            &lt;div&gt;not important&lt;/div&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;'''\n\nsoup = bs(html, 'lxml')\nprint([i.text for i in soup.select('.my_class:has(&gt;.my_class) &gt; div:first-child')])\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 6673799, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vDqRB.jpg?s=128&g=1", "display_name": "rdk", "link": "https://stackoverflow.com/users/6673799/rdk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 58107702, "answer_count": 3, "score": 0, "last_activity_date": 1569475000, "creation_date": 1569451484, "question_id": 58107445, "link": "https://stackoverflow.com/questions/58107445/beautiful-soup-ignore-child-divs-with-same-name-as-parent-div", "title": "Beautiful Soup - Ignore child divs with same name as parent div", "body": "<p>the html is structured as so:</p>\n\n<pre><code>  &lt;div class=\"my_class\"&gt;\n       &lt;div&gt;important text&lt;/div&gt;\n       &lt;div class=\"my_class\"&gt;\n            &lt;div&gt;not important&lt;/div&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=\"my_class\"&gt;\n       &lt;div&gt;important text&lt;/div&gt;\n       &lt;div class=\"my_class\"&gt;\n            &lt;div&gt;not important&lt;/div&gt;\n       &lt;/div&gt;\n   &lt;/div&gt;\n   ...\n</code></pre>\n\n<p>Basically, there are many divs with the same name as their child divs, and ultimately, I want to find the \"important text\" which is found under the partent div only.</p>\n\n<p>When I try to find all divs with class=\"my_class\", I obviously get both the parents and the childs. How can I only get the parent divs?</p>\n\n<p>Here is my code for getting all divs with class = \"my_class\" and finding the important text:</p>\n\n<pre><code>my_div_list = soup.find_all('div', attrs={'class': 'my_class'})\nfor my_div in my_div_list:\n    text_item = my_div.find('div') # to get to the div that contains the important text\n    print(text_item.getText())\n</code></pre>\n\n<p>Obviously, the output is:</p>\n\n<pre><code>important text\nnot important\nimportant text\nnot important\n...\n</code></pre>\n\n<p>When I want:</p>\n\n<pre><code> important text\n important text\n ...\n</code></pre>\n"}, {"tags": ["python", "google-sheets", "google-drive-api", "google-sheets-api", "google-api-python-client"], "answers": [{"comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 1012, "user_id": 6027759, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2da7039de4cc77db202388c4cff97073?s=128&d=identicon&r=PG&f=1", "display_name": "bayman", "link": "https://stackoverflow.com/users/6027759/bayman"}, "edited": false, "score": 0, "creation_date": 1569535957, "post_id": 58112855, "comment_id": 102639027, "body": "@bayman Thank you for replying. I&#39;m glad your issue was resolved. Thank you, too."}, {"owner": {"reputation": 101, "user_id": 12725052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d65c9531ea499fdf33dd8a56c8d42b4?s=128&d=identicon&r=PG&f=1", "display_name": "5Daydreams", "link": "https://stackoverflow.com/users/12725052/5daydreams"}, "edited": false, "score": 0, "creation_date": 1580139542, "post_id": 58112855, "comment_id": 105990458, "body": "If I&#39;m using <code>body = {&quot;properties&quot;: {&quot;title&quot;: &quot;title_here&quot;}, &quot;sheets&quot;: sheetsObj}     res = sheets.spreadsheets().create(body=body).execute()     print(res)</code>, where do I insert the argument for folder ID?"}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 11, "last_activity_date": 1569487361, "creation_date": 1569487361, "answer_id": 58112855, "question_id": 58107431, "link": "https://stackoverflow.com/questions/58107431/how-to-create-a-sheet-under-a-specific-folder-with-google-api-for-python/58112855#58112855", "title": "How to create a sheet under a specific folder with google API for python?", "body": "<ul>\n<li>You want to create new Spreadsheet in the specific folder.</li>\n<li>You want to achieve this using google-api-python-client with python.</li>\n</ul>\n\n<p>If my understanding is correct, how about this answer?</p>\n\n<h2>Issue:</h2>\n\n<p>Unfortunately, in the current stage, new Spreadsheet cannot be directly created to the specific folder of Google Drive using Sheets API. In this case, Drive API is required to be used.</p>\n\n<h2>Sample script:</h2>\n\n<p>Before you run the script, please set the folder ID.</p>\n\n<h3>Pattern 1:</h3>\n\n<p>In this pattern, the new Spreadsheet is directly created to the specific folder in your Google Drive. In order to create Spreadsheet, the mimeType of <code>application/vnd.google-apps.spreadsheet</code> is used.</p>\n\nScript:\n\n<pre><code>drive = build('drive', 'v3', credentials=creds)\nfile_metadata = {\n    'name': 'sampleName',\n    'parents': ['### folderId ###'],\n    'mimeType': 'application/vnd.google-apps.spreadsheet',\n}\nres = drive.files().create(body=file_metadata).execute()\nprint(res)\n</code></pre>\n\n<h3>Pattern 2:</h3>\n\n<p>In this pattern, after the new Spreadsheet is created by Sheets API, the Spreadsheet is moved to the specific folder in your Google Drive.</p>\n\nScript:\n\n<pre><code># Create Spreadsheet to the root folder.\nservice = build('sheets', 'v4', credentials=creds)\nsheet = service.spreadsheets()\nbody = {}\nresults = sheet.create(body=body).execute()\npprint(results)\n\n# Move the created Spreadsheet to the specific folder.\ndrive = build('drive', 'v3', credentials=creds)\nfolderId = '### folderId ###'\nres = drive.files().update(fileId=results['spreadsheetId'], addParents=folderId, removeParents='root').execute()\nprint(res)\n</code></pre>\n\n<h2>Note:</h2>\n\n<ul>\n<li>For both samples, please add a scope of <code>https://www.googleapis.com/auth/drive</code>. And when the scopes are added, please remove the created credential file including the refresh token and authorize again. By this, the additional scopes are reflected to the refresh token.</li>\n<li>If you want to use the shared Drive, please modify as follows.\n\n<ul>\n<li>For pattern 1\n\n<ul>\n<li><code>file_metadata = {'name': 'sampleName','parents': ['### folderId ###'],'mimeType': 'application/vnd.google-apps.spreadsheet','driveId': \"###\"}</code></li>\n<li><code>res = drive.files().create(body=file_metadata, supportsAllDrives=True).execute()</code></li>\n</ul></li>\n<li>For pattern 2\n\n<ul>\n<li><code>res = drive.files().update(fileId=results['spreadsheetId'], body={'driveId': \"###\"}, addParents=folderId, removeParents='root', supportsAllDrives=True).execute()</code></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<h2>References:</h2>\n\n<ul>\n<li><a href=\"https://developers.google.com/drive/api/v3/reference/files/create\" rel=\"noreferrer\">Files: create</a></li>\n<li><a href=\"https://developers.google.com/drive/api/v3/reference/files/update\" rel=\"noreferrer\">Files: update</a></li>\n</ul>\n\n<p>If I misunderstood your question and this was not the direction you want, I apologize.</p>\n"}], "owner": {"reputation": 1012, "user_id": 6027759, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2da7039de4cc77db202388c4cff97073?s=128&d=identicon&r=PG&f=1", "display_name": "bayman", "link": "https://stackoverflow.com/users/6027759/bayman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2111, "favorite_count": 0, "accepted_answer_id": 58112855, "answer_count": 1, "score": 5, "last_activity_date": 1618794272, "creation_date": 1569451356, "last_edit_date": 1618794272, "question_id": 58107431, "link": "https://stackoverflow.com/questions/58107431/how-to-create-a-sheet-under-a-specific-folder-with-google-api-for-python", "title": "How to create a sheet under a specific folder with google API for python?", "body": "<p>I am able to create a sheet with the code below in the root of \u2018My Drive\u2019 but how do I create the sheet under a folder in \u201cMy Drive\u201d or \u201cShared drives\u201d?</p>\n\n<pre><code>from googleapiclient.discovery import build\n\nservice = build(\u2018sheets\u2019, \u2018v4\u2019, credentials=creds)\nsheet = service.spreadsheets()\nbody = {}\nresults = sheet.create(body=body).execute()\npprint(results)\n</code></pre>\n"}, {"tags": ["python", "excel", "pdf", "xlsx", "xlsxwriter"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9938945, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7WDrpAkNssg/AAAAAAAAAAI/AAAAAAAAAAA/vXvsnyPXXSU/photo.jpg?sz=128", "display_name": "John Q", "link": "https://stackoverflow.com/users/9938945/john-q"}, "is_accepted": false, "score": 0, "last_activity_date": 1577986511, "creation_date": 1577986511, "answer_id": 59567575, "question_id": 58107405, "link": "https://stackoverflow.com/questions/58107405/what-characters-invokes-altenter-for-an-excel-cell-xlsx-file-format-wrap-te/59567575#59567575", "title": "What characters invokes alt+enter for an excel cell (xlsx file format)? (wrap_text does NOT work)", "body": "<p>I found out the way to do it. You can initiate the cell size before doing text_wrap, as that makes the size of the cell fixed when converting the excel page to an image.</p>\n\n<pre><code>rd = ws.row_dimensions[row_index]\nrd.height = 22\nws.cell(row_index,col_index).alignment = Alignment(wrap_text = True)\nworkbook.save(filename)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9938945, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7WDrpAkNssg/AAAAAAAAAAI/AAAAAAAAAAA/vXvsnyPXXSU/photo.jpg?sz=128", "display_name": "John Q", "link": "https://stackoverflow.com/users/9938945/john-q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1577986511, "creation_date": 1569451186, "last_edit_date": 1569451595, "question_id": 58107405, "link": "https://stackoverflow.com/questions/58107405/what-characters-invokes-altenter-for-an-excel-cell-xlsx-file-format-wrap-te", "title": "What characters invokes alt+enter for an excel cell (xlsx file format)? (wrap_text does NOT work)", "body": "<p><code>wrap_text</code> option that xlsxwriter provides does not work in my case since I need to convert the excel files into pdf format and for some reason pdf does not read text_wrap.</p>\n\n<p>My code looks something like this:</p>\n\n<pre><code>string = text+'\\n'+text2\nws.cell(row_place,col_place).alignment = Alignment(wrap_text = True)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-3.6"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1569451244, "post_id": 58107386, "comment_id": 102605341, "body": "Why do you want to avoid the error? your first approach is just <i>plain wrong</i>, your function now does something totally different. your second one at least is semantically equivalent. In any case, generally, you try-catch such errors, or if you don&#39;t expect them to happen, then <i>you want the errors to occurs</i>. Fail <i>early</i>."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 3, "creation_date": 1569451290, "post_id": 58107386, "comment_id": 102605352, "body": "Using <code>y+1</code> doesn&#39;t solve anything, because now you have the exact same problem when y is -1."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1569451547, "post_id": 58107386, "comment_id": 102605400, "body": "I think you&#39;ll need to be more specific with the use-case you are imagining this happening in."}], "answers": [{"tags": [], "owner": {"reputation": 161, "user_id": 12121905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cb6ed0c3be04a750911567fc0909b64?s=128&d=identicon&r=PG&f=1", "display_name": "Fawaz Ibrahim", "link": "https://stackoverflow.com/users/12121905/fawaz-ibrahim"}, "is_accepted": false, "score": 4, "last_activity_date": 1569451712, "last_edit_date": 1569451712, "creation_date": 1569451464, "answer_id": 58107442, "question_id": 58107386, "link": "https://stackoverflow.com/questions/58107386/strategies-to-avoid-division-by-zero-error/58107442#58107442", "title": "Strategies to avoid division by zero error", "body": "<p>This follows the same conditioning strategy, but you can use this approach:</p>\n\n<pre><code>def division(x, y):\n    return x/y if y else 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1548, "user_id": 1140684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781f9328c4ef83ca74b5e3ed979e4fb?s=128&d=identicon&r=PG", "display_name": "dgumo", "link": "https://stackoverflow.com/users/1140684/dgumo"}, "is_accepted": false, "score": 4, "last_activity_date": 1569451582, "creation_date": 1569451582, "answer_id": 58107457, "question_id": 58107386, "link": "https://stackoverflow.com/questions/58107386/strategies-to-avoid-division-by-zero-error/58107457#58107457", "title": "Strategies to avoid division by zero error", "body": "<p>Con of your add one strategy is that if <code>y</code> is a small number (not -1) then your results will be very incorrect. Only sort of works when <code>y</code> is very large.</p>\n\n<p>Con of returning NaN is that you need to document this clearly for the person calling your function. <code>np.nan</code> can surprise the caller. For example what is expected when you do comparison like <code>division(1, 0) == division(2,0)</code></p>\n\n<p>Raising an error is the right thing to do and let the caller handle according to their rules.</p>\n"}, {"comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1569453139, "post_id": 58107578, "comment_id": 102605686, "body": "Or <code>nan</code>, in the case of <code>0&#47;0</code>."}, {"owner": {"reputation": 461, "user_id": 12118774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpS5X.jpg?s=128&g=1", "display_name": "Physicing", "link": "https://stackoverflow.com/users/12118774/physicing"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 1, "creation_date": 1569453363, "post_id": 58107578, "comment_id": 102605724, "body": "Sorry for inconvinence, thank you for correction."}], "tags": [], "owner": {"reputation": 461, "user_id": 12118774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpS5X.jpg?s=128&g=1", "display_name": "Physicing", "link": "https://stackoverflow.com/users/12118774/physicing"}, "is_accepted": false, "score": 2, "last_activity_date": 1569452505, "creation_date": 1569452505, "answer_id": 58107578, "question_id": 58107386, "link": "https://stackoverflow.com/questions/58107386/strategies-to-avoid-division-by-zero-error/58107578#58107578", "title": "Strategies to avoid division by zero error", "body": "<p>Keep in mind that <code>numpy.true_divide()</code> never returns <code>ZeroDivisionError</code>. Returns inf. instead.</p>\n\n<p>i.e</p>\n\n<pre><code>a = [1,2,3]\nb = [0,1,2]\nnp.true_divide(a, b)\n RuntimeWarning: divide by zero encountered in true_divide\n\narray([inf, 2. , 1.5])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 292, "user_id": 5147834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/732459705630740316c5a2965662e056?s=128&d=identicon&r=PG&f=1", "display_name": "Axeon Thra", "link": "https://stackoverflow.com/users/5147834/axeon-thra"}, "is_accepted": false, "score": 1, "last_activity_date": 1569453042, "creation_date": 1569453042, "answer_id": 58107640, "question_id": 58107386, "link": "https://stackoverflow.com/questions/58107386/strategies-to-avoid-division-by-zero-error/58107640#58107640", "title": "Strategies to avoid division by zero error", "body": "<p>It usually means that your algorithm is not carefully designed. Just taking care of +/- 0 is not going to help you in most cases. Almost every algorithm in literature deals with division by zero either by adding an \u03b5 to the absolute value or by thresholding the absolute value. One could also avoid such cases by limiting processing only on those values where denominator is significant.</p>\n"}], "owner": {"reputation": 2535, "user_id": 667355, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aeb7723724d7e634d6ac87c4f25ce53d?s=128&d=identicon&r=PG", "display_name": "amiref", "link": "https://stackoverflow.com/users/667355/amiref"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "closed_date": 1569467014, "answer_count": 4, "score": 0, "last_activity_date": 1569453042, "creation_date": 1569451015, "question_id": 58107386, "link": "https://stackoverflow.com/questions/58107386/strategies-to-avoid-division-by-zero-error", "closed_reason": "Needs details or clarity", "title": "Strategies to avoid division by zero error", "body": "<p>Is there a best practice to avoid <code>ZeroDivisionError</code>in python? For instance, consider the following function:</p>\n\n<pre><code>def division (x,y):\n    return x / y\n</code></pre>\n\n<p>In this function if y is set to zero, the <code>ZeroDivisionError</code> is raised. One strategy would be to replace the denominator of the division by <code>y+1</code>, so the function would be:</p>\n\n<pre><code>def division (x,y):\n    return x / (y+1)\n</code></pre>\n\n<p>or the other strategy can be returning nan value if denominator is zero:</p>\n\n<pre><code>def division (x,y):\n    if y == 0:\n       return np.nan\n    else:\n       return x / y\n</code></pre>\n\n<p>What are the cons of the above strategies? Is there any other approach to avoid <code>ZeroDivisionError</code>? Exception handling is also a popular solution for this problem, but I'm more looking for prevention strategy not intervention.</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "pygame", "wav"], "comments": [{"owner": {"reputation": 2067, "user_id": 2588654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1227d97bdaa264abb9dc64cd71830a9?s=128&d=identicon&r=PG", "display_name": "CodeSurgeon", "link": "https://stackoverflow.com/users/2588654/codesurgeon"}, "edited": false, "score": 0, "creation_date": 1569627478, "post_id": 58107384, "comment_id": 102670566, "body": "<a href=\"https://stackoverflow.com/q/20135362\">This answer</a> on cross-fading audio might be useful."}], "answers": [{"tags": [], "owner": {"reputation": 4630, "user_id": 3381305, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9bb4c57a03583c724f0fe037344a2cd?s=128&d=identicon&r=PG", "display_name": "kwinkunks", "link": "https://stackoverflow.com/users/3381305/kwinkunks"}, "is_accepted": false, "score": 0, "last_activity_date": 1569453735, "creation_date": 1569453735, "answer_id": 58107710, "question_id": 58107384, "link": "https://stackoverflow.com/questions/58107384/blending-together-wav-files-using-numpy-in-python-3/58107710#58107710", "title": "Blending together wav files using numpy in python 3", "body": "<p>Here's how I'd do it:</p>\n\n<pre><code>wav1 = [0,0,1,1,2,0]\nwav2 = [0,0,0,3,2,1]\ncombined = np.hstack([wav1, wav2])\n\nfrom scipy.io import wavfile\nimport numpy as np\n\nN = 2400  # Samples per second.\n\nwavfile.write('combined.wav', rate=N, data=combined.astype(np.int16))\n</code></pre>\n"}], "owner": {"reputation": 798, "user_id": 10307576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ulRB.gif?s=128&g=1", "display_name": "Bugbeeb", "link": "https://stackoverflow.com/users/10307576/bugbeeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1569542594, "creation_date": 1569451007, "last_edit_date": 1569542594, "question_id": 58107384, "link": "https://stackoverflow.com/questions/58107384/blending-together-wav-files-using-numpy-in-python-3", "title": "Blending together wav files using numpy in python 3", "body": "<p>I'm trying to create a single audio file out of multiple wav files. Using tkinter and pygame.mixer, I've converted key presses into a dictionary that stores audio samples and the time they're invoked. <code>{sound1:10000, sound2:10001, ect...}</code></p>\n\n<p>So far I've devised a way to add blocks of silence:</p>\n\n<pre><code>def change_speed(seconds):\n    '''modifies the metronome beat to loop at different speeds. This is done by creating a new wav file.'''\n    #original wav file is 0.1 seconds long, so subtract that from time added\n    seconds-=0.1\n    #read the original wav file\n    original = scipy.io.wavfile.read('Downloads\\\\sounds\\\\metronome_original.wav')\n    #use sample rate of the original file (should be 44100) to create a new block of silence\n    add_secs = np.array([[0]]*round(original[0]*seconds))\n    add_secs.dtype='int16'\n    #concatenate new block to original\n    new = np.concatenate((original[1], add_secs))\n    scipy.io.wavfile.write('Downloads\\\\sounds\\\\metronome.wav', original[0], new)\n</code></pre>\n\n<p>Is there some way to combine overlapping arrays like <code>[[0,0,1,1,2,0], [0,0,0,3,2,1]]</code> into a single wav file?</p>\n\n<p>Update:\nTo be more specific, I'm trying to merge two audio samples that overlap in playtime, like a DJ who starts playing one song before the other one finishes. Is there a way to do this with integer or byte arrays generated in python?\nLike so:\n<a href=\"https://i.stack.imgur.com/FHXB8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FHXB8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python"], "owner": {"reputation": 15, "user_id": 3770620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce62146dd0f695f03403b0f24303ab7?s=128&d=identicon&r=PG&f=1", "display_name": "Shelender Kumar", "link": "https://stackoverflow.com/users/3770620/shelender-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569450971, "creation_date": 1569450971, "question_id": 58107377, "link": "https://stackoverflow.com/questions/58107377/visaioerror-while-interfacing-with-srs-instrument", "title": "VisaIOError while interfacing with SRS instrument", "body": "<p>I am trying to interface to SRS 830 and the code I am using is:</p>\n\n<pre><code>import visa\nimport pyvisa\nimport time\nimport qcodes as qc\nfrom time import sleep\nfrom qcodes.instrument_drivers.stanford_research.SR830 import SR830\n\n#%% CONNECT TO INSTRUMENT\nsr = SR830('lockin', 'GPIB0::8::INSTR')\n</code></pre>\n\n<p>I am getting an error </p>\n\n<p>raise errors.VisaIOError(ret_value)\nVisaIOError: ('VI_ERROR_TMO (-1073807339): Timeout expired before operation completed.', \"asking 'ISRC?' to \", 'getting lockin_input_config')</p>\n"}, {"tags": ["python", "hashtable"], "comments": [{"owner": {"reputation": 1548, "user_id": 1140684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781f9328c4ef83ca74b5e3ed979e4fb?s=128&d=identicon&r=PG", "display_name": "dgumo", "link": "https://stackoverflow.com/users/1140684/dgumo"}, "edited": false, "score": 0, "creation_date": 1569451011, "post_id": 58107369, "comment_id": 102605293, "body": "do you want to check if <code>i</code> is in <code>duplicates</code> or if <code>nums[i]</code> is in <code>duplicates</code>? Where do you add elements to the hash table?"}, {"owner": {"reputation": 11, "user_id": 12121872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29290caba5d9e5c528bddada2873e50?s=128&d=identicon&r=PG&f=1", "display_name": "preintercede", "link": "https://stackoverflow.com/users/12121872/preintercede"}, "reply_to_user": {"reputation": 1548, "user_id": 1140684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781f9328c4ef83ca74b5e3ed979e4fb?s=128&d=identicon&r=PG", "display_name": "dgumo", "link": "https://stackoverflow.com/users/1140684/dgumo"}, "edited": false, "score": 0, "creation_date": 1569451328, "post_id": 58107369, "comment_id": 102605356, "body": "I want to check if any of the numbers in <code>nums</code> are in <code>duplicates</code>. If they are, it returns <code>True</code>, else <code>False</code>. The problem is that the testcase of [0] expects False, and I&#39;m not sure why."}, {"owner": {"reputation": 1548, "user_id": 1140684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781f9328c4ef83ca74b5e3ed979e4fb?s=128&d=identicon&r=PG", "display_name": "dgumo", "link": "https://stackoverflow.com/users/1140684/dgumo"}, "edited": false, "score": 0, "creation_date": 1569451753, "post_id": 58107369, "comment_id": 102605439, "body": "Because 0 is not in duplicates. duplicates is always empty."}], "owner": {"reputation": 11, "user_id": 12121872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29290caba5d9e5c528bddada2873e50?s=128&d=identicon&r=PG&f=1", "display_name": "preintercede", "link": "https://stackoverflow.com/users/12121872/preintercede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569501437, "creation_date": 1569450838, "last_edit_date": 1569451817, "question_id": 58107369, "link": "https://stackoverflow.com/questions/58107369/leetcode-contains-duplicate-hash-table-confusion", "title": "Leetcode Contains Duplicate: Hash table confusion", "body": "<p>I'm trying to teach myself DS+A but struggling with some questions. </p>\n\n<p><a href=\"https://leetcode.com/problems/contains-duplicate/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/contains-duplicate/</a></p>\n\n<p>For this question, the first approach that came in my head was hash tables. I know you can do a one liner with sets, but I want to try using hash tables. </p>\n\n<pre><code>class Solution:\n    def containsDuplicate(self, nums: List[int]) -&gt; bool:\n        duplicates={}\n        for i in range(len(nums)):\n            if i in duplicates:\n                return False\n            return True\n</code></pre>\n\n<p>It passes 11/18 cases, but for the test case of [0], it returns True when the expected output is False. I can't seem to understand why it returns False. </p>\n\n<p>I got it. Return statement was in too deep and I had to update it for every loop.</p>\n\n<pre><code>    def containsDuplicate(self, nums: List[int]) -&gt; bool:\n        duplicates={}\n        for i in nums:\n            if i in duplicates:\n                return True\n            else:\n                duplicates[i] = 0\n        return False ```\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 157, "user_id": 5973959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f7wXK.jpg?s=128&g=1", "display_name": "Roman Anderson", "link": "https://stackoverflow.com/users/5973959/roman-anderson"}, "edited": false, "score": 1, "creation_date": 1569451007, "post_id": 58107352, "comment_id": 102605290, "body": "In first code snippet you actually have no class variables, you have only local variables in uppercase"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1569451136, "post_id": 58107352, "comment_id": 102605321, "body": "I&#39;d use an <code>enum</code> or even just global variables here."}, {"owner": {"reputation": 157, "user_id": 5973959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f7wXK.jpg?s=128&g=1", "display_name": "Roman Anderson", "link": "https://stackoverflow.com/users/5973959/roman-anderson"}, "edited": false, "score": 2, "creation_date": 1569451142, "post_id": 58107352, "comment_id": 102605322, "body": "The best way to store constants widely used in different files - store in separate file. But if you use them only in current file, it is normal to put them just in a head of file, before they&#39;ve been used"}, {"owner": {"reputation": 5521, "user_id": 755851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bb0ef4d5aebec860f85f7c76b894fd?s=128&d=identicon&r=PG", "display_name": "Foon", "link": "https://stackoverflow.com/users/755851/foon"}, "edited": false, "score": 1, "creation_date": 1569451886, "post_id": 58107352, "comment_id": 102605459, "body": "Also, return self.age &lt; self.YOUNG_AGE looks way more pythonic than your if x return True (else) return False"}, {"owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "reply_to_user": {"reputation": 157, "user_id": 5973959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f7wXK.jpg?s=128&g=1", "display_name": "Roman Anderson", "link": "https://stackoverflow.com/users/5973959/roman-anderson"}, "edited": false, "score": 0, "creation_date": 1569453229, "post_id": 58107352, "comment_id": 102605698, "body": "@RomanAnderson When you say the head of the file, do you mean outside the class or inside the class, above the <b>init</b> method?"}, {"owner": {"reputation": 157, "user_id": 5973959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f7wXK.jpg?s=128&g=1", "display_name": "Roman Anderson", "link": "https://stackoverflow.com/users/5973959/roman-anderson"}, "edited": false, "score": 1, "creation_date": 1569458257, "post_id": 58107352, "comment_id": 102606569, "body": "@Anthony, it depends on what is the scope of usage of the variable. If you need var only in class - then use it in the class. If file will contain more then one class, uses this constant - put it outside the class in the head of the file."}], "answers": [{"comments": [{"owner": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 0, "creation_date": 1569451524, "post_id": 58107413, "comment_id": 102605397, "body": "you can add the language after the three backticks in the markup so as to trigger syntax color: <code>&#39;&#39;&#39;python</code> (where <code>&#39;</code> should be a backtick, but it&#39;s already wrapped in backticks so...)"}, {"owner": {"reputation": 753, "user_id": 12055383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2d06db026197c4978ac0fdfef63891b?s=128&d=identicon&r=PG&f=1", "display_name": "askaroni", "link": "https://stackoverflow.com/users/12055383/askaroni"}, "edited": false, "score": 0, "creation_date": 1569451524, "post_id": 58107413, "comment_id": 102605398, "body": "<code>Enum</code> is the best answer. That&#39;s the whole point of it, and it works well with type hinting. Class variables don&#39;t make sense here."}, {"owner": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "reply_to_user": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 0, "creation_date": 1569451803, "post_id": 58107413, "comment_id": 102605445, "body": "@Rightleg thanks for the edit... I&#39;m always lazy about adding syntax highlighting in my coding blocks lol"}, {"owner": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 1, "creation_date": 1569451948, "post_id": 58107413, "comment_id": 102605473, "body": "These two approaches are very different from a semantic standpoint: the second has actually nothing to do with class variables. If I see something defined outside of a class, then I expect it to be used somewhere else than in this class; else there&#39;s no use to give it that scope. Class variables (or actually more often, class constants) convey the meaning that they define a property of the class, that can be inherited, or have different values for sibling classes; top level enums or whatever kind of global variables are the same for all classes, whether or not they share inheritance links."}, {"owner": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "reply_to_user": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 0, "creation_date": 1569452068, "post_id": 58107413, "comment_id": 102605494, "body": "@Rightleg I totally agree. I was actually trying to convey that but it came out wrong. I made some edits to make it more clear that an enum shouldn&#39;t be only relevant to a single class. Thanks again for the heads up."}, {"owner": {"reputation": 3717, "user_id": 4759726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abcd6ee7f47949d1bc8978fa317105d2?s=128&d=identicon&r=PG", "display_name": "Wombatz", "link": "https://stackoverflow.com/users/4759726/wombatz"}, "edited": false, "score": 1, "creation_date": 1569452522, "post_id": 58107413, "comment_id": 102605570, "body": "Enums are not comparable to integers. Trying so will raise a <code>TypeError</code>. An <code>IntEnum</code> however, is working correctly."}, {"owner": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "reply_to_user": {"reputation": 3717, "user_id": 4759726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/abcd6ee7f47949d1bc8978fa317105d2?s=128&d=identicon&r=PG", "display_name": "Wombatz", "link": "https://stackoverflow.com/users/4759726/wombatz"}, "edited": false, "score": 0, "creation_date": 1569453067, "post_id": 58107413, "comment_id": 102605668, "body": "Thanks @Wombatz. Totally forgot about that when writng this. Made an edit."}], "tags": [], "owner": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "is_accepted": true, "score": 1, "last_activity_date": 1569543912, "last_edit_date": 1569543912, "creation_date": 1569451254, "answer_id": 58107413, "question_id": 58107352, "link": "https://stackoverflow.com/questions/58107352/best-pythonic-way-to-store-variables-inside-a-class/58107413#58107413", "title": "Best Pythonic way to store variables inside a class", "body": "<p>There are two ways to do this that I see the most... Are they the most Pythonic? Not sure, so I will leave up to the true python ninjas and not make any bold statements about that.</p>\n\n<p>If these values are specific to cats, you can get away with this.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Cat(object):\n    OLD_AGE = 15\n    YOUNG_AGE = 5\n    LOW_MEDIUM_AGE = 8\n    HIGH_MEDIUM_AGE = 12\n\n    def __init__(self, color, breed, age):\n        self.color = color\n        self.breed = breed\n        self.age = age\n\n    def is_old_cat(self):\n        if self.age &gt; self.OLD_AGE:\n            return True\n\n        return False\n\n</code></pre>\n\n<p>The other way is to make an enum that you can reuse in places outside of your <code>Cat</code> class. Many will say this is the better method. </p>\n\n<p>However, if you do choose to use an enum it may be confusing if you had a <code>Human</code> class where you would want to be clear that 15 is old for cats, not for humans.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from enum import IntEnum\nclass Age(IntEnum):\n    OLD = 15\n    YOUNG = 5\n    LOW_MEDIUM = 8\n    HIGH_MEDIUM = 12\n\nprint(Age.OLD) # 15\nprint(Age.YOUNG) # 5\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 893, "user_id": 7238987, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acf47133b3cef8963064bd5d3e90bdb0?s=128&d=identicon&r=PG&f=1", "display_name": "algorythms", "link": "https://stackoverflow.com/users/7238987/algorythms"}, "is_accepted": false, "score": 2, "last_activity_date": 1569451280, "creation_date": 1569451280, "answer_id": 58107419, "question_id": 58107352, "link": "https://stackoverflow.com/questions/58107352/best-pythonic-way-to-store-variables-inside-a-class/58107419#58107419", "title": "Best Pythonic way to store variables inside a class", "body": "<p>If you're using the enums in this file only, have them be in the same file. Else, move them to a different file.</p>\n"}], "owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58107413, "answer_count": 2, "score": 1, "last_activity_date": 1569543912, "creation_date": 1569450694, "last_edit_date": 1569453103, "question_id": 58107352, "link": "https://stackoverflow.com/questions/58107352/best-pythonic-way-to-store-variables-inside-a-class", "title": "Best Pythonic way to store variables inside a class", "body": "<p>Here are 4 different ways of storing variables. I'm trying to see which way is most Pythonic way in a sense that it is easy to read.</p>\n\n<p>Maybe, creating an external file and place all the variables in there might be helpful? I don't care much about people being able to access these variables into other files. The variables will only be used for this class.</p>\n\n<hr>\n\n<p>Defining the variables inside the methods.</p>\n\n<pre><code>class Cat(object):\n    def __init__(self, color, breed, age):\n        self.color = color\n        self.breed = breed\n        self.age = age\n\n    def is_old_cat(self):\n        OLD_AGE = 15\n\n        if self.age &gt; OLD_AGE:\n            return True\n\n        return False\n\n    def is_young_cat(self):\n        YOUNG_AGE = 5\n\n        if self.age &lt; YOUNG_AGE:\n            return True\n\n        return False\n\n    def is_medium_young(self):\n        LOW_MEDIUM_AGE = 8\n        HIGH_MEDIUM_AGE = 12\n\n        if LOW_MEDIUM_AGE &lt; self.age &lt; HIGH_MEDIUM_AGE:\n            return True\n\n        return False\n</code></pre>\n\n<hr>\n\n<p>Inside the class.</p>\n\n<pre><code>class Cat(object):\n    OLD_AGE = 15\n    YOUNG_AGE = 5\n    LOW_MEDIUM_AGE = 8\n    HIGH_MEDIUM_AGE = 12\n\n    def __init__(self, color, breed, age):\n        self.color = color\n        self.breed = breed\n        self.age = age\n\n    def is_old_cat(self):\n        if self.age &gt; self.AGES['OLD_AGE']:\n            return True\n\n        return False\n\n    def is_young_cat(self):\n        if self.age &lt; self.AGES['YOUNG_AGE']:\n            return True\n\n        return False\n\n    def is_medium_young(self):\n        if self.AGES['LOW_MEDIUM_AGE'] &lt; self.age &lt; self.AGES['HIGH_MEDIUM_AGE']:\n            return True\n\n        return False\n</code></pre>\n\n<hr>\n\n<p>Outside the class.</p>\n\n<pre><code>OLD_AGE = 15\nYOUNG_AGE = 5\nLOW_MEDIUM_AGE = 8\nHIGH_MEDIUM_AGE = 12\n\n\nclass Cat(object):\n    def __init__(self, color, breed, age):\n        self.color = color\n        self.breed = breed\n        self.age = age\n\n    def is_old_cat(self):\n        if self.age &gt; AGES['OLD_AGE']:\n            return True\n\n        return False\n\n    def is_young_cat(self):\n        if self.age &lt; AGES['YOUNG_AGE']:\n            return True\n\n        return False\n\n    def is_medium_young(self):\n        if AGES['LOW_MEDIUM_AGE'] &lt; self.age &lt; AGES['HIGH_MEDIUM_AGE']:\n            return True\n\n        return False\n</code></pre>\n\n<hr>\n\n<p>Inside another class.</p>\n\n<pre><code>class Ages:\n    OLD_AGE = 15\n    YOUNG_AGE = 5\n    LOW_MEDIUM_AGE = 8\n    HIGH_MEDIUM_AGE = 12\n\n\nclass Cat(object):\n    def __init__(self, color, breed, age):\n        self.color = color\n        self.breed = breed\n        self.age = age\n\n    def is_old_cat(self):\n        if self.age &gt; Ages.OLD_AGE:\n            return True\n\n        return False\n\n    def is_young_cat(self):\n        if self.age &lt; Ages.YOUNG_AGE:\n            return True\n\n        return False\n\n    def is_medium_young(self):\n        if Ages.LOW_MEDIUM_AGE &lt; self.age &lt; Ages.HIGH_MEDIUM_AGE:\n            return True\n\n        return False\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "geopandas"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1569451654, "post_id": 58107348, "comment_id": 102605424, "body": "The edgecolor of the key will be taken over from the artist that you label. If this has a blue edge, the legend will show it as well."}, {"owner": {"reputation": 29479, "user_id": 1356000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ef54c2101a4c23ea2441ce2b346ffb75?s=128&d=identicon&r=PG", "display_name": "Diziet Asahi", "link": "https://stackoverflow.com/users/1356000/diziet-asahi"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1569480992, "post_id": 58107348, "comment_id": 102612172, "body": "I second @ImportanceOfBeingErnest&#39;s comment, but if that&#39;s not helpful to you, then you need to provide a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> showing the problem you are trying to solve"}, {"owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1569521150, "post_id": 58107348, "comment_id": 102633439, "body": "@ImportanceOfBeingErnest thank you both for you comments edits have been made. I&#39;m unsure what the term &quot;artist&quot; refers to in the comment?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1569521719, "post_id": 58107348, "comment_id": 102633681, "body": "Oh so geopandas apparently creates a wrong legend?! But due to <a href=\"https://github.com/geopandas/geopandas/blob/0f2ca1a802ad6814f5185b45288961b66f51a054/geopandas/plotting.py#L609\" rel=\"nofollow noreferrer\">this line</a> this shouldn&#39;t happen with the newest version. Which version are you using? It&#39;s <a href=\"https://github.com/geopandas/geopandas/pull/807\" rel=\"nofollow noreferrer\">this fix</a>, which is available from version 0.5 onwards."}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1569522185, "creation_date": 1569522185, "answer_id": 58122668, "question_id": 58107348, "link": "https://stackoverflow.com/questions/58107348/changing-edgecolor-in-matplotlib-legend-markers/58122668#58122668", "title": "Changing edgecolor in matplotlib legend markers", "body": "<p>Due to <a href=\"https://github.com/geopandas/geopandas/blob/0f2ca1a802ad6814f5185b45288961b66f51a054/geopandas/plotting.py#L609\" rel=\"nofollow noreferrer\">this line</a> this shouldn't happen with the newest version. It's <a href=\"https://github.com/geopandas/geopandas/pull/807\" rel=\"nofollow noreferrer\">this fix</a>, which is available from version 0.5 onwards.</p>\n\n<p>If you are stuck with an older version and cannot update to 0.5 or higher, you might get away with specifying the markeredgewidth through the matplotlib rcParams.</p>\n\n<pre><code>with plt.rc_context({\"lines.markeredgewidth\" : 0}):\n    # your code here\n    df.plot(....)\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 441, "favorite_count": 0, "accepted_answer_id": 58122668, "answer_count": 1, "score": 0, "last_activity_date": 1569522206, "creation_date": 1569450647, "last_edit_date": 1569522206, "question_id": 58107348, "link": "https://stackoverflow.com/questions/58107348/changing-edgecolor-in-matplotlib-legend-markers", "title": "Changing edgecolor in matplotlib legend markers", "body": "<p>I've checked the kwargs for matplotlibs legend but can't find this option available. When I plot the legend the color key beside the text will be correct, however there is a blue egdecolor to the key that I'd like to remove.</p>\n\n<p>Wondering if anyone knew how to get at this attributed.</p>\n\n<pre><code>cm = matplotlib.colors.ListedColormap(random.sample(sns.palettes.color_palette('Reds').as_hex(), len(sns.palettes.color_palette('Spectral').as_hex())))\n\ncon.plot(column='suffix', \n         figsize=(15,15), \n         linewidth=2, \n         legend=True, \n         cmap=cm, \n         legend_kwds={'loc': 'lower center', \n                      'ncol':len(con.columns), \n                      'frameon':False, \n                      'markerscale':3.0,\n                     'bbox_to_anchor': (0.5, -0.05)})\n\nplt.axis('off')\nplt.show()\n</code></pre>\n\n<p>The above code is from a geopandas plot() function. This code returns the below image where we can see the blue rim to the legend key colors:\n<a href=\"https://i.stack.imgur.com/u9ua9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u9ua9.png\" alt=\"Plot\"></a></p>\n"}, {"tags": ["python", "django", "django-templates"], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 8612526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zsoaC.jpg?s=128&g=1", "display_name": "Vaibhav Mishra", "link": "https://stackoverflow.com/users/8612526/vaibhav-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1569479173, "creation_date": 1569479173, "answer_id": 58110720, "question_id": 58107326, "link": "https://stackoverflow.com/questions/58107326/updating-user-profile-django/58110720#58110720", "title": "Updating user profile - Django", "body": "<p>Please check you are taking same value if you are changing the data in views like if you are using (name=\"firstna\") in template so for First Name you have to take same in views.</p>\n\n<p>Same question is asked here you can go and follow below link   </p>\n\n<p>[<a href=\"https://stackoverflow.com/questions/48475039/how-to-update-user-profile-in-django]\">How to update user profile in Django</a></p>\n"}], "owner": {"reputation": 115, "user_id": 9273287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3a18217b7ee6a078badc17c0aefb0e8?s=128&d=identicon&r=PG&f=1", "display_name": "Yassine", "link": "https://stackoverflow.com/users/9273287/yassine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569479173, "creation_date": 1569450442, "question_id": 58107326, "link": "https://stackoverflow.com/questions/58107326/updating-user-profile-django", "title": "Updating user profile - Django", "body": "<p>I've created a template for updating account profiles using a Bootstrap snippet (from <a href=\"https://www.bootdey.com\" rel=\"nofollow noreferrer\">https://www.bootdey.com</a>). With the django default format (like {{ form.as_p }}), updating accounts works (for example, when I modify the first name, it changes in the database). When I use the bootstrapp snippet, it doesn't update: it goes straight to 'homepage' without updating (as explained in views.py).</p>\n\n<p>In forms.py</p>\n\n<pre><code>class EditAccountForm(UserChangeForm):\n\n  class Meta:\n      model = Account\n      fields = ('email','first_name','last_name')\n</code></pre>\n\n<p>In views.py</p>\n\n<pre><code>def EditProfile(request):\n  context= {}\n  if request.POST:\n    form = EditAccountForm(request.POST, instance=request.user)\n    if form.is_valid():\n        form.save()\n        email = form.cleaned_data.get(\"email\")\n        raw_password = form.cleaned_data.get(\"password1\")\n        account = authenticate(email=email,password=raw_password)\n        return redirect('profile_page')\n    else:\n        context['edit_form'] = form\n        return redirect('homepage')\n else:\n    form = EditAccountForm(instance=request.user)\n    context['edit_form'] = form\n return render(request,'Account/edit_page.html',context)\n</code></pre>\n\n<p>the template: edit_profile.html (I only show the first_name part as example)</p>\n\n<pre><code> &lt;form method = \"POST\" class=\"form\" novalidate=\"\"&gt;\n                {% csrf_token %}\n                &lt;div class=\"row\"&gt;\n                  &lt;div class=\"col\"&gt;\n                    &lt;div class=\"row\"&gt;\n                      &lt;div class=\"col\"&gt;\n                        &lt;div class=\"form-group\"&gt;\n                          &lt;label&gt;First name&lt;/label&gt;\n                          &lt;input class=\"form-control\" type=\"text\" name=\"firstna\"  value={{ edit_form.first_name.value }}&gt;\n\n                        &lt;/div&gt;      \n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"row\"&gt;\n                  &lt;div class=\"col d-flex justify-content-end\"&gt;\n                    &lt;button class=\"btn btn-primary\" type=\"submit\"&gt;Save Changes&lt;/button&gt;\n</code></pre>\n\n<p>PS: I've preferred to use those snippets instead of the Django style since I find them more attractive and offer more freedom.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1569450702, "post_id": 58107324, "comment_id": 102605214, "body": "<code>&quot;banana&quot;</code> is a <i>value</i>, not a <i>key</i>, in the first dictionary, and therefore <code>if fruit in x</code> is false."}, {"owner": {"reputation": 1548, "user_id": 1140684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a781f9328c4ef83ca74b5e3ed979e4fb?s=128&d=identicon&r=PG", "display_name": "dgumo", "link": "https://stackoverflow.com/users/1140684/dgumo"}, "edited": false, "score": 0, "creation_date": 1569450730, "post_id": 58107324, "comment_id": 102605225, "body": "<code>x</code> is the key, so you should do <code>if fruit == list1[x]:</code> instead"}, {"owner": {"reputation": 753, "user_id": 12055383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2d06db026197c4978ac0fdfef63891b?s=128&d=identicon&r=PG&f=1", "display_name": "askaroni", "link": "https://stackoverflow.com/users/12055383/askaroni"}, "edited": false, "score": 0, "creation_date": 1569452199, "post_id": 58107324, "comment_id": 102605513, "body": "<code>list1</code> and <code>list2</code> are bad names, because they refer to <code>dict</code>s, not <code>list</code>s."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12121843, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156730614622968/picture?type=large", "display_name": "Tan Sing Chee", "link": "https://stackoverflow.com/users/12121843/tan-sing-chee"}, "edited": false, "score": 0, "creation_date": 1569454277, "post_id": 58107364, "comment_id": 102605907, "body": "Thanks for that clarification!  So when i do &quot;if fruit in x&quot; , does it just look at the first variable on the dictionary (i.e. a b c)?  As compared to list1[x], where it looks for the variable associated with the key X?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 21, "user_id": 12121843, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156730614622968/picture?type=large", "display_name": "Tan Sing Chee", "link": "https://stackoverflow.com/users/12121843/tan-sing-chee"}, "edited": false, "score": 0, "creation_date": 1569456233, "post_id": 58107364, "comment_id": 102606230, "body": "Please consult appropriate tutorials and other learning materials for the functionality of basic Python statements.  Stack Overflow is not intended as a tutorial site."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1569450785, "creation_date": 1569450785, "answer_id": 58107364, "question_id": 58107324, "link": "https://stackoverflow.com/questions/58107324/defining-a-function-to-cross-reference-variables-in-2-dictionaries-in-python/58107364#58107364", "title": "Defining a function to cross-reference variables in 2 dictionaries in python", "body": "<ul>\n<li><code>banana</code> is an undefined variable.  Use <code>\"banana\"</code> instead.</li>\n<li><code>if fruit in x</code> evaluates as <code>if \"banana\" in \"b\"</code>, which is going to be <code>False</code> for each of your entries.</li>\n</ul>\n\n<p>You need to alter your data logic so that you access and compare the items that might actually match.  For instance</p>\n\n<pre><code>if fruit == list1[x]:\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12121843, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156730614622968/picture?type=large", "display_name": "Tan Sing Chee", "link": "https://stackoverflow.com/users/12121843/tan-sing-chee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569450785, "creation_date": 1569450417, "last_edit_date": 1569450610, "question_id": 58107324, "link": "https://stackoverflow.com/questions/58107324/defining-a-function-to-cross-reference-variables-in-2-dictionaries-in-python", "title": "Defining a function to cross-reference variables in 2 dictionaries in python", "body": "<p>I'm trying to define a function that allows me to specify a key to cross reference 2 separate libraries. I.e i want to specify the fruit name, and the function to return the cost. </p>\n\n<p>I've looked at some similar code here and copied it but I keep getting a blank return. Not sure where I'm making an error</p>\n\n<pre><code>list1 = {\"a\": \"apple\", \"b\" : \"banana\", \"c\" : \"coconut\"}\nlist2= {\"a\": 15, \"b\": 10, \"c\":5}\n\ndef find_fruit_price(fruit, list1, list2):\n\n    for x in list1:\n        if fruit in x:\n            return list2[x]\n\n    return\n\nfind_fruit_price(banana, list1, list2)   # returns a blank output\n</code></pre>\n\n<p>I am expecting \"10\"</p>\n"}, {"tags": ["python", "amazon-web-services", "terraform"], "comments": [{"owner": {"reputation": 39151, "user_id": 2291321, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/24a41cddd8faf69e3fbd0a778ba6fedf?s=128&d=identicon&r=PG&f=1", "display_name": "ydaetskcoR", "link": "https://stackoverflow.com/users/2291321/ydaetskcor"}, "edited": false, "score": 0, "creation_date": 1569481765, "post_id": 58107319, "comment_id": 102612575, "body": "What does happen? Does it error? If not can you show the plan after running a destroy?"}, {"owner": {"reputation": 122, "user_id": 200929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1178d905e44e71b9b4c160ec8da56a67?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/200929/carsten"}, "edited": false, "score": 0, "creation_date": 1569500456, "post_id": 58107319, "comment_id": 102622441, "body": "This is hard to follow. What is the variable records_list? And because there was a bug some versions ago, which version of terraform are you using?"}], "owner": {"reputation": 1, "user_id": 5945263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17b225409c59b02af3cd4d657bfe5809?s=128&d=identicon&r=PG&f=1", "display_name": "tsunamie", "link": "https://stackoverflow.com/users/5945263/tsunamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569456453, "creation_date": 1569450367, "last_edit_date": 1569456453, "question_id": 58107319, "link": "https://stackoverflow.com/questions/58107319/for-each-parsing-a-list-as-a-value", "title": "For each parsing a list as a value", "body": "<p>The list will not be parsed into the resource as a value in terraform.</p>\n\n<p>Tried different processing terms for the value in the list.</p>\n\n<pre><code>module \nresource \"aws_route53_record\" \"record\" {\n  for_each = var.records_list\n\n  zone_id = var.zone_id\n  name    = each.key\n  type    = lookup(each.value, \"type\", \"A\")\n  ttl     = lookup(each.value, \"ttl\", \"60\")\n  records = [ lookup(each.value, \"records\", \"8.8.8.8\") ]\n}\n\nModule call\n\nmodule \"example\" {\n  source = \"../../modules/coreDNS/\"\n  zone_id = aws_route53_zone.example.id\n\n  records_list = var.example\n}\n\nVariable pasred in\n\nvariable \"example\" {\n  default = {\n    rebot = {\n      ttl = \"60\"\n      type  = \"A\"\n      records  = [ \"1.1.1.1\", \"2.2.2.2\" ]\n    }\n  }\n  description = \"This is a list for\"\n  type = map(map(any))\n}\n</code></pre>\n\n<p>I expect the value <code>[ \"1.1.1.1\", \"2.2.2.2\" ]</code> to be parsed into the terraform module for creating a route 53 entry and creating an A record, however no record is created.</p>\n"}, {"tags": ["python", "list", "replace"], "comments": [{"owner": {"reputation": 3515, "user_id": 5236185, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1032268783459658/picture?type=large", "display_name": "Alexis C&#244;t&#233;", "link": "https://stackoverflow.com/users/5236185/alexis-c%c3%b4t%c3%a9"}, "edited": false, "score": 0, "creation_date": 1569450393, "post_id": 58107305, "comment_id": 102605145, "body": "What if you do str(w).replace?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1569450520, "post_id": 58107305, "comment_id": 102605172, "body": "Welcome to StackOverflow. Please read and follow the posting guidelines in the help documentation, as suggested when you created this account. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, complete, verifiable example</a> applies here. We cannot effectively help you until you post your MCVE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified. <code>print</code> the offending values just before the point of failure.  Your posted code doesn&#39;t run as given."}, {"owner": {"reputation": 23, "user_id": 12038848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f54751118160b2c7d83bb4b8e3d1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Kasper Aamodt", "link": "https://stackoverflow.com/users/12038848/kasper-aamodt"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1569450710, "post_id": 58107305, "comment_id": 102605220, "body": "@prune So i should just print the entire script?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1569450854, "post_id": 58107305, "comment_id": 102605259, "body": "No, that&#39;s not what the link tells you."}, {"owner": {"reputation": 23, "user_id": 12038848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f54751118160b2c7d83bb4b8e3d1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Kasper Aamodt", "link": "https://stackoverflow.com/users/12038848/kasper-aamodt"}, "reply_to_user": {"reputation": 3515, "user_id": 5236185, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1032268783459658/picture?type=large", "display_name": "Alexis C&#244;t&#233;", "link": "https://stackoverflow.com/users/5236185/alexis-c%c3%b4t%c3%a9"}, "edited": false, "score": 0, "creation_date": 1569450889, "post_id": 58107305, "comment_id": 102605263, "body": "@AlexisC&#244;t&#233; it runs the code, but the output is completely wrong"}, {"owner": {"reputation": 23, "user_id": 12038848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f54751118160b2c7d83bb4b8e3d1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Kasper Aamodt", "link": "https://stackoverflow.com/users/12038848/kasper-aamodt"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1569451435, "post_id": 58107305, "comment_id": 102605379, "body": "@Prune i get that, but in my case i have supporting files that is needed to create the same error."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1569452184, "post_id": 58107305, "comment_id": 102605510, "body": "The error you&#39;ve partially described depends on a handful of local references.  Again, refer to the link concerning how to present a MCVE."}], "answers": [{"tags": [], "owner": {"reputation": 893, "user_id": 7238987, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acf47133b3cef8963064bd5d3e90bdb0?s=128&d=identicon&r=PG&f=1", "display_name": "algorythms", "link": "https://stackoverflow.com/users/7238987/algorythms"}, "is_accepted": false, "score": 0, "last_activity_date": 1569450578, "creation_date": 1569450578, "answer_id": 58107340, "question_id": 58107305, "link": "https://stackoverflow.com/questions/58107305/python-replace-str-in-list-with-new-value/58107340#58107340", "title": "Python replace str in list with new value", "body": "<p>Did you try this?</p>\n\n<pre><code>-2file_information = [w.replace(str(file_information[1]), str(file_information[0]) + '-' + file_information[2]) for w in file_information]\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12038848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9f54751118160b2c7d83bb4b8e3d1d8?s=128&d=identicon&r=PG&f=1", "display_name": "Kasper Aamodt", "link": "https://stackoverflow.com/users/12038848/kasper-aamodt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569450578, "creation_date": 1569450249, "question_id": 58107305, "link": "https://stackoverflow.com/questions/58107305/python-replace-str-in-list-with-new-value", "title": "Python replace str in list with new value", "body": "<p>I\u2019m writing a program that makes music albums into files that you can search for, and for that i need a str in the file that have a specific value that is made after the list is complete. Can you go back in that list and change a blank str with a new value?</p>\n\n<p>I have searched online and found something called words.replace, but it doesn\u2019t work, i get a Attribute error.</p>\n\n<pre><code>def create_album():\n    global idnumber, current_information\n    file_information = []\n    if current_information[0] != 'N/A':\n        save()\n    file_information.append(idnumber)\n    idnumber += 1\n    print('Type c at any point to abort creation')\n    for i in creation_list:\n        value = input('\\t' + i)\n        if value.upper == 'C':\n            menu()\n        else:\n            -1file_information.append('')\n            file_information.append(value)\n    file_information.append('Album created - ' + file_information[2] +'\\nSongs:')\n    -2file_information = [w.replace(file_information[1], str(file_information[0]) + '-' + file_information[2]) for w in file_information]\n    current_information = file_information\n\n    save_name = open(save_path + str(file_information[0]) + '-' + str(file_information[2]) + '.txt', 'w')\n    for i in file_information:\n        save_name.write(str(i) + '\\n')\n\n    current_files_ = open(information_file + 'files.txt', 'w')\n    filenames.append(file_information[0])\n    for i in filenames:\n        current_files_.write(str(i) + '\\n')\n\n    id_file = open(information_file + 'albumid.txt', 'w')\n    id_file.write(str(idnumber))\n</code></pre>\n\n<p>-1 is where i have put aside a blank row</p>\n\n<p>-2 is the where i try to replace row 1 in the list with the value of row 0 and row 2. </p>\n\n<p>The error message I receive is \u2018int\u2019 object has no attribute \u2018replace\u2019</p>\n"}, {"tags": ["python", "module", "path", "python-import", "python-3.7"], "comments": [{"owner": {"reputation": 187, "user_id": 5474887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LOHJDkdBWzI/AAAAAAAAAAI/AAAAAAAAAbs/c9AUzG6384g/photo.jpg?sz=128", "display_name": "sky", "link": "https://stackoverflow.com/users/5474887/sky"}, "edited": false, "score": 1, "creation_date": 1588741624, "post_id": 58107290, "comment_id": 109011849, "body": "were you able to solve this? I am also facing similar issue"}], "owner": {"reputation": 7471, "user_id": 1035897, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/3eccb41827ff628fa4143045e40c1b8c?s=128&d=identicon&r=PG", "display_name": "Lennart Rolland", "link": "https://stackoverflow.com/users/1035897/lennart-rolland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1569450183, "creation_date": 1569450183, "question_id": 58107290, "link": "https://stackoverflow.com/questions/58107290/module-imported-by-name-in-python-3-cant-find-modules-in-the-original-scripts", "title": "Module imported by name in Python 3 can&#39;t find modules in the original script&#39;s path", "body": "<p>I am successfully importing a module by name in Python 3.7 as is recomeded in the <a href=\"https://docs.python.org/3/library/importlib.html#importing-a-source-file-directly\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<pre><code>import importlib.util\nimport sys\n\nspec = importlib.util.spec_from_file_location(module_name, file_path)\nmodule = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(module)\n</code></pre>\n\n<p>However when I do this, some of the import statements of that module will fail.</p>\n\n<p>How can I share the context and module paths of my running python program with this freshly loaded module so that all imports succeed?</p>\n\n<p>The error it produces is <code>No module named 'XXXX'</code> where XXXX is available from main script.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 157, "user_id": 5973959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f7wXK.jpg?s=128&g=1", "display_name": "Roman Anderson", "link": "https://stackoverflow.com/users/5973959/roman-anderson"}, "edited": false, "score": 2, "creation_date": 1569449646, "post_id": 58107203, "comment_id": 102604969, "body": "Show your code snippet producing an error"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1569449892, "post_id": 58107203, "comment_id": 102605020, "body": "<code>cars[v].fillna[cars[v].mean(), TRUE]</code> ---&gt; <code>fillna</code> is a method that takes arguments, not an accessor that takes indices. (<code>()</code> vs <code>[]</code>)"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1569449937, "post_id": 58107203, "comment_id": 102605030, "body": "<code>cars = pd.read_csv(&quot;C:&#47;Users&#47;Downloads&#47;file.csv&quot;)</code> &lt;---- no one but you has this file. what are we supposed to do with this line? See <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\" title=\"how to make good reproducible pandas examples\">stackoverflow.com/questions/20109391/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 12060888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADm7cfuzxgSvKzXIA1C_8DlpSjnG0Ezybx7iV5=k-s128", "display_name": "Jess", "link": "https://stackoverflow.com/users/12060888/jess"}, "edited": false, "score": 0, "creation_date": 1569450097, "post_id": 58107203, "comment_id": 102605063, "body": "I just put that in there, because I&#39;m not sure if there&#39;s some way I&#39;m supposed to import it that will prevent this error?"}, {"owner": {"reputation": 1, "user_id": 12060888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADm7cfuzxgSvKzXIA1C_8DlpSjnG0Ezybx7iV5=k-s128", "display_name": "Jess", "link": "https://stackoverflow.com/users/12060888/jess"}, "edited": false, "score": 0, "creation_date": 1569450182, "post_id": 58107203, "comment_id": 102605084, "body": "Hi Paul I switched to () and I am still getting the error"}, {"owner": {"reputation": 3527, "user_id": 6925185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba6bd7821971973c8143f31356c85df3?s=128&d=identicon&r=PG&f=1", "display_name": "jottbe", "link": "https://stackoverflow.com/users/6925185/jottbe"}, "edited": false, "score": 0, "creation_date": 1569484972, "post_id": 58107203, "comment_id": 102614213, "body": "What is <code>TRUE</code> by the way? did you define this, or did you mean <code>True</code>."}, {"owner": {"reputation": 1, "user_id": 12060888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADm7cfuzxgSvKzXIA1C_8DlpSjnG0Ezybx7iV5=k-s128", "display_name": "Jess", "link": "https://stackoverflow.com/users/12060888/jess"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1569512788, "post_id": 58107203, "comment_id": 102629593, "body": "@paul I switched to () and I am still getting the error.  I think the issue lies with the Boolean data frame error I&#39;m getting versus the code, as I literally copied/pasted several pieces of code I used successfully with different data frames (that were not Boolean aka they had variables such as height, weight, etc with numbers not T/F or 0/1) but for some reason it&#39;s not working on this data frame. I am very new to Python and I tried researching this myself but am just not understanding what is going on/how to fix it"}, {"owner": {"reputation": 1, "user_id": 12060888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADm7cfuzxgSvKzXIA1C_8DlpSjnG0Ezybx7iV5=k-s128", "display_name": "Jess", "link": "https://stackoverflow.com/users/12060888/jess"}, "reply_to_user": {"reputation": 3527, "user_id": 6925185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba6bd7821971973c8143f31356c85df3?s=128&d=identicon&r=PG&f=1", "display_name": "jottbe", "link": "https://stackoverflow.com/users/6925185/jottbe"}, "edited": false, "score": 0, "creation_date": 1569512983, "post_id": 58107203, "comment_id": 102629689, "body": "@jottbe Sorry it probably should be True, just edited my code (I was using True for the inplace argument). Regardless the main issue I am trying to understand is the Boolean issue, as I&#39;ve copied/pasted 3 different bits of code I used successfully on other data frames, but for some reason they aren&#39;t working with this one. They all seem to have similar structures too i.e. NOT Boolean (like variables such as height, weight, date) so I&#39;m not sure why the error is suddenly popping up here every time"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1569515521, "post_id": 58107203, "comment_id": 102630906, "body": "See the link I posted earlier? Read through that, build a reproducible example with some sample data embedded, and show us your expected output that you compute by hand"}, {"owner": {"reputation": 1, "user_id": 12060888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADm7cfuzxgSvKzXIA1C_8DlpSjnG0Ezybx7iV5=k-s128", "display_name": "Jess", "link": "https://stackoverflow.com/users/12060888/jess"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1569525014, "post_id": 58107203, "comment_id": 102635147, "body": "@PaulH I edited to show all my code and an example of the data frame"}], "owner": {"reputation": 1, "user_id": 12060888, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mADm7cfuzxgSvKzXIA1C_8DlpSjnG0Ezybx7iV5=k-s128", "display_name": "Jess", "link": "https://stackoverflow.com/users/12060888/jess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569525039, "creation_date": 1569449562, "last_edit_date": 1569525039, "question_id": 58107203, "link": "https://stackoverflow.com/questions/58107203/must-pass-data-frame-with-boolean-values-only-error", "title": "Must pass Data Frame with boolean values only error?", "body": "<p>I have a data frame of various variables with numeric values (such as temp, speed, etc.) on which I am trying to run a few pieces of code, such as replacing outliers with the mean and creating a scatterplot. However, I keep getting the error I referenced in the title... I'm not sure where I'm going wrong, as this code has worked on other data frames.</p>\n\n<p>Here's a example of my data frame:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'temp': [.2, naN, .12], \n                   'speed': [1, 1, 0],\n                    'weekday': [1, 2, 3]})\n</code></pre>\n\n<p>Here's the actual code I'm using (step #1 is just importing it and works fine):</p>\n\n<pre><code>import pandas as pd\ncars = pd.read_csv(\"C:/Users/Downloads/file.csv\")\n</code></pre>\n\n<p>Step 2 is where I begin having issues: </p>\n\n<pre><code>import numpy as np\n\noutliers = []\noutliers.append(cars[['temp', 'speed']])\n\nfor j in outliers:\n    upper_quartile = np.nanpercentile(cars[j], 75)\n    lower_quartile = np.nanpercentile(cars[j], 25)\n    iqr = upper_quartile - lower_quartile\n\n    upper_whisker = upper_quartile + 1.5*iqr\n    lower_whisker = np.maximum(lower_quartile - 1.5*iqr, 0)\n\n    cars[j] = np.where((cars[j] &lt;= lower_whisker) | \n                      (cars[j] &gt;= upper_whisker), np.nan, cars[j])\n\n</code></pre>\n\n<p>This should be filling outliers with NaN, but when run I get the Boolean data frame error message. Same error message when running this next bit to replace those missing value's with the column's mean:</p>\n\n<pre><code>for v in outliers:\n    cars[v].fillna(cars[v].mean(), True)\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 121, "user_id": 11574200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d05f86cafdea82ddbab946aec3c078f?s=128&d=identicon&r=PG&f=1", "display_name": "Chegon", "link": "https://stackoverflow.com/users/11574200/chegon"}, "edited": false, "score": 0, "creation_date": 1569449755, "post_id": 58107188, "comment_id": 102604996, "body": "<a href=\"https://docs.djangoproject.com/en/2.2/intro/tutorial04/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.2/intro/tutorial04</a>"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 1, "creation_date": 1569450344, "post_id": 58107188, "comment_id": 102605130, "body": "Some URLs have multiple args, for example you might have <code>reverse(&#39;polls:results&#39;, args=(request.user.name, question.id,))</code> to show all the questions for a particular user. It would be inconsistent if args was a list/tuple sometimes and a single item other times."}, {"owner": {"reputation": 121, "user_id": 11574200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d05f86cafdea82ddbab946aec3c078f?s=128&d=identicon&r=PG&f=1", "display_name": "Chegon", "link": "https://stackoverflow.com/users/11574200/chegon"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1569451275, "post_id": 58107188, "comment_id": 102605349, "body": "Excellent answer. Thank you."}, {"owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "edited": false, "score": 1, "creation_date": 1569451572, "post_id": 58107188, "comment_id": 102605403, "body": "You actually don&#39;t have to pass a tuple, you could do something like:  reverse(&#39;polls:results&#39;,kwargs={&#39;question_id&#39;: question_id})"}, {"owner": {"reputation": 121, "user_id": 11574200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d05f86cafdea82ddbab946aec3c078f?s=128&d=identicon&r=PG&f=1", "display_name": "Chegon", "link": "https://stackoverflow.com/users/11574200/chegon"}, "edited": false, "score": 0, "creation_date": 1569511170, "post_id": 58107188, "comment_id": 102628789, "body": "It&#39;s good to know that. Thank you."}], "owner": {"reputation": 121, "user_id": 11574200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d05f86cafdea82ddbab946aec3c078f?s=128&d=identicon&r=PG&f=1", "display_name": "Chegon", "link": "https://stackoverflow.com/users/11574200/chegon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569449460, "creation_date": 1569449460, "question_id": 58107188, "link": "https://stackoverflow.com/questions/58107188/in-django-why-does-the-reverse-fucntion-passes-a-tuple-as-argument", "title": "In Django, why does the reverse fucntion passes a tuple as argument?", "body": "<p>The Django tutorial uses the reverse function as <code>HttpResponseRedirect(reverse('polls:results', args=(question.id,)))</code>. The 'results' view is defined as <code>results(request, question_id)</code>. I understand that <code>(question.id,)</code> is a single element tuple but, why do we even pass a tuple instead of just <code>question.id</code>?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1569449539, "post_id": 58107172, "comment_id": 102604935, "body": "have you tried anything yet?"}, {"owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "edited": false, "score": 0, "creation_date": 1569449578, "post_id": 58107172, "comment_id": 102604949, "body": "what is the datatype of numbers in <code>col2</code> ?"}, {"owner": {"reputation": 956, "user_id": 3486773, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4b1aec69e11bd6483ba49e73fa49c0ec?s=128&d=identicon&r=PG&f=1", "display_name": "user3486773", "link": "https://stackoverflow.com/users/3486773/user3486773"}, "edited": false, "score": 0, "creation_date": 1569449610, "post_id": 58107172, "comment_id": 102604955, "body": "I can write a statement to loop through the df to find the type of each value, and drop that way, it just seems clunky and like it should be less text to get what I want."}], "answers": [{"tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449695, "creation_date": 1569449695, "answer_id": 58107222, "question_id": 58107172, "link": "https://stackoverflow.com/questions/58107172/how-to-drop-string-values-from-pandas-dataframe-column/58107222#58107222", "title": "How to drop string values from pandas dataframe column?", "body": "<p>You can do:</p>\n\n<pre><code>df[pd.to_numeric(df['col2'], errors='coerce').notnull()]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  col1 col2\n0    A    1\n1    B    2\n3    2    3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 407, "user_id": 12081962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ll5huE3pU2Y/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjWRKj07TpZMMvzL5gkm4UPklIOg/photo.jpg?sz=128", "display_name": "Julia K", "link": "https://stackoverflow.com/users/12081962/julia-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1569454865, "last_edit_date": 1569454865, "creation_date": 1569450386, "answer_id": 58107320, "question_id": 58107172, "link": "https://stackoverflow.com/questions/58107172/how-to-drop-string-values-from-pandas-dataframe-column/58107320#58107320", "title": "How to drop string values from pandas dataframe column?", "body": "<p>Try \n</p>\n\n<pre><code>df = df[df['col2'].apply(lambda x: type(x) != str)] \n</code></pre>\n\n<p>The <code>apply</code> function ouputs <code>True</code> for every row that is not a string. For strings, it yields false. Then all rows with <code>True</code> are selected from the data frame.</p>\n"}], "owner": {"reputation": 956, "user_id": 3486773, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4b1aec69e11bd6483ba49e73fa49c0ec?s=128&d=identicon&r=PG&f=1", "display_name": "user3486773", "link": "https://stackoverflow.com/users/3486773/user3486773"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569454865, "creation_date": 1569449352, "question_id": 58107172, "link": "https://stackoverflow.com/questions/58107172/how-to-drop-string-values-from-pandas-dataframe-column", "title": "How to drop string values from pandas dataframe column?", "body": "<p>I have a df:</p>\n\n<pre><code>col1  col2\nA      1\nB      2\n1      string\n2      3\nC      more string\n</code></pre>\n\n<p>How can I drop all the rows where col2 contains a string?</p>\n"}, {"tags": ["python", "ldap"], "answers": [{"tags": [], "owner": {"reputation": 5616, "user_id": 2529954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ShWjR.jpg?s=128&g=1", "display_name": "EricLavault", "link": "https://stackoverflow.com/users/2529954/ericlavault"}, "is_accepted": true, "score": 1, "last_activity_date": 1569496864, "creation_date": 1569496864, "answer_id": 58115705, "question_id": 58107120, "link": "https://stackoverflow.com/questions/58107120/how-to-get-child-object-in-python-ldap/58115705#58115705", "title": "How to get child_object in python-ldap", "body": "<p>If you want to grab every entry under <code>ou=Organization &gt;&gt; ou=Company &gt;&gt; ou=Brasil</code>, you need to set the base dn accordingly and use <code>objectclass=*</code> as filter : </p>\n\n<pre><code>con = ldap.initialize('ldap://domain.com')\nbase_dn = 'ou=Brasil,ou=Company,ou=Organization,dc=domain,dc=com'\nfilter = \"(objectClass=*)\"\nresult = con.search_s(base_dn, ldap.SCOPE_SUBTREE, filter)\n</code></pre>\n"}], "owner": {"reputation": 1972, "user_id": 9494140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-RiQCuWECqiE/AAAAAAAAAAI/AAAAAAAAEsI/GLtd18UG8w8/photo.jpg?sz=128", "display_name": "Ahmed Wagdi", "link": "https://stackoverflow.com/users/9494140/ahmed-wagdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 205, "favorite_count": 0, "accepted_answer_id": 58115705, "answer_count": 1, "score": 0, "last_activity_date": 1569496864, "creation_date": 1569448979, "question_id": 58107120, "link": "https://stackoverflow.com/questions/58107120/how-to-get-child-object-in-python-ldap", "title": "How to get child_object in python-ldap", "body": "<p>I'm totally new in using LDAP with python, am trying to perform a query on the LDAP tree that is shown in the image. </p>\n\n<p><a href=\"https://i.stack.imgur.com/U4FCf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U4FCf.png\" alt=\"LDAP Tree\"></a></p>\n\n<p>Using the package <code>python-ldap</code> . as you see, the tree is like this :</p>\n\n<p>ou=Organization >> ou=Company >> ou=Brasil >>\nThen after the country, there are many cities, I managed to reach this city .. but there are some other cities that have some kind of (Sub-Cities) under it as you see in ou=Sao Paulo, it has 3 sub-cities after it.</p>\n\n<p>What I need to do is :</p>\n\n<p>1- Get to the child cities after the main cities.\n2- get to be able to loop over every CN=Gateway-**** inside every city.\n3- Finally need to access the inner attributes for every CN and get the value of it.</p>\n\n<p>The code I used in <strong>views.py</strong> is :</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\ndef index(request):\n    cities_list = []\n    gateways_list = []\n    con = ldap.initialize('ldap://The_URI_For_IDAP/(|(OU=Brasil)(OU=Company)(OU=Organization))')\n    some_dn = 'dc=*****,dc=com'\n    query = \"ou=*\"\n    result = con.search_s(some_dn, ldap.SCOPE_SUBTREE, query)\n    for item in result:\n        cities_list.append(city_name)\n        print(item)\n    context = {\n        'cities_list': cities_list,\n    }\n    return render(request, 'index.html', context)\n</code></pre>\n\n<p>in the <code>cities_list</code> i get a list of every Parent city ou after <code>ou=Brasil</code> but i can't get to the inner <code>Ou</code> and also can't reach the <code>CN</code> part.</p>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1569449210, "post_id": 58107115, "comment_id": 102604860, "body": "There is no issue. You test with a <i>string literal</i> (the way you see it in the console), while you must test with a <b>literal string pattern</b>, and <b>use the appropriate delimiter</b> (if you test with a PCRE regex tester). <a href=\"https://regex101.com/r/GClNoc/3\" rel=\"nofollow noreferrer\"><b>Look here</b></a>."}, {"owner": {"reputation": 421, "user_id": 4460287, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-Mrh4dvnXd5c/AAAAAAAAAAI/AAAAAAAAAmY/6VfjyktC1J0/photo.jpg?sz=128", "display_name": "Adhish Thite", "link": "https://stackoverflow.com/users/4460287/adhish-thite"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1569523047, "post_id": 58107115, "comment_id": 102634318, "body": "Thanks. That&#39;s perfect. Is there a way I can make this regex work with Python too? I tried all the delimiters for Python, but doesn&#39;t  seem to work."}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1569523104, "post_id": 58107115, "comment_id": 102634347, "body": "Use <a href=\"https://regex101.com/r/GClNoc/4\" rel=\"nofollow noreferrer\">this one</a>."}, {"owner": {"reputation": 421, "user_id": 4460287, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-Mrh4dvnXd5c/AAAAAAAAAAI/AAAAAAAAAmY/6VfjyktC1J0/photo.jpg?sz=128", "display_name": "Adhish Thite", "link": "https://stackoverflow.com/users/4460287/adhish-thite"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1569523345, "post_id": 58107115, "comment_id": 102634448, "body": "That&#39;s great. It&#39;s all in the detail, for sure."}], "owner": {"reputation": 421, "user_id": 4460287, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh5.googleusercontent.com/-Mrh4dvnXd5c/AAAAAAAAAAI/AAAAAAAAAmY/6VfjyktC1J0/photo.jpg?sz=128", "display_name": "Adhish Thite", "link": "https://stackoverflow.com/users/4460287/adhish-thite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "closed_date": 1569449200, "answer_count": 0, "score": 1, "last_activity_date": 1569448949, "creation_date": 1569448949, "question_id": 58107115, "link": "https://stackoverflow.com/questions/58107115/appropriate-regex-format-for-python-perl-python-mismatch", "closed_reason": "Duplicate", "title": "Appropriate Regex format for Python (Perl-Python Mismatch)", "body": "<p>I am trying to match a string to a regex in <code>Python 3.x</code>, and then use the same regex to match a bunch of sample strings. I have a catalog of regexes (<code>grok</code>) which I use to match the custom string that I have.</p>\n\n<p>I am using the <code>regex</code> library and not the default <code>re</code>.</p>\n\n<h3>PROBLEM</h3>\n\n<p>Consider a simple log line - </p>\n\n<p><code>\"[17/Dec/2005:02:40:45 -0500] 192.168.2.10:ossecdb LOG:  duration: 0.016 ms  statement: SELECT id FROM location WHERE name = 'enigma-&gt;/var/log/messages' AND server_id = '1'\"</code></p>\n\n<p>Now, my Python code browses through a catalog (<code>dict</code> of regexes that I have, and finds all the regexes which match this string. </p>\n\n<p>Example, </p>\n\n<p><code>catalog.txt</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\n'TIMESTAMP_ISO8601': '(?&gt;\\d\\d){1,2}-(?:0?[1-9]|1[0-2])-(?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9])[T ](?:2[0123]|[01]?[0-9]):?(?:[0-5][0-9])(?::?(?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?))?(?:Z|[+-](?:2[0123]|[01]?[0-9])(?::?(?:[0-5][0-9])))?',\n\n'HTTPDATE': '(?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9])\\/\\b(?:Jan(?:uary|uar)?|Feb(?:ruary|ruar)?|M(?:a|\u00e4)?r(?:ch|z)?|Apr(?:il)?|Ma(?:y|i)?|Jun(?:e|i)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|O(?:c|k)?t(?:ober)?|Nov(?:ember)?|De(?:c|z)(?:ember)?)\\b\\/(?&gt;\\d\\d){1,2}:(?!&lt;[0-9])(?:2[0123]|[01]?[0-9]):(?:[0-5][0-9])(?::(?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?))(?![0-9]) (?:[+-]?(?:[0-9]+))',\n\n'IPV4': '(?&lt;![0-9])(?:(?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5])[.](?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5])[.](?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5])[.](?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5]))(?![0-9])',\n\n\n'QUOTEDSTRING': '(?&gt;(?&lt;!\\\\)(?&gt;\"(?&gt;\\\\.|[^\\\\\"]+)+\"|\"\"|(?&gt;'(?&gt;\\\\.|[^\\\\']+)+')|''|(?&gt;`(?&gt;\\\\.|[^\\\\`]+)+`)|``))'\n\n</code></pre>\n\n<p>I read this file and store it as a <code>dict</code> in my python code. Now, I start searching the string for matches - </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import regex, json\n\ncatalog = {\n    'HTTPDATE': '(?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9])/\\\\b(?:Jan(?:uary|uar)?|Feb(?:ruary|ruar)?|M(?:a|\u00e4)?r(?:ch|z)?|Apr(?:il)?|Ma(?:y|i)?|Jun(?:e|i)?|Jul(?:y)?|Aug(?:ust)?|Sep(?:tember)?|O(?:c|k)?t(?:ober)?|Nov(?:ember)?|De(?:c|z)(?:ember)?)\\\\b/(?&gt;\\\\d\\\\d){1,2}:(?!&lt;[0-9])(?:2[0123]|[01]?[0-9]):(?:[0-5][0-9])(?::(?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?))(?![0-9]) (?:[+-]?(?:[0-9]+))', \n    'TIMESTAMP_ISO8601': '(?&gt;\\\\d\\\\d){1,2}-(?:0?[1-9]|1[0-2])-(?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9])[T ](?:2[0123]|[01]?[0-9]):?(?:[0-5][0-9])(?::?(?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?))?(?:Z|[+-](?:2[0123]|[01]?[0-9])(?::?(?:[0-5][0-9])))?', \n    'IPV4': '(?&lt;![0-9])(?:(?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5])[.](?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5])[.](?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5])[.](?:[0-1]?[0-9]{1,2}|2[0-4][0-9]|25[0-5]))(?![0-9])'}\n\ninput_string = \"[17/Dec/2005:02:40:45 -0500] 192.168.2.10:ossecdb LOG:  duration: 0.016 ms  statement: SELECT id FROM location WHERE name = 'enigma-&gt;/var/log/messages' AND server_id = '1'\"\n\nmatches_dict = {}\n\nfor key in catalog.keys():\n    try:\n        res = regex.search(catalog.get(key), input_string)\n\n        if res and len(res) == 1:\n            matches_dict[key] = res\n\n    except Exception as e:\n        print(e)\n\nprint(matches_dict)\n</code></pre>\n\n<p>This prints - </p>\n\n<pre><code>&gt;&gt;&gt; {'HTTPDATE': &lt;regex.Match object;'IPV4': &lt;regex.Match object; span=(29, 41),match='192.168.2.10'&gt;}'\n</code></pre>\n\n<p>However, if I try to validate this regex on <a href=\"https://regex101.com\" rel=\"nofollow noreferrer\">https://regex101.com</a>, or anywhere else, I get an error - <a href=\"https://regex101.com/r/GClNoc/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/GClNoc/1</a></p>\n\n<p>In all of the flavors (<code>PERL</code>, <code>Python</code>, etc) there is some error.</p>\n\n<p>I am not sure why they aren't working in the regex101.com. Can someone please help me identifying whether there's anything wrong?</p>\n\n<p>The <code>regex</code> library doesn't seem to have a problem extracting the data.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "locust"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 6749603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7541b9432b2c393bb8f4ca5e091ed7b6?s=128&d=identicon&r=PG", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u041f\u043e\u0437\u0434\u043d\u044f\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/6749603/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%9f%d0%be%d0%b7%d0%b4%d0%bd%d1%8f%d0%ba%d0%be%d0%b2"}, "is_accepted": false, "score": 3, "last_activity_date": 1574666126, "creation_date": 1574666126, "answer_id": 59026852, "question_id": 58107082, "link": "https://stackoverflow.com/questions/58107082/how-to-fail-setup-in-locust/59026852#59026852", "title": "How to fail setup in Locust?", "body": "<p>For me - helps this thing. Just one problem - locust exits with code 0, like \"successful\"</p>\n\n<pre><code>import greenlet\n\n\nclass MyLocust(Locust):\n    task_set = MyTaskSet\n\n    def setup(self):\n        if True:\n            raise greenlet.error('Setup failed')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 12856574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b40b7dcf36233618c7093be9f96ae966?s=128&d=identicon&r=PG&f=1", "display_name": "BarakStout", "link": "https://stackoverflow.com/users/12856574/barakstout"}, "is_accepted": false, "score": 0, "last_activity_date": 1581833215, "creation_date": 1581833215, "answer_id": 60245871, "question_id": 58107082, "link": "https://stackoverflow.com/questions/58107082/how-to-fail-setup-in-locust/60245871#60245871", "title": "How to fail setup in Locust?", "body": "<p>You could always use <code>quit()</code> to quit Locust all together. Another option would be to use <code>raise StopLocust()</code>: </p>\n\n<pre><code>class MyLocust(Locust):\n    task_set = MyTaskSet\n\n    def setup(self):\n        if True:\n            raise StopLocust()\n</code></pre>\n\n<p>Also, check this out <a href=\"https://lookonmyworks.co.uk/2015/03/13/stopping-a-locust/\" rel=\"nofollow noreferrer\">Stopping a locust</a></p>\n"}, {"tags": [], "owner": {"reputation": 752, "user_id": 9658774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR0Bd.jpg?s=128&g=1", "display_name": "PrakashT", "link": "https://stackoverflow.com/users/9658774/prakasht"}, "is_accepted": false, "score": 2, "last_activity_date": 1581834401, "creation_date": 1581834401, "answer_id": 60245978, "question_id": 58107082, "link": "https://stackoverflow.com/questions/58107082/how-to-fail-setup-in-locust/60245978#60245978", "title": "How to fail setup in Locust?", "body": "<p>If you want stop single locust,use below code. locust.exceptions will help for stop single locust operation.</p>\n\n<pre><code>from locust.exception import StopLocust\n\nclass MyLocust(Locust):\n    task_set = MyTaskSet\n\n    def setup(self):\n        if True:\n            raise StopLocust()\n</code></pre>\n\n<p>If you want stop all locust,use below code.</p>\n\n<pre><code>from locust.main import runners\n\nclass MyLocust(Locust):\n        task_set = MyTaskSet\n\n        def setup(self):\n            if True:\n                raise runners.locust_runner.quit()\n</code></pre>\n"}], "owner": {"reputation": 2027, "user_id": 205075, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/k6I0o.jpg?s=128&g=1", "display_name": "Joao Coelho", "link": "https://stackoverflow.com/users/205075/joao-coelho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1317, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1581834401, "creation_date": 1569448741, "last_edit_date": 1570209657, "question_id": 58107082, "link": "https://stackoverflow.com/questions/58107082/how-to-fail-setup-in-locust", "title": "How to fail setup in Locust?", "body": "<p>I'm doing a verification in my Locust setup and if that fails, I would like locust to exit immediately.</p>\n\n<p>To do that, I'm raising an exception, but locust continues with the tests until time limit is reached.</p>\n\n<p>I'd like for it to not even start the tests if setup fails. Is there a way to do that?</p>\n\n<p>Locust code</p>\n\n<pre><code>class MyLocust(Locust):\n    task_set = MyTaskSet\n\n    def setup(self):\n        if True:\n            raise ValueError('Setup failed')\n</code></pre>\n\n<p>stdout / stderr:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>locust -f MyTest.py --no-web -c 10 -r 10 -t 5s\n\nINFO/locust.main: Run time limit set to 5 seconds\nINFO/locust.main: Starting Locust 0.11.0\nINFO/locust.runners: Hatching and swarming 10 clients at the rate 10 clients/s...\n    Name                                                          # reqs      # fails     Avg     Min     Max  |  Median   req/s\n--------------------------------------------------------------------------------------------------------------------------------------------\n--------------------------------------------------------------------------------------------------------------------------------------------\n    Total                                                              0     0(0.00%)                                       0.00\n\nERROR/stderr: Traceback (most recent call last):\nERROR/stderr: \nERROR/stderr: File \"src/gevent/greenlet.py\", line 766, in gevent._greenlet.Greenlet.run\nERROR/stderr: \nERROR/stderr: File \"/venv_37_1/lib/python3.7/site-packages/locust/runners.py\", line 114, in start_locust\n    locust().run(runner=self)\nERROR/stderr: \nERROR/stderr: File \"/venv_37_1/lib/python3.7/site-packages/locust/core.py\", line 192, in __init__\n    super(HttpLocust, self).__init__()\nERROR/stderr: \nERROR/stderr: File \"/venv_37_1/lib/python3.7/site-packages/locust/core.py\", line 143, in __init__\n    self.setup()\nERROR/stderr: \nERROR/stderr: File \"/MyTest.py\", line 220, in setup\n    raise ValueError('Setup failed')\nERROR/stderr: \nERROR/stderr: ValueError: Setup failed\nERROR/stderr: \nERROR/stderr: 2019-09-25T21:43:39Z\nERROR/stderr: \nERROR/stderr: &lt;Greenlet at 0x12c8c2950: start_locust(&lt;class 'MyTest.LoadTest'&gt;)&gt; failed with ValueError\nINFO/locust.runners: All locusts hatched: LoadTest: 10\n    Name                                                          # reqs      # fails     Avg     Min     Max  |  Median   req/s\n--------------------------------------------------------------------------------------------------------------------------------------------\n--------------------------------------------------------------------------------------------------------------------------------------------\n    Total                                                              0     0(0.00%)                                       0.00\n\n    Name                                                          # reqs      # fails     Avg     Min     Max  |  Median   req/s\n--------------------------------------------------------------------------------------------------------------------------------------------\n--------------------------------------------------------------------------------------------------------------------------------------------\n    Total                                                              0     0(0.00%)                                       0.00\n\nINFO/locust.main: Time limit reached. Stopping Locust.\nINFO/locust.main: Shutting down (exit code 0), bye.\nINFO/locust.main: Cleaning up runner...\nINFO/locust.main: Running teardowns...\n</code></pre>\n\n<p>As you can see from ^ only exits when time limit is reached, even though <code>setup</code> failed.</p>\n"}, {"tags": ["python", "ansible", "centos"], "comments": [{"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1569454401, "post_id": 58107029, "comment_id": 102605918, "body": "what about switch to fedora 30? the future stream is fedora, then centos, then rhel. you always get new packages"}], "answers": [{"tags": [], "owner": {"reputation": 4401, "user_id": 858675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c51db176e8886a2afbc18edd2233c18b?s=128&d=identicon&r=PG", "display_name": "gelonida", "link": "https://stackoverflow.com/users/858675/gelonida"}, "is_accepted": true, "score": 0, "last_activity_date": 1569451247, "creation_date": 1569451247, "answer_id": 58107412, "question_id": 58107029, "link": "https://stackoverflow.com/questions/58107029/how-to-install-ansible-on-centos8/58107412#58107412", "title": "How to install Ansible on CentOS8", "body": "<p>You see one warning, which you should take very seriously if you don't want to destroy files, that were installed via yum packages. which is</p>\n\n<blockquote>\n  <p>Running pip install with root privileges is generally not a good idea.\n  Try <code>pip3 install --user</code> instead.</p>\n</blockquote>\n\n<p>I suggest to try using a virtualenv. Using a virtualenv reduces the probability to destroy an existing setup and allows you to have different package versions per virtualenv. Just do not forget to activate your virtualenv before pip installing into it.</p>\n\n<p>Unfortunately Ansible has (had at least when I used it last time) a small issue, that it will not be able to install packages if you use a virtualenv which does not include system site packages, so I'm not 100% sure, you will be successful.</p>\n\n<p>I try to walk you through following:\n1.) install virtualenv (either with yum or with pip install, but in order to not destroy anything in your existing setup you'd use pip install with the <code>--user</code> option)\n2.) create a virtualenv for python3 with system site packages enabled as you will have issues with ansible and package installation otherwise\n3.) enable your virtualenv (Do not forget this!)\n4.) Check that you really enabled your virtualenv\n5.) pip install ansible with the -U option</p>\n\n<p>Try out ansible and specify the path to the python executable of your virtualenv in with the ansible_python_interpreter setting of ansible ( <a href=\"https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html\" rel=\"nofollow noreferrer\">https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html</a> )\nCollecting python-setuptools\nYou might try to use a virtualenv in order to avoid conflicts with existing packages.</p>\n\n<p>You might try something like:</p>\n\n<p><code>sudo pip install --user virtualenv</code>  # or install virtualenv with yum if you know the package name.</p>\n\n<p>then</p>\n\n<p><code>virtualenv -p $(which python3) /root/ansiblevenv --system-site-packages</code></p>\n\n<p>now activate the virutalenv</p>\n\n<p><code>. /root/ansiblevenv/bin/activate</code>  # do not forget the space between the . and the /</p>\n\n<p>Now check, that the active python is the one of the virtualenv</p>\n\n<p><code>type python</code></p>\n\n<p>you should  see <code>/root/ansiblevenv/bin/python</code> instead if 'usr/bin/python' if not the virtualenv is not enabled properly</p>\n\n<p>Now update pip (just in case)</p>\n\n<p><code>pip install -U pip</code></p>\n\n<p>and now try to install ansible</p>\n\n<p><code>pip install -U ansible</code></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 13640154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KTRKN.png?s=128&g=1", "display_name": "Linux Gurus", "link": "https://stackoverflow.com/users/13640154/linux-gurus"}, "is_accepted": false, "score": 0, "last_activity_date": 1595154990, "creation_date": 1595154990, "answer_id": 62979146, "question_id": 58107029, "link": "https://stackoverflow.com/questions/58107029/how-to-install-ansible-on-centos8/62979146#62979146", "title": "How to install Ansible on CentOS8", "body": "<p>You can also use the below steps to install Ansible on CentOS 8.</p>\n<p><strong>Step 1: Installation of EPEL repository</strong></p>\n<p>Ansible is not available in the default repository. So, to install it, we have to enable the EPEL repository. Firstly, we are going to install <code>epel-release</code>. Use the below command to install it.</p>\n<pre><code>sudo dnf -y install epel-release\n</code></pre>\n<p>Note: you can also use <code>yum</code> command instead of <code>dnf</code></p>\n<p><strong>Step 2: Installing Ansible on CentOS 8</strong></p>\n<p>let\u2019s install Ansible. Use the below command for this installation.</p>\n<pre><code>sudo dnf -y install ansible\n</code></pre>\n<p>Once the installation is completed, then use the below command to verify the version.</p>\n<pre><code>ansible --version\n</code></pre>\n<p>That's it. But you can read more about ansible installation on CentOS8 related commands for managed node and other details. You can visit my blog post for Ansible. You can use the URL below.</p>\n<p><a href=\"https://www.linuxgurus.in/how-to-install-and-configure-ansible-on-centos-8/\" rel=\"nofollow noreferrer\">How to install and configure Ansible on CentOS 8</a></p>\n"}], "owner": {"reputation": 1309, "user_id": 627855, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/de91466e4164c7f05d9ad2a6b4f9753f?s=128&d=identicon&r=PG", "display_name": "ImranRazaKhan", "link": "https://stackoverflow.com/users/627855/imranrazakhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1035, "favorite_count": 0, "accepted_answer_id": 58107412, "answer_count": 2, "score": 0, "last_activity_date": 1595154990, "creation_date": 1569448417, "question_id": 58107029, "link": "https://stackoverflow.com/questions/58107029/how-to-install-ansible-on-centos8", "title": "How to install Ansible on CentOS8", "body": "<p>I am trying to install ansible on CentOS 8 but no success, After searching google i did following steps</p>\n\n<pre><code>yum install python3-pip\npip3 install ansible\n</code></pre>\n\n<p>but it shows following output and no ansible avaiable</p>\n\n<pre><code>[root@okd1 ~]# pip3 install ansible\nWARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.\nRequirement already satisfied: ansible in ./.local/lib/python3.6/site-packages\nRequirement already satisfied: jinja2 in ./.local/lib/python3.6/site-packages (from ansible)\nRequirement already satisfied: PyYAML in /usr/lib64/python3.6/site-packages (from ansible)\nRequirement already satisfied: cryptography in /usr/lib64/python3.6/site-packages (from ansible)\nRequirement already satisfied: MarkupSafe&gt;=0.23 in ./.local/lib/python3.6/site-packages (from jinja2-&gt;ansible)\nRequirement already satisfied: idna&gt;=2.1 in /usr/lib/python3.6/site-packages (from cryptography-&gt;ansible)\nRequirement already satisfied: asn1crypto&gt;=0.21.0 in /usr/lib/python3.6/site-packages (from cryptography-&gt;ansible)\nRequirement already satisfied: six&gt;=1.4.1 in /usr/lib/python3.6/site-packages (from cryptography-&gt;ansible)\nRequirement already satisfied: cffi!=1.11.3,&gt;=1.7 in /usr/lib64/python3.6/site-packages (from cryptography-&gt;ansible)\nRequirement already satisfied: pycparser in /usr/lib/python3.6/site-packages (from cffi!=1.11.3,&gt;=1.7-&gt;cryptography-&gt;ansible)\n</code></pre>\n\n<p>i tried to manually download and install but still no success</p>\n\n<pre><code>curl -o ansible.rpm https://releases.ansible.com/ansible/rpm/release/epel-7-x86_64/ansible-2.8.5-1.el7.ans.noarch.rpm\n\n[root@okd1 ~]# yum install ansible.rpm\nLast metadata expiration check: 0:09:14 ago on Wed 25 Sep 2019 05:39:22 PM EDT.\nError: \n Problem: conflicting requests\n  - nothing provides python-setuptools needed by ansible-2.8.5-1.el7.ans.noarch\n  - nothing provides python-six needed by ansible-2.8.5-1.el7.ans.noarch\n  - nothing provides PyYAML needed by ansible-2.8.5-1.el7.ans.noarch\n  - nothing provides python-jinja2 needed by ansible-2.8.5-1.el7.ans.noarch\n  - nothing provides python-paramiko needed by ansible-2.8.5-1.el7.ans.noarch\n  - nothing provides python2-cryptography needed by ansible-2.8.5-1.el7.ans.noarch\n  - nothing provides sshpass needed by ansible-2.8.5-1.el7.ans.noarch\n(try to add '--skip-broken' to skip uninstallable packages or '--nobest' to use not only best candidate packages)\n</code></pre>\n\n<p>then tried to deploy these packages but no success</p>\n\n<pre><code>[root@okd1 ~]# pip3 install python-setuptools\nWARNING: Running pip install with root privileges is generally not a good idea. Try `pip3 install --user` instead.\nCollecting python-setuptools\n  Could not find a version that satisfies the requirement python-setuptools (from versions: )\nNo matching distribution found for python-setuptools\n[root@okd1 ~]# \n[root@okd1 ~]# pip2 install python-setuptools\nWARNING: Running pip install with root privileges is generally not a good idea. Try `pip2 install --user` instead.\nCollecting python-setuptools\n  Could not find a version that satisfies the requirement python-setuptools (from versions: )\nNo matching distribution found for python-setuptools\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1569448854, "post_id": 58107009, "comment_id": 102604753, "body": "<code>replace</code> is a string function; you tried to apply it to a df column.  Dig down one more reference level to the actual name."}, {"owner": {"reputation": 4770, "user_id": 6340496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a2hM0.png?s=128&g=1", "display_name": "S3DEV", "link": "https://stackoverflow.com/users/6340496/s3dev"}, "edited": false, "score": 1, "creation_date": 1569448990, "post_id": 58107009, "comment_id": 102604791, "body": "Sorry for poor formatting, I&#39;m on my phone.  Try something like: df.columns = [i.replace(&#39;#&#39;, &#39;&#39;) for i in df.columns]  And then the same for %.  I&#39;m sure there is a more elegant way, but this will get you there."}, {"owner": {"reputation": 458, "user_id": 9728885, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Manuel", "link": "https://stackoverflow.com/users/9728885/manuel"}, "edited": false, "score": 3, "creation_date": 1569449042, "post_id": 58107009, "comment_id": 102604807, "body": "<code>df.columns.str.replace(&#39;#&#39;, &#39;&#39;)</code> should work."}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 12005038, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0PG5BoM7fJI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-imFCovKKYc908LnVQftpiNNk5Ubg/mo/photo.jpg?sz=128", "display_name": "Fam", "link": "https://stackoverflow.com/users/12005038/fam"}, "edited": false, "score": 0, "creation_date": 1569450850, "post_id": 58107101, "comment_id": 102605257, "body": "I wish I had the option to replace with another character. For example, suppose I want to replace &quot;#&quot; AND &quot;%&quot;  BY &quot;$&quot;."}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "reply_to_user": {"reputation": 263, "user_id": 12005038, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0PG5BoM7fJI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-imFCovKKYc908LnVQftpiNNk5Ubg/mo/photo.jpg?sz=128", "display_name": "Fam", "link": "https://stackoverflow.com/users/12005038/fam"}, "edited": false, "score": 2, "creation_date": 1569455969, "post_id": 58107101, "comment_id": 102606169, "body": "@Fam Updated the answer."}], "tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": true, "score": 3, "last_activity_date": 1569455914, "last_edit_date": 1569455914, "creation_date": 1569448881, "answer_id": 58107101, "question_id": 58107009, "link": "https://stackoverflow.com/questions/58107009/replace-some-characters-on-the-names-of-variables-in-python/58107101#58107101", "title": "replace some characters on the names of variables in python", "body": "<p>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.rename.html\" rel=\"nofollow noreferrer\">rename</a>:</p>\n\n<pre><code>df = df.rename(mapper=lambda c: c.strip(\"%#\"), axis='columns')\nprint(df.columns)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Index(['house', 'var_c', 'var_v', 'othervar', 'pp', 'iv', 'iv', 'income',\n       'blah'], dtype='object')\n</code></pre>\n\n<p>If you need to replace by multiple characters, you could use a regex:</p>\n\n<pre><code>import re\nimport pandas as pd\n\ndf = pd.DataFrame(data=[], columns=['#house', '#var_c', '#var_v', '#othervar', '#pp', '#iv', '#iv%',\n       '#income', '#blah'])\n\ndf = df.rename(mapper=lambda c: re.sub('[#%]', '$', c), axis='columns')\nprint(df.columns)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Index(['$house', '$var_c', '$var_v', '$othervar', '$pp', '$iv', '$iv$',\n       '$income', '$blah'], dtype='object')\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 12005038, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0PG5BoM7fJI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-imFCovKKYc908LnVQftpiNNk5Ubg/mo/photo.jpg?sz=128", "display_name": "Fam", "link": "https://stackoverflow.com/users/12005038/fam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 2, "accepted_answer_id": 58107101, "answer_count": 1, "score": 1, "last_activity_date": 1569455914, "creation_date": 1569448335, "question_id": 58107009, "link": "https://stackoverflow.com/questions/58107009/replace-some-characters-on-the-names-of-variables-in-python", "title": "replace some characters on the names of variables in python", "body": "<p>I would like to know why I cannot replace a character in the names of my variables? For example,</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df = pd.read_csv('mydf.csv')\ndf.columns\nIndex(['#house', '#var_c', '#var_v', '#othervar', '#pp', '#iv', '#iv%',\n       '#income', '#blah'],\n      dtype='object') \n</code></pre>\n\n<p>I would like to replace the '#' and '%' by ''. In other words, I would like to drop these characters. I tryied somthing like this</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df.columns.replace('#', '')\nAttributeError: 'Index' object has no attribute 'replace'\n</code></pre>\n\n<p>Why I can not do this? And how I can find the solution (replace both '#' and '%' by '')?</p>\n"}, {"tags": ["python", "arduino", "raspberry-pi", "serial-port"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12121645, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BvqCfinTe_I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf68G9Op6RCLK_zZnJMZutVS7tAMw/photo.jpg?sz=128", "display_name": "DanMikeF", "link": "https://stackoverflow.com/users/12121645/danmikef"}, "edited": false, "score": 0, "creation_date": 1569451683, "post_id": 58107139, "comment_id": 102605426, "body": "I implemented the try... except block without the sleep (sleep kept giving errors) and it stopped giving me errors altogether... problem is nothing is happening still. So we beat the errors but still nothing is moving."}, {"owner": {"reputation": 3919, "user_id": 9794932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c604d07b333e9e546b495273a179cd53?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bricheno", "link": "https://stackoverflow.com/users/9794932/rob-bricheno"}, "reply_to_user": {"reputation": 1, "user_id": 12121645, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BvqCfinTe_I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf68G9Op6RCLK_zZnJMZutVS7tAMw/photo.jpg?sz=128", "display_name": "DanMikeF", "link": "https://stackoverflow.com/users/12121645/danmikef"}, "edited": false, "score": 0, "creation_date": 1569487050, "post_id": 58107139, "comment_id": 102615173, "body": "You don&#39;t quite explicitly say what&#39;s on the other side of the serial, is it an Arduino? If so, you could try reducing the serial speed at both ends to see if that helps. And of course double check that you are using the same settings on one side of the serial connection as the other, and that your Arduino is actually sending stuff. Can you try running a serial terminal on the Pi to confirm you can communicate with the Arduino using your chosen settings?"}], "tags": [], "owner": {"reputation": 3919, "user_id": 9794932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c604d07b333e9e546b495273a179cd53?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bricheno", "link": "https://stackoverflow.com/users/9794932/rob-bricheno"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449127, "creation_date": 1569449127, "answer_id": 58107139, "question_id": 58106931, "link": "https://stackoverflow.com/questions/58106931/raspi-serialexception-device-reports-readiness-to-read-but-returned-no-data-fo/58107139#58107139", "title": "raspi SerialException: device reports readiness to read but returned no data. For automated RC car", "body": "<p>It sounds like maybe whatever should be providing data via serial isn't providing it frequently enough for your program. I'd be tempted to just catch this error and try again (perhaps waiting a little first). So instead of </p>\n\n<pre><code>try:\n    while 1:\n        # read the serial port\n        val = ser.readline().decode('utf=8')\n        print val\n</code></pre>\n\n<p>do</p>\n\n<pre><code>from time import sleep\n...\ntry:\n    while 1:\n        # read the serial port\n        try:\n            val = ser.readline().decode('utf=8')\n            print val\n        except SerialException:\n            sleep(0.01)  # Maybe don't do this, or mess around with the interval\n            continue\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12121645, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BvqCfinTe_I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf68G9Op6RCLK_zZnJMZutVS7tAMw/photo.jpg?sz=128", "display_name": "DanMikeF", "link": "https://stackoverflow.com/users/12121645/danmikef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569449127, "creation_date": 1569447847, "question_id": 58106931, "link": "https://stackoverflow.com/questions/58106931/raspi-serialexception-device-reports-readiness-to-read-but-returned-no-data-fo", "title": "raspi SerialException: device reports readiness to read but returned no data. For automated RC car", "body": "<p>I've been following \"Beginning Robotics with Raspberry Pi and Arduino\" book and have run into a problem with the code. I am pretty new to programming and am using this book to familiarize myself with the Pi and Arduino and Python as well. The book is somewhat vague and doesn't offer remedies for problems.</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/home/Danberry/Roject/pi_roamer_01.py\", line 80, in &lt;module&gt;\n    val = ser.readline().decode('utf-8')\n  File \"/home/Danberry/.local/lib/python2.7/site-packages/serial/serialposix.py\", line 501, in read\n    'device reports readiness to read but returned no data '\nSerialException: device reports readiness to read but returned no data (device disconnected or multiple access on port?)\n</code></pre>\n\n<p>I have confirmed that everything is hooked up properly and works individually. The problem is now getting the raspberry pi to read it.</p>\n\n<pre><code>import serial\nimport time\nimport random\n\nfrom Adafruit_MotorHAT import Adafruit_MotorHAT as amhat\nfrom Adafruit_MotorHAT import Adafruit_DCMotor as adamo\n\n# create motor objects\nmotHAT = amhat(addr=0x60)\nmot1 = motHAT.getMotor(1)\nmot2 = motHAT.getMotor(2)\nmot3 = motHAT.getMotor(3)\nmot4 = motHAT.getMotor(4)\n\n# open serial port\nser = serial.Serial('/dev/ttyACM0', 115200)\n\n# create variables\n# sensors\ndistMid = 0.0\ndistLeft = 0.0\ndistRight = 0.0\n\n# motor multipliers\nm1Mult = 1.0\nm2Mult = 1.0\nm3Mult = 1.0\nm4Mult = 1.0\n\n# distance threshold\ndistThresh = 12.0\ndistCutOff = 30.0\n\n# speeds\nspeedDef = 200\nleftSpeed = speedDef\nrightSpeed = speedDef\nturnTime = 1.0\ndefTime = 0.1\ndriveTime = defTime\n\ndef driveMotors(leftChnl = speedDef, rightChnl = speedDef, duration = defTime):\n    # determine the speed of each motor by multiplying\n    # the channel by the motors multiplier\n    m1Speed = leftChnl * m1Mult\n    m2Speed = leftChnl * m2Mult\n    m3Speed = rightChnl * m3Mult\n    m4Speed = rightChnl * m4Mult\n\n    # set each motor speed. Since the speed can be a\n    # negative number, we take the absolute value\n    mot1.setSpeed(abs(int(m1Speed)))\n    mot2.setSpeed(abs(int(m2Speed)))\n    mot3.setSpeed(abs(int(m3Speed)))\n    mot4.setSpeed(abs(int(m4Speed)))\n\n    # run the motors. if the channel is negative, run\n    # reverse. else run forward\n    if(leftChnl &lt; 0):\n        mot1.run(amhat.BACKWARD)\n        mot2.run(amhat.BACKWARD)\n    else:\n        mot1.run(amhat.FORWARD)\n        mot2.run(amhat.FORWARD)\n\n    if (rightChnl &gt; 0):\n        mot3.run(amhat.BACKWARD)\n        mot4.run(amhat.BACKWARD)\n    else:\n        mot3.run(amhat.FORWARD)\n        mot4.run(amhat.FORWARD)\n\n    # wait for duration\n    time.sleep(duration)\n\ntry:\n    while 1:\n        # read the serial port\n        val = ser.readline().decode('utf=8')\n        print val\n\n        # parse the serial string\n        parsed = val.split(',')\n        parsed = [x.rstrip() for x in parsed]\n\n        # only assign new values if there are\n        # three or more available\n        if(len(parsed)&gt;2):\n            distMid = float(parsed[0] + str(0))\n            distLeft = float(parsed[1] + str(0))\n            distRight = float(parsed[2] + str(0))\n\n        # apply cutoff distance\n        if(distMid &gt; distCutOff):\n            distMid = distCutOff\n        if(distLeft &gt; distCutOff):\n            distLeft = distCutOff\n        if(distRight &gt; distCutOff):\n            distRight = distCutOff\n\n        # reset driveTime\n        driveTime = defTime\n\n        # if obstacle to left, steer right by increasing\n        # leftSpeed and running rightSpeed negative defSpeed\n        # if obstacle to right, steer to left by increasing\n        # rightSpeed and running leftSpeed negative\n        if(distLeft &lt;= distThresh):\n            leftSpeed = speedDef\n            rightSpeed = -speedDef\n        elif (distRight &lt;= distThresh):\n            leftSpeed = -speedDef\n            rightSpeed = speedDef\n        else:\n            leftSpeed = speedDef\n            rightSpeed = speedDef\n\n        # if obstacle dead ahead, stop then turn toward most\n        # open direction. if both directions open, turn random\n        if(distMid &lt;= distThresh):\n            # stop\n            leftSpeed = 0\n            rightSpeed = 0\n            driveMotors(leftSpeed, rightSpeed, 1)\n            time.sleep(1)\n            leftSpeed = -150\n            rightSpeed = -150\n            driveMotors(leftSpeed, rightSpeed, 1)\n            # determine preferred direction. if distLeft &gt;\n            # distRight, turn left. if distRight &gt; distLeft,\n            # turn right. if equal, turn random\n            dirPref = distRight - distLeft\n            if(dirPref == 0):\n                dirPref = random.random()\n            if(dirPref &lt; 0):\n                leftSpeed = -speedDef\n                rightSpeed = speedDef\n            elif(dirPref &gt; 0):\n                leftSpeed = speedDef\n                rightSpeed = -speedDef\n            driveTime = turnTime\n\n        # drive the motors\n        driveMotors(leftSpeed, rightSpeed, driveTime)\n        ser.flushInput()\n\nexcept KeyboardInterrupt:\n    mot1.run(amhat.RELEASE)\n    mot2.run(amhat.RELEASE)\n    mot3.run(amhat.RELEASE)\n    mot4.run(amhat.RELEASE)\n</code></pre>\n\n<p>Perhaps an indentation issue somewhere? I've been playing around with the code for a few hours and haven't really gotten anywhere. If any of you guys could help that would be amazing!</p>\n"}, {"tags": ["python", "function", "csv", "tensorflow"], "comments": [{"owner": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 1, "creation_date": 1569448123, "post_id": 58106929, "comment_id": 102604558, "body": "1) you should link the website you referenced so we can look at it too. 2) what do you not understand exactly? Have you tried printing &quot;features&quot; and &quot;labels&quot; in the <code>__call__</code> function to get an idea of what is happening?"}, {"owner": {"reputation": 41, "user_id": 12121629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lOeUk.png?s=128&g=1", "display_name": "TenseCode", "link": "https://stackoverflow.com/users/12121629/tensecode"}, "reply_to_user": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 0, "creation_date": 1569501288, "post_id": 58106929, "comment_id": 102622888, "body": "Thanks Ian, I have included the website as you mentioned. I printed the output of <code>__call__ </code>. Printing <code>features</code> gives an ordered dictionary containing Tensors which corresponds to all the features being considered (i.e. CATEGORICAL_FEATURES plus <code>NUMERIC_FEATURES</code>). While label is just a single Tensor."}, {"owner": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 0, "creation_date": 1569512035, "post_id": 58106929, "comment_id": 102629226, "body": "&gt; Printing features gives an ordered dictionary containing Tensors which corresponds to all the features being considered (i.e. CATEGORICAL_FEATURES plus NUMERIC_FEATURES). While label is just a single Tensor  Awesome. So what do you not understand exactly?"}, {"owner": {"reputation": 41, "user_id": 12121629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lOeUk.png?s=128&g=1", "display_name": "TenseCode", "link": "https://stackoverflow.com/users/12121629/tensecode"}, "reply_to_user": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 1, "creation_date": 1569513085, "post_id": 58106929, "comment_id": 102629743, "body": "I think I have found what I am looking for. My misunderstanding lies in what the <code>.map</code> function does. The <code>.map(f)</code> function is a method of the class <code>dataset</code>. It is designed to accept a function and return new data that has been effected by the function passed to it."}, {"owner": {"reputation": 15686, "user_id": 4317058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/793760f86b5f237ee07803f468ce7110?s=128&d=identicon&r=PG", "display_name": "Sergey Bushmanov", "link": "https://stackoverflow.com/users/4317058/sergey-bushmanov"}, "reply_to_user": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 0, "creation_date": 1573651459, "post_id": 58106929, "comment_id": 103950504, "body": "@IanQuah Could you explain how <code>features</code> and <code>labels</code> get defined in <code>__call__(self, features, labels)</code> as they are supposed to be passed as known arguments, as I understand (I am not very knowledgeable in OOP). As well, I it possible to rewrite this class as a function? I would really appreciate that."}, {"owner": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "reply_to_user": {"reputation": 15686, "user_id": 4317058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/793760f86b5f237ee07803f468ce7110?s=128&d=identicon&r=PG", "display_name": "Sergey Bushmanov", "link": "https://stackoverflow.com/users/4317058/sergey-bushmanov"}, "edited": false, "score": 0, "creation_date": 1573670644, "post_id": 58106929, "comment_id": 103961044, "body": "@SergeyBushmanov that&#39;s a completely separate question. I&#39;d say open a new thread"}, {"owner": {"reputation": 15686, "user_id": 4317058, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/793760f86b5f237ee07803f468ce7110?s=128&d=identicon&r=PG", "display_name": "Sergey Bushmanov", "link": "https://stackoverflow.com/users/4317058/sergey-bushmanov"}, "reply_to_user": {"reputation": 1334, "user_id": 3532564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0nSv2.jpg?s=128&g=1", "display_name": "Ian Quah", "link": "https://stackoverflow.com/users/3532564/ian-quah"}, "edited": false, "score": 0, "creation_date": 1573674061, "post_id": 58106929, "comment_id": 103962549, "body": "@IanQuah you may try your hand here <a href=\"https://stackoverflow.com/questions/58841401/tensorflow-2-0-packing-numerical-features-of-a-dataset-together-in-a-functional\" title=\"tensorflow 2 0 packing numerical features of a dataset together in a functional\">stackoverflow.com/questions/58841401/&hellip;</a>"}], "owner": {"reputation": 41, "user_id": 12121629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lOeUk.png?s=128&g=1", "display_name": "TenseCode", "link": "https://stackoverflow.com/users/12121629/tensecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1706, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1569500288, "creation_date": 1569447838, "last_edit_date": 1569500288, "question_id": 58106929, "link": "https://stackoverflow.com/questions/58106929/how-does-the-tensorflow-python-data-ops-dataset-ops-datasetv1adapter-work", "title": "How does the tensorflow.python.data.ops.dataset_ops.DatasetV1Adapter work?", "body": "<p>I am trying to wrap my head around ML and AI using TensorFlow. There is an example problem on the website which discusses the processing of .CSV data. The .CVS data is said to have been taken from the titanic and essentially contains categorical and numerical features that will be used to label a passenger as dead or alive.</p>\n\n<p>First of all, if anyone know or has any resources or references that discusses that example in more detail than is done on the <a href=\"https://www.tensorflow.org/beta/tutorials/load_data/csv\" rel=\"nofollow noreferrer\">TensorFlow website</a>, please could you kindly refer me to that?</p>\n\n<p>Secondly, to my more important question. There is a method which is used in the example to pack the individual numeric data into a single numeric key while maintaining the categorical column as is.</p>\n\n<p>The function used to do this is as bellow:</p>\n\n<pre><code>class PackNumericFeatures(object):\n    def __init__(self, names):\n        self.names = names\n\n    def __call__(self, features, labels):\n        numeric_freatures = [features.pop(name) for name in self.names]\n        numeric_features = [tf.cast(feat, tf.float32) for feat in numeric_freatures]\n        numeric_features = tf.stack(numeric_features, axis=-1)\n        features['numeric'] = numeric_features\n\n        return features, labels\n</code></pre>\n\n<p>The above function is called like this:</p>\n\n<pre><code>\nNUMERIC_FEATURES = ['age','n_siblings_spouses','parch', 'fare']\n\npacked_train_data = raw_train_data.map(PackNumericFeatures(NUMERIC_FEATURES))\n\n</code></pre>\n\n<p>The output <code>packed_train_data</code> looks something like this:</p>\n\n<pre><code>sex                 : [b'male' b'female' b'female' b'female' b'male']\nclass               : [b'Third' b'First' b'Third' b'First' b'Third']\ndeck                : [b'unknown' b'C' b'unknown' b'C' b'unknown']\nembark_town         : [b'Southampton' b'Cherbourg' b'Southampton' b'Southampton' b'Queenstown']\nalone               : [b'n' b'n' b'y' b'n' b'y']\nnumeric             : [[22.      1.      0.      7.25  ]\n [38.      1.      0.     71.2833]\n [26.      0.      0.      7.925 ]\n [35.      1.      0.     53.1   ]\n [28.      0.      0.      8.4583]]\n\n</code></pre>\n\n<p>The above output is produced by passing a single batch of data (i.e. <code>packed_train_data</code>) to the function:</p>\n\n<pre><code>\ndef show_batch(dataset):\n    for batch, head in dataset.take(1):\n        for labels, value in batch.items():\n            print(\"{:20s}: {}\".format(labels, value.numpy()))\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>show_batch(packed_train_data)\n\n</code></pre>\n\n<p>What I do not understand is how the <code>map</code> function is working to generate that output. More generally I don't get how the call containing the <code>map</code> function is interacting with the <code>PackNumericFeatures(object)</code> class. </p>\n\n<p>I know this problem is specific but any help would be appreciated. Cheers.</p>\n"}, {"tags": ["python", "import"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 9934348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJrfW.jpg?s=128&g=1", "display_name": "Antonio Ram&#237;rez", "link": "https://stackoverflow.com/users/9934348/antonio-ram%c3%adrez"}, "is_accepted": true, "score": 0, "last_activity_date": 1571419216, "creation_date": 1571419216, "answer_id": 58455516, "question_id": 58106889, "link": "https://stackoverflow.com/questions/58106889/import-or-install-ndlml-in-python-for-fgplvm/58455516#58455516", "title": "import or install ndlml in python for fgplvm", "body": "<p>I sent a email to the owner of The project, and he told me that</p>\n\n<blockquote>\n  <p>That's an older version of software that I think is no longer operational. You should try GPy for running GP-LVM.\u00a0</p>\n</blockquote>\n\n<p><a href=\"https://github.com/SheffieldML/GPy\" rel=\"nofollow noreferrer\">https://github.com/SheffieldML/GPy</a></p>\n"}], "owner": {"reputation": 75, "user_id": 9934348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MJrfW.jpg?s=128&g=1", "display_name": "Antonio Ram&#237;rez", "link": "https://stackoverflow.com/users/9934348/antonio-ram%c3%adrez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58455516, "answer_count": 1, "score": 0, "last_activity_date": 1571419216, "creation_date": 1569447564, "question_id": 58106889, "link": "https://stackoverflow.com/questions/58106889/import-or-install-ndlml-in-python-for-fgplvm", "title": "import or install ndlml in python for fgplvm", "body": "<p>I'm trying to run an <a href=\"https://github.com/lawrennd/fgplvm/blob/master/python/demGplvmOil1.py\" rel=\"nofollow noreferrer\">example</a> of <a href=\"https://github.com/lawrennd/fgplvm\" rel=\"nofollow noreferrer\">FITC aproximation</a>, but when I try to <strong>import ndlml</strong>, python tells:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>ModuleNotFoundError: No module named 'ndlml'\n</code></pre>\n\n<p>I don't know if it is a package , I also tried </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ sudo pip install ndlml\nERROR: Could not find a version that satisfies the requirement ndlml (from versions: none)\nERROR: No matching distribution found for ndlml\n</code></pre>\n\n<p>There is not a file in the <a href=\"https://github.com/lawrennd/fgplvm\" rel=\"nofollow noreferrer\">repository</a> named ndml</p>\n"}, {"tags": ["python", "pyqt", "pyqt5", "qthread", "qpushbutton"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9610061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/186rB.png?s=128&g=1", "display_name": "McRae", "link": "https://stackoverflow.com/users/9610061/mcrae"}, "edited": false, "score": 1, "creation_date": 1569469956, "post_id": 58108884, "comment_id": 102608635, "body": "Thanks for taking the time to respond. I&#39;ve used some of your ideas in your response and tried to see if I can work it into my program. You have, however, subclassed QThread; how would you go about solving this without subclassing it? Do large scale projects have separate Worker(QObjects) for each long-running task or would a single worker have as many long-running tasks under separate functions?"}, {"owner": {"reputation": 1, "user_id": 9691351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ec2da6f850b3774df807bd302e738d?s=128&d=identicon&r=PG&f=1", "display_name": "Shenjie.Wu", "link": "https://stackoverflow.com/users/9691351/shenjie-wu"}, "reply_to_user": {"reputation": 57, "user_id": 9610061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/186rB.png?s=128&g=1", "display_name": "McRae", "link": "https://stackoverflow.com/users/9610061/mcrae"}, "edited": false, "score": 0, "creation_date": 1569486529, "post_id": 58108884, "comment_id": 102614901, "body": "Hi McRae, maybe I&#39;m not completely understood your problem. I think single worker or multiple workers depends on your business requirements. You can put related tasks or functions in one worker, and multiple workers handle tasks with different types or categories."}], "tags": [], "owner": {"reputation": 1, "user_id": 9691351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ec2da6f850b3774df807bd302e738d?s=128&d=identicon&r=PG&f=1", "display_name": "Shenjie.Wu", "link": "https://stackoverflow.com/users/9691351/shenjie-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1569465884, "creation_date": 1569465884, "answer_id": 58108884, "question_id": 58106846, "link": "https://stackoverflow.com/questions/58106846/how-to-structure-large-pyqt5-gui-without-subclassing-qthread-and-using-qpushbutt/58108884#58108884", "title": "How to structure large pyqt5 GUI without subclassing QThread and using QPushButtons to do long-running tasks", "body": "<pre><code>from PyQt5 import QtCore\n\nclass AsyncTask(QtCore.QThread):\n    taskDone = QtCore.pyqtSignal(dict)\n    def __init__(self, *, task, callback=None, parent = None):\n        super().__init__(parent)\n        self.task = task\n        if callback != None:\n            self.taskDone.connect(callback)\n        if callback == None:\n            callback = self.callback\n        self.start()\n\n    def run(self):\n        try:\n            result = self.task()\n            print(result)\n            self.taskDone.emit(result)\n        except Exception as ex:\n            print(ex)\n\n    def callback(self):\n        print('callback')\n</code></pre>\n\n<p>Please try code above, call like this:\n    AsyncTask(task=yourTaskFunction, callback=yourCallbackFunction)</p>\n"}], "owner": {"reputation": 57, "user_id": 9610061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/186rB.png?s=128&g=1", "display_name": "McRae", "link": "https://stackoverflow.com/users/9610061/mcrae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569465884, "creation_date": 1569447362, "last_edit_date": 1569447548, "question_id": 58106846, "link": "https://stackoverflow.com/questions/58106846/how-to-structure-large-pyqt5-gui-without-subclassing-qthread-and-using-qpushbutt", "title": "How to structure large pyqt5 GUI without subclassing QThread and using QPushButtons to do long-running tasks", "body": "<p>I'm looking at creating a program with a PyQt5 GUI. The program will start with a UI with numerous buttons. These buttons will be used to open other programs/completed long running tasks. I know I need to use QThread, but I am unsure how to structure the programs so that it scales properly. </p>\n\n<p>I've been at this for ages and have read numerous posts/tutorials. Most lean down the subclassing route. In the past, I have managed to create a working program subclassing QThread, but I have since read that this metholodogy is not preferred.</p>\n\n<p>I have a feeling I should be creating a generic worker and passing in a function with *args and **kwargs, but that is not in my skillset yet.</p>\n\n<p>I originally created a thread for each button during the GUI init, but that seemed like it was going to get out of hand quickly.</p>\n\n<p>I am currently at the stage of creating a thread under the slot connected to the button.clicked signal. I am not sure if I then have to have a worker for each button or if I can/should make a generic worker and pass in a function. Note: I have tried to do this but have not been able to do it.</p>\n\n<pre><code>#Import standard modules\nimport sys\n\n#Import third-party modles\nfrom PyQt5.QtCore import QObject, QThread, pyqtSignal, pyqtSlot\nfrom PyQt5.QtWidgets import QMainWindow, QApplication, QPushButton, QVBoxLayout, QWidget\n\nclass Worker(QObject):\n\n    #Custom signals?? or built-in QThread signals?\n    started = pyqtSignal()    \n    finished = pyqtSignal()\n\n    def __init__(self): \n        super().__init__()\n        self.started.emit()\n\n    @pyqtSlot()\n    def do_something(self):\n            for _ in range(3):\n                print('Threading...')\n                QThread.sleep(1)\n            self.finished.emit()\n\nclass Window(QMainWindow):\n\n    def __init__(self):\n        super().__init__()\n        self.initUi()\n\n    def initUi(self):\n        #Create GUI\n        self.centralWidget  = QWidget()\n        self.setCentralWidget(self.centralWidget )  \n        self.vertical_layout = QVBoxLayout(self.centralWidget)\n        self.setWindowTitle('QThread Test')\n        self.setGeometry(300, 300, 300, 50)\n        self.button1=QPushButton(\"Task 1\", self, clicked=self._task1_clicked)\n        self.button2=QPushButton(\"Task 2\", self, clicked=self._task2_clicked)\n        self.vertical_layout.addWidget(self.button1)\n        self.vertical_layout.addWidget(self.button2)\n        self.vertical_layout.addStretch()\n\n    def _task1_clicked(self):\n        print('task1 clicked')\n\n        #Create the worker\n        self.my_worker = Worker()          \n\n        #Create thread; needs to be done before connecting signals/slots\n        self.task1_thread = QThread()\n\n        #Move the worker to the thread\n        self.my_worker.moveToThread(self.task1_thread)        \n\n        #Connect worker and thread signals to slots\n        self.task1_thread.started.connect(self._thread_started)\n        self.task1_thread.started.connect(self.my_worker.do_something)\n        self.my_worker.finished.connect(self._thread_finished) \n\n        #Start thread\n        self.task1_thread.start() \n\n    def _task2_clicked(self):\n        print('task2 clicked')\n\n    def _thread_started(self):\n        print('thread started')\n\n    def _thread_finished(self):\n        print('thread finished')\n        self.my_worker.isRunning = False\n        self.task1_thread.quit()\n        self.task1_thread.wait()\n        print('The thread is running: ' + str(self.task1_thread.isRunning()))\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    form = Window()\n    form.show()\n    app.exec_()\n</code></pre>\n\n<p>The above seems to work, but I feel like I have stumbled on to it and it is not the correct way of doing this. I do not want this to be my 'go-to' method if it is completely wrong. I'd like to be able to generate more complicated (more buttons doing things) programs compared to a one button/one task program.</p>\n\n<p>In addition, I can't seem to get the QThread started and finished signals to fire without basically making them custom built signals. This is one reason I think I am going about this wrong.</p>\n"}, {"tags": ["python", "python-3.x", "arbitrary-precision"], "comments": [{"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 1, "creation_date": 1569447479, "post_id": 58106811, "comment_id": 102604366, "body": "Have you tried setting your own precision?  The decimal package does support doing that."}, {"owner": {"reputation": 291, "user_id": 4655990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqkRF.png?s=128&g=1", "display_name": "Daniel H.", "link": "https://stackoverflow.com/users/4655990/daniel-h"}, "reply_to_user": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1569447961, "post_id": 58106811, "comment_id": 102604521, "body": "@JohnSzakmeister that sounds like exactly what I need. I&#39;ve looked through the library and haven&#39;t been able to find how to do it though, any chance you know how to?"}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1569448666, "post_id": 58106811, "comment_id": 102604698, "body": "See the docs for the <a href=\"https://docs.python.org/3/library/decimal.html\" rel=\"nofollow noreferrer\">decimal</a> package.  Short form: <code>import decimal ; decimal.getcontext().prec = 128</code> or whatever number you want."}], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 4655990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqkRF.png?s=128&g=1", "display_name": "Daniel H.", "link": "https://stackoverflow.com/users/4655990/daniel-h"}, "edited": false, "score": 1, "creation_date": 1569517671, "post_id": 58106900, "comment_id": 102631931, "body": "this ended up working, thank you"}], "tags": [], "owner": {"reputation": 157, "user_id": 5973959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f7wXK.jpg?s=128&g=1", "display_name": "Roman Anderson", "link": "https://stackoverflow.com/users/5973959/roman-anderson"}, "is_accepted": true, "score": 2, "last_activity_date": 1569447650, "creation_date": 1569447650, "answer_id": 58106900, "question_id": 58106811, "link": "https://stackoverflow.com/questions/58106811/ultra-high-precision-decimal-numbers/58106900#58106900", "title": "Ultra-high-precision decimal numbers", "body": "<p>See at <a href=\"http://mpmath.org/\" rel=\"nofollow noreferrer\">mpmath</a> project. </p>\n\n<p>Main page contains example of pi number calc using mpmath lib with depth of 50 digits. At least you can try to set it greater and see what will happens.</p>\n"}], "owner": {"reputation": 291, "user_id": 4655990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqkRF.png?s=128&g=1", "display_name": "Daniel H.", "link": "https://stackoverflow.com/users/4655990/daniel-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "closed_date": 1569449453, "accepted_answer_id": 58106900, "answer_count": 1, "score": 1, "last_activity_date": 1569447650, "creation_date": 1569447224, "question_id": 58106811, "link": "https://stackoverflow.com/questions/58106811/ultra-high-precision-decimal-numbers", "closed_reason": "Not suitable for this site", "title": "Ultra-high-precision decimal numbers", "body": "<p>I'm working on a program that finds fractional approximations of pi. As of right now, the best approximation is 245850922/78256779, which yields 64 decimal spots using the Decimal object built into Python 3. I am looking for a method to store decimal values to arbitrary positions, but I have not found any working methods for Python 3. Any help is appreciated. </p>\n"}, {"tags": ["python", "discord"], "comments": [{"owner": {"reputation": 1631, "user_id": 10730242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YTo3N.jpg?s=128&g=1", "display_name": "manveti", "link": "https://stackoverflow.com/users/10730242/manveti"}, "edited": false, "score": 2, "creation_date": 1569450131, "post_id": 58106786, "comment_id": 102605071, "body": "Is the color in the question red? If so, the color is probably a 3-byte number, with the high byte representing red, the middle representing green, and the low representing blue (each on a 0-255 scale)."}], "answers": [{"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": true, "score": 0, "last_activity_date": 1569454823, "creation_date": 1569454823, "answer_id": 58107804, "question_id": 58106786, "link": "https://stackoverflow.com/questions/58106786/colors-values-for-discord-python/58107804#58107804", "title": "colors values for discord - python", "body": "<p>See the class methods of the <a href=\"https://discordpy.readthedocs.io/en/latest/api.html#discord.Colour\" rel=\"nofollow noreferrer\"><code>discord.Colour</code></a> class.  Those will generate <code>Colour</code> instances with a <code>value</code> attribute that is the number you're looking for.</p>\n"}], "owner": {"reputation": 15, "user_id": 12031761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122ff6c512d6f7382269a569097b724e?s=128&d=identicon&r=PG&f=1", "display_name": "notme17", "link": "https://stackoverflow.com/users/12031761/notme17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1569485556, "accepted_answer_id": 58107804, "answer_count": 1, "score": 0, "last_activity_date": 1569454823, "creation_date": 1569447048, "question_id": 58106786, "link": "https://stackoverflow.com/questions/58106786/colors-values-for-discord-python", "closed_reason": "Needs details or clarity", "title": "colors values for discord - python", "body": "<p>Hi everyone where i can find the value for each color for Discord embed?</p>\n\n<p><code>color=16711680</code></p>\n\n<p>Is there a sort of list where I can find all the values like 16711680?</p>\n\n<p>Thanks to everyone in advance  </p>\n"}, {"tags": ["python", "python-3.x", "machine-learning", "h2o"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1569447846, "post_id": 58106762, "comment_id": 102604478, "body": "do you see output from <code>df.head()</code>? it seems like the most likely problem here is that you&#39;re not reading in the csv correctly"}, {"owner": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "edited": false, "score": 0, "creation_date": 1569452737, "post_id": 58106762, "comment_id": 102605619, "body": "<i>Where exactly</i> does the error pop up? What&#39;s the point of including a whole bunch of <code>.shape</code> and <code>.head</code> commands here without showing a single result of them?"}, {"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1569453542, "post_id": 58106762, "comment_id": 102605755, "body": "Yes, I definitely see the results from df.head(10).  I kn=ind of feel like the error comes from here: train = h2o.H2OFrame(df).  I got that from the h2o documentation.  That should be fine, I think."}, {"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1569453654, "post_id": 58106762, "comment_id": 102605775, "body": "Well, the .shape and the .head are strictly for my benefit.  I will remove them eventually.  It&#39;s just to QA my work.  It seems like the problem stems from here: train = h2o.H2OFrame(df) However, when I review that, it seems ok.  Maybe I am missing something on that line of code.  Not sure."}, {"owner": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "edited": false, "score": 0, "creation_date": 1569483050, "post_id": 58106762, "comment_id": 102613214, "body": "&quot;It seems&quot;? Please post the full error trace. And stuff in the code for your benefit are expected to be removed here, where code is supposed to be <b>minimal</b>, among other things (edited)."}, {"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1569507626, "post_id": 58106762, "comment_id": 102626689, "body": "I shared everything I have.  If I click Tool &gt; Analyze Stack Trace...this is what I see: This H2OFrame is empty."}], "owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1598695268, "creation_date": 1569446902, "last_edit_date": 1569483135, "question_id": 58106762, "link": "https://stackoverflow.com/questions/58106762/h2o-frame-is-empty", "title": "H2O Frame is Empty", "body": "<p>I'm trying to run some sample code that I found from the link below.</p>\n\n<p><a href=\"http://docs.h2o.ai/h2o/latest-stable/h2o-docs/automl.html#automl-interface\" rel=\"nofollow noreferrer\">http://docs.h2o.ai/h2o/latest-stable/h2o-docs/automl.html#automl-interface</a></p>\n\n<p>I modified the code a bit.  My actual code is below.</p>\n\n<pre><code>import h2o\nfrom h2o.automl import H2OAutoML\nimport pandas as pd\nfrom sklearn.model_selection import train_test_split\n\nh2o.init()\n\ndf = pd.read_csv('C:\\\\my_path\\\\taxi.csv', header=0, encoding = 'unicode_escape')\npd.set_option('display.max_columns', None)\ndf.head(10)\n\ndf = df[:100000]\n\ny = df.fare_amount\n\n# create training and testing vars\nX_train, X_test, y_train, y_test = train_test_split(df, y, test_size=0.2)\n\n# Identify predictors and response\ny = df['fare_amount']\ndel df['fare_amount']\nx = df\n\n# Run AutoML for 20 base models (limited to 1 hour max runtime by default)\ntrain = h2o.H2OFrame(df)\n\naml = H2OAutoML(max_models=20, seed=1)\naml.train(x=x, y=y, training_frame=train)\n\n# View the AutoML Leaderboard\nlb = aml.leaderboard\nlb.head(rows=lb.nrows)\n</code></pre>\n\n<p>I set 'fare_amount' as my target variable.  When I run the code all I get is this message: 'This H2OFrame is empty.'  I may be missing something pretty basic, but I can't see what it is.  Any thoughts, anyone?</p>\n"}, {"tags": ["python", "inference", "bayesian-networks"], "answers": [{"comments": [{"owner": {"reputation": 3437, "user_id": 4241624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/53VpD.png?s=128&g=1", "display_name": "Nelles", "link": "https://stackoverflow.com/users/4241624/nelles"}, "edited": false, "score": 0, "creation_date": 1588034440, "post_id": 61469839, "comment_id": 108739334, "body": "Is this an answer?"}, {"owner": {"reputation": 76, "user_id": 7104128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7IX_hCgLrZc/AAAAAAAAAAI/AAAAAAAAAIE/GUMvPgX8Ogw/photo.jpg?sz=128", "display_name": "Pierre-Henri Wuillemin", "link": "https://stackoverflow.com/users/7104128/pierre-henri-wuillemin"}, "reply_to_user": {"reputation": 3437, "user_id": 4241624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/53VpD.png?s=128&g=1", "display_name": "Nelles", "link": "https://stackoverflow.com/users/4241624/nelles"}, "edited": false, "score": 0, "creation_date": 1588101645, "post_id": 61469839, "comment_id": 108770115, "body": "yes, if you create the folder &#39;out&#39; where the file &#39;WaterSprinkler.bif&#39; is saved, it should work."}], "tags": [], "owner": {"reputation": 76, "user_id": 7104128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7IX_hCgLrZc/AAAAAAAAAAI/AAAAAAAAAIE/GUMvPgX8Ogw/photo.jpg?sz=128", "display_name": "Pierre-Henri Wuillemin", "link": "https://stackoverflow.com/users/7104128/pierre-henri-wuillemin"}, "is_accepted": false, "score": 0, "last_activity_date": 1588028155, "creation_date": 1588028155, "answer_id": 61469839, "question_id": 58106758, "link": "https://stackoverflow.com/questions/58106758/ioerror-pyagrum-i-o-error-stream-states-flags-are-not-all-unset/61469839#61469839", "title": "IOError: [pyAgrum] I/O Error: Stream states flags are not all unset", "body": "<p>Sorry to answer only now.</p>\n\n<p>This example assumes that there is a folder 'out' in which the bn will be stored. Could you try to create it ?</p>\n"}], "owner": {"reputation": 1, "user_id": 12121657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/684cfe3f133dbf1070aa88fcb591db25?s=128&d=identicon&r=PG&f=1", "display_name": "user12121657", "link": "https://stackoverflow.com/users/12121657/user12121657"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1588028155, "creation_date": 1569446890, "question_id": 58106758, "link": "https://stackoverflow.com/questions/58106758/ioerror-pyagrum-i-o-error-stream-states-flags-are-not-all-unset", "title": "IOError: [pyAgrum] I/O Error: Stream states flags are not all unset", "body": "<p>I ran the following code in jupyter notebook. but there is this error: IOError: [pyAgrum] I/O Error: Stream states flags are not all unset.  is there a solution to solve it?</p>\n\n<p><code>gum.saveBN(bn,os.path.join(\"out\",\"WaterSprinkler.bif\"))</code></p>\n\n<pre><code>with open(os.path.join(\"out\",\"WaterSprinkler.bif\"),\"r\") as out:\nprint(out.read())\n</code></pre>\n"}, {"tags": ["python", "json", "jupyter"], "comments": [{"owner": {"reputation": 6232, "user_id": 509977, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DxOt0.jpg?s=128&g=1", "display_name": "Pitto", "link": "https://stackoverflow.com/users/509977/pitto"}, "edited": false, "score": 0, "creation_date": 1569446973, "post_id": 58106746, "comment_id": 102604210, "body": "<a href=\"https://stackoverflow.com/questions/38819322/how-to-recover-deleted-ipython-notebooks/44044643#44044643\" title=\"how to recover deleted ipython notebooks\">stackoverflow.com/questions/38819322/&hellip;</a>"}, {"owner": {"reputation": 109, "user_id": 7258619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gpTHn.jpg?s=128&g=1", "display_name": "H. Khan", "link": "https://stackoverflow.com/users/7258619/h-khan"}, "edited": false, "score": 1, "creation_date": 1569447069, "post_id": 58106746, "comment_id": 102604238, "body": "You can try opening in a text editor, like markdown or notepad and try to fix whatever mistake may still be there. Also, you may be able to open this with PyCharm, which offers support for .ipynb files (and may allow you to open this file even though jupyter won&#39;t)."}, {"owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "edited": false, "score": 0, "creation_date": 1569447266, "post_id": 58106746, "comment_id": 102604302, "body": "thanks for your answer. Unfortunately, my file was not deleted but altered. I took a look on cache and I only found the damaged file... I guess that is because I tried to open it after I altered it..."}, {"owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "edited": false, "score": 0, "creation_date": 1569447311, "post_id": 58106746, "comment_id": 102604317, "body": "I&#39;ll try the second suggestion! Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "edited": false, "score": 0, "creation_date": 1569448090, "post_id": 58106795, "comment_id": 102604544, "body": "I tried that one, but the checkpoint is just too old. I tried to open the file with pycharm and it worked. I still have to figure out how to read the code, as I&#39;m not used to pycharm... but it is certainly more comprehensible now!"}, {"owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "edited": false, "score": 1, "creation_date": 1569479782, "post_id": 58106795, "comment_id": 102611616, "body": "Using Pycharm worked for me. I wasn&#39;t able to actually fix the file, so I had to copy each of the original file&#39;s cells to a functional file that I created in python and then opened with Pycharm... pretty sure is not an optimal solution, but I could save all my work, so it was an effective solution!"}], "tags": [], "owner": {"reputation": 6232, "user_id": 509977, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DxOt0.jpg?s=128&g=1", "display_name": "Pitto", "link": "https://stackoverflow.com/users/509977/pitto"}, "is_accepted": false, "score": 3, "last_activity_date": 1569447126, "creation_date": 1569447126, "answer_id": 58106795, "question_id": 58106746, "link": "https://stackoverflow.com/questions/58106746/how-do-i-fix-a-ipynb-file/58106795#58106795", "title": "How do I fix a .ipynb file?", "body": "<p>A possible way to recover corrupted Jupyter notebook files, whether it contains text or not (size = 0KB), is to go to the project folder and display the hidden files.<br>\nOnce the hidden files are displayed if you are lucky you will see a folder named '.ipynb_checkpoints'.<br>\nOpen this folder and you should find your notebook.</p>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "is_accepted": true, "score": 0, "last_activity_date": 1570656122, "creation_date": 1570656122, "answer_id": 58312492, "question_id": 58106746, "link": "https://stackoverflow.com/questions/58106746/how-do-i-fix-a-ipynb-file/58312492#58312492", "title": "How do I fix a .ipynb file?", "body": "<p>Using Pycharm worked for me. I wasn't able to actually fix the file, so I had to copy one by one each of the original file's cells to a functional file that I created in python and then opened with Pycharm... After each cell copied, I opened the file with Jupyter to check and fix any problems (going back to Pycharm). Pretty sure is not an optimal solution, but I could save all of my work, so it was an effective solution that can be used by begginers!</p>\n"}, {"tags": [], "owner": {"reputation": 1694, "user_id": 9047701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15e0da239c4c1c4ae994e919c85bd446?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas G.", "link": "https://stackoverflow.com/users/9047701/thomas-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1588235276, "creation_date": 1588235276, "answer_id": 61519067, "question_id": 58106746, "link": "https://stackoverflow.com/questions/58106746/how-do-i-fix-a-ipynb-file/61519067#61519067", "title": "How do I fix a .ipynb file?", "body": "<p>The <code>.ipynb</code> file is a JSON file you can try to correct its syntax in online JSON editors. There are many if you look on google.  (for example: <a href=\"https://jsoneditoronline.org/#\" rel=\"nofollow noreferrer\">https://jsoneditoronline.org/#</a>)</p>\n\n<p>Once you have a working JSON file run this text on another notebook to print the cells code.</p>\n\n<pre><code>import json\n\nwith open('./1-day.txt', 'r') as f:\n    data = json.load(f)\n\nfor cell in data['cells']:\n    if 'source' in cell:\n        [print(i, end='') for i in cell['source'] ]\n        print('\\n#')\n\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 12035877, "user_type": "registered", "profile_image": "https://graph.facebook.com/2362150440722746/picture?type=large", "display_name": "Jos&#233; Chamorro", "link": "https://stackoverflow.com/users/12035877/jos%c3%a9-chamorro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1552, "favorite_count": 0, "accepted_answer_id": 58312492, "answer_count": 3, "score": 2, "last_activity_date": 1588235276, "creation_date": 1569446830, "last_edit_date": 1569446889, "question_id": 58106746, "link": "https://stackoverflow.com/questions/58106746/how-do-i-fix-a-ipynb-file", "title": "How do I fix a .ipynb file?", "body": "<p>I use Jupyter Notebook with Python. I'm not a programmer but I've been learning Python for about a year now.</p>\n\n<p>I was working with some text file that I saved on the same folder of my notebooks, and I accidentally opened a .ipynb file and altered it.</p>\n\n<p>As far as I can tell, I just pasted a text string. I know what I pasted, and I erased it, but now jupyter notebook can't recognize the file. Message is: </p>\n\n<pre><code>Unreadable Notebook: C:\\Users\\untal\\Python\\notas analyser.ipynb\nNotJSONError('Notebook does not appear to be JSON: \\'\\\\ufeff{\\\\n \"cells\": [\\\\n {\\\\n \"cell_typ...',)\n</code></pre>\n\n<p>I'm not even close to be able to understand the text file to look for the problem and fix it... I don't even know if that's an option.</p>\n\n<p>Is there any tool or method I can use to recover my notebook?</p>\n"}, {"tags": ["python", "automation"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11575597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9a8ec2746d2846e2fa9388bc3bb9661?s=128&d=identicon&r=PG&f=1", "display_name": "Noct03", "link": "https://stackoverflow.com/users/11575597/noct03"}, "edited": false, "score": 0, "creation_date": 1569454949, "post_id": 58106985, "comment_id": 102606009, "body": "It worked! Now I feel like an idiot for not seeing it. Thank you very much!"}], "tags": [], "owner": {"reputation": 3919, "user_id": 9794932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c604d07b333e9e546b495273a179cd53?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Bricheno", "link": "https://stackoverflow.com/users/9794932/rob-bricheno"}, "is_accepted": true, "score": 0, "last_activity_date": 1569448158, "creation_date": 1569448158, "answer_id": 58106985, "question_id": 58106706, "link": "https://stackoverflow.com/questions/58106706/nested-dictionary-with-netmiko/58106985#58106985", "title": "Nested dictionary with Netmiko", "body": "<p>The loop is as follows:</p>\n\n<pre><code>for key, values in site1_switches.items():\n  device_type = values.get('device_type', {})\n  ip_address = values.get('ip', {})\n  username = values.get('username', {})\n  password = values.get('password', {})\n</code></pre>\n\n<p>Everything after that is not in the loop because you un-indented it.</p>\n\n<p>So from the point that the loop ends, everything refers to the last item in <code>site1_switches</code> (because that's the item on which we finished the loop).</p>\n\n<p>Try simply indenting everything below that, </p>\n\n<p>(i.e.</p>\n\n<pre><code>for key, values in site1_switches.items():\n  device_type = values.get('device_type', {})\n  ip_address = values.get('ip', {})\n  username = values.get('username', {})\n  password = values.get('password', {})\n\n\n  net_connect = ConnectHandler(device_type=device_type, host=ip_address, username=username, password=password)\n</code></pre>\n\n<p>etc.)</p>\n\n<p>and see what happens!</p>\n"}], "owner": {"reputation": 27, "user_id": 11575597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9a8ec2746d2846e2fa9388bc3bb9661?s=128&d=identicon&r=PG&f=1", "display_name": "Noct03", "link": "https://stackoverflow.com/users/11575597/noct03"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 58106985, "answer_count": 1, "score": 0, "last_activity_date": 1569947906, "creation_date": 1569446633, "last_edit_date": 1569947906, "question_id": 58106706, "link": "https://stackoverflow.com/questions/58106706/nested-dictionary-with-netmiko", "title": "Nested dictionary with Netmiko", "body": "<p>My original question was answered but I am now facing another issue.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/58071801/get-index-name-of-a-list-made-from-dictionaries\">Get index name of a list made from dictionaries</a></p>\n\n<p>I was trying to get the name of a dictionary from a list and use it in a <code>for</code> loop but it seems that it can't be done. Nested dictionaries was the solution to my issue.</p>\n\n<p>Now I can successfully send command to network devices using Netmiko but it seems it only uses the last entry in the dictionary. Here's the code:</p>\n\n<pre><code>from netmiko import ConnectHandler \n\nsite1_switches = {\n    'visw0102' : {\n        'device_type': 'hp_comware',\n        'ip': '192.168.0.241',\n        'username': 'admin',\n        'password': 'password'\n    },\n    'visw0103' : {\n        'device_type': 'hp_comware',\n        'ip': '192.168.0.242',\n        'username': 'admin',\n        'password': 'password'\n    },\n    'visw0105' : {\n        'device_type': 'hp_comware',\n        'ip': '192.168.0.244',\n        'username': 'admin',\n        'password': 'password'\n    }\n}\n\nvlans = {\n    '300': 'TEST1',\n    '310': 'TEST2',\n    '320': 'TEST3',\n    '330': 'TEST4',\n    '340': 'TEST5'\n}\n\n\nfor key, values in site1_switches.items():\n  device_type = values.get('device_type', {})\n  ip_address = values.get('ip', {})\n  username = values.get('username', {})\n  password = values.get('password', {})\n\n\nnet_connect = ConnectHandler(device_type=device_type, host=ip_address, username=username, password=password)\n\noutput = net_connect.send_command_timing(\n    'y', \n    strip_prompt=False, \n    strip_command=False\n)\noutput = net_connect.send_command_timing(\n    '_cmdline-mode on', \n    strip_prompt=False, \n    strip_command=False\n)\nprint (output)\nif 'Continue' in output:\n    output += net_connect.send_command_timing(\n        'y', \n        strip_prompt=False, \n        strip_command=False\n    )\nprint (output)\nif 'ssword' in output:\n    net_connect.send_command_timing(\n        '512900',\n        strip_prompt=False, \n        strip_command=False\n    )\nprint (output)\noutput = net_connect.send_command_timing(\n    'system-view',\n    strip_prompt=False,\n    strip_command=False\n    )\nprint (output)\n\nfor tag, vlan_name in vlans.items():\n\n    output = net_connect.send_command_timing(\n            'vlan' + ' ' + tag,\n            strip_prompt=False,\n            strip_command=False\n            )\n    print (output)\n\n    output = net_connect.send_command_timing(\n            'description' + ' ' + vlan_name,\n            strip_prompt=False,\n            strip_command=False\n            )\n    print (output)\n</code></pre>\n\n<p>The commands are ran successfully but only for the last entry in the nested dictionary (VISW0105). Here's the output:</p>\n\n<pre><code>administrator@vimgmt0103:~$ python3 test_netmiko.py\n_cmdline-mode on\nAll commands can be displayed and executed. Continue? [Y/N]\n_cmdline-mode on\nAll commands can be displayed and executed. Continue? [Y/N]y\nPlease input password:\n_cmdline-mode on\nAll commands can be displayed and executed. Continue? [Y/N]y\nPlease input password:\nsystem-view\nSystem View: return to User View with Ctrl+Z.\n[VISW0105]            &lt;-- This is the last entry (switch) in the dictionary\nvlan 300\n[VISW0105-vlan300]\ndescription TEST1\n[VISW0105-vlan300]\nvlan 310\n[VISW0105-vlan310]\ndescription TEST2\n[VISW0105-vlan310]\nvlan 320\n[VISW0105-vlan320]\ndescription TEST3\n[VISW0105-vlan320]\nvlan 330\n[VISW0105-vlan330]\ndescription TEST4\n[VISW0105-vlan330]\nvlan 340\n[VISW0105-vlan340]\ndescription TEST5\n[VISW0105-vlan340]\nadministrator@vimgmt0103:~$\n</code></pre>\n\n<p>I am trying to figure out why it skips over the other entries. Any idea?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas", "datetime"], "comments": [{"owner": {"reputation": 26154, "user_id": 11884237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7d7q4.png?s=128&g=1", "display_name": "ansev", "link": "https://stackoverflow.com/users/11884237/ansev"}, "edited": false, "score": 2, "creation_date": 1569446682, "post_id": 58106683, "comment_id": 102604124, "body": "Wellcome to Stackoverflow. please show an example of your dataframe and your expected output"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 12121655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391898c4a7790f14ccf67234a44bbd56?s=128&d=identicon&r=PG&f=1", "display_name": "Mikael Olai Milh&#248;j", "link": "https://stackoverflow.com/users/12121655/mikael-olai-milh%c3%b8j"}, "is_accepted": false, "score": 1, "last_activity_date": 1569581282, "creation_date": 1569581282, "answer_id": 58133006, "question_id": 58106683, "link": "https://stackoverflow.com/questions/58106683/changing-column-names-from-monthly-to-quarterly-data-mean-value/58133006#58133006", "title": "Changing column names from monthly to quarterly data (mean value)", "body": "<p>I found a solution myself (with a little help from another discussion here, which, unfortunately, I have forgot the link to)</p>\n\n<p>I guess the code could be more comprehensive if you are a more experienced python programmer than I am. Feel free to comment!</p>\n\n<pre><code>data_new = data.drop([\"RegionName\", \"State\"], axis=1) #drop two first columns, keep only dates\ndata_new.columns = pd.to_datetime(data_new.columns, format=\"%Y-%m\").tolist() #convert to datetime format\n\n#convert to quarterly data using mean, relabel as string\ndata_new = (data_new.groupby(pd.PeriodIndex(data_new.columns, freq=\"Q\"), axis=1).mean().rename(columns=lambda c: str(c).lower()))\n\ndata = data.loc[:, [\"State\", \"RegionName\"]] #data now only contain first two columns\n\n#merge data and data_new\n\n\ndata_final = pd.merge(data, data_new, left_index=True, right_index=True) #merge data\ndata_final.set_index([\"State\", \"RegionName\"], inplace=True) #set multiindex\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 12121655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/391898c4a7790f14ccf67234a44bbd56?s=128&d=identicon&r=PG&f=1", "display_name": "Mikael Olai Milh&#248;j", "link": "https://stackoverflow.com/users/12121655/mikael-olai-milh%c3%b8j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569581282, "creation_date": 1569446503, "last_edit_date": 1569447294, "question_id": 58106683, "link": "https://stackoverflow.com/questions/58106683/changing-column-names-from-monthly-to-quarterly-data-mean-value", "title": "Changing column names from monthly to quarterly data (mean value)", "body": "<p>I have a dataframe where the two first columns are \"Region\" and \"State\" and the next columns are specific months. My goal is to convert the monthly data to quarterly data using the three-month mean.</p>\n\n<p>I have changed my data frame so I keep the first two columns as they are and change the rest of the column names into datetime.</p>\n\n<p>Then I tried to do the same trick but using the \"resample function\". </p>\n\n<pre><code>data.columns = data.columns[:2].tolist()+pd.to_datetime(data.columns[2:], format=\"%Y-%m\").tolist() #keep first two columns, change next two to dateformat\n\ndata.columns = data.columns[:2].tolist()+data.columns[2:].resample(\"Q\",axis=1).mean()\n</code></pre>\n\n<p>I get a traceback error stating that \"Index\" object has no attribute \"resample\". </p>\n"}, {"tags": ["python", "tensorflow", "gpu", "conda"], "answers": [{"tags": [], "owner": {"reputation": 433, "user_id": 11667119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154480d7fbd348c5efc5d75a99648ecc?s=128&d=identicon&r=PG&f=1", "display_name": "a-sam", "link": "https://stackoverflow.com/users/11667119/a-sam"}, "is_accepted": false, "score": 0, "last_activity_date": 1569448338, "last_edit_date": 1569448338, "creation_date": 1569447734, "answer_id": 58106907, "question_id": 58106650, "link": "https://stackoverflow.com/questions/58106650/how-to-judge-from-the-output-of-a-log-whether-tensorflow-is-working-with-gpu-or/58106907#58106907", "title": "How to judge from the output of a log whether Tensorflow is working with GPU or not?", "body": "<h2>tensorflow has multiple stages before running a learning kernel(function) on GPU</h2>\n\n<ol>\n<li>check available devices physically</li>\n<li>check library files relavent to them (CuDNN files and etc)</li>\n<li>allocate needed memory</li>\n<li>start the process</li>\n</ol>\n\n<p>yours stuck in stage 2 </p>\n\n<h2>running tensorflow with GPU needs couple of things</h2>\n\n<ol>\n<li>Nvidia driver</li>\n<li>Cuda (compiler)</li>\n<li>CuDNN library files</li>\n</ol>\n\n<h2>how to test them</h2>\n\n<ol>\n<li>run <code>Nvidia-smi</code> to test driver availability </li>\n<li>run <code>nvcc --version</code> to check cuda compiler availability</li>\n<li>run <code>import tensorflow as tf</code></li>\n<li>run a session in tensorflow</li>\n</ol>\n\n<p>if your getting error in stage 3 its because that tensorflow didn't find the CuDNN files </p>\n\n<p>if your getting error in stage 4 its because you have version incompatability, you can check <a href=\"https://stackoverflow.com/questions/50622525/which-tensorflow-and-cuda-version-combinations-are-compatible\">this solution</a>  inside stackoverflow, or search the problem</p>\n\n<h2>how to know when tensorflow is not using GPU</h2>\n\n<p>there are several ways to know:</p>\n\n<ul>\n<li><p>the log like the one inside yours: <code>Cannot dlopen some GPU libraries. Skipping registering GPU devices...</code></p></li>\n<li><p>it can be detected from <code>nvidia-smi</code> command:\nif your using python, it will show a python process inside processes with very large memory consumption (it will consume almost all of your available GPU memory)</p></li>\n</ul>\n"}], "owner": {"reputation": 2922, "user_id": 4706745, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/a048c08f07e754a348a46ca9c7dad4ab?s=128&d=identicon&r=PG&f=1", "display_name": "jax", "link": "https://stackoverflow.com/users/4706745/jax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569448338, "creation_date": 1569446333, "question_id": 58106650, "link": "https://stackoverflow.com/questions/58106650/how-to-judge-from-the-output-of-a-log-whether-tensorflow-is-working-with-gpu-or", "title": "How to judge from the output of a log whether Tensorflow is working with GPU or not?", "body": "<p>If I try to run a command that tells you whether Tensorflow using GPU or not. </p>\n\n<pre><code>&gt;&gt;&gt; sess = tf.Session(config=tf.ConfigProto(log_device_placement=True))\n</code></pre>\n\n<p>Command returns this, now I am not able to understand whether tensor flow using GPU or not. </p>\n\n<pre><code>2019-09-25 17:08:47.509729: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1640] Found device 0 with properties: \nname: Quadro P4000 major: 6 minor: 1 memoryClockRate(GHz): 1.48\npciBusID: 0000:03:00.0\n2019-09-25 17:08:47.509929: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Could not dlopen library 'libcudart.so.10.0'; dlerror: libcudart.so.10.0: cannot open shared object file: No such file or directory\n2019-09-25 17:08:47.510040: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Could not dlopen library 'libcublas.so.10.0'; dlerror: libcublas.so.10.0: cannot open shared object file: No such file or directory\n2019-09-25 17:08:47.510139: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Could not dlopen library 'libcufft.so.10.0'; dlerror: libcufft.so.10.0: cannot open shared object file: No such file or directory\n2019-09-25 17:08:47.510234: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Could not dlopen library 'libcurand.so.10.0'; dlerror: libcurand.so.10.0: cannot open shared object file: No such file or directory\n2019-09-25 17:08:47.510328: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Could not dlopen library 'libcusolver.so.10.0'; dlerror: libcusolver.so.10.0: cannot open shared object file: No such file or directory\n2019-09-25 17:08:47.510440: I tensorflow/stream_executor/platform/default/dso_loader.cc:53] Could not dlopen library 'libcusparse.so.10.0'; dlerror: libcusparse.so.10.0: cannot open shared object file: No such file or directory\n2019-09-25 17:08:47.510483: I tensorflow/stream_executor/platform/default/dso_loader.cc:42] Successfully opened dynamic library libcudnn.so.7\n2019-09-25 17:08:47.510498: W tensorflow/core/common_runtime/gpu/gpu_device.cc:1663] Cannot dlopen some GPU libraries. Skipping registering GPU devices...\n2019-09-25 17:08:47.510524: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1181] Device interconnect StreamExecutor with strength 1 edge matrix:\n2019-09-25 17:08:47.510536: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1187]      0 \n2019-09-25 17:08:47.510556: I tensorflow/core/common_runtime/gpu/gpu_device.cc:1200] 0:   N \nDevice mapping:\n/job:localhost/replica:0/task:0/device:XLA_CPU:0 -&gt; device: XLA_CPU device\n/job:localhost/replica:0/task:0/device:XLA_GPU:0 -&gt; device: XLA_GPU device\n2019-09-25 17:08:47.510713: I tensorflow/core/common_runtime/direct_session.cc:296] Device mapping:\n/job:localhost/replica:0/task:0/device:XLA_CPU:0 -&gt; device: XLA_CPU device\n/job:localhost/replica:0/task:0/device:XLA_GPU:0 -&gt; device: XLA_GPU device\n</code></pre>\n\n<p>nvidia-smi command return this..</p>\n\n<pre><code>+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 387.26                 Driver Version: 387.26                    |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|===============================+======================+======================|\n|   0  Quadro P4000        Off  | 00000000:03:00.0  On |                  N/A |\n| 46%   40C    P8    11W / 105W |   1240MiB /  8111MiB |      0%      Default |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                       GPU Memory |\n|  GPU       PID   Type   Process name                             Usage      |\n|=============================================================================|\n|    0      1943      G   /usr/libexec/Xorg                            317MiB |\n|    0      2047      G   /usr/bin/gnome-shell                           5MiB |\n|    0      5505      G   /usr/libexec/Xorg                            109MiB |\n|    0     10091      G   /usr/libexec/Xorg                            165MiB |\n|    0     10952      G   ...uest-channel-token=14061294616847102337    87MiB |\n+-----------------------------------------------------------------------------+\n</code></pre>\n"}, {"tags": ["python", "paraview"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1569449633, "post_id": 58106634, "comment_id": 102604962, "body": "Please put the entire traceback in your question \u2014 what you have in it now doesn&#39;t specify what error is occurring."}, {"owner": {"reputation": 165, "user_id": 11299809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da44b390f303113e1ae3ac54b5fa6fc6?s=128&d=identicon&r=PG&f=1", "display_name": "mario119", "link": "https://stackoverflow.com/users/11299809/mario119"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1569527400, "post_id": 58106634, "comment_id": 102636221, "body": "@martineau Oh, I solved the problem! My code was not wrong, but I had to run a Python script in ParaView correctly. Thanks anyway!"}], "owner": {"reputation": 165, "user_id": 11299809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da44b390f303113e1ae3ac54b5fa6fc6?s=128&d=identicon&r=PG&f=1", "display_name": "mario119", "link": "https://stackoverflow.com/users/11299809/mario119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569446233, "creation_date": 1569446233, "question_id": 58106634, "link": "https://stackoverflow.com/questions/58106634/cannot-import-datafile-using-tecplotreader-os-path-joindata-path-filen", "title": "Cannot import datafile using TecplotReader([ ])... os.path.join(data_path, filename) Not Working?", "body": "<p>I would like to import a set of datafiles using <code>for</code> loop on ParaView.\nI think <code>TecplotReader(FileNames=[full_path])</code> takes FileNames as 'String' type, and <code>full_path</code> should be a 'string type' indicating the datafiles in the folder. </p>\n\n<p><code>TecplotReader(FileNames=['C:\\\\Users\\\\xxx\\\\Data\\\\TestToImport\\\\1147.dat'])</code> is working without using <code>for</code> loop, but I don't know why <code>TecplotReader(FileNames=[full_path])</code> is not working.</p>\n\n<p>This is my code to import a set of datafiles automatically using <code>for</code> loop</p>\n\n<pre><code>#### import the simple module from the paraview\nfrom paraview.simple import *\nimport os, csv\n\n# Test data to import : C:\\Users\\xxx\\Data\\TestToImport\n\ndata_path = 'C:\\\\Users\\\\xxx\\\\Data\\\\TestToImport\\\\'\nsave_path = 'C:/Users/xxx/Data/UpperPSP_CCG/'\n\nfor filename in os.listdir(data_path):\n    full_path = os.path.join(data_path, filename)\n    save_full_path = os.path.join(save_path, filename)\n\n    #### disable automatic camera reset on 'Show'\n    paraview.simple._DisableFirstRenderCameraReset()\n\n    # create a new 'Tecplot Reader'\n    a1147dat = TecplotReader(FileNames=[full_path])\n\n    ...\n\n</code></pre>\n\n<p>I just got this error </p>\n\n<pre><code>  File \"&lt;console&gt;\", line 1\n    a1147dat = TecplotReader(FileNames=[full_path])\n</code></pre>\n\n<p>And since the data is not readable from <code>TecplotReader</code>, there's nothing that I can do anymore.</p>\n"}, {"tags": ["python", "pandas", "sqlalchemy"], "comments": [{"owner": {"reputation": 1435, "user_id": 3866678, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7yZyO.png?s=128&g=1", "display_name": "Michael Gardner", "link": "https://stackoverflow.com/users/3866678/michael-gardner"}, "edited": false, "score": 0, "creation_date": 1569447413, "post_id": 58106600, "comment_id": 102604350, "body": "You may want to assign a column as an integer or some other type when pandas has the dtype as something else. <code>Specify the dtype (especially useful for integers with missing values). Notice that while pandas is forced to store the data as floating point, the database supports nullable integers.</code>  <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html#sql-data-types\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/user_guide/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 12121622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262217eb1fd9c5130bbed8435be09004?s=128&d=identicon&r=PG&f=1", "display_name": "LotsOfQuestions94", "link": "https://stackoverflow.com/users/12121622/lotsofquestions94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1581922703, "creation_date": 1569445977, "last_edit_date": 1581922703, "question_id": 58106600, "link": "https://stackoverflow.com/questions/58106600/pandas-to-sql-without-declaring-schema-in-sqlalchemy", "title": "Pandas to_sql without declaring schema in sqlalchemy", "body": "<p>I can successfully store my pandas dataframe into a MSSQL Server using df.to_sql.  However, I see many people specifying a schema using sqlalchemy something like this</p>\n\n<pre><code>from sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column\n\n\nBase = declarative_base()\n\nclass Table(Base):\n    __tablename__ = 'Table'\n    Thing = Column(Integer)\n</code></pre>\n\n<p>If I correctly format the column types with my dataframe, what benefit does a predefined SQLAlchemy table serve?</p>\n"}, {"tags": ["python", "keras", "object-detection"], "answers": [{"comments": [{"owner": {"reputation": 1326, "user_id": 6499558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zutOXave6sk/AAAAAAAAAAI/AAAAAAAAAvg/HLYMIAXFFUg/photo.jpg=k-s128", "display_name": "Do\u011fu\u015f", "link": "https://stackoverflow.com/users/6499558/do%c4%9fu%c5%9f"}, "edited": false, "score": 0, "creation_date": 1569452531, "post_id": 58107427, "comment_id": 102605572, "body": "Thanks for the helpful insights, 1-) Why does it need to be 1D?  I know that Dense layer needs 1D but conv2d needs 2d, right? 3-) Model started working after I changed the second conv2d layer&#39;s variable from 16 to 1. I will try your way to understand the issue. Te\u015fekk&#252;rler,"}, {"owner": {"reputation": 461, "user_id": 12118774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpS5X.jpg?s=128&g=1", "display_name": "Physicing", "link": "https://stackoverflow.com/users/12118774/physicing"}, "reply_to_user": {"reputation": 1326, "user_id": 6499558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zutOXave6sk/AAAAAAAAAAI/AAAAAAAAAvg/HLYMIAXFFUg/photo.jpg=k-s128", "display_name": "Do\u011fu\u015f", "link": "https://stackoverflow.com/users/6499558/do%c4%9fu%c5%9f"}, "edited": false, "score": 0, "creation_date": 1569453229, "post_id": 58107427, "comment_id": 102605700, "body": "For example let say we are in MNIST [link]<a href=\"https://keras.io/examples/mnist_cnn/\" rel=\"nofollow noreferrer\">keras.io/examples/mnist_cnn</a> . If you could just erase the model and fitting part and add <code>print(y_label.shape)</code>, you will encounter that the y_label shape is (60000, 10) i.e 10 class exists for images. It doesn&#39;t matter whether you use conv2d or not, it is simply a matrix multiplication, principle is same. That means you should enumerate your class names always."}], "tags": [], "owner": {"reputation": 461, "user_id": 12118774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpS5X.jpg?s=128&g=1", "display_name": "Physicing", "link": "https://stackoverflow.com/users/12118774/physicing"}, "is_accepted": false, "score": 3, "last_activity_date": 1570653157, "last_edit_date": 1570653157, "creation_date": 1569451316, "answer_id": 58107427, "question_id": 58106507, "link": "https://stackoverflow.com/questions/58106507/keras-face-detection-with-only-one-image/58107427#58107427", "title": "Keras, Face Detection with only one image", "body": "<p>Before starting your questions let me some important thing to be more clear. As far as I understand your goal is to achieve both <code>classification</code> and <code>localization</code>. These both needs different models to be trained on and it is more advanced to start from scratch. Assuming you only need classification let me try to answer your questions.</p>\n\n<p>1) y labels should be the binary for your case <code>face</code> or <code>background</code> and these should be 1D column array.</p>\n\n<p>2) Yes you are right, flipping or rotating image is a good strategy to enrich your dataset.</p>\n\n<p>3) This error happens because of the second argument of <code>model.fit(data, maskage)</code>, i.e <strong>maskage</strong>. Since your label needs to be a column, not a 128x128x1 array, this error occurs.</p>\n\n<p>4) This method won't work as I explained before the questions. You are looking for both <code>localization</code> and <code>classification</code></p>\n\n<p>As far as I understand, you have checked the MNIST tutorials to modify to your problem, but first and most important thing is you should change the y labels. Further, since I have not sufficient knowledge to do how to properly localize objects, I won't be able to give much information about how you succeed the localization part of your project.</p>\n\n<p>EDIT : For the ones who are not familiar with the <code>localization</code>, there is a helpful guide with Keras in the <a href=\"https://towardsdatascience.com/getting-started-with-bounding-box-regression-in-tensorflow-743e22d0ccb3\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 1326, "user_id": 6499558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zutOXave6sk/AAAAAAAAAAI/AAAAAAAAAvg/HLYMIAXFFUg/photo.jpg=k-s128", "display_name": "Do\u011fu\u015f", "link": "https://stackoverflow.com/users/6499558/do%c4%9fu%c5%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1570653157, "creation_date": 1569445377, "last_edit_date": 1569973204, "question_id": 58106507, "link": "https://stackoverflow.com/questions/58106507/keras-face-detection-with-only-one-image", "title": "Keras, Face Detection with only one image", "body": "<p>I am new to object detection. And I can't figure out how to train a model to recognize a face in a picture. There are many mnist tutorials and pretrained model tutorials but not a case like this.</p>\n\n<p>I will assign numbers to my questions. </p>\n\n<pre><code>folderpath = \"G:/Datasets/FACE/\"\nface = \"face.JPG\"\npeople = \"people.JPG\"\n\nmaskdict = {}\nnfaces = 0\n\nimage= Image.open(folderpath+face)\nimage = image.convert('L')\nimage= np.array(image)\nprint(image.shape) # (239, 162)\n</code></pre>\n\n<p>I turned the Face into grayscale so it would be easier to work.</p>\n\n<pre><code>def create_mask(image, plotimg=False):\n    height, width = image.shape\n    mask = np.empty((height, width))\n    topcroph = int(height*0.9)\n    botcroph = height-topcroph\n    rightcropw = int(width*0.9)\n    leftcropw = width - rightcropw\n\n    mask[botcroph:topcroph, leftcropw:rightcropw] = 1\n    img = image.copy()\n    if plotimg:\n        img[botcroph:topcroph, leftcropw:rightcropw] = 1\n        plt.imshow(img, cmap='gray')\n    return mask.astype(np.uint8)\n</code></pre>\n\n<p><strong>Creating mask</strong></p>\n\n<p>Assuming the input always will be a closeup face, create_mask function creates a mask very roughly where the face is, so I can use that mask as 'y' (label)</p>\n\n<p><em>1- Is this the correct way of creating a 'y'(label) for detection?</em></p>\n\n<pre><code>def resizer(img, msk, size):\n    img = np.array(Image.fromarray(img).resize((size,size)))\n    msk = np.array(Image.fromarray(msk).resize((size,size)))\n    return img, msk\n</code></pre>\n\n<p>Resize both image and it's mask.</p>\n\n<pre><code>mask = create_mask(image, plotimg=True)\nimg, msk = resizer(image, mask, 128) # img &amp; mask.shape would be (128,128)\n\nimg = np.expand_dims(img, axis=2) # add one more dimension\nmsk = np.expand_dims(msk, axis=2) # (128, 128, 1)\n</code></pre>\n\n<p><strong>Augmentation</strong></p>\n\n<p>In the below code, I wanted to multiply the image, so I could have a dataset. </p>\n\n<p><em>2- Technically, you can't train with one image, right?</em></p>\n\n<pre><code>datasize=120\ndata = np.empty((datasize, 128, 128, 1))\nmaskage = np.empty((datasize, 128, 128, 1))\nfor i in range(0, 40):\n    np.random.seed(i)\n    img_r = keras.preprocessing.image.random_rotation(img, 30)\n    msk_r = keras.preprocessing.image.random_rotation(msk, 30)\n    maskage[i,:,:] = msk_r\n    data[i,:,:] = img_r\nfor i in range(40,80):\n    np.random.seed(i)\n    img_b = keras.preprocessing.image.random_brightness(img, (.5, 1.5))\n    maskage[i,:,:] = msk\n    data[i,:,:] = img_b\nfor i in range(80,120):\n    np.random.seed(i)\n    img_z = keras.preprocessing.image.random_zoom(img, (.7, 1))\n    msk_r = keras.preprocessing.image.random_zoom(msk, (.7, 1))\n    data[i,:,:] = img_z\n    maskage[i,:,:] = msk_r\n</code></pre>\n\n<p><strong>Model</strong></p>\n\n<p>Keras model throws ValueError. I can't figure out how to configure layers, how does this work?</p>\n\n<pre><code>from keras import layers\nfrom keras import models\nfrom keras import optimizers\n\nmodel = models.Sequential()\nmodel.add(layers.Conv2D(16, (3,3), padding=\"same\", input_shape=(128,128,1)))\nmodel.add(layers.Activation('relu'))\n\nmodel.add(layers.Conv2D(16, (3,3), padding=\"same\"))\nmodel.add(layers.Activation(\"sigmoid\"))\n\nmodel.compile(optimizer='adam', loss='binary_crossentropy', metrics=['acc'])\nmodel.summary()\n\n    _________________________________________________________________\nLayer (type)                 Output Shape              Param #   \n=================================================================\nconv2d_1 (Conv2D)            (None, 128, 128, 16)      160       \n_________________________________________________________________\nactivation_1 (Activation)    (None, 128, 128, 16)      0         \n_________________________________________________________________\nconv2d_2 (Conv2D)            (None, 128, 128, 16)      2320      \n_________________________________________________________________\nactivation_2 (Activation)    (None, 128, 128, 16)      0         \n=================================================================\nTotal params: 2,480\nTrainable params: 2,480\nNon-trainable params: 0\n\n# Input shapes are:\ndata.shape  # (120, 128, 128, 1) \nmaskage.shape  # (120, 128, 128, 1)\n\n#Run the model\nmodel.fit(data, maskage)\n</code></pre>\n\n<blockquote>\n  <p>ValueError: Error when checking target: expected activation_6 to have\n  shape (128, 128, 16) but got array with shape (128, 128, 1)</p>\n</blockquote>\n\n<p><em>3. What should I do at this point?</em></p>\n\n<p><em>4. Even if the model manages to train, will model.predict on \"people.JPG\" work?\n How can I draw a rectangle on face prediction output? Will this method work?</em></p>\n\n<p>Edit: Model started to train after I changed the second conv2d layer variable from 16 to 1. But It can't find the face.</p>\n"}, {"tags": ["python", "pandas", "list-comprehension"], "comments": [{"owner": {"reputation": 352, "user_id": 4669458, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oUvHx.png?s=128&g=1", "display_name": "Kevin Troy", "link": "https://stackoverflow.com/users/4669458/kevin-troy"}, "edited": false, "score": 0, "creation_date": 1569446279, "post_id": 58106462, "comment_id": 102603998, "body": "What have you tried so far?"}], "answers": [{"tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": false, "score": 3, "last_activity_date": 1569445495, "creation_date": 1569445495, "answer_id": 58106520, "question_id": 58106462, "link": "https://stackoverflow.com/questions/58106462/python-looping-through-dataframe-and-dictionary/58106520#58106520", "title": "Python Looping through DataFrame and Dictionary", "body": "<p>You could use <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.str.replace.html\" rel=\"nofollow noreferrer\">replace</a>:</p>\n\n<pre><code>import pandas as pd\n\nd = {\"1\": \"A\", \"2\": \"B\", \"3\": \"C\", }\n\ndata = [['A',  'X', '+2'],\n        ['B',  'Y', '+3'],\n        ['C',  'Z', '+1+2']]\n\ndf = pd.DataFrame(data=data)\n\ndf[2] = df[2].str.replace('\\d+', lambda x: d[x.group()])\n\nprint(df)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>   0  1     2\n0  A  X    +B\n1  B  Y    +C\n2  C  Z  +A+B\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1569446729, "creation_date": 1569446729, "answer_id": 58106726, "question_id": 58106462, "link": "https://stackoverflow.com/questions/58106462/python-looping-through-dataframe-and-dictionary/58106726#58106726", "title": "Python Looping through DataFrame and Dictionary", "body": "<p>You can split and join on the <code>+</code> character (below is where the dictionary variable is <code>d</code>):</p>\n\n<pre><code>df['2'] = df['2'].apply(lambda s: '+'.join(d.get(n, \"\") \n                                           for n in s.split('+')))\n&gt;&gt;&gt; df\n   0  1     2\n0  A  X    +B\n1  B  Y    +C\n2  C  Z  +A+B\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 9491921, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/9491921/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1569446729, "creation_date": 1569445181, "last_edit_date": 1569445271, "question_id": 58106462, "link": "https://stackoverflow.com/questions/58106462/python-looping-through-dataframe-and-dictionary", "title": "Python Looping through DataFrame and Dictionary", "body": "<p>I have one data frame that looks like the below</p>\n\n<pre><code>0   1   2\nA   X   +2\nB   Y   +3\nC   Z   +1+2\n</code></pre>\n\n<p>And a dictionary that looks like the below</p>\n\n<pre><code>    dict = { \"1\":\"A\", \"2\":\"B\", \"3\":\"C\", }\n</code></pre>\n\n<p>I am trying to loop through to create the below (effectively looking up the letter from the dictionary and replacing the number in the data frame with the correct letter while keeping the \"+\"s )</p>\n\n<pre><code>    0   1   2\n    A   X   +B\n    B   Y   +C\n    C   Z   +A+B\n</code></pre>\n\n<p>Any pointers would be much appreciated!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 1, "creation_date": 1569446349, "post_id": 58106461, "comment_id": 102604025, "body": "Can you give some sample input and desired sample output?"}, {"owner": {"reputation": 11, "user_id": 12121568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-53JbNIIse3g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0m5Z38OlT50IWWmgc-8ygg03NTg/photo.jpg?sz=128", "display_name": "Pedro Giesta", "link": "https://stackoverflow.com/users/12121568/pedro-giesta"}, "reply_to_user": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1569489112, "post_id": 58106461, "comment_id": 102616307, "body": "Yes. so the file is open already on jupyter notebook, there is a Column called SICCD that i need to delete the rows of this column that contains the values in the range 0100-0999, 9100-9729, 9990-9999."}, {"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1569501860, "post_id": 58106461, "comment_id": 102623184, "body": "Can you put a sample of your file (or something that looks like it) in the question?"}, {"owner": {"reputation": 893, "user_id": 7238987, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acf47133b3cef8963064bd5d3e90bdb0?s=128&d=identicon&r=PG&f=1", "display_name": "algorythms", "link": "https://stackoverflow.com/users/7238987/algorythms"}, "edited": false, "score": 0, "creation_date": 1574746537, "post_id": 58106461, "comment_id": 104330434, "body": "I answered your question below. Would you mind upvoting my answer? I&#39;m new here and it would help me a lot. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 424, "user_id": 6616963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CuoIKTcd_YE/AAAAAAAAAAI/AAAAAAAABH8/nrRetY0-w-s/photo.jpg?sz=128", "display_name": "Yatish Kadam", "link": "https://stackoverflow.com/users/6616963/yatish-kadam"}, "edited": false, "score": 0, "creation_date": 1569446373, "post_id": 58106612, "comment_id": 102604029, "body": "use dict instead of lists.  This whole method you have is not efficient."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 1, "creation_date": 1569462350, "post_id": 58106612, "comment_id": 102607266, "body": "The provided answer was flagged for review as a Low Quality Post. Here are some guidelines for <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. This provided answer may be correct, but it could benefit from an explanation. Code only answers are not considered &quot;good&quot; answers. From <a href=\"https://stackoverflow.com/review\">review</a>."}, {"owner": {"reputation": 893, "user_id": 7238987, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acf47133b3cef8963064bd5d3e90bdb0?s=128&d=identicon&r=PG&f=1", "display_name": "algorythms", "link": "https://stackoverflow.com/users/7238987/algorythms"}, "reply_to_user": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 1, "creation_date": 1569470586, "post_id": 58106612, "comment_id": 102608763, "body": "@MyNameIsCaleb Did you flag this as a low quality post? I think my approach is pretty clear."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 1, "creation_date": 1569470682, "post_id": 58106612, "comment_id": 102608776, "body": "Who flagged it does not matter. Your approach is code only which is generally considered not a good answer. Answers need explanations as to why you answered it the way you did so that you can help the person asking the question and anyone in the future that may not understand the code as well as you do."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 1, "creation_date": 1569471334, "post_id": 58106612, "comment_id": 102608893, "body": "It\u2019s generally recommended to put all of the information needed into the answer not only for OP but for future people that have a similar question. Comments are helpful for the person asking but are often harder to understand than edited the answer to provide everything needed in one place. Just like you could have down voted him instead of answering, I could have deleted your answer instead of commenting to let you know how not to get flagged in the future. Everyone is here because they need help or want to help. It\u2019s good to answer questions at all, but it\u2019s better to document them well."}], "tags": [], "owner": {"reputation": 893, "user_id": 7238987, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acf47133b3cef8963064bd5d3e90bdb0?s=128&d=identicon&r=PG&f=1", "display_name": "algorythms", "link": "https://stackoverflow.com/users/7238987/algorythms"}, "is_accepted": false, "score": 0, "last_activity_date": 1569470615, "last_edit_date": 1569470615, "creation_date": 1569446093, "answer_id": 58106612, "question_id": 58106461, "link": "https://stackoverflow.com/questions/58106461/removing-rows-from-csv-file-with-conditional-argument-python/58106612#58106612", "title": "Removing Rows from CSV file with conditional argument Python", "body": "<p>You can open the file, filter the rows out and and write results to a new csv.</p>\n\n<pre><code>with open('data.csv', 'rb') as inp, open('output.csv', 'wb') as out:\ninterval = [range(99, 1001), range(5000, 6001), range(8000, 9001)]\nwriter = csv.writer(out)\nfor row in csv.reader(inp):\n     if row[\"column_name\"] not in interval:\n         writer.writerow(row)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "edited": false, "score": 0, "creation_date": 1569446914, "post_id": 58106749, "comment_id": 102604189, "body": "OP did not specify their operating system"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 3, "creation_date": 1569462199, "post_id": 58106749, "comment_id": 102607240, "body": "The provided answer was flagged for review as a Low Quality Post. Here are some guidelines for <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. This provided answer may be correct, but it could benefit from an explanation. Code only answers are not considered &quot;good&quot; answers. From <a href=\"https://stackoverflow.com/review\">review</a>."}], "tags": [], "owner": {"reputation": 114, "user_id": 12043092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a19297a77235cfbd49fb32afe41360b?s=128&d=identicon&r=PG&f=1", "display_name": "misha", "link": "https://stackoverflow.com/users/12043092/misha"}, "is_accepted": false, "score": 0, "last_activity_date": 1569446838, "creation_date": 1569446838, "answer_id": 58106749, "question_id": 58106461, "link": "https://stackoverflow.com/questions/58106461/removing-rows-from-csv-file-with-conditional-argument-python/58106749#58106749", "title": "Removing Rows from CSV file with conditional argument Python", "body": "<pre><code>import subprocess\n\ncmd = \"sed -e '5000,6000d;99,1000d' file.csv\"\nsubprocess.call(cmd, shell=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "is_accepted": false, "score": 0, "last_activity_date": 1569446864, "creation_date": 1569446864, "answer_id": 58106754, "question_id": 58106461, "link": "https://stackoverflow.com/questions/58106461/removing-rows-from-csv-file-with-conditional-argument-python/58106754#58106754", "title": "Removing Rows from CSV file with conditional argument Python", "body": "<p>You can generate your intervals using <code>range</code>, and checking if an item is <code>in</code> a <code>range</code> is quite quick:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import csv\n\n# add 1 to the max of the range for an inclusive search\nintervals = [range(99, 1001), range(5000, 6001), range(8000, 9001)]\n\nwith open('data.csv') as fh, with open('out.csv', 'w') as output:\n    writer = csv.writer(output)\n    reader = csv.reader(fh)\n    for row in reader:\n        # do this to avoid the constant lookup of row['column_name']\n        # in the interval check\n        col = row['column_name']\n\n        # it's fast to check if an integer is in a range\n        # use all to check for each range\n        if all(col not in i for i in intervals):\n            writer.writerow(row)\n</code></pre>\n\n<p>To show the difference between checking in a <code>list</code>:</p>\n\n<h2>range check</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code>python -m timeit -s 'x = 10000; y = range(10002)' 'x in y'\n10000000 loops, best of 3: 0.0821 usec per loop\n</code></pre>\n\n<h2>list check</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code>python -m timeit -s 'x = 10000; y = list(range(10002))' 'x in y'\n10000 loops, best of 3: 94.4 usec per loop\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12121568, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-53JbNIIse3g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc0m5Z38OlT50IWWmgc-8ygg03NTg/photo.jpg?sz=128", "display_name": "Pedro Giesta", "link": "https://stackoverflow.com/users/12121568/pedro-giesta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1569470615, "creation_date": 1569445164, "question_id": 58106461, "link": "https://stackoverflow.com/questions/58106461/removing-rows-from-csv-file-with-conditional-argument-python", "title": "Removing Rows from CSV file with conditional argument Python", "body": "<p>I am trying to remove rows with Python in a CSV file from a specific column with conditional argument. from example, deleting all the rows from that column that are between 3 different intervals. for example 99 and 1000, 5000 and 6000, 8000 and 9000.</p>\n"}, {"tags": ["python", "exception", "mocking"], "comments": [{"owner": {"reputation": 2128, "user_id": 386159, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fe2e272881aac6b690dd44b665c246e4?s=128&d=identicon&r=PG", "display_name": "bearrito", "link": "https://stackoverflow.com/users/386159/bearrito"}, "edited": false, "score": 0, "creation_date": 1569446609, "post_id": 58106441, "comment_id": 102604097, "body": "Could you please show us how you are invoking some_func(). Also you might consider renaming &quot;mock_exception&quot; to &quot;mock_my_function&quot;"}, {"owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "reply_to_user": {"reputation": 2128, "user_id": 386159, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/fe2e272881aac6b690dd44b665c246e4?s=128&d=identicon&r=PG", "display_name": "bearrito", "link": "https://stackoverflow.com/users/386159/bearrito"}, "edited": false, "score": 0, "creation_date": 1569447428, "post_id": 58106441, "comment_id": 102604354, "body": "@bearrito thanks! I just edited my code to show where i&#39;m invoking function i&#39;m testing."}], "answers": [{"tags": [], "owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449085, "creation_date": 1569449085, "answer_id": 58107130, "question_id": 58106441, "link": "https://stackoverflow.com/questions/58106441/mock-exception-correctly-in-test/58107130#58107130", "title": "Mock exception correctly in test", "body": "<p>I'm not sure why but doing it in a wrapped way like this worked.</p>\n\n<pre><code>    def test_some_func(self):\n\n        with mock.patch('path_to_my_function', side_effect=Exception('XYZ')):\n            some_func()\n            # do some assertions\n\n</code></pre>\n"}], "owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569449085, "creation_date": 1569445101, "last_edit_date": 1569447401, "question_id": 58106441, "link": "https://stackoverflow.com/questions/58106441/mock-exception-correctly-in-test", "title": "Mock exception correctly in test", "body": "<p>I have a try catch block and I want to hijack the main function called to return an exception with a message --></p>\n\n<pre><code>  def some_func():  \n     try:\n        my_function()\n    except Exception as e:\n        if e.message == 'XYZ':\n            # do stuff\n            return\n        raise\n</code></pre>\n\n<p>I'm trying to test this but my test keeps raising the exception instead:</p>\n\n<pre><code>\n    @mock.patch('import_path_for_my_function')\n    def test_some_func(self, mock_my_func):\n\n        mock_my_func.side_effect = mock.Mock(side_effect=Exception('XYZ'))\n        some_func()\n        # do some assertions\n\n\n\n</code></pre>\n\n<p>but it looks like this raises the Exception instead:</p>\n\n<pre><code>  File \"/usr/local/lib/python3.7/unittest/mock.py\", line 960, in __call__\n    return _mock_self._mock_call(*args, **kwargs)\n  File \"/usr/local/lib/python3.7/unittest/mock.py\", line 1026, in _mock_call\n    result = effect(*args, **kwargs)\n  File \"/usr/local/lib/python3.7/unittest/mock.py\", line 960, in __call__\n    return _mock_self._mock_call(*args, **kwargs)\n  File \"/usr/local/lib/python3.7/unittest/mock.py\", line 1020, in _mock_call\n    raise effect\nException: XYZ\n</code></pre>\n\n<p>Why is this happening and how should I hijack <code>my_function</code> to raise an exception which can be caught by the method calling it. </p>\n"}, {"tags": ["python", "loops", "dictionary"], "comments": [{"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1569445210, "post_id": 58106426, "comment_id": 102603673, "body": "What if there are three twelve year olds, one of whom doesn&#39;t like blue, but the other two do. What should the value for <code>(12, blue)</code> be in that case? 1? 0? 0.66?"}, {"owner": {"reputation": 304, "user_id": 4343563, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6304046b86847626589f8cd3de81020d?s=128&d=identicon&r=PG&f=1", "display_name": "mpatil", "link": "https://stackoverflow.com/users/4343563/mpatil"}, "reply_to_user": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1569445310, "post_id": 58106426, "comment_id": 102603700, "body": "It&#39;s just based on the data given where there is only one list per age in the data"}, {"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1569446841, "post_id": 58106426, "comment_id": 102604168, "body": "These names are not defined: <code>age, blue, green, red, orange</code>. Are they supposed to be strings?"}, {"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1569447162, "post_id": 58106426, "comment_id": 102604273, "body": "Your output also shows the ages are strings?"}], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 4343563, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6304046b86847626589f8cd3de81020d?s=128&d=identicon&r=PG&f=1", "display_name": "mpatil", "link": "https://stackoverflow.com/users/4343563/mpatil"}, "edited": false, "score": 0, "creation_date": 1569447761, "post_id": 58106713, "comment_id": 102604456, "body": "This works great thanks! Can you explain what the asterisk is doing? I&#39;ve looked it up but can&#39;t get a clear understanding."}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "reply_to_user": {"reputation": 304, "user_id": 4343563, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6304046b86847626589f8cd3de81020d?s=128&d=identicon&r=PG&f=1", "display_name": "mpatil", "link": "https://stackoverflow.com/users/4343563/mpatil"}, "edited": false, "score": 0, "creation_date": 1569448576, "post_id": 58106713, "comment_id": 102604680, "body": "@mjoy the asterisk is <a href=\"https://www.python.org/dev/peps/pep-3132/\" rel=\"nofollow noreferrer\">extended iterable unpacking</a> in this case is equivalent to <code>colors, rows = data[0], data[1:]</code>"}], "tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": true, "score": 1, "last_activity_date": 1569446658, "creation_date": 1569446658, "answer_id": 58106713, "question_id": 58106426, "link": "https://stackoverflow.com/questions/58106426/using-a-nested-list-to-create-dictionary-where-first-list-is-column-and-each-lis/58106713#58106713", "title": "Using a nested list to create dictionary where first list is column and each list a row?", "body": "<p>You could do the following:</p>\n\n<pre><code>import pprint\n\ndata = [['age', 'blue', 'green', 'red', 'orange'],\n        [12, 1, 0, 0, 1],\n        [10, 0, 1, 0, 1],\n        [9, 0, 0, 0, 0],\n        [8, 1, 0, 0, 0],\n        [13, 1, 1, 1, 0]]\n\ncolors, *rows = data # split in colors and rows\n\nd = {}\nfor row in rows: \n    idi, *marks = row # split in id and marks\n    for color, mark in zip(colors[1:], marks): # iterate in parallel over marks and colors\n            d[(idi, color)] = mark\n\n\npprint.pprint(d)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{(8, 'blue'): 1,\n (8, 'green'): 0,\n (8, 'orange'): 0,\n (8, 'red'): 0,\n (9, 'blue'): 0,\n (9, 'green'): 0,\n (9, 'orange'): 0,\n (9, 'red'): 0,\n (10, 'blue'): 0,\n (10, 'green'): 1,\n (10, 'orange'): 1,\n (10, 'red'): 0,\n (12, 'blue'): 1,\n (12, 'green'): 0,\n (12, 'orange'): 1,\n (12, 'red'): 0,\n (13, 'blue'): 1,\n (13, 'green'): 1,\n (13, 'orange'): 0,\n (13, 'red'): 1}\n</code></pre>\n"}], "owner": {"reputation": 304, "user_id": 4343563, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6304046b86847626589f8cd3de81020d?s=128&d=identicon&r=PG&f=1", "display_name": "mpatil", "link": "https://stackoverflow.com/users/4343563/mpatil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58106713, "answer_count": 1, "score": 0, "last_activity_date": 1569447026, "creation_date": 1569445054, "last_edit_date": 1569447026, "question_id": 58106426, "link": "https://stackoverflow.com/questions/58106426/using-a-nested-list-to-create-dictionary-where-first-list-is-column-and-each-lis", "title": "Using a nested list to create dictionary where first list is column and each list a row?", "body": "<p>I have a nested loop that has the first list as column names and each subsequent list is a row. For example, I have a nested list that gives a person's age and 1 or 0 indicating whether or not they like the color: </p>\n\n<pre><code>data = [['age', 'blue', 'green', 'red', 'orange'], \n         [12, 1, 0, 0, 1],\n         [10, 0, 1, 0, 1],\n         [9, 0, 0, 0, 0],\n         [8, 1, 0, 0, 0],\n         [13, 1, 1, 1, 0]\n</code></pre>\n\n<p>I want an output that looks like: </p>\n\n<pre><code> new_data ={(12, 'blue'): 1,\n            (12, 'green'): 0,\n            (12, 'red'): 0,\n            (12, 'orange'): 1,\n            (9, 'blue'): 0,\n            (9, 'green'): 1,\n            (9, 'red'): 0,\n            (9, 'orange'): 1 .....}\n</code></pre>\n\n<p>etc but with all data. </p>\n\n<p>I've gotten as far as:</p>\n\n<pre><code>ages = data[0][1:len(data[0])]\n\ni = 1\nfor x in ages:\n    print({t[0] + x: t[i] for t in data[1:len(data)]})\n    i = i + 1\n</code></pre>\n\n<p>and when I try to combine t[0] and x as a tuple it ends up only giving me: </p>\n\n<pre><code>{'12blue': 1, '10blue': 0, '9blue': 0, '8blue': 1, '13blue': 1}\n{'12green': 0, '10green': 1, '9green': 0, '8green': 0, '13green': 1} \n</code></pre>\n\n<p>etc. </p>\n"}, {"tags": ["python", "python-3.x", "numpy", "pip", "installation"], "comments": [{"owner": {"reputation": 966, "user_id": 324449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2176ef875c25c8653329e175a7e084cb?s=128&d=identicon&r=PG", "display_name": "Max Gasner", "link": "https://stackoverflow.com/users/324449/max-gasner"}, "edited": false, "score": 0, "creation_date": 1569447454, "post_id": 58106406, "comment_id": 102604361, "body": "As a general rule, you should read your error messages from the bottom up. The issue here is probably straightforward: <code>SystemError: Cannot compile &#39;Python.h&#39;. Perhaps you need to install python-dev|python-devel.</code>"}, {"owner": {"reputation": 13, "user_id": 12121465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Uc9N55swwmY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdeOHiHlPiIh7dzOYZAvUPXUQydCQ/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12121465/harry"}, "reply_to_user": {"reputation": 966, "user_id": 324449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2176ef875c25c8653329e175a7e084cb?s=128&d=identicon&r=PG", "display_name": "Max Gasner", "link": "https://stackoverflow.com/users/324449/max-gasner"}, "edited": false, "score": 1, "creation_date": 1569450791, "post_id": 58106406, "comment_id": 102605238, "body": "I did notice that the error recommended to install python-dev but it was not explicit enough for a novice like me to notice that I had to install python(version)-dev. I had tried sudo apt-get install python-dev."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12121465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Uc9N55swwmY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdeOHiHlPiIh7dzOYZAvUPXUQydCQ/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12121465/harry"}, "edited": false, "score": 0, "creation_date": 1569446848, "post_id": 58106648, "comment_id": 102604169, "body": "My man....That was absolutely my issue. I appreciate the quick and concise answer!"}, {"owner": {"reputation": 486, "user_id": 7689772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-knRj4CEwY1w/AAAAAAAAAAI/AAAAAAAAFo0/4f_jsGlBxgY/photo.jpg?sz=128", "display_name": "Yanov", "link": "https://stackoverflow.com/users/7689772/yanov"}, "edited": false, "score": 0, "creation_date": 1605088570, "post_id": 58106648, "comment_id": 114542850, "body": "Thank you! You are resolve numpy issue.  For Python 3.9:  sudo apt-get install python3.9-dev"}], "tags": [], "owner": {"reputation": 7151, "user_id": 1761827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SIjha.png?s=128&g=1", "display_name": "zxzak", "link": "https://stackoverflow.com/users/1761827/zxzak"}, "is_accepted": true, "score": 2, "last_activity_date": 1569446321, "creation_date": 1569446321, "answer_id": 58106648, "question_id": 58106406, "link": "https://stackoverflow.com/questions/58106406/error-while-trying-to-install-numpy-through-pip-in-pycharm/58106648#58106648", "title": "Error while trying to install numpy through pip in Pycharm", "body": "<p>The error is:</p>\n\n<pre><code>  _configtest.c:1:10: fatal error: Python.h: No such file or directory\n       #include &lt;Python.h&gt;\n                ^~~~~~~~~~\n</code></pre>\n\n<p>It seems that you are missing the header files for building Python 3.8 modules specifically. Try:</p>\n\n<pre><code>sudo apt-get install python3.8-dev\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 486, "user_id": 7689772, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-knRj4CEwY1w/AAAAAAAAAAI/AAAAAAAAFo0/4f_jsGlBxgY/photo.jpg?sz=128", "display_name": "Yanov", "link": "https://stackoverflow.com/users/7689772/yanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1605088817, "creation_date": 1605088817, "answer_id": 64784247, "question_id": 58106406, "link": "https://stackoverflow.com/questions/58106406/error-while-trying-to-install-numpy-through-pip-in-pycharm/64784247#64784247", "title": "Error while trying to install numpy through pip in Pycharm", "body": "<p>For Python 3.9:</p>\n<pre><code>sudo apt-get install python3.9-dev \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12121465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Uc9N55swwmY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdeOHiHlPiIh7dzOYZAvUPXUQydCQ/photo.jpg?sz=128", "display_name": "Harry", "link": "https://stackoverflow.com/users/12121465/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 58106648, "answer_count": 2, "score": 1, "last_activity_date": 1605088817, "creation_date": 1569444930, "question_id": 58106406, "link": "https://stackoverflow.com/questions/58106406/error-while-trying-to-install-numpy-through-pip-in-pycharm", "title": "Error while trying to install numpy through pip in Pycharm", "body": "<p>I'm having an issue while trying to install numpy through the pipenv using python3.8 interpreter. I get a VERY large error dump in the console. I had success installing numpy with python3 interpreter so i'm not understanding why i can't with the most current python version. There error log is so long I had to upload it:</p>\n\n<p><a href=\"https://textuploader.com/108j9\" rel=\"nofollow noreferrer\">https://textuploader.com/108j9</a></p>\n\n<p>--Thanks</p>\n"}, {"tags": ["python", "python-2.7", "subprocess"], "answers": [{"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 830, "user_id": 4688878, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/yrBuv.png?s=128&g=1", "display_name": "Vitalis Hommel", "link": "https://stackoverflow.com/users/4688878/vitalis-hommel"}, "edited": false, "score": 0, "creation_date": 1569445390, "post_id": 58106428, "comment_id": 102603729, "body": "@VitalisHommel: Yar. If you want to wait on the processes, and ensure they finished successfully, you might want to switch from using <code>Popen</code> to using <code>subprocess.check_call</code>, which waits for you, and raises an exception if the command has non-0 exit status (indicating failure). Nothing else would change in your original code, you&#39;d just change <code>Popen</code> to <code>check_call</code> each time you see it."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 1, "last_activity_date": 1569445232, "last_edit_date": 1569445232, "creation_date": 1569445065, "answer_id": 58106428, "question_id": 58106390, "link": "https://stackoverflow.com/questions/58106390/subprocess-popencl-shell-true-does-not-work-like-a-shell-command-forward/58106428#58106428", "title": "subprocess.Popen(cl, ..., shell=True) does not work like a shell command forwarder", "body": "<p>You didn't wait for any of the processes to finish. To make it equivalent to running the shell commands one by one, you need to put a <code>process.wait()</code> call after each <code>Popen</code> so the command finishes before you launch the next process. In this case, <code>aplay</code> depends on <code>pico2wave</code> writing out <code>aplay</code>'s input, and depends on <code>rm</code> not removing it before it gets a chance to open it and read the contents.</p>\n\n<p>Without the <code>process.wait()</code>, it's like running (note backgrounding <code>&amp;</code>) this in the shell:</p>\n\n<pre><code>pico2wave --lang=de-DE --wave=/tmp/test.wav \"Test\" &amp;\naplay /tmp/test.wav &amp;\nrm -f /tmp/test.wav &amp;\n</code></pre>\n\n<p>which introduces all kinds of terrible race conditions.</p>\n"}], "owner": {"reputation": 830, "user_id": 4688878, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/yrBuv.png?s=128&g=1", "display_name": "Vitalis Hommel", "link": "https://stackoverflow.com/users/4688878/vitalis-hommel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58106428, "answer_count": 1, "score": 0, "last_activity_date": 1569445232, "creation_date": 1569444837, "last_edit_date": 1569445073, "question_id": 58106390, "link": "https://stackoverflow.com/questions/58106390/subprocess-popencl-shell-true-does-not-work-like-a-shell-command-forward", "title": "subprocess.Popen(cl, ..., shell=True) does not work like a shell command forwarder", "body": "<p>My goal is to make pico2wave speak in python.</p>\n\n<p>My code</p>\n\n<pre><code>cl = 'pico2wave --lang=de-DE --wave=/tmp/test.wav \"Test\"'\nprint(cl)\ntempFile = '/dev/null'\nwith open(tempFile, \"w+\") as f:\n  process = subprocess.Popen(cl, stdout=f, shell=True)\n  cl = 'aplay /tmp/test.wav'\n  print(cl)\n  process = subprocess.Popen(cl, stdout=f, shell=True) \n  cl = 'rm -f /tmp/test.wav'\n  print(cl)\n  process = subprocess.Popen(cl, stdout=f, shell=True) \n</code></pre>\n\n<p>Using the print output in the command line it works. But with the python code it does not. Why?</p>\n"}, {"tags": ["python", "azure", "azure-functions"], "comments": [{"owner": {"reputation": 9092, "user_id": 11816733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUZBA.jpg?s=128&g=1", "display_name": "Bowman Zhu", "link": "https://stackoverflow.com/users/11816733/bowman-zhu"}, "edited": false, "score": 0, "creation_date": 1569484430, "post_id": 58106361, "comment_id": 102613936, "body": "I published local data to a function app with App Service Plan. seems nothing unnormal."}], "answers": [{"tags": [], "owner": {"reputation": 9092, "user_id": 11816733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UUZBA.jpg?s=128&g=1", "display_name": "Bowman Zhu", "link": "https://stackoverflow.com/users/11816733/bowman-zhu"}, "is_accepted": true, "score": 0, "last_activity_date": 1569486161, "last_edit_date": 1592644375, "creation_date": 1569486161, "answer_id": 58112508, "question_id": 58106361, "link": "https://stackoverflow.com/questions/58106361/publishing-azure-function-with-python-packages/58112508#58112508", "title": "Publishing Azure Function with python packages", "body": "<p>Things works on my side,</p>\n<p>1.Create a Function App With App Service Plan.</p>\n<p><a href=\"https://i.stack.imgur.com/16IMr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/16IMr.png\" alt=\"enter image description here\" /></a></p>\n<p>2.Create a local Function Project.</p>\n<p><a href=\"https://i.stack.imgur.com/qxPlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qxPlm.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/GwBxq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GwBxq.png\" alt=\"enter image description here\" /></a></p>\n<p>3.Create a new function.</p>\n<p><a href=\"https://i.stack.imgur.com/ljRNl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ljRNl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Fen41.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fen41.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/FmyHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FmyHv.png\" alt=\"enter image description here\" /></a></p>\n<p>4.Deploy the Function App Project to Azure.</p>\n<p><a href=\"https://i.stack.imgur.com/lCiBg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lCiBg.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/epGeW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/epGeW.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>PS:</strong></p>\n<p>I Guess you need to re-enter the Function app from the ResourceGroup to view. Maybe it just need to refresh.</p>\n"}], "owner": {"reputation": 27, "user_id": 11958483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb734eeba0759bf9e567274cb89b4935?s=128&d=identicon&r=PG&f=1", "display_name": "heta", "link": "https://stackoverflow.com/users/11958483/heta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 58112508, "answer_count": 1, "score": 0, "last_activity_date": 1569486161, "creation_date": 1569444648, "question_id": 58106361, "link": "https://stackoverflow.com/questions/58106361/publishing-azure-function-with-python-packages", "title": "Publishing Azure Function with python packages", "body": "<p>I need help in publishing Azure Function from local system. The function uses App Service Plan and has python code.</p>\n\n<p>I have worked with azure functions in python which used consumption plan. I was able to publish the code from my local machine using</p>\n\n<blockquote>\n  <p>func azure functionapp publish app_name --build remote</p>\n</blockquote>\n\n<p>But when I created a new function app with App Service Plan this command does not publish the app.</p>\n\n<p>This is the output I get after running publish command</p>\n\n<pre><code>Getting site publishing info...\nUpdating Application Settings for Remote build...\nCreating archive for current directory...\nPerform remote build for functions project (--build remote).\nDeleting the old .python_packages directory\nUploading 288.84 KB [#############################################################################]\nRemote build in progress, please wait........done\nRemote build succeeded!\n</code></pre>\n\n<p>This gets build but not published.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "inheritance", "micropython"], "comments": [{"owner": {"reputation": 692, "user_id": 8456253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/488d3a9f1863fb3afacbedecd42c25d5?s=128&d=identicon&r=PG&f=1", "display_name": "kuco 23", "link": "https://stackoverflow.com/users/8456253/kuco-23"}, "edited": false, "score": 0, "creation_date": 1569444931, "post_id": 58106345, "comment_id": 102603571, "body": "You can&#39;t call <code>B.callMe()</code>, as it is an instance method, which requires an object <code>objB = B()</code>. If you call <code>objB.callMe()</code> it should print &#39;b&#39;"}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 2, "creation_date": 1569444933, "post_id": 58106345, "comment_id": 102603573, "body": "That does print &#39;b&#39;. <a href=\"https://ideone.com/rNGXUk\" rel=\"nofollow noreferrer\">Example</a>"}, {"owner": {"reputation": 94, "user_id": 11005296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aba5cae0bd13ed855298e966e8932f4?s=128&d=identicon&r=PG&f=1", "display_name": "branisha", "link": "https://stackoverflow.com/users/11005296/branisha"}, "edited": false, "score": 0, "creation_date": 1569445134, "post_id": 58106345, "comment_id": 102603651, "body": "Ofc, I don&#39;t call it directly on class, I wrote it like that to be brief. I&#39;ll update with real example so you can see how I need to use it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1569445513, "post_id": 58106345, "comment_id": 102603761, "body": "The whole point of overriding a method is that it should take precedence, even when called from the parent class. This allows you to write general code in the parent and delegate details to the child."}], "answers": [{"tags": [], "owner": {"reputation": 94, "user_id": 11005296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aba5cae0bd13ed855298e966e8932f4?s=128&d=identicon&r=PG&f=1", "display_name": "branisha", "link": "https://stackoverflow.com/users/11005296/branisha"}, "is_accepted": false, "score": 1, "last_activity_date": 1569446341, "creation_date": 1569446341, "answer_id": 58106652, "question_id": 58106345, "link": "https://stackoverflow.com/questions/58106345/calling-overriden-sub-method-inside-super-method/58106652#58106652", "title": "Calling overriden sub-method inside super() method", "body": "<p>Solved. I forgot infamous <code>return</code> from <code>super()</code>.\nCode:</p>\n\n<pre><code>    @disableTermDecorator\n    def readWithSign(self, *args, **kwargs):\n        return super().readWithSign(*args, **kwargs)\n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 11005296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aba5cae0bd13ed855298e966e8932f4?s=128&d=identicon&r=PG&f=1", "display_name": "branisha", "link": "https://stackoverflow.com/users/11005296/branisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569446341, "creation_date": 1569444558, "last_edit_date": 1569445650, "question_id": 58106345, "link": "https://stackoverflow.com/questions/58106345/calling-overriden-sub-method-inside-super-method", "title": "Calling overriden sub-method inside super() method", "body": "<p>I need some help regarding super() method.\nConsider this example:</p>\n\n<pre><code>class A:\n    def subMethod(self):\n        return \"a\"\n    def callMe(self):\n        print(self.subMethod())\n\nclass B(A):\n    def subMethod(self):\n        return \"b\"\n    def callMe(self):\n        print(\"Look at me\")\n        super().callMe()\n</code></pre>\n\n<p>Now, If I call <code>B.callMe()</code> it prints <code>a</code>. I want it to print <code>b</code>\nHow can I resolve this? Is it possible?</p>\n\n<p>As for details, I'm using this code on MicroPython platform, so I'm limited in use of some high-level libraries, as it only contains couple of standard libs.</p>\n\n<p>Heres real example:</p>\n\n<pre><code>class UARTbase():\n    def readLine(self):\n        pass\n\n    def readWithSign(self):\n        c = self.readLine()\n        self.printDebug(\"raw\")\n        self.printDebug(c)\n        c = c.decode()\n        self.printDebug(\"decoded\")\n        self.printDebug(c)\n        self.writeNoAck(c)\n        return c\n\n\nclass UARTesp(UARTbase):\n    def disableTermDecorator(func):\n        def aFunc(self, *args, **kwargs):\n            return_value = None\n            if(self.__term_count == 0):\n                uos.dupterm(None, 1)\n                self.getUart().init(timeout=self.TIMEOUT)\n            self.__term_count = self.__term_count + 1\n            try:\n                return_value = func(self, *args, **kwargs)\n            except Exception as e:\n                self.printDebug(\"Error in wrapper\")\n                self.printDebug(e)\n            self.__term_count = self.__term_count - 1\n            if(self.__term_count == 0):\n                self.getUart().init(timeout=0)\n                uos.dupterm(self.getUart(), 1)\n            return return_value\n        gc.collect()\n        return aFunc\n\n\n    @disableTermDecorator\n    def readLine(self, *args, **kwargs):\n        c = self.getUart().readline()\n        if(c is not None):\n            return c[:-2]\n        # for compatibilty\n        return b''\n\n    @disableTermDecorator\n    def readWithSign(self, *args, **kwargs):\n        super().readWithSign(*args, **kwargs)\n</code></pre>\n\n<p>As you can see, I only need to call super, so I can wrap methods with this specific decorator.</p>\n\n<p>When I call <code>super().readWithSign()</code> says that <code>c</code> is <code>None</code>, which it shouldn't be, in any case.</p>\n"}, {"tags": ["python", "python-3.x", "api", "loops", "for-loop"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 11794532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bf600421eab235bdc77773d2199bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Morgan", "link": "https://stackoverflow.com/users/11794532/arthur-morgan"}, "edited": false, "score": 0, "creation_date": 1569448557, "post_id": 58106719, "comment_id": 102604674, "body": "Thank you @abhilb. Does your code return all &quot;view (profile) ids&quot; for the first property of the first account?  Should I also update somewhere in &quot;property&quot; and &quot;account&quot;?"}, {"owner": {"reputation": 5059, "user_id": 1428102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OEl5y.jpg?s=128&g=1", "display_name": "abhilb", "link": "https://stackoverflow.com/users/1428102/abhilb"}, "reply_to_user": {"reputation": 143, "user_id": 11794532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bf600421eab235bdc77773d2199bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Morgan", "link": "https://stackoverflow.com/users/11794532/arthur-morgan"}, "edited": false, "score": 0, "creation_date": 1569448852, "post_id": 58106719, "comment_id": 102604752, "body": "Yes, I think so"}, {"owner": {"reputation": 143, "user_id": 11794532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bf600421eab235bdc77773d2199bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Morgan", "link": "https://stackoverflow.com/users/11794532/arthur-morgan"}, "edited": false, "score": 0, "creation_date": 1569448955, "post_id": 58106719, "comment_id": 102604785, "body": "So...How can I get every &quot;view (profile) ids&quot; for all properties of all the accounts?"}], "tags": [], "owner": {"reputation": 5059, "user_id": 1428102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OEl5y.jpg?s=128&g=1", "display_name": "abhilb", "link": "https://stackoverflow.com/users/1428102/abhilb"}, "is_accepted": false, "score": 1, "last_activity_date": 1569446704, "creation_date": 1569446704, "answer_id": 58106719, "question_id": 58106330, "link": "https://stackoverflow.com/questions/58106330/how-to-use-loop-to-get-every-element/58106719#58106719", "title": "How to use loop to get every element?", "body": "<p>Replace </p>\n\n<pre><code>if profiles.get('items'):\n # return the first view (profile) id.    \n    return profiles.get('items')[0].get('id')\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if profiles.get('items'):\n # return the first view (profile) id.    \n    return [x.get('id') for x in profiles.get('items')]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 11794532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bf600421eab235bdc77773d2199bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Morgan", "link": "https://stackoverflow.com/users/11794532/arthur-morgan"}, "edited": false, "score": 0, "creation_date": 1569448815, "post_id": 58106841, "comment_id": 102604742, "body": "Thank you @Pitto. Same questions...Does the code return all &quot;view (profile) ids&quot; for the first property of the first account? Should I also update somewhere in &quot;property&quot; and &quot;account&quot;?"}, {"owner": {"reputation": 6232, "user_id": 509977, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DxOt0.jpg?s=128&g=1", "display_name": "Pitto", "link": "https://stackoverflow.com/users/509977/pitto"}, "reply_to_user": {"reputation": 143, "user_id": 11794532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bf600421eab235bdc77773d2199bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Morgan", "link": "https://stackoverflow.com/users/11794532/arthur-morgan"}, "edited": false, "score": 0, "creation_date": 1569517502, "post_id": 58106841, "comment_id": 102631830, "body": "Hi! Please provide you input and expected output so I can help better."}], "tags": [], "owner": {"reputation": 6232, "user_id": 509977, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DxOt0.jpg?s=128&g=1", "display_name": "Pitto", "link": "https://stackoverflow.com/users/509977/pitto"}, "is_accepted": false, "score": 1, "last_activity_date": 1569447343, "creation_date": 1569447343, "answer_id": 58106841, "question_id": 58106330, "link": "https://stackoverflow.com/questions/58106330/how-to-use-loop-to-get-every-element/58106841#58106841", "title": "How to use loop to get every element?", "body": "<p>I would also like to provide a more readable solution for a beginner (not using list comprehension).</p>\n\n<pre><code>if profiles.get('items'):\n    result = [] \n    for profile in profiles.get('items'):\n        result.append(profile.get('id'))\n    return result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1598, "user_id": 2970853, "user_type": "registered", "profile_image": "https://graph.facebook.com/507188635/picture?type=large", "display_name": "henrywongkk", "link": "https://stackoverflow.com/users/2970853/henrywongkk"}, "is_accepted": true, "score": 2, "last_activity_date": 1569464425, "creation_date": 1569464425, "answer_id": 58108719, "question_id": 58106330, "link": "https://stackoverflow.com/questions/58106330/how-to-use-loop-to-get-every-element/58108719#58108719", "title": "How to use loop to get every element?", "body": "<p>Add a <a href=\"https://docs.python.org/3/tutorial/controlflow.html#for-statements\" rel=\"nofollow noreferrer\">for loop</a> for xxx.get('items')[0] to loop through all items in account/properties/profiles. Append the profile in a list and return result after all loops.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def get_first_profile_id(service):\n    # Use the Analytics service object to get the first profile id.\n\n    # Get a list of all Google Analytics accounts for the authorized user.\n    accounts = service.management().accounts().list().execute()\n\n    if accounts.get('items'):\n        result = []\n        # Loop through Google Analytics account.\n        for account_item in  accounts.get('items'):\n            account = account_item.get('id')\n            # Get a list of all the properties for the account.\n            properties = service.management().webproperties().list(\n                accountId=account).execute()\n\n            if properties.get('items'):\n                # Loop through property id.\n                for property_item in  properties.get('items'):\n                    property = property_item.get('id')\n\n                    # Get a list of all views (profiles) for the property.\n                    profiles = service.management().profiles().list(\n                        accountId=account,\n                        webPropertyId=property).execute()\n\n                    if profiles.get('items'):\n                        # append all view (profile) id in result list.\n                        for profile_item in profiles.get('items'):\n                            result.append(profile_item.get('id'))\n        return result\n    return None\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 11794532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03bf600421eab235bdc77773d2199bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Morgan", "link": "https://stackoverflow.com/users/11794532/arthur-morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 58108719, "answer_count": 3, "score": 0, "last_activity_date": 1569467266, "creation_date": 1569444474, "last_edit_date": 1569467266, "question_id": 58106330, "link": "https://stackoverflow.com/questions/58106330/how-to-use-loop-to-get-every-element", "title": "How to use loop to get every element?", "body": "<pre class=\"lang-py prettyprint-override\"><code>def get_first_profile_id(service):\n    # Use the Analytics service object to get the first profile id.\n\n    # Get a list of all Google Analytics accounts for this user\n    accounts = service.management().accounts().list().execute()\n\n    if accounts.get('items'):\n        # Get the first Google Analytics account.\n        account = accounts.get('items')[0].get('id')\n\n        # Get a list of all the properties for the first account.\n        properties = service.management().webproperties().list(\n                accountId=account).execute()\n\n        if properties.get('items'):\n            # Get the first property id.\n            property = properties.get('items')[0].get('id')\n\n            # Get a list of all views (profiles) for the first property.\n            profiles = service.management().profiles().list(\n                    accountId=account,\n                    webPropertyId=property).execute()\n\n            if profiles.get('items'):\n                # return the first view (profile) id.\n                return profiles.get('items')[0].get('id')\n\n    return None\n</code></pre>\n\n<p>Hi folks, I am using Google Analytics API to extract the data using Python. Above is the sample code provided by Google.</p>\n\n<p>I want to use loops to extract every \"view (profile) id\" from each property under each account. However, the code above only extracted the first view (profile) id of the first property of the first account.</p>\n\n<p>Can you share any suggestions? Thank you for the help!</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "edited": false, "score": 0, "creation_date": 1569445127, "post_id": 58106321, "comment_id": 102603646, "body": "In numpy it is quite simple: <code>data[artifact == 0] = np.nan</code>."}, {"owner": {"reputation": 13, "user_id": 12121503, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC1pQ5FxoIkc4gTMvqdAaUBZlJInya9nPlivufp8w=k-s128", "display_name": "Clayton Schneider", "link": "https://stackoverflow.com/users/12121503/clayton-schneider"}, "reply_to_user": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "edited": false, "score": 0, "creation_date": 1569445869, "post_id": 58106321, "comment_id": 102603871, "body": "Using the following, I&#39;m getting an error that the object is not subscriptable.  ``` for sub in subs:    for run in runs:       df.loc[sub][run][data][df.loc[sub][run][art] == 0] = np.nan ```"}], "answers": [{"comments": [{"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1569462360, "post_id": 58107505, "comment_id": 102607267, "body": "The provided answer was flagged for review as a Low Quality Post. Here are some guidelines for <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. This provided answer may be correct, but it could benefit from an explanation. Code only answers are not considered &quot;good&quot; answers. From <a href=\"https://stackoverflow.com/review\">review</a>."}, {"owner": {"reputation": 162, "user_id": 11505680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7537b6a0dfdbbbba92ab116c29aadf8?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/11505680/ilya"}, "reply_to_user": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1569601378, "post_id": 58107505, "comment_id": 102662997, "body": "I actually read the guidelines before posting, because I was wondering the same thing, but nowhere in the guidelines does it say that you should provide an explanation."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1569603078, "post_id": 58107505, "comment_id": 102663710, "body": "Check out <a href=\"https://meta.stackoverflow.com/questions/260411/reviewing-low-quality-posts-answers-without-explanation\">here</a> for some reference. We don\u2019t vote to delete code only answers, and instead add a comment asking for more explanation. More is always better."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "edited": false, "score": 0, "creation_date": 1569623333, "post_id": 58107505, "comment_id": 102669937, "body": "Btw this is a good answer and point about loops. You can\u2019t vote in review but I voted now."}, {"owner": {"reputation": 13, "user_id": 12121503, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC1pQ5FxoIkc4gTMvqdAaUBZlJInya9nPlivufp8w=k-s128", "display_name": "Clayton Schneider", "link": "https://stackoverflow.com/users/12121503/clayton-schneider"}, "edited": false, "score": 0, "creation_date": 1569971449, "post_id": 58107505, "comment_id": 102765864, "body": "Could you provide more info on implementation? I don&#39;t follow the comment on operation of a single dataframe cell in this context. Wouldn&#39;t you still have to loop over the dataframe, then apply this function?"}, {"owner": {"reputation": 162, "user_id": 11505680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7537b6a0dfdbbbba92ab116c29aadf8?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/11505680/ilya"}, "edited": false, "score": 0, "creation_date": 1570062131, "post_id": 58107505, "comment_id": 102799062, "body": "No, you don&#39;t. The single call to <code>df.applymap</code> takes care of it all for you. I added a more detailed explanation above."}], "tags": [], "owner": {"reputation": 162, "user_id": 11505680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7537b6a0dfdbbbba92ab116c29aadf8?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/11505680/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1570062090, "last_edit_date": 1570062090, "creation_date": 1569451902, "answer_id": 58107505, "question_id": 58106321, "link": "https://stackoverflow.com/questions/58106321/two-existing-numpy-arrays-conditionally-filling-in-nans/58107505#58107505", "title": "Two Existing Numpy Arrays, Conditionally Filling in NaNs", "body": "<p>Using loops in Pandas (like Clayton's answer does) gives poor performance and makes code harder to read. Whenever possible, let Pandas handle the iteration for you, like this: </p>\n\n<pre><code>def replace_values(item):\n    \"\"\"Operate on a single DataFrame cell\n    \"\"\"\n    data = item[0]\n    artifact = item[1]\n    data[artifact == 0] = np.nan\n    return [data, artifact]\n\ndf.applymap(replace_values)\n</code></pre>\n\n<p>This is an important practical and methodological point. One of the key selling points of Pandas, on a basic level, is that it includes many functions that handle complex operations, saving you the trouble of writing iterating control structures,  and running faster to boot.</p>\n\n<p>Methodologically speaking, these \"bundled\" operations save you from having to think about the details. In plain English, my solution says, \"Here is a function that operates on a cell. Apply it to each cell.\" It's concise and obvious at a glance, as long as you know what <code>applymap</code> does. You don't have to read through the explicit looping syntax to figure out what's going on.</p>\n\n<p>Yes, there's a bit of a learning curve, but it's worth it.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 12121503, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC1pQ5FxoIkc4gTMvqdAaUBZlJInya9nPlivufp8w=k-s128", "display_name": "Clayton Schneider", "link": "https://stackoverflow.com/users/12121503/clayton-schneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1569481538, "creation_date": 1569481538, "answer_id": 58111270, "question_id": 58106321, "link": "https://stackoverflow.com/questions/58106321/two-existing-numpy-arrays-conditionally-filling-in-nans/58111270#58111270", "title": "Two Existing Numpy Arrays, Conditionally Filling in NaNs", "body": "<p>thanks for your suggestions. I think I found a workaround implementing numpy masks like so. </p>\n\n<pre><code>import numpy.ma as ma\n\ndef artifactEEG(df):\n    for sub in df.index.values:\n        for run in df.columns:\n             mx = ma.masked_array(df.loc[sub][run][0], mask=df.loc[sub][run][1])\n             df.loc[sub][run][0] = mx\n    return(df)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12121503, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC1pQ5FxoIkc4gTMvqdAaUBZlJInya9nPlivufp8w=k-s128", "display_name": "Clayton Schneider", "link": "https://stackoverflow.com/users/12121503/clayton-schneider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570062090, "creation_date": 1569444423, "question_id": 58106321, "link": "https://stackoverflow.com/questions/58106321/two-existing-numpy-arrays-conditionally-filling-in-nans", "title": "Two Existing Numpy Arrays, Conditionally Filling in NaNs", "body": "<p>For each component in a large dataset, I have two equally-shaped numpy arrays: raw data, and artifact data, stored in a pandas dataframe like so:</p>\n\n<pre><code>sub run1 ... run4\n0 [data, art] ... [data, art]\n1 [data, art] ... [data, art]\n2 [data, art] ... [data, art]\n3 [data, art] ... [data, art]\n4 [data, art] ... [data, art]\n</code></pre>\n\n<p>For example: subject 1 run 1 has </p>\n\n<pre><code>data([[104.,  96.,  94., ...,  99.,  99.,  96.],\n       [102.,  94.,  92., ..., 100.,  99.,  97.],\n       [101.,  93.,  91., ...,  98.,  98.,  96.],\n       ...,\n       [ -8.,  -5., -12., ...,  -9.,   3.,  10.],\n       [ -8.,  -5., -13., ..., -10.,   4.,  11.],\n       [ -9.,  -5., -13., ..., -10.,   5.,  13.]])\n</code></pre>\n\n<p>and</p>\n\n<pre><code>artifact([[2., 2., 2., ..., 2., 2., 2.],\n       [2., 2., 2., ..., 2., 2., 2.],\n       [2., 2., 2., ..., 2., 2., 2.],\n       ...,\n       [0., 0., 0., ..., 0., 0., 0.],\n       [0., 0., 0., ..., 0., 0., 0.],\n       [0., 0., 0., ..., 0., 0., 0.]])\n</code></pre>\n\n<p>When a value in the artifact array is not 0, I'd like to replace the corresponding location in the data array with NaN. This could be done in place or in a new array. Each run is not necessarily the same length between subjects.</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 879, "user_id": 3297680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a055d86797350328e3a4bc8500b6e90?s=128&d=identicon&r=PG&f=1", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3297680/ammar"}, "edited": false, "score": 0, "creation_date": 1569444514, "post_id": 58106281, "comment_id": 102603435, "body": "possible duplicate to: <a href=\"https://stackoverflow.com/questions/1080411/retrieve-links-from-web-page-using-python-and-beautifulsoup\" title=\"retrieve links from web page using python and beautifulsoup\">stackoverflow.com/questions/1080411/&hellip;</a>"}, {"owner": {"reputation": 453, "user_id": 2355903, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2be7181de89b5e4c3837d69f0c01efdf?s=128&d=identicon&r=PG", "display_name": "user2355903", "link": "https://stackoverflow.com/users/2355903/user2355903"}, "reply_to_user": {"reputation": 879, "user_id": 3297680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a055d86797350328e3a4bc8500b6e90?s=128&d=identicon&r=PG&f=1", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3297680/ammar"}, "edited": false, "score": 0, "creation_date": 1569444609, "post_id": 58106281, "comment_id": 102603457, "body": "I have referenced that page, and have one of the solutions from in my question as one that doesn&#39;t work. As far as I can tell it does not work for my issue."}], "answers": [{"comments": [{"owner": {"reputation": 453, "user_id": 2355903, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2be7181de89b5e4c3837d69f0c01efdf?s=128&d=identicon&r=PG", "display_name": "user2355903", "link": "https://stackoverflow.com/users/2355903/user2355903"}, "edited": false, "score": 0, "creation_date": 1569449773, "post_id": 58106566, "comment_id": 102605002, "body": "This is awesome, thank you. The one thing I&#39;m having a little trouble with is turning this dictionary into a more traditional dataframe where the key (Miami Hurricanes at Florida Gators) is in the first column and the value (actual link) is in the second. Is this something that should be asked in a new question or addressed here?"}, {"owner": {"reputation": 453, "user_id": 2355903, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2be7181de89b5e4c3837d69f0c01efdf?s=128&d=identicon&r=PG", "display_name": "user2355903", "link": "https://stackoverflow.com/users/2355903/user2355903"}, "edited": false, "score": 0, "creation_date": 1569449952, "post_id": 58106566, "comment_id": 102605031, "body": "Actually I just figured it out, for any interested. data2 = pd.DataFrame.from_dict(all_links,orient=&#39;index&#39;)"}], "tags": [], "owner": {"reputation": 966, "user_id": 11596424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JIFWH.jpg?s=128&g=1", "display_name": "LuckyZakary", "link": "https://stackoverflow.com/users/11596424/luckyzakary"}, "is_accepted": true, "score": 0, "last_activity_date": 1569445780, "creation_date": 1569445780, "answer_id": 58106566, "question_id": 58106281, "link": "https://stackoverflow.com/questions/58106281/how-to-pull-links-from-within-an-a-tag/58106566#58106566", "title": "How to pull links from within an &#39;a&#39; tag", "body": "<p>The button with the link you are trying to have is loaded with javascript. The requests module does not load the javascript in the html it is searching through. Therefore, you cannot scrape the button directly to find the links you desire (without a web page simulator like Selenium). However, I found json data in the html that contains the scoreboard data in which the link is located in. If you are also looking to scrape more information (times, etc.) from this page, I highly recommend looking through the json data in the variable <code>json_scoreboard</code> in the code.</p>\n\n<h1>Code</h1>\n\n<pre class=\"lang-py prettyprint-override\"><code>import requests, re, json\nfrom bs4 import BeautifulSoup\n\nr = requests.get(r'https://www.espn.com/college-football/scoreboard/_/year/2019/seasontype/2/week/1')\nsoup = BeautifulSoup(r.text, 'html.parser')\n\nscripts_head = soup.find('head').find_all('script')\nall_links = {}\nfor script in scripts_head:\n    if 'window.espn.scoreboardData' in script.text:\n        json_scoreboard = json.loads(re.search(r'({.*?});', script.text).group(1))\n        for event in json_scoreboard['events']:\n            name = event['name']\n            for link in event['links']:\n                if link['text'] == 'Gamecast':\n                    gamecast = link['href']\n            all_links[name] = gamecast\n\nprint(all_links)\n</code></pre>\n\n<h1>Output</h1>\n\n<pre><code>{'Miami Hurricanes at Florida Gators': 'http://www.espn.com/college-football/game/_/gameId/401110723', 'Georgia Tech Yellow Jackets at Clemson Tigers': 'http://www.espn.com/college-football/game/_/gameId/401111653', 'Texas State Bobcats at Texas A&amp;M Aggies': 'http://www.espn.com/college-football/game/_/gameId/401110731', 'Utah Utes at BYU Cougars': 'http://www.espn.com/college-football/game/_/gameId/401114223', 'Florida A&amp;M Rattlers at UCF Knights': 'http://www.espn.com/college-football/game/_/gameId/401117853', 'Tulsa Golden Hurricane at Michigan State Spartans': 'http://www.espn.com/college-football/game/_/gameId/401112212', 'Wisconsin Badgers at South Florida Bulls': 'http://www.espn.com/college-football/game/_/gameId/401117856', 'Duke Blue Devils at Alabama Crimson Tide': 'http://www.espn.com/college-football/game/_/gameId/401110720', 'Georgia Bulldogs at Vanderbilt Commodores': 'http://www.espn.com/college-football/game/_/gameId/401110732', 'Florida Atlantic Owls at Ohio State Buckeyes': 'http://www.espn.com/college-football/game/_/gameId/401112251', 'Georgia Southern Eagles at LSU Tigers': 'http://www.espn.com/college-football/game/_/gameId/401110725', 'Middle Tennessee Blue Raiders at Michigan Wolverines': 'http://www.espn.com/college-football/game/_/gameId/401112222', 'Louisiana Tech Bulldogs at Texas Longhorns': 'http://www.espn.com/college-football/game/_/gameId/401112135', 'Oregon Ducks at Auburn Tigers': 'http://www.espn.com/college-football/game/_/gameId/401110722', 'Eastern Washington Eagles at Washington Huskies': 'http://www.espn.com/college-football/game/_/gameId/401114233', 'Idaho Vandals at Penn State Nittany Lions': 'http://www.espn.com/college-football/game/_/gameId/401112257', 'Miami (OH) RedHawks at Iowa Hawkeyes': 'http://www.espn.com/college-football/game/_/gameId/401112191', 'Northern Iowa Panthers at Iowa State Cyclones': 'http://www.espn.com/college-football/game/_/gameId/401112085', 'Syracuse Orange at Liberty Flames': 'http://www.espn.com/college-football/game/_/gameId/401112434', 'New Mexico State Aggies at Washington State Cougars': 'http://www.espn.com/college-football/game/_/gameId/401114228', 'South Alabama Jaguars at Nebraska Cornhuskers': 'http://www.espn.com/college-football/game/_/gameId/401112238', 'Northwestern Wildcats at Stanford Cardinal': 'http://www.espn.com/college-football/game/_/gameId/401112245', 'Houston Cougars at Oklahoma Sooners': 'http://www.espn.com/college-football/game/_/gameId/401112114', 'Notre Dame Fighting Irish at Louisville Cardinals': 'http://www.espn.com/college-football/game/_/gameId/401112436'}\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 2355903, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2be7181de89b5e4c3837d69f0c01efdf?s=128&d=identicon&r=PG", "display_name": "user2355903", "link": "https://stackoverflow.com/users/2355903/user2355903"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58106566, "answer_count": 1, "score": 0, "last_activity_date": 1569445780, "creation_date": 1569444191, "last_edit_date": 1569444549, "question_id": 58106281, "link": "https://stackoverflow.com/questions/58106281/how-to-pull-links-from-within-an-a-tag", "title": "How to pull links from within an &#39;a&#39; tag", "body": "<p>I have attempted several methods to pull links from the following webpage, but can't seem to find the desired links. From this webpage (<a href=\"https://www.espn.com/collegefootball/scoreboard/_/year/2019/seasontype/2/week/1\" rel=\"nofollow noreferrer\">https://www.espn.com/collegefootball/scoreboard/<em>/year/2019/seasontype/2/week/1</a>) I am attempting to extract all of the links for the \"gamecast\" button. The example of the first one I would be attempting to get is this: <a href=\"https://www.espn.com/college-football/game/_/gameId/401110723\" rel=\"nofollow noreferrer\">https://www.espn.com/college-football/game/</em>/gameId/401110723</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/1ZtwB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ZtwB.png\" alt=\"\"></a></p>\n\n<p>When I try to just pull all links on the page I do not even seem to get the desired ones at all, so I'm confused where I'm going wrong here. A few attempts I have made below that don't seem to be pulling in what I want. First method I tried below.</p>\n\n<pre><code>import requests\nimport csv\nfrom bs4 import BeautifulSoup\nimport pandas as pd\n\npage = requests.get('https://www.espn.com/college-football/scoreboard/_/year/2019/seasontype/2/week/1')\nsoup = BeautifulSoup(page.text, 'html.parser')\n# game_id = soup.find(name_='&amp;amp;lpos=college-football:scoreboard:gamecast')\ngame_id = soup.find('a',class_='button-alt sm')\n</code></pre>\n\n<p>Here is a second method I tried. Any help is greatly appreciated.</p>\n\n<pre><code>for a in soup.find_all('a'):\nif 'college-football' in a['href']:\nprint(link['href'])\n</code></pre>\n\n<p>Edit: as a clarification I am attempting to pull all links that contain a gameID as in the example link.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 432, "user_id": 4088081, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d3d37ba26ebcd072d5ce0e85ffbfa42e?s=128&d=identicon&r=PG&f=1", "display_name": "BND", "link": "https://stackoverflow.com/users/4088081/bnd"}, "edited": false, "score": 0, "creation_date": 1588313944, "post_id": 58106212, "comment_id": 108854752, "body": "Any update on that in pandas 1.0?"}], "answers": [{"tags": [], "owner": {"reputation": 11558, "user_id": 11897007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IoZiJ.png?s=128&g=1", "display_name": "Celius Stingher", "link": "https://stackoverflow.com/users/11897007/celius-stingher"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444420, "creation_date": 1569444420, "answer_id": 58106320, "question_id": 58106212, "link": "https://stackoverflow.com/questions/58106212/python-pandas-time-series-data-with-picosecond-precision/58106320#58106320", "title": "Python - pandas - Time series data with picosecond precision", "body": "<p>Pitifully pandas does not support <code>picoseconds</code> you can read more information regarding the issue <a href=\"https://pandas.pydata.org/pandas-docs/version/0.25/reference/api/pandas.Timestamp.replace.html\" rel=\"nofollow noreferrer\">here</a> in pandas' documentation.</p>\n\n<pre><code>year : int, optional\nmonth : int, optional\nday : int, optional\nhour : int, optional\nminute : int, optional\nsecond : int, optional\nmicrosecond : int, optional\nnanosecond : int, optional\n</code></pre>\n\n<p>Furthermore, you could add an extra column with an <code>integer</code> that would represent the picosecond value, and then concatenate it to the datetime object, into a full string that reach picosecond precision. Further more if you use <code>yyyymmddhhmmssmsusnsps</code> format you shouldn't have any issue with the sorting.</p>\n\n<p>An extra column the precision of your resampling and a groupby to wrap it up.</p>\n"}], "owner": {"reputation": 21, "user_id": 2391511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba3a616ed305624a36a2b371544ac57d?s=128&d=identicon&r=PG", "display_name": "martin24", "link": "https://stackoverflow.com/users/2391511/martin24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1569456901, "creation_date": 1569443875, "last_edit_date": 1569456901, "question_id": 58106212, "link": "https://stackoverflow.com/questions/58106212/python-pandas-time-series-data-with-picosecond-precision", "title": "Python - pandas - Time series data with picosecond precision", "body": "<p>I want to use Pandas as I am working with Simulation data with picosecond precision. Since the dataset is not equidistantly sampled I want to use the resampling functionality provided in Pandas. </p>\n\n<p>As far as I see, I need the time as datetime datatype. The numpy datetime64 datatype seems to support picosecond resolution, but Panda uses ns resolution. </p>\n\n<p>Is there a way to overcome this problem? Or can I use a column of a non datetime like type (e.g. normal float) as index for <code>pandas.DataFrame.resample</code>?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "colors", "pie-chart"], "comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1569444146, "post_id": 58106189, "comment_id": 102603313, "body": "Do not include picture of your data. Copy/paste the text into the question."}, {"owner": {"reputation": 135, "user_id": 11167781, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5j2G8YWt-Ms/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfq3N8kuy5AXawWwAjU31Iw8PVEwQ/mo/photo.jpg?sz=128", "display_name": "James D.", "link": "https://stackoverflow.com/users/11167781/james-d"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1569444692, "post_id": 58106189, "comment_id": 102603493, "body": "@QuangHoang my data is the result of a SQL query and its multi-indexed so I thought it might be better to just show it as png rather than recreating it."}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1569444789, "post_id": 58106189, "comment_id": 102603529, "body": "You can always do <code>print(df.reset_index())</code> and copy it here. Much much better than the image. More <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">here</a>."}], "answers": [{"tags": [], "owner": {"reputation": 8342, "user_id": 6942527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d97c46958116a2a923d03f109876355?s=128&d=identicon&r=PG&f=1", "display_name": "busybear", "link": "https://stackoverflow.com/users/6942527/busybear"}, "is_accepted": true, "score": 1, "last_activity_date": 1569444910, "creation_date": 1569444910, "answer_id": 58106402, "question_id": 58106189, "link": "https://stackoverflow.com/questions/58106189/change-color-of-pie-chart-according-to-section-label-pandas-matplotlib/58106402#58106402", "title": "Change color of pie chart according to section label (pandas/matplotlib)", "body": "<p>You can use the <code>colors</code> parameter for pie charts. Since this takes an array, you'll have to create an array that corresponds to your input data for each plot.</p>\n\n<pre><code>cdict = {'DIGITAL': 'r', 'DIGIMAX3D': 'y', 'DIGITAL3D': 'b', ...}\n\nfor country in plot_df.index.get_level_values(0).unique():\n    ax = axes_list.pop(0)\n    df = plot_df.loc[(country, slice(None))]\n    colors = [cdict[x] for x in df.index]  % colors based on index of input data\n    df.plot(kind='pie', colors=colors, subplots=True, legend=False, autopct='%1.1f%%', ax=ax)\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 0, "last_activity_date": 1569447587, "creation_date": 1569447587, "answer_id": 58106892, "question_id": 58106189, "link": "https://stackoverflow.com/questions/58106189/change-color-of-pie-chart-according-to-section-label-pandas-matplotlib/58106892#58106892", "title": "Change color of pie chart according to section label (pandas/matplotlib)", "body": "<p>Another thing you could do is to reshape the data and plot with pandas:</p>\n\n<pre><code>(df['$'].unstack(0,fill_value=0)\n .plot.pie(subplots=True, layout=(4,4), figsize=(12,12))\n);\n</code></pre>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mzLqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzLqr.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 135, "user_id": 11167781, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5j2G8YWt-Ms/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfq3N8kuy5AXawWwAjU31Iw8PVEwQ/mo/photo.jpg?sz=128", "display_name": "James D.", "link": "https://stackoverflow.com/users/11167781/james-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1750, "favorite_count": 0, "accepted_answer_id": 58106402, "answer_count": 2, "score": 2, "last_activity_date": 1569447587, "creation_date": 1569443769, "last_edit_date": 1569444925, "question_id": 58106189, "link": "https://stackoverflow.com/questions/58106189/change-color-of-pie-chart-according-to-section-label-pandas-matplotlib", "title": "Change color of pie chart according to section label (pandas/matplotlib)", "body": "<p>I am working from a DataFrame called <code>plot_df</code> that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UuvFu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UuvFu.png\" alt=\"plot_df\"></a></p>\n\n<pre><code>                Country Visual Format                          $\n0                 France       DEFAULT                    4.378900e+03\n1                 France     DIGITAL3D                    1.170000e+02\n2                 France        IMAX3D                    0.000000e+00\n3              Hong Kong       DIGITAL                    1.061189e+07\n4              Hong Kong     DIGITAL3D                    1.881850e+05\n5                  India          DBOX                    1.137234e+06\n6                  India       DIGIMAX                    2.653723e+06\n7                  India       DIGITAL                    3.283665e+07\n8                  Japan       DEFAULT                    5.819080e+07\n9                  Japan       DIGIMAX                    8.193800e+06\n10                Kuwait       DEFAULT                    6.130250e+04\n11                Kuwait     DIGITAL3D                    1.099000e+03\n12                Kuwait        IMAX3D                    1.057550e+04\n13                Kuwait         MXP3D                    8.736000e+03\n14              Malaysia       DIGIMAX                    2.941200e+04\n15              Malaysia       DIGITAL                    2.590491e+06\n16              Malaysia         MXP2D                    9.478000e+03\n17                Mexico          4D3D                    3.806130e+06\n18                Mexico     DIGIMAX3D                    0.000000e+00\n19                Mexico       DIGITAL                    3.631979e+07\n20                Mexico     DIGITAL3D                    7.510887e+06\n21      Netherlands, The          4D3D                    4.435451e+04\n22      Netherlands, The     DIGIMAX3D                    7.488704e+04\n23      Netherlands, The       DIGITAL                    3.350028e+04\n24      Netherlands, The     DIGITAL3D                    2.521642e+05\n25      Netherlands, The         MXP3D                    3.298899e+04\n26                  Peru       DIGITAL                    1.707998e+06\n27                  Peru     DIGITAL3D                    1.030680e+05\n28                  Peru         MXP2D                    3.961500e+04\n29                  Peru         MXP3D                    4.077950e+04\n30                  Peru           PLF                    1.310630e+05\n31                 Spain     DIGIMAX3D                    7.717070e+03\n32                 Spain       DIGITAL                    5.198949e+05\n33                 Spain     DIGITAL3D                    2.494451e+04\n34                 Spain         MXP3D                    1.025880e+04\n35              Thailand       DIGITAL                    3.217920e+05\n36                Turkey          4D3D                    5.433525e+04\n37                Turkey       DIGITAL                    2.693310e+05\n38                Turkey     DIGITAL3D                    6.161560e+05\n39                Turkey         MXP3D                    4.168149e+04\n40          UK &amp; Ireland       DEFAULT                    1.170058e+06\n41          UK &amp; Ireland     DIGITAL3D                    1.755717e+05\n42          UK &amp; Ireland        IMAX3D                    1.065599e+05\n43  United Arab Emirates       DEFAULT                    4.317666e+06\n44  United Arab Emirates     DIGITAL3D                    2.808751e+04\n45  United Arab Emirates        IMAX3D                    6.832500e+04\n</code></pre>\n\n<p>I am trying to create _ number of pie chart subplots.  This is my code so far:</p>\n\n<pre><code>fig, axes = plt.subplots(nrows=int(np.ceil(plot_df.index.get_level_values(0).nunique()/3)), \n                         ncols=3, \n                         figsize=(15,15))\nfig.tight_layout()\naxes_list = [item for sublist in axes for item in sublist] \n\nfor country in plot_df.index.get_level_values(0).unique():\n    ax = axes_list.pop(0)\n    plot_df.loc[(country, slice(None))].plot(kind='pie', \n                                             subplots=True,\n                                             legend=False, \n                                             autopct='%1.1f%%',\n                                             ax=ax)\n    ax.set_title(country, fontweight='bold')\n    ax.tick_params(\n        bottom=False\n    )\n    ax.set_ylabel(ylabel=None)\n\nfor ax in axes_list:\n    ax.remove()\n</code></pre>\n\n<p>My end result will look something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xl8NV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xl8NV.png\" alt=\"end result\"></a></p>\n\n<p>My question has to do with the colors assigned to each visual format.  Every country has a different set of formats and this leads to inconsistent assignment of colors to labels.  (For example, DIGITAL is BLUE in Hong Kong but is GREEN in India).  </p>\n\n<p>Is there a way to create a dictionary, with visual formats as keys and colors as values, and assign this dictionary to the pandas plot <strong>color</strong> parameter?  Thanks.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 1473, "user_id": 1506086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MaFbv.png?s=128&g=1", "display_name": "Rob Streeting", "link": "https://stackoverflow.com/users/1506086/rob-streeting"}, "is_accepted": false, "score": 3, "last_activity_date": 1569443489, "creation_date": 1569443489, "answer_id": 58106139, "question_id": 58106112, "link": "https://stackoverflow.com/questions/58106112/pygame-catcher-sprite-does-not-move-python-crash-course-13-5/58106139#58106139", "title": "Pygame &quot;catcher&quot; (Sprite) does not move. Python Crash Course 13-5", "body": "<p>I suspect at least part of your problem is that you are using <code>==</code> instead of <code>=</code> for assigning values to variables. For example,</p>\n\n<pre><code>if event.key == pygame.K_RIGHT:\n    guy.moving_right == True\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if event.key == pygame.K_RIGHT:\n    guy.moving_right = True\n</code></pre>\n\n<p>The reason this didn't show any errors is because it's still valid python to do an equality comparison on its own like that.</p>\n"}], "owner": {"reputation": 11, "user_id": 12121438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262e09e4d1970cf692af20f3d4a0c175?s=128&d=identicon&r=PG&f=1", "display_name": "TitoVanilla", "link": "https://stackoverflow.com/users/12121438/titovanilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569443489, "creation_date": 1569443300, "question_id": 58106112, "link": "https://stackoverflow.com/questions/58106112/pygame-catcher-sprite-does-not-move-python-crash-course-13-5", "title": "Pygame &quot;catcher&quot; (Sprite) does not move. Python Crash Course 13-5", "body": "<p>I'm trying to make a catcher move in order to catch some falling balls.\nThe balls and the catcher are Sprites ( in order to use pygame.sprite.groupcollide).\nHowever, the catcher stands still and does not obey any orders.\nI don't get any order.\nI am a noob.</p>\n\n<p>I have checked every function, but I can't find any reason.</p>\n\n<p>MAIN CODE:</p>\n\n<pre><code>import pygame\nimport sys\nfrom pygame.sprite import Group\nimport game_functions as gf\nfrom settings import Settings\nfrom guy import Guy\n\n\ndef run_game():\n    pygame.init()\n    settings = Settings()\n    screen = pygame.display.set_mode((settings.screen_width, settings.screen_height))\n    pygame.display.set_caption('Catcher game')\n    balls = Group()\n    guys = Group()\n    guy = Guy(screen, settings)\n    guys.add(guy)\n    while True:\n        for guy in guys:\n            gf.check_events(guy)\n        guy.update()\n        gf.update_ball (settings, screen, guys, balls)\n        gf.check_ball_bottom (settings, balls)\n        gf.update_screen (screen, guys, balls, settings)\n\nrun_game()\n</code></pre>\n\n<p>FUNCTIONS:</p>\n\n<pre><code>import pygame\nimport sys\nfrom ball import Ball\nfrom settings import Settings\nfrom guy import Guy\n\ndef check_events(guy):\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            pygame.display.quit()\n            sys.exit()\n        elif event.type == pygame.KEYDOWN:\n            check_keydown_events (event, guy )\n        elif event.type == pygame.KEYUP:\n            check_keyup_events (event, guy)\n\ndef check_keydown_events (event, guy):\n    if event.key == pygame.K_RIGHT:\n        guy.moving_right == True\n    elif event.key == pygame.K_LEFT:\n        guy.moving_left == True\n    elif event.key == pygame.K_q:\n        pygame.display.quit()\n        sys.exit()\n\ndef check_keyup_events (event, guy):\n    if event.key == pygame.K_RIGHT:\n        guy.moving_right == False\n    elif event.key == pygame.K_LEFT:\n        guy.moving_left == False\n\ndef create_new_ball (screen, settings, balls):\n    new_ball = Ball (screen, settings)\n    balls.add(new_ball)\n\ndef update_ball (settings, screen, guys, balls):\n    #we have to check if there is any ball left\n    if len(balls) == 0:\n        create_new_ball (screen, settings, balls)\n\n    collisions = pygame.sprite.groupcollide (balls, guys, True, False)\n\ndef check_ball_bottom (settings, balls):\n    for ball in balls.copy():\n        if ball.rect.y &gt; settings.screen_height:\n            balls.remove(ball)\n\ndef update_screen (screen, guys, balls, settings):\n    screen.fill(settings.bg_color)\n\n    for ball in balls:\n        ball.update()\n    balls.draw(screen)\n    for guy in guys:\n        guy.blitme()\n\n    pygame.display.flip()\n</code></pre>\n\n<p>THE CATCHER CLASS:</p>\n\n<pre><code>import pygame\n\nfrom pygame.sprite import Sprite\n\nclass Guy(Sprite):\n    def __init__(self, screen, settings):\n        super().__init__()\n        self.screen = screen\n        self.image = pygame.image.load('images/guy.bmp')\n        self.rect = self.image.get_rect()\n        self.screen_rect = screen.get_rect()\n        self.settings = settings\n\n        #set character position\n        self.rect.centerx = self.screen_rect.centerx\n        self.rect.bottom = self.screen_rect.bottom\n\n        #set flags\n        self.moving_right = False\n        self.moving_left = False\n\n        self.center = float(self.rect.centerx)\n\n    def update (self):\n        if self.moving_right and self.rect.right &lt; self.setting.width:\n            self.center += self.settings.guy_speed\n        if self.moving_left and self.rect.left &gt; 0 :\n            self.center -= self.settings.guy_speed\n\n        self.rect.centerx = self.center\n\n\n    def blitme(self):\n        self.screen.blit (self.image, self.rect)\n        #IS this method necessaire if I use guys.draw()?\n\n\n\n</code></pre>\n\n<p>I don't get any error message.</p>\n"}, {"tags": ["python", "python-3.x", "class", "oop"], "comments": [{"owner": {"reputation": 1563, "user_id": 3404040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JrNTUKgimeo/AAAAAAAAAAI/AAAAAAAAACw/-9QAfnVSUDs/photo.jpg?sz=128", "display_name": "Take_Care_", "link": "https://stackoverflow.com/users/3404040/take-care"}, "edited": false, "score": 0, "creation_date": 1569443475, "post_id": 58106087, "comment_id": 102603069, "body": "As I understand you want to know inside which class is given class instance created ?"}, {"owner": {"reputation": 1267, "user_id": 10463261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f36968922a93930e4ae8259f8cacaf?s=128&d=identicon&r=PG", "display_name": "Daniel Morell", "link": "https://stackoverflow.com/users/10463261/daniel-morell"}, "reply_to_user": {"reputation": 1563, "user_id": 3404040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JrNTUKgimeo/AAAAAAAAAAI/AAAAAAAAACw/-9QAfnVSUDs/photo.jpg?sz=128", "display_name": "Take_Care_", "link": "https://stackoverflow.com/users/3404040/take-care"}, "edited": false, "score": 0, "creation_date": 1569443602, "post_id": 58106087, "comment_id": 102603118, "body": "@Take_Care_ Yes. That is what I would like to do."}, {"owner": {"reputation": 1563, "user_id": 3404040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JrNTUKgimeo/AAAAAAAAAAI/AAAAAAAAACw/-9QAfnVSUDs/photo.jpg?sz=128", "display_name": "Take_Care_", "link": "https://stackoverflow.com/users/3404040/take-care"}, "edited": false, "score": 1, "creation_date": 1569443759, "post_id": 58106087, "comment_id": 102603173, "body": "So there are two ways that I can think of :  first -&gt; <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__set_name__\" rel=\"nofollow noreferrer\">docs.python.org/3/reference/datamodel.html#object.__set_name&zwnj;&#8203;__</a>"}, {"owner": {"reputation": 1563, "user_id": 3404040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JrNTUKgimeo/AAAAAAAAAAI/AAAAAAAAACw/-9QAfnVSUDs/photo.jpg?sz=128", "display_name": "Take_Care_", "link": "https://stackoverflow.com/users/3404040/take-care"}, "edited": false, "score": 0, "creation_date": 1569443916, "post_id": 58106087, "comment_id": 102603231, "body": "Second -&gt;  meta-class, because the class itself is just an instance of some metaclass, the metaclass can implement special initialization like the one you need."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1569444235, "post_id": 58106087, "comment_id": 102603344, "body": "&quot;However, it would be nice to do it without needing to pass the class name as an argument when the class is initialized.&quot; But that would be the most straight-forward and explicit way to do this. You <i>can</i> do what you are proposing, but it would probably involve instrospecting the call stack and all other sorts of metaprogramming which would be completely overengineering something for little apparent gain (indeed, it would be <i>worse</i> from my perspective, non-idiomatic and non-explicit &quot;magic&quot;). It would also probably be hard to create a robust solution."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1569448616, "post_id": 58106087, "comment_id": 102604689, "body": "In your example, <code>subclass = SubClass()</code> <i>isn&#39;t being instantiated inside of a class</i> - that code is part of a block that will be executed to <i>produce</i> a class, but at the actual time of execution <code>TopLevelClass</code> does not exist yet."}, {"owner": {"reputation": 1267, "user_id": 10463261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f36968922a93930e4ae8259f8cacaf?s=128&d=identicon&r=PG", "display_name": "Daniel Morell", "link": "https://stackoverflow.com/users/10463261/daniel-morell"}, "reply_to_user": {"reputation": 1563, "user_id": 3404040, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JrNTUKgimeo/AAAAAAAAAAI/AAAAAAAAACw/-9QAfnVSUDs/photo.jpg?sz=128", "display_name": "Take_Care_", "link": "https://stackoverflow.com/users/3404040/take-care"}, "edited": false, "score": 0, "creation_date": 1569449885, "post_id": 58106087, "comment_id": 102605016, "body": "Thank you @Take_Care_ that was what I was looking for."}, {"owner": {"reputation": 1267, "user_id": 10463261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f36968922a93930e4ae8259f8cacaf?s=128&d=identicon&r=PG", "display_name": "Daniel Morell", "link": "https://stackoverflow.com/users/10463261/daniel-morell"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569450400, "post_id": 58106087, "comment_id": 102605146, "body": "@juanpa.arrivillaga Your points are well taken. Thank you! If it were not for <code>__set_name__</code> as Take_Care_ pointed out I don&#39;t think I would tried to build a solution."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12110927, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCiTHrVONAhpY5-ghF7Ff-rMtXiTCRkwSF4w3Gjtg=k-s128", "display_name": "Jordan G", "link": "https://stackoverflow.com/users/12110927/jordan-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444516, "creation_date": 1569444516, "answer_id": 58106340, "question_id": 58106087, "link": "https://stackoverflow.com/questions/58106087/get-name-of-class-another-class-is-instantiated-inside-of-in-python/58106340#58106340", "title": "Get name of class another class is instantiated inside of in Python", "body": "<p>I would suggest revisiting the design for these two classes. Having the instantiated class be aware of the calling class violates design principals of encapsulation and abstraction. It also creates a cyclic dependency (in this case only a logical dependency as only the name of the class is known). If you're using the class name as some kind of identifier for the instantiated class, you can pass in an id string in the constructor as you have in your example.</p>\n"}], "owner": {"reputation": 1267, "user_id": 10463261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5f36968922a93930e4ae8259f8cacaf?s=128&d=identicon&r=PG", "display_name": "Daniel Morell", "link": "https://stackoverflow.com/users/10463261/daniel-morell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1569444516, "creation_date": 1569443158, "question_id": 58106087, "link": "https://stackoverflow.com/questions/58106087/get-name-of-class-another-class-is-instantiated-inside-of-in-python", "title": "Get name of class another class is instantiated inside of in Python", "body": "<p>Is it possible to get the name of a python class in another class that was instantiated inside the first class.</p>\n\n<p>Let me give you an example.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class SubClass:\n    top_level_name = None # name class it is instantiated in e.g. TopLevelClass\n\nclass TopLevelClass:\n    subclass = SubClass()\n</code></pre>\n\n<p>I understand that I can write the following...</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class SubClass:\n    def __init__(self, class_name):\n        self.top_level_name = class_name\n\nclass TopLevelClass:\n    subclass = SubClass(class_name)\n\n    def __init__(self):\n        self.class_name = self.__class__.__name__\n</code></pre>\n\n<p>However, it would be nice to do it without needing to pass the class name as an argument when the class is initialized.</p>\n\n<p>Is this possible, just wishful thinking, or a really bad idea for some reason I have not thought of yet.</p>\n"}, {"tags": ["python", "type-conversion", "tuples"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1569443262, "post_id": 58106083, "comment_id": 102602993, "body": "<code>d.replace(&quot; &quot;, &quot;&quot;)</code> returns a new string, just do: <code>d = d.replace(&quot; &quot;, &quot;&quot;)</code>."}, {"owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "edited": false, "score": 3, "creation_date": 1569443358, "post_id": 58106083, "comment_id": 102603025, "body": "can you give an example of <code>d</code>?"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "reply_to_user": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "edited": false, "score": 1, "creation_date": 1569443894, "post_id": 58106083, "comment_id": 102603220, "body": "@MasonCaiby you can see and example of in the call <code>convert(&quot;-122.4194, 37.7749&quot;)</code>"}, {"owner": {"reputation": 25081, "user_id": 4804629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGzEm.jpg?s=128&g=1", "display_name": "splash58", "link": "https://stackoverflow.com/users/4804629/splash58"}, "edited": false, "score": 0, "creation_date": 1569443958, "post_id": 58106083, "comment_id": 102603249, "body": "<code>def convert(d):    return tuple(map(float,d.split(&#39;,&#39;))) # (-122.4194, 37.7749)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "is_accepted": true, "score": 2, "last_activity_date": 1569444083, "creation_date": 1569444083, "answer_id": 58106259, "question_id": 58106083, "link": "https://stackoverflow.com/questions/58106083/converting-lat-lon-strings-to-tuple/58106259#58106259", "title": "Converting lat/lon strings to tuple", "body": "<p>Use <code>ast.literal_eval</code> like this: [<a href=\"https://docs.python.org/3/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\">docs</a>]</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; import ast\n&gt;&gt;&gt;\n&gt;&gt;&gt; d = \"-122.4194, 37.7749\"\n&gt;&gt;&gt; print(ast.literal_eval(d))\n(-122.4194, 37.7749)\n&gt;&gt;&gt; type(ast.literal_eval(d))\n&lt;class 'tuple'&gt;\n</code></pre>\n\n<p><strong>This method will only work if you expect the input to <em>look like</em> a tuple like is given in your example</strong> <code>convert(\"-122.4194, 37.7749\")</code></p>\n\n<p>So for your code if you want to use <code>convert(d)</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import ast\n\ndef convert(d):\n    return ast.literal_eval(d)\n\nconvert(\"-122.4194, 37.7749\")\n</code></pre>\n\n<p>Result:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; x = convert(\"-122.4194, 37.7749\")\n&gt;&gt;&gt; type(x)\n&lt;class 'tuple'&gt;\n&gt;&gt;&gt; x\n(-122.4194, 37.7749)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444367, "creation_date": 1569444367, "answer_id": 58106311, "question_id": 58106083, "link": "https://stackoverflow.com/questions/58106083/converting-lat-lon-strings-to-tuple/58106311#58106311", "title": "Converting lat/lon strings to tuple", "body": "<p>This problem is that you are splitting <code>d</code> on whitespace with <code>d.split()</code> in your list comprehension. For your example input this is unnecessary. Just split on the comma:</p>\n\n<pre><code>def convert(d):\n    d.replace(\" \", \"\")\n    return tuple(map(float,d.split(',')))\n\ncoords = convert(\"-122.4194, 37.7749\")\nprint(coords)\n</code></pre>\n\n<p>Since <code>float()</code> ignores whitespace anyway, you don't need to call <code>d.replace()</code>:</p>\n\n<pre><code>def convert(d):\n    return tuple(map(float,d.split(',')))\n\ncoords = convert(\"-122.4194, 37.7749\")\nprint(coords)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444670, "last_edit_date": 1569444670, "creation_date": 1569444441, "answer_id": 58106325, "question_id": 58106083, "link": "https://stackoverflow.com/questions/58106083/converting-lat-lon-strings-to-tuple/58106325#58106325", "title": "Converting lat/lon strings to tuple", "body": "<p>Why don't you just do this? This removes the need to replace the <code>' '</code> with <code>''</code> and also simplifies the work you were doing in your function. It also doesn't require any extra packages. Actually, you <code>float()</code> will strip the leading space from the second point in your tuple.</p>\n\n<pre><code>def convert(d):\n    return tuple(map(float,d.split(',')))\n\nconvert(\"-122.4194, 37.7749\")\n</code></pre>\n\n<p>Note that in cases when you do want to remove whitespace from the beginning and ending of a string, you can use <code>strip()</code> instead of <code>replace(' ', '')</code>.</p>\n"}], "owner": {"reputation": 43, "user_id": 12121462, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jyKXJpMO0HI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdrvnA32SK3NpjGwY3Juh6qe85k1A/photo.jpg?sz=128", "display_name": "Matt", "link": "https://stackoverflow.com/users/12121462/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 58106259, "answer_count": 3, "score": 2, "last_activity_date": 1569444670, "creation_date": 1569443150, "last_edit_date": 1569443185, "question_id": 58106083, "link": "https://stackoverflow.com/questions/58106083/converting-lat-lon-strings-to-tuple", "title": "Converting lat/lon strings to tuple", "body": "<p>I want to create a function that converts lat/lon string into tuples. \nThis is what I have tried but it is giving me an error \"could not convert string to float\".</p>\n\n<p>Thanks for your help.</p>\n\n<pre><code>def convert(d):\n    d.replace(\" \", \"\")\n    return [tuple(map(float,coords.split(','))) for coords in d.split()]\n\nconvert(\"-122.4194, 37.7749\")\n</code></pre>\n\n<p>Output:\nValueError: could not convert string to float: </p>\n"}, {"tags": ["python", "pandas", "duplicates"], "answers": [{"tags": [], "owner": {"reputation": 24167, "user_id": 7388477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42e688ade97076d4fdd1939946e7c7b?s=128&d=identicon&r=PG&f=1", "display_name": "Valdi_Bo", "link": "https://stackoverflow.com/users/7388477/valdi-bo"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443759, "creation_date": 1569443759, "answer_id": 58106186, "question_id": 58106071, "link": "https://stackoverflow.com/questions/58106071/pandas-iterate-over-duplicate-rows-to-check-for-unique-values/58106186#58106186", "title": "pandas: Iterate over duplicate rows to check for unique values", "body": "<p>One of possible solutions:\nGroup by <code>col1</code> and filter each group checking whether all <code>col2</code> values\nare <em>True</em> or all of them are <em>False</em>:</p>\n\n<pre><code>df.groupby('col1').filter(lambda x: x.col2.all() | (~x.col2).all())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 2, "last_activity_date": 1569443889, "creation_date": 1569443889, "answer_id": 58106216, "question_id": 58106071, "link": "https://stackoverflow.com/questions/58106071/pandas-iterate-over-duplicate-rows-to-check-for-unique-values/58106216#58106216", "title": "pandas: Iterate over duplicate rows to check for unique values", "body": "<p>You want <code>nunique</code>:</p>\n\n<pre><code>df[df.groupby('col1')['col2'].transform('nunique').eq(1)]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   col1   col2\na     0   True\nb     0   True\ne     2  False\nf     2  False\ng     3   True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 10286430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114b33f975d8085f01e665d5b9d49cbe?s=128&d=identicon&r=PG&f=1", "display_name": "HelpfulHound", "link": "https://stackoverflow.com/users/10286430/helpfulhound"}, "is_accepted": false, "score": -1, "last_activity_date": 1569444068, "creation_date": 1569444068, "answer_id": 58106256, "question_id": 58106071, "link": "https://stackoverflow.com/questions/58106071/pandas-iterate-over-duplicate-rows-to-check-for-unique-values/58106256#58106256", "title": "pandas: Iterate over duplicate rows to check for unique values", "body": "<p>What have you tried? Seems like a reasonably straightforward problem. I'd use shape and drop_duplicates():</p>\n\n<pre><code>data=[\n col1 col2\na  0  True \nb  0  True\nc  1  True\nd  1  False\ne  2  False\nf  2  False\ng  3  True\n]\n\ncols=[\"col1\",\"col2\"]\ndf=pd.DataFrame(data, columns=cols)\n\nfor ind, row in df.drop_duplicates(subset=[\"col1\"])[\"col1\"].iteritems():\n    df1=df[df[\"col1\"]==row]\n    if df1.shape[0] == df1.drop_duplicates().shape[0]:\n        #logic goes here\n</code></pre>\n\n<p>If the shapes match after dropping duplicates, they're different values. If not, then drop the whole subset and don't build the new dataframe with those rows.</p>\n"}], "owner": {"reputation": 103, "user_id": 8584741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80ffd8b94bcc662969199c624703fd81?s=128&d=identicon&r=PG&f=1", "display_name": "aw94", "link": "https://stackoverflow.com/users/8584741/aw94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 752, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1569444068, "creation_date": 1569443115, "question_id": 58106071, "link": "https://stackoverflow.com/questions/58106071/pandas-iterate-over-duplicate-rows-to-check-for-unique-values", "title": "pandas: Iterate over duplicate rows to check for unique values", "body": "<p>Given a dataframe as follows:</p>\n\n<pre><code> col1 col2\na  0  True \nb  0  True\nc  1  True\nd  1  False\ne  2  False\nf  2  False\ng  3  True\n</code></pre>\n\n<p>For each unique value in col1, I would like to check if all values in col2 are matching, otherwise drop all rows for that corresponding value such that this would yield:</p>\n\n<pre><code> col1 col2\na  0  True \nb  0  True\ne  2  False\nf  2  False\ng  3  True\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 9589, "user_id": 2846923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0d6c72fc52493dce1c9bde30cdce946?s=128&d=identicon&r=PG", "display_name": "The Guy with The Hat", "link": "https://stackoverflow.com/users/2846923/the-guy-with-the-hat"}, "edited": false, "score": 0, "creation_date": 1569444678, "post_id": 58106068, "comment_id": 102603487, "body": "Presumably something is wrong with your lambda layer."}, {"owner": {"reputation": 365, "user_id": 3472735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmpjf.jpg?s=128&g=1", "display_name": "Mohamad Zeina", "link": "https://stackoverflow.com/users/3472735/mohamad-zeina"}, "edited": false, "score": 1, "creation_date": 1569446181, "post_id": 58106068, "comment_id": 102603976, "body": "but got array with shape ... is the data that&#39;s being fed in, not the shape of the model - seems like an error with your data to me"}, {"owner": {"reputation": 14244, "user_id": 10133797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLiLn.png?s=128&g=1", "display_name": "OverLordGoldDragon", "link": "https://stackoverflow.com/users/10133797/overlordgolddragon"}, "edited": false, "score": 0, "creation_date": 1569450230, "post_id": 58106068, "comment_id": 102605101, "body": "To better assist, the code of your model and data would help more than the images (which you could remove entirely)."}, {"owner": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "reply_to_user": {"reputation": 14244, "user_id": 10133797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLiLn.png?s=128&g=1", "display_name": "OverLordGoldDragon", "link": "https://stackoverflow.com/users/10133797/overlordgolddragon"}, "edited": false, "score": 0, "creation_date": 1569485711, "post_id": 58106068, "comment_id": 102614527, "body": "@OverLordGoldDragon I&#39;ve added the previous code (the one that had problem) &amp; the solution code which at this point I&#39;m not sure is a true fix or just avoids errors. I would be thankful if you look these codes &amp; explain to me why the previous structure didn&#39;t work. Thanks."}, {"owner": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "reply_to_user": {"reputation": 9589, "user_id": 2846923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0d6c72fc52493dce1c9bde30cdce946?s=128&d=identicon&r=PG", "display_name": "The Guy with The Hat", "link": "https://stackoverflow.com/users/2846923/the-guy-with-the-hat"}, "edited": false, "score": 0, "creation_date": 1569485789, "post_id": 58106068, "comment_id": 102614557, "body": "@TheGuywithTheHat The lambda layer was fine.the problem was with the shapes."}, {"owner": {"reputation": 14244, "user_id": 10133797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLiLn.png?s=128&g=1", "display_name": "OverLordGoldDragon", "link": "https://stackoverflow.com/users/10133797/overlordgolddragon"}, "edited": false, "score": 0, "creation_date": 1569506844, "post_id": 58106068, "comment_id": 102626188, "body": "@Eshan What problem are you solving? (Regression, binary classification, multiclass classification, etc)"}, {"owner": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "reply_to_user": {"reputation": 14244, "user_id": 10133797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLiLn.png?s=128&g=1", "display_name": "OverLordGoldDragon", "link": "https://stackoverflow.com/users/10133797/overlordgolddragon"}, "edited": false, "score": 0, "creation_date": 1569507034, "post_id": 58106068, "comment_id": 102626315, "body": "@OverLordGoldDragon I&#39;m solving binary classification &amp; my data is text in the form of &quot;Document-Term ferquency&quot; matrix."}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "is_accepted": false, "score": 0, "last_activity_date": 1569485402, "creation_date": 1569485402, "answer_id": 58112293, "question_id": 58106068, "link": "https://stackoverflow.com/questions/58106068/keras-valueerror-error-when-checking-target-expected-dense-1-to-have-3-dimensi/58112293#58112293", "title": "Keras ValueError: Error when checking target: expected dense_1 to have 3 dimensions", "body": "<p>Well I found the solution to the error but still can't understand why that previous shape didn't work out &amp; quite frankly this fix was a success among numerous trial &amp; error.</p>\n\n<p>I changed the following layers input from the shape format (1, x) to the format of (x,):</p>\n\n<pre><code>    input_layer = Input(shape=(no_terms,), name='docs')\n\n    k_constants = backend.constant(np.reshape(tpr_fpr.T, (1,2*no_terms)))\n    fixed_input = Input(tensor=k_constants, shape=(2*no_terms,), name='tpr_fpr')\n    h = Dense(int(300), activation='relu', name='hidden', input_shape=(2*no_terms,), trainable=True)(fixed_input)\n\n    o = ReLU(max_value=None, negative_slope=0.0, threshold=0.0)(o)\n    o = Dense(1, activation='sigmoid', input_shape=(no_terms,))(o)\n</code></pre>\n\n<p>and also removed the following lines from the code:</p>\n\n<pre><code>    train_docs.shape = (train_docs.shape[0], 1, train_docs.shape[1])\n    train_label = to_categorical(train_label, num_classes=2, dtype='float32')\n</code></pre>\n\n<p>Now I'm just using a label of shape (#no_of_samples, 1) which is binary &amp; not a categorical label.</p>\n\n<p>So the new structure is:\n<a href=\"https://i.stack.imgur.com/G4yUn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4yUn.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope somebody can explain what was wrong with the previous model, so I would avoid making the same mistake again.</p>\n\n<p>Thanks.</p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "edited": false, "score": 0, "creation_date": 1569486154, "post_id": 58112321, "comment_id": 102614737, "body": "Well, my work is in text domain &amp; my original data is in format of shape (#No_Of_Samples, #No_TF_as_Features) But I reshaped the data to be of shpae (#No_Of_Samples, 1 ,#No_TF_as_Features)."}], "tags": [], "owner": {"reputation": 111, "user_id": 9569642, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PKiS4uncpac/AAAAAAAAAAI/AAAAAAAAAl4/LzBQKND-1_8/photo.jpg?sz=128", "display_name": "HEMANTHKUMAR GADI", "link": "https://stackoverflow.com/users/9569642/hemanthkumar-gadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1569485493, "creation_date": 1569485493, "answer_id": 58112321, "question_id": 58106068, "link": "https://stackoverflow.com/questions/58106068/keras-valueerror-error-when-checking-target-expected-dense-1-to-have-3-dimensi/58112321#58112321", "title": "Keras ValueError: Error when checking target: expected dense_1 to have 3 dimensions", "body": "<p>checking target: expected dense_1 to have 3 dimensions, but got array with shape (1430, 2)\"</p>\n\n<p>That means  dense_1  have 3 dimensions but your input  have only 2 dimensions if your design this model in Image processing in that case you have declare the image shape yhat is ((48,48),1) &amp; ((48,48),3) here 1 is for gray scale &amp; 3 is for rgb images </p>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "edited": false, "score": 0, "creation_date": 1569509443, "post_id": 58119057, "comment_id": 102627874, "body": "Thank you for your through explanation."}, {"owner": {"reputation": 14244, "user_id": 10133797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLiLn.png?s=128&g=1", "display_name": "OverLordGoldDragon", "link": "https://stackoverflow.com/users/10133797/overlordgolddragon"}, "reply_to_user": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "edited": false, "score": 0, "creation_date": 1569511734, "post_id": 58119057, "comment_id": 102629082, "body": "@Ehsan Glad the matter&#39;s cleared; consider also upvoting"}], "tags": [], "owner": {"reputation": 14244, "user_id": 10133797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLiLn.png?s=128&g=1", "display_name": "OverLordGoldDragon", "link": "https://stackoverflow.com/users/10133797/overlordgolddragon"}, "is_accepted": true, "score": 1, "last_activity_date": 1569508155, "creation_date": 1569508155, "answer_id": 58119057, "question_id": 58106068, "link": "https://stackoverflow.com/questions/58106068/keras-valueerror-error-when-checking-target-expected-dense-1-to-have-3-dimensi/58119057#58119057", "title": "Keras ValueError: Error when checking target: expected dense_1 to have 3 dimensions", "body": "<p>You did indeed directly solve the problem - here's how:</p>\n\n<ul>\n<li>Keras binary classification expects labels ('targets') shaped as <code>(batch_size, 1)</code>. Reason: the goal of the final layer is to output <em>predictions</em>, which will be compared against <em>labels</em> to compute metrics (loss, accuracy, etc) - and labels are shaped <code>(batch_size, 1)</code></li>\n<li>Above is also why <code>to_categorical</code> was a problem - see snippet from <a href=\"https://keras.io/utils/#to_categorical\" rel=\"nofollow noreferrer\">docs</a> below; for binary classification, one-hot encoding is redundant, as <code>binary_crossentropy</code> directly compares labels against predictions as supplied</li>\n<li>Keras <code>Dense</code> expects inputs to be 2D: <code>(batch_size, input_dim)</code>. Your reshaping was making the input 3D: <code>(batch_size, 1, input_dim)</code></li>\n<li>Above is also why <code>shape=(1, no_terms)</code> --> <code>shape=(no_terms,)</code> helped; both are, in fact, correct for the data shapes you were feeding at the time. The full batch shape simply includes the batch dim: <code>(batch_size, no_terms)</code> (<code>no_terms == input_dim</code>)</li>\n<li>Lastly, for binary classification, use <code>loss='binary_crossentropy'</code> - and never mean square error for classification problems (unless for very specific reasons)</li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code># Consider an array of 5 labels out of a set of 3 classes {0, 1, 2}:\n&gt; labels\narray([0, 2, 1, 2, 0])\n# `to_categorical` converts this into a matrix with as many\n# columns as there are classes. The number of rows\n# stays the same.\n&gt; to_categorical(labels)\narray([[ 1.,  0.,  0.],\n       [ 0.,  0.,  1.],\n       [ 0.,  1.,  0.],\n       [ 0.,  0.,  1.],\n       [ 1.,  0.,  0.]], dtype=float32)\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 2034650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MIABH.jpg?s=128&g=1", "display_name": "Ehsan", "link": "https://stackoverflow.com/users/2034650/ehsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 58119057, "answer_count": 3, "score": 1, "last_activity_date": 1569508155, "creation_date": 1569443105, "last_edit_date": 1569506747, "question_id": 58106068, "link": "https://stackoverflow.com/questions/58106068/keras-valueerror-error-when-checking-target-expected-dense-1-to-have-3-dimensi", "title": "Keras ValueError: Error when checking target: expected dense_1 to have 3 dimensions", "body": "<p>I'm using keras with tensorflow backend &amp; have faced problem figuring out the right shapes for layers for my model.</p>\n\n<p>I have already read <a href=\"https://stackoverflow.com/a/44748370\">this </a> useful explanation on the difference of various keras layers' attributes.</p>\n\n<p>This is the architecture of my model:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WLVwg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLVwg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to do a binary classification (logistic regression) using categorical labels &amp; hence the last layer is a Dense layer with 1 unit which I assumed that would evaluate to 1 for positive class and 0 for negative class.</p>\n\n<p>And this is my model's summary:</p>\n\n<p><a href=\"https://i.stack.imgur.com/q03fN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q03fN.png\" alt=\"enter image description here\"></a></p>\n\n<p>My input in one side of the net is 10158 &amp; for the other-side is 20316. I have total 1370 samples. My train_data's shape is (1370, 1, 10158) &amp; the label's shape is (1, 1370) &amp; the batch size is 100.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>input_layer = Input(shape=(1,no_terms), name='docs')\ns = Lambda(lambda x: x+1)(input_layer)\nlog_layer = Lambda(log, name='tf_output')(input_layer)\n\ntpr_fpr = np.zeros((2, no_terms))\ntpr_fpr[0,:] = np.sum(train_docs[np.where(train_label&gt;0), :]&gt;0, axis=1\n                      )/np.sum(train_label&gt;0) * (1000)\ntpr_fpr[1,:] = np.sum(train_docs[np.where(train_label&gt;0), :]&gt;0, axis=1\n                     )/np.sum(train_label &lt;= 0) * (1000)\n\nk_constants = backend.constant(np.reshape(tpr_fpr.T, (1,2*no_terms)))\nfixed_input = Input(tensor=k_constants, shape=(1, 2*no_terms), name='tpr_fpr')\nh = Dense(int(300), activation='relu', name='hidden', input_shape=(1, 2*no_terms), \n          trainable=True)(fixed_input)\nh = Dropout(0.2, name=\"D\")(h)\ncd = Dense(units=no_terms, activation='relu', name='cd', trainable=True)(h)\n\n\nprod = Multiply()([log_layer, cd])\no = Lambda(lambda x:(x/backend.sqrt(backend.sum(x * x,axis=1,keepdims=True))))(prod)\no = ReLU(max_value=None, negative_slope=0.0, threshold=0.0)(o)\no = Dense(1, activation='sigmoid', input_shape=(no_terms,))(o)\n\n\nmodel_const = Model(fixed_input,cd)\nmodel = Model([input_layer, fixed_input], o)\n\nop = optimizers.RMSprop(learning_rate=.1, rho=0.9)\nmodel.compile(optimizer=op, loss=mean_squared_error, metrics=['accuracy'])\nplot_model(model, to_file='model.png')\nmodel.summary()\nbatchSize = 100\n\ncheckpoint = ModelCheckpoint(filepath=\"a.hdf5\",monitor='val_acc', mode='max', \n                             save_best_only=True)\nearlystop=EarlyStopping(monitor='val_loss', patience=20)\n\ntrain_docs.shape = (train_docs.shape[0], 1, train_docs.shape[1])\ntrain_label = to_categorical(train_label, num_classes=2, dtype='float32')\nmodel.fit(train_docs, train_label, epochs=10, batch_size=batchSize, \n          validation_data=(test_docs, test_label), \n          callbacks=[earlystop, checkpoint], verbose=1)\n</code></pre>\n\n<p>And here's the error I got:\n\"ValueError: Error when checking target: expected dense_1 to have 3 dimensions, but got array with shape (1430, 2)\"</p>\n\n<p>I have no Idea what is the what the (1430, 2) shape refers to &amp; why I got this error.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1569443637, "post_id": 58106063, "comment_id": 102603134, "body": "The space is throwing off the csv module&#39;s parsing. With <code>ab,&quot;,cd&quot;</code> it works as expected. What&#39;s producing this bunk csv data?"}], "answers": [{"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1569444571, "post_id": 58106338, "comment_id": 102603446, "body": "What happens is that the csv module considers the quote <i>right after the separator</i>.  If there&#39;s something before that (space or something else), the quote is considered like being part of the data. your answer allows to fix this"}], "tags": [], "owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "is_accepted": false, "score": 3, "last_activity_date": 1569444581, "last_edit_date": 1569444581, "creation_date": 1569444505, "answer_id": 58106338, "question_id": 58106063, "link": "https://stackoverflow.com/questions/58106063/csv-module-broken-for-comma-as-delimiter/58106338#58106338", "title": "csv module broken for comma as delimiter", "body": "<p>As @wim pointed out in a comment, this is caused by the space character after the comma.</p>\n\n<p>If you configure the reader to skip the space after the delimiter, then it will work:</p>\n\n<pre><code>&gt;&gt;&gt; print(list(csv.reader(io.StringIO('ab, \",cd\"'), skipinitialspace=True)))\n[['ab', ',cd']]\n</code></pre>\n\n<p>BTW, see <a href=\"https://docs.python.org/3/library/csv.html#dialects-and-formatting-parameters\" rel=\"nofollow noreferrer\">the documentation</a> for other CSV reader options.</p>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1569444663, "creation_date": 1569444663, "answer_id": 58106364, "question_id": 58106063, "link": "https://stackoverflow.com/questions/58106063/csv-module-broken-for-comma-as-delimiter/58106364#58106364", "title": "csv module broken for comma as delimiter", "body": "<p>It's not broken, it's the expected behaviour.</p>\n\n<p>What happens is that the csv module only considers the quote as a quote if it's <em>right after the separator</em>.</p>\n\n<p>If there's something before that (space or something else), the quote is considered like being part of the data.</p>\n\n<p><a href=\"https://stackoverflow.com/a/58106338/6451573\">zvone answer</a> explains how to workaround that (in the case of a space only)</p>\n"}], "owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1569444759, "accepted_answer_id": 58106364, "answer_count": 2, "score": 3, "last_activity_date": 1569444734, "creation_date": 1569443076, "last_edit_date": 1569444734, "question_id": 58106063, "link": "https://stackoverflow.com/questions/58106063/csv-module-broken-for-comma-as-delimiter", "closed_reason": "Duplicate", "title": "csv module broken for comma as delimiter", "body": "<p>I am using python's <code>csv</code> module and using quotes to contain the field that contains the separator.</p>\n\n<p>The file <code>a.txt</code> looks like the following:</p>\n\n<pre><code>ab, \",cd\"\n</code></pre>\n\n<p>And i get the following that indicates that it did not escape the comma in double quotes.</p>\n\n<pre><code>In [27]: with open('a.txt', newline='') as csvfile:\n    ...:     reader = csv.reader(csvfile, delimiter=',')\n    ...:     for row in reader:\n    ...:         if row:\n    ...:             print(row)\n    ...:\n['ab', ' \"', 'cd\"']\n</code></pre>\n"}, {"tags": ["python", "pandas", "list", "dictionary", "tuples"], "comments": [{"owner": {"reputation": 1, "user_id": 8624028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc61b6960c85af34e58335a32e1f576?s=128&d=identicon&r=PG&f=1", "display_name": "VJ Sojitra", "link": "https://stackoverflow.com/users/8624028/vj-sojitra"}, "edited": false, "score": 0, "creation_date": 1569443073, "post_id": 58106054, "comment_id": 102602925, "body": "Please don&#39;t refer to the code I have input here"}], "answers": [{"tags": [], "owner": {"reputation": 1375, "user_id": 9307263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defcaa944843f58d4f4befbed4a9c77c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Joseph", "link": "https://stackoverflow.com/users/9307263/brian-joseph"}, "is_accepted": false, "score": 1, "last_activity_date": 1569444925, "last_edit_date": 1569444925, "creation_date": 1569444435, "answer_id": 58106322, "question_id": 58106054, "link": "https://stackoverflow.com/questions/58106054/i-have-a-tuple-of-list-and-dictionary-how-to-convert-it-to-dataframe-in-python/58106322#58106322", "title": "I have a tuple of list and dictionary, how to convert it to dataframe in python?", "body": "<pre><code>data = \\\n[(1, {\"a\":1,\"b\":-50,\"c\":1, \"d\":True, \"e\":\"PM\"}),\n\n(2, {\"a\":2,\"b\":1,\"c\":\"101\",\"d\":1,\"e\":1,\"f\":False,\"g\":True,\"h\":False,\"I\":\"MLTPL\"}),\n\n(3, {\"a\":3,\"b\":1,\"c\":\"103\",\"d\":1,\"e\":1,\"f\":False,\"g\":True,\"h\":False,\"I\":\"MLTPL\"})]\n\ndata = dict(data)  # a dictinoary is a much better format\npd.DataFrame.from_dict(data, orient = 'index')  # initialize using pandas built in dict reader\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>    a   b     c     d       e   f       g       h       I\n1   1   -50   1     True    PM  NaN     NaN     NaN     NaN\n2   2   1     101   1       1   False   True    False   MLTPL\n3   3   1     103   1       1   False   True    False   MLTPL\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8624028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc61b6960c85af34e58335a32e1f576?s=128&d=identicon&r=PG&f=1", "display_name": "VJ Sojitra", "link": "https://stackoverflow.com/users/8624028/vj-sojitra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1569477995, "answer_count": 1, "score": -3, "last_activity_date": 1569500781, "creation_date": 1569443044, "last_edit_date": 1592644375, "question_id": 58106054, "link": "https://stackoverflow.com/questions/58106054/i-have-a-tuple-of-list-and-dictionary-how-to-convert-it-to-dataframe-in-python", "closed_reason": "Needs details or clarity", "title": "I have a tuple of list and dictionary, how to convert it to dataframe in python?", "body": "<p>This is what the raw data looks like</p>\n<h1>Input</h1>\n<pre><code>[(1, '{&quot;a&quot;:1,&quot;b&quot;:-50,&quot;c&quot;:1, &quot;d&quot;:true, &quot;e&quot;:&quot;PM&quot;}'),\n\n (2, '{&quot;a&quot;:2,&quot;b&quot;:1,&quot;c&quot;:&quot;101&quot;,&quot;d&quot;:1,&quot;e&quot;:1,&quot;f&quot;:false,&quot;g&quot;:true,&quot;h&quot;:false,&quot;I&quot;:&quot;MLTPL&quot;}'),\n\n (3, '{&quot;a&quot;:3,&quot;b&quot;:1,&quot;c&quot;:&quot;103&quot;,&quot;d&quot;:1,&quot;e&quot;:1,&quot;f&quot;:false,&quot;g&quot;:true,&quot;h&quot;:false,&quot;I&quot;:&quot;MLTPL&quot;}')]\n</code></pre>\n<p>This is the required output</p>\n<p>required output:</p>\n<pre><code>sr_no  a   b     c     d       e   f       g       h       I\n1      1   -50   1     True    PM  NaN     NaN     NaN     NaN\n2      2   1     101   1       1   False   True    False   MLTPL\n3      3   1     103   1       1   False   True    False   MLTPL\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 2, "creation_date": 1569442856, "post_id": 58105992, "comment_id": 102602845, "body": "Modifying <code>byte</code> doesn\u2019t modify <code>file_bytes</code>, if that is what you are expecting."}, {"owner": {"reputation": 462, "user_id": 10137268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vNhl.png?s=128&g=1", "display_name": "Paul Erlenmeyer", "link": "https://stackoverflow.com/users/10137268/paul-erlenmeyer"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1569442971, "post_id": 58105992, "comment_id": 102602890, "body": "@barny Thats exactly what I am expeting. Why doen&#39;t it and how would it?"}, {"owner": {"reputation": 394, "user_id": 5555395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9f3e26c9d237262a91576f3bfbfd194?s=128&d=identicon&r=PG&f=1", "display_name": "D. Jones", "link": "https://stackoverflow.com/users/5555395/d-jones"}, "edited": false, "score": 0, "creation_date": 1569443393, "post_id": 58105992, "comment_id": 102603043, "body": "Because it&#39;s the copy of the element. You could run your loop over <code>range(len(file_bytes))</code> and refer to each element as <code>file_bytes[i]</code>. The actual list would be modified this way."}, {"owner": {"reputation": 462, "user_id": 10137268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vNhl.png?s=128&g=1", "display_name": "Paul Erlenmeyer", "link": "https://stackoverflow.com/users/10137268/paul-erlenmeyer"}, "reply_to_user": {"reputation": 394, "user_id": 5555395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e9f3e26c9d237262a91576f3bfbfd194?s=128&d=identicon&r=PG&f=1", "display_name": "D. Jones", "link": "https://stackoverflow.com/users/5555395/d-jones"}, "edited": false, "score": 0, "creation_date": 1569443763, "post_id": 58105992, "comment_id": 102603176, "body": "@D.Jones Hmm, comming from Java I didn&#39;t expect it to be like that. Thanks!"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1569449063, "post_id": 58105992, "comment_id": 102604815, "body": "Durr - palm slaps forehead - Python <b>is</b> different from Java"}], "answers": [{"tags": [], "owner": {"reputation": 309, "user_id": 10286430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114b33f975d8085f01e665d5b9d49cbe?s=128&d=identicon&r=PG&f=1", "display_name": "HelpfulHound", "link": "https://stackoverflow.com/users/10286430/helpfulhound"}, "is_accepted": true, "score": 2, "last_activity_date": 1569443150, "creation_date": 1569443150, "answer_id": 58106082, "question_id": 58105992, "link": "https://stackoverflow.com/questions/58105992/simple-encrypting-in-python/58106082#58106082", "title": "Simple encrypting in Python", "body": "<p>You're very close - instantiate a second bytearray, and then add each modified byte to that. The bytes in the initial bytearray are not modified in place.</p>\n\n<pre><code>\n    filepath = './wayne.txt'\n    file = open(filepath, mode='rb') #read binary\n    file_bytes = bytearray(file.read())\n    print('File bytes:\\n', file_bytes)\n\n    #second bytearray\n    output_bytes=bytearray()\n\n    #Start the encryption\n    for byte in file_bytes:\n        byte += 1\n        output_bytes.append(byte)\n    print('File bytes\n\n    enter code here`er encryption:\\n', output_bytes)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 7954157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4a81cf15319eef08e72c405d3417499?s=128&d=identicon&r=PG&f=1", "display_name": "Aye_baybae", "link": "https://stackoverflow.com/users/7954157/aye-baybae"}, "is_accepted": false, "score": 1, "last_activity_date": 1569443227, "creation_date": 1569443227, "answer_id": 58106101, "question_id": 58105992, "link": "https://stackoverflow.com/questions/58105992/simple-encrypting-in-python/58106101#58106101", "title": "Simple encrypting in Python", "body": "<pre><code>for x in range(0,len(file_bytes)):\n    file_bytes[x] = file_bytes[x] + 1\n</code></pre>\n"}], "owner": {"reputation": 462, "user_id": 10137268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1vNhl.png?s=128&g=1", "display_name": "Paul Erlenmeyer", "link": "https://stackoverflow.com/users/10137268/paul-erlenmeyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58106082, "answer_count": 2, "score": 0, "last_activity_date": 1569443227, "creation_date": 1569442690, "question_id": 58105992, "link": "https://stackoverflow.com/questions/58105992/simple-encrypting-in-python", "title": "Simple encrypting in Python", "body": "<p>I want to write a simple encryption application, where I take a file and add 1 to each byte of the file. The idea is to corrupt a file and make it unreadable, but my code doesn't seem to do anything, because the output is exactly the same as the input.</p>\n\n<pre><code>filepath = './wayne.txt'\nfile = open(filepath, mode='rb') #read binary\nfile_bytes = bytearray(file.read())\nprint('File bytes:\\n', file_bytes)\n\n#Start the encryption\nfor byte in file_bytes:\n    byte += 1\n\nprint('File bytes after encryption:\\n', file_bytes)\n</code></pre>\n"}, {"tags": ["python", "sftp"], "comments": [{"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1569449360, "post_id": 58105970, "comment_id": 102604899, "body": "I was going to edit out simple. But I think it would be better for you to do that. You don&#39;t need a simple way. You need a way that works."}, {"owner": {"reputation": 178, "user_id": 11058699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LRCyk.png?s=128&g=1", "display_name": "CyberTaco", "link": "https://stackoverflow.com/users/11058699/cybertaco"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1569460763, "post_id": 58105970, "comment_id": 102606978, "body": "I need a way that is both. :-)"}, {"owner": {"reputation": 178, "user_id": 11058699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LRCyk.png?s=128&g=1", "display_name": "CyberTaco", "link": "https://stackoverflow.com/users/11058699/cybertaco"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1569461053, "post_id": 58105970, "comment_id": 102607036, "body": "(I see too many answers on this site that take the four line solution to a problem and wrap it in a 40 line convoluted sample program containing multiple functions and wrapped in classes and with variable names like &quot;ch&quot; and &quot;d&quot;. That&#39;s great for someone who&#39;s been programming python for years. That&#39;s horrible for someone who&#39;s new to the language and desperately needs help. :-)  )"}, {"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1569478617, "post_id": 58105970, "comment_id": 102611147, "body": "(I don&#39;t disagree but rather than ask for a simple answer which makes the question subjective,  you are supposed to accept only the answer that is simple enough.)"}, {"owner": {"reputation": 178, "user_id": 11058699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LRCyk.png?s=128&g=1", "display_name": "CyberTaco", "link": "https://stackoverflow.com/users/11058699/cybertaco"}, "edited": false, "score": 0, "creation_date": 1569523968, "post_id": 58105970, "comment_id": 102634697, "body": "Martin: Nice, thank you! Dan: Hmm. Thank you, that&#39;s an interesting point. I&#39;ll have to think about that a bit."}], "owner": {"reputation": 178, "user_id": 11058699, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LRCyk.png?s=128&g=1", "display_name": "CyberTaco", "link": "https://stackoverflow.com/users/11058699/cybertaco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 1, "closed_date": 1569910583, "answer_count": 0, "score": 0, "last_activity_date": 1569442579, "creation_date": 1569442579, "question_id": 58105970, "link": "https://stackoverflow.com/questions/58105970/whats-the-simplest-way-to-save-an-sftp-servers-current-host-key-in-with-python", "closed_reason": "Duplicate", "title": "What&#39;s the simplest way to save an SFTP server&#39;s current host key in with Python?", "body": "<p>I'm using Python 3, on Windows, and using pysftp.</p>\n\n<p>Basically, I'm looking for <em>very simple</em> way in Python to connect to an SFTP server and save it's host key to a file that can be used with pysftp in the future.</p>\n\n<p>Some quick notes:</p>\n\n<ul>\n<li><p>I know I can set hostkeys = None in pysftp to bypass the problem when connecting to do actual normal ftp functions (upload, download, etc). I'd rather not do that.</p></li>\n<li><p>Sample sftp public servers can be found here if you want to test anything: <a href=\"https://www.sftp.net/public-online-sftp-servers\" rel=\"nofollow noreferrer\">https://www.sftp.net/public-online-sftp-servers</a></p></li>\n<li><p>I know there are other programs that can do this for me (for instance, multiple ftp clients). I'm explicitly looking to do this in Python code, in the simplest way possible.</p></li>\n</ul>\n\n<p>Any help would be very appreciated. :-)</p>\n"}, {"tags": ["python", "spacy"], "comments": [{"owner": {"reputation": 465, "user_id": 7263895, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14097b8df5326fa864f740cdca324d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Tan", "link": "https://stackoverflow.com/users/7263895/benji-tan"}, "edited": false, "score": 0, "creation_date": 1569443859, "post_id": 58105967, "comment_id": 102603204, "body": "I have added additional details to the question, hopefully it provides more information to the problem and further distinguish the issue. Is it possible to remove the duplicate tag?"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1569444922, "post_id": 58105967, "comment_id": 102603566, "body": "Did you try the <a href=\"https://spacy.io/usage/linguistic-features#native-tokenizers\" rel=\"nofollow noreferrer\">code from the docs</a>?"}, {"owner": {"reputation": 465, "user_id": 7263895, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14097b8df5326fa864f740cdca324d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Tan", "link": "https://stackoverflow.com/users/7263895/benji-tan"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1569445886, "post_id": 58105967, "comment_id": 102603877, "body": "I have used the examples from the link as well, and the example in: Customizing spaCy\u2019s Tokenizer class, I am unable to produce a regex that can handle all of the cases above.."}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1569450505, "post_id": 58105967, "comment_id": 102605168, "body": "See <a href=\"https://pastebin.com/e6RmfjQA\" rel=\"nofollow noreferrer\">pastebin.com/e6RmfjQA</a>"}, {"owner": {"reputation": 465, "user_id": 7263895, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14097b8df5326fa864f740cdca324d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Tan", "link": "https://stackoverflow.com/users/7263895/benji-tan"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1569490339, "post_id": 58105967, "comment_id": 102617036, "body": "Thank you, this helped! But I realised that I have to handle all contractions with apostrophes again. I compiled a list of contractions and manually inserted them into the ruleset."}], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 7263895, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14097b8df5326fa864f740cdca324d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Tan", "link": "https://stackoverflow.com/users/7263895/benji-tan"}, "edited": false, "score": 0, "creation_date": 1569490187, "post_id": 58112065, "comment_id": 102616941, "body": "Thank you for the insight, but for some reason it affects the apostrophes too. For example, &#39;Haven&#39;t&#39; does not get tokenized into &#39;Have&#39;, &#39;n&#39;t&#39;. I guess I cant catch all edge cases, but thanks for the help!"}, {"owner": {"reputation": 6107, "user_id": 461847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e08520b5c574ad687cee8399b9d7c2?s=128&d=identicon&r=PG", "display_name": "aab", "link": "https://stackoverflow.com/users/461847/aab"}, "reply_to_user": {"reputation": 465, "user_id": 7263895, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14097b8df5326fa864f740cdca324d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Tan", "link": "https://stackoverflow.com/users/7263895/benji-tan"}, "edited": false, "score": 0, "creation_date": 1569492666, "post_id": 58112065, "comment_id": 102618290, "body": "Hmm, that&#39;s kind of unexpected. I&#39;ll see if I can figure out what&#39;s going on."}, {"owner": {"reputation": 6107, "user_id": 461847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e08520b5c574ad687cee8399b9d7c2?s=128&d=identicon&r=PG", "display_name": "aab", "link": "https://stackoverflow.com/users/461847/aab"}, "reply_to_user": {"reputation": 465, "user_id": 7263895, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14097b8df5326fa864f740cdca324d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Tan", "link": "https://stackoverflow.com/users/7263895/benji-tan"}, "edited": false, "score": 0, "creation_date": 1569493187, "post_id": 58112065, "comment_id": 102618598, "body": "Okay, I missed one of the parameters (<code>rules</code>) to <code>Tokenizer</code>, which is what handles the contractions and other special cases and exceptions."}], "tags": [], "owner": {"reputation": 6107, "user_id": 461847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46e08520b5c574ad687cee8399b9d7c2?s=128&d=identicon&r=PG", "display_name": "aab", "link": "https://stackoverflow.com/users/461847/aab"}, "is_accepted": false, "score": 9, "last_activity_date": 1569567052, "last_edit_date": 1569567052, "creation_date": 1569484514, "answer_id": 58112065, "question_id": 58105967, "link": "https://stackoverflow.com/questions/58105967/spacy-tokenization-of-hyphenated-words/58112065#58112065", "title": "spaCy - Tokenization of Hyphenated words", "body": "<p>The Matcher is not really the right tool for this. You should modify the tokenizer instead.</p>\n\n<p>If you want to preserve how everything else is handled and only change the behavior for hyphens, you should modify the existing infix pattern and preserve all the other settings. The current English infix pattern definition is here:</p>\n\n<p><a href=\"https://github.com/explosion/spaCy/blob/58533f01bf926546337ad2868abe7fc8f0a3b3ae/spacy/lang/punctuation.py#L37-L49\" rel=\"noreferrer\">https://github.com/explosion/spaCy/blob/58533f01bf926546337ad2868abe7fc8f0a3b3ae/spacy/lang/punctuation.py#L37-L49</a></p>\n\n<p>You can add new patterns without defining a custom tokenizer, but there's no way to remove a pattern without defining a custom tokenizer. So, if you comment out the hyphen pattern and define a custom tokenizer:</p>\n\n<pre><code>import spacy\nfrom spacy.tokenizer import Tokenizer\nfrom spacy.lang.char_classes import ALPHA, ALPHA_LOWER, ALPHA_UPPER, CONCAT_QUOTES, LIST_ELLIPSES, LIST_ICONS\nfrom spacy.util import compile_infix_regex\n\ndef custom_tokenizer(nlp):\n    infixes = (\n        LIST_ELLIPSES\n        + LIST_ICONS\n        + [\n            r\"(?&lt;=[0-9])[+\\-\\*^](?=[0-9-])\",\n            r\"(?&lt;=[{al}{q}])\\.(?=[{au}{q}])\".format(\n                al=ALPHA_LOWER, au=ALPHA_UPPER, q=CONCAT_QUOTES\n            ),\n            r\"(?&lt;=[{a}]),(?=[{a}])\".format(a=ALPHA),\n            #r\"(?&lt;=[{a}])(?:{h})(?=[{a}])\".format(a=ALPHA, h=HYPHENS),\n            r\"(?&lt;=[{a}0-9])[:&lt;&gt;=/](?=[{a}])\".format(a=ALPHA),\n        ]\n    )\n\n    infix_re = compile_infix_regex(infixes)\n\n    return Tokenizer(nlp.vocab, prefix_search=nlp.tokenizer.prefix_search,\n                                suffix_search=nlp.tokenizer.suffix_search,\n                                infix_finditer=infix_re.finditer,\n                                token_match=nlp.tokenizer.token_match,\n                                rules=nlp.Defaults.tokenizer_exceptions)\n\n\nnlp = spacy.load(\"en\")\nnlp.tokenizer = custom_tokenizer(nlp)\nprint([t.text for t in nlp(\"It's 1.50, up-scaled haven't\")])\n# ['It', \"'s\", \"'\", '1.50', \"'\", ',', 'up-scaled', 'have', \"n't\"]\n</code></pre>\n\n<p>You do need to provide the current prefix/suffix/token_match settings when initializing the new Tokenizer to preserve the existing tokenizer behavior. See also (for German, but very similar): <a href=\"https://stackoverflow.com/a/57304882/461847\">https://stackoverflow.com/a/57304882/461847</a></p>\n\n<p><strong>Edited to add</strong> (since this does seem unnecessarily complicated and you really should be able to redefine the infix patterns without loading a whole new custom tokenizer):</p>\n\n<p>If you have just loaded the model (for v2.1.8) and you haven't called <code>nlp()</code> yet, you can also just replace the <code>infix_re.finditer</code> without creating a custom tokenizer:</p>\n\n<pre><code>nlp = spacy.load('en')\nnlp.tokenizer.infix_finditer = infix_re.finditer\n</code></pre>\n\n<p>There's a caching bug that should hopefully be fixed in v2.2 that will let this work correctly at any point rather than just with a newly loaded model. (The behavior is extremely confusing otherwise, which is why creating a custom tokenizer has been a better general-purpose recommendation for v2.1.8.)</p>\n"}], "owner": {"reputation": 465, "user_id": 7263895, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14097b8df5326fa864f740cdca324d9a?s=128&d=identicon&r=PG&f=1", "display_name": "Benji Tan", "link": "https://stackoverflow.com/users/7263895/benji-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2031, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1569567052, "creation_date": 1569442570, "last_edit_date": 1569443817, "question_id": 58105967, "link": "https://stackoverflow.com/questions/58105967/spacy-tokenization-of-hyphenated-words", "title": "spaCy - Tokenization of Hyphenated words", "body": "<p>Good day SO,</p>\n\n<p>I am trying to post-process hyphenated words that are tokenized into separate tokens when they were supposedly a single token. For example:</p>\n\n<pre><code>Example:\n\nSentence: \"up-scaled\"\nTokens: ['up', '-', 'scaled']\nExpected: ['up-scaled']\n</code></pre>\n\n<p>For now, my solution is to use the matcher:</p>\n\n<pre><code>matcher = Matcher(nlp.vocab)\npattern = [{'IS_ALPHA': True, 'IS_SPACE': False},\n           {'ORTH': '-'},\n           {'IS_ALPHA': True, 'IS_SPACE': False}]\n\nmatcher.add('HYPHENATED', None, pattern)\n\ndef quote_merger(doc):\n    # this will be called on the Doc object in the pipeline\n    matched_spans = []\n    matches = matcher(doc)\n    for match_id, start, end in matches:\n        span = doc[start:end]\n        matched_spans.append(span)\n    for span in matched_spans:  # merge into one token after collecting all matches\n        span.merge()\n    #print(doc)\n    return doc\n\nnlp.add_pipe(quote_merger, first=True)  # add it right after the tokenizer\ndoc = nlp(text)\n</code></pre>\n\n<p>However, this will cause an expected issue below:</p>\n\n<pre><code>Example 2:\n\nSentence: \"I know I will be back - I had a very pleasant time\"\nTokens: ['i', 'know', 'I', 'will', 'be', 'back - I', 'had', 'a', 'very', 'pleasant', 'time']\nExpected: ['i', 'know', 'I', 'will', 'be', 'back', '-', 'I', 'had', 'a', 'very', 'pleasant', 'time']\n</code></pre>\n\n<p>Is there a way where I can process only words separated by hyphens that do not have spaces between the characters? So that words like 'up-scaled' will be matched and combined into a single token, but not '.. back - I ..'</p>\n\n<p>Thank you very much</p>\n\n<p>EDIT:\nI have tried the solution posted: <a href=\"https://stackoverflow.com/questions/52293874/why-does-spacy-not-preserve-intra-word-hyphens-during-tokenization-like-stanford\">Why does spaCy not preserve intra-word-hyphens during tokenization like Stanford CoreNLP does?</a></p>\n\n<p>However, I didn't use this solution because it resulted in wrong tokenization of words with apostrophes (') and Numbers with decimals:</p>\n\n<pre><code>Sentence: \"It's\"\nTokens: [\"I\", \"t's\"]\nExpected: [\"It\", \"'s\"]\n\nSentence: \"1.50\"\nTokens: [\"1\", \".\", \"50\"]\nExpected: [\"1.50\"]\n</code></pre>\n\n<p>That is why I used Matcher instead of trying to edit the regex. </p>\n"}, {"tags": ["python", "pandas", "pip"], "comments": [{"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1569446608, "post_id": 58105934, "comment_id": 102604096, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33004708/osx-el-capitan-sudo-pip-install-oserror-errno-1-operation-not-permitted\">OSX El Capitan: sudo pip install OSError: &#91;Errno: 1&#93; Operation not permitted</a>"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1569446613, "post_id": 58105934, "comment_id": 102604099, "body": "<a href=\"https://stackoverflow.com/search?q=%5Bpip%5D+Operation+not+permitted\">stackoverflow.com/search?q=%5Bpip%5D+Operation+not+permitted</a>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user12121219"}, "is_accepted": false, "score": 1, "last_activity_date": 1569442737, "creation_date": 1569442737, "answer_id": 58105998, "question_id": 58105934, "link": "https://stackoverflow.com/questions/58105934/failed-installing-panda-error-could-not-install-packages-due-to-an-environment/58105998#58105998", "title": "Failed installing panda: ERROR: Could not install packages due to an EnvironmentError:", "body": "<p>try: <code>pip install pandas --user</code> sorry, would of commented it but I can't</p>\n"}, {"tags": [], "owner": {"reputation": 309, "user_id": 10286430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114b33f975d8085f01e665d5b9d49cbe?s=128&d=identicon&r=PG&f=1", "display_name": "HelpfulHound", "link": "https://stackoverflow.com/users/10286430/helpfulhound"}, "is_accepted": false, "score": 0, "last_activity_date": 1569442759, "creation_date": 1569442759, "answer_id": 58106005, "question_id": 58105934, "link": "https://stackoverflow.com/questions/58105934/failed-installing-panda-error-could-not-install-packages-due-to-an-environment/58106005#58106005", "title": "Failed installing panda: ERROR: Could not install packages due to an EnvironmentError:", "body": "<p>Operation not permitted could be due to either a permissions issue or a path length limit issue, off the top of me head. </p>\n\n<p>I would go much higher in the directory structure (closer to root), create a virtual environment, and attempt to install pandas in that environment. If that works, then you know that inherited characteristics of your overarching python/pip installations and permissions are okay, making it likely a host OS issue (like the aforementioned path length limit). If it doesn't work, then some more digging will be required. Either way, this virtual environment can be removed after its creation has been tested.</p>\n\n<p><a href=\"https://help.dreamhost.com/hc/en-us/articles/215489338-Installing-and-using-virtualenv-with-Python-2\" rel=\"nofollow noreferrer\">Here</a> is a link on creating virtual environments to get you started.</p>\n"}], "owner": {"reputation": 11, "user_id": 12021484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a909c90ee0ecb5caa4aa4411e9f7b4f?s=128&d=identicon&r=PG&f=1", "display_name": "sandyc", "link": "https://stackoverflow.com/users/12021484/sandyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569456878, "creation_date": 1569442301, "last_edit_date": 1569456878, "question_id": 58105934, "link": "https://stackoverflow.com/questions/58105934/failed-installing-panda-error-could-not-install-packages-due-to-an-environment", "title": "Failed installing panda: ERROR: Could not install packages due to an EnvironmentError:", "body": "<p>I tried installing pandas by using the following pip:  <code>pip install pandas</code></p>\n\n<p>And this error below is returning:</p>\n\n<pre><code>ERROR: Could not install packages due to an EnvironmentError: [('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/parser.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/parser.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/relativedelta.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/relativedelta.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/zoneinfo-2010g.tar.gz', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo/zoneinfo-2010g.tar.gz', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo/zoneinfo-2010g.tar.gz'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo/__init__.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo/__init__.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo/__init__.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo/__init__.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo/__init__.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/zoneinfo', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/zoneinfo'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tz.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tz.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/relativedelta.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/relativedelta.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/relativedelta.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/rrule.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/rrule.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/__init__.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/__init__.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/parser.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/parser.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/parser.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tzwin.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tzwin.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/rrule.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/rrule.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/rrule.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/__init__.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/__init__.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/__init__.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.py', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/easter.py', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/easter.py'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/easter.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/easter.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/easter.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tz.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tz.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tz.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil/tzwin.pyc', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tzwin.pyc', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF/tzwin.pyc'\"), ('/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/dateutil', '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF', \"[Errno 1] Operation not permitted: '/private/var/folders/kl/ch19nqkj4v30kkkxdkl4xnjc0000gn/T/pip-uninstall-WXvERF'\")]\n</code></pre>\n\n<p>How can I fix this issue?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 15007, "user_id": 389289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33eab2fa999a20910a29e4a2299bc174?s=128&d=identicon&r=PG&f=1", "display_name": "zvone", "link": "https://stackoverflow.com/users/389289/zvone"}, "edited": false, "score": 0, "creation_date": 1569442298, "post_id": 58105916, "comment_id": 102602605, "body": "Use <a href=\"https://docs.python.org/2/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">Counter</a>"}, {"owner": {"reputation": 11, "user_id": 12121417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a492b2a0e5a42b50ae1954c5f0d9a8?s=128&d=identicon&r=PG&f=1", "display_name": "user145682", "link": "https://stackoverflow.com/users/12121417/user145682"}, "reply_to_user": {"reputation": 6314, "user_id": 5770501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FUVQn.jpg?s=128&g=1", "display_name": "Arkistarvh Kltzuonstev", "link": "https://stackoverflow.com/users/5770501/arkistarvh-kltzuonstev"}, "edited": false, "score": 0, "creation_date": 1569442432, "post_id": 58105916, "comment_id": 102602671, "body": "@ArkistarvhKltzuonstev yes, edited!"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569444996, "post_id": 58105916, "comment_id": 102603605, "body": "what is wrong with your second solution?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12121417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a492b2a0e5a42b50ae1954c5f0d9a8?s=128&d=identicon&r=PG&f=1", "display_name": "user145682", "link": "https://stackoverflow.com/users/12121417/user145682"}, "edited": false, "score": 0, "creation_date": 1569442544, "post_id": 58105947, "comment_id": 102602720, "body": "this works but im looking for a way without imports. thanks!"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "reply_to_user": {"reputation": 11, "user_id": 12121417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a492b2a0e5a42b50ae1954c5f0d9a8?s=128&d=identicon&r=PG&f=1", "display_name": "user145682", "link": "https://stackoverflow.com/users/12121417/user145682"}, "edited": false, "score": 0, "creation_date": 1569442652, "post_id": 58105947, "comment_id": 102602769, "body": "@user145682 Updated the answer!"}], "tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": false, "score": 1, "last_activity_date": 1569442633, "last_edit_date": 1569442633, "creation_date": 1569442399, "answer_id": 58105947, "question_id": 58105916, "link": "https://stackoverflow.com/questions/58105916/most-occurring-element-in-a-list/58105947#58105947", "title": "Most occurring element in a list", "body": "<p>You could use <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\">collections.Counter</a>, find the maximum count and then keep those that have maximum count:</p>\n\n<pre><code>from collections import Counter\n\ncounts = Counter([5, 4, 4, 5, 3])\n\nmax_count = max(counts.values())\nresult = [k for k, count in counts.items() if count == max_count]\n\nprint(result)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[5, 4]\n</code></pre>\n\n<p>You could substitute the Counter by a simple dictionary:</p>\n\n<pre><code>data = [5, 4, 4, 5, 3]\ncounts = {}\n\nfor e in data:\n    counts[e] = counts.get(e, 0) + 1\n\nmax_count = max(counts.values())\nresult = [k for k, count in counts.items() if count == max_count]\n\nprint(result)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12121417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a492b2a0e5a42b50ae1954c5f0d9a8?s=128&d=identicon&r=PG&f=1", "display_name": "user145682", "link": "https://stackoverflow.com/users/12121417/user145682"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1569453701, "answer_count": 1, "score": 1, "last_activity_date": 1569442633, "creation_date": 1569442195, "last_edit_date": 1569442423, "question_id": 58105916, "link": "https://stackoverflow.com/questions/58105916/most-occurring-element-in-a-list", "closed_reason": "Duplicate", "title": "Most occurring element in a list", "body": "<p>Is there a way to output a list of the most occurring element from a list into a list or all of the most occurred elements if there is a tie?</p>\n\n<p>I would like to solve this without importing any classes!</p>\n\n<p>For example, [5,4,3] would output [5,4,3].</p>\n\n<p>or</p>\n\n<p>[5,4,4,5] would output [5,4]</p>\n\n<p>I have tried, max(set(list), key=list.count) but does not really work for ties.</p>\n\n<p>my work so far:</p>\n\n<pre><code>test = ['test1', 'test2', 'test3']\ndict = {}\n\nfor elements in test:\n    if elements in dict:\n        dict[elements] += 1\n    else:\n        dict[elements] = 0\n        dict[elements] += 1\n\nprint (dict)\n</code></pre>\n"}, {"tags": ["python", "docker", "heroku", "dockerfile", "conda"], "owner": {"reputation": 10225, "user_id": 3577054, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3a7c08cb0e764122426e2e3fc69b3ed9?s=128&d=identicon&r=PG", "display_name": "Peque", "link": "https://stackoverflow.com/users/3577054/peque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569441950, "creation_date": 1569441950, "question_id": 58105862, "link": "https://stackoverflow.com/questions/58105862/permission-denied-heroku-docker-conda-deployment", "title": "Permission denied: Heroku + Docker + Conda deployment", "body": "<p>Heroku has an example repository utilizing the Docker container registry for Anaconda packages:</p>\n\n<ul>\n<li><a href=\"https://github.com/heroku-examples/python-miniconda\" rel=\"nofollow noreferrer\">https://github.com/heroku-examples/python-miniconda</a></li>\n</ul>\n\n<p><a href=\"https://github.com/Peque/python-miniconda\" rel=\"nofollow noreferrer\">I forked this repository</a> and pushed a <a href=\"https://github.com/Peque/python-miniconda/commit/788f33237970d80ae98786c6b091efdb308025b0\" rel=\"nofollow noreferrer\">single commit</a> adding a <code>heroku.yml</code> file:</p>\n\n<pre><code>build:\n  docker:\n    web: Dockerfile\n</code></pre>\n\n<p>This way I can <code>git push</code> to Heroku remote and the image will be built in their servers. Pushing the changes <a href=\"https://pastebin.com/raw/PB8aN2kx\" rel=\"nofollow noreferrer\">went well</a> (image was build successfully).</p>\n\n<p>But then, when trying to make a request to the service, I get an error:</p>\n\n<pre><code>2019-09-25T19:50:18.000000+00:00 app[api]: Build started by user &lt;my_email&gt;\n2019-09-25T19:53:16.000000+00:00 app[api]: Build succeeded\n2019-09-25T19:53:16.436402+00:00 app[api]: Deploy 6bd60459 by user &lt;my_email&gt;\n2019-09-25T19:53:16.436402+00:00 app[api]: Release v93 created by user &lt;my_email&gt;\n2019-09-25T19:53:18.407563+00:00 heroku[web.1]: State changed from crashed to starting\n2019-09-25T19:53:40.751324+00:00 heroku[web.1]: Starting process with command `/bin/sh -c gunicorn\\ --bind\\ 0.0.0.0:\\15070\\ wsgi`\n2019-09-25T19:53:43.694756+00:00 heroku[web.1]: State changed from starting to crashed\n2019-09-25T19:53:43.673120+00:00 heroku[web.1]: Process exited with status 1\n2019-09-25T19:53:43.586712+00:00 app[web.1]: Traceback (most recent call last):\n2019-09-25T19:53:43.586736+00:00 app[web.1]: File \"/opt/conda/bin/gunicorn\", line 7, in &lt;module&gt;\n2019-09-25T19:53:43.586738+00:00 app[web.1]: from gunicorn.app.wsgiapp import run\n2019-09-25T19:53:43.586759+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/gunicorn/app/wsgiapp.py\", line 9, in &lt;module&gt;\n2019-09-25T19:53:43.587076+00:00 app[web.1]: from gunicorn.app.base import Application\n2019-09-25T19:53:43.587078+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/gunicorn/app/base.py\", line 12, in &lt;module&gt;\n2019-09-25T19:53:43.587080+00:00 app[web.1]: from gunicorn import util\n2019-09-25T19:53:43.587081+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/gunicorn/util.py\", line 12, in &lt;module&gt;\n2019-09-25T19:53:43.587082+00:00 app[web.1]: import pkg_resources\n2019-09-25T19:53:43.587084+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2927, in &lt;module&gt;\n2019-09-25T19:53:43.587086+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2913, in _call_aside\n2019-09-25T19:53:43.587144+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2940, in _initialize_master_working_set\n2019-09-25T19:53:43.587191+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 626, in _build_master\n2019-09-25T19:53:43.587258+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 619, in __init__\n2019-09-25T19:53:43.587340+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 675, in add_entry\n2019-09-25T19:53:43.587384+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 1982, in find_on_path\n2019-09-25T19:53:43.587445+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2370, in from_location\n2019-09-25T19:53:43.587499+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2687, in _reload_version\n2019-09-25T19:53:43.587561+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2335, in _version_from_file\n2019-09-25T19:53:43.587626+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 2503, in _get_metadata\n2019-09-25T19:53:43.587688+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 1873, in get_metadata_lines\n2019-09-25T19:53:43.587751+00:00 app[web.1]: File \"/opt/conda/lib/python2.7/site-packages/setuptools-23.0.0-py2.7.egg/pkg_resources/__init__.py\", line 1861, in get_metadata\n2019-09-25T19:53:43.587854+00:00 app[web.1]: IOError: [Errno 13] Permission denied: '/opt/conda/lib/python2.7/site-packages/.wh.conda-4.2.15-py2.7.egg-info'\n</code></pre>\n\n<p>Why is this happening and how can I fix it?</p>\n"}, {"tags": ["python", "odoo-10"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8301753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-byPPf9f0mN8/AAAAAAAAAAI/AAAAAAAAAAs/6d7qRR9Ax1Y/photo.jpg?sz=128", "display_name": "Christine Ruopp", "link": "https://stackoverflow.com/users/8301753/christine-ruopp"}, "edited": false, "score": 0, "creation_date": 1570441886, "post_id": 58130919, "comment_id": 102901617, "body": "got the same error back (ValueError: forbidden opcode(s) in &#39;lambda&#39;)"}, {"owner": {"reputation": 71, "user_id": 5305632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7b552f7027a69d9516a1d177ec5a08?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Strogin", "link": "https://stackoverflow.com/users/5305632/artem-strogin"}, "reply_to_user": {"reputation": 1, "user_id": 8301753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-byPPf9f0mN8/AAAAAAAAAAI/AAAAAAAAAAs/6d7qRR9Ax1Y/photo.jpg?sz=128", "display_name": "Christine Ruopp", "link": "https://stackoverflow.com/users/8301753/christine-ruopp"}, "edited": false, "score": 0, "creation_date": 1570530929, "post_id": 58130919, "comment_id": 102934405, "body": "you can try to assign data like to dictionary. It may help as well   <code>@api.depends(&#39;product_qty&#39;, &#39;qty_ordered&#39;) def _compute_x_total_qty(self):     for record in self:         record[&#39;x_total_qty&#39;] = record.product_qty + record.qty_ordered</code>"}], "tags": [], "owner": {"reputation": 71, "user_id": 5305632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea7b552f7027a69d9516a1d177ec5a08?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Strogin", "link": "https://stackoverflow.com/users/5305632/artem-strogin"}, "is_accepted": false, "score": 0, "last_activity_date": 1569573823, "creation_date": 1569573823, "answer_id": 58130919, "question_id": 58105858, "link": "https://stackoverflow.com/questions/58105858/how-to-define-a-compute-field-in-the-gui-in-odoo-10/58130919#58130919", "title": "How to define a compute field in the GUI in Odoo 10?", "body": "<p>maybe just try this:</p>\n\n<p><code>@api.depends('product_qty', 'qty_ordered')\ndef _compute_x_total_qty(self):\n     self.x_total_qty = self.product_qty + self.qty_ordered</code> </p>\n\n<p>compute will apply it to all data (if not, add <code>@api.one</code> before <code>@api.depends</code>)</p>\n"}], "owner": {"reputation": 1, "user_id": 8301753, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-byPPf9f0mN8/AAAAAAAAAAI/AAAAAAAAAAs/6d7qRR9Ax1Y/photo.jpg?sz=128", "display_name": "Christine Ruopp", "link": "https://stackoverflow.com/users/8301753/christine-ruopp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569573823, "creation_date": 1569441920, "question_id": 58105858, "link": "https://stackoverflow.com/questions/58105858/how-to-define-a-compute-field-in-the-gui-in-odoo-10", "title": "How to define a compute field in the GUI in Odoo 10?", "body": "<p>I want to create a new compute field in the GUI of Odoo 10.\nCompute and display the total of two existing fields.</p>\n\n<p>i tried:</p>\n\n<pre><code>@api.depends('product_qty', 'qty_ordered')\ndef _compute_x_total_qty(self):\n    for record in self:\n        record.x_total_qty = record.product_qty + record.qty_ordered\n</code></pre>\n\n<p>I don't know how to correctly define a method for a field in the GUI Odoo.</p>\n\n<p>I always get the following error:</p>\n\n<pre><code>Odoo Server Error\n...\nValueError: forbidden opcode(s) in 'lambda'\n</code></pre>\n\n<p>Any help or suggestion is welcome. If someone could help me, I would be very grateful.</p>\n"}, {"tags": ["python", "ansible", "paramiko", "rhel", "rhel7"], "comments": [{"owner": {"reputation": 1949, "user_id": 5152510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fcb42b4a7969bb0591d2e17cef92ae9?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/5152510/matt-p"}, "edited": false, "score": 0, "creation_date": 1569453146, "post_id": 58105841, "comment_id": 102605689, "body": "I suspect you don&#39;t have the correct python version of paramiko installed. Can you show the output of <code>ls -ld &#47;usr&#47;lib&#47;python*&#47;site-packages&#47;paramiko</code>? Also, have you changed the default python interpreter at all? It is probably worth also including debug output from the task (i.e. run ansible with <code>-vvv</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 398, "user_id": 11945371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c792f6fdd8f90c422011f66882821340?s=128&d=identicon&r=PG&f=1", "display_name": "tsekman", "link": "https://stackoverflow.com/users/11945371/tsekman"}, "is_accepted": false, "score": 0, "last_activity_date": 1569484331, "creation_date": 1569484331, "answer_id": 58112014, "question_id": 58105841, "link": "https://stackoverflow.com/questions/58105841/cannot-run-ansible-on-rhel-7-paramiko-is-not-installed/58112014#58112014", "title": "Cannot run ansible on RHEL 7 - Paramiko is not installed", "body": "<p>You can try to install paramiko via pip. This is the sequence</p>\n\n<pre><code># curl -O https://bootstrap.pypa.io/get-pip.py\n# python get-pip.py --user\n# pip install paramiko\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 322, "user_id": 5034996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lPR7D.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5034996/leo"}, "is_accepted": false, "score": 0, "last_activity_date": 1569588231, "creation_date": 1569588231, "answer_id": 58134821, "question_id": 58105841, "link": "https://stackoverflow.com/questions/58105841/cannot-run-ansible-on-rhel-7-paramiko-is-not-installed/58134821#58134821", "title": "Cannot run ansible on RHEL 7 - Paramiko is not installed", "body": "<p>If you have a valid subscription for Red Hat Enterprise Linux, then you can enable the official Red Hat Ansible repository and install it.</p>\n\n<p>To enable the Ansible Engine repository for RHEL 7, run the following command:</p>\n\n<pre><code>$ sudo subscription-manager repos --enable rhel-7-server-ansible-2.8-rpms\n</code></pre>\n\n<p>On RHEL and CentOS:</p>\n\n<pre><code>$ sudo yum install ansible\n</code></pre>\n\n<p>This is for the Ansible Engine version (as in: it doesn't include Ansible Tower).</p>\n\n<p>More information in the <a href=\"https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html#latest-release-via-dnf-or-yum\" rel=\"nofollow noreferrer\">official Ansible documentation</a></p>\n"}, {"comments": [{"owner": {"reputation": 322, "user_id": 5034996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lPR7D.png?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/5034996/leo"}, "edited": false, "score": 0, "creation_date": 1570298577, "post_id": 58138631, "comment_id": 102872307, "body": "H @SituAnGel, please see my answer above. Ansible was deprecated in the Extras channel with the release of RHEL 7.5, see here: <a href=\"https://access.redhat.com/articles/3359651\" rel=\"nofollow noreferrer\">access.redhat.com/articles/3359651</a> , it shouldn&#39;t be needed to run Ansible Engine. Regards."}], "tags": [], "owner": {"reputation": 35, "user_id": 9978441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d611ca8043243c02054e3e7189adac?s=128&d=identicon&r=PG&f=1", "display_name": "SituAnGel", "link": "https://stackoverflow.com/users/9978441/situangel"}, "is_accepted": true, "score": 0, "last_activity_date": 1569602939, "creation_date": 1569602939, "answer_id": 58138631, "question_id": 58105841, "link": "https://stackoverflow.com/questions/58105841/cannot-run-ansible-on-rhel-7-paramiko-is-not-installed/58138631#58138631", "title": "Cannot run ansible on RHEL 7 - Paramiko is not installed", "body": "<p>I already resolved this issue. We had to add the rhel-7-server-extras-rpms in addition to the already added rhel-7-server-ansible-2.8-rpms and do a yum remove ansible and yum install ansible.</p>\n"}], "owner": {"reputation": 35, "user_id": 9978441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d611ca8043243c02054e3e7189adac?s=128&d=identicon&r=PG&f=1", "display_name": "SituAnGel", "link": "https://stackoverflow.com/users/9978441/situangel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2423, "favorite_count": 1, "accepted_answer_id": 58138631, "answer_count": 3, "score": 0, "last_activity_date": 1569602939, "creation_date": 1569441846, "last_edit_date": 1569443619, "question_id": 58105841, "link": "https://stackoverflow.com/questions/58105841/cannot-run-ansible-on-rhel-7-paramiko-is-not-installed", "title": "Cannot run ansible on RHEL 7 - Paramiko is not installed", "body": "<p>I have a server running RHEL 7, and I have installed ansible but cannot run a playbook with error saying paramiko is not installed. I have verified that paramiko is installed and also tried to install paramiko using pip but still does not work. </p>\n\n<pre><code>\nTASK [Show the Connection] **************************************************************************************************************************************************\nfatal: [ASA]: FAILED! =&gt; {\"msg\": \"paramiko is not installed: No module named paramiko\"}\n</code></pre>\n\n<p>Below are the versions I have:</p>\n\n<pre><code>sh-4.2$ sudo yum install ansible\nPackage ansible-2.8.5-2.el7ae.noarch already installed and latest version\nsh-4.2$ sudo yum install python-paramiko\nPackage python-paramiko-2.1.1-9.el7.noarch already installed and latest version\nsh-4.2$ \n</code></pre>\n"}, {"tags": ["python", "while-loop", "async-await"], "answers": [{"tags": [], "owner": {"reputation": 15, "user_id": 8843603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/312e242342d2813e8d8fc621db492877?s=128&d=identicon&r=PG&f=1", "display_name": "didujusthitdat", "link": "https://stackoverflow.com/users/8843603/didujusthitdat"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443586, "creation_date": 1569443586, "answer_id": 58106152, "question_id": 58105840, "link": "https://stackoverflow.com/questions/58105840/cant-get-out-of-async-loop/58106152#58106152", "title": "can&#39;t get out of async loop", "body": "<p>Instead of trying to use a while loop on an async function, you need to return something to let the loop know that it's done. (<code>loop.run_until_complete(main())</code>), where you want the loop to end, put <code>return</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 12121385, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pW-hGVLcTGo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdEmbuY2NXmC91kF8W0eaIO93kNhA/photo.jpg?sz=128", "display_name": "CantCodePlsDownvote", "link": "https://stackoverflow.com/users/12121385/cantcodeplsdownvote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569443586, "creation_date": 1569441843, "question_id": 58105840, "link": "https://stackoverflow.com/questions/58105840/cant-get-out-of-async-loop", "title": "can&#39;t get out of async loop", "body": "<p>I'm trying to make a command which starts after the variable <code>benbotLoop</code> is set to 2, and stops after <code>beenbotLoop</code> is set to 1. But whatever I do, it just doesn't seem to stop looping. Here is my code:</p>\n\n<pre><code>idint = int(0)\nbenbotLoop = 1\n\ndisplayName = input(\"What's the display name? \")\nbenbotLoop += 1\n\nasync def main():\n    global idint\n    async with aiohttp.ClientSession() as session:\n            async with session.get(\"http://benbotfn.tk:8080/api/cosmetics/search/multiple\", params={\"displayName\": displayName}) as r:\n                data = await r.json()\n                json_data = await r.json()\n                list_type = json_data[idint][\"type\"]\n\n                if list_type == \"Outfit\":\n                    list_id = json_data[idint][\"id\"]\n                    benbotLoop = 1\n                    print(list_id)\n                    print(benbotLoop)\n                else:\n                    idint += 1\n\n\nwhile benbotLoop == 2:\n    loop = asyncio.get_event_loop()\n    loop.run_until_complete(main())\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tkinter.checkbutton"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1569443392, "post_id": 58105789, "comment_id": 102603041, "body": "Read about <a href=\"http://effbot.org/tkinterbook/checkbutton.htm#Tkinter.Checkbutton.select-method\" rel=\"nofollow noreferrer\">Tkinter.Checkbutton.select-method</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12121219"}, "edited": false, "score": 0, "creation_date": 1569470595, "post_id": 58106218, "comment_id": 102608766, "body": "Hi Niels, appreciate your time in answering:) reason if I append is to keep the log file, and load up certain data. I will research in how to add data into text file with unique Id numbers. Might have to move onto MySql"}], "tags": [], "owner": {"reputation": 2076, "user_id": 7359176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqgFb.jpg?s=128&g=1", "display_name": "Niels Henkens", "link": "https://stackoverflow.com/users/7359176/niels-henkens"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443900, "creation_date": 1569443900, "answer_id": 58106218, "question_id": 58105789, "link": "https://stackoverflow.com/questions/58105789/load-checkbox-values-depending-on-txt-file/58106218#58106218", "title": "Load checkbox values depending on txt file", "body": "<p>This is one way to do it like you asked. </p>\n\n<pre><code>from tkinter import *\nimport os\n\nif os.path.isfile('text.txt'):\n    with open(\"text.txt\", \"r\") as f:\n        lineList = f.readlines()\n        _, option1, _, option2 = lineList[-1].split()\nelse:\n    option1 = '0'\n    option2 = '0'\n\nmaster = Tk()\nmaster.minsize(200, 100)\n\nvar = IntVar()\nvar2 = IntVar()\n\na = Checkbutton(master, text=\"Option 1\", variable=var)\nif option1 == '1':\n    a.select()\na.pack()\n\nb = Checkbutton(master, text=\"Option 2\", variable=var2)\nif option2 == '1':\n    b.select()\nb.pack()\n\ndef save():\n    text_file = open(\"text.txt\", \"a\")\n    text_file.write(\"Option1 %d Option2 %d \\n\" % (var.get(), var2.get()))\n    text_file.close()\n\nButton(master, text = \"Save\", command = save ).pack()\n\nmainloop()\n</code></pre>\n\n<p>But is there a reason to keep appending to the textfile? If not, then it would be quicker and more efficient to just overwrite the file at each save. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12121219"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569443900, "creation_date": 1569441604, "last_edit_date": 1569443611, "question_id": 58105789, "link": "https://stackoverflow.com/questions/58105789/load-checkbox-values-depending-on-txt-file", "title": "Load checkbox values depending on txt file", "body": "<p>I am trying to load checkbox values from a text file.</p>\n\n<p>Let me explain..</p>\n\n<p>Here is the screen:</p>\n\n<p><a href=\"https://i.stack.imgur.com/krt5f.jpg\" rel=\"nofollow noreferrer\">Click here for image</a></p>\n\n<p>I have a piece of code that saves the results into a .txt file. </p>\n\n<p>Here is the .txt file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nDFfu.jpg\" rel=\"nofollow noreferrer\">Click here for image</a></p>\n\n<p>Now, when I close &amp; re-open the .py file, everything resets.</p>\n\n<p>I'd like to implement a button that will load last row from txt file and do the following:</p>\n\n<p>If <code>option1</code> is <code>0</code> and <code>option2</code> is <code>1</code> from text file, when clicked load, the <code>option2</code> check box will be the only one checked.</p>\n\n<p>Like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QdLrE.jpg\" rel=\"nofollow noreferrer\">Intended result when loading the txt file</a></p>\n\n<p>How can this be achieved?</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>from tkinter import *\n\nmaster = Tk()\nmaster.minsize(200, 100)\n\nvar = IntVar()\nvar2 = IntVar()\n\na = Checkbutton(master, text=\"Option 1\", variable=var)\na.pack()\n\nb = Checkbutton(master, text=\"Option 2\", variable=var2)\nb.pack()\n\ndef save():\n    text_file = open(\"text.txt\", \"a\")\n    text_file.write(\"Option1 %d Option2 %d \\n\" % (var.get(), var2.get()))\n    text_file.close()\n\nButton(master, text = \"Save\", command = save ).pack()\n\nmainloop()\n</code></pre>\n"}, {"tags": ["python", "batch-file"], "comments": [{"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1569443742, "post_id": 58105765, "comment_id": 102603167, "body": "Do you mean that you wrote a batch file to run the .py script and packaged it into an executable with an .exe extension. Or did you just change a .py extension to .bat, then package it to an .exe?"}, {"owner": {"reputation": 139, "user_id": 9206011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a709ee46cc29f9cc2d1bcb06feca3704?s=128&d=identicon&r=PG&f=1", "display_name": "David Seroy", "link": "https://stackoverflow.com/users/9206011/david-seroy"}, "reply_to_user": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1569443890, "post_id": 58105765, "comment_id": 102603218, "body": "I wrote a batch file to run the .py script. I created a notepad text file with the following, then saved it as .bat &quot;Path where your Python exe is stored\\python.exe&quot; &quot;Path where your Python script is stored\\script name.py&quot; pause"}, {"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1569444239, "post_id": 58105765, "comment_id": 102603346, "body": "When you package batch files as .exe files, they&#39;re invariably unpacked to a temporary location and ran from there. Your batch file and/or python script would therefore have to account for the scripts different/unknown current directory or use fully qualified paths."}, {"owner": {"reputation": 139, "user_id": 9206011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a709ee46cc29f9cc2d1bcb06feca3704?s=128&d=identicon&r=PG&f=1", "display_name": "David Seroy", "link": "https://stackoverflow.com/users/9206011/david-seroy"}, "reply_to_user": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1569444818, "post_id": 58105765, "comment_id": 102603540, "body": "Sorry I am not sure what you mean. The first line of the script is setting the directory already, so I am not sure that&#39;s the issue."}, {"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 1, "creation_date": 1569445453, "post_id": 58105765, "comment_id": 102603745, "body": "Join the club! <i>... as you&#39;re the only person who can see the exact content of the batch or python scripts and the system/environment.</i>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1569446960, "post_id": 58105765, "comment_id": 102604203, "body": "Please <a href=\"https://stackoverflow.com/posts/58105765/edit\">edit</a> you question and add a copy of the batch file you&#39;re using."}, {"owner": {"reputation": 139, "user_id": 9206011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a709ee46cc29f9cc2d1bcb06feca3704?s=128&d=identicon&r=PG&f=1", "display_name": "David Seroy", "link": "https://stackoverflow.com/users/9206011/david-seroy"}, "edited": false, "score": 0, "creation_date": 1569447543, "post_id": 58105765, "comment_id": 102604387, "body": "added batch file"}, {"owner": {"reputation": 139, "user_id": 9206011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a709ee46cc29f9cc2d1bcb06feca3704?s=128&d=identicon&r=PG&f=1", "display_name": "David Seroy", "link": "https://stackoverflow.com/users/9206011/david-seroy"}, "edited": false, "score": 0, "creation_date": 1569447645, "post_id": 58105765, "comment_id": 102604423, "body": "Could it have something to do with activating the conda environment? How would I do that in batch"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 9206011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a709ee46cc29f9cc2d1bcb06feca3704?s=128&d=identicon&r=PG&f=1", "display_name": "David Seroy", "link": "https://stackoverflow.com/users/9206011/david-seroy"}, "edited": false, "score": 0, "creation_date": 1569449336, "post_id": 58106908, "comment_id": 102604892, "body": "This makes sense and I think is right solution, but I am having trouble getting the final touches on the batch file. Edited question. I want it to be able to run in the activated environment and keep the cmd window open while running ideally."}, {"owner": {"reputation": 139, "user_id": 9206011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a709ee46cc29f9cc2d1bcb06feca3704?s=128&d=identicon&r=PG&f=1", "display_name": "David Seroy", "link": "https://stackoverflow.com/users/9206011/david-seroy"}, "edited": false, "score": 1, "creation_date": 1569449632, "post_id": 58106908, "comment_id": 102604961, "body": "Got it. This is the right solution, with minor modifications. Added solution to question. Thanks!"}], "tags": [], "owner": {"reputation": 6232, "user_id": 509977, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/DxOt0.jpg?s=128&g=1", "display_name": "Pitto", "link": "https://stackoverflow.com/users/509977/pitto"}, "is_accepted": true, "score": 1, "last_activity_date": 1569447737, "creation_date": 1569447737, "answer_id": 58106908, "question_id": 58105765, "link": "https://stackoverflow.com/questions/58105765/unable-to-run-py-file-as-batch-bat-file/58106908#58106908", "title": "Unable to run Py File as Batch .BAT file", "body": "<p>What you are missing is probably the conda environment activation in your batch file.</p>\n\n<pre><code>call activate [your_env_name]\npython your_script_name.py\ncall conda deactivate\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 9206011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a709ee46cc29f9cc2d1bcb06feca3704?s=128&d=identicon&r=PG&f=1", "display_name": "David Seroy", "link": "https://stackoverflow.com/users/9206011/david-seroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 58106908, "answer_count": 1, "score": 0, "last_activity_date": 1569449720, "creation_date": 1569441534, "last_edit_date": 1569449720, "question_id": 58105765, "link": "https://stackoverflow.com/questions/58105765/unable-to-run-py-file-as-batch-bat-file", "title": "Unable to run Py File as Batch .BAT file", "body": "<p>My code works fine when it's .py but when I make it an executable .bat file and run it, it shows a module not found error. Really stumped and not sure what's causing this behavior.</p>\n\n<p>I've tried pip installing or updating a bunch of the modules and it hasn't had any impact. </p>\n\n<p>Here's the error I am receiving:</p>\n\n<pre><code>File \"C:*****\\lib\\site-packages\\pandas\\io\\pickle.py\", line 155, in read_pickle\n    return pickle.load(f)\n  File \"C:*****\\lib\\site-packages\\geopandas\\__init__.py\", line 1, in &lt;module&gt;\n    from geopandas.geoseries import GeoSeries\n  File \"C:*****\\lib\\site-packages\\geopandas\\geoseries.py\", line 7, in &lt;module&gt;\n    import pyproj\n  File \"C:*****\\lib\\site-packages\\pyproj\\__init__.py\", line 69, in &lt;module&gt;\n    from pyproj._datadir import PYPROJ_CONTEXT\nImportError: DLL load failed: The specified module could not be found.\n\n</code></pre>\n\n<p>Here is a copy of the batch file.</p>\n\n<pre><code>\"C:\\ProgramData\\Anaconda3\\envs\\GeoPandas_DS\\python.exe\"\n\"C:*****/Python/Py_Script.py\" pause\n</code></pre>\n\n<p><strong>EDIT SOLUTION</strong> </p>\n\n<p>Just had to activate the proper environment. Below batch file worked.</p>\n\n<pre><code>call activate [your_env_name]\n\"C:\\Users\\Path_To_Python_File\\Py_File.py\"\npause\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list", "tuples"], "comments": [{"owner": {"reputation": 6314, "user_id": 5770501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FUVQn.jpg?s=128&g=1", "display_name": "Arkistarvh Kltzuonstev", "link": "https://stackoverflow.com/users/5770501/arkistarvh-kltzuonstev"}, "edited": false, "score": 3, "creation_date": 1569441437, "post_id": 58105721, "comment_id": 102602264, "body": "You <code>tuple1</code> is a list"}, {"owner": {"reputation": 10318, "user_id": 271641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a098ae2f1198ec5f649080470b136cc?s=128&d=identicon&r=PG", "display_name": "Marat", "link": "https://stackoverflow.com/users/271641/marat"}, "edited": false, "score": 0, "creation_date": 1569443317, "post_id": 58105721, "comment_id": 102603012, "body": "hint: <code>if something == True:</code> could be written as just <code>if something:</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569445176, "post_id": 58105721, "comment_id": 102603662, "body": "Also, <code>tuple1 in list1 == True</code> is equivalent to <code>(tuple1 in list1) and (list1 == True)</code>, which will <b>always</b> be false, since <code>list1</code> is a <code>list</code>, and <code>list</code> objects are never equal to a boolean object. This is due to <a href=\"https://docs.python.org/3/reference/expressions.html#comparisons\" rel=\"nofollow noreferrer\">comparison chaining</a> which is there to allow you to write things like <code>3 &lt;= x &lt;= 10</code>"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1569445132, "post_id": 58105743, "comment_id": 102603649, "body": "There&#39;s actually a more subtle bug here."}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1569441434, "creation_date": 1569441434, "answer_id": 58105743, "question_id": 58105721, "link": "https://stackoverflow.com/questions/58105721/searching-a-2d-list-in-python-for-a-tuple/58105743#58105743", "title": "Searching a 2d list in python for a tuple", "body": "<p>You are not asking if a <code>tuple</code> is in your list, you are asking if a <code>list</code> is in your list.</p>\n\n<pre><code>&gt;&gt;&gt; list1 = [(1,2),(3,4),(5,6)]\n&gt;&gt;&gt; [3,4] in list1\nFalse\n&gt;&gt;&gt; (3,4) in list1\nTrue\n</code></pre>\n\n<p>It works as you'd expect if you pass the correct type for <code>tuple1</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 9079904, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7JjnKajZiH0/AAAAAAAAAAI/AAAAAAAAACU/1G2yElE1otk/photo.jpg?sz=128", "display_name": "Adam Wright", "link": "https://stackoverflow.com/users/9079904/adam-wright"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569442029, "creation_date": 1569441353, "last_edit_date": 1569442029, "question_id": 58105721, "link": "https://stackoverflow.com/questions/58105721/searching-a-2d-list-in-python-for-a-tuple", "title": "Searching a 2d list in python for a tuple", "body": "<pre><code>tuple1 = [3,4]\nlist1 = [(1,2),(3,4),(5,6)]\n\nif tuple1 in list1 == True:\n    print(\"tuple in list\")\n</code></pre>\n\n<p>I would've thought that this should print, but it doesn't. Can anyone help?</p>\n"}, {"tags": ["python", "flask", "flask-wtforms"], "comments": [{"owner": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "edited": false, "score": 0, "creation_date": 1569442003, "post_id": 58105688, "comment_id": 102602497, "body": "Are you trying to add help text or placeholder text? The description parameter confuses a lot of people who are new to WTForms who think it is for placeholder text."}, {"owner": {"reputation": 3, "user_id": 11841806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a66ad99ec07cebfbfe65250bcc3ea7e?s=128&d=identicon&r=PG&f=1", "display_name": "Janki", "link": "https://stackoverflow.com/users/11841806/janki"}, "reply_to_user": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "edited": false, "score": 1, "creation_date": 1569503588, "post_id": 58105688, "comment_id": 102624139, "body": "@KevinWelch  Yeah I am trying to add a placeholder, not the help text"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11841806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a66ad99ec07cebfbfe65250bcc3ea7e?s=128&d=identicon&r=PG&f=1", "display_name": "Janki", "link": "https://stackoverflow.com/users/11841806/janki"}, "edited": false, "score": 0, "creation_date": 1569597475, "post_id": 58125614, "comment_id": 102661197, "body": "render_kw did the trick for me, though {{ form.smp(placeholder=&quot;Placeholder Text Here&quot;) }} put the placeholder text besides the label and not in the box/field itself."}, {"owner": {"reputation": 3, "user_id": 11841806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a66ad99ec07cebfbfe65250bcc3ea7e?s=128&d=identicon&r=PG&f=1", "display_name": "Janki", "link": "https://stackoverflow.com/users/11841806/janki"}, "edited": false, "score": 0, "creation_date": 1569597513, "post_id": 58125614, "comment_id": 102661216, "body": "Thanks Kevin for your help"}], "tags": [], "owner": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "is_accepted": true, "score": 2, "last_activity_date": 1569537991, "creation_date": 1569537991, "answer_id": 58125614, "question_id": 58105688, "link": "https://stackoverflow.com/questions/58105688/how-to-put-description-of-the-field-in-the-form-field/58125614#58125614", "title": "How to put &quot;description&quot; of the field in the form field?", "body": "<p>The <code>description</code> param is used for help text.</p>\n\n<p>You can use <code>render_kw</code> to set placeholder text. Pass it a dictionary with a <code>placeholder</code> key and your placeholder text.</p>\n\n<p><code>smp = StringField(label = 'Start of MP', render_kw={'placeholder': 'Valid Format is YYYY-MM-DD'}, validators=[InputRequired()])</code></p>\n\n<p>This only works in WTForms 2.1+ but you can always just put it in your template file.</p>\n\n<p><code>{{ form.smp(placeholder=\"Placeholder Text Here\") }}</code></p>\n"}], "owner": {"reputation": 3, "user_id": 11841806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a66ad99ec07cebfbfe65250bcc3ea7e?s=128&d=identicon&r=PG&f=1", "display_name": "Janki", "link": "https://stackoverflow.com/users/11841806/janki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 58125614, "answer_count": 1, "score": 0, "last_activity_date": 1569537991, "creation_date": 1569441217, "question_id": 58105688, "link": "https://stackoverflow.com/questions/58105688/how-to-put-description-of-the-field-in-the-form-field", "title": "How to put &quot;description&quot; of the field in the form field?", "body": "<p>I am new to python coding. I am trying to create a form using flask and for one of the form field, want to add the field description, but I am not able to see it. </p>\n\n<p>Please help me out with the help text of the field. </p>\n\n<p>Below is sample PY code: </p>\n\n<pre><code>smp = StringField(label = 'Start of MP', description='Valid Format is YYYY-MM-DD', validators=[InputRequired()])\n</code></pre>\n\n<p>HTML code is as below:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n                 {{ form.smp.label(class=\"form-control-label\") }}\n                    {% if form.smp.errors %}\n                        {{ form.smp(class=\"form-control form-control-lg is-invalid\") }}\n                        &lt;div class=\"invalid-feedback\"&gt;\n                            {% for error in form.smp.errors %}\n                                &lt;span&gt;{{ error }}&lt;/span&gt;\n                            {% endfor %}\n                        &lt;/div&gt;\n                    {% else %}\n                        {{ form.smp(class=\"form-control form-control-lg\") }}\n                    {% endif %}\n                &lt;/div&gt;\n</code></pre>\n\n<p>What am I missing here, why description is not showing when I run HTML page? </p>\n"}, {"tags": ["python", "object", "reference"], "answers": [{"tags": [], "owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "is_accepted": false, "score": 1, "last_activity_date": 1569442585, "creation_date": 1569442585, "answer_id": 58105972, "question_id": 58105681, "link": "https://stackoverflow.com/questions/58105681/id-function-for-objects-and-references/58105972#58105972", "title": "ID function for objects and references", "body": "<p>The expression <code>[1, 2, 3]</code> creates a new list object each time it is evaluated.</p>\n\n<p>In total, your code sample creates three lists.</p>\n\n<p><code>x</code> is a name for the first one.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user12121262"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1597699950, "creation_date": 1569441167, "last_edit_date": 1597699950, "question_id": 58105681, "link": "https://stackoverflow.com/questions/58105681/id-function-for-objects-and-references", "title": "ID function for objects and references", "body": "<p>Let's make x pointing to list [1,2,3] and obtain the id function (twice):</p>\n\n<pre><code>x=[1,2,3]\n\nid(x), id([1,2,3])\n(208085256L, 208123976L)\n\nid(x), id([1,2,3])\n(208085256L, 208124168L)\n</code></pre>\n\n<p>We say that every object that is created is given a number that uniquely identifies it. </p>\n\n<p>As far I understand x is the pointer/reference and [1,2,3] is the object. That is the ID of the pointer (x) is 208085256L and it stays the same in the second observation. But why does the ID of the object [1,2,3] change then, when it is said that every object that is created is given a number that uniquely identifies it. Is my reasoning wrong?</p>\n\n<p>Or should I rather understand the whole thing the way that the ID of the reference x (208085256L) \"points\" to object [1,2,3] and that I can ignore the second ID?</p>\n"}, {"tags": ["python", "conda"], "comments": [{"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1569453668, "post_id": 58105618, "comment_id": 102605778, "body": "On closer inspection, this <code>requirements.txt</code> file looks like a mixture of <code>conda</code> and <code>pip</code> were used, and not in conformity with <a href=\"https://www.anaconda.com/using-pip-in-a-conda-environment/\" rel=\"nofollow noreferrer\">best practices</a>. There are things that are clearly out of sync (e.g., <code>numpy=1.16.5</code> versus <code>numpy-base=1.9.3</code>) and so there&#39;s no way Conda can validly solve for this. Perhaps you can try <code>conda export env</code> and it will generate something that includes both <code>pip</code> and <code>conda</code> installs, but I wouldn&#39;t bet on it."}, {"owner": {"reputation": 5416, "user_id": 360826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7CZNr.png?s=128&g=1", "display_name": "jason m", "link": "https://stackoverflow.com/users/360826/jason-m"}, "reply_to_user": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1569499434, "post_id": 58105618, "comment_id": 102621911, "body": "How do you know it is pip vs ocnda?"}, {"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1569529711, "post_id": 58105618, "comment_id": 102637117, "body": "The indicator I see is some of the packages lack builds (<code>numpy</code>, <code>matplotlib</code>, <code>six</code>, etc.), whereas the Conda-installed packages will include builds when one runs <code>conda list -e</code>. Perhaps it wasn&#39;t <code>pip</code>, but somehow packages got installed whose versions are ahead of the dependencies for which Conda would have solved."}], "answers": [{"comments": [{"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1569530344, "post_id": 58119368, "comment_id": 102637351, "body": "I&#39;m specifically wondering what version of <code>numpy</code> ended up in the YAML.  That part still sort of baffles me. But yeah, I&#39;m glad the <code>conda env export</code> worked."}, {"owner": {"reputation": 5416, "user_id": 360826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7CZNr.png?s=128&g=1", "display_name": "jason m", "link": "https://stackoverflow.com/users/360826/jason-m"}, "reply_to_user": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1569593998, "post_id": 58119368, "comment_id": 102659359, "body": "@merv I incorporated your comments regarding the <code>numpy-base</code> and <code>numpy</code> but, aside from that, it was the same. There was a natural split in the yaml between conda and pip, but the conflicts were not just related to numpy (which is confusing)."}], "tags": [], "owner": {"reputation": 5416, "user_id": 360826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7CZNr.png?s=128&g=1", "display_name": "jason m", "link": "https://stackoverflow.com/users/360826/jason-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1569509137, "creation_date": 1569509137, "answer_id": 58119368, "question_id": 58105618, "link": "https://stackoverflow.com/questions/58105618/conda-build-conflict-from-requirements-generated-by-environment-on-that-exact-pc/58119368#58119368", "title": "Conda build conflict from requirements generated by environment on that exact pc", "body": "<p>Merv seems very well informed, and I do not mean to undermine his answer or effort to answer my question.</p>\n\n<p>What worked for me was to migrate this requirements file to a yaml, and install from there.</p>\n\n<p>It is wholly unclear to me why conda \"likes\" yaml over the txt file, but I will, a-la Asimov's Foundation, pray to the technology Gods of \"unplug and plug back in\".</p>\n"}], "owner": {"reputation": 5416, "user_id": 360826, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/7CZNr.png?s=128&g=1", "display_name": "jason m", "link": "https://stackoverflow.com/users/360826/jason-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569509137, "creation_date": 1569440932, "question_id": 58105618, "link": "https://stackoverflow.com/questions/58105618/conda-build-conflict-from-requirements-generated-by-environment-on-that-exact-pc", "title": "Conda build conflict from requirements generated by environment on that exact pc", "body": "<p>I have the following requirements in a <code>requirements.txt</code> file:</p>\n\n<pre><code># This file may be used to create an environment using:\n# $ conda create --name &lt;env&gt; --file &lt;this file&gt;\n# platform: win-64\nasn1crypto=0.24.0\nattrs=19.1.0\nbackports=1.0\nbackports.shutil_get_terminal_size=1.0.0\nbackports.shutil_which=3.5.2\nbackports_abc=0.5=py27h0ec6b72_0\nblas=1.0=mkl\nbleach=3.1.0=py27_0\nblist=1.3.6=py27_0\nca-certificates=2019.8.28=0\ncertifi=2019.9.11=py27_0\ncffi=1.12.3=py27hcfb25f9_0\nclick=7.0=py27_0\ncolorama=0.4.1\ncomtypes=1.1.7=py27_0\nconfigobj=5.0.6=py27_0\nconfigparser=3.7.4=py27_0\ncryptography=2.7=py27hcfb25f9_0\ncycler=0.10.0\ncython=0.29.13=py27hc56fc5f_0\ndecorator=4.4.0=py27_1\ndefusedxml=0.6.0=py_0\nentrypoints=0.3=py27_0\nenum34=1.1.6=py27_1\nflask=0.12.2=py27_0\nflask-swagger=0.2.8=py27_0\nfuncsigs=1.0.2\nfunctools32=3.2.3.2=py27_1\nfuture=0.16.0=py27_1\nfutures=3.3.0=py27_0\ngitdb=0.6.0=py27_1\ngitpython=0.3.2\nhdf5=1.8.15.1=vc9_4\nicc_rt=2019.0.0=h0cc432a_1\nidna=2.8=py27_0\nintel-openmp=2019.4=245\nipaddress=1.0.22=py27_0\nipykernel=4.10.0=py27_0\nipython=5.8.0=py27_0\nipython_genutils=0.2.0=py27hbe997df_0\nipywidgets=7.5.1=py_0\nitsdangerous=1.1.0=py27_0\njdcal=1.0=py27_0\njinja2=2.10.1=py27_0\njsonschema=3.0.2=py27_0\njupyter=1.0.0=py27_3\njupyter_client=5.3.3=py_0\njupyter_console=5.2.0=py27_1\njupyter_core=4.5.0=py_0\nkiwisolver=1.1.0\nlibsodium=1.0.16=h8b3e59e_0\nline_profiler=1.0b3=py27_0\nlxml=3.3.4=py27_0\nmarkupsafe=1.1.1=py27h0c8e037_0\nmatplotlib=2.2.3\nmistune=0.8.4=py27h0c8e037_0\nmkl=2018.0.3=1\nmore-itertools=5.0.0\nnbconvert=5.6.0=py27_1\nnbformat=4.4.0=py27hf49b375_0\nnose=1.3.7=py27_2\nnotebook=5.7.8=py27_0\nnumexpr=2.4.4\nnumpy=1.16.5\nnumpy-base=1.9.3=py27h0bb1d87_7\nopenpyxl=2.0.2=py27_0\nopenssl=1.1.1d=h0c8e037_0\npandas=0.16.2\npandoc=2.2.3.2=0\npandocfilters=1.4.2=py27_1\npathlib2=2.3.4=py27_0\npatsy=0.5.1=py27_0\npickleshare=0.7.5=py27_0\npip=19.2.3=py27_0\npluggy=0.6.0\nprometheus_client=0.7.1=py_0\nprompt_toolkit=1.0.15=py27h3a8ec6a_0\npy=1.8.0\npycparser=2.19=py27_0\npygments=2.4.2=py_0\npyodbc=4.0.17=py27_0\npyopenssl=19.0.0=py27_0\npyparsing=2.4.2\npyqt=4.10.4=py27_1\npyrsistent=0.14.11=py27h0c8e037_0\npysocks=1.7.1=py27_0\npytables=3.2.2\npytest=3.5.1\npython=2.7.12=0\npython-dateutil=2.8.0=py27_0\npytz=2019.2=py_0\npywin32=220=py27_2\npywinpty=0.5=py27_2\npyyaml=5.1.2=py27h0c8e037_0\npyzmq=18.1.0=py27hc56fc5f_0\nqtconsole=4.5.5=py_0\nredis=2.10.5=py27_0\nrequests=2.14.2=py27_0\nrequests-kerberos=0.11.0=py27_0\nretrying=1.3.3=py27_0\nscandir=1.10.0=py27h0c8e037_0\nscikit-learn=0.16.1\nscipy=0.16.0\nsend2trash=1.5.0=py27_0\nsetuptools=41.2.0=py27_0\nsimplegeneric=0.8.1=py27_2\nsingledispatch=3.4.0.3=py27h3f9d112_0\nsix=1.12.0\nsmmap=0.8.3=py27_0\nsqlalchemy=1.1.13=py27_0\nstatsmodels=0.6.1\nterminado=0.8.2=py27_0\ntestpath=0.4.2=py27_0\ntornado=5.1.1=py27h0c8e037_0\ntraitlets=4.3.2=py27h1b1b3a5_0\ntraits=4.6.0=py27_0\ntyping=3.6.2=py27_0\nurllib3=1.21.1=py27_0\nvc=9=h7299396_1\nvs2008_runtime=9.00.30729.5054=0\nwcwidth=0.1.7=py27hb1a0d82_0\nwebencodings=0.5.1=py27_1\nwerkzeug=0.16.0=py_0\nwheel=0.33.6=py27_0\nwidgetsnbextension=3.5.1=py27_0\nwin_inet_pton=1.1.0=py27_0\nwin_unicode_console=0.5=py27hc037021_0\nwincertstore=0.2=py27hf04cefb_0\nwinkerberos=0.7.0=py27_1\nwinpty=0.4.3=4\nxlrd=1.1.0=py27_0\nxlsxwriter=0.9.8=py27_0\nxlwings=0.11.4=py27_0\nxlwt=1.3.0=py27_0\nyaml=0.1.7=h3e6d941_2\nzeromq=4.3.1=h2880e7c_3\nzlib=1.2.11=h3cc03e0_3\n</code></pre>\n\n<p>When I run (this file contains the contents pasted above):\n<code>conda install -y --file \"requirements.txt\"</code> </p>\n\n<p>I get:</p>\n\n<pre><code>UnsatisfiableError: The following specifications were found to be incompatible with each other:\n\n\n\nPackage blas conflicts for:\nnumpy-base==1.9.3=py27h0bb1d87_7 -&gt; blas==1.0=mkl\npytables==3.2.2 -&gt; numpy=1.13 -&gt; blas[version='*|1.0',build=mkl]\nscikit-learn==0.16.1 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3=py27h0bb1d87_7 -&gt; blas==1.0=mkl\nscipy==0.16.0 -&gt; numpy=1.9 -&gt; blas=[build=mkl]\nnumpy==1.16.5 -&gt; mkl-service[version='&gt;=2,&lt;3.0a0'] -&gt; blas=[build=mkl]\nscipy==0.16.0 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3=py27h0bb1d87_7 -&gt; blas==1.0=mkl\nnumexpr==2.4.4 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3=py27h0bb1d87_7 -&gt; blas==1.0=mkl\nmatplotlib==2.2.3 -&gt; numpy -&gt; blas[version='*|1.0',build=mkl]\npandas==0.16.2 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3=py35h5c71026_7 -&gt; blas==1.0=mkl\npatsy==0.5.1=py27_0 -&gt; numpy[version='&gt;=1.4.0'] -&gt; blas[version='*|1.0',build=mkl]\nnumpy==1.16.5 -&gt; blas==1.0=mkl\nscikit-learn==0.16.1 -&gt; numpy=1.9 -&gt; blas=[build=mkl]\nnumexpr==2.4.4 -&gt; numpy=1.9 -&gt; blas=[build=mkl]\npandas==0.16.2 -&gt; numpy=1.9 -&gt; blas=[build=mkl]\nstatsmodels==0.6.1 -&gt; numpy=1.11 -&gt; blas[version='*|1.0',build=mkl]\nPackage numpy-base conflicts for:\npatsy==0.5.1=py27_0 -&gt; numpy[version='&gt;=1.4.0'] -&gt; mkl_fft -&gt; numpy-base[version='&gt;=1.0.6,&lt;2.0a0']\nnumpy-base==1.9.3=py27h0bb1d87_7\npatsy==0.5.1=py27_0 -&gt; numpy[version='&gt;=1.4.0'] -&gt; numpy-base[version='1.11.3|1.14.3|1.14.4|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.6|1.14.6|1.15.0|1.15.1|1.15.2|1.15.2|1.15.3|1.15.4|1.15.4|1.16.0|1.16.0|1.16.1|1.16.1|1.16.2|1.16.3|1.16.5|1.9.3|1.9.3',build='py27hb1d0314_1|py27h2753ae9_0|py27h2753ae9_0|py27hb1d0314_5|py27h0bb1d87_3|py27h0bb1d87_2|py27h0bb1d87_1|py27h0bb1d87_0|py27h0bb1d87_0|py27hb1d0314_12|py27h2753ae9_9|py27h0bb1d87_7|py27h0bb1d87_8|py27h2753ae9_10|py27hb1d0314_11|py27hfef472a_9|py27h917549b_1|py27h0bb1d87_4|py27h2753ae9_4|py27hfef472a_0|py27h2753ae9_0|py27h2753ae9_1|py27h2753ae9_0|py27hb1d0314_0|py27hb1d0314_0|py27hb1d0314_1|py27hb1d0314_0|py27hb1d0314_0|py27hb1d0314_0|py27hb1d0314_0|py27h0bb1d87_6|py27h0bb1d87_7']\nnumpy==1.16.5 -&gt; numpy-base==1.16.5[build='py36hc3f5095_0|py27hb1d0314_0|py37hc3f5095_0']\nnumexpr==2.4.4 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3[build='py27h0bb1d87_7|py27h0bb1d87_6|py35h5c71026_7']\npandas==0.16.2 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3[build='py27h0bb1d87_7|py27h0bb1d87_6|py35h5c71026_7']\npytables==3.2.2 -&gt; numpy=1.13 -&gt; mkl_random -&gt; numpy-base[version='&gt;=1.0.2,&lt;2.0a0|&gt;=1.0.6,&lt;2.0a0']\nnumpy==1.16.5 -&gt; mkl_random[version='&gt;=1.0.2,&lt;2.0a0'] -&gt; numpy-base[version='&gt;=1.0.2,&lt;2.0a0|&gt;=1.0.6,&lt;2.0a0']\npytables==3.2.2 -&gt; numpy=1.13 -&gt; numpy-base[version='1.11.3|1.9.3|1.9.3|1.9.3|1.9.3|1.9.3|&gt;=1.9.3,&lt;2.0a0',build='py36h5c71026_7|py35h5c71026_7|py27h0bb1d87_7|py27h0bb1d87_6|py36hc3f5095_12|py36h8128ebf_9|py27hb1d0314_12|py27h2753ae9_9|py27h0bb1d87_7|py27h0bb1d87_8|py27h2753ae9_10|py27hb1d0314_11|py27hfef472a_9|py35h4a99626_8|py35h4a99626_9|py35h8128ebf_10|py35h8128ebf_9|py36h2a9b21d_11|py36h4a99626_9|py36h5c71026_7|py36h5c71026_8|py36h8128ebf_10|py36h8128ebf_11|py36h5c71026_6']\nmatplotlib==2.2.3 -&gt; numpy -&gt; mkl_fft[version='&gt;=1.0.6,&lt;2.0a0'] -&gt; numpy-base[version='&gt;=1.0.2,&lt;2.0a0|&gt;=1.0.6,&lt;2.0a0']\nscikit-learn==0.16.1 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3[build='py27h0bb1d87_7|py27h0bb1d87_6|py35h5c71026_7']\nscipy==0.16.0 -&gt; numpy=1.9 -&gt; numpy-base==1.9.3[build='py27h0bb1d87_7|py27h0bb1d87_6|py35h5c71026_7']\nstatsmodels==0.6.1 -&gt; numpy=1.11 -&gt; numpy-base[version='1.11.3|1.9.3|1.9.3|1.9.3|1.9.3|1.9.3|&gt;=1.9.3,&lt;2.0a0',build='py36h5c71026_7|py35h5c71026_7|py27h0bb1d87_7|py27h0bb1d87_6|py36hc3f5095_12|py36h8128ebf_9|py27hb1d0314_12|py27h2753ae9_9|py27h0bb1d87_7|py27h0bb1d87_8|py27h2753ae9_10|py27hb1d0314_11|py27hfef472a_9|py35h4a99626_8|py35h4a99626_9|py35h8128ebf_10|py35h8128ebf_9|py36h2a9b21d_11|py36h4a99626_9|py36h5c71026_7|py36h5c71026_8|py36h8128ebf_10|py36h8128ebf_11|py36h5c71026_6']\nmatplotlib==2.2.3 -&gt; numpy -&gt; numpy-base[version='1.11.3|1.14.3|1.14.3|1.14.3|1.14.4|1.14.4|1.14.4|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.5|1.14.6|1.14.6|1.14.6|1.14.6|1.14.6|1.14.6|1.14.6|1.15.0|1.15.0|1.15.0|1.15.0|1.15.1|1.15.1|1.15.1|1.15.1|1.15.2|1.15.2|1.15.2|1.15.2|1.15.2|1.15.3|1.15.3|1.15.3|1.15.4|1.15.4|1.15.4|1.15.4|1.15.4|1.15.4|1.16.0|1.16.0|1.16.0|1.16.0|1.16.0|1.16.0|1.16.1|1.16.1|1.16.1|1.16.1|1.16.1|1.16.1|1.16.2|1.16.2|1.16.2|1.16.3|1.16.3|1.16.3|1.16.4|1.16.4|1.16.5|1.16.5|1.16.5|1.9.3|1.9.3|1.9.3|1.9.3|1.9.3|1.9.3|1.9.3|&gt;=1.9.3,&lt;2.0a0',build='py36h5c71026_7|py37hc3f5095_0|py37hc3f5095_0|py27hb1d0314_1|py37hc3f5095_0|py37h8128ebf_0|py36hc3f5095_0|py27hb1d0314_0|py27h2753ae9_0|py37h8128ebf_0|py36h8128ebf_0|py37h8128ebf_0|py37h8128ebf_0|py36h8128ebf_0|py35h8128ebf_0|py27h2753ae9_0|py27hfef472a_0|py37h8128ebf_4|py36h8128ebf_4|py27hb1d0314_5|py37h5c71026_2|py37h5c71026_1|py37h5c71026_0|py36h5c71026_4|py36h5c71026_2|py36h5c71026_1|py36h5c71026_0|py27h0bb1d87_3|py27h0bb1d87_0|py27h0bb1d87_0|py35h555522e_1|py27h917549b_1|py37hc3f5095_12|py37h8128ebf_9|py37h8128ebf_11|py37h2a9b21d_11|py36hc3f5095_12|py36h8128ebf_9|py27hb1d0314_12|py27h2753ae9_9|py27h0bb1d87_7|py27h0bb1d87_8|py27h2753ae9_10|py27hb1d0314_11|py27hfef472a_9|py35h4a99626_8|py35h4a99626_9|py35h8128ebf_10|py35h8128ebf_9|py36h2a9b21d_11|py36h4a99626_9|py36h5c71026_7|py36h5c71026_8|py36h8128ebf_10|py36h8128ebf_11|py37h4a99626_9|py37h5c71026_7|py37h5c71026_8|py37h8128ebf_10|py36h555522e_1|py35h5c71026_0|py36h5c71026_0|py27h0bb1d87_1|py27h0bb1d87_2|py27h0bb1d87_4|py35h4a99626_4|py35h5c71026_0|py36h5c71026_3|py37h5c71026_3|py37h5c71026_4|py27h2753ae9_4|py35h8128ebf_4|py36hc3f5095_5|py37hc3f5095_5|py35h4a99626_0|py36h4a99626_0|py37h4a99626_0|py27h2753ae9_0|py27h2753ae9_1|py35h8128ebf_0|py36h8128ebf_0|py27h2753ae9_0|py36h8128ebf_0|py27hb1d0314_0|py27hb1d0314_1|py36hc3f5095_0|py36hc3f5095_1|py37hc3f5095_0|py37hc3f5095_1|py27hb1d0314_0|py36hc3f5095_0|py36hc3f5095_1|py37hc3f5095_1|py27hb1d0314_0|py36hc3f5095_0|py37hc3f5095_0|py27hb1d0314_0|py36hc3f5095_0|py36hc3f5095_0|py37hc3f5095_0|py27hb1d0314_0|py36hc3f5095_0|py37hc3f5095_0|py27h0bb1d87_6|py27h0bb1d87_7|py35h5c71026_7|py36h5c71026_6|py37h5c71026_6|py37h5c71026_7']\nPackage numpy conflicts for:\nscikit-learn==0.16.1 -&gt; numpy[version='1.10.*|1.9.*']\nstatsmodels==0.6.1 -&gt; numpy=1.11 -&gt; numpy[version='&gt;=1.11.3,&lt;2.0a0|&gt;=1.11|&gt;=1.11.3,&lt;1.12.0a0|&gt;=1.12|&gt;=1.12.1,&lt;2.0a0|&gt;=1.4.0|&gt;=1.7.0|&gt;=1.9']\nmatplotlib==2.2.3 -&gt; numpy\nstatsmodels==0.6.1 -&gt; numpy[version='1.10.*|1.11.*|1.12.*|1.8.*|1.9.*']\nscipy==0.16.0 -&gt; numpy[version='1.10.*|1.9.*']\npytables==3.2.2 -&gt; numpy[version='1.10.*|1.11.*|1.12.*|1.13.*|1.9.*']\npandas==0.16.2 -&gt; numpy=1.9\nnumexpr==2.4.4 -&gt; numpy[version='1.10.*|1.9.*']\npatsy==0.5.1=py27_0 -&gt; numpy[version='&gt;=1.4.0']\nnumpy==1.16.5\nPackage mkl-service conflicts for:\npytables==3.2.2 -&gt; numexpr -&gt; mkl==11.3.3 -&gt; mkl-service[version='1.0.0|&gt;=2,&lt;3.0a0']\nmatplotlib==2.2.3 -&gt; numpy -&gt; mkl[version='&gt;=2018.0.0,&lt;2019.0a0'] -&gt; mkl-service==1.0.0\npatsy==0.5.1=py27_0 -&gt; numpy[version='&gt;=1.4.0'] -&gt; mkl==11.3.3 -&gt; mkl-service==1.0.0\nPackage pyqt conflicts for:\nmatplotlib==2.2.3 -&gt; pyqt[version='5.6.*|5.9.*']\njupyter==1.0.0=py27_3 -&gt; qtconsole -&gt; pyqt[version='4.*|5.*']\nqtconsole==4.5.5=py_0 -&gt; pyqt\npyqt==4.10.4=py27_1\nPackage mkl-rt conflicts for:\nscikit-learn==0.16.1 -&gt; mkl-rt==11.1\nnumexpr==2.4.4 -&gt; mkl-rt==11.1\npytables==3.2.2 -&gt; numexpr -&gt; mkl==11.3.3 -&gt; mkl-service==1.0.0 -&gt; mkl-rt==11.0\nstatsmodels==0.6.1 -&gt; numpy=1.11 -&gt; numpy-base==1.11.3=py27hb1d0314_12 -&gt; mkl-rt==11.0\nPackage mkl conflicts for:\nmkl==2018.0.3=1\n</code></pre>\n\n<p>Now, what's weird is that this requirements file was created on THIS identical PC by an env in which I  installed various packages as they were needed.</p>\n\n<p>How would I go about resolving this?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1609, "user_id": 9028015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsPp0.jpg?s=128&g=1", "display_name": "Mason Caiby", "link": "https://stackoverflow.com/users/9028015/mason-caiby"}, "edited": false, "score": 1, "creation_date": 1569441037, "post_id": 58105611, "comment_id": 102602080, "body": "Python doesn&#39;t generally use private attributes, but you can see this stackoverflow post on how to create <code>@property</code> flags: <a href=\"https://stackoverflow.com/questions/4555932/public-or-private-attribute-in-python-what-is-the-best-way\" title=\"public or private attribute in python what is the best way\">stackoverflow.com/questions/4555932/&hellip;</a>"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1569446316, "post_id": 58105611, "comment_id": 102604009, "body": "Why do you think you need to make the attributes private? The assignment doesn&#39;t seem to require it."}, {"owner": {"reputation": 17, "user_id": 1761498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a97786f2d26ebeba89cbf637b251f6?s=128&d=identicon&r=PG", "display_name": "user1761498", "link": "https://stackoverflow.com/users/1761498/user1761498"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1569446652, "post_id": 58105611, "comment_id": 102604111, "body": "@DanielRoseman The teacher wants us to make the attributes private for the assignment."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 1761498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a97786f2d26ebeba89cbf637b251f6?s=128&d=identicon&r=PG", "display_name": "user1761498", "link": "https://stackoverflow.com/users/1761498/user1761498"}, "edited": false, "score": 0, "creation_date": 1569447958, "post_id": 58105664, "comment_id": 102604516, "body": "When I add __ before my objects the programs runs blank. Why is that happening?"}], "tags": [], "owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "is_accepted": false, "score": 1, "last_activity_date": 1569441101, "creation_date": 1569441101, "answer_id": 58105664, "question_id": 58105611, "link": "https://stackoverflow.com/questions/58105611/how-to-make-data-attributes-private-in-python/58105664#58105664", "title": "How to make data attributes private in python", "body": "<p>Private properties in an object is defined by prepending it with <code>__</code>, so in your case it would be <code>__age</code> instead of <code>age</code>. The interpreter will then mangle the name (i.e. it would not be accessible directly through <code>__age</code>), but if someone wanted to get access through the mangled name, they could still do it. There is no such thing as a <em>real</em> private property in Python.</p>\n\n<p>Also: the first parameter to an objects method in python should always be named <code>self</code> (and not <code>animal</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 9749951, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215881940388348/picture?type=large", "display_name": "Luis Quiroga", "link": "https://stackoverflow.com/users/9749951/luis-quiroga"}, "is_accepted": false, "score": 1, "last_activity_date": 1569441699, "creation_date": 1569441699, "answer_id": 58105808, "question_id": 58105611, "link": "https://stackoverflow.com/questions/58105611/how-to-make-data-attributes-private-in-python/58105808#58105808", "title": "How to make data attributes private in python", "body": "<p>Just use double underscore before the attribute name, for example: \"__type\", \"__age\", \"__name\".</p>\n\n<p>If you want to learn more about public, private and protected: <a href=\"https://www.tutorialsteacher.com/python/private-and-protected-access-modifiers-in-python\" rel=\"nofollow noreferrer\">https://www.tutorialsteacher.com/python/private-and-protected-access-modifiers-in-python</a></p>\n"}], "owner": {"reputation": 17, "user_id": 1761498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a97786f2d26ebeba89cbf637b251f6?s=128&d=identicon&r=PG", "display_name": "user1761498", "link": "https://stackoverflow.com/users/1761498/user1761498"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569441699, "creation_date": 1569440894, "last_edit_date": 1569441109, "question_id": 58105611, "link": "https://stackoverflow.com/questions/58105611/how-to-make-data-attributes-private-in-python", "title": "How to make data attributes private in python", "body": "<p>I'm new to Python, and I need some help understanding private methods. I'm working on an assignment where I have to output the type of pet it is, its name, and age. I have the program working but I seem to be stuck on how I would go about making the data attributes private. This is my code.</p>\n\n<pre><code>import random       \nclass pet :\n#how the pets attributes will be displayed\ndef __init__(animal, type, name, age): \n    animal.type = type            \n    animal.name = name\n    animal.age = age\n    #empty list for adding tricks\n    animal.tricks = []\n#number of fleas are random from 0 to 10\nfleaCount = random.randint(0,10)    \ndef addTrick(animal, trick):\n    animal.tricks.append(trick)       \ndef petAge(animal):\n    return animal.age         \ndef printInfo(animal):        \n    print(f\"Pet type : {animal.type} \\nPet name : {animal.name}\\nPet age : {animal.age}\\nPet                            fleas : {animal.fleaCount}\")\n    print(\"Tricks :\")      \n    for i in range(len(animal.tricks)):\n        print(\"\",animal.tricks[i])\n\n# main program\n\n\n#dog1 information\ndog1 = pet(\"Dog\",\"Max\",10)        \ndog1.addTrick(\"Stay and Bark\")              \ndog1.printInfo()                \n#dog2 information\ndog2 = pet(\"Dog\",\"Lily\",8)\ndog2.addTrick(\"Play Dead and Fetch\")\ndog2.printInfo()\n#cat1 information\ncat1 = pet(\"Cat\",\"Mittens\",11)\ncat1.addTrick(\"Sit and High Five\")\ncat1.printInfo()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1569440769, "post_id": 58105559, "comment_id": 102601921, "body": "I guess you are looking for append: <code>listA.append(listB)</code>?"}, {"owner": {"reputation": 263, "user_id": 6506829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeaa1c7f56604c82c626576eaec847e4?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Smith", "link": "https://stackoverflow.com/users/6506829/laura-smith"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1569440827, "post_id": 58105559, "comment_id": 102601955, "body": "@DanielMesejo  I tried that, but it doesnt seem to work. :( Any sample code would help"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1569440906, "post_id": 58105559, "comment_id": 102601997, "body": "What exactly do you want in res? A list with a single string?"}, {"owner": {"reputation": 6314, "user_id": 5770501, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/FUVQn.jpg?s=128&g=1", "display_name": "Arkistarvh Kltzuonstev", "link": "https://stackoverflow.com/users/5770501/arkistarvh-kltzuonstev"}, "edited": false, "score": 0, "creation_date": 1569440921, "post_id": 58105559, "comment_id": 102602004, "body": "@LauraSmith What error and/or output do you get?"}, {"owner": {"reputation": 263, "user_id": 6506829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeaa1c7f56604c82c626576eaec847e4?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Smith", "link": "https://stackoverflow.com/users/6506829/laura-smith"}, "edited": false, "score": 0, "creation_date": 1569440941, "post_id": 58105559, "comment_id": 102602025, "body": "I want something like the <code>res</code>. The listA string has the listB appended to it."}, {"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1569440943, "post_id": 58105559, "comment_id": 102602028, "body": "That output isn&#39;t a valid list"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "edited": false, "score": 0, "creation_date": 1569440975, "post_id": 58105559, "comment_id": 102602054, "body": "Im confused by your desired output - is it supposed to be <code>[&quot;1.2.4.4.5.[&quot;this is the first&quot;, &quot;this is the second&quot;]&quot;]</code> or <code>[&quot;1.2.4.4.5&quot;, [&quot;this is the first&quot;, &quot;this is the second&quot;]]</code>  or <code>[&quot;1.2.4.4.5&quot;, &quot;this is the first&quot;, &quot;this is the second&quot;]</code>?"}, {"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1569441016, "post_id": 58105559, "comment_id": 102602071, "body": "<code>listA.extend(listB)</code>?"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1569441018, "post_id": 58105559, "comment_id": 102602073, "body": "<code>listA[-1] = listA[-1] + str(listB)</code> ?"}, {"owner": {"reputation": 263, "user_id": 6506829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeaa1c7f56604c82c626576eaec847e4?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Smith", "link": "https://stackoverflow.com/users/6506829/laura-smith"}, "reply_to_user": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "edited": false, "score": 0, "creation_date": 1569441124, "post_id": 58105559, "comment_id": 102602122, "body": "@Quinn [&quot;1.2.4.4.5.[&quot;this is the first&quot;, &quot;this is the second&quot;]&quot;] is what i want"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 2, "creation_date": 1569441142, "post_id": 58105559, "comment_id": 102602129, "body": "Look at my last comment it should work"}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1569441086, "post_id": 58105643, "comment_id": 102602105, "body": "Changes listA, OP didn&#39;t ask for that."}, {"owner": {"reputation": 371, "user_id": 7747899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ld158.png?s=128&g=1", "display_name": "Woops", "link": "https://stackoverflow.com/users/7747899/woops"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1569441263, "post_id": 58105643, "comment_id": 102602180, "body": "&quot;I want to be able to append listB to listA&quot;, that&#39;s from OP&#39;s question.  I guess changing listA isn&#39;t a problem"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1569441310, "post_id": 58105643, "comment_id": 102602206, "body": "I see no basis for this assumption in OP&#39;s question."}], "tags": [], "owner": {"reputation": 371, "user_id": 7747899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ld158.png?s=128&g=1", "display_name": "Woops", "link": "https://stackoverflow.com/users/7747899/woops"}, "is_accepted": false, "score": 0, "last_activity_date": 1569441042, "creation_date": 1569441042, "answer_id": 58105643, "question_id": 58105559, "link": "https://stackoverflow.com/questions/58105559/append-one-list-to-another-list/58105643#58105643", "title": "Append one list to another list", "body": "<pre><code>listA.extend(listB) \n</code></pre>\n\n<p>extends the listA, it does not return a result</p>\n\n<p>so if you want them merged, just use the </p>\n\n<pre><code>listA.extend(listB) \n</code></pre>\n\n<p>and then </p>\n\n<pre><code>res = listA\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": true, "score": 3, "last_activity_date": 1569441390, "creation_date": 1569441390, "answer_id": 58105733, "question_id": 58105559, "link": "https://stackoverflow.com/questions/58105559/append-one-list-to-another-list/58105733#58105733", "title": "Append one list to another list", "body": "<p>Very confusing output but here you go </p>\n\n<pre><code>listA[0] +\".\"+ str(listB) \n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code> \"1.2.4.4.5.['this is the first', 'this is the second']\"\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 6506829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeaa1c7f56604c82c626576eaec847e4?s=128&d=identicon&r=PG&f=1", "display_name": "Laura Smith", "link": "https://stackoverflow.com/users/6506829/laura-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58105733, "answer_count": 2, "score": -2, "last_activity_date": 1569441390, "creation_date": 1569440717, "last_edit_date": 1569440856, "question_id": 58105559, "link": "https://stackoverflow.com/questions/58105559/append-one-list-to-another-list", "title": "Append one list to another list", "body": "<p>I have listA and listB. I want to be able to append listB to listA.</p>\n\n<p>I am having some issues using the <code>extend</code> keyword. I am not sure if I am using it the right way.</p>\n\n<pre><code>listA = ['1.2.4.4.5']\nlistB = [\"this is the first\", \"this is the second\"]\n</code></pre>\n\n<p>I want to be able to have the following output:</p>\n\n<pre><code>res = [1.2.4.4.5.[\"this is the first\", \"this is the second\"]]\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 724, "user_id": 4531017, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8vSmawKp7oc/AAAAAAAAAAI/AAAAAAAAAKE/GPykLlh0Tk8/photo.jpg?sz=128", "display_name": "Callin", "link": "https://stackoverflow.com/users/4531017/callin"}, "edited": false, "score": 2, "creation_date": 1569441757, "post_id": 58105543, "comment_id": 102602399, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/7821518/matplotlib-save-plot-to-numpy-array\">Matplotlib: save plot to numpy array</a>"}, {"owner": {"reputation": 462, "user_id": 12081954, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCny9pyWN5BhoN3035PNaRoL0JGqksQg8yvRcP-kQ=k-s128", "display_name": "mayosten", "link": "https://stackoverflow.com/users/12081954/mayosten"}, "reply_to_user": {"reputation": 724, "user_id": 4531017, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8vSmawKp7oc/AAAAAAAAAAI/AAAAAAAAAKE/GPykLlh0Tk8/photo.jpg?sz=128", "display_name": "Callin", "link": "https://stackoverflow.com/users/4531017/callin"}, "edited": false, "score": 0, "creation_date": 1569447677, "post_id": 58105543, "comment_id": 102604431, "body": "@Callin looks like it. Thx."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 12121271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bec71802b8ede7f07ccd2681d58fea8?s=128&d=identicon&r=PG&f=1", "display_name": "Soyong", "link": "https://stackoverflow.com/users/12121271/soyong"}, "is_accepted": false, "score": 0, "last_activity_date": 1569446692, "creation_date": 1569446692, "answer_id": 58106717, "question_id": 58105543, "link": "https://stackoverflow.com/questions/58105543/how-to-directly-read-image-as-array-from-pyplot-figure/58106717#58106717", "title": "How to directly read image as array from pyplot figure?", "body": "<p>Sorry to bother you. My code is to see 3D skeletal joints model (each neighbor joints are connected as line) in 3D coordinate. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib.pyplot as plt\nimport numpy as np\n\n\ndef draw_3D_model(file_name)\n   fig = plt.figure()\n   ax = plt.axes(projection = '3d')\n   ax.grid(False)\n   ax.view_init(azim = -90,elev = -50)\n\n   draw_skeleton(file_name)   # this is the function I made to draw a line between neighbor joints(only used plt.plot()\n\n   return fig\n\n\ndef make_animation   \n   for file_name in file_names:\n      fig = draw_3D_model(file_name)\n      fig.canvas.draw ( )\n      w,h = fig.canvas.get_width_height()\n      buf = numpy.fromstring ( fig.canvas.tostring_argb(), dtype=numpy.uint8 )\n      buf.shape = ( w, h,4 )\n</code></pre>\n\n<p>This is simplified structure of my code, and when doing buf.shape = ( w, h, 4 ), it shows the error message that the size of buf cannot be reshape to ( w, h, 4 ).</p>\n"}], "owner": {"reputation": 23, "user_id": 12121271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bec71802b8ede7f07ccd2681d58fea8?s=128&d=identicon&r=PG&f=1", "display_name": "Soyong", "link": "https://stackoverflow.com/users/12121271/soyong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569446692, "creation_date": 1569440648, "question_id": 58105543, "link": "https://stackoverflow.com/questions/58105543/how-to-directly-read-image-as-array-from-pyplot-figure", "title": "How to directly read image as array from pyplot figure?", "body": "<p>I want to read current view of pyplot figure as numpy array without saving the file and loading it. </p>\n\n<p>What I tried first was to plot the data and save it and load it using imread. But I guess this save-and-load reduces task's time-efficiency.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># Plotting\nplt.plot(data_x, data_y, data_z)\nplt.savefile('output.png')\nplt.close()\n\n# Load image as numpy array\nim = cv2.read('output.png')\n</code></pre>\n\n<p>How can I change this code to do same work but increase time efficiency?</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 1, "creation_date": 1569440725, "post_id": 58105532, "comment_id": 102601899, "body": "<code>header_row = next(c)</code>  Then when writing rows write the <code>header_row</code> before all others."}, {"owner": {"reputation": 2187, "user_id": 11222963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-39JxYwzAft8/AAAAAAAAAAI/AAAAAAAAAio/VlhcM1Byq3A/photo.jpg?sz=128", "display_name": "SCool", "link": "https://stackoverflow.com/users/11222963/scool"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1569440938, "post_id": 58105532, "comment_id": 102602022, "body": "I don&#39;t write rows, I just use <code>pd.DataFrame(c)</code> after I have read the file. Should I use <code>writer</code> instead?"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 2, "creation_date": 1569441152, "post_id": 58105532, "comment_id": 102602132, "body": "<code>header_row = next(c); df = pd.DataFrame.from_records(c, columns=header_row)</code> (That&#39;s from my reading of the <code>pandas</code> docs. I am not certain if you need to pass <code>c</code> or <code>list(c)</code>.)"}], "owner": {"reputation": 2187, "user_id": 11222963, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-39JxYwzAft8/AAAAAAAAAAI/AAAAAAAAAio/VlhcM1Byq3A/photo.jpg?sz=128", "display_name": "SCool", "link": "https://stackoverflow.com/users/11222963/scool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569440589, "creation_date": 1569440589, "question_id": 58105532, "link": "https://stackoverflow.com/questions/58105532/how-to-manage-headers-in-csv-reader", "title": "How to manage headers in csv.reader()?", "body": "<p>Pandas is having some trouble reading in a certain messy csv file, so I'm using the <code>csv</code> library. </p>\n\n<p>It is not detecting the header, so it has been inserted into the rows. </p>\n\n<p>All guides to the <code>csv</code> library show that you must skip the header using <code>next()</code>. But how do I put it back in? </p>\n\n<p>Here's my simple code to read the csv:</p>\n\n<pre><code>c = csv.reader(open('card_16092019.csv','r'), delimiter='\\t', quoting=csv.QUOTE_NONE)\n</code></pre>\n\n<p>How can I keep the header as a header and not part of the rows?</p>\n"}, {"tags": ["python", "arrays", "python-3.x", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1569440800, "post_id": 58105571, "comment_id": 102601942, "body": "This doesn&#39;t answer the question."}, {"owner": {"reputation": 321, "user_id": 3990355, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/10f3fae7855fc4f4ec6b3cc76020b971?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Farleigh", "link": "https://stackoverflow.com/users/3990355/lucas-farleigh"}, "edited": false, "score": 0, "creation_date": 1569441607, "post_id": 58105571, "comment_id": 102602323, "body": "Useful to know, but doesn&#39;t answer my question - should of been a comment"}], "tags": [], "owner": {"reputation": 1282, "user_id": 4621345, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrAH_VoKIz4/AAAAAAAAAAI/AAAAAAAAAIM/FT9DTnHcXJ8/photo.jpg?sz=128", "display_name": "Kevin Welch", "link": "https://stackoverflow.com/users/4621345/kevin-welch"}, "is_accepted": false, "score": -2, "last_activity_date": 1569440911, "last_edit_date": 1569440911, "creation_date": 1569440770, "answer_id": 58105571, "question_id": 58105511, "link": "https://stackoverflow.com/questions/58105511/looping-through-a-2d-array-python/58105571#58105571", "title": "Looping through a 2d array Python", "body": "<p>There is no need for a <code>count</code> variable. <code>result[count]</code> gives you the first item because you set <code>count = 0</code>, so you are really just looping through <code>[\"Lucas\", \"5\"]</code> in your inner loop. You can just use two <code>for...in</code> loops</p>\n\n<pre><code>result = [[\"Lucas\",\"5\"],[\"Tim\",\"2\"]]\ncount = 0\nfor line in result:\n    for item in line:\n        print(item)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1569440782, "creation_date": 1569440782, "answer_id": 58105572, "question_id": 58105511, "link": "https://stackoverflow.com/questions/58105511/looping-through-a-2d-array-python/58105572#58105572", "title": "Looping through a 2d array Python", "body": "<p>When you do</p>\n\n<pre><code>for item in result[count]:\n</code></pre>\n\n<p>the expression <code>result[count]</code> is only evaluated once, at the beginning of the loop. It's not evaluated each time through the loop, so reassigning <code>count</code> has no effect on subsequent iterations. It's roughly equivalent to:</p>\n\n<pre><code>temp = result[count]\nfor item in temp:\n</code></pre>\n\n<p>Remember that the value you're looping over with <code>for</code> could be a generator expression. These can't be indexed, they just calculate a series of values. So it wouldn't make sense to re-evaluate them each time.</p>\n"}, {"tags": [], "owner": {"reputation": 1465, "user_id": 8147165, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Bx9DE.png?s=128&g=1", "display_name": "michjnich", "link": "https://stackoverflow.com/users/8147165/michjnich"}, "is_accepted": false, "score": 0, "last_activity_date": 1569441090, "creation_date": 1569441090, "answer_id": 58105661, "question_id": 58105511, "link": "https://stackoverflow.com/questions/58105511/looping-through-a-2d-array-python/58105661#58105661", "title": "Looping through a 2d array Python", "body": "<pre><code>for line in result:\n</code></pre>\n\n<p>will loop through the top level arrays, so there are 2 records here: <code>[\"Lucas\",\"5\"]</code> and <code>[\"Tim\",\"2\"]</code> Then:</p>\n\n<pre><code>for item in result[count]:\n</code></pre>\n\n<p>will loop through each item for each of the 2 records, so</p>\n\n<pre><code>print(item)\n</code></pre>\n\n<p>will display 4 items,  in the order <code>Lucas, 5, Tim, 2</code>.</p>\n\n<p>There is no need for count, it serves no purpose here, and is not used by either of the for loops in anyway.</p>\n"}, {"tags": [], "owner": {"reputation": 461, "user_id": 12118774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpS5X.jpg?s=128&g=1", "display_name": "Physicing", "link": "https://stackoverflow.com/users/12118774/physicing"}, "is_accepted": false, "score": 0, "last_activity_date": 1569441230, "creation_date": 1569441230, "answer_id": 58105694, "question_id": 58105511, "link": "https://stackoverflow.com/questions/58105511/looping-through-a-2d-array-python/58105694#58105694", "title": "Looping through a 2d array Python", "body": "<p>If you insist on using for loops you can also use</p>\n\n<pre><code>result = [[\"Lucas\",\"5\"],[\"Tim\",\"2\"]]\ncount = 0\nfor line in range(len(result)):\n    for item in result[line]:\n        print(item)\n        count = count + 1\n</code></pre>\n\n<p>returns : Lucas\n5\nTim\n2</p>\n"}], "owner": {"reputation": 321, "user_id": 3990355, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/10f3fae7855fc4f4ec6b3cc76020b971?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas Farleigh", "link": "https://stackoverflow.com/users/3990355/lucas-farleigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1569441230, "creation_date": 1569440511, "last_edit_date": 1569440558, "question_id": 58105511, "link": "https://stackoverflow.com/questions/58105511/looping-through-a-2d-array-python", "title": "Looping through a 2d array Python", "body": "<p>I'm slightly confused about something, I was looping through a 2d array just experimenting when I came up with this code:</p>\n\n<pre><code>result = [[\"Lucas\",\"5\"],[\"Tim\",\"2\"]]\ncount = 0\nfor line in result:\n    for item in result[count]:\n        print(item)\n        count = count + 1\n</code></pre>\n\n<p>What I thought this would do is give me a result of <code>Lucas</code> and then <code>2</code>, as it would go to the first item, then the second <code>for</code> loop would go through the sublist, printing <code>result[0][0]</code>, yet once it had got to the first item of the sublist, it would increase the count to 1, meaning it would print <code>result[1][1]</code> next, as it is under a new scope but the loop is then going to the second item of whatever scope it is under. </p>\n\n<p>However, this would give 'Lucas','5' as an output. I thought when I change the count, I thought I was changing the scope that it is looping through.</p>\n\n<p>Please explain to me why I am wrong</p>\n\n<p>Thank you in advance, and apologies for not explaining this very well.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 17765, "user_id": 9375102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8yBw3.jpg?s=128&g=1", "display_name": "Umar.H", "link": "https://stackoverflow.com/users/9375102/umar-h"}, "edited": false, "score": 0, "creation_date": 1569440882, "post_id": 58105494, "comment_id": 102601981, "body": "I think one would have to use a bit of regex to match the term names to the individual term columns., few queries, are all the blank values represented with <code>-</code>, do all the variables in the <code>Term</code> column follow The same format, that is <code>Season Year - Season Year</code> ?"}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1569443480, "post_id": 58105494, "comment_id": 102603074, "body": "Why the output is <code>91 96 N&#47;A</code> not <code>91 96 91</code>?"}], "owner": {"reputation": 59, "user_id": 11186737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b13f0c349390458dd2a3f5efaff7ffaf?s=128&d=identicon&r=PG&f=1", "display_name": "D.Rane", "link": "https://stackoverflow.com/users/11186737/d-rane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569444734, "creation_date": 1569440452, "last_edit_date": 1569444734, "question_id": 58105494, "link": "https://stackoverflow.com/questions/58105494/how-to-combine-rows-to-copy-data-to-missing-data-rows", "title": "how to combine rows to copy data to missing data rows", "body": "<p>So I have the following dataframe that has extra rows which I want to collapse and copy over the data / replace data into empty cells. </p>\n\n<p>I don't know how to leverage <code>groupby()</code> if at all for this usecase.\n this is the pandas  dataframe:</p>\n\n<pre><code>id Term                  Course        grade1: grade2: grade:3\n 1 Fall 2018-Spring 2019  GEO 302E  -   -   -   \n 1 Spring 2019            GEO 302E  -   96  -\n 1 Fall 2018              GEO 302E  91  -   91\n</code></pre>\n\n<p>i want the dataframe to collapse this way</p>\n\n<pre><code>id Term                  Course        grade1: grade2: grade:3\n 1 Fall 2018-Spring 2019  GEO 302E  91  96  N/A\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 2983, "user_id": 8629753, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RYMtk.jpg?s=128&g=1", "display_name": "adder", "link": "https://stackoverflow.com/users/8629753/adder"}, "is_accepted": true, "score": 0, "last_activity_date": 1569503956, "creation_date": 1569503956, "answer_id": 58117731, "question_id": 58105459, "link": "https://stackoverflow.com/questions/58105459/filter-objects-based-on-a-specific-category-name/58117731#58117731", "title": "Filter objects based on a specific category name", "body": "<p>After inspecting the database with a database tool I realised that <code>Category</code> ForeignKey is <code>NULL</code>. The problem was that I was assigning the parents before the parents are saved, which meant that they had no PrimaryKey, so the ForeignKey gets set to <code>NULL</code>.</p>\n"}], "owner": {"reputation": 2983, "user_id": 8629753, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RYMtk.jpg?s=128&g=1", "display_name": "adder", "link": "https://stackoverflow.com/users/8629753/adder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58117731, "answer_count": 1, "score": 0, "last_activity_date": 1569503956, "creation_date": 1569440290, "last_edit_date": 1569441068, "question_id": 58105459, "link": "https://stackoverflow.com/questions/58105459/filter-objects-based-on-a-specific-category-name", "title": "Filter objects based on a specific category name", "body": "<p>I'm trying to filter all products whose category name is 'Books'. See below what I have tried but I'm getting an empty queryset.</p>\n\n<p>Here is my <code>models.py</code> just in case:</p>\n\n<pre><code>from django.db import models\nfrom django.urls import reverse\n\n[...]      \n\nclass Product(models.Model):\n    title = models.CharField(max_length=200)\n    description = models.TextField()\n    price = models.DecimalField(decimal_places=2, max_digits=10)\n    year = models.PositiveSmallIntegerField()\n    image = models.ImageField(upload_to=get_image_path, blank=True, null=True)\n    date_added = models.DateTimeField(auto_now=True, null=True)\n    category = models.ForeignKey('Category', on_delete=models.CASCADE)\n\n    [...]\n\nclass Category(models.Model):\n    parent = models.ForeignKey('self', null=True, blank=True, on_delete=models.CASCADE)\n    name = models.CharField(max_length=255)\n\n    def __str__(self):\n        return self.name\n</code></pre>\n\n<p>I have tried this:</p>\n\n<pre><code>&gt;&gt;&gt; from products.models import Product, Category\n&gt;&gt;&gt; c = Category(name='Books')\n&gt;&gt;&gt; c1 = Category(name='Textbooks', parent=c)\n&gt;&gt;&gt; c2 = Category(name='Primary school', parent=c1)\n&gt;&gt;&gt; p = Product(title='spam', description='spameggs', price=200, year=2018, category=c2)\n&gt;&gt;&gt; for x in (c, c1, c2, p):\n...     x.save()\n... \n&gt;&gt;&gt; Product.objects.get(category=c2)\n&lt;Product: Product object (1)&gt;\n&gt;&gt;&gt; Product.objects.filter(category__name='Books')\n&lt;QuerySet []&gt;\n&gt;&gt;&gt; Product.objects.filter(Q(category__name='Books') | Q(category__parent__name='Books') | Q(category__parent__parent__name=\"Books\"))\n&lt;QuerySet []&gt;\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "volume", "nibabel"], "answers": [{"comments": [{"owner": {"reputation": 365, "user_id": 3472735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmpjf.jpg?s=128&g=1", "display_name": "Mohamad Zeina", "link": "https://stackoverflow.com/users/3472735/mohamad-zeina"}, "edited": false, "score": 1, "creation_date": 1569442194, "post_id": 58105577, "comment_id": 102602570, "body": "Thanks, didn&#39;t think of this. Chosen as correct answer because it still works in my slightly more complicated scenario with no problems: some volumes have one channel, and some have more"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 3, "last_activity_date": 1569441404, "last_edit_date": 1569441404, "creation_date": 1569440791, "answer_id": 58105577, "question_id": 58105427, "link": "https://stackoverflow.com/questions/58105427/more-pythonic-way-to-iterate-through-volume-in-arbitrary-axis/58105577#58105577", "title": "More pythonic way to iterate through volume in arbitrary axis?", "body": "<p>Simply use <a href=\"https://docs.scipy.org/doc/numpy-1.14.1/reference/generated/numpy.moveaxis.html\" rel=\"nofollow noreferrer\"><code>np.moveaxis</code></a> -</p>\n\n<pre><code>slices_ar = np.moveaxis(volume,axis,0)\n</code></pre>\n\n<p>Best part is that it's a view into the input and hence virtually free on runtime. Let's verify the <code>view-part</code> -</p>\n\n<pre><code>In [83]: np.shares_memory(volume, np.moveaxis(volume,axis,0))\nOut[83]: True\n</code></pre>\n\n<p>Alternatively, use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.rollaxis.html\" rel=\"nofollow noreferrer\"><code>np.rollaxis</code></a> that does the same -</p>\n\n<pre><code>np.rollaxis(volume,axis,0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2038, "user_id": 687896, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0OURB.jpg?s=128&g=1", "display_name": "Brandt", "link": "https://stackoverflow.com/users/687896/brandt"}, "is_accepted": false, "score": 1, "last_activity_date": 1569441388, "last_edit_date": 1569441388, "creation_date": 1569440925, "answer_id": 58105615, "question_id": 58105427, "link": "https://stackoverflow.com/questions/58105427/more-pythonic-way-to-iterate-through-volume-in-arbitrary-axis/58105615#58105615", "title": "More pythonic way to iterate through volume in arbitrary axis?", "body": "<p>I guess what you want is [numpy.split()]:(<a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.split.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy/reference/generated/numpy.split.html</a>)</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>axis = 0 # Can be set to 0, 1, or 2 \nvolume = np.ones((100, 100, 100))\nn_slices = volume.shape[axis]\n\nslices = np.split(volume, n_slices, axis)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "is_accepted": false, "score": 1, "last_activity_date": 1569441337, "last_edit_date": 1569441337, "creation_date": 1569440991, "answer_id": 58105634, "question_id": 58105427, "link": "https://stackoverflow.com/questions/58105427/more-pythonic-way-to-iterate-through-volume-in-arbitrary-axis/58105634#58105634", "title": "More pythonic way to iterate through volume in arbitrary axis?", "body": "<p>You could use</p>\n\n<pre><code>my_slice = volume[tuple(i if n == axis else slice(100) for n in range(3))]\n</code></pre>\n\n<p>so that</p>\n\n<pre><code>slices = [volume[tuple(i if n == axis else slice(100) for n in range(3))] for i in range(100)]\n</code></pre>\n"}], "owner": {"reputation": 365, "user_id": 3472735, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mmpjf.jpg?s=128&g=1", "display_name": "Mohamad Zeina", "link": "https://stackoverflow.com/users/3472735/mohamad-zeina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 58105577, "answer_count": 3, "score": 1, "last_activity_date": 1569441404, "creation_date": 1569440103, "question_id": 58105427, "link": "https://stackoverflow.com/questions/58105427/more-pythonic-way-to-iterate-through-volume-in-arbitrary-axis", "title": "More pythonic way to iterate through volume in arbitrary axis?", "body": "<p>I have a function which takes a 3D numpy array (which we'll call a volume), and converts it into a list of 2D slices. I want the user to be able to specify the axis through which it is sliced. I am managing this with the code below, but the triple if statement doesn't seem like the most elegant way to do this. I would appreciate people's thoughts on if this could be achieved in a better way.</p>\n\n<pre><code>axis = 0 # Can be set to 0, 1, or 2 \n\nvolume = np.ones((100, 100, 100))\n\nn_slices = volume.shape[axis]\n\nslices = []\n\nfor i in range(n_slices):\n\n    if axis == 0:\n        my_slice = volume[i, :, :]\n    elif axis == 1:\n        my_slice = volume[:, i, :]\n    elif axis == 2:\n        my_slice = volume[:, :, i]\n\n    slices.append(my_slice)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 703, "user_id": 7564393, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e4fbdb9b38a8450b00833f60f4cc1077?s=128&d=identicon&r=PG&f=1", "display_name": "AGH_TORN", "link": "https://stackoverflow.com/users/7564393/agh-torn"}, "edited": false, "score": 0, "creation_date": 1569442594, "post_id": 58105953, "comment_id": 102602736, "body": "While that does work to get the index, I already have the index. I need to create a new dataframe from an existing one, along with new columns."}], "tags": [], "owner": {"reputation": 1, "user_id": 12121286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e6ddf1d1c8344663181bd26afc8c?s=128&d=identicon&r=PG&f=1", "display_name": "ingelemental", "link": "https://stackoverflow.com/users/12121286/ingelemental"}, "is_accepted": false, "score": 0, "last_activity_date": 1569453951, "last_edit_date": 1569453951, "creation_date": 1569442447, "answer_id": 58105953, "question_id": 58105383, "link": "https://stackoverflow.com/questions/58105383/reselect-pandas-dataframe-from-specific-index/58105953#58105953", "title": "Reselect Pandas dataframe from specific index", "body": "<p>Using:</p>\n\n<pre><code>df[df[\"Column1\"]==\"Data\"].index.item()\n</code></pre>\n\n<p>You'll receive the index for the location of the row where \"Data\" is located. From there you can use df.iloc to locate the data you're looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 703, "user_id": 7564393, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e4fbdb9b38a8450b00833f60f4cc1077?s=128&d=identicon&r=PG&f=1", "display_name": "AGH_TORN", "link": "https://stackoverflow.com/users/7564393/agh-torn"}, "is_accepted": true, "score": 0, "last_activity_date": 1569444990, "creation_date": 1569444990, "answer_id": 58106420, "question_id": 58105383, "link": "https://stackoverflow.com/questions/58105383/reselect-pandas-dataframe-from-specific-index/58106420#58106420", "title": "Reselect Pandas dataframe from specific index", "body": "<p>For future travelers, I ended up doing this in a somewhat strange manner. First I got the columns I was interested in:</p>\n\n<pre><code>columns = [x for x in df.iloc[4].values.flatten().tolist() if str(x) != 'nan']\n</code></pre>\n\n<p>Then I sliced the data that I know I need:</p>\n\n<pre><code>data = df.iloc[5:, 0:2].values\n</code></pre>\n\n<p>And finally created a new dataframe:</p>\n\n<pre><code>df = pd.DataFrame(data, columns=columns)\n</code></pre>\n\n<p>Where I set columns, the <code>4</code> is the index of the row that the columns are on (the number I already knew). When I set data,, <code>5:</code> signifies all data from row 5 and beyond (since I didn't know where it ended), and <code>0:2</code> is columns 1-3. </p>\n\n<p>I'm not sure if this is the best way to do it, but it works for what I need it to do.</p>\n"}], "owner": {"reputation": 703, "user_id": 7564393, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e4fbdb9b38a8450b00833f60f4cc1077?s=128&d=identicon&r=PG&f=1", "display_name": "AGH_TORN", "link": "https://stackoverflow.com/users/7564393/agh-torn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58106420, "answer_count": 2, "score": 1, "last_activity_date": 1569453951, "creation_date": 1569439904, "question_id": 58105383, "link": "https://stackoverflow.com/questions/58105383/reselect-pandas-dataframe-from-specific-index", "title": "Reselect Pandas dataframe from specific index", "body": "<p>I've got a dataframe that I'd like to \"reselect\", for lack of a better term, using an index. </p>\n\n<pre><code>Column1 | Column2 | Column3\n   1    |    2    |    3\n   4    |    5    |    6\nData    |         |  \nHeader  | Header2 | Header3\n   7    |    8    |    9\n</code></pre>\n\n<p>I'd like to select this dataframe but specifically at index <code>4,0</code> so that it looks like:</p>\n\n<pre><code>Header  | Header2 | Header3\n   7    |    8    |    9\n</code></pre>\n\n<p>I know I can do something like</p>\n\n<pre><code>df.iloc[[4,5], [0,1,2]]\n</code></pre>\n\n<p>But the problem with that is I don't always know where this index will be in each dataframe, the only information I'll have is the index of the value I'd like to start from.</p>\n"}]