[{"tags": ["python"], "comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 2, "creation_date": 1539821041, "post_id": 52865148, "comment_id": 92644509, "body": "use <code>**</code> and a dict"}], "answers": [{"tags": [], "owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "is_accepted": false, "score": 1, "last_activity_date": 1539821635, "creation_date": 1539821635, "answer_id": 52865240, "question_id": 52865148, "link": "https://stackoverflow.com/questions/52865148/using-splat-operator-to-pass-optional-parameters-does-not-work-as-expected/52865240#52865240", "title": "using splat operator to pass optional parameters does not work as expected", "body": "<p>Give the keyword arguments (kwargs) via a dict, expanded with <code>**</code>:</p>\n\n<pre><code>args = [21, 32]\nkwargs = {\"d\": \"mike\"}\nmyfunct(*args, **kwargs)\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9990443"}, "edited": false, "score": 0, "creation_date": 1539827616, "post_id": 52865242, "comment_id": 92645710, "body": "Awesome, I was not aware of the 2 stars and that dictionary would work in this case. Thanks!"}], "tags": [], "owner": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "is_accepted": true, "score": 1, "last_activity_date": 1539821657, "creation_date": 1539821657, "answer_id": 52865242, "question_id": 52865148, "link": "https://stackoverflow.com/questions/52865148/using-splat-operator-to-pass-optional-parameters-does-not-work-as-expected/52865242#52865242", "title": "using splat operator to pass optional parameters does not work as expected", "body": "<p>While a list can be unpacked for positional arguments, which you've obviously figured out, for keyword arguments, you need a dictionary.</p>\n\n<pre><code>args = [21, 32]\nkwargs = {\"c\": \"mike\"}\n\ndef test_function(a, b, c=None):\n    print(a, b, c)\n\ntest_function(*args, **kwargs)\n# (21, 32, 'mike')\n</code></pre>\n\n<p>This isn't inherently a bad idea, but when you do something like this, make sure you're keeping in mind how it could impact readability for someone looking at your code (including yourself in a couple months after this is no longer fresh in your mind).</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9990443"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 52865242, "answer_count": 2, "score": 0, "last_activity_date": 1539821657, "creation_date": 1539820669, "last_edit_date": 1539820905, "question_id": 52865148, "link": "https://stackoverflow.com/questions/52865148/using-splat-operator-to-pass-optional-parameters-does-not-work-as-expected", "title": "using splat operator to pass optional parameters does not work as expected", "body": "<p>I have a generic function that accept 2 parameters (int) as A and B as required ones, and 2 more as optional; this is the function signatute</p>\n\n<pre><code>myfunct(a, b, c=False, d=\"joe\")\n</code></pre>\n\n<p>a and b are int, c is a bool and d is str type.</p>\n\n<p>I am using the <code>splat</code> operator to pass a list, so based on how many parameter I get from <code>argparse</code> I can add the optional parameters or not. Sometimes I get the call to the function as </p>\n\n<pre><code>myfunct 21, 32\n</code></pre>\n\n<p>Sometimes as </p>\n\n<pre><code>myfunct 34, 44, c=True\n</code></pre>\n\n<p>And all the other variants in between</p>\n\n<p>although I did notice that the splat function does not pass the optional parameter correctly. instead it pass the parameters in sequence, even if I specify which optional parameter I am using.</p>\n\n<pre><code>thelist = [21, 32, \"d=\"+\"mike\"]\n\nmyfunct(*thelist]\n</code></pre>\n\n<p>When I look at what I get in each variable in my function, I get correctly both <code>a</code> and <code>b</code>, but instead of getting <code>mike</code> in the <code>d</code> optional parameter, I get it in <code>c</code>, and it assign the whole string, instead of just what is after the <code>=</code> sign</p>\n\n<p>so this is the content of the variables:</p>\n\n<pre><code>a -&gt; 21\nb -&gt; 32\nc -&gt; d=mike\n</code></pre>\n\n<p>While I was expecting</p>\n\n<pre><code>a -&gt; 21\nb -&gt; 32\nd -&gt; mike\n</code></pre>\n\n<p>how does one pass optional arguments using splat operator? Or is this a bad idea to start with?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539821051, "post_id": 52865117, "comment_id": 92644510, "body": "You match <code>Risk Factors</code>, followed by any (optional) character, followed by a newline, followed by <code>Item *1B</code>. But <code>Item 1B</code> comes far after <code>Risk Factors</code>, not on the next line."}, {"owner": {"reputation": 501, "user_id": 9108781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baf3ed2c7b82534b0af2e4b854eb6ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Wang", "link": "https://stackoverflow.com/users/9108781/victor-wang"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539821061, "post_id": 52865117, "comment_id": 92644512, "body": "There is a star, not showing: Risk Factors*.?"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539821121, "post_id": 52865117, "comment_id": 92644520, "body": "Please try to format your question so that it&#39;s readable and understandable. Use code blocks and make sure that your actual code matches what the question displays."}, {"owner": {"reputation": 501, "user_id": 9108781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baf3ed2c7b82534b0af2e4b854eb6ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Wang", "link": "https://stackoverflow.com/users/9108781/victor-wang"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539821220, "post_id": 52865117, "comment_id": 92644539, "body": "Basically, I want to extract the section of Item 1A. I want to make sure that Item 1A. is followed by Risk Factors within next 50 characters."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539821433, "post_id": 52865117, "comment_id": 92644586, "body": "The problem is your attempt to match <code>Item 1B</code> immediately after <code>Risk Factors</code>."}, {"owner": {"reputation": 501, "user_id": 9108781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baf3ed2c7b82534b0af2e4b854eb6ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Wang", "link": "https://stackoverflow.com/users/9108781/victor-wang"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539821949, "post_id": 52865117, "comment_id": 92644673, "body": "but Risk Factors is followed by .*?"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1539822054, "post_id": 52865117, "comment_id": 92644695, "body": "Your new pattern does, your old pattern didn&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 3566, "user_id": 8089090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c8fc31c29878a0b7a90c1174d366e90?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Gagne", "link": "https://stackoverflow.com/users/8089090/jonathan-gagne"}, "is_accepted": true, "score": 1, "last_activity_date": 1539821223, "creation_date": 1539821223, "answer_id": 52865202, "question_id": 52865117, "link": "https://stackoverflow.com/questions/52865117/python-regex-why-my-pattern-does-not-match/52865202#52865202", "title": "Python Regex: Why my pattern does not match?", "body": "<p>Here is one solution that will math with your actual text. Put <code>(</code> <code>)</code> around your string it will solve a lot of issue. See the solution below.</p>\n\n<pre><code>pattern_1a = re.compile(r\"(?:```|\\n)(Item 1A)[.\\n]{0,50}(Risk Factors)([\\n]|.)*(\\nItem 1B.)(?!u)\", flags = re.I|re.S)\n</code></pre>\n\n<p>Match evidence:\n<a href=\"https://regexr.com/41ejq\" rel=\"nofollow noreferrer\">https://regexr.com/41ejq</a></p>\n"}, {"tags": [], "owner": {"reputation": 501, "user_id": 9108781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baf3ed2c7b82534b0af2e4b854eb6ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Wang", "link": "https://stackoverflow.com/users/9108781/victor-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1539823536, "creation_date": 1539823536, "answer_id": 52865427, "question_id": 52865117, "link": "https://stackoverflow.com/questions/52865117/python-regex-why-my-pattern-does-not-match/52865427#52865427", "title": "Python Regex: Why my pattern does not match?", "body": "<p>The problem is Risk Factors is spread over two lines. It is actually: Risk\\nFactors</p>\n\n<p>Using a general white space \\s or a new line \\n instead of a space matches the text. </p>\n"}], "owner": {"reputation": 501, "user_id": 9108781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9baf3ed2c7b82534b0af2e4b854eb6ef?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Wang", "link": "https://stackoverflow.com/users/9108781/victor-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52865202, "answer_count": 2, "score": -2, "last_activity_date": 1539823536, "creation_date": 1539820355, "last_edit_date": 1539821369, "question_id": 52865117, "link": "https://stackoverflow.com/questions/52865117/python-regex-why-my-pattern-does-not-match", "title": "Python Regex: Why my pattern does not match?", "body": "<p>Here is my pattern:</p>\n\n<pre><code>pattern_1a = re.compile(r\"(?:```|\\n)Item *1A\\.?.{0,50}Risk Factors.*?(?:\\n)Item *1B(?!u)\", flags = re.I|re.S)\n</code></pre>\n\n<p>Why it does not match text like the following? What's wrong?</p>\n\n<pre><code>\"\"\"\n\nItem 1A.\n\nRisk\nFactors\n\nIf we\nare unable to commercialize\nADVEXIN\ntherapy in various markets for multiple indications,\nparticularly for the treatment of recurrent head and neck\ncancer, our business will be harmed.\n\nunder which we may perform research and development services for\nthem in the future.\n\n42\n\nTable of Contents\n\nWe believe the foregoing transactions with insiders were and are\nin our best interests and the best interests of our\nstockholders. However, the transactions may cause conflicts of\ninterest with respect to those insiders.\n\nItem 1B.\n\n\"\"\"\n</code></pre>\n"}, {"tags": ["python", "c++", "boost"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539821255, "post_id": 52865114, "comment_id": 92644549, "body": "You don&#39;t need to inherit from <code>collections.Mapping</code>, but you&#39;ll probably wish you could. <code>collections.Mapping</code> provides a lot of default helper implementations that are a pain to implement manually, especially in C++."}, {"owner": {"reputation": 46580, "user_id": 206328, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e002d9aebb899c1d4ed3ca5bb7d61704?s=128&d=identicon&r=PG", "display_name": "Anycorn", "link": "https://stackoverflow.com/users/206328/anycorn"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539867664, "post_id": 52865114, "comment_id": 92662666, "body": "Appears keys and getitem are sufficient for ** to treat object as mapping, indeed no need to derive from mapping.  still be interesting to know if BP class can inherit from python classes"}], "owner": {"reputation": 46580, "user_id": 206328, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e002d9aebb899c1d4ed3ca5bb7d61704?s=128&d=identicon&r=PG", "display_name": "Anycorn", "link": "https://stackoverflow.com/users/206328/anycorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539820302, "creation_date": 1539820302, "question_id": 52865114, "link": "https://stackoverflow.com/questions/52865114/boost-python-class-inherit-from-python-type", "title": "Boost.Python class inherit from Python type", "body": "<p>I have need to expose C++ class but also to inherit from collections.Mapping (to make ** operator available).\nIs there way to do that?  Alternative, is there protocol to implement ** for non-mapping types?</p>\n"}, {"tags": ["python", "image", "opencv", "colors"], "comments": [{"owner": {"reputation": 3819, "user_id": 4289700, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GGKsgSVN_n4/AAAAAAAAAAI/AAAAAAAAAvQ/_IAucbb8ss8/photo.jpg?sz=128", "display_name": "HugoTeixeira", "link": "https://stackoverflow.com/users/4289700/hugoteixeira"}, "edited": false, "score": 0, "creation_date": 1539827881, "post_id": 52865092, "comment_id": 92645757, "body": "Fix formatting for better readability"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 10519197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42bda84bf9969c3f0c69e4d6e6c5de22?s=128&d=identicon&r=PG&f=1", "display_name": "ISHS", "link": "https://stackoverflow.com/users/10519197/ishs"}, "edited": false, "score": 0, "creation_date": 1539858847, "post_id": 52871759, "comment_id": 92657641, "body": "oh, when I applied your brilliant code, I was really surprised.... But to understand it, would you let me know about hsv[:,:,-1]? I can understand that is meaning V channel but I can&#39;t understand about -1"}, {"owner": {"reputation": 14220, "user_id": 3547485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xGJWo.png?s=128&g=1", "display_name": "Kinght \u91d1", "link": "https://stackoverflow.com/users/3547485/kinght-%e9%87%91"}, "reply_to_user": {"reputation": 9, "user_id": 10519197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42bda84bf9969c3f0c69e4d6e6c5de22?s=128&d=identicon&r=PG&f=1", "display_name": "ISHS", "link": "https://stackoverflow.com/users/10519197/ishs"}, "edited": false, "score": 0, "creation_date": 1539909136, "post_id": 52871759, "comment_id": 92681858, "body": "<code>hsv</code> is 3-channels image: <code>hsv[:,:,2] =&gt; hsv[:,:,-1] =&gt; V</code>"}], "tags": [], "owner": {"reputation": 14220, "user_id": 3547485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xGJWo.png?s=128&g=1", "display_name": "Kinght \u91d1", "link": "https://stackoverflow.com/users/3547485/kinght-%e9%87%91"}, "is_accepted": false, "score": 0, "last_activity_date": 1539857563, "creation_date": 1539857563, "answer_id": 52871759, "question_id": 52865092, "link": "https://stackoverflow.com/questions/52865092/how-to-change-the-image-color-when-the-pixels-hsv-values-are-in-specific-ranges/52871759#52871759", "title": "How to change the image color when the pixels hsv values are in specific ranges?", "body": "<p>For the whole image, replace the image where <code>V(in HSV) &lt;|&gt; th</code> with <code>HSV</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/N0oYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N0oYw.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import cv2\nimport numpy as np\n\nfname = \"test.png\"\nimg = cv2.imread(fname)\nhsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)\n\n## darker \npos1 = np.where(hsv[:,:,-1]&lt;200)\ndst1 = img.copy()\ndst1[pos1] = hsv[pos1]\ncv2.imwrite(\"dst1.png\", dst1)\n\n## lighter \npos2 = np.where(hsv[:,:,-1]&gt;200)\ndst2 = img.copy()\ndst2[pos2] = hsv[pos2]\ncv2.imwrite(\"dst2.png\", dst2)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10519197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42bda84bf9969c3f0c69e4d6e6c5de22?s=128&d=identicon&r=PG&f=1", "display_name": "ISHS", "link": "https://stackoverflow.com/users/10519197/ishs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 938, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540281757, "creation_date": 1539820129, "last_edit_date": 1540281757, "question_id": 52865092, "link": "https://stackoverflow.com/questions/52865092/how-to-change-the-image-color-when-the-pixels-hsv-values-are-in-specific-ranges", "title": "How to change the image color when the pixels hsv values are in specific ranges?", "body": "<p>For my research, I would like to compile a code to change the picture pixel value from RGB to HSV and then to RGB if the V value is above a certain value.\nBut, to do that, I have to use <code>cv2.cvtColor(src,code)</code>.\nWhen I used <code>cv2.cvtColor(image, cv2.COLOR_BGR2HSV)</code>, It worked nice!\nBut When I used <code>cv2.cvtColor( list or str , cv2.COLOR_HSV2BGR)</code>, It made ERROR....\nI think src has to be image. Unfortunately, I had to use type list or str or ndarray..\nI tried hard to make them image, but it's really hard task I think..\nIf you run the code below, numpy array is showing only with V channel first.\nAfter close the window, I can see this error.\nTraceback (most recent call last):</p>\n\n<blockquote>\n  <p>File \"/home/sjw/PycharmProjects/untitled/hiccc.py\", line 18, in \n      img[i][j] = cv2.cvtColor(y, cv2.COLOR_HSV2BGR)\n  TypeError: src is not a numpy array, neither a scalar</p>\n</blockquote>\n\n<p>But my question is not only knowing this error but also made a completed code.\nI need your help..Please.... :(</p>\n\n<pre><code>import cv2\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nimg = cv2.imread('/home/sjw/Pictures/seulgi.jpg')\nimg2 = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)\nimg_h, img_s, img_v = cv2.split(img2)\n\nplt.imshow(img_v, interpolation='nearest')\nplt.show()\n\nfor i in range(1, 1001):\nfor j in range(1, 1501):\n    if img_v[i][j] &gt; 125:\n        y=''.join(str(v) for v in img_v[i:i][j:j])\n        print(type(y))\n\n        img[i][j] = cv2.cvtColor(y, cv2.COLOR_HSV2BGR)\n\ncv2.imshow('sadd',img)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n"}, {"tags": ["javascript", "python", "programming-languages", "scripting-language"], "answers": [{"tags": [], "owner": {"reputation": 246, "user_id": 2331302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f13007f22c514786a56f1560706af9a?s=128&d=identicon&r=PG", "display_name": "David Fisher", "link": "https://stackoverflow.com/users/2331302/david-fisher"}, "is_accepted": true, "score": 1, "last_activity_date": 1539820973, "creation_date": 1539820973, "answer_id": 52865175, "question_id": 52865089, "link": "https://stackoverflow.com/questions/52865089/language-for-an-ebay-auto-lister/52865175#52865175", "title": "Language for an eBay auto lister?", "body": "<p>Java, .Net, and Python already have an API built by eBay for exactly what you want.\nYou can find those here: <a href=\"https://developer.ebay.com/DevZone/guides/ebayfeatures/ProductOverview.html#eBaySDKs\" rel=\"nofollow noreferrer\">https://developer.ebay.com/DevZone/guides/ebayfeatures/ProductOverview.html#eBaySDKs</a></p>\n\n<p>But any language that can effectively create and manipulate XML files should meet your needs.</p>\n"}], "owner": {"reputation": 43, "user_id": 9886313, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2rCkg_pPFp4/AAAAAAAAAAI/AAAAAAAAC6E/Omf-xbjBonU/photo.jpg?sz=128", "display_name": "Nick Cipriano", "link": "https://stackoverflow.com/users/9886313/nick-cipriano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 52865175, "answer_count": 1, "score": -2, "last_activity_date": 1539820973, "creation_date": 1539820108, "question_id": 52865089, "link": "https://stackoverflow.com/questions/52865089/language-for-an-ebay-auto-lister", "title": "Language for an eBay auto lister?", "body": "<p>If I wanted to create an eBay auto lister, what language would this be most feasible? Python, JavaScript? Which is easiest or most efficient? </p>\n\n<p>The program would need to interact with the website and input data from answers the user gives in the program\u2019s UI. It potentially may have to move/click the mouse.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["python", "list", "tuples", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 2, "last_activity_date": 1539820075, "creation_date": 1539820075, "answer_id": 52865085, "question_id": 52865038, "link": "https://stackoverflow.com/questions/52865038/sum-list-of-list-of-tuples/52865085#52865085", "title": "Sum list of list of tuples", "body": "<p>You can use a <code>tuple</code> comprehension within a list comprehension:</p>\n\n<pre><code>L = [[(1, 1), (1, 1), (1, 1)], [(2, 2), (2, 2), (2, 2)]]\n\nres = [tuple(sum(j) for j in zip(*i)) for i in zip(*L)]\n\n[(3, 3), (3, 3), (3, 3)]\n</code></pre>\n\n<p>Or use <code>map</code> for a more functional alternative:</p>\n\n<pre><code>res = [tuple(map(sum, zip(*i))) for i in zip(*L)]\n</code></pre>\n\n<p>For larger lists, you may wish to consider a 3rd party library such as NumPy where, in NumPy terminology, you need only sum over a specified axis:</p>\n\n<pre><code>import numpy as np\n\nA = np.array(L)\n\nres = A.sum(axis=0)\n\narray([[3, 3],\n       [3, 3],\n       [3, 3]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "is_accepted": false, "score": 1, "last_activity_date": 1539820272, "creation_date": 1539820272, "answer_id": 52865111, "question_id": 52865038, "link": "https://stackoverflow.com/questions/52865038/sum-list-of-list-of-tuples/52865111#52865111", "title": "Sum list of list of tuples", "body": "<p>You could flatten the iterable recursively first</p>\n\n<pre><code>&gt;&gt;&gt; import collections\n&gt;&gt;&gt; \n&gt;&gt;&gt; def flatten(l):\n...     for el in l:\n...         if isinstance(el, collections.Iterable) and not isinstance(el, str):\n...             for sub in flatten(el):\n...                 yield sub\n...         else:\n...             yield el\n... \n&gt;&gt;&gt; sum(flatten(l))\n18\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/2158395/flatten-an-irregular-list-of-lists\">this link</a> for more details on <code>flatten</code>.</p>\n"}], "owner": {"reputation": 61, "user_id": 5430915, "user_type": "registered", "profile_image": "https://graph.facebook.com/1127885923905763/picture?type=large", "display_name": "Nathan Yuchi", "link": "https://stackoverflow.com/users/5430915/nathan-yuchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 52865085, "answer_count": 2, "score": 2, "last_activity_date": 1539820332, "creation_date": 1539819694, "last_edit_date": 1539820332, "question_id": 52865038, "link": "https://stackoverflow.com/questions/52865038/sum-list-of-list-of-tuples", "title": "Sum list of list of tuples", "body": "<p>I found that summing a list of list of number is:</p>\n\n<pre><code>In [9]: l = [[3,7,2],[1,4,5],[9,8,7]]\nIn [10]: [sum(i) for i in zip(*l)]\nOut[10]: [13, 19, 14]\n</code></pre>\n\n<p>However I have been struggling to find a way to sum a list of list of tuples to result in a list of tuples</p>\n\n<pre><code>In [9]: l = [[(1, 1), (1, 1), (1, 1)],[(2, 2), (2, 2), (2, 2)]]\nIn [10]: [(sum(i[0]), sum(i[1])) for i in zip(*l)] #Did not work\n</code></pre>\n\n<p>This is my desired output:</p>\n\n<pre><code>Out[10]: [(3, 3), (3, 3), (3, 3)]\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 3059546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/528688700/picture?type=large", "display_name": "WarSame", "link": "https://stackoverflow.com/users/3059546/warsame"}, "edited": false, "score": 0, "creation_date": 1539820573, "post_id": 52865042, "comment_id": 92644419, "body": "Awesome, thank you! Bit of a stupid mistake but I wouldn&#39;t have caught that for a while!"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1539819744, "creation_date": 1539819744, "answer_id": 52865042, "question_id": 52865025, "link": "https://stackoverflow.com/questions/52865025/get-inheriting-class-name-in-base-class-class-method/52865042#52865042", "title": "Get inheriting class name in base class&#39; class method", "body": "<p><code>cls.__class__.__name__</code> is the class's class's name. You want the class's name. That's <code>cls.__name__</code>.</p>\n"}], "owner": {"reputation": 492, "user_id": 3059546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/528688700/picture?type=large", "display_name": "WarSame", "link": "https://stackoverflow.com/users/3059546/warsame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 52865042, "answer_count": 1, "score": 1, "last_activity_date": 1539873309, "creation_date": 1539819605, "last_edit_date": 1539873309, "question_id": 52865025, "link": "https://stackoverflow.com/questions/52865025/get-inheriting-class-name-in-base-class-class-method", "title": "Get inheriting class name in base class&#39; class method", "body": "<p>I have Models in my Flask app. I create tables from those models, and insert data into those tables. However, when I insert into those tables I want to log what I am inserting and which table I am inserting into. I have a \"create\" class method in my BaseModel which all other Models inherit from. I want to log the class name of the inherited Model in this \"create\" method. When I do so using</p>\n\n<pre><code>cls.__class__.__name__\n</code></pre>\n\n<p>it gives me the value \"DefaultMeta\". I want it to give me the Model name, for example, User.</p>\n\n<p>Here is my create method in my BaseModel:</p>\n\n<pre><code>class BaseModel(db.Model):\n    __abstract__ = True\n    __table_args__ = {\"extend_existing\": True}\n\n    id = db.Column(\n        db.Integer,\n        primary_key=True\n        )\n    create_date = db.Column(\n        db.DateTime,\n        default=datetime.utcnow()\n        )\n    update_date = db.Column(\n        db.DateTime,\n        default=datetime.utcnow(),\n        onupdate=db.func.now()\n        )\n\n    @classmethod\n    def create(cls, **kwargs):\n        current_app.logger.info('Creating {} with args: {}'.format(cls.__class__.__name__, kwargs))\n        obj = cls(**kwargs)\n        db.session.add(obj)\n        db.session.commit()\n        return obj\n</code></pre>\n\n<p>How can I achieve this? Is it possible?</p>\n"}, {"tags": ["python", "pandas", "group-by", "conditional-statements", "pandas-groupby"], "answers": [{"comments": [{"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1539835078, "post_id": 52865171, "comment_id": 92647235, "body": "this is a faster, simpler, and perhaps more pliable solution but for some reason, the one by @Abhi finds more groups. I think both answers should be tested when applying to one&#39;s data because depending on the complexity they may yield different answers."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 1, "last_activity_date": 1539820947, "creation_date": 1539820947, "answer_id": 52865171, "question_id": 52865020, "link": "https://stackoverflow.com/questions/52865020/groupby-this-or-that/52865171#52865171", "title": "groupby this or that", "body": "<p>If I understand correctly, you can create a mapping from address to name. Then overwrite the names with this mapping and perform your <code>GroupBy</code> as normal:</p>\n\n<pre><code>s = df.drop_duplicates('addr').set_index('addr')['name']\ndf['name'] = df['addr'].map(s)\n\nres = df.groupby('name', as_index=False)['apples'].sum()\n\nprint(res)\n\n  name  apples\n0    a      36\n1    b      28\n2    c      35\n3    e      38\n</code></pre>\n\n<p>The initial <code>drop_duplicates</code> by <code>addr</code> works under the assumption the <em>first</em> address entered for any <code>name</code> is the correct one.</p>\n"}, {"comments": [{"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1539822347, "post_id": 52865304, "comment_id": 92644753, "body": "could you elaborate on the mechanics of this?"}, {"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1539824189, "post_id": 52865304, "comment_id": 92645113, "body": "keeps failing at the call to <code>ngroup()</code>: <code>&#39;DataFrameGroupBy&#39; object has no attribute &#39;ngroup&#39;</code>"}, {"owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1539824305, "post_id": 52865304, "comment_id": 92645132, "body": "Maybe it&#39;s my pandas: <code>pd.__version__ Out[8]: &#39;0.18.1&#39;</code>?"}, {"owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "reply_to_user": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 0, "creation_date": 1539824375, "post_id": 52865304, "comment_id": 92645142, "body": "@GeneBurinsky Yes. It&#39;s only available from  <code>version 0.20.2</code>. You can update."}, {"owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "reply_to_user": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "edited": false, "score": 1, "creation_date": 1539824748, "post_id": 52865304, "comment_id": 92645219, "body": "@GeneBurinsky Use this <code>df[&#39;group&#39;] = df.groupby(&#39;addr&#39;).grouper.group_info[0]</code> instead of <code>df.groupby(&#39;addr&#39;).ngroup()</code>"}], "tags": [], "owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "is_accepted": false, "score": 2, "last_activity_date": 1539823418, "last_edit_date": 1539823418, "creation_date": 1539822263, "answer_id": 52865304, "question_id": 52865020, "link": "https://stackoverflow.com/questions/52865020/groupby-this-or-that/52865304#52865304", "title": "groupby this or that", "body": "<p>Another approach:</p>\n\n<pre><code>df['group'] = df.groupby('addr').ngroup()\n\nd = {'name':'first','apples':'sum'}\ndf1 = df.groupby('name',as_index=False).sum().groupby('group').agg(d)\n\ndf1 = df1.sort_values('name').reset_index(drop=True)\n\nprint (df1)\n\n# Output:\n\n  name  apples\n0   a    36\n1   b    28\n2   c    35\n3   e    38\n</code></pre>\n\n<h3>Explanation:</h3>\n\n<p>First use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.ngroup.html\" rel=\"nofollow noreferrer\"><code>groupby.ngroup</code></a> to number each group in the <code>addr</code> col</p>\n\n<pre><code>df['group'] = df.groupby('addr').ngroup()\n\n  name addr apples group\n0   a   m    18     2\n1   a   m    18     2\n2   b   z    16     5\n3   b   n    12     3\n4   c   j    18     0\n5   d   j    17     0\n6   e   k    12     1 \n7   e   k    11     1 \n8   e   x    15     4\n</code></pre>\n\n<p>Then groupby with name and sum <code>df.groupby('name',as_index=False).sum()</code> it returns</p>\n\n<pre><code>   name  apples group\n 0  a     36     4\n 1  b     28     8\n 2  c     18     0\n 3  d     17     0\n 4  e     38     6\n</code></pre>\n\n<p>Now same address rows will have same group number so you groupby again on the <code>group</code> column and use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.DataFrameGroupBy.agg.html\" rel=\"nofollow noreferrer\"><code>groupby.agg</code></a> function with <code>apples = 'sum'</code> and <code>name = first or last</code> to keep the first/last instances of name.</p>\n\n<pre><code>d = {'name':'first','apples':'sum'}\ndf1 = df.groupby('name',as_index=False).sum().groupby('group').agg(d)\n</code></pre>\n\n<p>Then just sort values and reset index to get the output.</p>\n"}], "owner": {"reputation": 6358, "user_id": 1978817, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/abda118ddd8cc914f9091a6c41cfea47?s=128&d=identicon&r=PG", "display_name": "Gene Burinsky", "link": "https://stackoverflow.com/users/1978817/gene-burinsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 52865171, "answer_count": 2, "score": 4, "last_activity_date": 1539824703, "creation_date": 1539819575, "last_edit_date": 1539822132, "question_id": 52865020, "link": "https://stackoverflow.com/questions/52865020/groupby-this-or-that", "title": "groupby this or that", "body": "<p>Bear with me for this one, I've been breaking my head over this for hours. </p>\n\n<p>Consider these data</p>\n\n<pre><code>np.random.seed(2)\napples = np.random.randint(10,20,9)\ndf = pd.DataFrame({'name':list('aabbcdeee'), 'addr':list('mmznjjkkx'), 'apples':apples})[['name','addr','apples']]\n</code></pre>\n\n<p>If <code>name</code> is the same then it's the same person, if <code>addr</code> is the same, it's also the same person. I want to count the number of apples each person has. Normally, this would be trivial:</p>\n\n<pre><code>In [50]: df[['apples', 'name']].groupby('name').sum()\n    Out[50]:\n      apples\nname\na         36\nb         28\nc         18\nd         17\ne         38\n</code></pre>\n\n<p>or  <code>df[['apples', 'addr']].groupby('addr').sum()</code> since they should return the same output.\n<strong>BUT</strong>, addr <code>j</code> entered her name as <code>c</code> and <code>d</code>, while name <code>b</code>entered her address as <code>z</code> and <code>n</code> while <code>e</code> entered the address correctly twice but messed up the 3rd time. As a result, both of the above <code>groupby</code> operations <em>undercount</em> the number of apples some people own. The ideal output is:</p>\n\n<pre><code>In [52]: %paste\npd.DataFrame({'name':list('aabbcceee'), 'addr':list('mmnnjjkkk'), 'apples':apples}).groupby('name').apples.sum()\n\n## -- End pasted text --\nOut[52]:\nname\na    36\nb    28\nc    35\ne    38\nName: apples, dtype: int32\n</code></pre>\n\n<p>I can identify the indexes with erronous addresses or names using sets:</p>\n\n<pre><code>sameNames = df.name[df.name.duplicated()].index\nsameAddr = df.addr[df.addr.duplicated()].index\nsameNameORaddr = df.name[(df.name.duplicated() | df.addr.duplicated())].index\n</code></pre>\n\n<p>so that the mistakes are here:    </p>\n\n<pre><code>In [47]: sameNameORaddr.difference(sameNames).union(sameNameORaddr.difference(sameAddr))\nOut[47]: Int64Index([2, 3, 4, 5, 8], dtype='int64')\n</code></pre>\n\n<p>but I can't figure out how to use this to perform the <code>groupby</code>. I was thinking of trying to assign new names that can correctly identify duplicate names or addresses but can't figure out how to do that. Any help is appreciated. </p>\n"}, {"tags": ["python", "html", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 5720, "user_id": 359736, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a1edb5e74a22d64889aade6b609bfa9a?s=128&d=identicon&r=PG", "display_name": "Kieran Andrews", "link": "https://stackoverflow.com/users/359736/kieran-andrews"}, "is_accepted": false, "score": 0, "last_activity_date": 1539822203, "creation_date": 1539822203, "answer_id": 52865294, "question_id": 52864990, "link": "https://stackoverflow.com/questions/52864990/automate-filling-in-date-using-selenium/52865294#52865294", "title": "Automate filling in date using selenium", "body": "<p>The field you have referenced does not allow you to click on it and type numbers so you will need to take another approach.</p>\n\n<p>Check out this guide here: <a href=\"https://www.guru99.com/handling-date-time-picker-using-selenium.html\" rel=\"nofollow noreferrer\">https://www.guru99.com/handling-date-time-picker-using-selenium.html</a></p>\n\n<p>The provided code is Java but the Selenium API should be similar as well as the approach you need to take.</p>\n\n<p>In summary, you will need to write code like this (copied from article):</p>\n\n<pre><code>    //DAte and Time to be set in textbox\n\n    String dateTime =\"12/07/2014 2:00 PM\";\n\n    WebDriver driver = new FirefoxDriver();\n\n    driver.manage().window().maximize();\n\n    driver.get(\"http://demos.telerik.com/kendo-ui/datetimepicker/index\");\n\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n\n    //button to open calendar\n\n    WebElement selectDate = driver.findElement(By.xpath(\"//span[@aria-controls='datetimepicker_dateview']\"));\n\nselectDate.click();\n\n//button to move next in calendar\n\nWebElement nextLink = driver.findElement(By.xpath(\"//div[@id='datetimepicker_dateview']//div[@class='k-header']//a[contains(@class,'k-nav-next')]\"));\n\n//button to click in center of calendar header\n\nWebElement midLink = driver.findElement(By.xpath(\"//div[@id='datetimepicker_dateview']//div[@class='k-header']//a[contains(@class,'k-nav-fast')]\"));\n\n//button to move previous month in calendar\n\nWebElement previousLink = driver.findElement(By.xpath(\"//div[@id='datetimepicker_dateview']//div[@class='k-header']//a[contains(@class,'k-nav-prev')]\")); \n\n    //Split the date time to get only the date part\n\n    String date_dd_MM_yyyy[] = (dateTime.split(\" \")[0]).split(\"/\");\n\n    //get the year difference between current year and year to set in calander\n\n    int yearDiff = Integer.parseInt(date_dd_MM_yyyy[2])- Calendar.getInstance().get(Calendar.YEAR);\n\n    midLink.click();\n\n    if(yearDiff!=0){\n\n        //if you have to move next year\n\n        if(yearDiff&gt;0){\n\n            for(int i=0;i&lt; yearDiff;i++){\n\n                System.out.println(\"Year Diff-&gt;\"+i);\n\n                nextLink.click();\n\n            }\n\n        }\n\n        //if you have to move previous year\n\n        else if(yearDiff&lt;0){\n\n            for(int i=0;i&lt; (yearDiff*(-1));i++){\n\n                System.out.println(\"Year Diff-&gt;\"+i);\n\n                previousLink.click();\n\n            }\n\n        }\n\n    }\n\n    Thread.sleep(1000);\n\n    //Get all months from calendar to select correct one\n\n    List&lt;WebElement&gt; list_AllMonthToBook = driver.findElements(By.xpath(\"//div[@id='datetimepicker_dateview']//table//tbody//td[not(contains(@class,'k-other-month'))]\"));\n\n    list_AllMonthToBook.get(Integer.parseInt(date_dd_MM_yyyy[1])-1).click();\n\n    Thread.sleep(1000);\n\n    //get all dates from calendar to select correct one\n\n    List&lt;WebElement&gt; list_AllDateToBook = driver.findElements(By.xpath(\"//div[@id='datetimepicker_dateview']//table//tbody//td[not(contains(@class,'k-other-month'))]\"));\n\n    list_AllDateToBook.get(Integer.parseInt(date_dd_MM_yyyy[0])-1).click();\n\n    ///FOR TIME\n\n    WebElement selectTime = driver.findElement(By.xpath(\"//span[@aria-controls='datetimepicker_timeview']\"));\n\n    //click time picker button\n\n    selectTime.click();\n\n    //get list of times\n\n    List&lt;WebElement&gt; allTime = driver.findElements(By.xpath(\"//div[@data-role='popup'][contains(@style,'display: block')]//ul//li[@role='option']\"));\n\n    dateTime = dateTime.split(\" \")[1]+\" \"+dateTime.split(\" \")[2];\n\n //select correct time\n\n    for (WebElement webElement : allTime) {\n\n        if(webElement.getText().equalsIgnoreCase(dateTime))\n\n        {\n\n            webElement.click();\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1663, "user_id": 7953640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-XXZtjJHhqKQ/AAAAAAAAAAI/AAAAAAAACGM/WH8Q0SKnwic/photo.jpg?sz=128", "display_name": "Satish", "link": "https://stackoverflow.com/users/7953640/satish"}, "is_accepted": true, "score": 3, "last_activity_date": 1539826573, "creation_date": 1539826573, "answer_id": 52865730, "question_id": 52864990, "link": "https://stackoverflow.com/questions/52864990/automate-filling-in-date-using-selenium/52865730#52865730", "title": "Automate filling in date using selenium", "body": "<p>Try this, just using JavaScript to set the value attribute on the element. \nThis may not be the approach you are looking for, if it is replace the time.sleep with a better approach (wait for the element to be available).</p>\n\n<p>I have hardcoded the date 20/10/2018</p>\n\n<pre><code>from selenium.webdriver import Chrome\n\ndriver = Chrome()\ndriver.get('https://bookings.doc.govt.nz/Saturn/Facilities/SearchViewGW.aspx')\n\nimport time\ntime.sleep(5)\n\ndriver.execute_script(\n   \"document.getElementById(\n       'mainContent_homeContent_txtArrivalDate').setAttribute('value', '20/10/2018')\"\n)\n</code></pre>\n"}], "owner": {"reputation": 1259, "user_id": 2610841, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cbc18dc369a655388f2b722d07360936?s=128&d=identicon&r=PG", "display_name": "gabrown86", "link": "https://stackoverflow.com/users/2610841/gabrown86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1077, "favorite_count": 0, "accepted_answer_id": 52865730, "answer_count": 2, "score": 1, "last_activity_date": 1539826573, "creation_date": 1539819342, "question_id": 52864990, "link": "https://stackoverflow.com/questions/52864990/automate-filling-in-date-using-selenium", "title": "Automate filling in date using selenium", "body": "<p>I am trying to fill in the form on the website below using selenium. \n<a href=\"https://bookings.doc.govt.nz/Saturn/Facilities/SearchViewGW.aspx\" rel=\"nofollow noreferrer\">https://bookings.doc.govt.nz/Saturn/Facilities/SearchViewGW.aspx</a></p>\n\n<p>However I am struggling to set the date (or even get the date picker to come up).</p>\n\n<p>I can see that the value is stored there, by using the code:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.firefox.options import Options\nbrowser = webdriver.Firefox()\nbrowser.get('https://bookings.doc.govt.nz/Saturn/Facilities/SearchViewGW.aspx')\n\nel = browser.find_element_by_id('mainContent_homeContent_txtArrivalDate')\nel.get_property('value')\nel.clear()\nel.send_keys(\"21122018\")\n</code></pre>\n\n<p>However clearing the date and sending a new key causes an error popup.\nAny suggestions on what element needs clicking on to bring up the date picker, or how to directly set the date required?</p>\n"}, {"tags": ["python", "numpy", "numerical-methods"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1539819666, "post_id": 52864988, "comment_id": 92644254, "body": "You&#39;ve described a situation and posted code (correctly formatted! good job! formatting is confusing on this site), but it&#39;s not clear what question you&#39;re trying to ask us. We need a specific question to go on, not just &quot;looking for some help&quot;. We can&#39;t tell what help you need."}, {"owner": {"reputation": 206, "user_id": 9446725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2cc34f31d030cb5265ba9cdac4d472?s=128&d=identicon&r=PG&f=1", "display_name": "user123", "link": "https://stackoverflow.com/users/9446725/user123"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539819799, "post_id": 52864988, "comment_id": 92644269, "body": "i am trying to compare my solution against the solution obtained using numpy.linalg.solve but i am not sure how to implement that"}], "answers": [{"comments": [{"owner": {"reputation": 206, "user_id": 9446725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2cc34f31d030cb5265ba9cdac4d472?s=128&d=identicon&r=PG&f=1", "display_name": "user123", "link": "https://stackoverflow.com/users/9446725/user123"}, "edited": false, "score": 0, "creation_date": 1539826104, "post_id": 52865485, "comment_id": 92645480, "body": "thanks for your post, how could i print out the solutions given by np.linalg.solve(A,b)?"}, {"owner": {"reputation": 206, "user_id": 9446725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2cc34f31d030cb5265ba9cdac4d472?s=128&d=identicon&r=PG&f=1", "display_name": "user123", "link": "https://stackoverflow.com/users/9446725/user123"}, "edited": false, "score": 0, "creation_date": 1539826267, "post_id": 52865485, "comment_id": 92645506, "body": "would print (numpy_solution) do it?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6655984"}, "is_accepted": true, "score": 1, "last_activity_date": 1539824098, "creation_date": 1539824098, "answer_id": 52865485, "question_id": 52864988, "link": "https://stackoverflow.com/questions/52864988/compare-the-result-of-gaussian-elimination-with-the-output-of-numpy-linalg-solve/52865485#52865485", "title": "Compare the result of Gaussian elimination with the output of numpy.linalg.solve", "body": "<p>To compare the two solutions, use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.allclose.html\" rel=\"nofollow noreferrer\"><code>np.allclose</code></a> which verifies that two arrays agree, element by element, within some reasonably margins. One should not expect exact equality in floating point arithmetics.</p>\n\n<pre><code>my_solution = GEPP(np.copy(A), np.copy(b), doPricing=False)\nnumpy_solution = np.linalg.solve(A, b)\nif np.allclose(my_solution, numpy_solution):\n    print(\"Yay\")\nelse:\n    print(\"NOOOOO\")\n</code></pre>\n\n<p>This prints \"Yay\".</p>\n"}], "owner": {"reputation": 206, "user_id": 9446725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d2cc34f31d030cb5265ba9cdac4d472?s=128&d=identicon&r=PG&f=1", "display_name": "user123", "link": "https://stackoverflow.com/users/9446725/user123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "accepted_answer_id": 52865485, "answer_count": 1, "score": 0, "last_activity_date": 1539824167, "creation_date": 1539819330, "last_edit_date": 1539824167, "question_id": 52864988, "link": "https://stackoverflow.com/questions/52864988/compare-the-result-of-gaussian-elimination-with-the-output-of-numpy-linalg-solve", "title": "Compare the result of Gaussian elimination with the output of numpy.linalg.solve", "body": "<p>In the following code I have implemented Gaussian elimination with partial pivoting for a general square linear system Ax=b. I have tested my code and it produced the right output. I have used it to solve Ax=b where A is a random 100x100 matrix and b is a random 100x1 vector.**</p>\n\n<p>However now I am looking for some help with comparing my solution against the solution obtained by using <code>numpy.linalg.solve</code>. How to add this comparison to my code?</p>\n\n<pre><code>import numpy as np\ndef GEPP(A, b, doPricing = True):\n    '''\n    Gaussian elimination with partial pivoting.\n    input: A is an n x n numpy matrix\n           b is an n x 1 numpy array\n    output: x is the solution of Ax=b \n        with the entries permuted in \n        accordance with the pivoting \n        done by the algorithm\n    post-condition: A and b have been modified.\n    '''\n    n = len(A)\n    if b.size != n:\n\n        raise ValueError(\"Invalid argument: incompatible sizes between\"+\n\n                     \"A &amp; b.\", b.size, n)\n\n    # k represents the current pivot row. Since GE traverses the matrix in the \n\n    # upper right triangle, we also use k for indicating the k-th diagonal \n\n    # column index.\n\n    # Elimination\n\n    for k in range(n-1):\n\n        if doPricing:\n\n            # Pivot\n\n            maxindex = abs(A[k:,k]).argmax() + k\n\n            if A[maxindex, k] == 0:\n\n\n                raise ValueError(\"Matrix is singular.\")\n\n            # Swap\n\n            if maxindex != k:\n\n                A[[k,maxindex]] = A[[maxindex, k]]\n\n                b[[k,maxindex]] = b[[maxindex, k]]\n\n        else:\n\n            if A[k, k] == 0:\n\n                raise ValueError(\"Pivot element is zero. Try setting doPricing to True.\")\n\n       #Eliminate\n\n       for row in range(k+1, n):\n\n           multiplier = A[row,k]/A[k,k]\n\n           A[row, k:] = A[row, k:] - multiplier*A[k, k:]\n\n           b[row] = b[row] - multiplier*b[k]\n\n    # Back Substitution\n\n    x = np.zeros(n)\n\n    for k in range(n-1, -1, -1):\n\n        x[k] = (b[k] - np.dot(A[k,k+1:],x[k+1:]))/A[k,k]\n\n    return x\n\n\n\nif __name__ == \"__main__\":\n    A = np.round(np.random.rand(100, 100)*10)\n    b =  np.round(np.random.rand(100)*10)\n    print (GEPP(np.copy(A), np.copy(b), doPricing = False))\n</code></pre>\n"}, {"tags": ["python", "pandas", "integer", "division", "timedelta"], "answers": [{"comments": [{"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1539822790, "post_id": 52865015, "comment_id": 92644838, "body": "I get the following error --&gt; Overflow Error: int too big to convert"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 1, "last_activity_date": 1539819544, "creation_date": 1539819544, "answer_id": 52865015, "question_id": 52864980, "link": "https://stackoverflow.com/questions/52864980/python-pandas-convert-timedelta-value-from-subtracting-two-dates-into-integer-d/52865015#52865015", "title": "Python Pandas: Convert timedelta Value From Subtracting Two Dates Into Integer Datatype (AttributeError)", "body": "<p>The fact that you are getting an object column suggests to me that there are some values that can't be interpreted as proper timedeltas. If that's the case, I would use <code>pd.to_timedelta</code> with the argument <code>errors='coerce'</code>, then call <code>dt.days</code>:</p>\n\n<pre><code>df['age'] = pd.to_timedelta(df['age'],errors='coerce').dt.days\n&gt;&gt;&gt; df\n   id   age\n0   1  6252\n1   2  1800\n2   3  5873\n</code></pre>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539819544, "creation_date": 1539819244, "question_id": 52864980, "link": "https://stackoverflow.com/questions/52864980/python-pandas-convert-timedelta-value-from-subtracting-two-dates-into-integer-d", "title": "Python Pandas: Convert timedelta Value From Subtracting Two Dates Into Integer Datatype (AttributeError)", "body": "<p>I have the following data set output (shown below) that was produced by the following code: </p>\n\n<pre><code>df_EVENT5_5['dtin'] = pd.to_datetime(df_EVENT5_5['dtin'])\ndf_EVENT5_5['age'] = df_EVENT5_5['dtin'].apply(dt.datetime.date) - df_EVENT5_5['dtbuilt'].apply(dt.datetime.date)\n\nid  age\n1   6252 days, 0:00:00\n2   1800 days, 0:00:00\n3   5873 days, 0:00:00\n</code></pre>\n\n<p>In the above data set, after running dtypes on the data frame, age appears to be an object.  </p>\n\n<p>I want to convert the \"age\" column into an integer datatype that only has the value of days.  Below is my desired output: </p>\n\n<pre><code>id  age\n1   6252 \n2   1800 \n3   5873 \n</code></pre>\n\n<p>I tried the following code: </p>\n\n<pre><code>df_EVENT5_5['age_no_days'] = df_EVENT5_5['age'].dt.total_seconds()/ (24 * 60 * 60) \n</code></pre>\n\n<p>Below is the error: </p>\n\n<p>AttributeError: Can only use .dt accessor with datetimelike values </p>\n"}, {"tags": ["python", "django", "web-development-server"], "comments": [{"owner": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "edited": false, "score": 0, "creation_date": 1539823954, "post_id": 52864957, "comment_id": 92645074, "body": "This is likely to have all sorts of problems. The most obvious is that <code>__contains</code> is case-sensitive (e.g. the correct answer &quot;Yes&quot; will not match the user input &quot;yes&quot;). <code>__icontains</code> solves this, but you&#39;re still left with code that will interpret the input &quot;a&quot; as a match for the answer &quot;The Spanish Inquisition.&quot;"}, {"owner": {"reputation": 1130, "user_id": 8966274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g6t6A.jpg?s=128&g=1", "display_name": "Bidhan Majhi", "link": "https://stackoverflow.com/users/8966274/bidhan-majhi"}, "edited": false, "score": 0, "creation_date": 1539839398, "post_id": 52864957, "comment_id": 92648269, "body": "You can add <code>if else statement</code> in your forms.py to raise <code>validation error</code> instead of <code>try &amp; except</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "edited": false, "score": 0, "creation_date": 1539823647, "post_id": 52865119, "comment_id": 92645018, "body": "Using <code>get()</code> instead of <code>filter(...).exists()</code> is only an option if there can only ever be one CheckAnswer object that contains the provided response, since it will raise <code>MultipleObjectsReturned</code> if there&#39;s more than one that matches."}, {"owner": {"reputation": 6188, "user_id": 784648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ce12343afb67ff0bf132f30b0ca9c5?s=128&d=identicon&r=PG", "display_name": "A. J. Parr", "link": "https://stackoverflow.com/users/784648/a-j-parr"}, "reply_to_user": {"reputation": 3844, "user_id": 833881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/856cdb57da6d0b4758d597d30602fcd8?s=128&d=identicon&r=PG", "display_name": "kungphu", "link": "https://stackoverflow.com/users/833881/kungphu"}, "edited": false, "score": 0, "creation_date": 1539823815, "post_id": 52865119, "comment_id": 92645049, "body": "That&#39;s a very good point, I&#39;ll add this caveat to the answer, thanks!"}, {"owner": {"reputation": 13, "user_id": 10472742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lvRS08O8ECc/AAAAAAAAAAI/AAAAAAAAAH8/JwZTbF29kag/photo.jpg?sz=128", "display_name": "arnav dawer", "link": "https://stackoverflow.com/users/10472742/arnav-dawer"}, "edited": false, "score": 0, "creation_date": 1539884116, "post_id": 52865119, "comment_id": 92672504, "body": "Thanks for help. This just solves the basic problem.. Is there any way to tackle this.. Suppose level1 is open so the answer of level 1 should only be matched and not that if the user input is present in any of the answers further it would redirect as specified. to be in specific how can answer of each specific question can be checked. the code is same as above"}, {"owner": {"reputation": 13, "user_id": 10472742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lvRS08O8ECc/AAAAAAAAAAI/AAAAAAAAAH8/JwZTbF29kag/photo.jpg?sz=128", "display_name": "arnav dawer", "link": "https://stackoverflow.com/users/10472742/arnav-dawer"}, "edited": false, "score": 0, "creation_date": 1539884952, "post_id": 52865119, "comment_id": 92672962, "body": "I think the concept of pk would be used here. but how to do it I am completely unaware of . PLS HELP"}, {"owner": {"reputation": 6188, "user_id": 784648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ce12343afb67ff0bf132f30b0ca9c5?s=128&d=identicon&r=PG", "display_name": "A. J. Parr", "link": "https://stackoverflow.com/users/784648/a-j-parr"}, "edited": false, "score": 0, "creation_date": 1539906697, "post_id": 52865119, "comment_id": 92681386, "body": "Without knowing too much about your models I can&#39;t say for certain, but it seems  you may need each Answer to relate to a Question.   You could have a <code>question</code> field (such as <code>question=&quot;arena1&quot;</code>) so then when you check for answers you should check the answer using <code>Answer.objects.filter(answer__contains=response, question=&quot;arena1&quot;).exists()</code>"}], "tags": [], "owner": {"reputation": 6188, "user_id": 784648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ce12343afb67ff0bf132f30b0ca9c5?s=128&d=identicon&r=PG", "display_name": "A. J. Parr", "link": "https://stackoverflow.com/users/784648/a-j-parr"}, "is_accepted": true, "score": 0, "last_activity_date": 1539823746, "last_edit_date": 1539823746, "creation_date": 1539820360, "answer_id": 52865119, "question_id": 52864957, "link": "https://stackoverflow.com/questions/52864957/taking-input-in-form-and-then-comparing-it-with-values-stored-in-databse-in-djan/52865119#52865119", "title": "Taking input in form and then comparing it with values stored in databse in django", "body": "<p>The Model Managers <code>filter</code> method does not raise <code>DoesNotExist</code>, you should use <code>Answer.objects.get(answer__contains=response)</code> to raise <code>DoesNotExist</code>, keep in mind that this can also return a <code>MultipleObjectsReturned</code> error if there is more than one answer matching your response, <code>filter</code> will just return an empty list.</p>\n\n<p>The other option is to use <code>Answer.objects.filter(answer__contains=response).exists()</code> and check if it returns true or false.</p>\n"}], "owner": {"reputation": 13, "user_id": 10472742, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lvRS08O8ECc/AAAAAAAAAAI/AAAAAAAAAH8/JwZTbF29kag/photo.jpg?sz=128", "display_name": "arnav dawer", "link": "https://stackoverflow.com/users/10472742/arnav-dawer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 52865119, "answer_count": 1, "score": 0, "last_activity_date": 1539838247, "creation_date": 1539819095, "last_edit_date": 1539838247, "question_id": 52864957, "link": "https://stackoverflow.com/questions/52864957/taking-input-in-form-and-then-comparing-it-with-values-stored-in-databse-in-djan", "title": "Taking input in form and then comparing it with values stored in databse in django", "body": "<p>I was working on a project where the user inputs the answer to the question and then the user input needs to be checked on clicking submit button. If input matches the answer stored in database in the admin portal then it should redirect it to a new page else it should give an error wrong answer.</p>\n\n<p>What's happening is that for every user input i am redirected to the other page. But never shows Wrong Answer even if input other than that in database answer is entered. How do I tackle this?</p>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>from django import forms    \nfrom .models import Answer    \nfrom django.core.exceptions import ObjectDoesNotExist    \nclass CheckAnswer(forms.Form):    \n    your_answer=forms.CharField(label='Answer')    \n    def clean(self):    \n        cleaned_data=super(CheckAnswer,self).clean()    \n        response=cleaned_data.get(\"your_answer\")    \n        try:\n            p = Answer.objects.filter(answer__contains=response)    \n        except Answer.DoesNotExist:    \n            raise forms.ValidationError(\"Wrong Answer\")    \n</code></pre>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth import get_user_model\nUser=get_user_model()\nusers=User.objects.all()\nclass Answer(models.Model):\n    name=models.CharField(max_length=10,unique=True)\n    answer=models.CharField(max_length=100)\n\n    def __str__(self):\n        return self.name\n\n    class Meta:\n        ordering= [\"-name\"]\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>from django.shortcuts import render,redirect\nfrom django.views.generic import *\nfrom . import models\nfrom django import forms\nfrom .forms import CheckAnswer\ndef Arena1(request):\n    if request.method=='POST':\n        form = CheckAnswer(request.POST)\n        if form.is_valid():\n            return redirect('thanks')\n    else:\n        form=CheckAnswer()\n    return render(request,'levels/arena1.html',{'form':form})\n</code></pre>\n"}, {"tags": ["python", "image-processing", "curve", "hough-transform"], "comments": [{"owner": {"reputation": 233, "user_id": 770901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aa9c4e2ebbc96b9318b2b58c3105d009?s=128&d=identicon&r=PG", "display_name": "user770901", "link": "https://stackoverflow.com/users/770901/user770901"}, "edited": false, "score": 0, "creation_date": 1539841723, "post_id": 52864954, "comment_id": 92648912, "body": "Thank <i>god</i> someone stepped in and converted my brackets to parenthesis.  Otherwise the [presumptive] meaning of my post would have been (completely) lost."}, {"owner": {"reputation": 2275, "user_id": 9789737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56767e4cc025351ea72c056afcb757d1?s=128&d=identicon&r=PG&f=1", "display_name": "kavko", "link": "https://stackoverflow.com/users/9789737/kavko"}, "edited": false, "score": 1, "creation_date": 1539867330, "post_id": 52864954, "comment_id": 92662434, "body": "Are the colors always the same? If so you could convert the image to HSV color space and extract the specific colors."}, {"owner": {"reputation": 233, "user_id": 770901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aa9c4e2ebbc96b9318b2b58c3105d009?s=128&d=identicon&r=PG", "display_name": "user770901", "link": "https://stackoverflow.com/users/770901/user770901"}, "reply_to_user": {"reputation": 2275, "user_id": 9789737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56767e4cc025351ea72c056afcb757d1?s=128&d=identicon&r=PG&f=1", "display_name": "kavko", "link": "https://stackoverflow.com/users/9789737/kavko"}, "edited": false, "score": 0, "creation_date": 1539900539, "post_id": 52864954, "comment_id": 92679929, "body": "Thanks @kavko, that&#39;s very helpful!  Yes, the colors from the path are all the same, or at least all from the same small subset.  The only question is whether those colors also appear in the background.  I don&#39;t think they do, but I&#39;ll do some exploration to see if this works."}], "owner": {"reputation": 233, "user_id": 770901, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/aa9c4e2ebbc96b9318b2b58c3105d009?s=128&d=identicon&r=PG", "display_name": "user770901", "link": "https://stackoverflow.com/users/770901/user770901"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539841542, "creation_date": 1539819081, "last_edit_date": 1539841542, "question_id": 52864954, "link": "https://stackoverflow.com/questions/52864954/determine-number-of-pixels-length-of-certain-color-curve-in-simple-image-using", "title": "Determine number of pixels &quot;length&quot; of certain color/curve in simple image using Python?", "body": "<p>I have a number of map images.  The background is <em>very</em> regular,  but I can have any number of \"curved\" paths.  See example (ignore the dot in the middle left):</p>\n\n<p><a href=\"https://i.stack.imgur.com/KfkGW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KfkGW.png\" alt=\"Simple Grid with uniform color paths\"></a></p>\n\n<p>Each path in the image is made up of at most three colors (denoting what sort of transport was taken) but these three colors don't change across paths (i.e. all paths use the same three colors).  These colors don't interfere at all with the background image.  Paths can start roughly from same position, and can cross.</p>\n\n<p>I've tried Hough transforms to isolate the curves and it kind works, but given that there isn't much/any interference between the curves and the background, that seems overkill.  </p>\n\n<p><em>Is there a way to just isolate the <strong>colors</strong> of the path and then just grab the pixel locations of those colors to recreate the paths in a grid?</em> (It might require an uncompressed image type, but I think I can do that).</p>\n\n<p>I want to reverse engineer the \"distance\" these paths traverse, and just generally convert them from unstructured image data to structured (relative) \"geo\" data I can process. Once I do this I can explore path similarity, estimate total distance traveled, etc.  It's just a matter of scaling the number of pixels to the size/scale of the grid points, etc.</p>\n"}, {"tags": ["python", "loops", "for-loop", "variables", "input"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1539818953, "post_id": 52864917, "comment_id": 92644106, "body": "&quot;But that doesn&#39;t work, because the for loops are not taking my variables as variables, they are just iterating through the file&quot; - please explain what you mean by that, and why you believe that that is what&#39;s happening."}], "answers": [{"tags": [], "owner": {"reputation": 118, "user_id": 5496345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPN4s.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5496345/mark"}, "is_accepted": true, "score": 1, "last_activity_date": 1539819364, "creation_date": 1539819364, "answer_id": 52864991, "question_id": 52864917, "link": "https://stackoverflow.com/questions/52864917/is-there-a-way-to-use-a-variable-in-a-for-loop-inside-python/52864991#52864991", "title": "Is there a way to use a variable in a &#39;for loop&#39; inside python?", "body": "<p>Your file_len function is fine. You just have to modify the for-loop that you use to count the number of occurrences of the letter:</p>\n\n<pre><code>for line in open('scripting week 5.txt', 'r'):\n    for char in line:\n        if char==letter:\n            amountOfTimes+= 1\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10521169, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-55y9iyPywYE/AAAAAAAAAAI/AAAAAAAAAHY/vt5caeHUWGU/photo.jpg?sz=128", "display_name": "bananaexplosion", "link": "https://stackoverflow.com/users/10521169/bananaexplosion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 52864991, "answer_count": 1, "score": -3, "last_activity_date": 1539819364, "creation_date": 1539818727, "last_edit_date": 1539818970, "question_id": 52864917, "link": "https://stackoverflow.com/questions/52864917/is-there-a-way-to-use-a-variable-in-a-for-loop-inside-python", "title": "Is there a way to use a variable in a &#39;for loop&#39; inside python?", "body": "<p>i need to make a program for school that prints the amount of lines in a text file and the amount of times the user input is inside the file.\nSo my idea was to make two loops, one that counts the amount of lines in the file,\nand one that counts how many times the letter that the user put in is in the file.\nlike this:</p>\n\n<pre><code>def file_len(fname):\n    amountOfLines = 0\n    line = ''\n    with open(fname, 'r') as f:\n        for line in f:\n            amountOfLines += 1\n    return amountOfLines\n\nletter= input('Put in a letter: ')\namountOfTimes= 0\n\nfor letter in open('scripting week 5.txt', 'r'):\n    amountOfTimes += 1\nprint('The amount of lines in the file is', file_len('scripting week 5.txt'))\nprint('The letter you put in appears', amountOfTimes, 'times.')\n</code></pre>\n\n<p>But that doesn't work, because the for loops are not taking my variables as variables, they are just iterating through the file. Is there any way i could make this work, or will i have to start over from scratch with a different approach?</p>\n\n<p>I hope you guys can help me,\nany help would be greatly appreciated!\nps. pls note that i am a complete python noob, so excuse my dumb question.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "replace", "escaping"], "comments": [{"owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 1, "creation_date": 1539819006, "post_id": 52864909, "comment_id": 92644117, "body": "Use <code>df.replace(r&#39;\\\\&#39;,&#39;&#39;, regex=True)</code> or <code>df.apply(lambda x: x.str.replace(&#39;\\\\&#39;,&#39;&#39;))</code>"}, {"owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "reply_to_user": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 0, "creation_date": 1539959921, "post_id": 52864909, "comment_id": 92701838, "body": "So, the example on the left is the same code I implemented except I specified the parameter names rather than just relying on their location, so I&#39;ll give it a try, but I anticipate the same error. The lambda expression may work for me (I&#39;ll certainly give it a try), but it I think this may be a bug in the implementation of the replace function. It seems as though the problem I&#39;m having is a difference between what the Python compiler can accept as valid code and what the replace function can process as valid values once they&#39;re passed in."}, {"owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "reply_to_user": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 0, "creation_date": 1539960204, "post_id": 52864909, "comment_id": 92702010, "body": "Yup. &quot;df.replace(r&#39;\\\\&#39;,&#39;&#39;, regex=True)&quot; and &quot;df.replace(to_replace=&#39;\\\\&#39;, value=&#39;&#39;, regex=True)&quot; produce exactly the same error."}, {"owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "reply_to_user": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 0, "creation_date": 1539961549, "post_id": 52864909, "comment_id": 92702876, "body": "I tried the lambda, and that gave me the desired result when I ran it against my sample dataframe from my original code snippet. However, actual data set has non-string columns in it, and that caused the following error:      AttributeError: (&#39;Can only use .str accessor with string values, which use np.object_ dtype in pandas&#39;, &#39;occurred at index RESTRICTED&#39;)"}, {"owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 0, "creation_date": 1539966433, "post_id": 52864909, "comment_id": 92705338, "body": "You can then select only the required columns and apply the function. If possible update the question with some actual sample data."}, {"owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "reply_to_user": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 0, "creation_date": 1540484168, "post_id": 52864909, "comment_id": 92892731, "body": "Sorry, I can&#39;t post actual data here as it is subject to GDPR rules. Adding an int column to my original dummy dataframe makes it more like the real thing though:      df=pd.DataFrame(data={&#39;col1&#39;:[&#39;a\\\\b&#39;,&#39;ab&#39;], &#39;col2&#39;:[&#39;c&#39;,&#39;cd\\\\&#39;], &#39;col3&#39;:[0,1]})     df.replace(to_replace=&#39;\\\\&#39;, value=&#39;&#39;, regex=True, inplace=True)"}, {"owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 0, "creation_date": 1540491959, "post_id": 52864909, "comment_id": 92896614, "body": "<code>df.replace(to_replace= r&#39;\\\\&#39;, value= &#39;&#39;, regex=True)</code> This code works just fine for me on the sample data even with int column."}, {"owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "reply_to_user": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "edited": false, "score": 1, "creation_date": 1540581097, "post_id": 52864909, "comment_id": 92933520, "body": "So all it needed was the r in front of the string to convert it to a raw string literal? Wow. Thank you, Abhi! If you put this as an answer rather than a comment I can mark it as my preferred answer. That way you&#39;ll get the credit for it."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "edited": false, "score": 0, "creation_date": 1539962118, "post_id": 52865253, "comment_id": 92703203, "body": "Thanks James, but that on its own is not a great solution as I have multiple columns I need to remove backslashes from. Actually, if you look at the response from Abhi (who replied ahead of you), you&#39;ll see that he already suggested the string API but placed it in a lambda function so it better meets the criteria of the problem described in my original question. That said, his solution doesn&#39;t work against my actual data set as I have non-string columns in that. So, I may simply have to use your solution and deal with each column individually."}], "tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1539821755, "creation_date": 1539821755, "answer_id": 52865253, "question_id": 52864909, "link": "https://stackoverflow.com/questions/52864909/removing-backslashes-from-values-in-a-pandas-dataframe/52865253#52865253", "title": "Removing backslashes from values in a Pandas dataframe", "body": "<p>I prefer to use the string API for each column.  </p>\n\n<pre><code>for col in df:\n    df[col] = df[col].str.replace(r'\\\\','')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "edited": false, "score": 1, "creation_date": 1540824019, "post_id": 53018013, "comment_id": 92995401, "body": "Thank you, Abhi. With the string literal flag (the &quot;r&quot; in front of &#39;\\\\&#39;), this works perfectly!"}, {"owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "reply_to_user": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "edited": false, "score": 0, "creation_date": 1540832023, "post_id": 53018013, "comment_id": 93000211, "body": "@ASturt Happy to help. :)"}], "tags": [], "owner": {"reputation": 3157, "user_id": 9948827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25OHb.jpg?s=128&g=1", "display_name": "Abhi", "link": "https://stackoverflow.com/users/9948827/abhi"}, "is_accepted": true, "score": 6, "last_activity_date": 1541529268, "last_edit_date": 1541529268, "creation_date": 1540604057, "answer_id": 53018013, "question_id": 52864909, "link": "https://stackoverflow.com/questions/52864909/removing-backslashes-from-values-in-a-pandas-dataframe/53018013#53018013", "title": "Removing backslashes from values in a Pandas dataframe", "body": "<p>You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.replace.html\" rel=\"noreferrer\"><code>replace</code></a></p>\n\n<pre><code>df = df.replace(to_replace= r'\\\\', value= '', regex=True)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 2290933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23dc7c222feb1fa00b7b4828a6366988?s=128&d=identicon&r=PG", "display_name": "ASturt", "link": "https://stackoverflow.com/users/2290933/asturt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5610, "favorite_count": 1, "accepted_answer_id": 53018013, "answer_count": 2, "score": 6, "last_activity_date": 1541529268, "creation_date": 1539818657, "question_id": 52864909, "link": "https://stackoverflow.com/questions/52864909/removing-backslashes-from-values-in-a-pandas-dataframe", "title": "Removing backslashes from values in a Pandas dataframe", "body": "<p>I have a Pandas dataframe that contains backslashes. I want to strip out those backslashes, but I can't get the replace function to work. Here's what I'm doing:</p>\n\n<pre><code>df=pd.DataFrame(data={'col1':['a\\\\b','ab'], 'col2':['c','cd\\\\']})\ndf.replace(to_replace='\\\\', value='', regex=True, inplace=True)\n</code></pre>\n\n<p>When I run this, I get an error message that says:</p>\n\n<pre><code>error: bad escape (end of pattern) at position 0\n</code></pre>\n\n<p>If I remove \"regex=True\", I don't get the error, but nothing get's replaced.</p>\n\n<p>How do I remove the backslashes?</p>\n"}, {"tags": ["python", "string", "concatenation"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539819060, "post_id": 52864898, "comment_id": 92644124, "body": "Why are you using NumPy for this? NumPy string dtypes are fixed-length."}, {"owner": {"reputation": 13, "user_id": 10481466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xy6Em5exAT4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXmf8jQLZsotk363R97Ad0OwsTNhQ/mo/photo.jpg?sz=128", "display_name": "Zach Rose", "link": "https://stackoverflow.com/users/10481466/zach-rose"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539820040, "post_id": 52864898, "comment_id": 92644329, "body": "It seemed like the easiest way with my fairly limited python skill set to manipulate the data using arrays. If there&#39;s a better way you can point me to I&#39;m happy to rewrite my code."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539820140, "post_id": 52864898, "comment_id": 92644343, "body": "The <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\">stdlib <code>csv</code> module</a> and ordinary list/tuple manipulation."}, {"owner": {"reputation": 1912, "user_id": 4691830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-lqbwtD6n1nc/AAAAAAAAAAI/AAAAAAAAABg/vE8KR-oSqqE/photo.jpg?sz=128", "display_name": "Joooeey", "link": "https://stackoverflow.com/users/4691830/joooeey"}, "edited": false, "score": 0, "creation_date": 1539820745, "post_id": 52864898, "comment_id": 92644452, "body": "I bet you can just set the string dtype size somehow."}, {"owner": {"reputation": 13, "user_id": 10481466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xy6Em5exAT4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXmf8jQLZsotk363R97Ad0OwsTNhQ/mo/photo.jpg?sz=128", "display_name": "Zach Rose", "link": "https://stackoverflow.com/users/10481466/zach-rose"}, "edited": false, "score": 0, "creation_date": 1539822928, "post_id": 52864898, "comment_id": 92644871, "body": "you&#39;re correct, but as soon as I change it python treats them as bytes and not strings, so either there&#39;s incompatibility when I concatenate later or the save text encloses every line in b&#39; &#39;"}, {"owner": {"reputation": 1912, "user_id": 4691830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-lqbwtD6n1nc/AAAAAAAAAAI/AAAAAAAAABg/vE8KR-oSqqE/photo.jpg?sz=128", "display_name": "Joooeey", "link": "https://stackoverflow.com/users/4691830/joooeey"}, "edited": false, "score": 0, "creation_date": 1539890031, "post_id": 52864898, "comment_id": 92675566, "body": "Sorry, I was in a hurry yesterday. If you replace <code>dtype=str</code> with <code>dtype=&#39;|S100&#39;</code> everywhere, you should be able to store strings up to 100 characters long. You can put any number in there."}], "owner": {"reputation": 13, "user_id": 10481466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xy6Em5exAT4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXmf8jQLZsotk363R97Ad0OwsTNhQ/mo/photo.jpg?sz=128", "display_name": "Zach Rose", "link": "https://stackoverflow.com/users/10481466/zach-rose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539818595, "creation_date": 1539818595, "question_id": 52864898, "link": "https://stackoverflow.com/questions/52864898/python-truncates-strings-after-32-characters", "title": "Python truncates strings after 32 characters?", "body": "<p>So I wrote the following straightforward Python script that takes in data from a CSV and outputs these config files for a 3D printer. Everything is working great except when I add strings together in the double for loop it cuts off the string after 32 characters. Can anyone explain why this is happening and how to prevent it? Thanks in advance!</p>\n\n<pre><code>import numpy as np\n\nfile = open('QualityData.csv')\n\ndata = np.genfromtxt(file, delimiter=\",\",dtype=str) #importing data\n\nheaders=data[[0,1],:]\ndata = np.delete(data,(0,1),0) #delete rows\n\ntitles=data[:,0]\ndata = np.delete(data, 0,1) #delete columns\n\nr,c=np.shape(data)\nprofs = np.zeros((r,c))\nprofs = np.array(profs,dtype=str) #build data array for config file\n\n\nfor i in range(r):  #fill data array\n    for j in range(c):\n        if i in (0,4,5,12,13):\n            profs[i,j]=titles[i]\n        else:\n            profs[i,j]=titles[i]+' = '+data[i,j]\n            print(profs[i,j])\n\nfor k in range(c): #create filename and save it\n    varient=str(data[11,k])\n    varient=varient.replace(' ','_')\n    filename = str(data[10,k]) + '_' + varient + '_' + str(data[8,k])+'.inst.cfg'\n    np.savetxt(filename, profs[:,k], newline='\\n',fmt='%s')\n</code></pre>\n\n<p>There are strings longer than 32 characters that get put into the titles array without a problem, but when they're added together in the else statement it only accepts the first 32 characters.</p>\n"}, {"tags": ["android", "python", "adb"], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 5768407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4406c9cd37ebc3ed1686613363a703e3?s=128&d=identicon&r=PG&f=1", "display_name": "NCoop", "link": "https://stackoverflow.com/users/5768407/ncoop"}, "is_accepted": true, "score": 0, "last_activity_date": 1539823105, "creation_date": 1539823105, "answer_id": 52865386, "question_id": 52864893, "link": "https://stackoverflow.com/questions/52864893/how-to-use-absolute-position-for-touch-event-using-airtest-orientation-doesnt/52865386#52865386", "title": "How to use absolute position for touch event using AirTest (Orientation doesn&#39;t matter)", "body": "<p>Figured it out. I can just directly change what AirTest thinks the orientation is before I perform the touch command:</p>\n\n<pre><code>android = api.device()\nandroid._display_info[\"orientation\"] = 0.0\n</code></pre>\n\n<p>Which sets the orientation value to 0.0 which uses the same coordinate system as <code>adb shell getevent -t</code></p>\n"}], "owner": {"reputation": 143, "user_id": 5768407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4406c9cd37ebc3ed1686613363a703e3?s=128&d=identicon&r=PG&f=1", "display_name": "NCoop", "link": "https://stackoverflow.com/users/5768407/ncoop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 52865386, "answer_count": 1, "score": 0, "last_activity_date": 1539823105, "creation_date": 1539818564, "question_id": 52864893, "link": "https://stackoverflow.com/questions/52864893/how-to-use-absolute-position-for-touch-event-using-airtest-orientation-doesnt", "title": "How to use absolute position for touch event using AirTest (Orientation doesn&#39;t matter)", "body": "<p>I have a script that parses the output of the <code>adb shell getevent -t</code> command into more abstract events (e.g. <code>Type: LONG_CLICK, Location: (x, y)</code>). I use this parsed output to replay the events that  happed during the <code>adb</code> command using the AirTest mobile game testing framework, using mainly only their android api. One example would be running the AirTest command <code>touch((x,y))</code>, however, the AirTest <code>touch</code> command takes into account the orientation of the device while <code>adb shell getevent -t</code> does not. This causes a mismatch between the two coordinate systems and undesired behaviour. I am wondering is there a way to either make the <code>adb</code> command give relative coordinates based on the orientation of the device or is there a way to make AirTest ignore the orientation of the device. I've looked through the android documentation on the <code>[getevent][1]</code> command for <code>adb</code>, but it did not talk about any flags that could do this. I've been through AirTests <a href=\"https://airtest.readthedocs.io/en/latest/all_module/airtest.core.api.html\" rel=\"nofollow noreferrer\">documentation</a> as well and there was no non-hacky way to do this. The hacky way I found was going into the source code for the library and comment out the section that performs the translation depending on the orientation, however, this is undesired since it is not practical to have to change the source code of the library to get this behaviour.</p>\n"}, {"tags": ["python", "django", "django-admin"], "answers": [{"tags": [], "owner": {"reputation": 6461, "user_id": 6786283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0STiP.jpg?s=128&g=1", "display_name": "Ykh", "link": "https://stackoverflow.com/users/6786283/ykh"}, "is_accepted": true, "score": 2, "last_activity_date": 1539821729, "creation_date": 1539821729, "answer_id": 52865249, "question_id": 52864870, "link": "https://stackoverflow.com/questions/52864870/perform-action-when-a-certain-field-changes-in-the-django-admin/52865249#52865249", "title": "Perform action when a certain field changes in the django admin", "body": "<pre><code>from django.db.models.signals import post_save\nfrom django.dispatch import receiver\n\n@receiver(post_save, sender=ModelA)\ndef test_stuff_change(instance, sender, *args, **kwargs):\n    if instance.paid:\n        instance.amount += 1\n        instance.paid = False\n        instance.save()\n</code></pre>\n\n<p>If you don't want <code>instance.paid = False</code> after <code>instance.amount += 1</code>,do like: </p>\n\n<pre><code>class ModelA(models.Model):\n    paid = models.BooleanField(default=False)\n    is_add = models.BooleanField(default=False)\n    amount = models.DecimalField()\n\n@receiver(post_save, sender=ModelA)\ndef test_stuff_change(instance, sender, *args, **kwargs):\n    if instance.paid and not instance.is_add:\n        instance.amount += 1\n        instance.is_add= True\n        instance.save()\n</code></pre>\n\n<p>If you mean add amount when paid toggle, do like:</p>\n\n<pre><code>class ModelA(models.Model):\n    paid = models.BooleanField(default=False)\n    amount = models.DecimalField()\n\n    def save(self, *args, **kwargs):\n        if not self.id:\n            pass \n        else:\n            this = ModelA.objects.get(id=self.id)\n            if this.paid != self.paid :\n                self.amount += 1\n        return super(ModelA, self).save(*args, **kwargs)\n</code></pre>\n"}], "owner": {"reputation": 654, "user_id": 10303173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d06a483a3177651fdd09073a17d5a53?s=128&d=identicon&r=PG&f=1", "display_name": "Martins", "link": "https://stackoverflow.com/users/10303173/martins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 1, "accepted_answer_id": 52865249, "answer_count": 1, "score": 1, "last_activity_date": 1539821729, "creation_date": 1539818369, "question_id": 52864870, "link": "https://stackoverflow.com/questions/52864870/perform-action-when-a-certain-field-changes-in-the-django-admin", "title": "Perform action when a certain field changes in the django admin", "body": "<p>I was wondering how to do something for case like this\nsay I have a model like this</p>\n\n<pre><code>class ModelA(models.Model):\n    paid = models.BooleanField(default=False)\n    amount = models.DecimalField()\n</code></pre>\n\n<p>and you want to perform an action like add 1? to amount when the boolean field is checked. not the first save but subsequent save when changing paid field in the admin how would that be done? and signals be use for such?\ncan one do a method like this and add it to signal?</p>\n\n<pre><code>def test_stuff_change(instance, sender, *args, **kwargs):\n    if paid == True:\n    #what ever logic and statement goes in here\n</code></pre>\n\n<p>can this be done on change fields?</p>\n"}, {"tags": ["python", "tensorflow", "placeholder"], "answers": [{"comments": [{"owner": {"reputation": 1655, "user_id": 4827407, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh4.googleusercontent.com/-PpeKpxZJxqA/AAAAAAAAAAI/AAAAAAAAAC0/00uLdjlJgHU/photo.jpg?sz=128", "display_name": "Feng Chen", "link": "https://stackoverflow.com/users/4827407/feng-chen"}, "edited": false, "score": 0, "creation_date": 1539901158, "post_id": 52868471, "comment_id": 92680104, "body": "That is brilliant. Thanks a lot"}], "tags": [], "owner": {"reputation": 200, "user_id": 2301712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/281cfb1f5bdaa92dfb15669a375a19bd?s=128&d=identicon&r=PG", "display_name": "era_misa", "link": "https://stackoverflow.com/users/2301712/era-misa"}, "is_accepted": true, "score": 1, "last_activity_date": 1539846004, "last_edit_date": 1539846004, "creation_date": 1539845476, "answer_id": 52868471, "question_id": 52864864, "link": "https://stackoverflow.com/questions/52864864/how-to-print-weights-and-loss-at-the-same-time/52868471#52868471", "title": "How to print weights and loss at the same time?", "body": "<p>the <code>loss</code> depends on input placeholder <code>x</code> and <code>y</code>, so <code>print(step,sess.run([loss]))</code> should be modified as <code>print(step, sess.run([loss], feed_dict={x: x_data, y: y_data}))</code></p>\n\n<p>By the way, you can try <code>tf.summary</code> to visualize the weights during training, that's very intuitive.</p>\n"}], "owner": {"reputation": 1655, "user_id": 4827407, "user_type": "registered", "accept_rate": 84, "profile_image": "https://lh4.googleusercontent.com/-PpeKpxZJxqA/AAAAAAAAAAI/AAAAAAAAAC0/00uLdjlJgHU/photo.jpg?sz=128", "display_name": "Feng Chen", "link": "https://stackoverflow.com/users/4827407/feng-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 52868471, "answer_count": 1, "score": 0, "last_activity_date": 1558690082, "creation_date": 1539818310, "last_edit_date": 1558690082, "question_id": 52864864, "link": "https://stackoverflow.com/questions/52864864/how-to-print-weights-and-loss-at-the-same-time", "title": "How to print weights and loss at the same time?", "body": "<p>I just started studying TensorFlow. Now I am confused about how to print weights and loss at the same time.</p>\n\n<p>In this code:</p>\n\n<pre><code>x_data=np.random.rand(100)\ny_data=x_data*0.1+0.2\nb=tf.Variable(0.)  #must be 0.  not 0\nk=tf.Variable(0.)\ny=k*x_data+b\nloss=tf.reduce_mean(tf.square(y_data-y))\noptimizer=tf.train.GradientDescentOptimizer(0.2)\ntrain=optimizer.minimize(loss)\ninit=tf.global_variables_initializer()\nwith tf.Session() as sess:\n    sess.run(init)\n    for step in range(501):\n        sess.run(train)\n        if step%20==0:\n            print(step,sess.run([k,b,loss]))\n</code></pre>\n\n<p>I can print the parameters k, b, and loss at the same time. The result looks like:</p>\n\n<pre><code>0 [0.056439728, 0.10114789, 0.014995859]\n20 [0.105686955, 0.19681107, 2.4290184e-06]\n40 [0.10358144, 0.19799174, 9.633536e-07]\n60 [0.10225546, 0.19873528, 3.8206556e-07]\n80 [0.10142042, 0.19920352, 1.515299e-07]\n......\n</code></pre>\n\n<p>But in another code I have tried:</p>\n\n<pre><code>x_data = np.linspace(-0.5, 0.5, 200)[:, np.newaxis]  \nnoise = np.random.normal(0, 0.02, x_data.shape)\ny_data = np.square(x_data) + noise\nx = tf.placeholder(tf.float32, [None, 1])\ny = tf.placeholder(tf.float32, [None, 1])\nWeights_L1 = tf.Variable(tf.random_normal([1, 10]))  # 1 row 10 column\nbiases_L1 = tf.Variable(tf.zeros([1, 10]))\nWx_plus_b_L1 = tf.matmul(x, Weights_L1) + biases_L1\nL1 = tf.nn.tanh(Wx_plus_b_L1)\nWeights_L2 = tf.Variable(tf.random_normal([10, 1]))  # 10 row 1 column\nbiases_L2 = tf.Variable(tf.zeros([1, 1]))\nWx_plus_b_L2 = tf.matmul(L1, Weights_L2) + biases_L2\nprediction = tf.nn.tanh(Wx_plus_b_L2)\nloss = tf.reduce_mean(tf.square(y - prediction))\ntrain_step = tf.train.GradientDescentOptimizer(0.1).minimize(loss)\nwith tf.Session() as sess:\n    sess.run(tf.global_variables_initializer())\n    for step in range(2000):\n        sess.run(train_step, feed_dict={x: x_data, y: y_data})\n        if step % 200 == 0:\n            print(step, sess.run([Weights_L1]))\n            print(step,sess.run([loss]))\n    prediction_value=sess.run(prediction,feed_dict={x:x_data})\n</code></pre>\n\n<p>Here, I want to use two prints to show weights and loss respectively. But I have the error:</p>\n\n<pre><code>InvalidArgumentError (see above for traceback): You must feed a value for placeholder tensor 'Placeholder_4' with dtype float and shape [?,1]\n [[Node: Placeholder_4 = Placeholder[dtype=DT_FLOAT, shape=[?,1], _device=\"/job:localhost/replica:0/task:0/device:CPU:0\"]()]]\n</code></pre>\n\n<p>So, here is my question:</p>\n\n<p>How to print weights and loss at the same time? What if I want to print more parameters?</p>\n\n<p>Why do I have this error?</p>\n"}, {"tags": ["python", "selenium", "firefox", "geckodriver", "lxc"], "comments": [{"owner": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "edited": false, "score": 0, "creation_date": 1539818914, "post_id": 52864842, "comment_id": 92644099, "body": "It may be a silly question but how did you install it? Did you uncompress the tar.gz and also gave execute permissions to the binary?"}, {"owner": {"reputation": 41, "user_id": 3565566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2f780f624383fb6117ef972031275b?s=128&d=identicon&r=PG&f=1", "display_name": "BenB", "link": "https://stackoverflow.com/users/3565566/benb"}, "reply_to_user": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "edited": false, "score": 0, "creation_date": 1539826965, "post_id": 52864842, "comment_id": 92645627, "body": "@SantiagoBruno I downloaded it from the website, un-tared it and copied it to my path.  It&#39;s in an lxc container, so everything is run as root and has root permissions, and the binary has execute permissions for all users.  Permissions should be fine."}, {"owner": {"reputation": 41, "user_id": 3565566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2f780f624383fb6117ef972031275b?s=128&d=identicon&r=PG&f=1", "display_name": "BenB", "link": "https://stackoverflow.com/users/3565566/benb"}, "reply_to_user": {"reputation": 371, "user_id": 10475958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156768574859732/picture?type=large", "display_name": "Santiago Bruno", "link": "https://stackoverflow.com/users/10475958/santiago-bruno"}, "edited": false, "score": 0, "creation_date": 1539828016, "post_id": 52864842, "comment_id": 92645784, "body": "I just tried a quick test program on a Linux laptop I have sitting around.  I did all the same steps and it worked.  Doing that test I realized that it actually launches the browser.  I wonder if it has to do with running it in lxc where there is no display.  The server I was running this on that had the same issue might actually be a server version of Ubuntu (missing the display manager), but I&#39;m not 100% sure."}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1539849757, "post_id": 52864842, "comment_id": 92652599, "body": "You should always <i>execute your @Test as a non-root user.</i>"}, {"owner": {"reputation": 41, "user_id": 3565566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2f780f624383fb6117ef972031275b?s=128&d=identicon&r=PG&f=1", "display_name": "BenB", "link": "https://stackoverflow.com/users/3565566/benb"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1539878740, "post_id": 52864842, "comment_id": 92669813, "body": "@DebanjanB as mentioned, this is running in a container.  The only user is root because I have not set-up other users as there is no reason to do so.  The advice to run as non-root in this context is irrelevant."}, {"owner": {"reputation": 41, "user_id": 3565566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2f780f624383fb6117ef972031275b?s=128&d=identicon&r=PG&f=1", "display_name": "BenB", "link": "https://stackoverflow.com/users/3565566/benb"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1539878844, "post_id": 52864842, "comment_id": 92669871, "body": "@DebanjanB I also explained in my post why the other answer does not address my situation.  Why did you mark it as a duplicate?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 3565566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2f780f624383fb6117ef972031275b?s=128&d=identicon&r=PG&f=1", "display_name": "BenB", "link": "https://stackoverflow.com/users/3565566/benb"}, "is_accepted": false, "score": 2, "last_activity_date": 1539923176, "creation_date": 1539923176, "answer_id": 52885907, "question_id": 52864842, "link": "https://stackoverflow.com/questions/52864842/selenium-in-lxc-container-webdriverexception-message-invalid-argument-cant/52885907#52885907", "title": "Selenium in lxc container; WebDriverException: Message: invalid argument: can&#39;t kill an exited process", "body": "<p>Just in case someone stumbles on this and had a similar issue, the root of my issue is that all of my original attempts to use the webdriver took place from <code>lxc exec &lt;container&gt; bash</code>, or from an <code>ssh</code> session without using ssh x11 forwarding.  In both scenarios the python webdriver failed because it could not actually launch the browser.  I've run it in a few different environments now, all using x11 forwarding, and it's working. </p>\n"}], "owner": {"reputation": 41, "user_id": 3565566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2f780f624383fb6117ef972031275b?s=128&d=identicon&r=PG&f=1", "display_name": "BenB", "link": "https://stackoverflow.com/users/3565566/benb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1920, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1539923176, "creation_date": 1539818100, "last_edit_date": 1539878882, "question_id": 52864842, "link": "https://stackoverflow.com/questions/52864842/selenium-in-lxc-container-webdriverexception-message-invalid-argument-cant", "title": "Selenium in lxc container; WebDriverException: Message: invalid argument: can&#39;t kill an exited process", "body": "<p>I'm trying to use Selenium in an Ubuntu 18.04(amd64) LXC container.<br>\nSelenium version 3.14.1, \nfirefox version 62.0.3, \nPython 2.7</p>\n\n<p>I installed <strong><em>geckodriver-v0.22.0-linux64.tar.gz</em></strong>\nfrom <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">https://github.com/mozilla/geckodriver/releases</a> into /usr/local/bin (which is in my path)</p>\n\n<p>When I try to import driver I get the following error:</p>\n\n<pre><code>&gt;&gt;&gt; from selenium import webdriver\n&gt;&gt;&gt; driver = webdriver.Firefox()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/firefox/webdriver.py\", line 174, in __init__\n    keep_alive=True)\n  File \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/webdriver.py\", line 157, in __init__\n    self.start_session(capabilities, browser_profile)\n  File \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/webdriver.py\", line 253, in start_session\n    response = self.execute(Command.NEW_SESSION, parameters)\n  File \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/webdriver.py\", line 324, in execute\n    self.error_handler.check_response(response)\n  File \"/usr/local/lib/python2.7/dist-packages/selenium/webdriver/remote/errorhandler.py\", line 242, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: invalid argument: can't kill an exited process\n</code></pre>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/52534658/webdriverexception-message-invalid-argument-cant-kill-an-exited-process-with\">this</a> similar post, and the issue ended up being a version compatibility issue between Selenium, Firefox, and GeckoDriver, but I don't think that is the case for me.  </p>\n\n<p>I've googled and googled with no luck.  Took a look at a couple of github posts as well, still no luck.  I'm hoping someone here can give me some ideas.</p>\n\n<p>Maybe there is an issue with doing this in a container. However, I did try this on a normal Ubuntu system (not in a container) and got the exact same issue.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1539820053, "post_id": 52864814, "comment_id": 92644332, "body": "I think I understand your desired output, but could you include it in your post for clarity?"}, {"owner": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1539820491, "post_id": 52864814, "comment_id": 92644399, "body": "I added it in :)"}], "answers": [{"comments": [{"owner": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "edited": false, "score": 0, "creation_date": 1539820556, "post_id": 52865106, "comment_id": 92644418, "body": "There should be one more row for the text &quot;No Problem&quot;. There are two unique snIDs, and the &quot;No problem&quot; text has both represented."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "reply_to_user": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "edited": false, "score": 0, "creation_date": 1539821149, "post_id": 52865106, "comment_id": 92644525, "body": "That is the case here, it&#39;s simply a MultiIndex dataframe. You can use <code>reset_index()</code> on the result in my answer to verify. See my edit."}, {"owner": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "edited": false, "score": 0, "creation_date": 1539821747, "post_id": 52865106, "comment_id": 92644647, "body": "There are more rows in the dataframe that I am using (I can&#39;t put them all here), and this is still failing with a <code>ValueError: Function does not reduce</code>.   On a related note, I did get this to work with my original code by editing the source code in groupby.py 2391 to 2393:             if result is None:                 if (isinstance(res, (Series, Index, np.ndarray)) or                         isinstance(res, list)):  to:            if result is None:                 if (isinstance(res, (Series, Index, np.ndarray)) or                         isinstance(res, None)):"}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "reply_to_user": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "edited": false, "score": 0, "creation_date": 1539823212, "post_id": 52865106, "comment_id": 92644924, "body": "You should always include a minimal, verifiable example in your question that captures all of your criteria."}, {"owner": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "edited": false, "score": 0, "creation_date": 1539823416, "post_id": 52865106, "comment_id": 92644965, "body": "Yeah my apologies, I didn&#39;t foresee, what is going on here, and I&#39;m not really sure what is tripping it up using your code. I think it might be rows that have only 1 entry? As they cannot be reduced anymore."}], "tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 0, "last_activity_date": 1539821306, "last_edit_date": 1539821306, "creation_date": 1539820252, "answer_id": 52865106, "question_id": 52864814, "link": "https://stackoverflow.com/questions/52864814/aggregate-multiple-groupbys-with-a-column-of-lists-in-pandas/52865106#52865106", "title": "Aggregate multiple groupbys with a column of lists in Pandas", "body": "<p>IIUC, you first need to expand your <code>tagIds</code> column of lists into separate rows, then you can perform your <code>groupby()</code> and <code>agg()</code>, where <code>my_dict</code> is your input <code>dict</code>:</p>\n\n<pre><code>df = pd.DataFrame(my_dict)\n\ns = df.apply(lambda x: pd.Series(x['tagIds']), axis=1).stack().reset_index(level=1, drop=True).astype(int)\ns.name = 'tagIds'\n\ndf = df.drop('tagIds', axis=1).join(s)\n\ng = df.groupby([\"snId\",\"snMsgType\",\"text\"]).agg({'tagIds': lambda x: x.tolist()})\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>                                                                                                                         tagIds\nsnId            snMsgType text                                                                                                 \n396321357429208 Private   No problem!                                         [198419, 199783, 198382, 198419, 198416, 20275...\n606426623024865 Private   If you're struggling on what other shapewear to...                                   [201340, 202750]\n                          No problem!                                         [198419, 198421, 202750, 198419, 202750, 18810...\n</code></pre>\n\n<p>This returns a MultiIndex dataframe. If you would like to return the results in the format in your edited question, you can do the following:</p>\n\n<pre><code>g.reset_index().to_dict()\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>{'snId': {0: '396321357429208', 1: '606426623024865', 2: '606426623024865'}, 'snMsgType': {0: 'Private', 1: 'Private', 2: 'Private'}, 'text': {0: 'No problem!', 1: \"If you're struggling on what other shapewear to buy, then this article will help.\", 2: 'No problem!'}, 'tagIds': {0: [198419, 199783, 198382, 198419, 198416, 202750, 198422, 188101, 198408, 198419, 188101, 201340, 198419, 199783], 1: [201340, 202750], 2: [198419, 198421, 202750, 198419, 202750, 188101, 198419, 201340, 201340, 198419, 198421, 198419, 199783, 199783, 198419, 198416, 198419, 188101]}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "is_accepted": true, "score": 0, "last_activity_date": 1539886526, "last_edit_date": 1539886526, "creation_date": 1539822987, "answer_id": 52865372, "question_id": 52864814, "link": "https://stackoverflow.com/questions/52864814/aggregate-multiple-groupbys-with-a-column-of-lists-in-pandas/52865372#52865372", "title": "Aggregate multiple groupbys with a column of lists in Pandas", "body": "<p>I tricked it using:</p>\n\n<pre><code>def aggr_tags(df):\n    myagg = lambda s:tuple(i for i in zip(*s)) \n    # Group by snIds and aggregate all the tags ids used..\n    df = df.groupby([\"snId\",\"snMsgType\",\"text\"]).agg({'tagIds': myagg})\n\n    #convert back to lists.\n    df['tagIds'] = df['tagIds'].apply(lambda x: list(set(x[0])))\n\n    return df.reset_index()\n</code></pre>\n"}], "owner": {"reputation": 559, "user_id": 5377184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/clN8K.jpg?s=128&g=1", "display_name": "tlanigan", "link": "https://stackoverflow.com/users/5377184/tlanigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 52865372, "answer_count": 2, "score": 0, "last_activity_date": 1539886526, "creation_date": 1539817778, "last_edit_date": 1539820482, "question_id": 52864814, "link": "https://stackoverflow.com/questions/52864814/aggregate-multiple-groupbys-with-a-column-of-lists-in-pandas", "title": "Aggregate multiple groupbys with a column of lists in Pandas", "body": "<p>I have a DataFrame that has a subset that looks like the following:</p>\n\n<pre><code>{u'snId': {3: u'396321357429208',\n  695: u'606426623024865',\n  703: u'606426623024865',\n  914: u'606426623024865',\n  5097: u'606426623024865',\n  6865: u'396321357429208',\n  26884: u'606426623024865',\n  30538: u'396321357429208',\n  32152: u'606426623024865',\n  34314: u'396321357429208',\n  34345: u'606426623024865',\n  52207: u'606426623024865',\n  55361: u'396321357429208',\n  59077: u'606426623024865',\n  68118: u'396321357429208',\n  79366: u'396321357429208',\n  86798: u'606426623024865',\n  130472: u'396321357429208',\n  146595: u'396321357429208',\n  211110: u'606426623024865',\n  227155: u'396321357429208',\n  240219: u'396321357429208',\n  245716: u'606426623024865',\n  248525: u'606426623024865',\n  327256: u'606426623024865'},\n u'snMsgType': {3: u'Private',\n  695: u'Private',\n  703: u'Private',\n  914: u'Private',\n  5097: u'Private',\n  6865: u'Private',\n  26884: u'Private',\n  30538: u'Private',\n  32152: u'Private',\n  34314: u'Private',\n  34345: u'Private',\n  52207: u'Private',\n  55361: u'Private',\n  59077: u'Private',\n  68118: u'Private',\n  79366: u'Private',\n  86798: u'Private',\n  130472: u'Private',\n  146595: u'Private',\n  211110: u'Private',\n  227155: u'Private',\n  240219: u'Private',\n  245716: u'Private',\n  248525: u'Private',\n  327256: u'Private'},\n u'tagIds': {3: array([198419]),\n  695: array([201340]),\n  703: array([198419]),\n  914: array([198421]),\n  5097: array([202750]),\n  6865: array([199783]),\n  26884: array([198419, 202750]),\n  30538: array([198382]),\n  32152: array([188101]),\n  34314: array([198419, 198416]),\n  34345: array([198419, 201340]),\n  52207: array([201340]),\n  55361: array([202750]),\n  59077: array([198419, 198421]),\n  68118: array([198422]),\n  79366: array([188101]),\n  86798: array([202750]),\n  130472: array([198408]),\n  146595: array([198419, 188101]),\n  211110: array([198419, 199783]),\n  227155: array([201340]),\n  240219: array([198419, 199783]),\n  245716: array([199783]),\n  248525: array([198419, 198416]),\n  327256: array([198419, 188101])},\n u'text': {3: u\"No problem!\",\n  695: u\"If you're struggling on what other shapewear to buy, then this article will help.\",\n  703: u\"No problem!\",\n  914: u\"No problem!\",\n  5097: u\"No problem!\",\n  6865: u\"No problem!\",\n  26884: u\"No problem!\",\n  30538: u\"No problem!\",\n  32152: u\"No problem!\",\n  34314: u\"No problem!\",\n  34345: u\"No problem!\",\n  52207: u\"No problem!\",\n  55361: u\"No problem!\",\n  59077: u\"No problem!\",\n  68118: u\"No problem!\",\n  79366: u\"No problem!\",\n  86798: u\"If you're struggling on what other shapewear to buy, then this article will help.\",\n  130472: u\"No problem!\",\n  146595: u\"No problem!\",\n  211110: u\"No problem!\",\n  227155: u\"No problem!\",\n  240219: u\"No problem!\",\n  245716: u\"No problem!\",\n  248525: u\"No problem!\",\n  327256: u\"No problem!\"}}\n</code></pre>\n\n<p>I want to do a groupby on the <code>snId</code>, <code>text</code> and <code>snMsgType</code> columns and aggregate all of the unique <code>tagIds</code> into a list for each group.</p>\n\n<p>I've used the following:</p>\n\n<pre><code>df.groupby([\"snId\",\"snMsgType\",\"text\"]).agg({'tagIds': lambda x:  list(set(sum(filter(None, x), [])))})\n</code></pre>\n\n<p>However it doesn't work for the whole DataFrame as there are groups that only have 1 row and are not reduced. I get a <code>ValueError: Function does not reduce</code>. The challenge is to make this work for all groups regardless if it reduces or not. </p>\n\n<p>My apologies for the somewhat confusing problem statement and big text block.</p>\n\n<p>The answer will look something like this:</p>\n\n<pre><code>{'snId': {0: u'396321357429208', 1: u'606426623024865', 2:u'606426623024865'},\n 'snMsgType': {0: u'Private', 1: u'Private', 2:'Private'},\n 'tagIds': {0: [188101,\n   199783,\n   198408,\n   198382,\n   198416,\n   198419,\n   198422,\n   201340,\n   202750],\n  1: [188101, 199783, 198416, 198419, 198421, 201340, 202750]},\n  2: [201340, 202750]\n 'text': {0: u\"No problem!\",\n  1: u\"No problem!\",\n  2: u\"If you're struggling on what other shapewear to buy, then this article will help.\"}}\n</code></pre>\n"}, {"tags": ["python", "pyqt4", "ete3"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539817987, "post_id": 52864805, "comment_id": 92643910, "body": "Do not place just a piece of the error you must put the complete error message, you must also indicate how you have installed the packages and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539818426, "post_id": 52864805, "comment_id": 92643998, "body": "If you named a file <code>ete3.py</code> or a folder <code>ete</code>, pick a different name."}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539818565, "post_id": 52864805, "comment_id": 92644019, "body": "@eyllanesc Yeah.. how do you paste an entire stretch of code without having to format all the tabs? Its super anoying."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539818648, "post_id": 52864805, "comment_id": 92644026, "body": "Copy the code, select all the code and press <code>Ctrl + k</code>, it&#39;s simple. Read <a href=\"https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackexchange.com/questions/22186/&hellip;</a>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539818917, "post_id": 52864805, "comment_id": 92644100, "body": "with apt-get you install the package in the system python, not in the venv. What you must do is after activating the venv you must execute the following command: <code>pip install PyQt4</code>"}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "edited": false, "score": 0, "creation_date": 1539819010, "post_id": 52864805, "comment_id": 92644119, "body": "I think the system site packages should handle that, no?   I tried your method, but I already have bad experiences with that one: <code>Collecting PyQt4 Could not find a version that satisfies the requirement PyQt4 (from versions: ) No matching distribution found for PyQt4</code>"}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1539819308, "post_id": 52864805, "comment_id": 92644170, "body": "@user2357112 thanks but that&#39;s not it :)"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539819796, "post_id": 52864805, "comment_id": 92644268, "body": "@user2810298 Do you get that error when installing when running <code>virtualmicrobes evo --name TestMicrobes</code> or when executing some script?"}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "edited": false, "score": 0, "creation_date": 1539820244, "post_id": 52864805, "comment_id": 92644355, "body": "I get it when running that specific line. Does it work on your side?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539820403, "post_id": 52864805, "comment_id": 92644384, "body": "@user2810298 I am in arch linux and I have executed the commands that you point out without errors."}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "edited": false, "score": 0, "creation_date": 1539820742, "post_id": 52864805, "comment_id": 92644451, "body": "Alright, then it might be a problem of the Ubuntu subsystem on Windows I guess. Would be nice to know why it does this though.. any ideas on how to figure this out? Somehow it cant find Pyqt4, basedon earlier SO posts... Btw, just to be sure, did you get into the simulation loop that iterates time? PS a huge thank you is in order. Thanks for helping me out so far :)"}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539821235, "post_id": 52864805, "comment_id": 92644544, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182056/discussion-between-user2810298-and-eyllanesc\">continue this discussion in chat</a>."}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "edited": false, "score": 0, "creation_date": 1539821301, "post_id": 52864805, "comment_id": 92644558, "body": "Ah wait, it should be virtualmicrobes.py, not just virtualmicrobes... I hope you figured that one out :/"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539821429, "post_id": 52864805, "comment_id": 92644585, "body": "@user2810298 I have executed the commands that you point out without problems, I do not know what virtualmicrobes is for. I do not understand your last comment."}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "edited": false, "score": 0, "creation_date": 1539822103, "post_id": 52864805, "comment_id": 92644701, "body": "I ment to say that in that final command \u201cvirtualmicrobes\u201d should be replaced with \u201cvirtualmicrobes.py\u201d. What output did that give? (Iow what if you run it without the final \u2018&gt;&gt; error\u2019 part)"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539828861, "post_id": 52864805, "comment_id": 92645970, "body": "@user2810298 I recommend editing your question adding that so that other users do not have to point out the same. I have not used &gt;&gt; since I want to see the error message. Please use <code>@username</code>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539835194, "post_id": 52864805, "comment_id": 92647258, "body": "@user2810298 I have not had any errors when executing the command but it takes too long so I have canceled it."}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539843316, "post_id": 52864805, "comment_id": 92649474, "body": "@eyllanesc More than 20 seconds?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539843481, "post_id": 52864805, "comment_id": 92649538, "body": "much more, it was running for at least 1 hour."}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "edited": false, "score": 0, "creation_date": 1539844203, "post_id": 52864805, "comment_id": 92649835, "body": "Lol, thanks. It\u2019s a major evolutionary simulation taking at least weeks, so that just means you got it running. Weird that I got issues on this specific machine (its a 2nd person trying to install it, who also wants to work with the simulation software but in \u2018ubuntu for windows\u2019) I\u2019ll try to figure this out further, thanks a lot again, you were a major help!"}, {"owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1539930586, "post_id": 52864805, "comment_id": 92686721, "body": "@eyllanesc I tried to contact you via chat (to not spam anyone). Could you maybe help me figuring out what causes this problem? (you are pretty much one of the only people that got it working all at once..)"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 2918920, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/50bbe73e213e2ac3e9383a2323e48111?s=128&d=identicon&r=PG", "display_name": "aLbAc", "link": "https://stackoverflow.com/users/2918920/albac"}, "is_accepted": false, "score": 0, "last_activity_date": 1545145133, "creation_date": 1545145133, "answer_id": 53835757, "question_id": 52864805, "link": "https://stackoverflow.com/questions/52864805/module-has-no-attritube-treestyle/53835757#53835757", "title": "&#39;Module&#39; has no attritube &#39;Treestyle&#39;", "body": "<p>I had similar issues. The problem might be that you don't have all the depencies installed and ete3 is not telling you all of them.</p>\n\n<p>You can see which dependencies are missing with this code:</p>\n\n<pre><code>import ete3\nete3.__file__\n</code></pre>\n\n<p>Run it and it will tell you which dependencies are missing. Note that you might need to run it multiple times before you install them all!</p>\n"}], "owner": {"reputation": 101, "user_id": 2810298, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c199cccfe76976186ff59ef28d0d5bd8?s=128&d=identicon&r=PG&f=1", "display_name": "user2810298", "link": "https://stackoverflow.com/users/2810298/user2810298"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 412, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1545145133, "creation_date": 1539817727, "last_edit_date": 1539845619, "question_id": 52864805, "link": "https://stackoverflow.com/questions/52864805/module-has-no-attritube-treestyle", "title": "&#39;Module&#39; has no attritube &#39;Treestyle&#39;", "body": "<p>If found some hits on stackoverflow where people have issues using ete3 tools when PyQT4 is not installed, and this (used to) also apply for me. However, I've now tried to reinstall a piece of software and it keeps complaining about 'Module' has no attritube 'Treestyle'. </p>\n\n<p>To test whether PyQT was installed, I ran this python script:</p>\n\n<pre><code>from PyQt4.Qt import PYQT_VERSION_STR\nprint(\"PyQt version:\", PYQT_VERSION_STR)\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code>('PyQt version:', '4.12.1')\n</code></pre>\n\n<p>I get this (common) error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/mnt/f/mypy/bin/virtualmicrobes.py\", line 1820, in &lt;module&gt;\n    sys.exit(main())\n  File \"/mnt/f/mypy/bin/virtualmicrobes.py\", line 1793, in main\n    args.start(args)\n  File \"/mnt/f/mypy/bin/virtualmicrobes.py\", line 408, in start_evo_sim\n    result = init_and_simulate(simu, intermediate_load_file, _options)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/my_tools/utility.py\", line 117, in wrapper\n    raise ex_type(message)\nAttributeError: 'module' object has no attribute 'TreeStyle' (in subprocess)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/my_tools/utility.py\", line 91, in process_func\n    ret = func(*args, **kwargs)\n  File \"/mnt/f/mypy/bin/virtualmicrobes.py\", line 295, in init_and_simulate\n    sim = sim_mod.create_simulation(**options)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/simulation/Simulation.py\", line 1940, in create_simulation\n    sim = ODE_simulation(params_dict)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/simulation/Simulation.py\", line 1342, in __init__\n    super(ODE_simulation, self).__init__(params)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/simulation/Simulation.py\", line 86, in __init__\n    self.init_graphs()\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/simulation/Simulation.py\", line 795, in init_graphs\n    show=show, clean=clean, create=create)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/plotting/Graphs.py\", line 1188, in __init__\n    self.init_phylo_tree_graph(clean=clean)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/plotting/Graphs.py\", line 1219, in init_phylo_tree_graph\n    show=show, attribute_dict=self.attribute_mapper, create=clean, **kwargs)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/plotting/Graphs.py\", line 985, in __init__\n    self.init_tree_style_dict() # NOTE: unordered ok\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/plotting/Graphs.py\", line 1110, in init_tree_style_dict\n    branch_vertical_margin=branch_vertical_margin)\n  File \"/mnt/f/mypy/local/lib/python2.7/site-packages/VirtualMicrobes/plotting/Graphs.py\", line 1083, in make_tree_style\n    ts = ete3.TreeStyle() \n</code></pre>\n\n<p>Note: this time arround I am trying to install it on <strong>Ubuntu for Windows</strong>, but up till now almost everything that ran on Linux ran on this one too. It might be relevent though.</p>\n\n<p>Any ideas?    </p>\n\n<p>PS To reproduce the problem, follow the following steps:</p>\n\n<pre><code>$ sudo apt-get install python-qt4\n$ virtualenv ~/mypy --system-site-packages\n$ source ~/mypy/bin/activate \n$ (mypy) &gt; pip install VirtualMicrobes\n$ (mypy) &gt; virtualmicrobes evo --name TestMicrobes &gt;&gt; error\n</code></pre>\n\n<p>PPS User eyllanesc confirmed this is an 'Ubuntu for Windows' problem. I'm still trying to fix it though, if anyone can help me figure out how to link the pyqt4 packages correctly to my virtualenv that would be great. I've tried linken the native one with ln -s but I'm not getting any further</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1539820832, "post_id": 52864770, "comment_id": 92644470, "body": "You can use <code>np.c_</code> or <code>np.column_stack</code>. For example, <code>np.c_[np.ones((3, 5)), range(3)]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 3, "last_activity_date": 1539825005, "last_edit_date": 1539825005, "creation_date": 1539824517, "answer_id": 52865520, "question_id": 52864770, "link": "https://stackoverflow.com/questions/52864770/numpy-add-append-value-to-each-row-of-2-d-array/52865520#52865520", "title": "Numpy add (append) value to each row of 2-d array", "body": "<p>Define a 2d array and a list:</p>\n\n<pre><code>In [73]: arr = np.arange(12).reshape(4,3)\nIn [74]: arr\nOut[74]: \narray([[ 0,  1,  2],\n       [ 3,  4,  5],\n       [ 6,  7,  8],\n       [ 9, 10, 11]])\nIn [75]: alist = [10,11,12,13]\n</code></pre>\n\n<p>Note their shapes:</p>\n\n<pre><code>In [76]: arr.shape\nOut[76]: (4, 3)\nIn [77]: np.array(alist).shape\nOut[77]: (4,)\n</code></pre>\n\n<p>To join <code>alist</code> to <code>arr</code> it needs to have the same number of dimensions, and same number of 'rows'.  We can do that by adding a dimension with the <code>None</code> idiom:</p>\n\n<pre><code>In [78]: np.array(alist)[:,None].shape\nOut[78]: (4, 1)\n</code></pre>\n\n<p>Now we can concatenate on the 2nd axis:</p>\n\n<pre><code>In [79]: np.concatenate((arr, np.array(alist)[:,None]),axis=1)\nOut[79]: \narray([[ 0,  1,  2, 10],\n       [ 3,  4,  5, 11],\n       [ 6,  7,  8, 12],\n       [ 9, 10, 11, 13]])\n</code></pre>\n\n<p><code>column_stack</code> does the same thing, taking care that each input is at least 2d (I'd suggest reading its code.)  In the long run you should be familiar enough with dimensions and shapes to do this with plain <code>concatenate</code>.</p>\n\n<pre><code>In [81]: np.column_stack((arr, alist))\nOut[81]: \narray([[ 0,  1,  2, 10],\n       [ 3,  4,  5, 11],\n       [ 6,  7,  8, 12],\n       [ 9, 10, 11, 13]])\n</code></pre>\n\n<p><code>np.c_</code> also does this - but note the use of [] instead of ().  It's a clever use of indexing notation, convenient, but potentially confusing.</p>\n\n<pre><code>np.c_[arr, alist]\nnp.r_['-1,2,0', arr, alist]  # for more clever obscurity \n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4142033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a946c2921f80754b74bead133362b69?s=128&d=identicon&r=PG", "display_name": "nobru", "link": "https://stackoverflow.com/users/4142033/nobru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2988, "favorite_count": 1, "accepted_answer_id": 52865520, "answer_count": 1, "score": 1, "last_activity_date": 1539825005, "creation_date": 1539817421, "last_edit_date": 1539817971, "question_id": 52864770, "link": "https://stackoverflow.com/questions/52864770/numpy-add-append-value-to-each-row-of-2-d-array", "title": "Numpy add (append) value to each row of 2-d array", "body": "<p>I have numpy array of floats with shape (x,14) and I would like to add to the end of each \"row\" one more value (to each row different value), so that end result has shape (x,15).</p>\n\n<p>We can suppose that I have those values in some list, so that part of the question is also defined.</p>\n\n<p>How to do it with numpy functions?</p>\n"}, {"tags": ["python", "python-3.x", "multidimensional-array"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 5, "creation_date": 1539818520, "post_id": 52864759, "comment_id": 92644013, "body": "Can you provide a <b><a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></b>?"}, {"owner": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "edited": false, "score": 0, "creation_date": 1539819008, "post_id": 52864759, "comment_id": 92644118, "body": "As you say &#39;specific numbers&#39; is it correct that you are searching for more than 1 number? Do you know what these numbers are beforehand?"}, {"owner": {"reputation": 65, "user_id": 10492054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lv6HBFvOD7A/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVNJpht54WKq7MMuCYulTIJ8p4ihA/mo/photo.jpg?sz=128", "display_name": "ssal", "link": "https://stackoverflow.com/users/10492054/ssal"}, "edited": false, "score": 0, "creation_date": 1539819808, "post_id": 52864759, "comment_id": 92644273, "body": "Yes, the only numbers in the arrays are from 0-5, so i have to replace 1 with -5, 2 with -3, 3 with 1, 4 with 3 and 5 with 5"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1539826863, "post_id": 52864759, "comment_id": 92645615, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3403973/fast-replacement-of-values-in-a-numpy-array\">Fast replacement of values in a numpy array</a>"}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "edited": false, "score": 0, "creation_date": 1539826887, "post_id": 52864759, "comment_id": 92645618, "body": "@jojo, Above is a <b>perfect</b> dup of this question. I suggest you post your answer there.."}, {"owner": {"reputation": 125, "user_id": 2644091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bff903818fd9829aa57f3251eec0e6cd?s=128&d=identicon&r=PG", "display_name": "dendragon", "link": "https://stackoverflow.com/users/2644091/dendragon"}, "edited": false, "score": 2, "creation_date": 1540307366, "post_id": 52864759, "comment_id": 92812535, "body": "This question doesn&#39;t seem unclear to me."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 10492054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lv6HBFvOD7A/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVNJpht54WKq7MMuCYulTIJ8p4ihA/mo/photo.jpg?sz=128", "display_name": "ssal", "link": "https://stackoverflow.com/users/10492054/ssal"}, "edited": false, "score": 0, "creation_date": 1539819907, "post_id": 52864919, "comment_id": 92644301, "body": "Thanks, i tried this form but it didn&#39;t work for some reason it just printed the exact same array                                                                                                                for i in range(len(new_set)):     for j in range(len(new_set[i])):         if new_set[i][j] == 1:             new_set[i][j] = -5 print(new_set)"}], "tags": [], "owner": {"reputation": 21, "user_id": 9576388, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iK87SBZOkOA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX7V9D03TftDzdbEgUthvuzqOSDJQ/mo/photo.jpg?sz=128", "display_name": "Dhruvit", "link": "https://stackoverflow.com/users/9576388/dhruvit"}, "is_accepted": false, "score": 0, "last_activity_date": 1539818735, "creation_date": 1539818735, "answer_id": 52864919, "question_id": 52864759, "link": "https://stackoverflow.com/questions/52864759/find-and-replace-specific-values-within-2d-array/52864919#52864919", "title": "Find and replace specific values within 2D array", "body": "<pre><code>for i in range(len(array)):\n    for j in range(len(array[i])):\n        if array[i][j] == value_you_are_looking_for:\n            array[i][j] = new_value\n</code></pre>\n\n<p>This should work</p>\n"}, {"tags": [], "owner": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1539821104, "last_edit_date": 1539821104, "creation_date": 1539819617, "answer_id": 52865029, "question_id": 52864759, "link": "https://stackoverflow.com/questions/52864759/find-and-replace-specific-values-within-2d-array/52865029#52865029", "title": "Find and replace specific values within 2D array", "body": "<p>For a single value, given you have an array called Arr, such that:</p>\n\n<pre><code>Arr = np.array([[1,2,3],\n                [1,2,3],\n                [1,2,3]])\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>mask = Arr == 2\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>mask = np.array([[False,True,False],\n                [False,True,False],\n                [False,True,False]])\n</code></pre>\n\n<p>finally, replacing 2 with 4:</p>\n\n<pre><code>newArr[mask] = 4\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>Arr = np.array([[1,4,3],\n                [1,4,3],\n                [1,4,3]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "edited": false, "score": 0, "creation_date": 1539820886, "post_id": 52865079, "comment_id": 92644480, "body": "Just curious, given the OP wants to replace multiple values, I guess the most pythonic approach would be to use np.where multiple times...? Rather than using a bunch of conditions and/or elifs?"}, {"owner": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "reply_to_user": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "edited": false, "score": 0, "creation_date": 1539823595, "post_id": 52865079, "comment_id": 92645006, "body": "@NathanThomas sorry for the hick-hack. I added it to the answer. :)"}, {"owner": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "edited": false, "score": 1, "creation_date": 1539826998, "post_id": 52865079, "comment_id": 92645634, "body": "I was just curious, but it turned out to be pretty elegant. It&#39;s good to see the full working example for future use!"}, {"owner": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "reply_to_user": {"reputation": 1332, "user_id": 2868191, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hoLPS.png?s=128&g=1", "display_name": "Nathan Thomas", "link": "https://stackoverflow.com/users/2868191/nathan-thomas"}, "edited": false, "score": 0, "creation_date": 1539827059, "post_id": 52865079, "comment_id": 92645643, "body": "@NathanThomas you are very welcome!"}], "tags": [], "owner": {"reputation": 7517, "user_id": 1622937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d52797cb00243775296ee11758f38b0?s=128&d=identicon&r=PG", "display_name": "jojo", "link": "https://stackoverflow.com/users/1622937/jojo"}, "is_accepted": false, "score": 2, "last_activity_date": 1539823224, "last_edit_date": 1592644375, "creation_date": 1539820019, "answer_id": 52865079, "question_id": 52864759, "link": "https://stackoverflow.com/questions/52864759/find-and-replace-specific-values-within-2d-array/52865079#52865079", "title": "Find and replace specific values within 2D array", "body": "<p>This can be <strong>done with list comprehension</strong> in a simple one-liner.</p>\n<p>Say you have a list of lists:</p>\n<pre><code>a = [[1, 2, 3], [1, 2, 3], [1, 2, 3]]\n</code></pre>\n<p>and you want to replace all occurrences of <code>2</code> with <code>4</code>:</p>\n<pre><code>[[_el if _el != 2 else 4 for _el in _ar] for _ar in a]\n</code></pre>\n<p>Another option is to use <strong>numpy's <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html\" rel=\"nofollow noreferrer\"><code>where</code></a> function</strong>. From the docstring:</p>\n<blockquote>\n<p>where(condition, [x, y])</p>\n<p>Return elements, either from <code>x</code> or <code>y</code>, depending on <code>condition</code>.</p>\n</blockquote>\n<p>So, in your case (say you'd like again to replace all <code>2</code> with <code>4</code>):</p>\n\n<pre><code>import numpy as np\n\na = np.array([[1, 2, 3],\n   [1, 2, 3],\n   [1, 2, 3]])\n\nnp.where(a==2, 4, a)\n</code></pre>\n<p>If you want to replace several values in one go, you could do something like this:\nSay you'd like to replace <code>1</code> with <code>3</code> and <code>3</code> with <code>5</code>:</p>\n\n<pre><code>ix=np.isin(array, [1,3])\nvc=np.vectorize(lambda x: 3 if x == 1 else 5)\nnp.where(ix, vc(array), array)\n</code></pre>\n<p>If you have more than 2 values to replace, say you want to map the list <code>[1,3,5]</code> to <code>[3, 5, -3]</code>, then you can define a simple function like:</p>\n\n<pre><code>old_vals = [1,3,5]\nnew_vals = [3, 5, -3]\ndef switch_val(x):\n    return new_vals[old_vals.index(x)] if x in old_vals else x\n</code></pre>\n<p>and so:</p>\n<pre><code>vc=np.vectorize(switch_val)\nvc(array)\n</code></pre>\n<p>where we <a href=\"https://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.vectorize.html\" rel=\"nofollow noreferrer\">vectorized</a> the function.</p>\n<p><em>Hope that helped and happy coding!</em></p>\n"}], "owner": {"reputation": 65, "user_id": 10492054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Lv6HBFvOD7A/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVNJpht54WKq7MMuCYulTIJ8p4ihA/mo/photo.jpg?sz=128", "display_name": "ssal", "link": "https://stackoverflow.com/users/10492054/ssal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1903, "favorite_count": 0, "closed_date": 1539833149, "answer_count": 3, "score": 0, "last_activity_date": 1540198502, "creation_date": 1539817337, "last_edit_date": 1540198502, "question_id": 52864759, "link": "https://stackoverflow.com/questions/52864759/find-and-replace-specific-values-within-2d-array", "closed_reason": "Needs details or clarity", "title": "Find and replace specific values within 2D array", "body": "<p>I have a large 2D array, <code>array</code>, with each entry being a large array of numbers\n:</p>\n\n<p></p>\n\n<pre><code>array = [\n            [1, 0, 3, ...],\n            [5, 4, 1, ...],\n            [1, 2, 3, ...],\n            ...\n        ]\n</code></pre>\n\n<p>All the numbers in the 2D array are from 0-5 and I have to somehow find and replace specific numbers, like, for example, all occurrences of the number <code>3</code> and replace it with <code>5</code>.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "recursion", "output"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1539817405, "post_id": 52864758, "comment_id": 92643771, "body": "Show output as properly formatted text in the question, not as image or by external link"}, {"owner": {"reputation": 46, "user_id": 6150081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e67675b1e422e4c1e0ba9c5b48469de?s=128&d=identicon&r=PG&f=1", "display_name": "Chrys Bltr", "link": "https://stackoverflow.com/users/6150081/chrys-bltr"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539817758, "post_id": 52864758, "comment_id": 92643850, "body": "Yeah sorry i though the picture would be shown clearly"}, {"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 0, "creation_date": 1539818365, "post_id": 52864758, "comment_id": 92643986, "body": "What exactly is the intended output?"}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 6150081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e67675b1e422e4c1e0ba9c5b48469de?s=128&d=identicon&r=PG&f=1", "display_name": "Chrys Bltr", "link": "https://stackoverflow.com/users/6150081/chrys-bltr"}, "edited": false, "score": 0, "creation_date": 1539818850, "post_id": 52864850, "comment_id": 92644078, "body": "Yeah perfect! I was so distract, yeah for the first value it&#39;s intended. I have no idea how to do the same thing in a incremental way.  My first version used <code>list(itertools.product(*listg))</code> but it doesn&#39;t giving  me all combination, the probleme come from the fact that I need to erase one value at each stage."}, {"owner": {"reputation": 46, "user_id": 6150081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e67675b1e422e4c1e0ba9c5b48469de?s=128&d=identicon&r=PG&f=1", "display_name": "Chrys Bltr", "link": "https://stackoverflow.com/users/6150081/chrys-bltr"}, "edited": false, "score": 0, "creation_date": 1539819330, "post_id": 52864850, "comment_id": 92644173, "body": "This  one work perfectly, but i&#39;m curious to know how deal with it  with incremental . What do you mean by <i>I&#39;ll leave the initialisation problem to you</i> ?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 46, "user_id": 6150081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e67675b1e422e4c1e0ba9c5b48469de?s=128&d=identicon&r=PG&f=1", "display_name": "Chrys Bltr", "link": "https://stackoverflow.com/users/6150081/chrys-bltr"}, "edited": false, "score": 0, "creation_date": 1539819450, "post_id": 52864850, "comment_id": 92644199, "body": "@ChrysBltr Problem #1 isn&#39;t fixed: every combination starts with the first element, so you&#39;re getting less than half..  To fix this, you need to start with an empty list of elements.  I&#39;m leaving that &quot;back up a step&quot; repair to you."}, {"owner": {"reputation": 46, "user_id": 6150081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e67675b1e422e4c1e0ba9c5b48469de?s=128&d=identicon&r=PG&f=1", "display_name": "Chrys Bltr", "link": "https://stackoverflow.com/users/6150081/chrys-bltr"}, "edited": false, "score": 0, "creation_date": 1539819743, "post_id": 52864850, "comment_id": 92644259, "body": "It&#39;s not problem, maybe I should have explain it better, but , in fact I&#39;m using this function for building a machine learning model, so I need to try every combination of feature. The first feature have to be always in the combination. Actually the first feature is the departure time  and the model predict delay. As you might guess, it will be difficult to predict delay if i don&#39;t know when I&#39;m leaving. This is why I added the <code>first =0</code> as parameter."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 46, "user_id": 6150081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e67675b1e422e4c1e0ba9c5b48469de?s=128&d=identicon&r=PG&f=1", "display_name": "Chrys Bltr", "link": "https://stackoverflow.com/users/6150081/chrys-bltr"}, "edited": false, "score": 0, "creation_date": 1539819900, "post_id": 52864850, "comment_id": 92644300, "body": "Ah -- in that case, problem #1 isn&#39;t a problem."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1539818212, "creation_date": 1539818212, "answer_id": 52864850, "question_id": 52864758, "link": "https://stackoverflow.com/questions/52864758/output-of-recursive-python-function/52864850#52864850", "title": "Output of recursive python function", "body": "<p>You have several problems in your logic.  I strongly recommend that you use incremental programming to sort out your difficulties.</p>\n\n<ol>\n<li>You assume the first element as a required member of every combination.</li>\n<li>You append only the last value of <code>li</code> from your <code>for</code> loop; <code>lifeat</code> should get them all.</li>\n</ol>\n\n<p>For the second problem, change your return statement to two lines:</p>\n\n<pre><code>    lifeat += li\nreturn lifeat\n</code></pre>\n\n<p>This improves your result to</p>\n\n<pre><code>[['a', 'b'], ['a', 'b', 'c'], ['a', 'b', 'c', 'd'], ['a', 'b', 'c', 'd', 'e'],\n ['a', 'b', 'c', 'e'], ['a', 'b', 'd'], ['a', 'b', 'd', 'e'], ['a', 'b', 'e'],\n ['a', 'c'], ['a', 'c', 'd'], ['a', 'c', 'd', 'e'], ['a', 'c', 'e'], ['a', 'd'],\n ['a', 'd', 'e'], ['a', 'e']]\n</code></pre>\n\n<p>I'll leave the initialisation problem to you.</p>\n"}], "owner": {"reputation": 46, "user_id": 6150081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e67675b1e422e4c1e0ba9c5b48469de?s=128&d=identicon&r=PG&f=1", "display_name": "Chrys Bltr", "link": "https://stackoverflow.com/users/6150081/chrys-bltr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 52864850, "answer_count": 1, "score": -1, "last_activity_date": 1539818212, "creation_date": 1539817320, "last_edit_date": 1539817850, "question_id": 52864758, "link": "https://stackoverflow.com/questions/52864758/output-of-recursive-python-function", "title": "Output of recursive python function", "body": "<p>I have a problem with a function which should return all possible combinations in a list, without repeating the sample.</p>\n\n<p>The function works perfectly but I'm unable to get a list of all the combinations: </p>\n\n<pre><code>abc = ['a','b','c','d','e']\n\ndef combi(pre, listg, stage=1,first = 1):\n    if len(listg)==0:\n        return []\n    start = first\n    lifeat =[]\n    for i in range(start,len(listg)):\n        lifeat.append(pre + [listg[i]])\n        print('stage: ',stage,'|| ',i,' ',pre + [listg[i]])\n        diff = set(listg[i:]) - set(pre+[listg[i]])\n        seted= [item for item in listg[i:] if item in diff]\n        li = combi(pre+ [listg[i]],seted,stage+1, first= 0)\n        #print('li : ',li)\n    return lifeat+li\n\n\ndef all_combi(liste):\n    return combi([liste[0]], liste)\nall_combi(abc)\n</code></pre>\n\n<p>the printed result :<a href=\"https://i.stack.imgur.com/IWDFu.png\" rel=\"nofollow noreferrer\"><code>print('stage: ',stage,'|| ',i,' ',pre + [listg[i]])</code></a></p>\n\n<pre><code>stage:  1 ||  1   ['a', 'b']\nstage:  2 ||  0   ['a', 'b', 'c']\nstage:  3 ||  0   ['a', 'b', 'c', 'd']\nstage:  4 ||  0   ['a', 'b', 'c', 'd', 'e']\nstage:  3 ||  1   ['a', 'b', 'c', 'e']\nstage:  2 ||  1   ['a', 'b', 'd']\nstage:  3 ||  0   ['a', 'b', 'd', 'e']\nstage:  2 ||  2   ['a', 'b', 'e']\nstage:  1 ||  2   ['a', 'c']\nstage:  2 ||  0   ['a', 'c', 'd']\nstage:  3 ||  0   ['a', 'c', 'd', 'e']\nstage:  2 ||  1   ['a', 'c', 'e']\nstage:  1 ||  3   ['a', 'd']\nstage:  2 ||  0   ['a', 'd', 'e']\nstage:  1 ||  4   ['a', 'e']\n</code></pre>\n\n<p>This is the output I got : <a href=\"https://i.stack.imgur.com/rIY5u.png\" rel=\"nofollow noreferrer\">output</a></p>\n\n<pre><code>[['a', 'b'], ['a', 'c'], ['a', 'd'], ['a', 'e']]\n</code></pre>\n\n<p>thank you in advance for any help.</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1539818739, "post_id": 52864750, "comment_id": 92644055, "body": "You explicitely set the linestyle and marker of those lines to <code>&quot;None&quot;, &quot;None&quot;</code>. So the line will be there, but with neither linestyle nor marker, it cannot be drawn."}, {"owner": {"reputation": 403, "user_id": 5692730, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f71ce4263a413f6a57dea5bf6f11996?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano", "link": "https://stackoverflow.com/users/5692730/luciano"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1539818854, "post_id": 52864750, "comment_id": 92644080, "body": "Ah, yikes. Thank you @ImportanceOfBeingErnest"}], "owner": {"reputation": 403, "user_id": 5692730, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3f71ce4263a413f6a57dea5bf6f11996?s=128&d=identicon&r=PG&f=1", "display_name": "Luciano", "link": "https://stackoverflow.com/users/5692730/luciano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539817273, "creation_date": 1539817273, "question_id": 52864750, "link": "https://stackoverflow.com/questions/52864750/several-data-sets-not-being-plotted-in-matplotlib-figure", "title": "Several data sets not being plotted in matplotlib figure", "body": "<p>I want to graph some data that I have in <code>example.csv</code>:</p>\n\n<pre><code>SET,A,B,C,D,E,F,G,H\n1,0.994462,1.00884,1.01166,1.03135,1.01513,1.0271,1.00742,1\n2,1.97788,2.03412,2.00551,2.01214,1.96398,2.01321,2.00843,2\n3,2.9503,3.03417,2.99962,3.02731,2.971,3.04173,2.97542,3\n4,3.91176,4.05089,3.96083,4.03704,3.93824,4.11579,3.98413,4\n5,4.86232,5.09019,4.96873,5.05585,4.93624,5.10578,4.99104,5\n6,5.80201,6.16363,5.95535,6.1111,5.90442,6.11832,5.98018,6\n7,6.73089,7.24463,6.90988,7.11387,6.85134,7.2216,6.99409,7\n8,7.64898,8.29101,7.91987,8.19758,7.81935,8.35034,7.86887,8\n9,8.55633,9.35712,8.8722,9.30687,8.74356,9.4471,8.92129,9\n10,9.45299,10.45821,9.87314,10.35726,9.67969,10.46708,9.91542,10\n15,13.7772,16.07988,14.69756,15.6466,14.44578,16.12539,14.80063,15\n20,17.8397,21.93155,19.42845,21.28007,18.90318,22.15121,19.56829,20\n25,21.6446,28.51192,23.97042,26.98871,23.12925,28.84552,24.33234,25\n30,25.1951,34.80059,28.57095,33.30161,27.1875,35.9472,29.19356,30\n35,28.4936,42.68168,32.59935,40.09501,31.54878,43.76342,33.6869,35\n40,31.5409,,,,,,,\n45,34.3362,,,,,,,\n</code></pre>\n\n<p>I have written the code below that produces almost exactly the graph I want; however, the lines \"G\" and \"H\" are not shown on the figure. I intentionally do not want H in the figure's legend; could this be a factor in the mistake I'm making? I am not sure what I am doing wrong and would appreciate some help.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport pandas as pd\nfrom matplotlib.ticker import AutoMinorLocator\nfrom mpl_toolkits.axes_grid1.inset_locator import inset_axes\n\ndata = pd.read_csv('example.csv', sep=',')\n\n\nclass Test:\n    def __init__(self, x, y, marker, linestyle, color):\n        self.abcissa = x\n        self.ordinate = y\n        self.marker = marker\n        self.linestyle = linestyle\n        self.color = color\n\n\nl_set_p = data[\"SET\"].tolist()\nl_A = data[\"A\"].tolist()\nl_B = data[\"B\"].tolist()\nl_C = data[\"C\"].tolist()\nl_D = data[\"D\"].tolist()\nl_E = data[\"E\"].tolist()\nl_F = data[\"F\"].tolist()\nl_G = data[\"G\"].tolist()\nl_H = data[\"H\"].tolist()\n\nA = Test(l_set_p, l_A, \"^\", \"--\", \"#CC2936\")\nB = Test(l_set_p, l_B, \"o\", \"-\", \"#CC2936\")\nC = Test(l_set_p, l_C, \"^\", \"--\", \"#08415C\")\nD = Test(l_set_p, l_D, \"o\", \"-\", \"#08415C\")\nE = Test(l_set_p, l_E, \"^\", \"--\", \"#e3b505\")\nF = Test(l_set_p, l_F, \"o\", \"-\", \"#e3b505\")\nG = Test(l_G, l_set_p, \"None\", \"None\", \"#008148\")\nH = Test(l_set_p, l_H, \"None\", \"None\", \"grey\")\n\ntests = [A, B, C, D, E, F, G, H]\n\nax = plt.axes()\nfor test in tests:\n    ax.plot(\n        test.abcissa,\n        test.ordinate,\n        marker=test.marker,\n        linestyle=test.linestyle,\n        color=test.color)\n\nplt.legend([\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\"],\n           bbox_to_anchor=(0.5, -.25),\n           ncol=3,\n           loc=10)\n\naxins0 = inset_axes(ax, width=\"30%\", height=\"30%\", loc=2)\n\nfor test in tests:\n    axins0.plot(\n        test.abcissa[:8],\n        test.ordinate[:8],\n        marker=test.marker,\n        linestyle=test.linestyle,\n        color=test.color)\n\naxins0.tick_params(labelleft=False, left=False, direction='out')\n\naxins1 = inset_axes(ax, width=\"30%\", height=\"30%\", loc=4)\n\nfor test in tests:\n    axins1.plot(\n        test.abcissa[13:],\n        test.ordinate[13:],\n        marker=test.marker,\n        linestyle=test.linestyle,\n        color=test.color)\n\naxins1.xaxis.set_ticks_position(\"top\")\naxins1.tick_params(labelleft=False, left=False, direction='out')\n\nplt.savefig('example.png', bbox_inches='tight', dpi=600)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xhmuT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhmuT.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "recursion", "tuples"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539817905, "post_id": 52864743, "comment_id": 92643897, "body": "Create a <code>result</code> list in <code>minimax</code> and hand them down through the recursions as additional parameter of <code>minimax_rec</code>. Append each matching tuple to the list. If the recursions end, the list is ready for further use."}], "answers": [{"comments": [{"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 1, "creation_date": 1539831406, "post_id": 52866250, "comment_id": 92646489, "body": "Your <code>result_list</code> is local to <code>minimax</code> and hence unavailable in <code>minimax_rec</code>."}, {"owner": {"reputation": 663, "user_id": 10336496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a19dEf8QyBE/AAAAAAAAAAI/AAAAAAAAAK8/sCTj7CpC9cU/photo.jpg?sz=128", "display_name": "BAKE ZQ", "link": "https://stackoverflow.com/users/10336496/bake-zq"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1539831521, "post_id": 52866250, "comment_id": 92646519, "body": "when func minimax_rec can&#39;t find this variable,it can search in the space of outer minimax"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 1, "creation_date": 1539831638, "post_id": 52866250, "comment_id": 92646546, "body": "Only if it\u2019s nested inside the other function\u2026"}, {"owner": {"reputation": 663, "user_id": 10336496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a19dEf8QyBE/AAAAAAAAAAI/AAAAAAAAAK8/sCTj7CpC9cU/photo.jpg?sz=128", "display_name": "BAKE ZQ", "link": "https://stackoverflow.com/users/10336496/bake-zq"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1591156119, "post_id": 52866250, "comment_id": 109945079, "body": "@DavisHerring  I have fixed this anwser, now is it right?"}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1591212051, "post_id": 52866250, "comment_id": 109973724, "body": "I can\u2019t really tell: the ternary tree, apparent uniform depth, and coded-but-absent 4-tuple results are too strange for me to evaluate completely."}], "tags": [], "owner": {"reputation": 663, "user_id": 10336496, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-a19dEf8QyBE/AAAAAAAAAAI/AAAAAAAAAK8/sCTj7CpC9cU/photo.jpg?sz=128", "display_name": "BAKE ZQ", "link": "https://stackoverflow.com/users/10336496/bake-zq"}, "is_accepted": false, "score": -1, "last_activity_date": 1591156067, "last_edit_date": 1591156067, "creation_date": 1539830939, "answer_id": 52866250, "question_id": 52864743, "link": "https://stackoverflow.com/questions/52864743/how-to-work-with-recursion-output-in-python3/52866250#52866250", "title": "How to work with recursion output in Python3", "body": "<p>As I don't know what your tree or curr looks like,the code may looks a little stupid</p>\n\n<pre><code>def minimax(tree):\n    def minimax_rec(curr):\n        if curr.is_terminal():\n            return curr.val\n        else:\n            if curr.val == -1:\n                result = minimax_rec(curr.left),minimax_rec(curr.mid),minimax_rec(curr.right)\n                if isinstance(result[0], int):\n                    result_list.append(result)\n                return result\n            else:\n                return curr.val,minimax_rec(curr.left),minimax_rec(curr.mid),minimax_rec(curr.right)\n    result_list = []\n    l = minimax_rec(tree.root)\n    print(result_list)\n    print(len(l))\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 5991230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1008629592543534/picture?type=large", "display_name": "Roman Proch&#225;zka Jr.", "link": "https://stackoverflow.com/users/5991230/roman-proch%c3%a1zka-jr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1591156067, "creation_date": 1539817224, "question_id": 52864743, "link": "https://stackoverflow.com/questions/52864743/how-to-work-with-recursion-output-in-python3", "title": "How to work with recursion output in Python3", "body": "<p>I am using recursion to run through a binary tree to get all the nodes at the end. That's working fine, the problem is, depending on the height of my tree I get tuples inside of tuples inside of tuples. How do i work with such output? </p>\n\n<pre><code>def minimax(tree):\n    l = minimax_rec(tree.root)\n\n\n    print(len(l))\n\ndef minimax_rec(curr):\n    if curr.is_terminal():\n        return curr.val\n    else:\n        if curr.val == -1:\n            return minimax_rec(curr.left),minimax_rec(curr.mid),minimax_rec(curr.right)\n        else:\n            return curr.val, minimax_rec(curr.left),minimax_rec(curr.mid),minimax_rec(curr.right)\n</code></pre>\n\n<p>If the height of the tree is 3 I get something like this:</p>\n\n<pre><code>(((9, 37, 5), (17, 8, 32), (29, 31, 25)), ((14, 7, 32), (2, 25, 28), (39, 1, 29)), ((18, 15, 38), (7, 21, 2), (2, 2, 35)))\n</code></pre>\n\n<p>As the height of the tree increases so does the output and there's massive number of nested tuples. Is there a way to only get the tuples which contain values like this?</p>\n\n<pre><code>((9, 37, 5), (17, 8, 32), (29, 31, 25), (14, 7, 32), (2, 25, 28), (39, 1, 29), (18, 15, 38), (7, 21, 2), (2, 2, 35)) \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 1, "creation_date": 1539817295, "post_id": 52864727, "comment_id": 92643744, "body": "Match groups (except group 0) are defined by parentheses in the regular expression"}, {"owner": {"reputation": 33, "user_id": 10492943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68ae161cae8bbfb53a2145316d44ae7?s=128&d=identicon&r=PG&f=1", "display_name": "lewplagoop", "link": "https://stackoverflow.com/users/10492943/lewplagoop"}, "reply_to_user": {"reputation": 7647, "user_id": 987358, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ace6dfd8c4f8c95d5a3fddc020af97f8?s=128&d=identicon&r=PG", "display_name": "Michael Butscher", "link": "https://stackoverflow.com/users/987358/michael-butscher"}, "edited": false, "score": 0, "creation_date": 1539818346, "post_id": 52864727, "comment_id": 92643984, "body": "of course, thanks this has done the trick I changed the line to match = re.search(r&quot;Completion:(\\S+)&quot;, result) Thanks"}], "owner": {"reputation": 33, "user_id": 10492943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d68ae161cae8bbfb53a2145316d44ae7?s=128&d=identicon&r=PG&f=1", "display_name": "lewplagoop", "link": "https://stackoverflow.com/users/10492943/lewplagoop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539817120, "creation_date": 1539817120, "question_id": 52864727, "link": "https://stackoverflow.com/questions/52864727/python-question-regarding-re-search-and-indexing", "title": "python question regarding re.search and indexing", "body": "<p>Im new to python and coding and im trying to understand how re.search and indexing works.</p>\n\n<p>below is what I have so far and I want physical_state to equal what comes after the Completion: (in this case it is success) but I dont really understand how the match.group(1) and re.search works.</p>\n\n<pre><code>import ops         # Import the OPS module.\nimport sys         # Import the sys module.\nimport re\n\n# Subscription processing function\ndef ops_condition (o): \n    status, err_str = o.timer.relative(\"tag\",10)\n    return status\n\ndef ops_execute (o):\n    handle, err_desp = o.cli.open()\n    print(\"OPS opens the process of command:\",err_desp)\n    result, n11, n21 = o.cli.execute(handle,\"return\")\n    result, n11, n21 = o.cli.execute(handle,\"dis nqa results test-instance sla 1 | i Completion:\")  \n    match = re.search(r\"Completion:\", result)\n\n    if not match:\n        print(\"Could not determine the state.\")\n            return 0  # Look into what the return values mean.\n\n    physical_state = match.group(1)  # Gets the first group from the match.\n    print (physical_state)\n    result = o.cli.close(handle)\n    return 0\n</code></pre>\n\n<p>output of <code>result, n11, n21 = o.cli.execute(handle,\"dis nqa results test-instance sla 1 | i Completion:\")</code></p>\n\n<pre><code>   Completion:success                   RTD OverThresholds number: 0\n   Completion:success                   RTD OverThresholds number: 0\n   Completion:success                   RTD OverThresholds number: 0\n   Completion:success                   RTD OverThresholds number: 0\n   Completion:success                   RTD OverThresholds number: 0\n</code></pre>\n\n<p>error when run </p>\n\n<pre><code>&lt;setup&gt;('OPS opens the process of command:', 'success')\n\n    Oct 18 2018 06:12:57+00:00 setup %%01OPSA/3/OPS_RESULT_EXCEPTION(l)[410]:Script is test3.py, current event is tag, instance is 1381216156, exception reason is Traceback (most recent call last):\n      File \".lib/frame.py\", line 114, in &lt;module&gt;\n        ret = m.ops_execute(o)\n      File \"flash:$_user/test3.py\", line 21, in ops_execute\n        physical_state = match.group(1)  # Gets the first group from the match.\n    IndexError: no such group\n</code></pre>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1539817074, "creation_date": 1539817074, "answer_id": 52864722, "question_id": 52864689, "link": "https://stackoverflow.com/questions/52864689/what-is-the-complexity-of-index-for-lists-of-listse-g-listxy/52864722#52864722", "title": "What is the complexity of index for lists of lists(e.g. list[x][y])", "body": "<p>Indexing is an <strong>O(1)</strong> operation (constant time).  Thus, two successive indexing operations is still <strong>O(1)</strong>.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 10521133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uRbidyUmoKc/AAAAAAAAAAI/AAAAAAAAAEE/UQDjVZ7Qo8A/photo.jpg?sz=128", "display_name": "Coraline", "link": "https://stackoverflow.com/users/10521133/coraline"}, "edited": false, "score": 0, "creation_date": 1539820812, "post_id": 52864724, "comment_id": 92644465, "body": "Thanks! So if I input a list containing n lists (each containing n elements), then how many times do I index the list (in terms of n)? Is it 2n?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 21, "user_id": 10521133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uRbidyUmoKc/AAAAAAAAAAI/AAAAAAAAAEE/UQDjVZ7Qo8A/photo.jpg?sz=128", "display_name": "Coraline", "link": "https://stackoverflow.com/users/10521133/coraline"}, "edited": false, "score": 0, "creation_date": 1539822193, "post_id": 52864724, "comment_id": 92644720, "body": "This is independent of n (i.e., it will not be any slower when the lists are larger).  It is just 2 &quot;get item&quot; operations."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 3, "last_activity_date": 1539817092, "creation_date": 1539817092, "answer_id": 52864724, "question_id": 52864689, "link": "https://stackoverflow.com/questions/52864689/what-is-the-complexity-of-index-for-lists-of-listse-g-listxy/52864724#52864724", "title": "What is the complexity of index for lists of lists(e.g. list[x][y])", "body": "<p>Time complexity of Python data structures are documented here:</p>\n\n<p><a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow noreferrer\">https://wiki.python.org/moin/TimeComplexity</a></p>\n\n<p>The one you're asking about is \"Get Item\" for <code>list</code>, and it's <em>O(1)</em>. Even though you index a list and a nested list, that's still <em>O(1)</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 1, "last_activity_date": 1539817302, "creation_date": 1539817302, "answer_id": 52864756, "question_id": 52864689, "link": "https://stackoverflow.com/questions/52864689/what-is-the-complexity-of-index-for-lists-of-listse-g-listxy/52864756#52864756", "title": "What is the complexity of index for lists of lists(e.g. list[x][y])", "body": "<p><a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"nofollow noreferrer\">This page</a> shows that \"get item\" is <code>O(1)</code>. To analyze an expression like <code>l[x][y]</code> it might be helpful to break it into its components:</p>\n\n<pre><code>temp = l[x]\ntemp[y]\n</code></pre>\n\n<p>When analyzing sequential operations, we add the time complexity. So this is <code>O(1) + O(1)</code>. But this simplifies to just <code>O(1)</code>.</p>\n"}], "owner": {"reputation": 21, "user_id": 10521133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uRbidyUmoKc/AAAAAAAAAAI/AAAAAAAAAEE/UQDjVZ7Qo8A/photo.jpg?sz=128", "display_name": "Coraline", "link": "https://stackoverflow.com/users/10521133/coraline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1539821889, "creation_date": 1539816876, "last_edit_date": 1539821889, "question_id": 52864689, "link": "https://stackoverflow.com/questions/52864689/what-is-the-complexity-of-index-for-lists-of-listse-g-listxy", "title": "What is the complexity of index for lists of lists(e.g. list[x][y])", "body": "<p>In python</p>\n\n<pre><code>lst = [[1,2,3...],[4,5,6...]]\n</code></pre>\n\n<p>Assume I have a list whose length is<code>n</code> and each nested list has the same length.\nSo I want to use <code>lst[x][y]</code> to find some element.\nwhat is the complexity of it?\nI tried to google it but not find answers.</p>\n\n<p>Edited:Thanks guys! So if I input a list containing n lists (each containing n elements), then how many times do I index the list (in terms of n)? Is it 2n?</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"tags": [], "owner": {"reputation": 1526, "user_id": 10484131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw40h.png?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/10484131/felix"}, "is_accepted": true, "score": 0, "last_activity_date": 1539891113, "creation_date": 1539891113, "answer_id": 52881244, "question_id": 52864686, "link": "https://stackoverflow.com/questions/52864686/tensorflow-scan-multiple-matrix-rows-with-offset/52881244#52881244", "title": "Tensorflow scan multiple matrix rows with offset", "body": "<p>The following code I wrote does exactly what I wanted.</p>\n\n<p>The important part here is the <code>return</code> of the function used by <code>tf.scan</code>, which not only gives back the current computation <code>c</code>, but also the row from the previous step <code>b</code>. It is therefore important to later cut off this excess from <code>computation</code> by only selecting the later tensor in this list with <code>[1]</code>.</p>\n\n<pre><code>#!/usr/bin/env python3\nimport tensorflow as tf\n\ndef compute(x, _):\n    a = x[0]\n    b = x[1]\n    c = (a + b + 1) * 2\n    return (b, c)\n\nmatrix_shape = tf.constant([3, 3])\ninit_data = [[1, 0, 0], [1, 1, 0]]\ninitializer = (\n    tf.constant(init_data[0]),\n    tf.constant(init_data[1]),\n)\nmatrix = tf.zeros(matrix_shape, dtype=tf.int32)\ncomputation = tf.scan(compute, matrix, initializer)[1]\nresult = tf.concat((tf.constant(init_data), computation), axis=0)\n\nwith tf.Session() as sess:\n    sess.run(result)\n    print(result.eval())\n</code></pre>\n\n<p>Since I'm yet lacking experience: May this solution be bad for performance, because the function is returning a tuple and therefore not using Tensorflow's speed optimizations?</p>\n"}], "owner": {"reputation": 1526, "user_id": 10484131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zw40h.png?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/10484131/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 52881244, "answer_count": 1, "score": 0, "last_activity_date": 1539891113, "creation_date": 1539816853, "last_edit_date": 1539889413, "question_id": 52864686, "link": "https://stackoverflow.com/questions/52864686/tensorflow-scan-multiple-matrix-rows-with-offset", "title": "Tensorflow scan multiple matrix rows with offset", "body": "<h3>Question</h3>\n\n<p>I want to scan a matrix analogous to Tensorflow's <code>tf.scan()</code>, but using multiple rows at a time. So given a <code>[n, m]</code> matrix, I want to be able to iterate the <code>m</code> rows (with <code>n</code> elements) from <code>i + j</code> to <code>m</code> giving <code>m - j</code> slices of shape <code>[i - j, n]</code>.</p>\n\n<p>How can this be achieved?</p>\n\n<p>I know how <code>tf.scan</code> does something like this, returning the accumulated value of each iteration. But I don't think shifting the matrix as multiple inputs solves this, since the values that have an offset cannot be precomputed.</p>\n\n<h3>Example</h3>\n\n<p>To give an example for <code>n = 3</code> and <code>m = 5</code>, let's say I have a matrix that looks like the following:</p>\n\n<pre><code># [[1 0 0]\n#  [1 1 0]\n#  [0 0 0]   row 3\n#  [0 0 0]   row 4\n#  [0 0 0]]  row 5\n\nmatrix_shape = [5, 3]\nmatrix_idx = tf.constant([[0, 0], [1, 0], [1, 1]])\nmatrix = tf.scatter_nd(matrix_idx,\n                       tf.ones(tf.shape(matrix_idx)[0],\n                               dtype=tf.int32),\n                       matrix_shape)\n</code></pre>\n\n<p>I want to apply the following function from row 3 to row 5:</p>\n\n<pre><code># [[ 1  0  0]    \u250c a\n#  [ 1  1  0]    \u251c b\n#  [ 6  4  2]  &lt;\u2500\u2534 output / current line\n#  [16 12  6]\n#  [46 34 18]]\n\ndef compute(x):\n    a = x[0]\n    b = x[1]\n    return (a + b + 1) * 2\n</code></pre>\n\n<p>Does Tensorflow have a function specific to this problem?</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 5072351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/295ee8c5decea5c23ae66e54e6f21e30?s=128&d=identicon&r=PG&f=1", "display_name": "Sajjadmanal", "link": "https://stackoverflow.com/users/5072351/sajjadmanal"}, "is_accepted": false, "score": 2, "last_activity_date": 1542185339, "last_edit_date": 1542185339, "creation_date": 1542185011, "answer_id": 53296077, "question_id": 52864641, "link": "https://stackoverflow.com/questions/52864641/attributeerror-module-pywrap-tensorflow-internal-has-no-attribute-tfe-devic/53296077#53296077", "title": "AttributeError: module &#39;_pywrap_tensorflow_internal&#39; has no attribute &#39;TFE_DEVICE_PLACEMENT_EXPLICIT_swigconstant&#39;", "body": "<p>I encountered the same issue and this has been answered <a href=\"https://stackoverflow.com/q/49218685/5072351\">here</a>. Follow the steps to resolve this issue. You can also refer <a href=\"https://github.com/tensorflow/models/issues/5747\" rel=\"nofollow noreferrer\">here</a> to see the solution.</p>\n"}], "owner": {"reputation": 41, "user_id": 10521067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/008201d41edaf53652d4118e4727ba96?s=128&d=identicon&r=PG&f=1", "display_name": "Andy B", "link": "https://stackoverflow.com/users/10521067/andy-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2559, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1542185339, "creation_date": 1539816476, "last_edit_date": 1539830057, "question_id": 52864641, "link": "https://stackoverflow.com/questions/52864641/attributeerror-module-pywrap-tensorflow-internal-has-no-attribute-tfe-devic", "title": "AttributeError: module &#39;_pywrap_tensorflow_internal&#39; has no attribute &#39;TFE_DEVICE_PLACEMENT_EXPLICIT_swigconstant&#39;", "body": "<p>I'm using Python 3.5 64 bit, Cuda 9.2, TensorFlow 1.11, Keras 2.2.4</p>\n\n<p>I'm getting this error:</p>\n\n<blockquote>\n  <p>AttributeError: module '_pywrap_tensorflow_internal' has no attribute 'TFE_DEVICE_PLACEMENT_EXPLICIT_swigconstant'</p>\n</blockquote>\n\n<p>Uninstalling and reinstalling TensorFlow stopped the message for <code>import tensorflow</code>, but the problem persists for <code>import keras</code>.</p>\n\n<p>I have seen that <code>dumpbin.exe</code> has been useful for some people, but I've been unable to get it to work.</p>\n\n<p>The problems started this morning while trying to get Tensor Board to work. I was updating python modules with pip and I'm not sure what set it off.</p>\n"}, {"tags": ["python", "for-loop", "openpyxl"], "comments": [{"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 1, "creation_date": 1539852008, "post_id": 52864635, "comment_id": 92653847, "body": "<code>for c in reversed(sheet[&#39;9&#39;]): if c.value == &quot;Employee Name&quot;: sheet.delete_rows(c.row)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 451, "user_id": 1452574, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a56c691860bf5b78aed6625517f33cff?s=128&d=identicon&r=PG", "display_name": "user1452574", "link": "https://stackoverflow.com/users/1452574/user1452574"}, "edited": false, "score": 1, "creation_date": 1539817363, "post_id": 52864709, "comment_id": 92643765, "body": "Awesome!  Doesn&#39;t need the -1 after sheet.max_row, but otherwise works perfectly.  Thanks!!"}, {"owner": {"reputation": 118, "user_id": 5496345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPN4s.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5496345/mark"}, "reply_to_user": {"reputation": 451, "user_id": 1452574, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a56c691860bf5b78aed6625517f33cff?s=128&d=identicon&r=PG", "display_name": "user1452574", "link": "https://stackoverflow.com/users/1452574/user1452574"}, "edited": false, "score": 1, "creation_date": 1539817695, "post_id": 52864709, "comment_id": 92643833, "body": "Interesting. @user1452574 you were excluding the row sheet.max_row in your question. Using my answer without the -1 on sheet.max_row includes that number in the range, which afaik is out of bounds for the sheet."}, {"owner": {"reputation": 451, "user_id": 1452574, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a56c691860bf5b78aed6625517f33cff?s=128&d=identicon&r=PG", "display_name": "user1452574", "link": "https://stackoverflow.com/users/1452574/user1452574"}, "edited": false, "score": 1, "creation_date": 1539817785, "post_id": 52864709, "comment_id": 92643856, "body": "Yeah that&#39;s just me being an idiot, lol.  I should&#39;ve had sheet.max_row+1 to include that row in the for loop"}, {"owner": {"reputation": 451, "user_id": 1452574, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a56c691860bf5b78aed6625517f33cff?s=128&d=identicon&r=PG", "display_name": "user1452574", "link": "https://stackoverflow.com/users/1452574/user1452574"}, "edited": false, "score": 0, "creation_date": 1539817964, "post_id": 52864709, "comment_id": 92643902, "body": "So I just ran it and took about 2 minutes to delete about 2000 rows.  A bit slower than I&#39;d like, but works nonetheless!"}], "tags": [], "owner": {"reputation": 118, "user_id": 5496345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPN4s.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5496345/mark"}, "is_accepted": true, "score": 2, "last_activity_date": 1539818004, "last_edit_date": 1539818004, "creation_date": 1539816992, "answer_id": 52864709, "question_id": 52864635, "link": "https://stackoverflow.com/questions/52864635/best-way-to-iterate-through-excel-rows-and-delete-based-on-met-criteria/52864709#52864709", "title": "Best way to iterate through Excel rows and delete based on met criteria", "body": "<p>Start from the bottom and work your way up!</p>\n\n<pre><code>for rowNum in range(sheet.max_row, 1, -1):\n    if sheet.cell...\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 1452574, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a56c691860bf5b78aed6625517f33cff?s=128&d=identicon&r=PG", "display_name": "user1452574", "link": "https://stackoverflow.com/users/1452574/user1452574"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 1, "accepted_answer_id": 52864709, "answer_count": 1, "score": 1, "last_activity_date": 1539818004, "creation_date": 1539816441, "question_id": 52864635, "link": "https://stackoverflow.com/questions/52864635/best-way-to-iterate-through-excel-rows-and-delete-based-on-met-criteria", "title": "Best way to iterate through Excel rows and delete based on met criteria", "body": "<p>So I have a very simple for loop that deletes rows if a value in column 9 is equal to the employee name:</p>\n\n<pre><code>import openpyxl, os\n\nwb = openpyxl.load_workbook('Opportunities.xlsx', data_only=True)\nsheet = wb['OpportunityList']\n\nfor rowNum in range(2, sheet.max_row):\n    if sheet.cell(row = rowNum, column = 9).value == 'Employee Name':\n        print('Deleting row ' + str(rowNum))\n        sheet.delete_rows(rowNum)\n\nwb.save('1.xlsx')\n</code></pre>\n\n<p>The problem I'm having is that let's say row 20 meets the criteria and is deleted, well row 21 now becomes row 20.  So the for loop will progress with rowNum 21 and if the row that used to be 21 and is now 20 also meets the criteria, well that row won't be deleted because the for loop already scanned row 20 and can't go back.</p>\n\n<p>How do I solve this problem?  Could putting the rows in a list and then deleting them possibly work? Or would that cause the same problem?  Thanks in advance</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1539816422, "post_id": 52864601, "comment_id": 92643496, "body": "Use <code>re.findall(r&#39;fmtp:\\d{2,3}\\s*(.*)&#39;, s)</code>"}, {"owner": {"reputation": 23, "user_id": 7567373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb48494a863fb87aeda5a166c398b5fa?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7567373/praveen"}, "reply_to_user": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1539824416, "post_id": 52864601, "comment_id": 92645154, "body": "That works without any flaw.Thank you very much for the prompt response Wiktor, Also, Can you please help me how to replace the ; to , and make each item as individual list item  mode-change-period=1; mode-change-capability=2; mode-change-neighbor=0; max-red=0; octet-align=0"}, {"owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "edited": false, "score": 0, "creation_date": 1539851882, "post_id": 52864601, "comment_id": 92653762, "body": "use <code>split(&quot;,&quot;)</code> after you got the string"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7567373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb48494a863fb87aeda5a166c398b5fa?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7567373/praveen"}, "edited": false, "score": 0, "creation_date": 1540184470, "post_id": 52868315, "comment_id": 92754497, "body": "I have input string as below        a=rtpmap:121 AMR-WB/16000/1 \\na=fmtp:121 octet-align=1;mode-set=1\\na=rtpmap:101 telephone-event/8000 \\na=fmtp:101 0-15  I have to create 4 dictionaries, with two rtpmap lines and 2 fmtp lines,  My function takes these dictionaries as inputs and compares with the server response  Each line in my input string is separated with \\n , Kindly help me to formulate function for the same"}], "tags": [], "owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1539844833, "creation_date": 1539844833, "answer_id": 52868315, "question_id": 52864601, "link": "https://stackoverflow.com/questions/52864601/python-regex-for-fmtp/52868315#52868315", "title": "Python regex for fmtp", "body": "<p>To extract the part of string you want, you may use</p>\n\n<pre><code>r'fmtp:\\d{2,3}\\s*(.*)'\n</code></pre>\n\n<p>See the <a href=\"https://regex101.com/r/n7ABpG/1\" rel=\"nofollow noreferrer\">regex demo</a></p>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>fmtp:</code> - a literal substring</li>\n<li><code>\\d{2,3}</code> - 2 or 3 digits</li>\n<li><code>\\s*</code> - 0+ whitespaces</li>\n<li><code>(.*)</code> - Capturing group 1 (this is what you need to grab): any 0+ chars other than line break chars as many as possible</li>\n</ul>\n\n<p>See <a href=\"https://ideone.com/GT2w28\" rel=\"nofollow noreferrer\">Python demo</a>:</p>\n\n<pre><code>import re\ns=\"a=fmtp:96 mode-change-period=1; mode-change-capability=2; mode-change-neighbor=0; max-red=0; octet-align=0\"\nm = re.search(r'fmtp:\\d{2,3}\\s*(.*)', s)\nif m:\n    print(\"The text extracted: {}\".format(m.group(1)))\n    dt = dict([x.split(\"=\") for x in m.group(1).split(\"; \")])\n    print(\"The list of attribute values: {}\".format(dt))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>The text extracted: mode-change-period=1; mode-change-capability=2; mode-change-neighbor=0; max-red=0; octet-align=0\nThe list of attribute values: {'octet-align': '0', 'max-red': '0', 'mode-change-capability': '2', 'mode-change-period': '1', 'mode-change-neighbor': '0'}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7567373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb48494a863fb87aeda5a166c398b5fa?s=128&d=identicon&r=PG&f=1", "display_name": "praveen", "link": "https://stackoverflow.com/users/7567373/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 52868315, "answer_count": 1, "score": 1, "last_activity_date": 1539844833, "creation_date": 1539816251, "last_edit_date": 1539830222, "question_id": 52864601, "link": "https://stackoverflow.com/questions/52864601/python-regex-for-fmtp", "title": "Python regex for fmtp", "body": "<p>My script receives the line below, and I need to filter only fmtp attributes, I need to strip <code>a=fmtp:XXXX</code> (max 3 digits) from the line below.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>a=fmtp:96 mode-change-period=1; mode-change-capability=2; mode-change-neighbor=0; max-red=0; octet-align=0\n</code></pre>\n\n<p>My below Regex currently strips <code>a=fmtp:</code> but not the 2 (max 3) digits after that</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>fmtp_attributes=re.findall(\"(?&lt;=fmtp:).*$\",a_line)\n</code></pre>\n\n<p>Please help me how to strip the next two/three digits after <code>a=fmtp:</code></p>\n\n<p>Appreciate your help</p>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 7623763, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10156944713370007/picture?type=large", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7623763/alexander"}, "edited": false, "score": 0, "creation_date": 1539890905, "post_id": 52865918, "comment_id": 92675985, "body": "Hi jpp, thanks so much for helping me out. I am trying your code on my actual dataset and am getting &quot;IndexError: index 573 is out of bounds for axis 1 with size 4&quot;. I am looking over the np.searchsorted documentation but there is not much. My dfb dataset&#39;s timestamp spans much longer than the timestamp in dfa, and I am not sure if that would be what is causing this error? I will keep tinkering but if you have any suggestions that would be great jpp- thanks for your help so far"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1539828372, "creation_date": 1539828372, "answer_id": 52865918, "question_id": 52864594, "link": "https://stackoverflow.com/questions/52864594/interpret-range-from-dataframe-column-based-on-group-ranges-from-another-datafra/52865918#52865918", "title": "Interpret range from dataframe column based on group ranges from another dataframe", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy-1.15.0/reference/generated/numpy.searchsorted.html\" rel=\"nofollow noreferrer\"><code>np.searchsorted</code></a>. The below solution assumes there are <strong>no overlaps</strong> in <code>Min</code> / <code>Max</code> values across groups. First convert some series to numeric so they are usable via NumPy:</p>\n\n<pre><code>dfa[dfa.columns[:-1]] = dfa[dfa.columns[:-1]].apply(pd.to_numeric)\ndfb['TimeStamp'] = pd.to_numeric(dfb['TimeStamp'])\n</code></pre>\n\n<p>Note <code>datetime</code> / timestamp values <em>can</em> be converted to numeric equivalents if necessary.</p>\n\n<p>Then extract unique groups and a flattened version of <code>Min</code> / <code>Max</code> values:</p>\n\n<pre><code>groups = dfa['Group'].unique()\nvals = dfa.drop_duplicates('Group').loc[:, ['Min', 'Max']].values.ravel()\n</code></pre>\n\n<p>Finally, use <code>np.searchsorted</code> to position timestamps in <code>vals</code> and use the result to index <code>groups</code>:</p>\n\n<pre><code>dfb['Group'] = groups[np.searchsorted(dfb['TimeStamp'].values, vals) // 2]\n\nprint(dfb)\n\n   TimeStamp Group\n0          1     A\n1          2     A\n2          3     B\n3          4     B\n4          5     C\n5          6     C\n6          7     D\n7          8     D\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 7623763, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10156944713370007/picture?type=large", "display_name": "Alexander", "link": "https://stackoverflow.com/users/7623763/alexander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539828686, "creation_date": 1539816218, "last_edit_date": 1539828686, "question_id": 52864594, "link": "https://stackoverflow.com/questions/52864594/interpret-range-from-dataframe-column-based-on-group-ranges-from-another-datafra", "title": "Interpret range from dataframe column based on group ranges from another dataframe", "body": "<p>Recently I had help with a similar problem using R, now I am wanting to do this in python 2.7 using pandas. I have reviewed several similar issues on here but alas am still having issues. </p>\n\n<p>I have two dataframes: </p>\n\n<pre><code>import pandas as pd\n\ndfa = pd.DataFrame([[\"1\", \"1\", \"2\", \"A\"], [\"2\", \"1\", \"2\", \"A\"], [\"3\", \"3\", \n    \"4\", \"B\"], [\"4\", \"3\", \"4\", \"B\"], [\"5\", \"5\", \"6\", \"C\"], [\"6\", \"5\", \"6\", \n    \"C\"], [\"7\", \"7\", \"8\", \"D\"], [\"8\", \"7\", \"8\", \"D\"]], columns=['TimeStamp', \n    'Min', 'Max', 'Group'])\ndfb = pd.DataFrame([['1'], ['2'], ['3'], ['4'], ['5'], ['6'], ['7'], ['8']], \n    columns = ['TimeStamp'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/J7b5K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J7b5K.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I am looking for a way create a group id in dfb based on timestamps which fall within the min-max of each group in dfa. So, dfb_final: </p>\n\n<p><a href=\"https://i.stack.imgur.com/i5QIG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i5QIG.jpg\" alt=\"enter image description here\"></a>   </p>\n\n<p>This is for larger datasets and I have simplified the example. I just am not really sure what to do next. I got as far as getting the min max columns in dfa based on other answers. Very appreciative of learning from you all. </p>\n"}, {"tags": ["python", "windows-10", "anaconda", "cython"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 9994397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9440befc1a705ae6f2eb7cc497f97c89?s=128&d=identicon&r=PG", "display_name": "pdzx", "link": "https://stackoverflow.com/users/9994397/pdzx"}, "is_accepted": true, "score": 4, "last_activity_date": 1551209148, "last_edit_date": 1551209148, "creation_date": 1539883987, "answer_id": 52879565, "question_id": 52864588, "link": "https://stackoverflow.com/questions/52864588/how-to-install-cython-an-anaconda-64-bits-with-windows-10/52879565#52879565", "title": "How to install cython an Anaconda 64 bits with Windows 10?", "body": "<p>Ok I solved the problem on Windows 10 with Anaconda using python 3.6.5 and MSC v.1900 64 bit (informations given by running : </p>\n\n<pre><code>import sys\nsys.version\n</code></pre>\n\n<p>so here is the method:</p>\n\n<p>1: install cython by running <code>conda install -c anaconda cython</code> in Anaconda prompt </p>\n\n<p>2: go in <code>C:\\Users\\Utilisateur\\Anaconda3\\Lib\\distutils</code> or wherever your distutils library is the create a distutils.cfg file (by using the notepad) and put </p>\n\n<pre><code>[build]           \ncompiler=mingw32 \n</code></pre>\n\n<p>in it </p>\n\n<p>3: get the latest version of Mingw-w64 (not just Mingw which support just 32 bits) at <a href=\"https://mingw-w64.org/doku.php\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/mingw-w64/files/</a> and install it</p>\n\n<p>4: add <code>C:\\Program Files (x86)\\mingw-w64\\i686-8.1.0-posix-dwarf-rt_v6-rev0\\mingw32\\bin</code> to your Path here is a link on how to do that on windows 10: <a href=\"https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/\" rel=\"nofollow noreferrer\">https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/</a></p>\n\n<p>5: install libpython and m2w64-toolchain in your anaconda envirement by running <code>conda install -c anaconda libpython</code> and <code>conda install -c msys2 m2w64-toolchain</code> \nIt come from these webpage <a href=\"https://python-at-risoe.pages.windenergy.dtu.dk/compiling-on-windows/common_errors.html\" rel=\"nofollow noreferrer\">https://python-at-risoe.pages.windenergy.dtu.dk/compiling-on-windows/common_errors.html</a> and should correct the corresponding errors </p>\n\n<p>6: try the first or second test on this page <a href=\"http://docs.cython.org/en/latest/src/quickstart/build.html\" rel=\"nofollow noreferrer\">http://docs.cython.org/en/latest/src/quickstart/build.html</a> both were working for me after step 5</p>\n\n<p>Hope it will help!</p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 9994397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9440befc1a705ae6f2eb7cc497f97c89?s=128&d=identicon&r=PG", "display_name": "pdzx", "link": "https://stackoverflow.com/users/9994397/pdzx"}, "edited": false, "score": 1, "creation_date": 1556640867, "post_id": 55892241, "comment_id": 98503557, "body": "It&#39;s way beyond my knowledge sorry, all I can say is that the solution I give above works for me. I used it on at least 3 different computers since october. And MinGW-w64 was the only compiler I found to use Cython with Anaconda 64-bits, but maybe other compilers exist which are compatible with Cython. For the C++ part, I only creates C library since october so I don&#39;t know if it works with a C++ library."}], "tags": [], "owner": {"reputation": 1, "user_id": 2885606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be0c54303bbc47cd5cbdb6ed9d81f013?s=128&d=identicon&r=PG&f=1", "display_name": "user2885606", "link": "https://stackoverflow.com/users/2885606/user2885606"}, "is_accepted": false, "score": 0, "last_activity_date": 1556468654, "creation_date": 1556468654, "answer_id": 55892241, "question_id": 52864588, "link": "https://stackoverflow.com/questions/52864588/how-to-install-cython-an-anaconda-64-bits-with-windows-10/55892241#55892241", "title": "How to install cython an Anaconda 64 bits with Windows 10?", "body": "<p>Are you sure that using MinGW-w64 is ok? In the <a href=\"https://github.com/cython/cython/wiki/CythonExtensionsOnWindows\" rel=\"nofollow noreferrer\">Cython Wiki</a>, they say that it is not recommended:</p>\n\n<p>** Do not use MinGW-w64. As you will notice, the MinGW import library for Python (e.g. libpython27.a) is omitted from the AMD64 version of Python. This is deliberate. Do not try to make one using dlltool. There is no official MinGW-w64 release yet, it is still in \"beta\" and considered unstable, although you can get a 64-bit build from e.g. TDM-GCC. There have also been issues with the mingw runtime conflicting with the MSVC runtime; this can happen from places you don't expect, such as inside runtime libraries for g++ or gfortran. To stay on the safe side, avoid MinGW-w64 for now.</p>\n\n<p>** Those with experience from Linux or Apple MacOSX might pick GCC (MinGW) as their C/C++ compiler of choice on Windows. Note that GCC is not the platform C compiler on Windows. To be binary compatible with most libraries and applications on Windows, use Microsoft's compiler. This is no different from selecting GCC as the compiler of choice on Linux. Microsoft's platform C/C++ compiler for Windows is free of charge.</p>\n\n<p>** For C++, observe that GCC (Mingw) and MSVC use different C++ runtimes. If you use C++ in your extension, the C++ runtime must also be compatible with Python's C runtime. For this reason, always use Microsoft's compiler for C++, even on 32-bit x86. This is very important on a platform like Windows where C++ is pervasive (cf. COM and ActiveX). If you use GCC as C++ compiler your extension will not be binary compatible with other C++ libraries or COM, not be compatible with Python's C runtime, and differences in exception handling between GCC and MSVC can crash your application.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5346019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b90912d42a7eaa84ec80f3ce17b03fd?s=128&d=identicon&r=PG&f=1", "display_name": "coolestpizzadude", "link": "https://stackoverflow.com/users/5346019/coolestpizzadude"}, "is_accepted": false, "score": 0, "last_activity_date": 1575417569, "creation_date": 1575417569, "answer_id": 59167121, "question_id": 52864588, "link": "https://stackoverflow.com/questions/52864588/how-to-install-cython-an-anaconda-64-bits-with-windows-10/59167121#59167121", "title": "How to install cython an Anaconda 64 bits with Windows 10?", "body": "<p>Although not the answer for windows 10, but windows 7. I would like to tell how I did it. </p>\n\n<ol>\n<li>I started with Anaconda (using : Anaconda 2019.10 for Windows Installer - Python 3.7 version 64 bit)). It is build with the Microsoft compiler not with MinGW (in python sys.version reports: MSC v.1915 64 bit (AMD64).  Anaconda comes with Cython installed, but not with the MSC compiler.\nSo trying the cython example in Jupyter:</li>\n</ol>\n\n<pre><code>    %load_ext Cython\n\n    %%cython\n    cdef int a = 0\n    for i in range(10):\n        a += i\n    print(a)\n</code></pre>\n\n<p>This now throws an error : <code>Unable to find vcvarsall.bat</code></p>\n\n<ol start=\"2\">\n<li>Cython with Python 3.7 needs Visual C++ 2015 (14.0). I couldn't download this version anymore from microsoft so I downloaded visual studio installer: Visual Build Tools 2019. In the installer I selected in \"workloads\" the C++ build tools. Then on the right hand side </li>\n</ol>\n\n<p>I <strong>UN</strong>selected:  </p>\n\n<ul>\n<li>MSVC v142 - VS 2019 C++ x64/x86 build tools</li>\n<li>C++ CMake tools for windows</li>\n<li>C++ AddressSanititizer (experimental)</li>\n</ul>\n\n<p>I selected:</p>\n\n<ul>\n<li>Windows 10 SDK</li>\n<li>Testing tools core features - Build Tools</li>\n<li>C++/CLI support for v142 build tools</li>\n<li>MSVC V140 - VS 2015 C++ build tools</li>\n</ul>\n\n<p>After installing this and running the above example again I ran into a linker error: <code>LINK : fatal error LNK1158</code></p>\n\n<p>3) In some subdirectory of directory \n    <code>C:\\Program files (x86)\\Windows Kits</code>\n   I found the files: <code>rc.exe</code> and <code>rcdll.dll</code><br>\n   I copied those to the bin directory of MSVC in my case:\n    <code>C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\bin</code></p>\n\n<p>This made the linker error disappear and the cython example work!\nI haven't tried anything else yet, but I do hope this is all that needs to be done. \nHope this helps someone.</p>\n"}], "owner": {"reputation": 111, "user_id": 9994397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9440befc1a705ae6f2eb7cc497f97c89?s=128&d=identicon&r=PG", "display_name": "pdzx", "link": "https://stackoverflow.com/users/9994397/pdzx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10509, "favorite_count": 2, "accepted_answer_id": 52879565, "answer_count": 3, "score": 6, "last_activity_date": 1575417569, "creation_date": 1539816178, "last_edit_date": 1560937087, "question_id": 52864588, "link": "https://stackoverflow.com/questions/52864588/how-to-install-cython-an-anaconda-64-bits-with-windows-10", "title": "How to install cython an Anaconda 64 bits with Windows 10?", "body": "<p>It's all in the title, does someone have a step by step method to install cython and run it on Anaconda 64 bits on Windows 10?\nI search for hours and there are a lot of tutorials... For things that I wasn't able to get or do on windows 10.\nI try to follow all those methods and more but in vain for now:\n<a href=\"https://www.ibm.com/developerworks/community/blogs/jfp/entry/Installing_Cython_On_Anaconda_On_Windows?lang=en\" rel=\"noreferrer\">https://www.ibm.com/developerworks/community/blogs/jfp/entry/Installing_Cython_On_Anaconda_On_Windows?lang=en</a></p>\n\n<p><a href=\"https://github.com/cython/cython/wiki/CythonExtensionsOnWindows\" rel=\"noreferrer\">https://github.com/cython/cython/wiki/CythonExtensionsOnWindows</a></p>\n\n<p>Conda install is done but the problem is to link the compiler to python, all the method using windows SDK and espescially the SDK command prompt are outdated, this prompt doesn't exist on Visual studio 2015 and the setenv function doesn't exist anymore either so impossible to execute 'setenv \\x64 \\release' and without this step the code doesn't work.</p>\n\n<p>The other methode with MinGW return an error:</p>\n\n<pre><code>C:\\MinGW\\bin\\gcc.exe -shared -s build\\temp.win-amd64-3.6\\Release\\hello.o build\\temp.win-amd64-3.6\\Release\\hello.cp36-win_amd64.def -LC:\\Users\\Utilisateur\\Anaconda3\\libs -LC:\\Users\\Utilisateur\\Anaconda3\\PCbuild\\amd64 -lpython36 -lmsvcr140 -o C:\\Users\\Utilisateur\\Documents\\hello.cp36-win_amd64.pyd\nc:/mingw/bin/../lib/gcc/mingw32/6.3.0/../../../../mingw32/bin/ld.exe: cannot find -lmsvcr140\ncollect2.exe: erreur\u00a0: ld a retourn\u00e9 1 code d'\u00e9tat d'ex\u00e9cution\nerror: command 'C:\\\\MinGW\\\\bin\\\\gcc.exe' failed with exit status 1\n</code></pre>\n\n<p>so I don't know what to do next.</p>\n\n<p>Help please.</p>\n\n<p>A desperate student</p>\n"}, {"tags": ["python", "web-scraping", "scrapy", "scrapy-spider"], "answers": [{"tags": [], "owner": {"reputation": 16919, "user_id": 3737009, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1A6EG.png?s=128&g=1", "display_name": "Granitosaurus", "link": "https://stackoverflow.com/users/3737009/granitosaurus"}, "is_accepted": true, "score": 0, "last_activity_date": 1539828584, "creation_date": 1539828584, "answer_id": 52865947, "question_id": 52864568, "link": "https://stackoverflow.com/questions/52864568/pass-different-url-in-start-urls/52865947#52865947", "title": "pass different url in start_urls", "body": "<p>Your code is overriding variable every loop:</p>\n\n<pre><code>for datos in casos:\n    start_urls = [plantilla.format(**datos)]\n            ^^^^^\n</code></pre>\n\n<p>it should be:</p>\n\n<pre><code>start_urls = []\nfor datos in casos:\n    start_urls.append(plantilla.format(**datos))\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 10349448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa5118988a2f22e7a33f3f8e5aef6403?s=128&d=identicon&r=PG&f=1", "display_name": "Elizabeth79", "link": "https://stackoverflow.com/users/10349448/elizabeth79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 52865947, "answer_count": 1, "score": 0, "last_activity_date": 1539828584, "creation_date": 1539816022, "last_edit_date": 1539818928, "question_id": 52864568, "link": "https://stackoverflow.com/questions/52864568/pass-different-url-in-start-urls", "title": "pass different url in start_urls", "body": "<p>I'm new with scrapy and little by little I'm building my first spider, I'm trying to pass different url to start_urls, then I thought of adding them to a list, and then go through that list to start_urls, the problem that when I execute it only takes a url of the list and it stops.</p>\n\n<p>The data returns them correctly but only of one of the url, it does not make the complete loop.\nWhat am I doing wrong?.\nThank you</p>\n\n<pre><code>class alquilerVehiculo1(CrawlSpider):\n\n    plantilla = (\"https://www.rentalcars.com/SearchResults.do?country=Argentina&amp;doYear={a\u00f1o_devolucion}&amp;doFiltering=true\"\n            \"&amp;fromLocChoose=true&amp;filterTo=49&amp;dropLocationName={localidad}&amp;ftsType=C&amp;ftsLocationSearch={codigoLocalidad}\"\n            \"&amp;dropFtsSearch=L&amp;doDay={dia_devolucion}&amp;searchType=allareasgeosearch&amp;filterFrom=0&amp;puMonth={mes_solicitud}&amp;dropFtsInput={localidad}&amp;dropCountry=Argentina\"\n            \"&amp;puDay={dia_solicitud}&amp;dropFtsLocationSearch={codigoLocalidad}&amp;puHour=10&amp;dropFtsEntry=22776&amp;enabler=&amp;distance=10\"\n            \"&amp;ftsEntry=22776&amp;city={localidad}&amp;driverage=on&amp;filterName=CarCategorisationSupplierFilter&amp;dropCity={localidad}\"\n            \"&amp;dropFtsType=C&amp;ftsAutocomplete={localidad}+Argentina&amp;driversAge=30&amp;dropFtsAutocomplete={localidad}+Argentina\"\n            \"&amp;dropFtsLocationName={localidad}&amp;dropCountryCode=&amp;doMinute=0&amp;countryCode=&amp;puYear={a\u00f1o_solicitud}&amp;locationName=&amp;puMinute=0&amp;ftsInput={localidad}\"\n            \"&amp;coordinates={cordenadas}&amp;dropLocation={codigoLocalidad}&amp;doHour=10&amp;dropCoordinates={cordenadas}\" \n            \"&amp;ftsLocationName={localidad}&amp;ftsSearch=L&amp;location={codigoLocalidad}&amp;doMonth={mes_devolucion}&amp;reducedCategory=medium&amp;filterAdditionalInfo=&amp;advSearch=&amp;exSuppliers=&amp;ordering=price\")\n\n    casos = [{\"localidad\":\"Salta\",\n            \"codigoLocalidad\": \"161\",\n            \"cordenadas\":\"-24.7833%2C-65.4167\"},\n            {\"localidad\":\"Mendoza\",\n            \"codigoLocalidad\": \"106\",\n            \"cordenadas\":\"-32.889%2c-68.843\"}]\n\n    dias_Semana = date.today() + timedelta(7)\n    dt_3 = dias_Semana + timedelta(3)\n\n    for datos in casos:\n        datos.update({\"a\u00f1o_devolucion\": dt_3.year,\"dia_devolucion\": dt_3.day,\"mes_solicitud\":dias_Semana.month ,\"dia_solicitud\": dias_Semana.day,\"a\u00f1o_solicitud\":dias_Semana.year,\"mes_devolucion\":dt_3.month})\n        #print(plantilla.format(**datos))\n\n        name = 'alquilerVehiculoMediano'\n        start_urls = [plantilla.format(**datos)]\n\n    def parse(self,response):\n        for folow_url in response.css(\"a.show-cars-link::attr(href)\").extract():\n\n            url = response.urljoin(folow_url)\n            yield Request(url,callback = self.populate_item)\n        # yield self.paginate(response)\n\n    def populate_item(self,response):\n        item_loader = ItemLoader(item=ReporteinmobiliarioItem(),response=response)\n        item_loader.default_input_procesor = MapCompose(remove_tags)\n\n        item_loader.add_css('compania', 'div.carResultRow_OfferInfo_Supplier-wrap&gt;h4::text')\n        item_loader.add_css('valor','span[class=\"carResultRow_Price-now\"]::text') #'span.carResultRow_Price-now::text')\n        item_loader.add_css('dias', 'span.carResultRow_Price-duration::text')\n        item_loader.add_value('tipoVehiculo','Coche Mediano')\n        item_loader.add_css('modelo','td.carResultRow_CarSpec&gt;h2::text')\n        item_loader.add_css('recogida_devolucion','div.search-summary__location::text')\n\n        yield item_loader.load_item()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "duplicates", "python-3.6"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1539816049, "post_id": 52864544, "comment_id": 92643399, "body": "Just sort the points, and you can iterate through the list and discard any that are close to the previous point."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 1, "creation_date": 1539838929, "post_id": 52864544, "comment_id": 92648155, "body": "@H&#229;kenLid: Sorting can help, but you can\u2019t just consider consecutive points since no sort order will guarantee that nearby points are never separated by one that is far away."}, {"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 2, "creation_date": 1539838997, "post_id": 52864544, "comment_id": 92648170, "body": "What should be done about a long chain of points, each close to the previous one but with the last very far from the first?"}, {"owner": {"reputation": 271, "user_id": 4907116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SgcwN.png?s=128&g=1", "display_name": "Abd Azrad", "link": "https://stackoverflow.com/users/4907116/abd-azrad"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539903834, "post_id": 52864544, "comment_id": 92680832, "body": "@H&#229;kenLid:sorting is good enough for what I need, thanks."}, {"owner": {"reputation": 271, "user_id": 4907116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SgcwN.png?s=128&g=1", "display_name": "Abd Azrad", "link": "https://stackoverflow.com/users/4907116/abd-azrad"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1539903955, "post_id": 52864544, "comment_id": 92680859, "body": "@Davis Herring: I see your point, in general sorting would be unreliable (but I think it is good enough for my purposes). For my purposes a long chain like that would need to be replaced with just one member of the chain."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "reply_to_user": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1539904169, "post_id": 52864544, "comment_id": 92680907, "body": "Cool. @DavisHerring is correct though. But to fully solve the problem you would need to use a proper clustering algorithm. I&#39;m not sure which one is best suited for this particular problem, but one possibility is k-means clustering."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539904277, "post_id": 52864544, "comment_id": 92680928, "body": "<a href=\"http://scikit-learn.org/stable/modules/clustering.html#clustering\" rel=\"nofollow noreferrer\">clustering algorithms in scikit-learn</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "is_accepted": false, "score": 0, "last_activity_date": 1539909362, "last_edit_date": 1539909362, "creation_date": 1539909000, "answer_id": 52884321, "question_id": 52864544, "link": "https://stackoverflow.com/questions/52864544/removing-items-from-a-list-that-are-similiar/52884321#52884321", "title": "removing items from a list that are similiar", "body": "<p>There are two parts to this: finding the close pairs and finding the well-separated sets (the equivalence classes of the transitive closure of the near-neighbor relation, or the connected components of the near-neighbor graph).</p>\n\n<p>At only 100 points, you can afford to do the first part by brute force, but the efficient choices include grouping into bins 10 on a side, such that all of a point\u2019s near neighbors must be in its bin or an adjacent one, or storing the points in something like a <em>k</em>-<em>d</em> tree.</p>\n\n<p>For the second part, one standard solution is to build a disjoint-set forest, applying the union operation between every neighboring pair (arbitrarily choosing a point to store in the (new) root).  The points associated with the roots at the end are the reduced set desired.</p>\n"}], "owner": {"reputation": 271, "user_id": 4907116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SgcwN.png?s=128&g=1", "display_name": "Abd Azrad", "link": "https://stackoverflow.com/users/4907116/abd-azrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539909362, "creation_date": 1539815836, "question_id": 52864544, "link": "https://stackoverflow.com/questions/52864544/removing-items-from-a-list-that-are-similiar", "title": "removing items from a list that are similiar", "body": "<p>Starting with a list of tuples, that contain the x and y coordinates of points on a graph; I'd like to delete duplicate points in the list; however for my purposes points that are within a distance of 10 I consider duplicates.</p>\n\n<p>I've written a function that seems to do the job, but I'm betting there is a better way. In the sample data below: points 1, 2, and 5 are duplicates (within distance of 10 of each other). I don't care which of those three points survive the elimination process. I expect to be processing no more than 100 points, with about 50% of those being eliminated. Thanks!</p>\n\n<pre><code>def is_close(pointA, pointB, closeness):\n    x1, y1  = pointA\n    x2, y2 = pointB\n    distance = int(((x2-x1)**2 + (y2-y1)**2)**0.5) # distance formula\n    if distance &lt; closeness:\n        return True\n    return False\n\ndef remove_close_duplicated(data, closeness):\n    if len(data) &lt; 2: # can't have duplicates if there aren't at least 2 points\n        return data\n    new_list_points = []\n    for i, point in enumerate(data):\n        if i == 0:\n            new_list_points.append(point)\n            continue\n        close = False\n        for new_point in new_list_points:\n            if is_close(new_point, point, closeness):\n                close = True\n                break \n        if close == False:\n            new_list_points.append(point)\n    return new_list_points\n\nsample_data =[\n    (600, 400), # 1\n    (601, 401), # 2\n    (725, 300), # 3\n    (800, 900), # 4\n    (601, 400), # 5\n]\n\ncloseness = 10                  \nprint(remove_close_duplicated(sample_data, closeness))\n'''\noutput is:\n[(600, 400), (725, 300), (800, 900)]\n'''\n</code></pre>\n"}, {"tags": ["python", "json", "selenium", "upload"], "comments": [{"owner": {"reputation": 724, "user_id": 7018323, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kQFMt.jpg?s=128&g=1", "display_name": "Kartikey Singh", "link": "https://stackoverflow.com/users/7018323/kartikey-singh"}, "edited": false, "score": 1, "creation_date": 1546156332, "post_id": 52864531, "comment_id": 94789660, "body": "How did you accessed Mobile Version of Instagram? I tried <code>chrome_options.add_argument(&quot;--window-size=411,411&quot;)</code> but it opens the desktop version"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 9314783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NMEkgj-mh-s/AAAAAAAAAAI/AAAAAAAB8eE/Gax-xiYLpvc/photo.jpg?sz=128", "display_name": "Shane Cheek", "link": "https://stackoverflow.com/users/9314783/shane-cheek"}, "edited": false, "score": 0, "creation_date": 1539885129, "post_id": 52870733, "comment_id": 92673059, "body": "Yea, I built the script using SikuliX last night after posting this, but it feels super hackish, actually way worse than hackish. I think it made me a bit nauseous :^P. I feel like there has to be a better way to accomplish this."}, {"owner": {"reputation": 1622, "user_id": 9789097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19613b45b3b535c6d829c9d711e5b5e6?s=128&d=identicon&r=PG&f=1", "display_name": "Trect", "link": "https://stackoverflow.com/users/9789097/trect"}, "reply_to_user": {"reputation": 97, "user_id": 9314783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NMEkgj-mh-s/AAAAAAAAAAI/AAAAAAAB8eE/Gax-xiYLpvc/photo.jpg?sz=128", "display_name": "Shane Cheek", "link": "https://stackoverflow.com/users/9314783/shane-cheek"}, "edited": false, "score": 0, "creation_date": 1561545745, "post_id": 52870733, "comment_id": 100097239, "body": "@ShaneCheek Is sikuli still there? the website is not accessible :("}], "tags": [], "owner": {"reputation": 81, "user_id": 7103571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89bfe220d669992a3cf2af87ec0e98ba?s=128&d=identicon&r=PG&f=1", "display_name": "JavaPhySel", "link": "https://stackoverflow.com/users/7103571/javaphysel"}, "is_accepted": false, "score": 0, "last_activity_date": 1539854026, "creation_date": 1539854026, "answer_id": 52870733, "question_id": 52864531, "link": "https://stackoverflow.com/questions/52864531/posting-uploading-an-image-to-instagram-using-selenium-not-using-an-api/52870733#52870733", "title": "Posting (Uploading) an image to Instagram using Selenium not using an API", "body": "<p>I tried this at my end and I can clearly see that there is no way to bypass file selector. That being said, you need to use external tool to automate file selector.  In my experience <a href=\"http://www.sikuli.org/\" rel=\"nofollow noreferrer\">Sikuli</a> could be best fit for this job.</p>\n"}, {"tags": [], "owner": {"reputation": 1622, "user_id": 9789097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19613b45b3b535c6d829c9d711e5b5e6?s=128&d=identicon&r=PG&f=1", "display_name": "Trect", "link": "https://stackoverflow.com/users/9789097/trect"}, "is_accepted": false, "score": -2, "last_activity_date": 1561565340, "last_edit_date": 1561565340, "creation_date": 1561564977, "answer_id": 56776942, "question_id": 52864531, "link": "https://stackoverflow.com/questions/52864531/posting-uploading-an-image-to-instagram-using-selenium-not-using-an-api/56776942#56776942", "title": "Posting (Uploading) an image to Instagram using Selenium not using an API", "body": "<p>You can use the <strong>Instagram API</strong> to upload image/video . </p>\n\n<p><strong>Install</strong> <code>InstagramApi</code></p>\n\n<pre><code>pip install InstagramApi\n</code></pre>\n\n<p><strong>Test Login</strong></p>\n\n<pre><code>from InstagramAPI import InstagramAPI\n\napi = InstagramAPI(\"username\", \"password\")\nif (api.login()):\n    api.getSelfUserFeed()  # get self user feed\n    print(api.LastJson)  # print last response JSON\n    print(\"Login succes!\")\nelse:\nprint(\"Can't login!\")\n</code></pre>\n\n<p><strong>Upload an image</strong> with caption :</p>\n\n<pre><code>from InstagramAPI import InstagramAPI\n\nInstagramAPI = InstagramAPI(\"login\", \"password\")\nInstagramAPI.login()  # login\n\nphoto_path = '/path/to/photo.jpg'\ncaption = \"Sample photo\"\nInstagramAPI.uploadPhoto(photo_path, caption=caption)\n</code></pre>\n\n<p><strong>Upload a video :</strong></p>\n\n<pre><code>from InstagramAPI import InstagramAPI\nimport urllib\n\nvideo_url = 'https://instagram.fmad3-2.fna.fbcdn.net/t50.2886-16/17157217_1660580944235536_866261046376005632_n.mp4'  # a valid instagram video\nvideo_local_path = video_url.split(\"/\")[-1]\nthumbnail_url = \"https://instagram.fmad3-2.fna.fbcdn.net/t51.2885-15/e15/17075853_1759410394387536_3927726791665385472_n.jpg\"\nthumbnail_local_path = thumbnail_url.split(\"/\")[-1]\n\nurllib.urlretrieve(video_url, video_local_path)\nurllib.urlretrieve(thumbnail_url, thumbnail_local_path)\n\nInstagramAPI = InstagramAPI(\"login\", \"password\")\nInstagramAPI.login()  # login\nInstagramAPI.uploadVideo(video_local_path, thumbnail_local_path, caption=\"Tortuguero\")\n</code></pre>\n\n<p>(Optional) Download the github repository that has good examples.</p>\n\n<pre><code>git clone https://github.com/LevPasha/Instagram-API-python.git\n</code></pre>\n\n<p>Open the Examples folder</p>\n\n<pre><code>cd Instagram-API-python/examples\n</code></pre>\n\n<p>Edit the files: Replace <code>login</code> and <code>password</code> with username and password.\nRun the file</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 13850609, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gg_7HDu2mlSEJzR-F42CjxCXoHlOQv4G8Hf6Dxv=k-s128", "display_name": "Rohan Chidurala", "link": "https://stackoverflow.com/users/13850609/rohan-chidurala"}, "is_accepted": false, "score": 2, "last_activity_date": 1594255498, "creation_date": 1594255498, "answer_id": 62805685, "question_id": 52864531, "link": "https://stackoverflow.com/questions/52864531/posting-uploading-an-image-to-instagram-using-selenium-not-using-an-api/62805685#62805685", "title": "Posting (Uploading) an image to Instagram using Selenium not using an API", "body": "<p>IDK if this will be useful to you because it has been so long.But to anyone who needs it here is the full tutorial,</p>\n<p>Imports:</p>\n<pre><code>import os\nfrom selenium import webdriver\nfrom selenium.webdriver.common.action_chains import ActionChains\nfrom selenium.webdriver.chrome.options import Options\nimport autoit\nimport time\nfrom selenium.webdriver.common.keys import Keys\n</code></pre>\n<p>So First you need a emulator.\nThe best method that I found was using chromedriver.exe which you already need if you are using chrome as the browser. So to make the emulator you need this bit of code for the driver:</p>\n<pre><code>mobile_emulation = {\n    &quot;deviceMetrics&quot;: { &quot;width&quot;: 360, &quot;height&quot;: 640, &quot;pixelRatio&quot;: 3.0 },\n    &quot;userAgent&quot;: &quot;Mozilla/5.0 (Linux; Android 4.2.1; en-us; Nexus 5 Build/JOP40D) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Mobile Safari/535.19&quot; }\nchrome_options = Options()\nchrome_options.add_experimental_option(&quot;mobileEmulation&quot;, mobile_emulation)\n\ndriver = webdriver.Chrome(chrome_options = chrome_options)\n</code></pre>\n<p>Then you  login:</p>\n<pre><code>driver.get('https://www.instagram.com/accounts/login/')\n\ntime.sleep(2)\ndriver.find_element_by_name(&quot;username&quot;).send_keys(&quot;Your Username&quot;)\ndriver.find_element_by_name(&quot;password&quot;).send_keys(&quot;Your Password&quot;) \ndriver.find_element_by_xpath(&quot;&quot;&quot;//*[@id=&quot;react-root&quot;]/section/main/article/div/div/div/form/div[7]/button&quot;&quot;&quot;).click()\n\ntime.sleep(2)\n\ndriver.get('https://www.instagram.com/' + username)\n</code></pre>\n<p>Name your file (It needs to be full name):</p>\n<pre><code>ImagePath = 'Your File Location'\n</code></pre>\n<p>final step is this:</p>\n<pre><code>ActionChains(driver).move_to_element( driver.find_element_by_xpath(&quot;&quot;&quot;//*[@id=&quot;react-root&quot;]/section/nav[2]/div/div/div[2]/div/div/div[3]&quot;&quot;&quot;)).click().perform()\nhandle = &quot;[CLASS:#32770; TITLE:Open]&quot;\nautoit.win_wait(handle, 3)\nautoit.control_set_text(handle, &quot;Edit1&quot;, dir_path)\nautoit.control_click(handle, &quot;Button1&quot;)\n\ntime.sleep(2)\n\ndriver.find_element_by_xpath(&quot;&quot;&quot;//*[@id=&quot;react-root&quot;]/section/div[1]/header/div/div[2]/button&quot;&quot;&quot;).click()\n\ntime.sleep(2)\n\ntxt = driver.find_element_by_class_name('_472V_')\ntxt.send_keys('')\ntxt = driver.find_element_by_class_name('_472V_')\ntxt.send_keys('test') # Descrition\ntxt.send_keys(Keys.ENTER)\n\ndriver.find_element_by_xpath(&quot;&quot;&quot;//*[@id=&quot;react-root&quot;]/section/div[1]/header/div/div[2]/button&quot;&quot;&quot;).click()\n</code></pre>\n<p>All this does is go the the upload page and use autoit to navigate through windows to select a file and choose. Then just adds a description and shares the post.</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 13387206, "user_type": "registered", "profile_image": "https://graph.facebook.com/793693881156198/picture?type=large", "display_name": "Netore Mining", "link": "https://stackoverflow.com/users/13387206/netore-mining"}, "is_accepted": false, "score": -1, "last_activity_date": 1606170122, "creation_date": 1606170122, "answer_id": 64977415, "question_id": 52864531, "link": "https://stackoverflow.com/questions/52864531/posting-uploading-an-image-to-instagram-using-selenium-not-using-an-api/64977415#64977415", "title": "Posting (Uploading) an image to Instagram using Selenium not using an API", "body": "<p>I found this somewhere and it works fine in python.\nimport pyautogui\npyautogui.write('D:\\opt\\FitnessStudio\\picofme.jpg')\npyautogui.press('enter')</p>\n"}, {"tags": [], "owner": {"reputation": 130, "user_id": 6173984, "user_type": "registered", "profile_image": "https://graph.facebook.com/1182087751854482/picture?type=large", "display_name": "Vishal Sheth", "link": "https://stackoverflow.com/users/6173984/vishal-sheth"}, "is_accepted": false, "score": 0, "last_activity_date": 1609183092, "creation_date": 1609183092, "answer_id": 65482874, "question_id": 52864531, "link": "https://stackoverflow.com/questions/52864531/posting-uploading-an-image-to-instagram-using-selenium-not-using-an-api/65482874#65482874", "title": "Posting (Uploading) an image to Instagram using Selenium not using an API", "body": "<pre><code># ------------ Imports --------------- \nfrom selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nimport time\nimport random\n\n# ------------ Def Random --------------\ndef sleepTime(start):\n    _sleep = (random.randint(start, 20))\n    time.sleep(_sleep)\n\n#  ---------------- WebDriver -----------------\nchrome_options = webdriver.ChromeOptions()\nchrome_options.add_argument(&quot;--incognito&quot;)\ndriver = webdriver.Chrome(chrome_options=chrome_options)\ndriver.get('https://www.instagram.com/accounts/login/')\ndriver.email = '*instaID*'\ndriver.password = '*instapswd*'\ndriver.username = '*instapageusernameyouwanttofollow*'\nsleepTime(5)\ntry:\n    emailInput=driver.find_element_by_xpath(&quot;//input[@name = 'username']&quot;)\n    passwordInput=driver.find_element_by_xpath(&quot;//input[@name = 'password']&quot;)\nexcept (NoSuchElementException, ElementNotVisibleException) as exceptions:\n    pass\nemailInput.send_keys(driver.email)\npasswordInput.send_keys(driver.password)\npasswordInput.send_keys(Keys.ENTER)\nsleepTime(7)\n\n# ---pop up handle---\nNotNow=driver.find_element_by_xpath(&quot;//button[text() = 'Not Now']&quot;).click()\nsleepTime(5)\n# ---------- Going to folower list ----------\ndriver.get('https://www.instagram.com/' + driver.username + '/')\nsleepTime(7)\ndriver.get('https://www.instagram.com/' + driver.username + '/followers/')\nFollowers=driver.find_element_by_xpath(&quot;//a[@class='-nal3 ']&quot;).click()\nsleepTime(7)\n# -------------------------------------------\n#find all li elements in list\nfBody  = driver.find_element_by_xpath(&quot;//div[@class='isgrP']&quot;)\nscroll = 0\nfor j in (1,(random.randint(4, 20))):\n    driver.execute_script('arguments[0].scrollTop = arguments[0].scrollTop + arguments[0].offsetHeight;', fBody)\n    sleepTime(10)\n# for k in (1,4):\n#     driver.execute_script('arguments[0].scrollDown = arguments[0].scrollDown + arguments[0].offsetHeight;', fBody)\n#     time.sleep(10)\n\ncount = 0\nwhile scroll &lt; 500: # scroll 500 times\n    sleepTime(10)\n    driver.execute_script('arguments[0].scrollTop = arguments[0].scrollTop + arguments[0].offsetHeight;', fBody)\n    for i in (0,(random.randint(5, 20))):\n        try:\n            Follow=driver.find_element_by_xpath(&quot;//button[text() = 'Follow']&quot;)\n            Follow.click()\n            print(count)\n            count = count + 1\n            driver.execute_script('arguments[0].scrollTop = arguments[0].scrollTop + arguments[0].offsetHeight;', fBody)                \n            time.sleep(10)\n        except NoSuchElementException:\n            pass\n    sleepTime(8)\n    # driver.executeScript(&quot;window.scrollBy(0,100)&quot;)\n    scroll += 1\n    driver.execute_script('arguments[0].scrollTop = arguments[0].scrollTop + arguments[0].offsetHeight;', fBody)\n    sleepTime(4)\ndriver.close()\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 9314783, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NMEkgj-mh-s/AAAAAAAAAAI/AAAAAAAB8eE/Gax-xiYLpvc/photo.jpg?sz=128", "display_name": "Shane Cheek", "link": "https://stackoverflow.com/users/9314783/shane-cheek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3888, "favorite_count": 2, "answer_count": 5, "score": 0, "last_activity_date": 1609183092, "creation_date": 1539815776, "last_edit_date": 1539885437, "question_id": 52864531, "link": "https://stackoverflow.com/questions/52864531/posting-uploading-an-image-to-instagram-using-selenium-not-using-an-api", "title": "Posting (Uploading) an image to Instagram using Selenium not using an API", "body": "<p>Background:</p>\n\n<p>I've been trying to solve this for a while now. I'm using Selenium (chrome webdriver) to access the mobile version of Instagram from the desktop. My goal is to create a script to automate posting an image to an account. Using Python I have automated everything up to the part where I need to select the file.</p>\n\n<p>Issue:</p>\n\n<p>Once I click the create new post button the gui file selector opens and I cannot figure out how to interact with it to select the file.</p>\n\n<p>Tried:</p>\n\n<p>post_btn.send_keys(r'/Path/To/image.jpg')</p>\n\n<p>post_btn.send_keys('/Path/To/image.jpg')</p>\n\n<p>The trouble, I think, with this method is there is not input field to send the string to.</p>\n\n<p>I read some other posts about using autoit and that working, but I'm on a Mac.</p>\n\n<p>Here's the span the post button lives in:</p>\n\n<pre><code>&lt;span class=\"glyphsSpriteNew_post__outline__24__grey_9 u-__7\" aria-label=\"New Post\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>Question:</p>\n\n<p>Is there a way to 'open' (upload) a file through a file selector gui using python?\nBetter, can I bypass opening the file selector at all?</p>\n\n<p>Thanks!</p>\n\n<p>Edit:</p>\n\n<p>I think what's stopping me from solving this is that I don't understand how the data is being sent and received. Since it's not an html input does that mean it is JSON? How do I figure out how the data (image) is being sent to the next page (<a href=\"https://www.instagram.com/create/style/\" rel=\"nofollow noreferrer\">https://www.instagram.com/create/style/</a>)?</p>\n"}, {"tags": ["python", "pandas", "memory-management"], "comments": [{"owner": {"reputation": 1100, "user_id": 3247017, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3cbdcfae88fe1e0f4005c08ecfffd59?s=128&d=identicon&r=PG&f=1", "display_name": "pazitos10", "link": "https://stackoverflow.com/users/3247017/pazitos10"}, "edited": false, "score": 0, "creation_date": 1539815876, "post_id": 52864530, "comment_id": 92643354, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39100971/how-do-i-release-memory-used-by-a-pandas-dataframe\">How do I release memory used by a pandas dataframe?</a>"}, {"owner": {"reputation": 2739, "user_id": 3815432, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3523270d3d2bdb908089a05957ccc711?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Vlasenko", "link": "https://stackoverflow.com/users/3815432/nikita-vlasenko"}, "reply_to_user": {"reputation": 1100, "user_id": 3247017, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3cbdcfae88fe1e0f4005c08ecfffd59?s=128&d=identicon&r=PG&f=1", "display_name": "pazitos10", "link": "https://stackoverflow.com/users/3247017/pazitos10"}, "edited": false, "score": 0, "creation_date": 1539815947, "post_id": 52864530, "comment_id": 92643376, "body": "Nope, it is not because I need to release the memory <code>on the fly</code>. I can not just <code>del</code> on two dataframes because I will not be able to run <code>merge</code>. I can not do <code>del</code> after running <code>merge</code> because <code>out of memory</code> error would already occur. So, I need a way of creating merged table and destroying the input ones at the same time. I thought that maybe there are some packages, software to actually achieve that."}, {"owner": {"reputation": 1100, "user_id": 3247017, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3cbdcfae88fe1e0f4005c08ecfffd59?s=128&d=identicon&r=PG&f=1", "display_name": "pazitos10", "link": "https://stackoverflow.com/users/3247017/pazitos10"}, "edited": false, "score": 1, "creation_date": 1539816402, "post_id": 52864530, "comment_id": 92643489, "body": "Oh, maybe I&#39;m wrong. Sorry about that. Have you tried using <a href=\"http://docs.dask.org/en/latest/dataframe.html\" rel=\"nofollow noreferrer\">dask</a> to work with big dataframes?"}, {"owner": {"reputation": 2739, "user_id": 3815432, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3523270d3d2bdb908089a05957ccc711?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Vlasenko", "link": "https://stackoverflow.com/users/3815432/nikita-vlasenko"}, "reply_to_user": {"reputation": 1100, "user_id": 3247017, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3cbdcfae88fe1e0f4005c08ecfffd59?s=128&d=identicon&r=PG&f=1", "display_name": "pazitos10", "link": "https://stackoverflow.com/users/3247017/pazitos10"}, "edited": false, "score": 0, "creation_date": 1539816879, "post_id": 52864530, "comment_id": 92643624, "body": "Nope, looking it over now. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 3232, "user_id": 10511793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984a1a7b0d1f993aa558f509eff1edaa?s=128&d=identicon&r=PG&f=1", "display_name": "Statistic Dean", "link": "https://stackoverflow.com/users/10511793/statistic-dean"}, "is_accepted": false, "score": 1, "last_activity_date": 1539852007, "creation_date": 1539852007, "answer_id": 52870131, "question_id": 52864530, "link": "https://stackoverflow.com/questions/52864530/free-memory-while-merging-two-datasets-in-pandas/52870131#52870131", "title": "Free memory while merging two datasets in pandas", "body": "<p>I'm not sure if this would work, but maybe you should try it out. Start by separating one of your data-frame in smaller dataframes. So that </p>\n\n<pre><code>df = pd.concat([df1,...,dfn])\n</code></pre>\n\n<p>then you can merge each of the small dataframe df1,...,dfn with df_raw. After each merge, you can save this dataframe to your disk. Once all the merge are done, you free all your memory, load all of the merged table, and concatenate them.</p>\n\n<p>Tell me if you need technical advice on how to perform this.</p>\n"}], "owner": {"reputation": 2739, "user_id": 3815432, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/3523270d3d2bdb908089a05957ccc711?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Vlasenko", "link": "https://stackoverflow.com/users/3815432/nikita-vlasenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539852007, "creation_date": 1539815764, "last_edit_date": 1539816118, "question_id": 52864530, "link": "https://stackoverflow.com/questions/52864530/free-memory-while-merging-two-datasets-in-pandas", "title": "Free memory while merging two datasets in pandas", "body": "<p>I have two huge tables as <code>pandas</code> objects that can hardly fit into memory, and I need to combine them into a third one:</p>\n\n<pre><code>df = pd.melt(df, id_vars='index', value_vars=cell_ids, \n             var_name='cell_id', value_name='expr')\ndf_raw = pd.melt(df_raw, id_vars='index', value_vars=cell_ids, \n             var_name='cell_id', value_name='raw_expr')\n\ndf_combined = pd.merge(df, df_raw, on=\"index\")\n</code></pre>\n\n<p>Is there a way to delete <code>df</code> and <code>df_raw</code> on the fly while creating <code>df_combined</code>, so that I would not get out of memory error while doing <code>merge</code> operation?</p>\n\n<p>This is not duplicate because:</p>\n\n<p>I need to release the memory on the fly. I can not just del on two dataframes because I will not be able to run merge. I can not do del after running merge because out of memory error would already occur. So, I need a way of creating merged table and destroying the input ones at the same time. I thought that maybe there are some packages, software to actually achieve that. </p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "webdriver", "webdriverwait"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10521037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pH0c2hiZoV4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVit4R5O_BavMowrHRY7ldJ7EZ__A/mo/photo.jpg?sz=128", "display_name": "reb", "link": "https://stackoverflow.com/users/10521037/reb"}, "edited": false, "score": 0, "creation_date": 1539879062, "post_id": 52874067, "comment_id": 92669995, "body": "well, according to the <a href=\"https://selenium-python.readthedocs.io/waits.html#explicit-waits\" rel=\"nofollow noreferrer\">docs</a> <code>elem =</code> is correct. Either way though, with or without <code>elem =</code>, it doesn&#39;t work. It&#39;s the <code>wait</code> that doesn&#39;t seem to be working as expected."}, {"owner": {"reputation": 1361, "user_id": 3347128, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WAEso.png?s=128&g=1", "display_name": "Alichino", "link": "https://stackoverflow.com/users/3347128/alichino"}, "reply_to_user": {"reputation": 17, "user_id": 10521037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pH0c2hiZoV4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVit4R5O_BavMowrHRY7ldJ7EZ__A/mo/photo.jpg?sz=128", "display_name": "reb", "link": "https://stackoverflow.com/users/10521037/reb"}, "edited": false, "score": 0, "creation_date": 1539933531, "post_id": 52874067, "comment_id": 92687947, "body": "It could be that you have declared a global wait (of, say, 10 seconds) somewhere. Now, when you don&#39;t give it a specific time (like wait 3 s) it takes the global wait and actually finds the element in that time. That is assuming that if you don&#39;t put the wait-until before the EC, it puts it there automatically, but I couldn&#39;t find anywhere if that is what happens."}, {"owner": {"reputation": 17, "user_id": 10521037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pH0c2hiZoV4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVit4R5O_BavMowrHRY7ldJ7EZ__A/mo/photo.jpg?sz=128", "display_name": "reb", "link": "https://stackoverflow.com/users/10521037/reb"}, "edited": false, "score": 0, "creation_date": 1539947133, "post_id": 52874067, "comment_id": 92694771, "body": "nope, that is the only usage of wait in the code. It was the first attempt at using this. Since no one seems to be responding to this and as I said originally, it&#39;s accomplished with <code>time.sleep(1)</code> so I&#39;ve gone back to that and moved on. I just thought someone in SO might have ran across this before and had a solution."}], "tags": [], "owner": {"reputation": 1361, "user_id": 3347128, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WAEso.png?s=128&g=1", "display_name": "Alichino", "link": "https://stackoverflow.com/users/3347128/alichino"}, "is_accepted": false, "score": 0, "last_activity_date": 1539865798, "creation_date": 1539865798, "answer_id": 52874067, "question_id": 52864523, "link": "https://stackoverflow.com/questions/52864523/python-selenium-webdriverwait-not-working-when-ec-returns-element/52874067#52874067", "title": "python selenium WebDriverWait not working when EC returns element", "body": "<p>Not sure if it is good practice to assign EC to variables...</p>\n\n<p>Try removing the <code>elem =</code> bit, and see if that helps.</p>\n\n<p>Also, it seems the line - <code>ec.presence_of_element_located((By.XPATH, '//div[@onclick=\"backToResults();'))</code> - works, so I'm wondering what the issue here is...? :)</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 10521037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pH0c2hiZoV4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVit4R5O_BavMowrHRY7ldJ7EZ__A/mo/photo.jpg?sz=128", "display_name": "reb", "link": "https://stackoverflow.com/users/10521037/reb"}, "edited": false, "score": 0, "creation_date": 1540134252, "post_id": 52899955, "comment_id": 92743209, "body": "As I said in my OP, <code>I can put it in a loop with a time.sleep(1) and it will occasionally loop once</code>, so yes it does work using <code>time.sleep(1)</code> within a loop. This is what the <code>WebDriverWait</code> is supposed to accomplish and I was curious why THAT didn&#39;t work. As to your link reference, I had also stated that the <code>EC</code> returned with the element with <code>presence_of_element_located</code>, as well as all of those flags within the link you provided. So your answer does nothing to help with why the <code>WebDriverWait</code> is not working here?"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1539983416, "creation_date": 1539983416, "answer_id": 52899955, "question_id": 52864523, "link": "https://stackoverflow.com/questions/52864523/python-selenium-webdriverwait-not-working-when-ec-returns-element/52899955#52899955", "title": "python selenium WebDriverWait not working when EC returns element", "body": "<h2>time.sleep() / NoSuchElementException</h2>\n\n<p>To <strong>suspend the execution</strong> of the webdriver for milliseconds you can pass <code>number of seconds</code> or <code>floating point number of seconds</code> as follows:</p>\n\n<pre><code>import time\ntime.sleep(1) #sleep for 1 sec\ntime.sleep(0.25) #sleep for 250 milliseconds\n</code></pre>\n\n<p>However while using <em>Selenium</em> and <em>WebDriver</em> for <em>Automation</em> using <strong><code>time.sleep(secs)</code></strong> without any <em>specific condition to achieve</em> <strong>defeats the purpose of <em>Automation</em></strong> and should be avoided at any cost. As per the documentation:</p>\n\n<blockquote>\n  <p><a href=\"https://docs.python.org/2/library/time.html#time.sleep\" rel=\"nofollow noreferrer\"><strong><code>time.sleep(secs)</code></strong></a> suspends the execution of the current thread for the given number of seconds. The argument may be a floating point number to indicate a more precise sleep time. The actual suspension time may be less than that requested because any caught signal will terminate the sleep() following execution of that signal\u2019s catching routine. Also, the suspension time may be longer than requested by an arbitrary amount because of the scheduling of other activity in the system.</p>\n</blockquote>\n\n<p>So, at times even after using <code>time.sleep(secs)</code> as well you may see <strong>NoSuchElementException</strong></p>\n\n<p>Now, as your objective is to invoke <code>click()</code> on the element so instead of using expected_conditions as <code>presence_of_element_located()</code> you need to use <strong><code>element_to_be_clickable(locator)</code></strong> as follows:</p>\n\n<pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, \"//div[starts-with(@onclick,'backToResults')]\"))).click()\n</code></pre>\n\n<p>You can find a related detailed discussion in <a href=\"https://stackoverflow.com/questions/52603847/how-to-sleep-webdriver-in-python-for-milliseconds/52607451#52607451\">How to sleep webdriver in python for milliseconds</a></p>\n"}], "owner": {"reputation": 17, "user_id": 10521037, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pH0c2hiZoV4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVit4R5O_BavMowrHRY7ldJ7EZ__A/mo/photo.jpg?sz=128", "display_name": "reb", "link": "https://stackoverflow.com/users/10521037/reb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 642, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1539983416, "creation_date": 1539815732, "last_edit_date": 1539983311, "question_id": 52864523, "link": "https://stackoverflow.com/questions/52864523/python-selenium-webdriverwait-not-working-when-ec-returns-element", "title": "python selenium WebDriverWait not working when EC returns element", "body": "<p>I've used selenium a lot but have not had occasion to use WebDriverWait. Now I am in need to click a Back button which, although it seems to be immediately available, it must occasionally not be for a split second. I can put it in a loop with a time.sleep(1) and it will occasionally loop once. I can live with this but I thought this to be the perfect opportunity to implement a WebDriverWait.\nThis works:  </p>\n\n<pre><code>browser.find_element_by_xpath('//div[@onclick=\"backToResults();\"]')\n</code></pre>\n\n<p>except for the occasional NoSuchElementException...  </p>\n\n<p>This won't work, it just runs the 3 seconds and times out (regardless of the amount of time I try, it never returns successful):  </p>\n\n<pre><code>elem = WebDriverWait(browser, 3).until(ec.presence_of_element_located((By.XPATH, '//div[@onclick=\"backToResults();')))\n</code></pre>\n\n<p>...but the same ec call without the wait does returns the element, so the wait should be working:  </p>\n\n<pre><code>ec.presence_of_element_located((By.XPATH, '//div[@onclick=\"backToResults();'))\n</code></pre>\n\n<p>So, it's not that the element is not there and is accessible, at least within a second or so, but the WebDriverWait isn't returning from the positive EC call?</p>\n"}, {"tags": ["python", "microsoft-graph-api", "outlook-restapi"], "answers": [{"tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": true, "score": 0, "last_activity_date": 1539974771, "creation_date": 1539974771, "answer_id": 52898293, "question_id": 52864519, "link": "https://stackoverflow.com/questions/52864519/microsoft-graph-api-calendarview-request-not-working/52898293#52898293", "title": "Microsoft Graph API CalendarView request not working", "body": "<p>You're not specifying a timezone so <code>2018-10-18 00:00:00</code> is treated as <code>UTC 0</code>.  </p>\n\n<p>The event scheduled for midnight most likely <em>not</em> scheduled for midnight UTC but rather some other timezone. If the event was scheduled for US Eastern, for example, the timezone would be <code>UTC - 5</code>. When 10/18/2018 @ 12:00 AM EST is translated to <code>UTC 0</code> it is 5 hours earlier, or 10/17/2018 @ 8:00 PM UTC. </p>\n\n<p>To get the event in a specific timezone, you need to add the offset. For example:</p>\n\n<pre><code>2018-10-18T00:00:00-05:00\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1804, "user_id": 2749095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pEmkb.jpg?s=128&g=1", "display_name": "CodeTrooper", "link": "https://stackoverflow.com/users/2749095/codetrooper"}, "is_accepted": false, "score": 0, "last_activity_date": 1539983153, "creation_date": 1539983153, "answer_id": 52899910, "question_id": 52864519, "link": "https://stackoverflow.com/questions/52864519/microsoft-graph-api-calendarview-request-not-working/52899910#52899910", "title": "Microsoft Graph API CalendarView request not working", "body": "<p>After much testing, I was able to parse the incoming date, reset the time it came with to 0 hours and set the timezone to UTC with the following generic function:</p>\n\n<pre><code>def to_utc_iso(date_string):\n    the_date = parser.parse(date_string)\n    string_date = the_date.replace(hour=0, tzinfo=timezone.utc).timestamp()\n    return datetime.fromtimestamp(string_date).isoformat()\n</code></pre>\n"}], "owner": {"reputation": 1804, "user_id": 2749095, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/pEmkb.jpg?s=128&g=1", "display_name": "CodeTrooper", "link": "https://stackoverflow.com/users/2749095/codetrooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 52898293, "answer_count": 2, "score": 1, "last_activity_date": 1539983153, "creation_date": 1539815705, "last_edit_date": 1539975037, "question_id": 52864519, "link": "https://stackoverflow.com/questions/52864519/microsoft-graph-api-calendarview-request-not-working", "title": "Microsoft Graph API CalendarView request not working", "body": "<p>Here's my piece of code that handles and processes a specific date:</p>\n\n<pre><code>def o365_calendar_parse_url(self):\n    if validate_params(self.parameters):\n        data_url = self.o365_base_url + self.SUPPORTED_O365_INTENTS_URL['O365_CALENDAR_PARAMS']\n        start_date = ''\n        end_date = ''\n        if self.parameters[\"date\"]:\n            split_date = self.parameters[\"date\"].split(\"T\")[0]\n            start_date = split_date\n            start_date = date_utilities.parse(start_date)\n            print(start_date)\n            end_date = start_date + datetime.timedelta(days=1)\n            final_url = data_url.format(start_date, end_date)\n            return final_url\n        else:\n            #other stuff\n</code></pre>\n\n<p>So the date being received is: <code>2018-10-18T12:00:00-06:00</code>, the idea is to remove the time from this date (because it's ambiguous), as I have no access to the API and therefore I have to deal with it the way it's being sent. After that, the idea is to parse that date into an ISO 8601 format so that the request made to graph API is done in the correct datetime format asked (ISO 8601). </p>\n\n<p>The resulting datetime is <code>2018-10-18 00:00:00</code>. When the request is made, the resulting URL is: </p>\n\n<p><code>https://graph.microsoft.com/v1.0/me/calendarView?startDateTime=2018-10-18%2000:00:00&amp;endDateTime=2018-10-19%2000:00:00&amp;$select=subject,bodyPreview,start,end,location,organizer,webLink</code></p>\n\n<p>Which brings back 1 event between the 18th and 19th. Seems to be fine, except there's actually 2 events between the <code>18th 00:00:00</code> and the <code>19th 00:00:00</code>.</p>\n\n<p>One of the events is on the 18th at 12pm and the other one is at 8:30pm. Can anyone tell me why the date range is not working? I'm trying to figure out why, but nothing occurs to me. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 1, "last_activity_date": 1539816646, "last_edit_date": 1539816646, "creation_date": 1539816303, "answer_id": 52864607, "question_id": 52864506, "link": "https://stackoverflow.com/questions/52864506/python-pandas-creating-a-discrete-series-from-a-cumulative/52864607#52864607", "title": "Python pandas: creating a discrete series from a cumulative", "body": "<p>You do not want to avoid NaNs, you want to fill them with the start values from the \"cumulative\" column:</p>\n\n<pre><code>df['Discrete1'] = df['Discrete1'].combine_first(df['Cumulative1'])\n</code></pre>\n\n<p>To apply the operation to all (or select) columns, broadcast it to all columns of interest:</p>\n\n<pre><code>sources = 'Cumulative1', 'Cumulative2'\ntargets = [\"Discrete\" + x[len('Cumulative'):] for x in sources]\n\ndf[targets] = df.groupby('Cat')[sources].diff()\n</code></pre>\n\n<p>You still have to condition the NaNs in a loop:</p>\n\n<pre><code>for s,t in zip(sources, targets):\n    df[t] = df[t].combine_first(df[s])\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 6929018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbe88a8a8dfc45d0c9dbd391e998307?s=128&d=identicon&r=PG&f=1", "display_name": "anerjee", "link": "https://stackoverflow.com/users/6929018/anerjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 52864607, "answer_count": 1, "score": 0, "last_activity_date": 1539816646, "creation_date": 1539815553, "question_id": 52864506, "link": "https://stackoverflow.com/questions/52864506/python-pandas-creating-a-discrete-series-from-a-cumulative", "title": "Python pandas: creating a discrete series from a cumulative", "body": "<p>I have a data frame where there are several groups of numeric series where the values are cumulative. Consider the following:</p>\n\n<pre><code>df = pd.DataFrame({'Cat': ['A', 'A','A','A', 'B','B','B','B'], 'Indicator': [1,2,3,4,1,2,3,4], 'Cumulative1': [1,3,6,7,2,4,6,9], 'Cumulative2': [1,3,4,6,1,5,7,12]})\n\nIn [74]:df\nOut[74]: \nCat  Cumulative1  Cumulative2  Indicator\n0   A            1            1          1\n1   A            3            3          2\n2   A            6            4          3\n3   A            7            6          4\n4   B            2            1          1\n5   B            4            5          2\n6   B            6            7          3\n7   B            9           12          4\n</code></pre>\n\n<p>I need to create discrete series for Cumulative1 and Cumulative2, with starting point being the earliest entry in 'Indicator'.</p>\n\n<p>my Approach is to use diff()</p>\n\n<pre><code>In[82]: df['Discrete1'] = df.groupby('Cat')['Cumulative1'].diff()\nOut[82]: df\n  Cat  Cumulative1  Cumulative2  Indicator  Discrete1\n0   A            1            1          1        NaN\n1   A            3            3          2        2.0\n2   A            6            4          3        3.0\n3   A            7            6          4        1.0\n4   B            2            1          1        NaN\n5   B            4            5          2        2.0\n6   B            6            7          3        2.0\n7   B            9           12          4        3.0\n</code></pre>\n\n<p>I have 3 questions: </p>\n\n<p>How do I avoid the NaN in an elegant/Pythonic way? The correct values are to be found in the original Cumulative series.</p>\n\n<p>Secondly, how do I elegantly apply this computation to all series, say - </p>\n\n<pre><code> cols = ['Cumulative1', 'Cumulative2']\n</code></pre>\n\n<p>Thirdly, I have a lot of data that needs this computation -- is this the most efficient way?</p>\n"}, {"tags": ["python", "six"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 3, "creation_date": 1539815742, "post_id": 52864498, "comment_id": 92643314, "body": "There&#39;s not really anything good. Do it manually. And better to use <a href=\"https://python-future.org\" rel=\"nofollow noreferrer\">python-future</a> as the compat layer, because <code>six</code> is pretty crappy."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1539815766, "post_id": 52864498, "comment_id": 92643327, "body": "There are going to be limits; <code>six</code> can&#39;t fix raw syntax differences, so if you used any syntax features of Py3 that don&#39;t exist in Py2 even with <code>__future__</code> imports, you&#39;d need to run at least some of the <code>3to2</code> fixers."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1539816334, "post_id": 52864498, "comment_id": 92643468, "body": "My recommendation is to do it manually. Find an editor that can do find and replace on many files at once, and go down <a href=\"http://python-future.org/compatible_idioms.html\" rel=\"nofollow noreferrer\">this</a> list of differences between the languages. I&#39;ve never had great luck with automated tools unless I wrote them ;)"}], "answers": [{"tags": [], "owner": {"reputation": 2237, "user_id": 396997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vhqwP.jpg?s=128&g=1", "display_name": "caleb", "link": "https://stackoverflow.com/users/396997/caleb"}, "is_accepted": false, "score": 1, "last_activity_date": 1539876583, "creation_date": 1539876583, "answer_id": 52877558, "question_id": 52864498, "link": "https://stackoverflow.com/questions/52864498/porting-from-python-3-to-the-six-library-dual-python-2-and-3-support/52877558#52877558", "title": "Porting from Python 3 to the six library (dual python 2 and 3 support)", "body": "<p>Thanks from the suggestions in the comments, I looked into <a href=\"https://github.com/PythonCharmers/python-future\" rel=\"nofollow noreferrer\">python-future</a> and found that it provides a conversion tool from python 3 to python2/3 (with the supporting <a href=\"https://github.com/PythonCharmers/python-future\" rel=\"nofollow noreferrer\">python-future</a> library) called <a href=\"https://python-future.org/automatic_conversion.html#pasteurize-py3-to-py2-3\" rel=\"nofollow noreferrer\">pasteurize</a>. It also provides a similar tool to convert from python 2 to python2/3 called <a href=\"https://python-future.org/automatic_conversion.html#futurize-py2-to-py2-3\" rel=\"nofollow noreferrer\">futurize</a>.</p>\n\n<p>I tested <a href=\"https://python-future.org/automatic_conversion.html#pasteurize-py3-to-py2-3\" rel=\"nofollow noreferrer\">pasteurize</a>, and it worked for my project. Some cleanup may be helpful after running either of these tools, but they certainly seem to provide a good first cut at the problem.</p>\n"}], "owner": {"reputation": 2237, "user_id": 396997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/vhqwP.jpg?s=128&g=1", "display_name": "caleb", "link": "https://stackoverflow.com/users/396997/caleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539876583, "creation_date": 1539815477, "last_edit_date": 1539815622, "question_id": 52864498, "link": "https://stackoverflow.com/questions/52864498/porting-from-python-3-to-the-six-library-dual-python-2-and-3-support", "title": "Porting from Python 3 to the six library (dual python 2 and 3 support)", "body": "<p>I have a python 3 project, and would like to add support for python 2. There is the <code>3to2</code> conversion utility, but its output is python 2. I want to support both 2 and 3. I know the <code>six</code> library supports this. But I'm wondering if there is a conversion tool or something like that which would convert from python 3 to using the <code>six</code> library (or, if there is some other not-totally-manual way to achieve this goal)?</p>\n"}, {"tags": ["python", "powerset"], "comments": [{"owner": {"reputation": 13, "user_id": 10520978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc4aa9055908c5903b5bd63a26d810b?s=128&d=identicon&r=PG&f=1", "display_name": "LH.Harry", "link": "https://stackoverflow.com/users/10520978/lh-harry"}, "reply_to_user": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "edited": false, "score": 0, "creation_date": 1539815194, "post_id": 52864291, "comment_id": 92643171, "body": "I do not think the order of input set matter."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1539814643, "creation_date": 1539814643, "answer_id": 52864391, "question_id": 52864291, "link": "https://stackoverflow.com/questions/52864291/how-to-print-power-set-in-order-each-pair-of-subset-differs-only-one-element/52864391#52864391", "title": "How to print power set in order each pair of subset differs only one element?", "body": "<p>Generate the first 2^N <a href=\"https://en.wikipedia.org/wiki/Gray_code\" rel=\"nofollow noreferrer\">gray codes</a>, where N = len(S).  Use the bits of the code to select elements for that set.</p>\n\n<pre><code>S = [1, 2, 3, 4]\n\nfor i in range(2**len(S)):\n    gray_code = i ^ (i &gt;&gt; 1)\n    subset = [S[j] for j in range(len(S)) if gray_code &amp; (1 &lt;&lt; j) ]\n    print(subset)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[]\n[1]\n[1, 2]\n[2]\n[2, 3]\n[1, 2, 3]\n[1, 3]\n[3]\n[3, 4]\n[1, 3, 4]\n[1, 2, 3, 4]\n[2, 3, 4]\n[2, 4]\n[1, 2, 4]\n[1, 4]\n[4]\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10520978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc4aa9055908c5903b5bd63a26d810b?s=128&d=identicon&r=PG&f=1", "display_name": "LH.Harry", "link": "https://stackoverflow.com/users/10520978/lh-harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 52864391, "answer_count": 1, "score": 1, "last_activity_date": 1539814766, "creation_date": 1539813990, "last_edit_date": 1539814766, "question_id": 52864291, "link": "https://stackoverflow.com/questions/52864291/how-to-print-power-set-in-order-each-pair-of-subset-differs-only-one-element", "title": "How to print power set in order each pair of subset differs only one element?", "body": "<p>I want to print a power set in an order such that adjacent subsets will differ by only one element.</p>\n\n<p>For example:</p>\n\n<pre><code>Input: S= {1,2,3,4}\n</code></pre>\n\n<p>Output would be printed like this:</p>\n\n<pre><code>{\"\",{1},{2}, {3}, {4} ,{4,1}, {4,2} ,{4,3},{3,1}...}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>{\"\", {1}, {1,2}, {2}, {2,3}, ...}\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark", "mapreduce", "rdd"], "comments": [{"owner": {"reputation": 1325, "user_id": 10431118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cEMkN.jpg?s=128&g=1", "display_name": "pvy4917", "link": "https://stackoverflow.com/users/10431118/pvy4917"}, "edited": false, "score": 0, "creation_date": 1539873689, "post_id": 52864252, "comment_id": 92666622, "body": "Can you show some sample json data?"}, {"owner": {"reputation": 37, "user_id": 3198708, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c591d09b0c056d77422cd6879124dd38?s=128&d=identicon&r=PG&f=1", "display_name": "user3198708", "link": "https://stackoverflow.com/users/3198708/user3198708"}, "reply_to_user": {"reputation": 1325, "user_id": 10431118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cEMkN.jpg?s=128&g=1", "display_name": "pvy4917", "link": "https://stackoverflow.com/users/10431118/pvy4917"}, "edited": false, "score": 0, "creation_date": 1539906672, "post_id": 52864252, "comment_id": 92681379, "body": "Standard twitter API data:  {&quot;TS&quot;:&quot;Mon jan 1 00:00:00&quot;,&quot;id&quot;:&quot;123213&quot;,&quot;text&quot;:&quot;Apparently you aren&#39;t allowed to have an anti&quot;,&quot;user&quot;:{&quot;id&quot;:4494956854,&quot;id_str&quot;:&quot;4494956854&quot;,&quot;name&quot;:&quot;&zwnj;&#8203;Amy Smalley&quot;,&quot;screen_name&quot;:&quot;amyjosmalley&quot;,&quot;location&quot;:null,&quot;url&quot;:&zwnj;&#8203;null,&quot;description&quot;:&quot;&zwnj;&#8203;Stay-at-home mom &quot;,&quot;protected&quot;:false,&quot;verified&quot;:false,&quot;followers_count&quot;:11,&quot;f&zwnj;&#8203;riends_count&quot;:40,&quot;li&zwnj;&#8203;sted_count&quot;:0,&quot;favou&zwnj;&#8203;rites_count&quot;:116,&quot;st&zwnj;&#8203;atuses_count&quot;:23,&quot;cr&zwnj;&#8203;eated_at&quot;:&quot;Tue Dec 15 18:57:57 +0000 2015&quot;}}"}], "owner": {"reputation": 37, "user_id": 3198708, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c591d09b0c056d77422cd6879124dd38?s=128&d=identicon&r=PG&f=1", "display_name": "user3198708", "link": "https://stackoverflow.com/users/3198708/user3198708"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 600, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539906661, "creation_date": 1539813745, "last_edit_date": 1539906661, "question_id": 52864252, "link": "https://stackoverflow.com/questions/52864252/count-not-working-on-rdd-python-pyspark", "title": "Count not working on RDD - Python, Pyspark", "body": "<p>Problem: I m currently trying to read in a text file with Json data. The aim of this is to count the distinct number of users by the userID present in the Json.\nIssue at hand: Applying count() on an RDD in python spark throwing error attached. </p>\n\n<blockquote>\n  <p>zeroValue provided to each partition is unique from the one provided\n    to the final reduce call</p>\n</blockquote>\n\n<p>Code:</p>\n\n<p>Step 1: i read in the file into an RDD called rdd_step1 using </p>\n\n<pre><code>sc.textFile('filepath')\n</code></pre>\n\n<p>Step 2: create a function that basically reads each line and returns a Json object if its a valid data set.</p>\n\n<pre><code>def safe_parse(raw_json):\n    try:\n        jo = json.loads(raw_json)\n        if jo.get('created_at'):\n            return jo\n        else:\n            None\n    except:\n        return None   \n</code></pre>\n\n<p>Step 3: I create a intermediate rdd where i parse the strings and get json objects to create a (key,value) rdd</p>\n\n<pre><code>rdd_step2 = rdd_step2.map( lambda x: safe_parse(x)).filter(lambda x: x is not None).map(lambda x: (x['user']['id_str'],1))\n</code></pre>\n\n<p>Step 4: Use reduce by Key and get the counts</p>\n\n<pre><code>counts=     rdd_step2.reduceByKey(lambda a, b: a + b)\nCount = counts.count()\nprint(Count)\n</code></pre>\n\n<p>sample data:\n{\"TS\":\"Mon jan 1 00:00:00\",\"id\":\"123213\",\"text\":\"Apparently you aren't allowed to have an anti\",\"user\":{\"id\":4494956854,\"id_str\":\"4494956854\",\"name\":\"Amy Smalley\",\"screen_name\":\"amyjosmalley\",\"location\":null,\"url\":null,\"description\":\"Stay-at-home mom \",\"protected\":false,\"verified\":false,\"followers_count\":11,\"friends_count\":40,\"listed_count\":0,\"favourites_count\":116,\"statuses_count\":23,\"created_at\":\"Tue Dec 15 18:57:57 +0000 2015\"}}</p>\n\n<p>Full error message:</p>\n\n<blockquote>\n  <p>Py4JJavaError                             Traceback (most recent call\n  last)  in ()\n        4 #raise NotImplementedError()\n        5 counts=     rdd_step2.reduceByKey(lambda a, b: a + b)\n  ----> 6 Count = counts.count()\n        7 print(Count)\n        8 #my_output.append(\"num-unique-users\", users_count)</p>\n  \n  <p>C:/Users/srikanth/Downloads/spark-2.3.1-bin-hadoop2.7/spark-2.3.1-bin-hadoop2.7\\python\\pyspark\\rdd.py\n  in count(self)    1071         3    1072         \"\"\"\n  -> 1073         return self.mapPartitions(lambda i: [sum(1 for _ in i)]).sum()    1074     1075     def stats(self):</p>\n  \n  <p>C:/Users/srikanth/Downloads/spark-2.3.1-bin-hadoop2.7/spark-2.3.1-bin-hadoop2.7\\python\\pyspark\\rdd.py\n  in sum(self)    1062         6.0    1063         \"\"\"\n  -> 1064         return self.mapPartitions(lambda x: [sum(x)]).fold(0, operator.add)    1065     1066     def count(self):</p>\n  \n  <p>C:/Users/srikanth/Downloads/spark-2.3.1-bin-hadoop2.7/spark-2.3.1-bin-hadoop2.7\\python\\pyspark\\rdd.py\n  in fold(self, zeroValue, op)\n      933         # zeroValue provided to each partition is unique from the one provided\n      934         # to the final reduce call\n  --> 935         vals = self.mapPartitions(func).collect()\n      936         return reduce(op, vals, zeroValue)\n      937 </p>\n  \n  <p>C:/Users/srikanth/Downloads/spark-2.3.1-bin-hadoop2.7/spark-2.3.1-bin-hadoop2.7\\python\\pyspark\\rdd.py\n  in collect(self)\n      832         \"\"\"\n      833         with SCCallSiteSync(self.context) as css:\n  --> 834             sock_info = self.ctx._jvm.PythonRDD.collectAndServe(self._jrdd.rdd())\n      835         return list(_load_from_socket(sock_info, self._jrdd_deserializer))\n      836 </p>\n  \n  <p>~\\Downloads\\spark-2.3.1-bin-hadoop2.7\\spark-2.3.1-bin-hadoop2.7\\python\\lib\\py4j-0.10.7-src.zip\\py4j\\java_gateway.py\n  in <strong>call</strong>(self, *args)    1255         answer =\n  self.gateway_client.send_command(command)    1256         return_value\n  = get_return_value(\n  -> 1257             answer, self.gateway_client, self.target_id, self.name)    1258     1259         for temp_arg in temp_args:</p>\n  \n  <p>~\\Downloads\\spark-2.3.1-bin-hadoop2.7\\spark-2.3.1-bin-hadoop2.7\\python\\lib\\py4j-0.10.7-src.zip\\py4j\\protocol.py\n  in get_return_value(answer, gateway_client, target_id, name)\n      326                 raise Py4JJavaError(\n      327                     \"An error occurred while calling {0}{1}{2}.\\n\".\n  --> 328                     format(target_id, \".\", name), value)\n      329             else:\n      330                 raise Py4JError(</p>\n  \n  <p>Py4JJavaError: An error occurred while calling\n  z:org.apache.spark.api.python.PythonRDD.collectAndServe. :\n  org.apache.spark.SparkException: Job aborted due to stage failure:\n  Task 1 in stage 417.0 failed 1 times, most recent failure: Lost task\n  1.0 in stage 417.0 (TID 462, localhost, executor driver): java.io.FileNotFoundException:\n  C:\\Users\\srikanth\\AppData\\Local\\Temp\\blockmgr-f7a58081-572f-4ea9-a53e-a84f5ebfb955\\0c\\temp_shuffle_36ab37dd-0f30-41c6-8f4f-ef1400d58ba8\n  (The system cannot find the path specified)   at\n  java.io.FileOutputStream.open0(Native Method)     at\n  java.io.FileOutputStream.open(Unknown Source)     at\n  java.io.FileOutputStream.(Unknown Source)   at\n  org.apache.spark.storage.DiskBlockObjectWriter.initialize(DiskBlockObjectWriter.scala:103)\n    at\n  org.apache.spark.storage.DiskBlockObjectWriter.open(DiskBlockObjectWriter.scala:116)\n    at\n  org.apache.spark.storage.DiskBlockObjectWriter.write(DiskBlockObjectWriter.scala:237)\n    at\n  org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:151)\n    at\n  org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:96)\n    at\n  org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:53)\n    at org.apache.spark.scheduler.Task.run(Task.scala:109)  at\n  org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)</p>\n  \n  <p>Driver stacktrace:    at\n  org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1602)\n    at\n  org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1590)\n    at\n  org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1589)\n    at\n  scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\n    at\n  org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1589)\n    at\n  org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\n    at\n  org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\n    at scala.Option.foreach(Option.scala:257)   at\n  org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:831)\n    at\n  org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1823)\n    at\n  org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1772)\n    at\n  org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1761)\n    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)\n    at\n  org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:642)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2034)    at\n  org.apache.spark.SparkContext.runJob(SparkContext.scala:2055)     at\n  org.apache.spark.SparkContext.runJob(SparkContext.scala:2074)     at\n  org.apache.spark.SparkContext.runJob(SparkContext.scala:2099)     at\n  org.apache.spark.rdd.RDD$$anonfun$collect$1.apply(RDD.scala:939)  at\n  org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at\n  org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:363)    at\n  org.apache.spark.rdd.RDD.collect(RDD.scala:938)   at\n  org.apache.spark.api.python.PythonRDD$.collectAndServe(PythonRDD.scala:162)\n    at\n  org.apache.spark.api.python.PythonRDD.collectAndServe(PythonRDD.scala)\n    at sun.reflect.GeneratedMethodAccessor72.invoke(Unknown Source)     at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)   at\n  java.lang.reflect.Method.invoke(Unknown Source)   at\n  py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)  at\n  py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)    at\n  py4j.Gateway.invoke(Gateway.java:282)     at\n  py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)   at\n  py4j.GatewayConnection.run(GatewayConnection.java:238)    at\n  java.lang.Thread.run(Unknown Source) Caused by:\n  java.io.FileNotFoundException:\n  C:\\Users\\srikanth\\AppData\\Local\\Temp\\blockmgr-f7a58081-572f-4ea9-a53e-a84f5ebfb955\\0c\\temp_shuffle_36ab37dd-0f30-41c6-8f4f-ef1400d58ba8\n  (The system cannot find the path specified)   at\n  java.io.FileOutputStream.open0(Native Method)     at\n  java.io.FileOutputStream.open(Unknown Source)     at\n  java.io.FileOutputStream.(Unknown Source)   at\n  org.apache.spark.storage.DiskBlockObjectWriter.initialize(DiskBlockObjectWriter.scala:103)\n    at\n  org.apache.spark.storage.DiskBlockObjectWriter.open(DiskBlockObjectWriter.scala:116)\n    at\n  org.apache.spark.storage.DiskBlockObjectWriter.write(DiskBlockObjectWriter.scala:237)\n    at\n  org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.write(BypassMergeSortShuffleWriter.java:151)\n    at\n  org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:96)\n    at\n  org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:53)\n    at org.apache.spark.scheduler.Task.run(Task.scala:109)  at\n  org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    ... 1 more</p>\n</blockquote>\n"}, {"tags": ["python", "html", "pyinstaller", "wkhtmltopdf", "python-pdfkit"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 9823721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4604c0ed697521461fb3ccb76c2b49e4?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Gentile", "link": "https://stackoverflow.com/users/9823721/andrew-gentile"}, "edited": false, "score": 0, "creation_date": 1541103306, "post_id": 52864222, "comment_id": 93112716, "body": "Thanks, it looks like this is the correct way forward. Follow up question, do you know how to add system environment variables when packaging a Python module? Would os.environ be able to accomplish this?"}], "tags": [], "owner": {"reputation": 36, "user_id": 7686753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zElXt.jpg?s=128&g=1", "display_name": "john_mwood", "link": "https://stackoverflow.com/users/7686753/john-mwood"}, "is_accepted": true, "score": 1, "last_activity_date": 1539813970, "last_edit_date": 1539813970, "creation_date": 1539813592, "answer_id": 52864222, "question_id": 52864157, "link": "https://stackoverflow.com/questions/52864157/converting-html-to-pdf-in-python/52864222#52864222", "title": "Converting HTML to PDF in Python", "body": "<p>If you want to package the HTML template in your module and you are using <code>setuptools</code> you can include any other files with a couple of changes: </p>\n\n<ol>\n<li>Create a file called <code>MANIFEST.in</code> in your base directory of the module </li>\n<li>Add all of the files you want to include like this: <code>include &lt;path/to/file/in/module&gt;</code> </li>\n<li>In <code>setup.py</code> add <code>include_package_data=True</code> to <code>setup()</code></li>\n</ol>\n\n<p>Making those changes should allow your module to include your template and allow the other modules to convert it to a PDF. </p>\n\n<p>If you are having pathing problems within the module, make sure that you are using absolute paths to reference other files. I would suggest using the builtin <code>os</code> module to build a path which works for any user. For example: <code>os.path.abspath(\"path/to/my/file\")</code> </p>\n"}], "owner": {"reputation": 5, "user_id": 9823721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4604c0ed697521461fb3ccb76c2b49e4?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Gentile", "link": "https://stackoverflow.com/users/9823721/andrew-gentile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1646, "favorite_count": 0, "accepted_answer_id": 52864222, "answer_count": 1, "score": 0, "last_activity_date": 1539813970, "creation_date": 1539813147, "question_id": 52864157, "link": "https://stackoverflow.com/questions/52864157/converting-html-to-pdf-in-python", "title": "Converting HTML to PDF in Python", "body": "<p>What is a good method for converting an HTML string file to PDF? I am trying to create a simple tool that creates a PDF report using some user inputs and an HTML template. I want to distribute this tool so that other coworkers can use it. </p>\n\n<p>Right now I am trying to use pdfkit and wkhtmltopdf. The issue is that I can only get this code to work when I specify the path to the wkhtmltopdf.exe file. When I package the code using PyInstaller, other users will not be able to use the program because they do not have the HTML template file or a path to wkhtmltopdf. Any ideas on how to resolve this or are there any alternative python packages/methods that I should use?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1539814488, "post_id": 52864155, "comment_id": 92642973, "body": "Your <code>matrix</code> is already a list."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9257667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47afa6b23f5f2904df6f53360f60205c?s=128&d=identicon&r=PG&f=1", "display_name": "Sol7", "link": "https://stackoverflow.com/users/9257667/sol7"}, "is_accepted": false, "score": 0, "last_activity_date": 1539813649, "creation_date": 1539813649, "answer_id": 52864237, "question_id": 52864155, "link": "https://stackoverflow.com/questions/52864155/how-do-you-turn-a-matrix-to-a-list-in-python/52864237#52864237", "title": "how do you turn a matrix to a list in python?", "body": "<p>This is called list comprehension.  There\u2019s plenty of tutorials but it\u2019s basically flattening 3 or 4 lines of code into one. Put anyway instead of creating a list within a loop you use this special syntax. \nHere\u2019s a good description of the technique <a href=\"https://python-3-patterns-idioms-test.readthedocs.io/en/latest/Comprehensions.html\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<p>You can also use dictionary comprehensions.</p>\n\n<p>Once you get used to the syntax then comprehensions do result in nice clean code.</p>\n\n<p>I suggest the following learning path.  Try figure out a basic list comprehension first, for example take a list of integers and turn it into a list of squared integers. Then move onto the two dimensional element.</p>\n"}], "owner": {"reputation": 9, "user_id": 10520930, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-x86m64Yh23s/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV0RFcrSv-0XnVbFfTK1NG0mmvOiA/mo/photo.jpg?sz=128", "display_name": "Jin Huang", "link": "https://stackoverflow.com/users/10520930/jin-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "closed_date": 1539813393, "answer_count": 1, "score": -3, "last_activity_date": 1539813649, "creation_date": 1539813133, "last_edit_date": 1539813303, "question_id": 52864155, "link": "https://stackoverflow.com/questions/52864155/how-do-you-turn-a-matrix-to-a-list-in-python", "closed_reason": "Duplicate", "title": "how do you turn a matrix to a list in python?", "body": "<pre><code>nums_lst = [x for y in matrix for x in y]\n</code></pre>\n\n<p>Could anyone please help me understand what does the line <code>x for y in matrix for x in y</code> mean? matrix is of type <code>list[[]]</code></p>\n\n<p>What is <code>x</code> and what is <code>y</code> in the matrix? \nThank you for your help. </p>\n\n<p><img src=\"https://i.stack.imgur.com/OhZnc.png\" alt=\"\"></p>\n"}, {"tags": ["python", "twitter", "tweepy"], "comments": [{"owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "edited": false, "score": 1, "creation_date": 1539815877, "post_id": 52864085, "comment_id": 92643355, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14149100/incompleteread-using-httplib/20645845#20645845\" title=\"incompleteread using httplib\">stackoverflow.com/questions/14149100/&hellip;</a> ."}, {"owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "reply_to_user": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "edited": false, "score": 1, "creation_date": 1539816006, "post_id": 52864085, "comment_id": 92643388, "body": "well, I am not making use of httplib directly, I am making use of Tweepy which makes use of Twitter API."}], "owner": {"reputation": 23680, "user_id": 2414957, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/0MuAW.jpg?s=128&g=1", "display_name": "Mona Jalal", "link": "https://stackoverflow.com/users/2414957/mona-jalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539812800, "creation_date": 1539812800, "question_id": 52864085, "link": "https://stackoverflow.com/questions/52864085/http-protocol-error-when-using-streaming-api-within-tweepy", "title": "http Protocol error when using streaming API within Tweepy", "body": "<p>Any idea how this problem could be fixed?</p>\n\n<pre><code>in retweeted_status found hashtags:  1\nTraceback (most recent call last):\n  File \"/usr/local/anaconda3/lib/python3.5/http/client.py\", line 578, in _readinto_chunked\n    n = self._safe_readinto(mvb)\n  File \"/usr/local/anaconda3/lib/python3.5/http/client.py\", line 625, in _safe_readinto\n    raise IncompleteRead(bytes(mvb[0:total_bytes]), len(b))\nhttp.client.IncompleteRead: IncompleteRead(0 bytes read, 512 more expected)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/urllib3/response.py\", line 331, in _error_catcher\n    yield\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/urllib3/response.py\", line 413, in read\n    data = self._fp.read(amt)\n  File \"/usr/local/anaconda3/lib/python3.5/http/client.py\", line 448, in read\n    n = self.readinto(b)\n  File \"/usr/local/anaconda3/lib/python3.5/http/client.py\", line 478, in readinto\n    return self._readinto_chunked(b)\n  File \"/usr/local/anaconda3/lib/python3.5/http/client.py\", line 589, in _readinto_chunked\n    raise IncompleteRead(bytes(b[0:total_bytes]))\nhttp.client.IncompleteRead: IncompleteRead(0 bytes read)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"mona_counthash_stream.py\", line 248, in &lt;module&gt;\n    streamer.filter(languages=[\"en\"], track=unique_hashtags[:367])\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/tweepy/streaming.py\", line 450, in filter\n    self._start(async)\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/tweepy/streaming.py\", line 364, in _start\n    self._run()\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/tweepy/streaming.py\", line 297, in _run\n    six.reraise(*exc_info)\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/six.py\", line 693, in reraise\n    raise value\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/tweepy/streaming.py\", line 266, in _run\n    self._read_loop(resp)\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/tweepy/streaming.py\", line 316, in _read_loop\n    line = buf.read_line().strip()\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/tweepy/streaming.py\", line 181, in read_line\n    self._buffer += self._stream.read(self._chunk_size)\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/urllib3/response.py\", line 430, in read\n    raise IncompleteRead(self._fp_bytes_read, self.length_remaining)\n  File \"/usr/local/anaconda3/lib/python3.5/contextlib.py\", line 77, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"/usr/local/anaconda3/lib/python3.5/site-packages/urllib3/response.py\", line 349, in _error_catcher\n    raise ProtocolError('Connection broken: %r' % e, e)\nurllib3.exceptions.ProtocolError: ('Connection broken: IncompleteRead(0 bytes read)', IncompleteRead(0 bytes read))\n</code></pre>\n"}, {"tags": ["python", "import", "python-import"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1539812725, "post_id": 52864064, "comment_id": 92642404, "body": "That&#39;s not what <code>import</code> is for. You need to read about how to write and call functions. Consider taking the <a href=\"https://docs.python.org/3/tutorial/\" rel=\"nofollow noreferrer\">official Python tutorial</a>."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1539812776, "post_id": 52864064, "comment_id": 92642423, "body": "Not really how you should use import, but you can just lose the <code>import Head</code> in the Tail.py. It will return to Head.py when it&#39;s done running Tail"}, {"owner": {"reputation": 6400, "user_id": 786593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ca3156e5785370494410fc80f28a79?s=128&d=identicon&r=PG", "display_name": "wp-overwatch.com", "link": "https://stackoverflow.com/users/786593/wp-overwatch-com"}, "edited": false, "score": 0, "creation_date": 1539813841, "post_id": 52864064, "comment_id": 92642792, "body": "Imported files will only be run once. To accomplish what you&#39;re trying to do you need to use a function. Functions can be rerun as many times as you want. You can place your function inside of Head.py or Tail.py, but it would be easiest to keep everything inside of Head.py for now."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1539815480, "post_id": 52864064, "comment_id": 92643249, "body": "&quot;I understand that it would be best to use a function, however, this was a simplification&quot; - in more complicated cases, you should still use functions. This is not what <code>import</code> is for, regardless of the complexity level."}], "owner": {"reputation": 113, "user_id": 9676943, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JxSGR.png?s=128&g=1", "display_name": "Nutik", "link": "https://stackoverflow.com/users/9676943/nutik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539815423, "creation_date": 1539812641, "last_edit_date": 1539815423, "question_id": 52864064, "link": "https://stackoverflow.com/questions/52864064/rerun-an-imported-external-python-file-in-a-program", "title": "Rerun an &quot;imported&quot; external python file in a program?", "body": "<p>I'm trying to make a \"head\" python program capable of running my other programs, which can return to the head program. I am using import to load these files.</p>\n\n<p>In Head:</p>\n\n<pre><code>print(\"Running Tail...\")\nimport Tail\n</code></pre>\n\n<p>This successfully runs Tail.py, which in it has</p>\n\n<pre><code>print(\"This is the program.\")\nprint(\"Heading back to Head...\")\nimport Head\n</code></pre>\n\n<p>This successfully returns to Head.py. However, when Head.py tries to run Tail.py again, it fails to run Tail again. Perhaps is there a way to \"unimport\" an imported module for this purpose? Many thanks!</p>\n\n<p>EDIT: I understand that it would be best to use a function, however, this was a simplification, and eventually, I want to have complicated programs for heads and tails, to the point where heads will involve other programs, and tail programs can run at a larger scale, using defines and such themselves. I want \"Head\" to work like a game launcher from a library.</p>\n"}, {"tags": ["python", "multithreading", "optimization", "web-scraping"], "comments": [{"owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "edited": false, "score": 2, "creation_date": 1539814572, "post_id": 52864045, "comment_id": 92643004, "body": "You might be interested in <a href=\"https://docs.python.org/3/library/concurrent.futures.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor or ProcessPoolExecutor</a> or <a href=\"https://docs.python.org/3.7/library/multiprocessing.html#multiprocessing.pool.Pool\" rel=\"nofollow noreferrer\">multiprocessing.pool</a> rather than writing the thread limiting code yourself."}], "answers": [{"comments": [{"owner": {"reputation": 250, "user_id": 10515583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7P08dLO6hyM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUhPr3xiKT3rzMetUG6d7FxrJ9itQ/mo/photo.jpg?sz=128", "display_name": "Sandhya Thotakura", "link": "https://stackoverflow.com/users/10515583/sandhya-thotakura"}, "edited": false, "score": 1, "creation_date": 1539833291, "post_id": 52864121, "comment_id": 92646845, "body": "are you sure? I used to run around 113 threads at a same time."}, {"owner": {"reputation": 36, "user_id": 7686753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zElXt.jpg?s=128&g=1", "display_name": "john_mwood", "link": "https://stackoverflow.com/users/7686753/john-mwood"}, "reply_to_user": {"reputation": 250, "user_id": 10515583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7P08dLO6hyM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUhPr3xiKT3rzMetUG6d7FxrJ9itQ/mo/photo.jpg?sz=128", "display_name": "Sandhya Thotakura", "link": "https://stackoverflow.com/users/10515583/sandhya-thotakura"}, "edited": false, "score": 1, "creation_date": 1539835561, "post_id": 52864121, "comment_id": 92647337, "body": "I believe most modules will run as many as possible concurrently and keep the others you initialize in a queue. You can initialize that many threads, you just can&#39;t do anything with them unless you have a distributed cluster of computers which can take up other threads."}, {"owner": {"reputation": 4295, "user_id": 5125212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/meon0.png?s=128&g=1", "display_name": "Damia Fuentes", "link": "https://stackoverflow.com/users/5125212/damia-fuentes"}, "edited": false, "score": 0, "creation_date": 1583205680, "post_id": 52864121, "comment_id": 107028635, "body": "You can run different processes in different cores using multiprocessing. But you can run multiple threads in the same core using threading. Different things man."}], "tags": [], "owner": {"reputation": 36, "user_id": 7686753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zElXt.jpg?s=128&g=1", "display_name": "john_mwood", "link": "https://stackoverflow.com/users/7686753/john-mwood"}, "is_accepted": false, "score": -1, "last_activity_date": 1539812990, "creation_date": 1539812990, "answer_id": 52864121, "question_id": 52864045, "link": "https://stackoverflow.com/questions/52864045/python-webscraping-multi-threading-limit-on-threads/52864121#52864121", "title": "Python - webscraping - Multi threading - Limit on threads?", "body": "<p>The number of threads you can run concurrently depends on your machine and the number of cores the cpu has. Most machines can run 2 threads per core. An easy way to figure out what works for your machine is in the <code>multiprocessing</code> module in Python: </p>\n\n<pre><code>import multiprocessing\nmultiprocessing.cpu_count()\n</code></pre>\n\n<p>This function will show the maximum number of threads you can run concurrently. Hope this helps!  </p>\n"}], "owner": {"reputation": 250, "user_id": 10515583, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7P08dLO6hyM/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUhPr3xiKT3rzMetUG6d7FxrJ9itQ/mo/photo.jpg?sz=128", "display_name": "Sandhya Thotakura", "link": "https://stackoverflow.com/users/10515583/sandhya-thotakura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539836718, "creation_date": 1539812501, "question_id": 52864045, "link": "https://stackoverflow.com/questions/52864045/python-webscraping-multi-threading-limit-on-threads", "title": "Python - webscraping - Multi threading - Limit on threads?", "body": "<p>I have a code to retrieve search results from website.</p>\n\n<p>The ExtractDetails function is a big search function that searches the websites.</p>\n\n<pre><code>LangList = ['91','32','69','A9','48','62','01','75','34','73','B1',\n'68','61','20','03','35','36','86','87','AS','63','04','AO','65','57','05','AE','06','AC','07','08','A4','37','72','70',\n'38','09','95','10','A1','B0','AL','A8','39','AT','94','11','84','12','59','AG','AB','13','40','14','AW','67','98','AJ',\n'41','15','74','16','33','17','AU','AV','A0','42','92','AI','18','AD','A2','43','AM','44','45','A3','85','58','83','71',\n'21','22','A6','90','AR','99','46','78','23','24','76','AP','25','26','AN','47','60','97','49','56','27','93','AZ','02',\n'28','77','AA','29','50','A5','64','51','52','AQ','AY','A7','80','30','53','54','31','96','79','89','55','66','82','81']\nAlphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'\nSearchCriteria=[Alphabet] * len(LangList)\nfor Lang , alphabets in LostConn.items():\n    for item in alphabets:\n        t = Thread(target=ExtractDetails,args=(Lang,item + '%',))\n        t.start()\n        th.append(t)\nfor thr in th:\n    thr.join()\n</code></pre>\n\n<p>The problem with the script is that my laptop will hang if I run this code, because it will generate 3406 threads. My questions is how to determine the optimal number of threads on particular a laptop?</p>\n"}, {"tags": ["python", "string", "python-3.x"], "comments": [{"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 0, "creation_date": 1539812598, "post_id": 52863994, "comment_id": 92642362, "body": "you have to do it like this? or regex is allowed?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 1, "creation_date": 1539812646, "post_id": 52863994, "comment_id": 92642379, "body": "The single line <code>word[:-1]</code> does not do anything, and it&#39;s not clear what you <i>think</i> what it <i>should</i> be doing there either."}, {"owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "edited": false, "score": 1, "creation_date": 1539814367, "post_id": 52863994, "comment_id": 92642944, "body": "<code>&#39; &#39;.join([&#39;&#39;.join([ch for ch in ss if ch.isalpha()]) for ss in in_str.split()])</code> and you should avoid using <code>input</code> as a named variable. It is a function in Python."}], "answers": [{"tags": [], "owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "is_accepted": false, "score": 1, "last_activity_date": 1539813902, "last_edit_date": 1539813902, "creation_date": 1539813111, "answer_id": 52864151, "question_id": 52863994, "link": "https://stackoverflow.com/questions/52863994/how-to-use-the-isalpha-function-to-remove-special-characters/52864151#52864151", "title": "How to use the isalpha function to remove special characters", "body": "<p>It seems you are expecting <code>word[:-1]</code> to remove the last character of word and have that change reflected in the list <code>word_list</code>. However, you have assigned the string in <code>word_list</code> to a new variable called word and therefore the change won't be reflected in the list itself. </p>\n\n<p>A simple fix would be to create a new list and append values into that. Note that your original string is called <code>input</code> which shadows the builtin <code>input()</code> function which is not a good idea:</p>\n\n<pre><code>input_string = 'Hello, Goodbye hello hello! bye byebye hello?'\nword_list = input_string.split()\nnew = []\nfor word in word_list:\n    if word.isalpha() == False:\n        new.append(word[:-1])\n    else:\n        new.append(word)\n\ndi = dict()\nfor word in new:\n    di[word] = di.get(word,0)+1\n\nprint(di)\n# {'byebye': 1, 'bye': 1, 'Hello': 1, 'Goodbye': 1, 'hello': 3}\n</code></pre>\n\n<p>You could also remove the second for loop and use <code>collections.Counter</code> instead:</p>\n\n<pre><code>from collections import Counter\nprint(Counter(new))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1539815892, "post_id": 52864398, "comment_id": 92643360, "body": "If using re, why not simply kick out all undesired characters instead?"}, {"owner": {"reputation": 2192, "user_id": 3106565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59de4b3d6299b5b375e072efd690870d?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Mamun", "link": "https://stackoverflow.com/users/3106565/osman-mamun"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1539816361, "post_id": 52864398, "comment_id": 92643476, "body": "are you talking about re.sub to substitute special characters with empty string?"}], "tags": [], "owner": {"reputation": 2192, "user_id": 3106565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59de4b3d6299b5b375e072efd690870d?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Mamun", "link": "https://stackoverflow.com/users/3106565/osman-mamun"}, "is_accepted": false, "score": 1, "last_activity_date": 1539816918, "last_edit_date": 1539816918, "creation_date": 1539814712, "answer_id": 52864398, "question_id": 52863994, "link": "https://stackoverflow.com/questions/52863994/how-to-use-the-isalpha-function-to-remove-special-characters/52864398#52864398", "title": "How to use the isalpha function to remove special characters", "body": "<p>One solution using re:</p>\n\n<pre><code>In [1]: import re\nIn [2]: a = 'Hello, Goodbye hello hello! bye byebye hello?'\nIn [3]: ' '.join([i for i in re.split(r'[^A-Za-z]', a) if i])\nOut[3]: 'Hello Goodbye hello hello bye byebye hello'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1539816022, "post_id": 52864516, "comment_id": 92643393, "body": "<code>if not word.isalpha():</code> tests the entire <i>word</i>, but <code>res.append(word[:-1])</code> always removes the last <i>character</i>. However, it works for OP&#39;s example and it&#39;s unclear whether this is by design or purely accidental."}, {"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1539816062, "post_id": 52864516, "comment_id": 92643405, "body": "@usr2564301, Yep, I was in the process of writing an extra sentence (see update). It&#39;s obviously an assumption based on current logic."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1539816029, "last_edit_date": 1539816029, "creation_date": 1539815639, "answer_id": 52864516, "question_id": 52863994, "link": "https://stackoverflow.com/questions/52863994/how-to-use-the-isalpha-function-to-remove-special-characters/52864516#52864516", "title": "How to use the isalpha function to remove special characters", "body": "<p>You are nearly there with your <code>for</code> loop. The main stumbling block seems to be that <code>word[:-1]</code> on its own does <em>nothing</em>, you need to <em>store</em> that data somewhere. For example, by appending to a list.</p>\n\n<p>You also need to specify what happens to strings which don't need modifying. I'm also not sure what purpose the dictionary serves.</p>\n\n<p>So here's your <code>for</code> loop re-written:</p>\n\n<pre><code>mystring = 'Hello, Goodbye hello hello! bye byebye hello?'\nword_list = mystring.split()\n\nres = []\nfor word in word_list:\n    if not word.isalpha():\n        res.append(word[:-1])\n    else:\n        res.append(word)\n\nmystring_out = ' '.join(res)  # 'Hello Goodbye hello hello bye byebye hello'\n</code></pre>\n\n<p>The idiomatic way to write the above is via feeding a list comprehension to <code>str.join</code>:</p>\n\n<pre><code>mystring_out = ' '.join([word[:-1] if not word.isalpha() else word \\\n                         for word in mystring.split()])\n</code></pre>\n\n<p>It goes without saying that this assumes <code>word.isalpha()</code> returns <code>False</code> due to an unwanted character at the end of a string, and that this is the <em>only</em> scenario you want to consider for special characters.</p>\n"}], "owner": {"reputation": 89, "user_id": 10015392, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TotLtBHqIRI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0BRRTrBqoZwzoAHcIWK-BconlU1A/mo/photo.jpg?sz=128", "display_name": "Sloth87", "link": "https://stackoverflow.com/users/10015392/sloth87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1378, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1540492555, "creation_date": 1539812278, "last_edit_date": 1539815768, "question_id": 52863994, "link": "https://stackoverflow.com/questions/52863994/how-to-use-the-isalpha-function-to-remove-special-characters", "title": "How to use the isalpha function to remove special characters", "body": "<p>I am trying to remove special characters from each element in a string. The below code does count the elements but i can't get the .isalpha to remove the non alphabetical elements. Is anyone able to assist? Thank you in advance. </p>\n\n<pre><code>input = 'Hello, Goodbye hello hello! bye byebye hello?'\nword_list = input.split()\n\nfor word in word_list:\n    if word.isalpha()==False:\n        word[:-1]\ndi = dict()\nfor word in word_list:\n    di[word] = di.get(word,0)+1\n\ndi\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy", "flask", "nltk"], "owner": {"reputation": 107, "user_id": 7875887, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RHWLp.png?s=128&g=1", "display_name": "LordQuackingStick", "link": "https://stackoverflow.com/users/7875887/lordquackingstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1539812230, "creation_date": 1539812230, "question_id": 52863984, "link": "https://stackoverflow.com/questions/52863984/automatic-summarization-only-returns-first-sentence-python-flask", "title": "Automatic Summarization only returns first sentence - Python / Flask", "body": "<p>Trying to create a site that uses multiple algorithms to auto summarize articles. Running into an issue where only the first sentence is taken from the selection, any help is appreciated.</p>\n\n<p>I am using the library sumy which is a summarization library and using flask and HTML/CSS to output the automated summarizations from the algorithm. Other than LSA, the only output that comes out is the first sentence, leading me to believe it's something to do with my \"para\" variable. I created it because it appends strings to create full paragraphs, but I'm sure there's an easier way to do it. </p>\n\n<pre><code>   @app.route('/dependent', methods = ['POST'])\ndef mySumD():\nif request.form['action'] == 'LSA':\n    para = \"\"\n    url = request.form['url_link']\n    parser = HtmlParser.from_url(url, Tokenizer(LANGUAGE))\n    stemmer = Stemmer(LANGUAGE)\n    summarizer = Summarizer(stemmer)\n    summarizer.stop_words = get_stop_words(LANGUAGE)\n\n    for sentence in summarizer(parser.document, SENTENCES_COUNT):\n        data = str(sentence)\n        para += data \n    return render_template('dependent.html', para = para)\n\nelif request.form['action'] == 'Luhn':\n    para = \"\"\n    url = request.form['url_link']\n    parser = HtmlParser.from_url(url, Tokenizer(LANGUAGE))\n    stemmer = Stemmer(LANGUAGE)\n    summarizer = LuhnSummarizer(stemmer)\n    summarizer.stop_words = get_stop_words(LANGUAGE)\n\n    for sentence in summarizer(parser.document, SENTENCES_COUNT):\n        data = str(sentence)\n        para += data \n        return render_template('dependent.html', para = para)\n\nelif request.form['action'] == 'LexRank':\n    para = \"\"\n    url = request.form['url_link']\n    parser = HtmlParser.from_url(url, Tokenizer(LANGUAGE))\n    stemmer = Stemmer(LANGUAGE)\n    summarizer = LexSummarizer(stemmer)\n    summarizer.stop_words = get_stop_words(LANGUAGE)\n\n    for sentence in summarizer(parser.document, SENTENCES_COUNT):\n        data = str(sentence)\n        para += data \n        return render_template('dependent.html', para = para)\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;form action = \"{{ url_for('mySumD') }}\" method = \"POST\" id=\"urlForm\" class=\"standard\"&gt;\n\n &lt;input type=\"url\" id = \"url\" name=\"url_link\" class= \"form-control\" placeholder=\"Insert URL here...\"&gt;\n        &lt;div id=\"url_field_is_empty\" class=\"error\" style=\"display: none\"&gt; You must submit a valid URL&lt;/div&gt;\n  &lt;h1&gt;Choose Your Summarization Method&lt;/h1&gt;\n  &lt;div class=\"btn-group\" style=\"width:100%\" id=\"subscribersoptions\"&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"LSA\"&gt;LSA&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"Luhn\"&gt;Luhn&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"LexRank\"&gt;Lex Rank&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"TextRank\"&gt;Text Rank&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"SumBasic\"&gt;SumBasic&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"KL-Sum\"&gt;KL-Sum&lt;/button&gt;\n  &lt;/div&gt;    \n  &lt;br&gt;\n  {{para}}\n\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["python", "setup.py"], "comments": [{"owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 1, "creation_date": 1539812177, "post_id": 52863946, "comment_id": 92642213, "body": "can try &quot;from . import linux&quot; instead of &quot;import linux&quot;"}, {"owner": {"reputation": 65, "user_id": 5171527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/748d4fe31d7ed2132bc18c18186f58ed?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo", "link": "https://stackoverflow.com/users/5171527/alfredo"}, "reply_to_user": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539812443, "post_id": 52863946, "comment_id": 92642302, "body": "@ChristianSloper I tried it, but it did not work, I got a similar error. ImportError: cannot import name &#39;linux&#39; from &#39;venus&#39; (/home/user/Documents/venus/env/lib/python3.7/site-packages/&zwnj;&#8203;venus/__init__.py)"}, {"owner": {"reputation": 65, "user_id": 5171527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/748d4fe31d7ed2132bc18c18186f58ed?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo", "link": "https://stackoverflow.com/users/5171527/alfredo"}, "reply_to_user": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539814608, "post_id": 52863946, "comment_id": 92643012, "body": "@ChristianSloper Actually that did it! I forgot I had changed the file name of linux.py. Why does this work?"}, {"owner": {"reputation": 65, "user_id": 5171527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/748d4fe31d7ed2132bc18c18186f58ed?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo", "link": "https://stackoverflow.com/users/5171527/alfredo"}, "reply_to_user": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539815286, "post_id": 52863946, "comment_id": 92643191, "body": "@ChristianSloper I might have spoke too soon as it breaks the program when calling it from the terminal with python venus.py -&gt; ImportError: cannot import name &#39;linux&#39; from &#39;<b>main</b>&#39; (venus.py)"}, {"owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539851582, "post_id": 52863946, "comment_id": 92653594, "body": "maybe you can upload to github and I can look at your solution there?  Its a bit hard to debug through comments alone :-)"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1539867231, "post_id": 52863946, "comment_id": 92662359, "body": "<code>linux.py</code> is inside the <code>venus</code> package (a dir containing an <code>__init__.py</code>), so its name is <code>venus.linux</code>. Either do <code>from venus import linux</code> or <code>import venus.linux</code>."}], "owner": {"reputation": 65, "user_id": 5171527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/748d4fe31d7ed2132bc18c18186f58ed?s=128&d=identicon&r=PG&f=1", "display_name": "Alfredo", "link": "https://stackoverflow.com/users/5171527/alfredo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539812041, "creation_date": 1539812041, "question_id": 52863946, "link": "https://stackoverflow.com/questions/52863946/making-a-setup-py-file-modulenotfounderror-when-runing-package", "title": "Making a setup.py file ModuleNotFoundError when runing package", "body": "<p>I am trying to package a project for the first time and I am running into the issue where my 'linux.py' module is not being installed when I run pip. This is the error I get after installing when running my package.</p>\n\n<pre><code>ModuleNotFoundError: No module named 'linux'\n</code></pre>\n\n<p>linux.py is being included inside venus.py as such:</p>\n\n<pre><code>import linux\n</code></pre>\n\n<p>Here is my setup.py file</p>\n\n<pre><code>from setuptools import setup, find_packages\n\nsetup(\nname='venus',\nversion='0.0.1',\ndescription=\"A cross platform tool for setting a random wallpaper image from unsplash.com\",\nlicense=\"MIT\",\n#packages=['venus',],\npackages=find_packages(),\ninstall_requires=[\n'requests',\n],\nentry_points={\"console_scripts\": [\"venus = venus.venus:main\"]},\n)\n</code></pre>\n\n<p>Here is what the output from pip install . using virtualenv</p>\n\n<pre><code>Processing /home/user/Documents/venus\nRequirement already satisfied: requests in ./env/lib/python3.7/site-packages (from venus==0.0.1) (2.19.1)\nRequirement already satisfied: chardet&lt;3.1.0,&gt;=3.0.2 in ./env/lib/python3.7/site-packages (from requests-&gt;venus==0.0.1) (3.0.4)\nRequirement already satisfied: idna&lt;2.8,&gt;=2.5 in ./env/lib/python3.7/site-packages (from requests-&gt;venus==0.0.1) (2.7)\nRequirement already satisfied: urllib3&lt;1.24,&gt;=1.21.1 in ./env/lib/python3.7/site-packages (from requests-&gt;venus==0.0.1) (1.23)\nRequirement already satisfied: certifi&gt;=2017.4.17 in ./env/lib/python3.7/site-packages (from requests-&gt;venus==0.0.1) (2018.10.15)\nBuilding wheels for collected packages: venus\nRunning setup.py bdist_wheel for venus ... done\nStored in directory: /tmp/pip-ephem-wheel-cache-krjpkz8c/wheels/0e/fc/f8/94d809f34270dfc8e6944773a2a7f25f69f02eb580f2674ca6\nSuccessfully built venus\nInstalling collected packages: venus\nSuccessfully installed venus-0.0.1\n</code></pre>\n\n<p>And this is what my file structure looks like</p>\n\n<pre><code>venus\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 linux.py\n\u2514\u2500\u2500 venus.py\n</code></pre>\n\n<p>I have looked search for answers many times and have not found a  solution. As you can see in the setup.py file, I tried using the find_packages() function as well and that didn't solve it. What am I missing here?</p>\n\n<p>I am using python 3.7\npip version 18.0</p>\n"}, {"tags": ["python", "json", "python-3.x", "dataframe"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1539812041, "post_id": 52863927, "comment_id": 92642177, "body": "Where is the YAML?"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1539812522, "post_id": 52863927, "comment_id": 92642332, "body": "@d_kennetz I asked &quot;where&quot;. I am familiar with YAML, there is none in the question. It&#39;s a parsed structure of dictionaries and lists, the question seemingly has nothing to do with YAML"}, {"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1539812549, "post_id": 52863927, "comment_id": 92642344, "body": "@roganjosh hence why I deleted my return comment :P. Misread what you said."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "reply_to_user": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1539812904, "post_id": 52863927, "comment_id": 92642491, "body": "@d_kennetz on my phone so I get a delayed view :) OP: YAML has several formatting options that actually make it, IMO, possibly more readable than JSON. Coupled with you having already parsed it out of YAML format into something easily dumpable as JSON, I don&#39;t know what you&#39;re looking for."}, {"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1539813295, "post_id": 52863927, "comment_id": 92642628, "body": "Would you only want the middle &#39;conf&#39; section in your result df or all of it?"}, {"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1539813542, "post_id": 52863927, "comment_id": 92642699, "body": "essentially you seem to want to recurse the middle section until you arrive at a df?"}, {"owner": {"reputation": 18939, "user_id": 2756409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UIrGI.jpg?s=128&g=1", "display_name": "TylerH", "link": "https://stackoverflow.com/users/2756409/tylerh"}, "edited": false, "score": 6, "creation_date": 1549665945, "post_id": 52863927, "comment_id": 95998834, "body": "This question is being <a href=\"https://meta.stackoverflow.com/questions/379981/a-user-decided-he-did-not-want-his-data-on-the-web-so-he-removed-it-from-my-ans\">discussed on Meta</a>."}], "answers": [{"comments": [{"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1539818128, "post_id": 52864377, "comment_id": 92643945, "body": "Thanks for the trying to help.  Your code seems to eliminate a whole bunch of  data sets.  In my original data set, I had &#39;c3_Month_T_Bill&#39; 28x.  In the parsed version, I have &#39;c3_Month_T_Bill&#39; 4x.  It seems like your script is taking unique named and data types, and flattening those, but all the others get kicked out....somehow.  I want to keep all the data sets, even though they repeat multiple times.  These data sets are tables, field names, and data types.  The field names and data types can show up multiple times, but each combination of these is in a different table.  Thanks."}, {"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "reply_to_user": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1539871411, "post_id": 52864377, "comment_id": 92665098, "body": "so in your example data you have multiple dictionaries, named exactly the same. I did not set an iterator up for dict types because it didn&#39;t seem like I needed to, but yes if it finds a dict that has the exact same name as a previous dict it wont work in its current state, but it also a super easy fix.... you just add an iterator to every conditional."}, {"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1539871688, "post_id": 52864377, "comment_id": 92665272, "body": "Yeah, I think this should be kind of easy, but I got going in the wrong direction with this, apparently, and now I&#39;m kind of getting off track here.  Is there a simple solution for this.  It seems like there should be a library that handles this kind of thing, but I couldn&#39;t find anything useful.  Google is great, but it doesn&#39;t solve all problems."}, {"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "reply_to_user": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1539871861, "post_id": 52864377, "comment_id": 92665384, "body": "I think the only solution for nested jsons with varying data types is recursion. I do not know of any simple libraries for it, but that doesn&#39;t mean there aren&#39;t any. Indeed, Dr. Google knows a lot, but not all!"}], "tags": [], "owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "is_accepted": false, "score": 2, "last_activity_date": 1549663971, "last_edit_date": 1549663971, "creation_date": 1539814563, "answer_id": 52864377, "question_id": 52863927, "link": "https://stackoverflow.com/questions/52863927/is-there-a-way-to-convert-a-yaml-to-a-dataframe-or-somehow-flatten-or-normalize/52864377#52864377", "title": "Is there a way to convert a yaml to a dataframe? Or somehow flatten or normalize many data sets rendered as JSON?", "body": "<p>This will recursively extract out values into a flattened dict and each level of 'flattening' will combined into a final string for each key. So if level of flattening was 0 (object already was a dict) it will be as you'd expect like class: pipesteps.validate.Validate. If it is deep then you will see what will happen:</p>\n\n<pre><code>from pandas.io.json import json_normalize\n\na = {'class': 'pipesteps.validate.Validate', 'conf': {'schema_def': {'fields': [{'data_type': 'STRING', 'name': 'Operation'}, {'data_type': 'STRING', 'name': 'SNL_Institution_Key'}, {'data_type': 'INTEGER', 'name': 'SNL_Funding_Key'}, {'data_type': 'STRING', 'name': 'CUSIP'}, {'data_type': 'STRING', 'name': 'SEDOL_NULL'}, {'data_type': 'STRING', 'name': 'Ticker'}, {'data_type': 'DATETIME', 'name': 'Date_of_Closing_Price'}, {'data_type': 'FLOAT', 'name': 'Total_Return_MTD'}, {'data_type': 'FLOAT', 'name': 'TR_SNL_Peer_Index_Change'}, {'data_type': 'FLOAT', 'name': 'TR_SNL_Broad_Index_Change'}, {'data_type': 'FLOAT', 'name': 'TR_SandP_500'}, {'data_type': 'DATETIME', 'name': 'Beginning_Pricing_Date'}]}}, 'id': 'validate'}\n\ndef flatten_json(y):\n    out = {}\n    # some recursion\n    def flatten(x, name=''):\n        if type(x) is dict:\n            for a in x:\n                flatten(x[a], name + a + '_')\n        elif type(x) is list:\n            i = 0\n            for a in x:\n                flatten(a, name + str(i) + '_')\n                i += 1\n        else:\n            out[name[:-1]] = x\n\n    flatten(y)\n    return out\n\nflat_json = flatten_json(a)\ndf = (json_normalize(flat_json)).T # .T because it makes a DF of 1 row and 26 columns and I didn't like that\n</code></pre>\n\n<p>If you don't want it transposed and just want 26 columns because it will probably be easier to access data that way then just take off the .T at the end of the df</p>\n\n<p>output:</p>\n\n<pre><code>&gt;&gt;&gt; df\n                                                           0\nclass                                pipesteps.validate.Validate\nconf_schema_def_fields_0_data_type                        STRING\nconf_schema_def_fields_0_name                          Operation\nconf_schema_def_fields_10_data_type                        FLOAT\nconf_schema_def_fields_10_name                      TR_SandP_500\nconf_schema_def_fields_11_data_type                     DATETIME\nconf_schema_def_fields_11_name            Beginning_Pricing_Date\nconf_schema_def_fields_1_data_type                        STRING\nconf_schema_def_fields_1_name                SNL_Institution_Key\nconf_schema_def_fields_2_data_type                       INTEGER\nconf_schema_def_fields_2_name                    SNL_Funding_Key\nconf_schema_def_fields_3_data_type                        STRING\nconf_schema_def_fields_3_name                              CUSIP\nconf_schema_def_fields_4_data_type                        STRING\nconf_schema_def_fields_4_name                         SEDOL_NULL\nconf_schema_def_fields_5_data_type                        STRING\nconf_schema_def_fields_5_name                             Ticker\nconf_schema_def_fields_6_data_type                      DATETIME\nconf_schema_def_fields_6_name              Date_of_Closing_Price\nconf_schema_def_fields_7_data_type                         FLOAT\nconf_schema_def_fields_7_name                   Total_Return_MTD\nconf_schema_def_fields_8_data_type                         FLOAT\nconf_schema_def_fields_8_name           TR_SNL_Peer_Index_Change\nconf_schema_def_fields_9_data_type                         FLOAT\nconf_schema_def_fields_9_name          TR_SNL_Broad_Index_Change\nid                                                      validate\n</code></pre>\n"}], "owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 618, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1549671075, "creation_date": 1539811940, "last_edit_date": 1549671075, "question_id": 52863927, "link": "https://stackoverflow.com/questions/52863927/is-there-a-way-to-convert-a-yaml-to-a-dataframe-or-somehow-flatten-or-normalize", "title": "Is there a way to convert a yaml to a dataframe? Or somehow flatten or normalize many data sets rendered as JSON?", "body": "<p>I have multiple data sets that look something like this:</p>\n\n<pre><code>{'class': 'pipesteps.validate.Validate', 'conf': {'schema_def': {'fields': [{'data_type': 'STRING', 'name': 'Operation'}, {'data_type': 'STRING', 'name': 'SNL_Institution_Key'}, {'data_type': 'INTEGER', 'name': 'SNL_Funding_Key'}, {'data_type': 'STRING', 'name': 'CUSIP'}, {'data_type': 'STRING', 'name': 'SEDOL_NULL'}, {'data_type': 'STRING', 'name': 'Ticker'}, {'data_type': 'DATETIME', 'name': 'Date_of_Closing_Price'}, {'data_type': 'FLOAT', 'name': 'Total_Return_MTD'}, {'data_type': 'FLOAT', 'name': 'TR_SNL_Peer_Index_Change'}, {'data_type': 'FLOAT', 'name': 'TR_SNL_Broad_Index_Change'}, {'data_type': 'FLOAT', 'name': 'TR_SandP_500'}, {'data_type': 'DATETIME', 'name': 'Beginning_Pricing_Date'}]}}, 'id': 'validate'}\n</code></pre>\n\n<p>Pretty much everything is organized as 'datatype' or 'name'.</p>\n\n<p>There are dozens and dozens of these data sets embedded in a text file.  Each set begins with <code>'class': 'pipesteps.validate.Validate'</code> and ends with <code>'id': 'validate'</code>.  I am trying to organize this data into a single data frame, or somehow flatten/normalize it, so it is easier for a person to read.  How can I do that?</p>\n\n<p>I'm guessing there is a simple and straightforward method to do all of this, but after searching on Google for a while, I still can't find a solution, so I'm back here.  TIA.</p>\n"}, {"tags": ["python", "html", "pandas", "dataframe", "flask"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5841915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734b1eea39dfd174315922cebdd56bc1?s=128&d=identicon&r=PG&f=1", "display_name": "ChappyHova", "link": "https://stackoverflow.com/users/5841915/chappyhova"}, "edited": false, "score": 0, "creation_date": 1539812678, "post_id": 52863977, "comment_id": 92642388, "body": "It doesn&#39;t work for me although it does look right within the html, I get this <a href=\"https://imgur.com/a5kapBd\" rel=\"nofollow noreferrer\">imgur.com/a5kapBd</a> I wonder if it&#39;s a collision between escape=False and the html code? If I remove escape=False I just get the html code in the cell rather than a clickable link."}, {"owner": {"reputation": 118, "user_id": 5496345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPN4s.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5496345/mark"}, "reply_to_user": {"reputation": 13, "user_id": 5841915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734b1eea39dfd174315922cebdd56bc1?s=128&d=identicon&r=PG&f=1", "display_name": "ChappyHova", "link": "https://stackoverflow.com/users/5841915/chappyhova"}, "edited": false, "score": 0, "creation_date": 1539813520, "post_id": 52863977, "comment_id": 92642691, "body": "@ChappyHova In the question, there was definitely something weird going on with the &quot;&lt;a href=&#39;{{ url_for(&#39;player&#39;, player_id=1) }}&#39;&gt;Click This Button Here&lt;/a&gt;&quot;. I see single-quotes around &quot;player&quot; in addition to around the href url, which are probably causing the unintended behavior?"}, {"owner": {"reputation": 13, "user_id": 5841915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734b1eea39dfd174315922cebdd56bc1?s=128&d=identicon&r=PG&f=1", "display_name": "ChappyHova", "link": "https://stackoverflow.com/users/5841915/chappyhova"}, "edited": false, "score": 0, "creation_date": 1539813817, "post_id": 52863977, "comment_id": 92642785, "body": "That was just my latest attempt lol. I&#39;d tried about 20 different combinations of quotations in different places, even with your code which looks right to me I end up with this in the address bar &quot;%7B%7B%20url_for(&#39;player&#39;,%20player_id=1)%20%7D%7D&quot;. Seems like it&#39;s substituting characters out for URL encoding."}, {"owner": {"reputation": 118, "user_id": 5496345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPN4s.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5496345/mark"}, "reply_to_user": {"reputation": 13, "user_id": 5841915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734b1eea39dfd174315922cebdd56bc1?s=128&d=identicon&r=PG&f=1", "display_name": "ChappyHova", "link": "https://stackoverflow.com/users/5841915/chappyhova"}, "edited": false, "score": 0, "creation_date": 1539817265, "post_id": 52863977, "comment_id": 92643735, "body": "@ChappyHova does <a href=\"https://stackoverflow.com/a/47280939/5496345\">this answer</a> help?"}], "tags": [], "owner": {"reputation": 118, "user_id": 5496345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sPN4s.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/5496345/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1539812526, "last_edit_date": 1539812526, "creation_date": 1539812202, "answer_id": 52863977, "question_id": 52863906, "link": "https://stackoverflow.com/questions/52863906/links-within-dataframe-flask/52863977#52863977", "title": "Links Within DataFrame (Flask)", "body": "<p>Try:\n</p>\n\n<pre><code>data['second name'] = '''&lt;a href=\"{{ url_for('player', player_id=1) }}\"&gt;Click This Button Here&lt;/a&gt;'''\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5841915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/734b1eea39dfd174315922cebdd56bc1?s=128&d=identicon&r=PG&f=1", "display_name": "ChappyHova", "link": "https://stackoverflow.com/users/5841915/chappyhova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 524, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539868792, "creation_date": 1539811797, "last_edit_date": 1539868792, "question_id": 52863906, "link": "https://stackoverflow.com/questions/52863906/links-within-dataframe-flask", "title": "Links Within DataFrame (Flask)", "body": "<p>I'm currently trying to create buttons within one of the columns on my DataFrame and then using .to_html to print it as a DataTable within a web page. I've managed to make the buttons clickable by using escape=False in the to_html function but I cannot get the links to go to the right place. </p>\n\n<p>Below is my current attempt, I'm pretty sure it's something to do with the quotation marks.</p>\n\n<pre><code>def add_url(data):\n    data['second name'] = \"&lt;a href='{{ url_for('player', player_id=1) }}'&gt;Click This Button Here&lt;/a&gt;\"\n</code></pre>\n\n<p>It feels like I've tried 6 million combinations of quotation marks but when I look at the html that's generated it always seems to have random quotation marks and not where I want them to be, as shown below. </p>\n\n<p><a href=\"https://i.stack.imgur.com/XRDd0.png\" rel=\"nofollow noreferrer\">HTML Code</a></p>\n\n<p>Here is my function that it should hook up to, it works perfectly if I put the code directly into the .html file, I just can't get it to work from the .py file within the DataFrame. </p>\n\n<pre><code>@app.route('/player/&lt;int:player_id&gt;')\ndef player(player_id):\n    data = load_df('Data/players_pickle/'+str(player_id)+'.pickle')\n    return render_template('player.html', data=data.to_html(escape=False))\n</code></pre>\n\n<p>It should eventually look like this <a href=\"https://i.stack.imgur.com/1I0ZQ.png\" rel=\"nofollow noreferrer\">DataTable</a></p>\n\n<p>Any help would be much appreciated as I've been struggling with this for far too long, feels like I'm trying the same combinations over and over again!</p>\n\n<p>Update: </p>\n\n<p>I've continued trying different combinations of quotations but it must have something to do with encoding when it goes from the .py to the html. </p>\n\n<p>All I get in the address bar when I click the link is</p>\n\n<pre><code>http://127.0.0.1:5000/%7B%7B%20url_for('player',%20player_id=1)%20%7D%7D\n</code></pre>\n\n<p>It's obviously replacing spaces, curly braces etc with unicode and no matter what I try it keeps doing it. Could it be because it's within a Dataframe and it's just no possible when using to_html() for it to be as it should be?</p>\n"}, {"tags": ["python", "csv", "tableau-api"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 2016632, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7ef12d3fad7dcc18ab17f763a6a6da3?s=128&d=identicon&r=PG", "display_name": "Tunneller", "link": "https://stackoverflow.com/users/2016632/tunneller"}, "edited": false, "score": 0, "creation_date": 1539830155, "post_id": 52864018, "comment_id": 92646239, "body": "Yes, this was more-or-less, what I had in mind, so the question was what best source. I&#39;ve just found the HYPER format  and that can be created directly by python and then read automatically by  Tableau, so maybe that is the &quot;best&quot; source..... <a href=\"https://onlinehelp.tableau.com/current/api/extract_api/en-us/help.htm\" rel=\"nofollow noreferrer\">onlinehelp.tableau.com/current/api/extract_api/en-us/help.ht&zwnj;&#8203;m</a>"}, {"owner": {"reputation": 1133, "user_id": 1738895, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/t6NvT.png?s=128&g=1", "display_name": "vizyourdata", "link": "https://stackoverflow.com/users/1738895/vizyourdata"}, "reply_to_user": {"reputation": 71, "user_id": 2016632, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7ef12d3fad7dcc18ab17f763a6a6da3?s=128&d=identicon&r=PG", "display_name": "Tunneller", "link": "https://stackoverflow.com/users/2016632/tunneller"}, "edited": false, "score": 0, "creation_date": 1539832930, "post_id": 52864018, "comment_id": 92646775, "body": "I would say that a local hyper file is the quickest source I have worked with. By local I mean not on tableau server because there will be some latency if its hosted. You can create the hyper file much quicker within tableau desktop (10.5 or later). Just create your single source csv file then connect Tableau to it. Within Desktop select the data source then click extract data."}], "tags": [], "owner": {"reputation": 1133, "user_id": 1738895, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/t6NvT.png?s=128&g=1", "display_name": "vizyourdata", "link": "https://stackoverflow.com/users/1738895/vizyourdata"}, "is_accepted": false, "score": 1, "last_activity_date": 1539812391, "creation_date": 1539812391, "answer_id": 52864018, "question_id": 52863882, "link": "https://stackoverflow.com/questions/52863882/load-thousands-of-csv-files-into-tableau/52864018#52864018", "title": "Load thousands of CSV files into tableau", "body": "<p>I would suggest doing any data prep outside of Tableau. Since you seem to be familiar with Python, try Pandas to combine all the csv files into one dataframe then output to a database or a single csv. Then connect to that single source.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 2016632, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7ef12d3fad7dcc18ab17f763a6a6da3?s=128&d=identicon&r=PG", "display_name": "Tunneller", "link": "https://stackoverflow.com/users/2016632/tunneller"}, "edited": false, "score": 0, "creation_date": 1539830090, "post_id": 52864473, "comment_id": 92646227, "body": "Gosh, I hadn&#39;t thought of this. So it seems that the copy does an append, so that I would gain a whole bunch of new rows, rather than the extra formats that I had been expecting. But, hm, as you point out, it&#39;d be just one file to open. If that proved tricky to then realign in Tableau then would be easy enough in Excel to sort out.... Maybe the winner...."}], "tags": [], "owner": {"reputation": 3888, "user_id": 367433, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/73d8335cba7957b886ea865ee59a08bc?s=128&d=identicon&r=PG", "display_name": "Sam M", "link": "https://stackoverflow.com/users/367433/sam-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1539815265, "creation_date": 1539815265, "answer_id": 52864473, "question_id": 52863882, "link": "https://stackoverflow.com/questions/52863882/load-thousands-of-csv-files-into-tableau/52864473#52864473", "title": "Load thousands of CSV files into tableau", "body": "<p>If you are using Windows, you can combine all the csv files into a single csv, then import that into Tableau. This of course assumes that all of your csv files have the same data structure.</p>\n\n<ol>\n<li>Open the command prompt</li>\n<li>Navigate to the directory where the csv files are (using the <code>cd</code> command)</li>\n<li>Use the command <code>copy *.csv combined-file.csv</code>. The combined-file.csv can be whatever name you want.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 6829516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ymMcokZqQog/AAAAAAAAAAI/AAAAAAAAAnc/N1jyYHzsAKM/photo.jpg?sz=128", "display_name": "Nandha Kumar M", "link": "https://stackoverflow.com/users/6829516/nandha-kumar-m"}, "edited": false, "score": 0, "creation_date": 1550678901, "post_id": 52875251, "comment_id": 96359489, "body": "Hey @Tunneller  I am also facing similar situation. Can u give me little bit more brief on above or any blog???"}, {"owner": {"reputation": 71, "user_id": 2016632, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7ef12d3fad7dcc18ab17f763a6a6da3?s=128&d=identicon&r=PG", "display_name": "Tunneller", "link": "https://stackoverflow.com/users/2016632/tunneller"}, "reply_to_user": {"reputation": 65, "user_id": 6829516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ymMcokZqQog/AAAAAAAAAAI/AAAAAAAAAnc/N1jyYHzsAKM/photo.jpg?sz=128", "display_name": "Nandha Kumar M", "link": "https://stackoverflow.com/users/6829516/nandha-kumar-m"}, "edited": false, "score": 0, "creation_date": 1556641991, "post_id": 52875251, "comment_id": 98504090, "body": "Sorry, I just saw this post Nandha. Are you still struggling?"}, {"owner": {"reputation": 71, "user_id": 2016632, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7ef12d3fad7dcc18ab17f763a6a6da3?s=128&d=identicon&r=PG", "display_name": "Tunneller", "link": "https://stackoverflow.com/users/2016632/tunneller"}, "reply_to_user": {"reputation": 65, "user_id": 6829516, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ymMcokZqQog/AAAAAAAAAAI/AAAAAAAAAnc/N1jyYHzsAKM/photo.jpg?sz=128", "display_name": "Nandha Kumar M", "link": "https://stackoverflow.com/users/6829516/nandha-kumar-m"}, "edited": false, "score": 0, "creation_date": 1559749845, "post_id": 52875251, "comment_id": 99519506, "body": "Hi, I actually dropped my tableau subscription so I don&#39;t know if I can duplicate, but I remember how the above worked. I don&#39;t know if everyone wants to sit and read our chat, however, is there a way to pm you?"}], "tags": [], "owner": {"reputation": 71, "user_id": 2016632, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7ef12d3fad7dcc18ab17f763a6a6da3?s=128&d=identicon&r=PG", "display_name": "Tunneller", "link": "https://stackoverflow.com/users/2016632/tunneller"}, "is_accepted": false, "score": 0, "last_activity_date": 1539869490, "creation_date": 1539869490, "answer_id": 52875251, "question_id": 52863882, "link": "https://stackoverflow.com/questions/52863882/load-thousands-of-csv-files-into-tableau/52875251#52875251", "title": "Load thousands of CSV files into tableau", "body": "<p>This is what I tried last night. Extremely fast and any future CSV's will automatically tack onto the bottom. Thanks everyone for suggestions.</p>\n\n<pre><code>#\n#\n\nimport os, csv\nfrom tableausdk import *\nfrom tableausdk.HyperExtract import *\n\nbasepath = \"C:\\Users\\Admin\\Desktop\\242RawFiles\"\n\nfpattern = \"Well_242\"\n\ntableau_filename = \"BigData.hyper\"\n\nExtractAPI.initialize()\n\nextract = Extract( tableau_filename )\n\nif ( not extract.hasTable( 'Extract' ) ):\n    schema = TableDefinition()\n    schema.setDefaultCollation( Collation.EN_GB )\n    schema.addColumn( 'Datafile',   Type.CHAR_STRING ) \n    schema.addColumn( 'Solenoid',   Type.DOUBLE ) \n    schema.addColumn( 'Data',       Type.DOUBLE )\n    table = extract.addTable( 'Extract', schema )\n    if ( table == None ):\n        print(\"Error occurred while creating the table:\\nExiting now\\n.\")\n    exit( -1 )\nelse: \n    table = extract.openTable( 'Extract' )\n    if ( table == None ):\n         print(\"Error occurred while opening the table:\\nExiting now\\n.\")\n         exit( -1 )\n    schema = table.getTableDefinition()\n\nrow = Row( schema )\n\nfor filename in os.listdir(basepath):\n\n    if (filename.endswith(\".csv\") and fpattern in filename ):\n        with open(basepath+\"\\\\\" + filename) as csvfile:\n            readCSV = csv.reader(csvfile,delimiter=\",\")\n            readCSV.next()\n            for datarow in readCSV:\n                row.setCharString( 0, filename[-17:-4] )  #only the tail\n                row.setDouble( 1, float(datarow[2]) )  \n                row.setDouble( 2, float(datarow[3]) ) \n                table.insert( row )\n\n# Flush the Extract to Disk\nextract.close()\n\n# Close the Tableau Extract API\nExtractAPI.cleanup()\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2016632, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7ef12d3fad7dcc18ab17f763a6a6da3?s=128&d=identicon&r=PG", "display_name": "Tunneller", "link": "https://stackoverflow.com/users/2016632/tunneller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1587, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1539869490, "creation_date": 1539811706, "question_id": 52863882, "link": "https://stackoverflow.com/questions/52863882/load-thousands-of-csv-files-into-tableau", "title": "Load thousands of CSV files into tableau", "body": "<p>I have a gazillion CSV files and in column 2 is the x-data and column 3 is the y-data. Each CSV file is a different time stamp. The x-data is slightly different in each file, but the number of rows is constant. I'm happy to assume the x-data is in fact identical.</p>\n\n<p>I am persuaded that Tableau is a good interface for me to do some visualization and happily installed tabpy and \"voila\", I can call python from Tableau... except...  to return an array I will need to return a string with comma separated values for each time stamp, and then one of those strings per x-axis and then.... Hmm, that doesnt sound right.</p>\n\n<p>I tried telling Tableau just open them all and I'd join them later, but gave up after 30 mins of it crunching.</p>\n\n<p>So what do you reckon? I am completely agnostic. Install an SQL server and create a database? Create a big CSV file that has a time-stamp for each column? Google? JSON?</p>\n\n<p>Or maybe there is some clever way in Tableau to loop through the CSV files?</p>\n"}, {"tags": ["python", "matlab", "docker"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9257667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47afa6b23f5f2904df6f53360f60205c?s=128&d=identicon&r=PG&f=1", "display_name": "Sol7", "link": "https://stackoverflow.com/users/9257667/sol7"}, "is_accepted": false, "score": 0, "last_activity_date": 1539816096, "creation_date": 1539816096, "answer_id": 52864576, "question_id": 52863836, "link": "https://stackoverflow.com/questions/52863836/python-matlab-engine-in-docker/52864576#52864576", "title": "Python Matlab Engine in Docker", "body": "<p>Can you explain what you did to install and verify Matlab in the docket container?\nI think of docker containers as micro VMs, so if the application isn\u2019t in the container it can\u2019t be accessed by other apps in the container. Hope I got that concept right!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3643366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07a512bba4ebb7791b66df2b9650157?s=128&d=identicon&r=PG", "display_name": "user3643366", "link": "https://stackoverflow.com/users/3643366/user3643366"}, "is_accepted": false, "score": 0, "last_activity_date": 1552445468, "creation_date": 1552445468, "answer_id": 55133620, "question_id": 52863836, "link": "https://stackoverflow.com/questions/52863836/python-matlab-engine-in-docker/55133620#55133620", "title": "Python Matlab Engine in Docker", "body": "<p>U can try this images <a href=\"https://hub.docker.com/r/lz20061213/cfnet-matlab/tags\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/lz20061213/cfnet-matlab/tags</a>\nI can run it and start the engine</p>\n"}], "owner": {"reputation": 75, "user_id": 6928348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ae00f95f8db91187d6bfd3785ff2071?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6928348/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552445468, "creation_date": 1539811508, "question_id": 52863836, "link": "https://stackoverflow.com/questions/52863836/python-matlab-engine-in-docker", "title": "Python Matlab Engine in Docker", "body": "<p>I am developing a python application that calls on some matlab scripts using <code>eng = engine.start_matlab()</code>. This works fine on my local. </p>\n\n<p>I am trying to deploy using Docker. When I try to build the image, the error is related to matlab not installed. </p>\n\n<p>Is what I am trying to do possible? Any suggestions are appreciated. </p>\n"}, {"tags": ["python", "turtle-graphics"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1539813025, "post_id": 52863806, "comment_id": 92642538, "body": "You say that your code &quot;does what [you] want it to do&quot;, but I don&#39;t think that&#39;s correct. The code you show draws boxes in a stair-step style (a row of four, then another row of four offset, then another row offset some more). If you want a regular rectangular grid, the natural way to do that is in a pair of nested loops, but I&#39;m not actually sure what you want, since the text of your question doesn&#39;t match the code."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10520845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r4WdjC91M64/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVLWGGyeCb1Oa1_kaeF6sMd4yc06A/mo/photo.jpg?sz=128", "display_name": "patrick tewell", "link": "https://stackoverflow.com/users/10520845/patrick-tewell"}, "edited": false, "score": 0, "creation_date": 1539916152, "post_id": 52864571, "comment_id": 92683181, "body": "This is very helpful as well!"}], "tags": [], "owner": {"reputation": 41, "user_id": 10500918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mpsi1.jpg?s=128&g=1", "display_name": "Fireye", "link": "https://stackoverflow.com/users/10500918/fireye"}, "is_accepted": false, "score": 0, "last_activity_date": 1539816047, "creation_date": 1539816047, "answer_id": 52864571, "question_id": 52863806, "link": "https://stackoverflow.com/questions/52863806/modify-x-y-using-range-to-create-grid-using-python-turtle/52864571#52864571", "title": "Modify x &amp; y using range() to create grid using Python turtle", "body": "<p>try</p>\n\n<pre><code>turtle.goto([x coordinate],[y coordinate])\n</code></pre>\n\n<p>this will basically teleport the turtle to those coordinates</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 10520845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r4WdjC91M64/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVLWGGyeCb1Oa1_kaeF6sMd4yc06A/mo/photo.jpg?sz=128", "display_name": "patrick tewell", "link": "https://stackoverflow.com/users/10520845/patrick-tewell"}, "edited": false, "score": 0, "creation_date": 1539916119, "post_id": 52866324, "comment_id": 92683176, "body": "Yes! This is perfect. I did not realize you could stack those functions. The way you wrote that shows me a few other shortcuts I could be taking as well. Thanks for the help!!"}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 0, "last_activity_date": 1539831438, "creation_date": 1539831438, "answer_id": 52866324, "question_id": 52863806, "link": "https://stackoverflow.com/questions/52863806/modify-x-y-using-range-to-create-grid-using-python-turtle/52866324#52866324", "title": "Modify x &amp; y using range() to create grid using Python turtle", "body": "<p>I'm guessing from your code and description you want something like the following where the x position <em>and</em> the y position are controlled by nested <code>for</code> loops:</p>\n\n<pre><code>from turtle import Screen, Turtle\n\nBLOCKS_X, BLOCKS_Y = 85, 85\nBLOCK_SIZE = 38\n\nCURSOR_SIZE = 20\n\nscreen = Screen()\n\nblocks = Turtle('square', visible=False)\nblocks.penup()\nblocks.color('gray')\nblocks.speed('fastest')\nblocks.turtlesize(BLOCK_SIZE / CURSOR_SIZE)\n\nx_start, y_start = -1.5 * BLOCKS_X, 1.5 * BLOCKS_Y\n\nblocks.setpos(x_start, y_start)\n\nfor _ in range(4):\n    for _ in range(4):\n        blocks.stamp()\n        blocks.forward(BLOCKS_X)\n\n    blocks.setpos(x_start, blocks.ycor() - BLOCKS_Y)\n\nscreen.mainloop()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/sQF8i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQF8i.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 15, "user_id": 10520845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r4WdjC91M64/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVLWGGyeCb1Oa1_kaeF6sMd4yc06A/mo/photo.jpg?sz=128", "display_name": "patrick tewell", "link": "https://stackoverflow.com/users/10520845/patrick-tewell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 52866324, "answer_count": 2, "score": 1, "last_activity_date": 1539831811, "creation_date": 1539811328, "last_edit_date": 1539831811, "question_id": 52863806, "link": "https://stackoverflow.com/questions/52863806/modify-x-y-using-range-to-create-grid-using-python-turtle", "title": "Modify x &amp; y using range() to create grid using Python turtle", "body": "<p>How do I modify the x and y in the <code>range()</code> function to create a grid using turtle?  I am trying to create a grid of squares with a set spacing between each using turtle graphics. Right now I'm using this:</p>\n\n<pre><code>blocks = turtle.Turtle()\nblocks.color(\"gray\")\nblocks.speed(0)\nblocks.shape(\"square\")\nblocks.turtlesize(1.9)\nblocks.penup()\nblocks.setpos(-212, 130)\nblocks_x = 85\nblocks_y = 85\nfor pos in range(4):\n    blocks.setpos(blocks.xcor() + blocks_x, blocks.ycor())\n    blocks.stamp()\n\nblocks.setpos(blocks.xcor(), blocks.ycor() - blocks_y)\n\nfor pos in range(4):\n    blocks.setpos(blocks.xcor() + blocks_x, blocks.ycor())\n    blocks.stamp()\n\nblocks.setpos(blocks.xcor(), blocks.ycor() - blocks_y)\n\nfor pos in range(4):\n    blocks.setpos(blocks.xcor() + blocks_x, blocks.ycor())\n    blocks.stamp()\n\nblocks.setpos(blocks.xcor(), blocks.ycor() - blocks_y)\n\nfor pos in range(4):\n    blocks.setpos(blocks.xcor() + blocks_x, blocks.ycor())\n    blocks.stamp()\n\nblocks.setpos(blocks.xcor(), blocks.ycor() - blocks_y)\n</code></pre>\n\n<p>It does what I want it to do but, I'd like to know if there is a way to modify the the y coordinate after all x's have been printed so I can use the <code>range()</code> function once?</p>\n"}, {"tags": ["python", "dll", "egg"], "answers": [{"comments": [{"owner": {"reputation": 2868, "user_id": 142605, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea0662af98f5642193079ebbb7e78fd5?s=128&d=identicon&r=PG", "display_name": "dzieciou", "link": "https://stackoverflow.com/users/142605/dzieciou"}, "edited": false, "score": 0, "creation_date": 1539871851, "post_id": 52874641, "comment_id": 92665377, "body": "Thank you! Additional issue was with &quot;DLL is not a valid Win32 application&quot;, because the library was for 64bit, and I used Python 3.7-32bit version. Installing Python 37-64bit resolved the problem."}, {"owner": {"reputation": 2868, "user_id": 142605, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea0662af98f5642193079ebbb7e78fd5?s=128&d=identicon&r=PG", "display_name": "dzieciou", "link": "https://stackoverflow.com/users/142605/dzieciou"}, "edited": false, "score": 0, "creation_date": 1551083960, "post_id": 52874641, "comment_id": 96495156, "body": "I would like to install this library using pip, however pip supports only sdist (for source distributions) and wheels (for binary packages), while it does not support eggs. Do you plan to support pip-compatible formats?"}], "tags": [], "owner": {"reputation": 46, "user_id": 10523367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55681a1a3e536eae351578d535278df3?s=128&d=identicon&r=PG&f=1", "display_name": "Marcin Woli\u0144ski", "link": "https://stackoverflow.com/users/10523367/marcin-woli%c5%84ski"}, "is_accepted": true, "score": 3, "last_activity_date": 1539867580, "creation_date": 1539867580, "answer_id": 52874641, "question_id": 52863755, "link": "https://stackoverflow.com/questions/52863755/how-to-install-morfeusz2-for-python-on-windows/52874641#52874641", "title": "How to install Morfeusz2 for Python on Windows?", "body": "<p>In the quoted command you use the file morfeusz2-0.4.0-py2.7-win32.egg which would be correct for Python 2.7 (py2.7) but not 3.7.</p>\n\n<p>Eggs for other versions of Python are available here: \n<a href=\"http://sgjp.pl/morfeusz/download/20181014/ubuntu-xenial/\" rel=\"nofollow noreferrer\">http://sgjp.pl/morfeusz/download/20181014/ubuntu-xenial/</a>\nNewer versions will appear in analogous directories (replace 20181014 with the string representing the last Sunday).\nWe hope to update the download page to list all versions available, but that hasn\u2019t been done yet.</p>\n"}], "owner": {"reputation": 2868, "user_id": 142605, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ea0662af98f5642193079ebbb7e78fd5?s=128&d=identicon&r=PG", "display_name": "dzieciou", "link": "https://stackoverflow.com/users/142605/dzieciou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1342, "favorite_count": 0, "accepted_answer_id": 52874641, "answer_count": 1, "score": 1, "last_activity_date": 1539867580, "creation_date": 1539811113, "question_id": 52863755, "link": "https://stackoverflow.com/questions/52863755/how-to-install-morfeusz2-for-python-on-windows", "title": "How to install Morfeusz2 for Python on Windows?", "body": "<p>I'm trying to install <a href=\"http://sgjp.pl/morfeusz/index.html\" rel=\"nofollow noreferrer\">Morfeusz2</a> egg for Python 3.7 on Windows, according to the provided <a href=\"http://sgjp.pl/morfeusz/download/Morfeusz2.pdf\" rel=\"nofollow noreferrer\">user manual</a> (translated from Polish):</p>\n\n<blockquote>\n  <p>The Python module can be installed with the easy_install command from the .egg file downloaded from the site (for the appropriate Python version). The .egg file also contains the Morfeusz library with the SGJP dictionary, so you do not need to install other modules under Windows for the use of Morfeusz exclusively from the Python level.</p>\n</blockquote>\n\n<p>Unfortunately, installation fails</p>\n\n<pre><code>python -m easy_install http://sgjp.pl/morfeusz/download/20181014/ubuntu-xenial/morfeusz2-0.4.0-py2.7-win32.egg\nDownloading http://sgjp.pl/morfeusz/download/20181014/ubuntu-xenial/morfeusz2-0.4.0-py2.7-win32.egg\nProcessing morfeusz2-0.4.0-py2.7-win32.egg\nremoving 'c:\\users\\oem\\appdata\\local\\programs\\python\\python37-32\\lib\\site-packages\\morfeusz2-0.4.0-py2.7-win32.egg' (and everything under it)\ncreating c:\\users\\oem\\appdata\\local\\programs\\python\\python37-32\\lib\\site-packages\\morfeusz2-0.4.0-py2.7-win32.egg\nExtracting morfeusz2-0.4.0-py2.7-win32.egg to c:\\users\\oem\\appdata\\local\\programs\\python\\python37-32\\lib\\site-packages\nRemoving morfeusz2 0.4.0 from easy-install.pth file\nAdding morfeusz2 0.4.0 to easy-install.pth file\n\nInstalled c:\\users\\oem\\appdata\\local\\programs\\python\\python37-32\\lib\\site-packages\\morfeusz2-0.4.0-py2.7-win32.egg\nProcessing dependencies for morfeusz2==0.4.0\nSearching for morfeusz2==0.4.0\nReading https://pypi.python.org/simple/morfeusz2/\nCouldn't find index page for 'morfeusz2' (maybe misspelled?)\nScanning index of all packages (this may take a while)\nReading https://pypi.python.org/simple/\nNo local packages or working download links found for morfeusz2==0.4.0\nerror: Could not find suitable distribution for Requirement.parse('morfeusz2==0.4.0')\n</code></pre>\n\n<p>I thought installation errors can be ignored, but it looks like the mobule has been installed only partially. When trying to call it:</p>\n\n<pre><code>import morfeusz2\nmorf = morfeusz2.Morfeusz()\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:\\Projects-intellij\\mysite\\ingredients.py\", line 4, in &lt;module&gt;\n    import morfeusz2\n  File \"C:\\Users\\OEM\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\morfeusz2-0.4.0-py2.7-win32.egg\\morfeusz2.py\", line 28, in &lt;module&gt;\n    _morfeusz2 = swig_import_helper()\n  File \"C:\\Users\\OEM\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\morfeusz2-0.4.0-py2.7-win32.egg\\morfeusz2.py\", line 24, in swig_import_helper\n    _mod = imp.load_module('_morfeusz2', fp, pathname, description)\n  File \"C:\\Users\\OEM\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\imp.py\", line 243, in load_module\n    return load_dynamic(name, filename, file)\n  File \"C:\\Users\\OEM\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\imp.py\", line 343, in load_dynamic\n    return _load(spec)\nImportError: DLL load failed: Nie mo\u017cna odnale\u017a\u0107 okre\u015blonego modu\u0142u.\n</code></pre>\n\n<p>How can I diagnose and fix the root cause?</p>\n"}, {"tags": ["python", "tree", "binary", "binary-tree"], "comments": [{"owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "edited": false, "score": 0, "creation_date": 1539811424, "post_id": 52863742, "comment_id": 92641969, "body": "As interesting it is to read, your question might feel a bit long at the moment. Most people here expect a short concise question with as little/much code as needed to solve the problem. I&#39;d recommend reading <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and consideration edit your question where you state your input data, the expected output and the faulty output for most likeliness to get help (it&#39;s usually much easier to get a grasp of the problem that way). Good luck with your degree! :)"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10520694, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161020617225013/picture?type=large", "display_name": "Gregory Weldon", "link": "https://stackoverflow.com/users/10520694/gregory-weldon"}, "edited": false, "score": 0, "creation_date": 1539813364, "post_id": 52863825, "comment_id": 92642646, "body": "Ahhh, that makes sense now. What could I use to ensure it&#39;s actually alternating inputs from left to right?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 11, "user_id": 10520694, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161020617225013/picture?type=large", "display_name": "Gregory Weldon", "link": "https://stackoverflow.com/users/10520694/gregory-weldon"}, "edited": false, "score": 0, "creation_date": 1539814004, "post_id": 52863825, "comment_id": 92642838, "body": "@GregoryWeldon: Don&#39;t make it a binary search tree. What kind of tree it should be, and how the insert logic should work, depends on assignment details we don&#39;t know. Given only what we can see from here, it doesn&#39;t make sense to have a tree at all."}, {"owner": {"reputation": 11, "user_id": 10520694, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161020617225013/picture?type=large", "display_name": "Gregory Weldon", "link": "https://stackoverflow.com/users/10520694/gregory-weldon"}, "edited": false, "score": 0, "creation_date": 1539814751, "post_id": 52863825, "comment_id": 92643044, "body": "Yeah, it doesn&#39;t make sense to use a tree. As I said before, if it was up to me, I&#39;d use a simple list and just do a slice to split them up. But since he wanted us to use trees, I was trying to stay in the confines of the assignment. Thanks for your help, at least I know why it split them up that way."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1539811428, "creation_date": 1539811428, "answer_id": 52863825, "question_id": 52863742, "link": "https://stackoverflow.com/questions/52863742/python-alternating-inputs-from-a-binary-tree/52863825#52863825", "title": "(Python) Alternating inputs from a binary tree?", "body": "<p>You have nothing in your code about alternating left and right. You've built a binary <em>search</em> tree with \"Guest\" at the root. Anyone whose name comes before \"Guest\" in Unicode-lexicographic order goes on the left, and anyone whose name comes after \"Guest\" in Unicode-lexicographic order goes on the right.</p>\n"}], "owner": {"reputation": 11, "user_id": 10520694, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161020617225013/picture?type=large", "display_name": "Gregory Weldon", "link": "https://stackoverflow.com/users/10520694/gregory-weldon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539820672, "creation_date": 1539811038, "last_edit_date": 1539820672, "question_id": 52863742, "link": "https://stackoverflow.com/questions/52863742/python-alternating-inputs-from-a-binary-tree", "title": "(Python) Alternating inputs from a binary tree?", "body": "<p>So I've just begun the meat and potatoes of my degree and I'm learning Python. One of our assignments this week was to use a binary tree and add guests, allowing the tree to alternate left and right, then print the names of left and right aisle guests. </p>\n\n<p>Our professor gave us some sample code to work with, and I made a few changes to have it do what I wanted to do with it. Here's what I have:</p>\n\n<pre><code>guestnumber = 0\nclass Node:\n    def __init__(self):\n        self.left = None\n        self.right = None\n        self.data = list()\n\ndef guestadd(root, Guest):\n    if Guest &lt;= root.data[0]:\n        if root.left == None:\n            root.left = Node()\n            root.left.data.append(Guest)\n        else:\n            guestadd(root.left, Guest)\n    else:\n        if Guest &gt;= root.data[0]:\n            if root.right == None:\n                root.right = Node()\n                root.right.data.append(Guest)\n            else:\n                guestadd(root.right, Guest)\n\ndef printlist(root):\n    if root == None:\n        return\n    print(root.data)\n    printlist(root.left)\n    printlist(root.right)\n\nprint(\"Enter guest names for seating arrangements. (Max = 50)\")\nguestnumber = int(input(\"How many guests are attending?\"))\nroot = Node()\nroot.data.append(\"Guest\")\nfor i in range (0,guestnumber):\n    guestadd (root, input(\"Name:\"))\n\nprint(\"Left Aisle:\")\nprintlist(root.left)\nprint(\"Right Aisle:\")\nprintlist(root.right)\n</code></pre>\n\n<p>At first glance, everything works as intended, but I noticed I was given inconsistent results where it didn't split the names evenly. After sleeping on it, I did some more troubleshooting and discovered that, no matter what order I put the data in, it would always put 0-9, A-G, and a handful of special characters on the left node, and H-Z, a-z, and another handful of special characters on the right side. </p>\n\n<p>I've already handed in what I have, along with several screenshots of my discoveries, so I'm sure I'll be given full credit, given that's it's an introductory course. But it's bugging me that I can't get get it to do what I want consistently. </p>\n\n<p>My best guess is that it has something to do with where the characters lie on an ASCII chart. Everything from 0-71 was on the left,  and 72-127 on the right. How would I go about getting my program to treat the strings as just that and not thinking of it in ASCII?</p>\n\n<p>NOTE: If I was given this task to separate guests, I wouldn't use a tree. I'd probably use something that just adds names to an list, then use a [::2] and [1::2] slice to alternate sides. However, since the assignment was to learn how to use a binary tree, I wanted to stay with the constraints of the lesson </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539811104, "post_id": 52863723, "comment_id": 92641872, "body": "This can&#39;t possibly be a minimal example?"}, {"owner": {"reputation": 409, "user_id": 2052681, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/d24090495cd4592a9493725bf758b42e?s=128&d=identicon&r=PG", "display_name": "sanforyou", "link": "https://stackoverflow.com/users/2052681/sanforyou"}, "reply_to_user": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539811447, "post_id": 52863723, "comment_id": 92641979, "body": "updated post to a smaller example"}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 2052681, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/d24090495cd4592a9493725bf758b42e?s=128&d=identicon&r=PG", "display_name": "sanforyou", "link": "https://stackoverflow.com/users/2052681/sanforyou"}, "edited": false, "score": 0, "creation_date": 1539812995, "post_id": 52863933, "comment_id": 92642526, "body": "why would it print every line twice though when print statement is telling only to replace certain lines?"}, {"owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "reply_to_user": {"reputation": 409, "user_id": 2052681, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/d24090495cd4592a9493725bf758b42e?s=128&d=identicon&r=PG", "display_name": "sanforyou", "link": "https://stackoverflow.com/users/2052681/sanforyou"}, "edited": false, "score": 0, "creation_date": 1539813110, "post_id": 52863933, "comment_id": 92642566, "body": "thats not how replace works.  Replace takes a string &quot;s&quot;, looks for a pattern and replace it if it finds it, otherwise s  is returned unchanged (and here gets printed by print)."}, {"owner": {"reputation": 409, "user_id": 2052681, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/d24090495cd4592a9493725bf758b42e?s=128&d=identicon&r=PG", "display_name": "sanforyou", "link": "https://stackoverflow.com/users/2052681/sanforyou"}, "edited": false, "score": 0, "creation_date": 1539814107, "post_id": 52863933, "comment_id": 92642864, "body": "are you implying I would need separate for loops for each line replacement to fix this?"}], "tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1539811967, "creation_date": 1539811967, "answer_id": 52863933, "question_id": 52863723, "link": "https://stackoverflow.com/questions/52863723/code-to-replace-line-in-a-file-is-duplication-lines/52863933#52863933", "title": "Code to replace line in a file is duplication lines", "body": "<p>Duplication is happening because you have to print statements outside of your ifs. So you will always print the line twice, and in addition you would print the line again if any of your reg ex would match (they don't).</p>\n"}], "owner": {"reputation": 409, "user_id": 2052681, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/d24090495cd4592a9493725bf758b42e?s=128&d=identicon&r=PG", "display_name": "sanforyou", "link": "https://stackoverflow.com/users/2052681/sanforyou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539811967, "creation_date": 1539810942, "last_edit_date": 1539811238, "question_id": 52863723, "link": "https://stackoverflow.com/questions/52863723/code-to-replace-line-in-a-file-is-duplication-lines", "title": "Code to replace line in a file is duplication lines", "body": "<p>I am trying to replace few lines in a file. Here is my sample file:</p>\n\n<pre><code>input a1;\n//Power_off assertion for all power ports (1 per each power domain)\n// `assert_Check1\n//Start of functional specification here\n// always @* reg_z4=Check\n</code></pre>\n\n<p>Here is the python code I wrote to replace lines:</p>\n\n<pre><code>import re,sys,fileinput\n\nfor line in fileinput.input(sys.argv[1], inplace=True):\n    assertPattern=re.match(r'\\/\\/\\s(`assert_.+\\)$)',line, re.M)\n    alwaysPattern=re.match(r'^\\/\\/\\s(always\\s@\\*.+\\;$)',line, re.M)\n    print (line.rstrip().replace('//Power_off assertion for all power ports (1 per each power domain)', '`ifdef assert_stdcell\\n\\n//Power_off assertion for all power ports (1 per each power domain)'),)\n    if assertPattern:\n        print (line.rstrip().replace(assertPattern.group(),assertPattern.group(1)))\n    print (line.rstrip().replace('//Start of functional specification here','`endif\\n\\n//Start of functional specification here'),)\n    if alwaysPattern:\n        print (line.rstrip().replace(alwaysPattern.group(),alwaysPattern.group(1)),)\n</code></pre>\n\n<p>This code does some of the replacement fine. However, the code duplicates all the lines in the file. Furhtermore alwaysPattern and assertPattern replacement is not working. Here is the output of the code:</p>\n\n<pre><code>input a1;\ninput a1;\n`ifdef assert_stdcell\n\n//Power_off assertion for all power ports (1 per each power domain)\n//Power_off assertion for all power ports (1 per each power domain)\n// `assert_Check1\n// `assert_Check1\n//Start of functional specification here\n`endif\n\n//Start of functional specification here\n// always @* reg_z4=Check\n// always @* reg_z4=Check\n</code></pre>\n\n<p>Any idea why the duplication is happening? and why pattern replacement not working?</p>\n"}, {"tags": ["python", "json", "pandas", "flask"], "comments": [{"owner": {"reputation": 5323, "user_id": 3829282, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/471591e889721e2158a91c1cbfbe7329?s=128&d=identicon&r=PG&f=1", "display_name": "rje", "link": "https://stackoverflow.com/users/3829282/rje"}, "edited": false, "score": 2, "creation_date": 1539811255, "post_id": 52863707, "comment_id": 92641915, "body": "Why are you not just using <code>pandas.read_json()</code>? See <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_json.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "edited": false, "score": 0, "creation_date": 1539854480, "post_id": 52863707, "comment_id": 92655237, "body": "Question has nothing to do with <code>machine-learning</code> - kindly do not spam the tag (removed)."}], "owner": {"reputation": 391, "user_id": 9447764, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anshul Tripathi", "link": "https://stackoverflow.com/users/9447764/anshul-tripathi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539854484, "creation_date": 1539810876, "last_edit_date": 1539854484, "question_id": 52863707, "link": "https://stackoverflow.com/questions/52863707/creating-a-pandas-dataframe-from-a-json-request", "title": "Creating a pandas dataframe from a JSON request", "body": "<p>I am trying to create a machine Learning application with Flask. I have created a POST API route that will take the data and transform it into a pandas dataframe. Here is the Flask code that calls the python function to transform the data.</p>\n\n<pre><code>from flask import Flask, abort, request\nimport json\nimport mlFlask as ml\nimport pandas as pd\n\napp = Flask(__name__)\n\n@app.route('/test', methods=['POST'])\ndef test():\n    if not request.json:\n        abort(400)\n    print type(request.json)\n    result = ml.classification(request.json)\n    return json.dumps(result)\n</code></pre>\n\n<p>This is the file that contains the helper function.</p>\n\n<pre><code>def jsonToDataFrame(data):\n    print type(data)\n    df = pd.DataFrame.from_dict(data,orient='columns')\n</code></pre>\n\n<p>But I am getting an import error. Also, when I print the type of data is dict so I don't know why it would cause an issue. It works when I orient the dataframe based on index but it doesn't work based on column.</p>\n\n<blockquote>\n  <p>ValueError: If using all scalar values, you must pass an index</p>\n</blockquote>\n\n<p>Here is the body of the request in JSON format.</p>\n\n<pre><code>{\n\"updatedDate\":\"2012-09-30T23:51:45.778Z\",\n\"createdDate\":\"2012-09-30T23:51:45.778Z\",\n\"date\":\"2012-06-30T00:00:00.000Z\",\n\"name\":\"Mad Max\",\n\"Type\":\"SBC\",\n\"Org\":\"Private\",\n\"month\":\"Feb\"\n}\n</code></pre>\n\n<p>What am I doing wrong here ?</p>\n"}, {"tags": ["java", "python", "time", "terminal", "benchmarking"], "comments": [{"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "edited": false, "score": 1, "creation_date": 1539811127, "post_id": 52863690, "comment_id": 92641879, "body": "see <a href=\"https://stackoverflow.com/a/2866456/1358308\">stackoverflow.com/a/2866456/1358308</a> for an example in Python, there will be similar articles for other languages"}, {"owner": {"reputation": 1656, "user_id": 3579095, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/249d1c3f64b1fbbbd2e4beb5a9abecd5?s=128&d=identicon&r=PG&f=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/3579095/lars"}, "edited": false, "score": 1, "creation_date": 1539811238, "post_id": 52863690, "comment_id": 92641909, "body": "note that if you use <code>time</code> to measure performance, you also measure the startup time of the jvm and the python interpreter"}], "answers": [{"tags": [], "owner": {"reputation": 690, "user_id": 478223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e87c8bdc46d99c7b37b0249320f490?s=128&d=identicon&r=PG", "display_name": "Shawn Yarbrough", "link": "https://stackoverflow.com/users/478223/shawn-yarbrough"}, "is_accepted": false, "score": 1, "last_activity_date": 1539811327, "creation_date": 1539811327, "answer_id": 52863805, "question_id": 52863690, "link": "https://stackoverflow.com/questions/52863690/measuring-performance-difference-between-python-and-java-implementations/52863805#52863805", "title": "Measuring performance difference between Python and Java implementations?", "body": "<p>The accuracy of the <code>time</code> command is probably fine for most testing.</p>\n\n<p>But if you wanted, you could write a 2nd Python script for timing with an <code>import subprocess</code> that then uses the <code>subprocess.call()</code> function (or one of several related functions in the <code>subprocess</code> module) to run the two versions of the algorithm.</p>\n\n<p>Your timing script could also <code>import time</code> and then do <code>datetime.datetime.now().time()</code> before and after the algorithm runs, to show how much time passed.</p>\n"}, {"comments": [{"owner": {"reputation": 784, "user_id": 6937584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNHLD.png?s=128&g=1", "display_name": "cdalxndr", "link": "https://stackoverflow.com/users/6937584/cdalxndr"}, "edited": false, "score": 0, "creation_date": 1539812526, "post_id": 52863828, "comment_id": 92642335, "body": "Note mentioning that java vm has a &#39;warm-up&#39; time during performance is bad. I&#39;m not familiar with Python, but maybe it needs a &#39;warm-up&#39; too. See <a href=\"https://stackoverflow.com/q/1481853/6937584\">stackoverflow.com/q/1481853/6937584</a> for java vm"}, {"owner": {"reputation": 154, "user_id": 7951907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eaba4f022c595aa773413eb74c3f2c2?s=128&d=identicon&r=PG&f=1", "display_name": "Peiffap", "link": "https://stackoverflow.com/users/7951907/peiffap"}, "reply_to_user": {"reputation": 784, "user_id": 6937584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNHLD.png?s=128&g=1", "display_name": "cdalxndr", "link": "https://stackoverflow.com/users/6937584/cdalxndr"}, "edited": false, "score": 0, "creation_date": 1539813124, "post_id": 52863828, "comment_id": 92642572, "body": "Well ideally, I&#39;d suggest using a real benchmarking program, but this question was about how to use the <code>time</code> command."}], "tags": [], "owner": {"reputation": 154, "user_id": 7951907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9eaba4f022c595aa773413eb74c3f2c2?s=128&d=identicon&r=PG&f=1", "display_name": "Peiffap", "link": "https://stackoverflow.com/users/7951907/peiffap"}, "is_accepted": true, "score": 1, "last_activity_date": 1539864877, "last_edit_date": 1539864877, "creation_date": 1539811454, "answer_id": 52863828, "question_id": 52863690, "link": "https://stackoverflow.com/questions/52863690/measuring-performance-difference-between-python-and-java-implementations/52863828#52863828", "title": "Measuring performance difference between Python and Java implementations?", "body": "<p>As explained in <a href=\"https://stackoverflow.com/a/9006802\">this answer</a>, the correct way to benchmark a program using <code>time</code> is the following command:\n<code>sudo chrt -f 99 /usr/bin/time --verbose &lt;benchmark&gt;</code>. However, note that this will only be accurate if the algorithm takes at least a second to execute, as otherwise the <code>exec</code> call might take up a big part of the benchmark.</p>\n\n<p><a href=\"https://stackoverflow.com/a/26885810\">This answer</a> suggests using <code>perf stat</code> instead, as such:\n<code>perf stat -r 10 -d &lt;your app and arguments&gt;</code>.</p>\n"}], "owner": {"reputation": 367, "user_id": 5504461, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153711027163739/picture?type=large", "display_name": "Sergey Vladimirovich", "link": "https://stackoverflow.com/users/5504461/sergey-vladimirovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52863828, "answer_count": 2, "score": 2, "last_activity_date": 1539864877, "creation_date": 1539810812, "last_edit_date": 1539817900, "question_id": 52863690, "link": "https://stackoverflow.com/questions/52863690/measuring-performance-difference-between-python-and-java-implementations", "title": "Measuring performance difference between Python and Java implementations?", "body": "<p>I want to compare the performance of two different implementations (Python and Java) of the same algorithm. I run scripts on the terminal (using Ubuntu 18) like this:</p>\n\n<pre><code>time script_name\n</code></pre>\n\n<p>I'm not sure how accurate this is. Is it possible to increase the accuracy of this benchmark? Perhaps there is a way to remove any restrictions or set-up in Python or Java?</p>\n"}, {"tags": ["python", "jupyter-notebook", "networkx"], "comments": [{"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 1, "creation_date": 1539816850, "post_id": 52863688, "comment_id": 92643612, "body": "There is a union function.  <a href=\"https://networkx.github.io/documentation/stable/reference/algorithms/operators.html\" rel=\"nofollow noreferrer\">networkx.github.io/documentation/stable/reference/algorithms&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539816936, "post_id": 52863688, "comment_id": 92643649, "body": "If that code doesn&#39;t do what you want, it will be helpful to see what you&#39;ve tried.  Otherwise we don&#39;t know if the suggestions we might make are faster than what you&#39;re already trying."}, {"owner": {"reputation": 11, "user_id": 10520664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDX5V03iEos/AAAAAAAAAAI/AAAAAAAACGE/R12A2YvOU4w/photo.jpg?sz=128", "display_name": "Fan Yang", "link": "https://stackoverflow.com/users/10520664/fan-yang"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539905927, "post_id": 52863688, "comment_id": 92681241, "body": "I know the union function but it needs these two graphs to be disjoint, sorry about that. Is there any ways to deal with this situation? @Joel"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539925744, "post_id": 52863688, "comment_id": 92685289, "body": "I think then the function you could use is <code>compose</code>."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539925866, "post_id": 52863688, "comment_id": 92685309, "body": "You already have <code>nodes_week1</code> and <code>nodes_week2</code>.  You don&#39;t need to go back to recreate <code>list(G_week1.nodes)</code> and <code>list(G_week2.nodes)</code>"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539925972, "post_id": 52863688, "comment_id": 92685327, "body": "You also don&#39;t need to turn the sum of the two lists into a set and then a list again.  networkx is fine with repeated nodes.  So you could just take the sum of the two lists.  networkx is also fine receiving a set of nodes as opposed to a list, so your final step to turn it back into a set is also unneeded."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539926019, "post_id": 52863688, "comment_id": 92685334, "body": "Unless you actually need to use the two graphs for the different weeks for something, you don&#39;t need to create them in order to create the combined graph."}, {"owner": {"reputation": 11, "user_id": 10520664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDX5V03iEos/AAAAAAAAAAI/AAAAAAAACGE/R12A2YvOU4w/photo.jpg?sz=128", "display_name": "Fan Yang", "link": "https://stackoverflow.com/users/10520664/fan-yang"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539974415, "post_id": 52863688, "comment_id": 92708813, "body": "I tried with compose command and it doesn&#39;t perform well when there are multiple edges in both graphs. I tested with some baby example. I created G1 and G2 and G used the same method as I posted and used &quot;compose&quot; to create the graph T and Q.@Joel"}, {"owner": {"reputation": 11, "user_id": 10520664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDX5V03iEos/AAAAAAAAAAI/AAAAAAAACGE/R12A2YvOU4w/photo.jpg?sz=128", "display_name": "Fan Yang", "link": "https://stackoverflow.com/users/10520664/fan-yang"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539974608, "post_id": 52863688, "comment_id": 92708891, "body": "I printed all the edges of graphs, (&#39;T:&#39;, [(2, 8, 0), (2, 5, 0), (2, 6, 0), (3, 3, 0), (3, 4, 0), (3, 5, 0), (3, 6, 0), (3, 7, 0), (4, 8, 0), (4, 5, 0), (4, 5, 1), (4, 5, 2), (4, 7, 0), (5, 6, 0), (6, 8, 0), (6, 2, 0), (6, 3, 0), (6, 7, 0)]) (&#39;Q:&#39;, [(2, 8, 0), (2, 5, 0), (2, 6, 0), (3, 3, 0), (3, 4, 0), (3, 5, 0), (3, 6, 0), (3, 7, 0), (4, 8, 0), (4, 5, 0), (4, 5, 1), (4, 5, 2), (4, 7, 0), (5, 6, 0), (6, 8, 0), (6, 2, 0), (6, 3, 0), (6, 7, 0)])@Joel"}, {"owner": {"reputation": 11, "user_id": 10520664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDX5V03iEos/AAAAAAAAAAI/AAAAAAAACGE/R12A2YvOU4w/photo.jpg?sz=128", "display_name": "Fan Yang", "link": "https://stackoverflow.com/users/10520664/fan-yang"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539974614, "post_id": 52863688, "comment_id": 92708895, "body": "(&#39;G:&#39;,[(2, 8, 0), (2, 5, 0), (2, 6, 0), (3, 3, 0), (3, 4, 0), (3, 5, 0), (3, 6, 0), (3, 7, 0), (4, 8, 0), (4, 5, 0), (4, 5, 1), (4, 5, 2), (4, 5, 3), (4, 5, 4), (4, 7, 0), (5, 6, 0), (5, 6, 1), (6, 8, 0), (6, 2, 0), (6, 3, 0), (6, 7, 0)]) (&#39;G1:&#39;, [(3, 3, 0), (3, 4, 0), (3, 5, 0), (3, 6, 0), (3, 7, 0), (4, 5, 0), (4, 5, 1), (4, 5, 2), (4, 7, 0), (5, 6, 0), (6, 3, 0), (6, 7, 0)]) (&#39;G2:&#39;,[(2, 8, 0), (2, 5, 0), (2, 6, 0), (4, 8, 0), (4, 5, 0), (4, 5, 1), (5, 6, 0), (6, 8, 0), (6, 2, 0)])@Joel"}, {"owner": {"reputation": 11, "user_id": 10520664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDX5V03iEos/AAAAAAAAAAI/AAAAAAAACGE/R12A2YvOU4w/photo.jpg?sz=128", "display_name": "Fan Yang", "link": "https://stackoverflow.com/users/10520664/fan-yang"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539976630, "post_id": 52863688, "comment_id": 92709705, "body": "Thank you for your reply, Joel! I will use the nodes_week1 and nodes_week2 to replace list(G_week1.nodes) and  list(G_week2.nodes).@Joel"}, {"owner": {"reputation": 11, "user_id": 10520664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDX5V03iEos/AAAAAAAAAAI/AAAAAAAACGE/R12A2YvOU4w/photo.jpg?sz=128", "display_name": "Fan Yang", "link": "https://stackoverflow.com/users/10520664/fan-yang"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539976835, "post_id": 52863688, "comment_id": 92709792, "body": "I think I still need to turn the sum of the two lists into a set and then a list again cause I need to get the unique edges otherwise I will run into the name clash if I have duplicate nodes. Be free to see this example: union_nodes=list(set(list(G1.nodes)+list(G2.nodes))) print(union_nodes) union_nodes_test=list(G1.nodes)+list(G2.nodes) print(union_nodes_test) union_nodes=list(set(list(G1.nodes)+list(G2.nodes))) union_nodes_test=list(G1.nodes)+list(G2.nodes) print(union_nodes); print(union_nodes_test) [2, 3, 4, 5, 6, 7, 8] [3, 4, 5, 6, 7, 8, 2, 4, 5, 6] @Joel"}], "owner": {"reputation": 11, "user_id": 10520664, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NDX5V03iEos/AAAAAAAAAAI/AAAAAAAACGE/R12A2YvOU4w/photo.jpg?sz=128", "display_name": "Fan Yang", "link": "https://stackoverflow.com/users/10520664/fan-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539985363, "creation_date": 1539810800, "last_edit_date": 1539985363, "question_id": 52863688, "link": "https://stackoverflow.com/questions/52863688/how-to-save-time-when-combing-two-or-more-graphs-in-networkx", "title": "How to save time when combing two or more graphs in Networkx", "body": "<p>We are working on Blockchain data and running the codes in Python Jupyter Notebook right now. I found there was no such union function about merging two graphs in <code>networkx</code> so I just merged manually.\nSince there might be self-loops and multiple edges in a graph and common nodes in both graphs, I first created two graphs separately and then extracted nodes and edges from these two graphs and then created the union of unique nodes and all the edges in two graphs. After that, I created a new larger graph using the union nodes and edges. \nDue to the total 26 million data, I spent about 30 min on creating each graph and 30 min on creating the union edges and nodes.\nCreating two weeks\u2019 graph from the union edges and nodes takes 56 min. As such, the whole process of creating two weeks\u2019 graph using union function needs about 120 min. \nSince it took such a long time when we just tested with 2 weeks data, we believe it will be a total nightmare to deal with several months of data.I was wondering if these are other ways can help us to save much more time and memory when running the codes.Here is the code:</p>\n\n<p><strong>Creating two graphs separately, spent 30min for each graph</strong></p>\n\n<pre><code>edges_week2 = [tuple(x) for x in week2.to_records(index=False)]\ndf1 = week2.stack().reset_index(drop=True, level=1).reset_index(name='Nodes')\nnodes0 = df1['Nodes'].tolist()\nnodes_week2 = list(set(nodes0))\n\nG_week1 = nx.MultiDiGraph()\nG_week1.add_nodes_from(nodes_week1)\nG_week1.add_edges_from(edges_week1)\nG_week2 = nx.MultiDiGraph()\nG_week2.add_nodes_from(nodes_week2)\nG_week2.add_edges_from(edges_week2)\n</code></pre>\n\n<p><strong>Creating the union edges and nodes, spent 30 min</strong></p>\n\n<pre><code>week_union_nodes=list(set(list(G_week1.nodes)+list(G_week2.nodes)))\nweek_union_edges=list(list(G_week1.edges())+list(G_week2.edges()))\n</code></pre>\n\n<p><strong>Creating two weeks\u2019 graph from the union edges and nodes takes 56 min</strong></p>\n\n<pre><code>G_week_union=nx.MultiDiGraph()\nG_week_union.add_nodes_from(week_union_nodes)\nG_week_union.add_edges_from(week_union_edges)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 504, "user_id": 10112632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdfa175416f245cb908b0cee8d03eba?s=128&d=identicon&r=PG&f=1", "display_name": "Sai Kumar", "link": "https://stackoverflow.com/users/10112632/sai-kumar"}, "edited": false, "score": 1, "creation_date": 1539811048, "post_id": 52863682, "comment_id": 92641851, "body": "If possible provide a sample input dataframe and your expected output?"}], "answers": [{"tags": [], "owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "is_accepted": true, "score": 1, "last_activity_date": 1539815295, "last_edit_date": 1539815295, "creation_date": 1539814284, "answer_id": 52864343, "question_id": 52863682, "link": "https://stackoverflow.com/questions/52863682/find-rows-in-a-dataframe-that-partially-match-conditions/52864343#52864343", "title": "Find rows in a DataFrame that partially match conditions", "body": "<p>Not sure if there's a way around looping over at least one <code>DataFrame</code>, but here's one option that might speed things up. It does allow for the accidental comparison of FirstName with LastName, though that can be avoided by adding a unique prefix to the values (like '@' for first name and '&amp;' for last name)</p>\n\n<pre><code>import numpy as np\n\ns1 = [set(x) for x in df1.values]\ns2 = [set(x) for x in df2.values]\nmasks = np.reshape([len(x &amp; y) &gt;= 3 for x in s1 for y in s2], (len(df1), -1))\nconcat_all = [df2[m] for m in masks]\n</code></pre>\n\n<h3>Output <code>concat_all</code></h3>\n\n<pre><code>[  FirstName LastName  Birthday  ResidenceZip\n 0      John      Doe  1/1/2000         99999\n 1      John      Doe  1/1/2000         99999\n 2      John     Doex  1/1/2000         99999,\n   FirstName LastName  Birthday  ResidenceZip\n 5       Rob        A  9/9/2009         19499]\n</code></pre>\n\n<hr>\n\n<h3>Timings</h3>\n\n<pre><code>def Alollz(df1, df2):\n    s1 = [set(x) for x in df1.values]\n    s2 = [set(x) for x in df2.values]\n    masks = np.reshape([len(x &amp; y) &gt;= 3 for x in s1 for y in s2], (len(df1), -1))\n    concat_all = [df2[m] for m in masks]\n    return concat_all\n\ndef SharpObject(df1, df2):\n    concat_all = []\n    for i, row in df1.iterrows():\n        c = {'ResidenceZip': row['ResidenceZip'], 'FirstName':row['FirstName'], \n             'LastName': row['LastName'],'Birthday': row['Birthday']}\n        df2['count'] = df2.apply(lambda x: partialMatch(x, c), axis = 1)\n        x1 = df2[df2['count']&gt;=3]\n        concat_all.append(x1)\n    return concat_all\n\n%timeit Alollz(df1, df2)\n#785 \u00b5s \u00b1 5.26 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n\n%timeit SharpObject(df1, df2)\n#3.56 ms \u00b1 44.7 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre>\n\n<p>And larger:</p>\n\n<pre><code># you should never append dfs like this in a loop\nfor i in range(7):\n    df1 = df1.append(df1)\n    df2 = df2.append(df2)\n\n%timeit Alollz(df1, df2)\n#132 ms \u00b1 248 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 10 loops each)\n\n%timeit SharpObject(df1, df2)\n#6.88 s \u00b1 11.8 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 756, "user_id": 5768636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/572024692c500c36ccd8f41574b5e308?s=128&d=identicon&r=PG&f=1", "display_name": "b2002", "link": "https://stackoverflow.com/users/5768636/b2002"}, "is_accepted": false, "score": 1, "last_activity_date": 1539822933, "last_edit_date": 1539822933, "creation_date": 1539821872, "answer_id": 52865262, "question_id": 52863682, "link": "https://stackoverflow.com/questions/52863682/find-rows-in-a-dataframe-that-partially-match-conditions/52865262#52865262", "title": "Find rows in a DataFrame that partially match conditions", "body": "<p>Using the numpy isin function:</p>\n\n<pre><code>df1_vals = df1.values\ndf2_vals = df2.values\ndf1_rows = range(df1_vals.shape[0])\n\nconcat_all = \\\n    [df2[np.add.reduce(np.isin(df2_vals, df1_vals[row]), axis=1) &gt;= 3] for row in df1_rows]\n</code></pre>\n\n<p>Here are the dataframes for setup:</p>\n\n<pre><code>df1 = pd.DataFrame({'FirstName': ['John', 'Rob'],\n                    'LastName': ['Doe', 'A'],\n                    'Birthday': ['1/1/2000', '9/9/2009'],\n                    'ResidenceZip': [99999, 19499]})\n\ndf2 = pd.DataFrame({'FirstName': ['John', 'John', 'John', 'Joha', 'Joha', 'Rob'],\n                    'LastName': ['Doe', 'Doe', 'Doex', 'Doex', 'Doex', 'A'],\n                    'Birthday': ['1/1/2000', '1/1/2000', '1/1/2000', '1/1/2000', '9/9/2000', '9/9/2009'],\n                    'ResidenceZip': [99999, 99999, 99999, 99999, 99999, 19499]})\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4326550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/875957c98baf054674d537b967ef4716?s=128&d=identicon&r=PG&f=1", "display_name": "SharpObject", "link": "https://stackoverflow.com/users/4326550/sharpobject"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 52864343, "answer_count": 2, "score": 0, "last_activity_date": 1539822933, "creation_date": 1539810751, "last_edit_date": 1539811537, "question_id": 52863682, "link": "https://stackoverflow.com/questions/52863682/find-rows-in-a-dataframe-that-partially-match-conditions", "title": "Find rows in a DataFrame that partially match conditions", "body": "<p>Given a DataFrame, whats the best way to find rows in the DataFrame that partially match a list of given values. </p>\n\n<p>Currently I have a rows of given values in a DataFrame (df1), I iterate through those then apply a function to each row of another DataFrame (df2) that counts how many values in the row match the conditions, then return a subset of the second DataFrame where the count is above a certain value.</p>\n\n<pre><code>def partialMatch(row, conditions):\n    count = 0\n    if(row['ResidenceZip'] == conditions['ResidenceZip']):\n        count+=1\n    if(row['FirstName'] == conditions['FirstName']):\n        count +=1\n    if(row['LastName'] == conditions['LastName']):\n        count +=1\n    if(row['Birthday'] == conditions['Birthday']):\n        count+=1\n    return count\n\nconcat_all = []\nfor i, row in df1.iterrows():\n    c = {'ResidenceZip': row['ResidenceZip'], 'FirstName':row['FirstName'], \n         'LastName': row['LastName'],'Birthday': row['Birthday']}\n    df2['count'] = df2.apply(lambda x: partialMatch(x, c), axis = 1)\n    x1 = df2[df2['count']&gt;=3]\n    concat_all.append(x1)\n</code></pre>\n\n<p>This works, but is pretty slow.  Any tips on speeding this process up?</p>\n\n<p>For example, running the code on the two dataframes below, the first row of df1 would return the first three rows of df2 but not the last two.</p>\n\n<pre><code>df1\n    FirstName|LastName | Birthday | ResidenceZip \n    John     |  Doe    | 1/1/2000 |  99999\n    Rob      |  A      | 1/1/2010 |  19499\n\ndf2\n    FirstName|LastName | Birthday | ResidenceZip | count\n    John     |  Doe    | 1/1/2000 |  99999       | 3\n    John     |  Doe    | 1/1/2000 |  99999       | 3\n    John     |  Doex   | 1/1/2000 |  99999       | 3\n    Joha     |  Doex   | 1/1/2000 |  99999       | 2\n    Joha     |  Doex   | 9/9/2000 |  99999       | 1\n    Rob      |  A      | 9/9/2009 |  19499       | 0\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-2.7", "list-comprehension", "dictionary-comprehension"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1539816327, "post_id": 52863671, "comment_id": 92643467, "body": "Note that &quot;dict into list comprehension&quot; is not a thing. This is a list comprehension that happens to iterate over a dict -- it&#39;s no less of a list comprehension because of this."}], "answers": [{"tags": [], "owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "is_accepted": false, "score": 1, "last_activity_date": 1539810859, "creation_date": 1539810859, "answer_id": 52863701, "question_id": 52863671, "link": "https://stackoverflow.com/questions/52863671/dict-into-list-comprehension/52863701#52863701", "title": "Dict into List Comprehension", "body": "<p>Use the following list comprehension:</p>\n\n<pre><code>l = [j for i in d for j in d[i]]\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; d = {1: ['val1', 'val2'], 2: ['val3', 'val4']}\n&gt;&gt;&gt; l = [j for i in d for j in d[i]]\n&gt;&gt;&gt; l\n['val1', 'val2', 'val3', 'val4']\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11191, "user_id": 5224926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f280a3c82415bdba68680536e277e19b?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/5224926/randy"}, "is_accepted": false, "score": 2, "last_activity_date": 1539810875, "creation_date": 1539810875, "answer_id": 52863705, "question_id": 52863671, "link": "https://stackoverflow.com/questions/52863671/dict-into-list-comprehension/52863705#52863705", "title": "Dict into List Comprehension", "body": "<p>You were pretty close with the first one; just the wrong order:</p>\n\n<pre><code>In [42]: [el for v in d.values() for el in v]\nOut[42]: ['val1', 'val2', 'val3', 'val4']\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10520844"}, "edited": false, "score": 1, "creation_date": 1539811131, "post_id": 52863729, "comment_id": 92641880, "body": "Ah, just moving the orders around can work with for loops in another for loop. Thanks."}], "tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": true, "score": 1, "last_activity_date": 1539810958, "creation_date": 1539810958, "answer_id": 52863729, "question_id": 52863671, "link": "https://stackoverflow.com/questions/52863671/dict-into-list-comprehension/52863729#52863729", "title": "Dict into List Comprehension", "body": "<p>I will be the first to admit that list comprehension sure is confusing sometimes:</p>\n\n<pre><code>[sub_value for key,value in d.items() for sub_value in value]\n</code></pre>\n\n<p>This gives the required output.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10520844"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "closed_date": 1539816280, "accepted_answer_id": 52863729, "answer_count": 3, "score": 1, "last_activity_date": 1539813039, "creation_date": 1539810699, "last_edit_date": 1539813039, "question_id": 52863671, "link": "https://stackoverflow.com/questions/52863671/dict-into-list-comprehension", "closed_reason": "Duplicate", "title": "Dict into List Comprehension", "body": "<p>This is my dict and list</p>\n\n<pre><code>d = {1: ['val1', 'val2'], 2: ['val3', 'val4']}\nl = []\n\nfor key, value in d.items():\n    for sub_value in value:\n        l.append(sub_value)\n\nprint (l)\n</code></pre>\n\n<p># ['val1', 'val2', 'val3', 'val4']</p>\n\n<hr>\n\n<p>However, I would like to do this with <strong>dict to list comprehension.</strong></p>\n\n<p>I have something like this,</p>\n\n<pre><code>l = [sub_value for sub_value in value for key,value in d.items()]\n</code></pre>\n\n<p>Also tried,</p>\n\n<pre><code>l = [(sub_value for sub_value in value) for key,value in d.items()]\n</code></pre>\n\n<p>However, not quite the answer I was looking for.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "python-3.x", "python-2.7"], "comments": [{"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539810749, "post_id": 52863661, "comment_id": 92641730, "body": "You can make a parameter optional if you put a default value for it. For example, <code>a1=None,a2=None</code> would set those values to None if you don&#39;t provide them. It looks like you need those values in the function, but maybe you can find a default that works for you."}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "edited": false, "score": 0, "creation_date": 1539810791, "post_id": 52863661, "comment_id": 92641751, "body": "are you just asking about <code>if</code> statements?"}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "reply_to_user": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539811037, "post_id": 52863661, "comment_id": 92641848, "body": "@mindfolded That doesn&#39;t work, just to let you know"}, {"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 1, "creation_date": 1539811116, "post_id": 52863661, "comment_id": 92641876, "body": "@EricDsilva It works, just maybe not for you. Do you know what a2 and b2 are typically? Is there a value besides <code>None</code> that you could supply that will let it get past the <code>plot()</code> functions without failing? For example, try <code>a2=0</code> and <code>b2=0</code>."}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "reply_to_user": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "edited": false, "score": 0, "creation_date": 1539811135, "post_id": 52863661, "comment_id": 92641881, "body": "@SamMason  --&gt; get_plot(z1,z2,c1,c2,col,a1,a2,b1,b2,title) I just want to skip a2 and b2 if I am calling the function again"}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "edited": false, "score": 0, "creation_date": 1539811221, "post_id": 52863661, "comment_id": 92641904, "body": "@EricDsilva I&#39;d suggest going through a Python tutorial to understand how &quot;conditional statements&quot; work"}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "reply_to_user": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539811263, "post_id": 52863661, "comment_id": 92641917, "body": "@mindfolded -&gt; while calling the function get_plot(z1,z2,c1,c2,col,a1,a2,b1,b2,title) I just want to skip a2 and b2"}, {"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539811301, "post_id": 52863661, "comment_id": 92641931, "body": "I know what you want @EricDsilva, did you try my suggestion?"}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "reply_to_user": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539811645, "post_id": 52863661, "comment_id": 92642032, "body": "@mindfolded That doesn&#39;t work SyntaxError: positional argument follows keyword argument"}, {"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539812049, "post_id": 52863661, "comment_id": 92642180, "body": "@EricDsilva Move them to the end."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1541805514, "post_id": 52863661, "comment_id": 93355625, "body": "@EricDsilva it doesn&#39;t make sense to have required arguments come after required ones, your option is to either make everything after the optional ones also optional as in <code>get_plot(z1,z2,c1,c2,col,a1,a2=None,b1=None,b2=None,title=No&zwnj;&#8203;ne)</code> or have all of your optional arguments come last <code>get_plot(z1,z2,c1,c2,col,a1,b1,title,a2=None,b2=None)</code>"}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1541805840, "post_id": 52863661, "comment_id": 93355706, "body": "<code>def get_plot(z1,z2,c1,c2,col,              a1=None, a2=None,              b1=None, b2=None, title=&quot;&quot;):      ax[z1][z2] = plt.subplot2grid((3,3),(c1,c2),colspan =col)     ax[z1][z2].plot(a1, b1, linewidth=2, color= ([0.37,0.23,0.37]), marker = &#39;o&#39;)     if a2 is not None and b2 is not None:         ax[z1][z2].plot(a2, b2, linewidth=2, color = ([0.44,0.64,0.69]), marker = &#39;o&#39;)</code>"}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "reply_to_user": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1541805997, "post_id": 52863661, "comment_id": 93355745, "body": "@RyanHaining I got that, you can check the above function I changed something like that. Is it possible to tell me how the best way to re-write this function. right now its littlebit complex and difficult to understand"}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1541806954, "post_id": 52863661, "comment_id": 93355971, "body": "@EricDsilva it seems like you might want to change <code>a1, b1</code> and <code>a2, b2</code> to accept a list of (x, y) pairs instead? then you could pass 0 or more pairs instead of one or two pairs, but not sure what you&#39;re goal is"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1539815826, "post_id": 52863812, "comment_id": 92643346, "body": "Any thoughts what I are missing here def get_plot(m,n,c1,c2,col,             m1,m2=None,m3=None,             n1,n2=None,n3=None,             lab1=None,lab2=None,lab3=None,title): SyntaxError: non-default argument follows default argument"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1539816006, "post_id": 52863812, "comment_id": 92643389, "body": "Yes, exactly what it says: you have arguments with default values, and then one with no default value.  That one is <code>title</code> at the end."}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1539819117, "post_id": 52863812, "comment_id": 92644132, "body": "Gotcha, Thanks a lot"}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1541805414, "post_id": 52863812, "comment_id": 93355607, "body": "Any other way I can write this function in a more simplified manner?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1541806271, "post_id": 52863812, "comment_id": 93355810, "body": "&quot;More simplified&quot; in what fashion?  If you&#39;re trying to simplify the signature (the <code>def</code> line), you can put all of the arguments into a list or a dict and unpack them in the function with the <code>*</code> operator, such as <code>def get_plot(*arg_dict):</code>"}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1541806526, "post_id": 52863812, "comment_id": 93355858, "body": "Can you please give me a small example, I am new to python getting a little bit confused here I want to if there is any other way to write above whole function"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 1, "creation_date": 1541807123, "post_id": 52863812, "comment_id": 93356004, "body": "An example of <i>what</i>, exactly?  This is not a tutorial site.  &quot;Any other way to write this&quot; is far too broad.  The <code>*</code> operator is documented well in many other questions and tutorials."}, {"owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 0, "creation_date": 1541812390, "post_id": 52863812, "comment_id": 93356973, "body": "I know that it&#39;s not a tutorial site. you are one of the professional and I am a beginner that is a reason I ask help because I don&#39;t know what the heck <i>*</i> do?"}, {"owner": {"reputation": 275558, "user_id": 522444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=128&d=identicon&r=PG", "display_name": "Hovercraft Full Of Eels", "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"}, "reply_to_user": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "edited": false, "score": 1, "creation_date": 1541812695, "post_id": 52863812, "comment_id": 93357026, "body": "@EricDsilva: what Prune is saying is that the site should not be used for tutoring or mentoring. If you need to read on the basics, then there are plenty of tutorials easily available that you should avail yourself of."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1539811347, "creation_date": 1539811347, "answer_id": 52863812, "question_id": 52863661, "link": "https://stackoverflow.com/questions/52863661/is-it-possible-to-skip-few-called-value-while-calling-the-function/52863812#52863812", "title": "Is it possible to skip few called value while calling the function", "body": "<p>Will this solve your problem?</p>\n\n<pre><code>def get_plot(z1,z2,c1,c2,col,\n             a1=None, a2=None,\n             b1=None, b2=None, title=\"\"):\n\n    ax[z1][z2] = plt.subplot2grid((3,3),(c1,c2),colspan =col)\n    ax[z1][z2].plot(a1, b1, linewidth=2, color= ([0.37,0.23,0.37]), marker = 'o')\n    if a2 is not None and b2 is not None:\n        ax[z1][z2].plot(a2, b2, linewidth=2, color = ([0.44,0.64,0.69]), marker = 'o')\n</code></pre>\n\n<p>Your existing calls will work just fine.  However, when you're missing a2 and b2 values, you'll want something more like this to call the function:</p>\n\n<pre><code>get_plot(z1, z2, c1, c2, col, a1=local_a1, b1=local_b1, title=plot_title)\n</code></pre>\n\n<p>Once you get to an omitted argument, you must give the names for everything remaining.\nIn this example, you wouldn't need the <code>a1=</code>, but I left it there for ease of reading.</p>\n"}], "owner": {"reputation": 27, "user_id": 10431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9966a3c01506120fade37ed81875a08?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Dsilva", "link": "https://stackoverflow.com/users/10431728/eric-dsilva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 52863812, "answer_count": 1, "score": -3, "last_activity_date": 1542265601, "creation_date": 1539810651, "last_edit_date": 1542265601, "question_id": 52863661, "link": "https://stackoverflow.com/questions/52863661/is-it-possible-to-skip-few-called-value-while-calling-the-function", "title": "Is it possible to skip few called value while calling the function", "body": "<pre><code>def get_plot(z1,z2,c1,c2,col,a1,a2,b1,b2,title):\n    ax[z1][z2] = plt.subplot2grid((3,3),(c1,c2),colspan =col)\n    ax[z1][z2].plot(a1, b1, linewidth=2, color= ([0.37,0.23,0.37]), marker = 'o')\n</code></pre>\n\n<p>I have multiple plots, in which I don't have values for a2 and b2.\nCan some tell me how to skip the appropriate arguments and <code>plot</code> call?</p>\n"}, {"tags": ["python", "flask", "jinja2"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1539810670, "post_id": 52863651, "comment_id": 92641697, "body": "<code>showData</code> looks like an array, containing a dict. Shouldn&#39;t your for loop therefore be <code>for performer in showData[0].performers</code>?"}, {"owner": {"reputation": 1, "user_id": 5565937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53d46049eaca695a6341ade88979e231?s=128&d=identicon&r=PG&f=1", "display_name": "cbart", "link": "https://stackoverflow.com/users/5565937/cbart"}, "reply_to_user": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1539810759, "post_id": 52863651, "comment_id": 92641736, "body": "Yes! Thank you :)"}], "owner": {"reputation": 1, "user_id": 5565937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53d46049eaca695a6341ade88979e231?s=128&d=identicon&r=PG&f=1", "display_name": "cbart", "link": "https://stackoverflow.com/users/5565937/cbart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539810558, "creation_date": 1539810558, "question_id": 52863651, "link": "https://stackoverflow.com/questions/52863651/jinja-wont-print-out-object-or-iterate-through-list", "title": "Jinja won&#39;t print out object or iterate through list", "body": "<p>So, i'm passing my json object through render_template (flask) into my .html page and using jinja with the following code, I want to create table rows in my table:</p>\n\n<pre><code>{% if showData %}\n\n            &lt;table class=\"table table-striped\"&gt;\n              &lt;thead class=\"thead-light\"&gt;\n                &lt;tr&gt;\n                  &lt;th scope=\"col\"&gt;#&lt;/th&gt;\n                  &lt;th scope=\"col\"&gt;Performer Name&lt;/th&gt;\n                  &lt;th scope=\"col\"&gt;Twitter Handle&lt;/th&gt;\n                &lt;/tr&gt;\n              &lt;/thead&gt;\n              &lt;tbody&gt;{{showData}}\n                {% for performer in showData.performers %}\n                    &lt;tr&gt;\n                      &lt;th scope=\"row\"&gt;1&lt;/th&gt;\n                      &lt;td&gt;{{performer}}&lt;/td&gt;\n                      &lt;td&gt;@mdo&lt;/td&gt;\n                    &lt;/tr&gt;\n                {% endfor %}\n              &lt;/tbody&gt;\n            &lt;/table&gt;        \n        {% endif %}\n</code></pre>\n\n<p>If I print out the object 'showData' (as you can see done in the code with {{showData}}), it will print out the entire json, which looks like this:</p>\n\n<pre><code>[{u'category': u'Comedy', u'rating': 5, u'name': u'first show', u'img': u'firstshow.jpg', u'performers': [u'Bob bob', u'Alex alex', u'James james'], u'url': u'first_show', u'venue': 2, u'viewTimes': [u'12:00', u'14:00', u'16:00'], u'description': u'blah blah blah'}]\n</code></pre>\n\n<p>But if I try loop through showData.performers, it doesn't show up with anything. Even if I try to print out showData.name, it's empty</p>\n\n<p>Any ideas why? Cheers</p>\n"}, {"tags": ["python", "python-3.x", "pdf", "text", "pdfminer"], "comments": [{"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 2, "creation_date": 1539810607, "post_id": 52863575, "comment_id": 92641669, "body": "Have you verified using other means that the text in the PDF is actually stored as separate characters, and that you&#39;re indeed getting different results from pdfminer than via those other means?"}, {"owner": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 1, "creation_date": 1539810681, "post_id": 52863575, "comment_id": 92641701, "body": "Building on the previous comment, <code>\ufb01</code> is a common <a href=\"https://en.wikipedia.org/wiki/Typographic_ligature\" rel=\"nofollow noreferrer\">ligature</a>."}, {"owner": {"reputation": 3017, "user_id": 1820086, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uyBPp.png?s=128&g=1", "display_name": "LBes", "link": "https://stackoverflow.com/users/1820086/lbes"}, "reply_to_user": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1539810729, "post_id": 52863575, "comment_id": 92641717, "body": "@RandomDavis I have opened several pdf files with several viewers and the the word is totally fine every time. Ctrl-F for &quot;significant&quot; does show the word."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 2, "creation_date": 1539811058, "post_id": 52863575, "comment_id": 92641855, "body": "Because (1) it is a very <i>very</i> common ligature which is known by many (apparently all of your) &quot;several viewers&quot;, and/or (2) a PDF can contain meta-data that explicitly <i>state</i> that the correct translation of a glyph in a certain font should be another series of characters, and/or (3) any <i>string</i> in a PDF can have meta-data attached which contains the meaning &quot;behind&quot; the string, for the benefit of search engines, screen readers, and other software."}, {"owner": {"reputation": 3017, "user_id": 1820086, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uyBPp.png?s=128&g=1", "display_name": "LBes", "link": "https://stackoverflow.com/users/1820086/lbes"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1539811113, "post_id": 52863575, "comment_id": 92641874, "body": "@usr2564301 any way to avoid this issue then?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1539811423, "post_id": 52863575, "comment_id": 92641967, "body": "Avoid? Not unless you are willing to change pdfminer&#39;s code (which, in turn, needs far more knowlegde of a PDFs internal structure than you currently have). Easier to add a single line to replace <code>\ufb01</code> with <code>fi</code> to your code. (There is at least one more &quot;common&quot; ligature.)"}, {"owner": {"reputation": 3017, "user_id": 1820086, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uyBPp.png?s=128&g=1", "display_name": "LBes", "link": "https://stackoverflow.com/users/1820086/lbes"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1539811523, "post_id": 52863575, "comment_id": 92641997, "body": "@usr2564301 indeed it does need more knowledge than I have. I will look at other possible ligatures in pdf to make sure I can spot most of them."}], "answers": [{"comments": [{"owner": {"reputation": 3017, "user_id": 1820086, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uyBPp.png?s=128&g=1", "display_name": "LBes", "link": "https://stackoverflow.com/users/1820086/lbes"}, "edited": false, "score": 0, "creation_date": 1539811684, "post_id": 52863867, "comment_id": 92642044, "body": "Accepted. Thought there could be a way around it, but I&#39;ll have to stick with this and look for other possible ligatures."}], "tags": [], "owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "is_accepted": true, "score": 3, "last_activity_date": 1583932425, "last_edit_date": 1583932425, "creation_date": 1539811637, "answer_id": 52863867, "question_id": 52863575, "link": "https://stackoverflow.com/questions/52863575/pdf-miner-returns-weird-letters-characters/52863867#52863867", "title": "Pdf Miner returns weird letters/characters", "body": "<p>PDFminer is working correctly. The character in question is the Unicode character U+FB01, the <a href=\"https://www.fileformat.info/info/unicode/char/fb01/index.htm\" rel=\"nofollow noreferrer\"><code>fi</code> ligature</a>.</p>\n\n<p>Add a line to replace <code>\ufb01</code> with <code>fi</code> to your code:</p>\n\n<pre><code>for s in sentences:\n    s = s.replace ('\ufb01', 'fi')\n    print (s)\n</code></pre>\n\n<p>There is one other very common \u2013 and purely typographic(*) \u2013 ligature defined in Unicode: U+FB02, the <code>fl</code> ligature; treat this the same:</p>\n\n<pre><code>    s = s.replace ('\ufb02', 'fl')\n</code></pre>\n\n<p>and a couple of others in the <a href=\"http://www.fileformat.info/info/unicode/block/alphabetic_presentation_forms/utf8test.htm\" rel=\"nofollow noreferrer\">Alphabetic Presentation block</a>, which you might as well include too.</p>\n\n<p>(*) Do <em>not</em> make the mistake to change <a href=\"http://www.fileformat.info/info/unicode/char/00E6/index.htm\" rel=\"nofollow noreferrer\"><code>\u00e6</code></a> to <code>ae</code> and <a href=\"https://www.fileformat.info/info/unicode/char/0153/index.htm\" rel=\"nofollow noreferrer\"><code>\u0153</code></a> to <code>oe</code>. These are <em>not</em> 'purely typographic ligatures' but valid characters on their own.</p>\n"}], "owner": {"reputation": 3017, "user_id": 1820086, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/uyBPp.png?s=128&g=1", "display_name": "LBes", "link": "https://stackoverflow.com/users/1820086/lbes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "accepted_answer_id": 52863867, "answer_count": 1, "score": 2, "last_activity_date": 1583932425, "creation_date": 1539810173, "last_edit_date": 1539852771, "question_id": 52863575, "link": "https://stackoverflow.com/questions/52863575/pdf-miner-returns-weird-letters-characters", "title": "Pdf Miner returns weird letters/characters", "body": "<p>I am using pdfminer with python 3 and I get weird letters in the text that is recovered from the pdf.</p>\n\n<p>For instance, I get <code>signi\ufb01cant</code>instead of <code>significant</code> (notice that the letters <code>f</code> and <code>I</code> are merged into one). </p>\n\n<p>I have no idea why this is happening. This is the code I am using.</p>\n\n<pre><code>from pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreter\nfrom pdfminer.converter import TextConverter\nfrom pdfminer.layout import LAParams\nfrom pdfminer.pdfpage import PDFPage\nfrom io import StringIO\nfrom nltk.tokenize import sent_tokenize\n\n\ndef convert_pdf_to_txt(path):\n    rsrcmgr = PDFResourceManager()\n    retstr = StringIO()\n    codec = 'utf-8'\n    laparams = LAParams()\n    device = TextConverter(rsrcmgr, retstr, codec=codec, laparams=laparams)\n    fp = open(path, 'rb')\n    interpreter = PDFPageInterpreter(rsrcmgr, device)\n    password = \"\"\n    maxpages = 0\n    caching = True\n    pagenos=set()\n\n    for page in PDFPage.get_pages(fp, pagenos, maxpages=maxpages, password=password,caching=caching, check_extractable=True):\n        interpreter.process_page(page)\n\n    text = retstr.getvalue()\n\n    sentences = sent_tokenize(text)\n\n    for s in sentences:\n        print(s)\n        print(\"\\n\\n\")\n</code></pre>\n\n<p>My only guess so far is that it may have to do with the encoding, but it seems that <a href=\"https://stackoverflow.com/questions/10656184/is-there-a-field-in-which-pdf-files-specify-their-encoding\">there is no way to retrieve the encoding of a pdf</a></p>\n"}, {"tags": ["python", "html", "python-3.x", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1539810895, "creation_date": 1539810895, "answer_id": 52863711, "question_id": 52863494, "link": "https://stackoverflow.com/questions/52863494/indeed-how-to-extract-the-job-title-href-link/52863711#52863711", "title": "Indeed how to extract the job title href link?", "body": "<p>You can use the below code to extract the links </p>\n\n<pre><code>from BeautifulSoup import BeautifulSoup\nimport urllib2\nimport re\n\nhtml_page = urllib2.urlopen(\"http://arstechnica.com\")\nsoup = BeautifulSoup(html_page)\nfor link in soup.findAll('a', attrs={'href': re.compile(\"^http://\")}):\n    print link.get('href')\n</code></pre>\n\n<p>Reference \n<a href=\"https://pythonspot.com/extract-links-from-webpage-beautifulsoup/\" rel=\"nofollow noreferrer\">https://pythonspot.com/extract-links-from-webpage-beautifulsoup/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 9380694, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HF6fu.jpg?s=128&g=1", "display_name": "KC.", "link": "https://stackoverflow.com/users/9380694/kc"}, "is_accepted": true, "score": 0, "last_activity_date": 1539832901, "creation_date": 1539832901, "answer_id": 52866530, "question_id": 52863494, "link": "https://stackoverflow.com/questions/52863494/indeed-how-to-extract-the-job-title-href-link/52866530#52866530", "title": "Indeed how to extract the job title href link?", "body": "<p>You can get the child element by usig this code.</p>\n\n<pre><code>title_href = [tag.find(\"a\")[\"href\"] for tag in soup.findAll(\"h2\",{\"class\":\"jobtitle\"})]\n</code></pre>\n\n<p>I try your code and modified a few places.because i found it can get full name from <code>&lt;a&gt;</code> </p>\n\n<pre><code>import requests  \nimport time\nfrom random import randint\nfrom bs4 import BeautifulSoup\nimport urllib, requests, re, pandas as pd\n\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nfrom selenium.common.exceptions import TimeoutException\n\nwebdriver.DesiredCapabilities.CHROME[\"unexpectedAlertBehaviour\"] = \"accept\"\n\n\noptions = Options()\noptions.add_argument('start-maximized')\noptions.add_argument('disable-infobars')\noptions.add_argument(\"--disable-extensions\")\n\ndriver = webdriver.Chrome(chrome_options=options,executable_path='chromedriver')\n\ndriver.get(\"https://www.indeed.co.uk/automotive-engineer-jobs-in-uk\")\n\ndomain = \"https://www.indeed.co.uk\"\n\nsoup=BeautifulSoup(driver.page_source, \"lxml\")\n\ntitle = [tag.find(\"a\")[\"title\"] for tag in soup.findAll(\"h2\",{\"class\":\"jobtitle\"})]\ntitle_href = [domain + tag.find(\"a\")[\"href\"] for tag in soup.findAll(\"h2\",{\"class\":\"jobtitle\"})]\ncompany = [tag.text.strip() for tag in soup.findAll(\"span\",{\"class\":\"company\"})]\nlocation = [tag.text.strip() for tag in soup.findAll(\"span\",{\"class\":\"location\"})]\n\nprint(title_href)\n\ndriver.close()\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8423930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45441bf595fbdadd61fb7c6865d3a122?s=128&d=identicon&r=PG&f=1", "display_name": "Brendon Shaw", "link": "https://stackoverflow.com/users/8423930/brendon-shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 52866530, "answer_count": 2, "score": 0, "last_activity_date": 1539832901, "creation_date": 1539809810, "last_edit_date": 1539817989, "question_id": 52863494, "link": "https://stackoverflow.com/questions/52863494/indeed-how-to-extract-the-job-title-href-link", "title": "Indeed how to extract the job title href link?", "body": "<p>I have the code to extract the job information from Indeed, but now I want to extract the link form the job title so I can open a new page and pull out the job description information.</p>\n\n<p>I can see the link on the html page with the reference to the job posting, within the href tag but not sue how to extract it?</p>\n\n<pre><code>import requests  \nimport time\nfrom random import randint\nfrom bs4 import BeautifulSoup\nimport urllib, requests, re, pandas as pd\n\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nfrom selenium.common.exceptions import TimeoutException\n\nwebdriver.DesiredCapabilities.CHROME[\"unexpectedAlertBehaviour\"] = \"accept\"\n\nwebdriver.Chrome(chrome_options=options,executable_path=CHROMEDRIVER_PATH)\noptions = Options()\noptions.add_argument('start-maximized')\noptions.add_argument('disable-infobars')\noptions.add_argument(\"--disable-extensions\")\ndriver = webdriver.Chrome(chrome_options=options,executable_path='chromedriver')\n\ndriver.get(\"https://www.indeed.co.uk/automotive-engineer-jobs-in-uk\")\n\nsoup=BeautifulSoup(driver.page_source, \"lxml\")\n\ntitle = [tag.text.strip() for tag in soup.select('.jobtitle')]\ncompany = [tag.text.strip() for tag in soup.select('.company')]\nlocation = [tag.text.strip() for tag in soup.select('.location')]\n\nfor y in range (len(title)):\n    tmpstring = (title[y] + ',' + company[y] + ',' + location[y] + \",0\")\n    tmpstring = tmpstring.encode(\"utf-8\")\n    f = open('FileDump','a')\n    f.write(tmpstring)\n    f.close\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pyinstaller"], "owner": {"reputation": 175, "user_id": 5823761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1fd953221e30fbe1e1df82b276a2c028?s=128&d=identicon&r=PG&f=1", "display_name": "Z.Chen", "link": "https://stackoverflow.com/users/5823761/z-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539809622, "creation_date": 1539809622, "question_id": 52863461, "link": "https://stackoverflow.com/questions/52863461/missing-module-when-using-pyinstaller", "title": "Missing module when using pyInstaller", "body": "<p>I am trying to create a stand-alone program for macOS from a python script using pyInstaller however every time I try to run the program the pyInstaller creates, I get the following error: </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"Program.py\", line 15, in &lt;module&gt;\nImportError: No module named 'fpdf'\n[18189] Failed to execute script Program logout\nSaving session...\n...copying shared history...\n...saving history...truncating history files...\n...completed.\n\n[Process completed]\n</code></pre>\n\n<p>Modules used: </p>\n\n<pre><code>import xlrd\nimport xlwt\nimport os\nfrom fpdf import FPDF\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1539809623, "post_id": 52863445, "comment_id": 92641246, "body": "What you&#39;ve posted isn&#39;t valid syntax. Give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of what you&#39;ve actually tried, and be specific about the problem with it."}], "answers": [{"tags": [], "owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "is_accepted": false, "score": 0, "last_activity_date": 1539809653, "creation_date": 1539809653, "answer_id": 52863470, "question_id": 52863445, "link": "https://stackoverflow.com/questions/52863445/check-datetime-now-is-in-between-two-datetime-objects-or-not/52863470#52863470", "title": "Check datetime.now is in between two datetime objects or not", "body": "<p>Using the datetime library you can compare timestamps with > and &lt;.</p>\n"}, {"tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": true, "score": -1, "last_activity_date": 1539809815, "creation_date": 1539809815, "answer_id": 52863495, "question_id": 52863445, "link": "https://stackoverflow.com/questions/52863445/check-datetime-now-is-in-between-two-datetime-objects-or-not/52863495#52863495", "title": "Check datetime.now is in between two datetime objects or not", "body": "<p>You can use dateutil to easily parse your dates:</p>\n\n<pre><code>from dateutil import parser\n\nparser.parse(A) &lt; parser.parse(C) &lt; parser.parse(B)\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 6481062, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/8942088ef43b927101fdce52dc414b80?s=128&d=identicon&r=PG&f=1", "display_name": "user6481062", "link": "https://stackoverflow.com/users/6481062/user6481062"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 52863495, "answer_count": 2, "score": -2, "last_activity_date": 1539809815, "creation_date": 1539809550, "last_edit_date": 1539809649, "question_id": 52863445, "link": "https://stackoverflow.com/questions/52863445/check-datetime-now-is-in-between-two-datetime-objects-or-not", "title": "Check datetime.now is in between two datetime objects or not", "body": "<pre><code>A = 2018-09-27T12:00:00.000-0500\nB = 2018-09-27T19:00:00.000-0500\n\nC = 2018-10-17T15:27:57.604399-0500\n</code></pre>\n\n<p>I would like to check if <code>C</code> datetime object is between <code>A</code> and <code>B</code> or not. Do I have to manipulate objects with <code>strftime</code> to get desired result?</p>\n"}, {"tags": ["python", "python-3.x", "syntax"], "comments": [{"owner": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1539809645, "post_id": 52863407, "comment_id": 92641253, "body": "Also check out <a href=\"https://stackoverflow.com/q/7186336/1076479\">stackoverflow.com/q/7186336/1076479</a>"}], "answers": [{"comments": [{"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 1, "creation_date": 1539809756, "post_id": 52863444, "comment_id": 92641298, "body": "Was it playing before? This shouldn&#39;t stop it from playing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10492208"}, "edited": false, "score": 0, "creation_date": 1539810154, "post_id": 52863444, "comment_id": 92641492, "body": "I probably should have clarified that I wanted it to count that on screen"}, {"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539810285, "post_id": 52863444, "comment_id": 92641549, "body": "Just print the count with the ligma print.      <code>print(&#39;ligma - {}&#39;.format(count))</code>  output: <code>ligma - 1, ligma - 2, etc.</code>"}], "tags": [], "owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "is_accepted": false, "score": 1, "last_activity_date": 1539809548, "creation_date": 1539809548, "answer_id": 52863444, "question_id": 52863407, "link": "https://stackoverflow.com/questions/52863407/how-would-i-add-a-counter-to-this/52863444#52863444", "title": "how would I add a counter to this", "body": "<pre><code>count = 0\nwhile True:\n    print ('ligma')\n    count += 1\n    time.sleep(1.5)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10492208"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1539809548, "creation_date": 1539809415, "last_edit_date": 1539809437, "question_id": 52863407, "link": "https://stackoverflow.com/questions/52863407/how-would-i-add-a-counter-to-this", "title": "how would I add a counter to this", "body": "<p>I want to add a counter to this code so every time the word ligma is printed it counts the number of times ligma was printed on the screen</p>\n\n<pre><code>import winsound\nimport time\nfrom threading import Thread\n\ndef play_sound():\n    for _ in range(10):\n        winsound.PlaySound(\"dank\", winsound.SND_ALIAS)\n        time.sleep(2.5)\n\nthread = Thread(target=play_sound)\nthread.start()\n\nwhile True:\n    print ('ligma')\n    time.sleep(1.5)\n</code></pre>\n"}, {"tags": ["python", "html", "flask", "nltk", "summarization"], "comments": [{"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 2, "creation_date": 1539809440, "post_id": 52863400, "comment_id": 92641158, "body": "First thing people will ask is for you to put your code into the post instead of providing pictures of it. Would you mind doing that?"}, {"owner": {"reputation": 11, "user_id": 10520752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482fdf7b34c0297ebede54ce113a4b8d?s=128&d=identicon&r=PG&f=1", "display_name": "jkash21", "link": "https://stackoverflow.com/users/10520752/jkash21"}, "reply_to_user": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 0, "creation_date": 1539809995, "post_id": 52863400, "comment_id": 92641407, "body": "sorry, thanks first time user."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10520752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482fdf7b34c0297ebede54ce113a4b8d?s=128&d=identicon&r=PG&f=1", "display_name": "jkash21", "link": "https://stackoverflow.com/users/10520752/jkash21"}, "is_accepted": false, "score": 0, "last_activity_date": 1539812700, "creation_date": 1539812700, "answer_id": 52864070, "question_id": 52863400, "link": "https://stackoverflow.com/questions/52863400/python-flask-summarization-algorithm-error/52864070#52864070", "title": "Python/flask summarization algorithm error", "body": "<p>Turn out Bob is not my Uncle. My return statements were inside the for loop instead of outside. This question has been resolved.</p>\n"}], "owner": {"reputation": 11, "user_id": 10520752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/482fdf7b34c0297ebede54ce113a4b8d?s=128&d=identicon&r=PG&f=1", "display_name": "jkash21", "link": "https://stackoverflow.com/users/10520752/jkash21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539812700, "creation_date": 1539809392, "last_edit_date": 1539809848, "question_id": 52863400, "link": "https://stackoverflow.com/questions/52863400/python-flask-summarization-algorithm-error", "title": "Python/flask summarization algorithm error", "body": "<pre><code>@app.route('/dependent', methods = ['POST'])\ndef mySumD():\nif request.form['action'] == 'LSA':\n    para = \"\"\n    url = request.form['url_link']\n    parser = HtmlParser.from_url(url, Tokenizer(LANGUAGE))\n    stemmer = Stemmer(LANGUAGE)\n    summarizer = Summarizer(stemmer)\n    summarizer.stop_words = get_stop_words(LANGUAGE)\n\n    for sentence in summarizer(parser.document, SENTENCES_COUNT):\n        data = str(sentence)\n        para += data \n    return render_template('dependent.html', para = para)\n\nelif request.form['action'] == 'Luhn':\n    para = \"\"\n    url = request.form['url_link']\n    parser = HtmlParser.from_url(url, Tokenizer(LANGUAGE))\n    stemmer = Stemmer(LANGUAGE)\n    summarizer = LuhnSummarizer(stemmer)\n    summarizer.stop_words = get_stop_words(LANGUAGE)\n\n    for sentence in summarizer(parser.document, SENTENCES_COUNT):\n        data = str(sentence)\n        para += data \n        return render_template('dependent.html', para = para)\n\nelif request.form['action'] == 'LexRank':\n    para = \"\"\n    url = request.form['url_link']\n    parser = HtmlParser.from_url(url, Tokenizer(LANGUAGE))\n    stemmer = Stemmer(LANGUAGE)\n    summarizer = LexSummarizer(stemmer)\n    summarizer.stop_words = get_stop_words(LANGUAGE)\n\n    for sentence in summarizer(parser.document, SENTENCES_COUNT):\n        data = str(sentence)\n        para += data \n        return render_template('dependent.html', para = para)\n</code></pre>\n\n<p>></p>\n\n<pre><code>&lt;form action = \"{{ url_for('mySumD') }}\" method = \"POST\" id=\"urlForm\" class=\"standard\"&gt;\n\n &lt;input type=\"url\" id = \"url\" name=\"url_link\" class= \"form-control\" placeholder=\"Insert URL here...\"&gt;\n        &lt;div id=\"url_field_is_empty\" class=\"error\" style=\"display: none\"&gt; You must submit a valid URL&lt;/div&gt;\n  &lt;h1&gt;Choose Your Summarization Method&lt;/h1&gt;\n  &lt;div class=\"btn-group\" style=\"width:100%\" id=\"subscribersoptions\"&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"LSA\"&gt;LSA&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"Luhn\"&gt;Luhn&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"LexRank\"&gt;Lex Rank&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"TextRank\"&gt;Text Rank&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"SumBasic\"&gt;SumBasic&lt;/button&gt;\n     &lt;button style=\"width:20%\" type =\"submit\" name=\"action\" value=\"KL-Sum\"&gt;KL-Sum&lt;/button&gt;\n  &lt;/div&gt;    \n  &lt;br&gt;\n  {{para}}\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Hello so I am having an issue with getting my flask and html to output the correct data. I am using Sumy summarization library. basically I am attempting to summarize url webpages and output the text on an html doc. Everything is working fine and dandy, particularly for my LSA summarization. The issue is that beside lsa it is only outputting the first sentence. This is why i created the para = \"\" variable to append strings to create a full paragraph. This works, but only for LSA. I was wondering if anyone had any inquiry into how i can get my other summarization methods to output more than 1 sentence. All these algos work fine in IDLE just not my flask app. sorry for poor english.</p>\n"}, {"tags": ["python", "lxml", "findall"], "comments": [{"owner": {"reputation": 690, "user_id": 478223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e87c8bdc46d99c7b37b0249320f490?s=128&d=identicon&r=PG", "display_name": "Shawn Yarbrough", "link": "https://stackoverflow.com/users/478223/shawn-yarbrough"}, "edited": false, "score": 0, "creation_date": 1539815002, "post_id": 52863357, "comment_id": 92643116, "body": "Note you exposed a root password in this source code which I hope you will now change if it is protecting anything important."}, {"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1539847995, "post_id": 52863357, "comment_id": 92651659, "body": "It would be easier to help if you could trim the question down to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It is currently not possible for us to simply copy, paste and run your code."}], "answers": [{"tags": [], "owner": {"reputation": 690, "user_id": 478223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18e87c8bdc46d99c7b37b0249320f490?s=128&d=identicon&r=PG", "display_name": "Shawn Yarbrough", "link": "https://stackoverflow.com/users/478223/shawn-yarbrough"}, "is_accepted": false, "score": 0, "last_activity_date": 1539814760, "creation_date": 1539814760, "answer_id": 52864406, "question_id": 52863357, "link": "https://stackoverflow.com/questions/52863357/python-lxml-findall-cant-print-elements-as-strings-brand-new-to-python/52864406#52864406", "title": "Python/LXML/FindAll - Can&#39;t Print Elements as Strings (brand new to python)", "body": "<p>If <code>DB_ENTRY</code> is the <code>&lt;isis-database-entry&gt;</code> node, then <code>DB_ENTRY.findall(\"isis-prefix/address-prefix\")</code> would be expected to find a list of all the (2) <code>&lt;address-prefix&gt;</code> tags.</p>\n\n<p>And yes, that is what is shown in the output sample: <code>IP Address:     [&lt;Element address-prefix at 0x7f4cdd4d0710&gt;,...]</code></p>\n\n<p>It seems like you really want two loops, something like this:</p>\n\n<pre><code>for DB_ENTRY in list(DB_ROOT):\n    for ISIS_PREFIX in DB_ENTRY:\n        print(\"IP Address:\\t{PREFIX_ADDRESS}\".format(PREFIX_ADDRESS=ISIS_PREFIX.findall(\"address-prefix\")[0].text))\n</code></pre>\n\n<p>Instead of <code>DB_ENTRY.findall()</code>, that has been changed to <code>ISIS_PREFIX.findall()</code>. And that <code>.findall()</code> returns a list of one, so I added <code>[0]</code> to the end to get the IP address node out of the list, then added <code>.text</code> to return the actual IP address instead of the XML node info.</p>\n\n<p>My testing showed this output:</p>\n\n<pre><code>IP Address: 1.7.11.0/32\nIP Address: 1.11.12.0/24\n</code></pre>\n"}], "owner": {"reputation": 326, "user_id": 3746195, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b0cb2a70daac856f8c9a11f94b8bb05?s=128&d=identicon&r=PG&f=1", "display_name": "user3746195", "link": "https://stackoverflow.com/users/3746195/user3746195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539869113, "creation_date": 1539809198, "last_edit_date": 1539869113, "question_id": 52863357, "link": "https://stackoverflow.com/questions/52863357/python-lxml-findall-cant-print-elements-as-strings-brand-new-to-python", "title": "Python/LXML/FindAll - Can&#39;t Print Elements as Strings (brand new to python)", "body": "<p>When I use \"findall\" in the line which also \"prints\", which I've noted in the code with \">>>\", the objects within the list are display as XML elements.  The \".text\" function does not appear to have any effect, no matter where I put it within the line.  The elements are all IPv4 or IPv6 addresses - not sure if this matters.  Most solutions are different than what I am doing, and me and my coworker as stumped.  This is literally my first Python script.  </p>\n\n<p><strong>Input Sample (shortened)</strong></p>\n\n<pre><code>&lt;rpc-reply xmlns:junos=\"http://xml.juniper.net/junos/18.2R1/junos\"&gt;\n    &lt;isis-database-information xmlns=\"http://xml.juniper.net/junos/18.2R1/junos-routing\" junos:style=\"extensive\"&gt;\n        &lt;isis-database&gt;\n            &lt;level&gt;1&lt;/level&gt;\n            &lt;isis-database-entry&gt;\n\n                -----OUTPUT OMITTED----\n\n                &lt;isis-prefix xmlns=\"http://xml.juniper.net/junos/18.2R1/junos-routing\" junos:style=\"normal\"&gt;\n                    &lt;protocol-name&gt;IP&lt;/protocol-name&gt;\n                    &lt;isis-topology-id&gt;IPV4 Unicast&lt;/isis-topology-id&gt;\nTrying to print &gt;&gt;&gt; &lt;address-prefix&gt;1.7.11.0/32&lt;/address-prefix&gt;\n                    &lt;metric&gt;16&lt;/metric&gt;\n                    &lt;prefix-flag&gt;Internal&lt;/prefix-flag&gt;\n                    &lt;prefix-status&gt;up&lt;/prefix-status&gt;\n                &lt;/isis-prefix&gt;\n                &lt;isis-prefix xmlns=\"http://xml.juniper.net/junos/18.2R1/junos-routing\" junos:style=\"normal\"&gt;\n                    &lt;protocol-name&gt;IP&lt;/protocol-name&gt;\n                    &lt;isis-topology-id&gt;IPV4 Unicast&lt;/isis-topology-id&gt;\n                    &lt;address-prefix&gt;1.11.12.0/24&lt;/address-prefix&gt;\n                    &lt;metric&gt;32&lt;/metric&gt;\n                    &lt;prefix-flag&gt;Internal&lt;/prefix-flag&gt;\n                    &lt;prefix-status&gt;up&lt;/prefix-status&gt;\n                &lt;/isis-prefix&gt;\n</code></pre>\n\n<p><strong>Output Sample (shortened)</strong></p>\n\n<pre><code>##################################################\n##################################################\nLSP ID: D17-HYBC03.00-00\nIP Address:     [&lt;Element address-prefix at 0x7f4cdd4d0710&gt;, &lt;Element address-prefix at 0x7f4cdd4d0a70&gt;]\nIPv4 Node-SID:  None\nIPv6 Node-SID:  None\nFirst SRGB Label:       None\nLast SRGB Label:        None\n##################################################\n##################################################\nLSP ID: D18-HYBC04.00-00\nIP Address:     [&lt;Element address-prefix at 0x7f4cdd4d0710&gt;, &lt;Element address-prefix at 0x7f4cdd4d0998&gt;]\nIPv4 Node-SID:  2018\nIPv6 Node-SID:  None\nFirst SRGB Label:       16000\nLast SRGB Label:        23999\n##################################################\n##################################################\nLSP ID: D07-DSRJ01.00-00\nIP Address:     [&lt;Element address-prefix at 0x7f4cdd4d0a28&gt;, &lt;Element address-prefix at 0x7f4cdd4d0908&gt;, &lt;Element address-prefix at 0x7f4cdd4d0710&gt;, &lt;Element address-prefix at 0x7f4cdd4d09e0&gt;]\nIPv4 Node-SID:  7\nIPv6 Node-SID:  1007\nFirst SRGB Label:       16000\nLast SRGB Label:        23999\n##################################################\n##################################################\nLSP ID: D08-DSRJ02.00-00\nIP Address:     [&lt;Element address-prefix at 0x7f4cdd4d0998&gt;, &lt;Element address-prefix at 0x7f4cdd4d0878&gt;, &lt;Element address-prefix at 0x7f4cdd4d0908&gt;, &lt;Element address-prefix at 0x7f4cdd4d0638&gt;]\nIPv4 Node-SID:  8\nIPv6 Node-SID:  1008\nFirst SRGB Label:       16000\nLast SRGB Label:        23999\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>from jnpr.junos import Device\nfrom lxml import etree\n\n####################\n###etree.dump(DB)###\n####################\n\nif __name__ == '__main__':\n    NODE = Device(host='x.x.x.x', user='root',  password='test').open()\n    DB = NODE.rpc.get_isis_database_information(level='1', extensive = True, normalize = True, )\n    DB_ROOT = DB.findall('.//isis-database/isis-database-entry')\n\n    for DB_ENTRY in DB_ROOT:\n\n        LSPID = 'lsp-id'\n        PREFIX = 'isis-prefix'\n        PREFIX_ADDRESS = 'address-prefix'\n        SID_V4 = 'isis-node-segment/isis-node-segment-ipv4-index'\n        SID_V6 = 'isis-node-segment/isis-node-segment-ipv6-index'\n        LABEL_FIRST = 'isis-node-segment/isis-node-segment-block/isis-node-segment-block-first-label'\n        LABEL_LAST = 'isis-node-segment/isis-node-segment-block/isis-node-segment-block-last-label'\n\n        print('#' * 50) \n        print('#' * 50)\n        print(\"LSP ID:\\t{LSPID}\".format(LSPID=DB_ENTRY.findtext(LSPID)))\n    &gt;&gt;&gt; print(\"IP Address:\\t{PREFIX_ADDRESS}\".format(PREFIX_ADDRESS=DB_ENTRY.findall(\"isis-prefix/[metric='0']address-prefix\")))    \n        print(\"IPv4 Node-SID:\\t{SID_V4}\".format(SID_V4=DB_ENTRY.findtext(SID_V4)))  \n        print(\"IPv6 Node-SID:\\t{SID_V6}\".format(SID_V6=DB_ENTRY.findtext(SID_V6)))      \n        print(\"First SRGB Label:\\t{LABEL_FIRST}\".format(LABEL_FIRST=DB_ENTRY.findtext(LABEL_FIRST)))        \n        print(\"Last SRGB Label:\\t{LABEL_LAST}\".format(LABEL_LAST=DB_ENTRY.findtext(LABEL_LAST)))\n</code></pre>\n"}, {"tags": ["python", "json", "django", "postgresql"], "comments": [{"owner": {"reputation": 1851, "user_id": 4370639, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/4XruE.png?s=128&g=1", "display_name": "Art", "link": "https://stackoverflow.com/users/4370639/art"}, "edited": false, "score": 0, "creation_date": 1539815759, "post_id": 52863352, "comment_id": 92643325, "body": "To start with: <b>you&#39;re comparing texts.</b> There is no date type in json. If <a href=\"https://docs.djangoproject.com/en/2.1/ref/contrib/postgres/fields/#querying-jsonfield\" rel=\"nofollow noreferrer\">this (note: postgres specific)</a> does not work, I can suggest creating a view in postgres that provides the id and the date it extracts from json (or jsonb)."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 2301357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b044e61e4863bca76121c75bc548287?s=128&d=identicon&r=PG", "display_name": "user2301357", "link": "https://stackoverflow.com/users/2301357/user2301357"}, "edited": false, "score": 0, "creation_date": 1539810490, "post_id": 52863529, "comment_id": 92641611, "body": "are you sure about the __gt postfix? I am doing things like data__build_version__gt=1.5 and that seems to work"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "reply_to_user": {"reputation": 43, "user_id": 2301357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b044e61e4863bca76121c75bc548287?s=128&d=identicon&r=PG", "display_name": "user2301357", "link": "https://stackoverflow.com/users/2301357/user2301357"}, "edited": false, "score": 0, "creation_date": 1539811021, "post_id": 52863529, "comment_id": 92641843, "body": "If that&#39;s possible, some implementation might already be in place in recent django versions, but not yet documented. So I suspect it&#39;s a partial implementation, which explains why the date comparison doesn&#39;t work."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "reply_to_user": {"reputation": 43, "user_id": 2301357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b044e61e4863bca76121c75bc548287?s=128&d=identicon&r=PG", "display_name": "user2301357", "link": "https://stackoverflow.com/users/2301357/user2301357"}, "edited": false, "score": 0, "creation_date": 1539811341, "post_id": 52863529, "comment_id": 92641944, "body": "Try using the django json encoder date format: <code>Q(data__result_started__gt = &quot;2018-05-22T00:00:00&quot;)</code>. Or only date, but use zero padding for date and month."}], "tags": [], "owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "is_accepted": false, "score": 0, "last_activity_date": 1539809945, "creation_date": 1539809945, "answer_id": 52863529, "question_id": 52863352, "link": "https://stackoverflow.com/questions/52863352/how-can-i-do-a-django-query-on-a-jsonfield-containing-a-date/52863529#52863529", "title": "How can I do a Django Query on a JSONField containing a date?", "body": "<p>You can't use <code>__gt</code> postfix to filter on json sub fields. This is not supported yet in the django ORM. It is possible to do this with raw sql in postgresql, so maybe this feature will be added in a future release of Django.</p>\n\n<p>If you provide your model code, someone might suggest an answer using sql.</p>\n\n<p>You can also extract the sub field using <code>.annotate()</code> and then use that in subsequent django QuerySet queries. See this question for an example.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/52693812/ordering-django-querysets-using-a-jsonfields-properties\">Ordering Django querysets using a JSONField&#39;s properties</a></p>\n"}], "owner": {"reputation": 43, "user_id": 2301357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b044e61e4863bca76121c75bc548287?s=128&d=identicon&r=PG", "display_name": "user2301357", "link": "https://stackoverflow.com/users/2301357/user2301357"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1097, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539809945, "creation_date": 1539809187, "question_id": 52863352, "link": "https://stackoverflow.com/questions/52863352/how-can-i-do-a-django-query-on-a-jsonfield-containing-a-date", "title": "How can I do a Django Query on a JSONField containing a date?", "body": "<p>my hope was I could do something like this:</p>\n\n<pre><code>Q(data__result_started__gt = dateutil.parser.parse(\"5/22/18\"))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Q(data__result_started__gt = \"2018-5-22\")\n</code></pre>\n\n<p>in the first case i get a datetime is not JSON serializable error and in the second case i get 0 results returned.</p>\n\n<p>Is there a way to do this?\nthanks</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "scipy", "spectrogram"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1539810982, "post_id": 52863334, "comment_id": 92641831, "body": "You may define a number of inches per minute, maybe <code>ipm = 0.5</code>. Then the width of the figure is the length of the soundfile in minutes times <code>ipm</code>. <code>fig.set_figwidth(length*ipm)</code>."}, {"owner": {"reputation": 115, "user_id": 1090768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OyrUq.jpg?s=128&g=1", "display_name": "Fabien Biller", "link": "https://stackoverflow.com/users/1090768/fabien-biller"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1539813524, "post_id": 52863334, "comment_id": 92642694, "body": "Thank you, that does work very well @ImportanceOfBeingErnest !"}], "owner": {"reputation": 115, "user_id": 1090768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OyrUq.jpg?s=128&g=1", "display_name": "Fabien Biller", "link": "https://stackoverflow.com/users/1090768/fabien-biller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539809099, "creation_date": 1539809099, "question_id": 52863334, "link": "https://stackoverflow.com/questions/52863334/keep-the-aspect-ratio-of-an-image-based-on-the-fft-of-a-wave-file", "title": "Keep the aspect ratio of an image based on the fft of a wave file", "body": "<p>I am using</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom scipy.io import wavfile\nimport numpy as np\n\ndef graph_spectrogram(wav_file,png_file):\n    rate, data = wavfile.read(wav_file)\n    fig,ax = plt.subplots(1)\n    fig.subplots_adjust(left=0,right=1,bottom=0,top=1)\n    ax.axis('off')\n    pxx, freqs, bins, im = ax.specgram(x=data, Fs=rate, noverlap=384, NFFT=512)\n    ax.axis('off')\n    fig.savefig(png_file, dpi=300, frameon='false')\n\nif __name__ == '__main__': # Main function\n    graph_spectrogram(file)\n</code></pre>\n\n<p>to convert a wave file to a fft image. All output files are 1920 x 1440 no matter the length of the audio file. How do I keep the height but have an output image width depending on length of the audio file?</p>\n"}, {"tags": ["python", "plotly", "data-visualization"], "answers": [{"tags": [], "owner": {"reputation": 1504, "user_id": 2008194, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64353f0296db360dfc2bdc99b52f10e3?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/2008194/chris"}, "is_accepted": true, "score": 3, "last_activity_date": 1539809672, "creation_date": 1539809672, "answer_id": 52863471, "question_id": 52863305, "link": "https://stackoverflow.com/questions/52863305/plotly-scatter3d-how-can-i-force-3d-axes-to-have-the-same-scale-aspect-ratio/52863471#52863471", "title": "Plotly Scatter3d: how can I force 3D axes to have the same scale / aspect ratio?", "body": "<p>You need to use the <code>aspectmode</code> option in the <code>Layout</code> object.</p>\n\n<pre><code>layout = Layout(\n             scene=dict(\n                 aspectmode='data'\n         ))\nfigure = Figure(data=data, layout=layout)\nplot(figure)\n</code></pre>\n"}], "owner": {"reputation": 1504, "user_id": 2008194, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/64353f0296db360dfc2bdc99b52f10e3?s=128&d=identicon&r=PG", "display_name": "chris", "link": "https://stackoverflow.com/users/2008194/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2101, "favorite_count": 0, "accepted_answer_id": 52863471, "answer_count": 1, "score": 0, "last_activity_date": 1539809789, "creation_date": 1539809023, "last_edit_date": 1539809789, "question_id": 52863305, "link": "https://stackoverflow.com/questions/52863305/plotly-scatter3d-how-can-i-force-3d-axes-to-have-the-same-scale-aspect-ratio", "title": "Plotly Scatter3d: how can I force 3D axes to have the same scale / aspect ratio?", "body": "<p>From what I understand, this is different from plotting in 2D and may not be possible from the plotly API.</p>\n\n<p>I'm plotting spatial data, and my data looks skewed because 1 meter in the X-axis is not equal to 1 meter in the Y axis, etc.</p>\n\n<p>Example:</p>\n\n<ul>\n<li>x values in the range [0, 30]</li>\n<li>y values in the range [0, 120]</li>\n<li>z values in the range [0, 1]</li>\n</ul>\n\n<p>By default, differences in z will look exaggerated when spatially they are very small; plotly uses a cube to visualize the entire range no matter what the scale of the data is. If I set the range of each axis to be [0, 120], the data I'm visualizing will be square / at the same ratio but very small at the bottom of the plot, making it hard to see and interact with.</p>\n"}, {"tags": ["python", "maya"], "comments": [{"owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "edited": false, "score": 0, "creation_date": 1539853906, "post_id": 52863303, "comment_id": 92654912, "body": "you could try to evalDeffered your playblast command and refresh the xgen"}, {"owner": {"reputation": 75, "user_id": 1413363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/717559d57de8fcc81ca2e8a8f0583ec9?s=128&d=identicon&r=PG", "display_name": "dege", "link": "https://stackoverflow.com/users/1413363/dege"}, "reply_to_user": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "edited": false, "score": 0, "creation_date": 1539886411, "post_id": 52863303, "comment_id": 92673671, "body": "I tried that, even tried using <code>time.sleep()</code>, it still doesn&#39;t wait for xgen to load the preview."}, {"owner": {"reputation": 2302, "user_id": 2742418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbieZ.png?s=128&g=1", "display_name": "DrWeeny", "link": "https://stackoverflow.com/users/2742418/drweeny"}, "edited": false, "score": 0, "creation_date": 1539886516, "post_id": 52863303, "comment_id": 92673723, "body": "If evalDeffered doesnt make it. I would go with a custom playblaster.... Manually going from frame to frame and capturing the viewport :/"}], "owner": {"reputation": 75, "user_id": 1413363, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/717559d57de8fcc81ca2e8a8f0583ec9?s=128&d=identicon&r=PG", "display_name": "dege", "link": "https://stackoverflow.com/users/1413363/dege"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1539809022, "creation_date": 1539809022, "question_id": 52863303, "link": "https://stackoverflow.com/questions/52863303/loading-xgen-preview-through-python", "title": "Loading xgen preview through python", "body": "<p>I'm trying to load xgen preview  automatically while doing a playblast. The issue I'm currently facing is python doesn't wait for xgen preview to finish loading and runs the next lines and kicks off the playblast and then finishes loading the preview. Is there a way to make python wait for xgen to finish loading before running the next line?</p>\n"}, {"tags": ["python", "python-3.x", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 172, "user_id": 5379654, "user_type": "registered", "profile_image": "https://graph.facebook.com/967340933325862/picture?type=large", "display_name": "Noah B. Johnson", "link": "https://stackoverflow.com/users/5379654/noah-b-johnson"}, "is_accepted": true, "score": 4, "last_activity_date": 1544505744, "creation_date": 1544505744, "answer_id": 53717836, "question_id": 52863277, "link": "https://stackoverflow.com/questions/52863277/using-beautifulsoup-4-and-recursion-to-capture-the-structure-of-html-nested-tags/53717836#53717836", "title": "Using BeautifulSoup 4 and recursion to capture the structure of HTML nested tags", "body": "<p>I don't think that nested lists are exactly what you're looking for here. If all you're trying to do is build a tree of tags, I would use nested dictionaries. I would still use them if you're trying to extract any other information.</p>\n\n<p><strong>This recursive function will build a nested-dictionary \"tree\"</strong></p>\n\n<pre><code>def traverse(soup):\n    if soup.name is not None:\n        dom_dictionary = {}\n        dom_dictionary['name'] = soup.name\n        dom_dictionary['children'] = [ traverse(child) for child in soup.children if child.name is not None]\n        return dom_dictionary\n</code></pre>\n\n<p><strong>We can use it like so:</strong></p>\n\n<pre><code>page = requests.get(\"http://example.com\")\nsoup = BeautifulSoup(page.text, \"html5lib\")\ntraverse(soup)\n</code></pre>\n\n<p>This gives us:</p>\n\n<pre><code>{'name': '[document]',\n 'children': [{'name': 'html',\n   'children': [{'name': 'head',\n     'children': [{'name': 'title', 'children': []},\n      {'name': 'meta', 'children': []},\n      {'name': 'meta', 'children': []},\n      {'name': 'meta', 'children': []},\n      {'name': 'style', 'children': []}]},\n    {'name': 'body',\n     'children': [{'name': 'div',\n       'children': [{'name': 'h1', 'children': []},\n        {'name': 'p', 'children': []},\n        {'name': 'p', 'children': [{'name': 'a', 'children': []}]}]}]}]}]}\n</code></pre>\n"}], "owner": {"reputation": 846, "user_id": 9572393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z7AXs.png?s=128&g=1", "display_name": "GKE", "link": "https://stackoverflow.com/users/9572393/gke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 53717836, "answer_count": 1, "score": 5, "last_activity_date": 1544505744, "creation_date": 1539808916, "last_edit_date": 1539893718, "question_id": 52863277, "link": "https://stackoverflow.com/questions/52863277/using-beautifulsoup-4-and-recursion-to-capture-the-structure-of-html-nested-tags", "title": "Using BeautifulSoup 4 and recursion to capture the structure of HTML nested tags", "body": "<p>I've been trying to capture the layout of an HTML page using BeautifulSoup4 and recursion. The idea is to have linked data structures of parents to children, for example, a layout like this:</p>\n\n<pre><code>&lt;html&gt;\n &lt;h1&gt;\n  &lt;!--Contents--&gt;\n &lt;/h1&gt;\n &lt;div&gt; \n  &lt;div&gt; \n   &lt;!--Contents--&gt;\n  &lt;/div&gt;\n &lt;/div&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Would be stored in a list like so:</p>\n\n<pre><code>html = [ h1 , div ] # Where h1 and div are also lists also containing lists\n</code></pre>\n\n<p>I've had a hard time finding Q&amp;A on this specific problem, so instead I've tried modeling a function off of using recursion to traverse <a href=\"https://stackoverflow.com/questions/39879638/recursively-go-through-all-directories-until-you-find-a-certain-file-in-python\">directories</a> as they're pretty similar.</p>\n\n<p>This is my current function in Python 3 that's supposed to nest tags into lists:</p>\n\n<pre><code>def listGen(l , hObj):\n    # Where hObj is a BS4 object and l is a sorted lists containing direct children to the html tag\n    z = []\n    for x in l:\n        z.append(hObj.find(x).children)\n\n    def expand(xlist1):\n        # Where xlist1 is a list generator \n        for n in xlist1:\n            if n.name is not None:\n                print(n.name)\n                for n2 in hObj.find(n.name).children:\n                    if n2.name is not None:\n                        print(n2.name , \"--\") #Debugging print              \n        return z #Temporary\n    for x in z:\n        print(\"------\")\n        expand(x , 0)\n    return z\n</code></pre>\n\n<p>Parsing the <a href=\"https://www.wikipedia.org/\" rel=\"nofollow noreferrer\">Wikipedia Home Page</a> gives me an output of:</p>\n\n<pre><code>------\nh1\nimg --\ndiv --\ndiv\ndiv --\nstrong --\ndiv\ndiv --\nstrong --\ndiv\ndiv --\nstrong --\ndiv\ndiv --\nstrong --\ndiv\ndiv --\nstrong --\nhr\ndiv\ndiv --\nstrong --\np\nsmall --\nsmall --\nsmall --\nscript\nscript\nscript\nstyle\n------\nmeta\ntitle\nmeta\nscript\nmeta\nlink\nlink\nlink\nstyle\nstyle\nlink\nlink\n</code></pre>\n\n<p>Which is exactly what I need, <strong><em>however</em></strong> it takes two for loops and will take many more to get all the children of children. Furthermore I wouldn't know how much tags nest from future websites. So I changed the <code>expand</code> function to:</p>\n\n<pre><code>def expand(xlist1 , depth): \n    l1 = list(xlist1)\n    if depth &lt; len(l1):\n        for n in l1[depth]:\n            if n is not None:\n                if hObj.find(l1[depth].name).children:\n                    return expand(hObj.find(l1[depth].name).children , 0)\n            if n is None:\n                print(2) # Debugging print\n                return expand(xlist1 , depth + 1)\n    if depth &gt;= len(l1):\n        return 0 # Temporary\n    return 0 # Temporary\n</code></pre>\n\n<p>Only to give me maximum recursion errors, I've tried many other variations of it all to no avail.</p>\n\n<p>I've scoured through the <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/\" rel=\"nofollow noreferrer\">BS4 Docs</a> multiple times and there seems to be no built in function for this. Any suggestions or is this not a viable way to achieve what I'm looking for?</p>\n"}, {"tags": ["python", "parsing", "module", "structure", "organization"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1539900038, "post_id": 52863267, "comment_id": 92679788, "body": "Check out <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a> - make sure to read their <a href=\"https://codereview.stackexchange.com/help/on-topic\">help</a>!"}], "answers": [{"tags": [], "owner": {"reputation": 1203, "user_id": 10508893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19088d413e74d87a8f6e0f288cbddb45?s=128&d=identicon&r=PG&f=1", "display_name": "LeKhan9", "link": "https://stackoverflow.com/users/10508893/lekhan9"}, "is_accepted": true, "score": 0, "last_activity_date": 1539893047, "creation_date": 1539893047, "answer_id": 52881700, "question_id": 52863267, "link": "https://stackoverflow.com/questions/52863267/coding-structure-in-python/52881700#52881700", "title": "Coding Structure in Python", "body": "<p>I'm not sure if SO is the best place to ask. However, one thing that has helped me is creating different functions for manageable chunks of logic. You mentioned all of your code is written without any structure. </p>\n\n<p>The great thing is that you've already mentioned the logical separations. Try to have functions that have a single job based on that logic. For example:</p>\n\n<p>-- \"parse out various sections of a data file into separate lists\"</p>\n\n<pre><code>def parse_data_file(full_file_path):\n    raw_data = read_file(full_file_path) # delegate this out to another function if you're feeling like you need more separation\n    data_lists = generate_sub_lists(raw_data) # delegate\n    return data_lists\n</code></pre>\n\n<p>-- \"will allow me to make user-determined alterations to said lists\"</p>\n\n<pre><code>def edit_lists(user_commands_kv_args, data_lists):\n    for type_of_command, command in user_commands_kv_args:\n        if type_of_command == 'Delete':\n            run_command_on_lists(command='Delete', data_lists)\n</code></pre>\n\n<p>-- \"a code for writing the new lists to a file\"</p>\n\n<pre><code>def write_lists_to_file(data_lists, output_file_full_path):\n    with open(output_file_full_path, 'w+') as f:\n        for ls in data_lists:\n            f.writelines(ls)\n</code></pre>\n\n<p>At least now you have some separation based on functionality. Later on you can even create separate classes based on the type of action. For example:</p>\n\n<pre><code>class DataParser():\n    def __init__(full_file_path):\n        self.file_path = full_file_path\n\n    def read_from_sql():\n        pass\n\n    def read_from_mongo():\n        pass\n\n    def read_from_txt():\n        pass\n</code></pre>\n\n<p>The advantage of that is that if your file format or source changes you only need to adjust your class interface for parsing that data instead of all over your main entrypoint code. Hope that helps.</p>\n"}], "owner": {"reputation": 3, "user_id": 10520696, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hJgNgYpMeAY/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rMcx-p1ctEjHNVSeCAi5Q6bczlCA/mo/photo.jpg?sz=128", "display_name": "Jonathan Tran", "link": "https://stackoverflow.com/users/10520696/jonathan-tran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 935, "favorite_count": 0, "accepted_answer_id": 52881700, "answer_count": 1, "score": 0, "last_activity_date": 1539898092, "creation_date": 1539808884, "last_edit_date": 1539898092, "question_id": 52863267, "link": "https://stackoverflow.com/questions/52863267/coding-structure-in-python", "title": "Coding Structure in Python", "body": "<p>this question relates to largely people like myself who are new to coding as a whole. I recently started learning python from a textbook and various online sources and as this is essentially my first programming language and first exposure to coding I'm having difficulty understanding how to incorporate a general structure into my scripts. </p>\n\n<p>Currently I'm writing code that will parse out various sections of a data file into separate lists (a reader as I understand it), then code that will allow me to make user-determined alterations to said lists, and finally a code for writing the new lists to a file. Ultimately the goal is to have code that will allow me to add/remove particular data values and produce new data files with the determined changes.</p>\n\n<p>Up until now, writing the code itself has not been particularly difficult to read edit and write the file, but I have no idea how the various functions should be written so as to be \"neat and organized\". Because I'm learning the language alongside actually doing this little project, I'm unfamiliar with many of what I refer to as I guess standard code structuring.</p>\n\n<p>Generally speaking for a project like this should I be writing it all in one script made up of separate classes/functions? Is it better to write separate modules that import return values from one into another? Is it typical that a single module would have more than one class? From a sort of birds eye view approach to structuring the code what would be the best way to do this? Currently there is no actual structure to my code and everything is literally written outside of any main() classes and functions and it simply just runs given a particular input file but I'm fairly certain this is likely not the proper way to write code. Apologies for the sort of beginner question, but I am sort of learning as I go while writing this code and have yet to run into any sections of my text on structuring the scripts themselves.</p>\n"}, {"tags": ["python", "numpy", "linear-algebra", "weighted-average"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1539809149, "post_id": 52863214, "comment_id": 92641039, "body": "Your example isn&#39;t great because the points in your &quot;triangle&quot; all lie in a line in 3D!"}], "answers": [{"comments": [{"owner": {"reputation": 253, "user_id": 5120293, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-v8lxPBGKHP8/AAAAAAAAAAI/AAAAAAAAAAA/P3lEseB7h7M/photo.jpg?sz=128", "display_name": "Rich Colburn", "link": "https://stackoverflow.com/users/5120293/rich-colburn"}, "edited": false, "score": 0, "creation_date": 1539815381, "post_id": 52863408, "comment_id": 92643219, "body": "That worked great. Any chance you know a similar solution for n-gons? For example a set of 5 points."}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 1, "last_activity_date": 1539812095, "last_edit_date": 1539812095, "creation_date": 1539809421, "answer_id": 52863408, "question_id": 52863214, "link": "https://stackoverflow.com/questions/52863214/find-the-weights-from-an-existing-point-to-position-a-point-relative-to-a-triang/52863408#52863408", "title": "Find the weights from an existing point to position a point relative to a triangle using weighted average", "body": "<p>Assuming the points are stored in the rows of <code>triangle</code>, and the points don't all lie in the same line, you can use:</p>\n\n<pre><code>weights = np.linalg.solve(triangle.T, point)\n</code></pre>\n\n<p>Here's an example.  I'll use a modified version your <code>triangle</code> so the points are not in a line:</p>\n\n<pre><code>In [57]: triangle\nOut[57]: \narray([[9, 1, 2],\n       [3, 4, 5],\n       [6, 7, 8]])\n</code></pre>\n\n<p>Using the same <code>weights</code>, compute <code>point</code> as the weighted average of the rows of <code>triangle</code>:</p>\n\n<pre><code>In [58]: weights\nOut[58]: array([ 1. ,  0.3, 20. ])\n\nIn [59]: point = np.average(triangle, weights=weights, axis=0)\n\nIn [60]: point\nOut[60]: array([6.09859155, 6.67605634, 7.67605634])\n</code></pre>\n\n<p>Now reverse the process: given <code>point</code> and <code>triangle</code>, find the weights:</p>\n\n<pre><code>In [61]: w = np.linalg.solve(triangle.T, point)\n\nIn [62]: w\nOut[62]: array([0.04694836, 0.01408451, 0.93896714])\n</code></pre>\n\n<p>Note that <code>w</code> is normalized so its sum is 1.  If we normalize <code>weights</code>, we see that it matches <code>w</code>:</p>\n\n<pre><code>In [63]: weights / weights.sum()\nOut[63]: array([0.04694836, 0.01408451, 0.93896714])\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 5120293, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-v8lxPBGKHP8/AAAAAAAAAAI/AAAAAAAAAAA/P3lEseB7h7M/photo.jpg?sz=128", "display_name": "Rich Colburn", "link": "https://stackoverflow.com/users/5120293/rich-colburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 52863408, "answer_count": 1, "score": 0, "last_activity_date": 1539812095, "creation_date": 1539808614, "last_edit_date": 1539810998, "question_id": 52863214, "link": "https://stackoverflow.com/questions/52863214/find-the-weights-from-an-existing-point-to-position-a-point-relative-to-a-triang", "title": "Find the weights from an existing point to position a point relative to a triangle using weighted average", "body": "<p>My understanding is I can position a point anywhere inside a triangle in 3D space using a weighted average:</p>\n\n<pre><code>import numpy as np\ntriangle = np.arange(9)\ntriangle.shape = (3,3)\nweights = np.array([1, 0.3, 20])\npoint = np.average(triangle, weights=weights, axis=0)\n</code></pre>\n\n<p>Now I have a point positioned in a triangle using weighted average.\nMy question is how to do the inverse. If I have a triangle and I already have a point positioned inside it, can I get the weights from the relationship between the point and triangle that would let me use the weighted average to reposition the point? For example if the triangle moved and I want the point to move with it staying in the same position relative to the triangle. I realize this can be done with a barycentric calculation. I'm hoping there is a simpler way with weighted average.</p>\n"}, {"tags": ["python", "django", "generic-foreign-key"], "comments": [{"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539809589, "post_id": 52863184, "comment_id": 92641230, "body": "ShortUUID should be 22 base64 encoded characters. <code>4JSZ539TSJ5GEIMW43FFNQXF</code> is 24 characters long, so it can&#39;t be used here."}, {"owner": {"reputation": 177, "user_id": 6820613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-PAwm_Rcg4r4/AAAAAAAAAAI/AAAAAAAAAA8/Re3vs4EUYeg/photo.jpg?sz=128", "display_name": "David Ramirez", "link": "https://stackoverflow.com/users/6820613/david-ramirez"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539810630, "post_id": 52863184, "comment_id": 92641680, "body": "i tried to change the <code>shortuuid</code> to <code>models.PositiveIntegerField()</code> and it still gave me an error."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539811570, "post_id": 52863184, "comment_id": 92642010, "body": "Yes. Because your token is not an integer either. Where did you get the token? Since it&#39;s clearly a string, why not use a CharField?"}, {"owner": {"reputation": 177, "user_id": 6820613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-PAwm_Rcg4r4/AAAAAAAAAAI/AAAAAAAAAA8/Re3vs4EUYeg/photo.jpg?sz=128", "display_name": "David Ramirez", "link": "https://stackoverflow.com/users/6820613/david-ramirez"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539812286, "post_id": 52863184, "comment_id": 92642246, "body": "i changed it to CharField, an got this error <code>django.db.utils.DataError: invalid input syntax for type uuid: &quot;4JSZ539TSJ5GEIMW43FFNQXF&quot;</code> <code>LINE 1: ...t_type_id&quot; = 11 AND &quot;pos_posrecord&quot;.&quot;object_id&quot; = &#39;4JSZ539...</code> i also tried to use <code>models.UUIDField(primary_key=True, default=uuid.uuid4, editable=False) </code>  then i got this error <code>django.core.exceptions.ValidationError: [&quot;&#39;4JSZ539TSJ5GEIMW43FFNQXF&#39; is not a valid UUID.&quot;]</code>"}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539812902, "post_id": 52863184, "comment_id": 92642490, "body": "You have to run a migration if you change the field type. As you can see the expected type is still uuid."}, {"owner": {"reputation": 177, "user_id": 6820613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-PAwm_Rcg4r4/AAAAAAAAAAI/AAAAAAAAAA8/Re3vs4EUYeg/photo.jpg?sz=128", "display_name": "David Ramirez", "link": "https://stackoverflow.com/users/6820613/david-ramirez"}, "reply_to_user": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1539814076, "post_id": 52863184, "comment_id": 92642856, "body": "you were right i didn&#39;t migrate after changing the model to CharField. thank you for your help."}], "owner": {"reputation": 177, "user_id": 6820613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-PAwm_Rcg4r4/AAAAAAAAAAI/AAAAAAAAAA8/Re3vs4EUYeg/photo.jpg?sz=128", "display_name": "David Ramirez", "link": "https://stackoverflow.com/users/6820613/david-ramirez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1587650193, "creation_date": 1539808452, "last_edit_date": 1587650193, "question_id": 52863184, "link": "https://stackoverflow.com/questions/52863184/django-create-a-genericforeignkey-with-smalluuidfield-id", "title": "Django create a genericForeignKey with SmallUUIDField() id", "body": "<p>This is my model that uses Generic Foreign Key im using SmallUUIDField for <code>pos_id</code> and <code>object_id</code>.</p>\n\n<pre><code>class POSRecord(models.Model):\n    id = SmallUUIDField(default=uuid_default(), primary_key=True, db_index=True, editable=False, verbose_name='ID')\n\n    # FK to a POS integration (e.g., SquareCredentials)\n    pos_content_type = models.ForeignKey('contenttypes.ContentType',\n        related_name='pos_record_integration',\n        on_delete=models.CASCADE)\n    pos_id = SmallUUIDField()\n    pos = GenericForeignKey('pos_content_type', 'pos_id')\n\n    # FK to anything in our system (e.g., Item, ModifierList, Location)\n    object_content_type = models.ForeignKey('contenttypes.ContentType',\n        related_name='pos_record_object',\n        on_delete=models.CASCADE)\n    object_id = SmallUUIDField()\n    object = GenericForeignKey('object_content_type', 'object_id')\n\n    # Raw JSON data from the POS api\n    data = JSONField()\n</code></pre>\n\n<p>On the <code>POSRecord.objects.get_or_create()</code> method I'm passing an id that I'm getting from squareup's api, to the key <code>object_id</code> and I'm getting <code>ValueError: bytes is not a 16-char string</code>. I tried to change the <code>POSRecord</code> model <code>pos_id</code> value to <code>models.PositiveIntegerField()</code> but then got this error. <code>ValueError: invalid literal for int() with base 10: 4JSZ539TSJ5GEIMW43FFNQXF</code></p>\n\n<pre><code>    def sync_item(self, square_item):\n        item_content_type = ContentType.objects.get_for_model(Item)\n        square_credential_content_type = ContentType.objects.get_for_model(SquareCredential)\n        print(square_item.id)\n        print(self.credentials.token)\n        # Fetch our opy of the POS data\n        try:\n            record = POSRecord.objects.get_or_create(\n                pos_content_type=square_credential_content_type,\n                pos_id=self.credentials.token,\n                object_content_type=item_content_type,\n                object_id=square_item.id,\n            )\n        except POSRecord.DoesNotExist:\n            record = POSRecord(pos=self.credentials)\n\n        # Update our record with the fresh data\n        record.data = square_item\n        print(record)\n        print(record.objects)\n        # Get or instantiate our own version of the object \n        item = record.object\n        if item is None:\n            item = Item(tenant=self.tenant)\n        print(item)\n        # Update our version with the POS data\n        item.name = record.data['name']\n        item.decription = record.data['decription']\n\n        # Save the world.\n        item.save()\n        if not record.object:\n            record.object = item\n        record.save()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1539808689, "post_id": 52863182, "comment_id": 92640837, "body": "This sort of thing is usual done by using the universal widget method <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/universal.html\" rel=\"nofollow noreferrer\"><code>after()</code></a> which allows the &quot;scheduling&quot; of updates to the display to occur after a  specified delay. There are many <code>tkinter</code> answers here that show how to do this, so I suggest you do a little more research. Answer to questions about how to making clocks or doing animation are often good candidates."}, {"owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1539808782, "post_id": 52863182, "comment_id": 92640887, "body": "I do have the <code>after()</code> widget, but my problem is how to get my <code>after()</code> widget to work as I intended. So far, pressing the button only pushes the triangle once manually. I tried waiting for program to move triangle again by one second, but I didn&#39;t see anything moving."}, {"owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1539808942, "post_id": 52863182, "comment_id": 92640958, "body": "@martineau I tried looking for some of those types of questions, but I couldn&#39;t find any. Any recommended URL links I should look at?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1539808965, "post_id": 52863182, "comment_id": 92640967, "body": "Your <code>moveitboi()</code> function only calls <code>after()</code> once. In needs to call it over-and-over to keep things going. Give me a minute and I&#39;ll try to find a good one for you..."}, {"owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1539809102, "post_id": 52863182, "comment_id": 92641020, "body": "Okay, but I currently do not know how to make a function call the <code>after()</code> widget over and over. I request some code solution."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1539809339, "post_id": 52863182, "comment_id": 92641116, "body": "Here&#39;s one for the question <a href=\"https://stackoverflow.com/a/28549748/355230\">Tkinter animation will not work</a>. The basic idea is you call <code>after()</code> again in the function that it just called. In the linked answer <code>update_label_image()</code> which is called <i>by</i> <code>after()</code> itself calls <code>after()</code> to schedule a subsequent call to itself."}], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 0, "creation_date": 1539822820, "post_id": 52865236, "comment_id": 92644846, "body": "Thanks for the link to the PEP 8 Style Guide. I presume PEP 8 Style Guide is a set of guidelines for writing efficient Python code, isn&#39;t it?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 1, "creation_date": 1539823224, "post_id": 52865236, "comment_id": 92644928, "body": "Ron: Glad to hear you found my answer useful. PEP 8 is not so much about efficiency as it is about writing readable code\u2014which makes it easier to maintain and for others (including yourself later on) to understand what it&#39;s doing."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "edited": false, "score": 1, "creation_date": 1539823837, "post_id": 52865236, "comment_id": 92645053, "body": "P.S. I don&#39;t strictly follow PEP 8, just mostly. Use your own judgement\u2014it just guidelines (from some very smart people) and it even says something along those lines near the <a href=\"https://www.python.org/dev/peps/pep-0008/#a-foolish-consistency-is-the-hobgoblin-of-little-minds\" rel=\"nofollow noreferrer\">beginning</a>."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 2, "last_activity_date": 1539822539, "last_edit_date": 1539822539, "creation_date": 1539821585, "answer_id": 52865236, "question_id": 52863182, "link": "https://stackoverflow.com/questions/52863182/automatic-shape-movement-over-time-with-tkinter/52865236#52865236", "title": "Automatic shape movement over time with tkinter", "body": "<p>After making fairly extensive changes to the code in your question, eventually I was able to get something runnable enough to illustrate how to implement the suggestion I posted in comments about how to do what you want with the universal <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/universal.html\" rel=\"nofollow noreferrer\"><code>after()</code></a> widget method.</p>\n\n<p><strong>Note how the last line of <code>moveitboi()</code> calls <code>after()</code> to schedule another call to itself after the specified delay.</strong></p>\n\n<p>While making the changes I also attempted to make the code mostly follow the <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 - Style Guide for Python Code</a> suggestions. I strongly suggest you read it and do the same when writing your own code in the future.</p>\n\n<pre><code>import tkinter as tk\n\nclass Triangle:\n    def __init__(self, canvas, *points, fill=''):\n        self.canvas = canvas\n        self.obj_id = canvas.create_polygon(*points, fill=fill)\n\n    def move(self, move_x, move_y):\n        self.canvas.move(self.obj_id, move_x, move_y)\n\n    def move_right(self):\n        self.move(1, 0)\n\n\ndef moveitboi(parent, marker):\n    global counter\n\n    if running:\n        marker.move_right()\n        counter += 1\n\n    # Call this func again after delay.\n    parent.after(1000, moveitboi, parent, marker)\n\ndef start(parent, marker):\n    global running\n\n    if not running:\n        running = True\n        moveitboi(parent, marker)  # Start triangle position updates.\n\n\nroot = tk.Tk()\nroot.geometry(\"960x600\")\n\ncounter = 0\nrunning = False\n\nlabel_toptitle = tk.Label(root, text=\"Program Name\", font=(None, 40),)\nlabel_toptitle.grid(row=0, columnspan=3)\n\n# Left out because I don't have the \"pixel\" image.\n#label_desc = tk.Label(root, image=pixel, compound=tk.CENTER, width=900, font=(None, 14),\n#                      padx=20, pady=10, text=description)\n\ncanvas = tk.Canvas(root, width=960, height=300, bg='white')\ncanvas.grid(row=2, column=0, columnspan=3)\n\nfor linecounter in range(49):\n    newtextbit = linecounter + 1\n    xposn = linecounter*16 + 80\n\n    if (newtextbit + 3) % 4 == 0 and newtextbit != 49:\n        canvas.create_text(xposn, 90, fill=\"darkblue\", font=\"Times 10 bold\",\n                           text=newtextbit)\n    if (newtextbit + 3) % 4 == 0:\n        canvas.create_line(xposn, 40, xposn, 70, width=1, fill=\"black\")\n    else:\n        canvas.create_line(xposn, 50, xposn, 70, width=1, fill=\"black\")  \n\ncanvas.create_line(73, 70, 860, 70, width=2, fill=\"black\")\n\n# Global triangle.\ntriangle3 = Triangle(canvas, 75, 25, 86, 25, 80, 40, fill='red')\n\nf1 = tk.Frame(root, width=70, height=30)\nf1.grid(row=3, column=0, sticky='W')\n\nbutton_record = tk.Button(f1, text=\"Record\", compound=\"top\",\n                          command=lambda: start(root, triangle3))\nbutton_record.pack(side='left', padx=140)\n\nroot.mainloop()\n</code></pre>\n\n<p>Here's a screenshot showing the moved position of the red marker several seconds after the <kbd>Record</kbd> button was clicked:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dOmir.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dOmir.png\" alt=\"screenshot after clicking Record button\"></a></p>\n"}], "owner": {"reputation": 166, "user_id": 10231550, "user_type": "registered", "profile_image": "https://graph.facebook.com/2077435532521752/picture?type=large", "display_name": "Ron Zhang", "link": "https://stackoverflow.com/users/10231550/ron-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 52865236, "answer_count": 1, "score": -1, "last_activity_date": 1539822539, "creation_date": 1539808431, "last_edit_date": 1539809967, "question_id": 52863182, "link": "https://stackoverflow.com/questions/52863182/automatic-shape-movement-over-time-with-tkinter", "title": "Automatic shape movement over time with tkinter", "body": "<p>When I run my current program, the triangle shape on this program is only moving once when I press the button. I want my triangle shape to be moving automatically one pixel per unit time, but I am not sure how to make this work. </p>\n\n<p>So far, while doing this program, I still cannot figure out which bits of classes and definitions go where and what to do with such classes and definitions to make them work like what I intended to, as written above.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import PhotoImage\nfrom tkinter import *\nimport time\n\ncounter = 0\nrunning = False   \n\nclass triangle():\n    def trianglemovedefine(move_x, move_y):\n        canvas.move (triangle3, move_x, move_y)\n\n    def trianglemove():\n        triangle.trianglemovedefine(1, 0)\n\ndef moveitboi(justmoveit):\n    def count(): \n        if running: \n            global counter \n            justmoveit = lambda:triangle.trianglemove()\n            #My \"per unit time\" adjusted to per 1000 microseconds\n            justmoveit.after(1000, count)  \n            counter += 1\n    count()\n\ndef Start(justmoveit):\n    global running\n    running=True\n    moveitboi(justmoveit)\n\nroot = tk.Tk()\nroot.geometry(\"960x600\")\n\nlabel_toptitle = tk.Label(root, text=\"Program Name\", font=(None, 40),)\nlabel_toptitle.grid(row=0, columnspan=3)\n\nlabel_desc = tk.Label(root, image=pixel, compound=\"center\", width=900, font=(None, 14),\n                                          padx=20, pady=10, text=description)\n\nlabel_desc.grid(row=1, columnspan=3)\n\ncanvas = tk.Canvas(width=960, height=300, bg='white')\ncanvas.grid(row=2, column=0, columnspan=3)\n\nfor linecounter in range(49):\n        newtextbit = linecounter + 1\n        if (newtextbit + 3) % 4 == 0 and newtextbit != 49:\n                canvas.create_text((linecounter * 16 + 80), 90,\n                                           fill=\"darkblue\",\n                                           font=\"Times 10 bold\",\n                                           text=newtextbit)\n        if (newtextbit + 3) % 4 == 0:\n                canvas.create_line(((linecounter * 16 + 80)), 40, ((linecounter * 16 + 80)), 70,\n                                           width=1,\n                                           fill=\"black\"\n                                           )\n        else:\n                canvas.create_line(((linecounter * 16 + 80)), 50, ((linecounter * 16 + 80)), 70,\n                                           width=1,\n                                           fill=\"black\"\n                                           )\ncanvas.create_line(73, 70, 860, 70,\n                                   width=2,\n                                   fill=\"black\"\n                                   )\n#The Triangle\ntriangle3 = canvas.create_polygon(75, 25, 86, 25, 80, 40, fill ='red')\n\nf1 = tk.Frame(root, width=70, height=30)\nf1.grid(row=3, column=0, sticky='W')\n\nbutton_record = tk.Button(f1,\n                          text=\"Record\",\n                          compound=\"top\",\n                          command=lambda:triangle.trianglemove(),\n                          )\n\nbutton_record.pack(side='left', padx=140)\n\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "mysql", "django"], "comments": [{"owner": {"reputation": 1150, "user_id": 993690, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f03bd46ec64175c7975a1b457802d96?s=128&d=identicon&r=PG&f=1", "display_name": "Shwetabh Sharan", "link": "https://stackoverflow.com/users/993690/shwetabh-sharan"}, "edited": false, "score": 0, "creation_date": 1539810935, "post_id": 52863173, "comment_id": 92641811, "body": "Did you try using command line to get into mysql with same username and password?"}, {"owner": {"reputation": 2062, "user_id": 5347169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/c9RlU.png?s=128&g=1", "display_name": "sphoenix", "link": "https://stackoverflow.com/users/5347169/sphoenix"}, "reply_to_user": {"reputation": 1150, "user_id": 993690, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f03bd46ec64175c7975a1b457802d96?s=128&d=identicon&r=PG&f=1", "display_name": "Shwetabh Sharan", "link": "https://stackoverflow.com/users/993690/shwetabh-sharan"}, "edited": false, "score": 1, "creation_date": 1539830513, "post_id": 52863173, "comment_id": 92646308, "body": "Yes, I did and it worked."}], "answers": [{"tags": [], "owner": {"reputation": 2062, "user_id": 5347169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/c9RlU.png?s=128&g=1", "display_name": "sphoenix", "link": "https://stackoverflow.com/users/5347169/sphoenix"}, "is_accepted": true, "score": 2, "last_activity_date": 1541102173, "creation_date": 1541102173, "answer_id": 53108475, "question_id": 52863173, "link": "https://stackoverflow.com/questions/52863173/operationalerror-at-admin-login-1698-access-denied-for-user-rootlocalho/53108475#53108475", "title": "OperationalError at /admin/login/ (1698, &quot;Access denied for user &#39;root&#39;@&#39;localhost&#39;&quot;)", "body": "<p>There are some complications to opening a <code>db</code> under <code>root</code> user. You can see details <a href=\"https://l.messenger.com/l.php?u=https%3A%2F%2Fstackoverflow.com%2Fa%2F42742610&amp;h=AT22l3LeuHhhvn1YOaPISffMF7y-eJ5lJ7hcPrU3iYKAxQktQuZFYvK9oKMDBaREMfj-s_cNk1ji0bS34xaUxjSbKVwgXJ9Sait5PemegLT3NxEqdL0ptPvNiknx\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>What I did:</p>\n\n<ol>\n<li><p>logged in as root user in mysql</p>\n\n<p><code>mysql&gt; mysql -u root -p</code></p></li>\n<li><p>created a new user</p>\n\n<p><code>mysql&gt; CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';</code></p></li>\n<li><code>mysql&gt; GRANT ALL PRIVILEGES ON * . * TO 'newuser'@'localhost';</code></li>\n<li><code>mysql&gt; FLUSH PRIVILEGES;</code></li>\n<li><p><code>mysql&gt; exit</code></p></li>\n<li><p>Then I logged in as new user</p>\n\n<p><code>mysql -u newuser -p</code> </p></li>\n</ol>\n\n<p>and enetered the new <code>password</code> I set up earlier to create this user.</p>\n\n<ol start=\"7\">\n<li><p>Then I created the <code>db</code> by</p>\n\n<p><code>create database my_database_name</code></p></li>\n</ol>\n"}], "owner": {"reputation": 2062, "user_id": 5347169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/c9RlU.png?s=128&g=1", "display_name": "sphoenix", "link": "https://stackoverflow.com/users/5347169/sphoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 53108475, "answer_count": 1, "score": 0, "last_activity_date": 1541102173, "creation_date": 1539808398, "last_edit_date": 1539845790, "question_id": 52863173, "link": "https://stackoverflow.com/questions/52863173/operationalerror-at-admin-login-1698-access-denied-for-user-rootlocalho", "title": "OperationalError at /admin/login/ (1698, &quot;Access denied for user &#39;root&#39;@&#39;localhost&#39;&quot;)", "body": "<p>Yes, this is a common question in Stack Overflow but my problem is kinda <strong>different!</strong></p>\n\n<p>I have a server on <strong>Digital Ocean</strong>. <strong>Os: Ubuntu 18.04</strong></p>\n\n<p>I was trying to host my <strong>django</strong> project on the <strong>apache server</strong> with <strong>mysql</strong>.</p>\n\n<p>I have completed the first part but the problem is integrating the <strong>mysql</strong>. I have installed the <strong>mysql</strong> and <strong>mysqlclient</strong>. There is a user <strong>root</strong> with password in my <strong>mysql</strong>. I have created a database and gave the following permission.</p>\n\n<pre><code>GRANT ALL PRIVILEGES ON urp_test.* TO 'root'@'localhost' identified by 'password_for_root';\n</code></pre>\n\n<p>The I configured my <strong>settings.py</strong> file. Here is the <strong>db</strong> portion:</p>\n\n<pre><code>DATABASES = {\n    'default': {\n        'ENGINE': 'django.db.backends.mysql',\n        'NAME': 'urp_test',\n        'USER': 'root',\n        'PASSWORD': 'password_for_the_db',\n        'HOST': 'localhost',\n        'PORT': '3306',\n    }\n}\n</code></pre>\n\n<p>Then I did a <code>python manage.py makemigrations</code>, <code>python manage.py migrate</code>, <code>python manage.py createsuperuser</code>. </p>\n\n<p>All of them were executed successfully. So when I go login from the <strong>admin</strong> module, I see the error:</p>\n\n<blockquote>\n  <p>OperationalError at /admin/login/  (1698, \"Access denied for user\n  'root'@'localhost'\")</p>\n</blockquote>\n\n<p>I tried deleting the database and doing the same thing a couple of times but the same problem.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>If I log in with the same user and password from <strong>terminal</strong>, i.e. like this:</p>\n\n<p><code>mysql -u root -p</code> with the password, I can access the databases.</p>\n\n<p>As I mentioned earlier, <code>python manage.py createsuperuser</code> does create a user and I can get the user from the database table.</p>\n\n<p>The problem is when I try to log in that user from the <code>admin</code> part from the browser i.e. like this:</p>\n\n<p><code>W.X.Y.Z:80/admin/login</code></p>\n\n<p>I got the mentioned error. Here <code>W.X.Y.Z</code> is the <strong>IP</strong> for my <strong>DigitalOcean</strong> server</p>\n\n<p>So, it's definitely a permission error still, isn't it?</p>\n\n<ol>\n<li>How can I resolve this error?</li>\n<li>And also I planned to develop a sign-up module for my normal user.\nIf they sign up, will this permission be accessible to them?\nDo they get any access to the database?</li>\n</ol>\n"}, {"tags": ["python", "python-3.x", "google-app-engine", "google-sheets", "google-cloud-platform"], "answers": [{"tags": [], "owner": {"reputation": 2430, "user_id": 4092401, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/L2gLB.jpg?s=128&g=1", "display_name": "Ying Li", "link": "https://stackoverflow.com/users/4092401/ying-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1539957915, "creation_date": 1539957915, "answer_id": 52894021, "question_id": 52863119, "link": "https://stackoverflow.com/questions/52863119/how-do-i-use-gae-to-listen-to-google-sheets-and-then-run-a-set-of-python-code/52894021#52894021", "title": "How do I use GAE to listen to Google sheets and then run a set of python code?", "body": "<p>What you want is doable but not in the same way you described. GAE cannot listen to Google Sheets. The usually interaction is with the <a href=\"https://developers.google.com/sheets/api/\" rel=\"nofollow noreferrer\">Google Sheets API</a>, which will require you firing off API calls to check for a certain sheet/cell for updates.</p>\n\n<p>Since you are looking for a \"push\" solution, you will need to do it from Google Sheets' end. You need Google Sheets to fire off a request to your GAE and then you can process the information. I would suggest you code your GAE handler to process GET requests and then have your Google Sheets fire off <a href=\"https://stackoverflow.com/q/10744760/4092401\">a script to set a request to your GAE URL</a>. You will set the script to trigger whenever the desired update on your sheet is performed.</p>\n"}], "owner": {"reputation": 145, "user_id": 4241680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/073ba97f0df01535c7e566309c29e218?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4241680/steven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1540560475, "creation_date": 1539808209, "last_edit_date": 1540560475, "question_id": 52863119, "link": "https://stackoverflow.com/questions/52863119/how-do-i-use-gae-to-listen-to-google-sheets-and-then-run-a-set-of-python-code", "title": "How do I use GAE to listen to Google sheets and then run a set of python code?", "body": "<p>Hey all I am looking to use GAE to listen to one of my Google sheets pages and then  execute a python script based of what was entered. I have already setup the python and sheets interaction, meaning I can now read everything off my sheet when I run my code. I am having trouble understanding how to setup GAE to \"listen\" for changes an the sheets though. I have setup the GAE using: </p>\n\n<p><a href=\"https://cloud.google.com/appengine/docs/standard/python3/quickstart\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/python3/quickstart</a></p>\n\n<p>But not sure how to integrate this using my sheets. Any help would be great!</p>\n"}, {"tags": ["python", "unit-testing", "mocking", "python-unittest"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1539808666, "post_id": 52863103, "comment_id": 92640824, "body": "what about just storing the previous state with a toggle (global variable)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1539808838, "post_id": 52863103, "comment_id": 92640910, "body": "general note: you don&#39;t need to force iteration just do <code>for p, d in itertools.product([1, 0], repeat=2):</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2928, "user_id": 769971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JWve2.jpg?s=128&g=1", "display_name": "wholevinski", "link": "https://stackoverflow.com/users/769971/wholevinski"}, "is_accepted": true, "score": 1, "last_activity_date": 1539863192, "creation_date": 1539863192, "answer_id": 52873260, "question_id": 52863103, "link": "https://stackoverflow.com/questions/52863103/mocking-subprocess-check-call-more-than-once/52873260#52873260", "title": "Mocking subprocess.check_call more than once", "body": "<p>You can assign the <code>side_effect</code> of your mock to an iterable and that will return the next value in the iterable each time it's called. In this case, you could do something like this:</p>\n\n<pre><code>import copy\nimport itertools\nimport subprocess\n\nfrom unittest.mock import patch\n\n@patch('subprocess.check_call')\ndef test_hdfs_dir_func(mock_check_call):\n    return_values = itertools.product([0, 1], repeat=2)\n    # Flatten the list; only one return value per call\n    mock_check_call.side_effect = itertools.chain.from_iterable(copy.copy(return_values))\n    for p, d in return_values:\n        assert p == subprocess.check_call()\n        assert d == subprocess.check_call()\n</code></pre>\n\n<p>Note a few things:</p>\n\n<ul>\n<li>I don't have your original functions so I put my own calls to <code>check_call</code> in the loop.</li>\n<li>I'm using copy on the original <code>itertools.product</code> return value because if I don't, it uses the original iterator. This exhausts that original iterator when what we want is 2 separate lists: one for the mock's side_effect and one for you to loop through in your test.</li>\n<li>You can do other neat stuff with <code>side_effect</code>, not just raise. As shown above, you can change the return value for multiple calls: <a href=\"https://docs.python.org/3/library/unittest.mock-examples.html#side-effect-functions-and-iterables\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/unittest.mock-examples.html#side-effect-functions-and-iterables</a>\n\n<ul>\n<li>Not only that, but you can see from the link above that you can also give it a function pointer. That allows you to do even more complex logic when keeping track of multiple mock calls.</li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 52873260, "answer_count": 1, "score": 0, "last_activity_date": 1539863192, "creation_date": 1539808167, "question_id": 52863103, "link": "https://stackoverflow.com/questions/52863103/mocking-subprocess-check-call-more-than-once", "title": "Mocking subprocess.check_call more than once", "body": "<p>I have a function that calls <code>subprocess.check_call()</code> twice. I want to test all their possible outputs. I want to be able to set the first <code>check_call()</code> to return 1 and the second to return 0 and to do so for all possible combinations. The below is what I have so far. I am not sure how to adjust the expected return value</p>\n\n<pre><code>@patch('subprocess.check_call')\ndef test_hdfs_dir_func(mock_check_call):\n    for p, d in list(itertools.product([1, 0], repeat=2)):\n        if p or d:\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "code-formatting", "memory-efficient"], "comments": [{"owner": {"reputation": 196, "user_id": 10071479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/439923c7ef14dc82ca545444b853f8b8?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/10071479/xyz"}, "edited": false, "score": 2, "creation_date": 1539808003, "post_id": 52863039, "comment_id": 92640502, "body": "<a href=\"https://www.codementor.io/satwikkansal/python-practices-for-efficient-code-performance-memory-and-usability-aze6oiq65\" rel=\"nofollow noreferrer\">codementor.io/satwikkansal/&hellip;</a>"}, {"owner": {"reputation": 216, "user_id": 10326329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d34992088bd11896f942c56018bf3c9?s=128&d=identicon&r=PG&f=1", "display_name": "mindfolded", "link": "https://stackoverflow.com/users/10326329/mindfolded"}, "edited": false, "score": 2, "creation_date": 1539808030, "post_id": 52863039, "comment_id": 92640519, "body": "You&#39;re not going to get much of a hit by expanding your code lines. The addition of a line or two is linear and ultimately won&#39;t matter a whole lot.  Usually, when it comes to efficiency, we&#39;re looking at iterating over large data sets or something like that, where you can optimize by reducing the amount of times  you traverse the object. Look into Big O efficiency, that might clear things up for you."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1539808106, "post_id": 52863039, "comment_id": 92640556, "body": "Why do you think your assumption about what efficiency means is disproved by what you&#39;ve been told about a <i>different</i> property of the code you&#39;re writing?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1539808226, "post_id": 52863039, "comment_id": 92640621, "body": "besides, opening a file without being able to control when it&#39;s closed is a big no-no"}, {"owner": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1539808392, "post_id": 52863039, "comment_id": 92640698, "body": "@jonrsharpe Both clarity of code and efficiency seem to come up together regularly, and I wondered if there was going to be any sort of performance hit."}, {"owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "edited": false, "score": 1, "creation_date": 1539808505, "post_id": 52863039, "comment_id": 92640751, "body": "I don&#39;t think the amount of lines of code you write has anything to do with how much memory it consumes or how <i>efficient</i> it is. Using the right data structures and algorithms, however, very much does. That said, for humans, readable code is much much better than clever looking code."}, {"owner": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1539808603, "post_id": 52863039, "comment_id": 92640797, "body": "@Jean-Fran&#231;oisFabre Yeah, normally I would use with open() as:, but it seemed more efficient to do it this way. I remember reading somewhere that as long as it isn&#39;t assigned to a variable, Python will discard it as soon as it is out of use, not sure if this is correct or not."}, {"owner": {"reputation": 4112, "user_id": 577288, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/18595685b6ec8e1d9803d3814c9c19d0?s=128&d=identicon&r=PG", "display_name": "Rhys", "link": "https://stackoverflow.com/users/577288/rhys"}, "edited": false, "score": 0, "creation_date": 1539808686, "post_id": 52863039, "comment_id": 92640834, "body": "as long as it doesn&#39;t compromise code quality, i also favor these one-liners. Its funny when people talk about python &#39;readability&#39; but then they create unnecessary functions and classes .... and talk about assigning readable titles those functions ... its like reading page 1 in a book which then tells you to skip to page 10, page 10 says to go to page 6 ... and so on"}, {"owner": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "edited": false, "score": 0, "creation_date": 1539808908, "post_id": 52863039, "comment_id": 92640941, "body": "Yeah, I had the same thought exactly, I think from now on I may just make two versions of the same code, one of each extreme, and offer them both as a solution. Thanks"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1539812588, "post_id": 52863039, "comment_id": 92642358, "body": "Your code is inefficient, it materialized a large string, then a list, when you don&#39;t have to do that at all. In my experience, this is the problem with using one-liners. It is better to learn to actually use Python data structures efficiently"}, {"owner": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "edited": false, "score": 0, "creation_date": 1539812776, "post_id": 52863039, "comment_id": 92642422, "body": "@SamCole you can use readline instead reading everything"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "edited": false, "score": 0, "creation_date": 1539813621, "post_id": 52863039, "comment_id": 92642720, "body": "@Shankar no, just iterate over the file object directly"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "edited": false, "score": 0, "creation_date": 1539811980, "post_id": 52863438, "comment_id": 92642159, "body": "Thanks, I have edited my post to contain what I think is a more suitable solution :)"}, {"owner": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "reply_to_user": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "edited": false, "score": 0, "creation_date": 1539812296, "post_id": 52863438, "comment_id": 92642249, "body": "@SamCole Please accept the solution"}, {"owner": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "reply_to_user": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "edited": false, "score": 0, "creation_date": 1539812329, "post_id": 52863438, "comment_id": 92642261, "body": "@SamCole Please accept if its useful to you"}, {"owner": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "reply_to_user": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "edited": false, "score": 0, "creation_date": 1539812787, "post_id": 52863438, "comment_id": 92642430, "body": "<a href=\"https://www.pythonforbeginners.com/cheatsheet/python-file-handling\" rel=\"nofollow noreferrer\">pythonforbeginners.com/cheatsheet/python-file-handling</a>"}], "tags": [], "owner": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "is_accepted": true, "score": 0, "last_activity_date": 1539813894, "last_edit_date": 1539813894, "creation_date": 1539809542, "answer_id": 52863438, "question_id": 52863039, "link": "https://stackoverflow.com/questions/52863039/should-i-expand-my-code-making-it-easier-to-read-or-leave-as-is/52863438#52863438", "title": "Should I expand my code making it easier to read, or leave as is?", "body": "<p>I recommend to you use WITH clause in python which is more pythonic and simple to read.</p>\n\n<pre><code>with open(\"welcome.txt\") as file: # Use file to refer to the file object\n    file.readline()\n    #do something with data\n</code></pre>\n\n<p><a href=\"https://preshing.com/20110920/the-python-with-statement-by-example/\" rel=\"nofollow noreferrer\">https://preshing.com/20110920/the-python-with-statement-by-example/</a>\n<a href=\"https://preshing.com/20110920/the-python-with-statement-by-example/\" rel=\"nofollow noreferrer\">https://preshing.com/20110920/the-python-with-statement-by-example/</a></p>\n"}], "owner": {"reputation": 3, "user_id": 10520613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701cd0e9f7031c472701cffb90c59f8b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Cole", "link": "https://stackoverflow.com/users/10520613/sam-cole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1539809670, "accepted_answer_id": 52863438, "answer_count": 1, "score": 0, "last_activity_date": 1539813894, "creation_date": 1539807827, "last_edit_date": 1539812441, "question_id": 52863039, "link": "https://stackoverflow.com/questions/52863039/should-i-expand-my-code-making-it-easier-to-read-or-leave-as-is", "closed_reason": "Needs more focus", "title": "Should I expand my code making it easier to read, or leave as is?", "body": "<p>I study computer science at GCSE. I can code reasonably confidently, I just can't get my head around making my code more efficient.</p>\n\n<p>For example, the line <code>music = [[a,s] for a,s in (x.split(':') for x in open(\"conf/music.txt\").read().split(\"\\n\"))]</code> seems efficient to me, but obviously I have a different idea to everyone else.</p>\n\n<p>I suppose what I am asking, is: Is it generally better to expand my code making it easier to read, even if more variables are created because of this?</p>\n\n<p>Any help would be appreciated, thanks :)</p>\n\n<p>EDIT:\nIs this (below) a better solution?</p>\n\n<p><code>with open(\"conf/music.txt\") as f:\n    fr = f.read()\n    e = fr.split(\"\\n\")\n    fl =  [[a,s] for a,s in (x.split(\":\") for x in e)]</code></p>\n\n<p>Again, any help is much appreciated. Thanks.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 196, "user_id": 10071479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/439923c7ef14dc82ca545444b853f8b8?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/10071479/xyz"}, "edited": false, "score": 0, "creation_date": 1539808165, "post_id": 52863019, "comment_id": 92640590, "body": "did you try with conda? maybe it will work for you <code>conda install -c conda-forge imbalanced-learn</code>"}, {"owner": {"reputation": 159, "user_id": 9329863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8922f826d5f3fe21830ae5ae5525be?s=128&d=identicon&r=PG&f=1", "display_name": "Nate Hutchinson", "link": "https://stackoverflow.com/users/9329863/nate-hutchinson"}, "reply_to_user": {"reputation": 196, "user_id": 10071479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/439923c7ef14dc82ca545444b853f8b8?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/10071479/xyz"}, "edited": false, "score": 0, "creation_date": 1539808959, "post_id": 52863019, "comment_id": 92640964, "body": "I tried this and and got this error: <code>CondaHTTPError: HTTP 000 CONNECTION FAILED for url &lt;https:&#47;&#47;repo.anaconda.com&#47;pkgs&#47;free&#47;noarch&#47;repodata.json.bz&zwnj;&#8203;2&gt;</code>. I&#39;m connected to the internet so not sure what the problem is."}, {"owner": {"reputation": 196, "user_id": 10071479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/439923c7ef14dc82ca545444b853f8b8?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/10071479/xyz"}, "edited": false, "score": 0, "creation_date": 1539809319, "post_id": 52863019, "comment_id": 92641109, "body": "my other try would be to use github + pip installation then, but i guess it also won&#39;t work"}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 13153448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3fa0a176d52a271aeb6ce508ee6be1?s=128&d=identicon&r=PG&f=1", "display_name": "Hishi51", "link": "https://stackoverflow.com/users/13153448/hishi51"}, "is_accepted": false, "score": 1, "last_activity_date": 1594719173, "creation_date": 1594719173, "answer_id": 62892111, "question_id": 52863019, "link": "https://stackoverflow.com/questions/52863019/unable-to-install-imbalanced-learn/62892111#62892111", "title": "Unable to install imbalanced-learn", "body": "<p>I had also struggled with installing it but it worked for me with:</p>\n<pre><code>conda install imbalanced-learn\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 737, "user_id": 8925535, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSiCR.jpg?s=128&g=1", "display_name": "droptop", "link": "https://stackoverflow.com/users/8925535/droptop"}, "is_accepted": false, "score": 0, "last_activity_date": 1594731072, "last_edit_date": 1594731072, "creation_date": 1594730767, "answer_id": 62895546, "question_id": 52863019, "link": "https://stackoverflow.com/questions/52863019/unable-to-install-imbalanced-learn/62895546#62895546", "title": "Unable to install imbalanced-learn", "body": "<p>Trying doing a pip install in your conda environment with <code>pip install imbalanced-learn</code>. If that doesn't work then I'll recommend you revert back to v0.3 with <code>conda install -c glemaitre imbalanced-learn</code></p>\n"}], "owner": {"reputation": 159, "user_id": 9329863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8922f826d5f3fe21830ae5ae5525be?s=128&d=identicon&r=PG&f=1", "display_name": "Nate Hutchinson", "link": "https://stackoverflow.com/users/9329863/nate-hutchinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1594731072, "creation_date": 1539807701, "last_edit_date": 1539812029, "question_id": 52863019, "link": "https://stackoverflow.com/questions/52863019/unable-to-install-imbalanced-learn", "title": "Unable to install imbalanced-learn", "body": "<p>I am trying to install the <code>imbalanced-learn</code> package in Python3 with the following command: <code>pip install - U imbalanced-learn</code>. I get this error:</p>\n\n<blockquote>\n<pre><code>     Could not find a version that satisfies the requirement imbalanced-learn (from versions: )\nNo matching distribution found for imbalanced-learn\nYou are using pip version 10.0.1, however version 18.1 is available.\nYou should consider upgrading via the 'python -m pip install --upgrade pip' command.\n</code></pre>\n</blockquote>\n\n<p>However, when I try upgrading using <code>python -m pip install --upgrade pip</code> I get this:</p>\n\n<blockquote>\n<pre><code>Requirement already up-to-date: pip in c:\\programdata\\anaconda3\\lib\\site-packages (10.0.1)\nYou are using pip version 10.0.1, however version 18.1 is available.\nYou should consider upgrading via the 'python -m pip install --upgrade pip' command.\n</code></pre>\n</blockquote>\n\n<p>Can anyone tell me what's going on?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 739, "user_id": 4163768, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JKXht4IxpzU/AAAAAAAAAAI/AAAAAAAAA94/82XKnW1fGZo/photo.jpg?sz=128", "display_name": "Lingster", "link": "https://stackoverflow.com/users/4163768/lingster"}, "edited": false, "score": 0, "creation_date": 1539808166, "post_id": 52862987, "comment_id": 92640591, "body": "you could take a look at regular expressions in python if you wanted the most flexible way of doing substring replacements. Take a look at this: <a href=\"https://stackoverflow.com/questions/5658369/how-to-input-a-regex-in-string-replace\" title=\"how to input a regex in string replace\">stackoverflow.com/questions/5658369/&hellip;</a>"}, {"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1539808325, "post_id": 52862987, "comment_id": 92640673, "body": "...in other words, you&#39;re trying to replace <code>gtadog</code> with <code>catdog</code>."}], "answers": [{"tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": true, "score": 2, "last_activity_date": 1539807778, "creation_date": 1539807778, "answer_id": 52863028, "question_id": 52862987, "link": "https://stackoverflow.com/questions/52862987/replace-substring-with-another-but-only-if-a-certain-substring-follows-it/52863028#52863028", "title": "Replace Substring with another but only if a certain substring follows it", "body": "<pre><code>&gt;&gt;&gt; 'gtagtadogcat'.replace('gta'+'dog', 'cat'+'dog')\n'gtacatdogcat'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "edited": false, "score": 0, "creation_date": 1539810921, "post_id": 52863052, "comment_id": 92641806, "body": "I think you need to change your last line to <code>print(old_string.replace(&#39;gtadog&#39;,&#39;catdog&#39;))</code>"}], "tags": [], "owner": {"reputation": 196, "user_id": 10071479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/439923c7ef14dc82ca545444b853f8b8?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/10071479/xyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1539807876, "creation_date": 1539807876, "answer_id": 52863052, "question_id": 52862987, "link": "https://stackoverflow.com/questions/52862987/replace-substring-with-another-but-only-if-a-certain-substring-follows-it/52863052#52863052", "title": "Replace Substring with another but only if a certain substring follows it", "body": "<pre><code>old_string = 'gtagtadogcat'\nprint(old_string.replace('gtacat','dogcat'))\n</code></pre>\n\n<p>output: <code>gtagtadogcat</code></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 10520608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1747699f37adbd34f9b9ea45a5b9bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "DKill", "link": "https://stackoverflow.com/users/10520608/dkill"}, "edited": false, "score": 0, "creation_date": 1539832250, "post_id": 52863695, "comment_id": 92646648, "body": "Thanks for the comments. I forgot to mention that the Example was just one combination of what could be put in. I need to make sure that if dog comes up multiple times, and if there&#39;s a &#39;gta&#39; in front of it, it&#39;ll change it to &#39;cat&#39;. The example I gave just has it coming up once. Would I need a For loop to cycle through the string in that regard?"}, {"owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "reply_to_user": {"reputation": 3, "user_id": 10520608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1747699f37adbd34f9b9ea45a5b9bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "DKill", "link": "https://stackoverflow.com/users/10520608/dkill"}, "edited": false, "score": 0, "creation_date": 1539877275, "post_id": 52863695, "comment_id": 92668961, "body": "I have edited my post."}], "tags": [], "owner": {"reputation": 1574, "user_id": 8345749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Lj0B.png?s=128&g=1", "display_name": "Joe Patten", "link": "https://stackoverflow.com/users/8345749/joe-patten"}, "is_accepted": false, "score": 0, "last_activity_date": 1539877230, "last_edit_date": 1539877230, "creation_date": 1539810831, "answer_id": 52863695, "question_id": 52862987, "link": "https://stackoverflow.com/questions/52862987/replace-substring-with-another-but-only-if-a-certain-substring-follows-it/52863695#52863695", "title": "Replace Substring with another but only if a certain substring follows it", "body": "<p>You could use regex:</p>\n\n<pre><code>re.sub('gta(dog)', r'cat\\1', 'gtagtadogcat')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>'gtacatdogcat'\n</code></pre>\n\n<p><br></p>\n\n<p>*Edit: You would not need a forloop if you put in the whole string. Here is an example:</p>\n\n<pre><code>re.sub('gta(dog)', r'cat\\1', 'gtagtadogcat_moretextgta_lastgtadog')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>'gtacatdogcat_moretextgta_lastcatdog'\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10520608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1747699f37adbd34f9b9ea45a5b9bfa5?s=128&d=identicon&r=PG&f=1", "display_name": "DKill", "link": "https://stackoverflow.com/users/10520608/dkill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1539818414, "accepted_answer_id": 52863028, "answer_count": 3, "score": 0, "last_activity_date": 1539877230, "creation_date": 1539807559, "question_id": 52862987, "link": "https://stackoverflow.com/questions/52862987/replace-substring-with-another-but-only-if-a-certain-substring-follows-it", "closed_reason": "Not suitable for this site", "title": "Replace Substring with another but only if a certain substring follows it", "body": "<p>I'm trying to replace the substring 'gta' with substring 'cat'. But the condition is that 'gta' immediately has to be followed by substring 'dog'.</p>\n\n<p>Example: 'gtagtadogcat' would become 'gtacatdogcat'</p>\n\n<p>The part I'm struggling with is trying to write the program to find 'gta' and validate that 'dog' is behind it and if true, change 'gta' to 'cat'.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 459, "user_id": 2251346, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2b651ea485a8a7a75c4c5d754f37367?s=128&d=identicon&r=PG", "display_name": "user2251346", "link": "https://stackoverflow.com/users/2251346/user2251346"}, "edited": false, "score": 1, "creation_date": 1539807770, "post_id": 52862979, "comment_id": 92640396, "body": "ArrayOne and ArrayTwo have different sizes in your example."}, {"owner": {"reputation": 8342, "user_id": 6942527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d97c46958116a2a923d03f109876355?s=128&d=identicon&r=PG&f=1", "display_name": "busybear", "link": "https://stackoverflow.com/users/6942527/busybear"}, "edited": false, "score": 3, "creation_date": 1539808249, "post_id": 52862979, "comment_id": 92640633, "body": "This is very hard to follow. I&#39;m still unclear on how you got to the values in the array <code>result</code>."}, {"owner": {"reputation": 27, "user_id": 10508125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cdce68c328001cc46d5c493cd56d727?s=128&d=identicon&r=PG&f=1", "display_name": "ThePatThe", "link": "https://stackoverflow.com/users/10508125/thepatthe"}, "edited": false, "score": 0, "creation_date": 1539808738, "post_id": 52862979, "comment_id": 92640860, "body": "To answer, thanks for pointing out the arrays were different sizes (it&#39;s fixed). I tried my best to formulate the question, maybe I can formulate it better in the morning."}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "edited": false, "score": 0, "creation_date": 1539809998, "post_id": 52862979, "comment_id": 92641408, "body": "If your arrays are sorted, something like <code>np.arange(ArrayOne.size) - ArrayTwo.searchsorted(ArrayOne)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 10508125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cdce68c328001cc46d5c493cd56d727?s=128&d=identicon&r=PG&f=1", "display_name": "ThePatThe", "link": "https://stackoverflow.com/users/10508125/thepatthe"}, "is_accepted": false, "score": -1, "last_activity_date": 1539842804, "last_edit_date": 1539842804, "creation_date": 1539840630, "answer_id": 52867528, "question_id": 52862979, "link": "https://stackoverflow.com/questions/52862979/numpy-count-number-of-values-until-condition-is-satisfied/52867528#52867528", "title": "Numpy - Count Number of Values Until Condition Is Satisfied", "body": "<p>I think I got it. Using @Paul Panzer 's answer, I made a for loop that goes through the list.</p>\n\n<pre><code>def toggle(ArrayOne,ArrayTwo):\n    a = 0\n    sum = -1\n    linels = []\n    for i in range(len(ArrayOne)):\n        sum += 1\n        a = sum - np.searchsorted(ArrayTwo, ArrayOne[i])\n        linels.append(a)\n    return np.array(linels)\n</code></pre>\n\n<p>I get the result </p>\n\n<pre><code>linels = np.array([ 0, 1, 2, 3, 4, 4, 3])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1539843632, "post_id": 52867579, "comment_id": 92649610, "body": "What about <code>sum(b[el] &lt; max_value for el in range(i))</code>"}], "tags": [], "owner": {"reputation": 90304, "user_id": 562769, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e86681e49622d52817b36fd2a4c936b7?s=128&d=identicon&r=PG", "display_name": "Martin Thoma", "link": "https://stackoverflow.com/users/562769/martin-thoma"}, "is_accepted": false, "score": 0, "last_activity_date": 1539841382, "last_edit_date": 1539841382, "creation_date": 1539840973, "answer_id": 52867579, "question_id": 52862979, "link": "https://stackoverflow.com/questions/52862979/numpy-count-number-of-values-until-condition-is-satisfied/52867579#52867579", "title": "Numpy - Count Number of Values Until Condition Is Satisfied", "body": "<p>Basically, at index i you have the value</p>\n\n<pre><code>value = i -count(how often element i in array one was bigger than array two until index i)\n</code></pre>\n\n<p>Because I'm on mobile with damn autocorrect, I rename the two arrays to a and b.</p>\n\n<pre><code>def get_value(a, b, i):\n    max_value = a[i]\n    nb_smaller_elements = sum(1 for el in range(i) if b[el] &lt; max_value)\n    return i - nb_smaller_elements\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10508125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cdce68c328001cc46d5c493cd56d727?s=128&d=identicon&r=PG&f=1", "display_name": "ThePatThe", "link": "https://stackoverflow.com/users/10508125/thepatthe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1539842804, "creation_date": 1539807529, "last_edit_date": 1539840365, "question_id": 52862979, "link": "https://stackoverflow.com/questions/52862979/numpy-count-number-of-values-until-condition-is-satisfied", "title": "Numpy - Count Number of Values Until Condition Is Satisfied", "body": "<p>If I have two numpy arrays of the same size.</p>\n\n<pre><code>ArrayOne = np.array([ 2, 5, 5, 6, 7, 10, 13])\n\nArrayTwo = np.array([ 8, 10, 12, 14, 16, 18, 24])\n</code></pre>\n\n<p>How can I count how many elements there are until the beginning of the array. Unless the condition ArrayOne >= ArrayTwo is satisfied. In which case how many elements until that condition. Then make an array out of the result.</p>\n\n<p>So as an example for element [0] there are 0 elements in front. For element [1] there is 1 element in front, and ArrayOne >= ArrayTwo wasn't satisfied. At element [5] in ArrayOne is bigger than element[0] in ArrayTwo so there are four elements until element [1] in ArrayTwo Etc.\nGiving the result</p>\n\n<pre><code>result = np.array([ 0, 1, 2, 3, 4, 4, 3])\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["python", "string", "python-2.7", "concatenation"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6443469, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SN12K.jpg?s=128&g=1", "display_name": "Gellx.C", "link": "https://stackoverflow.com/users/6443469/gellx-c"}, "edited": false, "score": 0, "creation_date": 1539808457, "post_id": 52863044, "comment_id": 92640729, "body": "Yes! the problem IS windows line endings, thank you! I used <code>applicant = applicant[:20] + str(8)</code> to solve the problem, but your solution is better!"}], "tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": true, "score": 1, "last_activity_date": 1539807862, "creation_date": 1539807862, "answer_id": 52863044, "question_id": 52862968, "link": "https://stackoverflow.com/questions/52862968/unable-to-concatenate-strings-in-python2-7/52863044#52863044", "title": "Unable to concatenate strings in Python2.7", "body": "<p>You probably have Windows line endings in your file: <code>\\r\\n</code>. By splitting on <code>\\n</code>, you leave the <code>\\r</code>, which returns to the beginning of the line. You can trim it manually:</p>\n\n<pre><code>with open(\"input.txt\") as f:\n    data = [line.rstrip() for line in f]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 325, "user_id": 10515466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N5fab.png?s=128&g=1", "display_name": "Faquarl", "link": "https://stackoverflow.com/users/10515466/faquarl"}, "is_accepted": false, "score": 0, "last_activity_date": 1539808769, "creation_date": 1539808769, "answer_id": 52863244, "question_id": 52862968, "link": "https://stackoverflow.com/questions/52862968/unable-to-concatenate-strings-in-python2-7/52863244#52863244", "title": "Unable to concatenate strings in Python2.7", "body": "<p>This should work</p>\n\n<pre><code>[GCC 7.3.0] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; data = open(\"input.txt\").read().split(\"\\n\")\n&gt;&gt;&gt; applicant = data[2] + str(8)\n&gt;&gt;&gt; print applicant\n00001M035NNYY11111118\n&gt;&gt;&gt;\n</code></pre>\n\n<p>There is probably something wrong with your text file if this does not work.</p>\n"}], "owner": {"reputation": 1, "user_id": 6443469, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SN12K.jpg?s=128&g=1", "display_name": "Gellx.C", "link": "https://stackoverflow.com/users/6443469/gellx-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 52863044, "answer_count": 2, "score": 0, "last_activity_date": 1539808769, "creation_date": 1539807475, "last_edit_date": 1539807602, "question_id": 52862968, "link": "https://stackoverflow.com/questions/52862968/unable-to-concatenate-strings-in-python2-7", "title": "Unable to concatenate strings in Python2.7", "body": "<p>I'm trying to concatenate two strings in my function. I tried all concatenation, but those two strings just don't concatenate one after another, instead, shorter strings B(length = s) substitute the first s units of longer string A. </p>\n\n<p>I read some data from input file, and store third line whose content is \"00001M035NNYY1111111\" into a variable called applicant:</p>\n\n<pre><code>data = open(\"input.txt\").read().split('\\n')\n\napplicant = str(data[2])\n</code></pre>\n\n<p>I want to add an integer 8 at the end of <code>applicant</code>, so the new <code>applicant</code> will be \"00001M035NNYY11111118\". I tried <code>applicant += str(8)</code> and <code>\"\".join((applicant, str(8)))</code> and other concatenation methods, but all of them only give me \"80001M035NNYY1111111\"... Does anyone know why this happened and how am I suppose to do to get my intended result.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "edited": false, "score": 0, "creation_date": 1539808431, "post_id": 52862920, "comment_id": 92640715, "body": "I am unable to reproduce make sure that <code>S1</code> is not another variable called somewhere else in the notebook. define and call it in the same cell"}, {"owner": {"reputation": 21903, "user_id": 9274732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2713715b9156a66c16d7c1331528dce8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben.T", "link": "https://stackoverflow.com/users/9274732/ben-t"}, "edited": false, "score": 0, "creation_date": 1539809057, "post_id": 52862920, "comment_id": 92641005, "body": "I don&#39;t know exactly what is wrong, but I think that if you add <code>plt.xticks(S1.index, S1.index.date)</code> before <code>plt.plot(...</code>, you should get what you are looking for"}, {"owner": {"reputation": 480, "user_id": 4579266, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/54bfe34a6dd796338f5b2f7c3c8f20e0?s=128&d=identicon&r=PG&f=1", "display_name": "Herc01", "link": "https://stackoverflow.com/users/4579266/herc01"}, "reply_to_user": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "edited": false, "score": 0, "creation_date": 1539809288, "post_id": 52862920, "comment_id": 92641098, "body": "@Chris S1 is series obtained after the groupby. Plotting S1, is plotting just the values S1 not the index itself. That is why I am also plotting the index."}], "answers": [{"comments": [{"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "reply_to_user": {"reputation": 480, "user_id": 4579266, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/54bfe34a6dd796338f5b2f7c3c8f20e0?s=128&d=identicon&r=PG&f=1", "display_name": "Herc01", "link": "https://stackoverflow.com/users/4579266/herc01"}, "edited": false, "score": 0, "creation_date": 1539810882, "post_id": 52863314, "comment_id": 92641793, "body": "@Herc01, I&#39;m not familiar enough with matplotlib&#39;s internal workings to be sure, but the default behaviour is to automatically pick a sensible number of x-ticks for the input data. Your DataFrame only had 3 dates in the index, and your figure size was large enough to prompt matplotlib to auto-populate x-ticks instead of using only your three."}], "tags": [], "owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "is_accepted": true, "score": 1, "last_activity_date": 1539809044, "creation_date": 1539809044, "answer_id": 52863314, "question_id": 52862920, "link": "https://stackoverflow.com/questions/52862920/plot-not-showing-the-exact-values-of-my-series/52863314#52863314", "title": "Plot not showing the exact values of my series", "body": "<p>The issue is that matplotlib auto-detects the number and spacing of x-ticks to populate the x-axis without overlapping labels, and also without leaving too much white space.</p>\n\n<p>The simplest workaround I can think of:\n1. Create figure and axis handles\n2. Plot your data in the axis\n3. Manually set the xtick positions and labels</p>\n\n<p>Code to replace your two lines of plotting:</p>\n\n<pre><code>fig, ax = plt.subplots(figsize=(10, 4))\nS1.plot(ax=ax)\nax.set_xticks(S1.index);\nax.set_xticklabels(S1.index.strftime('%Y-%m-%d'));\n</code></pre>\n"}], "owner": {"reputation": 480, "user_id": 4579266, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/54bfe34a6dd796338f5b2f7c3c8f20e0?s=128&d=identicon&r=PG&f=1", "display_name": "Herc01", "link": "https://stackoverflow.com/users/4579266/herc01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 52863314, "answer_count": 1, "score": 0, "last_activity_date": 1539809053, "creation_date": 1539807263, "last_edit_date": 1539809053, "question_id": 52862920, "link": "https://stackoverflow.com/questions/52862920/plot-not-showing-the-exact-values-of-my-series", "title": "Plot not showing the exact values of my series", "body": "<p>I am trying to plot my pandas Series with its values but having wrong values on my x-axis. I have done the same thing more than 3 times on the same workbook. What am doing wrong here?</p>\n\n<pre><code>S1=rog1.groupby('Date')['availabi'].mean()\nS1.index\n# output\nDatetimeIndex(['2018-05-10', '2018-06-10', '2018-07-10'], \ndtype='datetime64[ns]', name='Date', freq=None)\n</code></pre>\n\n<p>But when I decide to plot the lot.</p>\n\n<pre><code>plt.figure(figsize=(10,4))\nplt.plot(S1.index, S1)\n</code></pre>\n\n<p>The below is what I get</p>\n\n<p><a href=\"https://i.stack.imgur.com/ltUGh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ltUGh.png\" alt=\"enter image description here\"></a></p>\n\n<p>The y-axis values are fine. I dunno where the plotted values are coming from. I only have 3 lines in this Series</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 3, "creation_date": 1539807368, "post_id": 52862917, "comment_id": 92640204, "body": "Convert your list and string to numpy arrays?"}, {"owner": {"reputation": 437, "user_id": 6041629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rc69A.jpg?s=128&g=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/6041629/kingle"}, "reply_to_user": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 0, "creation_date": 1539807480, "post_id": 52862917, "comment_id": 92640264, "body": "Aha, it worked! I figured it was something simple :)"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1539808452, "post_id": 52862917, "comment_id": 92640726, "body": "<code>where</code> only returns indices if there are <code>True</code> elements in the test.  If nothing matches the &#39;==&#39; test, the where list is empty."}], "answers": [{"tags": [], "owner": {"reputation": 1100, "user_id": 3247017, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c3cbdcfae88fe1e0f4005c08ecfffd59?s=128&d=identicon&r=PG&f=1", "display_name": "pazitos10", "link": "https://stackoverflow.com/users/3247017/pazitos10"}, "is_accepted": true, "score": 1, "last_activity_date": 1539807932, "last_edit_date": 1539807932, "creation_date": 1539807469, "answer_id": 52862966, "question_id": 52862917, "link": "https://stackoverflow.com/questions/52862917/np-where-not-returning-any-index-on-list-of-strings/52862966#52862966", "title": "np.where not returning any index on list of strings", "body": "<p>In this case, converting both arguments for <code>np.where()</code> to numpy arrays as follows, will give the expected result:</p>\n\n<pre><code>scenariolist=np.array(['scenario.npz', 'scenario1.npz', 'scenario2.npz'])\ncurrscenario=np.array(['scenario1.npz'])\n\nprint(np.where(scenariolist==currscenario)) #(array([1]),)\n</code></pre>\n\n<p>Although, it can be done without using numpy arrays but the <code>index()</code> method for python lists:</p>\n\n<pre><code>scenariolist.index(currscenario) # 1 \n</code></pre>\n\n<p>But if the value is not in the list, its necessary to handle <code>ValueError</code> exception.</p>\n\n<pre><code>try:\n    scenariolist.index(currscenario) # 1 \nexcept ValueError:\n    print('currscenario is not in the list')\n</code></pre>\n"}], "owner": {"reputation": 437, "user_id": 6041629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rc69A.jpg?s=128&g=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/6041629/kingle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 52862966, "answer_count": 1, "score": 0, "last_activity_date": 1539807932, "creation_date": 1539807252, "question_id": 52862917, "link": "https://stackoverflow.com/questions/52862917/np-where-not-returning-any-index-on-list-of-strings", "title": "np.where not returning any index on list of strings", "body": "<p>I am trying to use np.where to access the index number of a string in a list of strings. This is for the setup of an automated simulation to keep track of the current and completed scenarios. I was unable to get a similar version of the following script to produce correct results. An empty array is returned when I expect index 1 to be returned.</p>\n\n<pre><code> import numpy as np\n\n scenariolist=['scenario.npz', 'scenario1.npz', 'scenario2.npz']\n currscenario='scenario1.npz'\n\n print(np.where(scenariolist==currscenario))\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code> (array([], dtype=int64),)\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": true, "score": 2, "last_activity_date": 1539807401, "creation_date": 1539807401, "answer_id": 52862948, "question_id": 52862907, "link": "https://stackoverflow.com/questions/52862907/checking-if-a-value-in-a-python-dictionary-is-below-a-threshold-in-order-to-incr/52862948#52862948", "title": "Checking if a value in a Python dictionary is below a threshold in order to increment a value in another dictionary", "body": "<p>You could do something like this:</p>\n\n<pre><code>someDictionary = {'1': 0.0011, '2': 0.1100, '3': 0.0123, '4': 0.0002}\nmasterDictionary = {'1': 0, '2': 0, '3': 0, '4': 0}\nthreshold = 0.01\n\nfor k, v in someDictionary.items():\n    if v &lt;= threshold:\n        masterDictionary[k] += 1\n\nprint(masterDictionary)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>{'4': 1, '1': 1, '2': 0, '3': 0}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "reply_to_user": {"reputation": 625, "user_id": 2648504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e9b0ecb553b0513c62340c8512ab0e8?s=128&d=identicon&r=PG", "display_name": "yodish", "link": "https://stackoverflow.com/users/2648504/yodish"}, "edited": false, "score": 1, "creation_date": 1539808141, "post_id": 52863007, "comment_id": 92640574, "body": "@yodish defaultdicts are very powerful for unknown data. Good luck!"}], "tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 2, "last_activity_date": 1539818471, "last_edit_date": 1539818471, "creation_date": 1539807640, "answer_id": 52863007, "question_id": 52862907, "link": "https://stackoverflow.com/questions/52862907/checking-if-a-value-in-a-python-dictionary-is-below-a-threshold-in-order-to-incr/52863007#52863007", "title": "Checking if a value in a Python dictionary is below a threshold in order to increment a value in another dictionary", "body": "<p>Here is another take without the need to initiate the <code>Dictionary</code> :</p>\n\n<pre><code>from collections import defaultdict\n\nt = defaultdict(int) # &lt;- this will be our master.\nd = {'1': 0.0011, '2': 0.1100, '3': 0.0123, '4': 0.0002}\n\nthreshold = 0.01\n\nfor k,v in d.items():\n    t[k] += int(v &lt;= threshold)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4312, "user_id": 3584765, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/zyetx.png?s=128&g=1", "display_name": "Eypros", "link": "https://stackoverflow.com/users/3584765/eypros"}, "edited": false, "score": 0, "creation_date": 1539808589, "post_id": 52863065, "comment_id": 92640790, "body": "I think you should read <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> to address question that would get useful answers"}], "tags": [], "owner": {"reputation": 21, "user_id": 10489873, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LcmZF--qr40/AAAAAAAAAAI/AAAAAAAAAVM/5VrN_aWhIyg/photo.jpg?sz=128", "display_name": "Em Hall", "link": "https://stackoverflow.com/users/10489873/em-hall"}, "is_accepted": false, "score": 2, "last_activity_date": 1539807945, "creation_date": 1539807945, "answer_id": 52863065, "question_id": 52862907, "link": "https://stackoverflow.com/questions/52862907/checking-if-a-value-in-a-python-dictionary-is-below-a-threshold-in-order-to-incr/52863065#52863065", "title": "Checking if a value in a Python dictionary is below a threshold in order to increment a value in another dictionary", "body": "<p>You could iterate through the keys of the dictionary as the keys appear to be identical between the masterDictionary and the someDictionaries.</p>\n\n<pre><code>for key in  masterDictionary.keys():\n    if someDictionary[key] &lt;= threshold:\n        masterDictionary[key] = 1\n</code></pre>\n\n<p>That could get you the result you are looking for, but only if the keys are the same in all the dictionaries, but they wouldn't have to be in the same order. When you iterate through the keys in a dictionary using this method, you get the label itself, not an index, so the order of the keys is irrelevant.  </p>\n"}], "owner": {"reputation": 625, "user_id": 2648504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9e9b0ecb553b0513c62340c8512ab0e8?s=128&d=identicon&r=PG", "display_name": "yodish", "link": "https://stackoverflow.com/users/2648504/yodish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 513, "favorite_count": 0, "accepted_answer_id": 52862948, "answer_count": 3, "score": 0, "last_activity_date": 1539818471, "creation_date": 1539807211, "question_id": 52862907, "link": "https://stackoverflow.com/questions/52862907/checking-if-a-value-in-a-python-dictionary-is-below-a-threshold-in-order-to-incr", "title": "Checking if a value in a Python dictionary is below a threshold in order to increment a value in another dictionary", "body": "<p>I have a someDictionary similar to this</p>\n\n<pre><code>{'1': 0.0011, '2': 0.1100, '3': 0.0123, '4': 0.0002}\n</code></pre>\n\n<p>Also, a masterDictionary with values initially set to 0</p>\n\n<pre><code>{'1': 0, '2': 0, '3': 0, '4': 0}\n</code></pre>\n\n<p>If I create a threshold</p>\n\n<pre><code>threshold = 0.01\n</code></pre>\n\n<p>I'd like to check each value in someDictionary and determine if it is <code>&lt;= threshold</code> if so, I'd like to increment the value (with the same key) in masterDictionary by 1.  </p>\n\n<p>I'm going to do this with several 'someDictionaries' and the keys will not always be in sequential order; so, i'm unable to assume the first key,value in someDictionary will always map to '1' in masterDictionary, etc.</p>\n\n<p>So, after checking each element in someDictionary, masterDictionary would look like</p>\n\n<pre><code>{'1': 1, '2': 0, '3': 0, '4': 1}\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tkinter", "tkinter.optionmenu"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 2, "creation_date": 1539807526, "post_id": 52862893, "comment_id": 92640280, "body": "Your question can be answered just by reading available documentation. What part of the problem are you struggling with? It looks like you already know how to associate the widget with a variable."}], "answers": [{"tags": [], "owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "is_accepted": true, "score": 3, "last_activity_date": 1592493348, "last_edit_date": 1592493348, "creation_date": 1539849230, "answer_id": 52869393, "question_id": 52862893, "link": "https://stackoverflow.com/questions/52862893/tkinter-bringing-chosen-option-from-optionmenu-into-a-variable-for-further-use/52869393#52869393", "title": "Tkinter bringing chosen option from optionMenu into a variable for further use", "body": "<blockquote>\n  <p><strong>Question</strong>: how I can take the integer that the user has chosen</p>\n</blockquote>\n\n<p>You define <code>options</code> as a list of <code>str</code>, therefore the chosen option are assigned to the given <code>textvariable</code>, in your code <code>var</code>. To get a <code>integer</code> from the <code>str</code> do:</p>\n\n<pre><code>option_int = int(var.get())\n</code></pre>\n\n<hr>\n\n<p>Working example, how to get the <code>index</code> of a chosen <code>OptionMenu</code> item:</p>\n\n<pre><code>import tkinter as tk\n\nclass myOptionMenu(tk.OptionMenu):\n    def __init__(self, parent):\n        self.item = tk.StringVar()\n        self.item.set(\"Select option\")  # default value\n        self.index = None\n        self.options = ['0. Option', '1. Option', '2. Option', '3. Option']\n\n        super().__init__(parent, self.item, *self.options, command=self.command)\n        self.pack()\n\n    def command(self, v):\n        # Loop 'options' to find the matching 'item', return the index\n        self.index = [i for i, s in enumerate(self.options) if s == self.item.get()][0]\n        print(\"def option({}), variable.get()=&gt;{}, index:{}\".format(v, self.item.get(), self.index))\n        # &gt;&gt;&gt; def option(2. Option), variable.get()=&gt;2. Option, index:2\n\nroot = tk.Tk()\n\noption = myOptionMenu(root)\n\nroot.mainloop()\n</code></pre>\n\n<blockquote>\n  <p><strong>Usage in the main loop</strong>:</p>\n\n<pre><code>if option.item.get() == '2. Option':\n    print(\"Option {} is selected.\".format(option.item.get()))\n\nif option.index == 2:\n    print(\"Option {} is selected.\".format(option.index))\n</code></pre>\n</blockquote>\n\n<p><strong><em>Tested with Python:3.5.3 - TkVersion: 8.6</em></strong></p>\n"}], "owner": {"reputation": 95, "user_id": 10100525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pQjsn0kZlN0/AAAAAAAAAAI/AAAAAAAAAAg/SnSZaZGch6g/photo.jpg?sz=128", "display_name": "Coder Cody", "link": "https://stackoverflow.com/users/10100525/coder-cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 52869393, "answer_count": 1, "score": 1, "last_activity_date": 1592493348, "creation_date": 1539807129, "last_edit_date": 1569488183, "question_id": 52862893, "link": "https://stackoverflow.com/questions/52862893/tkinter-bringing-chosen-option-from-optionmenu-into-a-variable-for-further-use", "title": "Tkinter bringing chosen option from optionMenu into a variable for further use", "body": "<p>when creating a drop-down menu in \"tkinter\" like this:</p>\n\n<pre><code>options = ['0',\n           '1',\n           '2',\n           '3',\n           '4']\n\noption = tk.OptionMenu(menu, var, *options)\n\nvar.set('Select number')\n</code></pre>\n\n<p>I want to know exactly how I can take the integer that the user has chosen and turn it into a variable that I can use later on.</p>\n"}, {"tags": ["python", "git", "pipenv"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 10517422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bba244de19076fdc3d495638c9c2235?s=128&d=identicon&r=PG&f=1", "display_name": "dhae", "link": "https://stackoverflow.com/users/10517422/dhae"}, "is_accepted": false, "score": 0, "last_activity_date": 1539807577, "creation_date": 1539807577, "answer_id": 52862993, "question_id": 52862861, "link": "https://stackoverflow.com/questions/52862861/how-to-install-a-specific-git-branch-with-pipenv/52862993#52862993", "title": "How to install a specific git branch with pipenv", "body": "<p>I think this <a href=\"https://github.com/pypa/pipenv/issues/2685\" rel=\"nofollow noreferrer\">Post</a> discusses exactly your issue. For a specific version/branch you need to modify the https url.</p>\n"}, {"tags": [], "owner": {"reputation": 4080, "user_id": 5838056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/A1TkO.jpg?s=128&g=1", "display_name": "arshbot", "link": "https://stackoverflow.com/users/5838056/arshbot"}, "is_accepted": true, "score": 25, "last_activity_date": 1539808187, "creation_date": 1539808187, "answer_id": 52863110, "question_id": 52862861, "link": "https://stackoverflow.com/questions/52862861/how-to-install-a-specific-git-branch-with-pipenv/52863110#52863110", "title": "How to install a specific git branch with pipenv", "body": "<p>You need to simply use the @ symbol to specify branch and change the egg name to be a bit different if you're also using the master or some other branch. Follow this syntax</p>\n\n<pre><code>pipenv install -e git+&lt;your/target/git/repository/url.git&gt;@branch#egg=package_name\n</code></pre>\n\n<p>So in my example I needed to use the segwit-support branch</p>\n\n<pre><code>pipenv install -e git+https://github.com/1200wd/bitcoinlib.git@segwit-support#egg=bitcoinlib_segwitsupport\n</code></pre>\n\n<p>Which adds this line to my pipfile</p>\n\n<pre><code>bitcoinlib_segwit-support = {editable = true, ref = \"segwit-support\", git = \"https://github.com/1200wd/bitcoinlib.git\"}\n</code></pre>\n"}], "owner": {"reputation": 4080, "user_id": 5838056, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/A1TkO.jpg?s=128&g=1", "display_name": "arshbot", "link": "https://stackoverflow.com/users/5838056/arshbot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5333, "favorite_count": 2, "accepted_answer_id": 52863110, "answer_count": 2, "score": 16, "last_activity_date": 1539808187, "creation_date": 1539806999, "last_edit_date": 1539807380, "question_id": 52862861, "link": "https://stackoverflow.com/questions/52862861/how-to-install-a-specific-git-branch-with-pipenv", "title": "How to install a specific git branch with pipenv", "body": "<p>How can I install a specific git branch with pipenv? I know this command will install the bitcoinlib master branch</p>\n\n<pre><code>pipenv install -e git+https://github.com/1200wd/bitcoinlib.git#egg=bitcoinlib\n</code></pre>\n\n<p>But how can I install a branch that isn't master? </p>\n"}, {"tags": ["python", "networkx"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1539807127, "post_id": 52862858, "comment_id": 92640076, "body": "Could you post the input and the desired output?"}, {"owner": {"reputation": 15, "user_id": 7907105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26aab97575c9a5046ccadcc7ef261e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Salmen", "link": "https://stackoverflow.com/users/7907105/marina-salmen"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1539807992, "post_id": 52862858, "comment_id": 92640496, "body": "I edited the question with an example. I hope I made myself clear.Thank you in advance. :)"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1539808911, "post_id": 52862858, "comment_id": 92640944, "body": "So using each route adds a cost of 1? For instance using [3, 5, 2] have a cost of 1 and using [3, 1] + [1, 2] a cost ot 2?"}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539810564, "post_id": 52862858, "comment_id": 92641641, "body": "I&#39;m struggling a bit to understand the question.  Based on looking at the picture I think what you&#39;re saying is that there are multiple classes of edges, which we can think of as being different colored edges.  Each edge has a cost to it, and there is a cost for each color change in a path.  You want the cheapest path.  Is that correct?"}, {"owner": {"reputation": 15, "user_id": 7907105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26aab97575c9a5046ccadcc7ef261e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Salmen", "link": "https://stackoverflow.com/users/7907105/marina-salmen"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1539811015, "post_id": 52862858, "comment_id": 92641841, "body": "@DanielMesejo Not necessarily, there&#39;s a weight associated with going from [3, 1] + [1, 2], could be considered a route [3, 1a, 1b, 2]."}, {"owner": {"reputation": 15, "user_id": 7907105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26aab97575c9a5046ccadcc7ef261e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Salmen", "link": "https://stackoverflow.com/users/7907105/marina-salmen"}, "reply_to_user": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539811254, "post_id": 52862858, "comment_id": 92641914, "body": "Yes, @Joel. Although I am currently representing the different routes using different graphs. It could be represented with only one graph, but I&#39;m not sure how to get the shortest path either way."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1539815306, "post_id": 52862858, "comment_id": 92643193, "body": "Is the cost switching from &quot;blue&quot; to &quot;red&quot; the same as the cost from &quot;red&quot; to &quot;blue&quot;?"}], "answers": [{"tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": true, "score": 2, "last_activity_date": 1539816570, "creation_date": 1539816570, "answer_id": 52864655, "question_id": 52862858, "link": "https://stackoverflow.com/questions/52862858/how-to-get-the-shortest-path-between-two-nodes-in-a-set-of-routes-using-networkx/52864655#52864655", "title": "How to get the shortest path between two nodes in a set of routes using NetworkX?", "body": "<p>Following your idea of having multiple graphs, I'm going to create a large graph consisting of copies of each of the graphs, but also including edges between the corresponding nodes of the graphs you have.  So for each edge color, there is a graph with all of those edges, and for each node in the original graph there are edges between all of its copies, with some cost associated.  Now we'll look for paths through this bigger network.  It's not perfect in the sense that the code is a bit unclean, but it'll work.</p>\n\n<pre><code>import networkx as nx\n\nnodes = [0,1,2,3,4, 5, 10, 11]\nrednodes = ['r{}'.format(node) for node in nodes]   #['r0', 'r1', ...]\nrededges = [('r0', 'r1'), ('r1', 'r4'), ('r4', 'r3'), ('r3', 'r5'), ('r5', 'r2')]\nbluenodes = ['b{}'.format(node) for node in nodes]  \nblueedges = [('b1', 'b2')]\norangenodes = ['o{}'.format(node) for node in nodes]\norangeedges = [('o1', 'o3'), ('o3', 'o11'), ('o11', 'o10')]\n\nG = nx.Graph()\nG.add_nodes_from(rednodes+bluenodes+orangenodes)\n\nG.add_edges_from(rededges + blueedges + orangeedges, weight = 1)\n\n#here we add edges between the copies of each node\nrb_edges = [('r{}'.format(node), 'b{}'.format(node)) for node in nodes] \nro_edges = [('r{}'.format(node), 'o{}'.format(node)) for node in nodes]\nbo_edges = [('b{}'.format(node), 'o{}'.format(node)) for node in nodes]\n\nG.add_edges_from(rb_edges+ro_edges+bo_edges, weight = 0.2)\n\n#This next step is a bit of a hack.\n#we want a short path from 0 to 11, but I can't be sure which of the colors I should \n#start in.  So I create a new 0 and 11 node, which connect to its copies with 0 cost.\n\ntemporary_edges = [(0, '{}0'.format(c)) for c in ['r', 'b', 'o']] + [(11, '{}11'.format(c)) for c in ['r', 'b', 'o']]\nG.add_edges_from(temporary_edges, weight = 0)\nbest_option = nx.shortest_path(G, 0, 11, weight = 'weight')\nG.remove_edges_from(temporary_edges)      #get rid of those edges\nG.remove_nodes_from([0, 11])\n\n\nprint(best_option)\n&gt; [0, 'r0', 'r1', 'o1', 'o3', 'o11', 11]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 7907105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26aab97575c9a5046ccadcc7ef261e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Salmen", "link": "https://stackoverflow.com/users/7907105/marina-salmen"}, "is_accepted": false, "score": 0, "last_activity_date": 1540038771, "creation_date": 1540038771, "answer_id": 52905683, "question_id": 52862858, "link": "https://stackoverflow.com/questions/52862858/how-to-get-the-shortest-path-between-two-nodes-in-a-set-of-routes-using-networkx/52905683#52905683", "title": "How to get the shortest path between two nodes in a set of routes using NetworkX?", "body": "<p>That helped. =) I actually created a generic function to create an extended graph, as the number of routes and the routes itself can be different. Not sure if it's written in the best way but maybe it can help anyone:</p>\n\n<pre><code>def create_extended_graph(graph, route_set, transfer_weight):\n\n    extended_graph = nx.Graph()\n    indexes = dict([(node, 0) for node in graph.nodes()])\n\n    for route in route_set:\n        for node in route:\n            current_node = str(node) + '-' + str(indexes[node])\n            current_node_index = node\n            extended_graph.add_node(current_node, original_node=node, index=indexes[node], pos=graph.nodes()[node]['pos'])\n            if route.index(node) &gt; 0:\n                tup = tuple(sorted((previous_node_index, current_node_index)))\n                extended_graph.add_edge(current_node, previous_node, weight=nx.get_edge_attributes(graph, 'weight')[tup])\n            indexes[node] += 1\n            previous_node = current_node\n            previous_node_index = current_node_index\n\n    for node in graph.nodes():\n        extended_nodes = get_list_nodes_from_att(extended_graph, 'original_node', node)\n\n        list_combinations = combinations(extended_nodes, 2)\n        for comb in list_combinations:\n            extended_graph.add_edge(comb[0], comb[1], weight=transfer_weight)\n\n    return extended_graph\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7907105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26aab97575c9a5046ccadcc7ef261e6a?s=128&d=identicon&r=PG&f=1", "display_name": "Marina Salmen", "link": "https://stackoverflow.com/users/7907105/marina-salmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1137, "favorite_count": 0, "accepted_answer_id": 52864655, "answer_count": 2, "score": 0, "last_activity_date": 1553794697, "creation_date": 1539806971, "last_edit_date": 1553794697, "question_id": 52862858, "link": "https://stackoverflow.com/questions/52862858/how-to-get-the-shortest-path-between-two-nodes-in-a-set-of-routes-using-networkx", "title": "How to get the shortest path between two nodes in a set of routes using NetworkX?", "body": "<p>I am using NetworkX graphs to represent a set of routes, as seen in the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/clLGk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clLGk.png\" alt=\"Set of Routes\"></a></p>\n\n<p>I know that NetworkX provides shortest_path() to find the shortest path between two nodes in a graph, but I want to find the shortest path considering the set of routes I have available. There's also weight associated with changing from one route to another.</p>\n\n<p>Right now I'm using different graphs to represent each route, but I'm not sure that's the best approach.</p>\n\n<p><em>For example: the shortest path between nodes 3 and 2 could be using only one route <code>[3, 5, 2]</code> or using two routes <code>[3, 1]</code> and <code>[1, 2]</code> with a cost between them.</em></p>\n\n<p>Is it possible to achieve this using NetworkX <code>shortest_path</code>?</p>\n"}, {"tags": ["python", "python-3.x", "flask", "web-applications", "web-deployment"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8773581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51acbe6ded26cd0f961aaeac68dc9285?s=128&d=identicon&r=PG&f=1", "display_name": "Sile", "link": "https://stackoverflow.com/users/8773581/sile"}, "edited": false, "score": 0, "creation_date": 1539810438, "post_id": 52863588, "comment_id": 92641594, "body": "Hey! Yes, i tried to re-make my app with SocketIO a while ago but i have the same problem, however since you are not the first telling me to use it, i&#39;ll stick to it :)"}], "tags": [], "owner": {"reputation": 690, "user_id": 1140232, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b44d3f1dc5ec2e0cccb20b2083458c5e?s=128&d=identicon&r=PG", "display_name": "Shankar", "link": "https://stackoverflow.com/users/1140232/shankar"}, "is_accepted": true, "score": 1, "last_activity_date": 1539810242, "creation_date": 1539810242, "answer_id": 52863588, "question_id": 52862851, "link": "https://stackoverflow.com/questions/52862851/running-two-process-on-flask-with-common-variables/52863588#52863588", "title": "Running two process on Flask with common variables", "body": "<p>An easier way to go, please use flask-socketio instead flask. \n<a href=\"https://flask-socketio.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">https://flask-socketio.readthedocs.io/en/latest/</a></p>\n\n<p>Sample for sending messages using flask-socketio\n<a href=\"https://flask-socketio.readthedocs.io/en/latest/#sending-messages\" rel=\"nofollow noreferrer\">https://flask-socketio.readthedocs.io/en/latest/#sending-messages</a></p>\n"}], "owner": {"reputation": 97, "user_id": 8773581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51acbe6ded26cd0f961aaeac68dc9285?s=128&d=identicon&r=PG&f=1", "display_name": "Sile", "link": "https://stackoverflow.com/users/8773581/sile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 52863588, "answer_count": 1, "score": 0, "last_activity_date": 1539810242, "creation_date": 1539806956, "last_edit_date": 1539807639, "question_id": 52862851, "link": "https://stackoverflow.com/questions/52862851/running-two-process-on-flask-with-common-variables", "title": "Running two process on Flask with common variables", "body": "<p>I want to build a Webapp with Flask where some data is printed on a dynamic page in real time. </p>\n\n<p>The data is taken from a Python script which connects to a Websocket, then it's printed on the frontend with Flask.</p>\n\n<p>I have two problems:\n1) I can't run both the scripts together\n2) I don't know how to call <code>parsed</code> from <code>test</code> to <code>yield</code></p>\n\n<p>Here is the code:</p>\n\n<pre><code>from time import sleep\nfrom flask import Flask, render_template\nimport websocket\nfrom bitmex_websocket import Instrument\nfrom bitmex_websocket.constants import InstrumentChannels\nfrom bitmex_websocket.constants import Channels\nimport json\nfrom threading import Thread, Event\n\napp = Flask(__name__)\n\nwebsocket.enableTrace(True)\n\nchannels = [\n    InstrumentChannels.trade,\n]\n\n\nXBTUSD = Instrument(symbol='XBTUSD',\n                    channels=channels)\nXBTUSD.on('action', lambda msg: test(msg))\n\ndef test(msg):\n    parsed = json.loads(json.dumps(msg))\n    print(parsed)\n\n@app.route('/')\ndef index():\n    # render the template (below) that will use JavaScript to read the stream\n    return render_template('index.html')\n\n\n@app.route('/stream_sqrt')\ndef stream():\n    def generate():   \n        yield '{}\\n'.format('test')\n\n    return app.response_class(generate(), mimetype='text/plain')\n\n\nif __name__ == '__main__':\n    XBTUSD.run_forever()\n    app.run()\n</code></pre>\n\n<p>If i put <code>XBTUSD.run_forever()</code> before <code>app.run()</code> i will start the part supposed to retrieve the data but the Flask app won't start. If i do the opposite, the Flask app will run but not the other part. How can i run together the whole app? How could i \"share\" variables between <code>test</code> and <code>generate</code>?</p>\n"}, {"tags": ["python", "database", "pandas", "csv"], "comments": [{"owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 1, "creation_date": 1539806975, "post_id": 52862810, "comment_id": 92640018, "body": "I would look into pandas, specifically the melt function."}, {"owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "reply_to_user": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539807137, "post_id": 52862810, "comment_id": 92640086, "body": "@ChristianSloper Thank you! I&#39;ll look into that!"}, {"owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539807216, "post_id": 52862810, "comment_id": 92640120, "body": "Let me know if you are stuck, I can write up an example if you want to."}, {"owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "reply_to_user": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "edited": false, "score": 0, "creation_date": 1539807523, "post_id": 52862810, "comment_id": 92640279, "body": "@ChristianSloper If you could write up a demo that would be fantastic?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 0, "creation_date": 1539808221, "post_id": 52862999, "comment_id": 92640615, "body": "Instead of having the data frame within my code, could I create a variable which holds my csv file and I call that within pd.melt?   I would also need to write the new data to a new csv file?"}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "reply_to_user": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 0, "creation_date": 1539808655, "post_id": 52862999, "comment_id": 92640816, "body": "Yes, you first need to read in your csv with <code>df = pd.read_csv(path_to_filename)</code>. And you can store the result of <code>pd.melt</code> with <code>df2 = pd.melt(...)</code>."}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "reply_to_user": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 0, "creation_date": 1539809127, "post_id": 52862999, "comment_id": 92641029, "body": "...And finally, you can write the <code>melt</code>ed DataFrame to a new csv with <code>df2.to_csv(path_to_file)</code>"}, {"owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 0, "creation_date": 1539820010, "post_id": 52862999, "comment_id": 92644324, "body": "Hey Peter,  I&#39;m still struggling to implement your solution. Could you have a look at my git repo and look at the code, there is an outputted csv file in there, but it&#39;s formatted the data incorrectly. Any help would be greatly appreciated!<a href=\"https://github.com/tdle/python\" rel=\"nofollow noreferrer\">github.com/tdle/python</a>"}, {"owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "reply_to_user": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 0, "creation_date": 1539836357, "post_id": 52862999, "comment_id": 92647509, "body": "Ah, I think the issue is that in <code>data_export.py</code>, you are calling <code>pd.melt</code> twice and assigning the result to <code>df2</code>, overwriting the first results! Delete line 14, <code>df2 = pd.melt(df)</code>, and try re-running the code. Also, be careful about spaces within the quoted strings in your <code>id_vars</code>. <code>&#39;Emp &#39;</code> is not the same as <code>&#39;Emp&#39;</code>. I&#39;m guessing the correct column name is <code>&#39;Emp&#39;</code>, without the space."}], "tags": [], "owner": {"reputation": 7529, "user_id": 8008776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZFTW.jpg?s=128&g=1", "display_name": "Peter Leimbigler", "link": "https://stackoverflow.com/users/8008776/peter-leimbigler"}, "is_accepted": false, "score": 0, "last_activity_date": 1539807606, "creation_date": 1539807606, "answer_id": 52862999, "question_id": 52862810, "link": "https://stackoverflow.com/questions/52862810/id-like-to-capture-several-cell-values-from-a-csv-file-and-write-to-a-new-colum/52862999#52862999", "title": "I&#39;d like to capture several cell values from a CSV file and write to a new column", "body": "<p>As @ChristianSloper mentions in his comment, <code>pd.melt</code> is designed for this. In your case, here is a one-liner:</p>\n\n<pre><code>df\n     Hierarchy    Dept Emp Alpha Bravo Charlie  01/01/2018  08/01/2018\n0  Hierarchy_1  Dept_1  JC     h     o       l           0           2\n\npd.melt(df, \n        id_vars=df.columns[:-2], \n        value_vars=df.columns[-2:],\n        var_name='Date', \n        value_name='Value')\n     Hierarchy    Dept Emp Alpha Bravo Charlie        Date  Value\n0  Hierarchy_1  Dept_1  JC     h     o       l  01/01/2018      0\n1  Hierarchy_1  Dept_1  JC     h     o       l  08/01/2018      2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 1, "creation_date": 1539808346, "post_id": 52863086, "comment_id": 92640683, "body": "Hey Chris,  Yes, my table is stored in a csv file, I&#39;ll give this a go! Thanks for your help!"}, {"owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 0, "creation_date": 1539820098, "post_id": 52863086, "comment_id": 92644337, "body": "Hey Chris,   I gave your solution a try, but it came back with an error saying that the values in <code>id_vars</code> weren&#39;t in <code>columns</code>.   Would you be able to check out my git repo and offer any advice on the code I&#39;ve wrote so far? Cheers!  <a href=\"https://github.com/tdle/python\" rel=\"nofollow noreferrer\">github.com/tdle/python</a>"}, {"owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "reply_to_user": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "edited": false, "score": 0, "creation_date": 1539851304, "post_id": 52863086, "comment_id": 92653432, "body": "Sounds like the column names in the file are different than you had in your example. remember spaces are important.  after loading the dataframe print out &quot;df.columns&quot; to see the column names."}], "tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1539808072, "creation_date": 1539808072, "answer_id": 52863086, "question_id": 52862810, "link": "https://stackoverflow.com/questions/52862810/id-like-to-capture-several-cell-values-from-a-csv-file-and-write-to-a-new-colum/52863086#52863086", "title": "I&#39;d like to capture several cell values from a CSV file and write to a new column", "body": "<p>Ok,\nI am just going to go ahead and assume that your table is stored in a csv file.  So we will start by reading that in:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('mytable.csv',sep='|')\npd.melt(df, \n       id_vars = ['Hierarchy   ', ' Dept   ', ' Emp ', ' Alpha ', ' Bravo ', ' Charlie '],\n       value_vars=[' 01/01/2018 ',' 08/01/2018' ],\n       var_name='Date', \n       value_name='Value')\n</code></pre>\n\n<p>Gives the desired result.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "is_accepted": false, "score": 0, "last_activity_date": 1540223189, "creation_date": 1540223189, "answer_id": 52933163, "question_id": 52862810, "link": "https://stackoverflow.com/questions/52862810/id-like-to-capture-several-cell-values-from-a-csv-file-and-write-to-a-new-colum/52933163#52933163", "title": "I&#39;d like to capture several cell values from a CSV file and write to a new column", "body": "<p>After the help of the contributors I have completed my task, below is the code I've used! \nThanks to the community for offering help!</p>\n\n<pre><code>\"\"\"\nTransforms Data into Desired Format\n\"\"\"\n\n#import pandas module\nimport pandas as pd\n\n#create variable where df = to data.csv\ndf = pd.read_csv('data.csv')\n\n#create new variable for df.columns\ncols = df.columns\n#use .melt() function to complete data manipulation\ntransformed_df = pd.melt(df,\n                         id_vars=cols[:6],\n                         value_vars=cols[6:])\n\n#Assert Data has been formatted correctly\nprint(transformed_df)\n\n#create new csv file with new data\ntransformed_df.to_csv('melted_data.csv')\n\nprint(\"\\nData has been Melted!\") \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10520497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c846bb395341083006bc56f6920ba6?s=128&d=identicon&r=PG&f=1", "display_name": "tdle", "link": "https://stackoverflow.com/users/10520497/tdle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1540223189, "creation_date": 1539806758, "question_id": 52862810, "link": "https://stackoverflow.com/questions/52862810/id-like-to-capture-several-cell-values-from-a-csv-file-and-write-to-a-new-colum", "title": "I&#39;d like to capture several cell values from a CSV file and write to a new column", "body": "<p>So, I'm new to Python. I've been trying to apply the things I've learnt to real world problems. The task I've set myself is this..</p>\n\n<p>I want to capture the two cell values '01/01/2018 and '08/01/2018' and print them into a new csv.file under the header value dates. I also want to create a new column which shows the value associated with that date in the original csv file. </p>\n\n<p>Any help would be greatly appreciated or a point in the right direction.</p>\n\n<h2>Original table</h2>\n\n<pre><code>Hierarchy   | Dept   | Emp | Alpha | Bravo | Charlie | 01/01/2018 | 08/01/2018|\nHierarchy 1 | Dept 1 | JC  | h     | o     | l       | 0          | 2         |\n</code></pre>\n\n<h2>New table</h2>\n\n<pre><code>Hierarchy   |Dept   | Emp | Alpha | Bravo | Charlie    | Date       |Value |\nHierarchy 1 |Dept 1 | JC  | h     | o     | l          | 01/01/2018 | 0    |\nHierarchy 1 |Dept 1 | JC  | h     | o     | l          | 08/01/2018 | 2    |\n</code></pre>\n"}]