[{"tags": ["python", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1501119847, "post_id": 45339244, "comment_id": 77641915, "body": "This feels like an assignment. Please make an earnest attempt and return back with issues in code."}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 3526592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d469e804201a6078ccb8369ed97384?s=128&d=identicon&r=PG", "display_name": "baldassarreFe", "link": "https://stackoverflow.com/users/3526592/baldassarrefe"}, "is_accepted": false, "score": 1, "last_activity_date": 1501206687, "last_edit_date": 1501206687, "creation_date": 1501123757, "answer_id": 45340504, "question_id": 45339244, "link": "https://stackoverflow.com/questions/45339244/python-pandas-groupby-manipulation/45340504#45340504", "title": "Python pandas groupby manipulation?", "body": "<p>This example should set you in the right direction for your assignment.</p>\n\n<p>First I'm creating a DataFrame similar to the one you show in the question:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport datetime as dt\n\norders = pd.DataFrame({\n    'client': np.random.randint(65, 70, size=15),\n    'date': np.random.randint(0, 30, size=15)})\n\norders.client = orders.client.apply(chr)\norders.date = orders.date.apply(\n    pd.to_datetime, unit='d', origin=dt.date(2017, 1, 1), box=False)\n# Sorting here is not necessary, just for visualization\norders.sort_values(['client', 'date'], inplace=True)\norders.reset_index(inplace=True, drop=True)\norders.head()\n\n&gt;&gt;&gt;&gt;\n  client       date\n0      A 2017-01-27\n1      A 2017-01-29\n2      A 2017-01-30\n3      B 2017-01-03\n4      B 2017-01-13\n</code></pre>\n\n<p>The key to the solution is in the line <code>orders.groupby('client').date.apply(pd.Series.sort_values).diff()</code>. </p>\n\n<p>First we use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\"><code>groupby</code></a> to group the orders using <code>client</code> as a key, then we select the <code>date</code> column only and sort the dates in each group with <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.sort_values.html\" rel=\"nofollow noreferrer\"><code>pd.Series.sort_values</code></a>, finally we use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.diff.html\" rel=\"nofollow noreferrer\"><code>diff</code></a> to compute the difference of each record with the following one (here's why the dates in each group must be sorted).</p>\n\n<p>The rest of the code is just to visualize the result, i.e. renaming the Series you obtain and concatenating it with the initial DataFrame.</p>\n\n<pre><code>diff_df = pd.concat([\n    orders, \n    orders.groupby('client').date.diff().rename('diff')], axis=1)\ndiff_df.head(10)\n\n&gt;&gt;&gt;&gt;\n  client       date    diff\n0      A 2017-01-27     NaT\n1      A 2017-01-29  2 days\n2      A 2017-01-30  1 days\n3      B 2017-01-03     NaT\n4      B 2017-01-13 10 days\n5      B 2017-01-18  5 days\n6      B 2017-01-24  6 days\n7      C 2017-01-01     NaT\n8      C 2017-01-02  1 days\n9      C 2017-01-03  1 days\n</code></pre>\n\n<p>Once you have the time differences you can compute all kinds of in-group metrics you need.</p>\n\n<p>First you can try <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.describe.html\" rel=\"nofollow noreferrer\"><code>pd.Series.describe</code></a>:</p>\n\n<pre><code>diff_df.groupby('client').diff.describe()\n\n&gt;&gt;&gt;&gt;\n       count              mean                     std               min  \\\nclient                                                                     \nA          1   5 days 00:00:00                     NaT   5 days 00:00:00   \nB          1  12 days 00:00:00                     NaT  12 days 00:00:00   \nC          3   4 days 00:00:00  1 days 17:34:09.189773   2 days 00:00:00   \nD          1   4 days 00:00:00                     NaT   4 days 00:00:00   \nE          4   5 days 00:00:00  3 days 03:53:40.789838   2 days 00:00:00   \n\n                     25%               50%               75%               max  \nclient                                                                          \nA        5 days 00:00:00   5 days 00:00:00   5 days 00:00:00   5 days 00:00:00  \nB       12 days 00:00:00  12 days 00:00:00  12 days 00:00:00  12 days 00:00:00  \nC        3 days 12:00:00   5 days 00:00:00   5 days 00:00:00   5 days 00:00:00  \nD        4 days 00:00:00   4 days 00:00:00   4 days 00:00:00   4 days 00:00:00  \nE        2 days 18:00:00   4 days 12:00:00   6 days 18:00:00   9 days 00:00:00  \n</code></pre>\n\n<p>If that is not enough you can define your own <a href=\"https://pandas.pydata.org/pandas-docs/stable/groupby.html\" rel=\"nofollow noreferrer\">aggregations</a>.</p>\n\n<p>You will need a list of functions if you work on a single Series:</p>\n\n<pre><code>metrics = [pd.Series.count, pd.Series.min, pd.Series.max, pd.Series.mean]\ndiff_df.groupby('client').diff.aggregate(metrics)\n\n&gt;&gt;&gt;&gt;\n        count  nunique     min     max    mean\nclient                                        \nA           1        1  5 days  5 days  5 days\nB           1        1 12 days 12 days 12 days\nC           3        2  2 days  5 days  4 days\nD           1        1  4 days  4 days  4 days\nE           4        4  2 days  9 days  5 days\n</code></pre>\n\n<p>Or a dictionary of of <code>{column -&gt; function, column -&gt; function_list}</code> if you work on the whole DataFrame:</p>\n\n<pre><code>metrics = {\n    'date': [pd.Series.count, pd.Series.nunique],\n    'diff': [pd.Series.min, pd.Series.max, pd.Series.mean],\n}\ndiff_df.groupby('client').aggregate(metrics)\n\n&gt;&gt;&gt;&gt;\n          diff                  date        \n           min     max    mean count nunique\nclient                                      \nA       5 days  5 days  5 days     2       2\nB      12 days 12 days 12 days     2       2\nC       2 days  5 days  4 days     4       4\nD       4 days  4 days  4 days     2       2\nE       2 days  9 days  5 days     5       5\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8372971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db77ab00f911ad1fe208709dea53206?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Wu", "link": "https://stackoverflow.com/users/8372971/jeremy-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501206687, "creation_date": 1501113585, "question_id": 45339244, "link": "https://stackoverflow.com/questions/45339244/python-pandas-groupby-manipulation", "title": "Python pandas groupby manipulation?", "body": "<p>Examples of how the df looks like:</p>\n\n<pre><code>customer   order_datetime\na          01-03-2017 12:00:00 PM\nb          01-04-2017 12:00:00 PM\nc          01-07-2017 12:00:00 PM\na          01-08-2017 12:00:00 PM\nb          01-09-2017 12:00:00 PM\na          01-11-2017 12:00:00 PM\n</code></pre>\n\n<p>There's 2 thing that I wanted to achieve but I'm still in the learning process, really appreciate any help to guide me in the right direction.</p>\n\n<ul>\n<li>Create a list of \"time between orders\" where I can find the min, mean, max</li>\n<li>Find out if \"time between order\" gets faster/slower, i.e. time between order_3 and order_2 vs time between order_2 and order_1</li>\n</ul>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 2, "creation_date": 1501113656, "post_id": 45339243, "comment_id": 77640462, "body": "The <code>global</code> statement should have been used inside the function not in the module."}, {"owner": {"reputation": 1, "user_id": 7983352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87c6261301c9f55d38593a3c9673021e?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Prakash", "link": "https://stackoverflow.com/users/7983352/ravi-prakash"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1501115114, "post_id": 45339243, "comment_id": 77640792, "body": "Arghh!  Thanks a lot..  That worked !!"}], "owner": {"reputation": 1, "user_id": 7983352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87c6261301c9f55d38593a3c9673021e?s=128&d=identicon&r=PG&f=1", "display_name": "Ravi Prakash", "link": "https://stackoverflow.com/users/7983352/ravi-prakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1501113669, "answer_count": 0, "score": 0, "last_activity_date": 1501113658, "creation_date": 1501113581, "last_edit_date": 1501113658, "question_id": 45339243, "link": "https://stackoverflow.com/questions/45339243/access-variable-outside-a-function-within-a-function", "closed_reason": "Duplicate", "title": "Access variable outside a function within a function", "body": "<p>Sorry if this too naive..</p>\n\n<pre><code>global name\nname=\"\"\n\ndef namecheck(lastname):\n    if name:\n        name=lastname+name\n    else:\n        name=lastname\n\n    print name\n\nnamecheck(\"ravi\")\n</code></pre>\n\n<p>In a code like this how do access and modifythe variable <code>name</code> inside the function without having to pass it as an argument.</p>\n\n<p>Right now I have this error:\n<code>UnboundLocalError: local variable 'name' referenced before assignment</code></p>\n"}, {"tags": ["python", "nlp", "nltk", "tokenize"], "comments": [{"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1501128082, "post_id": 45339229, "comment_id": 77643856, "body": "Good question!!"}], "answers": [{"comments": [{"owner": {"reputation": 1017, "user_id": 3943552, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/W5HGD.jpg?s=128&g=1", "display_name": "jkarimi", "link": "https://stackoverflow.com/users/3943552/jkarimi"}, "edited": false, "score": 1, "creation_date": 1501129056, "post_id": 45341116, "comment_id": 77644133, "body": "Why is this assumption necessary for the development of these word tokenizers? Is there a paper explaining the reasoning/motivation?"}, {"owner": {"reputation": 1017, "user_id": 3943552, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/W5HGD.jpg?s=128&g=1", "display_name": "jkarimi", "link": "https://stackoverflow.com/users/3943552/jkarimi"}, "edited": false, "score": 0, "creation_date": 1501129820, "post_id": 45341116, "comment_id": 77644361, "body": "It looks like <a href=\"https://en.wikipedia.org/wiki/Treebank\" rel=\"nofollow noreferrer\">treebanks</a> themselves are structures which &quot;annotate syntactic or semantic sentence structure...often created on top of a corpus that has already been annotated with part-of-speech tags&quot;. So it is not necessarily that the training of these models requires the assumption but, at least with tree bank based models,  the models themselves are fundamentally built around sentences."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "reply_to_user": {"reputation": 1017, "user_id": 3943552, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/W5HGD.jpg?s=128&g=1", "display_name": "jkarimi", "link": "https://stackoverflow.com/users/3943552/jkarimi"}, "edited": false, "score": 0, "creation_date": 1501139517, "post_id": 45341116, "comment_id": 77648757, "body": "Good questions again! I&#39;ve been asking myself the same thing, why isn&#39;t paragraph or document the default in #nlproc. Why sentence? And if we go the other way, why not morphemes? Or sentence-pieces, e.g. <a href=\"https://github.com/google/sentencepiece\" rel=\"nofollow noreferrer\">github.com/google/sentencepiece</a>"}], "tags": [], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "is_accepted": false, "score": 3, "last_activity_date": 1501128068, "last_edit_date": 1501128068, "creation_date": 1501127705, "answer_id": 45341116, "question_id": 45339229, "link": "https://stackoverflow.com/questions/45339229/nltk-word-tokenize-why-do-sentence-tokenization-before-word-tokenization/45341116#45341116", "title": "nltk word_tokenize: why do sentence tokenization before word tokenization?", "body": "<p>The default tokenizer in NLTK used (<code>nltk.word_tokenize</code>) is the <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tokenize/treebank.py\" rel=\"nofollow noreferrer\"><code>TreebankWordTokenizer</code></a> originally from <a href=\"https://waybackmachine.org/web/20070830082400/http://www.cis.upenn.edu/~treebank/tokenizer.sed\" rel=\"nofollow noreferrer\">Michael Heilman's tokenizer.sed</a></p>\n\n<p>We see that in the <code>tokenizer.sed</code>, it states:</p>\n\n<pre><code># Assume sentence tokenization has been done first, so split FINAL periods only. \ns=\\([^.]\\)\\([.]\\)\\([])}&gt;\"']*\\)[     ]*$=\\1 \\2\\3 =g\n</code></pre>\n\n<p>This regex will always split the final period and the assumption is that sentence tokenization is performed beforehand. </p>\n\n<p>Keeping to the treebank tokenizer, the <code>nltk.tokenize.treebank.TreebankWordTokenizer</code> performs the same regex operation and <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tokenize/treebank.py#L43\" rel=\"nofollow noreferrer\">documenting the behavior in the class docstring</a>:</p>\n\n<pre><code>class TreebankWordTokenizer(TokenizerI):\n    \"\"\"\n    The Treebank tokenizer uses regular expressions to tokenize text as in Penn Treebank.\n    This is the method that is invoked by ``word_tokenize()``.  It assumes that the\n    text has already been segmented into sentences, e.g. using ``sent_tokenize()``.\n    This tokenizer performs the following steps:\n    - split standard contractions, e.g. ``don't`` -&gt; ``do n't`` and ``they'll`` -&gt; ``they 'll``\n    - treat most punctuation characters as separate tokens\n    - split off commas and single quotes, when followed by whitespace\n    - separate periods that appear at the end of line\n    \"\"\"\n</code></pre>\n\n<p>More specifically the \"separate periods that appear at the end of line\" refers to <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tokenize/treebank.py#L79\" rel=\"nofollow noreferrer\">this particular regex</a>:</p>\n\n<pre><code># Handles the final period.\n# NOTE: the second regex is the replacement during re.sub()\nre.compile(r'([^\\.])(\\.)([\\]\\)}&gt;\"\\']*)\\s*$'), r'\\1 \\2\\3 ')\n</code></pre>\n\n<hr>\n\n<p><strong>Is it common to assume sentence tokenization is performed before word tokenization?</strong> </p>\n\n<p>Maybe, maybe not; depends on your task and how you're evaluating the task. If we look at other word tokenizers, we see that they perform the same final-period split, e.g. in the <a href=\"https://github.com/alvations/mosesdecoder/blob/master/scripts/tokenizer/tokenizer.perl#L431\" rel=\"nofollow noreferrer\">Moses (SMT) tokenizer</a>:</p>\n\n<pre><code># Assume sentence tokenization has been done first, so split FINAL periods only.\n$text =~ s=([^.])([.])([\\]\\)}&gt;\"']*) ?$=$1 $2$3 =g;\n</code></pre>\n\n<p>And similarly in the <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tokenize/moses.py#L115\" rel=\"nofollow noreferrer\">NLTK port of the Moses tokenizer</a>:</p>\n\n<pre><code># Splits final period at end of string.\nFINAL_PERIOD = r\"\"\"([^.])([.])([\\]\\)}&gt;\"']*) ?$\"\"\", r'\\1 \\2\\3'\n</code></pre>\n\n<p>Also, in <a href=\"https://github.com/jonsafari/tok-tok/blob/master/tok-tok.pl#L76\" rel=\"nofollow noreferrer\">toktok.pl</a> and its <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tokenize/toktok.py#L71\" rel=\"nofollow noreferrer\">NLTK port</a></p>\n\n<hr>\n\n<p>For users who don't want their sentence to be sentence-split, the <code>preserve_line</code> option is available since <a href=\"https://github.com/nltk/nltk/issues/1710\" rel=\"nofollow noreferrer\">https://github.com/nltk/nltk/issues/1710</a> code merge =)</p>\n\n<p>For more explanation of why and what, see <a href=\"https://github.com/nltk/nltk/issues/1699\" rel=\"nofollow noreferrer\">https://github.com/nltk/nltk/issues/1699</a></p>\n"}], "owner": {"reputation": 1017, "user_id": 3943552, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/W5HGD.jpg?s=128&g=1", "display_name": "jkarimi", "link": "https://stackoverflow.com/users/3943552/jkarimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2901, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1501128068, "creation_date": 1501113454, "question_id": 45339229, "link": "https://stackoverflow.com/questions/45339229/nltk-word-tokenize-why-do-sentence-tokenization-before-word-tokenization", "title": "nltk word_tokenize: why do sentence tokenization before word tokenization?", "body": "<p>As noted in the <a href=\"https://github.com/nltk/nltk/blob/develop/nltk/tokenize/__init__.py#L113\" rel=\"nofollow noreferrer\">source code</a>, <code>word_tokenize</code> runs a sentence tokenizer(Punkt) before running the word tokenizer(Treebank):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># Standard word tokenizer.\n_treebank_word_tokenizer = TreebankWordTokenizer()\n\ndef word_tokenize(text, language='english', preserve_line=False):\n    \"\"\"\n    Return a tokenized copy of *text*,\n    using NLTK's recommended word tokenizer\n    (currently an improved :class:`.TreebankWordTokenizer`\n    along with :class:`.PunktSentenceTokenizer`\n    for the specified language).\n    :param text: text to split into words\n    :param text: str\n    :param language: the model name in the Punkt corpus\n    :type language: str\n    :param preserve_line: An option to keep the preserve the sentence and not sentence tokenize it.\n    :type preserver_line: bool\n    \"\"\"\n    sentences = [text] if preserve_line else sent_tokenize(text, language)\n    return [token for sent in sentences\n            for token in _treebank_word_tokenizer.tokenize(sent)]\n</code></pre>\n\n<p>What is the benefit of doing sentence tokenization prior to word tokenization? </p>\n"}, {"tags": ["python", "machine-learning", "gradient-descent"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1501113625, "post_id": 45339227, "comment_id": 77640454, "body": "<i>Not working</i> is the classic useless description here on SO!"}, {"owner": {"reputation": 844, "user_id": 6200146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7a9d6844668a6196275de3450407cc11?s=128&d=identicon&r=PG&f=1", "display_name": "mavi", "link": "https://stackoverflow.com/users/6200146/mavi"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1501113785, "post_id": 45339227, "comment_id": 77640493, "body": "sorry I will update it"}, {"owner": {"reputation": 844, "user_id": 6200146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7a9d6844668a6196275de3450407cc11?s=128&d=identicon&r=PG&f=1", "display_name": "mavi", "link": "https://stackoverflow.com/users/6200146/mavi"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1501113995, "post_id": 45339227, "comment_id": 77640537, "body": "You can see the rest of the code in my github file <a href=\"https://github.com/matvi/GradientDescent/blob/master/SGD.ipynb\" rel=\"nofollow noreferrer\">github.com/matvi/GradientDescent/blob/master/SGD.ipynb</a>"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 1, "creation_date": 1501114538, "post_id": 45339227, "comment_id": 77640657, "body": "That momentum-usage makes no sense here! The momentum is some form of state between weight-updates. Your&#39;s is only living for one update and then lost as the function is finished (your code would need to be refactored). Apart from that, those calculations also look wrong (imagine a gradient of 0.00001; you are always adding 0.81 to that; obviously that&#39;s not good)."}, {"owner": {"reputation": 844, "user_id": 6200146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7a9d6844668a6196275de3450407cc11?s=128&d=identicon&r=PG&f=1", "display_name": "mavi", "link": "https://stackoverflow.com/users/6200146/mavi"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1501168753, "post_id": 45339227, "comment_id": 77671166, "body": "Thanks, sascha, the idea of the momentum is going to fast to jump valley and reduce that momentum to get stock in global minima. But anyway, how would you refactor the function to work?"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 1, "creation_date": 1501168798, "post_id": 45339227, "comment_id": 77671206, "body": "I know what momentum is used for. But you don&#39;t seem to understand the logic. It&#39;s a state which persists between mini-batches. So those can&#39;t be local variables within your mini-batch function. I think you should got the idea and can refactor your code. You probably want to avoid doing the step in that function at all; making it a pure: calc-gradient function. Then the momentum-smoothing can be used in one outer function."}, {"owner": {"reputation": 844, "user_id": 6200146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7a9d6844668a6196275de3450407cc11?s=128&d=identicon&r=PG&f=1", "display_name": "mavi", "link": "https://stackoverflow.com/users/6200146/mavi"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1501174344, "post_id": 45339227, "comment_id": 77674890, "body": "I did what you suggested me, now I am able to calculate the regression line. But I`m still not sure if the implementation is correct, the error difference between Mini-Bath-GD and Momentum is not significative."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1501174434, "post_id": 45339227, "comment_id": 77674942, "body": "It should not be. The only difference is convergence-behaviour. It should converge faster in general. But as you are optimizing a convex-optimization problem, every approach should converge to the same value (yeah, step-sizes and co. play a role). But SO is maybe not the right platform to discuss this."}, {"owner": {"reputation": 844, "user_id": 6200146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7a9d6844668a6196275de3450407cc11?s=128&d=identicon&r=PG&f=1", "display_name": "mavi", "link": "https://stackoverflow.com/users/6200146/mavi"}, "reply_to_user": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1501175001, "post_id": 45339227, "comment_id": 77675259, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/150341/discussion-between-mavi-and-sascha\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 844, "user_id": 6200146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7a9d6844668a6196275de3450407cc11?s=128&d=identicon&r=PG&f=1", "display_name": "mavi", "link": "https://stackoverflow.com/users/6200146/mavi"}, "edited": false, "score": 0, "creation_date": 1501174987, "post_id": 45339470, "comment_id": 77675254, "body": "Sasha says that &quot; It&#39;s a state which persists between mini-batches&quot; ."}], "tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": false, "score": 0, "last_activity_date": 1501115460, "creation_date": 1501115460, "answer_id": 45339470, "question_id": 45339227, "link": "https://stackoverflow.com/questions/45339227/how-to-implement-momentum-in-mini-batch-gradient-descent-with-python/45339470#45339470", "title": "How to implement momentum in mini-batch gradient descent with python?", "body": "<p>First of all initialisation is invalid, z_m and z_b should be initialised to 0 (as this is your first guess of the gradient). Second of all in the  current, functional form you never \"store\" z_m or z_b for next iteration, so they do get reset (to the invalid value of 1)</p>\n"}], "owner": {"reputation": 844, "user_id": 6200146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7a9d6844668a6196275de3450407cc11?s=128&d=identicon&r=PG&f=1", "display_name": "mavi", "link": "https://stackoverflow.com/users/6200146/mavi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501174156, "creation_date": 1501113432, "last_edit_date": 1501174156, "question_id": 45339227, "link": "https://stackoverflow.com/questions/45339227/how-to-implement-momentum-in-mini-batch-gradient-descent-with-python", "title": "How to implement momentum in mini-batch gradient descent with python?", "body": "<p>I was reading about <a href=\"https://distill.pub/2017/momentum/\" rel=\"nofollow noreferrer\">momentum</a> and I was trying to implement the equation of momentum in my mini-batch code.\n<a href=\"https://i.stack.imgur.com/Oqfx5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oqfx5.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is that it is not working the regression line is going too far from the ideal line and I`m not sure if the implementation is correct.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wLkFV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wLkFV.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>def stochastic_gradient_descent_step(m,b,data_sample):\n\n    n_points = data_sample.shape[0] #size of data\n    m_grad = 0\n    b_grad = 0\n    stepper = 0.0001 #this is the learning rate\n    z_m = 1.0\n    z_b = 1.0\n    betha = 0.81\n\n    for i in range(n_points):\n\n        #Get current pair (x,y)\n        x = data_sample[i,0]\n        y = data_sample[i,1]\n        if(math.isnan(x)|math.isnan(y)): #it will prevent for crashing when some data is missing\n            #print(\"is nan\")\n            continue\n\n        #you will calculate the partical derivative for each value in data\n        #Partial derivative respect 'm'\n        dm = -((2/n_points) * x * (y - (m*x + b)))\n\n        #Partial derivative respect 'b'\n        db = - ((2/n_points) * (y - (m*x + b)))\n\n\n        #Update gradient\n        m_grad = m_grad + dm\n        b_grad = b_grad + db\n\n    #calculate the momentum\n    z_m = betha*z_m + m_grad\n    z_b = betha*z_b + b_grad\n    #Set the new 'better' updated 'm' and 'b'   \n    m_updated = m - stepper*z_m\n    b_updated = b - stepper*z_b\n</code></pre>\n\n<p>return m_updated,b_updated</p>\n\n<hr>\n\n<p><strong>Edited</strong></p>\n\n<p>I have edited my code now and as Sasha suggested me I put the gradient calculation in one function and the momentum in other and I put z_m and z_b as global so they don't lose their value in each iteration.</p>\n\n<pre><code>z_m =0.0 #initilise to 0\nz_b =0.0 #initilise to 0\ndef getGradient(m,b,data_sample):\n    global z_m\n    global z_b\n    n_points = data_sample.shape[0] #size of data\n    m_grad = 0\n    b_grad = 0\n    stepper = 0.0001 #this is the learning rate\n\n    betha = 0.81\n\n    for i in range(n_points):\n\n        #Get current pair (x,y)\n        x = data_sample[i,0]\n        y = data_sample[i,1]\n        if(math.isnan(x)|math.isnan(y)): #it will prevent for crashing when some data is missing\n            #print(\"is nan\")\n            continue\n\n        #you will calculate the partical derivative for each value in data\n        #Partial derivative respect 'm'\n        dm = -((2/n_points) * x * (y - (m*x + b)))\n\n        #Partial derivative respect 'b'\n        db = - ((2/n_points) * (y - (m*x + b)))\n\n\n        #Update gradient\n        m_grad = m_grad + dm\n        b_grad = b_grad + db\n\n\n    return m_grad,b_grad\n\ndef calculateMomentum(m_grad,b_grad,betha=0.81,stepper=0.0001):\n    global z_m,z_b\n    #calculate the momentum\n    z_m = betha*z_m + m_grad\n    z_b = betha*z_b + b_grad\n    #Set the new 'better' updated 'm' and 'b'   \n    m_updated = m - stepper*z_m\n    b_updated = b - stepper*z_b\n    return m_updated,b_updated \n</code></pre>\n\n<p>Now the regression line is calculated correctly (maybe). With SGD the final error is 59706304 and with momentum the final error is 56729062, but it could be for the random mini-batch choosen at the moment of calculating the gradient.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zrLqZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrLqZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "matplotlib", "docstring"], "comments": [{"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 0, "creation_date": 1501114328, "post_id": 45339166, "comment_id": 77640607, "body": "<code>&gt;&gt;&gt; fig, ax = plt.subplots()</code> <code>&gt;&gt;&gt; type(fig) &lt;class &#39;matplotlib.figure.Figure&#39;&gt;</code> <code>&gt;&gt;&gt; type(ax) &lt;class &#39;matplotlib.axes._subplots.AxesSubplot&#39;&gt;</code>"}, {"owner": {"reputation": 464, "user_id": 7988415, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55184945d5a19b798da47f329944f399?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7988415/alex"}, "reply_to_user": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 1, "creation_date": 1501396647, "post_id": 45339166, "comment_id": 77754872, "body": "Yeah I tried that before, putting <code>matplotlib.axes._subplots.AxesSubplot</code> still doesn&#39;t do the job for me"}, {"owner": {"reputation": 464, "user_id": 7988415, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55184945d5a19b798da47f329944f399?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7988415/alex"}, "reply_to_user": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 1, "creation_date": 1501396721, "post_id": 45339166, "comment_id": 77754889, "body": "I actually opened up some of matplotlib&#39;s modules, and found they put things like <code>Figure</code> or <code>Axes</code> in the docstring. But these won&#39;t work for me."}], "owner": {"reputation": 464, "user_id": 7988415, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/55184945d5a19b798da47f329944f399?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/7988415/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501112955, "creation_date": 1501112955, "question_id": 45339166, "link": "https://stackoverflow.com/questions/45339166/docstring-what-type-is-an-figure-instance-or-axes-or-any-matplotlib-artist", "title": "docstring: what type is an Figure instance, or axes, or any matplotlib artist?", "body": "<p>Say I have a function that takes a matplotlib axes as one of the input arguments.</p>\n\n<pre><code>def my_func(ax):\n  \"\"\"\n  A test function.\n\n  Parameters:\n  ----------\n  ax : &lt;?&gt;\n</code></pre>\n\n<p>my question is what to write at <code>&lt;&gt;</code> so that my IDE could understand. For example if I write <code>axes</code> over there, pycharm wouldn't know what it is. When I call <code>my_func</code>, I can do something like <code>my_func(3.)</code> and pycharm wouldn't complain.</p>\n\n<p>Same question goes for <code>Figure</code>, or any artist e.g. <code>quadmesh</code>.\nThanks!</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501113122, "post_id": 45339149, "comment_id": 77640334, "body": "I <i>think</i> you may need to escape it in your raw string. Can you try <code>fstring = r&#39;C:\\Temp\\\\1_file.txt&#39;</code>?"}, {"owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501113483, "post_id": 45339149, "comment_id": 77640418, "body": "Thanks, that works but since I&#39;m reading in lots of files I don&#39;t want to have to write extra code to modify each one if I can avoid it. Guess it&#39;s not a big deal."}], "answers": [{"comments": [{"owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "edited": false, "score": 0, "creation_date": 1501113328, "post_id": 45339178, "comment_id": 77640376, "body": "I tried that, the problem is that it changesthe string that I&#39;m substituting in: C\\:\\Temp\\NA_CA_logs\\1_file\\.txt"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "edited": false, "score": 0, "creation_date": 1501113405, "post_id": 45339178, "comment_id": 77640393, "body": "@sparrow it does not, try <code>print</code>ing the result."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "edited": false, "score": 0, "creation_date": 1501113408, "post_id": 45339178, "comment_id": 77640394, "body": "@sparrow Brainfart on that. There are other metacharacters. You can simply double up the slash so it only escapes <code>\\1</code>. Answer updated :)"}, {"owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501113674, "post_id": 45339178, "comment_id": 77640468, "body": "@juanpa.arrivillaga here is what that looks like: Some random text\\n C\\:\\\\Temp\\\\NA_CA_logs\\\\\\\\1_file\\.txt"}, {"owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "edited": false, "score": 0, "creation_date": 1501113746, "post_id": 45339178, "comment_id": 77640485, "body": "@MosesKoledoye Thanks, that works but since I&#39;m reading in lots of files I don&#39;t want to have to write extra code to modify each one if I can avoid it. Guess it&#39;s not a big deal if there is no better way."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": false, "score": 0, "last_activity_date": 1501113502, "last_edit_date": 1501113502, "creation_date": 1501113039, "answer_id": 45339178, "question_id": 45339149, "link": "https://stackoverflow.com/questions/45339149/python-re-sub-with-a-string-that-contains-a-special-character-without-modifying/45339178#45339178", "title": "Python re.sub with a string that contains a special character without modifying the string", "body": "<p><code>\\1</code> would normally imply a backreference to group 1 of the regex match, but that is not what you intend here (in fact no group 1, which is the reason for the error), you'll, therefore, need to escape the string so <code>re</code> does not treat the <code>\\1</code> as a metacharacter:</p>\n\n<pre><code>fstring = r'C:\\Temp\\\\1_file.txt'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "edited": false, "score": 0, "creation_date": 1501115752, "post_id": 45339375, "comment_id": 77640919, "body": "Thanks that is exactly what I needed."}], "tags": [], "owner": {"reputation": 83048, "user_id": 2255089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZNAsT.jpg?s=128&g=1", "display_name": "Casimir et Hippolyte", "link": "https://stackoverflow.com/users/2255089/casimir-et-hippolyte"}, "is_accepted": true, "score": 1, "last_activity_date": 1501114662, "creation_date": 1501114662, "answer_id": 45339375, "question_id": 45339149, "link": "https://stackoverflow.com/questions/45339149/python-re-sub-with-a-string-that-contains-a-special-character-without-modifying/45339375#45339375", "title": "Python re.sub with a string that contains a special character without modifying the string", "body": "<p>Escape eventual backslashes:</p>\n\n<pre><code>new_data = r'Some random text\\n ' + fstring.replace('\\\\', r'\\\\')\n</code></pre>\n"}], "owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 45339375, "answer_count": 2, "score": -1, "last_activity_date": 1501114662, "creation_date": 1501112825, "question_id": 45339149, "link": "https://stackoverflow.com/questions/45339149/python-re-sub-with-a-string-that-contains-a-special-character-without-modifying", "title": "Python re.sub with a string that contains a special character without modifying the string", "body": "<p>My problem is that in order to do sub I need to escape a special character. But I don't want to modify the string that I'm substituting. Does Python have way to handle this?</p>\n\n<pre><code>fstring = r'C:\\Temp\\1_file.txt' #this is the new data that I want to substitute in\nold_data = r'Some random text\\n .*' #I'm looking for this in the file that I'll read\nnew_data = r'Some random text\\n '+fstring  #I want to change it to this\nf = open(myfile,'r') #open the file\nfiledata = f.read() #read the file\nf.close()\nnewfiledata = re.sub(old_data,new_data,filedata) #substitute the new data\n</code></pre>\n\n<p>An error is returned becasue the \"\\1\" in the in \"fstring\" is seen as a group object.</p>\n\n<pre><code>error: invalid group reference\n</code></pre>\n"}, {"tags": ["python", "itertools"], "comments": [{"owner": {"reputation": 1585, "user_id": 5002578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9f3e54946dcea052b366459ca57921?s=128&d=identicon&r=PG", "display_name": "Mike Robins", "link": "https://stackoverflow.com/users/5002578/mike-robins"}, "edited": false, "score": 0, "creation_date": 1501117576, "post_id": 45339148, "comment_id": 77641385, "body": "It looks like you want the <a href=\"https://docs.python.org/2/library/itertools.html?highlight=permutations#itertools.permutations\" rel=\"nofollow noreferrer\">itertools.permutations</a> function."}, {"owner": {"reputation": 690, "user_id": 2966421, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ddSNR.jpg?s=128&g=1", "display_name": "badner", "link": "https://stackoverflow.com/users/2966421/badner"}, "reply_to_user": {"reputation": 1585, "user_id": 5002578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9f3e54946dcea052b366459ca57921?s=128&d=identicon&r=PG", "display_name": "Mike Robins", "link": "https://stackoverflow.com/users/5002578/mike-robins"}, "edited": false, "score": 0, "creation_date": 1501364101, "post_id": 45339148, "comment_id": 77749261, "body": "@MikeRobins, yes that is what I have been trying with itertools. I put 10 so it wouldn&#39;t explode but the output is empty.  If I do 5 it works"}, {"owner": {"reputation": 1585, "user_id": 5002578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9f3e54946dcea052b366459ca57921?s=128&d=identicon&r=PG", "display_name": "Mike Robins", "link": "https://stackoverflow.com/users/5002578/mike-robins"}, "edited": false, "score": 0, "creation_date": 1501460940, "post_id": 45339148, "comment_id": 77772467, "body": "there are no 10 element permutations of a 5 element set, so empty output sounds correct.  Also I suggest if you find yourself typing out code that is so repetitive use loops and lists."}], "answers": [{"tags": [], "owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "is_accepted": true, "score": 1, "last_activity_date": 1505587727, "creation_date": 1505587727, "answer_id": 46257338, "question_id": 45339148, "link": "https://stackoverflow.com/questions/45339148/get-combinations-of-strings-line-by-line/46257338#46257338", "title": "get combinations of strings line by line", "body": "<p>It seems you want triplet combinations with replacement of the string <code>\"aa ab ac ad ae af ag\"</code>, excluding entries where all elements are equal.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>import itertools as it\n\n\niterable = \"aa ab ac ad ae af ag\".split()\n\ncombs = it.combinations_with_replacement(iterable, 3)\npred = lambda x: len(set(x)) != 1\nresults = list(filter(pred, combs))\ntransposed = list(zip(*results))\n</code></pre>\n\n<p><strong>Demo</strong></p>\n\n<pre><code>&gt;&gt;&gt; for line in transposed:\n...     print(line)\n('aa', 'aa', 'aa', 'aa', 'aa', 'aa', 'aa', 'aa', 'aa', 'aa', 'aa', ...)\n('aa', 'aa', 'aa', 'aa', 'aa', 'aa', 'ab', 'ab', 'ab', 'ab', 'ab', ...)\n('ab', 'ac', 'ad', 'ae', 'af', 'ag', 'ab', 'ac', 'ad', 'ae', 'af', ...)\n</code></pre>\n\n<p><strong>Options</strong></p>\n\n<p>You can simplify this code as a generator in one line:</p>\n\n<pre><code>transposed = zip(*(i for i in it.combinations_with_replacement(iterable, 3) if len(set(i)) != 1))\n</code></pre>\n"}], "owner": {"reputation": 690, "user_id": 2966421, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ddSNR.jpg?s=128&g=1", "display_name": "badner", "link": "https://stackoverflow.com/users/2966421/badner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 46257338, "answer_count": 1, "score": 0, "last_activity_date": 1505587727, "creation_date": 1501112825, "last_edit_date": 1501364024, "question_id": 45339148, "link": "https://stackoverflow.com/questions/45339148/get-combinations-of-strings-line-by-line", "title": "get combinations of strings line by line", "body": "<p>I have 5 vertical strings which were generated in order of probability by my classifier.  If the classifiers confidence was very high I want to keep that classification but for the low ones I would like to vary between all possible combinations. </p>\n\n<p>so my data looks like this:</p>\n\n<pre><code>aa aa aa aa aa\nab ac aa ad ae\naa ab af ae ag\n</code></pre>\n\n<p>and I would like to get all of the possible combinations</p>\n\n<pre><code>aa aa aa aa aa aa aa aa aa aa ...\nab ac aa ad ae ae ab ac aa ad ...\naa ab af ae ag aa ab af ae ag...\n</code></pre>\n\n<p>I tried itertools but I can't seem to find the right tool to do this. Does anyone know how to do this?</p>\n\n<p>[UPDATE]</p>\n\n<p>This is what I have tried so far:</p>\n\n<pre><code>for x in new_lines:\n    for a,b,c,d,e,f,g,h,i,j in permutations(x.split(), 10):\n        print '{} {} {} {} {} {} {} {} {} {}'.format(a.rstrip('\\n'), b.rstrip('\\n'), c.rstrip('\\n'), d.rstrip('\\n'), e.rstrip('\\n'), f.rstrip('\\n'), g.rstrip('\\n'), h.rstrip('\\n'), i.rstrip('\\n'), j.rstrip('\\n'))\n</code></pre>\n"}, {"tags": ["python", "logging", "task", "celery"], "answers": [{"tags": [], "owner": {"reputation": 1485, "user_id": 1777914, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/99c189331ac1ad1cdfcb42897a2a0bda?s=128&d=identicon&r=PG", "display_name": "Cristiano Coelho", "link": "https://stackoverflow.com/users/1777914/cristiano-coelho"}, "is_accepted": false, "score": 0, "last_activity_date": 1501196484, "creation_date": 1501196484, "answer_id": 45362336, "question_id": 45339117, "link": "https://stackoverflow.com/questions/45339117/celery-no-longer-logs-results-time/45362336#45362336", "title": "Celery no longer logs results / time", "body": "<p>Looks like it was related to the celery hijack loggers setting, setting it to False fixes the issue.</p>\n"}], "owner": {"reputation": 1485, "user_id": 1777914, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/99c189331ac1ad1cdfcb42897a2a0bda?s=128&d=identicon&r=PG", "display_name": "Cristiano Coelho", "link": "https://stackoverflow.com/users/1777914/cristiano-coelho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501196484, "creation_date": 1501112587, "question_id": 45339117, "link": "https://stackoverflow.com/questions/45339117/celery-no-longer-logs-results-time", "title": "Celery no longer logs results / time", "body": "<p>Using Celery 3.x, the workers would log when a task completes, and the actual time it took, like described here <a href=\"https://stackoverflow.com/questions/37534311/celery-time-statistics-per-task-name\">Celery time statistics per-task-name</a></p>\n\n<p>After upgrading to 4.1, celery workers no longer log task results, not even unhandled exceptions, although for the latter you can easily use a signal handler, I'm wondering what changed or what's wrong, logging when a task completes was important.</p>\n"}, {"tags": ["python", "list-comprehension"], "comments": [{"owner": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 3, "creation_date": 1501112449, "post_id": 45339023, "comment_id": 77640184, "body": "The reason for <code>l*1</code> is explained in the comments of the post you linked."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1501112582, "post_id": 45339023, "comment_id": 77640220, "body": "In fact, it was explained in the comments <i>in direct response to you asking about it</i>, 15 hours ago."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1501112608, "post_id": 45339023, "comment_id": 77640223, "body": "A more verbose form would be: <code>[x + l[-i] for i, x in enumerate(l, 1)]</code>"}, {"owner": {"reputation": 1216, "user_id": 2242761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde25d431468b980cd1930747112c6f1?s=128&d=identicon&r=PG", "display_name": "Dilshad Abduwali", "link": "https://stackoverflow.com/users/2242761/dilshad-abduwali"}, "reply_to_user": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "edited": false, "score": 0, "creation_date": 1501112705, "post_id": 45339023, "comment_id": 77640246, "body": "@randomir, I know, because I asked, check the line above &quot;dhssa&quot; is the one who asked yesterday, I have asked here because  wanted more elaborated answer like one below."}, {"owner": {"reputation": 1216, "user_id": 2242761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde25d431468b980cd1930747112c6f1?s=128&d=identicon&r=PG", "display_name": "Dilshad Abduwali", "link": "https://stackoverflow.com/users/2242761/dilshad-abduwali"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1501112929, "post_id": 45339023, "comment_id": 77640295, "body": "@user2357112, does that mean I am forbidden to ask it here? I don&#39;t think would hurt the quality of SOF, I was in search of more elaborated answer and I believe this will benefit some one like me who comes here, but not Code Golf, I feel hostility here, scary hostility."}, {"owner": {"reputation": 1216, "user_id": 2242761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde25d431468b980cd1930747112c6f1?s=128&d=identicon&r=PG", "display_name": "Dilshad Abduwali", "link": "https://stackoverflow.com/users/2242761/dilshad-abduwali"}, "edited": false, "score": 0, "creation_date": 1501113409, "post_id": 45339023, "comment_id": 77640396, "body": "@juanpa.arrivillaga, I don&#39;t think my question violates the T.C of S.O.F, I can ask questions which is related to coding in python and the point in the question is rare, not explained in many text books, I thought some one who is like me new to python can learn something new as well. I have acknowledged the comment in Code Golf, so I don&#39;t need reminders that I have asked. Please compare the comment in Code Golf and the answer below and think about how many new python programmer will benefit from this."}], "answers": [{"comments": [{"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 1, "creation_date": 1501112073, "post_id": 45339029, "comment_id": 77640082, "body": "Why not use the more common <code>l[:]</code>?"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 1, "creation_date": 1501112104, "post_id": 45339029, "comment_id": 77640097, "body": "@CoryMadden Because the code was taken from <b>code golf</b>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 1, "creation_date": 1501112148, "post_id": 45339029, "comment_id": 77640109, "body": "@CoryMadden it&#39;s an example of <i>code golf</i>. <code>l[:]</code> is one more character than <code>l*1</code>"}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1501112195, "post_id": 45339029, "comment_id": 77640120, "body": "Ah, thanks. I haven&#39;t heard the term Code Golf in a while and didn&#39;t make the connection."}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 3, "last_activity_date": 1501112488, "last_edit_date": 1501112488, "creation_date": 1501112001, "answer_id": 45339029, "question_id": 45339023, "link": "https://stackoverflow.com/questions/45339023/what-does-the-list-multiply-by-one-do-in-a-list-comprehension-below/45339029#45339029", "title": "What does the list multiply by one do in a list comprehension below?", "body": "<p>Multiplying by one gives you a shallow copy of the list, which will be unaffected by the <code>list.pop</code> operations you're performing afterwards, making the behaviour of the comprehension <em>consistent</em> and <em>umambiguous</em>; since you're not popping from the same list over which you're iterating.</p>\n\n<p>They could easily create a shallow copy with the more intuitive <code>l[:]</code> or the more verbose <code>copy.copy(l)</code>, but that would take more characters, and the goal of code golf is to use as few characters as possible. </p>\n"}], "owner": {"reputation": 1216, "user_id": 2242761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dde25d431468b980cd1930747112c6f1?s=128&d=identicon&r=PG", "display_name": "Dilshad Abduwali", "link": "https://stackoverflow.com/users/2242761/dilshad-abduwali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 45339029, "answer_count": 1, "score": -2, "last_activity_date": 1501112488, "creation_date": 1501111914, "question_id": 45339023, "link": "https://stackoverflow.com/questions/45339023/what-does-the-list-multiply-by-one-do-in-a-list-comprehension-below", "title": "What does the list multiply by one do in a list comprehension below?", "body": "<p>Hi I have read some topics in <a href=\"https://codegolf.stackexchange.com/a/135482/72735\">Code Golf</a> and I am having difficulties in understanding the last part of the list comprehension:</p>\n\n<p><code>lambda l:[i+l.pop()for i in l*1]</code></p>\n\n<p>why we multiply the list by 1? If I remove the <code>*1</code> I get one item less in the list. </p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1501112474, "post_id": 45339021, "comment_id": 77640192, "body": "Have you done <code>yum install mysql mysql-server</code>?"}, {"owner": {"reputation": 1, "user_id": 8372858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27be84c7fb30024d8ad7978dbace3607?s=128&d=identicon&r=PG&f=1", "display_name": "ARKT", "link": "https://stackoverflow.com/users/8372858/arkt"}, "reply_to_user": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1501182114, "post_id": 45339021, "comment_id": 77679463, "body": "I installed the mysql server and client thorugh RPM method. MySQL-server-5.6.34-1.el7.x86_64.rpm and MySQL-client-5.6.34-1.el7.x86_64.rpm is installed, they are running without any issues. I&#39;m able to access the DB and create database."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1501277337, "post_id": 45339021, "comment_id": 77726639, "body": "I would try uninstalling everything and reinstall using <code>yum</code> package manager. It does version checking for you to make sure all the versions match."}], "owner": {"reputation": 1, "user_id": 8372858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27be84c7fb30024d8ad7978dbace3607?s=128&d=identicon&r=PG&f=1", "display_name": "ARKT", "link": "https://stackoverflow.com/users/8372858/arkt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 540, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501111879, "creation_date": 1501111879, "question_id": 45339021, "link": "https://stackoverflow.com/questions/45339021/importerror-no-module-named-mysqldb-due-to-mariadb-libs", "title": "ImportError: No module named MySQLdb due to MariaDB libs", "body": "<p>I'm new to python, trying to connect python with MYSQL, i'm unable to import the MYSQLdb module, i was able to install python-dev, i'm having issues with MySQL-python rpm. this rpm requires libmysqlclient.so.18() as dependency.</p>\n\n<pre><code>[root@test tmp]# rpm -ivh MySQL-python-1.2.5-1.el7.x86_64.rpm\nerror: Failed dependencies:\n    libmysqlclient.so.18()(64bit) is needed by MySQL-python-1.2.5-        \n1.el7.x86_64\n    libmysqlclient.so.18(libmysqlclient_18)(64bit) is needed by MySQL-\npython-1.2.5-1.el7.x86_64\n[root@test tmp]#\n</code></pre>\n\n<p>When i try to install the libmysqlclient.so.18, it says mariadb-libs will be installed, but maria-db conflicts with MYSQL server, i'm not sure how to proceed further. </p>\n\n<pre><code>[root@test tmp]# yum install libmysqlclient.so.18\nLoaded plugins: langpacks, package_upload, product-id, search-disabled-\nrepos, subscription-manager\nrhel-7-server-rpms                                                                                                                                                                                                    \n| 2.1 kB  00:00:00\nrhel-7-server-satellite-tools-6.1-rpms                                                                                                                                                                                \n| 2.1 kB  00:00:00\nResolving Dependencies\n--&gt; Running transaction check\n---&gt; Package mariadb-libs.i686 1:5.5.47-1.el7_2 will be installed\nRemoving mariadb-libs.i686 1:5.5.47-1.el7_2 - u due to obsoletes from             \ninstalled MySQL-shared-compat-5.6.37-1.el7.x86_64\n--&gt; Restarting Dependency Resolution with new changes.\n--&gt; Running transaction check\n---&gt; Package mariadb-libs.i686 1:5.5.47-1.el7_2 will be installed\n--&gt; Finished Dependency Resolution\n[root@test tmp]#\n</code></pre>\n\n<p>I'm using Red Hat Enterprise Linux Server release 7.2 and Python 2.7.5 \nAny help is appreciated.</p>\n"}, {"tags": ["python", "python-3.x", "text-files"], "comments": [{"owner": {"reputation": 1, "user_id": 8372635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715911b3ddddf1c68142a948a2ae5899?s=128&d=identicon&r=PG&f=1", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372635/tayen-madsen"}, "edited": false, "score": 0, "creation_date": 1501111914, "post_id": 45339013, "comment_id": 77640036, "body": "In the document, the lists of names to services are on separate lines, not sure why it won&#39;t show that here."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501112518, "post_id": 45339013, "comment_id": 77640204, "body": "Use a context manager. Don&#39;t use a <code>while</code> loop, use a for-loop over the file handle. Holy guacamole, man, this is not how you should be working with files in Python. Also, you haven&#39;t explained what this code <i>is suppose to do</i>."}, {"owner": {"reputation": 1, "user_id": 8372635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715911b3ddddf1c68142a948a2ae5899?s=128&d=identicon&r=PG&f=1", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372635/tayen-madsen"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501112644, "post_id": 45339013, "comment_id": 77640236, "body": "Im really new to programming, this is an assignment for the first class I&#39;ve ever taken in it. I&#39;m trying. Thank you for the input though."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501112646, "post_id": 45339013, "comment_id": 77640237, "body": "But fundamentally, I&#39;m pretty sure your problem is that your second column is always uppercase, and you are checking with lower-case strings, i.e. <code>if &#39;dinner&#39; in s:</code>. On the previous line, you did <code>s.lower()</code>, but this <i>returns a <b>new string</b> which you must assign to a variable</i> or else it gets discarded."}, {"owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "edited": false, "score": 0, "creation_date": 1501112647, "post_id": 45339013, "comment_id": 77640238, "body": "python also has functions!"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501112782, "post_id": 45339013, "comment_id": 77640266, "body": "Additionally, this line <code>serviceAmount.split(&quot;;&quot;)</code> does nothing, since the list that is returned is immediately discarded because you don&#39;t assign it to anything. Head&#39;s up: <code>int(filter(str.isdigit, s))</code> is going to throw a <code>TypeError</code>"}, {"owner": {"reputation": 1, "user_id": 8372635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715911b3ddddf1c68142a948a2ae5899?s=128&d=identicon&r=PG&f=1", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372635/tayen-madsen"}, "edited": false, "score": 0, "creation_date": 1501112788, "post_id": 45339013, "comment_id": 77640268, "body": "The assignment is as follows: A hotel salesperson enters sales in a text file. Each line contains the following, separated by semicolons: The name of the client the service sold, the amount of the sale, and the date of that event. Write a program that reads such a file and displays the total amount for each service category. Display an error if the file does not exist or the format is incorrect."}], "answers": [{"tags": [], "owner": {"reputation": 3706, "user_id": 2018455, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e75a41fc224930ef1fa9ddcc9c714174?s=128&d=identicon&r=PG", "display_name": "Neil Locketz", "link": "https://stackoverflow.com/users/2018455/neil-locketz"}, "is_accepted": false, "score": 0, "last_activity_date": 1501113984, "last_edit_date": 1501113984, "creation_date": 1501112784, "answer_id": 45339141, "question_id": 45339013, "link": "https://stackoverflow.com/questions/45339013/code-is-not-properly-searching-text-file/45339141#45339141", "title": "Code is not properly searching text file", "body": "<p>Here is your problem:</p>\n\n<pre><code>serviceAmount = ';'.join(s.split(';')[1:-1]) #Removes date and name regardless of format\nserviceAmount.split(\";\")\n</code></pre>\n\n<p>You should do:</p>\n\n<pre><code>serviceAmount = ';'.join(s.lower().split(';')[1:-1])\n</code></pre>\n\n<p>You are checking against lower case strings, but not actually lower casing your input.</p>\n\n<p>It is also important to note that <code>s.lower()</code> doesn't actually <em>change</em> <code>s</code>, it just returns a string where all the letters of <code>s</code> have been switched to lower case. Same thing for <code>split</code> (as in not changing the string its called on, not that it returns a string).</p>\n\n<p>Another problem you are going to run into is getting the numbers from your strings.</p>\n\n<pre><code>int(filter(str.isdigit, s))\n</code></pre>\n\n<p>Won't work. You can use <code>split</code> again like you did earlier (or just not re-<code>join</code> since you only care about the first element in the comparisons).</p>\n\n<pre><code>int(serviceAmount.split(';')[1])\n</code></pre>\n\n<p>The last thing is the</p>\n\n<pre><code>finally:\n    done = True\n    inFile.close()\n</code></pre>\n\n<p><code>finally</code> always runs when exiting a try, meaning that you are always done after each loop (and close the file after you read the first line).</p>\n\n<p>If you remove the <code>finally</code> and add <code>inFile.close()</code> inside the <code>elif line == \"\"</code> it will close, and set <code>done</code> only when you've reached the end of the file.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8372635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715911b3ddddf1c68142a948a2ae5899?s=128&d=identicon&r=PG&f=1", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372635/tayen-madsen"}, "edited": false, "score": 0, "creation_date": 1501113969, "post_id": 45339257, "comment_id": 77640534, "body": "You are my hero. Thank you so much. It makes so much more sense to me to learn by seeing why something works instead of why mine didn&#39;t. Thank you!!"}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "reply_to_user": {"reputation": 1, "user_id": 8372635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715911b3ddddf1c68142a948a2ae5899?s=128&d=identicon&r=PG&f=1", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372635/tayen-madsen"}, "edited": false, "score": 0, "creation_date": 1501114113, "post_id": 45339257, "comment_id": 77640556, "body": "@TayenMadsen Post a comment if you need anything clarified, since there are a lot of changes made."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1501114116, "post_id": 45339257, "comment_id": 77640558, "body": "There are some edge cases that break this code. For example, if someone&#39;s name is lodging (could be a last name for example), it might incorrectly increment &quot;lodging&quot; category, even though the record might be a different one. <code>Lodging;Conference;42342;1231</code> would be such an example. You should do your comparison against the field with the exact given index."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "reply_to_user": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1501114171, "post_id": 45339257, "comment_id": 77640573, "body": "@darksky thats actually not true, we drop the name at the beginning and the number at the end of each line when we do <code>line = line.lower().split(&#39;;&#39;)[1:-1]</code>"}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1501114369, "post_id": 45339257, "comment_id": 77640613, "body": "Right. But what about <code>John;Conference;Dinner;21</code>? It is still looking for any old random string in an array, and it could happen at any index."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501114458, "post_id": 45339257, "comment_id": 77640636, "body": "The input looks extremely tight. If OP thinks it could be an issue he can modify it to check the field"}], "tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": true, "score": 0, "last_activity_date": 1501113638, "creation_date": 1501113638, "answer_id": 45339257, "question_id": 45339013, "link": "https://stackoverflow.com/questions/45339013/code-is-not-properly-searching-text-file/45339257#45339257", "title": "Code is not properly searching text file", "body": "<p>There are a lot of things you aren't doing quite right here. I tried to not only fix the issue you posted about, but also write some code that should be more clear and easier to use. I left comments to explain things.</p>\n\n<pre><code># Don't open the file here, just get the file name. We will open in later\nfname = input(\"Enter file name: \")\n\n# I think using dicts is more clearn and organized. Having so many variables I think makes the code messy\ncounts = {\"Dinner\": 0,\n\"Lodging\": 0,\n\"Conference\": 0}\n\nvalues = {\"Dinner\": 0,\n\"Lodging\": 0,\n\"Conference\": 0}\n\n# Lets try to open the file\ntry:\n    with open(fname, 'r') as inFile: # Use \"with\", this way the file is closed automatically when we are done reading it\n        for linenum, line in enumerate(inFile): # I want to enumerate each line. If there is an error on a line, we can display the line nmber this way\n            line = line.lower().split(';')[1:-1] # lets make it all lower case, then split and drop as needed\n            print(line)\n            if \"dinner\" in line :\n                counts[\"Dinner\"] += 1 # x += 1 is the same as x = x + 1, but cleaner\n                values[\"Dinner\"] += int(line[1])\n                print(\"Dinners: {} Value of Dinner sales: {}\".format(counts[\"Dinner\"], values[\"Dinner\"]))\n            elif \"lodging\" in line :\n                counts[\"Lodging\"] += 1\n                values[\"Lodging\"] += int(line[1])\n                print(\"Lodging: {} Value of Dinner sales: {}\".format(counts[\"Lodging\"], values[\"Lodging\"]))\n            elif \"conference\" in line :\n                counts[\"Conference\"] += 1\n                values[\"Conference\"] += int(line[1])\n                print(\"Conference: {} Value of Dinner sales: {}\".format(counts[\"Conference\"], values[\"Conference\"]))\n            else :\n                print(\"Invalid file format on line {}\".format(linenum)) # Here is why we used enumerate in the for loop\nexcept FileNotFoundError: \n    print(\"Unable to find file.\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501114417, "post_id": 45339331, "comment_id": 77640625, "body": "This actually does not do the same thing. You need to track <code>notsure</code> sum. If you add that you should be good. I&#39;d also wrap that <code>with</code> in a <code>try: except:</code> since the user manually enters the filename"}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "reply_to_user": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501114808, "post_id": 45339331, "comment_id": 77640725, "body": "There&#39;s a lot that can go wrong with above, so religious try-excepting should be left to OP to do."}], "tags": [], "owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "is_accepted": false, "score": 0, "last_activity_date": 1501114691, "last_edit_date": 1501114691, "creation_date": 1501114270, "answer_id": 45339331, "question_id": 45339013, "link": "https://stackoverflow.com/questions/45339013/code-is-not-properly-searching-text-file/45339331#45339331", "title": "Code is not properly searching text file", "body": "<p>It could be done as simple as </p>\n\n<pre><code>categories = {}\n\nfilename = input(\"Enter file name: \")\n\nwith open(filename, \"r\") as file:\n\n    name, category, value, date = file.readline().split(\";\")\n\n    if category not in categories:\n        categories[category] = {\"count\": 0, \"value\": 0}\n\n    categories[category][\"count\"] += 1\n    categories[category][\"value\"] += int(value)\n</code></pre>\n\n<p>At the end, you'll have a dict with categories, their count, and value, and also their names are not hard-coded.</p>\n"}], "owner": {"reputation": 1, "user_id": 8372635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715911b3ddddf1c68142a948a2ae5899?s=128&d=identicon&r=PG&f=1", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372635/tayen-madsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 45339257, "answer_count": 3, "score": -3, "last_activity_date": 1501114691, "creation_date": 1501111832, "last_edit_date": 1501112446, "question_id": 45339013, "link": "https://stackoverflow.com/questions/45339013/code-is-not-properly-searching-text-file", "title": "Code is not properly searching text file", "body": "<pre><code>#\n# Obtain user input for file name, and open it\n#\ninFile = open(input(\"Enter file name: \"), \"r\")\n#\n# Process data and address possible errors\n#\ncountDinner = 0\ncountLodging = 0\ncountConference = 0\nvalueDinner = 0\nvalueLodging = 0\nvalueConference = 0\ndone = False\nwhile not done :\nline = inFile.readline()\ntry :\n    s = line\n    serviceAmount = ';'.join(s.split(';')[1:-1]) #Removes date and name regardless of format\n    serviceAmount.split(\";\")\n    s.lower()\n    if \"dinner\" in s :\n        countDinner = countDinner + 1\n        valueDinner = valueDinner + int(filter(str.isdigit, s))\n        print(\"Dinners: \", countDinner, \"Value of Dinner sales: \", valueDinner)\n    elif \"lodging\" in s :\n        countLodging = countLodging + 1\n        valueLodging = valueLodging + int(filter(str.isdigit, s))\n        print(\"Lodging: \", countLodging, \"Value of Lodging sales: \", valueLodging)\n    elif \"conference\" in s :\n        countConference = countConference + 1\n        valueConference = valueConference + int(filter(str.isdigit, s))\n        print(\"Conferences: \", countConference, \"Value of Conference sales: \", valueConference)\n    elif line == \"\" :\n        done = True\n    else :\n        print(\"Invalid file format.\")\nexcept FileNotFoundError :\n    print(\"Unable to find file.\")\nfinally :\n    done = True\n    inFile.close()\n</code></pre>\n\n<p>Returns \"Invalid file format\" even when the document is set up specifically for this code. I'm not getting a syntax error, so I'm not sure whats wrong.\nThe document contains the text:</p>\n\n<pre><code>John;Lodging;123;050617 \nTyler;Conference;123;081497 \nTaylor;Dinner;453;041798 \n</code></pre>\n"}, {"tags": ["python", "calculator"], "comments": [{"owner": {"reputation": 3, "user_id": 8296018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef581c7f583441245c62867f1c9af7?s=128&d=identicon&r=PG&f=1", "display_name": "JW1999", "link": "https://stackoverflow.com/users/8296018/jw1999"}, "edited": false, "score": 0, "creation_date": 1501111784, "post_id": 45339007, "comment_id": 77639996, "body": "This is for ISSN calculator."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1501111801, "post_id": 45339007, "comment_id": 77640002, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here. StackOverflow is not a design, coding, research, or tutorial service."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1501111809, "post_id": 45339007, "comment_id": 77640007, "body": "<a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">&quot;Can Someone Help Me?&quot; is not a valid SO question</a>.  This usually suggests that what you need is half an hour with a local tutor or walk through a tutorial, rather than Stack Overflow."}, {"owner": {"reputation": 3, "user_id": 8296018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef581c7f583441245c62867f1c9af7?s=128&d=identicon&r=PG&f=1", "display_name": "JW1999", "link": "https://stackoverflow.com/users/8296018/jw1999"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501112102, "post_id": 45339007, "comment_id": 77640096, "body": "@Prune sorry i am new to SO and am struggling with this program that I need to create. Where can I find an online tutor for Python right now?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501113920, "post_id": 45339007, "comment_id": 77640525, "body": "I don&#39;t know where to find an on-line tutor.  On-line <i>tutorials</i>, however, are easy to find with a basic browser search of &quot;Python tutorial&quot;."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1501114085, "post_id": 45339007, "comment_id": 77640549, "body": "As for down-voting the post, this is a natural part of the the process on Stack Overflow.  We expect that you complete the intro tour before you post, and take special note of the posting guidelines.  You&#39;ll find the rationale and ramifications in that tour."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501171336, "post_id": 45339007, "comment_id": 77672917, "body": "Quite welcome.  Note that this question isn&#39;t closed yet.  Please consider going through the steps to make this a good SO question.  Code each of those steps in Python.  Do one step at a time, testing to make sure it works correctly before you go on.  If you get truly stuck at one step, you have your question: starting code, a failed attempt, and <i>one</i> thing to ask of SO."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501171432, "post_id": 45339007, "comment_id": 77672992, "body": "Also, I suggest that you work around the input step.  Hard-code a number to work with: <code>digit_list = [0, 3, 1, 7, 8, 4, 7]</code> and then work through the arithmetic steps.  You can add the input part after you get the math working.  Use lots of <code>print</code> statements to trace your work."}, {"owner": {"reputation": 3, "user_id": 8296018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef581c7f583441245c62867f1c9af7?s=128&d=identicon&r=PG&f=1", "display_name": "JW1999", "link": "https://stackoverflow.com/users/8296018/jw1999"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501201162, "post_id": 45339007, "comment_id": 77686975, "body": "@Prune Great thanks. I&#39;ve worked on the code but I&#39;m getting an error message.                                                                                               num = input(&quot;Enter a 7-digit ISSN number: &quot;) weight = 10 total = 0 arr = [8, 7, 6, 5, 4, 3, 2] index = 0 while index &lt; 7:     print(arr[index])     index += 1     totalNum = int(num[index]) * arr[index]     print(totalNum)  totalNum = totalNum % 11 totalnum2 = totalNum - 11 num = [num , totalnum2] print(num)"}, {"owner": {"reputation": 3, "user_id": 8296018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef581c7f583441245c62867f1c9af7?s=128&d=identicon&r=PG&f=1", "display_name": "JW1999", "link": "https://stackoverflow.com/users/8296018/jw1999"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501201282, "post_id": 45339007, "comment_id": 77687018, "body": "On line 7 in the code i pasted above (not sure how to format it in stack. it keeps going inline) anyway my error is that on line 7 it says the index is out of range, not sure what this means and how to fix it."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501201451, "post_id": 45339007, "comment_id": 77687055, "body": "You have to edit the <i>question</i>; you can&#39;t format much in comments.  Again, that&#39;s in the intro tour.  :-)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1508797253, "post_id": 45339007, "comment_id": 80745987, "body": "When you get to a resolution, please remember to up-vote useful things and accept your favourite answer (even if you have to write it yourself), so Stack Overflow can properly archive the question."}, {"owner": {"reputation": 3, "user_id": 8296018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef581c7f583441245c62867f1c9af7?s=128&d=identicon&r=PG&f=1", "display_name": "JW1999", "link": "https://stackoverflow.com/users/8296018/jw1999"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1508844191, "post_id": 45339007, "comment_id": 80765040, "body": "@Prune hey I tried to but I cannot vote until I have a reputation of 15. You can archive this question. Thanks!"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1508863768, "post_id": 45339007, "comment_id": 80779131, "body": "Okay; just accepting an answer will get the question archived.  You can do that much regardless of your reputation."}], "answers": [{"comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 3, "user_id": 8296018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef581c7f583441245c62867f1c9af7?s=128&d=identicon&r=PG&f=1", "display_name": "JW1999", "link": "https://stackoverflow.com/users/8296018/jw1999"}, "edited": false, "score": 0, "creation_date": 1501202988, "post_id": 45363048, "comment_id": 77687429, "body": "Glad to be of help.  Note that you kept an open mind: a lot of people get upset that we don&#39;t write their homework for them, and simply leave.  Part of this community is getting you into the right communication methods.  Now that you see how, read the posting guidelines again: this gives you immediate feedback on the process.  BTW, I also have my bad days."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1509034037, "post_id": 45363048, "comment_id": 80865330, "body": "Would the person who down-voted please provide an explanation?  There&#39;s apparently something I could improve here."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": -1, "last_activity_date": 1501202231, "last_edit_date": 1501202231, "creation_date": 1501201812, "answer_id": 45363048, "question_id": 45339007, "link": "https://stackoverflow.com/questions/45339007/issn-calculator-in-python/45363048#45363048", "title": "ISSN Calculator in Python", "body": "<p><strong>IMMEDIATE PROBLEM</strong></p>\n\n<p>You increment your <code>index</code> value before you use it; this means that on the final iteration, it's 1 too large for the final operation.  Switch the bottom two lines of your loop:</p>\n\n<pre><code>index = 0 \nwhile index &lt; 7: \n    print(arr[index])\n    totalNum = int(num[index]) * arr[index]\n    index += 1\n</code></pre>\n\n<p>Even better, this should be a <code>for</code> loop, not a <code>while</code>:</p>\n\n<pre><code>for index in range(7):\n    print(arr[index])\n    totalNum = int(num[index]) * arr[index]\n</code></pre>\n\n<p>Python will guard your value better.</p>\n\n<p><strong>AFTER THIS REPAIR:</strong></p>\n\n<pre><code>8\n7\n6\n5\n4\n3\n2\n14\n['0317847', -8]\n</code></pre>\n\n<p>Now, your problems include</p>\n\n<ul>\n<li>You keep only the last weighted amount in <code>totalNum</code>.  You need to make a running sum for the entire group.</li>\n<li>You have the final subtraction backwards.</li>\n</ul>\n\n<p>I assume you can fix things from here.\nRemember that you still have to handle the <code>X</code> case.</p>\n"}], "owner": {"reputation": 3, "user_id": 8296018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef581c7f583441245c62867f1c9af7?s=128&d=identicon&r=PG&f=1", "display_name": "JW1999", "link": "https://stackoverflow.com/users/8296018/jw1999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "accepted_answer_id": 45363048, "answer_count": 1, "score": -4, "last_activity_date": 1501202231, "creation_date": 1501111767, "last_edit_date": 1501201680, "question_id": 45339007, "link": "https://stackoverflow.com/questions/45339007/issn-calculator-in-python", "title": "ISSN Calculator in Python", "body": "<p>My task is to create an ISSN calculator, but I'm unsure what this means and how to do this. These are the instructions: </p>\n\n<p>The procedure for calculating the check digit, which may be carried out automatically in a computer, is as follows: </p>\n\n<ol>\n<li>Take the first seven digits of the ISSN (the check digit is the eighth and last digit): 0 3 1 7 8 4 7</li>\n<li>Take the weighting factors associated with each digit: 8 7 6 5 4 3 2</li>\n<li>Multiply each digit in turn by its weighting factor: 0 21 6 35 32 12 14 </li>\n<li>Add these numbers together: 0+21+6+35+32+12+14 = 120</li>\n<li>Divide this sum by the modulus 11: 120:11 = 10 remainder 10</li>\n<li>Subtract the remainder from 11: 11-10 = 1</li>\n<li>Add the remainder, which is the check digit, to the extreme right (low order) position of the base number of the ISSN: 0317-8471</li>\n</ol>\n\n<p>If the remainder is 10, substitute an upper case X in the check digit position.\nIf there is no remainder, put a zero in the check digit position.</p>\n\n<p>Here is my current code:</p>\n\n<pre><code>num = input(\"Enter a 7-digit ISSN number: \")\nweight = 10 \ntotal = 0 \narr = [8, 7, 6, 5, 4, 3, 2] \nindex = 0 \nwhile index &lt; 7: \n    print(arr[index])\n    index += 1\n    totalNum = int(num[index]) * arr[index]\nprint(totalNum) \ntotalNum = totalNum % 11 \ntotalnum2 = totalNum - 11 \nnum = [num , totalnum2] \nprint(num)\n</code></pre>\n\n<p>I get the output and error:</p>\n\n<pre><code>8\n7\n6\n5\n4\n3\n2\nTraceback (most recent call last):\n  File \"so.py\", line 10, in &lt;module&gt;\n    totalNum = int(num[index]) * arr[index]\nIndexError: string index out of range\n</code></pre>\n\n<p>What is my mistake?</p>\n"}, {"tags": ["python", "python-2.7", "configparser"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7656164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5f1bed9bb5dce7294ac744ba161d16?s=128&d=identicon&r=PG&f=1", "display_name": "Shmuelt", "link": "https://stackoverflow.com/users/7656164/shmuelt"}, "edited": false, "score": 0, "creation_date": 1501169340, "post_id": 45344406, "comment_id": 77671565, "body": "For some reason yesterday when I was using w+ it was leaving me with a blank file, so I switched to r+. But you&#39;re right, switching to w+ seems to fix the problem. I must have changed something else while troubleshooting. Regardless, thank you so much! Truly appreciated!"}], "tags": [], "owner": {"reputation": 15619, "user_id": 1548468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0745dce203d52699e63a575b3103ad70?s=128&d=identicon&r=PG", "display_name": "Botje", "link": "https://stackoverflow.com/users/1548468/botje"}, "is_accepted": true, "score": 0, "last_activity_date": 1501144170, "last_edit_date": 1501144170, "creation_date": 1501141476, "answer_id": 45344406, "question_id": 45338986, "link": "https://stackoverflow.com/questions/45338986/configparser-unintentionally-adding-extra-lines-and-characters/45344406#45344406", "title": "ConfigParser unintentionally adding extra lines and characters", "body": "<p>You are opening the file for writing with mode <code>r+</code>. <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow noreferrer\">The documentation for open</a> states that this does not truncate the file. In effect, you are only overwriting a part of the file.</p>\n\n<p>I changed the mode to <code>w+</code> and the extra lines were not there anymore.</p>\n"}], "owner": {"reputation": 25, "user_id": 7656164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5f1bed9bb5dce7294ac744ba161d16?s=128&d=identicon&r=PG&f=1", "display_name": "Shmuelt", "link": "https://stackoverflow.com/users/7656164/shmuelt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 45344406, "answer_count": 1, "score": 0, "last_activity_date": 1501144170, "creation_date": 1501111579, "last_edit_date": 1501140946, "question_id": 45338986, "link": "https://stackoverflow.com/questions/45338986/configparser-unintentionally-adding-extra-lines-and-characters", "title": "ConfigParser unintentionally adding extra lines and characters", "body": "<p>I'm attempting to use config parser to keep track of some variables that need to get passed between programs. (I'm not sure that this is what ConfigParser is meant for, but it's how the program worked when I got it, so I'm still using it.) ConfigParser is doing this weird thing, however, where at the end of the file it is adding a few blank lines and then repeating the last few characters of the immediately preceding line with text (or sometimes from the text which had been there previously). Honestly, it's easier to understand if you just run the code below.</p>\n\n<p>In any event, I searched the web and couldn't find any mention of this problem. Any idea what's wrong? Should I just give up and try a different library?</p>\n\n<p>Any and all help is appreciated, thank you so much!</p>\n\n<p>System: Windows using Python 2.7.10</p>\n\n<p>Code to reproduce the error (change &lt; >user to your user):</p>\n\n<pre><code>from ConfigParser import ConfigParser\nimport os\n\ndef create_batch_file(name, config_dir, platform, ABCD, batch_ID, speed, parallel, turbo=False):\n    ## setup batch_info.ini\n    batch_ini = os.path.join(config_dir, \"batch_info.ini\")\n\n    # Cast to string in case they are none object\n    batch_ID = str(batch_ID).lower()\n    parallel = str(parallel).lower()\n\n    if parallel == \"none\":\n        parallel = 1\n\n    batch_ini_contents = [\"[Machine]\\n\",\n                          \"name = {}\\n\".format(name),\n                          \"platform = {}\\n\".format(platform),\n                          \"\\n\",\n                          \"[Environment]\\n\",\n                          \"turbo = {}\\n\".format(turbo),\n                          \"speed = {}\\n\".format(speed),\n                           \"\\n\",\n                          \"[Batch]\\n\",\n                          \"batch_id = {}\\n\".format(batch_ID),\n                          \"ABCD = {}\\n\".format(ABCD),\n                          \"parallel = {}\\n\".format(parallel),\n                          \"rerun = False\\n\",\n                          \"\\n\"\n                          \"[Reservation]\\n\"\n                          \"reserved = False\\n\"\n                          \"purpose = None\"\n                          ]\n\n    with open(batch_ini, 'w+') as f:\n        f.writelines(batch_ini_contents)\n\n    return batch_ini\n\ndef temp_getter(config_dir):\n    config = config_dir\n    fl = ConfigParser()\n    fl.read(config)\n    return fl\n\nconfig_dir = \"C:\\\\Users\\\\&lt;user&gt;\\\\Desktop\"\n\nbatch_ini = os.path.join(config_dir, \"batch_info.ini\")\n\nname = \"m\"\nplatform = \"p\"\nturbo = False\nspeed = \"default\"\nbatch_ID = 5\nABCD = 'abcd'\nparallel = 1\npurpose = \"hello hello hello\"\n\ncreate_batch_file(config_dir=config_dir, ABCD=ABCD, turbo=turbo, \nbatch_ID=batch_ID, parallel=parallel, speed=speed, name=name, \nplatform=platform)\n\nf = temp_getter(batch_ini)\nf.set('Reservation', 'reserved', 'True')\nf.set('Reservation', 'purpose', purpose)\nwith open(batch_ini, 'r+') as conf:\n    f.write(conf)\n\nf = temp_getter(batch_ini)\nf.set('Reservation', 'reserved', 'False')\nf.set('Reservation', 'purpose', 'None')\nwith open(batch_ini, 'r+') as conf:\n    f.write(conf)\n</code></pre>\n"}, {"tags": ["python", "pandas", "divide"], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "edited": false, "score": 0, "creation_date": 1501113152, "post_id": 45339119, "comment_id": 77640341, "body": "and how would you associate the stock with just that number? While ignoring the Nan values - because I&#39;m plotting it on a bar plot"}, {"owner": {"reputation": 454, "user_id": 4901345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PifSu8T4ie0/AAAAAAAAAAI/AAAAAAAAAFo/lNFxKlR3yuw/photo.jpg?sz=128", "display_name": "Charles Parr", "link": "https://stackoverflow.com/users/4901345/charles-parr"}, "reply_to_user": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "edited": false, "score": 0, "creation_date": 1501113453, "post_id": 45339119, "comment_id": 77640409, "body": "If I understand correctly that you want to keep it all in one DataFrame, you would do: start_data[&#39;BHGE_pct_change&#39;] = start_data[&#39;BHGE&#39;].pct_change()"}, {"owner": {"reputation": 454, "user_id": 4901345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PifSu8T4ie0/AAAAAAAAAAI/AAAAAAAAAFo/lNFxKlR3yuw/photo.jpg?sz=128", "display_name": "Charles Parr", "link": "https://stackoverflow.com/users/4901345/charles-parr"}, "reply_to_user": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "edited": false, "score": 0, "creation_date": 1516397041, "post_id": 45339119, "comment_id": 83685853, "body": "@thomas.mac if this helped you, please mark it as answered. thanks :)"}], "tags": [], "owner": {"reputation": 454, "user_id": 4901345, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PifSu8T4ie0/AAAAAAAAAAI/AAAAAAAAAFo/lNFxKlR3yuw/photo.jpg?sz=128", "display_name": "Charles Parr", "link": "https://stackoverflow.com/users/4901345/charles-parr"}, "is_accepted": false, "score": 0, "last_activity_date": 1501112622, "creation_date": 1501112622, "answer_id": 45339119, "question_id": 45338985, "link": "https://stackoverflow.com/questions/45338985/ignoring-nan-when-using-divide-but-including-available-info/45339119#45339119", "title": "Ignoring NaN when using divide, but including available info", "body": "<p>Can you try using the percent change method includes with pandas?</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nix = ['2017-06-28','2017-06-29','2017-06-30','2017-07-03']\nprice = [np.NaN,np.NaN,37.971771,40.180004]\ndf = pd.DataFrame(price, index = ix)\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zuZkr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuZkr.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>pct_change = df.pct_change()\npct_change\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/CzpZ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CzpZ9.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1501112622, "creation_date": 1501111577, "last_edit_date": 1501111793, "question_id": 45338985, "link": "https://stackoverflow.com/questions/45338985/ignoring-nan-when-using-divide-but-including-available-info", "title": "Ignoring NaN when using divide, but including available info", "body": "<p>I have a stock 'BHGE' in a dataframe called <code>start_data</code>, here is start_data['BHGE']:</p>\n\n<pre><code>2017-06-28          NaN\n2017-06-29          NaN\n2017-06-30    37.971771\n2017-07-03    40.180004\n</code></pre>\n\n<p>And I am using this calculation to find the stocks return:</p>\n\n<pre><code>pct_change = start_data.iloc[-1].divide(start_data.loc[start_pct_change])-1 \n</code></pre>\n\n<p>The problem is that when I run: <code>pct_change['BHGE']</code> , it returns NaN, but I would like it to return the pct change for all the values that are available.   </p>\n"}, {"tags": ["python", "nltk"], "answers": [{"comments": [{"owner": {"reputation": 3993, "user_id": 690573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/305CP.png?s=128&g=1", "display_name": "Nathan Jones", "link": "https://stackoverflow.com/users/690573/nathan-jones"}, "edited": false, "score": 0, "creation_date": 1501112876, "post_id": 45339132, "comment_id": 77640288, "body": "Yes, that&#39;s what I&#39;m using. I need to know which <a href=\"http://www.nltk.org/nltk_data/\" rel=\"nofollow noreferrer\">data set</a> to download before I can use this."}, {"owner": {"reputation": 171, "user_id": 8006467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d41cb55b595b908ba22d15fbcc2bc07?s=128&d=identicon&r=PG&f=1", "display_name": "ujawg", "link": "https://stackoverflow.com/users/8006467/ujawg"}, "reply_to_user": {"reputation": 3993, "user_id": 690573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/305CP.png?s=128&g=1", "display_name": "Nathan Jones", "link": "https://stackoverflow.com/users/690573/nathan-jones"}, "edited": false, "score": 1, "creation_date": 1501113301, "post_id": 45339132, "comment_id": 77640371, "body": "in your link, 84. is &#39;words&#39;. do: import nltk then nltk.download(&#39;words&#39;)"}, {"owner": {"reputation": 3993, "user_id": 690573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/305CP.png?s=128&g=1", "display_name": "Nathan Jones", "link": "https://stackoverflow.com/users/690573/nathan-jones"}, "edited": false, "score": 0, "creation_date": 1501113441, "post_id": 45339132, "comment_id": 77640407, "body": "@gawju thanks, that worked. (it would probably be more helpful as a part of the original answer)"}, {"owner": {"reputation": 171, "user_id": 8006467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d41cb55b595b908ba22d15fbcc2bc07?s=128&d=identicon&r=PG&f=1", "display_name": "ujawg", "link": "https://stackoverflow.com/users/8006467/ujawg"}, "reply_to_user": {"reputation": 3993, "user_id": 690573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/305CP.png?s=128&g=1", "display_name": "Nathan Jones", "link": "https://stackoverflow.com/users/690573/nathan-jones"}, "edited": false, "score": 0, "creation_date": 1501113488, "post_id": 45339132, "comment_id": 77640422, "body": "happy to help :)"}], "tags": [], "owner": {"reputation": 171, "user_id": 8006467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d41cb55b595b908ba22d15fbcc2bc07?s=128&d=identicon&r=PG&f=1", "display_name": "ujawg", "link": "https://stackoverflow.com/users/8006467/ujawg"}, "is_accepted": true, "score": 6, "last_activity_date": 1501113552, "last_edit_date": 1501113552, "creation_date": 1501112716, "answer_id": 45339132, "question_id": 45338979, "link": "https://stackoverflow.com/questions/45338979/which-corpus-should-i-download-to-access-nltk-corpus-words/45339132#45339132", "title": "Which corpus should I download to access nltk.corpus.words?", "body": "<p>this should be the one</p>\n\n<pre><code>import nltk\nnltk.download('words')\nfrom nltk.corpus import words\n</code></pre>\n"}], "owner": {"reputation": 3993, "user_id": 690573, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/305CP.png?s=128&g=1", "display_name": "Nathan Jones", "link": "https://stackoverflow.com/users/690573/nathan-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "accepted_answer_id": 45339132, "answer_count": 1, "score": 2, "last_activity_date": 1501113552, "creation_date": 1501111529, "last_edit_date": 1501112926, "question_id": 45338979, "link": "https://stackoverflow.com/questions/45338979/which-corpus-should-i-download-to-access-nltk-corpus-words", "title": "Which corpus should I download to access nltk.corpus.words?", "body": "<p>My code references <code>nltk.corpus.words.words()</code>.</p>\n\n<p>Which <a href=\"http://www.nltk.org/nltk_data/\" rel=\"nofollow noreferrer\">NLTK data</a> set to I need to download to access it?</p>\n\n<p>Right now I'm telling the downloader to download all data sets by doing <code>python -m nltk.downloader -d /usr/local/share/nltk_data all</code>. I don't need all data sets, though, I just the one that provides <code>nltk.corpus.words.words()</code>.</p>\n\n<p>My question is: what should I replace <code>all</code> with in the downloader command above?</p>\n"}, {"tags": ["python", "python-2.7", "numpy", "mdanalysis"], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 2207958, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/SJNmA.jpg?s=128&g=1", "display_name": "Max Linke", "link": "https://stackoverflow.com/users/2207958/max-linke"}, "is_accepted": false, "score": 1, "last_activity_date": 1501189672, "creation_date": 1501189672, "answer_id": 45361030, "question_id": 45338939, "link": "https://stackoverflow.com/questions/45338939/how-can-i-load-an-array-generated-by-projecting-a-trajectory-on-its-principal-co/45361030#45361030", "title": "How can I load an array generated by projecting a trajectory on its principal components in MDAnalysis?", "body": "<p>You can only store load 3 dimensional data in a gro file. Your PCA space that you use is 5 dimensional. Besides visualizing a PCA space with MDAnalysis won't work. You can use gromacs to show unphysical morphs between states the PCA identifies. </p>\n\n<p>The individual PCA components are collective variables that you can plot with matplotlib. Either individually or in pairs. See this <a href=\"https://gist.github.com/kain88-de/0bfe0813e27ad601004b247fedb2ee7d\" rel=\"nofollow noreferrer\">gist</a> for visualization of the PCA space and how you can visualize the states the PCA finds using MDAnalysis and Gromacs. </p>\n"}], "owner": {"reputation": 1, "user_id": 8341361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38f67db65ec8e9671f53a94fdb7f1004?s=128&d=identicon&r=PG&f=1", "display_name": "Kacey Reidy", "link": "https://stackoverflow.com/users/8341361/kacey-reidy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501189672, "creation_date": 1501111189, "last_edit_date": 1501111357, "question_id": 45338939, "link": "https://stackoverflow.com/questions/45338939/how-can-i-load-an-array-generated-by-projecting-a-trajectory-on-its-principal-co", "title": "How can I load an array generated by projecting a trajectory on its principal components in MDAnalysis?", "body": "<p>I have an array, tpcs, of shape (150017, 5) generated from MDAnalysis.pca.transform(). I am trying to load this as a trajectory to visualize it. I tried:</p>\n\n<pre><code> u = mda.Universe(trjpath+'md.gro', tpcs)\n</code></pre>\n\n<p>which returns the error:</p>\n\n<pre><code>ValueError                                Traceback (most recent call last)\n&lt;ipython-input-80-ea97f213be3c&gt; in &lt;module&gt;()\n----&gt; 1 u = mda.Universe(trjpath+'md.gro', tpcs)\n/nfs/homes/kreidy/Library/mdanalysis/package/MDAnalysis/core/universe.pyc in __init__(self, *args, **kwargs)\n    276             else:\n    277                 coordinatefile = args[1:]\n--&gt; 278             self.load_new(coordinatefile, **kwargs)\n    279 \n    280         # Check for guess_bonds\n/nfs/homes/kreidy/Library/mdanalysis/package/MDAnalysis/core/universe.pyc in load_new(self, filename, format, in_memory, **kwargs)\n    424         kwargs['n_atoms'] = self.atoms.n_atoms\n    425 \n--&gt; 426         self.trajectory = reader(filename, **kwargs)\n    427         if self.trajectory.n_atoms != len(self.atoms):\n    428             raise ValueError(\"The topology and {form} trajectory files don't\"\n/nfs/homes/kreidy/Library/mdanalysis/package/MDAnalysis/coordinates/memory.pyc in __init__(self, coordinate_array, order, dimensions, dt, filename, **kwargs)\n    275                                  \"does not match the shape of the coordinate \"\n    276                                  \"array ({})\"\n--&gt; 277                                  .format(provided_n_atoms, self.n_atoms))\n    278 \n    279         self.ts = self._Timestep(self.n_atoms, **kwargs)\nValueError: The provided value for n_atoms (132506) does not match the shape of the coordinate array (5)\n</code></pre>\n\n<p>How can I load this array into a trajectory?</p>\n"}, {"tags": ["python", "selenium", "firefox", "redhat", "geckodriver"], "comments": [{"owner": {"reputation": 6309, "user_id": 2263949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeab61900e08675dbd0d3a3fd8b56a0e?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2263949/jonathan"}, "edited": false, "score": 0, "creation_date": 1501111321, "post_id": 45338904, "comment_id": 77639897, "body": "Have you logged out and back in to start using your new .bash_profile file ?  You could try putting the geckodriver in /usr/bin/geckodriver instead, I know that&#39;s where I have it."}, {"owner": {"reputation": 6309, "user_id": 2263949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeab61900e08675dbd0d3a3fd8b56a0e?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2263949/jonathan"}, "edited": false, "score": 0, "creation_date": 1501111607, "post_id": 45338904, "comment_id": 77639964, "body": "Hmm... And I just found this comment in the wild: <a href=\"https://github.com/SeleniumHQ/selenium/issues/3884#issuecomment-296501573\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/issues/&hellip;</a>  Looks like the most recent version of geckodriver may not work with FireFox 45.  Try upgrading FireFox, if you can."}, {"owner": {"reputation": 72, "user_id": 3200355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njriz.jpg?s=128&g=1", "display_name": "Louis Preston Thornton III", "link": "https://stackoverflow.com/users/3200355/louis-preston-thornton-iii"}, "reply_to_user": {"reputation": 6309, "user_id": 2263949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeab61900e08675dbd0d3a3fd8b56a0e?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2263949/jonathan"}, "edited": false, "score": 0, "creation_date": 1501113338, "post_id": 45338904, "comment_id": 77640379, "body": "Searching the net a little more, I found, alimp5&#39;s solution @ [link] <a href=\"https://github.com/SeleniumHQ/selenium/issues/3884\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/issues/3884</a>  &gt;&gt;&gt;   ` from selenium import webdriver      caps = webdriver.DesiredCapabilities().FIREFOX ...     caps[&quot;marionette&quot;] = False  ...      driver = webdriver.Firefox(capabilities=caps) ...      driver.get(&quot;<a href=\"http://www.google.com&quot;\" rel=\"nofollow noreferrer\">google.com&quot;</a>)  ...      print driver.title  ...      driver.quit()`  &lt;&lt;&lt;  Which worked . . .  I don&#39;t understand why yet, but I will keep reading until I do."}, {"owner": {"reputation": 6309, "user_id": 2263949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeab61900e08675dbd0d3a3fd8b56a0e?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2263949/jonathan"}, "edited": false, "score": 0, "creation_date": 1501113455, "post_id": 45338904, "comment_id": 77640410, "body": "Awesome if that works!  Good job.  :)"}, {"owner": {"reputation": 72, "user_id": 3200355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njriz.jpg?s=128&g=1", "display_name": "Louis Preston Thornton III", "link": "https://stackoverflow.com/users/3200355/louis-preston-thornton-iii"}, "reply_to_user": {"reputation": 6309, "user_id": 2263949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeab61900e08675dbd0d3a3fd8b56a0e?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2263949/jonathan"}, "edited": false, "score": 0, "creation_date": 1501113504, "post_id": 45338904, "comment_id": 77640423, "body": "Thanks, Jonathan."}, {"owner": {"reputation": 6309, "user_id": 2263949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeab61900e08675dbd0d3a3fd8b56a0e?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2263949/jonathan"}, "edited": false, "score": 0, "creation_date": 1501215233, "post_id": 45338904, "comment_id": 77690216, "body": "No problem!  Consider posting your comment as an answer and accepting it.  This way, people will know that your question has been answered."}], "answers": [{"tags": [], "owner": {"reputation": 6309, "user_id": 2263949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eeab61900e08675dbd0d3a3fd8b56a0e?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/2263949/jonathan"}, "is_accepted": true, "score": 0, "last_activity_date": 1501112517, "last_edit_date": 1592644375, "creation_date": 1501112120, "answer_id": 45339047, "question_id": 45338904, "link": "https://stackoverflow.com/questions/45338904/selenium-webdriver-geckodriver-python-2-6-6-firefox-on-redhat-6-8-fails-to/45339047#45339047", "title": "Selenium Webdriver + geckodriver + python 2.6.6 + Firefox on RedHat 6.8 fails to open browser", "body": "<p>After doing some research, I am almost positive that my comment is correct - a version incompatibility between FireFox 45 and geckodriver 0.18.  According to the <a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">geckodriver page</a>:</p>\n<blockquote>\n<p><b>v0.18.0</b></p>\n<p>geckodriver now recommends Firefox 53 and greater</p>\n</blockquote>\n<p>It looks like FireFox 45 may be incompatible with geckodriver.  Geckodriver was <a href=\"https://github.com/mozilla/geckodriver/releases/tag/v0.1.0\" rel=\"nofollow noreferrer\">initially released</a> on Apr 9, 2015, and Firefox 45 <a href=\"https://wiki.mozilla.org/RapidRelease/Calendar\" rel=\"nofollow noreferrer\">was released</a> on March 8, 2015.</p>\n<p>So while there might be some chance of getting it to work on an old geckodriver, the best option would really be to update FireFox to &gt;= v53.</p>\n"}], "owner": {"reputation": 72, "user_id": 3200355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Njriz.jpg?s=128&g=1", "display_name": "Louis Preston Thornton III", "link": "https://stackoverflow.com/users/3200355/louis-preston-thornton-iii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 45339047, "answer_count": 1, "score": 1, "last_activity_date": 1501112684, "creation_date": 1501110953, "last_edit_date": 1501112684, "question_id": 45338904, "link": "https://stackoverflow.com/questions/45338904/selenium-webdriver-geckodriver-python-2-6-6-firefox-on-redhat-6-8-fails-to", "title": "Selenium Webdriver + geckodriver + python 2.6.6 + Firefox on RedHat 6.8 fails to open browser", "body": "<p>I am having issues with successfully launching a Firefox Browser using the Selenium Webdriver for python. I have the following setup parameters:</p>\n\n<pre><code>Selenium Webdriver 3.4.3\nPython 2.6.6\ngeckodriver-v0.18.0-linux64.tar.gz\nfirefox-45.0.1.1.el6.x86_64\n</code></pre>\n\n<p>Now, the geckodriver file is unzipped and is currently in <code>/usr/local/bin</code> directory with rwx all the way across:</p>\n\n<pre><code>rwxrwxrwx. 1 root root 7129173 Jul 26 14:42 geckodriver\n</code></pre>\n\n<p>I have updated the <code>.bash_profile</code> to include the path as:</p>\n\n<pre><code>PATH=$PATH:$HOME/bin:/usr/local/bin/geckodriver\n</code></pre>\n\n<p>The script that I am using is from the readme within the Selenium-3.4.3 directory \"README.rst\".</p>\n\n<p>Scriptname:   <code>first_selenium_script.py</code></p>\n\n<pre><code>from selenium import webdriver\n\nbrowser = webdriver.Firefox()\nbrowser.get('http://seleniumhq.org/')\n</code></pre>\n\n<p>So, the results are as follows,</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"first_selenium_script.py\", line 3, in &lt;module&gt;\n    browser = webdriver.Firefox()\n  File \"/usr/lib/python2.6/site-   packages/selenium-3.4.3-py2.6.egg/selenium/webdriver/firefox/webdriver.py\",   line 152, in __init__\nkeep_alive=True)\n  File \"/usr/lib/python2.6/site- packages/selenium-3.4.3-py2.6.egg/selenium/webdriver/remote/webdriver.py\", line 98, in __init__\nself.start_session(desired_capabilities, browser_profile)\n  File \"/usr/lib/python2.6/site- packages/selenium-3.4.3-py2.6.egg/selenium/webdriver/remote/webdriver.py\", line 188, in start_session\nresponse = self.execute(Command.NEW_SESSION, parameters)\n  File \"/usr/lib/python2.6/site- packages/selenium-3.4.3-py2.6.egg/selenium/webdriver/remote/webdriver.py\", line 256, in execute\nself.error_handler.check_response(response)\n  File \"/usr/lib/python2.6/site-packages/selenium-3.4.3-py2.6.egg/selenium/webdriver/remote/errorhandler.py\", line 194, in check_response\n    raise exception_class(message, screen, stacktrace)\nselenium.common.exceptions.WebDriverException: Message: Unable to find a  matching set of capabilities\n</code></pre>\n\n<p>Any thoughts please . . . Thanks.</p>\n"}, {"tags": ["python", "amazon-web-services", "python-requests", "aws-api-gateway", "boto3"], "comments": [{"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 2, "creation_date": 1501121866, "post_id": 45338903, "comment_id": 77642308, "body": "What response are you looking for? The endpoint? e.g. <code>https:&#47;&#47;${api_id}.execute-api.${region}.amazonaws.com&#47;${stag&zwnj;&#8203;e}&#47;${resource}</code>"}, {"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "reply_to_user": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1501121955, "post_id": 45338903, "comment_id": 77642333, "body": "That and how you work with security credentials."}, {"owner": {"reputation": 323, "user_id": 2902171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/365964edfc3ac43e6c64f566e76d1797?s=128&d=identicon&r=PG&f=1", "display_name": "Ritisha - AWS", "link": "https://stackoverflow.com/users/2902171/ritisha-aws"}, "edited": false, "score": 0, "creation_date": 1501272643, "post_id": 45338903, "comment_id": 77724878, "body": "Hi, you can find an example of how to invoke API Gateway using signed requests in this post - <a href=\"https://stackoverflow.com/questions/37336286/how-do-i-call-an-api-gateway-with-cognito-credentials-in-python\" title=\"how do i call an api gateway with cognito credentials in python\">stackoverflow.com/questions/37336286/&hellip;</a>"}], "owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3245, "favorite_count": 0, "closed_date": 1501272845, "answer_count": 0, "score": 1, "last_activity_date": 1501110945, "creation_date": 1501110945, "question_id": 45338903, "link": "https://stackoverflow.com/questions/45338903/using-amazon-boto3-to-get-rest-api-url", "closed_reason": "Duplicate", "title": "Using Amazon Boto3 to get REST API URL", "body": "<p>I am kind of confused as you how I use the Api Gateway's in AWS. I have an existing Api that I want to get the actual URL call for using <a href=\"http://boto3.readthedocs.io/en/latest/reference/services/apigateway.html\" rel=\"nofollow noreferrer\">boto3 for ApiGateway's</a></p>\n\n<p>I would expect something like,</p>\n\n<pre><code>import boto3, requests\n\nclient = boto3.client('apigateway', &lt;Auth tokens&gt;)\nresponse = requests.get(client.get_rest_url(PHYSICAL_ID_OF_API),\n                        json={...}, auth=client.get_auth(PHYSICAL_ID_OF_API))\n</code></pre>\n\n<p>I am having a hard time parsing the docs.</p>\n"}, {"tags": ["python", "homebrew"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1501111000, "post_id": 45338877, "comment_id": 77639802, "body": "<code>which</code> doesn&#39;t look at <code>&#47;etc&#47;paths</code>; it looks at the current value of <code>PATH</code> in your environment."}, {"owner": {"reputation": 301, "user_id": 4412954, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh4.googleusercontent.com/-zk0yucZHI0U/AAAAAAAAAAI/AAAAAAAAACc/Ez0W1lKX72o/photo.jpg?sz=128", "display_name": "Justin Thong", "link": "https://stackoverflow.com/users/4412954/justin-thong"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1501111347, "post_id": 45338877, "comment_id": 77639904, "body": "@chepner Hi I just edited. <code>$PATHS</code> gives me the same order"}, {"owner": {"reputation": 71, "user_id": 675962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91062d873118aecb453b6442f538268?s=128&d=identicon&r=PG", "display_name": "Grischa", "link": "https://stackoverflow.com/users/675962/grischa"}, "edited": false, "score": 0, "creation_date": 1501123776, "post_id": 45338877, "comment_id": 77642786, "body": "The solution is here: <a href=\"https://stackoverflow.com/questions/45170852/installing-homebrew-python-and-linking\" title=\"installing homebrew python and linking\">stackoverflow.com/questions/45170852/&hellip;</a>"}, {"owner": {"reputation": 71, "user_id": 675962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e91062d873118aecb453b6442f538268?s=128&d=identicon&r=PG", "display_name": "Grischa", "link": "https://stackoverflow.com/users/675962/grischa"}, "edited": false, "score": 1, "creation_date": 1501123840, "post_id": 45338877, "comment_id": 77642803, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45170852/installing-homebrew-python-and-linking\">Installing Homebrew Python and linking</a>"}], "answers": [{"tags": [], "owner": {"reputation": 40432, "user_id": 1807667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/976dc9df3ea3d05a18e90f0cd9c29b7a?s=128&d=identicon&r=PG", "display_name": "Ortomala Lokni", "link": "https://stackoverflow.com/users/1807667/ortomala-lokni"}, "is_accepted": false, "score": 0, "last_activity_date": 1501354995, "creation_date": 1501354995, "answer_id": 45393007, "question_id": 45338877, "link": "https://stackoverflow.com/questions/45338877/path-is-in-correct-order-still-points-to-unbrewed-python/45393007#45393007", "title": "Path is in correct order: Still points to Unbrewed Python", "body": "<p>Running:</p>\n\n<pre><code>brew info python\n</code></pre>\n\n<p>gives the answer to your question:</p>\n\n<blockquote>\n  <p>This formula installs a python2 executable to <code>/usr/local/bin</code>.\n  If you wish to have this formula's python executable in your <code>PATH</code> then add\n  the following to <code>~/.bash_profile</code>:</p>\n  \n  <p><code>export PATH=\"/usr/local/opt/python/libexec/bin:$PATH\"</code></p>\n</blockquote>\n"}], "owner": {"reputation": 301, "user_id": 4412954, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh4.googleusercontent.com/-zk0yucZHI0U/AAAAAAAAAAI/AAAAAAAAACc/Ez0W1lKX72o/photo.jpg?sz=128", "display_name": "Justin Thong", "link": "https://stackoverflow.com/users/4412954/justin-thong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1501354995, "creation_date": 1501110757, "last_edit_date": 1501111307, "question_id": 45338877, "link": "https://stackoverflow.com/questions/45338877/path-is-in-correct-order-still-points-to-unbrewed-python", "title": "Path is in correct order: Still points to Unbrewed Python", "body": "<p>I want to use my brewed version of python but although many forums say to adjust path order so that your OS X python which corresponds to path /usr/bin is not used. I find that although my paths are set in the correct order that I still am calling the old OS X python.</p>\n\n<pre><code>justins-mbp:~ justinthong$ echo $PATH\n/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n</code></pre>\n\n<p>As you can see when I use <code>which python</code> command it still gives me the original path.</p>\n\n<pre><code>justins-mbp:site-packages justinthong$ which python\n/usr/bin/python\n</code></pre>\n\n<p>I am trying to be careful on not to force a symlink.</p>\n"}, {"tags": ["python", "matlab", "numpy", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 3993276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0f1972aadc813e1ed2b5d776721ddb?s=128&d=identicon&r=PG", "display_name": "Vants", "link": "https://stackoverflow.com/users/3993276/vants"}, "edited": false, "score": 0, "creation_date": 1501187366, "post_id": 45339206, "comment_id": 77682189, "body": "Thank you for such a detailed answer. This helped me out a lot."}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 3, "last_activity_date": 1601491032, "last_edit_date": 1601491032, "creation_date": 1501113310, "answer_id": 45339206, "question_id": 45338872, "link": "https://stackoverflow.com/questions/45338872/matlab-polyval-function-with-three-outputs-equivalent-in-python-numpy/45339206#45339206", "title": "Matlab polyval function with three outputs equivalent in Python/ Numpy", "body": "<p>The numpy and scipy functions for fitting a polynomial do not include the option of automatically scaling the input like the Matlab function does.</p>\n<p>First, here's how you can fit your data without the scaling:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>In [39]: x_cord = [58.2986, 39.5842, 23.0044, 10.9427, 3.0465]\n\nIn [40]: y_cord = [0.9600, 0.9700, 0.9800, 0.9900, 1.0000]\n\nIn [41]: c = np.polyfit(x_cord, y_cord, 3)\n\nIn [42]: c\nOut[42]: \narray([ -1.91755884e-07,   2.43049234e-05,  -1.52570960e-03,\n         1.00431483e+00])\n\nIn [43]: p = np.poly1d(c)\n\nIn [44]: p(16.574651718139650)\nOut[44]: 0.98483061114799408\n\nIn [45]: xx = np.linspace(0, 60, 500)\n\nIn [46]: plot(xx, p(xx))\nOut[46]: [&lt;matplotlib.lines.Line2D at 0x110c8d0f0&gt;]\n\nIn [47]: plot(x_cord, y_cord, 'o')\nOut[47]: [&lt;matplotlib.lines.Line2D at 0x10d6f8390&gt;]\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dpFJP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dpFJP.png\" alt=\"plot\" /></a></p>\n<p>The numpy calculation <a href=\"https://www.wolframalpha.com/input/?i=cubic%20fit%20%7B58.2986,%200.96%7D,%20%7B39.5842,%200.97%7D,%20%7B23.0044,%200.98%7D,%20%7B10.9427,%200.99%7D,%20%7B3.0465,%201.0%7D\" rel=\"nofollow noreferrer\">agrees with Wolfram Alpha</a>.</p>\n<hr />\n<p>Here's how you can get pretty close to the actual Matlab calculation.</p>\n<p>For convenience, convert <code>x_cord</code> from a list to a numpy array.</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [64]: x_cord = np.array(x_cord)\n</code></pre>\n<p>Compute the mean and standard deviation of <code>x_cord</code>.</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [65]: mu = np.mean(x_cord)\n\nIn [66]: std = np.std(x_cord, ddof=1)\n</code></pre>\n<p>Call <code>np.polyfit()</code>, using the shifted and scaled version of <code>x_cord</code>.</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [67]: cscaled = np.polyfit((x_cord - mu)/std, y_cord, 3)\n</code></pre>\n<p>These values are pretty close to the array <code>p</code> shown in the comment in the Matlab code.</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [68]: cscaled\nOut[68]: array([-0.00212068,  0.00436168, -0.01410409,  0.97708027])\n</code></pre>\n<p>Create a <code>poly1d</code> object that can be called.</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [69]: pscaled = np.poly1d(cscaled)\n</code></pre>\n<p>Inputs to <code>pscaled</code> must be shifted and scaled using <code>mu</code> and <code>std</code>.</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [70]: pscaled((16.574651718139650 - mu)/std)\nOut[70]: 0.98483061114799486\n</code></pre>\n"}], "owner": {"reputation": 78, "user_id": 3993276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0f1972aadc813e1ed2b5d776721ddb?s=128&d=identicon&r=PG", "display_name": "Vants", "link": "https://stackoverflow.com/users/3993276/vants"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 1, "accepted_answer_id": 45339206, "answer_count": 1, "score": 2, "last_activity_date": 1601491032, "creation_date": 1501110698, "question_id": 45338872, "link": "https://stackoverflow.com/questions/45338872/matlab-polyval-function-with-three-outputs-equivalent-in-python-numpy", "title": "Matlab polyval function with three outputs equivalent in Python/ Numpy", "body": "<p>I have that code in Matlab that I need to bring to Python.</p>\n\n<pre><code>x_cord = [58.2986 39.5842 23.0044 10.9427 3.0465]\ny_cord = [0.9600 0.9700 0.9800 0.9900 1.0000]\n[p,S,mu]=polyfit(x_cord, y_cord, 3); % p = [-0.002120716372462 0.004361710897014 -0.014104050472739 0.977080254892409]\nresult=polyval(p, 16.574651718139650, [], mu); % result = 0.9848\n</code></pre>\n\n<p>When I use numpy.polyfit(x_cord, y_cord, 3) I get different result than in example. Also I couldn't find that kind of polyval (with more than two input parameters) in Numpy.</p>\n\n<p>Matlab and Numpy results are identical when I ask one return parameter.</p>\n"}, {"tags": ["python", "html", "beautifulsoup", "screen-scraping", "urllib"], "answers": [{"tags": [], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1501114779, "last_edit_date": 1501114779, "creation_date": 1501113398, "answer_id": 45339222, "question_id": 45338723, "link": "https://stackoverflow.com/questions/45338723/bs4-trying-to-differentiate-different-containers-in-a-html-page/45339222#45339222", "title": "(bs4) trying to differentiate different containers in a HTML page", "body": "<p>Something like this may work:</p>\n\n<pre><code>import urllib.request\nfrom bs4 import BeautifulSoup\n\nret = {}\npage = urllib.request.urlopen(\"https://publications.parliament.uk/pa/cm/cmregmem/160606/abbott_diane.htm\")\ncontent = page.read().decode('utf-8')\nsoup = BeautifulSoup(content, 'lxml')\nvalid = False\nvalue = \"\"\n\nfor i in soup.findAll('p'):\n    if i.find('strong') and i.text is not None:\n        # ignore first pass\n        if valid:\n           ret[key] = value\n           value = \"\"\n        valid = True\n        key = i.text\n    elif i.text is not None:\n        value = value + \" \" + i.text\n\n# get last entry\nif key is not None:\n    ret[key] = value\n\nfor x in ret:\n    print (x)\n    print (ret[x])\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>4. Visits outside the UK\nName of donor: (1) Stop Aids (2) Aids Alliance Address of donor: (1) Grayston Centre, 28 Charles St, London N1 6HT (2) Preece House, 91-101 Davigdor Rd, Hove BN3 1RE Amount of donation (or estimate of the probable value): for myself and a member of staff, flights \u00a32,784, accommodation \u00a3380.52, other travel costs \u00a3172, per diems \u00a3183; total \u00a33,519.52. These costs were divided equally between both donors. Destination of visit: Uganda Date of visit: 11-14 November 2015 Purpose of visit: to visit the different organisations and charities (development) in regards to AIDS and HIV. (Registered 09 December 2015)Name of donor: Muslim Charities Forum Address of donor: 6 Whitehorse Mews, 37 Westminster Bridge Road, London SE1 7QD Amount of donation (or estimate of the probable value): for a member of staff and myself, return flights to Nairobi \u00a35,170; one night's accommodation in Hargeisa \u00a3107.57; one night's accommodation in Borama \u00a336.21; total \u00a35,313.78 Destination of visit: Somaliland  Date of visit: 7-10 April 2016 Purpose of visit: to visit the different refugee camps and charities (development) in regards to the severe drought in Somaliland.  (Registered 18 May 2016)Name of donor: British-Swiss Chamber of Commerce     Address of donor: Bleicherweg, 128002, Zurich, Switzerland Amount of donation (or estimate of the probable value): flights \u00a3200.14; one night's accommodation \u00a3177, train fare Geneva to Zurich \u00a3110; total \u00a3487.14 Destination of visit: Geneva and Zurich, Switzerland Date of visit: 28-29 April 2016 Purpose of visit: to participate in a public panel discussion in Geneva in front of British-Swiss Chamber of Commerce, its members and guests. (Registered 18 May 2016)\u00a0\n2. (b) Any other support not included in Category 2(a)\nName of donor: Ann Pettifor Address of donor: private Amount of donation or nature and value if donation in kind: \u00a31,651.07 towards rent of an office for my mayoral campaign  Date received: 28 August 2015 Date accepted: 30 September 2015 Donor status: individual (Registered 08 October 2015)\n1. Employment and earnings\nFees received for co-presenting BBC\u2019s \u2018This Week\u2019 TV programme.  Address: BBC Broadcasting House, Portland Place, London W1A 1AA. (Registered 04 November 2013)14 May 2015, received \u00a3700. Hours: 3 hrs. (Registered 03 June 2015)4 June 2015, received \u00a3700. Hours: 3 hrs. (Registered 01 July 2015)18 June 2015, received \u00a3700. Hours: 3 hrs. (Registered 01 July 2015)16 July 2015, received \u00a3700. Hours: 3 hrs. (Registered 07 August 2015)8 January 2016, received \u00a3700 for an appearance on 17 December 2015. Hours: 3 hrs. (Registered 14 January 2016)28 July 2015, received \u00a34,000 for taking part in Grant Thornton\u2019s panel at the JLA/FD Intelligence Post-election event. Address: JLA, 14 Berners Street, London W1T 3LJ. Hours: 5 hrs. (Registered 07 August 2015)23rd October 2015, received \u00a31,500 for co-presenting BBC\u2019s \"Have I Got News for You\" TV programme. Address: Hat Trick Productions, 33 Oval Road Camden, London NW1 7EA. Hours: 5 hrs. (Registered 26 October 2015)10 October 2015, received \u00a31,400 for taking part in a talk at the New Wolsey Theatre in Ipswich. Address: Clive Conway Productions, 32 Grove St, Oxford OX2 7JT. Hours: 5 hrs.  (Registered 26 October 2015)21 March 2016, received \u00a34,000 via Speakers Corner (London) Ltd, Unit 31, Highbury Studios, 10 Hornsey Street, London N7 8EL, from Thompson Reuters, Canary Wharf, London E14 5EP, for speaking and consulting on a panel. Hours: 10 hrs. (Registered 06 April 2016)\nAbbott, Ms Diane (Hackney North and Stoke Newington)\n\n\nHouse of Commons\n\n\n\nSession 2016-17\n\nPublications on the internet\n</code></pre>\n"}], "owner": {"reputation": 594, "user_id": 6307123, "user_type": "registered", "accept_rate": 48, "profile_image": "https://graph.facebook.com/10207710137208658/picture?type=large", "display_name": "entercaspa", "link": "https://stackoverflow.com/users/6307123/entercaspa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1501334153, "creation_date": 1501109740, "last_edit_date": 1501334153, "question_id": 45338723, "link": "https://stackoverflow.com/questions/45338723/bs4-trying-to-differentiate-different-containers-in-a-html-page", "title": "(bs4) trying to differentiate different containers in a HTML page", "body": "<p>I have a web page from the Houses of Parlament. it has information on MP declared interests and I would like to store all MP interests for a project that I am thinking of. </p>\n\n<pre><code>root = 'https://publications.parliament.uk/pa/cm/cmregmem/160606/abbott_diane.htm'\n</code></pre>\n\n<p>root is an example webpage. I want my output to be a dictionary, as there are interests under different sub headings and the entry could be a list. </p>\n\n<p>Problem: if you look at the page, the first interest, (employment and earnings) is not wrapped up in a container, but rather the heading is a <p> tag, and not connected to the text underneath it so I could call <code>soup.find_all('p', {xlms='&lt;p, {'xmlns':'http://www.w3.org/1999/xhtml')</code>\nbut it would return the headings of expenses, and a few other headings like her name, and not the text under it. \nwhich makes it difficult to iterate through the headings and storing the information</p>\n\n<p>What would be the best way of iterating through the page, storing each heading, and the information under each heading? </p>\n"}, {"tags": ["python", "pandas", "interpolation"], "answers": [{"tags": [], "owner": {"reputation": 1167, "user_id": 5990728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d25a73c9e938b901e0a1a4ae3a2fd16?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Wolkowski", "link": "https://stackoverflow.com/users/5990728/kacper-wolkowski"}, "is_accepted": false, "score": 3, "last_activity_date": 1501109915, "creation_date": 1501109915, "answer_id": 45338751, "question_id": 45338657, "link": "https://stackoverflow.com/questions/45338657/pandas-dataframe-interpolate-gives-different-values-for-same-index-date/45338751#45338751", "title": "Pandas Dataframe.Interpolate() gives different values for same index date", "body": "<p>According to documentation:</p>\n\n<blockquote>\n  <p>\u2018linear\u2019: ignore the index and treat the values as equally spaced.\n  default</p>\n</blockquote>\n\n<p>If you want to get the result considering the date you can select method like \"time\" or \"index\"</p>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "is_accepted": true, "score": 1, "last_activity_date": 1501109987, "creation_date": 1501109987, "answer_id": 45338768, "question_id": 45338657, "link": "https://stackoverflow.com/questions/45338657/pandas-dataframe-interpolate-gives-different-values-for-same-index-date/45338768#45338768", "title": "Pandas Dataframe.Interpolate() gives different values for same index date", "body": "<p>The problem is that you may duplicated index values, and so the interpolation method thinks that these are additional steps to do the linear interpolation. So instead of going from 1 to 1.9, it goes 1 --> 1.3 --> 1.6 --> 1.9.</p>\n\n<p>Here is a workaround solution that works by removing the duplicated index entries:</p>\n\n<pre><code>df = pd.read_clipboard()\nuniqDates = df['date_index'].unique()\ndf = df.set_index('date_index')\ndf2 = df.dropna()\ndf2 = df2[-df2.index.duplicated()]\ndf2 = df2.reindex(uniqDates)\ndf2 = df2.interpolate(method='linear', axis=0, limit=None, inplace=False, limit_direction='both', downcast=None)\ninterpDict = df2['value'].to_dict()\ndf['value'] = [interpDict[x] for x in df.index]\n</code></pre>\n\n<p><strong>Alternatively</strong></p>\n\n<p>You could cast the index values to datetime objects, and then use the <code>method='time'</code> interpolation:</p>\n\n<pre><code>df = pd.read_clipboard()\ndf['date_index'] = pd.to_datetime(df['date_index'])\ndf = df.set_index('date_index')\nx = df.interpolate(method='time')\nx.index = [x.strftime('%Y-%m-%d') for x in x.index]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 805, "user_id": 6506482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAPKW.jpg?s=128&g=1", "display_name": "apteryx", "link": "https://stackoverflow.com/users/6506482/apteryx"}, "is_accepted": false, "score": 1, "last_activity_date": 1501110144, "creation_date": 1501110144, "answer_id": 45338793, "question_id": 45338657, "link": "https://stackoverflow.com/questions/45338657/pandas-dataframe-interpolate-gives-different-values-for-same-index-date/45338793#45338793", "title": "Pandas Dataframe.Interpolate() gives different values for same index date", "body": "<p>According to <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.interpolate.html\" rel=\"nofollow noreferrer\">the Series.interpolate() documentation</a>, the <code>method='linear'</code> kwarg means that pandas will ignore the index and assume that the values are an evenly spaced series. I suggest that you turn the index into a DatetimeIndex and pass <code>method='time'</code> to the series.</p>\n\n<pre><code>df.index = pd.to_datetime(df.index)\nx = df.interpolate(method='time', axis=0, limit=None, inplace=False, limit_direction='both', downcast=None)\n</code></pre>\n\n<p><strong>After</strong></p>\n\n<pre><code>            value\ndate_index       \n2013-01-04  1.000\n2013-01-04  1.000\n2013-01-04  1.000\n2013-01-04  1.000\n2013-01-08  3.395\n2013-01-08  3.395\n2013-01-08  3.395\n2013-01-08  3.395\n</code></pre>\n"}], "owner": {"reputation": 2846, "user_id": 4843695, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7220b209029d8066f18cc5dd96392d1?s=128&d=identicon&r=PG&f=1", "display_name": "ctrl-alt-delete", "link": "https://stackoverflow.com/users/4843695/ctrl-alt-delete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "accepted_answer_id": 45338768, "answer_count": 3, "score": 0, "last_activity_date": 1501110144, "creation_date": 1501109242, "question_id": 45338657, "link": "https://stackoverflow.com/questions/45338657/pandas-dataframe-interpolate-gives-different-values-for-same-index-date", "title": "Pandas Dataframe.Interpolate() gives different values for same index date", "body": "<p><strong>Using the DataFrame</strong></p>\n\n<pre><code>date_index  value\n2013-01-01  0.50\n2013-01-01  0.50\n2013-01-01  0.50\n2013-01-01  0.50\n2013-01-02  1.50\n2013-01-02  1.50\n2013-01-02  1.50\n2013-01-02  1.50\n2013-01-03  0.98\n2013-01-03  0.98\n2013-01-03  0.98\n2013-01-03  0.98\n2013-01-04  NaN\n2013-01-04  1.00\n2013-01-04  NaN\n2013-01-04  NaN\n2013-01-05  1.90\n2013-01-05  1.90\n2013-01-05  1.90\n2013-01-05  1.90\n2013-01-06  2.50\n2013-01-06  2.50\n2013-01-06  2.50\n2013-01-06  2.50\n2013-01-07  2.89\n2013-01-07  2.89\n2013-01-07  2.89\n2013-01-07  2.89\n2013-01-08  NaN\n2013-01-08  NaN\n2013-01-08  NaN\n2013-01-08  NaN\n2013-01-09  3.90\n2013-01-09  3.90\n2013-01-09  3.90\n2013-01-09  3.90\n2013-01-10  5.00\n2013-01-10  5.00\n2013-01-10  5.00\n2013-01-10  5.00\n</code></pre>\n\n<p><strong>copy the above to clipboard</strong></p>\n\n<pre><code>import pandas as pd\ndf = pd.read_clipboard()\ndf = df.set_index('date_index')\n</code></pre>\n\n<p><strong>Use Interpolate to fill nan's</strong></p>\n\n<pre><code>x = df.interpolate(method='linear', axis=0, limit=None, inplace=False, limit_direction='both', downcast=None)\n</code></pre>\n\n<p>I would have expected the interpolation to consider the same x point and as such y value should be same for each x.  However this is not the case.</p>\n\n<p><strong>Dates with nan's are 2013-01-04 and 2013-01-08</strong></p>\n\n<p><strong>Before</strong></p>\n\n<pre><code>2013-01-04  NaN\n2013-01-04  1.00\n2013-01-04  NaN\n2013-01-04  NaN\n2013-01-08  NaN\n2013-01-08  NaN \n2013-01-08  NaN\n2013-01-08  NaN\n</code></pre>\n\n<p><strong>After</strong></p>\n\n<pre><code>2013-01-04  0.990\n2013-01-04  1.000\n2013-01-04  1.300\n2013-01-04  1.600\n2013-01-08  3.092\n2013-01-08  3.294\n2013-01-08  3.496 \n2013-01-08  3.698\n</code></pre>\n\n<p><strong>Am I understanding the use of the interpolation correctly? I expected the result of</strong></p>\n\n<pre><code>2013-01-04  1.000\n2013-01-04  1.000\n2013-01-04  1.000\n2013-01-04  1.000\n2013-01-08  3.945\n2013-01-08  3.945\n2013-01-08  3.945 \n2013-01-08  3.945\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 3, "creation_date": 1501109265, "post_id": 45338638, "comment_id": 77639358, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2513479/redirect-prints-to-log-file\">redirect prints to log file</a>"}, {"owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 0, "creation_date": 1501109289, "post_id": 45338638, "comment_id": 77639364, "body": "<code>~$ .&#47;Program.py &gt; output.log</code>?"}, {"owner": {"reputation": 11, "user_id": 8089155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3342f2546c9f78233b3136dbc2db23?s=128&d=identicon&r=PG&f=1", "display_name": "CodersinSpace", "link": "https://stackoverflow.com/users/8089155/codersinspace"}, "reply_to_user": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 0, "creation_date": 1501110995, "post_id": 45338638, "comment_id": 77639800, "body": "@wilusdaman but how to do it within the Program.py file, not in Command Line?"}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1501111614, "post_id": 45338638, "comment_id": 77639965, "body": "@CodersinSpace provide the code that you tried following the example I linked. I&#39;ve tested it and it works fine. I even just tested it on a <code>Thread</code>. <i>Why</i> do you want to do this? Why don&#39;t you just write a function that prints to stdout and logs it to a file?"}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1501111924, "post_id": 45338638, "comment_id": 77640042, "body": "Or just write to the log file and skip using the <code>print</code> function."}, {"owner": {"reputation": 11, "user_id": 8089155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3342f2546c9f78233b3136dbc2db23?s=128&d=identicon&r=PG&f=1", "display_name": "CodersinSpace", "link": "https://stackoverflow.com/users/8089155/codersinspace"}, "reply_to_user": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1501112157, "post_id": 45338638, "comment_id": 77640110, "body": "@CoryMadden the three external files (File1, File2, File3) are not my code, but code that must be executed as a part of my program. One possible option would be to change all the print statements within those files (by the writer), but this is not a great option."}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "edited": false, "score": 0, "creation_date": 1501112303, "post_id": 45338638, "comment_id": 77640148, "body": "Ok, that was not very clear from your question. Yes, the stdout method won&#39;t work that way, it needs to be within the scope of the thread. Since you&#39;re using execfile you could always inject the code at the beginning of the file before starting the threads. That <i>may</i> work. I&#39;m going to test it out now."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8089155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3342f2546c9f78233b3136dbc2db23?s=128&d=identicon&r=PG&f=1", "display_name": "CodersinSpace", "link": "https://stackoverflow.com/users/8089155/codersinspace"}, "edited": false, "score": 0, "creation_date": 1501275957, "post_id": 45339328, "comment_id": 77726168, "body": "This almost worked for me, but didn&#39;t print anything after the <code>exec()</code> call to the file as well (nor before). I actually figured out a simpler solution that&#39;s working well so far."}, {"owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "reply_to_user": {"reputation": 11, "user_id": 8089155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3342f2546c9f78233b3136dbc2db23?s=128&d=identicon&r=PG&f=1", "display_name": "CodersinSpace", "link": "https://stackoverflow.com/users/8089155/codersinspace"}, "edited": false, "score": 0, "creation_date": 1501276775, "post_id": 45339328, "comment_id": 77726448, "body": "@CodersinSpace glad you got it working. I wonder why my version didn&#39;t work for you. I admit it was a bit strange, but it did work for me."}], "tags": [], "owner": {"reputation": 4103, "user_id": 4832296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mqql.jpg?s=128&g=1", "display_name": "Cory Madden", "link": "https://stackoverflow.com/users/4832296/cory-madden"}, "is_accepted": false, "score": 0, "last_activity_date": 1501115167, "last_edit_date": 1501115167, "creation_date": 1501114214, "answer_id": 45339328, "question_id": 45338638, "link": "https://stackoverflow.com/questions/45338638/send-print-commands-to-log-file-when-running-execfile-python/45339328#45339328", "title": "Send print() commands to log file when running execfile() (Python)", "body": "<p>OK, so this was...fun. What I did is I took the print->file method frm <a href=\"https://stackoverflow.com/questions/2513479/redirect-prints-to-log-file\">here</a> and prepended it to the file I want to run.</p>\n\n<p>my_thread.py</p>\n\n<pre><code>import threading\n\ndef prepend_stdout(filename):\n        with open(filename, 'r+') as f:\n            std_out = 'import sys\\nold_stdout = sys.stdout\\nlog_file = open(\"message.log\",\"w\")\\nsys.stdout = log_file\\n'\n            content = f.read()\n            return std_out + content\n\n\nclass MyThread(threading.Thread):\n    def run(self):\n        content = prepend_stdout(\"test.py\")\n        exec(content)\n\n\nMyThread().start()\n</code></pre>\n\n<p>test.py</p>\n\n<pre><code>print(\"whatever, man\")\n</code></pre>\n\n<p>I then ran <code>python my_thread.py</code> and the output in \"message.log\" was</p>\n\n<pre><code>whatever, man\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8089155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3342f2546c9f78233b3136dbc2db23?s=128&d=identicon&r=PG&f=1", "display_name": "CodersinSpace", "link": "https://stackoverflow.com/users/8089155/codersinspace"}, "is_accepted": false, "score": 0, "last_activity_date": 1501275787, "creation_date": 1501275787, "answer_id": 45382378, "question_id": 45338638, "link": "https://stackoverflow.com/questions/45338638/send-print-commands-to-log-file-when-running-execfile-python/45382378#45382378", "title": "Send print() commands to log file when running execfile() (Python)", "body": "<p>I tried the solution posted my Cory Madden, which worked until the <code>exec()</code> call (nothing printed after this, from <code>print()</code> calls within the thread itself). Then I went back to the suggested answer originally given (<a href=\"https://stackoverflow.com/questions/2513479/redirect-prints-to-log-file\">redirect prints to log file</a>) and did a few things differently, solving the problem. By adding the line <code>output_file.flush()</code> after each <code>execfile()</code> statement, the <code>print()</code> commands from within the <code>execfile()</code> scripts now print out to the external log file. Thus:</p>\n\n<pre><code>...\ndef run(self):\n    old_stdout = sys.stdout\n    output_file = open('path/to/file.log', 'w')\n    sys.stdout = output_file\n\n    execfile('File1.py')\n    output_file.flush()\n    execfile('File2.py')\n    output_file.flush()\n    execfile('File3.py')\n    output_file.flush()\n\n    output_file.close()\n    sys.stdout = old_stdout\n</code></pre>\n\n<p>now works for my instance.</p>\n"}], "owner": {"reputation": 11, "user_id": 8089155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc3342f2546c9f78233b3136dbc2db23?s=128&d=identicon&r=PG&f=1", "display_name": "CodersinSpace", "link": "https://stackoverflow.com/users/8089155/codersinspace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1501275787, "creation_date": 1501109139, "last_edit_date": 1501112874, "question_id": 45338638, "link": "https://stackoverflow.com/questions/45338638/send-print-commands-to-log-file-when-running-execfile-python", "title": "Send print() commands to log file when running execfile() (Python)", "body": "<p>I have a program that's running a separate thread, which contains three execfile() statements running external Python scripts. Without changing these scripts, is there a way to have the print() statements within them print their commands out to a log file? From my code below, I need the print commands from within File1, File2, and File3 to go into a log file, without being able to change those files. Is this possible?</p>\n\n<p>Code:</p>\n\n<p>MyThread.py</p>\n\n<pre><code>import threading\n\nclass MyThread(threading.Thread):\n    def run(self):\n        execfile('File1.py')\n        execfile('File2.py')\n        execfile('File3.py')\n</code></pre>\n\n<p>Program.py</p>\n\n<pre><code>from MyThread import *\n\nMyThread().start()\n</code></pre>\n\n<p>I've seen the Q/A posted here (<a href=\"https://stackoverflow.com/questions/2513479/redirect-prints-to-log-file\">redirect prints to log file</a>) and tried this solution, but the print() statements from the external files aren't added to the log file: </p>\n\n<pre><code>import threading, sys\n\nclass MyThread(threading.Thread):\n    def run(self):\n        old_stdout = sys.stdout\n        output_file = open('output.log', 'w')\n        sys.stdout = output_file\n\n        execfile('File1.py')\n        execfile('File2.py')\n        execfile('File3.py')\n\n        sys.stdout = old_stdout\n        output_file.close()\n</code></pre>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501108937, "post_id": 45338559, "comment_id": 77639256, "body": "please fix indentation"}, {"owner": {"reputation": 5288, "user_id": 6277525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cdd8aedc14bc95b56efed36de1dd034?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew L", "link": "https://stackoverflow.com/users/6277525/andrew-l"}, "edited": false, "score": 0, "creation_date": 1501110971, "post_id": 45338559, "comment_id": 77639796, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19068862/how-to-overplot-a-line-on-a-scatter-plot-in-python\">How to overplot a line on a scatter plot in python?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 5, "last_activity_date": 1501112066, "last_edit_date": 1501112066, "creation_date": 1501111022, "answer_id": 45338918, "question_id": 45338559, "link": "https://stackoverflow.com/questions/45338559/keep-order-in-plot-of-pandas-groupby/45338918#45338918", "title": "Keep order in plot of pandas groupby", "body": "<p>The problem is with the <code>groupby</code> which returns the items in sorted order by default.  Just set the flag <code>sort=False</code>.</p>\n\n<pre><code>for (universe, group), ax in zip(df.groupby([df.univ], sort=False), axes.flatten()):\n    group.plot(x='ms', y='cs', kind='scatter', ax=ax, title=universe)\n    ax.set_xlim(0, 1)\n    ax.set_ylim(0, 1)\n</code></pre>\n\n<p>You could also return them in any order you desired.</p>\n\n<pre><code>gb = df.groupby('univ')\ndesired_order = ('B', 'A', 'C')\nfor (universe, group), ax in zip(((u, gb.get_group(u)) for u in desired_order), \n                                 axes.flatten()):\n    ...\n</code></pre>\n\n<p>And btw, you should only have one question per post.</p>\n"}], "owner": {"reputation": 768, "user_id": 2661763, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d8e00378243dc557318243d0dc5a14ca?s=128&d=identicon&r=PG", "display_name": "qfd", "link": "https://stackoverflow.com/users/2661763/qfd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1281, "favorite_count": 1, "accepted_answer_id": 45338918, "answer_count": 1, "score": -1, "last_activity_date": 1501173189, "creation_date": 1501108681, "last_edit_date": 1501173189, "question_id": 45338559, "link": "https://stackoverflow.com/questions/45338559/keep-order-in-plot-of-pandas-groupby", "title": "Keep order in plot of pandas groupby", "body": "<p>I have a dataframe that looks like the below</p>\n\n<pre><code>univ  date            ms      cs\n C    11/01/1977      0.2     0.1\n C    11/02/1977      0.3     0.4\n B    11/01/1977      0.6     -0.1\n B    11/02/1977      0.55    -0.5\n A    11/01/1977      0.23    0.2\n A    11/02/1977      0.12    0.15\n etc\n</code></pre>\n\n<p>This is what I currently have</p>\n\n<pre><code>fig, axes = plt.subplots(1, 3, figsize=(15, 5))\n\nfor (universe, group), ax in zip(df.groupby([df.univ]), axes.flatten()):\n    group.plot(x='ms', y='cs', kind='scatter', ax=ax, title=universe)\n    ax.set_xlim(0, 1)\n    ax.set_ylim(0, 1)\n</code></pre>\n\n<p>This produces 3 scatter plots, with limits from 0 to 1.\nWhat I would like to do is  keep the order of the plots titled as C, B, A, such that it gets ordered by A,B,C.</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8341601, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zFtk0piZJR8/AAAAAAAAAAI/AAAAAAAAAC8/Q-GHcBhG5Yw/photo.jpg?sz=128", "display_name": "TOTAL TRASH", "link": "https://stackoverflow.com/users/8341601/total-trash"}, "edited": false, "score": 0, "creation_date": 1501623240, "post_id": 45339069, "comment_id": 77857211, "body": "Ah. Thanks it helped a whole lot!"}], "tags": [], "owner": {"reputation": 3383, "user_id": 2676500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/697226bd2ba299d2d8509410e8406cb0?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Tiurin", "link": "https://stackoverflow.com/users/2676500/eugene-tiurin"}, "is_accepted": false, "score": 1, "last_activity_date": 1501112282, "creation_date": 1501112282, "answer_id": 45339069, "question_id": 45338516, "link": "https://stackoverflow.com/questions/45338516/trouble-creating-multiple-instances-in-python-pygame/45339069#45339069", "title": "Trouble creating multiple instances in python/pygame", "body": "<p>Your problem seem to be that you move only last enemy:</p>\n\n<p><code>enemy.enmove()</code></p>\n\n<p>You should try iterate your <code>enemies</code> group and move every enemy seperately</p>\n"}], "owner": {"reputation": 15, "user_id": 8341601, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zFtk0piZJR8/AAAAAAAAAAI/AAAAAAAAAC8/Q-GHcBhG5Yw/photo.jpg?sz=128", "display_name": "TOTAL TRASH", "link": "https://stackoverflow.com/users/8341601/total-trash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1501144372, "creation_date": 1501108420, "last_edit_date": 1501144372, "question_id": 45338516, "link": "https://stackoverflow.com/questions/45338516/trouble-creating-multiple-instances-in-python-pygame", "title": "Trouble creating multiple instances in python/pygame", "body": "<p>I've been creating a smup game. The problem is that I have multiple instances of enemies within the game which are supposed to fall from the top of the screen.All of my instances except for one hang at the top of the screen. For some bizarre reason it appears that only one instance of my enemy objects seem to move. I've spent hours trying to fix it to absolutely no avail. I've also browsed a plethora of tutorials on how to create classes, and I can't find anything really wrong with my code. Please help.</p>\n\n<pre><code>import pygame,random,os\nfrom pygame.locals import *\n'initialize pygame'\npygame.init()\n'set variables'\nred = (255,0,0)\ngreen = (0,255,0)\nblue = (0,0,255)\nblack = (0,0,0)\nwhite = (255,255,255)\nwidth = 1280\nheight = 720\n'create window'\nscreen =  pygame.display.set_mode((1280,720))\nclock = pygame.time.Clock()\n'sprite groups'\nall_sprites = pygame.sprite.Group()\nenemies = pygame.sprite.Group()\n'classes'\nclass Player(pygame.sprite.Sprite):\n    def __init__(self):\n        self.x, self.y = pygame.mouse.get_pos()\n        pygame.sprite.Sprite.__init__(self)\n        #self.image = pygame.Surface((32,32))++--3\n        #$self.image.fill((green))\n        self.image = pygame.image.load(\"vehicle.png\")\n        self.image.set_colorkey(white)\n        self.rect = self.image.get_rect()\n        self.rect.center = (width/2,700)\n        self.speed = 0\n    def move(self):\n        self.keypress = pygame.key.get_pressed()\n        if self.keypress[pygame.K_a]:\n            self.speed = 3\n            self.rect.x -= self.speed\n        if self.keypress[pygame.K_d]:\n            self.speed = 3\n            self.rect.x += self.speed\n        #self.rect.x += 1\n        if self.rect.left &gt; width:\n            self.rect.right = 0\n        if self.rect.right &lt; 0:\n            self.rect.left = 1280\nclass Enemy(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.image.load(\"missile.png\")\n        self.rect = self.image.get_rect()\n        self.rect.x = random.randrange(50,width)\n        self.rect.y = random.randrange(-100,-40)\n        self.speedy = random.randrange(1,5)\n    def enmove(self):\n        self.rect.y = self.rect.y + self.speedy\n        if self.rect.top &gt; height:\n            self.rect.x = random.randrange(50,width)\n            self.rect.y = random.randrange(-100,-40) \n            self.speedy = random.randrange(1,5)            \nclass bullet(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.Surface((32,32))\n        self.rect = self.image.get_rect()\n    def bmove(self):\n        pass\n\n\n\n\n\nplayer = Player()\nfor r in range(9):\n    enemy = Enemy()\n    enemies.add(enemy)\n\nwhile True:\n\n    pygame.event.pump()\n    'main loop'   \n    player.move()\n    enemy.enmove()\n    all_sprites.add(player)\n    screen.fill(black)\n    all_sprites.draw(screen)\n    enemies.draw(screen)\n\n    hits = pygame.sprite.spritecollide(player,enemies,False)\n    if hits == True:\n        player.all_sprites.remove(player)\n        print('true')\n    all_sprites.update()\n\n    pygame.display.update()\n    print(hits)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list", "loops"], "comments": [{"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1501108439, "post_id": 45338507, "comment_id": 77639094, "body": "Your question does not give much info as is. Give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1501108469, "post_id": 45338507, "comment_id": 77639107, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1501108540, "post_id": 45338507, "comment_id": 77639128, "body": "Assigning back to <code>a</code> in the first loop won&#39;t alter the list references."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1501108566, "post_id": 45338507, "comment_id": 77639137, "body": "Also, <code>a.startswith(&#39;www&#39;)</code> is a better method of testing if a string starts with specific characters."}], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "edited": false, "score": 0, "creation_date": 1501108675, "post_id": 45338537, "comment_id": 77639170, "body": "Think you need: <code>else links[i] = &#39;https:&#47;&#47;www.&#39; + a</code> since he wants to use all the links in the list, just that some start with &#39;www.&#39; and others do not"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "edited": false, "score": 0, "creation_date": 1501108753, "post_id": 45338537, "comment_id": 77639195, "body": "@nanojohn Well spotted. Thanks."}, {"owner": {"reputation": 45, "user_id": 8291387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cae27bfc32e3ace69e9d680c2610692?s=128&d=identicon&r=PG&f=1", "display_name": "oToMaTiX", "link": "https://stackoverflow.com/users/8291387/otomatix"}, "edited": false, "score": 0, "creation_date": 1501109163, "post_id": 45338537, "comment_id": 77639331, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 i would, but it says reputation is too low"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 8, "last_activity_date": 1501108743, "last_edit_date": 1501108743, "creation_date": 1501108580, "answer_id": 45338537, "question_id": 45338507, "link": "https://stackoverflow.com/questions/45338507/how-to-remove-part-of-item-and-replace-list-elements-in-loop/45338537#45338537", "title": "How to remove part of item and replace list elements in loop?", "body": "<p>What you are doing is modifying the loop variable. This does not affect the list at all. If you want to modify the elements in place, I recommend using <code>enumerate</code>, and then accessing the list items though their indices:</p>\n\n<pre><code>for i, a in enumerate(links):\n    prefix = 'https://' if a.startswith('www') else 'https://www.'\n    links[i] = prefix + a\n</code></pre>\n\n<p>After processing, this is what <code>links</code> has:</p>\n\n<pre><code>https://www.newarklongtermparking.com\nhttps://www.airportparkingreservations.com\nhttps://www.airparkparking.com\nhttps://www.jfklongtermparking.com\nhttps://www.book2park.com\nhttps://www.globalairportparking.com\nhttps://www.neworleansparking.com\nhttps://www.parkwayparking.com\nhttps://www.airportparkinginc.com\nhttps://www.airportparkfly.com\nhttps://www.unitedairportparking.com\nhttps://www.way.com\nhttps://www.cheapairportparking.org\nhttps://www.wallypark.com\nhttps://www.parkbytheports.com\nhttps://www.cheapparkfly.com\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8291387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cae27bfc32e3ace69e9d680c2610692?s=128&d=identicon&r=PG&f=1", "display_name": "oToMaTiX", "link": "https://stackoverflow.com/users/8291387/otomatix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 45338537, "answer_count": 1, "score": 1, "last_activity_date": 1525191436, "creation_date": 1501108350, "last_edit_date": 1525191436, "question_id": 45338507, "link": "https://stackoverflow.com/questions/45338507/how-to-remove-part-of-item-and-replace-list-elements-in-loop", "title": "How to remove part of item and replace list elements in loop?", "body": "<p>What am I doing wrong and these two loops are not working?\nlinks is a list.</p>\n\n<pre><code>links = ['newarklongtermparking.com',\n 'www.airportparkingreservations.com',\n 'airparkparking.com',\n 'jfklongtermparking.com',\n 'book2park.com',\n 'globalairportparking.com',\n 'neworleansparking.com',\n 'parkwayparking.com',\n 'www.airportparkinginc.com',\n 'airportparkfly.com',\n 'unitedairportparking.com',\n 'www.way.com',\n 'cheapairportparking.org',\n 'wallypark.com',\n 'parkbytheports.com',\n 'www.cheapparkfly.com']\n</code></pre>\n\n<h1>removing www.</h1>\n\n<pre><code>for a in links:\n    if (a[0] == a[1] == a[2] == 'w'):\n        a = a[4:]\n</code></pre>\n\n<h1>adding right form of links</h1>\n\n<pre><code>for a in links:\n    a = 'https://www.' + a\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501108291, "post_id": 45338404, "comment_id": 77639050, "body": "<i>where A is the family, the first 2 numbers are the people compared, the 3rd and 4th numbers are trait1 such as the measurements for each person, and the final numbers are trait2 such as the BMI values for each person.</i>  Could you elaborate on what this means? so 3rd value belongs to the first person and 4th belongs to the second person? or are they some diffs?"}, {"owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501108612, "post_id": 45338404, "comment_id": 77639152, "body": "@SrinivasSuresh Definetely! Sorry it&#39;s a little confusing! so I am trying to compare each relative in the family and their traits to each of their relatives traits. So in the desired output, the columns starting with the two 7&#39;s and on are traits where each trait has two numbers(one for each person)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501108750, "post_id": 45338404, "comment_id": 77639194, "body": "@H.Minear what? Is it too much trouble to ask for specific inputs with specific outputs? Just using <code>trait</code> is <i>not helpful at all</i>."}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501108952, "post_id": 45338404, "comment_id": 77639260, "body": "So the desired output needs to looks something like <code>A P1 P2 Trait1-P1 Trait1-P2 Trait2-P1 Trait2-P2</code> ?"}, {"owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501109503, "post_id": 45338404, "comment_id": 77639433, "body": "@SrinivasSuresh Exactly!!!!!"}, {"owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501109553, "post_id": 45338404, "comment_id": 77639449, "body": "@SrinivasSuresh If you can offer any advice or sample code you would be the best person ever because I am really stuck! Thank you!"}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501109869, "post_id": 45338404, "comment_id": 77639533, "body": "do you prefer an answer that neccesarily uses pandas or did you just use dataframe because its easy to read the csv that way  ?"}, {"owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501109952, "post_id": 45338404, "comment_id": 77639552, "body": "@SrinivasSuresh I just used it because it is easier to read-I am open to any answer!"}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501110197, "post_id": 45338404, "comment_id": 77639621, "body": "Ok, I&#39;d suggest just reading the file in one go with read lines, splitting each line with spaces and then grouping them by family. I&#39;m writing a snippet and testing it. which i will post in a few minutes"}, {"owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "reply_to_user": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "edited": false, "score": 0, "creation_date": 1501110534, "post_id": 45338404, "comment_id": 77639693, "body": "@SrinivasSuresh I cannot thank you enough!"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "edited": false, "score": 0, "creation_date": 1501111638, "post_id": 45338952, "comment_id": 77639971, "body": "Thank you again! No worries-I can edit it as well : ) So to remove the duplicates what function would you recommend?"}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "reply_to_user": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "edited": false, "score": 0, "creation_date": 1501111985, "post_id": 45338952, "comment_id": 77640062, "body": "Well I realized that given your scenario duplicate removal is a bit easier than maintaining a list, so I&#39;ve edited my code to do this"}, {"owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "edited": false, "score": 0, "creation_date": 1501115964, "post_id": 45338952, "comment_id": 77640968, "body": "I was thinking the same thing! THANK YOU FOR EVERYTHING! Have a nice day!"}, {"owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "reply_to_user": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "edited": false, "score": 0, "creation_date": 1501119611, "post_id": 45338952, "comment_id": 77641866, "body": "No worries, you too"}], "tags": [], "owner": {"reputation": 1551, "user_id": 806802, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/5kFde.jpg?s=128&g=1", "display_name": "Srini", "link": "https://stackoverflow.com/users/806802/srini"}, "is_accepted": true, "score": 1, "last_activity_date": 1501111947, "last_edit_date": 1501111947, "creation_date": 1501111345, "answer_id": 45338952, "question_id": 45338404, "link": "https://stackoverflow.com/questions/45338404/rearrange-data-file/45338952#45338952", "title": "Rearrange data file", "body": "<p>Ok, Consider your data was as follows</p>\n\n<pre><code>A 1 7 4 5 6\nA 2 6 5 4 7\nA 3 7 7 5 4\nB 1 7 4 5 6\nB 2 6 5 4 7\nB 3 7 7 5 4\n</code></pre>\n\n<p>Where the first column is the family and the second column is the person_id and all subsequent columns are traits.</p>\n\n<p>Some super dirty and super hastily written code below seems to give you what you want</p>\n\n<pre><code>file_lines = []\nout_list = []\nfinal_out = []\n\ndef read_file():\n    global file_lines\n    with open(\"sample.txt\", 'r') as fd:\n        file_lines = fd.read().splitlines()\n    print file_lines\n\ndef make_output():\n    global file_lines, out_list, final_out\n    out_line = []\n    for line1 in file_lines:\n        for line2 in file_lines:\n            line1c = line1.split(\" \")\n            line2c = line2.split(\" \")\n            if line1c[0] == line2c[0]:\n                if line1c[1] &gt;= line2c[1]:\n                    continue\n                else:\n                    out_list = []\n                    out_list.append(line1c[0])\n                    out_list.append(line1c[1])\n                    out_list.append(line2c[1])\n                    for i in range(2, len(line1c)):\n                        out_list.append(line1c[i])\n                        out_list.append(line2c[i])\n                print \" \".join(out_list)\n\nread_file()\nmake_output()\n</code></pre>\n\n<p>The output of print is </p>\n\n<pre><code>A 1 2 7 6 4 5 5 4 6 7\nA 1 3 7 7 4 7 5 5 6 4\nA 2 1 6 7 5 4 4 5 7 6\nA 2 3 6 7 5 7 4 5 7 4\nA 3 1 7 7 7 4 5 5 4 6\nA 3 2 7 6 7 5 5 4 4 7\nB 1 2 7 6 4 5 5 4 6 7\nB 1 3 7 7 4 7 5 5 6 4\nB 2 1 6 7 5 4 4 5 7 6\nB 2 3 6 7 5 7 4 5 7 4\nB 3 1 7 7 7 4 5 5 4 6\nB 3 2 7 6 7 5 5 4 4 7\n</code></pre>\n\n<p>As you can see In family A person 1 is compared with 2 and 3. 2 is compared with 1 and 3 and 3 is compared with 1 and 2.</p>\n\n<p>Obviously there will be duplication because each person is compared with every other person in the family twice.</p>\n\n<p>It's trivial to remove this by maintaining a list of who has been compared with whom.</p>\n\n<p><strong>P.S:</strong> <em>I know the script is really dirty but I just wanted to illustrate what i've done. Not write production code</em></p>\n\n<p><strong>EDIT:</strong> <em>I wanted to write a slightly more complicated duplicate remover. But since the data is so simple a small modification in the continue criterion solved it. the output after this edit is</em></p>\n\n<pre><code>A 1 2 7 6 4 5 5 4 6 7\nA 1 3 7 7 4 7 5 5 6 4\nA 2 3 6 7 5 7 4 5 7 4\nB 1 2 7 6 4 5 5 4 6 7\nB 1 3 7 7 4 7 5 5 6 4\nB 2 3 6 7 5 7 4 5 7 4\n</code></pre>\n\n<p>which is free of duplicates</p>\n"}], "owner": {"reputation": 87, "user_id": 8166764, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4d458134ffb8e80612c79caba1c4c85a?s=128&d=identicon&r=PG&f=1", "display_name": "H. Minear", "link": "https://stackoverflow.com/users/8166764/h-minear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 45338952, "answer_count": 1, "score": 0, "last_activity_date": 1501111947, "creation_date": 1501107783, "question_id": 45338404, "link": "https://stackoverflow.com/questions/45338404/rearrange-data-file", "title": "Rearrange data file", "body": "<p>I am trying to reorganize a .txt file containing a list of data with traits in the columns and the family on the rows. Basically, I need to write a program that creates rows comparing the people in each family so that the traits persons 1 and 2, 1 and 3, and 2 and 3 are compared. i.e.:</p>\n\n<pre><code>A 1 2 7 8 9 10\nA 1 3 7 9 9 11\netc. \n</code></pre>\n\n<p>where A is the family, the first 2 numbers are the people compared, the 3rd and 4th numbers are trait1 such as the measurements for each person, and the final numbers are trait2 such as the BMI values for each person.</p>\n\n<p>My input is like this:</p>\n\n<pre><code>A 1 trait trait\nA 2 trait trait\nA 3 trait trait\n</code></pre>\n\n<p>I was able to create a data frame using: </p>\n\n<pre><code>data = pandas.read_csv('family.txt.', sep=\" \", header = None)\nprint(data)\n</code></pre>\n\n<p>I cannot seem to figure out an efficient way to concatenate the data into the rows needed above. Any help is greatly appreciated!\nThank you</p>\n"}, {"tags": ["python", "sql-server", "iis", "applicationpoolidentity"], "owner": {"reputation": 21, "user_id": 8372699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b5895c9d53a296ded0cac8b24aff2e3?s=128&d=identicon&r=PG&f=1", "display_name": "user12121989", "link": "https://stackoverflow.com/users/8372699/user12121989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 472, "favorite_count": 3, "answer_count": 0, "score": 2, "last_activity_date": 1501115732, "creation_date": 1501107643, "last_edit_date": 1501115732, "question_id": 45338383, "link": "https://stackoverflow.com/questions/45338383/python-flask-pyodbc-user-as-the-actual-user-and-not-iis-super-user", "title": "Python Flask - Pyodbc User as the actual user and not IIS Super User", "body": "<p>We have a <strong>Python Flask</strong> app hosted on <strong>IIS 8</strong> with <strong>Windows Authentication</strong> is turned on.</p>\n\n<p>The <strong>ApplicationPool</strong> for this IIS app has <strong>Identity</strong> set to a <strong>Custom Account</strong>. Let's say for example,</p>\n\n<pre><code>super_usr\n</code></pre>\n\n<p>This account has <strong>SQL Authorization</strong> for the <strong>SQL Server</strong> Databases it is going to access.</p>\n\n<p>Let's say a certain <strong>Local User</strong> is trying to access the Flask application.</p>\n\n<pre><code>local_usr\n</code></pre>\n\n<p>The Flask app is able to get the local user's name using </p>\n\n<pre><code>request.environ['REMOTE_USER']\n</code></pre>\n\n<p>The way PyODBC is used to connect to the database is it uses </p>\n\n<pre><code>TrustedConnection=yes \n</code></pre>\n\n<p>as a part of the SQL Connection String.</p>\n\n<pre><code>DRIVER={SQL Server};SERVER=XYZ;PORT=123;Trusted_Connection=yes;\n</code></pre>\n\n<p>So PyODBC opens the connection under the context of the <strong>super_usr</strong> and <strong><em>NOT</em></strong> the <strong>local_usr</strong> as IIS has <strong>super_usr</strong> running the Server.</p>\n\n<p>Now we are looking for a way so that PyODBC opens connection as the <strong>local_usr</strong>. We don't want to ask the <strong>local_usr</strong> for their <strong>password</strong> and keep the <strong>Windows Authentication</strong> on.</p>\n\n<p>This is for the purpose of having SQL Authorization for the Windows Authenticated User [<strong>local_usr</strong>] and not the Account running on IIS Application Pool [<strong>super_usr</strong>].</p>\n\n<p>Is there a way in IIS when the SQL Server are not on the Same Box to authorize the authenticated user instead of passing a certain account to the Application Pool Identity?</p>\n\n<p>Has anyone faced this problem before? And if yes, what's the ideal way to get around this?</p>\n\n<p>Thanks in Advance.</p>\n"}, {"tags": ["python", "binary", "hex", "binaryfiles", "hex-file"], "comments": [{"owner": {"reputation": 583, "user_id": 2796082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893dc5352285592b8a564c2215851d42?s=128&d=identicon&r=PG&f=1", "display_name": "youngmit", "link": "https://stackoverflow.com/users/2796082/youngmit"}, "edited": false, "score": 0, "creation_date": 1501108077, "post_id": 45338280, "comment_id": 77638971, "body": "Are you using Python 2 or 3? There are some slight differences."}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501109783, "post_id": 45338280, "comment_id": 77639512, "body": "check <a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">this</a> out for why you think you&#39;re &quot;missing&quot; data, because you aren&#39;t missing any from what I can tell"}, {"owner": {"reputation": 219, "user_id": 4890090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a2ac44d92ed0f1ec21fbfdd7f2c8b33?s=128&d=identicon&r=PG&f=1", "display_name": "shjnlee", "link": "https://stackoverflow.com/users/4890090/shjnlee"}, "reply_to_user": {"reputation": 583, "user_id": 2796082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893dc5352285592b8a564c2215851d42?s=128&d=identicon&r=PG&f=1", "display_name": "youngmit", "link": "https://stackoverflow.com/users/2796082/youngmit"}, "edited": false, "score": 0, "creation_date": 1501109855, "post_id": 45338280, "comment_id": 77639527, "body": "@youngmit I&#39;m using python 3."}, {"owner": {"reputation": 219, "user_id": 4890090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a2ac44d92ed0f1ec21fbfdd7f2c8b33?s=128&d=identicon&r=PG&f=1", "display_name": "shjnlee", "link": "https://stackoverflow.com/users/4890090/shjnlee"}, "reply_to_user": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501109976, "post_id": 45338280, "comment_id": 77639557, "body": "@jacoblaw I still don&#39;t get it... Is there any way in python to print all the data, but in type of int?"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 4890090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a2ac44d92ed0f1ec21fbfdd7f2c8b33?s=128&d=identicon&r=PG&f=1", "display_name": "shjnlee", "link": "https://stackoverflow.com/users/4890090/shjnlee"}, "edited": false, "score": 0, "creation_date": 1501109729, "post_id": 45338425, "comment_id": 77639496, "body": "I tried your code, and the data after unpack are not valid (i.e. 538976288, 538976258,...)."}], "tags": [], "owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "is_accepted": false, "score": 0, "last_activity_date": 1501107860, "creation_date": 1501107860, "answer_id": 45338425, "question_id": 45338280, "link": "https://stackoverflow.com/questions/45338280/read-binary-file-of-logging-data-and-output-to-new-file-with-int-python/45338425#45338425", "title": "Read binary file of logging data and output to new file with int (python)", "body": "<p>You could perhaps do it with</p>\n\n<pre><code>for i in range(0, len(data), 4)\n    d = struct.unpack('I', data[i:i+4])\n    print(d)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 219, "user_id": 4890090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a2ac44d92ed0f1ec21fbfdd7f2c8b33?s=128&d=identicon&r=PG&f=1", "display_name": "shjnlee", "link": "https://stackoverflow.com/users/4890090/shjnlee"}, "edited": false, "score": 0, "creation_date": 1501110050, "post_id": 45338589, "comment_id": 77639576, "body": "There may be something not right with the conversion int(byte_data). I put a try block cause it complains some exception and print the num_list, but it&#39;s empty."}], "tags": [], "owner": {"reputation": 171, "user_id": 4971152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a1d106810da63f396ea77894e7b8618?s=128&d=identicon&r=PG&f=1", "display_name": "shiv", "link": "https://stackoverflow.com/users/4971152/shiv"}, "is_accepted": false, "score": 0, "last_activity_date": 1501108856, "creation_date": 1501108856, "answer_id": 45338589, "question_id": 45338280, "link": "https://stackoverflow.com/questions/45338280/read-binary-file-of-logging-data-and-output-to-new-file-with-int-python/45338589#45338589", "title": "Read binary file of logging data and output to new file with int (python)", "body": "<p>If it's just uint32_t numbers packed into a binary file, I think you can use the <code>read()</code> function on the file</p>\n\n<pre><code>num_list = []\nwith open(\"INPUT1.TXT\", \"rb\") as binary_file:\n    byte_data = 0x1 # Initial placeholder for the loop\n    while byte_data:  \n        byte_data = binary_file.read(4) # 4 being the number of bytes to read at a time\n        num_list.append(int(byte_data))\n#  Do something with num_list\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 219, "user_id": 4890090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a2ac44d92ed0f1ec21fbfdd7f2c8b33?s=128&d=identicon&r=PG&f=1", "display_name": "shjnlee", "link": "https://stackoverflow.com/users/4890090/shjnlee"}, "edited": false, "score": 0, "creation_date": 1501110677, "post_id": 45338792, "comment_id": 77639728, "body": "Thank you for your answer. But, I got a very similar result with Gribouillis answer. The nums give me a really big number (invalid) [538976288, 18882592, 35659808, 52437024, 69214240, 85991456, 102768672, 119545888, 136323104, 153100320, 169877536,...]. Do you know why?"}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "reply_to_user": {"reputation": 219, "user_id": 4890090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a2ac44d92ed0f1ec21fbfdd7f2c8b33?s=128&d=identicon&r=PG&f=1", "display_name": "shjnlee", "link": "https://stackoverflow.com/users/4890090/shjnlee"}, "edited": false, "score": 0, "creation_date": 1501110710, "post_id": 45338792, "comment_id": 77639737, "body": "@shjnlee Hey i just updated it, should work with the edit"}], "tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": true, "score": 3, "last_activity_date": 1501111950, "last_edit_date": 1501111950, "creation_date": 1501110135, "answer_id": 45338792, "question_id": 45338280, "link": "https://stackoverflow.com/questions/45338280/read-binary-file-of-logging-data-and-output-to-new-file-with-int-python/45338792#45338792", "title": "Read binary file of logging data and output to new file with int (python)", "body": "<pre><code>nums = []\nwith open(\"INPUT2.TXT\", \"rb\") as file:\n    while byte:\n        byte = file.read(4)\n        nums.append(int.from_bytes(byte, byteorder=\"little\"))\n</code></pre>\n\n<p>This should do it for python 3.</p>\n\n<p>It looks like your bytes are flipped from your example, so I changed byte order to little. if they aren't flipped, then change it back to big.</p>\n\n<p>Another weird thing: it looks like 0x00 is getting turned into b\" \", instead of b\"\\x00\". if that's the case, then do this instead:</p>\n\n<pre><code>nums = []\nwith open(\"INPUT2.TXT\", \"rb\") as file:\n    while byte:\n        byte = file.read(4)\n        nums.append(int.from_bytes(byte.replace(b\" \", b\"\\x00\"), byteorder=\"little\"))\n</code></pre>\n\n<p>Here's an example with what you provided.</p>\n\n<pre><code>&gt;&gt;&gt; test = [b'    ',\nb'\\x01   ',\nb'\\x02   ',\nb'\\x03   ',\nb'\\x04   ',\nb'\\x05   ',\nb'\\x06   ',\nb'\\x07   ',\nb'\\x08   ',\nb'\\t   ',\nb'\\n   ',\nb'\\x0b   ',\nb'\\x0c   ',\nb'\\r   ',\nb'\\x0e   ',\nb'\\x0f   ',\nb'\\x10   ',\nb'\\x11   ',\nb'\\x12   ',\nb'\\x13   ',\nb'\\x14   ',\nb'\\x15   ',\nb'\\x16   ',\nb'\\x17   ',\nb'\\x18   ',\nb'\\x19   ',\nb'\\x1a   ',\nb'\\x1b   ',\nb'\\x1c   ',\nb'\\x1d   ',\nb'\\x1e   ',\nb'\\x1f   ']\n\n&gt;&gt;&gt; for t in test:\n&gt;&gt;&gt;     print(int.from_bytes(t.replace(b\" \", b\"\\x00\"),  byteorder=\"little\"))\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 4890090, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7a2ac44d92ed0f1ec21fbfdd7f2c8b33?s=128&d=identicon&r=PG&f=1", "display_name": "shjnlee", "link": "https://stackoverflow.com/users/4890090/shjnlee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 45338792, "answer_count": 3, "score": 1, "last_activity_date": 1501111950, "creation_date": 1501107097, "last_edit_date": 1501109415, "question_id": 45338280, "link": "https://stackoverflow.com/questions/45338280/read-binary-file-of-logging-data-and-output-to-new-file-with-int-python", "title": "Read binary file of logging data and output to new file with int (python)", "body": "<p>I've been working on an embedded software project that writes sensor data to SD card using FATFS module. The datatype of the data is uint32_t (4 bytes) and the output is binary file.</p>\n\n<p>I'm trying to write a python script to read the binary file (and parse the data to int and write to a new file). My current code,</p>\n\n<pre><code>def read():\nwith open(\"INPUT1.TXT\", \"rb\") as binary_file:\n    # Read the whole file at once\n    data = binary_file.read()\n    print(data)\n</code></pre>\n\n<p>and that gives me a chunk of value in hex,</p>\n\n<pre><code>    b'    \\x01   \\x02   \\x03   \\x04   \\x05   \\x06   \\x07   \\x08   \\t   \\n   \\x0b   \\\nx0c   \\r   \\x0e   \\x0f   \\x10   \\x11   \\x12   \\x13   \\x14   \\x15   \\x16   \\x17\n \\x18   \\x19   \\x1a   \\x1b   \\x1c   \\x1d   \\x1e   \\x1f       \\x01   \\x02   \\x03\n  \\x04   \\x05   \\x06   \\x07   \\x08   \\t   \\n   \\x0b   \\x0c   \\r   \\x0e   \\x0f\n\\x10   \\x11   \\x12   \\x13   \\x14   \\x15   \\x16   \\x17   \\x18   \\x19   \\x1a   \\x1\nb   \\x1c   \\x1d   \\x1e   \\x1f      '\n</code></pre>\n\n<p>When printing each 4 bytes, some numbers are even missing, </p>\n\n<pre><code>f = open(\"INPUT2.TXT\", \"rb\")\ntry:\n    bytes_read = f.read(4)\n    while bytes_read:\n        print(bytes_read)\n        bytes_read = f.read(4)\nfinally:\n    f.close()\n</code></pre>\n\n<p>give result of</p>\n\n<pre><code>b'    '       #supposed to be \\x00\nb'\\x01   '\nb'\\x02   '\nb'\\x03   '\nb'\\x04   '\nb'\\x05   '\nb'\\x06   '\nb'\\x07   '\nb'\\x08   '\nb'\\t   '      #supposed to be \\x09\nb'\\n   '      #supposed to be \\x0a\nb'\\x0b   '\nb'\\x0c   '\nb'\\r   '      #supposed to be \\x0d\nb'\\x0e   '\nb'\\x0f   '\nb'\\x10   '\nb'\\x11   '\nb'\\x12   '\nb'\\x13   '\nb'\\x14   '\nb'\\x15   '\nb'\\x16   '\nb'\\x17   '\nb'\\x18   '\nb'\\x19   '\nb'\\x1a   '\nb'\\x1b   '\nb'\\x1c   '\nb'\\x1d   '\nb'\\x1e   '\nb'\\x1f   '\n</code></pre>\n\n<p>But when I read the binary file in a hex editor, all the binary appears to be correct?!</p>\n\n<p>If I want to read 4 bytes at a time, and write to a new file (in type int), how could I achieve it?</p>\n\n<p>Thanks,</p>\n\n<p>Henry</p>\n"}, {"tags": ["python", "pandas", "dataframe", "iterable"], "answers": [{"comments": [{"owner": {"reputation": 1016, "user_id": 3856624, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b18b401d3a489632aa8eb16cb9eb04cf?s=128&d=identicon&r=PG&f=1", "display_name": "ivan7707", "link": "https://stackoverflow.com/users/3856624/ivan7707"}, "edited": false, "score": 0, "creation_date": 1501108133, "post_id": 45338423, "comment_id": 77638994, "body": "This works, so if there is a down vote, please explain."}, {"owner": {"reputation": 423, "user_id": 8314468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156403101158047/picture?type=large", "display_name": "Rodolfo Orozco", "link": "https://stackoverflow.com/users/8314468/rodolfo-orozco"}, "edited": false, "score": 1, "creation_date": 1501108310, "post_id": 45338423, "comment_id": 77639058, "body": "This worked perfectly (just with a small adjustment in capital letters) . Thanks! @ivan7707"}], "tags": [], "owner": {"reputation": 1016, "user_id": 3856624, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b18b401d3a489632aa8eb16cb9eb04cf?s=128&d=identicon&r=PG&f=1", "display_name": "ivan7707", "link": "https://stackoverflow.com/users/3856624/ivan7707"}, "is_accepted": true, "score": 1, "last_activity_date": 1501107857, "creation_date": 1501107857, "answer_id": 45338423, "question_id": 45338235, "link": "https://stackoverflow.com/questions/45338235/iterating-over-a-dataframe-evaluating-column-values-and-setting-value-to-a-thi/45338423#45338423", "title": "Iterating over a DataFrame, evaluating column values, and setting value to a third column", "body": "<p>Try this:</p>\n\n<pre><code>dfx['group'] = \"\"\ndfx['group'] = np.where((dfx['Gender']=='Female')&amp;(dfx['Age_type']=='Adult'),'A', dfx['group'])\ndfx['group'] = np.where((dfx['Gender']=='Female')&amp;(dfx['Age_type']=='Child'),'B', dfx['group'])\ndfx['group'] = np.where((dfx['Gender']=='Male')&amp;(dfx['Age_type']=='Adult'),'C', dfx['group'])\ndfx['group'] = np.where((dfx['Gender']=='Male')&amp;(dfx['Age_type']=='Child'),'D', dfx['group'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 423, "user_id": 8314468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156403101158047/picture?type=large", "display_name": "Rodolfo Orozco", "link": "https://stackoverflow.com/users/8314468/rodolfo-orozco"}, "edited": false, "score": 0, "creation_date": 1501161909, "post_id": 45338697, "comment_id": 77665467, "body": "@RodolfoOrozco, glad it helps :)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 4, "last_activity_date": 1501109545, "creation_date": 1501109545, "answer_id": 45338697, "question_id": 45338235, "link": "https://stackoverflow.com/questions/45338235/iterating-over-a-dataframe-evaluating-column-values-and-setting-value-to-a-thi/45338697#45338697", "title": "Iterating over a DataFrame, evaluating column values, and setting value to a third column", "body": "<p>How about this?</p>\n\n<pre><code>In [96]: df\nOut[96]:\n  Age_type  Gender\n0    Adult  Female\n1    Adult    Male\n2    Child  Female\n3    Child  Female\n\nIn [97]: m = {'FemaleAdult': 'Group A',\n    ...:  'FemaleChild': 'Group B',\n    ...:  'MaleAdult': 'Group C',\n    ...:  'MaleChild': 'Group D'}\n\nIn [98]: df['group'] = (df.Gender + df.Age_type).map(m)\n\nIn [99]: df\nOut[99]:\n  Age_type  Gender    group\n0    Adult  Female  Group A\n1    Adult    Male  Group C\n2    Child  Female  Group B\n3    Child  Female  Group B\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 8314468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156403101158047/picture?type=large", "display_name": "Rodolfo Orozco", "link": "https://stackoverflow.com/users/8314468/rodolfo-orozco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 1, "accepted_answer_id": 45338423, "answer_count": 2, "score": 3, "last_activity_date": 1501109545, "creation_date": 1501106838, "question_id": 45338235, "link": "https://stackoverflow.com/questions/45338235/iterating-over-a-dataframe-evaluating-column-values-and-setting-value-to-a-thi", "title": "Iterating over a DataFrame, evaluating column values, and setting value to a third column", "body": "<p>I have been trying to iterate through a DataFrame or Apply a function, in order to change the content in a specific column of the DataFrame based on 2 other columns also in the DataFrame.</p>\n\n<p>I have a df like:</p>\n\n<pre><code>df = pd.DataFrame({'Age_type' : pd.Series(['Adult','Adult','Child','Child']),\n     'Gender' : pd.Series(['Female','Male','Female','Female'])\n     })\n\n   Gender  Age_type  Group\n0  Female  Adult\n1  Male    Adult\n2  Female  Child\n3  Female  Child\n</code></pre>\n\n<p>And I want to set a group for each case, with this idea:</p>\n\n<pre><code>if gender == 'Female' and age_type == 'Adult': \n   group = 'Group A'\nelif gender == 'Female' and age_type == 'Child':\n   group = 'Group B'\nelif gender == 'Male' and age_type == 'Adult':\n   group = 'Group C'\nelif gender == 'Male' and age_type == 'Child':\n   group = 'Group D'\n</code></pre>\n\n<p>I have tried to use .apply(function) because as far as I understand, you should never modify a DataFrame while iterating over it (So this would make a for loop not an option \u00bf?).</p>\n\n<p>I have tried:</p>\n\n<pre><code>def set_group(data):\n    gender = data['Gender']\n    age_type = data['Age_type']\n    if gender == 'Female' and age_type == 'Adult': \n       data['Group'] = 'Group A'\n    elif gender == 'Female' and age_type == 'Child':\n       data['Group'] = 'Group B'\n    elif gender == 'Male' and age_type == 'Adult':\n       data['Group'] = 'Group C'\n    elif gender == 'Male' and age_type == 'Child':\n       data['Group'] = 'Group D'\n    return None\n\ndf['Group'].apply(set_group)\n</code></pre>\n\n<p>but I keep getting errors like: \nTypeError: string indices must be integers, not str</p>\n\n<p>Any idea on how to iterate over a DataFrame, read some columns, and based on that, set the value for another column?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1264, "user_id": 3044692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b783d03d1ebb3b35ecb4404d91a4cac0?s=128&d=identicon&r=PG&f=1", "display_name": "omdv", "link": "https://stackoverflow.com/users/3044692/omdv"}, "edited": false, "score": 0, "creation_date": 1501110032, "post_id": 45338226, "comment_id": 77639571, "body": "df.info() does not return any object, it just prints it out. Why don&#39;t you just get <code>count()</code> for every column, then type of every column and number of non-null values? Is this what you are really after?"}], "answers": [{"tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 0, "last_activity_date": 1501171923, "creation_date": 1501171923, "answer_id": 45355994, "question_id": 45338226, "link": "https://stackoverflow.com/questions/45338226/store-multiple-dataframe-info-to-array/45355994#45355994", "title": "store multiple dataframe.info to array", "body": "<p>Since <code>df.info()</code> prints to <code>stdout</code>, you can harvest it by temporally redirecting IO to a <code>StringIO</code> object:</p>\n\n<pre><code>import contextlib\nimport io\n\ndef get_info_middle(df):\n    fobj = io.StringIO()\n    with contextlib.redirect_stdout(fobj) as stdout:\n        df.info()\n    fobj.seek(0)\n    return '\\n'.join(fobj.read().splitlines()[3:-2])\n</code></pre>\n\n<h3>Example</h3>\n\n<pre><code>In [1]: df = pd.DataFrame({'a': [1, 2, 3], 'b': [4, 5, 6]})\n\nIn [2]: df.info()\n&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 3 entries, 0 to 2\nData columns (total 2 columns):\na    3 non-null int64\nb    3 non-null int64\ndtypes: int64(2)\nmemory usage: 128.0 bytes\n\nIn [3]: print(get_info_middle(df))\na    3 non-null int64\nb    3 non-null int64\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 895560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e94325f67c6ea903a2c6bb3b415d38?s=128&d=identicon&r=PG", "display_name": "sujinge9", "link": "https://stackoverflow.com/users/895560/sujinge9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501172301, "creation_date": 1501106773, "last_edit_date": 1501172301, "question_id": 45338226, "link": "https://stackoverflow.com/questions/45338226/store-multiple-dataframe-info-to-array", "title": "store multiple dataframe.info to array", "body": "<p>I would like to combine the information from dataframe.info from a couple of dataframes into one table to be exported. </p>\n\n<p>I think the best way to do this is to pull df1.info into an array and then do some cutting so only the column and count info remains. </p>\n\n<p>Here is roughly what I want to do in code:</p>\n\n<pre><code>import pandas as pd\nfiles=[\"file1\", \"file2\"]\nfor filename in files:\n    df= pd.read_csv(filename)\n    info=df.info()\n    *convert info to info[]*\n    *cut first 3 rows and last 2 rows*\n    output=output.extend(info) \n</code></pre>\n\n<p>Let me know if anything is unclear. Thanks! </p>\n"}, {"tags": ["python", "hadoop", "hdfs"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1506000508, "post_id": 45338212, "comment_id": 79650511, "body": "Snakebite doesn&#39;t write to hdfs. <a href=\"https://github.com/spotify/snakebite/issues/227\" rel=\"nofollow noreferrer\">github.com/spotify/snakebite/issues/227</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7999, "user_id": 3121703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/800b7f57322266f268458c067912a932?s=128&d=identicon&r=PG&f=1", "display_name": "Nachiket Kate", "link": "https://stackoverflow.com/users/3121703/nachiket-kate"}, "edited": false, "score": 1, "creation_date": 1515650005, "post_id": 46345061, "comment_id": 83382120, "body": "how to write it model to hdfs from python script and not jupyter notebook?"}, {"owner": {"reputation": 123, "user_id": 9427537, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-_NHRbY8BEVY/AAAAAAAAAAI/AAAAAAAAAAc/SkRLcIXCAos/photo.jpg?sz=128", "display_name": "sangeetha sivakumar", "link": "https://stackoverflow.com/users/9427537/sangeetha-sivakumar"}, "edited": false, "score": 0, "creation_date": 1524216028, "post_id": 46345061, "comment_id": 86892058, "body": "how to write python script for dumping a model using pickle to hdfs"}], "tags": [], "owner": {"reputation": 1177, "user_id": 351204, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/4dB95.jpg?s=128&g=1", "display_name": "Pouya Yousefi", "link": "https://stackoverflow.com/users/351204/pouya-yousefi"}, "is_accepted": false, "score": 1, "last_activity_date": 1506000004, "creation_date": 1506000004, "answer_id": 46345061, "question_id": 45338212, "link": "https://stackoverflow.com/questions/45338212/how-to-dump-a-file-to-a-hadoop-hdfs-directory-using-python-pickle/46345061#46345061", "title": "How to dump a file to a Hadoop HDFS directory using Python pickle?", "body": "<p>Here is a work around if you are running in a Jupyter notebook with sufficient permissions:</p>\n\n<pre><code>import pickle\n\nmy_obj = MyClass() # the class instance that I want to pickle\nlocal_filename = \"pickle.p\"\nhdfs_loc = \"//domain.example.com/path/to/directory/\"\nwith open(local_filename, 'wb') as f:\n    pickle.dump(my_obj, f)\n!!hdfs dfs -copyFromLocal $local_filename  $hdfs_loc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3271, "user_id": 8900683, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e21b1c869eba517481a0476a59bb7ca?s=128&d=identicon&r=PG&f=1", "display_name": "Rene B.", "link": "https://stackoverflow.com/users/8900683/rene-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1613317657, "last_edit_date": 1613317657, "creation_date": 1613315775, "answer_id": 66196828, "question_id": 45338212, "link": "https://stackoverflow.com/questions/45338212/how-to-dump-a-file-to-a-hadoop-hdfs-directory-using-python-pickle/66196828#66196828", "title": "How to dump a file to a Hadoop HDFS directory using Python pickle?", "body": "<p>If you use PySpark, then you can use the <strong>saveAsPickleFile</strong> method:</p>\n<pre><code>temp_rdd = sc.parallelize(my_obj)\ntemp_rdd.coalesce(1).saveAsPickleFile(&quot;/test/tmp/data/destination.pickle&quot;)\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8228711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d85ea6b8094e6b1036e40caccf73b9d?s=128&d=identicon&r=PG&f=1", "display_name": "J. Appleseed", "link": "https://stackoverflow.com/users/8228711/j-appleseed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2962, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1613317657, "creation_date": 1501106723, "question_id": 45338212, "link": "https://stackoverflow.com/questions/45338212/how-to-dump-a-file-to-a-hadoop-hdfs-directory-using-python-pickle", "title": "How to dump a file to a Hadoop HDFS directory using Python pickle?", "body": "<p>I am on a VM in a directory that contains my Python (2.7) class. I am trying to pickle an instance of my class to a directory in my HDFS.</p>\n\n<p>I'm trying to do something along the lines of:</p>\n\n<pre><code>import pickle\n\nmy_obj = MyClass() # the class instance that I want to pickle\n\nwith open('hdfs://domain.example.com/path/to/directory/') as hdfs_loc:\n    pickle.dump(my_obj, hdfs_loc)\n</code></pre>\n\n<p>From what research I've done, I think something like <a href=\"https://github.com/spotify/snakebite\" rel=\"nofollow noreferrer\">snakebite</a> might be able to help...but does anyone have more concrete suggestions?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "filter", "integer"], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 12, "last_activity_date": 1501106930, "creation_date": 1501106930, "answer_id": 45338255, "question_id": 45338209, "link": "https://stackoverflow.com/questions/45338209/filtering-string-float-integer-values-in-pandas-dataframe-columns/45338255#45338255", "title": "Filtering string/float/integer values in pandas dataframe columns", "body": "<p>You can use the outputs from <code>pd.to_numeric</code> and boolean indexing.</p>\n\n<p>To get only the strings use:</p>\n\n<pre><code>df[pd.to_numeric(df.SIC, errors='coerce').isnull()]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>      SIC\n5   shine\n6     add\n8     Nan\n9  string\n</code></pre>\n\n<p>To get only the numbers use:</p>\n\n<pre><code>df[pd.to_numeric(df.SIC, errors='coerce').notnull()]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>        SIC\n1    246804\n2    135272\n3    898.01\n4   3453.33\n7       522\n10    29.11\n11       20\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "is_accepted": false, "score": -1, "last_activity_date": 1501106968, "creation_date": 1501106968, "answer_id": 45338258, "question_id": 45338209, "link": "https://stackoverflow.com/questions/45338209/filtering-string-float-integer-values-in-pandas-dataframe-columns/45338258#45338258", "title": "Filtering string/float/integer values in pandas dataframe columns", "body": "<p>You can use the <code>apply()</code> method along with the <code>isinstance()</code> function. Can replace <code>str</code> with <code>int</code>, <code>float</code>, etc:</p>\n\n<pre><code>df = pd.DataFrame([1,2,4.5,np.NAN,'asdf',5,'string'],columns=['SIC'])\nprint(df)\n      SIC\n0       1\n1       2\n2     4.5\n3     NaN\n4    asdf\n5       5\n6  string\n\nprint(df[df['SIC'].apply(lambda x: isinstance(x,str))])\n      SIC\n4    asdf\n6  string\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 7170857, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e7d80663520879d41d20dfec30986fbd?s=128&d=identicon&r=PG&f=1", "display_name": "MMM", "link": "https://stackoverflow.com/users/7170857/mmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10961, "favorite_count": 0, "accepted_answer_id": 45338255, "answer_count": 2, "score": 6, "last_activity_date": 1608587342, "creation_date": 1501106709, "last_edit_date": 1608587342, "question_id": 45338209, "link": "https://stackoverflow.com/questions/45338209/filtering-string-float-integer-values-in-pandas-dataframe-columns", "title": "Filtering string/float/integer values in pandas dataframe columns", "body": "<p>How can I filter only string values/ integer/ float values in one column  (<code>SIC</code>) in a pandas data frame like below?</p>\n<pre><code>                         SIC\n1                      246804\n2                      135272\n3                      898.01\n4                     3453.33\n5                       shine  \n6                        add\n7                         522\n8                         Nan\n9                      string\n10                      29.11\n11                        20    \n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 5, "creation_date": 1501106476, "post_id": 45338143, "comment_id": 77638297, "body": "The two are the same. The only difference is <i>how</i> numpy and Python repesent floating points."}, {"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1501107057, "post_id": 45338143, "comment_id": 77638561, "body": "yes, but why when i do covariance[0,1] I am getting 2.39329295e-05 and can not get 1.05846999e-04 with covariance[1,1]?"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1501107303, "post_id": 45338143, "comment_id": 77638657, "body": "Because Python will use scientific notation when the value is less than 1e-4. It is rather ugly to write 0.000000000011231211414."}, {"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1501107558, "post_id": 45338143, "comment_id": 77638764, "body": "You probably did not get the question, Jupiter gets me the correct answer and Python in terminal is not, when i perform calculations i need to do apples with apples, can you get me a solution?"}, {"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1501107606, "post_id": 45338143, "comment_id": 77638780, "body": "Because I am getting the wrong answer for Beta beta = covariance[0,1]/covariance[1,1]"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1501107610, "post_id": 45338143, "comment_id": 77638781, "body": "both are floating points. It is only the Python interpreter that uses a slighly different <b>representation</b> of floats than Jupyter."}, {"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1501107688, "post_id": 45338143, "comment_id": 77638813, "body": "I got that, but the answer in formula is affected by that representation"}, {"owner": {"reputation": 18304, "user_id": 386327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/88dd3d41d6c5d9e00c1e0a957ffaea9e?s=128&d=identicon&r=PG", "display_name": "SiggyF", "link": "https://stackoverflow.com/users/386327/siggyf"}, "edited": false, "score": 1, "creation_date": 1501108236, "post_id": 45338143, "comment_id": 77639025, "body": "If the problem is that you get different results, you might want to make a simple reproducible example where you show how to get different results. The above example does not allow me to paste the code and confirm your &quot;wrong&quot; answer."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501108988, "post_id": 45338143, "comment_id": 77639276, "body": "@ArtYudin is it affected? How do you know? What are the different results you are getting?"}, {"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "edited": false, "score": 0, "creation_date": 1501109146, "post_id": 45338143, "comment_id": 77639324, "body": "Jupiter returns 1.219811444283643 vs 0.2261087209244577"}, {"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "edited": false, "score": 0, "creation_date": 1501109223, "post_id": 45338143, "comment_id": 77639347, "body": "So how do I perform calculations between scientific and floats, although covariance.dtype returns floats64"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501109286, "post_id": 45338143, "comment_id": 77639363, "body": "&quot;scientific&quot; is not a data type. It is simply the <i>way a float is being printed to the screen</i>. This is almost <i>certainly</i> not the source of the discrepancy. Again, it would be great if you could provide a reproducible example, or, at least an example of your jupyter output vs your terminal output."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501109528, "post_id": 45338143, "comment_id": 77639441, "body": "@ArtYudin Also, are you sure you aren&#39;t doing <code>covariance[1,0] &#47; covariance[0,0]</code> accidentally? That would explain the result of <code>1.219811444283643</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "edited": false, "score": 0, "creation_date": 1501107035, "post_id": 45338167, "comment_id": 77638548, "body": "yes, but why when i do covariance[0,1] I am getting 2.39329295e-05   and can not get 1.05846999e-04 with covariance[1,1]?"}], "tags": [], "owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "is_accepted": false, "score": 2, "last_activity_date": 1501106626, "last_edit_date": 1501106626, "creation_date": 1501106517, "answer_id": 45338167, "question_id": 45338143, "link": "https://stackoverflow.com/questions/45338143/numpy-changes-the-value-when-slicing/45338167#45338167", "title": "NumPy changes the value when slicing", "body": "<p><code>0.000105846998912</code> is equal to <code>1.05846999e-04</code>. </p>\n\n<p>One is scientific notation and the other isn't.</p>\n"}, {"comments": [{"owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "edited": false, "score": 0, "creation_date": 1501108475, "post_id": 45338355, "comment_id": 77639110, "body": "Checked, float64, problem not with printing, problem with the formula where the same array yields different results with the same syntax beta = covariance[0,1]/covariance[1,1]"}], "tags": [], "owner": {"reputation": 18304, "user_id": 386327, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/88dd3d41d6c5d9e00c1e0a957ffaea9e?s=128&d=identicon&r=PG", "display_name": "SiggyF", "link": "https://stackoverflow.com/users/386327/siggyf"}, "is_accepted": false, "score": 1, "last_activity_date": 1501110309, "last_edit_date": 1501110309, "creation_date": 1501107498, "answer_id": 45338355, "question_id": 45338143, "link": "https://stackoverflow.com/questions/45338143/numpy-changes-the-value-when-slicing/45338355#45338355", "title": "NumPy changes the value when slicing", "body": "<p>Most of the \"floating point\" are wrong questions relate to the difference between the formatting and internal representation of a floating point. The computer can't represent the \"formatted\" floating point exactly. </p>\n\n<p>Things to be aware of are what kind of floating point am I using, for example here you could check if you are using a <a href=\"https://docs.scipy.org/doc/numpy/user/basics.types.html\" rel=\"nofollow noreferrer\">float32</a> or <code>float64</code> type array. You can check this by typing:</p>\n\n<pre><code>covariance.dtype\n</code></pre>\n\n<p>You can set the details of how values are printed using the <code>set_printoptions</code> <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.set_printoptions.html\" rel=\"nofollow noreferrer\">function</a> from numpy. Also make sure you are aware of how floating point values are <a href=\"https://docs.python.org/3/tutorial/floatingpoint.html#floating-point-arithmetic-issues-and-limitations\" rel=\"nofollow noreferrer\">printed</a>, in different python versions. </p>\n\n<p>This is what you would call a \"reproducible\" example:</p>\n\n<pre><code>import numpy as np\ncovariance = np.array(\n    [\n        [1.96330748e-05, 2.39329295e-05],\n        [2.39329295e-05, 1.05846999e-04]\n    ],\n    dtype=\"double\"\n)\nprint(covariance[1, 1])\nprint(repr(covariance[1, 1]))\nprint(\"{:.20f}\".format(covariance[1, 1]))\n\nbeta = covariance[0, 1] / covariance[1, 1]\nprint(\"{:.20f}\".format(beta))\n\n# this generates the \"wrong\" answer you mention in the comments under your answer.\nwrong_beta = covariance[0, 1] / covariance[0, 0]\nprint(\"{:.20f}\".format(wrong_beta))\n</code></pre>\n\n<p>If I run it under jupyter with python3.5 I get:</p>\n\n<pre><code>0.000105846999\n0.000105846999\n0.00010584699900000000\n0.22610872038044271815\n1.21901076340828695699\n</code></pre>\n\n<p>If I run it under python console I get the same answer. </p>\n"}], "owner": {"reputation": 7, "user_id": 7965571, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/166175567244452/picture?type=large", "display_name": "Art Yudin", "link": "https://stackoverflow.com/users/7965571/art-yudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1501110309, "creation_date": 1501106401, "question_id": 45338143, "link": "https://stackoverflow.com/questions/45338143/numpy-changes-the-value-when-slicing", "title": "NumPy changes the value when slicing", "body": "<p>I am using simple formula</p>\n\n<pre><code>beta = covariance[0,1]/covariance[1,1]\n</code></pre>\n\n<p>where covariance is </p>\n\n<pre><code>[[  1.96330748e-05   2.39329295e-05]\n [  2.39329295e-05   1.05846999e-04]]\n</code></pre>\n\n<p>when I print</p>\n\n<pre><code>covariance[1,1]\n</code></pre>\n\n<p>NumPy returns 0.000105846998912 instead of 1.05846999e-04, changing the value of original item in array, and i am experiencing this problem only when I run this covariance[1,1] statement in my terminal. If I run the same stuff in Jupiter it works just fine. Can you help me?</p>\n"}, {"tags": ["python", "c++", "eclipse", "eclipse-plugin"], "answers": [{"tags": [], "owner": {"reputation": 1291, "user_id": 6813490, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/suHzE.jpg?s=128&g=1", "display_name": "Zach Valenta", "link": "https://stackoverflow.com/users/6813490/zach-valenta"}, "is_accepted": false, "score": 0, "last_activity_date": 1501113845, "creation_date": 1501113845, "answer_id": 45339276, "question_id": 45338139, "link": "https://stackoverflow.com/questions/45338139/how-do-you-add-the-python-h-libraries-to-eclipse-for-use-in-a-c-program/45339276#45339276", "title": "How do you add the Python.h libraries to eclipse for use in a C++ program?", "body": "<p>You'll need to</p>\n\n<ul>\n<li>install the PyDev plug-in</li>\n<li>edit the project properties<a href=\"https://cloud.google.com/appengine/docs/standard/python/tools/setting-up-eclipse\" rel=\"nofollow noreferrer\"> [link]</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "edited": false, "score": 1, "creation_date": 1501129656, "post_id": 45339451, "comment_id": 77644303, "body": "I followed your steps, and PyDev now appears installed in <code>Windows-&gt;Preferences</code>, but the error messages still persist. Am I missing anything? PyDev appears in the list on the left side. Thanks"}, {"owner": {"reputation": 105, "user_id": 7147480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d81be2f1daeba701598cd948c774e83?s=128&d=identicon&r=PG&f=1", "display_name": "TEK", "link": "https://stackoverflow.com/users/7147480/tek"}, "reply_to_user": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "edited": false, "score": 0, "creation_date": 1501129881, "post_id": 45339451, "comment_id": 77644386, "body": "@FairlyFactual could you post the error message here."}, {"owner": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "edited": false, "score": 0, "creation_date": 1501196734, "post_id": 45339451, "comment_id": 77685930, "body": "eclipse gives the error message on <code>#include &lt;Python.h&gt;</code> as <code>Unresolved inclusion: &lt;Python.h&gt;</code>"}, {"owner": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "edited": false, "score": 0, "creation_date": 1501202871, "post_id": 45339451, "comment_id": 77687407, "body": "Okay. I was messing around with my program a little in an attempt to fix the problem and eventually just decided to replace <code>&lt;Python.h&gt;</code> with <code>&quot;C:\\...Python.h&quot;</code>, and the program started to work. I guess the problem was to do with eclipse not being able to find the include even though I installed it through the <code>Help&gt;Install New Software</code> method."}, {"owner": {"reputation": 105, "user_id": 7147480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d81be2f1daeba701598cd948c774e83?s=128&d=identicon&r=PG&f=1", "display_name": "TEK", "link": "https://stackoverflow.com/users/7147480/tek"}, "reply_to_user": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "edited": false, "score": 0, "creation_date": 1501219143, "post_id": 45339451, "comment_id": 77691357, "body": "@FairlyFactual always ensure your header files can be accessed during compiling.  So include the header file path like you did and it saves you from some nasty linker errors"}, {"owner": {"reputation": 105, "user_id": 7147480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d81be2f1daeba701598cd948c774e83?s=128&d=identicon&r=PG&f=1", "display_name": "TEK", "link": "https://stackoverflow.com/users/7147480/tek"}, "reply_to_user": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "edited": false, "score": 0, "creation_date": 1501219805, "post_id": 45339451, "comment_id": 77691624, "body": "@FairlyFactual Just curious was your error message something like: <code>error: header.h: No file or directory found.</code>?"}, {"owner": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "edited": false, "score": 0, "creation_date": 1501257654, "post_id": 45339451, "comment_id": 77717168, "body": "the error was just <code>Unresolved inclusion: &lt;Python.h&gt;</code> and nothing else. I thought it was rather strange that it didn&#39;t tell me anything about the source file not being located."}], "tags": [], "owner": {"reputation": 105, "user_id": 7147480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d81be2f1daeba701598cd948c774e83?s=128&d=identicon&r=PG&f=1", "display_name": "TEK", "link": "https://stackoverflow.com/users/7147480/tek"}, "is_accepted": true, "score": 2, "last_activity_date": 1501116079, "last_edit_date": 1501116079, "creation_date": 1501115235, "answer_id": 45339451, "question_id": 45338139, "link": "https://stackoverflow.com/questions/45338139/how-do-you-add-the-python-h-libraries-to-eclipse-for-use-in-a-c-program/45339451#45339451", "title": "How do you add the Python.h libraries to eclipse for use in a C++ program?", "body": "<p>Ensure PyDev is installed as a plug-in. \nYou can do this by selecting <code>Help&gt;Install New Software</code>\nyou will then select add and choose a name (eg. PyDev), \nthen enter <code>http://pydev.org/updates</code> as a location.\nYou will then select <code>PyDev</code> from the list of available software and accept the license, and trust the certificate. \nYou may need to restart Eclipse afterwards. </p>\n\n<p>You can refer to this <a href=\"https://docs.python.org/3/extending/embedding.html\" rel=\"nofollow noreferrer\">Official Python Documentation</a> for additional information on embedding and extending your code. </p>\n"}, {"tags": [], "owner": {"reputation": 694, "user_id": 1180868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a0d4e6e67fd26c52ccea52e662eacd?s=128&d=identicon&r=PG", "display_name": "Xavier Lamorlette", "link": "https://stackoverflow.com/users/1180868/xavier-lamorlette"}, "is_accepted": false, "score": 0, "last_activity_date": 1564739861, "creation_date": 1564739861, "answer_id": 57324135, "question_id": 45338139, "link": "https://stackoverflow.com/questions/45338139/how-do-you-add-the-python-h-libraries-to-eclipse-for-use-in-a-c-program/57324135#57324135", "title": "How do you add the Python.h libraries to eclipse for use in a C++ program?", "body": "<p>Here is another quite simple solution:</p>\n\n<ul>\n<li>Install Python for Windows (download it from <a href=\"https://www.python.org/downloads/\" rel=\"nofollow noreferrer\">python.org</a>).</li>\n<li>Reference its <code>include</code> directory (in my case <code>C:\\Programs\\Python36\\include</code>) in your project (Project Properties - C/C++ General - Paths and Symbols - Includes - GNU C++ - Add\u2026).</li>\n</ul>\n"}], "owner": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 755, "favorite_count": 0, "accepted_answer_id": 45339451, "answer_count": 3, "score": 1, "last_activity_date": 1564739861, "creation_date": 1501106378, "question_id": 45338139, "link": "https://stackoverflow.com/questions/45338139/how-do-you-add-the-python-h-libraries-to-eclipse-for-use-in-a-c-program", "title": "How do you add the Python.h libraries to eclipse for use in a C++ program?", "body": "<p>I'm relatively new to using eclipse, and I'm trying to figure out how to use the Python.h includes that are described <a href=\"https://docs.python.org/2/extending/embedding.html#\" rel=\"nofollow noreferrer\">here</a>. What steps do I need to take to get eclipse to properly compile that include? Thanks!</p>\n\n<p>Edit:\nI am using Windows if that helps.</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501106481, "post_id": 45338124, "comment_id": 77638300, "body": "<code>.keys</code> and <code>.items</code> return a <i>view</i>. Use <code>list</code> on them to get an independent iterable object."}, {"owner": {"reputation": 1003, "user_id": 6751275, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/l9ntg.jpg?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/6751275/akshay"}, "edited": false, "score": 0, "creation_date": 1501106865, "post_id": 45338124, "comment_id": 77638474, "body": "Error is because you are modifying dictionary(deleting items) during iteration. Try to store keys to temp list like &quot;keys_to_delete&quot; during iteration(in for loop) and delete later. Refer <a href=\"https://stackoverflow.com/questions/10665591/how-to-remove-list-elements-in-a-for-loop-in-python\" title=\"how to remove list elements in a for loop in python\">stackoverflow.com/questions/10665591/&hellip;</a>"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 2, "creation_date": 1501107060, "post_id": 45338124, "comment_id": 77638564, "body": "What juanpa.arrivillaga said. BTW, <code>del</code> isn&#39;t a function, so don&#39;t write it like a function. Get rid of those parentheses."}, {"owner": {"reputation": 1003, "user_id": 6751275, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/l9ntg.jpg?s=128&g=1", "display_name": "Akshay", "link": "https://stackoverflow.com/users/6751275/akshay"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1501107244, "post_id": 45338124, "comment_id": 77638637, "body": "@PM2Ring wow! didn&#39;t know this good practice. Thanks for sharing."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1501108305, "post_id": 45338124, "comment_id": 77639056, "body": "No worries. I just had a closer look at your code and noticed that your remove_items method has a few problems. It doesn&#39;t need to iterate over the whole dict. It should either update the quantity of the named item, or delete that item from the dict."}], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 8369312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Amyp.jpg?s=128&g=1", "display_name": "fvidalmolina", "link": "https://stackoverflow.com/users/8369312/fvidalmolina"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1501109790, "post_id": 45338351, "comment_id": 77639514, "body": "edited taking into accoun the quantity for the item."}, {"owner": {"reputation": 567, "user_id": 4825076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3364c7cdae60d5a15b5d9a5d640f7006?s=128&d=identicon&r=PG&f=1", "display_name": "Shammir", "link": "https://stackoverflow.com/users/4825076/shammir"}, "edited": false, "score": 0, "creation_date": 1501138461, "post_id": 45338351, "comment_id": 77648059, "body": "Thanks very much. It worked perfectly. More so your explanation is awesome."}, {"owner": {"reputation": 567, "user_id": 4825076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3364c7cdae60d5a15b5d9a5d640f7006?s=128&d=identicon&r=PG&f=1", "display_name": "Shammir", "link": "https://stackoverflow.com/users/4825076/shammir"}, "edited": false, "score": 0, "creation_date": 1501138552, "post_id": 45338351, "comment_id": 77648104, "body": "To everybody else who commented and contributed am grateful. @PM 2ring thanks for sharing the good practice. Adios All"}], "tags": [], "owner": {"reputation": 96, "user_id": 8369312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Amyp.jpg?s=128&g=1", "display_name": "fvidalmolina", "link": "https://stackoverflow.com/users/8369312/fvidalmolina"}, "is_accepted": true, "score": 3, "last_activity_date": 1501109757, "last_edit_date": 1501109757, "creation_date": 1501107477, "answer_id": 45338351, "question_id": 45338124, "link": "https://stackoverflow.com/questions/45338124/python-modify-dic-deletion-while-iterating/45338351#45338351", "title": "python modify dic deletion while iterating", "body": "<p>I think the remove_item function could be more simple.</p>\n\n<pre><code>#method to remove items\ndef remove_item(self,item_name, quantity, price):\n    if item_name in self.item.keys():\n        self.total -= (price * quantity)\n        del self.items[item_name]\n</code></pre>\n\n<p>With this version, you are checking if <code>item_name</code> is on the dictionary, and if so, you are removing it, and removing the price from <code>total</code></p>\n\n<p>Trying to remove from a dict,list,typle while iterating over them, is not usually a good idea.</p>\n\n<p>If item_name is a list of keys, I have to suppose that quantity and price are too.\nso a possible function could be:</p>\n\n<pre><code>def remove_item(self,item_name, quantity, price):\n    for index, value in enumerate(item_name):\n        if value in self.item.keys():\n             self.total -= (price[index] * quantity[index])\n             del self.items[value]\n</code></pre>\n\n<p>I haven't tested but should work.</p>\n\n<hr>\n\n<p>if the idea is to get an inventory of the items. The function should be something like this. </p>\n\n<pre><code>#method to remove items\ndef remove_item(self,item_name, quantity, price):\n    if item_name in self.items.keys():\n        #remove from total the price for the items\n        if quantity &lt;= self.items[item_name]:\n             self.total -= (price * quantity)\n        else:\n             self.total -= (price * self.items[item_name])\n        #if quantity is greater or equal of the current value, item is removed.\n        if quantity &gt;= self.items[item_name]\n            del self.items[item_name]\n        else:\n            self.items[item_name] -= quantity\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 4825076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3364c7cdae60d5a15b5d9a5d640f7006?s=128&d=identicon&r=PG&f=1", "display_name": "Shammir", "link": "https://stackoverflow.com/users/4825076/shammir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 45338351, "answer_count": 1, "score": 1, "last_activity_date": 1501109757, "creation_date": 1501106318, "question_id": 45338124, "link": "https://stackoverflow.com/questions/45338124/python-modify-dic-deletion-while-iterating", "title": "python modify dic deletion while iterating", "body": "<p>method remove_item that requires similar arguments as add_item. It should remove items that have been added to the shopping cart and are not required. This method should deduct the cost of these items from the current total and also update the items dict accordingly. If the quantity of items to be removed exceeds current quantity in cart, assume that all entries of that item are to be removed.</p>\n\n<pre><code>class ShoppingCart(object):\n#constructor\ndef __init__(self):\n    self.total = 0\n    self.items = {}\n\n#method to add items in the shoping cart\ndef add_item(self,item_name, quantity, price):\n    self.total += (price * quantity )\n    self.items[item_name] = quantity\n\n#method to remove items\ndef remove_item(self,item_name, quantity, price):\n    keys = self.items.keys()\n    for keys,v in self.items.items():\n    if keys == item_name and quantity &gt; self.items[keys]: #if item_name equals iterated item \n        self.total -= (price * quantity )\n        del( self.items[keys] )\n    del(self.items[keys])\n    self.total -= (quantity * price)\n</code></pre>\n\n<p>And there are test units to check </p>\n\n<pre><code>def test_add_item_hidden(self):\n    self.cart.add_item('Mango', 3, 10)\n    self.cart.add_item('Orange', 16, 10)\n    self.assertEqual(self.cart.total, 190, msg='Cart total not correct after adding items')\n    self.assertEqual(self.cart.items['Orange'], 16, msg='Quantity of items not correct after adding item')\n</code></pre>\n\n<p>The method <code>remove_item</code> gives an error that <code>dictionary changed size during iteration</code> even after trying to access via <code>keys</code> as shown above</p>\n"}, {"tags": ["python", "python-2.7", "unicode"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1501106520, "post_id": 45338094, "comment_id": 77638316, "body": "Try <code>ss.decode(&#39;utf-8&#39;) == s</code>"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1501106615, "post_id": 45338094, "comment_id": 77638361, "body": "They are the same character <code>BULLET</code>, this issue has to do with Python&#39;s <code>unicode</code> type, I guess. If you don&#39;t want to face such issues, you can switch to Python 3."}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 2, "creation_date": 1501107071, "post_id": 45338094, "comment_id": 77638569, "body": "Try the same thing in Python 3 and you will have your personal reason why you should use Python 3 instead of Python 2."}, {"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1501108174, "post_id": 45338094, "comment_id": 77639007, "body": "There is, in fact, a way to get them to compare equal. But you shouldn&#39;t use it. <a href=\"https://stackoverflow.com/questions/2276200/changing-default-encoding-of-python\" title=\"changing default encoding of python\">stackoverflow.com/questions/2276200/&hellip;</a> (Set the &quot;default encoding&quot; to UTF-8 instead of ASCII or Latin-1)"}], "answers": [{"comments": [{"owner": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "edited": false, "score": 1, "creation_date": 1501106650, "post_id": 45338192, "comment_id": 77638372, "body": "This can be seen at <a href=\"http://www.fileformat.info/info/unicode/char/2022/index.htm\" rel=\"nofollow noreferrer\">fileformat.info/info/unicode/char/2022/index.htm</a> under encodings"}], "tags": [], "owner": {"reputation": 170455, "user_id": 149341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/omfTQ.png?s=128&g=1", "display_name": "duskwuff -inactive-", "link": "https://stackoverflow.com/users/149341/duskwuff-inactive"}, "is_accepted": true, "score": 7, "last_activity_date": 1501106739, "last_edit_date": 1501106739, "creation_date": 1501106635, "answer_id": 45338192, "question_id": 45338094, "link": "https://stackoverflow.com/questions/45338094/how-are-these-characters-different/45338192#45338192", "title": "How are these characters different?", "body": "<p><code>u\"\\u2022\"</code> (your <code>s</code>) is a Unicode string (type <code>unicode</code>) containing the bullet character.</p>\n\n<p><code>\"\\xe2\\x80\\xa2\"</code> (your <code>ss</code>) is a byte string (type <code>str</code>) containing the three bytes used to encode the bullet character as UTF-8.</p>\n\n<p>You can convert one to the other using <code>str.decode</code> and <code>unicode.decode</code>:</p>\n\n<pre><code>&gt;&gt;&gt; s_encode = s.encode(\"UTF-8\")\n&gt;&gt;&gt; s_encode == ss\nTrue\n\n&gt;&gt;&gt; ss_decode = ss.decode(\"UTF-8\")\n&gt;&gt;&gt; ss_decode == s\nTrue\n</code></pre>\n"}], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 45338192, "answer_count": 1, "score": 1, "last_activity_date": 1501107227, "creation_date": 1501106166, "last_edit_date": 1501106271, "question_id": 45338094, "link": "https://stackoverflow.com/questions/45338094/how-are-these-characters-different", "title": "How are these characters different?", "body": "<p>I'm not sure why these characters are different since they appear to be the same visually. Are they different representations of the same character? or actually different characters? Is there a method to check their equality that would result in <code>True</code>?</p>\n\n<pre><code>&gt;&gt;&gt; s = u'\\u2022' \n&gt;&gt;&gt; ss = '\u2022'\n&gt;&gt;&gt; s == ss\nFalse\n&gt;&gt;&gt; print u'\\u2022' , '\u2022'\n\u2022 \u2022\n&gt;&gt;&gt; ss = unicode(ss)\n&gt;&gt;&gt; ss == s\nFalse\n&gt;&gt;&gt; repr(ss)\n\"u'\\\\xe2\\\\x80\\\\xa2'\"\n&gt;&gt;&gt; repr(s)\n\"u'\\\\u2022'\"\n</code></pre>\n"}, {"tags": ["python", "image", "opencv", "image-processing", "cut"], "comments": [{"owner": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 0, "creation_date": 1501106041, "post_id": 45338052, "comment_id": 77638101, "body": "Please add the pictures to the question body and not a link to the pictures. Are the number of different pics known and their size ?"}, {"owner": {"reputation": 141, "user_id": 7821437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-wGnEFuvPEAw/AAAAAAAAAAI/AAAAAAAAAEU/E7e8-3cmxMA/photo.jpg?sz=128", "display_name": "Marshall Cocop", "link": "https://stackoverflow.com/users/7821437/marshall-cocop"}, "reply_to_user": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 0, "creation_date": 1501106744, "post_id": 45338052, "comment_id": 77638421, "body": "I can not insert the body of the image for the moment (Because my reputation on the forum is not a 10). In short :) The dimensions are of 100x100 for the images of the first link, and of 152x87 for the second"}, {"owner": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 0, "creation_date": 1501106948, "post_id": 45338052, "comment_id": 77638511, "body": "Sorry wasn&#39;t aware of that. I did it for you. Also please share what you&#39;ve tried so far (your script)."}, {"owner": {"reputation": 141, "user_id": 7821437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-wGnEFuvPEAw/AAAAAAAAAAI/AAAAAAAAAEU/E7e8-3cmxMA/photo.jpg?sz=128", "display_name": "Marshall Cocop", "link": "https://stackoverflow.com/users/7821437/marshall-cocop"}, "reply_to_user": {"reputation": 11762, "user_id": 6530695, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/53a7a617c8e419f2562f0b00e6be10b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/6530695/tony"}, "edited": false, "score": 0, "creation_date": 1501107058, "post_id": 45338052, "comment_id": 77638562, "body": "No problem ! It&#39;s very nice of you thanks :)"}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1501108053, "post_id": 45338052, "comment_id": 77638962, "body": "Can you add anything that would help? Can the cuts be rotated at an angle sometimes? Can there be gaps between the images? Will the cuts always go across the full width of the image, or will they sometimes stop in the middle and have to go vertically one way before proceeding horizontally? Will all the images within one picture all be the same size as each other? Is there a max or min number of images across? Or vertically? What OS do you use? Are the images all PNG? JPEG?"}, {"owner": {"reputation": 158, "user_id": 5008874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39df9498b3d0a97e1415710ae55b77?s=128&d=identicon&r=PG", "display_name": "sbond", "link": "https://stackoverflow.com/users/5008874/sbond"}, "edited": false, "score": 0, "creation_date": 1501108125, "post_id": 45338052, "comment_id": 77638988, "body": "Is there any additional information where the cut points/lines might be ? Or the images are the only input ?"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 7821437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-wGnEFuvPEAw/AAAAAAAAAAI/AAAAAAAAAEU/E7e8-3cmxMA/photo.jpg?sz=128", "display_name": "Marshall Cocop", "link": "https://stackoverflow.com/users/7821437/marshall-cocop"}, "edited": false, "score": 0, "creation_date": 1501109344, "post_id": 45338622, "comment_id": 77639388, "body": "Thank you very much for this valuable information ... I did not know how to do it, so thank you again! I will try to realize this, I keep you informed :)"}, {"owner": {"reputation": 350, "user_id": 4382087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04e3998a3d66ffd101652d250801ee8a?s=128&d=identicon&r=PG&f=1", "display_name": "Ori Shalom", "link": "https://stackoverflow.com/users/4382087/ori-shalom"}, "reply_to_user": {"reputation": 141, "user_id": 7821437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-wGnEFuvPEAw/AAAAAAAAAAI/AAAAAAAAAEU/E7e8-3cmxMA/photo.jpg?sz=128", "display_name": "Marshall Cocop", "link": "https://stackoverflow.com/users/7821437/marshall-cocop"}, "edited": false, "score": 0, "creation_date": 1501153087, "post_id": 45338622, "comment_id": 77658576, "body": "Notice, my update, I had a mistake in the color similarity formula, instead use the answer in here for this part: <a href=\"https://stackoverflow.com/questions/5392061/algorithm-to-check-similarity-of-colors\" title=\"algorithm to check similarity of colors\">stackoverflow.com/questions/5392061/&hellip;</a>"}, {"owner": {"reputation": 141, "user_id": 7821437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-wGnEFuvPEAw/AAAAAAAAAAI/AAAAAAAAAEU/E7e8-3cmxMA/photo.jpg?sz=128", "display_name": "Marshall Cocop", "link": "https://stackoverflow.com/users/7821437/marshall-cocop"}, "edited": false, "score": 0, "creation_date": 1501157485, "post_id": 45338622, "comment_id": 77661691, "body": "I understand more the calculation that you indicated to me in the previous message: &#39;) Indeed, I could understand how to recover these RGB values, but how to achieve it for YUV values: /  Some research is necessary, I come back to you when I would have found solutions :)"}], "tags": [], "owner": {"reputation": 350, "user_id": 4382087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04e3998a3d66ffd101652d250801ee8a?s=128&d=identicon&r=PG&f=1", "display_name": "Ori Shalom", "link": "https://stackoverflow.com/users/4382087/ori-shalom"}, "is_accepted": true, "score": 1, "last_activity_date": 1501152960, "last_edit_date": 1501152960, "creation_date": 1501109065, "answer_id": 45338622, "question_id": 45338052, "link": "https://stackoverflow.com/questions/45338052/how-is-it-possible-to-detect-multiple-attached-images-and-cut-them-off/45338622#45338622", "title": "How is it possible to detect multiple attached images, and cut them off?", "body": "<p>Create two arrays, one in the length of the image width and one in the length of the image height and init them with zeroes.</p>\n\n<p>Since you are trying to test similarity of horizontal lines and vertical lines, you should iterate through the image pixels and compare each pixel in the position <code>(x,y)</code> to the pixel in the location <code>(x+1,y)</code> and <code>(x,y+1)</code> meaning each pixel is compared to the pixel right to it and the pixel below it.\nThe result of each comparison should result with a similarity percentage.</p>\n\n<p>To calculate similarity percentage of two pixels you can follow the answer to this question:\n<a href=\"https://stackoverflow.com/questions/5392061/algorithm-to-check-similarity-of-colors\">Algorithm to check similarity of colors</a></p>\n\n<p>The percentage result of each horizontal comparison of pixels in the location (x,y) should be added to the value in the horizontal array in the location <code>x</code>.\nSo for example if:</p>\n\n<pre><code>pixel(3,0) compare to pixel(4,0) = 80%\nhorizontalArray[3] += 80% (80)\npixel(3,1) compare to pixel(4,1) = 72%\nhorizontalArray[3] += 72% (152)\npixel(3,2) compare to pixel(4,2) = 95%\nhorizontalArray[3] += 95% (247)\n...\n</code></pre>\n\n<p>And in a similar way calculate the values for the vertical comparison: </p>\n\n<pre><code>pixel(0,3) compare to pixel(0,4) = 22%\nverticalArray[3] += 80% (22)\npixel(1,3) compare to pixel(1.4) = 10%\nverticalArray[3] += 72% (32)\npixel(2,3) compare to pixel(2,4) = 76%\nverticalArray[3] += 95% (108)\n...\n</code></pre>\n\n<p>After iterating through all pf the image pixels divide the values in the horizontalArray with the image height and the values in the verticalArray with the image width. the result of this action leave you now with two arrays containing average similarity percentage of each horizontal and each vertical line in you picture, now you can choose a arbitrary a magic number, lets say 15% and say that each line that got less than 15% similarity is a line you will perform a cut by it.</p>\n\n<p>Test the script and see how accurately it find the correct lines.</p>\n\n<p>If it's not sensitive enough increase the the value of your \"magic number\", if it is too sensitive and find lines where it shouldn't decrease the value of this magic number and try again.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I edited my suggestion to color similarity formula as it had mistakes in it that would lead to not accurate results.\nInstead I added reference to another answer dealing with the question of color comparison, use it with the rest of the algorithm and it should work.    </p>\n"}], "owner": {"reputation": 141, "user_id": 7821437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-wGnEFuvPEAw/AAAAAAAAAAI/AAAAAAAAAEU/E7e8-3cmxMA/photo.jpg?sz=128", "display_name": "Marshall Cocop", "link": "https://stackoverflow.com/users/7821437/marshall-cocop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 45338622, "answer_count": 1, "score": 1, "last_activity_date": 1501152960, "creation_date": 1501105892, "last_edit_date": 1501106886, "question_id": 45338052, "link": "https://stackoverflow.com/questions/45338052/how-is-it-possible-to-detect-multiple-attached-images-and-cut-them-off", "title": "How is it possible to detect multiple attached images, and cut them off?", "body": "<p>Good evening :)</p>\n\n<p>I would like to create a script capable of cutting the images present on large image one by one, so I want to cut out the 9 different images. </p>\n\n<p><a href=\"https://i.stack.imgur.com/USyaB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USyaB.jpg\" alt=\"enter image description here\"></a> </p>\n\n<p>It is not so difficult to cut out these images because in fact it is enough just to cut out the good lines and the turn is played .. So where is my problem?</p>\n\n<p>This problem becomes complicated, because there exist indeed several variants of great images; For example, it is likely that my script falls on a large image such as <a href=\"https://i.stack.imgur.com/gkVld.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gkVld.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>(Here, you can see 8 different images, so the lines to be cut are different).</p>\n\n<p>So how do I get there?</p>\n\n<p>I am still a beginner and I do not understand everything :(</p>\n\n<p>I hope I have been as clear as possible.\nThank you very much in advance!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "is_accepted": false, "score": 0, "last_activity_date": 1501106690, "creation_date": 1501106690, "answer_id": 45338201, "question_id": 45338033, "link": "https://stackoverflow.com/questions/45338033/formatting-groupby-output-in-python/45338201#45338201", "title": "Formatting groupby output in Python", "body": "<p>You could loop through the rows of your <code>count</code> groupby variable to output the lines 1 by 1:</p>\n\n<pre><code>for cat in sub_cat:\n    x = df[df.type.str.startswith(cat)]\n    count = x.groupby('type').size()\n    if len(count) &gt; 0:\n        for ind, row in count.iteritems():\n            print(ind, row)\n    else:\n        print(cat, '0')\n</code></pre>\n\n<p>Output is as follows:</p>\n\n<pre><code>critical::issue::A 2\nhardware::issue::B 1\nsoftware:: 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 158, "user_id": 5008874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39df9498b3d0a97e1415710ae55b77?s=128&d=identicon&r=PG", "display_name": "sbond", "link": "https://stackoverflow.com/users/5008874/sbond"}, "is_accepted": false, "score": 0, "last_activity_date": 1501107589, "creation_date": 1501107589, "answer_id": 45338371, "question_id": 45338033, "link": "https://stackoverflow.com/questions/45338033/formatting-groupby-output-in-python/45338371#45338371", "title": "Formatting groupby output in Python", "body": "<p>Here is your code with suggested changes:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame(columns=['date', 'type', 'version'],\n                  data=[\n                      ['2017-07-01', 'critical::issue::A', 'version1'],\n                      ['2017-07-01', 'critical::issue::A', 'version2'],\n                      ['2017-07-02', 'critical::issue::B', 'version3'],\n                      ['2017-07-01', 'hardware::issue::B', 'version1'],\n                  ])  \n\nsub_cat = ['critical::',\n           'hardware::',\n           'software::']\n\nprint(\"type\")\n\nfor cat in sub_cat:\n    x = df[df.type.str.startswith(cat)]\n\n    count = x.groupby('type').size()\n\n    # 'count' is a Series object\n    for i in range(len(count)):\n        print(\"{}\\t{}\".format(count.index[i], count[i]))\n\n    if len(count) == 0:\n        print(\"{}\\t{}\".format(cat, 0)) \n</code></pre>\n\n<p>It produces:</p>\n\n<pre><code>type\ncritical::issue::A      2\ncritical::issue::B      1\nhardware::issue::B      1\nsoftware::      0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1501108217, "creation_date": 1501108217, "answer_id": 45338485, "question_id": 45338033, "link": "https://stackoverflow.com/questions/45338033/formatting-groupby-output-in-python/45338485#45338485", "title": "Formatting groupby output in Python", "body": "<p>Consider this Pandas approach:</p>\n\n<pre><code>In [79]: res = df.groupby('type').size()\n\nIn [80]: res\nOut[80]:\ntype\ncritical::issue::A    2\nhardware::issue::B    1\ndtype: int64\n\nIn [81]: s = pd.Series(sub_cat)\n\nIn [82]: idx = s[~s.isin(df.type.str.extract(r'(\\w+::)', expand=False).unique())].values\n\nIn [83]: res = res.append(pd.Series([0] * len(idx), index=idx))\n\nIn [84]: res\nOut[84]:\ncritical::issue::A    2\nhardware::issue::B    1\nsoftware::            0\ndtype: int64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "edited": false, "score": 0, "creation_date": 1501117820, "post_id": 45338754, "comment_id": 77641450, "body": "Perfect simple solution. Thank you Anton"}], "tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": true, "score": 1, "last_activity_date": 1501109925, "creation_date": 1501109925, "answer_id": 45338754, "question_id": 45338033, "link": "https://stackoverflow.com/questions/45338033/formatting-groupby-output-in-python/45338754#45338754", "title": "Formatting groupby output in Python", "body": "<p>An alternative solution, if you just change:</p>\n\n<pre><code>print(count)\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>print(count.to_string(header=False))\n</code></pre>\n\n<p>You get:</p>\n\n<pre><code>critical::issue::A    2\nhardware::issue::B    1\nsoftware:: 0\n</code></pre>\n\n<p>So maybe add a print(\"type\") before the loop and you are there?</p>\n"}], "owner": {"reputation": 1631, "user_id": 1675909, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/01c2f960262afc76b149cdd786760753?s=128&d=identicon&r=PG", "display_name": "FunnyChef", "link": "https://stackoverflow.com/users/1675909/funnychef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 911, "favorite_count": 0, "accepted_answer_id": 45338754, "answer_count": 4, "score": 0, "last_activity_date": 1501109925, "creation_date": 1501105794, "question_id": 45338033, "link": "https://stackoverflow.com/questions/45338033/formatting-groupby-output-in-python", "title": "Formatting groupby output in Python", "body": "<p>I have a DataFrame that looks like:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame(columns=['date', 'type', 'version'],\n                  data=[\n                      ['2017-07-01', 'critical::issue::A', 'version1'],\n                      ['2017-07-01', 'critical::issue::A', 'version2'],\n                      ['2017-07-01', 'hardware::issue::B', 'version1'],\n                  ])\n</code></pre>\n\n<p>I'm returning the size of all the unique values for 'type' using the following;</p>\n\n<pre><code>sub_cat = ['critical::',\n           'hardware::',\n           'software::'\n           ]\n\nfor cat in sub_cat:\n    x = df[df.type.str.startswith(cat)]\n\n    count = x.groupby('type').size()\n    if len(count) &gt; 0:\n        print(count)\n    else:\n        print(cat, '0')\n</code></pre>\n\n<p>Results are correct but the output is sloppy:</p>\n\n<pre><code>type\ncritical::issue::A    2\ndtype: int64\ntype\nhardware::issue::B    1\ndtype: int64\n  software:: 0\n</code></pre>\n\n<p>I'd like to format the output to make it more readable like the following example.</p>\n\n<pre><code>type\ncritical::issue::A    2\nhardware::issue::B    1\nsoftware:: 0\n</code></pre>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["python", "pivot-table"], "comments": [{"owner": {"reputation": 2253, "user_id": 1856928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/69c595bf0e20d22324270c82c1ddbfb4?s=128&d=identicon&r=PG", "display_name": "Acemad", "link": "https://stackoverflow.com/users/1856928/acemad"}, "edited": false, "score": 0, "creation_date": 1501106340, "post_id": 45338008, "comment_id": 77638229, "body": "You might as well include some actual code, so the reader can help you better."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8372634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55486da1bd50fd00ba07799efc92152e?s=128&d=identicon&r=PG&f=1", "display_name": "lemony9201", "link": "https://stackoverflow.com/users/8372634/lemony9201"}, "edited": false, "score": 0, "creation_date": 1501157635, "post_id": 45338063, "comment_id": 77661816, "body": "After using <code>reset_index()</code> I filtered using a function I had defined involving <code>len()</code>"}], "tags": [], "owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "is_accepted": true, "score": 0, "last_activity_date": 1501105971, "creation_date": 1501105971, "answer_id": 45338063, "question_id": 45338008, "link": "https://stackoverflow.com/questions/45338008/filtering-the-rows-of-a-pivot-table/45338063#45338063", "title": "Filtering the rows of a pivot table", "body": "<p>You can reset the index, so that you can manipulate them as columns. For example, you could try:</p>\n\n<pre><code>milk_keypartners_pivot6 = milk_keypartners_pivot6.reset_index()\ngroupedCount = (milk_keypartners_pivot6.groupby('Partner')['Trade Flow'].count() == 12)\ncountries_with_12 = groupedCount[groupedCount == True].index\nmilk_keypartners_pivot6 = milk_keypartners_pivot6[milk_keypartners_pivot6['Partner'].isin(countries_with_12)]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8372634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55486da1bd50fd00ba07799efc92152e?s=128&d=identicon&r=PG&f=1", "display_name": "lemony9201", "link": "https://stackoverflow.com/users/8372634/lemony9201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 45338063, "answer_count": 1, "score": 0, "last_activity_date": 1501105971, "creation_date": 1501105660, "question_id": 45338008, "link": "https://stackoverflow.com/questions/45338008/filtering-the-rows-of-a-pivot-table", "title": "Filtering the rows of a pivot table", "body": "<p>I have generated this <a href=\"https://i.stack.imgur.com/jr6lz.jpg\" rel=\"nofollow noreferrer\">Pivot Table</a> and would like to be able to select the country in which there are (Export &amp; Import) entries for every month of the year 2014, where the period 201401 represents the month of January 2014, 201402 February 2014 etc. \nObviously in this case it is only Ireland in this example but I would like to be able to do find it programmatically just in case I come across an instance where I cannot do it by sight. I have tried filtering and grouping techniques and using the len function but these are only applicable to the columns of a data frame and not the rows?  </p>\n"}, {"tags": ["javascript", "python", "django", "pagination"], "answers": [{"tags": [], "owner": {"reputation": 34536, "user_id": 860103, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bc51780142bf5e5a1c05524a114774ed?s=128&d=identicon&r=PG", "display_name": "Aamir Adnan", "link": "https://stackoverflow.com/users/860103/aamir-adnan"}, "is_accepted": false, "score": 1, "last_activity_date": 1501105876, "creation_date": 1501105876, "answer_id": 45338049, "question_id": 45337948, "link": "https://stackoverflow.com/questions/45337948/django-filter-paginated-list-with-another-url-parameter/45338049#45338049", "title": "Django: Filter paginated list with another URL parameter", "body": "<p>Instead of playing with the URL i'll recommend to use the <code>form</code>, and within form you should include hidden pagination params to preserve pagination criteria:</p>\n\n<pre><code>&lt;form action=\"{% url 'my_search_url' %}\" method=\"GET\"&gt;\n    &lt;label for=\"zanr\"&gt;Zanr&lt;/label&gt;\n    &lt;select name=\"zanr\" onchange=\"this.form.submit()\"&gt;\n        &lt;option value=\"1\" {% if genre == '1' %}selected{% endif %}&gt;A&lt;/option&gt;\n        &lt;option value=\"2\" {% if genre == '2' %}selected{% endif %}&gt;B&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;!-- Add hidden pagination params here --&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Send back <code>genre</code> in context from view to show the selected gener in dropdown.</p>\n"}, {"comments": [{"owner": {"reputation": 1606, "user_id": 2687102, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7daacd2fcb17d51c6e26184e6b5f395?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/2687102/filip"}, "edited": false, "score": 0, "creation_date": 1501164905, "post_id": 45339621, "comment_id": 77668064, "body": "Works great, thanks. Indeed much better way than my JavaScript &quot;solution&quot;."}], "tags": [], "owner": {"reputation": 61, "user_id": 5372492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01c3d2cf3ba38a0322bb2ae0f62bc8c4?s=128&d=identicon&r=PG&f=1", "display_name": "K. Cogswell", "link": "https://stackoverflow.com/users/5372492/k-cogswell"}, "is_accepted": true, "score": 1, "last_activity_date": 1501116657, "creation_date": 1501116657, "answer_id": 45339621, "question_id": 45337948, "link": "https://stackoverflow.com/questions/45337948/django-filter-paginated-list-with-another-url-parameter/45339621#45339621", "title": "Django: Filter paginated list with another URL parameter", "body": "<p>Try handling the query string creation in your django view instead of javascript.</p>\n\n<pre><code>def myView(request):\n    query_string = ''\n    genre = request.GET.get('zanr') \n    if genre:\n        query_string += '&amp;zanr={0}'.format(genre)\n        free_games_list = free_games_list.filter(category__id=genre)\n\n    # Pass query_string to template\n</code></pre>\n\n<p>Then in your template append this value to your paginator buttons.</p>\n\n<pre><code>&lt;form action=\"{% url 'game_list' %}\" method=\"GET\"&gt;\n  &lt;label&gt;Zanr&lt;/label&gt;\n  &lt;select name=\"zanr\"&gt;\n    &lt;option value=\"3\"&gt;3&lt;/option&gt;\n    &lt;option value=\"4\"&gt;4&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/form&gt;\n\n# ...        \n\n&lt;ul class=\"pagination\"&gt;\n  {% if objects.has_previous %}\n&lt;li&gt;\n  &lt;a href=\"?page={{ objects.previous_page_number }}{{ query_string }}\"&gt;&amp;laquo;&lt;/a&gt;\n&lt;/li&gt;\n{% else %}\n  &lt;li class=\"disabled\"&gt;&lt;span&gt;&amp;laquo;&lt;/span&gt;&lt;/li&gt;\n{% endif %}\n\n# ...\n\n&lt;script&gt;\n$('#select').change(function () {\n  var form= $(this).parent();\n  form.submit();\n});\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 1606, "user_id": 2687102, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/a7daacd2fcb17d51c6e26184e6b5f395?s=128&d=identicon&r=PG&f=1", "display_name": "Filip", "link": "https://stackoverflow.com/users/2687102/filip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "accepted_answer_id": 45339621, "answer_count": 2, "score": 0, "last_activity_date": 1501116657, "creation_date": 1501105399, "question_id": 45337948, "link": "https://stackoverflow.com/questions/45337948/django-filter-paginated-list-with-another-url-parameter", "title": "Django: Filter paginated list with another URL parameter", "body": "<p>I have list of games that I am displaying with <code>Paginator</code>. I would like to also be able to filter games by their genre.</p>\n\n<p>In my view I have simple code to check, if genre parameter (\"zanr\") is part of the URL:</p>\n\n<pre><code>genre = request.GET.get('zanr')\n\nif genre:\n    free_games_list = free_games_list.filter(category__id=genre)\n</code></pre>\n\n<p>On my view page, I have HTML <code>Select</code> with genre names and their ID as values. </p>\n\n<p>I have not so pretty JS code that redirects to new page after item in Select is selected:</p>\n\n<pre><code> $('#select').change(function () {\n\n        var selectElement = $(this);\n\n        var url = window.location.href;\n\n        if (url.indexOf('?') &gt; -1) {\n            url += '&amp;zanr=' + selectElement.val();\n        } else {\n            url += '?zanr=' + selectElement.val();\n        }\n\n        window.location.href = url;\n    });\n</code></pre>\n\n<p>This works fine with the first genre select. But when I select another genre, the parameter in URL is now simply duplicated like so: <code>zanr=5&amp;zanr=4&amp;zanr=3</code></p>\n\n<p>I thought about doing more JS to remove the parameter but I guess there will be far better and simpler option how to do this.</p>\n\n<p>I also tried doing it as a <code>Select</code> inside of <code>Form</code> but had problems passing the selected value..</p>\n"}, {"tags": ["python", "dictionary", "arguments"], "comments": [{"owner": {"reputation": 1236, "user_id": 3056710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NrF1Z.jpg?s=128&g=1", "display_name": "agtoever", "link": "https://stackoverflow.com/users/3056710/agtoever"}, "edited": false, "score": 0, "creation_date": 1501105575, "post_id": 45337943, "comment_id": 77637918, "body": "As stated in the linked answer: <a href=\"https://docs.python.org/3/library/inspect.html#inspect.signature\" rel=\"nofollow noreferrer\">use the signature function imported from inspect</a>"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1501105663, "post_id": 45337943, "comment_id": 77637947, "body": "I&#39;d keep it simple in this case without the huge overhead of inspecting functions upfront before calling them. The <a href=\"https://docs.python.org/2/glossary.html#term-eafp\" rel=\"nofollow noreferrer\"><b>EAFP</b></a> approach is more than adequate for this purpose."}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1501105822, "post_id": 45337943, "comment_id": 77638022, "body": "@zwer I was actually going to suggest that too...but I feel like there is more to check with what kind of TypeError is being raised. e.g. not enough arguments for the function that takes arguments. But for this specific example if it is always contained in that way knowing if it is a function with no arguments or two arguments, it could work I suppose."}, {"owner": {"reputation": 351, "user_id": 7614748, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-dWPHIjzjvdM/AAAAAAAAAAI/AAAAAAAAACs/8RtxSTdVXlw/photo.jpg?sz=128", "display_name": "Graviton", "link": "https://stackoverflow.com/users/7614748/graviton"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1501135833, "post_id": 45337943, "comment_id": 77646581, "body": "@zwer Thanks for that suggestion, it ended up working way better that way."}], "owner": {"reputation": 351, "user_id": 7614748, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-dWPHIjzjvdM/AAAAAAAAAAI/AAAAAAAAACs/8RtxSTdVXlw/photo.jpg?sz=128", "display_name": "Graviton", "link": "https://stackoverflow.com/users/7614748/graviton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1501105525, "answer_count": 0, "score": 0, "last_activity_date": 1501137977, "creation_date": 1501105372, "last_edit_date": 1501137977, "question_id": 45337943, "link": "https://stackoverflow.com/questions/45337943/run-dictionary-function-with-without-arguments-python", "closed_reason": "Duplicate", "title": "Run dictionary function with/without arguments - Python", "body": "<p>Here I have an example dictionary of functions:</p>\n\n<pre><code>d = {\n    '1' : f\n    '2a' : g\n    '2b' : h\n    '3' : i\n    ...\n}\n</code></pre>\n\n<p>Where some functions take <em>no arguments</em> and the rest always take the <em>same arguments</em> <code>a, b</code>.</p>\n\n<pre><code>def f(a, b): ...\ndef g(): ...\ndef h(a, b): ...\ndef i(): ...\n</code></pre>\n\n<p>How do I call a function from this dictionary with/without arguments depending on if the function takes arguments?</p>\n\n<p>i.e. With an arbitrary key <code>x</code>.</p>\n\n<pre><code>if [d[x] takes arguments]:\n    d[x](a, b)\nelse:\n    d[x]()\n</code></pre>\n\n<p><strike><em>Note: have to run out for an hour, so won't be able to reply straight away.</em></strike></p>\n"}, {"tags": ["python", "numpy", "curve-fitting", "exponential-distribution"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1501106140, "post_id": 45337939, "comment_id": 77638137, "body": "FYI: @MNewville has some useful suggestions for fitting an exponential here: <a href=\"https://stackoverflow.com/questions/45312404/new-error-in-old-code-in-numpy-exp/45314363#45314363\" title=\"new error in old code in numpy exp\">stackoverflow.com/questions/45312404/&hellip;</a>"}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1501106168, "post_id": 45337939, "comment_id": 77638145, "body": "Looking at your data, you should start with a negative value for <code>a</code>.  And probably not quite such a big one for <code>k</code>, but I guess Levenberg-Marquardt will sort this out for you."}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1501106282, "post_id": 45337939, "comment_id": 77638209, "body": "Be aware that working in log space is not an option for your model because of the additive constant <code>b</code>."}, {"owner": {"reputation": 158, "user_id": 5008874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39df9498b3d0a97e1415710ae55b77?s=128&d=identicon&r=PG", "display_name": "sbond", "link": "https://stackoverflow.com/users/5008874/sbond"}, "edited": false, "score": 0, "creation_date": 1501110309, "post_id": 45337939, "comment_id": 77639642, "body": "I haven&#39;t used curve_fit before, but this point seems to produce an expected result: p0 = (-2, 1.0/7000, 1)"}, {"owner": {"reputation": 3988, "user_id": 2436862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4P7Vh.jpg?s=128&g=1", "display_name": "James Phillips", "link": "https://stackoverflow.com/users/2436862/james-phillips"}, "edited": false, "score": 0, "creation_date": 1501266551, "post_id": 45337939, "comment_id": 77721810, "body": "The authors of scipy added the Differential Evolution genetic algorithm as the module scipy.optimize.differential_evolution for the purpose of estimating initial parameters for their non-linear solvers. An example of fitting a double Lorentzian peak equation to carbon nanotube Raman spectroscopy data using this scipy module for initial parameter estimation is here: <a href=\"https://github.com/zunzun/RamanSpectroscopyFit\" rel=\"nofollow noreferrer\">github.com/zunzun/RamanSpectroscopyFit</a>"}], "answers": [{"comments": [{"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1501148268, "post_id": 45343026, "comment_id": 77654912, "body": "I think the data looks like a saturation function, which is exactly what the model describes when <code>a</code> is negative.  A linear model would not give a good fit.  (Of course it only has two parameters instead of three, so it&#39;s expected that the fit is worse, but the additional parameter reduces \u03c7&#178; enough to justify it.)"}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1501148432, "post_id": 45343026, "comment_id": 77655056, "body": "Solely relying on the first and last data point for the initial guesses is not the most robust approach, since they might be outliers.  It would be more useful to use linear regression in log space to determine the parameters."}, {"owner": {"reputation": 1687, "user_id": 7393694, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10154893180006667/picture?type=large", "display_name": "J&#252;rg Merlin Spaak", "link": "https://stackoverflow.com/users/7393694/j%c3%bcrg-merlin-spaak"}, "reply_to_user": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1501151233, "post_id": 45343026, "comment_id": 77657210, "body": "I agree that taking the first and the last is not robust, but it doesn&#39;t really have to be, as curvefit will solve the problem. In case curvefit doesn&#39;t find a solution with this guess you can still take other two samples or make more complex methods like taking all pairs of samples and take the average. But taking the first and the last (or basically any arbitrary two) will &quot;most likely&quot; help you find good initial guesses."}], "tags": [], "owner": {"reputation": 1687, "user_id": 7393694, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/10154893180006667/picture?type=large", "display_name": "J&#252;rg Merlin Spaak", "link": "https://stackoverflow.com/users/7393694/j%c3%bcrg-merlin-spaak"}, "is_accepted": true, "score": 0, "last_activity_date": 1501137331, "creation_date": 1501137331, "answer_id": 45343026, "question_id": 45337939, "link": "https://stackoverflow.com/questions/45337939/finding-initial-guesses-for-exponential-curve-fit/45343026#45343026", "title": "finding initial guesses for exponential curve fit", "body": "<p>To me this data is more close to a lign than an exponential curve, are you sure your model is right?</p>\n\n<p>About the initial guesses, I assume you don't have any further knowledge about the function, if so use it:</p>\n\n<p>For x->\\inf the fucntion approaches b. So I would use a guess of about 0.025 for b.\nFor the other two variables, take a subsample of <code>x</code> and <code>y</code> and solve the equation explicit:</p>\n\n<pre><code>a * np.exp(-k*x[0]) + 0.025 = y[0]\na * np.exp(-k*x[-1]) + 0.025 = y[-1]\n</code></pre>\n\n<p>Solving this gives:</p>\n\n<pre><code>a = (y[0]-0.025)/np.exp(-k*x[0])\ne^(-k*(x[-1]-x[0])=(y[-1]-0.025)/(y[0]-0.025) # and then take logarithm\n\nk = -np.log((y[-1]-0.025)/(y[0]-0.025))/(x[-1]-x[0])\na = (y[0]-0.025)/np.exp(-k*x[0])\n</code></pre>\n\n<p>gives <code>k=0.00026798747972760543</code> and <code>a=-0.80114087848462689</code></p>\n\n<p>This method can be used generaly, throw away as many points as necessarry to solve the equation exact and then use these values for starting optimal values</p>\n"}], "owner": {"reputation": 145, "user_id": 6748630, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/68d199fe56602ce65d200bfecc26b10c?s=128&d=identicon&r=PG&f=1", "display_name": "kb3hts", "link": "https://stackoverflow.com/users/6748630/kb3hts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "closed_date": 1501138088, "accepted_answer_id": 45343026, "answer_count": 1, "score": 1, "last_activity_date": 1501137331, "creation_date": 1501105359, "question_id": 45337939, "link": "https://stackoverflow.com/questions/45337939/finding-initial-guesses-for-exponential-curve-fit", "closed_reason": "Not suitable for this site", "title": "finding initial guesses for exponential curve fit", "body": "<p>So I don't know how to do this, and I'm not sure if there's some math that I'm completely forgetting right now but I'm at a loss.  In short, I have some fairly simple initial code using scipy and numpy, and I want to fit an exponential curve to it:</p>\n\n<pre><code>from scipy.optimize import curve_fit\nimport numpy as np\n\n# sample data\nx = np.array([7620.,   7730.,   7901.,   8139.,   8370.,   8448.,   8737.,   8824., 9089.,   9233.,   9321.,   9509.,   9568.,   9642.,   9756.,   9915.,  10601., 10942.])\ny = np.array([0.01228478,  0.01280466,  0.01363498,  0.01493918,  0.01530108, 0.01569484,  0.01628133,  0.01547824,  0.0171548,   0.01743745,  0.01776848, 0.01773898,  0.01839569,  0.01823377,  0.01843686,  0.01875542,  0.01881426, 0.01977975])\n\n# define type of function to search\ndef model_func(x, a, k, b):\n    return a * np.exp(-k*x) + b\n\n# curve fit\np0 = (2.e-6,300,1)\nopt, pcov = curve_fit(model_func, x, y, p0)\na, k, b = opt\n# test result\nx2 = np.linspace(7228, 11000, 3000)\ny2 = model_func(x2, a, k, b)\nfig, ax = plt.subplots()\nax.plot(x2, y2, color='r', label='Fit. func: $f(x) = %.3f e^{%.3f x} %+.3f$' % (a,k,b))\nax.plot(x, y, 'bo', label='data with noise')\nax.legend(loc='best')\nplt.show()\n</code></pre>\n\n<p>My issue is try as I may I can't figure out the initial parameters for p0- I've tried a range of values, but frankly I have no idea what I'm doing so I'm not getting a solution here.  Can someone suggest how to do it?  Thank you!</p>\n"}, {"tags": ["python", "beautifulsoup", "request", "stock"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7363397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/797ebdf6236f686dd82dde16e17c3ad0?s=128&d=identicon&r=PG&f=1", "display_name": "New_Py_Guy", "link": "https://stackoverflow.com/users/7363397/new-py-guy"}, "edited": false, "score": 0, "creation_date": 1501112952, "post_id": 45338583, "comment_id": 77640301, "body": "THANK YOU SO MUCH!"}], "tags": [], "owner": {"reputation": 7061, "user_id": 839338, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/12639eb17fa99d25a271a54f031feb67?s=128&d=identicon&r=PG", "display_name": "Dan-Dev", "link": "https://stackoverflow.com/users/839338/dan-dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1501108827, "creation_date": 1501108827, "answer_id": 45338583, "question_id": 45337935, "link": "https://stackoverflow.com/questions/45337935/import-yahoo-finance-stock-price-with-beautifulsoup-and-request/45338583#45338583", "title": "import yahoo finance stock price with beautifulsoup and request", "body": "<p>There is more than one span element with the attribute data-reactid = \"35\" so select the one you want by the class attribute.</p>\n\n<pre><code>import urllib.request\nfrom bs4 import BeautifulSoup\n\n# S&amp;P 500\npage = urllib.request.urlopen(\"https://finance.yahoo.com/quote/%5EGSPC?p=^GSPC\")\ncontent = page.read().decode('utf-8')\nsoup = BeautifulSoup(content, 'html.parser')\n# print (soup)\nvalsp = soup.find(\"span\", {\"data-reactid\": \"35\", \"class\" : \"Trsdu(0.3s) Fw(b) Fz(36px) Mb(-4px) D(ib)\"}).decode_contents(formatter=\"html\")\nprint(valsp)\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>2,477.83\n</code></pre>\n\n<p>The only change is this line in your code: </p>\n\n<pre><code>valsp = soup.find(\"span\", {\"data-reactid\":\"35\"}).decode_contents(formatter=\"html\")\n</code></pre>\n\n<p>to </p>\n\n<pre><code>valsp = soup.find(\"span\", {\"data-reactid\": \"35\", \"class\" : \"Trsdu(0.3s) Fw(b) Fz(36px) Mb(-4px) D(ib)\"}).decode_contents(formatter=\"html\")\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 7363397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/797ebdf6236f686dd82dde16e17c3ad0?s=128&d=identicon&r=PG&f=1", "display_name": "New_Py_Guy", "link": "https://stackoverflow.com/users/7363397/new-py-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 0, "accepted_answer_id": 45338583, "answer_count": 1, "score": 0, "last_activity_date": 1501142285, "creation_date": 1501105333, "last_edit_date": 1501142285, "question_id": 45337935, "link": "https://stackoverflow.com/questions/45337935/import-yahoo-finance-stock-price-with-beautifulsoup-and-request", "title": "import yahoo finance stock price with beautifulsoup and request", "body": "<p>So I have an script that check stock prices. Yahoo change something and now I get the % change rather than the stock price. Below is the original script. When I run it, I get \"+0.70 (+0.03%)\", rather than 2,477.83. The only difference I really see is:</p>\n\n<p>data-reactid=\"36\"</p>\n\n<p>and </p>\n\n<p>data-reactid=\"35\".</p>\n\n<p>When I change to 35, it fails. 36 works but only show % change. I want stock price, not % change.</p>\n\n<p>thanks for your help!</p>\n\n<pre><code>import urllib.request\nfrom bs4 import BeautifulSoup\n\n\n# S&amp;P 500\npage = urllib.request.urlopen(\"https://finance.yahoo.com/quote/%5EGSPC?p=^GSPC\")\ncontent = page.read().decode('utf-8')\nsoup = BeautifulSoup(content, 'html.parser')\nvalsp = soup.find(\"span\", {\"data-reactid\": \"36\"}).decode_contents(formatter=\"html\")\nprint(valsp)\n</code></pre>\n"}, {"tags": ["python", "pulp"], "answers": [{"comments": [{"owner": {"reputation": 949, "user_id": 5807922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-64uvAcnDdQ0/AAAAAAAAAAI/AAAAAAAAACo/pHFh1EE9yNQ/photo.jpg?sz=128", "display_name": "Suraj Nagabhushana Ponnaganti", "link": "https://stackoverflow.com/users/5807922/suraj-nagabhushana-ponnaganti"}, "edited": false, "score": 0, "creation_date": 1501170441, "post_id": 45338016, "comment_id": 77672300, "body": "I tried this. My source was this <a href=\"https://pythonhosted.org/PuLP/solvers.html\" rel=\"nofollow noreferrer\">link</a>. But this does not even start solving. I have <code>LpSolverDefault.msg = 1</code>. Is there a way to stop it at the first integer solution instead of a time constraint?"}], "tags": [], "owner": {"reputation": 502, "user_id": 3513395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d228bf40eda1cf99e04d579ad6eadb?s=128&d=identicon&r=PG&f=1", "display_name": "thomaskeefe", "link": "https://stackoverflow.com/users/3513395/thomaskeefe"}, "is_accepted": false, "score": 0, "last_activity_date": 1501105695, "creation_date": 1501105695, "answer_id": 45338016, "question_id": 45337903, "link": "https://stackoverflow.com/questions/45337903/how-to-put-a-time-constraint-or-pick-the-first-integer-solution-in-pulp-python/45338016#45338016", "title": "How to put a time constraint or pick the first integer solution in PuLP python", "body": "<p>You need to pass an option to whatever solver you're using under the hood. Here's an example for the default solver:</p>\n\n<p><code>prob.solve(PULP_CBC_CMD(fracGap = 0.00001, maxSeconds = 500, threads = None))</code></p>\n\n<p>source <a href=\"https://groups.google.com/forum/#!topic/pulp-or-discuss/GC6Ytid_4lI\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 949, "user_id": 5807922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-64uvAcnDdQ0/AAAAAAAAAAI/AAAAAAAAACo/pHFh1EE9yNQ/photo.jpg?sz=128", "display_name": "Suraj Nagabhushana Ponnaganti", "link": "https://stackoverflow.com/users/5807922/suraj-nagabhushana-ponnaganti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 515, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501169589, "creation_date": 1501105201, "last_edit_date": 1501169589, "question_id": 45337903, "link": "https://stackoverflow.com/questions/45337903/how-to-put-a-time-constraint-or-pick-the-first-integer-solution-in-pulp-python", "title": "How to put a time constraint or pick the first integer solution in PuLP python", "body": "<p>I have a MIP problem which takes extremely long to solve based on the input data set. </p>\n\n<p>How do I print out the first integer solution or limit the problem solve time and if it exceeds that time, I want to print out a feasible solution. </p>\n\n<p>I went through the <code>PuLP</code> default solver states. I could not find <code>feasible</code> as a state. </p>\n"}, {"tags": ["python", "valueerror"], "answers": [{"comments": [{"owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "edited": false, "score": 0, "creation_date": 1501158396, "post_id": 45342706, "comment_id": 77662436, "body": "Fantastic!  This worked splendidly.  Thanks for your support!  People like you make this community so awesome."}, {"owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "edited": false, "score": 0, "creation_date": 1501176667, "post_id": 45342706, "comment_id": 77676322, "body": "At the very beginning of the animation, there is a large spike.  How could I go about removing this initial spike in the animation?"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "edited": false, "score": 0, "creation_date": 1501177037, "post_id": 45342706, "comment_id": 77676580, "body": "I don&#39;t know your exact use case so I don&#39;t know. But, when using a rolling average, you have a bunch of nan (not a number) values in the beginning, before you have sufficiently many data points to get your first average (100 in the above code). Thus, there might be a bump when you hit upon 100 elements, where you are going from a nan value to an actual value. Could it be this you see?"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "edited": false, "score": 0, "creation_date": 1501180139, "post_id": 45342706, "comment_id": 77678316, "body": "That means there is not much to do about it, since it is a property of the data itself. It may be possible to use fewer values in the initial average, increasing from 1 to 100, but I don&#39;t know if that is any better. And it requires more logic."}, {"owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "edited": false, "score": 0, "creation_date": 1501181623, "post_id": 45342706, "comment_id": 77679186, "body": "Perhaps you may be able to support me with a follow-up question here: <a href=\"https://stackoverflow.com/questions/45358721/differences-in-pd-rolling-std-over-an-entire-dataset-versus-in-real-time\" title=\"differences in pd rolling std over an entire dataset versus in real time\">stackoverflow.com/questions/45358721/&hellip;</a>"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "edited": false, "score": 0, "creation_date": 1501188066, "post_id": 45342706, "comment_id": 77682523, "body": "I see that you have removed the question again. What was the issue?"}, {"owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1501188209, "post_id": 45342706, "comment_id": 77682605, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/150351/discussion-between-gary-and-johanl\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": true, "score": 1, "last_activity_date": 1501136152, "creation_date": 1501136152, "answer_id": 45342706, "question_id": 45337886, "link": "https://stackoverflow.com/questions/45337886/valueerror-cannot-copy-sequence-to-array-axis-in-python-for-matplotlib-animatio/45342706#45342706", "title": "ValueError: Cannot copy sequence to array axis in Python for MatplotLib Animation", "body": "<p>The reason for your error is that you <code>std</code>becomes a list (of one element) of a data frame. <code>pd.rolling_std()</code> is already giving you a data frame, and then you append it to your list. If you just directly assign it, it will work better:</p>\n\n<pre><code>std = pd.rolling_std(yar, 100)\n</code></pre>\n\n<p>However, when running <code>pd.rolling_std()</code> there is a deprecation warning given. So, the line should rather be:</p>\n\n<pre><code>std = yar.rolling(window=100,center=False).std()\n</code></pre>\n\n<p>Also, there are a few more simplifications that can be made as of how you generate <code>xar</code> and <code>yar</code>. <code>xar</code> is just a range and <code>yar</code> contains all the elements of <code>data</code> allowing you to write:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\ndef animate(i):\n    data = pd.read_csv(\"C:\\\\Users\\\\Desktop\\\\data.txt\", sep=\"\\[|\\]\\[|\\]\",engine = 'python', header = None)\n    data = data.iloc[0]\n    data = data.astype(str).apply(lambda x: x.split(',')[-1]).astype(float)\n    data.pop(0)\n    xar = range(len(data))\n    yar = pd.DataFrame(data)\n    std = yar.rolling(window=100,center=False).std()\n    ax1.clear()\n    ax1.plot(xar,std)\n\nfig = plt.figure()\nax1 = fig.add_subplot(1,1,1)\nani = animation.FuncAnimation(fig, animate, interval=.01)\nplt.show()\n</code></pre>\n\n<p>where <code>animate()</code> has been somewhat simplified.</p>\n"}], "owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1067, "favorite_count": 0, "accepted_answer_id": 45342706, "answer_count": 1, "score": 0, "last_activity_date": 1501136152, "creation_date": 1501105138, "question_id": 45337886, "link": "https://stackoverflow.com/questions/45337886/valueerror-cannot-copy-sequence-to-array-axis-in-python-for-matplotlib-animatio", "title": "ValueError: Cannot copy sequence to array axis in Python for MatplotLib Animation", "body": "<p>I am reading in a constantly updated <code>data.txt</code> file and am calculating a rolling standard deviation on the incoming data stream.  I am storing that in <code>std</code>.  I have a window size of 100 on the rolling standard deviation.</p>\n\n<p>I am receiving an error:</p>\n\n<p><code>ValueError: cannot copy sequence with size 78 to array axis with dimension 1</code></p>\n\n<p>where the size corresponds to the number of items in the <code>std</code> array.  (So this, of course, increases every time I hit Run).</p>\n\n<p>I was wondering why I am receiving this ValueError, and am looking for any suggestions to fix it!  The animation works fine when I am just grading <code>ax1.plot(xar, yar)</code>.  But once I try to graph <code>ax1.plot(xar, std)</code>, the problem arises.  </p>\n\n<p>The data in <code>data.txt</code> looks as follows:</p>\n\n<pre><code>[0.0, 0.0078125, 0.015625][0.0, 0.0078125, 0.015625][0.0, 0.0078125, 0.015625][0.0, 0.0078125, 0.015625][0.0, 0.0078125, 0.015625][0.0, 0.0078125, 0.015625][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0244140625, 0.0322265625, 0.9609375][0.0263671875, 0.0341796875, 1.0341796875][0.0263671875, 0.0341796875, 1.0341796875][0.0263671875, 0.0341796875, 1.0341796875][0.0263671875, 0.0341796875, 1.0341796875][0.0263671875, 0.0341796875, 1.0341796875][0.0263671875, 0.0341796875, 1.0341796875][0.0263671875, 0.0341796875, 1.0341796875][0.0263671875, 0.0341796875, 1.0341796875][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.0244140625, 0.0341796875, 1.0048828125][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.033203125, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.0263671875, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.0107421875][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625][0.025390625, 0.0341796875, 1.009765625]\n</code></pre>\n\n<p>My current code is as follows:</p>\n\n<pre><code>fig = plt.figure()\nax1 = fig.add_subplot(1,1,1)\n\ndef animate(i):\n    data = pd.read_csv(\"C:\\\\Users\\\\Desktop\\\\data.txt\", sep=\"\\[|\\]\\[|\\]\",engine = 'python', header = None)\n    data = data.iloc[0]\n    data = data.astype(str).apply(lambda x: x.split(',')[-1]).astype(float)\n    data.pop(0)\n    xar = []\n    yar = []\n    std = []\n    for j in range(len(data)):\n        xar.append(j)\n    for k in range(len(data)):\n        yar.append(data.iloc[k])\n    yar = pd.DataFrame(yar)\n    std.append(pd.rolling_std(yar, 100))\n    ax1.clear()\n    ax1.plot(xar,std)\nani = animation.FuncAnimation(fig, animate, interval=.01)\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "keras", "hdf5", "slurm"], "owner": {"reputation": 81, "user_id": 7823523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4ea491af487833d30b6881cff60e9fc?s=128&d=identicon&r=PG&f=1", "display_name": "Ziyi Zhu", "link": "https://stackoverflow.com/users/7823523/ziyi-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1107, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1501106083, "creation_date": 1501105131, "last_edit_date": 1501106083, "question_id": 45337884, "link": "https://stackoverflow.com/questions/45337884/disk-quota-exceeded-error-when-using-keras", "title": "Disk Quota Exceeded error when using keras", "body": "<p>I am trying to save the weights of my neuralnet implemented in keras 1.2 using</p>\n\n<pre><code>model.save_weights('weights.h5')\n</code></pre>\n\n<p>but this is giving me 'disk quota exceeded' error message. I am guessing from the error message that it should take (implied by 'total write size') less than 70MB space, but it is actually taking (implied by 'bytes actually written') an unreasonable amount of space (18446744073709551615 bytes). I am expecting the size closer to 70MB since my network is just a one-layer 4096-unit SimpleRNN. I am running it on my college's supercomputer which uses slurm, and I am not sure if it also might be a slurm problem. </p>\n\n<p>Here is the error message:</p>\n\n<pre><code>IOError: Can't prepare for writing data (File write failed: file descriptor = 3, \n    errno = 122, error message = 'disk quota exceeded', buf = 0x2b72e0202010, \n    total write size = 67108864, bytes this sub-write = 67108864, bytes actually\n    written = 18446744073709551615, offset = 2720)\n\nException RuntimeError: RuntimeError(\"Can't decrement id ref count(Unable to extend\n    file properly, errno = 122, error message = 'disk quota exceeded')\",) in \n    'h5py._objects.ObjectID.__dealloc__' ignored /var/spool/slurm/job06721/\n    slurm_script: line 12: 10763 Segmentation fault python keras_test.py\n</code></pre>\n"}, {"tags": ["python", "exception", "traceback"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501105082, "post_id": 45337853, "comment_id": 77637718, "body": "Just because there is a class wiht the <code>__name__ == &#39;traceback&#39;</code> doesn&#39;t mean that in the global namespace, <code>traceback</code> refers to that class."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1501105529, "post_id": 45337853, "comment_id": 77637897, "body": "What are you even planning to do with this type? Having access to the type object doesn&#39;t get you much."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1501105570, "post_id": 45337853, "comment_id": 77637912, "body": "You&#39;re already accessing the type with <code>type(e[2])</code>, by the way."}, {"owner": {"reputation": 1129, "user_id": 6348578, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ade648e808fe790082a9879bb39de29f?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/6348578/noah"}, "edited": false, "score": 3, "creation_date": 1501105612, "post_id": 45337853, "comment_id": 77637932, "body": "Type annotations and curiosity."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1501105757, "post_id": 45337916, "comment_id": 77637991, "body": "It should be noted that this isn&#39;t the &quot;true&quot; name of the type - there&#39;s no &quot;true&quot; name - and it&#39;s not the place where the type is defined. <code>types.py</code> just raises an exception to get the traceback and sets <code>TracebackType = type(tb)</code>."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1501106885, "post_id": 45337916, "comment_id": 77638481, "body": "@user2357112 Updated."}], "tags": [], "owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "is_accepted": true, "score": 16, "last_activity_date": 1561813725, "last_edit_date": 1561813725, "creation_date": 1501105224, "answer_id": 45337916, "question_id": 45337853, "link": "https://stackoverflow.com/questions/45337853/what-is-the-type-of-traceback-objects-in-python/45337916#45337916", "title": "What is the type of traceback objects in Python?", "body": "<p><code>traceback</code> object is an instance of <a href=\"https://docs.python.org/3/library/types.html#types.TracebackType\" rel=\"noreferrer\"><code>TracebackType</code></a> present under types module.</p>\n\n<blockquote>\n  <p><code>types.TracebackType</code></p>\n  \n  <p>The type of <code>traceback</code> objects such as found in <code>sys.exc_info()[2]</code>.</p>\n</blockquote>\n\n<p></p>\n\n<pre><code>&gt;&gt;&gt; from types import TracebackType    \n&gt;&gt;&gt; isinstance(info[2], TracebackType)\nTrue    \n&gt;&gt;&gt; TracebackType\n&lt;class 'traceback'&gt;\n</code></pre>\n\n<hr>\n\n<p>As <a href=\"https://stackoverflow.com/questions/45337853/what-is-the-type-of-traceback-objects-in-python/45337916#comment77637991_45337916\">pointed out by @user2357112</a> the name <code>TracebackType</code> is basically an alias to the internal <code>traceback</code> type and is <a href=\"https://github.com/python/cpython/blob/master/Python/traceback.c#L189\" rel=\"noreferrer\">set by raising an exception</a> in types module. The actual <a href=\"https://github.com/python/cpython/blob/master/Python/traceback.c#L75\" rel=\"noreferrer\"><code>traceback</code> type</a> can be found in CPython code.</p>\n"}], "owner": {"reputation": 1129, "user_id": 6348578, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ade648e808fe790082a9879bb39de29f?s=128&d=identicon&r=PG&f=1", "display_name": "Noah", "link": "https://stackoverflow.com/users/6348578/noah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2798, "favorite_count": 2, "accepted_answer_id": 45337916, "answer_count": 1, "score": 13, "last_activity_date": 1561813725, "creation_date": 1501104995, "question_id": 45337853, "link": "https://stackoverflow.com/questions/45337853/what-is-the-type-of-traceback-objects-in-python", "title": "What is the type of traceback objects in Python?", "body": "<pre><code>import sys\n\ntry:\n    raise Exception('foobar')\nexcept:\n    info = sys.exc_info()\n\nprint(type(e[2])) # &lt;class 'traceback'&gt;\nhelp(traceback) # NameError: name 'traceback' is not defined\n</code></pre>\n\n<p>What exactly is the type of the traceback objects that Python uses for exception reporting?</p>\n\n<p>The docs on <a href=\"https://docs.python.org/3/library/sys.html#sys.exc_info\" rel=\"noreferrer\">sys.exc_info</a> mention the Reference Manual, but while I've found plenty of information on how to manipulate traceback instances, I want to be able to access the type (class) itself.</p>\n"}, {"tags": ["python", "machine-learning", "linear-regression"], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "edited": false, "score": 0, "creation_date": 1501106602, "post_id": 45338153, "comment_id": 77638352, "body": "Unfortunately, this doesn&#39;t seem to fix the problem - same output as before."}, {"owner": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "edited": false, "score": 0, "creation_date": 1501108038, "post_id": 45338153, "comment_id": 77638956, "body": "Still no luck! The same output as before. I&#39;ve inserted y = y.reshape((m, 1)) directly after the declaration of m in the if <b>name</b> block, and x1 = X[:, 1].reshape((m, 1)) at the top of gradient_descent."}, {"owner": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "edited": false, "score": 0, "creation_date": 1501108259, "post_id": 45338153, "comment_id": 77639035, "body": "what data did you use?"}, {"owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "reply_to_user": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "edited": false, "score": 0, "creation_date": 1501108287, "post_id": 45338153, "comment_id": 77639049, "body": "generated my own at random so I&#39;d know the true slope and intercept"}, {"owner": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "edited": false, "score": 0, "creation_date": 1501108424, "post_id": 45338153, "comment_id": 77639091, "body": "<a href=\"http://college.cengage.com/mathematics/brase/understandable_statistics/7e/students/datasets/slr/frames/frame.html\" rel=\"nofollow noreferrer\">college.cengage.com/mathematics/brase/understandable_statist&zwnj;&#8203;ics/&hellip;</a> I&#39;m using the list price vs best price dataset here to no avail. I get RuntimeWarning: invalid value encountered in double_scalars on the line where I&#39;m assigning to temp2, probably due to the NaN"}, {"owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "reply_to_user": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "edited": false, "score": 0, "creation_date": 1501108508, "post_id": 45338153, "comment_id": 77639120, "body": "I uploaded my full code. It correctly outputs intercept of ~0 and slope ~30"}, {"owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "reply_to_user": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "edited": false, "score": 0, "creation_date": 1501108760, "post_id": 45338153, "comment_id": 77639198, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/150233/discussion-between-ryan-stout-and-bag\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1021, "user_id": 2251083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b66a1c40b14b2624effadfe252c23eb0?s=128&d=identicon&r=PG", "display_name": "Ryan Stout", "link": "https://stackoverflow.com/users/2251083/ryan-stout"}, "is_accepted": true, "score": 0, "last_activity_date": 1501108466, "last_edit_date": 1501108466, "creation_date": 1501106452, "answer_id": 45338153, "question_id": 45337830, "link": "https://stackoverflow.com/questions/45337830/univariate-linear-regression-outputting-nan/45338153#45338153", "title": "Univariate Linear Regression outputting NaN", "body": "<p>The problem you're seeing is that when you do <code>X[:,1]</code> or <code>data[:,1]</code>, you get objects of shape (m,). When you multiply an object of shape (m,) with a matrix of shape (m,1), you get a matrix of size (m,m)</p>\n\n<pre><code>a = np.array([1,2,3])\nb = np.array([[4],[5],[6]])\n(a*b).shape #prints (3,3)\n</code></pre>\n\n<p>If you do\n    y=y.reshape((m,1))\nin your <code>if __name__</code> block and inside your gradient_descent function you do</p>\n\n<pre><code>X_1 = X[:,1].reshape((m,1))\n</code></pre>\n\n<p>Should fix the problem. Right now what's happening is that when you do </p>\n\n<pre><code>((hypothesis(X, theta) - y) * X[:, 1])\n</code></pre>\n\n<p>you're getting a 100 by 100 matrix, which is not what you want. </p>\n\n<p>Full code I used for testing is:</p>\n\n<pre><code># implementation of univariate linear regression\nimport numpy as np\n\n\ndef cost_function(hypothesis, y, m):\n  return (1 / (2 * m)) * ((hypothesis - y) ** 2).sum()\n\n\ndef hypothesis(X, theta):\n  return X.dot(theta)\n\n\ndef gradient_descent(X, y, theta, m, alpha):\n  X_1 = X[:,1]\n  X_1 = X_1.reshape((m,1))\n  for i in range(1500):\n    temp1 = theta[0][0] - alpha * (1 / m) * (hypothesis(X, theta) - y).sum()\n    temp2 = theta[1][0] - alpha * (1 / m) * ((hypothesis(X, theta) - y) * X_1).sum()\n    theta[0][0] = temp1\n    theta[1][0] = temp2\n\n  return theta\n\nif __name__ == '__main__':\n  data= np.random.normal(size=(100,2))\n\n  y = 30*data[:,0] + data[:, 1]\n  m = y.size\n  X = np.ones(shape=(m, 2))\n  y = y.reshape((m,1))\n  X[:, 1] = data[:, 0]\n  theta = np.zeros(shape=(2, 1))\n  alpha = 0.01\n\n  print(gradient_descent(X, y, theta, m, alpha))\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 7756827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b7023045d939222e2eac3143345f04d?s=128&d=identicon&r=PG&f=1", "display_name": "screeb", "link": "https://stackoverflow.com/users/7756827/screeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 45338153, "answer_count": 1, "score": 0, "last_activity_date": 1501108466, "creation_date": 1501104903, "question_id": 45337830, "link": "https://stackoverflow.com/questions/45337830/univariate-linear-regression-outputting-nan", "title": "Univariate Linear Regression outputting NaN", "body": "<p>I'm currently writing an implementation of univariate linear regression on python:</p>\n\n<pre><code># implementation of univariate linear regression\nimport numpy as np\n\n\ndef cost_function(hypothesis, y, m):\n  return (1 / (2 * m)) * ((hypothesis - y) ** 2).sum()\n\n\ndef hypothesis(X, theta):\n  return X.dot(theta)\n\n\ndef gradient_descent(X, y, theta, m, alpha):\n  for i in range(1500):\n    temp1 = theta[0][0] - alpha * (1 / m) * (hypothesis(X, theta) - y).sum()\n    temp2 = theta[1][0] - alpha * (1 / m) * ((hypothesis(X, theta) - y) * X[:, 1]).sum()\n    theta[0][0] = temp1\n    theta[1][0] = temp2\n\n  return theta\n\nif __name__ == '__main__':\n  data = np.loadtxt('data.txt', delimiter=',')\n\n  y = data[:, 1]\n  m = y.size\n  X = np.ones(shape=(m, 2))\n  X[:, 1] = data[:, 0]\n  theta = np.zeros(shape=(2, 1))\n  alpha = 0.01\n\n  print(gradient_descent(X, y, theta, m, alpha))\n</code></pre>\n\n<p>This code will output NaN for theta, after going to infinity - I can't figure out what's going wrong, but it's surely something to do with my changing of theta in the gradient descent function.</p>\n\n<p>The data I'm using is a simple linear regression pairs dataset I got online - and that loads in correctly.</p>\n\n<p>Can anyone point me in the right direction?</p>\n"}, {"tags": ["python", "class"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 6, "creation_date": 1501104735, "post_id": 45337788, "comment_id": 77637582, "body": "because <code>a is b</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1501104786, "post_id": 45337788, "comment_id": 77637598, "body": "You should read <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">Facts and Myths about Python names and values</a>."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "edited": false, "score": 0, "creation_date": 1501104860, "post_id": 45337788, "comment_id": 77637627, "body": "Also see <a href=\"https://stackoverflow.com/questions/10151080/the-immutable-object-in-python\" title=\"the immutable object in python\">stackoverflow.com/questions/10151080/&hellip;</a>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501104861, "post_id": 45337788, "comment_id": 77637629, "body": "By the way, this is how <i>all Python variables work</i>."}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1501105054, "post_id": 45337788, "comment_id": 77637703, "body": "@juanpa.arrivillaga unless they are immutable. This wouldn&#39;t have worked with strings (or tuples, or ints for that matter)."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1501105126, "post_id": 45337788, "comment_id": 77637737, "body": "@DeepSpace nope. It <i>always</i> works this way, <i>even with immutable objects</i>. Immutable objects lack mutator methods, so you can&#39;t change them in the first place. Reassignment is <i>not</i> mutation."}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501105207, "post_id": 45337788, "comment_id": 77637762, "body": "@juanpa.arrivillaga <code>a = 1 ; b = a ; a += 1; print(a, b) ; # 2, 1</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1501105249, "post_id": 45337788, "comment_id": 77637782, "body": "@DeepSpace what is your point? <code>__iadd__</code> is not a mutator method in the case of <code>int</code>s. Again, the semantics of these things work <b>exactly the same for every single object in Python</b>."}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1501105253, "post_id": 45337788, "comment_id": 77637784, "body": "@juanpa.arrivillaga Obviously this example re-assigns to <code>a</code>. The point is because ints are immutable <code>b</code> ia not affected."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1501105683, "post_id": 45337788, "comment_id": 77637957, "body": "@DeepSpace Again, so what? You are essentially saying because <code>a</code> wasn&#39;t mutated, <code>a</code> wasn&#39;t mutated. Yes, if you reassign a variable, it gets reassigned. But this works <b>exactly the same with immutable and mutable objects</b>. See this <a href=\"https://gist.github.com/juanarrivillaga/895f89cda1461e7f9f81396a17c85527\" rel=\"nofollow noreferrer\">gist</a>. Also, there are ways to actually mutate <code>int</code>s, if you don&#39;t mind doing some <a href=\"http://jakevdp.github.io/blog/2014/05/09/why-python-is-slow/#Python-meta-hacking:-Don&#39;t-take-my-word-for-it\" rel=\"nofollow noreferrer\">dark magic</a>. And sure enough, <code>a</code> and <code>b</code> would reflect those changes."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1501105756, "post_id": 45337788, "comment_id": 77637989, "body": "@DeepSpace fundamentally, Python objects don&#39;t have some inherent quality that makes them immutable - they simply lack a public interface to mutate them. There is no way for the semantics to be different."}], "answers": [{"tags": [], "owner": {"reputation": 1629, "user_id": 6634981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7cf7315d5991470e856d27c9248ae25b?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Afonso", "link": "https://stackoverflow.com/users/6634981/carlos-afonso"}, "is_accepted": false, "score": 0, "last_activity_date": 1501105109, "creation_date": 1501105109, "answer_id": 45337880, "question_id": 45337788, "link": "https://stackoverflow.com/questions/45337788/variable-changes-if-i-change-a-different-variable/45337880#45337880", "title": "variable changes if I change a different variable", "body": "<p>Because when you do <code>b = a</code> you're not creating a new object of the class <code>number</code> just passing the reference of the object which <code>a</code> references.</p>\n"}, {"tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": true, "score": 0, "last_activity_date": 1501105165, "creation_date": 1501105165, "answer_id": 45337891, "question_id": 45337788, "link": "https://stackoverflow.com/questions/45337788/variable-changes-if-i-change-a-different-variable/45337891#45337891", "title": "variable changes if I change a different variable", "body": "<p>@juanpa.arrivillaga provided good comments to your question. I just want to add how to fix your code to do what you expect it to do:</p>\n\n<h2>Method 1:</h2>\n\n<pre><code>class number:\n    def __init__(self, value):\n        self.value = value\n    def add(self):\n        self.value = self.value + 1\na = number(10)\nb = number(a.value) # create a new object with the same value as 'a'\nb.add()\na.value\n</code></pre>\n\n<h2>Method 2:</h2>\n\n<pre><code>import copy\nclass number:\n    def __init__(self, value):\n        self.value = value\n    def add(self):\n        self.value = self.value + 1\na = number(10)\nb = copy.copy(a) # make a shallow copy of the object a \n# b = copy.deepcopy(a) # &lt;-- that is what most people think of a \"real\" copy\nb.add()\na.value\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8350331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c99c16756d5a567daef976be94e7f19?s=128&d=identicon&r=PG&f=1", "display_name": "MarchOfTheMikes", "link": "https://stackoverflow.com/users/8350331/marchofthemikes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 45337891, "answer_count": 2, "score": 0, "last_activity_date": 1501105165, "creation_date": 1501104691, "question_id": 45337788, "link": "https://stackoverflow.com/questions/45337788/variable-changes-if-i-change-a-different-variable", "title": "variable changes if I change a different variable", "body": "<p>Whenever I create an instance of a class, create a variable that's assigned that first instance, and use an attribute of the class on the second variable my first variable changes.</p>\n\n<pre><code>class number:\n    def __init__(self, value):\n        self.value = value\n    def add(self):\n        self.value = self.value + 1\na = number(10)\nb = a\nb.add()\na.value\n</code></pre>\n\n<p>why does a.value give me 11 when I didn't use <code>a.add()</code>?</p>\n"}, {"tags": ["python", "r", "web-services"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 3621552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1121593727/picture?type=large", "display_name": "SimonKragh", "link": "https://stackoverflow.com/users/3621552/simonkragh"}, "edited": false, "score": 1, "creation_date": 1501672881, "post_id": 45339108, "comment_id": 77878913, "body": "Worked like a charm! Thanks a lot!"}], "tags": [], "owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "is_accepted": true, "score": 2, "last_activity_date": 1501112513, "creation_date": 1501112513, "answer_id": 45339108, "question_id": 45337787, "link": "https://stackoverflow.com/questions/45337787/read-file-from-requests-module-in-python/45339108#45339108", "title": "Read file from Requests module in Python", "body": "<p>The part you mentioned in your question is the client-side of the code. You have to choose a web-framework first. For a single controller like the one you mentioned, you could use <a href=\"http://cherrypy.org/\" rel=\"nofollow noreferrer\">cherrypy</a>. Its so minimal and fun to use. simply <code>pip install cherrypy</code> then</p>\n\n<pre><code>import cherrypy\n\nclass UploadFile(object):\n    @cherrypy.expose\n    def upload(self, ufile):\n        data = ufile.file.read() # Read the file you uploaded\n        # Process your data\n\ncherrypy.quickstart(UploadFile()) \n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 3621552, "user_type": "registered", "profile_image": "https://graph.facebook.com/1121593727/picture?type=large", "display_name": "SimonKragh", "link": "https://stackoverflow.com/users/3621552/simonkragh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "closed_date": 1501144697, "accepted_answer_id": 45339108, "answer_count": 1, "score": 1, "last_activity_date": 1501112513, "creation_date": 1501104686, "question_id": 45337787, "link": "https://stackoverflow.com/questions/45337787/read-file-from-requests-module-in-python", "closed_reason": "Needs more focus", "title": "Read file from Requests module in Python", "body": "<p>I'm trying to create a web service using Python or R. This web service should \nbe able to receive a file as an input and process it. So far i have made the API request as follow in Python:</p>\n\n<pre><code>import requests\nwith open('userdata.txt','rb') as payload:\n    r = requests.post('https://localhost:8080/upload', data=payload, verify=False)\n</code></pre>\n\n<p>However, i am not sure how to setup the \"/upload\" web service. I have python and/or R available to process the request as it is on a server that i cant gain further access to. The overall task is to receive the file, load a machine learning algorithm, classify the text inside the file and return an answer with a score, if that changes anything.</p>\n\n<p>Thanks in advance! </p>\n"}, {"tags": ["python", "regex", "list"], "comments": [{"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 1, "creation_date": 1501104650, "post_id": 45337752, "comment_id": 77637554, "body": "You don&#39;t need regex for this."}], "answers": [{"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 3, "last_activity_date": 1501104658, "creation_date": 1501104658, "answer_id": 45337780, "question_id": 45337752, "link": "https://stackoverflow.com/questions/45337752/regex-multiple-string-match-in-a-python-list/45337780#45337780", "title": "regex multiple string match in a python list", "body": "<p>You don't need regex for this at all. A list comprehension with <code>any</code> will suffice</p>\n\n<pre><code>&gt;&gt;&gt; subs = ['ra', 'dec', 'lat']\n&gt;&gt;&gt; strings = [\"ra\", \"dec\", \"ra-error\", \"dec-error\", \"glat\", \"glon\", \"flux\", \"l\", \"b\"]\n&gt;&gt;&gt; [s for s in strings if any(i in s for i in subs)]\n['ra', 'dec', 'ra-error', 'dec-error', 'glat']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 8334184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vh8dU.png?s=128&g=1", "display_name": "Nick Carter", "link": "https://stackoverflow.com/users/8334184/nick-carter"}, "is_accepted": true, "score": 1, "last_activity_date": 1501106410, "creation_date": 1501106410, "answer_id": 45338144, "question_id": 45337752, "link": "https://stackoverflow.com/questions/45337752/regex-multiple-string-match-in-a-python-list/45338144#45338144", "title": "regex multiple string match in a python list", "body": "<p>Here's a solution using regex if that's what you really need. I search to see if any of your 3 substrings are present inside any given string from the list. Using <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/re.html</a> as the Python regex library.</p>\n\n<pre><code>import re\nfor word in wordList:\n  m = re.search('.*(ra|dec|lat).*', word)\n  if m:\n    &lt;youve matched here&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1674, "user_id": 6613299, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/WGQGV.jpg?s=128&g=1", "display_name": "Rohit-Pandey", "link": "https://stackoverflow.com/users/6613299/rohit-pandey"}, "is_accepted": false, "score": 0, "last_activity_date": 1501123838, "creation_date": 1501123838, "answer_id": 45340513, "question_id": 45337752, "link": "https://stackoverflow.com/questions/45337752/regex-multiple-string-match-in-a-python-list/45340513#45340513", "title": "regex multiple string match in a python list", "body": "<p><code>find</code> also works for your problem.</p>\n\n<pre><code>a=[\"ra\", \"dec\", \"ra-error\", \"dec-error\", \"glat\", \"glon\", \"flux\", \"l\", \"b\"]\nb=[]\nfor i in a:\n    if i.find(\"ra\")!=-1:\n        b.append(i)\n    if i.find(\"dec\")!=-1:\n        b.append(i)\n    if i.find(\"lat\")!=-1:\n        b.append(i)\nprint b\n\nb=['ra', 'dec', 'ra-error', 'dec-error', 'glat']\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 3858468, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5e06a293d8ab8d474d1f92bc1bac9fc4?s=128&d=identicon&r=PG&f=1", "display_name": "Neosapien", "link": "https://stackoverflow.com/users/3858468/neosapien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "accepted_answer_id": 45338144, "answer_count": 3, "score": -4, "last_activity_date": 1501143050, "creation_date": 1501104571, "last_edit_date": 1501143050, "question_id": 45337752, "link": "https://stackoverflow.com/questions/45337752/regex-multiple-string-match-in-a-python-list", "title": "regex multiple string match in a python list", "body": "<p>I have a list of strings like this:</p>\n\n<p><code>[\"ra\", \"dec\", \"ra-error\", \"dec-error\", \"glat\", \"glon\", \"flux\", \"l\", \"b\"]</code></p>\n\n<p>I need to find all the strings in this list that contain <code>\"ra\"</code> or <code>\"dec\"</code> or <code>\"lat\"</code></p>\n\n<p>I checked many other threads as well as the regex manual. It turned out to be too confusing for me. Pleas help. :(</p>\n"}, {"tags": ["python", "vba", "excel", "xlwings"], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 8372413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9c000af2fb9ec75cef708845113b042?s=128&d=identicon&r=PG&f=1", "display_name": "VBAMadeMeDoIt", "link": "https://stackoverflow.com/users/8372413/vbamademedoit"}, "is_accepted": false, "score": 3, "last_activity_date": 1501186607, "last_edit_date": 1501186607, "creation_date": 1501184212, "answer_id": 45359590, "question_id": 45337749, "link": "https://stackoverflow.com/questions/45337749/xlwings-issue-writing-to-cells-in-excel-2010/45359590#45359590", "title": "xlwings issue writing to cells in Excel 2010", "body": "<p>Turns out I misunderstood the behavior of functions in Excel and the usage of the decorator <code>xw.func</code> - which will essentially convert that block of code into an Excel Function. Function behavior is described here:<br>\n<a href=\"https://support.microsoft.com/en-us/help/170787/description-of-limitations-of-custom-functions-in-excel\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/help/170787/description-of-limitations-of-custom-functions-in-excel</a><br>\nI had hoped to circumvent macros entirely to reduce overhead but sadly the inherent restrictions of using Excel prevent this - <strong>functions cannot modify the contents of any other piece of the workbook</strong>. I hope this saves someone else the trouble of losing a couple days of work, though they were certainly educational. If anyone sees this and can suggest a viable workaround given my environment, you're more than welcome to.</p>\n"}], "owner": {"reputation": 143, "user_id": 8372413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9c000af2fb9ec75cef708845113b042?s=128&d=identicon&r=PG&f=1", "display_name": "VBAMadeMeDoIt", "link": "https://stackoverflow.com/users/8372413/vbamademedoit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1501186607, "creation_date": 1501104559, "last_edit_date": 1501178741, "question_id": 45337749, "link": "https://stackoverflow.com/questions/45337749/xlwings-issue-writing-to-cells-in-excel-2010", "title": "xlwings issue writing to cells in Excel 2010", "body": "<p>At present I'm working to manage SQL connections to an Excel file via a Python script. The script uses xlwings to read and write to the workbook. Unfortunately, only the 'read' piece is functioning. I've combed Stackoverflow for quite some time today and noone seems to have this exact issue. Here is some debugging code I wrote up in the pertinent Python script(it exists on a worksheet as a UDF, the sheet I'm trying to write to is a different one); I'm not terribly experienced with Python or xlwings yet so feel free to gripe about structure/syntax :)</p>\n\n<pre><code>@xw.func\ndef compatTest():\n    #use active workbook\n    wb = xw.Book.caller()\n    #does the sheet Notes exist?\n    if wb.sheets['Notes']:\n        status = \"Status: \"\n        #does A1 in Notes have a value?\n        if wb.sheets['Notes'].range('$A$1').value:\n            status += \"Good\"\n            #Can we write to the specified empty cell?\n            try: \n                wb.sheets['Notes'].range('$E$1').value = 'something'\n            #Nope :(\n            except Exception as e:\n                status = e.message\n                return status + \"can't write :(\"\n            #This return statement shouldn't evaluate, just casting a wide net here\n            return status + \" \" + str(wb.sheets['Notes'].range('$A$1').value)\n        else:\n            #A1 in notes is blank\n            status += \"Bad\"\n            wb.sheets['Notes'].range('$E$1').value = 'nothing'\n            return status + \" \" + 'blank :('\n</code></pre>\n\n<p>Output in cell with the UDF in it: \"can't write :(\" - this means the error message isn't being returned.</p>\n\n<p>I'm using the xlwings 0.11.4 add-in and VBA reference(I am <strong>not</strong> using the VBA module as it appears to overlap with the add-in and generates VBA error 49 'Bad DLL calling convention'). I haven't touched the add-in code, as unlike the module the settings aren't handled in the file. The settings I have entered in the xlwings ribbon are all accurate.\n<br>\n<br>\nCurrent settings:<br>\nOS: Windows Server 2008 R2 Enterprise(testing here due to restrictions, script won't be deployed here)<br>\nPython version/distro: 2.7/Anaconda2<br>\nxlwings version: 0.11.4<br>\nExcel version: 2010 v. 14.0.7182.5000(32 bit)<br>\n<br>\n<br>\n<strong>Edit:</strong> Interestingly enough, when I first open the file(after updating links &amp; hitting 'Continue' for outdated links), the cell with the UDF displays \"Status: Good \". If I double click the cell to re-evaluate the UDF, it changes to \"can't write :(\" again.\n<br>\nIf I change the except block to the following:</p>\n\n<pre><code> except:\n            a = str(sys.exc_info()[0])\n            b = str(sys.exc_info()[1])\n            c = str(sys.exc_info()[2])\n            status = str(a + \" \\ \" + b + \" \\ \" + c)\n            return status\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>\"&lt;class 'pywintypes.com_error'&gt; \\ (-2147352567, 'Exception occurred.', (0, None, None, None, 0, -2146827284), None) \\ &lt;traceback object at 0x0000000007B95708&gt;\"\n</code></pre>\n\n<p><br>\n<strong>Edit #2:</strong><br>\nOddly enough I can write to cells using the <em>xw.sub</em> decorator:<br></p>\n\n<pre><code>@xw.sub\ndef SomeFunction():\n    wb = xw.Book.caller()\n    wb.sheets['Notes'].range('B3').value = \"hello world\"\n</code></pre>\n\n<p>That code works just fine, but I'd rather run as much as I can through UDFs if possible.</p>\n"}, {"tags": ["python", "rest", "python-requests"], "comments": [{"owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "edited": false, "score": 0, "creation_date": 1501112905, "post_id": 45337569, "comment_id": 77640292, "body": "500 error has nothing to do with the client. Their API faces issues probably.  <a href=\"http://www.restapitutorial.com/httpstatuscodes.html\" rel=\"nofollow noreferrer\">restapitutorial.com/httpstatuscodes.html</a>"}, {"owner": {"reputation": 13885, "user_id": 7811673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc232c9c0c9748fdd3dec0d5b816fb7?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.adam", "link": "https://stackoverflow.com/users/7811673/t-m-adam"}, "edited": false, "score": 0, "creation_date": 1501128935, "post_id": 45337569, "comment_id": 77644104, "body": "Either use the <code>json</code> argument for your data, or add this <code>&#39;Content-Type&#39;: &#39;application&#47;json&#39;</code> in <code>headers</code>"}, {"owner": {"reputation": 21, "user_id": 6647519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1d96c67f44ccf41411539519680dd4?s=128&d=identicon&r=PG&f=1", "display_name": "George Jiang", "link": "https://stackoverflow.com/users/6647519/george-jiang"}, "edited": false, "score": 0, "creation_date": 1501160661, "post_id": 45337569, "comment_id": 77664260, "body": "t.m.adam - thanks, i think that fixed it. do you know why that solution worked? (edit: my internet is relatively fast again now, maybe that&#39;s also a solution?)"}], "owner": {"reputation": 21, "user_id": 6647519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1d96c67f44ccf41411539519680dd4?s=128&d=identicon&r=PG&f=1", "display_name": "George Jiang", "link": "https://stackoverflow.com/users/6647519/george-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501103724, "creation_date": 1501103724, "question_id": 45337569, "link": "https://stackoverflow.com/questions/45337569/restful-file-upload-fails-with-large-files", "title": "RESTful file upload fails with large files", "body": "<p>Greenhouse's harvest API requires that I include the base64 encoded content in my post request to attach a file to a user. I put together this POST request in python, which works for files of size 70kb. </p>\n\n<pre><code>r = requests.post('https://harvest.greenhouse.io/v1/candidates/' + candidate_id + '/attachments', auth=(API_KEY, ''), data = json.dumps({\n                    'content': base64.b64encode(file_string),                    \n                    'filename': filename,\n                    'type': \"resume\",\n                    'content_type': \"image/png\"\n                    }), headers={'On-Behalf-Of': str(recruiter_id)})\n</code></pre>\n\n<p>However, when I upload a file of size 1MB+, I get a 500 error with no error message. I asked greenhouse support whether it was possible to upload files of size 1MB+, and they were able to successfully attach the file. Is there any major syntax error that I should be aware of when making this request, then?</p>\n\n<p>One thing I noticed was that my internet speed was extremely slow (2MB up, down). Could this be a possible reason why large files aren't able to be sent?</p>\n"}, {"tags": ["python", "jupyter-notebook", "jupyter"], "comments": [{"owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 0, "creation_date": 1501103903, "post_id": 45337536, "comment_id": 77637232, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/questions/32267540/ipython-jupyter-can-we-program-a-run-all-cell-above\" title=\"ipython jupyter can we program a run all cell above\">stackoverflow.com/questions/32267540/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1501109530, "post_id": 45337615, "comment_id": 77639442, "body": "This is practical only when the cells to select and run is not too many, say less than a couple of screenful."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "edited": false, "score": 0, "creation_date": 1501109863, "post_id": 45337615, "comment_id": 77639531, "body": "You can still select them using your mouse and the scroll window on your browser.  Select the first cell (hit escape to ensure that there is a blue indicator on the left to indicate you are not editing the cell).  Use your scroll window to locate the ending cell (could be hundreds or thousands of cells down).  Hold <code>Shift</code> while clicking the ending cell (click outside of the cell just to the left of it, by <code>In [ ]</code>. The entire range will then be selected."}, {"owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "edited": false, "score": 0, "creation_date": 1501161264, "post_id": 45337615, "comment_id": 77664860, "body": "Upvoting because it&#39;s a gif"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1501106037, "last_edit_date": 1501106037, "creation_date": 1501103899, "answer_id": 45337615, "question_id": 45337536, "link": "https://stackoverflow.com/questions/45337536/in-jupyter-notebook-interfaces-is-there-a-way-to-run-all-code-before-a-selected/45337615#45337615", "title": "In Jupyter notebook interfaces, is there a way to run all code before a selected line of code?", "body": "<p>You can select the relevant cells to run and then use the shortcut <code>Control-Enter</code> or <code>Shift-Enter</code>. To select the cells, choose the first one and hit <code>esc</code> to ensure you are not in edit mode (the color to the left should be blue, not green).  Then just hold down shift and press either the up arrow or down arrow to select a range of continuous cells.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ouWIE.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ouWIE.gif\" alt=\"enter image description here\"></a></p>\n\n<p>You could also insert a cell at your break location end enter something that will give an error, e.g. <code>1 / 0</code>.  The run all cells (<code>Cell &gt; Run All</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 9683, "user_id": 4076764, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c214b9830295015777d8c6cbc8462b4f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Hughes", "link": "https://stackoverflow.com/users/4076764/adam-hughes"}, "is_accepted": true, "score": 4, "last_activity_date": 1501104083, "creation_date": 1501104083, "answer_id": 45337650, "question_id": 45337536, "link": "https://stackoverflow.com/questions/45337536/in-jupyter-notebook-interfaces-is-there-a-way-to-run-all-code-before-a-selected/45337650#45337650", "title": "In Jupyter notebook interfaces, is there a way to run all code before a selected line of code?", "body": "<p>Click on the cell you want to run above, go to <code>Cell -&gt; Run All Above</code></p>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 6647310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jai6W.jpg?s=128&g=1", "display_name": "Sidrah", "link": "https://stackoverflow.com/users/6647310/sidrah"}, "is_accepted": false, "score": 0, "last_activity_date": 1571561545, "creation_date": 1571561545, "answer_id": 58471378, "question_id": 45337536, "link": "https://stackoverflow.com/questions/45337536/in-jupyter-notebook-interfaces-is-there-a-way-to-run-all-code-before-a-selected/58471378#58471378", "title": "In Jupyter notebook interfaces, is there a way to run all code before a selected line of code?", "body": "<p>just add a cell and paste these lines of code at the point to which you want all cells to run and run this cell, all above cells will run automatically one by one. </p>\n\n<pre><code>from IPython.display import Javascript\ndisplay(Javascript('IPython.notebook.execute_cells_above()'))\n</code></pre>\n"}], "owner": {"reputation": 21270, "user_id": 1150778, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b2790c74560690d1a476d9ee079a50b?s=128&d=identicon&r=PG&f=1", "display_name": "qazwsx", "link": "https://stackoverflow.com/users/1150778/qazwsx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1151, "favorite_count": 0, "accepted_answer_id": 45337650, "answer_count": 3, "score": 3, "last_activity_date": 1571561545, "creation_date": 1501103596, "question_id": 45337536, "link": "https://stackoverflow.com/questions/45337536/in-jupyter-notebook-interfaces-is-there-a-way-to-run-all-code-before-a-selected", "title": "In Jupyter notebook interfaces, is there a way to run all code before a selected line of code?", "body": "<p>I was working on a long Jupyter notebook and for some reason I had to close it and restart. After that, I'd like to run all the code before the line I was working on. Is there a convenient way to do this?</p>\n"}, {"tags": ["python", "ta-lib"], "answers": [{"tags": [], "owner": {"reputation": 2955, "user_id": 5642219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ff21486f749bb8deb88cc94ac12086?s=128&d=identicon&r=PG&f=1", "display_name": "mementum", "link": "https://stackoverflow.com/users/5642219/mementum"}, "is_accepted": true, "score": 1, "last_activity_date": 1501104971, "last_edit_date": 1592644375, "creation_date": 1501104971, "answer_id": 45337850, "question_id": 45337509, "link": "https://stackoverflow.com/questions/45337509/failing-on-install-talib-in-windows-7/45337850#45337850", "title": "Failing on install talib in windows 7", "body": "<p>That error is mentioned in the <code>README</code> in the repository: <a href=\"https://github.com/mrjbq7/ta-lib\" rel=\"nofollow noreferrer\">GitHub Repo</a></p>\n<blockquote>\n<p>Sometimes installation will produce build errors like this:</p>\n<pre><code>func.c:256:28: fatal error: ta-lib/ta_libc.h: No such file or directory\ncompilation terminated.\n</code></pre>\n<p>This typically means that it can't find the underlying TA-Lib library, a dependency which needs to be installed. On Windows, this could be caused by installing the 32-bit binary distribution of the underlying TA-Lib library, but trying to use it with 64-bit Python.</p>\n</blockquote>\n<p>Since your error log contains <code>amd64</code> it might well be that the 32bit vs 64bit issue is your actual problem.</p>\n<p>The library is only distributed in 32-bit format (the compilation/linking dates are from 2007)</p>\n<p>Check issue #11, <a href=\"https://github.com/mrjbq7/ta-lib/issues/11\" rel=\"nofollow noreferrer\">GitHub - Issue #11</a> for hints on how to compile it yourself.</p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 4346895, "user_type": "registered", "profile_image": "https://graph.facebook.com/677430212/picture?type=large", "display_name": "Arie", "link": "https://stackoverflow.com/users/4346895/arie"}, "is_accepted": false, "score": 1, "last_activity_date": 1521471165, "creation_date": 1521471165, "answer_id": 49365849, "question_id": 45337509, "link": "https://stackoverflow.com/questions/45337509/failing-on-install-talib-in-windows-7/49365849#49365849", "title": "Failing on install talib in windows 7", "body": "<p>I had the same issue running Anaconda3/python3.5/JupiterNotebook: \nCheck your version and download the appropriate binary from: <a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib\" rel=\"nofollow noreferrer\">https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib</a></p>\n\n<p>Upload and install:</p>\n\n<p>!pip install TA_Lib-0.4.17-cp35-cp35m-win_amd64.whl</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 9229117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1876b825217aaf992076548cf07c06bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ishan Shah", "link": "https://stackoverflow.com/users/9229117/ishan-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1577795096, "creation_date": 1577795096, "answer_id": 59544126, "question_id": 45337509, "link": "https://stackoverflow.com/questions/45337509/failing-on-install-talib-in-windows-7/59544126#59544126", "title": "Failing on install talib in windows 7", "body": "<p>Ta-Lib installation requires that you install the binary dependency. This can be easily installed by installing the whl file. This file can be found in this link: <a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib\" rel=\"nofollow noreferrer\">https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib</a>. You can refer to this blog for detailed steps: <a href=\"https://blog.quantinsti.com/install-ta-lib-python/\" rel=\"nofollow noreferrer\">https://blog.quantinsti.com/install-ta-lib-python/</a></p>\n\n<p>I had done a parallel run between ta-lib and other packages and also by using jit compiler. But the results of ta-lib were much better. On the internet, you will find many solutions but installing through whl is the best approach.</p>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 6804, "user_id": 1934510, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3f2e521fe728bb5d6e87db48df3c9114?s=128&d=identicon&r=PG", "display_name": "Filipe Ferminiano", "link": "https://stackoverflow.com/users/1934510/filipe-ferminiano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1417, "favorite_count": 0, "accepted_answer_id": 45337850, "answer_count": 3, "score": 1, "last_activity_date": 1577795096, "creation_date": 1501103510, "last_edit_date": 1501104258, "question_id": 45337509, "link": "https://stackoverflow.com/questions/45337509/failing-on-install-talib-in-windows-7", "title": "Failing on install talib in windows 7", "body": "<p>I'm trying to install TALib in Windows, but I'm getting this error:</p>\n\n<pre><code>   common.obj : error LNK2019: unresolved external symbol TA_GetUnstablePeriod referenced in function __pyx_pf_5talib_6common_8_ta_get_unstable_period\n    build\\lib.win-amd64-2.7\\talib\\common.pyd : fatal error LNK1120: 5 unresolved externals\n    error: command 'C:\\\\Users\\\\felipe.ferminiano\\\\AppData\\\\Local\\\\Programs\\\\Common\\\\Microsoft\\\\Visual C++ for Python\\\\9.0\\\\VC\\\\Bin\\\\amd64\\\\link.exe' failed with exit status 1120\n\n    ----------------------------------------\nCommand \"C:\\ProgramData\\Anaconda2\\python.exe -u -c \n    \"import setuptools, tokenize;\n        __file__='c:\\\\users\\\\felipe~1.fer\\\\appdata\\\\local\\\\temp\\\\pip-build-kye3ah\\\\TA-Lib\\\\setup.py';\n        f=getattr(tokenize, 'open', open)(__file__);\n        code=f.read().replace('\\r\\n', '\\n');\n        f.close();\n        exec(compile(code, __file__, 'exec'))\"\n    install --record c:\\users\\felipe~1.fer\\appdata\\local\\temp\\pip-al6w47-record\\install-record.txt --single-version-externally-managed --compile\"\nfailed with error code 1 in c:\\users\\felipe~1.fer\\appdata\\local\\temp\\pip-build-kye3ah\\TA-Lib\\\n</code></pre>\n\n<p>when I run:</p>\n\n<pre><code>pip install TA-Lib\n</code></pre>\n\n<p>I already installed Microsoft Visual C++ Compiler for Python 2.7.\nHow can I fix this?</p>\n"}, {"tags": ["python", "numpy", "optimization"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1501103681, "post_id": 45337479, "comment_id": 77637120, "body": "The default <code>stepsize</code> is 0.5. It&#39;s not taking big enough steps to escape the basin."}, {"owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "edited": false, "score": 0, "creation_date": 1567597914, "post_id": 45337479, "comment_id": 102008882, "body": "If you don&#39;t know how wide is local minima, apply a simulated annealing on top of optimization."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 14063916, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IeZTmsbyKIs/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnn9CkYfAj_bZs-U0rYZxccSij2Lw/s96-c/photo.jpg?sz=128", "display_name": "Peter Cotton", "link": "https://stackoverflow.com/users/14063916/peter-cotton"}, "is_accepted": false, "score": 0, "last_activity_date": 1608648630, "creation_date": 1608648630, "answer_id": 65410797, "question_id": 45337479, "link": "https://stackoverflow.com/questions/45337479/python-scipy-optimization-method-global-optimization-failed/65410797#65410797", "title": "Python Scipy Optimization method: global optimization failed", "body": "<p>Only SHGO will provide you guarantees. It also has a better performance based on my <a href=\"https://www.microprediction.com/blog/optimize\" rel=\"nofollow noreferrer\">benchmarking exercise</a>. Basin-hopping can spend too much time on one possible local minima whereas the homology based technique (i.e. shgo, which you can also pip install and use separately of scipy if you want) avoids this in a cunning fashion.</p>\n<p>I should add that if you really want to be careful, you should change the default SHGO sampling (it will use Sobol by default, which technically breaks the guarantee).</p>\n"}], "owner": {"reputation": 11, "user_id": 8228850, "user_type": "registered", "profile_image": "https://graph.facebook.com/1075846749226770/picture?type=large", "display_name": "Minh Vu", "link": "https://stackoverflow.com/users/8228850/minh-vu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1608648630, "creation_date": 1501103359, "question_id": 45337479, "link": "https://stackoverflow.com/questions/45337479/python-scipy-optimization-method-global-optimization-failed", "title": "Python Scipy Optimization method: global optimization failed", "body": "<p>I am trying to use a Scipy global optimizer to find a global min of a function, but instead of giving the global min as an answer, it stuck in a local min.\nThe code: </p>\n\n<pre><code>def f(x):\n    return x**2 + 10*np.sin(x)\nx = np.arange(-10, 10, 0.1)\nprint(optimize.basinhopping(f, 3))\n</code></pre>\n\n<p>Can anyone tell me why? And which method in Scipy you think is the best one to solve global optimization? </p>\n"}, {"tags": ["python", "multiple-inheritance", "diamond-problem"], "comments": [{"owner": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1501103639, "post_id": 45337436, "comment_id": 77637094, "body": "Related, if not duplicate: <a href=\"https://stackoverflow.com/questions/3277367/how-does-pythons-super-work-with-multiple-inheritance\">How does Python&#39;s super() work with multiple inheritance?</a>"}, {"owner": {"reputation": 136, "user_id": 7149246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed1543ea169dae2df2d26c9edd60a47b?s=128&d=identicon&r=PG&f=1", "display_name": "f1nan", "link": "https://stackoverflow.com/users/7149246/f1nan"}, "reply_to_user": {"reputation": 22012, "user_id": 194586, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/1a71658d81f8a82a8122050f21bb86d3?s=128&d=identicon&r=PG", "display_name": "Nick T", "link": "https://stackoverflow.com/users/194586/nick-t"}, "edited": false, "score": 0, "creation_date": 1501103874, "post_id": 45337436, "comment_id": 77637214, "body": "@NickT: I am aware of this thread and I did read it but it didn&#39;t help me understanding this problem"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1501106589, "post_id": 45337436, "comment_id": 77638343, "body": "I think the idea is that somewhere in the MRO there should/must be a method so you put it in the base class - even if it doesn&#39;t do anything or just raises a NotImplemented exception."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1501107076, "post_id": 45337436, "comment_id": 77638572, "body": "Take a look at the practical Advice section of <a href=\"https://rhettinger.wordpress.com/2011/05/26/super-considered-super/\" rel=\"nofollow noreferrer\">Python&#39;s super() considered super!</a>"}, {"owner": {"reputation": 136, "user_id": 7149246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed1543ea169dae2df2d26c9edd60a47b?s=128&d=identicon&r=PG&f=1", "display_name": "f1nan", "link": "https://stackoverflow.com/users/7149246/f1nan"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1501107389, "post_id": 45337436, "comment_id": 77638690, "body": "@wwii: I think I did express myself unclear. Could you have a look at my comment at Artyer&#39;s answer?"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1501107939, "post_id": 45337436, "comment_id": 77638925, "body": "You have asked two questions in this question - one deals with a different solution which you haven&#39;t provided.  You also seem to have modified your question with a comment to an answer.  Maybe you should regroup, think about your problem and ask specific questions (one at a time) that help you get to an understanding."}, {"owner": {"reputation": 136, "user_id": 7149246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed1543ea169dae2df2d26c9edd60a47b?s=128&d=identicon&r=PG&f=1", "display_name": "f1nan", "link": "https://stackoverflow.com/users/7149246/f1nan"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1501109191, "post_id": 45337436, "comment_id": 77639337, "body": "@wwii: It wasn&#39;t my intetnion to modify my original question. This is probably due to my poor english. But thanks for your advice."}], "answers": [{"tags": [], "owner": {"reputation": 15724, "user_id": 5754656, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7jfX3.png?s=128&g=1", "display_name": "Artyer", "link": "https://stackoverflow.com/users/5754656/artyer"}, "is_accepted": true, "score": 1, "last_activity_date": 1501104183, "creation_date": 1501104183, "answer_id": 45337675, "question_id": 45337436, "link": "https://stackoverflow.com/questions/45337436/understanding-multiple-inheritence-and-super-based-on-some-code-from-david-beazl/45337675#45337675", "title": "Understanding multiple inheritence and super based on some code from David Beazly", "body": "<p>Let's go through it line by line like a debugger.</p>\n\n<pre><code>PositiveInteger.check(x)\n\n# Method resolution order:\n# PositiveInteger, Positive, Integer, Contract (from Positive), Contract (from Integer)\n\n# Look through MRO for .check() method. Found in Positive.\n\nassert x &gt; 0\nsuper().check(value)\n\n# super() checks for next .check() method in MRO. Found in Integer\n\nassert isinstance(x, int)\nsuper().check(value)\n\n# super() checks for next .check() method in MRO. Found in Contract\n\npass\n</code></pre>\n\n<p>To easily find the method resolution order, use <a href=\"https://docs.python.org/3/library/inspect.html#inspect.getmro\" rel=\"nofollow noreferrer\"><code>inspect.getmro()</code></a>.</p>\n\n<p>If you had explicitly used the base class, after <code>Positive</code>, the base class is <code>Contract</code>, so <code>Integer</code> would never be called.</p>\n\n<p>You need to define <code>.check()</code> in <code>Contract</code> as when you call the last <code>super()</code>, if <code>Contract</code> didn't have the <code>.check()</code> method, it would have raised an <code>AttributeError</code>, as <code>super()</code> wouldn't have been able to find it.</p>\n"}], "owner": {"reputation": 136, "user_id": 7149246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed1543ea169dae2df2d26c9edd60a47b?s=128&d=identicon&r=PG&f=1", "display_name": "f1nan", "link": "https://stackoverflow.com/users/7149246/f1nan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 45337675, "answer_count": 1, "score": 1, "last_activity_date": 1501109053, "creation_date": 1501103148, "last_edit_date": 1501109053, "question_id": 45337436, "link": "https://stackoverflow.com/questions/45337436/understanding-multiple-inheritence-and-super-based-on-some-code-from-david-beazl", "title": "Understanding multiple inheritence and super based on some code from David Beazly", "body": "<p>I watched a <a href=\"https://www.youtube.com/watch?v=js_0wjzuMfc\" rel=\"nofollow noreferrer\">screencast</a> from David Beazly in which he implemeneted type checking using multiple or more specifically diamond inheritence. I thought that his approach looked really cool but it also confused me and I simply can't figure out how it is working. Here is the code im talking about:</p>\n\n<pre><code>class Contract:\n    @classmethod\n    def check(cls, value):\n        pass\n\n\nclass Integer(Contract):\n    @classmethod\n    def check(cls, value):\n        assert isinstance(value, int), 'Expected int'\n        super().check(value)\n\n\nclass Positive(Contract):\n    @classmethod\n    def check(cls, value):\n        assert value &gt; 0, 'Must be &gt; 0'\n        super().check(value)\n\n\nclass PositiveInteger(Positive, Integer):\n    pass\n</code></pre>\n\n<p>And here it is in action:</p>\n\n<pre><code>&gt;&gt;&gt; PositiveInteger.check(-3)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 4, in check\nAssertionError: Must be &gt; 0\n&gt;&gt;&gt; PositiveInteger.check(4.88)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;stdin&gt;\", line 5, in check\n  File \"&lt;stdin&gt;\", line 4, in check\nAssertionError: Expected int\n</code></pre>\n\n<p>My Questions are:</p>\n\n<ol>\n<li><p>Why is the definition of a base class Contract with a method check needed to make this work?</p></li>\n<li><p>I have a basic understanding of what super does. I know it lets us avoid calling the base class explicitly and somehow deals with multiple inheritence. But what does it do in this example exactly?</p></li>\n</ol>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1501106313, "post_id": 45337371, "comment_id": 77638225, "body": "Try <code>model.layers[-1].output</code> instead <code>model(x)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1080, "user_id": 7507932, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GAZxPD3wWwE/AAAAAAAAAAI/AAAAAAAAC38/MxdTD3HD_jw/photo.jpg?sz=128", "display_name": "Keith Rush", "link": "https://stackoverflow.com/users/7507932/keith-rush"}, "is_accepted": false, "score": 0, "last_activity_date": 1513195219, "creation_date": 1513195219, "answer_id": 47801229, "question_id": 45337371, "link": "https://stackoverflow.com/questions/45337371/taking-derivative-of-keras-model-wrt-to-inputs-is-returning-all-zeros/47801229#47801229", "title": "Taking derivative of Keras model wrt to inputs is returning all zeros", "body": "<p>Check if the softmax is saturated and therefore giving you very small gradients--try </p>\n\n<pre><code>model_grad = K.gradients(K.dot(model.layers[-1].input,model.layers[-1].kernel)+model.layers[-1].bias, model.input)\n</code></pre>\n"}], "owner": {"reputation": 1603, "user_id": 2145297, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bb7bc3386bd49104fc0e07186ccb27ed?s=128&d=identicon&r=PG", "display_name": "mdornfe1", "link": "https://stackoverflow.com/users/2145297/mdornfe1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1001, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1513195219, "creation_date": 1501102913, "question_id": 45337371, "link": "https://stackoverflow.com/questions/45337371/taking-derivative-of-keras-model-wrt-to-inputs-is-returning-all-zeros", "title": "Taking derivative of Keras model wrt to inputs is returning all zeros", "body": "<p>So I have a Keras model. I want to take the gradient of the model wrt to its inputs. Here's what I do</p>\n\n<pre><code>import tensorflow as tf\nfrom keras.models import Sequential\nfrom keras.layers import Dense\nfrom keras import backend as K\n\nnum_features = 5\n\nmodel = Sequential()\nmodel.add(Dense(60, input_shape=(num_features,), activation='relu'))\nmodel.add(Dense(50, activation='relu'))\nmodel.add(Dense(1, activation='softmax'))\nmodel.compile(optimizer='adam', loss='binary_crossentropy')\n#Run predict to initialize weights\nmodel.predict(np.random.rand(1, num_features))\n\nx = tf.random_uniform(shape=(1, num_features))\nmodel_grad = tf.gradients(model(x), x)[0]\n</code></pre>\n\n<p>However when I print out the value of dmodel_dx I get all 0's. </p>\n\n<pre><code>sess = K.get_session()\nprint( model_grad.eval(session=sess) )\n&gt;&gt;&gt;array([[ 0.,  0.,  0.,  0.,  0.]], dtype=float32)\n</code></pre>\n\n<p>Anyone know what I'm doing wrong?</p>\n"}, {"tags": ["python", "windows-7", "embedded-linux", "pyserial", "python-3.6"], "comments": [{"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 1, "creation_date": 1501103246, "post_id": 45337356, "comment_id": 77636896, "body": "Can you show the error message you are receiving?"}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1501103356, "post_id": 45337356, "comment_id": 77636947, "body": "Also, are you not looping the read on the board to wait for input?"}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1501103373, "post_id": 45337356, "comment_id": 77636959, "body": "<code>While True:     bytesToRead = ser.inWaiting()     ser.read(bytesToRead)</code>"}, {"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "reply_to_user": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 1, "creation_date": 1501103550, "post_id": 45337356, "comment_id": 77637049, "body": "@EastonBornemeier he doesn&#39;t need to loop for this. it&#39;s set to never time out, and will wait on <code>ComPort.read(1)</code> until 1 byte is received. For this test, there is not need to read in a loop"}, {"owner": {"reputation": 13673, "user_id": 1599004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df9d2a02744f666e97375e05fdc54255?s=128&d=identicon&r=PG", "display_name": "sawdust", "link": "https://stackoverflow.com/users/1599004/sawdust"}, "edited": false, "score": 0, "creation_date": 1501132354, "post_id": 45337356, "comment_id": 77645220, "body": "<i>&quot;from a microUSB port on the board&quot;</i> -- And yet you&#39;re reading from <code>&#47;dev&#47;ttyS0</code>??? Perform a sanity test on the Debian side (aka the <i>&quot;board&quot;</i>): instead of your script, use a terminal emulator program, such as <b>minicom</b>, (or <code>cat &lt;&#47;dev&#47;ttyS0</code> if necessary) to verify that the board is actually receiving something.  IOW you&#39;re probably using the wrong device node."}], "owner": {"reputation": 21, "user_id": 8291844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0d4c86e2eb155043e5b503d283d9125?s=128&d=identicon&r=PG&f=1", "display_name": "WWREPEAT", "link": "https://stackoverflow.com/users/8291844/wwrepeat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1900, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1501102866, "creation_date": 1501102866, "question_id": 45337356, "link": "https://stackoverflow.com/questions/45337356/pyserial-read-failed-device-reports-readiness-to-read-but-returned-no-data", "title": "PySerial. Read failed: device reports readiness to read but returned no data", "body": "<p>I have a windows 7 os pc, using pyserial in python3.6 to talk to an embedded board with a debian Jessie os that is using pyserial python 3.6 to listen. The cable between the two is a USB to UART bridge controller from a microUSB port on the board to a USB port on the pc. These are my scripts:</p>\n\n<p>PC:</p>\n\n<pre><code>import serial\n\nser = serial.Serial('COM5')\nser.baudrate = 115200\nser.bytesize = 8\nser.parity = 'N'\nser.stopbits = 1\n\ndata = bytearray(b'A')\nNo = ser.write(data)\n\nser.close()\n</code></pre>\n\n<p>BOARD:</p>\n\n<pre><code>import serial\n\nComPort = serial.Serial('dev/ttyS0')\nComPort.baudrate = 115200\nComPort.bytesize = 8\nComPort.parity = 'N'\nComPort.stopbits = 1\n\ndata = ComPort.read(1)\nprint(data)\n\nComPort.close()\n</code></pre>\n\n<p>THE PROBLEM:\nI run the script on the board first, it will run and wait without incident until I run the script on the pc.  Once I run the pc script, it takes a second or two for the error in the title to pop up on the board and stop the script.  There are no errors on the pc side, and the script runs and finishes in less than a second.</p>\n\n<p>I am connected to the board via putty ssh on the pc.  I need to be able to send commands and files between these two via this serial connection.  Any help or working examples would be a great help.  Is there a problem with using pyserial on both the sender and receiver?</p>\n"}, {"tags": ["python", "python-3.x", "caching", "scope"], "comments": [{"owner": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 1, "creation_date": 1501103026, "post_id": 45337329, "comment_id": 77636779, "body": "It doesn&#39;t seem like something you should be able to do, it is a local variable in that function. The only hope you have is reflection. Why are you trying to do this?"}, {"owner": {"reputation": 6332, "user_id": 389812, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9957f1a4336de4c1451678d69208bc68?s=128&d=identicon&r=PG", "display_name": "gdw2", "link": "https://stackoverflow.com/users/389812/gdw2"}, "reply_to_user": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "edited": false, "score": 0, "creation_date": 1501103224, "post_id": 45337329, "comment_id": 77636879, "body": "why? because I can.   really why? I want to persist cache between reboots while developing."}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 1, "creation_date": 1501103453, "post_id": 45337329, "comment_id": 77637003, "body": "Have you read <a href=\"https://stackoverflow.com/questions/15585493/store-the-cache-to-a-file-functools-lru-cache-in-python-3-2\">this</a>?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1501103817, "post_id": 45337329, "comment_id": 77637175, "body": "While you <i>could</i> do this, with a lot of fragile poking at implementation details, it&#39;d be better to just use your own memoization implementation."}, {"owner": {"reputation": 6332, "user_id": 389812, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9957f1a4336de4c1451678d69208bc68?s=128&d=identicon&r=PG", "display_name": "gdw2", "link": "https://stackoverflow.com/users/389812/gdw2"}, "edited": false, "score": 0, "creation_date": 1501170702, "post_id": 45337329, "comment_id": 77672469, "body": "related: <a href=\"https://stackoverflow.com/questions/14413946/what-exactly-is-contained-within-a-obj-closure\" title=\"what exactly is contained within a obj closure\">stackoverflow.com/questions/14413946/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8174, "user_id": 2319844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886739627f42f94f4e05159428a265fa?s=128&d=identicon&r=PG", "display_name": "Sumner Evans", "link": "https://stackoverflow.com/users/2319844/sumner-evans"}, "is_accepted": false, "score": 2, "last_activity_date": 1501103667, "creation_date": 1501103667, "answer_id": 45337554, "question_id": 45337329, "link": "https://stackoverflow.com/questions/45337329/access-lru-caches-cache/45337554#45337554", "title": "Access lru_cache&#39;s cache", "body": "<p>You can use <a href=\"https://github.com/shaypal5/cachier\" rel=\"nofollow noreferrer\"><code>cachier</code></a> by <a href=\"https://github.com/shaypal5\" rel=\"nofollow noreferrer\">Shay Palachy</a>. You can tell it to cache to a <a href=\"https://github.com/shaypal5/cachier#pickle-core\" rel=\"nofollow noreferrer\">pickle file</a>.</p>\n\n<p>Alternatively, look at <a href=\"https://github.com/abarnert/persistent-lru-cache/blob/master/persistent_lru_cache.py\" rel=\"nofollow noreferrer\"><code>persistent_lru_cache</code></a> developed by <a href=\"https://github.com/abarnert\" rel=\"nofollow noreferrer\">Andrew Barnert</a>.</p>\n"}], "owner": {"reputation": 6332, "user_id": 389812, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9957f1a4336de4c1451678d69208bc68?s=128&d=identicon&r=PG", "display_name": "gdw2", "link": "https://stackoverflow.com/users/389812/gdw2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1501103667, "creation_date": 1501102781, "question_id": 45337329, "link": "https://stackoverflow.com/questions/45337329/access-lru-caches-cache", "title": "Access lru_cache&#39;s cache", "body": "<p><strong>General problem</strong>: How can I access a variable in a function's closure? </p>\n\n<p><strong>Specific problem</strong>: How can I access the raw <code>cache</code> from a python function wrapped with <code>functools.lru_cache()</code>?</p>\n\n<p>If I memoize a function (example taken from the <a href=\"https://docs.python.org/3/library/functools.html#functools.lru_cache\" rel=\"nofollow noreferrer\">docs</a>)...</p>\n\n<pre><code>@lru_cache(maxsize=None)\ndef fib(n):\n    if n &lt; 2:\n        return n\n    return fib(n-1) + fib(n-2)\n\n&gt;&gt;&gt; [fib(n) for n in range(16)]\n[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610]\n\n&gt;&gt;&gt; fib.cache_info()\nCacheInfo(hits=28, misses=16, maxsize=None, currsize=16)\n</code></pre>\n\n<p>Here is where <code>cache</code> is defined: <a href=\"https://github.com/python/cpython/blob/f0851910eb8e711bf8f22165cb0df33bb27b09d6/Lib/functools.py#L491\" rel=\"nofollow noreferrer\">https://github.com/python/cpython/blob/f0851910eb8e711bf8f22165cb0df33bb27b09d6/Lib/functools.py#L491</a></p>\n\n<p>When <code>fib()</code> is memoized, <code>lru_cache</code> adds a <code>cache_info()</code> and <code>cache_clear()</code> function to the wrapper.  <code>cache_clear()</code> has access to <code>cache</code> and I have access to <code>cache_clear()</code> so can I somehow use that to access <code>cache</code> directly?</p>\n"}, {"tags": ["python", "database", "sqlite"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501103244, "post_id": 45337414, "comment_id": 77636893, "body": "forgot to take those out! but still no luck"}, {"owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501103255, "post_id": 45337414, "comment_id": 77636899, "body": "was only added to ensure it was checking the correct database Taken it out but no luckBASE_DIR = os.path.dirname(os.path.abspath(<b>file</b>))     db_path = os.path.join(BASE_DIR, &quot;database.db&quot;)"}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "reply_to_user": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 1, "creation_date": 1501103592, "post_id": 45337414, "comment_id": 77637073, "body": "@maz86 If you have modified your code and still get an error (same error or another one), please <i>update</i> the question with the latest code you have and the error you get."}, {"owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501104197, "post_id": 45337414, "comment_id": 77637363, "body": "Just updated. Thank you for your help. getting same error"}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "reply_to_user": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501104462, "post_id": 45337414, "comment_id": 77637472, "body": "@maz86 Pay close attention to the code in the bottom of my answer. You are still passing the wrong value to <code>sqlite3.connect</code>."}, {"owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501104812, "post_id": 45337414, "comment_id": 77637612, "body": "not sure where i am going wrong. sorry                                                                                                            def run_query (self, query, parameters = ()): # database connection                                  with sqlite3.connect(self.db_name) as conn:             cursor = conn.cursor()             query_result = cursor.execute (query, parameters)             conn.commit()         return query_result"}, {"owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501105217, "post_id": 45337414, "comment_id": 77637766, "body": "tried this too                                                                                                                     def run_query (self, query, parameters = ()): # database connection                         db_path = os.path.join( &quot;database.db&quot;)         with sqlite3.connect(db_path) as conn:             cursor = conn.cursor()             query_result = cursor.execute (query, parameters)             conn.commit()         return query_result"}], "tags": [], "owner": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "is_accepted": false, "score": 1, "last_activity_date": 1501103058, "creation_date": 1501103058, "answer_id": 45337414, "question_id": 45337316, "link": "https://stackoverflow.com/questions/45337316/sqlite-python-database-error-no-such-table/45337414#45337414", "title": "sqlite python database error - no such table", "body": "<p>This creates a variable called <code>db_path</code> which contains the path to the file <code>database.db</code></p>\n\n<pre><code>db_path = os.path.join(BASE_DIR, \"database.db\")\n</code></pre>\n\n<p>But this uses the literal string <code>db_path</code> as the name of the database to connect to, <em>not</em> the contents of the variable you've just created:</p>\n\n<pre><code>with sqlite3.connect('db_path') as conn:\n</code></pre>\n\n<p>To use the variable, remove the quotes:</p>\n\n<pre><code>with sqlite3.connect(db_path) as conn:\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501104436, "post_id": 45337420, "comment_id": 77637463, "body": "updated the code and removed that bit. still got the same issue :( thanks for the help"}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "reply_to_user": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501104503, "post_id": 45337420, "comment_id": 77637486, "body": "@maz86 Pay close attention to the code in the bottom of my answer. You are still passing the wrong value to <code>sqlite3.connect</code>"}, {"owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "edited": false, "score": 0, "creation_date": 1501106020, "post_id": 45337420, "comment_id": 77638095, "body": "just tried and same error. BASE_DIR = os.path.dirname(os.path.abspath(<b>file</b>))         db_path = os.path.join(BASE_DIR, self.db_name)                       with sqlite3.connect(db_path) as conn:"}], "tags": [], "owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "is_accepted": false, "score": 3, "last_activity_date": 1501103409, "last_edit_date": 1501103409, "creation_date": 1501103078, "answer_id": 45337420, "question_id": 45337316, "link": "https://stackoverflow.com/questions/45337316/sqlite-python-database-error-no-such-table/45337420#45337420", "title": "sqlite python database error - no such table", "body": "<pre><code>...\ndb_path = os.path.join(BASE_DIR, \"database.db\")\nwith sqlite3.connect('db_path') as conn:\n...\n</code></pre>\n\n<p>You are creating a new database file with the name <code>'db_path'</code>.</p>\n\n<p>Instead of</p>\n\n<p><code>with sqlite3.connect('db_path') as conn:</code> </p>\n\n<p>you should have</p>\n\n<p><code>with sqlite3.connect(db_path) as conn:</code> </p>\n\n<p>Or in other words, use the variable <code>db_path</code> and not the literal string <code>'db_path'</code>.</p>\n\n<p>For the sake of completeness, you may also want to use <code>Product.db_name</code> that you have already defined instead of hard-coding <code>'database.db'</code> again:</p>\n\n<pre><code>...\ndb_path = os.path.join(BASE_DIR, self.db_name)\nwith sqlite3.connect(db_path) as conn:\n...\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8372429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8199fdfefe6769ae3320dcee1898365e?s=128&d=identicon&r=PG&f=1", "display_name": "maz86", "link": "https://stackoverflow.com/users/8372429/maz86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6766, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1501104837, "creation_date": 1501102742, "last_edit_date": 1501104837, "question_id": 45337316, "link": "https://stackoverflow.com/questions/45337316/sqlite-python-database-error-no-such-table", "title": "sqlite python database error - no such table", "body": "<p>I have made a database with a table called product. When I run the code below I get an error - sqlite3.OperationalError: no such table: product.  I have used a database browser to check and the table does exist. Any ideas? The code and the file are both in the same folder. Thanks </p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\nimport sqlite3\nimport os.path\n\nclass Product:\n    db_name = 'database.db'\n\n    def __init__(self, wind):\n        self.wind = wind\n        self.wind.title('IT Products')\n\n        frame = LabelFrame (self.wind, text = 'Add new record')\n        frame.grid (row = 0, column = 1)\n\n        Label (frame, text = 'Name: ').grid (row = 1, column = 1)\n        self.name = Entry (frame)\n        self.name.grid(row = 1, column = 2)\n\n        Label (frame, text = 'Price: ').grid (row = 2, column = 1)\n        self.price = Entry (frame)\n        self.price.grid(row = 2, column = 2)\n\n        ttk.Button (frame, text= 'Add record').grid (row = 3, column =2 )\n        self.message = Label (text = '',fg = 'red')\n        self.message.grid (row = 3, column = 0)\n\n        self.tree = ttk.Treeview (height = 10, colum =2)\n        self.tree.grid(row = 4, column = 0, columnspan = 2)\n        self.tree.heading('#0', text = 'Name', anchor = W)\n        self.tree.heading(2, text = 'Price', anchor = W)\n\n        ttk.Button (text = 'Delete record').grid (row = 5, column = 0)\n        ttk.Button (text = 'Edit record').grid (row = 5, column = 1)\n\n        self.viewing_records ()\n\n\n\n    def run_query (self, query, parameters = ()): # database connection\n        with sqlite3.connect(self.db_name) as conn:\n            cursor = conn.cursor()\n            query_result = cursor.execute (query, parameters)\n            conn.commit()\n        return query_result\n\n\n    def viewing_records(self):\n        records = self.tree.get_children()\n        for element in records:\n            self.tree.delete (element)\n        query = 'SELECT * FROM product ORDER BY name DESC'\n        db_rows = self.run_query (query)\n        for row in db_rows:\n            self.tree.insert ('', 0, text = row[1], values = row[2])\n\nif __name__ == '__main__':\n    wind = Tk()\n    application = Product (wind)\n    wind.mainloop()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "graph", "3d"], "comments": [{"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 2, "creation_date": 1501103019, "post_id": 45337306, "comment_id": 77636778, "body": "Can you try to clear up your explanation? I&#39;m not following. What is meant by the line: <code>Sensor Number 4 = 200 from a skala from 0 until 800</code>"}, {"owner": {"reputation": 5360, "user_id": 5103802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/889904984390190/picture?type=large", "display_name": "Vin&#237;cius Figueiredo", "link": "https://stackoverflow.com/users/5103802/vin%c3%adcius-figueiredo"}, "edited": false, "score": 1, "creation_date": 1501103146, "post_id": 45337306, "comment_id": 77636839, "body": "You first have to understand what kind of data you have, do you have three 1D arrays, tuples with 3 elements, ...?"}, {"owner": {"reputation": 17, "user_id": 8372405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1773d8598e0a68ea152d718d87c9f73?s=128&d=identicon&r=PG&f=1", "display_name": "GeorgM", "link": "https://stackoverflow.com/users/8372405/georgm"}, "edited": false, "score": 0, "creation_date": 1501103435, "post_id": 45337306, "comment_id": 77636992, "body": "i mean that z can take values from 0 to 800 and in this example it was 400."}, {"owner": {"reputation": 17, "user_id": 8372405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1773d8598e0a68ea152d718d87c9f73?s=128&d=identicon&r=PG&f=1", "display_name": "GeorgM", "link": "https://stackoverflow.com/users/8372405/georgm"}, "edited": false, "score": 0, "creation_date": 1501104268, "post_id": 45337306, "comment_id": 77637394, "body": "I hope now that i uploaded the pisture that you can understand what i mean!!Thanks for the comments"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8372405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1773d8598e0a68ea152d718d87c9f73?s=128&d=identicon&r=PG&f=1", "display_name": "GeorgM", "link": "https://stackoverflow.com/users/8372405/georgm"}, "edited": false, "score": 0, "creation_date": 1501106693, "post_id": 45337890, "comment_id": 77638393, "body": "Thank you very much!!that helped me a lot..really!! but instead of using bar3d plot..is it also possible to make a 3d surface plot with these data?? Thanks"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 17, "user_id": 8372405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1773d8598e0a68ea152d718d87c9f73?s=128&d=identicon&r=PG&f=1", "display_name": "GeorgM", "link": "https://stackoverflow.com/users/8372405/georgm"}, "edited": false, "score": 0, "creation_date": 1501107836, "post_id": 45337890, "comment_id": 77638878, "body": "Yes, but it&#39;s not really readable, looking at the plot, who would guess that this plots 16 different sensor data? Of course it&#39;s your choice."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1501107794, "last_edit_date": 1501107794, "creation_date": 1501105151, "answer_id": 45337890, "question_id": 45337306, "link": "https://stackoverflow.com/questions/45337306/matplotlib-3d-inserting-data/45337890#45337890", "title": "matplotlib 3d -- inserting data", "body": "<p>You need to start somewhere. So let's say the data is a list of 16 values. You can then create a 2D array of it and show that array as an image.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n# input data is a list of 16 values, \n# the first value is of sensor 1, the last of sensor 16\ninput_data = [200,266,350,480,\n              247,270,320,511,\n              299,317,410,500,\n              360,360,504,632]\n# create numpy array from list and reshape it to a 4x4 matrix\nz = np.array(input_data).reshape(4,4)\n# at this point you can already show an image of the data\nplt.imshow(z)\nplt.colorbar()\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cg7Z8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cg7Z8.png\" alt=\"enter image description here\"></a></p>\n\n<p>An option to now plot the values as height in a 3D plot instead of color in a 2D plot would be to use a <code>bar3d</code> plot.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\n# input data is a list of 16 values, \n# the first value is of sensor 1, the last of sensor 16\ninput_data = [200,266,350,480,\n              247,270,320,511,\n              299,317,410,500,\n              360,360,504,632]\n\n# create a coordinate grid\nx,y = np.meshgrid(range(4), range(4))\n\nax = plt.gcf().add_subplot(111, projection=\"3d\")\n#plot the values as 3D bar graph\n# bar3d(x,y,z, dx,dy,dz) \nax.bar3d(x.flatten(),y.flatten(),np.zeros(len(input_data)), \n         np.ones(len(input_data)),np.ones(len(input_data)),input_data)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8YYSc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8YYSc.png\" alt=\"enter image description here\"></a></p>\n\n<p>You may also plot a surface plot, but in that case the grid will define the edges of the surface tiles.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\n# input data is a list of 16 values, \n# the first value is of sensor 1, the last of sensor 16\ninput_data = [200,266,350,480,\n              247,270,320,511,\n              299,317,410,500,\n              360,360,504,632]\n\n# create a coordinate grid\nx,y = np.meshgrid(range(4), range(4))\nz = np.array(input_data).reshape(4,4)\n\nax = plt.gcf().add_subplot(111, projection=\"3d\")\n#plot the values as 3D surface plot \nax.plot_surface(x,y,z)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8gczd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8gczd.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 17, "user_id": 8372405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1773d8598e0a68ea152d718d87c9f73?s=128&d=identicon&r=PG&f=1", "display_name": "GeorgM", "link": "https://stackoverflow.com/users/8372405/georgm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 1, "accepted_answer_id": 45337890, "answer_count": 1, "score": 0, "last_activity_date": 1501107794, "creation_date": 1501102713, "last_edit_date": 1501104004, "question_id": 45337306, "link": "https://stackoverflow.com/questions/45337306/matplotlib-3d-inserting-data", "title": "matplotlib 3d -- inserting data", "body": "<p><a href=\"https://i.stack.imgur.com/g5nOs.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>i am a beginner at programming. I started like 2 months ago so please be patient with me :-) \nSo i want to make a 3d surface plot with matplotlib on python 3.4.</p>\n\n<p>i watched a lot of tutorials about this but i didnt find something exactly like what i need to do..i hope you can help me.\nIn all the videos they give with meshgrid a relation between the 3 axis(x, y, z) but i dont want that.what i want to do is this:\ni have 16 sensors and they are placed on 4 rows with 4 sensors each so in the fisrt row are 1,2,3,4 and the second 5,6,7,8 and so on..(the order of sensors is very important).for example Sensor Number 4 = 200 from a skala from 0 until 800..i thought of using x and y axis only for the correct location in the graph..for example with sensor 4(=200 from 800) is placed in the first row in the forth column...so..x=4 and y=1 and z=200 from 800 like before.so in the end every sensor has only one 'real' value..z..</p>\n\n<p>how can i import this kind of data with matplotlib for all 16 sensor to make a 3d plot?? i would really appreciate any kind of help.. </p>\n"}, {"tags": ["python", "python-3.x", "tensorflow", "keras", "keras-layer"], "answers": [{"tags": [], "owner": {"reputation": 40179, "user_id": 646543, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/a6xF2.jpg?s=128&g=1", "display_name": "Michael0x2a", "link": "https://stackoverflow.com/users/646543/michael0x2a"}, "is_accepted": true, "score": 0, "last_activity_date": 1501102922, "creation_date": 1501102922, "answer_id": 45337374, "question_id": 45337228, "link": "https://stackoverflow.com/questions/45337228/from-layers-import-input-systemerror-parent-module-not-loaded-cannot-perf/45337374#45337374", "title": "from ..layers import Input SystemError: Parent module &#39;&#39; not loaded, cannot perform relative import", "body": "<p>It appears that resnet50.py is a part of the keras package and is not meant to be run as a standalone script by itself.</p>\n\n<p>I would recommend importing the relevant classes from the resnet50 package. For example, you could do something like:</p>\n\n<pre><code>from keras.applications.resnet50 import ResNet50\n\nresnet = ResNet50(...)\n</code></pre>\n\n<p>Of course, you would need to install keras first.</p>\n"}], "owner": {"reputation": 521, "user_id": 7561641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ad9a1f3a568454db382be8963d28718?s=128&d=identicon&r=PG&f=1", "display_name": "Hoda Fakharzadeh", "link": "https://stackoverflow.com/users/7561641/hoda-fakharzadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 45337374, "answer_count": 1, "score": 0, "last_activity_date": 1501102922, "creation_date": 1501102434, "question_id": 45337228, "link": "https://stackoverflow.com/questions/45337228/from-layers-import-input-systemerror-parent-module-not-loaded-cannot-perf", "title": "from ..layers import Input SystemError: Parent module &#39;&#39; not loaded, cannot perform relative import", "body": "<p>I'm trying to run resnet50.py from keras.applications  but i get this error:</p>\n\n<pre><code>    from ..layers import Input\nSystemError: Parent module '' not loaded, cannot perform relative import\n</code></pre>\n\n<p>pls tell me how to fix it?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 0, "creation_date": 1501104068, "post_id": 45337378, "comment_id": 77637312, "body": "Thanks a million for the tip, that totally worked...! Please let me know if I should mark this as &#39;resolved&#39; if stackoverflow has this requirement... Have a great day!"}], "tags": [], "owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "is_accepted": false, "score": 1, "last_activity_date": 1501102943, "creation_date": 1501102943, "answer_id": 45337378, "question_id": 45337222, "link": "https://stackoverflow.com/questions/45337222/python-pandas-questions/45337378#45337378", "title": "Python Pandas Questions", "body": "<p>It looks like a DataFrame is being returned. You can convert this to a Series by doing:</p>\n\n<pre><code>hwr_df = pd.Series(hwr_df[hwr_df.columns[0]])\n</code></pre>\n"}], "owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562080689, "creation_date": 1501102407, "last_edit_date": 1562080689, "question_id": 45337222, "link": "https://stackoverflow.com/questions/45337222/python-pandas-questions", "title": "Python Pandas Questions", "body": "<p>Hello I am using python version 3 to retrieve data from a building automation system thru RESTapi query. This returns a lot of data, but I dont think its in pandas series format... I also attached a snip of the python shell output. Ultimately what I am trying to do a create a pandas series to do some simple math but Im doing something wrong!</p>\n\n<pre><code>hwr = session.find_entity(filter_expr='secondaryhwr').result\nhwr_df = session.his_read_frame(hwr, rng= '2017-05-01,2017-07-25').result\n\nprint(hwr_df.tail())\nprint(hwr_df.head())\nprint(hwr_df.describe())\n\nprint(type(hwr_df))\nprint(hwr_df.columns)\nprint(type(hwr_df.index))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dnM2L.jpg\" rel=\"nofollow noreferrer\">Python Shell Output</a></p>\n"}, {"tags": ["python", "variables", "lambda"], "comments": [{"owner": {"reputation": 664, "user_id": 7525579, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2jBfzEo338/AAAAAAAAAAI/AAAAAAAAADc/eQOAtv5Q7qg/photo.jpg?sz=128", "display_name": "Jason Stein", "link": "https://stackoverflow.com/users/7525579/jason-stein"}, "edited": false, "score": 2, "creation_date": 1501102479, "post_id": 45337189, "comment_id": 77636454, "body": "<a href=\"https://stackoverflow.com/questions/6282042/assignment-inside-lambda-expression-in-python\" title=\"assignment inside lambda expression in python\">stackoverflow.com/questions/6282042/&hellip;</a>"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 1, "creation_date": 1501102910, "post_id": 45337189, "comment_id": 77636719, "body": "I don&#39;t think this really is a duplicate of that question. While the title is very similar, the actual problem seems to be a bit different. (Actually just wanted to vote for re-open, forgot about anti-dupe-hammer...)"}, {"owner": {"reputation": 903, "user_id": 2312300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7bf30b3d1f6893d8710598eaedf84a?s=128&d=identicon&r=PG", "display_name": "SilentGuy", "link": "https://stackoverflow.com/users/2312300/silentguy"}, "edited": false, "score": 0, "creation_date": 1603496319, "post_id": 45337189, "comment_id": 114065682, "body": "You can assign variable in lambda using walrus operator (in Python 3.8)."}], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 0, "creation_date": 1501102718, "post_id": 45337237, "comment_id": 77636600, "body": "No what I was trying to do is use the argument passed to the lambda to do calculations, but I repeatedly performed the operation <code>3+2*n</code> to the argument so I wanted to assign that to a variable."}], "tags": [], "owner": {"reputation": 362, "user_id": 3420114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e09c63a4627179872ed62ef92ea599?s=128&d=identicon&r=PG", "display_name": "Zoidberg", "link": "https://stackoverflow.com/users/3420114/zoidberg"}, "is_accepted": false, "score": 1, "last_activity_date": 1501103164, "last_edit_date": 1501103164, "creation_date": 1501102479, "answer_id": 45337237, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/45337237#45337237", "title": "Can you assign variables in a lambda?", "body": "<p>You can just pass your lambda an argument which passes it along to another argument if you wish:</p>\n\n<pre><code>&gt;&gt;&gt; b = lambda x: 3 + 2*x\n&gt;&gt;&gt; a = lambda y: y * b(y)\n&gt;&gt;&gt; a(1)\n5\n&gt;&gt;&gt; a(2)\n14\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "is_accepted": false, "score": 1, "last_activity_date": 1501102490, "creation_date": 1501102490, "answer_id": 45337243, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/45337243#45337243", "title": "Can you assign variables in a lambda?", "body": "<p>You can create 2 different lambda functions and pass one to the other. For example,</p>\n\n<pre><code>b = lambda x: 3+2*x\na = lambda y: [my math here using variable b(y)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1911, "user_id": 5018771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6dec254b17d75df0cfa8c42806cfca3f?s=128&d=identicon&r=PG&f=1", "display_name": "AdrienW", "link": "https://stackoverflow.com/users/5018771/adrienw"}, "edited": false, "score": 0, "creation_date": 1603214551, "post_id": 45337430, "comment_id": 113964250, "body": "To newer visitors: note that the last proposition does not work with Python 3.8 as assignment expressions are disallowed in lambda functions."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 15, "last_activity_date": 1561968465, "last_edit_date": 1561968465, "creation_date": 1501103120, "answer_id": 45337430, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/45337430#45337430", "title": "Can you assign variables in a lambda?", "body": "<p>Nope, you can't. Only expressions allowed in <a href=\"https://docs.python.org/3/reference/expressions.html#lambda\" rel=\"noreferrer\"><code>lambda</code></a>:</p>\n\n<blockquote>\n<pre><code>lambda_expr        ::=  \"lambda\" [parameter_list]: expression\nlambda_expr_nocond ::=  \"lambda\" [parameter_list]: expression_nocond\n</code></pre>\n</blockquote>\n\n<p>You could, however, define a <em>second</em> <code>lambda</code> <em>inside</em> the <code>lambda</code> and immediately call it with the parameter you want. (Whether that's really better might be another question.)</p>\n\n<pre><code>&gt;&gt;&gt; a = lambda n: ((3+2*n), n*(3+2*n))  # for reference, with repetition\n&gt;&gt;&gt; a(42)\n(87, 3654)\n&gt;&gt;&gt; a2 = lambda n: (lambda b: (b, n*b))(3+2*n)  # lambda inside lambda\n&gt;&gt;&gt; a2(42)\n(87, 3654)\n&gt;&gt;&gt; a3 = lambda n: (lambda b=3+2*n: (b, n*b))()  # using default parameter\n&gt;&gt;&gt; a3(42)\n(87, 3654)\n</code></pre>\n\n<p>Of course, both the outer and the inner lambda can have more than one parameter, i.e. you can define multiple \"variables\" at once. The benefit of this approach over, e.g., defining a second lambda <em>outside</em> of the first is, that you can still also use the original parameters (not possible if you invoked <code>a</code> with <code>b</code> pre-calculated) and you have to do the calculation for <code>b</code> only once (other than repeatedly invoking a function for the calculation of <code>b</code> within <code>a</code>).</p>\n\n<hr>\n\n<p>Also, inspired by the <a href=\"https://stackoverflow.com/a/14617232/1639625\">top answer to the linked question</a>, you could also define one or more variables as part of a list comprehension or generator within the lambda, and then get the <code>next</code> (first and only) result from that generator or list:</p>\n\n<pre><code>&gt;&gt;&gt; a4 = lambda n: next((b, n*b) for b in [3+2*n])\n&gt;&gt;&gt; a4(42)\n(87, 3654)\n</code></pre>\n\n<p>However, I think the intent behind the lambda-in-a-lambda is a bit clearer. Finally, keep in mind that instead of a one-line <code>lambda</code>, you could also just use a much clearer three-line <code>def</code> statement...</p>\n\n<hr>\n\n<p>Also, starting with Python 3.8, there will be <a href=\"https://www.python.org/dev/peps/pep-0572/\" rel=\"noreferrer\">assignment expressions</a>, which <em>should</em> make it possible to write something like this. (Note that I could not try/verify this as I do not have Python 3.8 yet.)</p>\n\n<pre><code>&gt;&gt;&gt; a5 = lambda n: ((b := 3+2*n), n*b))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "edited": false, "score": 3, "creation_date": 1510595622, "post_id": 47270206, "comment_id": 81491884, "body": "Yes you can do that.  But why would you ever do that!"}], "tags": [], "owner": {"reputation": 29, "user_id": 5758953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714aaa3999e537ba590b50a7c37797a8?s=128&d=identicon&r=PG&f=1", "display_name": "xavier", "link": "https://stackoverflow.com/users/5758953/xavier"}, "is_accepted": false, "score": 2, "last_activity_date": 1510594338, "creation_date": 1510594338, "answer_id": 47270206, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/47270206#47270206", "title": "Can you assign variables in a lambda?", "body": "<p>You can assign variables in lambda functions is you use exec:</p>\n\n<pre><code>&gt;&gt;&gt; a = lambda: exec('global x; x = 1')\n&gt;&gt;&gt;a()\n&gt;&gt;&gt;x\n1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 9560908, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8-_Pgv7PXmM/AAAAAAAAAAI/AAAAAAAAB5Q/UjHDtQjYnio/photo.jpg?sz=128", "display_name": "Terry Davis", "link": "https://stackoverflow.com/users/9560908/terry-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1562784604, "creation_date": 1562784604, "answer_id": 56976939, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/56976939#56976939", "title": "Can you assign variables in a lambda?", "body": "<p>I've cooked up this recipe for python 3.8+ using PEP572 Assignment Expressions to assign arbitrary variables and execute arbitrary expressions.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># python 3.8b1\nlambda a: (\n    (bool(b:=a**2) or 1)\n    and (bool(c:=a-b) or 1)\n    and not print(f'compute: {a} + {b} + {c}')\n    and (\n        (ret:=a + b + c) or ret)\n    )\n)\ntst(0) \n# prints: \"compute: 0 + 0 + 0\"; returns: 0\ntst(1)\n# prints: \"compute: 1 + 1 + 0\"; returns: 2\ntst(8)\n# prints: \"compute: 8 + 64 + -56\"; returns: 16\n</code></pre>\n\n<p>So the pattern is:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>lambda: [*vars]: (\n    (bool(a:=[expr(*vars)]) or 1)\n    and (bool([expr]) or 1)\n    and bool([always true expr])\n    and not bool([always false expr])\n    and (\n        # parentheses required so `result:=` doesn't capture the `or result` part\n        (result:=[result expr]) or result\n    )\n)\n</code></pre>\n\n<p>This may be simplified if you know the truthiness of any particular expression.</p>\n\n<p>That being said, if you want to assign a variable to reuse inside a lambda, you probably should consider writing a normal function.</p>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 9251527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-JcbVxtrZQZY/AAAAAAAAAAI/AAAAAAAAAEk/SLlD-gu1Pm4/photo.jpg?sz=128", "display_name": "Ronald Saunfe", "link": "https://stackoverflow.com/users/9251527/ronald-saunfe"}, "is_accepted": false, "score": -1, "last_activity_date": 1563089438, "creation_date": 1563089438, "answer_id": 57025417, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/57025417#57025417", "title": "Can you assign variables in a lambda?", "body": "<p>You can instead use a bit of creativity, for example if you want to do some evaluation to an equation and assign the result to a variable it can be done like this:</p>\n\n<pre><code>class Results:\n    res = 0\n\nclas= Results()\nsetattr(clas, 'res', 3+2*4)\nprint(clas.res)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 12004474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dfDhu.jpg?s=128&g=1", "display_name": "Ryan Norooz", "link": "https://stackoverflow.com/users/12004474/ryan-norooz"}, "is_accepted": false, "score": 0, "last_activity_date": 1583870691, "creation_date": 1583870691, "answer_id": 60625138, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/60625138#60625138", "title": "Can you assign variables in a lambda?", "body": "<p>Im no expert at this, but the way i did it was by modifying <code>globals()</code> or <code>locals()</code>\nlike this:</p>\n\n<pre><code>lambda: globals().__setitem__('some_variable', 'some value')\n</code></pre>\n\n<p>or if it's inside a function:</p>\n\n<pre><code>lambda: locals().__setitem__('some_variable', 'some value')\n</code></pre>\n\n<p>you could also use <code>update()</code> instead of <code>__setitem__()</code> if you wanted to, but that's a bit redundant.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15201041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4200d0269ae5dcd191d0a2a913c482e3?s=128&d=identicon&r=PG&f=1", "display_name": "JackWolf24", "link": "https://stackoverflow.com/users/15201041/jackwolf24"}, "is_accepted": false, "score": 0, "last_activity_date": 1618906762, "creation_date": 1618906762, "answer_id": 67175059, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda/67175059#67175059", "title": "Can you assign variables in a lambda?", "body": "<p>You could rewrite this in a oop way, like this, maybe you are using an oop structure anyways so you could integrate it in there.</p>\n<pre><code>class example:\n     def __init__(self):\n         self.a = None\n\n object = example()\n a = lambda n:(setattr(object, &quot;a&quot;, 3+2*n)) #[my math here]\n a(2)\n print(object.a)\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>7</p>\n</blockquote>\n"}], "owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21400, "favorite_count": 1, "accepted_answer_id": 45337430, "answer_count": 8, "score": 9, "last_activity_date": 1618906762, "creation_date": 1501102299, "last_edit_date": 1501102469, "question_id": 45337189, "link": "https://stackoverflow.com/questions/45337189/can-you-assign-variables-in-a-lambda", "title": "Can you assign variables in a lambda?", "body": "<p>I was using a <code>lambda</code> statement to perform math, and happened to repeatedly use one certain value. Therefore I was wondering if it was possible to assign and use a variable within a <code>lambda</code> statement. </p>\n\n<p>I have tried things like:</p>\n\n<pre><code>a = lambda n:(b=3+2*n) #[my math here]\n</code></pre>\n\n<p>However this just raises errors, and I was wondering if there was a way to do this.</p>\n"}, {"tags": ["python", "flask", "pycharm"], "comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 2, "creation_date": 1501102332, "post_id": 45337173, "comment_id": 77636375, "body": "Can you import functions from other files? Can you import another function from this file? Is there a function called <code>sendmail</code> in that file? What (if anything) have you done to try to debug this so far?"}, {"owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 0, "creation_date": 1501105374, "post_id": 45337173, "comment_id": 77637835, "body": "I think you could probably just do from cpfl.py import sendmail"}, {"owner": {"reputation": 287, "user_id": 2707428, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/grj7Y.png?s=128&g=1", "display_name": "Patterson", "link": "https://stackoverflow.com/users/2707428/patterson"}, "reply_to_user": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1501165635, "post_id": 45337173, "comment_id": 77668680, "body": "@smarx Yes, I can import from other files. No I can&#39;t import any function from cpfl.py. Yes, there is a function called sendmail in that file. The only thing I did was try to run the app. I do not understand what may be going wrong so I asked here."}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "edited": false, "score": 1, "creation_date": 1501170683, "post_id": 45337173, "comment_id": 77672462, "body": "I don&#39;t know if it is the colors on my screen but it seems that the folder <code>templates</code> is blue which means that you defined it as the root folder. I had a similar problem some weeks ago and setting the folder at the top as the Sources Root solved it. Have you tried to right-click on the CPFL folder and go to Mark Directory as -&gt; Sources Root ?"}], "answers": [{"comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1501175335, "post_id": 45355901, "comment_id": 77675460, "body": "If this works, then another fix is presumably <code>from cpfl import sendmail</code>."}, {"owner": {"reputation": 287, "user_id": 2707428, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/grj7Y.png?s=128&g=1", "display_name": "Patterson", "link": "https://stackoverflow.com/users/2707428/patterson"}, "edited": false, "score": 0, "creation_date": 1501175937, "post_id": 45355901, "comment_id": 77675858, "body": "Wow! Why I didn&#39;t think in it before? It worked, thanks!"}], "tags": [], "owner": {"reputation": 71, "user_id": 2141264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29150c20a4a0b41ee859ab213e8ea026?s=128&d=identicon&r=PG", "display_name": "Marcus Beckenkamp", "link": "https://stackoverflow.com/users/2141264/marcus-beckenkamp"}, "is_accepted": true, "score": 1, "last_activity_date": 1501171594, "creation_date": 1501171594, "answer_id": 45355901, "question_id": 45337173, "link": "https://stackoverflow.com/questions/45337173/i-cannot-import-a-module-and-i-dont-know-why-python-importerror-cannot-import/45355901#45355901", "title": "I cannot import a module and I don&#39;t know why Python: ImportError: Cannot import name X", "body": "<p>Have you tried <code>import cpfl</code> and then when you call the method you use <code>cpfl.sendmail</code>?</p>\n"}], "owner": {"reputation": 287, "user_id": 2707428, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/grj7Y.png?s=128&g=1", "display_name": "Patterson", "link": "https://stackoverflow.com/users/2707428/patterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 45355901, "answer_count": 1, "score": 1, "last_activity_date": 1501171594, "creation_date": 1501102231, "last_edit_date": 1501165811, "question_id": 45337173, "link": "https://stackoverflow.com/questions/45337173/i-cannot-import-a-module-and-i-dont-know-why-python-importerror-cannot-import", "title": "I cannot import a module and I don&#39;t know why Python: ImportError: Cannot import name X", "body": "<p>I'm having the following error when I try  to run a Flask app:</p>\n\n<pre><code> File \"/home/patterson/Documentos/CPFL/cpfl/computer.py\", line 12, in &lt;module&gt;\n        from cpfl.cpfl import sendmail\n    ImportError: cannot import name 'sendmail'\n</code></pre>\n\n<p>sendmail is a function I'm trying to import from the cpfl.py module which is a flask app.\ncpfl.py:</p>\n\n<pre><code>...\napp = Flask(__name__)\n...\n</code></pre>\n\n<p>The structure of my project is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bX8oj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bX8oj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have no idea why import does not work.\nCould someone help-me?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8372273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9064f8ff45a746d1f041421c8c5aed8c?s=128&d=identicon&r=PG&f=1", "display_name": "G. Keeler", "link": "https://stackoverflow.com/users/8372273/g-keeler"}, "edited": false, "score": 0, "creation_date": 1501103453, "post_id": 45337474, "comment_id": 77637004, "body": "Thank you that would be helpful, but could I do that/ how would I do that since I have about 24 elements per row?"}, {"owner": {"reputation": 1, "user_id": 8372273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9064f8ff45a746d1f041421c8c5aed8c?s=128&d=identicon&r=PG&f=1", "display_name": "G. Keeler", "link": "https://stackoverflow.com/users/8372273/g-keeler"}, "edited": false, "score": 0, "creation_date": 1501105281, "post_id": 45337474, "comment_id": 77637794, "body": "Can you offer any more advice?"}], "tags": [], "owner": {"reputation": 1042, "user_id": 4728007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc52f06839fc0abf6c6b812f2a1856f1?s=128&d=identicon&r=PG&f=1", "display_name": "DragonBobZ", "link": "https://stackoverflow.com/users/4728007/dragonbobz"}, "is_accepted": false, "score": 1, "last_activity_date": 1501103342, "creation_date": 1501103342, "answer_id": 45337474, "question_id": 45337155, "link": "https://stackoverflow.com/questions/45337155/concatenate-data-python/45337474#45337474", "title": "Concatenate Data -Python", "body": "<p>You might find <code>combinations</code> from <code>itertools</code> to be helpful.</p>\n\n<pre><code>from itertools import combinations\nprint([thing for thing in combinations((1,2,3), 2)])\n</code></pre>\n\n<p>Yields</p>\n\n<pre><code>[(1, 2), (1, 3), (2, 3)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5174435, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207536138271320/picture?type=large", "display_name": "Luis Antonio Dominguez", "link": "https://stackoverflow.com/users/5174435/luis-antonio-dominguez"}, "edited": false, "score": 0, "creation_date": 1501108924, "post_id": 45338578, "comment_id": 77639250, "body": "Needless to say you would have to iterate over the list of tuples. :-)"}], "tags": [], "owner": {"reputation": 1, "user_id": 5174435, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207536138271320/picture?type=large", "display_name": "Luis Antonio Dominguez", "link": "https://stackoverflow.com/users/5174435/luis-antonio-dominguez"}, "is_accepted": false, "score": 0, "last_activity_date": 1501108794, "creation_date": 1501108794, "answer_id": 45338578, "question_id": 45337155, "link": "https://stackoverflow.com/questions/45337155/concatenate-data-python/45338578#45338578", "title": "Concatenate Data -Python", "body": "<p>Building on DragonBobZ comment.  You could do something like this using the groupby function of the dataframe to split out the families </p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv('file.txt', sep=\" \", header = None)\nprint(data)\n\nfrom itertools import combinations\ngrouped_df = data.groupby(0)\n\nfor key, item in grouped_df:\n    print key\n    current_subgroup = grouped_df.get_group(key)\n    print current_subgroup\n    print current_subgroup.shape, \"\\n\"\n    print([thing for thing in combinations(range(current_subgroup.shape[0]), 2)])\n</code></pre>\n\n<p>Grabbing the output of the \"combinations\" line will give you a list of tuples that you can use in conjunction with row indexing to perform the comparisons for the appropriate columns.</p>\n"}], "owner": {"reputation": 1, "user_id": 8372273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9064f8ff45a746d1f041421c8c5aed8c?s=128&d=identicon&r=PG&f=1", "display_name": "G. Keeler", "link": "https://stackoverflow.com/users/8372273/g-keeler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501108794, "creation_date": 1501102187, "last_edit_date": 1501102687, "question_id": 45337155, "link": "https://stackoverflow.com/questions/45337155/concatenate-data-python", "title": "Concatenate Data -Python", "body": "<p>I am working with data formatted in a .txt file in the format below:</p>\n\n<pre><code>family1 1 0 0 2 0 2 2 0 0 0 1 0 1 1 0 0 0 0 1 NA NA 4\nfamily1 2 0 0 2 2 1 4 0 0 0 0 0 0 0 0 0 0 0 0 NA NA 4\nfamily1 3 0 0 2 5 1 2 0 0 0 1 1 0 1 1 1 0 0 0 NA NA 2\nfamily2 1 0 0 2 5 2 1 1 1 1 0 0 0 0 0 0 0 0 0 NA NA 3\netc. \n</code></pre>\n\n<p>where the second column is a member of the family and the other columns are numbers that correspond to traits. \nI need to compare the relatives listed in this data set to create an output like this: </p>\n\n<pre><code>family1 1 2 traitnumber traitnumber ...\nfamily1 1 3 traitnumber traitnumber ...\nfamily1 2 3 traitnumber traitnumber ...\n</code></pre>\n\n<p>where the numbers are the relatives. </p>\n\n<p>I have created a data frame using: </p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv('file.txt.', sep=\" \", header = None)\nprint(data)\n</code></pre>\n\n<p>Can you offer any advice on the most efficient way to concatenate this data into the desired rows? I am having trouble comparing thinking of a way to write code for the different combinations i.e. relative 1 and 2, 1 and 3, and 2 and 3. \nThank you!</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 2294, "user_id": 8093469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed3a09558b9d41e3cedbd025588b5ec?s=128&d=identicon&r=PG", "display_name": "Ron Norris", "link": "https://stackoverflow.com/users/8093469/ron-norris"}, "edited": false, "score": 1, "creation_date": 1501102682, "post_id": 45337148, "comment_id": 77636575, "body": "Have you tried increasing the timeout in waiter = wait(netbet, 10) to a larger number to see whether that reduces your timeouts? You can put a try/except block around <code>waiter.until(EC.visibility_of_element_located(...))</code> to explicitly handle timeout exceptions more gracefully."}, {"owner": {"reputation": 47, "user_id": 8306960, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4088ee4097738f7cb4ae9fad8464843d?s=128&d=identicon&r=PG&f=1", "display_name": "Kyan Heuvel", "link": "https://stackoverflow.com/users/8306960/kyan-heuvel"}, "reply_to_user": {"reputation": 2294, "user_id": 8093469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed3a09558b9d41e3cedbd025588b5ec?s=128&d=identicon&r=PG", "display_name": "Ron Norris", "link": "https://stackoverflow.com/users/8093469/ron-norris"}, "edited": false, "score": 0, "creation_date": 1501102849, "post_id": 45337148, "comment_id": 77636676, "body": "Thanks for your help. Would you tell me more detail?"}, {"owner": {"reputation": 2935, "user_id": 3808228, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyJ7J.jpg?s=128&g=1", "display_name": "Chisko", "link": "https://stackoverflow.com/users/3808228/chisko"}, "edited": false, "score": 0, "creation_date": 1501102879, "post_id": 45337148, "comment_id": 77636701, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38513338/java-selenium-timeout-page\">Java selenium timeout page</a>"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1501134040, "post_id": 45337148, "comment_id": 77645829, "body": "@KyanHeuvel While you access <code>https:&#47;&#47;www.livepartners.com&#47;</code> first you need to click on <code>Login &#47; Register</code> button then only you will be able to provide <code>username</code> and <code>password</code> through <code>send_keys</code> method, Thanks."}], "owner": {"reputation": 47, "user_id": 8306960, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4088ee4097738f7cb4ae9fad8464843d?s=128&d=identicon&r=PG&f=1", "display_name": "Kyan Heuvel", "link": "https://stackoverflow.com/users/8306960/kyan-heuvel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1505, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501104088, "creation_date": 1501102169, "question_id": 45337148, "link": "https://stackoverflow.com/questions/45337148/how-can-i-handle-timeoutexceptionmessage-screen-stacktrace-python-selenium", "title": "How can I handle TimeoutException(message, screen, stacktrace) - Python Selenium", "body": "<p><strong>Usually</strong> TimeoutException(message, screen, stacktrace) occurs.</p>\n\n<p>But <strong>rarely</strong> scraping script get exact data from website.</p>\n\n<p>This is snippet code I've written.</p>\n\n<pre><code>Netbet = webdriver.Chrome(executable_path=os.path.abspath(\"/usr/bin/chromedriver\"))\nNetbet.get(\"https://www.livepartners.com/\")\nNetbet.implicitly_wait(10)\nNetbet.find_element_by_id(\"login_username\").send_keys(\"username\")\nNetbet.find_element_by_id(\"login_password\").send_keys(\"password\")\npwd = Netbet.find_element_by_id(\"login_password\")\npwd.send_keys(Keys.RETURN)\nwaiter = wait(Netbet, 10)\nwaiter.until(EC.visibility_of_element_located((By.XPATH, '//*[@id=\"contentwrapper\"]/div/div[1]/div[2]/div')))\nbalance = Netbet.find_element_by_xpath('//*[@id=\"contentwrapper\"]/div/div[1]/div[2]/div/strong').text\n</code></pre>\n\n<p>With this script, I can scrape exact data <strong>rarely</strong>, but <strong>usually</strong> get <code>TimeoutException(message, screen, stacktrace)</code> error.  </p>\n\n<pre><code>Traceback (most recent call last):\n    File \"netbet.py\", line 43, in &lt;module&gt;\n        data = netbet_scrapping()\n    File \"netbet.py\", line 31, in netbet_scrapping\n        waiter.until(EC.visibility_of_element_located((By.XPATH, '//*[@id=\"contentwrapper\"]/div/div[1]/div[2]/div')))\n    File \"/home/elite/.local/lib/python3.5/site-packages/selenium/webdriver/support/wait.py\", line 80, in until\n        raise TimeoutException(message, screen, stacktrace)\nselenium.common.exceptions.TimeoutException: Message:\n</code></pre>\n\n<p>I'm not sure why this happens.</p>\n"}, {"tags": ["python", "pyqt5"], "comments": [{"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 2, "creation_date": 1501106838, "post_id": 45337136, "comment_id": 77638460, "body": "The <a href=\"https://doc.qt.io/qt-5/qsignalmapper.html#signals\" rel=\"nofollow noreferrer\">mapped signal</a> is overloaded. So add this line: <code>mapper.mapped[str].connect(a_function)</code>."}, {"owner": {"reputation": 13, "user_id": 7646648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YopdW.jpg?s=128&g=1", "display_name": "ReHelbig", "link": "https://stackoverflow.com/users/7646648/rehelbig"}, "reply_to_user": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 0, "creation_date": 1501175627, "post_id": 45337136, "comment_id": 77675647, "body": "Yes you right!  I did not knew that you could specify the type of the connection function argument as an item of QSignalMapper.mapped . Thanks !"}, {"owner": {"reputation": 1338, "user_id": 4459346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QpVnd.png?s=128&g=1", "display_name": "NZD", "link": "https://stackoverflow.com/users/4459346/nzd"}, "edited": false, "score": 0, "creation_date": 1552848365, "post_id": 45337136, "comment_id": 97157241, "body": "There is an example on the PyQt wiki that shows how to use int/str values: <a href=\"https://wiki.python.org/moin/PyQt/Using%20a%20signal%20mapper\" rel=\"nofollow noreferrer\">wiki.python.org/moin/PyQt/Using%20a%20signal%20mapper</a>"}, {"owner": {"reputation": 13, "user_id": 7646648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YopdW.jpg?s=128&g=1", "display_name": "ReHelbig", "link": "https://stackoverflow.com/users/7646648/rehelbig"}, "reply_to_user": {"reputation": 1338, "user_id": 4459346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QpVnd.png?s=128&g=1", "display_name": "NZD", "link": "https://stackoverflow.com/users/4459346/nzd"}, "edited": false, "score": 0, "creation_date": 1553033844, "post_id": 45337136, "comment_id": 97234091, "body": "@NZD Thanks, but the example you give is for PyQT4. I was interested in PyQT5 solutions."}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 13425779, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f7accd4fb381a3057cbe4b4cf9815cfd?s=128&d=identicon&r=PG", "display_name": "rhoms", "link": "https://stackoverflow.com/users/13425779/rhoms"}, "is_accepted": true, "score": 0, "last_activity_date": 1588082185, "creation_date": 1588082185, "answer_id": 61481978, "question_id": 45337136, "link": "https://stackoverflow.com/questions/45337136/qsignalmapper-in-pyqt5-not-working-when-the-function-argument-is-a-str/61481978#61481978", "title": "QSignalMapper (in PyQt5) not working when the function argument is a str", "body": "<p>You should overload the right method:</p>\n\n<pre><code>mapped.mapped[str].connect(a_function)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7646648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YopdW.jpg?s=128&g=1", "display_name": "ReHelbig", "link": "https://stackoverflow.com/users/7646648/rehelbig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 750, "favorite_count": 0, "accepted_answer_id": 61481978, "answer_count": 1, "score": 1, "last_activity_date": 1588082185, "creation_date": 1501102106, "question_id": 45337136, "link": "https://stackoverflow.com/questions/45337136/qsignalmapper-in-pyqt5-not-working-when-the-function-argument-is-a-str", "title": "QSignalMapper (in PyQt5) not working when the function argument is a str", "body": "<p>I try to migrate my code from pyqt4 to pyqt5 and I have trouble dealing with QSignalMapper.</p>\n\n<p>When I'm doing a mapping and that the argument passed to the function is an int, everything works just fine, but when it is a string, nothing happen.</p>\n\n<p>The code below returns no error, but just the <code>act_int.trigger()</code> behaves correctly, and not <code>act_str.trigger()</code>. </p>\n\n<pre><code>from PyQt5 import QtGui,QtWidgets,QtCore\n\ndef a_function(x):\n    print(\"x : \",x)\nact_int = QtWidgets.QAction()\nact_str = QtWidgets.QAction()\n\nmapper = QtCore.QSignalMapper()\nact_int.triggered.connect(mapper.map)\nmapper.setMapping(act_int,1)\nact_str.triggered.connect(mapper.map)\nmapper.setMapping(act_str,\"a_string\")\nmapper.mapped.connect(a_function)\n\nact_int.trigger()\nact_str.trigger()\n</code></pre>\n\n<p>Prints only:</p>\n\n<pre><code>x :  1\n</code></pre>\n\n<p>As I would expect it prints:</p>\n\n<pre><code>x :  1\nx :  a_string\n</code></pre>\n\n<p>Maybe I'm not using QSignalMapper properly (I did not find examples with pyqt5 online)</p>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics"], "answers": [{"comments": [{"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "edited": false, "score": 0, "creation_date": 1501132770, "post_id": 45338084, "comment_id": 77645363, "body": "I turns out that &#39;-&#39; (and &#39;+&#39;) have special meaning when it comes to Tk key binding so try <code>wn.onkey(smaller, &quot;minus&quot;)</code> (and <code>wn.onkey(bigger, &quot;plus&quot;)</code>) instead."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8193156"}, "is_accepted": false, "score": 1, "last_activity_date": 1501106101, "creation_date": 1501106101, "answer_id": 45338084, "question_id": 45337116, "link": "https://stackoverflow.com/questions/45337116/event-driven-programming-in-python-changing-color-size-of-the-turtle/45338084#45338084", "title": "Event-Driven Programming in Python: Changing color &amp; size of the turtle", "body": "<pre><code>import turtle           # Tess becomes a traffic light.\n\nturtle.setup(400,500)\nwn = turtle.Screen()\nwn.title(\"Tess becomes a traffic light!\")\nwn.bgcolor(\"lightgreen\")\ntess = turtle.Turtle()\n\n\ndef draw_housing():\n    \"\"\" Draw a nice housing to hold the traffic lights \"\"\"\n    tess.pensize(3)\n    tess.color(\"black\", \"darkgrey\")\n    tess.begin_fill()\n    tess.forward(80)\n    tess.left(90)\n    tess.forward(200)\n    tess.circle(40, 180)\n    tess.forward(200)\n    tess.left(90)\n    tess.end_fill()\n\n\ndraw_housing()\n\ntess.penup()\n# Position tess onto the place where the green light should be\ntess.forward(40)\ntess.left(90)\ntess.forward(50)\n# Turn tess into a big green circle\ntess.shape(\"circle\")\ntess.shapesize(3)\ntess.fillcolor(\"green\")\n\n# A traffic light is a kind of state machine with three states,\n# Green, Orange, Red.  We number these states  0, 1, 2\n# When the machine changes state, we change tess' position and\n# her fillcolor.\n\n# This variable holds the current state of the machine\nstate_num = 0\n\n\n\n\n\ndef advance_state_machine():\n    global state_num\n\n\n\n    if state_num == 0:       # Transition from state 0 to state 1\n        tess.forward(70)\n        tess.fillcolor(\"orange\")\n        state_num = 1\n    elif state_num == 1:     # Transition from state 1 to state 2\n        tess.forward(70)\n        tess.fillcolor(\"red\")\n        state_num = 2\n    else:                    # Transition from state 2 to state 0\n        tess.back(140)\n        tess.fillcolor(\"green\")\n        state_num = 0\ndef blue():tess.fillcolor('blue')\ndef red():tess.fillcolor('red')\ndef green():tess.fillcolor('green')\ndef bigger():tess.shapesize(tess.shapesize()[0]+1)\ndef smaller():\n    try:tess.shapesize(tess.shapesize()[0]-1) # try so that it wont return exception if the size is 1. size cant be less than 1\n    except:pass\n# Bind the event handler to the space key.\nwn.onkey(advance_state_machine, \"space\")\nwn.onkey(red, \"r\")     # press \"r\" key to change the color to red\nwn.onkey(green, \"g\")   # press \"g\" key to change the color to green\nwn.onkey(blue, \"b\")    # press \"b\" key to change the color to blue\nwn.onkey(bigger, \"+\")  # press \"+\" key to increase the circle size\nwn.onkey(smaller, \"s\") # press \"s\" key to decrease the circle size. i tried minus key but didnt work.\n\n\nwn.listen()                      # Listen for events\n#wn.mainloop()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1501134267, "creation_date": 1501134267, "answer_id": 45342269, "question_id": 45337116, "link": "https://stackoverflow.com/questions/45337116/event-driven-programming-in-python-changing-color-size-of-the-turtle/45342269#45342269", "title": "Event-Driven Programming in Python: Changing color &amp; size of the turtle", "body": "<p>I interpret your requirements differently than @avalanche -- my solution follows.  It all still hinges on adding more key events (like your space bar event) just as @avalanche showed so +1 for him:</p>\n\n<pre><code>\"\"\" Tess becomes a traffic light. \"\"\"\n\nfrom turtle import Turtle, Screen\n\ndef draw_housing():\n    \"\"\" Draw a nice housing to hold the traffic lights \"\"\"\n    tess.pensize(3)\n    tess.color('black', 'darkgrey')\n\n    tess.begin_fill()\n    tess.forward(80)\n    tess.left(90)\n    tess.forward(200)\n    tess.circle(40, 180)\n    tess.forward(200)\n    tess.end_fill()\n\nwn = Screen()\nwn.setup(400, 500)\nwn.title(\"Tess becomes a traffic light!\")\nwn.bgcolor('lightgreen')\n\ntess = Turtle()\n\ndraw_housing()\n\n# Position tess onto the place where the green light should be\ntess.penup()\ntess.left(90)\ntess.forward(40)\ntess.left(90)\ntess.forward(50)\n\n# Turn tess into a green circle\ntess.shape('circle')\ntess.shapesize(3)\ntess.fillcolor('green')\n\n# A traffic light is a kind of state machine with three states,\n# Green, Amber, Red.  We number these states  0, 1, 2\n# When the machine changes state, we change tess' position and\n# her fillcolor.\n\nSLOW, STOP, GO = range(3)\n\n# Y position, color, next state; 'orange' filling in for 'amber'\nSTATE_MACHINE = { \\\n    SLOW: (120, 'orange', STOP), \\\n    STOP: (190, 'red', GO), \\\n    GO: (50, 'green', SLOW) \\\n}\n\n# This variable holds the current state of the machine\nstate_num = SLOW\n\ndef advance_state_machine():\n    global state_num\n\n    position, color, next_state = STATE_MACHINE[state_num]\n\n    tess.sety(position)\n    tess.fillcolor(color)\n    state_num = next_state\n\ndef bigger():\n    stretch_wid, stretch_len, outline = tess.shapesize()\n    tess.shapesize(stretch_wid, stretch_len, outline + 1)\n\ndef smaller():\n    stretch_wid, stretch_len, outline = tess.shapesize()\n    if outline &gt; 0:\n        tess.shapesize(stretch_wid, stretch_len, outline - 1)\n\ndef stop():\n    global state_num\n    state_num = STOP\n    advance_state_machine()\n\ndef slow():\n    global state_num\n    state_num = SLOW\n    advance_state_machine()\n\ndef go():\n    global state_num\n    state_num = GO\n    advance_state_machine()\n\n# Bind the event handlers\nwn.onkey(advance_state_machine, 'space')\nwn.onkey(stop, 'r')  # press 'r' key to change the light to red\nwn.onkey(slow, 'y')  # press 'y' key to change the light to yellow\nwn.onkey(go, 'g')  # press 'g' key to change the light to green\nwn.onkey(bigger, 'plus')  # press '+' key to increase the circle size\nwn.onkey(smaller, 'minus')  # press '-' key to decrease the circle size.\n\nwn.listen()  # Listen for events\n\nwn.mainloop()\n</code></pre>\n\n<p>One difference is the 'r', 'y' and 'g' keys advance the light to that color state rather than just change the current cursor color.  And the '+' and '-' keys change the pen outline size, not the cursor size.</p>\n\n<p>Plus I reworked your state machine logic and other details.</p>\n"}], "owner": {"reputation": 9, "user_id": 8303972, "user_type": "registered", "profile_image": "https://graph.facebook.com/495385017473335/picture?type=large", "display_name": "Han", "link": "https://stackoverflow.com/users/8303972/han"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501134267, "creation_date": 1501102020, "last_edit_date": 1501103712, "question_id": 45337116, "link": "https://stackoverflow.com/questions/45337116/event-driven-programming-in-python-changing-color-size-of-the-turtle", "title": "Event-Driven Programming in Python: Changing color &amp; size of the turtle", "body": "<p>My task is to draw a traffic light with turtle. Everytime I hit the space the turtle moves with different colors and traffic light changes. I have successfully completed this task. But there are some extra tasks i couldn't accomplish.</p>\n\n<p>1) Changing color of the turtle with R, G, and B. For example: the turtle is in the green light (bottom) position. But i want to change it to red by pressing R.</p>\n\n<p>2) I want to change my pensize of my turtle with + and -.</p>\n\n<p>This is my code that works. I just couldn't write additional lines that will fulfill the two tasks.</p>\n\n<pre><code>import turtle           # Tess becomes a traffic light.\n\nturtle.setup(400,500)\nwn = turtle.Screen()\nwn.title(\"Tess becomes a traffic light!\")\nwn.bgcolor(\"lightgreen\")\ntess = turtle.Turtle()\n\n\ndef draw_housing():\n    \"\"\" Draw a nice housing to hold the traffic lights \"\"\"\n    tess.pensize(3)\n    tess.color(\"black\", \"darkgrey\")\n    tess.begin_fill()\n    tess.forward(80)\n    tess.left(90)\n    tess.forward(200)\n    tess.circle(40, 180)\n    tess.forward(200)\n    tess.left(90)\n    tess.end_fill()\n\n\ndraw_housing()\n\ntess.penup()\n# Position tess onto the place where the green light should be\ntess.forward(40)\ntess.left(90)\ntess.forward(50)\n# Turn tess into a big green circle\ntess.shape(\"circle\")\ntess.shapesize(3)\ntess.fillcolor(\"green\")\n\n# A traffic light is a kind of state machine with three states,\n# Green, Orange, Red.  We number these states  0, 1, 2\n# When the machine changes state, we change tess' position and\n# her fillcolor.\n\n# This variable holds the current state of the machine\nstate_num = 0\n\n\n\n\n\ndef advance_state_machine():\n    global state_num\n\n\n\n    if state_num == 0:       # Transition from state 0 to state 1\n        tess.forward(70)\n        tess.fillcolor(\"orange\")\n        state_num = 1\n    elif state_num == 1:     # Transition from state 1 to state 2\n        tess.forward(70)\n        tess.fillcolor(\"red\")\n        state_num = 2\n    else:                    # Transition from state 2 to state 0\n        tess.back(140)\n        tess.fillcolor(\"green\")\n        state_num = 0\n\n# Bind the event handler to the space key.\nwn.onkey(advance_state_machine, \"space\")\n\nwn.listen()                      # Listen for events\nwn.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 3769, "user_id": 1686511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8038258c9e59d54c0a9b294a986ef456?s=128&d=identicon&r=PG", "display_name": "Garry Polley", "link": "https://stackoverflow.com/users/1686511/garry-polley"}, "edited": false, "score": 0, "creation_date": 1501102287, "post_id": 45337102, "comment_id": 77636350, "body": "What do you want the string to look like? That would help make this question more clear. What final results do you want?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1501102797, "post_id": 45337102, "comment_id": 77636649, "body": "The same answers apply there. Just split and then join what you want."}, {"owner": {"reputation": 3, "user_id": 8372478, "user_type": "registered", "profile_image": "https://graph.facebook.com/1360998357340366/picture?type=large", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372478/tayen-madsen"}, "edited": false, "score": 0, "creation_date": 1501102972, "post_id": 45337102, "comment_id": 77636757, "body": "I need Lodging;123 (Which will change because these are inputs from a .txt file). I then need to split the remaining substring and add each half to a list of categories and values, respectively."}], "answers": [{"comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501102579, "post_id": 45337144, "comment_id": 77636524, "body": "This doesn&#39;t give the output OP wants, &quot;John Doh;&quot; and &quot;;050617&quot; need to be removed. BTW I didn&#39;t downvote this"}, {"owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "reply_to_user": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501102694, "post_id": 45337144, "comment_id": 77636584, "body": "Good point, I missed that part of the problem. The OP question was not clear imo."}], "tags": [], "owner": {"reputation": 484, "user_id": 8371863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a29504c71e85ea13f2f608bb4cda12?s=128&d=identicon&r=PG&f=1", "display_name": "nanojohn", "link": "https://stackoverflow.com/users/8371863/nanojohn"}, "is_accepted": false, "score": -1, "last_activity_date": 1501102153, "creation_date": 1501102153, "answer_id": 45337144, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337144#45337144", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<p>Try this: use <code>str.find()</code> function to locate the first occurance of <code>';'</code> and then substring from that point to the end using <code>[:]</code></p>\n\n<pre><code>aStr = \"John Doe;Lodging;123;050617\"\naStr = aStr[aStr.find(';')+1:]\nprint(aStr)\nLodging;123;050617\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1603, "user_id": 2145297, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bb7bc3386bd49104fc0e07186ccb27ed?s=128&d=identicon&r=PG", "display_name": "mdornfe1", "link": "https://stackoverflow.com/users/2145297/mdornfe1"}, "is_accepted": false, "score": 0, "last_activity_date": 1501102183, "creation_date": 1501102183, "answer_id": 45337152, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337152#45337152", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<p>The find method will give you the index of the first instance of a character in a string</p>\n\n<pre><code>original_s=\"John Doe;Lodging;123;050617\"\nidx = original_s.find(';')\nnew_s = original_s[i+1:]\nprint(new_s)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501102492, "post_id": 45337169, "comment_id": 77636465, "body": "This doesn&#39;t give the output OP wants, &quot;John Doh;&quot; and &quot;;050617&quot; need to be removed. BTW I didn&#39;t downvote this"}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "reply_to_user": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1501102532, "post_id": 45337169, "comment_id": 77636493, "body": "@jacoblaw updated, thanks"}], "tags": [], "owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "is_accepted": false, "score": 0, "last_activity_date": 1501102524, "last_edit_date": 1501102524, "creation_date": 1501102223, "answer_id": 45337169, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337169#45337169", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<p>Use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.partition\" rel=\"nofollow noreferrer\"><code>str.partition</code></a> and <a href=\"https://docs.python.org/3/library/stdtypes.html#str.rpartition\" rel=\"nofollow noreferrer\"><code>str.rpartition</code></a>.</p>\n\n<pre><code>s = \"John Doe;Lodging;123;050617\"\ns.partition(';')[-1].rpartition(';')[0] # Lodging;123\n</code></pre>\n\n<p>In terms of efficiency, this is probably the best solution. However, I find the split/join method more readable.</p>\n"}, {"tags": [], "owner": {"reputation": 664, "user_id": 7525579, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2jBfzEo338/AAAAAAAAAAI/AAAAAAAAADc/eQOAtv5Q7qg/photo.jpg?sz=128", "display_name": "Jason Stein", "link": "https://stackoverflow.com/users/7525579/jason-stein"}, "is_accepted": true, "score": 2, "last_activity_date": 1501102799, "last_edit_date": 1501102799, "creation_date": 1501102228, "answer_id": 45337172, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337172#45337172", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<p>Stepwise for clarity:</p>\n\n<pre><code>string = \"John Doe;Lodging;123;050617\"\nlst = string.split(';')\nlst = lst[1:-1]\nstring = ';'.join(lst)\nprint(string)\n&gt;&gt;&gt; 'Lodging;123'\n</code></pre>\n\n<p>As one line:</p>\n\n<pre><code>';'.join('John Doe;Lodging;123;050617'.split(';')[1:-1])\n&gt;&gt;&gt; 'Lodging;123'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 664, "user_id": 7525579, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2jBfzEo338/AAAAAAAAAAI/AAAAAAAAADc/eQOAtv5Q7qg/photo.jpg?sz=128", "display_name": "Jason Stein", "link": "https://stackoverflow.com/users/7525579/jason-stein"}, "edited": false, "score": 4, "creation_date": 1501102404, "post_id": 45337188, "comment_id": 77636412, "body": "indexing twice is not necessary, you can just use <code>[1:-1]</code>"}], "tags": [], "owner": {"reputation": 362, "user_id": 3420114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e09c63a4627179872ed62ef92ea599?s=128&d=identicon&r=PG", "display_name": "Zoidberg", "link": "https://stackoverflow.com/users/3420114/zoidberg"}, "is_accepted": false, "score": 2, "last_activity_date": 1501102579, "last_edit_date": 1501102579, "creation_date": 1501102299, "answer_id": 45337188, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337188#45337188", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<pre><code>test = \"John Doe;Lodging;123;050617\"\n';'.join(test.split(';')[1:-1])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": false, "score": 2, "last_activity_date": 1501102308, "creation_date": 1501102308, "answer_id": 45337190, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337190#45337190", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<pre><code>s = \"John Doe;Lodging;123;050617\"\nnew_s = ';'.join(s.split(';')[1:-1])\n</code></pre>\n\n<p>This will make <code>new_s = 'Lodging;123'</code></p>\n"}, {"tags": [], "owner": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "is_accepted": false, "score": 0, "last_activity_date": 1501102347, "creation_date": 1501102347, "answer_id": 45337204, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337204#45337204", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<p>There are a few methods you could try.  The simplest one is to split the string and reassemble it:</p>\n\n<pre><code>data = 'John Doe;Lodging;123;050617'\n';'.join(data.split(';')[1:-1])\n</code></pre>\n\n<p>You could also use <code>find</code> and <code>rfind</code> (like find, but from the end of the string backwards:</p>\n\n<pre><code>data[data.find(';')+1:data.rfind(';')]\n</code></pre>\n\n<p>There's also <code>partition</code> and <code>rpartition</code>:</p>\n\n<pre><code>first, sep, remainder = data.partition(';')\nmiddle, sep, final = remainder.rpartition(';')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2708, "user_id": 5424617, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f86a85c89417fa560070c4aeb5aecc56?s=128&d=identicon&r=PG", "display_name": "Md. Rezwanul Haque", "link": "https://stackoverflow.com/users/5424617/md-rezwanul-haque"}, "is_accepted": false, "score": 0, "last_activity_date": 1501102716, "creation_date": 1501102716, "answer_id": 45337307, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th/45337307#45337307", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<p>Try: </p>\n\n<pre><code>s = \"John Doe;Lodging;123;050617\"\nprint(';'.join(s.split(';')[1:-1]))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8372478, "user_type": "registered", "profile_image": "https://graph.facebook.com/1360998357340366/picture?type=large", "display_name": "Tayen Madsen", "link": "https://stackoverflow.com/users/8372478/tayen-madsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "closed_date": 1501102779, "accepted_answer_id": 45337172, "answer_count": 8, "score": -2, "last_activity_date": 1501103124, "creation_date": 1501101984, "last_edit_date": 1501103124, "question_id": 45337102, "link": "https://stackoverflow.com/questions/45337102/how-can-i-remove-the-portion-of-a-string-that-comes-before-if-there-is-more-th", "closed_reason": "Duplicate", "title": "How can I remove the portion of a string that comes before ; if there is more than one semicolon in the string?", "body": "<p>If given the string \"John Doe;Lodging;123;050617\", which is a line within a file, I need to remove everything before and including the first semicolon, and after and including the last one. How can I do that without removing my ability to later split the remaining substring?</p>\n\n<p>Previous questions do not address removing the portions once separated while retaining the portion needed for further use.</p>\n"}, {"tags": ["python", "linux", "ctypes", "mount", "umount"], "comments": [{"owner": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 0, "creation_date": 1501102489, "post_id": 45337100, "comment_id": 77636463, "body": "Are you sure sdb isn&#39;t your hard drive? List your devices with flash drive plugged in and removed and compare the list."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8372417"}, "reply_to_user": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 0, "creation_date": 1501102731, "post_id": 45337100, "comment_id": 77636612, "body": "Im very sure. Since this script will eventually format and partition said drive ive taken extra precautions to ensure that this is the right device"}, {"owner": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 0, "creation_date": 1501102931, "post_id": 45337100, "comment_id": 77636736, "body": "Have you mounted and unmounted successfully with system commands then?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8372417"}, "reply_to_user": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 0, "creation_date": 1501103529, "post_id": 45337100, "comment_id": 77637041, "body": "Yes i did. I tried both mount and unmount.  its also important to note that trying unmount from my script with option 3 resulted in a system crash as well"}, {"owner": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 0, "creation_date": 1501103621, "post_id": 45337100, "comment_id": 77637088, "body": "I recommend using subprocess calls to narrow down your list of problems."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8372417"}, "reply_to_user": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 0, "creation_date": 1501104559, "post_id": 45337100, "comment_id": 77637515, "body": "Subprocess works like a charm but i have to specify the specific partition to unmount"}], "owner": {"user_type": "does_not_exist", "display_name": "user8372417"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1388, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1501114812, "creation_date": 1501101983, "last_edit_date": 1501102643, "question_id": 45337100, "link": "https://stackoverflow.com/questions/45337100/how-can-i-mount-and-unmount-linux-filesystems-using-ctypes-mount-and-umount", "title": "How can i mount and unmount linux filesystems using ctypes, mount and umount", "body": "<p>I have a python script (ran as root) that needs to be able to mount and unmount the filesystem of a USB flashdrive. Ive did some research and i found this answer <a href=\"https://stackoverflow.com/a/29156997\">https://stackoverflow.com/a/29156997</a> which uses ctypes. However. the answer only specifies how to mount, so ive tried to create a similar function to unmount the device. So all in all i have this: </p>\n\n<pre><code>import os\nimport ctypes\ndef mount(source, target, fs, options=''):\n    ret = ctypes.CDLL('libc.so.6', use_errno=True).mount(source, target, fs, 0, options)\n    if ret &lt; 0:\n        errno = ctypes.get_errno()\n        raise RuntimeError(\"Error mounting {} ({}) on {} with options '{}': {}\".\n                           format(source, fs, target, options, os.strerror(errno)))\n\ndef unmount(device, options=0):\n    ret = ctypes.CDLL('libc.so.6', use_errno=True).umount2(device, options)\n    if ret &lt; 0:\n        errno = ctypes.get_errno()\n        raise RuntimeError(\"Error umounting {} with options '{}': {}\".format(device, options, os.strerror(errno)))\n</code></pre>\n\n<p>However, trying the unmount command with option \"0\" or \"1\" like:</p>\n\n<pre><code>unmount('/dev/sdb', 0)\n</code></pre>\n\n<p>or  </p>\n\n<pre><code>unmount('/dev/sdb', 1)\n</code></pre>\n\n<p>gives the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./BuildAndInstallXSystem.py\", line 265, in &lt;module&gt;\n    prepare_root_device()\n  File \"./BuildAndInstallXSystem.py\", line 159, in prepare_root_device\n    unmount('/dev/sdb', 0)\n  File \"./BuildAndInstallXSystem.py\", line 137, in unmount\n    raise RuntimeError(\"Error umounting {} with options '{}': {}\".format(device, options, os.strerror(errno)))\nRuntimeError: Error umounting /dev/sdb with options '0': Device or resource busy\n</code></pre>\n\n<p>while running it with 2 as the option:</p>\n\n<pre><code>unmount('/dev/sdb', 2)\n</code></pre>\n\n<p>unmounts ALL my filesystems, including '/', resulting in a system crash.</p>\n\n<p>All of this still applies even if i replace the device number with the specific partition:</p>\n\n<pre><code>/dev/sdb -&gt; /dev/sdb1\n</code></pre>\n\n<p>What am i doing wrong?</p>\n"}, {"tags": ["python", "h5py", "hdf"], "comments": [{"owner": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "edited": false, "score": 0, "creation_date": 1501105989, "post_id": 45337071, "comment_id": 77638088, "body": "I don&#39;t think that this is supported. Also note that your method will is very inefficient in runtime and needed space on disk if you put only one value in a dataset. Have a look at <a href=\"https://stackoverflow.com/a/33249726/4045774\">stackoverflow.com/a/33249726/4045774</a>"}, {"owner": {"reputation": 152, "user_id": 3257551, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/faa131e1274acd9c67bde9a4d34fea36?s=128&d=identicon&r=PG&f=1", "display_name": "Satrapes", "link": "https://stackoverflow.com/users/3257551/satrapes"}, "reply_to_user": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "edited": false, "score": 0, "creation_date": 1501108311, "post_id": 45337071, "comment_id": 77639059, "body": "This is an attribute not a dataset with a single value and anyway this is only needed once in my code so it doesn&#39;t matter."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1501115181, "post_id": 45337071, "comment_id": 77640803, "body": "I haven&#39;t used <code>h5dump</code> much, but my impression is that it displays all stored information.  The display appears to order the attributes in lexical order, where as your list has them in numeric order on the last characters.  Maybe you can assign names with that order in mind."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1501115273, "post_id": 45337071, "comment_id": 77640818, "body": "<code>dataset</code> creation does include a <code>track_times</code> parameter, but I haven&#39;t found any evidence yet of its action.  <code>h5dump</code> has a <code>-q</code> parameter, but again no evidence of it working."}, {"owner": {"reputation": 152, "user_id": 3257551, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/faa131e1274acd9c67bde9a4d34fea36?s=128&d=identicon&r=PG&f=1", "display_name": "Satrapes", "link": "https://stackoverflow.com/users/3257551/satrapes"}, "edited": false, "score": 0, "creation_date": 1501116990, "post_id": 45337071, "comment_id": 77641213, "body": "I just used this kludge for now (adding a number in front so that I get the correct order) but I am feeling ambitious that you could actually make it read the attributes in order by using the low level h5py api. I just don&#39;t have enough time to find it now."}], "owner": {"reputation": 152, "user_id": 3257551, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/faa131e1274acd9c67bde9a4d34fea36?s=128&d=identicon&r=PG&f=1", "display_name": "Satrapes", "link": "https://stackoverflow.com/users/3257551/satrapes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 709, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501108179, "creation_date": 1501101884, "last_edit_date": 1501108179, "question_id": 45337071, "link": "https://stackoverflow.com/questions/45337071/read-hdf-attributes-in-order-of-creation", "title": "Read hdf attributes in order of creation", "body": "<p>Is there a way to store and subsequently read attributes in an hdf file in order of creation?</p>\n\n<p>I have an ordered list of tuples (string, value) in python which I want to add to an hdf group as attributes. I visit my list in order and the attributes end up sorted lexicographically (I assume) in the hdf file.</p>\n\n<pre><code>import h5py\na = [('attr1', -1.0), ('attr2', 8), ('attr3', 4000), ('attr4', 1000),\\\n     ('attr5', -1.0), ('attr6', 8), ('attr7', 4000), ('attr8', 1000),\\\n     ('attr9', -1.0), ('attr10', 8), ('attr11', 4000), ('attr12', 1000)]\nwith h5py.File('test.h5', 'a') as output_stream:\n    for k, v in a:\n        output_stream.attrs[k] = v\n</code></pre>\n\n<p>The h5dump of this is the one below and it doesn't seem to hold any time data on when it was created.</p>\n\n<pre><code>HDF5 \"test.h5\" {\nGROUP \"/\" {\n   ATTRIBUTE \"attr1\" {\n      DATATYPE  H5T_IEEE_F64LE\n      DATASPACE  SCALAR\n      DATA {\n      (0): -1\n      }\n   }\n   ATTRIBUTE \"attr10\" {\n      DATATYPE  H5T_STD_I32LE\n      DATASPACE  SCALAR\n      DATA {\n      (0): 8\n      }\n   }\n   ATTRIBUTE \"attr11\" {\n      DATATYPE  H5T_STD_I32LE\n      DATASPACE  SCALAR\n      DATA {\n      (0): 4000\n      }\n   }\n   ATTRIBUTE \"attr12\" {\n      DATATYPE  H5T_STD_I32LE\n      DATASPACE  SCALAR\n      DATA {\n      (0): 1000\n      }\n   }\n   ATTRIBUTE \"attr2\" {\n      DATATYPE  H5T_STD_I32LE\n      DATASPACE  SCALAR\n      DATA {\n      (0): 8\n      }\n   }\n  ... (ATTRIBUTE 3 to 8)\n   ATTRIBUTE \"attr9\" {\n      DATATYPE  H5T_IEEE_F64LE\n      DATASPACE  SCALAR\n      DATA {\n      (0): -1\n      }\n   }\n}\n}\n</code></pre>\n\n<p>I found in some hdf documentation that HDF5 is supposed to support iteration and lookup of attributes by creation order by using H5Pset_attr_creation_order  but I don't know how to do this with h5py.</p>\n\n<p><a href=\"https://support.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html\" rel=\"nofollow noreferrer\">https://support.hdfgroup.org/HDF5/doc/ADGuide/WhatsNew180.html</a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "edited": false, "score": 2, "creation_date": 1501101965, "post_id": 45337063, "comment_id": 77636190, "body": "As a warning: it&#39;s not a good idea to remove the default system version of Python, as it is used by package management and other maintenance scripts in a lot of Linux distributions. Things will stop working if you try removing the default one. It sounds like you really want virtualenv: <a href=\"https://python-guide-pt-br.readthedocs.io/en/latest/dev/virtualenvs/\" rel=\"nofollow noreferrer\">python-guide-pt-br.readthedocs.io/en/latest/dev/virtualenvs</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1501102076, "post_id": 45337063, "comment_id": 77636255, "body": "As someone who&#39;s wrecked a system by removing the default Python, I can attest that you really shouldn&#39;t do that."}, {"owner": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501102730, "post_id": 45337063, "comment_id": 77636611, "body": "Which one is default python?"}, {"owner": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "edited": false, "score": 0, "creation_date": 1501102846, "post_id": 45337063, "comment_id": 77636674, "body": "How are you running python? Are you running the copy of python provided by anaconda?"}, {"owner": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501103167, "post_id": 45337063, "comment_id": 77636846, "body": "I think so, When I go to the anaconda &gt; bin  there are two documents, python2.7 and python2.7-config, but it says that both these files are documents"}], "answers": [{"comments": [{"owner": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501102718, "post_id": 45337179, "comment_id": 77636598, "body": "I found that I&#39;m running 2.7, so what else exactly should I remove from my computer so that my import pandas can work?"}, {"owner": {"reputation": 46, "user_id": 8372037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da827e5a27913bbdd92693407931156?s=128&d=identicon&r=PG&f=1", "display_name": "Franco Tume Fiestas", "link": "https://stackoverflow.com/users/8372037/franco-tume-fiestas"}, "reply_to_user": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 1, "creation_date": 1501102824, "post_id": 45337179, "comment_id": 77636669, "body": "if you are using Anaconda you can create and manage virtual environments. Each environment have it&#39;s own python version and it&#39;s own installed dependencies."}, {"owner": {"reputation": 46, "user_id": 8372037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da827e5a27913bbdd92693407931156?s=128&d=identicon&r=PG&f=1", "display_name": "Franco Tume Fiestas", "link": "https://stackoverflow.com/users/8372037/franco-tume-fiestas"}, "reply_to_user": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501102857, "post_id": 45337179, "comment_id": 77636685, "body": "Don&#39;t uninstall any python version directly from your OS. It can broke all the system."}, {"owner": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501103761, "post_id": 45337179, "comment_id": 77637153, "body": "how would I manage the virtual environment? And how can I make sure my python scripts are using Anaconda"}, {"owner": {"reputation": 46, "user_id": 8372037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da827e5a27913bbdd92693407931156?s=128&d=identicon&r=PG&f=1", "display_name": "Franco Tume Fiestas", "link": "https://stackoverflow.com/users/8372037/franco-tume-fiestas"}, "reply_to_user": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501104255, "post_id": 45337179, "comment_id": 77637384, "body": "what do you mean by &quot;using Anaconda&quot; , i assume you want to use jupyter notebook or something installed in Anaconda?"}, {"owner": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501105766, "post_id": 45337179, "comment_id": 77637994, "body": "Sorry, I&#39;m very new to this. I want to use pandas, but I don&#39;t know how because it gives me an error saying &#39;no module named pandas.&#39; I was looking at SO similar questions and they said it might be because you are running multiple versions of python, so I tried checking with the commands in my original question. So I&#39;m unsure how to uninstall or what to uninstall to get pandas to work"}, {"owner": {"reputation": 46, "user_id": 8372037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da827e5a27913bbdd92693407931156?s=128&d=identicon&r=PG&f=1", "display_name": "Franco Tume Fiestas", "link": "https://stackoverflow.com/users/8372037/franco-tume-fiestas"}, "reply_to_user": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "edited": false, "score": 0, "creation_date": 1501106098, "post_id": 45337179, "comment_id": 77638123, "body": "ok, no problem. If you want you use pandas you have to install it by pip or any other package manager for python. Anaconda is a GUI to manage conda that is a virtual environment manager. So my suggestion is that if you want to use a specific version of python and don&#39;t mess with the other installed, use a virtual environment Anaconda can create a new one and this new one you can select the python version and which packages you want to install as pandas. You can read more about creating virtual env with anaca conda here <a href=\"https://conda.io/docs/using/envs.html\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 46, "user_id": 8372037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da827e5a27913bbdd92693407931156?s=128&d=identicon&r=PG&f=1", "display_name": "Franco Tume Fiestas", "link": "https://stackoverflow.com/users/8372037/franco-tume-fiestas"}, "is_accepted": true, "score": 2, "last_activity_date": 1501102275, "creation_date": 1501102275, "answer_id": 45337179, "question_id": 45337063, "link": "https://stackoverflow.com/questions/45337063/how-can-i-check-which-installation-of-python-im-using-and-remove-all-others/45337179#45337179", "title": "How can I check which installation of python I&#39;m using and remove all others?", "body": "<p>If you are using Anaconda and the root environment, just run <code>python -V</code> in your terminal and it will print the version</p>\n"}], "owner": {"reputation": 201, "user_id": 8358234, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e42cd7532c961cdc8b07e5e38f2d6086?s=128&d=identicon&r=PG&f=1", "display_name": "user8358234", "link": "https://stackoverflow.com/users/8358234/user8358234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 45337179, "answer_count": 1, "score": 0, "last_activity_date": 1501102275, "creation_date": 1501101834, "question_id": 45337063, "link": "https://stackoverflow.com/questions/45337063/how-can-i-check-which-installation-of-python-im-using-and-remove-all-others", "title": "How can I check which installation of python I&#39;m using and remove all others?", "body": "<p>I was trying to import pandas, and  I have Anaconda installed but when I run it, it says <code>ImportError: No module named pandas</code></p>\n\n<p>So in terminal, I typed <code>which -a python</code> and the output was <code>usr/bin/python</code></p>\n\n<p>Then I typed in the command <code>ls -l /usr/bin/python*</code> and my output was:</p>\n\n<pre><code>-rwxr-xr-x  1 root  wheel  66736 May  5  2016 /usr/bin/python\n-rwxr-xr-x  5 root  wheel    925 Oct 23  2015 /usr/bin/python-config\nlrwxr-xr-x  1 root  wheel     75 May 19  2016 /usr/bin/python2.6 -&gt; ../../System/Library/Frameworks/Python.framework/Versions/2.6/bin/python2.6\nlrwxr-xr-x  1 root  wheel     82 May 19  2016 /usr/bin/python2.6-config -&gt; ../../System/Library/Frameworks/Python.framework/Versions/2.6/bin/python2.6-config\nlrwxr-xr-x  1 root  wheel     75 May 19  2016 /usr/bin/python2.7 -&gt; ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7\nlrwxr-xr-x  1 root  wheel     82 May 19  2016 /usr/bin/python2.7-config -&gt; ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7-config\n-rwxr-xr-x  1 root  wheel  66736 May  5  2016 /usr/bin/pythonw\nlrwxr-xr-x  1 root  wheel     76 May 19  2016 /usr/bin/pythonw2.6 -&gt; ../../System/Library/Frameworks/Python.framework/Versions/2.6/bin/pythonw2.6\nlrwxr-xr-x  1 root  wheel     76 May 19  2016 /usr/bin/pythonw2.7 -&gt; ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/pythonw2.7\n</code></pre>\n\n<p>I run my scripts by creating a PATH variable in terminal and running the script in terminal. I wanted to know which python I'm using and what/how I can rid of the other ones that are unnecessary. So for example, I would write something like <code>export ENGINE=/home/username/Software/...</code> and then each time I wanted to execute a python script in terminal I just call it like <code>$ENGINE test.py</code></p>\n"}, {"tags": ["python", "numpy", "binary", "number-systems"], "comments": [{"owner": {"reputation": 2957, "user_id": 3780372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4103437e167592cdd8294cbac89c53ab?s=128&d=identicon&r=PG", "display_name": "E. Ducateme", "link": "https://stackoverflow.com/users/3780372/e-ducateme"}, "edited": false, "score": 0, "creation_date": 1501101902, "post_id": 45337039, "comment_id": 77636165, "body": "What have you tried so far? Please provide some samples of what you have attempted and we would be happy to help you narrow in on an optimal solution."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1501102559, "post_id": 45337039, "comment_id": 77636510, "body": "<a href=\"https://stackoverflow.com/questions/15505514/binary-numpy-array-to-list-of-integers\" title=\"binary numpy array to list of integers\">stackoverflow.com/questions/15505514/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 26625, "user_id": 1171620, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/692540b00156165f0eccf6d08eb93851?s=128&d=identicon&r=PG", "display_name": "Suzan Cioc", "link": "https://stackoverflow.com/users/1171620/suzan-cioc"}, "edited": false, "score": 0, "creation_date": 1501101993, "post_id": 45337082, "comment_id": 77636208, "body": "Will read it for a week :)"}, {"owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 0, "creation_date": 1501137322, "post_id": 45337082, "comment_id": 77647370, "body": "Can also use <code>np.packbits</code> and <code>np.right_shift</code>.  As a matter of fact I think I&#39;ll add that to the answers in the non-dupe question."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1501102604, "last_edit_date": 1501102604, "creation_date": 1501101916, "answer_id": 45337082, "question_id": 45337039, "link": "https://stackoverflow.com/questions/45337039/how-to-convert-stack-of-rows-of-binary-digits-into-column-of-values-in-python/45337082#45337082", "title": "How to convert stack of rows of binary digits into column of values in Python?", "body": "<p>You can use <code>matrix-multiplication</code> with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.dot.html\" rel=\"nofollow noreferrer\"><code>np.dot</code></a> to do element-wise scaling of each column with appropriate 2-powered numbers and then sum-reduce each row, leading us to few approaches -</p>\n\n<pre><code>a.dot(2**np.arange(a.shape[1]-1,-1,-1))\na[:,::-1].dot(2**np.arange(a.shape[1]))\na.dot(1 &lt;&lt; np.arange(a.shape[1])[::-1])\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [557]: a = np.array([[0,0],[0,1],[1,0],[1,1]])\n\nIn [558]: a.dot(2**np.arange(a.shape[1]-1,-1,-1))\nOut[558]: array([0, 1, 2, 3])\n\nIn [559]: a[:,::-1].dot(2**np.arange(a.shape[1]))\nOut[559]: array([0, 1, 2, 3])\n\nIn [566]: a.dot(1 &lt;&lt; np.arange(a.shape[1])[::-1])\nOut[566]: array([0, 1, 2, 3])\n</code></pre>\n"}], "owner": {"reputation": 26625, "user_id": 1171620, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/692540b00156165f0eccf6d08eb93851?s=128&d=identicon&r=PG", "display_name": "Suzan Cioc", "link": "https://stackoverflow.com/users/1171620/suzan-cioc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "closed_date": 1501102665, "accepted_answer_id": 45337082, "answer_count": 1, "score": 1, "last_activity_date": 1501102604, "creation_date": 1501101753, "question_id": 45337039, "link": "https://stackoverflow.com/questions/45337039/how-to-convert-stack-of-rows-of-binary-digits-into-column-of-values-in-python", "closed_reason": "Duplicate", "title": "How to convert stack of rows of binary digits into column of values in Python?", "body": "<p>Suppose I have</p>\n\n<pre><code>&gt;&gt;&gt; np.array([[0,0],[0,1],[1,0],[1,1]])\narray([[0, 0],\n       [0, 1],\n       [1, 0],\n       [1, 1]])\n</code></pre>\n\n<p>This is a matrix, each of lines of which can be regarded as binary representation of some number, so it is</p>\n\n<pre><code>&gt;&gt;&gt; np.array([[0],[1],[2],[3]])\narray([[0],\n       [1],\n       [2],\n       [3]])\n</code></pre>\n\n<p>How to calculate this transformation in shortest way in Python?</p>\n"}, {"tags": ["python", "pip", "pypi"], "comments": [{"owner": {"reputation": 2244, "user_id": 209129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/852ba830007d7afd8f177fa1ddfcb67c?s=128&d=identicon&r=PG", "display_name": "Amit Naidu", "link": "https://stackoverflow.com/users/209129/amit-naidu"}, "edited": false, "score": 0, "creation_date": 1571106937, "post_id": 45337029, "comment_id": 103120193, "body": "For troubleshooting, you should first try specifying the path to your <code>pip.conf</code> explicitly with the <code>PIP_CONFIG_FILE</code> environment variable. If that works, then it is just a precedence related problem. Also examine <code>pip config list</code>."}], "answers": [{"comments": [{"owner": {"reputation": 178, "user_id": 7438208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BprTn.png?s=128&g=1", "display_name": "Mheni", "link": "https://stackoverflow.com/users/7438208/mheni"}, "edited": false, "score": 0, "creation_date": 1535465633, "post_id": 45346004, "comment_id": 91070229, "body": "hi i did the same thing but no luck, did you put it in the same section <code>[global]</code> ? i put both the <code>proxy</code> and <code>trusted-host</code> configs in this file. and pip is clearly taking the <code>proxy</code> config but ignoring <code>trusted-host</code>"}, {"owner": {"reputation": 1788, "user_id": 384386, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/325d6e904ed55125ce5ba6b3f1892eff?s=128&d=identicon&r=PG", "display_name": "celestialorb", "link": "https://stackoverflow.com/users/384386/celestialorb"}, "reply_to_user": {"reputation": 178, "user_id": 7438208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BprTn.png?s=128&g=1", "display_name": "Mheni", "link": "https://stackoverflow.com/users/7438208/mheni"}, "edited": false, "score": 0, "creation_date": 1535723652, "post_id": 45346004, "comment_id": 91184790, "body": "@Mheni No, I put it under its own section, not under <code>[global]</code>."}], "tags": [], "owner": {"reputation": 1788, "user_id": 384386, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/325d6e904ed55125ce5ba6b3f1892eff?s=128&d=identicon&r=PG", "display_name": "celestialorb", "link": "https://stackoverflow.com/users/384386/celestialorb"}, "is_accepted": false, "score": 2, "last_activity_date": 1501146037, "creation_date": 1501146037, "answer_id": 45346004, "question_id": 45337029, "link": "https://stackoverflow.com/questions/45337029/pip-conf-not-paying-attention-to-trusted-host/45346004#45346004", "title": "pip.conf not paying attention to trusted-host", "body": "<p>Copied my pip.conf from $HOME/.pip/pip.conf to /etc/pip.conf and it worked!</p>\n"}, {"comments": [{"owner": {"reputation": 1047, "user_id": 8507637, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dNzYc.png?s=128&g=1", "display_name": "rage", "link": "https://stackoverflow.com/users/8507637/rage"}, "edited": false, "score": 1, "creation_date": 1574196752, "post_id": 47435027, "comment_id": 104143647, "body": "For <code>trusted-host</code>, can that be a comma-separated list?"}], "tags": [], "owner": {"reputation": 1059, "user_id": 4385621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/yzNPK.jpg?s=128&g=1", "display_name": "gmauch", "link": "https://stackoverflow.com/users/4385621/gmauch"}, "is_accepted": false, "score": 5, "last_activity_date": 1511354515, "creation_date": 1511354515, "answer_id": 47435027, "question_id": 45337029, "link": "https://stackoverflow.com/questions/45337029/pip-conf-not-paying-attention-to-trusted-host/47435027#47435027", "title": "pip.conf not paying attention to trusted-host", "body": "<p>Couldn't this be a problem of different pip.conf having different configurations?According to the <a href=\"https://pip.pypa.io/en/stable/user_guide/#config-file\" rel=\"noreferrer\">official docs</a>:</p>\n\n<p>The names and locations of the configuration files vary slightly across platforms. You may have per-user, per-virtualenv or site-wide (shared amongst all users) configuration.</p>\n\n<ul>\n<li>On Unix the default configuration file <em>is: $HOME/.config/pip/pip.conf</em> which respects the <em>XDG_CONFIG_HOME</em> environment variable.</li>\n<li>There is also a legacy per-user configuration file which is also respected, and is located at  <em>$HOME/.pip/pip.conf</em> on Unix and macOS.</li>\n<li>Inside a virtualenv, on Unix and macOS the file is <em>$VIRTUAL_ENV/pip.conf</em></li>\n<li>Site-wide, on Unix the file may be located in <em>/etc/pip.conf</em>. Alternatively it may be in a \"pip\" subdirectory of any of the paths set in the environment variable <em>XDG_CONFIG_DIRS</em> (if it exists), for example <em>/etc/xdg/pip/pip.conf</em>.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 7216657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a261a4b0920eadebe50fb3039c7ba25?s=128&d=identicon&r=PG&f=1", "display_name": "planteater", "link": "https://stackoverflow.com/users/7216657/planteater"}, "is_accepted": false, "score": 1, "last_activity_date": 1556171198, "creation_date": 1556171198, "answer_id": 55842558, "question_id": 45337029, "link": "https://stackoverflow.com/questions/45337029/pip-conf-not-paying-attention-to-trusted-host/55842558#55842558", "title": "pip.conf not paying attention to trusted-host", "body": "<p>To check which config file is being looked at run: <code>pip config --editor pathtoeditorofyourchoice edit</code>, this will open the linked ini file. If it doesnt exist, the Editor (notepad++) will state that there is no file at a specific path &lt;-- and there is your path where you should place the file then.</p>\n\n<p>Also consider as stated here (<a href=\"https://pip.pypa.io/en/stable/user_guide\" rel=\"nofollow noreferrer\">https://pip.pypa.io/en/stable/user_guide</a>):</p>\n\n<blockquote>\n  <p>If multiple configuration files are found by pip then they are\n  combined in the following order:</p>\n\n<pre><code>The site-wide file is read\nThe per-user file is read\nThe virtualenv-specific file is read\n</code></pre>\n  \n  <p>Each file read overrides any values read from previous files, so if\n  the global timeout is specified in both the site-wide file and the\n  per-user file then the latter value will be used.</p>\n</blockquote>\n\n<p>The docs also say: </p>\n\n<blockquote>\n  <p>You can set a custom path location for this config file using the\n  environment variable PIP_CONFIG_FILE.</p>\n</blockquote>\n\n<p>However, running the upper command with this environment variable set up lead to a </p>\n\n<pre><code>Fatal Internal error [id=2]. Please report as a bug.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3163, "user_id": 328059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rhlkj.jpg?s=128&g=1", "display_name": "Nitay", "link": "https://stackoverflow.com/users/328059/nitay"}, "is_accepted": false, "score": 0, "last_activity_date": 1611055665, "creation_date": 1611055665, "answer_id": 65790605, "question_id": 45337029, "link": "https://stackoverflow.com/questions/45337029/pip-conf-not-paying-attention-to-trusted-host/65790605#65790605", "title": "pip.conf not paying attention to trusted-host", "body": "<p>You might be using an old version of PIP. Try upgrading using:</p>\n<pre><code>python -m pip install --upgrade pip\n</code></pre>\n"}], "owner": {"reputation": 1788, "user_id": 384386, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/325d6e904ed55125ce5ba6b3f1892eff?s=128&d=identicon&r=PG", "display_name": "celestialorb", "link": "https://stackoverflow.com/users/384386/celestialorb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41486, "favorite_count": 4, "answer_count": 4, "score": 20, "last_activity_date": 1611055665, "creation_date": 1501101736, "question_id": 45337029, "link": "https://stackoverflow.com/questions/45337029/pip-conf-not-paying-attention-to-trusted-host", "title": "pip.conf not paying attention to trusted-host", "body": "<p>I have my <code>pip.conf</code> file as follows:</p>\n\n<pre><code>[global]\ntrusted-host = &lt;private IP&gt;\nextra-index-url = http://&lt;private IP&gt;/pypi\n</code></pre>\n\n<p>However, whenever I try to install a package (just a test package) from the private pypi repo, I receive an error that instructs me to add <code>--trusted-host &lt;private IP&gt;</code>.  If I do, I can successfully install the package, so I know that <code>pip</code> is reading the <code>pip.conf</code> file.  Why isn't it respecting the <code>trusted-host</code> config?  I've triple checked that the IPs match in the config file.</p>\n\n<p>Several blogs and cursory searches of Google seem to suggest that it should.  (<a href=\"https://pseudoscripter.wordpress.com/2016/05/07/pip-the-repository-located-at-some-ip-is-not-a-trusted-or-secure-host-and-is-being-ignored/\" rel=\"noreferrer\">https://pseudoscripter.wordpress.com/2016/05/07/pip-the-repository-located-at-some-ip-is-not-a-trusted-or-secure-host-and-is-being-ignored/</a>)</p>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 1, "creation_date": 1501101742, "post_id": 45337007, "comment_id": 77636073, "body": "<code>playerAtt[&#39;Health&#39;] == 0</code> doesn&#39;t set it to 0 try with a single <code>=</code>"}, {"owner": {"reputation": 649, "user_id": 6848466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6084f710614f73f37b94f6fb5bb42711?s=128&d=identicon&r=PG&f=1", "display_name": "Professor_Joykill", "link": "https://stackoverflow.com/users/6848466/professor-joykill"}, "edited": false, "score": 0, "creation_date": 1501101789, "post_id": 45337007, "comment_id": 77636106, "body": "Also, that if statement isn&#39;t continually being tested, so unless you test his health after every time he loses it, having a single test won&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 8372037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da827e5a27913bbdd92693407931156?s=128&d=identicon&r=PG&f=1", "display_name": "Franco Tume Fiestas", "link": "https://stackoverflow.com/users/8372037/franco-tume-fiestas"}, "is_accepted": false, "score": 0, "last_activity_date": 1501101873, "creation_date": 1501101873, "answer_id": 45337070, "question_id": 45337007, "link": "https://stackoverflow.com/questions/45337007/modifying-a-dictionary-inside-of-an-if-statement/45337070#45337070", "title": "Modifying a dictionary inside of an if statement", "body": "<p>You have two \"=\" when you set the player's health to 0</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 8359451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zT7h11pJuKo/AAAAAAAAAAI/AAAAAAAAAQQ/DkTUkvYwKFE/photo.jpg?sz=128", "display_name": "Ppick", "link": "https://stackoverflow.com/users/8359451/ppick"}, "is_accepted": false, "score": 0, "last_activity_date": 1501108210, "creation_date": 1501108210, "answer_id": 45338484, "question_id": 45337007, "link": "https://stackoverflow.com/questions/45337007/modifying-a-dictionary-inside-of-an-if-statement/45338484#45338484", "title": "Modifying a dictionary inside of an if statement", "body": "<p>I had put 2 == instead of 1 = when defining </p>\n\n<pre><code>    playerAtt[\"Health\"]. \n</code></pre>\n\n<p>Also, I needed to make sure it was constantly checking if the player's health was zero, so I used a while loop. I used</p>\n\n<pre><code>    while playerAtt[\"Health\"] = 0:\n        deathmsg()\n        exit()\n</code></pre>\n\n<p>to fix it. deathMsg was a function I made to display a random death message, for more information.</p>\n"}], "owner": {"reputation": 3, "user_id": 8359451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zT7h11pJuKo/AAAAAAAAAAI/AAAAAAAAAQQ/DkTUkvYwKFE/photo.jpg?sz=128", "display_name": "Ppick", "link": "https://stackoverflow.com/users/8359451/ppick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1501108210, "creation_date": 1501101654, "last_edit_date": 1501103069, "question_id": 45337007, "link": "https://stackoverflow.com/questions/45337007/modifying-a-dictionary-inside-of-an-if-statement", "title": "Modifying a dictionary inside of an if statement", "body": "<p>I've been trying to make a basic text game in Python, and I'm using dictionaries to contain the player's information. I want to make it so that when a player's health reaches 0, the code will stop running. I've had trouble making that happen. My dictionary, which is at the beginning of my code, looks like this:</p>\n\n<pre><code>    playerAtt = {}\n    playerAtt[\"Weapon\"] = \"Baseball bat\"\n    playerAtt[\"Party\"] = \"Empty\"\n    playerAtt[\"Health\"] = 15\n    playerAtt[\"Cash\"] = \"$100\"\n    print(playerAtt)\n\n    if playerAtt['Health'] &lt;= 0:\n        exit()\n</code></pre>\n\n<p>The bottom section is what I wrote to try and make the code stop running when the player's health reached zero, but it doesn't seem to work. In one path of my game, your health gets set to zero and the game is supposed to end, but the program continues to run:</p>\n\n<pre><code>    townChoice = raw_input(\"You met a traveler in the town. 'Yo. I'm Bob. Let's be friends.' Will you invite him to your party? Y/N\\n\")\n\n    if townChoice == 'y' or townChoice == 'Y':\n        print(\"That kind traveler was not such a kind traveler. He stabbed you with a machete. RIP \" + Name + '.')\n        playerAtt['Health'] == 0\n</code></pre>\n\n<p>When you reach this part of the game, all it does is print the message, and moves on to the next decision. In this situation, I could just manually end the program by doing exit() under the print command, but there are circumstances where the player only loses a fraction of their health, and they would eventually reach zero. Sorry if this is a stupid question, I've only been working on Python for a few days.</p>\n"}, {"tags": ["python", "button", "plotly", "plotly-dash"], "comments": [{"owner": {"reputation": 2763, "user_id": 3491991, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pmHXU.png?s=128&g=1", "display_name": "zelusp", "link": "https://stackoverflow.com/users/3491991/zelusp"}, "edited": false, "score": 0, "creation_date": 1522091754, "post_id": 45336949, "comment_id": 86001966, "body": "Did you make any progress on this? Would love to know how you did it :)"}, {"owner": {"reputation": 1555, "user_id": 8358881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uhm8s.jpg?s=128&g=1", "display_name": "lwileczek", "link": "https://stackoverflow.com/users/8358881/lwileczek"}, "edited": false, "score": 1, "creation_date": 1528995809, "post_id": 45336949, "comment_id": 88727570, "body": "Plotly came out with an <a href=\"https://plot.ly/python/animations/#using-a-slider-and-buttons\" rel=\"nofollow noreferrer\">animations slider</a> that may be useful here."}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 5108875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10daad88a8a9e94f1b9ebcb9722f8502?s=128&d=identicon&r=PG&f=1", "display_name": "vab2048", "link": "https://stackoverflow.com/users/5108875/vab2048"}, "edited": false, "score": 0, "creation_date": 1570195294, "post_id": 50156230, "comment_id": 102847348, "body": "Has there been any advancements since you last looked at this? Like a play button which moves through each step of the slider."}], "tags": [], "owner": {"reputation": 28, "user_id": 1214975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3754193db7505c812eb126eace3ab3?s=128&d=identicon&r=PG", "display_name": "Ebytes64", "link": "https://stackoverflow.com/users/1214975/ebytes64"}, "is_accepted": true, "score": 1, "last_activity_date": 1525354013, "creation_date": 1525354013, "answer_id": 50156230, "question_id": 45336949, "link": "https://stackoverflow.com/questions/45336949/how-to-incorporate-a-play-button-into-a-dash-by-plot-ly-dashboard-using-python/50156230#50156230", "title": "How to incorporate a &quot;play&quot; button into a Dash by Plot.ly dashboard using python?", "body": "<p>When it comes to advancing a slider, I haven't found a \"good\"/natural way to do it. However, I got a workaround with an <a href=\"https://dash.plot.ly/live-updates\" rel=\"nofollow noreferrer\">Interval</a> component working.</p>\n\n<pre><code>import dash_core_components as dcc\nimport dash_html_components as html\nimport dash.dependencies\nfrom dash.dependencies import Input, Output\n\n\n\napp.layout = html.Div(children=[\ndcc.Interval(id='auto-stepper',\n            interval=1*1000, # in milliseconds\n             n_intervals=0\n),\ndcc.Slider(\n    id = \"steper\",\n    min=1,\n    max=step_num,\n    value=1\n)]\n</code></pre>\n\n<p>Then, I have a callback:</p>\n\n<pre><code>@app.callback(\n    dash.dependencies.Output('steper', 'value'),\n    [dash.dependencies.Input('auto-stepper', 'n_intervals')])\ndef on_click(n_intervals):\n    if n_intervals is None:\n        return 0\n    else:\n        return (n_intervals+1)%step_num\n</code></pre>\n\n<p>End result of this is triggering the callback to my slider every second, advancing it. Note the modulus at the end to stop it from going to far.</p>\n"}], "owner": {"reputation": 95, "user_id": 7016796, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209634070641179/picture?type=large", "display_name": "Charles Bushrow", "link": "https://stackoverflow.com/users/7016796/charles-bushrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2022, "favorite_count": 0, "accepted_answer_id": 50156230, "answer_count": 1, "score": 3, "last_activity_date": 1552909920, "creation_date": 1501101463, "last_edit_date": 1552909920, "question_id": 45336949, "link": "https://stackoverflow.com/questions/45336949/how-to-incorporate-a-play-button-into-a-dash-by-plot-ly-dashboard-using-python", "title": "How to incorporate a &quot;play&quot; button into a Dash by Plot.ly dashboard using python?", "body": "<p>I currently have a dashboard with a scattermapbox map that plots the movement of people across a network, and uses several callbacks to update graphs based on hoverdata, etc. The mapbox graph uses a slider (dcc.Slider) to adjust the timestep that is currently showing. I want to add a \"play\" button that automates the process of clicking through the different timesteps on the slider.</p>\n\n<p>I had success with the same dataset and parameters creating a play button in Plotly, because there are no callbacks and the sliders are an element in the layout dictionary for the figure. However, I am unsure where to place the callback for the buttons in Dash and unsure if it should use the animate method or the relayout method.</p>\n\n<p>Currently I have just created a frame for each timestep (separate from the traces encompassed in data).</p>\n"}, {"tags": ["python", "asynchronous", "httprequest", "simplehttpserver"], "comments": [{"owner": {"reputation": 1308, "user_id": 4468084, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb44ca05e219e91ddde075ac13209541?s=128&d=identicon&r=PG", "display_name": "Spooky", "link": "https://stackoverflow.com/users/4468084/spooky"}, "edited": false, "score": 0, "creation_date": 1501101829, "post_id": 45336920, "comment_id": 77636121, "body": "No, it doesn&#39;t. First of all, the while loop doesn&#39;t break until a second client is introduced. The while loop doesn&#39;t wait until the pendingQueue has something, it waits until the first client is no longer pending (triggered by second client). Second, there&#39;s a return which catches the first client and cleanly exits it while the second function call sets up the session between the two clients."}, {"owner": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 1, "creation_date": 1501101985, "post_id": 45336920, "comment_id": 77636202, "body": "If you don&#39;t want another library to handle long-polling, then you are going to have to do a standard REST api without long polling. Do client-side polling (inefficient but good enough for messing around) to check if the room is full or if you have received messages."}], "owner": {"reputation": 1308, "user_id": 4468084, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb44ca05e219e91ddde075ac13209541?s=128&d=identicon&r=PG", "display_name": "Spooky", "link": "https://stackoverflow.com/users/4468084/spooky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501101366, "creation_date": 1501101366, "question_id": 45336920, "link": "https://stackoverflow.com/questions/45336920/pending-requests-with-pythons-simplehttpserver", "title": "Pending requests with Python&#39;s SimpleHTTPServer", "body": "<p>I'm making an anonymous chat application, similar to Omegle. My method of approach instead of using sockets is to use a REST API, but to add a bit of a twist. When a user makes a request, such as POST /search (find a match), the request is held by the server until another user sends a POST /search. Once two people have done this, both requests are responded to which lets the client know to switch to a chat page. This is also done with a pending GET /events request, which is only responded to by the server if there's any new events to be sent.</p>\n\n<p>This works very well in theory with the flow of this application; however, since I'm using SimpleHTTPServer - which is a very basic library - requests are not handling asynchronously. This means that if I block one request until information requirements are fulfilled, no other requests can be accepted. For this kind of project I really don't want to take the time to learn an entirely new library/sub-language for asynchronous requests handling, so I'm trying to figure out how I can do this.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def waitForMatch(client):\n    # if no other clients available to match:\n    if not pendingQueue:\n        # client added to pending queue\n        pendingQueue.append(client)\n        client[\"pending\"] = True\n\n        while client[\"pending\"]:\n            time.sleep(1)\n\n        # break out and let the other client's waitForMatch call create the chatsession\n        return\n\n    # now there's a client available to match\n    otherClient = pendingQueue.pop()\n    otherClient[\"pending\"] = False\n\n    # chat session created\n    createChatSession(otherClient, client)\n</code></pre>\n\n<p>This is the code I currently have, which won't work with non-async requests.</p>\n"}, {"tags": ["android", "python", "rest", "search", "django-rest-framework"], "answers": [{"tags": [], "owner": {"reputation": 6188, "user_id": 784648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ce12343afb67ff0bf132f30b0ca9c5?s=128&d=identicon&r=PG", "display_name": "A. J. Parr", "link": "https://stackoverflow.com/users/784648/a-j-parr"}, "is_accepted": true, "score": 2, "last_activity_date": 1501132015, "creation_date": 1501132015, "answer_id": 45341834, "question_id": 45336880, "link": "https://stackoverflow.com/questions/45336880/how-to-return-all-user-instances-with-same-first-name-or-last-name-as-in-url-dja/45341834#45341834", "title": "How to return all user instances with same first name or last name as in url django rest?", "body": "<p>Doesn't look like you're using <a href=\"http://www.django-rest-framework.org/api-guide/filtering/#searchfilter\" rel=\"nofollow noreferrer\"><code>filters.SearchFilter</code></a> correctly.</p>\n\n<pre><code># views.py\nclass UserSearchListView(generics.ListAPIView):\n    queryset = User.objects.all()\n    serializer_class = UserSerializer\n    filter_backends = (filters.SearchFilter,)\n    search_fields = ('firstName', 'lastName', 'email')\n\n# urls.py\nurl(r'^search/$', user_views.UserSearchListView.as_view(), name=\"user_search\"),\n</code></pre>\n\n<p>Then to request a search over the users, you would request the url:</p>\n\n<p><code>/users/search/?search=@example.com</code></p>\n\n<p>Which would return all users whose firstName, lastName or email contain the string <code>\"@example.com\"</code>.  Check up on the SearchFilter docs for more info on how this works and how you should customise searching and filtering.  <a href=\"http://www.django-rest-framework.org/api-guide/filtering/#searchfilter\" rel=\"nofollow noreferrer\">http://www.django-rest-framework.org/api-guide/filtering/#searchfilter</a></p>\n"}, {"tags": [], "owner": {"reputation": 2358, "user_id": 1277637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c2ADe.jpg?s=128&g=1", "display_name": "mattjegan", "link": "https://stackoverflow.com/users/1277637/mattjegan"}, "is_accepted": false, "score": 1, "last_activity_date": 1501132166, "creation_date": 1501132166, "answer_id": 45341855, "question_id": 45336880, "link": "https://stackoverflow.com/questions/45336880/how-to-return-all-user-instances-with-same-first-name-or-last-name-as-in-url-dja/45341855#45341855", "title": "How to return all user instances with same first name or last name as in url django rest?", "body": "<p>It's because you aren't using the correct url structure required by <code>filters.SearchFilter</code>. As per the <a href=\"http://www.django-rest-framework.org/api-guide/filtering/#searchfilter\" rel=\"nofollow noreferrer\">Django REST Framework Documentation</a> you need to provide the search field as a query parameter like so:</p>\n\n<pre><code>http://example.com/api/users?search=russell\n</code></pre>\n\n<p>So your urls.py should look like this:</p>\n\n<pre><code>url(r'^search$', user_views.UserSearchListView.as_view(), name=\"user_search\"),\n</code></pre>\n\n<p>And should be called using <code>search?search=&lt;name&gt;</code>.</p>\n"}], "owner": {"reputation": 1738, "user_id": 4648883, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/3a9f1c4496df542aee0b9e681cedb80a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Finet", "link": "https://stackoverflow.com/users/4648883/tom-finet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 45341834, "answer_count": 2, "score": 1, "last_activity_date": 1501132166, "creation_date": 1501101191, "question_id": 45336880, "link": "https://stackoverflow.com/questions/45336880/how-to-return-all-user-instances-with-same-first-name-or-last-name-as-in-url-dja", "title": "How to return all user instances with same first name or last name as in url django rest?", "body": "<p>I am building a django rest api as the backend for an android app. I am implementing a search feature in the android client which should pass the query string; which could either be the first name, last name, both, or the email, to the backend to search the user model for any matching instances and return them to be displayed in a recycler view on the client side.</p>\n\n<p>The way my url is built client side looks like this:</p>\n\n<pre><code>@GET(\"users/search/{name}\")\nCall&lt;List&lt;User&gt;&gt; searchUsers(@Path(\"name\") String name);\n</code></pre>\n\n<p>The urls.py for this endpoint looks like this server side:</p>\n\n<pre><code>url(r'^search/(?P&lt;username&gt;.+)/$', user_views.UserSearchListView.as_view(), name=\"user_search\"),\n</code></pre>\n\n<p>The view which maps to the is url looks like this:</p>\n\n<pre><code>class UserSearchListView(generics.ListAPIView):\n    queryset = User.objects.all()\n    serializer_class = UserSerializer\n    filter_backends = (filters.SearchFilter,)\n    search_fields = ('firstName', 'lastName', 'email')\n</code></pre>\n\n<p>When I test my API with postman, no matter what string I put in the url, all the users are returned, instead of only the relevant ones. How do I fix this so that only the users with matching first name, last name or email are returned?</p>\n"}, {"tags": ["python", "http", "web-scraping", "scrapy", "scrapy-spider"], "comments": [{"owner": {"reputation": 924, "user_id": 6576691, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1fb837a42fbe8ff3c26aa1ae50963081?s=128&d=identicon&r=PG&f=1", "display_name": "Naltroc", "link": "https://stackoverflow.com/users/6576691/naltroc"}, "edited": false, "score": 0, "creation_date": 1501102345, "post_id": 45336824, "comment_id": 77636381, "body": "Please post full lines of code that you are using."}, {"owner": {"reputation": 924, "user_id": 6576691, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1fb837a42fbe8ff3c26aa1ae50963081?s=128&d=identicon&r=PG&f=1", "display_name": "Naltroc", "link": "https://stackoverflow.com/users/6576691/naltroc"}, "edited": false, "score": 0, "creation_date": 1501163900, "post_id": 45336824, "comment_id": 77667213, "body": "If you find a way around the 403, please let us know!"}, {"owner": {"reputation": 5, "user_id": 2562898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc828c3cc49b59c93aa0ffb0fc868475?s=128&d=identicon&r=PG", "display_name": "DoctorDimonds", "link": "https://stackoverflow.com/users/2562898/doctordimonds"}, "reply_to_user": {"reputation": 924, "user_id": 6576691, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1fb837a42fbe8ff3c26aa1ae50963081?s=128&d=identicon&r=PG&f=1", "display_name": "Naltroc", "link": "https://stackoverflow.com/users/6576691/naltroc"}, "edited": false, "score": 0, "creation_date": 1502236568, "post_id": 45336824, "comment_id": 78118846, "body": "@Naltroc It was actually a very easy work around.  All you need to do is change the user agent to be a normal browser!  Thanks for the help man!"}], "answers": [{"tags": [], "owner": {"reputation": 924, "user_id": 6576691, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1fb837a42fbe8ff3c26aa1ae50963081?s=128&d=identicon&r=PG&f=1", "display_name": "Naltroc", "link": "https://stackoverflow.com/users/6576691/naltroc"}, "is_accepted": false, "score": 1, "last_activity_date": 1501102986, "creation_date": 1501102986, "answer_id": 45337390, "question_id": 45336824, "link": "https://stackoverflow.com/questions/45336824/python-scrapy-not-getting-any-content-for-certain-page/45337390#45337390", "title": "Python Scrapy - Not Getting Any Content For Certain Page", "body": "<p>Take care to read the response you get when visitng offerup. </p>\n\n<blockquote>\n  <p>[s] Available Scrapy objects: </p>\n  \n  <p>[s]   scrapy     scrapy module (contains\n  scrapy.Request, scrapy.Selector, etc) </p>\n  \n  <p>[s]   crawler<br>\n   </p>\n  \n  <p>[s]   item {} </p>\n  \n  <p>[s]   request    https://offerup.com> </p>\n  \n  <p><strong>[s]   response   &lt;403\n  <a href=\"https://offerup.com\" rel=\"nofollow noreferrer\">https://offerup.com</a>></strong></p>\n</blockquote>\n\n<p>You get a 403, a <strong>Forbidden</strong> error. Nothing can bypass a 403.</p>\n\n<p>If you try a different site, such as <a href=\"http://buffalo.craigslist.org\" rel=\"nofollow noreferrer\">http://buffalo.craigslist.org</a>, an OK response of 200 is given. Using the same command will show the desired page, and using <code>response.xpath('//text()').extract()</code> will print all of the text elements from root. </p>\n\n<p>Some sites may have anti-scraping measures set up to prevent robots from hogging their resources. Offerup is apparently such a site. </p>\n\n<p>To direclty answer your question, your code is functional, but the target site prevents you from using it. </p>\n"}], "owner": {"reputation": 5, "user_id": 2562898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc828c3cc49b59c93aa0ffb0fc868475?s=128&d=identicon&r=PG", "display_name": "DoctorDimonds", "link": "https://stackoverflow.com/users/2562898/doctordimonds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501103052, "creation_date": 1501101025, "last_edit_date": 1501103052, "question_id": 45336824, "link": "https://stackoverflow.com/questions/45336824/python-scrapy-not-getting-any-content-for-certain-page", "title": "Python Scrapy - Not Getting Any Content For Certain Page", "body": "<p>I am trying to scrape some info from offerup.com and on the <strong>scrapy shell</strong>, nothing comes up.  </p>\n\n<p>I will type:</p>\n\n<p><code>scrapy shell https://offerup.com/</code>  </p>\n\n<p>It will go there but then if I simply try to get text of the whole webpage with:</p>\n\n<p><code>response.xpath('//text()').extract()</code></p>\n\n<p>it comes back with:</p>\n\n<p><code>['Request unsuccessful. Incapsula incident ID: 623000250007296502-10946686267359632']</code> </p>\n\n<p>It comes back with nothing for any other info I try to get for the response such as the title.<br>\nDo you know why this happens?  Any help is hugely appreciated.</p>\n"}, {"tags": ["python", "excel", "python-3.x", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "is_accepted": true, "score": 0, "last_activity_date": 1501514501, "creation_date": 1501514501, "answer_id": 45419703, "question_id": 45336819, "link": "https://stackoverflow.com/questions/45336819/python3-pandas-create-new-dataframe-based-on-array-of-objects/45419703#45419703", "title": "Python3 Pandas - Create new DataFrame based on array of objects", "body": "<p>The answer was simple: instead of <code>sdf.append()</code> I needed to set the DataFrame equal to the append, therefore <code>sdf = sdf.append()</code></p>\n\n<p>Here's the correct code: </p>\n\n<pre><code>writer = pd.ExcelWriter('master.xlsx')\n\nsdf = pd.DataFrame(columns=('Question', 'Answer', 'Total', 'Percent'))\nfor data in q_array:\n    sdf = sdf.append({'Question': data.get_question(), 'Total': data.get_total()}, ignore_index=True)\n    for answer, number in data.get_answers().items():\n        sdf = sdf.append({'Answer': answer, 'Total': number, 'Percent': number_to_percent(number, data.get_total())}, ignore_index=True)\n\nsdf.to_excel(writer, 'Stats', index=False)\n\nwriter.save()\n</code></pre>\n"}], "owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 45419703, "answer_count": 1, "score": 0, "last_activity_date": 1501514501, "creation_date": 1501101001, "question_id": 45336819, "link": "https://stackoverflow.com/questions/45336819/python3-pandas-create-new-dataframe-based-on-array-of-objects", "title": "Python3 Pandas - Create new DataFrame based on array of objects", "body": "<p>I have an array of objects. I'm trying to loop through that array and create a new dataframe, then save that to a spreadsheet. </p>\n\n<p>My object variables are like this: </p>\n\n<pre><code>def __init__(self, question, total):\n    self.question = str(question)\n    self.total = float(total)\n    self.answers = {}\n</code></pre>\n\n<p><code>question</code> is a string of the question text</p>\n\n<p><code>total</code> is a number of the total votes the question received</p>\n\n<p><code>answers</code> is a dictionary containing data like: <code>{'Yes': 5, 'No': 2, 'Maybe': 1}</code>, a string for the answer choice and a number for the number of votes an answer received</p>\n\n<p>I am trying to loop through the <code>q_array</code> of <code>Question</code> objects, append the question and total, then in a for loop below go through the answer items and append those on additional rows. </p>\n\n<p>Here's the desired output/sheet: </p>\n\n<pre><code>Question                Answer    Total    Percent\nWhat color is the sky?            22       \n                        Red       8        36.4%\n                        Green     2        9.1%\n                        Blue      12       54.5%\n</code></pre>\n\n<p>Here's my current code: </p>\n\n<pre><code>writer = pd.ExcelWriter('master.xlsx')\n\nsdf = pd.DataFrame(columns=('Question', 'Answer', 'Total', 'Percent'))\nfor data in q_array:\n    sdf.append({'Question': data.get_question(), 'Total': data.get_total()}, ignore_index=True)\n    for answer, number in data.get_answers().items():\n        sdf.append({'Answer': answer, 'Total': number, 'Percent': number_to_percent(number, data.get_total())}, ignore_index=True)\n\nsdf.to_excel(writer, 'stats', index=False)\n\nwriter.save()\n</code></pre>\n\n<p>I'm trying to use <code>.append()</code> to add the new rows and select what data goes in the row. But when I print <code>sdf</code> it's empty and in the spreadsheet it has the columns but the rest of the data is missing. What am I doing wrong? Thanks for any help provided!</p>\n"}, {"tags": ["python", "linux", "symlink"], "comments": [{"owner": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "edited": false, "score": 0, "creation_date": 1501101367, "post_id": 45336802, "comment_id": 77635861, "body": "How is it meant to end up in the right directory if it doesn&#39;t follow the symbolic link? Does calling <code>os.getcwd()</code> in the script not bypass issue of it being a different location?"}, {"owner": {"reputation": 11810, "user_id": 2063031, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2677db7242bfbcead46fbf27390160d?s=128&d=identicon&r=PG", "display_name": "ostrokach", "link": "https://stackoverflow.com/users/2063031/ostrokach"}, "reply_to_user": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "edited": false, "score": 0, "creation_date": 1501101423, "post_id": 45336802, "comment_id": 77635893, "body": "I just want it to work like <code>cd</code> and <code>pwd</code> in bash."}, {"owner": {"reputation": 2543, "user_id": 3527520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/284940a2227bc0245276e6022be418e3?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Fraser", "link": "https://stackoverflow.com/users/3527520/simon-fraser"}, "edited": false, "score": 2, "creation_date": 1501101601, "post_id": 45336802, "comment_id": 77635997, "body": "Seems <a href=\"https://stackoverflow.com/a/1545838/3527520\">stackoverflow.com/a/1545838/3527520</a> is the answer"}, {"owner": {"reputation": 2017, "user_id": 7264476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804ccec29cfd87c0081304fb1d7a2288?s=128&d=identicon&r=PG&f=1", "display_name": "Gribouillis", "link": "https://stackoverflow.com/users/7264476/gribouillis"}, "edited": false, "score": 0, "creation_date": 1501102080, "post_id": 45336802, "comment_id": 77636257, "body": "This doesn&#39;t prevent you from having the same scripts running on both servers, only the scripts must not call <code>os.getcwd()</code>, but perhaps <code>my_own_getcwd()</code>."}, {"owner": {"reputation": 11810, "user_id": 2063031, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2677db7242bfbcead46fbf27390160d?s=128&d=identicon&r=PG", "display_name": "ostrokach", "link": "https://stackoverflow.com/users/2063031/ostrokach"}, "edited": false, "score": 0, "creation_date": 1501102331, "post_id": 45336802, "comment_id": 77636373, "body": "I edited the post. The usecase is submitting jobs from the NFS server to worker nodes using a job scheduler such as Sun Grid Engine. I want to specify the full path to a script, but it&#39;s hard to do that from within Python."}], "owner": {"reputation": 11810, "user_id": 2063031, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f2677db7242bfbcead46fbf27390160d?s=128&d=identicon&r=PG", "display_name": "ostrokach", "link": "https://stackoverflow.com/users/2063031/ostrokach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 571, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1501102204, "creation_date": 1501100952, "last_edit_date": 1501102204, "question_id": 45336802, "link": "https://stackoverflow.com/questions/45336802/prevent-os-chdir-from-resolving-symbolic-link", "title": "Prevent `os.chdir` from resolving symbolic link", "body": "<p>On all the machines on my cluster, my home directory is mounted from the NFS server as <code>/home/drive1/username</code>. On the NFS server, the folder <code>/home/drive1/username</code> is a symbolic link to <code>/drive1/username</code>.</p>\n\n<p>Running:</p>\n\n<pre><code>$ python -c \"import os; os.chdir('/home/drive1/username'); print(os.getcwd())\"\n</code></pre>\n\n<p>on any machine <em>other than</em> the NFS server prints:</p>\n\n<pre><code>/home/drive1/username\n</code></pre>\n\n<p>but on the NFS server, the same command prints:</p>\n\n<pre><code>/drive1/username\n</code></pre>\n\n<p>Is there any way to prevent Python <code>os.chdir</code> from walking the symbolic link? This makes it difficult to specify the correct path when submit jobs from the NFS server to the worker nodes. </p>\n\n<hr>\n\n<p><strong>Edit</strong>:</p>\n\n<p>Note that</p>\n\n<pre><code>cd /home/drive1/username\npwd\n</code></pre>\n\n<p>works as expected on all machines.</p>\n"}, {"tags": ["python", "google-maps", "pandas", "google-geocoding-api"], "answers": [{"comments": [{"owner": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "edited": false, "score": 1, "creation_date": 1515599016, "post_id": 45508192, "comment_id": 83362301, "body": "As I wrote in <a href=\"https://stackoverflow.com/a/48190942/1885518\">my answer</a>, I think your answer somehow misuses the concept of providing the API KEY. According to the <a href=\"http://geocoder.readthedocs.io/providers/Google.html#environment-variables\" rel=\"nofollow noreferrer\">docs</a>, the env variable is meant to be used for &quot;<code>[...] mak[ing] sure your API key is stored safely on your computer, you can define that API key using your system\u2019s environment variables.</code>&quot; Thus, I think it would be good to at least mention this or describe how to do this not within python code."}, {"owner": {"reputation": 2087, "user_id": 4170095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--D0KECpbse4/AAAAAAAAAAI/AAAAAAAAAL4/ofzaYx24XzQ/photo.jpg?sz=128", "display_name": "Philippe Remy", "link": "https://stackoverflow.com/users/4170095/philippe-remy"}, "edited": false, "score": 0, "creation_date": 1592975019, "post_id": 45508192, "comment_id": 110613357, "body": "That&#39;s a bit lame to have to import the key before importing the lib.."}], "tags": [], "owner": {"reputation": 6248, "user_id": 3421652, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/myqs7.jpg?s=128&g=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/3421652/roman"}, "is_accepted": true, "score": 11, "last_activity_date": 1515657336, "last_edit_date": 1515657336, "creation_date": 1501853460, "answer_id": 45508192, "question_id": 45336763, "link": "https://stackoverflow.com/questions/45336763/using-my-google-geocoding-api-key-with-python-geocoder/45508192#45508192", "title": "Using my Google Geocoding API key with Python geocoder", "body": "<p>You need to set the environment variable <em>before</em> you import <code>geocoder</code>:</p>\n\n<pre><code>import os\n\nos.environ[\"GOOGLE_API_KEY\"] = \"api_key_from_google_cloud_platform\"\n\nimport geocoder\n\ngeo = geocoder.google(address)\nlatlong = geo.latlng\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>As Murmel mentioned in the comments, environment variables containing keys (and in general) should not be set inside of your code.<br>\nIf you are deploying this somewhere then set up enviroment variables in your configuration file.  Or even better, as a secret in something like Kubernetes.  </p>\n\n<p>Else set the environment variable in bash with<br>\n<code>export GOOGLE_API_KEY=api_key_from_google_cloud_platform</code></p>\n"}, {"comments": [{"owner": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "edited": false, "score": 0, "creation_date": 1515599516, "post_id": 48189219, "comment_id": 83362668, "body": "Hm not quite sure, what you are trying to say? It is more a comment on Roman&#39;s answer, isn&#39;t it? Meta: Instead of linking to Roman&#39;s profile, I would recommend you tolink to his actual answer. Furthermore, instead of posting an image of the code, simply copy and paste the code and provide the link to the github for further reference is in general a better approach."}], "tags": [], "owner": {"reputation": 670, "user_id": 6054622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d4e693da87b8b0947695e622b384ef9?s=128&d=identicon&r=PG&f=1", "display_name": "kepy97", "link": "https://stackoverflow.com/users/6054622/kepy97"}, "is_accepted": false, "score": 0, "last_activity_date": 1515645959, "last_edit_date": 1515645959, "creation_date": 1515593225, "answer_id": 48189219, "question_id": 45336763, "link": "https://stackoverflow.com/questions/45336763/using-my-google-geocoding-api-key-with-python-geocoder/48189219#48189219", "title": "Using my Google Geocoding API key with Python geocoder", "body": "<p>I am agree with <a href=\"https://stackoverflow.com/a/45508192/1885518\">Roman</a> answer. You can use that and it is working. I am bit afraid if I use geocoder in loop then google will definately block my ip address ,so I go through git hub code and found that geocoder get google api key from <code>os.environ.get('GOOGLE_API_KEY')</code>. You can see that in the picture:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1z7qv.jpg\" alt=\"here\"></p>\n"}, {"tags": [], "owner": {"reputation": 4083, "user_id": 1885518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5971e6c4c6476a1bed2c41e646287f?s=128&d=identicon&r=PG", "display_name": "Murmel", "link": "https://stackoverflow.com/users/1885518/murmel"}, "is_accepted": false, "score": 2, "last_activity_date": 1516631593, "last_edit_date": 1516631593, "creation_date": 1515598546, "answer_id": 48190942, "question_id": 45336763, "link": "https://stackoverflow.com/questions/45336763/using-my-google-geocoding-api-key-with-python-geocoder/48190942#48190942", "title": "Using my Google Geocoding API key with Python geocoder", "body": "<p>Basically there are 2 options:</p>\n\n<ul>\n<li><p>passing the API KEY as environment variable:</p>\n\n<pre><code>GOOGLE_API_KEY=YOUR-API-KEY-HERE  python your_program.py\n</code></pre></li>\n<li><p>passing the API KEY as argument:</p>\n\n<pre><code>geocoder.google('some address', key='YOUR-API-KEY-HERE')\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p><strong>Details</strong></p>\n\n<ol>\n<li><p>You are using the python library called <a href=\"https://pypi.python.org/pypi/geocoder\" rel=\"nofollow noreferrer\">geocoder</a>, which itself is a wrapper around multiple geocoding services. </p></li>\n<li><p>If you look at the <a href=\"https://pypi.python.org/pypi/geocoder\" rel=\"nofollow noreferrer\">pypi page of geocoder</a>, you can (ignoring the rendering problems) find the <a href=\"http://geocoder.readthedocs.io/\" rel=\"nofollow noreferrer\">docs</a> for geocoder. In your case you probably want to have a look at the <a href=\"http://geocoder.readthedocs.io/providers/Google.html#geocoding\" rel=\"nofollow noreferrer\">Google related part of the docs</a>.</p></li>\n<li><p>For basic usage this seams to work even without an API KEY, but you can specify one using 2 variants:</p>\n\n<ul>\n<li><p><a href=\"http://geocoder.readthedocs.io/providers/Google.html#environment-variables\" rel=\"nofollow noreferrer\">Environment variable</a>: Like <a href=\"https://stackoverflow.com/a/45508192/1885518\">Roman already showed</a>. This approach is meant to be used to not have the <em>API KEY</em> in code - for security reasons. (Probably you want to upload your code into a public repository, but without exposing your <em>API KEY</em> to everyone.) </p></li>\n<li><p><a href=\"http://geocoder.readthedocs.io/providers/Google.html#parameters\" rel=\"nofollow noreferrer\">\"Key\" parameter:</a> You can also provide your <em>API KEY</em> by specifying it using the <code>key</code> parameter, like:</p>\n\n<pre><code>geocoder.google('some address', key='YOUR-API-KEY-HERE')\n</code></pre></li>\n</ul></li>\n</ol>\n"}], "owner": {"reputation": 335, "user_id": 7834130, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1599025640127368/picture?type=large", "display_name": "Raphael Hernandes", "link": "https://stackoverflow.com/users/7834130/raphael-hernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8583, "favorite_count": 3, "accepted_answer_id": 45508192, "answer_count": 3, "score": 6, "last_activity_date": 1516631593, "creation_date": 1501100795, "question_id": 45336763, "link": "https://stackoverflow.com/questions/45336763/using-my-google-geocoding-api-key-with-python-geocoder", "title": "Using my Google Geocoding API key with Python geocoder", "body": "<p>I'm a beginner at Python and I've been working to geocode a database using Pandas and Geocoder on Jupyter.</p>\n\n<p>Since the df is a little long (around 3000 rows), I'd like to use Google's Geocoding API.</p>\n\n<p>I've already created a free key, but I have no idea what I'm supposed to do with it. Help?</p>\n\n<p>By the way, my code looks like this:</p>\n\n<pre><code>import geocoder\nimport pandas as pd\n\ngeo = geocoder\n\ndf=pd.read_excel('hsp2.xlsx')\n\ndf['Coordinates']=df['Address'].apply(geo.google).apply(lambda x: x.latlng if x != None else None)\n\ndf.to_csv('output.csv', sep='|', encoding='iso8859_15')\n</code></pre>\n"}, {"tags": ["python", "xpath", "web-scraping", "beautifulsoup", "lxml"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501101795, "post_id": 45336799, "comment_id": 77636108, "body": "tried using beautifulsoup, but was not able to locate the overarching &lt;/div&gt; even, not sure if I should be using selenium instead"}, {"owner": {"reputation": 1956, "user_id": 2027146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mrrIp.jpg?s=128&g=1", "display_name": "Milk", "link": "https://stackoverflow.com/users/2027146/milk"}, "reply_to_user": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501110109, "post_id": 45336799, "comment_id": 77639596, "body": "Perhaps the content varies. Scraping is always a risk because you relying on the page being consistent all the time, which it&#39;s often not."}], "tags": [], "owner": {"reputation": 1956, "user_id": 2027146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mrrIp.jpg?s=128&g=1", "display_name": "Milk", "link": "https://stackoverflow.com/users/2027146/milk"}, "is_accepted": false, "score": 0, "last_activity_date": 1501100926, "creation_date": 1501100926, "answer_id": 45336799, "question_id": 45336668, "link": "https://stackoverflow.com/questions/45336668/scraping-text-with-xpath-lxml/45336799#45336799", "title": "Scraping text with xpath/lxml", "body": "<p>Is the xpath array zero indexed?</p>\n\n<p><code>//*[@id=\"wine_copy_inner\"]/p/a[4]</code> should be <code>...[3]</code>. </p>\n\n<p>Looks like the number of <code>a</code> tags changes when you are logged in vs logged out. Might want to use another method to locate this tag. </p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501103593, "post_id": 45337367, "comment_id": 77637074, "body": "sorry, I mean I want to get &quot;2005 - 2013&quot; (I&#39;ve updated my question) though I&#39;m not sure as to why others are able to get this and yet I get the error with the same code."}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501103843, "post_id": 45337367, "comment_id": 77637191, "body": "Try this one <code>content = html.xpath(&#39;&#47;&#47;a[@title=&quot;Source: Community&quot;]&#47;text()&#39;)</code>"}, {"owner": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501178521, "post_id": 45337367, "comment_id": 77677408, "body": "sorry to bother you with this again, but I&#39;m not trying to get the &quot;vintage&quot; from the same site, and have used a similar method as you did, but it does not seem to be working. <code>content_divs = html.xpath(&#39;&#47;&#47;a[@href=&quot;http:&#47;&#47;cellartracker.com&#47;list.asp?Tab&zwnj;&#8203;le=List&amp;Vintage]&#47;tex&zwnj;&#8203;t()&#39;)</code>)"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501178716, "post_id": 45337367, "comment_id": 77677525, "body": "What you mean <i>vintage</i>? What exactly you want to get?"}, {"owner": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501179077, "post_id": 45337367, "comment_id": 77677737, "body": "if you go on this page (<a href=\"http://www.cellartracker.com/wine.asp?iWine=177807\" rel=\"nofollow noreferrer\">cellartracker.com/wine.asp?iWine=177807</a>) the vintage is 2004"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501179862, "post_id": 45337367, "comment_id": 77678163, "body": "You mean this element <code>&lt;a href=&quot;list.asp?Table=List&amp;amp;Vintage=2004&quot;&gt;2004&lt;&#47;a&gt;</code>?"}, {"owner": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501180039, "post_id": 45337367, "comment_id": 77678260, "body": "yes, but I need to assume that I won&#39;t already know the vintage, and that that is the piece of information I want. so i tried to give only part of the href"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501180178, "post_id": 45337367, "comment_id": 77678343, "body": "<code>&#47;&#47;a[starts-with(@href, &quot;list.asp?Table=List&amp;amp;Vintage=&quot;)]</code>"}, {"owner": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501180421, "post_id": 45337367, "comment_id": 77678502, "body": "that returns an empty list for me, maybe the site is blocking me?"}, {"owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "reply_to_user": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "edited": false, "score": 0, "creation_date": 1501180804, "post_id": 45337367, "comment_id": 77678708, "body": "I think it&#39;s because of ampersand symbol. Try shorter version: <code>&#47;&#47;a[starts-with(@href, &quot;list.asp?Table=List&quot;)]</code>"}], "tags": [], "owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "is_accepted": true, "score": 0, "last_activity_date": 1501104145, "last_edit_date": 1501104145, "creation_date": 1501102907, "answer_id": 45337367, "question_id": 45336668, "link": "https://stackoverflow.com/questions/45336668/scraping-text-with-xpath-lxml/45337367#45337367", "title": "Scraping text with xpath/lxml", "body": "<p>If you want to get <code>\"2005 - 2013\"</code> you might use below code</p>\n\n<pre><code>content = html.xpath('//a[@title=\"Source: Community\"]/text()')\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7910719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/238c5e5b260b096f838ae9d620fdfb52?s=128&d=identicon&r=PG&f=1", "display_name": "user7910719", "link": "https://stackoverflow.com/users/7910719/user7910719"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 45337367, "answer_count": 2, "score": 3, "last_activity_date": 1501104145, "creation_date": 1501100403, "last_edit_date": 1501103624, "question_id": 45336668, "link": "https://stackoverflow.com/questions/45336668/scraping-text-with-xpath-lxml", "title": "Scraping text with xpath/lxml", "body": "<p>I'm trying to scrape the text \"2005-2013\" from the text that says \"drink between: 2005 - 2013\" from <a href=\"http://www.cellartracker.com/wine.asp?iWine=91411\" rel=\"nofollow noreferrer\">http://www.cellartracker.com/wine.asp?iWine=91411</a> using xpath/lxml, and am only able to do it for some of the other pages on this site, and not this one. Not sure what I'm doing wrong/if the xpath I have been copying from the element is incorrect </p>\n\n<p>it tell's me:</p>\n\n<pre><code>print(content_divs[0].text_content().strip())\nIndexError: list index out of range\n</code></pre>\n\n<p>Here's my code: </p>\n\n<pre><code>import requests, lxml.html\npage = requests.get('http://www.cellartracker.com/wine.asp?iWine=91411')\nhtml = lxml.html.fromstring(page.content)\ncontent_divs = html.xpath('//*[@id=\"wine_copy_inner\"]/p/a[4]')\nprint(content_divs[0].text_content().strip())\n</code></pre>\n\n<p>thanks for your help!!!</p>\n"}, {"tags": ["python", "sqlalchemy", "teradata"], "comments": [{"owner": {"reputation": 584, "user_id": 98804, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/687c60d5e4fa6ca2be6ee180d60c8e2c?s=128&d=identicon&r=PG", "display_name": "xenodevil", "link": "https://stackoverflow.com/users/98804/xenodevil"}, "edited": false, "score": 0, "creation_date": 1501488520, "post_id": 45336661, "comment_id": 77781208, "body": "Can you share some sample data with query and resultant values that you got from sqlalchemy vs. Teradata Studio?"}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "reply_to_user": {"reputation": 584, "user_id": 98804, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/687c60d5e4fa6ca2be6ee180d60c8e2c?s=128&d=identicon&r=PG", "display_name": "xenodevil", "link": "https://stackoverflow.com/users/98804/xenodevil"}, "edited": false, "score": 0, "creation_date": 1501511409, "post_id": 45336661, "comment_id": 77798017, "body": "Updated to show sample data and the method I&#39;ve been using to compare the two."}, {"owner": {"reputation": 54566, "user_id": 2527905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY8e6.jpg?s=128&g=1", "display_name": "dnoeth", "link": "https://stackoverflow.com/users/2527905/dnoeth"}, "edited": false, "score": 1, "creation_date": 1501512211, "post_id": 45336661, "comment_id": 77798586, "body": "Quick guess: As you got comparison based on strings the sessions have different case sensitivity, e.g. <code>JOHN</code> vs <code>John</code>. Check <code>SELECT Transaction_Mode FROM dbc.sessioninfoV WHERE SessionNo = SESSION;</code> if it&#39;s <code>T</code> or <code>A</code>. There&#39;s a JDBC property <code>TMODE</code>, the possible values are <code>TERA</code>, <code>ANSI</code> &amp; <code>DEFAULT</code>."}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "reply_to_user": {"reputation": 54566, "user_id": 2527905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY8e6.jpg?s=128&g=1", "display_name": "dnoeth", "link": "https://stackoverflow.com/users/2527905/dnoeth"}, "edited": false, "score": 0, "creation_date": 1501513024, "post_id": 45336661, "comment_id": 77799218, "body": "Updated to show the results of @dnoeth&#39;s suggested query."}, {"owner": {"reputation": 54566, "user_id": 2527905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY8e6.jpg?s=128&g=1", "display_name": "dnoeth", "link": "https://stackoverflow.com/users/2527905/dnoeth"}, "edited": false, "score": 0, "creation_date": 1501514121, "post_id": 45336661, "comment_id": 77800042, "body": "When a column is defined as <code>NOT CASESPECIFIC</code> in the <code>CREATE TABLE</code> you must either switch to Teradata mode <code>T</code> or add <code>(NOT CASESPECIFIC)</code> after each string literal, e.g. <code>WHEN MECHANIC = &#39;JOHN&#39; (NOT CASESPECIFIC) THEN 1</code> and vice versa. But you better use the same Transaction Mode for all sessions - after finding out what you really need :-)"}, {"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1501515892, "post_id": 45336661, "comment_id": 77801278, "body": "Do you mind posting that as an answer, so I can accept it?"}], "answers": [{"comments": [{"owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 0, "creation_date": 1501591988, "post_id": 45425086, "comment_id": 77837630, "body": "If my SQL has an <code>in (&#39;string1&#39;, &#39;string2&#39;, &#39;string3&#39;...)</code> statement, do I put <code>(NOT CASESPECIFIC)</code> after each string or can I put a single one at the end of the parenthesis?"}, {"owner": {"reputation": 54566, "user_id": 2527905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY8e6.jpg?s=128&g=1", "display_name": "dnoeth", "link": "https://stackoverflow.com/users/2527905/dnoeth"}, "reply_to_user": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "edited": false, "score": 1, "creation_date": 1501597000, "post_id": 45425086, "comment_id": 77841830, "body": "Unfortunately you have to do it after every literal in an ANSI session, you can shorten it to <code>(NOT CS)</code>. Or you switch to <code>UPPER(column) IN (&#39;STRING1&#39;, &#39;STRING2&#39;, &#39;STRING3&#39;...)</code>. defaulting to case insensitive is a nice thing in Teradata mode (one of the reasons why a large majority of systems is using this a default)."}], "tags": [], "owner": {"reputation": 54566, "user_id": 2527905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aY8e6.jpg?s=128&g=1", "display_name": "dnoeth", "link": "https://stackoverflow.com/users/2527905/dnoeth"}, "is_accepted": true, "score": 1, "last_activity_date": 1501534314, "creation_date": 1501534314, "answer_id": 45425086, "question_id": 45336661, "link": "https://stackoverflow.com/questions/45336661/sqlalchemy-and-teradata-studio-yielding-different-results-from-the-same-statemen/45425086#45425086", "title": "sqlalchemy and Teradata Studio yielding different results from the same statements", "body": "<p>Based on the comments the sessions from Python/Studio use a different transaction mode:</p>\n\n<pre><code> SELECT Transaction_Mode -- T=Teradata, A=ANSI mode\n FROM dbc.sessioninfoV\n WHERE SessionNo = SESSION;\n</code></pre>\n\n<p>Session mode is set in JDBC through the <code>TMODE</code> property, the possible values are <code>TERA</code>, <code>ANSI</code> &amp; <code>DEFAULT</code>. </p>\n\n<p>One of the differences is case sensitivity of literals, in a Teradata session it's case insensitive while an ANSI session defaults to case sensitive, this explains a different number of matches for <code>WHEN MECHANIC = 'JOHN' THEN 1</code> when there's <code>JOHN</code> and <code>John</code>.</p>\n\n<p><a href=\"http://www.info.teradata.com/HTMLPubs/DB_TTU_16_00/SQL_Reference/B035-1142-160K/qej1472241600000.html#wwID0EYGHS\" rel=\"nofollow noreferrer\">Comparison of Transactions in ANSI and Teradata Session Modes</a></p>\n\n<p>When a column is defined as <code>NOT CASESPECIFIC</code> in the CREATE TABLE you must either switch to Teradata mode or add (<code>NOT CASESPECIFIC</code>) after each string literal, e.g. <code>WHEN MECHANIC = 'JOHN' (NOT CASESPECIFIC) THEN 1</code>.</p>\n\n<p>For all differences between Teradata and ANSI session see the\n<a href=\"http://www.info.teradata.com/HTMLPubs/DB_TTU_16_00/SQL_Reference/B035-1142-160K/wbk1472241599438.html#\" rel=\"nofollow noreferrer\">Transaction Processing</a> chapter in the manuals.</p>\n"}], "owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 45425086, "answer_count": 1, "score": 0, "last_activity_date": 1501534314, "creation_date": 1501100380, "last_edit_date": 1501512993, "question_id": 45336661, "link": "https://stackoverflow.com/questions/45336661/sqlalchemy-and-teradata-studio-yielding-different-results-from-the-same-statemen", "title": "sqlalchemy and Teradata Studio yielding different results from the same statements", "body": "<p>My company has some tables that need to be updated from queries regularly. Normally, I would make the query into a view, but the destination schema does not have ubiquitous select access and it often takes a while for IT for help us out in that regard and we need the tables setup quickly.</p>\n\n<p>So, I've created a python script that reads a .sql file, parses it into individual statements which generally involve creating volatile tables, then executes those statements through sqlalchemy. Lastly the python program generates a <code>MERGE</code> statement to update the destination table from the final volatile table in the .sql file. The python looks like this:</p>\n\n<pre><code>import sys\nimport re\nimport time\nfrom os.path import dirname\n\nimport sqlalchemy\nimport sqlalchemy_teradata\nfrom my_stuff import CSpinner, end_program, Nudger, get_auth, create_update_text\n\nt0 = time.clock()\n\n# Assigning Variables\nprint('Assigning Variables')\nuser, pw, connstring, schema = get_auth()\ntd_engine = sqlalchemy.create_engine(f'teradata://{user}:{pw}@{connstring}/{schema}')\n\nif __name__ == '__main__':\n    initial_sql_file = rf'{dirname(__file__)}\\{sys.argv[1]}'\n    table_name = sys.argv[2]\n    keys = eval(sys.argv[3])\n\n    # Reading the SQL file to get the result set\n    with open(initial_sql_file, 'r') as f:\n        sql_raw = f.read()\n\n    statements = re.findall(r'.+?;', sql_raw, re.S)\n    cols = td_engine.execute(f'SEL TOP 1* from {table_name}').keys()\n    print(f'Assigned\\n\\n{table_name}')\n\n    # Querying TD using the SQL read above\n    with CSpinner('\\nPerforming SQL Magic...', '...Performed'):\n        with td_engine.connect() as conn:\n            n = 0\n            for sttmnt in statements:\n                conn.execute(sttmnt)\n                n += 1\n                print(f'Statement {n} Complete')\n            merge_sql = create_update_text('_data', table_name, cols, keys)\n            print(merge_sql)\n            conn.execute(merge_sql)\n    time.sleep(.1)\n\n    # ends the program\n    end_program(t0)\n</code></pre>\n\n<p>Given that I previously had <a href=\"https://stackoverflow.com/questions/42376142/teradata-merge-yielding-no-results-when-executed-through-sqlalchemy\">issues with the <code>MERGE</code> statements</a>, I have <code>create_update_text</code> return <code>sqlalchemy.text(statement).execution_options(autocommit=True)</code> as you can see below:</p>\n\n<pre><code>def create_update_text(temp, perm, df, keys, how='both'):\n    cols = [col for col in df]\n\n    for key in keys:\n        assert key in cols, f'ID {key} not in Columns'\n\n    joined_keys = ' AND '.join(f'p.\"{key}\" = t.\"{key}\"' for key in keys)\n    sql_text = f'MERGE INTO {perm} p\\n' \\\n               f'USING {temp} t\\n' \\\n               f'ON {joined_keys}\\n'\n\n    if how in {'both', 'matched'}:\n        sql_text += 'WHEN MATCHED THEN\\n' \\\n                    ' UPDATE\\n' \\\n                    ' SET\\n     '\n\n        sql_text += ',\\n     '.join(f'\"{col}\" = t.\"{col}\"' for col in cols if col not in keys)\n\n    if how in {'both', 'not'}:\n        sql_text += '\\nWHEN NOT MATCHED THEN\\n' \\\n                    ' INSERT (\\n     '\n\n        sql_text += ',\\n     '.join(f'\"{col}\"' for col in cols)\n\n        sql_text += '\\n )\\n' \\\n                    ' VALUES (\\n     '\n\n        sql_text += ',\\n     '.join(f't.\"{col}\"' for col in cols)\n\n        sql_text += '\\n )'\n\n    return sqlalchemy.text(sql_text).execution_options(autocommit=True)\n</code></pre>\n\n<p>A short example .sql file would look like:</p>\n\n<pre><code>CREATE VOLATILE TABLE _data as (\n    SEL\n     PART_ID,\n     REMOVAL_DATE,\n     SUM(FLAGS) AS FLAG_SUM,\n\n     CASE\n      WHEN MECHANIC = 'JOHN' THEN 1\n      ELSE 0\n     END AS JOHNORNOT\n\n    FROM SCHEMA.TABLE\n\n    GROUP BY 1,2,4\n) WITH DATA\n  PRIMARY KEY (PART_ID,REMOVAL_DATE,JOHNORNOT)\n  ON COMMIT PRESERVE ROWS\n;\n</code></pre>\n\n<p>I've run into a problem where running the update with python submitting the statements is yielding different results compared to pasting the query and the python-generated <code>MERGE</code> statement into Teradata Studio and running them as individual statements. For example, the <code>SUM</code> fields may come up with different values or the binary <code>CASE</code> statement won't execute the same.</p>\n\n<p>The question is, if I'm running exactly the same query in TD Studio as I am with SQLAlchemy, why is it yielding different results? Is something about my program that can be affecting the data?</p>\n\n<p>In order to compare succinctly, I've put the TD and PY data in separate tables and run a query that merges the two which looks like this:</p>\n\n<pre><code>Select\n td.PART_ID\n td.MONTH\n td.YEAR\n td.REMOVALS as TD_Removals\n py.REMOVALS as PY_Removals\n td.FAILURES as TD_Failures\n py.FAILURES as PY_Failues\n\nfrom TD_Data td\n\njoin PY_Data py\n  on td.PART_ID = py.PART_ID\n and td.MONTH = py.MONTH\n and td.YEAR = py.YEAR\n and (td.REMOVALS &lt;&gt; py.REMOVALS\n      or td.FAILURES &lt;&gt; py.FAILURES)\n</code></pre>\n\n<p>From what I can tell the <code>PY_</code> numbers that do not match are always lower than the corresponding <code>TD_</code> value. Some sample data is shown below:</p>\n\n<pre><code>PART_ID        MONTH YEAR TD_Removals PY_Removals TD_Fails PY_Fails\n26-3132-9-0005 7     2015 2           1           0        0\n26-2350-9-0001 3     2015 15          12          11       11\n43-3614-9-0002 1     2017 2           0           0        0\n97-2373-9-0001 3     2016 8           2           1        1\n26-7410-9-0001 7     2016 6           1           0        0\n26-3155-9-0003 9     2015 1           0           0        0\n97-3510-9-0001 7     2017 28          26          0        0\n97-2792-9-0006 6     2017 3           2           0        0\n26-7933-9-0001 10    2015 3           0           0        0\n97-2313-9-0002 3     2016 15          14          13       13\n29-2800-9-0009 6     2017 3           2           0        0\n26-3242-9-0006 7     2016 7           0           0        0\n</code></pre>\n\n<p>Per @dnoeth's comment below, I ran <code>SELECT Transaction_Mode FROM dbc.sessioninfoV WHERE SessionNo = SESSION;</code> on both python and TD_Studio. TD_Studio yields <code>A</code> and python yields <code>T</code>. The question has now become which is more correct and how to ensure similarity in the future.</p>\n"}, {"tags": ["python", "database", "postgresql", "postgis", "knn"], "answers": [{"tags": [], "owner": {"reputation": 819, "user_id": 5135120, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206973965609317/picture?type=large", "display_name": "Grzegorz Grabek", "link": "https://stackoverflow.com/users/5135120/grzegorz-grabek"}, "is_accepted": true, "score": 0, "last_activity_date": 1535880174, "last_edit_date": 1535880174, "creation_date": 1501167416, "answer_id": 45354400, "question_id": 45336649, "link": "https://stackoverflow.com/questions/45336649/postgis-difference-in-terms-of-precision-and-performance-between-geography-and-g/45354400#45354400", "title": "postgis difference in terms of precision and performance between geography and geometry", "body": "<p>According to point 1 i think that this article will answer your question best</p>\n\n<p><a href=\"http://postgis.net/docs/manual-1.5/ch04.html#PostGIS_Geography\" rel=\"nofollow noreferrer\">http://postgis.net/docs/manual-1.5/ch04.html#PostGIS_Geography</a></p>\n\n<p>About the speed - just create gist index on your geom/geog column and use st_Dwithin(geom1, geom2,100) and order result by st_distance(geom1,geom2) it will be fast enough until you will have tens of millions of users.</p>\n\n<p>Point 2: Yes it is just union for example</p>\n\n<pre><code>select *, st_distance(u1.geom, u2.geom) dist from \n(Select u2.*\n  from users u1, users u2\n where u1.id=1\n   and u1.id&lt;&gt;u2.id\n   and st_dwithin(u1.geom, u2.geom, 5000)\nUNION\nSelect * , null dist\n  from users\n where id&lt;&gt;1\n   and geom is null\n LIMIT 1) a\norder by dist\n</code></pre>\n\n<p>I miss other criteria liek gender, age etc. but of course use it in both selects</p>\n"}], "owner": {"reputation": 1313, "user_id": 8372336, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fTYAK.jpg?s=128&g=1", "display_name": "91DarioDev", "link": "https://stackoverflow.com/users/8372336/91dariodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 45354400, "answer_count": 1, "score": 0, "last_activity_date": 1535880174, "creation_date": 1501100340, "question_id": 45336649, "link": "https://stackoverflow.com/questions/45336649/postgis-difference-in-terms-of-precision-and-performance-between-geography-and-g", "title": "postgis difference in terms of precision and performance between geography and geometry", "body": "<p>I developed a telegram bot that match 2 users with the same language and when they both are looking for a partner with a postgres query.\nI would like to add the <strong>optional</strong> ability to match users also depending on location (closest user).\nSince it is an option i think i'm going to keep the column null by default and if the user sends his location i add it.\nI'm going to implement this using postigs.\ni have two questions:</p>\n\n<ol>\n<li><p>is it better to use geography or geometry? because people can come from all over the world and i read in these cases it is better to use geography, but anyway i don't need any precise data, just to know who is the closest user and the distance between them (also approximately just to be indicated as an additional info when they are matched). I would like the query to be run fast (i mean less than 1 second). I was thinking to use KNN creating the index on the column and use ordered by &lt;->. is it a good choice? what would you do for this? geometry or geography? is my idea fine?</p></li>\n<li><p>Since, as i said, the field can be also NULL is the user doesn't want to provide the location i would like to give better priority to users that specified a location in the ordered by, if there is none with a specified location i take one random from the NULL values users. Is this possible with a query?</p></li>\n</ol>\n\n<p>my bot is written in python if it can help.</p>\n\n<p>thank you very much</p>\n"}, {"tags": ["python", "algorithm", "python-3.x"], "comments": [{"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "edited": false, "score": 2, "creation_date": 1501100538, "post_id": 45336645, "comment_id": 77635402, "body": "Isn&#39;t it an infinite loop, While True:"}, {"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "edited": false, "score": 0, "creation_date": 1501100554, "post_id": 45336645, "comment_id": 77635423, "body": "what is the condition when it has to break ... lol .. :p"}, {"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1501100744, "post_id": 45336645, "comment_id": 77635520, "body": "Lol yeah. It&#39;s an infinite loop."}, {"owner": {"reputation": 43, "user_id": 8320245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fc0ca8b0e45840d6f61406f5a1cc70?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv Srinivasan Edu Acount", "link": "https://stackoverflow.com/users/8320245/dhruv-srinivasan-edu-acount"}, "reply_to_user": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "edited": false, "score": 0, "creation_date": 1501100886, "post_id": 45336645, "comment_id": 77635605, "body": "@zenwraight Yes while True is an infinite loop, but I don&#39;t think that&#39;s the issue. I tried running the code without the While Loop but it did not change the programs output"}, {"owner": {"reputation": 505, "user_id": 12987382, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Gi9SJPhHp0BrBeBsLZIWzBWRPgOHT3kbp-rb9AIMA=k-s128", "display_name": "Qiu YU", "link": "https://stackoverflow.com/users/12987382/qiu-yu"}, "edited": false, "score": 0, "creation_date": 1595753763, "post_id": 45336645, "comment_id": 111578164, "body": "This question is possibly a duplicate of [<a href=\"https://stackoverflow.com/questions/12141150/from-list-of-integers-get-number-closest-to-a-given-value]\" title=\"from list of integers get number closest to a given value%5d\">stackoverflow.com/questions/12141150/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 430, "user_id": 4278403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f30bc0b3c243a35ae4210758d9a9b85?s=128&d=identicon&r=PG", "display_name": "dvitsios", "link": "https://stackoverflow.com/users/4278403/dvitsios"}, "edited": false, "score": 1, "creation_date": 1501101481, "post_id": 45336746, "comment_id": 77635937, "body": "the loop doesn&#39;t seem correct to me, you need to initialise a sufficiently large <code>min_distance</code> first, compare this with every difference <code>i-value_chosen</code> at each iteration and update it every time a shorter distance is found"}], "tags": [], "owner": {"reputation": 2702, "user_id": 6048114, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/49deba6cd564f59f9137004589340d85?s=128&d=identicon&r=PG&f=1", "display_name": "Dadep", "link": "https://stackoverflow.com/users/6048114/dadep"}, "is_accepted": false, "score": 5, "last_activity_date": 1501103468, "last_edit_date": 1501103468, "creation_date": 1501100742, "answer_id": 45336746, "question_id": 45336645, "link": "https://stackoverflow.com/questions/45336645/find-the-closest-number-to-numbers-given-in-a-list-python/45336746#45336746", "title": "Find The Closest Number To Numbers Given In A List ~ Python", "body": "<p>The loop <code>while True:</code> never <code>break</code>... you need to find the end point.</p>\n\n<p>maybe you wanted to do something like :</p>\n\n<pre><code>&gt;&gt;&gt; l=max(setted_list)\n&gt;&gt;&gt; for i in setted_list:\n...     if abs(i-value_chosen)&lt;l:\n...             l=abs(i-value_chosen)\n...             final_value=i\n... \n&gt;&gt;&gt; final_value\n15\n</code></pre>\n\n<p>you can also do something like :</p>\n\n<pre><code>&gt;&gt;&gt; setted_list = [2,9,6,20,15]\n&gt;&gt;&gt; value_chosen = 17\n&gt;&gt;&gt; min(setted_list, key=lambda x:abs(x-value_chosen))\n15\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 4278403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f30bc0b3c243a35ae4210758d9a9b85?s=128&d=identicon&r=PG", "display_name": "dvitsios", "link": "https://stackoverflow.com/users/4278403/dvitsios"}, "is_accepted": false, "score": 1, "last_activity_date": 1501101272, "last_edit_date": 1501101272, "creation_date": 1501100775, "answer_id": 45336753, "question_id": 45336645, "link": "https://stackoverflow.com/questions/45336645/find-the-closest-number-to-numbers-given-in-a-list-python/45336753#45336753", "title": "Find The Closest Number To Numbers Given In A List ~ Python", "body": "<pre><code>l = [2,9,6,20,15]\nval = 17\n\nmin_d = max(l) - val\nclosest_num = -1\nfor i in l:\n    if abs(i - val) &lt; min_d:\n        min_d = abs(i-val)\n        closest_num = i\n\nprint(closest_num)  \n#&gt;&gt;&gt; 15\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 4278403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f30bc0b3c243a35ae4210758d9a9b85?s=128&d=identicon&r=PG", "display_name": "dvitsios", "link": "https://stackoverflow.com/users/4278403/dvitsios"}, "edited": false, "score": 0, "creation_date": 1501101004, "post_id": 45336765, "comment_id": 77635662, "body": "you need to update <code>minimum</code> every time you find a smaller difference"}, {"owner": {"reputation": 43, "user_id": 8320245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fc0ca8b0e45840d6f61406f5a1cc70?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv Srinivasan Edu Acount", "link": "https://stackoverflow.com/users/8320245/dhruv-srinivasan-edu-acount"}, "edited": false, "score": 0, "creation_date": 1501101050, "post_id": 45336765, "comment_id": 77635690, "body": "@Gingerbread, I understand the code, but I do not understand how the variable &quot;minimum&quot; affects the for loop."}, {"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1501101498, "post_id": 45336765, "comment_id": 77635944, "body": "You&#39;re comparing two numbers here. For the first iteration, you need something to which you can compare the absolute difference between the two numbers with. Usually, it&#39;s a pretty big number that one chooses in such circumstances if you don&#39;t know the range of numbers in your list. So I defined minimum to be infinity. Obviously, the first difference (in this case, |2-17| is definitely going to be lesser than infinity. Now, between infinity and 15, 15 is minimum and you want to know if the difference btw 17 and any other no in the list is smaller, so you update minimum variable everytime."}, {"owner": {"reputation": 43, "user_id": 8320245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fc0ca8b0e45840d6f61406f5a1cc70?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv Srinivasan Edu Acount", "link": "https://stackoverflow.com/users/8320245/dhruv-srinivasan-edu-acount"}, "edited": false, "score": 0, "creation_date": 1501101782, "post_id": 45336765, "comment_id": 77636103, "body": "so if I knew the range of my list, I could change the &quot;inf&quot; inside the float() to that number? Also, how does python know that your referring minimum to infinity, when &quot;inf&quot; is in parenthesis?                                                                           Note: I am a beginner to python, so if the question came of as nooby, I apologize :)"}, {"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1501101971, "post_id": 45336765, "comment_id": 77636198, "body": "Check this link out -&gt; <a href=\"https://stackoverflow.com/questions/7781260/how-can-i-represent-an-infinite-number-in-python\" title=\"how can i represent an infinite number in python\">stackoverflow.com/questions/7781260/&hellip;</a>"}, {"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1501102029, "post_id": 45336765, "comment_id": 77636226, "body": "If you knew the range and are sure that the elements are not going to change, you can initialize minimum to any number that is greater than the maximum number in the list."}, {"owner": {"reputation": 43, "user_id": 8320245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fc0ca8b0e45840d6f61406f5a1cc70?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv Srinivasan Edu Acount", "link": "https://stackoverflow.com/users/8320245/dhruv-srinivasan-edu-acount"}, "edited": false, "score": 0, "creation_date": 1501102137, "post_id": 45336765, "comment_id": 77636278, "body": "The link really helped. Thanks!"}, {"owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "edited": false, "score": 0, "creation_date": 1501102191, "post_id": 45336765, "comment_id": 77636297, "body": "An infinite number is defined like how I did usually. In order to change the minimum variable, you can just assign it to whatever number you have in mind. For ex. <code>minimum = 10000</code>"}], "tags": [], "owner": {"reputation": 1436, "user_id": 6383910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8d1b51902725c1fabcc6c280601b77dc?s=128&d=identicon&r=PG&f=1", "display_name": "Gingerbread", "link": "https://stackoverflow.com/users/6383910/gingerbread"}, "is_accepted": true, "score": 1, "last_activity_date": 1501100803, "creation_date": 1501100803, "answer_id": 45336765, "question_id": 45336645, "link": "https://stackoverflow.com/questions/45336645/find-the-closest-number-to-numbers-given-in-a-list-python/45336765#45336765", "title": "Find The Closest Number To Numbers Given In A List ~ Python", "body": "<p>If you are too new to understand lambda functions yet,</p>\n\n<pre><code>   minimum = float(\"inf\")\n   setted_list = [2,9,6,20,15]\n   value_chosen = 17\n   for val in setted_list:\n       if abs(val - value_chosen) &lt; minimum:\n           final_value = val\n           minimum = abs(val - value_chosen)\n\n\n   print final_value\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 136, "user_id": 8113271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa593b8c4b42e7d1bdc0a6c74231cda7?s=128&d=identicon&r=PG&f=1", "display_name": "Jos&#233; Garcia", "link": "https://stackoverflow.com/users/8113271/jos%c3%a9-garcia"}, "edited": false, "score": 0, "creation_date": 1501101064, "post_id": 45336774, "comment_id": 77635698, "body": "how is this answer <i>not useful</i>?"}, {"owner": {"reputation": 43, "user_id": 8320245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fc0ca8b0e45840d6f61406f5a1cc70?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv Srinivasan Edu Acount", "link": "https://stackoverflow.com/users/8320245/dhruv-srinivasan-edu-acount"}, "edited": false, "score": 0, "creation_date": 1501608289, "post_id": 45336774, "comment_id": 77849114, "body": "Whilst your answer does work, it is unnecessarily complex"}], "tags": [], "owner": {"reputation": 136, "user_id": 8113271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa593b8c4b42e7d1bdc0a6c74231cda7?s=128&d=identicon&r=PG&f=1", "display_name": "Jos&#233; Garcia", "link": "https://stackoverflow.com/users/8113271/jos%c3%a9-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1501100832, "creation_date": 1501100832, "answer_id": 45336774, "question_id": 45336645, "link": "https://stackoverflow.com/questions/45336645/find-the-closest-number-to-numbers-given-in-a-list-python/45336774#45336774", "title": "Find The Closest Number To Numbers Given In A List ~ Python", "body": "<p>here i use <code>abs()</code> to determine the closest value by substracting it from the original value</p>\n\n<pre><code>slist = [2,9,6,20,15]\nvalue = 17\n\ndef closest_value(value, iterable):\n    storage = []\n    for i in iterable:\n        storage.append((abs(value-i),i))\n    result = min(storage)\n    return print(result[1])\n\nclosest_value(value,slist)\n15\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177, "user_id": 6138202, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-svs3zna5CS0/AAAAAAAAAAI/AAAAAAAAAAA/ix13ioidlWI/photo.jpg?sz=128", "display_name": "Ryan Burgert", "link": "https://stackoverflow.com/users/6138202/ryan-burgert"}, "is_accepted": false, "score": 4, "last_activity_date": 1521881205, "creation_date": 1521881205, "answer_id": 49462870, "question_id": 45336645, "link": "https://stackoverflow.com/questions/45336645/find-the-closest-number-to-numbers-given-in-a-list-python/49462870#49462870", "title": "Find The Closest Number To Numbers Given In A List ~ Python", "body": "<p>Here's a nice, clean simple one-liner: check this out you'll hopefully learn something new \ud83d\ude0a (@ the OP)</p>\n\n<pre><code>print min(setted_list, key = lambda x: abs(x-value_chosen))\n</code></pre>\n\n<p>If you're new to lambda functions, here's a simple intro:</p>\n\n<pre><code>f = lambda x: x**2+1\n</code></pre>\n\n<p>means exactly the same thing to a beginner as</p>\n\n<pre><code>def f(x): return x**2+1\n</code></pre>\n\n<p>Where x**2 could be generalized to any function of x, instead of just x\u00b2+1.</p>\n"}], "owner": {"reputation": 43, "user_id": 8320245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fc0ca8b0e45840d6f61406f5a1cc70?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv Srinivasan Edu Acount", "link": "https://stackoverflow.com/users/8320245/dhruv-srinivasan-edu-acount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5652, "favorite_count": 1, "accepted_answer_id": 45336765, "answer_count": 5, "score": 1, "last_activity_date": 1595765305, "creation_date": 1501100325, "last_edit_date": 1595765305, "question_id": 45336645, "link": "https://stackoverflow.com/questions/45336645/find-the-closest-number-to-numbers-given-in-a-list-python", "title": "Find The Closest Number To Numbers Given In A List ~ Python", "body": "<p>How would you find the closest number in comparison to numbers given in a list?</p>\n<p>This is what I have tried so far, but it has been unsuccessful:</p>\n<pre><code>setted_list = [2,9,6,20,15]\nvalue_chosen = 17\n\nwhile True:\n    final_value = setted_list[0]\n    if setted_list[1] - value_chosen &lt; setted_list[0] - value_chosen:\n        final_value = setted_list[1]\n    if setted_list[2] - value_chosen &lt; setted_list[1] - value_chosen:\n        final_value = setted_list[2]\n    if setted_list[3] - value_chosen &lt; setted_list[2] - value_chosen:\n        final_value = setted_list[3]\n    if setted_list[4] - value_chosen &lt; setted_list[3] - value_chosen:\n        final_value = setted_list[4]\nprint(final_value)\n</code></pre>\n<p>My output is always what is inside the value of <code>setted_list[2]</code>.\nWhere have I gone wrong in my algorithm?</p>\n"}, {"tags": ["python", "html", "pycharm"], "comments": [{"owner": {"reputation": 2955, "user_id": 902109, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20e134f93298c6d33b6e3bc6477ea773?s=128&d=identicon&r=PG&f=1", "display_name": "immortal", "link": "https://stackoverflow.com/users/902109/immortal"}, "edited": false, "score": 1, "creation_date": 1501100396, "post_id": 45336634, "comment_id": 77635318, "body": "Where is the question here? Where&#39;s the Python, and where&#39;s the programming issue?"}, {"owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "reply_to_user": {"reputation": 2955, "user_id": 902109, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20e134f93298c6d33b6e3bc6477ea773?s=128&d=identicon&r=PG&f=1", "display_name": "immortal", "link": "https://stackoverflow.com/users/902109/immortal"}, "edited": false, "score": 0, "creation_date": 1501100484, "post_id": 45336634, "comment_id": 77635369, "body": "issue in python code conversion in html file in pycharm"}, {"owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "reply_to_user": {"reputation": 2955, "user_id": 902109, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/20e134f93298c6d33b6e3bc6477ea773?s=128&d=identicon&r=PG&f=1", "display_name": "immortal", "link": "https://stackoverflow.com/users/902109/immortal"}, "edited": false, "score": 0, "creation_date": 1501100595, "post_id": 45336634, "comment_id": 77635444, "body": "i have posted coding and screenshot. kindly check well"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "edited": false, "score": 0, "creation_date": 1501145104, "post_id": 45339240, "comment_id": 77652493, "body": "jinja2 doesn&#39;t support.on PyCharm Community edition. it will treat as normally.so do u have any other way to do it"}, {"owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "edited": false, "score": 0, "creation_date": 1501145688, "post_id": 45339240, "comment_id": 77652904, "body": "I wanna use Python coding in HTML file. is there any way to do it while jinja2 is not supporting. {% for album in all_album %} it treated as normally now. I want it to treat as python code. Hope you understand"}, {"owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "reply_to_user": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "edited": false, "score": 0, "creation_date": 1501155650, "post_id": 45339240, "comment_id": 77660335, "body": "what do you mean? is your python code treated as text? or is it not simply highlighted?"}, {"owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "edited": false, "score": 0, "creation_date": 1501156804, "post_id": 45339240, "comment_id": 77661186, "body": "I dunno whether it&#39;s treated as text or not. but I&#39;m sure that code is not executing. it doesn&#39;t show any error. kindly look at the screenshot. it&#39;s totally white color. if the python code is accepted in html means then when I type &quot;for&quot; then the color of the text should be changed. but nothing is happening."}, {"owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "reply_to_user": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "edited": false, "score": 0, "creation_date": 1501157148, "post_id": 45339240, "comment_id": 77661441, "body": "what is the output of the jinja? is an html page exactly with the python code as text or is it pure html?"}, {"owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "edited": false, "score": 0, "creation_date": 1501158095, "post_id": 45339240, "comment_id": 77662175, "body": "Output of the jinja is two links and behind them one line detail Actually jinja is not available in my pycharm I think so."}, {"owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "edited": false, "score": 0, "creation_date": 1501158177, "post_id": 45339240, "comment_id": 77662234, "body": "dunno how to install jinja in pycharm community edition. Even i have created app without using pycharm. my jinja is not executing. In my html file if i using this {% block content %} \t {% endblock %}. as it is. it.s showing in browser"}], "tags": [], "owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1501113560, "creation_date": 1501113560, "answer_id": 45339240, "question_id": 45336634, "link": "https://stackoverflow.com/questions/45336634/issue-in-python-code-conversion-in-html-file-in-pycharm/45339240#45339240", "title": "issue in python code conversion in html file in pycharm", "body": "<p>It's not an \"issue with python code conversion in html file in pycharm\". You simply have to configure your template's language (jinja) in your project's settings. Take a look at <a href=\"https://stackoverflow.com/questions/15750551/does-pycharm-support-jinja2\">here</a>.</p>\n"}], "owner": {"reputation": 7, "user_id": 8318939, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/n679y.jpg?s=128&g=1", "display_name": "NandaKrishnan", "link": "https://stackoverflow.com/users/8318939/nandakrishnan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 491, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1579211171, "creation_date": 1501100283, "last_edit_date": 1501116647, "question_id": 45336634, "link": "https://stackoverflow.com/questions/45336634/issue-in-python-code-conversion-in-html-file-in-pycharm", "title": "issue in python code conversion in html file in pycharm", "body": "<p>For and if wasn't colored. it's like normal. The html file wasn't considered as python even i used correct syntax </p>\n\n<p><a href=\"https://i.stack.imgur.com/Xo8jc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xo8jc.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>{% if all_album%}\n    &lt;ul&gt;\n        {% for album in all_album %}\n        &lt;li&gt;&lt;a href = \"/music/{{ album.id }}/\"&gt;{{ album.album_title }}&lt;/a&gt;&lt;/li&gt;\n        {% endfor %}\n    &lt;/ul&gt;&gt;\n{% else %}\n    &lt;h3&gt;You don't have any album&lt;/h3&gt;\n{% endif %}\n</code></pre>\n"}, {"tags": ["python", "lambda", "minimize", "calculus"], "answers": [{"tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": false, "score": 0, "last_activity_date": 1501102456, "last_edit_date": 1501102456, "creation_date": 1501101012, "answer_id": 45336822, "question_id": 45336598, "link": "https://stackoverflow.com/questions/45336598/how-exactly-does-scipy-optimizes-minimize-function-work/45336822#45336822", "title": "How exactly does scipy.optimize&#39;s minimize function work?", "body": "<p>Here is how you could do it in Mathematica:</p>\n\n<pre><code>Dx[t_] := -3.05*Sin[t]\nDy[t_] := 2.23*Cos[t]\nfunc[x_] := Sqrt[Dx[x]^2 + Dy[x]^2]\nencoderdistance = 2.53141952655;\nfmin[x_?NumberQ] := \n Abs[NIntegrate[func[t], {t, 0, x}] - encoderdistance]\nNMinimize[fmin[x], x][[2]][[1]][[2]]\n</code></pre>\n\n<p>With regard to your first question, in statement:</p>\n\n<pre><code>print minimize(lambda x: abs(4.24561823393 - encoderdistance), 1).x\n</code></pre>\n\n<p>your lambda function is a constant <em>independent of the argument</em> <code>x</code>. <code>minimize</code> quits immediately after observing that the function does not decrease after several variations of the argument.</p>\n"}, {"tags": [], "owner": {"reputation": 725, "user_id": 1269950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e0d6f8d215615961cddbf5c68027c758?s=128&d=identicon&r=PG", "display_name": "fenkerbb", "link": "https://stackoverflow.com/users/1269950/fenkerbb"}, "is_accepted": false, "score": 1, "last_activity_date": 1501101931, "creation_date": 1501101931, "answer_id": 45337089, "question_id": 45336598, "link": "https://stackoverflow.com/questions/45336598/how-exactly-does-scipy-optimizes-minimize-function-work/45337089#45337089", "title": "How exactly does scipy.optimize&#39;s minimize function work?", "body": "<p>How <code>scipy.minimize</code> works is described <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html\" rel=\"nofollow noreferrer\">here</a> but that isn't your issue. You have two lambda functions that are definitely not the same:</p>\n\n<pre><code>lambda x: abs(quad(func, 0, x)[0] - encoderdistance)\nlambda x: abs(4.24561823393 - encoderdistance)\n</code></pre>\n\n<p>The first is a 'V'-shaped function while the second is a horizontal line. <code>scipy</code> finds the minimum of the 'V' at about 1.02 and cannot perform any minimization on a horizontal line so it returns your initial guess: 1.</p>\n"}, {"tags": [], "owner": {"reputation": 293, "user_id": 834519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efa17568bd85567e05ca9897e89c30e?s=128&d=identicon&r=PG", "display_name": "Dan Percival", "link": "https://stackoverflow.com/users/834519/dan-percival"}, "is_accepted": true, "score": 2, "last_activity_date": 1501102044, "creation_date": 1501102044, "answer_id": 45337125, "question_id": 45336598, "link": "https://stackoverflow.com/questions/45336598/how-exactly-does-scipy-optimizes-minimize-function-work/45337125#45337125", "title": "How exactly does scipy.optimize&#39;s minimize function work?", "body": "<p>The optimizer needs a function to minimize -- that's what the <code>lambda x:</code> is about.</p>\n\n<p>In the second-to-last line, you're asking the optimizer to find a value of x such that the integral from 0 to x of func(x) is close to encoderdistance.</p>\n\n<p>In the last line, the function to be minimized in your last line is just a scalar value, with no dependency on x, and the optimizer is bailing out because it can't change that.</p>\n"}], "owner": {"reputation": 111, "user_id": 8241105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-6cmIKDhDj84/AAAAAAAAAAI/AAAAAAAAACE/Qlw91LEm5Ck/photo.jpg?sz=128", "display_name": "Fairly Factual", "link": "https://stackoverflow.com/users/8241105/fairly-factual"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1530, "favorite_count": 0, "accepted_answer_id": 45337125, "answer_count": 3, "score": 1, "last_activity_date": 1501102456, "creation_date": 1501100166, "last_edit_date": 1501101505, "question_id": 45336598, "link": "https://stackoverflow.com/questions/45336598/how-exactly-does-scipy-optimizes-minimize-function-work", "title": "How exactly does scipy.optimize&#39;s minimize function work?", "body": "<p>I've been looking through the minimize function declaration files, and I am really confused as to how the function works. So for example, if I have something like this:</p>\n\n<pre><code>import numpy as np\nfrom scipy.integrate import quad\nfrom scipy.optimize import minimize\nencoderdistance = 2.53141952655\nDx = lambda t: -3.05 * np.sin(t)\nDy = lambda t: 2.23 * np.cos(t)\ndef func(x): return np.sqrt(Dx(x)**2 + Dy(x)**2)\nprint minimize(lambda x: abs(quad(func, 0, x)[0] - encoderdistance), 1).x\nprint minimize(lambda x: abs(4.24561823393 - encoderdistance), 1).x\n</code></pre>\n\n<p>the second print statement at the bottom will yield a different result than the one on the top even though I subbed out the quad function for the value it produced. If this is due to the lambda x part, can you explain how that affects that line of code exactly? Also, how would you type the second to last line into a calculator such as wolfram alpha? Thanks!</p>\n"}, {"tags": ["python", "dictionary", "python-3.5"], "comments": [{"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1501100218, "post_id": 45336582, "comment_id": 77635216, "body": "Is that much code really needed to demonstrate this issue?"}, {"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "reply_to_user": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1501100251, "post_id": 45336582, "comment_id": 77635239, "body": "I dont know, it is better more than not enough?"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 3, "creation_date": 1501100264, "post_id": 45336582, "comment_id": 77635248, "body": "Surely, you can minimize this. Based on the title of your question, I would expect your example to be two dictionaries, the code responsible for that exact logic, the output showing how it is broken, and what it should look like."}, {"owner": {"reputation": 355, "user_id": 4480742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d33ca500b031f26d202c103d3b9fbecd?s=128&d=identicon&r=PG&f=1", "display_name": "Harrichael", "link": "https://stackoverflow.com/users/4480742/harrichael"}, "edited": false, "score": 1, "creation_date": 1501100315, "post_id": 45336582, "comment_id": 77635266, "body": "Reducing your code to the smallest necessary to duplicate the problem will 1) greatly improve answers 2) improve your understanding of the problem 3) might help you figure out the problem on your own"}, {"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1501100322, "post_id": 45336582, "comment_id": 77635270, "body": "I made it explicit, just copy past in your IDE, it will work"}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1501100421, "post_id": 45336582, "comment_id": 77635332, "body": "But then you&#39;re making everyone else do the work of figuring out what your code does, rather than doing that yourself."}], "answers": [{"comments": [{"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1501100554, "post_id": 45336671, "comment_id": 77635422, "body": "I thought it is not possible to create 2 different objects with the same neme, in the same scope?"}, {"owner": {"reputation": 55264, "user_id": 1258041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241?s=128&d=identicon&r=PG", "display_name": "Lev Levitsky", "link": "https://stackoverflow.com/users/1258041/lev-levitsky"}, "reply_to_user": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1501100618, "post_id": 45336671, "comment_id": 77635461, "body": "@DenisGantsev The name refers to one object at any given time. The assignment statement is when the name is bound to a different object."}, {"owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "edited": false, "score": 0, "creation_date": 1501100730, "post_id": 45336671, "comment_id": 77635513, "body": "hum, this makes sens!"}], "tags": [], "owner": {"reputation": 55264, "user_id": 1258041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241?s=128&d=identicon&r=PG", "display_name": "Lev Levitsky", "link": "https://stackoverflow.com/users/1258041/lev-levitsky"}, "is_accepted": true, "score": 2, "last_activity_date": 1501101054, "last_edit_date": 1501101054, "creation_date": 1501100413, "answer_id": 45336671, "question_id": 45336582, "link": "https://stackoverflow.com/questions/45336582/merging-dicts-not-working-as-expected-python-3-5/45336671#45336671", "title": "merging dicts not working as expected python 3.5", "body": "<p>I think the difference is that in the second function, you reassign the <code>out</code> variable, after which it is detached from the dict that you pass into the function:</p>\n\n<pre><code>out = {**out, **answer} # out is now a different object\n</code></pre>\n\n<p>Since the function is recursive, the subsequent modifications do not affect the original dict.</p>\n\n<p>In the first function, though, you only do item assignment, which modifies the dict in place, as expected:</p>\n\n<pre><code>out[k] = v\n</code></pre>\n"}], "owner": {"reputation": 887, "user_id": 5688082, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6f68631525f101fb84fc1bd0858a4591?s=128&d=identicon&r=PG&f=1", "display_name": "dgan", "link": "https://stackoverflow.com/users/5688082/dgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 45336671, "answer_count": 1, "score": 0, "last_activity_date": 1501101054, "creation_date": 1501100104, "question_id": 45336582, "link": "https://stackoverflow.com/questions/45336582/merging-dicts-not-working-as-expected-python-3-5", "title": "merging dicts not working as expected python 3.5", "body": "<p>This is Python 3.5 environment, I think the code is self explanatory, here it is, I am expecting both functions to work, but only one is correct.</p>\n\n<p>TLDR:\nAssigning <code>out = {**out, **answer}</code> makes <code>out</code> variable containing right keys, but they are lost during the next 2 steps; while assigning <code>c = {**c,**a}</code> works perfectly in test function, and new keys are not lost.</p>\n\n<p>Could someone please explain what I am doing wrong?</p>\n\n<pre><code>def flatify_works(d, out, fhook=None):\n    for k, v in d.items():\n        if not isinstance(v, dict) and not isinstance(v, list):\n            out[k] = v\n        elif isinstance(v, dict):\n            flatify_works(v, out, fhook)\n        elif isinstance(v, list):\n            if fhook is None:\n                raise AssertionError(\"an array with more than 1 elment found.\")\n            answer = fhook(k, v)\n            for k, v in answer.items():\n                out[k] = v\n\n\ndef flatify_doesnt_work(d, out, fhook=None):\n    for k, v in d.items():\n        if not isinstance(v, dict) and not isinstance(v, list):\n            out[k] = v\n        elif isinstance(v, dict):\n            flatify_doesnt_work(v, out, fhook)\n        elif isinstance(v, list):\n            if fhook is None:\n                raise AssertionError(\"an array with more than 1 elment found.\")\n            answer = fhook(k, v)\n            out = {**out, **answer}  # put a breakpoint here, and go 2 steps further\n\n\ndef hook(k, v):\n    l = [d[\"c\"] for d in v]\n    return {\"c\": sum(l), \"d\": \"blabla\"}\n\n\ndef test_merge_dicts():\n    a = {\"a\": 1, \"b\": 2}\n    c = {\"c\": 3}\n    c = {**c, **a}  # merging works perfectly here\n    print(c)\n    assert \"a\" in c and \"b\" in c and \"c\" in c  # ok\n\n\ndef test_nested_works():\n    out = {}\n    flatify_works({\"a\": 1, \"b\": [{\"c\": 0.6, \"d\": 4}, {\"c\": 0.4, \"d\": 4}]}, out, hook)\n    print(\"working exemple: {}\".format(str(out)))\n\n\ndef test_nested_doesnt_work():\n    out = {}\n    flatify_doesnt_work({\"a\": 1, \"b\": [{\"c\": 0.6, \"d\": 4}, {\"c\": 0.4, \"d\": 4}]}, out, hook)\n    print(\"not working exemple: {}\".format(str(out)))\n\n\ndef main():\n    test_merge_dicts()  # ok\n    test_nested_works() # ok\n    test_nested_doesnt_work() # why out = {**out, **answer} is not working as expected?\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["javascript", "python", "json", "ajax", "google-cloud-platform"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501327691, "post_id": 45336578, "comment_id": 77738035, "body": "Google App Engine is <i>not a CGI environment</i>. Why not pick up on the <a href=\"https://cloud.google.com/appengine/docs/standard/python/quickstart\" rel=\"nofollow noreferrer\">quickstart for Python on App Engine</a>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501328530, "post_id": 45336578, "comment_id": 77738263, "body": "You&#39;ve also not included <i>how you are running</i> these scripts. I assumed that you were trying to use the App Engine, but perhaps you are using a VM or a container engine. You mentioned a bucket, but that&#39;s a <i>storage</i> solution, files in a bucket are not seen as executable code."}, {"owner": {"reputation": 1960, "user_id": 2809263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f5aa8e917e1e49afc32a546f9ac85f1?s=128&d=identicon&r=PG&f=1", "display_name": "Randoms", "link": "https://stackoverflow.com/users/2809263/randoms"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1501367023, "post_id": 45336578, "comment_id": 77749941, "body": "@MartijnPieters I&#39;m assuming the quickstart won&#39;t be helpful if I&#39;m working on a VM?"}], "answers": [{"tags": [], "owner": {"reputation": 3137, "user_id": 974864, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ca5ae67f42e78088fc795e8e4badb02d?s=128&d=identicon&r=PG&f=1", "display_name": "jimf", "link": "https://stackoverflow.com/users/974864/jimf"}, "is_accepted": false, "score": 0, "last_activity_date": 1501320772, "creation_date": 1501320772, "answer_id": 45387694, "question_id": 45336578, "link": "https://stackoverflow.com/questions/45336578/ajax-to-python-on-google-cloud/45387694#45387694", "title": "Ajax to Python on Google Cloud", "body": "<p>It looks like your javascript code is alright, but I think you can fix up the Python code a little bit - you're using stdin/out which I haven't seen to have very good results.  I'd suggest you use a library like Tornado or even the python-included simpleHttpServer.</p>\n\n<p>There's an example here for Tornado on their home page:\n<a href=\"http://www.tornadoweb.org/en/stable/\" rel=\"nofollow noreferrer\">http://www.tornadoweb.org/en/stable/</a></p>\n\n<p>And even simpler is the simpleHttpServer, here is a working sample:\n<a href=\"https://stackoverflow.com/questions/31371166/reading-json-from-simplehttpserver-post-data\">Reading JSON from SimpleHTTPServer Post data</a></p>\n\n<p>Furthermore I would suggest you try running these examples locally on your home computer before the Google Cloud.  It is most likely an issue with the code rather than GCP.</p>\n\n<p>Good luck!</p>\n"}, {"comments": [{"owner": {"reputation": 1960, "user_id": 2809263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f5aa8e917e1e49afc32a546f9ac85f1?s=128&d=identicon&r=PG&f=1", "display_name": "Randoms", "link": "https://stackoverflow.com/users/2809263/randoms"}, "edited": false, "score": 0, "creation_date": 1501368075, "post_id": 45388827, "comment_id": 77750141, "body": "I&#39;m running this from a VM. I&#39;m sorry I didn&#39;t include this information initially. Are the pages you linked here still applicable?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1960, "user_id": 2809263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f5aa8e917e1e49afc32a546f9ac85f1?s=128&d=identicon&r=PG&f=1", "display_name": "Randoms", "link": "https://stackoverflow.com/users/2809263/randoms"}, "edited": false, "score": 0, "creation_date": 1501408287, "post_id": 45388827, "comment_id": 77757606, "body": "@Randoms: no, then this is not applicable. Do you have a web server installed on the VM? How did you configure it? This should all have been <i>in your question</i>."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 0, "last_activity_date": 1501328284, "creation_date": 1501328284, "answer_id": 45388827, "question_id": 45336578, "link": "https://stackoverflow.com/questions/45336578/ajax-to-python-on-google-cloud/45388827#45388827", "title": "Ajax to Python on Google Cloud", "body": "<p>The Google App Engine does not connect your Python code via CGI. CGI examples are not going to work, no.</p>\n\n<p>Instead, a different, more modern standard, the <a href=\"https://en.wikipedia.org/wiki/Web_Server_Gateway_Interface\" rel=\"nofollow noreferrer\">Web Server Gateway Interface</a> is used; see the [<em>Python Runtime Environment</em> documentation]<a href=\"https://cloud.google.com/appengine/docs/standard/python/runtime\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/python/runtime</a>):</p>\n\n<blockquote>\n  <p>A Python web app interacts with the App Engine web server using the WSGI protocol, so apps can use any WSGI-compatible web application framework. App Engine includes a simple web application framework, called webapp2, to make it easy to get started. For larger applications, mature third-party frameworks, such as Django, work well with App Engine.</p>\n</blockquote>\n\n<p>Rather than pick up random Python scripts from around the web, start with the <a href=\"https://cloud.google.com/appengine/docs/standard/python/quickstart\" rel=\"nofollow noreferrer\"><em>Quickstart</em> examples</a> and move from there. </p>\n"}], "owner": {"reputation": 1960, "user_id": 2809263, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6f5aa8e917e1e49afc32a546f9ac85f1?s=128&d=identicon&r=PG&f=1", "display_name": "Randoms", "link": "https://stackoverflow.com/users/2809263/randoms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501427269, "creation_date": 1501100098, "last_edit_date": 1501366702, "question_id": 45336578, "link": "https://stackoverflow.com/questions/45336578/ajax-to-python-on-google-cloud", "title": "Ajax to Python on Google Cloud", "body": "<p>I'd like to send some (JSON, for now) data to a Python script and access the result. After trying and failing to do this own my own, I came across <a href=\"https://stackoverflow.com/questions/10721244/ajax-posting-to-python-cgi\">two</a> <a href=\"https://stackoverflow.com/questions/10718572/post-json-to-python-cgi\">examples</a> here on SO. I have been able to make neither work. </p>\n\n<p><code>pythonAjaxTest.html</code>:</p>\n\n<pre><code>...\n        &lt;script&gt;\n\n            $(function(){\n                $('#ajaxButton').click(function(){\n\n                    alert(\"Ajaxing...\");\n\n                    $.ajax({\n                        url: \"ajaxTest.py\", //equivalently, replace with \"saveList.py\"\n                        type: \"POST\",\n                        dataType: \"json\",\n                        data: JSON.stringify({\n                            \"param\" : { \"hello\" : \"world\" }\n                        }),\n                        success: function(response) {\n                            alert(response.responseText);\n                        }, error: function(response) {\n                            alert(response.responseText);\n                        }\n                    }); \n                });\n            });\n\n        &lt;/script&gt;\n...\n</code></pre>\n\n<p><code>ajaxTest.py</code>: </p>\n\n<pre><code>#!/usr/bin/env python\n\nimport sys\nimport json\nimport cgi\n\nfs = cgi.FieldStorage()\n\nsys.stdout.write(\"Content-Type: application/json\")\n\nsys.stdout.write(\"\\n\")\nsys.stdout.write(\"\\n\")\n\nresult = {}\nresult['success'] = True\nresult['message'] = \"The command Completed Successfully\"\nresult['keys'] = \",\".join(fs.keys())\n\nd = {}\nfor k in fs.keys():\n    d[k] = fs.getvalue(k)\n\nresult['data'] = d\n\nsys.stdout.write(json.dumps(result,indent=1))\nsys.stdout.write(\"\\n\")\n\nsys.stdout.close()  \n</code></pre>\n\n<p><code>saveList.py</code>:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport sys, json\n\nresult = {'success':'true','message':'The Command Completed Successfully'};\n\nmyjson = json.load(sys.stdin)\n# Do something with 'myjson' object\n\nprint 'Content-Type: application/json\\n\\n'\nprint json.dumps(result)    # or \"json.dump(result, sys.stdout)\"\n</code></pre>\n\n<p>With both of these, I get a <code>400</code> error in the console and following <code>responseText</code>:</p>\n\n<pre><code>&lt;?xml version=\u20181.0\u2019 encoding \u2018UTF-8\u2019?&gt;&lt;Error&gt;&lt;Code&gt;InvalidArgument&lt;/Code&gt;&lt;Message&gt;Invalid argument.&lt;/Message&gt;&lt;Details&gt;POST object expects Content-Type multipart/form-data&lt;/Details&gt;&lt;/Error&gt;\n</code></pre>\n\n<p>Given that I'm using basically the exact same code as in each of the accepted answers to these two questions, I'm not sure what I'm doing wrong. Is this simply a Google Cloud issue? All my source files are together in a bucket. (<a href=\"https://stackoverflow.com/questions/10721244/ajax-posting-to-python-cgi\">1</a>, <a href=\"https://stackoverflow.com/questions/10718572/post-json-to-python-cgi\">2</a>.)</p>\n\n<hr>\n\n<p>I'm running these scripts with a <code>n1-standard-1 (1 vCPU, 3.75 GB memory)</code> VM.</p>\n\n<p><strong>The desired behavior:</strong> I want to make a successful Ajax request to these Python files and have the result\u2014some result\u2014returned. I'm looking for exactly the behavior described by the answerers of the two questions I linked to.</p>\n\n<p><strong>Specific problem or error:</strong> The Ajax fails. The error is a <code>400</code> and the text is above.</p>\n\n<p><strong>Shortest code necessary:</strong> The code I have included is perhaps somewhat long, but I've included because I want to include exactly what was in other accepted answers. (<strong><em>Problem statement:</em></strong>) How I can make an Ajax request to Python files that work in other circumstances work on Google Cloud?</p>\n\n<hr>\n\n<p>Currently working through Martijn's answer...</p>\n"}, {"tags": ["python", "python-3.x", "dictionary", "tuples"], "comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 2, "creation_date": 1501099723, "post_id": 45336450, "comment_id": 77634953, "body": "Sure. Have you tried to implement this, yet? Would be great to see your code and see how far you got and what difficulties you are having."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1501099796, "post_id": 45336450, "comment_id": 77634988, "body": "Pandas is a good place to start."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1501104819, "post_id": 45336450, "comment_id": 77637614, "body": "Can the values be lists instead of tuples?"}], "answers": [{"tags": [], "owner": {"reputation": 2858, "user_id": 4067676, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5faXN.jpg?s=128&g=1", "display_name": "Vince W.", "link": "https://stackoverflow.com/users/4067676/vince-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1501100082, "creation_date": 1501100082, "answer_id": 45336570, "question_id": 45336450, "link": "https://stackoverflow.com/questions/45336450/create-a-python-dictionary-from-a-tab-delimited-file-that-is-not-11/45336570#45336570", "title": "Create a python dictionary from a tab delimited file that is not 1:1", "body": "<p>I think the code kind of speaks for itself here, but basically since you are working with strings, you can just have the two separate dicts and then parse through each line.  If you have a new value you have to create a new entry, which you do with an if statement.  One point, you should uses lists because tuples are immutable and can't be changed after you create them:</p>\n\n<pre><code>data = \"\"\"group_id gene_id\n    A        a\n    A        b\n    A        c\n    A        d\n    B        a\n    B        c\n    B        e\"\"\"\n\nlines = data.splitlines()\ngroup_dict = {}\ngene_dict = {}\n\nfor line in lines[1:]:\n    group, gene = line.split()\n    if group not in group_dict.keys():\n        group_dict[group] = list()\n    group_dict[group].append(gene)\n\n    if gene not in gene_dict.keys():\n        gene_dict[gene] = list()\n    gene_dict[gene].append(group)\n\nfrom pprint import pprint\npprint(group_dict)\npprint(gene_dict)\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>{'A': ['a', 'b', 'c', 'd'], 'B': ['a', 'c', 'e']}\n{'a': ['A', 'B'], 'b': ['A'], 'c': ['A', 'B'], 'd': ['A'], 'e': ['B']}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1501100921, "last_edit_date": 1501100921, "creation_date": 1501100602, "answer_id": 45336718, "question_id": 45336450, "link": "https://stackoverflow.com/questions/45336450/create-a-python-dictionary-from-a-tab-delimited-file-that-is-not-11/45336718#45336718", "title": "Create a python dictionary from a tab delimited file that is not 1:1", "body": "<p>the <code>collections</code> module has a <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\"><code>defaultdict</code></a> method which returns a new dictionary-like object. Just append the values to each key and you are pretty much done.</p>\n\n<pre><code>from collections import defaultdict\ndict1 = defaultdict(list)\ndict2 = defaultdict(list)\n\nwith open(\"C:/path/example.txt\") as f:\n    header = f.next()\n    for line in f:\n        if line.strip():\n            a,b =  line.strip().split()\n            dict1[a].append(b)\n            dict2[b].append(a)\n</code></pre>\n\n<p><code>print dict1</code></p>\n\n<p>returns</p>\n\n<pre><code>defaultdict(&lt;type 'list'&gt;, {'A': ['a', 'b', 'c', 'd'], 'B': ['a', 'c', 'e']})\n</code></pre>\n\n<p>and <code>dict2</code></p>\n\n<pre><code>defaultdict(&lt;type 'list'&gt;, {'a': ['A', 'B'], 'c': ['A', 'B'], 'b': ['A'], 'e': ['B'], 'd': ['A']})\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8372276, "user_type": "registered", "profile_image": "https://graph.facebook.com/1357752540987458/picture?type=large", "display_name": "Ani", "link": "https://stackoverflow.com/users/8372276/ani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 45336718, "answer_count": 2, "score": 0, "last_activity_date": 1501100921, "creation_date": 1501099657, "last_edit_date": 1501100183, "question_id": 45336450, "link": "https://stackoverflow.com/questions/45336450/create-a-python-dictionary-from-a-tab-delimited-file-that-is-not-11", "title": "Create a python dictionary from a tab delimited file that is not 1:1", "body": "<p>I want to create two python3 dictionaries from a tab delimited file (no header). The file has 2 columns that I want to name group_id and gene_id. A group may have multiple genes and a gene can belong to multiple groups. I will demonstrate what I want with a simple example.</p>\n\n<pre><code>group_id gene_id\n\nA        a\nA        b\nA        c\nA        d\nB        a\nB        c\nB        e\n</code></pre>\n\n<p>I would like to have 2 dictionaries:</p>\n\n<pre><code>dict1 = {'A':(a,b,c,d),'B':(a,c,e)}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>dict2 = {'a':(A,B), 'b':(A), 'c':(A,B), 'd':(A), 'e':(B)}\n</code></pre>\n\n<p>I would like to store the values in tuples for speed because my file is 2.5 GBs and I will end up with big dictionaries that I have to work with later.</p>\n\n<p>I know there are a lot of questions like this but I can't find an answer from those as they deal with files that have key:value pairs.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas", "split-apply-combine"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1501099812, "post_id": 45336448, "comment_id": 77634994, "body": "Please post a cutout of your data frame."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 7748226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5ee950d0c11d216c44d8be10581aa6?s=128&d=identicon&r=PG&f=1", "display_name": "user7748226", "link": "https://stackoverflow.com/users/7748226/user7748226"}, "edited": false, "score": 0, "creation_date": 1501111394, "post_id": 45337017, "comment_id": 77639918, "body": "this is great, works perfectly, and very elegant. as a note to others, I needed to specify astype(str) since my labels are strings. This converted my numbers to strings, which I converted back to numeric type using df.convert_objects(convert_numeric=True)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 0, "last_activity_date": 1501102054, "last_edit_date": 1501102054, "creation_date": 1501101695, "answer_id": 45337017, "question_id": 45336448, "link": "https://stackoverflow.com/questions/45336448/replacing-dataframe-values-by-median-value-of-group/45337017#45337017", "title": "Replacing dataframe values by median value of group", "body": "<pre><code>In [158]: df.groupby('label', group_keys=False) \\\n            .apply(lambda x: x.fillna(x.median()).astype(int))\nOut[158]:\n   r1  r2  r3  label\n0  12  89  58      0\n3   7  89   2      0\n1  34  52  24      1\n2  32   4  18      1\n4  22  19  12      1\n</code></pre>\n\n<p>or using <code>transform</code>:</p>\n\n<pre><code>In [149]: df[['label']].join(df.groupby('label')\n                               .transform(lambda x: x.fillna(x.median())).astype(int))\nOut[149]:\n   label  r1  r2  r3\n0      0  12  89  58\n1      1  34  52  24\n2      1  32   4  18\n3      0   7  89   2\n4      1  22  19  12\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7748226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5ee950d0c11d216c44d8be10581aa6?s=128&d=identicon&r=PG&f=1", "display_name": "user7748226", "link": "https://stackoverflow.com/users/7748226/user7748226"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 45337017, "answer_count": 1, "score": 2, "last_activity_date": 1501102054, "creation_date": 1501099645, "last_edit_date": 1501101503, "question_id": 45336448, "link": "https://stackoverflow.com/questions/45336448/replacing-dataframe-values-by-median-value-of-group", "title": "Replacing dataframe values by median value of group", "body": "<p>Apologies if this is a repeat, I didn't find a similar answer.</p>\n\n<p>Big picture: I have a df with NaN values which I would like to replace with an imputed median value for that column. However, the built-in imputers in sklearn that I found use the median (or whatever metric) from the entire column. My data has labels and <em>I would like to replace each NaN value with the median value for that column from other samples belonging to that label only.</em></p>\n\n<p>I can do this by splitting the df into one df for each label, imputing over each of those dfs, and combining, but this logic doesn't scale well. I could have up to 20 classes, and I fundamentally don't believe this is the 'right' way to do it.</p>\n\n<p>I would like to do this without copying my df, by using a groupby object in a split-apply-combine technique (or another technique you think would work). I appreciate your help.</p>\n\n<p>Example df:</p>\n\n<pre><code>   r1  r2   r3   label\n0  12  NaN  58       0\n1  34  52   24       1\n2  32   4  NaN       1\n3   7  89    2       0\n4  22  19   12       1\n</code></pre>\n\n<p>Here, I would like the NaN value at (0, r2) to equal the median of that column for label 0, which is the value 89 (from 3, r2).</p>\n\n<p>I would like the NaN value at (2,r3) to equal the median of that column for label 1, which is median(24, 12), or 18.</p>\n\n<p>Example successful result:</p>\n\n<pre><code>   r1  r2   r3   label\n0  12   89  58       0\n1  34  52   24       1\n2  32   4   18       1\n3   7  89    2       0\n4  22  19   12       1\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8277405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b788704d8097cb1f849287434027b8?s=128&d=identicon&r=PG&f=1", "display_name": "eddy", "link": "https://stackoverflow.com/users/8277405/eddy"}, "edited": false, "score": 0, "creation_date": 1501099915, "post_id": 45336486, "comment_id": 77635050, "body": "It prints out a dataset with pictures as the columns"}, {"owner": {"reputation": 1042, "user_id": 4728007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc52f06839fc0abf6c6b812f2a1856f1?s=128&d=identicon&r=PG&f=1", "display_name": "DragonBobZ", "link": "https://stackoverflow.com/users/4728007/dragonbobz"}, "reply_to_user": {"reputation": 33, "user_id": 8277405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b788704d8097cb1f849287434027b8?s=128&d=identicon&r=PG&f=1", "display_name": "eddy", "link": "https://stackoverflow.com/users/8277405/eddy"}, "edited": false, "score": 0, "creation_date": 1501100001, "post_id": 45336486, "comment_id": 77635105, "body": "And your pictures aren&#39;t accessible from that column?"}, {"owner": {"reputation": 1042, "user_id": 4728007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc52f06839fc0abf6c6b812f2a1856f1?s=128&d=identicon&r=PG&f=1", "display_name": "DragonBobZ", "link": "https://stackoverflow.com/users/4728007/dragonbobz"}, "reply_to_user": {"reputation": 33, "user_id": 8277405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b788704d8097cb1f849287434027b8?s=128&d=identicon&r=PG&f=1", "display_name": "eddy", "link": "https://stackoverflow.com/users/8277405/eddy"}, "edited": false, "score": 0, "creation_date": 1501100098, "post_id": 45336486, "comment_id": 77635158, "body": "If that doesn&#39;t fix your problem it would be helpful to have more information. Maybe edit your post to show the traceback so we can see what exactly the error you&#39;re getting is."}], "tags": [], "owner": {"reputation": 1042, "user_id": 4728007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc52f06839fc0abf6c6b812f2a1856f1?s=128&d=identicon&r=PG&f=1", "display_name": "DragonBobZ", "link": "https://stackoverflow.com/users/4728007/dragonbobz"}, "is_accepted": false, "score": 0, "last_activity_date": 1501099793, "creation_date": 1501099793, "answer_id": 45336486, "question_id": 45336416, "link": "https://stackoverflow.com/questions/45336416/how-to-load-images-into-a-python-list-and-convert-to-a-dataframe-object/45336486#45336486", "title": "how to load images into a python list and convert to a dataframe object", "body": "<p>If I'm not mistaken, <code>DataFrame</code> objects are typically initialized from <code>dict</code> objects. What happens if you add:</p>\n\n<pre><code>dset = {'Pictures': dset}\ndset = pd.DataFrame(dset)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 8277405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b788704d8097cb1f849287434027b8?s=128&d=identicon&r=PG&f=1", "display_name": "eddy", "link": "https://stackoverflow.com/users/8277405/eddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 568, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501099793, "creation_date": 1501099510, "last_edit_date": 1501099778, "question_id": 45336416, "link": "https://stackoverflow.com/questions/45336416/how-to-load-images-into-a-python-list-and-convert-to-a-dataframe-object", "title": "how to load images into a python list and convert to a dataframe object", "body": "<p>I am trying to read a bunch of png images in a directory into a python list. After getting the images in the list I would like to resize and do some reshaping. But it always throws an error. Below is the sample of my code.\nWell it doesn't really throw an error but it always prints out an empty dataset.</p>\n\n<pre><code>import pandas as pd\nfrom sklearn.manifold import Isomap\nfrom scipy import misc\nfrom os import listdir\nimport glob\n\ndset = []\nfor image_path in glob.glob(\"/Documents/Python/DAT210x-master/Module4       /Datasets/ALOI/32/*.png\"):\n    img = misc.imread(image_path)\n    img = img[::2, ::2]\n    X = (img / 255.0).reshape(-1)\ndset.append(X)\ndset = pd.DataFrame(dset)\nprint(dset)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "reply_to_user": {"reputation": 58812, "user_id": 2137255, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zzmt4.png?s=128&g=1", "display_name": "Zero", "link": "https://stackoverflow.com/users/2137255/zero"}, "edited": false, "score": 0, "creation_date": 1501099758, "post_id": 45336415, "comment_id": 77634971, "body": "I&#39;m sorry, I&#39;m not sure what you&#39;re getting at. I want to remove <code>text3</code> because all values are the same for each id."}, {"owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "reply_to_user": {"reputation": 58812, "user_id": 2137255, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zzmt4.png?s=128&g=1", "display_name": "Zero", "link": "https://stackoverflow.com/users/2137255/zero"}, "edited": false, "score": 0, "creation_date": 1501099882, "post_id": 45336415, "comment_id": 77635035, "body": "You&#39;re right - I edited it. Thank you for pointing that out!"}], "answers": [{"comments": [{"owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "edited": false, "score": 0, "creation_date": 1501101029, "post_id": 45336646, "comment_id": 77635677, "body": "I believe this is actually dropping the <code>True</code> columns rather than the <code>False</code> columns. But it works in theory - thank you very much! Do you happen to have any idea about the &quot;bonus&quot; piece I added?"}, {"owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "edited": false, "score": 0, "creation_date": 1501102244, "post_id": 45336646, "comment_id": 77636326, "body": "Sorry, just <code>text</code>. Essentially how to identify all columns except those that have multiple unique values for each and every <code>id</code>."}, {"owner": {"reputation": 58812, "user_id": 2137255, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zzmt4.png?s=128&g=1", "display_name": "Zero", "link": "https://stackoverflow.com/users/2137255/zero"}, "reply_to_user": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "edited": false, "score": 0, "creation_date": 1501102430, "post_id": 45336646, "comment_id": 77636426, "body": "<code>(df.groupby(&#39;id&#39;).agg(&#39;nunique&#39;) &gt; 1).all()</code> would do, but your data doesn&#39;t have a single column where for each id it has multiple values."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1501102645, "post_id": 45336646, "comment_id": 77636558, "body": "I guess it should be <code>any()</code> instead of <code>all()</code>: <code>(df.groupby(&#39;id&#39;).agg(&#39;nunique&#39;) &gt; 1).any()</code> - isn&#39;t it?"}], "tags": [], "owner": {"reputation": 58812, "user_id": 2137255, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zzmt4.png?s=128&g=1", "display_name": "Zero", "link": "https://stackoverflow.com/users/2137255/zero"}, "is_accepted": true, "score": 2, "last_activity_date": 1501102042, "last_edit_date": 1501102042, "creation_date": 1501100327, "answer_id": 45336646, "question_id": 45336415, "link": "https://stackoverflow.com/questions/45336415/pandas-drop-columns-with-only-one-unique-value-for-a-group/45336646#45336646", "title": "Pandas Drop Columns with Only One Unique Value for a Group", "body": "<p>Here's one way.</p>\n\n<p>Get unique values for each column</p>\n\n<pre><code>In [1227]: u = df.nunique()\n</code></pre>\n\n<p>Get if any column has single value in each <code>id</code> group</p>\n\n<pre><code>In [1228]: gu = gu = (df.groupby('id').agg('nunique') == 1).all()\n</code></pre>\n\n<p>Get the index aka column names for satisfying conditions, </p>\n\n<p><code>u[u == 1].index.union(gu[gu].index).drop('id')</code> Then, use <code>drop</code></p>\n\n<pre><code>In [1229]: df.drop(u[u == 1].index.union(gu[gu].index).drop('id'), axis=1)\nOut[1229]:\n   id     text\n0   1    hello\n1   1    hello\n2   2    hello\n3   2  goodbye\n4   2    hello\n</code></pre>\n\n<p>Details</p>\n\n<pre><code>In [1304]: u\nOut[1304]:\nid       2\ntext     2\ntext2    1\ntext3    2\ndtype: int64\n\nIn [1305]: gu\nOut[1305]:\nid        True\ntext     False\ntext2     True\ntext3     True\ndtype: bool\n\nIn [1306]: u[u == 1].index.union(gu[gu].index).drop('id')\nOut[1306]: Index([u'text2', u'text3'], dtype='object')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5530628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e74e6f19fee9f2d76351dc60cddb09?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri", "link": "https://stackoverflow.com/users/5530628/dmitri"}, "is_accepted": false, "score": 0, "last_activity_date": 1583254155, "creation_date": 1583254155, "answer_id": 60511956, "question_id": 45336415, "link": "https://stackoverflow.com/questions/45336415/pandas-drop-columns-with-only-one-unique-value-for-a-group/60511956#60511956", "title": "Pandas Drop Columns with Only One Unique Value for a Group", "body": "<p>In most of the cases this function works for me:</p>\n\n<pre><code>def remove_single_unique_values(dataframe):\n\n\"\"\"\nDrop all the columns that only contain one unique value.\nnot optimized for categorical features yet.\n\n\"\"\"    \ncols_to_drop = dataframe.nunique()\ncols_to_drop = cols_to_drop.loc[cols_to_drop.values==1].index\ndataframe = dataframe.drop(cols_to_drop,axis=1)\nreturn dataframe\n</code></pre>\n"}], "owner": {"reputation": 1909, "user_id": 7668467, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0e880601228777466cc33bca31a7581e?s=128&d=identicon&r=PG&f=1", "display_name": "OverflowingTheGlass", "link": "https://stackoverflow.com/users/7668467/overflowingtheglass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2266, "favorite_count": 0, "accepted_answer_id": 45336646, "answer_count": 2, "score": 0, "last_activity_date": 1583254155, "creation_date": 1501099508, "last_edit_date": 1501102193, "question_id": 45336415, "link": "https://stackoverflow.com/questions/45336415/pandas-drop-columns-with-only-one-unique-value-for-a-group", "title": "Pandas Drop Columns with Only One Unique Value for a Group", "body": "<p>I have a df that consists of duplicate <code>id</code>:</p>\n\n<pre><code>id    text      text2     text3\n1     hello     hello     hello\n1     hello     hello     hello\n2     hello     hello     goodbye\n2     goodbye   hello     goodbye\n2     hello     hello     goodbye\n</code></pre>\n\n<p>I want to remove columns where all values for an <code>id</code> are the same. This could mean that all values in the column are the same (<code>text2</code>) or all the values are the same for each <code>id</code> (<code>text3</code>).</p>\n\n<p>Desired result:</p>\n\n<pre><code>id    text     \n1     hello     \n1     hello       \n2     hello        \n2     goodbye        \n2     hello\n</code></pre>\n\n<p>I used this to identify the counts of unique values in each column:</p>\n\n<pre><code>df.apply(lambda x: len(x.unique()))\n</code></pre>\n\n<p>If I drop all columns where this count is equal to 1, this would take care of the <code>text2</code> scenario. However, how should I take care of the <code>text3</code> scenario? The df has already been grouped by id to find duplicate, but do I need to use <code>groupby</code> again?</p>\n\n<p>As a \"bonus\", I wouldn't mind knowing how to identify where even one <code>id</code> has text that is all the same (i.e. <code>text</code>). I'm essentially trying to find which columns cause there to be duplicates.</p>\n\n<p>Thank you for any and all insight you all might have!</p>\n"}, {"tags": ["python", "string-formatting"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8372215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac11ff4b75ce72df84af8f2fad3522f?s=128&d=identicon&r=PG&f=1", "display_name": "rummonkey", "link": "https://stackoverflow.com/users/8372215/rummonkey"}, "edited": false, "score": 0, "creation_date": 1501105100, "post_id": 45336512, "comment_id": 77637727, "body": "I added the % and now am getting  <code>%-3s %-26s %-16s %-16s %-20s %-12s %-12s %-16s Traceback (most recent call last):   File &quot;ec2-instances.py&quot;, line 97, in &lt;module&gt;     sys.exit(main())   File &quot;ec2-instances.py&quot;, line 78, in main     hosts=list_instances(filter)   File &quot;ec2-instances.py&quot;, line 12, in list_instances     print (columns_format) % (&quot;num&quot;, &quot;Name&quot;, &quot;Public IP&quot;, &quot;Private IP&quot;, &quot;ID&quot;, &quot;Type&quot;, &quot;VPC&quot;, &quot;Status&quot;) TypeError: unsupported operand type(s) for %: &#39;NoneType&#39; and &#39;tuple&#39;</code>"}, {"owner": {"reputation": 631, "user_id": 5821074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be61ca8a9e367a4e0726ac09f8d06f07?s=128&d=identicon&r=PG", "display_name": "Madlaina Kalunder", "link": "https://stackoverflow.com/users/5821074/madlaina-kalunder"}, "reply_to_user": {"reputation": 3, "user_id": 8372215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac11ff4b75ce72df84af8f2fad3522f?s=128&d=identicon&r=PG&f=1", "display_name": "rummonkey", "link": "https://stackoverflow.com/users/8372215/rummonkey"}, "edited": false, "score": 0, "creation_date": 1501148665, "post_id": 45336512, "comment_id": 77655231, "body": "you need to wrap everything in ()   print((&#39;%s %s&#39;) % (&#39;one&#39;, &#39;two&#39;))  that will solve your problem."}, {"owner": {"reputation": 3, "user_id": 8372215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac11ff4b75ce72df84af8f2fad3522f?s=128&d=identicon&r=PG&f=1", "display_name": "rummonkey", "link": "https://stackoverflow.com/users/8372215/rummonkey"}, "edited": false, "score": 0, "creation_date": 1501160938, "post_id": 45336512, "comment_id": 77664532, "body": "Awesome! now I have nice headers with other errors. :(  Seems like it&#39;s getting closer. I appreciate the help here. Thanks again!      <code>Traceback (most recent call last):     File &quot;ec2-instances.py&quot;, line 97, in &lt;module&gt;  sys.exit(main())   File &quot;ec2-instances.py&quot;, line 78, in main hosts=list_instances(filter)   File &quot;ec2-instances.py&quot;, line 18, in list_instances name = (item for item in i.tags if item [&quot;Key&quot;] == &quot;Name&quot; ).next() AttributeError: &#39;generator&#39; object has no attribute &#39;next&#39; </code>"}, {"owner": {"reputation": 631, "user_id": 5821074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be61ca8a9e367a4e0726ac09f8d06f07?s=128&d=identicon&r=PG", "display_name": "Madlaina Kalunder", "link": "https://stackoverflow.com/users/5821074/madlaina-kalunder"}, "reply_to_user": {"reputation": 3, "user_id": 8372215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac11ff4b75ce72df84af8f2fad3522f?s=128&d=identicon&r=PG&f=1", "display_name": "rummonkey", "link": "https://stackoverflow.com/users/8372215/rummonkey"}, "edited": false, "score": 0, "creation_date": 1501161191, "post_id": 45336512, "comment_id": 77664794, "body": "you should probably create a new question for that to keep things clean on SO (usually it&#39;s one question - one answer) Isolate your question to the part of the code that does not work. Happy to helpo you out there"}], "tags": [], "owner": {"reputation": 631, "user_id": 5821074, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be61ca8a9e367a4e0726ac09f8d06f07?s=128&d=identicon&r=PG", "display_name": "Madlaina Kalunder", "link": "https://stackoverflow.com/users/5821074/madlaina-kalunder"}, "is_accepted": true, "score": 0, "last_activity_date": 1501148676, "last_edit_date": 1501148676, "creation_date": 1501099900, "answer_id": 45336512, "question_id": 45336391, "link": "https://stackoverflow.com/questions/45336391/python-print-error-with-string-formatting/45336512#45336512", "title": "Python print: error with string formatting", "body": "<p>I think your problem is just that you can't call print like this:</p>\n\n<pre><code>print (columns_format) (\"num\", \"Name\", \"Public IP\", \"Private IP\", \"ID\", \n\"Type\", \"VPC\", \"Status\")\n</code></pre>\n\n<p>because print(arguments) (arguments) tries to call a function</p>\n\n<p>try to replace it with (i guess the % just got lost)</p>\n\n<pre><code>print ((columns_format) % (\"num\", \"Name\", \"Public IP\", \"Private IP\", \"ID\", \n\"Type\", \"VPC\", \"Status\"))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8372215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac11ff4b75ce72df84af8f2fad3522f?s=128&d=identicon&r=PG&f=1", "display_name": "rummonkey", "link": "https://stackoverflow.com/users/8372215/rummonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 45336512, "answer_count": 1, "score": 0, "last_activity_date": 1501172119, "creation_date": 1501099436, "last_edit_date": 1501172119, "question_id": 45336391, "link": "https://stackoverflow.com/questions/45336391/python-print-error-with-string-formatting", "title": "Python print: error with string formatting", "body": "<p>I have been trying to incorporate boto3 into my AWS workflow after using fabric for a little while. Just started learning Python so apologies in advance for some of these questions. I searched and debugged what I could with the below script as most of the errors seemed prior seemed to be with this being written in Python2 and I am using Python3 on OSX. Sorry for the formatting issues as well tried to get the script into a code block for here.</p>\n\n<pre><code>    #!/usr/bin/env python\n    import boto3\n    import sys\n    import argparse\n    import paramiko\n\n\ndef list_instances(Filter):\n    ec2 = boto3.resource('ec2')\n    instances = ec2.instances.filter(Filters=Filter)\n    columns_format = (\"%-3s %-26s %-16s %-16s %-20s %-12s %-12s %-16s\")\n    print (columns_format) (\"num\", \"Name\", \"Public IP\", \"Private IP\", \"ID\", \n    \"Type\", \"VPC\", \"Status\")\n    num = 1\n    hosts = [] \n    name = {}  \n    for i in instances:\n        try:\n            name = (item for item in i.tags if item[\"Key\"] == \"Name\" ).next()\n        except StopIteration:\n            name['Value'] = ''\n\n        print (columns_format) % (\n                           num,\n                           name['Value'], \n                           i.public_ip_address,\n                           i.private_ip_address,\n                           i.id,\n                           i.instance_type,\n                           i.vpc_id,\n                           i.state['Name']\n                         )\n      num = num + 1\n      item={'id': i.id, 'ip': i.public_ip_address, 'hostname': \n      name['Value'], 'status': i.state['Name'],}\n      hosts.append(item)\n\n  return hosts\n\ndef execute_cmd(host,user,cmd):\n    ssh = paramiko.SSHClient()\n    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n    try:\n       ssh.connect(host, username=user)\n       stdin, stdout, stderr = ssh.exec_command(cmd)\n       stdout=stdout.read()\n       stderr=stderr.read()\n       ssh.close()\n       return stdout,stderr\n    except paramiko.AuthenticationException as exception: \n       return \"Authentication Error trying to connect into the host %s with     the user %s. Plese review your keys\" % (host, user), e \n\ndef main():\n    parser = argparse.ArgumentParser()\n    parser.add_argument('-n', '--name',\n                    help=\"Filter result by name.\")\n    parser.add_argument('-t', '--type',\n                    help=\"Filer result by type.\")\n    parser.add_argument('-s', '--status',\n                    help=\"Filter result by status.\" )\n    parser.add_argument('-e', '--execute',\n                    help=\"Execute a command on instances\")\n    parser.add_argument('-u', '--user', default=\"ubuntu\",\n                    help=\"User to run commands if -e option is used.\\\n                          Ubuntu user is used by default\")\n\n    arg = parser.parse_args()\n\n    # Default filter if no options are specified\n    filter=[]\n\n    if arg.name:\n        filter.append({'Name': 'tag-value', 'Values': [\"*\" + arg.name + \"*\"]})\n\n    if arg.type:\n        filter.append({'Name': 'instance-type', 'Values': [\"*\" + arg.type + \"*\"]})\n\n    if arg.status:\n        filter.append({'Name': 'instance-state-name', 'Values': [\"*\" + arg.status + \"*\"]})\n\n    hosts=list_instances(filter)\n    names = \"\"\n\n    if arg.execute:\n       for item in hosts:\n          names = names + \" \" + item[\"hostname\"] + \"(\" + item[\"id\"] + \")\"\n       print (\"\\nCommand to execute: %s\") % arg.execute\n       print (\"Executed by: %s\") % arg.user\n       print (\"Hosts list: %s\\n\") % names \n       for item in hosts:\n          if item[\"status\"] == 'running':\n             print (\"::: %s (%s)\") % (item[\"hostname\"], item[\"id\"])\n             stdout,stderr = execute_cmd(item[\"ip\"], arg.user, arg.execute)\n             print (stdout) \n             print (stderr)\n          else:\n             print (\"::: %s (%s) is not running (command execution skiped)\") % (item[\"hostname\"], item[\"id\"])\n\nif __name__ == '__main__':\nsys.exit(main())\n</code></pre>\n\n<p>Excuted from terminal: python ec2-instances.py</p>\n\n<p>and get the below output:</p>\n\n<pre><code>%-3s %-26s %-16s %-16s %-20s %-12s %-12s %-16s\nTraceback (most recent call last):\nFile \"ec2-instances.py\", line 97, in &lt;module&gt;\nsys.exit(main())\nFile \"ec2-instances.py\", line 78, in main\nhosts=list_instances(filter)\nFile \"ec2-instances.py\", line 12, in list_instances\nprint (columns_format) (\"num\", \"Name\", \"Public IP\", \"Private IP\", \"ID\", \n\"Type\", \"VPC\", \"Status\")\nTypeError: 'NoneType' object is not callable\n</code></pre>\n\n<p>Thanks in advance for the help! </p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1501099906, "post_id": 45336382, "comment_id": 77635046, "body": "The code looks completely fine. I do not understand the problem at all."}, {"owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1501100015, "post_id": 45336382, "comment_id": 77635118, "body": "The problem is that the data stream that is coming in , looks like what is in the output from my Jupyter notebook.  It only has my &quot;y-values&quot;.  I currently don&#39;t have any x values to be able to build my plot."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1501100982, "post_id": 45336382, "comment_id": 77635655, "body": "I think your question focusses too much on the example that you don&#39;t want to use instead of the case that you actually have. In any case you probably want to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the issue."}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1501102982, "last_edit_date": 1501102982, "creation_date": 1501101542, "answer_id": 45336977, "question_id": 45336382, "link": "https://stackoverflow.com/questions/45336382/generating-a-real-time-plot-with-matplotlib-and-an-updating-text-file/45336977#45336977", "title": "Generating a Real-Time Plot with matplotlib and an updating text file", "body": "<p>Not having a clue about the data that is read in makes it hard to understand the problem. However in general you would plot a column from a dataframe as follows</p>\n\n<pre><code>fig = plt.figure()\nax = fig.add_subplot(1,1,1)\n\ndef animate(i):\n    data = pd.read_csv(...)\n    yar = data[ \"column to plot\" ]\n    xar = range(len(data))\n    ax.clear()\n    ax.plot(xar,yar)\n\nani = animation.FuncAnimation(fig, animate, interval=10)\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 1787, "user_id": 5260732, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8e8af64633954605cb7ec80abdd68cc4?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/5260732/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1536, "favorite_count": 0, "accepted_answer_id": 45336977, "answer_count": 1, "score": 1, "last_activity_date": 1501102982, "creation_date": 1501099362, "last_edit_date": 1501101430, "question_id": 45336382, "link": "https://stackoverflow.com/questions/45336382/generating-a-real-time-plot-with-matplotlib-and-an-updating-text-file", "title": "Generating a Real-Time Plot with matplotlib and an updating text file", "body": "<p>I am trying to generate a real-time plot of data using the <code>animation</code> function from <code>matplotlib</code>.  I am referring to this tutorial from the following link for my support: <a href=\"https://pythonprogramming.net/python-matplotlib-live-updating-graphs/\" rel=\"nofollow noreferrer\">Realtime Plotting in MatPlotLib</a></p>\n\n<p>The <code>data.txt</code> file that I am reading in, is being updated every second with new data.  The data coming in looks as follows: <code>[0.0263671875, 0.03515625, 1.0087890625][0.01171875, 0.0146484375, 0.4404296875][0.01171875, 0.0146484375, 0.4404296875]</code>... and so on.</p>\n\n<p>The first three lines of the animate function are extracting the third element in each array:</p>\n\n<pre><code>data = pd.read_csv(\"C:\\\\Users\\\\Desktop\\\\data.txt\", sep=\"\\[|\\]\\[|\\]\",engine = 'python', header = None)\n    data = data.iloc[0]\n    data = data.astype(str).apply(lambda x: x.split(',')[-1]).astype(float)\n    data.pop(0)\n</code></pre>\n\n<p>I verified this code in Jupyter notebook and the output is as follows (and is what I am looking for):\n<a href=\"https://i.stack.imgur.com/xWMjx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xWMjx.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>My first challenge comes from when I am trying to generate the graph in real-time.  My data doesn't have an x-axis (for time).  So, one of my first hurdles is that to generate an artificial x-axis as the data stream updates.  The code from the above linked tutorial was used as the template.  I will point out the areas where I am struggling to modify for my specific purpose.</p>\n\n<pre><code>fig = plt.figure()\nax1 = fig.add_subplot(1,1,1)\n\ndef animate(i):\n    data = pd.read_csv(\"C:\\\\Users\\\\Desktop\\\\data.txt\", sep=\"\\[|\\]\\[|\\]\",engine = 'python', header = None)\n    data = data.iloc[0]\n    data = data.astype(str).apply(lambda x: x.split(',')[-1]).astype(float)\n    data.pop(0)\n    xar = []\n    yar = []\n    for eachLine in data:\n        if len(eachLine)&gt;1:\n            x,y = eachLine.split(',')\n            xar.append(int(x))\n            yar.append(int(y))\n    ax1.clear()\n    ax1.plot(xar,yar)\nani = animation.FuncAnimation(fig, animate, interval=1000)\nplt.show()\n</code></pre>\n\n<p>In addition to artificially creating x-axis numbers so that I can create the plot, I also need to modify the for loop:</p>\n\n<pre><code>xar = []\nyar = []\nfor eachLine in data:\n    if len(eachLine)&gt;1:\n        x,y = eachLine.split(',')\n        xar.append(int(x))\n        yar.append(int(y))\n</code></pre>\n\n<p>In the example provided in the link, their data stream has an <code>x</code> and <code>y</code> data point, separated by a column.  The data stream that I have, is just one value.  </p>\n\n<p>How would I modify my code to (1) add a proper x-axis to be able to plot and (2) properly go through the for loop in order to append the values to the <code>xar</code> and <code>yar</code> to plot the graph in real-time.</p>\n\n<p><strong>EDIT 1</strong>\nI tried the following, but it doesn't work and needs some help... but it's my first shot.  I am getting the error:</p>\n\n<pre><code>if len(eachLine)&gt;1:\n\nTypeError: object of type 'numpy.float64' has no len()\n</code></pre>\n\n<p>And my code is as follows:</p>\n\n<pre><code>def animate(i):\n    data = pd.read_csv(\"C:\\\\Users\\\\Desktop\\\\data.txt\", sep=\"\\[|\\]\\[|\\]\",engine = 'python', header = None)\n    data = data.iloc[0]\n    data = data.astype(str).apply(lambda x: x.split(',')[-1]).astype(float)\n    data.pop(0)\n    xar = []\n    yar = []\n    for j in range(len(data)):\n        xar.append(j)\n    for k in range(len(data)):\n        yar.append(data.iloc[k])\n    for eachLine in data:\n        if len(eachLine)&gt;1:\n            x,y = eachLine.split('')\n            xar.append(int(x))\n            yar.append(int(y))\n    ax1.clear()\n    ax1.plot(xar,yar)\nani = animation.FuncAnimation(fig, animate, interval=1)\nplt.show()\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 1182, "user_id": 2977601, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a11daa74a8ea45d4fbdf062d1b4e945?s=128&d=identicon&r=PG&f=1", "display_name": "shikhanshu", "link": "https://stackoverflow.com/users/2977601/shikhanshu"}, "edited": false, "score": 0, "creation_date": 1501099415, "post_id": 45336340, "comment_id": 77634784, "body": "what gets &#39;messed up&#39;? paste the output json also"}], "answers": [{"comments": [{"owner": {"reputation": 91305, "user_id": 19410, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/175f1d55c73ce5cb1d071dc4d0f1a333?s=128&d=identicon&r=PG", "display_name": "Alex Reynolds", "link": "https://stackoverflow.com/users/19410/alex-reynolds"}, "edited": false, "score": 0, "creation_date": 1501100037, "post_id": 45336507, "comment_id": 77635129, "body": "Probably safer to move or rename the file with a temporary name before blowing away the original. What if something happens during the write?"}, {"owner": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "reply_to_user": {"reputation": 91305, "user_id": 19410, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/175f1d55c73ce5cb1d071dc4d0f1a333?s=128&d=identicon&r=PG", "display_name": "Alex Reynolds", "link": "https://stackoverflow.com/users/19410/alex-reynolds"}, "edited": false, "score": 0, "creation_date": 1501100128, "post_id": 45336507, "comment_id": 77635172, "body": "You&#39;re right, I just c/p OP&#39;s code. I&#39;ve removed the call to <code>remove</code>."}, {"owner": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "edited": false, "score": 0, "creation_date": 1501164599, "post_id": 45336507, "comment_id": 77667824, "body": "Tried with orderedDict it still gives me the same result."}, {"owner": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "reply_to_user": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "edited": false, "score": 0, "creation_date": 1501170332, "post_id": 45336507, "comment_id": 77672234, "body": "@Shrikant, just to make it clear, is the order of the keys bothering you, or the formatting of braces, like <code>&quot;childColumns&quot;: [{}],</code> which is printed in 3 lines instead of one?"}, {"owner": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "edited": false, "score": 0, "creation_date": 1501267973, "post_id": 45336507, "comment_id": 77722539, "body": "@randomir, i was worried about the order of the structure but it doesn&#39;t really matter for posting the json file to API...thanks for the help."}, {"owner": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "reply_to_user": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "edited": false, "score": 0, "creation_date": 1501268231, "post_id": 45336507, "comment_id": 77722696, "body": "@Shrikant, No problem. If you found my answer helpful, please consider upvoting and accepting (see <a href=\"https://stackoverflow.com/help/someone-answers\">here</a>)."}], "tags": [], "owner": {"reputation": 15799, "user_id": 404556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f32018ce9b9c7fb9c7587eba9e4dad4?s=128&d=identicon&r=PG", "display_name": "randomir", "link": "https://stackoverflow.com/users/404556/randomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1501100658, "last_edit_date": 1501100658, "creation_date": 1501099880, "answer_id": 45336507, "question_id": 45336340, "link": "https://stackoverflow.com/questions/45336340/update-json-value-for-a-particular-key-preserving-json-structure/45336507#45336507", "title": "Update JSON value for a particular key, preserving JSON structure", "body": "<p>I'm guessing you're referring to the order of keys in you dictionary (later in serialized JSON) that gets changed. That's because by default <code>json.load()</code> uses <code>dict</code> as an underlaying mapping type.</p>\n\n<p>But you can change that to a dictionary type that preserves order, called <code>collections.OrderedDict</code>:</p>\n\n<pre><code>from collections import OrderedDict\n\nids = 10\nfilename = 'update_test.json'\n\nwith open(filename, 'r') as f:\n    data = json.load(f, object_pairs_hook=OrderedDict)\n    data['id'] = ids\n\nwith open(filename, 'w') as f:\n    json.dump(data, f, indent=4)\n</code></pre>\n\n<p>Note the use of <code>object_pairs_hook=OrderedDict</code> in <a href=\"https://docs.python.org/3/library/json.html#json.load\" rel=\"nofollow noreferrer\"><code>json.load()</code></a>. From the docs:</p>\n\n<blockquote>\n  <p><code>object_pairs_hook</code> is an optional function that will be called with the result of any object literal decoded with an ordered list of pairs. The return value of object_pairs_hook will be used instead of the <code>dict</code>. This feature can be used to implement custom decoders that rely on the order that the key and value pairs are decoded (for example, <a href=\"https://docs.python.org/3/library/collections.html#collections.OrderedDict\" rel=\"nofollow noreferrer\">collections.OrderedDict()</a> will remember the order of insertion).</p>\n</blockquote>\n"}], "owner": {"reputation": 493, "user_id": 4926217, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/b6e337c57d2691611d56793d6b66f8d5?s=128&d=identicon&r=PG&f=1", "display_name": "Shrikant", "link": "https://stackoverflow.com/users/4926217/shrikant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2287, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501100744, "creation_date": 1501099203, "last_edit_date": 1501100744, "question_id": 45336340, "link": "https://stackoverflow.com/questions/45336340/update-json-value-for-a-particular-key-preserving-json-structure", "title": "Update JSON value for a particular key, preserving JSON structure", "body": "<p>I need to update the value for key (<code>id</code>) in the JSON file. Value is stored in the variable <code>ids</code>. I am able to update the key <code>id</code> with <code>ids</code> (updated value), but the structure of the JSON file gets messed up. Can anyone suggest me a way to doing it without messing up the JSON structure?</p>\n\n<p>Code:</p>\n\n<pre><code>ids=10\nfilename='update_test.json'\nwith open(filename,'r') as f:\n    data=json.load(f)\n    data['id'] = ids\nos.remove(filename)\nwith open(filename,'w') as f:\n    json.dump(data,f,indent=4)\n</code></pre>\n\n<p>Input JSON:</p>\n\n<pre><code>{\n    \"accountableExecutiveTech\": \"string\",\n    \"api\": true,\n    \"arrivalFrequency\": \"string\",\n    \"bucketName\": \"string\",\n    \"businessDataset\": \"string\",\n    \"columns\": [{\n        \"businessColumnName\": \"string\",\n        \"childColumns\": [{}],\n        \"columnOrder\": 0,\n        \"description\": \"string\",\n        \"descriptiveName\": \"string\",\n        \"format\": \"string\",\n        \"hierarchicalName\": \"string\",\n        \"id\": 0,\n        \"isArray\": true,\n        \"length\": 0,\n        \"name\": \"string\",\n        \"parentColumnName\": \"string\",\n        \"partitionColumn\": true,\n        \"technicalDatasetId\": 0,\n        \"technicalDatasetName\": \"string\",\n        \"technicalNamespace\": \"string\",\n        \"technicalPlatformName\": \"string\",\n        \"type\": \"string\",\n        \"validValues\": {}\n    }],\n    \"controlMJobName\": \"string\",\n    \"credit\": true,\n    \"delimiter\": \"string\",\n    \"delimiterFlag\": true,\n    \"description\": \"string\",\n    \"dqPrioritized\": true,\n    \"fileFormat\": \"string\",\n    \"id\": \"\",\n    \"name\": \"string\",\n    \"namespace\": \"string\",\n    \"npi\": true,\n    \"objectKey\": \"string\",\n    \"pci\": true,\n    \"performingDataSteward\": \"string\",\n    \"platformName\": \"string\",\n    \"retentionPlan\": \"string\",\n    \"selectAdGroup\": \"string\",\n    \"sourceDatasets\": [{\n        \"id\": 4534,\n        \"name\": \"string\",\n        \"namespace\": \"string\",\n        \"platformName\": \"string\"\n    }],\n    \"tags\": [\"string\"]\n}\n</code></pre>\n\n<p>Output JSON:</p>\n\n<pre><code>{\n    \"accountableExecutiveTech\": \"string\",\n    \"delimiterFlag\": true,\n    \"performingDataSteward\": \"string\",\n    \"api\": true,\n    \"dqPrioritized\": true,\n    \"id\": 14044,\n    \"namespace\": \"string\",\n    \"fileFormat\": \"string\",\n    \"selectAdGroup\": \"string\",\n    \"pci\": true,\n    \"platformName\": \"string\",\n    \"columns\": [\n        {\n            \"isArray\": true,\n            \"partitionColumn\": true,\n            \"description\": \"string\",\n            \"technicalDatasetId\": 0,\n            \"format\": \"string\",\n            \"technicalPlatformName\": \"string\",\n            \"parentColumnName\": \"string\",\n            \"columnOrder\": 0,\n            \"length\": 0,\n            \"childColumns\": [\n                {}\n            ],\n            \"descriptiveName\": \"string\",\n            \"validValues\": {},\n            \"technicalDatasetName\": \"string\",\n            \"technicalNamespace\": \"string\",\n            \"hierarchicalName\": \"string\",\n            \"businessColumnName\": \"string\",\n            \"type\": \"string\",\n            \"id\": 0,\n            \"name\": \"string\"\n        }\n    ],\n    \"businessDataset\": \"string\",\n    \"npi\": true,\n    \"description\": \"string\",\n    \"tags\": [\n        \"string\"\n    ],\n    \"arrivalFrequency\": \"string\",\n    \"objectKey\": \"string\",\n    \"bucketName\": \"string\",\n    \"controlMJobName\": \"string\",\n    \"name\": \"string\",\n    \"retentionPlan\": \"string\",\n    \"credit\": true,\n    \"delimiter\": \"string\",\n    \"sourceDatasets\": [\n        {\n            \"platformName\": \"string\",\n            \"namespace\": \"string\",\n            \"id\": 4534,\n            \"name\": \"string\"\n        }\n    ]\n</code></pre>\n"}]